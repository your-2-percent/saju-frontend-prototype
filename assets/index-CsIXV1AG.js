function $E(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var I_={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function KG(){if(FC)return Hh;FC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Hh.Fragment=t,Hh.jsx=n,Hh.jsxs=n,Hh}var HC;function WG(){return HC||(HC=1,I_.exports=KG()),I_.exports}var g=WG();const W5="harim.theme",Ek="harim.settings.v1";function V5(){try{const e=localStorage.getItem(W5);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(Ek);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function Z5(e){try{localStorage.setItem(W5,e);const t=localStorage.getItem(Ek),n=t?JSON.parse(t):{};localStorage.setItem(Ek,JSON.stringify({...n,theme:e}))}catch{}}function X5(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=V5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");X5(e)}catch{}})();var $_={exports:{}},Gh={},B_={exports:{}},z_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function VG(){return GC||(GC=1,(function(e){function t(Y,X){var Q=Y.length;Y.push(X);e:for(;0<Q;){var ce=Q-1>>>1,ie=Y[ce];if(0<i(ie,X))Y[ce]=X,Y[Q]=ie,Q=ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var X=Y[0],Q=Y.pop();if(Q!==X){Y[0]=Q;e:for(var ce=0,ie=Y.length,z=ie>>>1;ce<z;){var V=2*(ce+1)-1,ne=Y[V],oe=V+1,de=Y[oe];if(0>i(ne,Q))oe<ie&&0>i(de,ne)?(Y[ce]=de,Y[oe]=Q,ce=oe):(Y[ce]=ne,Y[V]=Q,ce=V);else if(oe<ie&&0>i(de,Q))Y[ce]=de,Y[oe]=Q,ce=oe;else break e}}return X}function i(Y,X){var Q=Y.sortIndex-X.sortIndex;return Q!==0?Q:Y.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,y=!1,k=!1,w=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=Y)r(d),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(d)}}function D(Y){if(w=!1,C(Y),!k)if(n(u)!==null)k=!0,P||(P=!0,B());else{var X=n(d);X!==null&&Z(D,X.startTime-Y)}}var P=!1,I=-1,U=5,W=-1;function q(){return S?!0:!(e.unstable_now()-W<U)}function H(){if(S=!1,P){var Y=e.unstable_now();W=Y;var X=!0;try{e:{k=!1,w&&(w=!1,O(I),I=-1),y=!0;var Q=b;try{t:{for(C(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&q());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,b=p.priorityLevel;var ie=ce(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof ie=="function"){p.callback=ie,C(Y),X=!0;break t}p===n(u)&&r(u),C(Y)}else r(u);p=n(u)}if(p!==null)X=!0;else{var z=n(d);z!==null&&Z(D,z.startTime-Y),X=!1}}break e}finally{p=null,b=Q,y=!1}X=void 0}}finally{X?B():P=!1}}}var B;if(typeof A=="function")B=function(){A(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=H,B=function(){J.postMessage(null)}}else B=function(){j(H,0)};function Z(Y,X){I=j(function(){Y(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var Q=b;b=X;try{return Y()}finally{b=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=b;b=Y;try{return X()}finally{b=Q}},e.unstable_scheduleCallback=function(Y,X,Q){var ce=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,Y){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Q+ie,Y={id:h++,callback:X,priorityLevel:Y,startTime:Q,expirationTime:ie,sortIndex:-1},Q>ce?(Y.sortIndex=Q,t(d,Y),n(u)===null&&Y===n(d)&&(w?(O(I),I=-1):w=!0,Z(D,Q-ce))):(Y.sortIndex=ie,t(u,Y),k||y||(k=!0,P||(P=!0,B()))),Y},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(Y){var X=b;return function(){var Q=b;b=X;try{return Y.apply(this,arguments)}finally{b=Q}}}})(z_)),z_}var YC;function ZG(){return YC||(YC=1,B_.exports=VG()),B_.exports}var U_={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function XG(){if(qC)return dt;qC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function j(z,V,ne){this.props=z,this.context=V,this.refs=S,this.updater=ne||k}j.prototype.isReactComponent={},j.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=j.prototype;function A(z,V,ne){this.props=z,this.context=V,this.refs=S,this.updater=ne||k}var C=A.prototype=new O;C.constructor=A,w(C,j.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function W(z,V,ne){var oe=ne.ref;return{$$typeof:e,type:z,key:V,ref:oe!==void 0?oe:null,props:ne}}function q(z,V){return W(z.type,V,z.props)}function H(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function B(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return V[ne]})}var K=/\/+/g;function J(z,V){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):V.toString(36)}function Z(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(V){z.status==="pending"&&(z.status="fulfilled",z.value=V)},function(V){z.status==="pending"&&(z.status="rejected",z.reason=V)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,V,ne,oe,de){var me=typeof z;(me==="undefined"||me==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(me){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case e:case t:ye=!0;break;case h:return ye=z._init,Y(ye(z._payload),V,ne,oe,de)}}if(ye)return de=de(z),ye=oe===""?"."+J(z,0):oe,D(de)?(ne="",ye!=null&&(ne=ye.replace(K,"$&/")+"/"),Y(de,V,ne,"",function(Ee){return Ee})):de!=null&&(H(de)&&(de=q(de,ne+(de.key==null||z&&z.key===de.key?"":(""+de.key).replace(K,"$&/")+"/")+ye)),V.push(de)),1;ye=0;var Ne=oe===""?".":oe+":";if(D(z))for(var ae=0;ae<z.length;ae++)oe=z[ae],me=Ne+J(oe,ae),ye+=Y(oe,V,ne,me,de);else if(ae=y(z),typeof ae=="function")for(z=ae.call(z),ae=0;!(oe=z.next()).done;)oe=oe.value,me=Ne+J(oe,ae++),ye+=Y(oe,V,ne,me,de);else if(me==="object"){if(typeof z.then=="function")return Y(Z(z),V,ne,oe,de);throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(z,V,ne){if(z==null)return z;var oe=[],de=0;return Y(z,oe,"","",function(me){return V.call(ne,me,de++)}),oe}function Q(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ie={map:X,forEach:function(z,V,ne){X(z,function(){V.apply(this,arguments)},ne)},count:function(z){var V=0;return X(z,function(){V++}),V},toArray:function(z){return X(z,function(V){return V})||[]},only:function(z){if(!H(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return dt.Activity=p,dt.Children=ie,dt.Component=j,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=A,dt.StrictMode=r,dt.Suspense=u,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},dt.cache=function(z){return function(){return z.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(z,V,ne){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=w({},z.props),de=z.key;if(V!=null)for(me in V.key!==void 0&&(de=""+V.key),V)!U.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(oe[me]=V[me]);var me=arguments.length-2;if(me===1)oe.children=ne;else if(1<me){for(var ye=Array(me),Ne=0;Ne<me;Ne++)ye[Ne]=arguments[Ne+2];oe.children=ye}return W(z.type,de,oe)},dt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},dt.createElement=function(z,V,ne){var oe,de={},me=null;if(V!=null)for(oe in V.key!==void 0&&(me=""+V.key),V)U.call(V,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(de[oe]=V[oe]);var ye=arguments.length-2;if(ye===1)de.children=ne;else if(1<ye){for(var Ne=Array(ye),ae=0;ae<ye;ae++)Ne[ae]=arguments[ae+2];de.children=Ne}if(z&&z.defaultProps)for(oe in ye=z.defaultProps,ye)de[oe]===void 0&&(de[oe]=ye[oe]);return W(z,me,de)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(z){return{$$typeof:l,render:z}},dt.isValidElement=H,dt.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Q}},dt.memo=function(z,V){return{$$typeof:d,type:z,compare:V===void 0?null:V}},dt.startTransition=function(z){var V=I.T,ne={};I.T=ne;try{var oe=z(),de=I.S;de!==null&&de(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(P,ce)}catch(me){ce(me)}finally{V!==null&&ne.types!==null&&(V.types=ne.types),I.T=V}},dt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},dt.use=function(z){return I.H.use(z)},dt.useActionState=function(z,V,ne){return I.H.useActionState(z,V,ne)},dt.useCallback=function(z,V){return I.H.useCallback(z,V)},dt.useContext=function(z){return I.H.useContext(z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(z,V){return I.H.useDeferredValue(z,V)},dt.useEffect=function(z,V){return I.H.useEffect(z,V)},dt.useEffectEvent=function(z){return I.H.useEffectEvent(z)},dt.useId=function(){return I.H.useId()},dt.useImperativeHandle=function(z,V,ne){return I.H.useImperativeHandle(z,V,ne)},dt.useInsertionEffect=function(z,V){return I.H.useInsertionEffect(z,V)},dt.useLayoutEffect=function(z,V){return I.H.useLayoutEffect(z,V)},dt.useMemo=function(z,V){return I.H.useMemo(z,V)},dt.useOptimistic=function(z,V){return I.H.useOptimistic(z,V)},dt.useReducer=function(z,V,ne){return I.H.useReducer(z,V,ne)},dt.useRef=function(z){return I.H.useRef(z)},dt.useState=function(z){return I.H.useState(z)},dt.useSyncExternalStore=function(z,V,ne){return I.H.useSyncExternalStore(z,V,ne)},dt.useTransition=function(){return I.H.useTransition()},dt.version="19.2.1",dt}var KC;function gf(){return KC||(KC=1,U_.exports=XG()),U_.exports}var F_={exports:{}},$r={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function JG(){if(WC)return $r;WC=1;var e=gf();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$r.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},$r.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},$r.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},$r.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},$r.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$r.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},$r.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$r.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},$r.requestFormReset=function(u){r.d.r(u)},$r.unstable_batchedUpdates=function(u,d){return u(d)},$r.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},$r.useFormStatus=function(){return o.H.useHostTransitionStatus()},$r.version="19.2.1",$r}var VC;function J5(){if(VC)return F_.exports;VC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),F_.exports=JG(),F_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function QG(){if(ZC)return Gh;ZC=1;var e=ZG(),t=gf(),n=J5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,x=c;;){var T=m.return;if(T===null)break;var N=T.alternate;if(N===null){if(x=T.return,x!==null){m=x;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===m)return u(T),s;if(N===x)return u(T),c;N=N.sibling}throw Error(r(188))}if(m.return!==x.return)m=T,x=N;else{for(var $=!1,G=T.child;G;){if(G===m){$=!0,m=T,x=N;break}if(G===x){$=!0,x=T,m=N;break}G=G.sibling}if(!$){for(G=N.child;G;){if(G===m){$=!0,m=N,x=T;break}if(G===x){$=!0,x=N,m=T;break}G=G.sibling}if(!$)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var K=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===K?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case W:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case A:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return c=s.displayName||null,c!==null?c:J(s.type)||"Memo";case U:c=s._payload,s=s._init;try{return J(s(c))}catch{}}return null}var Z=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ce=[],ie=-1;function z(s){return{current:s}}function V(s){0>ie||(s.current=ce[ie],ce[ie]=null,ie--)}function ne(s,c){ie++,ce[ie]=s.current,s.current=c}var oe=z(null),de=z(null),me=z(null),ye=z(null);function Ne(s,c){switch(ne(me,c),ne(de,s),ne(oe,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?dC(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=dC(c),s=fC(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(oe),ne(oe,s)}function ae(){V(oe),V(de),V(me)}function Ee(s){s.memoizedState!==null&&ne(ye,s);var c=oe.current,m=fC(c,s.type);c!==m&&(ne(de,s),ne(oe,m))}function xe(s){de.current===s&&(V(oe),V(de)),ye.current===s&&(V(ye),Bh._currentValue=Q)}var se,Ue;function Ke(s){if(se===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||"",Ue=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+s+Ue}var Je=!1;function Oe(s,c){if(!s||Je)return"";Je=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ve){var be=ve}Reflect.construct(s,[],je)}else{try{je.call()}catch(ve){be=ve}s.call(je.prototype)}}else{try{throw Error()}catch(ve){be=ve}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),$=N[0],G=N[1];if($&&G){var te=$.split(`
`),pe=G.split(`
`);for(T=x=0;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;for(;T<pe.length&&!pe[T].includes("DetermineComponentFrameRoot");)T++;if(x===te.length||T===pe.length)for(x=te.length-1,T=pe.length-1;1<=x&&0<=T&&te[x]!==pe[T];)T--;for(;1<=x&&0<=T;x--,T--)if(te[x]!==pe[T]){if(x!==1||T!==1)do if(x--,T--,0>T||te[x]!==pe[T]){var ke=`
`+te[x].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=x&&0<=T);break}}}finally{Je=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ke(m):""}function $e(s,c){switch(s.tag){case 26:case 27:case 5:return Ke(s.type);case 16:return Ke("Lazy");case 13:return s.child!==c&&c!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return Ke("Activity");default:return""}}function Fe(s){try{var c="",m=null;do c+=$e(s,m),m=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Be=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,Rt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Ce=e.unstable_requestPaint,Ge=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,ze=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,gt=e.unstable_LowPriority,Kt=e.unstable_IdlePriority,Rr=e.log,ar=e.unstable_setDisableYieldValue,or=null,sn=null;function xr(s){if(typeof Rr=="function"&&ar(s),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(or,s)}catch{}}var Et=Math.clz32?Math.clz32:Me,Qi=Math.log,zf=Math.LN2;function Me(s){return s>>>=0,s===0?32:31-(Qi(s)/zf|0)|0}var it=256,Lt=262144,wr=4194304;function ri(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mu(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var T=0,N=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var G=x&134217727;return G!==0?(x=G&~N,x!==0?T=ri(x):($&=G,$!==0?T=ri($):m||(m=G&~s,m!==0&&(T=ri(m))))):(G=x&~N,G!==0?T=ri(G):$!==0?T=ri($):m||(m=x&~s,m!==0&&(T=ri(m)))),T===0?0:c!==0&&c!==T&&(c&N)===0&&(N=T&-T,m=c&-c,N>=m||N===32&&(m&4194048)!==0)?c:T}function ic(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Gx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(){var s=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),s}function Uf(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Ko(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yx(s,c,m,x,T,N){var $=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,pe=s.hiddenUpdates;for(m=$&~m;0<m;){var ke=31-Et(m),je=1<<ke;G[ke]=0,te[ke]=-1;var be=pe[ke];if(be!==null)for(pe[ke]=null,ke=0;ke<be.length;ke++){var ve=be[ke];ve!==null&&(ve.lane&=-536870913)}m&=~je}x!==0&&Jp(s,x,0),N!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=N&~($&~c))}function Jp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-Et(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&261930}function Qp(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-Et(m),T=1<<x;T&c|s[x]&c&&(s[x]|=c),m&=~T}}function e0(s,c){var m=c&-c;return m=(m&42)!==0?1:ii(m),(m&(s.suspendedLanes|c))!==0?0:m}function ii(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ve(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ff(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:RC(s.type))}function Hf(s,c){var m=X.p;try{return X.p=s,c()}finally{X.p=m}}var Ma=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ma,sr="__reactProps$"+Ma,Wo="__reactContainer$"+Ma,lo="__reactEvents$"+Ma,t0="__reactListeners$"+Ma,qx="__reactHandles$"+Ma,n0="__reactResources$"+Ma,ac="__reactMarker$"+Ma;function Gf(s){delete s[Ln],delete s[sr],delete s[lo],delete s[t0],delete s[qx]}function Vo(s){var c=s[Ln];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Wo]||m[Ln]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=vC(s);s!==null;){if(m=s[Ln])return m;s=vC(s)}return c}s=m,m=s.parentNode}return null}function Ws(s){if(s=s[Ln]||s[Wo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function co(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Vs(s){var c=s[n0];return c||(c=s[n0]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function In(s){s[ac]=!0}var r0=new Set,i0={};function Zo(s,c){uo(s,c),uo(s+"Capture",c)}function uo(s,c){for(i0[s]=c,s=0;s<c.length;s++)r0.add(c[s])}var oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},qf={};function sc(s){return Be.call(qf,s)?!0:Be.call(Yf,s)?!1:oc.test(s)?qf[s]=!0:(Yf[s]=!0,!1)}function yt(s,c,m){if(sc(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Ht(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function ai(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}function Vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Kf(s,c,m){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,N=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return T.call(this)},set:function($){m=""+$,N.call(this,$)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function($){m=""+$},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ut(s){if(!s._valueTracker){var c=Xo(s)?"checked":"value";s._valueTracker=Kf(s,c,""+s[c])}}function ln(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=Xo(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Du=/[\n"\\]/g;function tn(s){return s.replace(Du,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Wf(s,c,m,x,T,N,$,G){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),c!=null?$==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Vn(c)):s.value!==""+Vn(c)&&(s.value=""+Vn(c)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),c!=null?Da(s,$,Vn(c)):m!=null?Da(s,$,Vn(m)):x!=null&&s.removeAttribute("value"),T==null&&N!=null&&(s.defaultChecked=!!N),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Vn(G):s.removeAttribute("name")}function lc(s,c,m,x,T,N,$,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),c!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){ut(s);return}m=m!=null?""+Vn(m):"",c=c!=null?""+Vn(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=G?s.checked:!!x,s.defaultChecked=!!x,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),ut(s)}function Da(s,c,m){c==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Wt(s,c,m,x){if(s=s.options,c){c={};for(var T=0;T<m.length;T++)c["$"+m[T]]=!0;for(m=0;m<s.length;m++)T=c.hasOwnProperty("$"+s[m].value),s[m].selected!==T&&(s[m].selected=T),T&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Vn(m),c=null,T=0;T<s.length;T++){if(s[T].value===m){s[T].selected=!0,x&&(s[T].defaultSelected=!0);return}c!==null||s[T].disabled||(c=s[T])}c!==null&&(c.selected=!0)}}function fo(s,c,m){if(c!=null&&(c=""+Vn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Vn(m):""}function Xs(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(r(92));if(Z(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Vn(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x),ut(s)}function ea(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||Vf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Pu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var T in c)x=c[T],c.hasOwnProperty(T)&&m[T]!==x&&Js(s,T,x)}else for(var N in c)c.hasOwnProperty(N)&&Js(s,N,c[N])}function cc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(s){return Zf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function oi(){}var Lu=null;function uc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var el=null,st=null;function Ai(s){var c=Ws(s);if(c&&(s=c.stateNode)){var m=s[sr]||null;e:switch(s=c.stateNode,c.type){case"input":if(Wf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+tn(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var T=x[sr]||null;if(!T)throw Error(r(90));Wf(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&ln(x)}break e;case"textarea":fo(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Wt(s,!!m.multiple,c,!1)}}}var It=!1;function Xf(s,c,m){if(It)return s(c,m);It=!0;try{var x=s(c);return x}finally{if(It=!1,(el!==null||st!==null)&&(eg(),el&&(c=el,s=st,st=el=null,Ai(c),s)))for(c=0;c<s.length;c++)Ai(s[c])}}function Jo(s,c){var m=s.stateNode;if(m===null)return null;var x=m[sr]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=!1;if(ji)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){dc=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{dc=!1}var ta=null,Qo=null,Sn=null;function ho(){if(Sn)return Sn;var s,c=Qo,m=c.length,x,T="value"in ta?ta.value:ta.textContent,N=T.length;for(s=0;s<m&&c[s]===T[s];s++);var $=m-s;for(x=1;x<=$&&c[m-x]===T[N-x];x++);return Sn=T.slice(s,1<x?1-x:void 0)}function fc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function hc(){return!0}function a0(){return!1}function _r(s){function c(m,x,T,N,$){this._reactName=m,this._targetInst=T,this.type=x,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?hc:a0,this.isPropagationStopped=a0,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),c}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=_r(Pa),tl=p({},Pa,{view:0,detail:0}),_t=_r(tl),Jf,Yr,Ra,mc=p({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ra&&(Ra&&s.type==="mousemove"?(Jf=s.screenX-Ra.screenX,Yr=s.screenY-Ra.screenY):Yr=Jf=0,Ra=s),Jf)},movementY:function(s){return"movementY"in s?s.movementY:Yr}}),o0=_r(mc),Qf=p({},mc,{dataTransfer:0}),Kx=_r(Qf),s0=p({},tl,{relatedTarget:0}),eh=_r(s0),Wx=p({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),th=_r(Wx),Vx=p({},Pa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),na=_r(Vx),Zx=p({},Pa,{data:0}),nh=_r(Zx),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=c0[s])?!!c[s]:!1}function ih(){return rh}var u0=p({},tl,{key:function(s){if(s.key){var c=mo[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=fc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?l0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(s){return s.type==="keypress"?fc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),d0=_r(u0),Xx=p({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=_r(Xx),ah=p({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),Jx=_r(ah),h0=p({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=_r(h0),$u=p({},mc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),es=_r($u),Qx=p({},Pa,{newState:0,oldState:0}),pc=_r(Qx),si=[9,13,27,32],Bu=ji&&"CompositionEvent"in window,nl=null;ji&&"documentMode"in document&&(nl=document.documentMode);var ew=ji&&"TextEvent"in window&&!nl,zu=ji&&(!Bu||nl&&8<nl&&11>=nl),Uu=" ",p0=!1;function g0(s,c){switch(s){case"keyup":return si.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rl=!1;function Oi(s,c){switch(s){case"compositionend":return oh(c);case"keypress":return c.which!==32?null:(p0=!0,Uu);case"textInput":return s=c.data,s===Uu&&p0?null:s;default:return null}}function il(s,c){if(rl)return s==="compositionend"||!Bu&&g0(s,c)?(s=ho(),Sn=Qo=ta=null,rl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return zu&&c.locale!=="ko"?null:c.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!tw[s.type]:c==="textarea"}function b0(s,c,m,x){el?st?st.push(x):st=[x]:el=x,c=sg(c,"onChange"),0<c.length&&(m=new Iu("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var ia=null,gc=null;function bc(s){aC(s,0)}function yc(s){var c=co(s);if(ln(c))return s}function vc(s,c){if(s==="change")return c}var y0=!1;if(ji){var aa;if(ji){var al="oninput"in document;if(!al){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),al=typeof v0.oninput=="function"}aa=al}else aa=!1;y0=aa&&(!document.documentMode||9<document.documentMode)}function Fu(){ia&&(ia.detachEvent("onpropertychange",x0),gc=ia=null)}function x0(s){if(s.propertyName==="value"&&yc(gc)){var c=[];b0(c,gc,s,uc(s)),Xf(bc,c)}}function La(s,c,m){s==="focusin"?(Fu(),ia=c,gc=m,ia.attachEvent("onpropertychange",x0)):s==="focusout"&&Fu()}function nw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yc(gc)}function ol(s,c){if(s==="click")return yc(c)}function rw(s,c){if(s==="input"||s==="change")return yc(c)}function Ia(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var lr=typeof Object.is=="function"?Object.is:Ia;function sl(s,c){if(lr(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var T=m[x];if(!Be.call(c,T)||!lr(s[T],c[T]))return!1}return!0}function Hu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xc(s,c){var m=Hu(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Hu(m)}}function Gu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Gu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function wc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Zs(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Zs(s.document)}return c}function po(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Yu=ji&&"documentMode"in document&&11>=document.documentMode,go=null,qu=null,_c=null,ll=!1;function w0(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ll||go==null||go!==Zs(x)||(x=go,"selectionStart"in x&&po(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),_c&&sl(_c,x)||(_c=x,x=sg(qu,"onSelect"),0<x.length&&(c=new Iu("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=go)))}function bo(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var cl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},Ku={},_0={};ji&&(_0=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function cr(s){if(Ku[s])return Ku[s];if(!cl[s])return s;var c=cl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in _0)return Ku[s]=c[m];return s}var Sc=cr("animationend"),S0=cr("animationiteration"),kc=cr("animationstart"),iw=cr("transitionrun"),k0=cr("transitionstart"),aw=cr("transitioncancel"),ul=cr("transitionend"),E0=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function li(s,c){E0.set(s,c),Zo(c,[s])}var Ec=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ci=[],Lr=0,Wu=0;function Tc(){for(var s=Lr,c=Wu=Lr=0;c<s;){var m=ci[c];ci[c++]=null;var x=ci[c];ci[c++]=null;var T=ci[c];ci[c++]=null;var N=ci[c];if(ci[c++]=null,x!==null&&T!==null){var $=x.pending;$===null?T.next=T:(T.next=$.next,$.next=T),x.pending=T}N!==0&&dl(m,T,N)}}function vo(s,c,m,x){ci[Lr++]=s,ci[Lr++]=c,ci[Lr++]=m,ci[Lr++]=x,Wu|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function sh(s,c,m,x){return vo(s,c,m,x),Ac(s)}function oa(s,c){return vo(s,null,null,c),Ac(s)}function dl(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var T=!1,N=s.return;N!==null;)N.childLanes|=m,x=N.alternate,x!==null&&(x.childLanes|=m),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(T=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,T&&c!==null&&(T=31-Et(m),s=N.hiddenUpdates,x=s[T],x===null?s[T]=[c]:x.push(c),c.lane=m|536870912),N):null}function Ac(s){if(50<Mh)throw Mh=0,s_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var ts={};function ow(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(s,c,m,x){return new ow(s,c,m,x)}function Vu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function sa(s,c){var m=s.alternate;return m===null?(m=Ir(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function lh(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function jc(s,c,m,x,T,N){var $=0;if(x=s,typeof s=="function")Vu(s)&&($=1);else if(typeof s=="string")$=RG(s,m,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case W:return s=Ir(31,m,c,T),s.elementType=W,s.lanes=N,s;case w:return ns(m.children,T,N,c);case S:$=8,T|=24;break;case j:return s=Ir(12,m,c,T|2),s.elementType=j,s.lanes=N,s;case D:return s=Ir(13,m,c,T),s.elementType=D,s.lanes=N,s;case P:return s=Ir(19,m,c,T),s.elementType=P,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:$=10;break e;case O:$=9;break e;case C:$=11;break e;case I:$=14;break e;case U:$=16,x=null;break e}$=29,m=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Ir($,m,c,T),c.elementType=s,c.type=x,c.lanes=N,c}function ns(s,c,m,x){return s=Ir(7,s,x,c),s.lanes=m,s}function Zu(s,c,m){return s=Ir(6,s,null,c),s.lanes=m,s}function ch(s){var c=Ir(18,null,null,0);return c.stateNode=s,c}function uh(s,c,m){return c=Ir(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function v(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Fe(c)},f.set(s,c),c)}return{value:s,source:c,stack:Fe(c)}}var E=[],M=0,R=null,F=0,ee=[],ue=0,ge=null,Ae=1,Ie="";function Xe(s,c){E[M++]=F,E[M++]=R,R=s,F=c}function mt(s,c,m){ee[ue++]=Ae,ee[ue++]=Ie,ee[ue++]=ge,ge=s;var x=Ae;s=Ie;var T=32-Et(x)-1;x&=~(1<<T),m+=1;var N=32-Et(c)+T;if(30<N){var $=T-T%5;N=(x&(1<<$)-1).toString(32),x>>=$,T-=$,Ae=1<<32-Et(c)+T|m<<T|x,Ie=N+s}else Ae=1<<N|m<<T|x,Ie=s}function Zn(s){s.return!==null&&(Xe(s,1),mt(s,1,0))}function kn(s){for(;s===R;)R=E[--M],E[M]=null,F=E[--M],E[M]=null;for(;s===ge;)ge=ee[--ue],ee[ue]=null,Ie=ee[--ue],ee[ue]=null,Ae=ee[--ue],ee[ue]=null}function qr(s,c){ee[ue++]=Ae,ee[ue++]=Ie,ee[ue++]=ge,Ae=c.id,Ie=c.overflow,ge=s}var jt=null,Nt=null,vt=!1,xo=null,ui=!1,Xu=Error(r(519));function wo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nc(v(c,s)),Xu}function dh(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[Ln]=s,c[sr]=x,m){case"dialog":wt("cancel",c),wt("close",c);break;case"iframe":case"object":case"embed":wt("load",c);break;case"video":case"audio":for(m=0;m<Ph.length;m++)wt(Ph[m],c);break;case"source":wt("error",c);break;case"img":case"image":case"link":wt("error",c),wt("load",c);break;case"details":wt("toggle",c);break;case"input":wt("invalid",c),lc(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":wt("invalid",c);break;case"textarea":wt("invalid",c),Xs(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||cC(c.textContent,m)?(x.popover!=null&&(wt("beforetoggle",c),wt("toggle",c)),x.onScroll!=null&&wt("scroll",c),x.onScrollEnd!=null&&wt("scrollend",c),x.onClick!=null&&(c.onclick=oi),c=!0):c=!1,c||wo(s,!0)}function bn(s){for(jt=s.return;jt;)switch(jt.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:jt=jt.return}}function $a(s){if(s!==jt)return!1;if(!vt)return bn(s),vt=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||__(s.type,s.memoizedProps)),m=!m),m&&Nt&&wo(s),bn(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Nt=yC(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Nt=yC(s)}else c===27?(c=Nt,El(s.type)?(s=A_,A_=null,Nt=s):Nt=c):Nt=jt?ca(s.stateNode.nextSibling):null;return!0}function rs(){Nt=jt=null,vt=!1}function fh(){var s=xo;return s!==null&&(mi===null?mi=s:mi.push.apply(mi,s),xo=null),s}function Nc(s){xo===null?xo=[s]:xo.push(s)}var Oc=z(null),_o=null,Ba=null;function fl(s,c,m){ne(Oc,c._currentValue),c._currentValue=m}function is(s){s._currentValue=Oc.current,V(Oc)}function sw(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function lw(s,c,m,x){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var N=T.dependencies;if(N!==null){var $=T.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=T;for(var te=0;te<c.length;te++)if(G.context===c[te]){N.lanes|=m,G=N.alternate,G!==null&&(G.lanes|=m),sw(N.return,m,s),x||($=null);break e}N=G.next}}else if(T.tag===18){if($=T.return,$===null)throw Error(r(341));$.lanes|=m,N=$.alternate,N!==null&&(N.lanes|=m),sw($,m,s),$=null}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===s){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}}function Ju(s,c,m,x){s=null;for(var T=c,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var $=T.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var G=T.type;lr(T.pendingProps.value,$.value)||(s!==null?s.push(G):s=[G])}}else if(T===ye.current){if($=T.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Bh):s=[Bh])}T=T.return}s!==null&&lw(c,s,m,x),c.flags|=262144}function T0(s){for(s=s.firstContext;s!==null;){if(!lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Cc(s){_o=s,Ba=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Sr(s){return Wj(_o,s)}function A0(s,c){return _o===null&&Cc(s),Wj(s,c)}function Wj(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ba===null){if(s===null)throw Error(r(308));Ba=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Ba=Ba.next=c;return m}var CH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},MH=e.unstable_scheduleCallback,DH=e.unstable_NormalPriority,$n={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cw(){return{controller:new CH,data:new Map,refCount:0}}function hh(s){s.refCount--,s.refCount===0&&MH(DH,function(){s.controller.abort()})}var mh=null,uw=0,Qu=0,ed=null;function PH(s,c){if(mh===null){var m=mh=[];uw=0,Qu=h_(),ed={status:"pending",value:void 0,then:function(x){m.push(x)}}}return uw++,c.then(Vj,Vj),c}function Vj(){if(--uw===0&&mh!==null){ed!==null&&(ed.status="fulfilled");var s=mh;mh=null,Qu=0,ed=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function RH(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var T=0;T<m.length;T++)(0,m[T])(c)},function(T){for(x.status="rejected",x.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),x}var Zj=Y.S;Y.S=function(s,c){DO=Ge(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&PH(s,c),Zj!==null&&Zj(s,c)};var Mc=z(null);function dw(){var s=Mc.current;return s!==null?s:Vt.pooledCache}function j0(s,c){c===null?ne(Mc,Mc.current):ne(Mc,c.pool)}function Xj(){var s=dw();return s===null?null:{parent:$n._currentValue,pool:s}}var td=Error(r(460)),fw=Error(r(474)),N0=Error(r(542)),O0={then:function(){}};function Jj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Qj(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(oi,oi),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,tN(s),s;default:if(typeof c.status=="string")c.then(oi,oi);else{if(s=Vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=x}},function(x){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,tN(s),s}throw Pc=c,td}}function Dc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Pc=m,td):m}}var Pc=null;function eN(){if(Pc===null)throw Error(r(459));var s=Pc;return Pc=null,s}function tN(s){if(s===td||s===N0)throw Error(r(483))}var nd=null,ph=0;function C0(s){var c=ph;return ph+=1,nd===null&&(nd=[]),Qj(nd,s,c)}function gh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function M0(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function nN(s){function c(le,re){if(s){var he=le.deletions;he===null?(le.deletions=[re],le.flags|=16):he.push(re)}}function m(le,re){if(!s)return null;for(;re!==null;)c(le,re),re=re.sibling;return null}function x(le){for(var re=new Map;le!==null;)le.key!==null?re.set(le.key,le):re.set(le.index,le),le=le.sibling;return re}function T(le,re){return le=sa(le,re),le.index=0,le.sibling=null,le}function N(le,re,he){return le.index=he,s?(he=le.alternate,he!==null?(he=he.index,he<re?(le.flags|=67108866,re):he):(le.flags|=67108866,re)):(le.flags|=1048576,re)}function $(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,re,he,Te){return re===null||re.tag!==6?(re=Zu(he,le.mode,Te),re.return=le,re):(re=T(re,he),re.return=le,re)}function te(le,re,he,Te){var nt=he.type;return nt===w?ke(le,re,he.props.children,Te,he.key):re!==null&&(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&Dc(nt)===re.type)?(re=T(re,he.props),gh(re,he),re.return=le,re):(re=jc(he.type,he.key,he.props,null,le.mode,Te),gh(re,he),re.return=le,re)}function pe(le,re,he,Te){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=uh(he,le.mode,Te),re.return=le,re):(re=T(re,he.children||[]),re.return=le,re)}function ke(le,re,he,Te,nt){return re===null||re.tag!==7?(re=ns(he,le.mode,Te,nt),re.return=le,re):(re=T(re,he),re.return=le,re)}function je(le,re,he){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Zu(""+re,le.mode,he),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return he=jc(re.type,re.key,re.props,null,le.mode,he),gh(he,re),he.return=le,he;case k:return re=uh(re,le.mode,he),re.return=le,re;case U:return re=Dc(re),je(le,re,he)}if(Z(re)||B(re))return re=ns(re,le.mode,he,null),re.return=le,re;if(typeof re.then=="function")return je(le,C0(re),he);if(re.$$typeof===A)return je(le,A0(le,re),he);M0(le,re)}return null}function be(le,re,he,Te){var nt=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return nt!==null?null:G(le,re,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return he.key===nt?te(le,re,he,Te):null;case k:return he.key===nt?pe(le,re,he,Te):null;case U:return he=Dc(he),be(le,re,he,Te)}if(Z(he)||B(he))return nt!==null?null:ke(le,re,he,Te,null);if(typeof he.then=="function")return be(le,re,C0(he),Te);if(he.$$typeof===A)return be(le,re,A0(le,he),Te);M0(le,he)}return null}function ve(le,re,he,Te,nt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return le=le.get(he)||null,G(re,le,""+Te,nt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return le=le.get(Te.key===null?he:Te.key)||null,te(re,le,Te,nt);case k:return le=le.get(Te.key===null?he:Te.key)||null,pe(re,le,Te,nt);case U:return Te=Dc(Te),ve(le,re,he,Te,nt)}if(Z(Te)||B(Te))return le=le.get(he)||null,ke(re,le,Te,nt,null);if(typeof Te.then=="function")return ve(le,re,he,C0(Te),nt);if(Te.$$typeof===A)return ve(le,re,he,A0(re,Te),nt);M0(re,Te)}return null}function Ye(le,re,he,Te){for(var nt=null,Ot=null,We=re,pt=re=0,kt=null;We!==null&&pt<he.length;pt++){We.index>pt?(kt=We,We=null):kt=We.sibling;var Ct=be(le,We,he[pt],Te);if(Ct===null){We===null&&(We=kt);break}s&&We&&Ct.alternate===null&&c(le,We),re=N(Ct,re,pt),Ot===null?nt=Ct:Ot.sibling=Ct,Ot=Ct,We=kt}if(pt===he.length)return m(le,We),vt&&Xe(le,pt),nt;if(We===null){for(;pt<he.length;pt++)We=je(le,he[pt],Te),We!==null&&(re=N(We,re,pt),Ot===null?nt=We:Ot.sibling=We,Ot=We);return vt&&Xe(le,pt),nt}for(We=x(We);pt<he.length;pt++)kt=ve(We,le,pt,he[pt],Te),kt!==null&&(s&&kt.alternate!==null&&We.delete(kt.key===null?pt:kt.key),re=N(kt,re,pt),Ot===null?nt=kt:Ot.sibling=kt,Ot=kt);return s&&We.forEach(function(Ol){return c(le,Ol)}),vt&&Xe(le,pt),nt}function at(le,re,he,Te){if(he==null)throw Error(r(151));for(var nt=null,Ot=null,We=re,pt=re=0,kt=null,Ct=he.next();We!==null&&!Ct.done;pt++,Ct=he.next()){We.index>pt?(kt=We,We=null):kt=We.sibling;var Ol=be(le,We,Ct.value,Te);if(Ol===null){We===null&&(We=kt);break}s&&We&&Ol.alternate===null&&c(le,We),re=N(Ol,re,pt),Ot===null?nt=Ol:Ot.sibling=Ol,Ot=Ol,We=kt}if(Ct.done)return m(le,We),vt&&Xe(le,pt),nt;if(We===null){for(;!Ct.done;pt++,Ct=he.next())Ct=je(le,Ct.value,Te),Ct!==null&&(re=N(Ct,re,pt),Ot===null?nt=Ct:Ot.sibling=Ct,Ot=Ct);return vt&&Xe(le,pt),nt}for(We=x(We);!Ct.done;pt++,Ct=he.next())Ct=ve(We,le,pt,Ct.value,Te),Ct!==null&&(s&&Ct.alternate!==null&&We.delete(Ct.key===null?pt:Ct.key),re=N(Ct,re,pt),Ot===null?nt=Ct:Ot.sibling=Ct,Ot=Ct);return s&&We.forEach(function(qG){return c(le,qG)}),vt&&Xe(le,pt),nt}function qt(le,re,he,Te){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case y:e:{for(var nt=he.key;re!==null;){if(re.key===nt){if(nt=he.type,nt===w){if(re.tag===7){m(le,re.sibling),Te=T(re,he.props.children),Te.return=le,le=Te;break e}}else if(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===U&&Dc(nt)===re.type){m(le,re.sibling),Te=T(re,he.props),gh(Te,he),Te.return=le,le=Te;break e}m(le,re);break}else c(le,re);re=re.sibling}he.type===w?(Te=ns(he.props.children,le.mode,Te,he.key),Te.return=le,le=Te):(Te=jc(he.type,he.key,he.props,null,le.mode,Te),gh(Te,he),Te.return=le,le=Te)}return $(le);case k:e:{for(nt=he.key;re!==null;){if(re.key===nt)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){m(le,re.sibling),Te=T(re,he.children||[]),Te.return=le,le=Te;break e}else{m(le,re);break}else c(le,re);re=re.sibling}Te=uh(he,le.mode,Te),Te.return=le,le=Te}return $(le);case U:return he=Dc(he),qt(le,re,he,Te)}if(Z(he))return Ye(le,re,he,Te);if(B(he)){if(nt=B(he),typeof nt!="function")throw Error(r(150));return he=nt.call(he),at(le,re,he,Te)}if(typeof he.then=="function")return qt(le,re,C0(he),Te);if(he.$$typeof===A)return qt(le,re,A0(le,he),Te);M0(le,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,re!==null&&re.tag===6?(m(le,re.sibling),Te=T(re,he),Te.return=le,le=Te):(m(le,re),Te=Zu(he,le.mode,Te),Te.return=le,le=Te),$(le)):m(le,re)}return function(le,re,he,Te){try{ph=0;var nt=qt(le,re,he,Te);return nd=null,nt}catch(We){if(We===td||We===N0)throw We;var Ot=Ir(29,We,null,le.mode);return Ot.lanes=Te,Ot.return=le,Ot}finally{}}}var Rc=nN(!0),rN=nN(!1),hl=!1;function hw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ml(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function pl(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Dt&2)!==0){var T=x.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),x.pending=c,c=Ac(s),dl(s,null,m),c}return vo(s,x,c,m),Ac(s)}function bh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Qp(s,m)}}function pw(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var T=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var $={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?T=N=$:N=N.next=$,m=m.next}while(m!==null);N===null?T=N=c:N=N.next=c}else T=N=c;m={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var gw=!1;function yh(){if(gw){var s=ed;if(s!==null)throw s}}function vh(s,c,m,x){gw=!1;var T=s.updateQueue;hl=!1;var N=T.firstBaseUpdate,$=T.lastBaseUpdate,G=T.shared.pending;if(G!==null){T.shared.pending=null;var te=G,pe=te.next;te.next=null,$===null?N=pe:$.next=pe,$=te;var ke=s.alternate;ke!==null&&(ke=ke.updateQueue,G=ke.lastBaseUpdate,G!==$&&(G===null?ke.firstBaseUpdate=pe:G.next=pe,ke.lastBaseUpdate=te))}if(N!==null){var je=T.baseState;$=0,ke=pe=te=null,G=N;do{var be=G.lane&-536870913,ve=be!==G.lane;if(ve?(St&be)===be:(x&be)===be){be!==0&&be===Qu&&(gw=!0),ke!==null&&(ke=ke.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Ye=s,at=G;be=c;var qt=m;switch(at.tag){case 1:if(Ye=at.payload,typeof Ye=="function"){je=Ye.call(qt,je,be);break e}je=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=at.payload,be=typeof Ye=="function"?Ye.call(qt,je,be):Ye,be==null)break e;je=p({},je,be);break e;case 2:hl=!0}}be=G.callback,be!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=T.callbacks,ve===null?T.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ke===null?(pe=ke=ve,te=je):ke=ke.next=ve,$|=be;if(G=G.next,G===null){if(G=T.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,T.lastBaseUpdate=ve,T.shared.pending=null}}while(!0);ke===null&&(te=je),T.baseState=te,T.firstBaseUpdate=pe,T.lastBaseUpdate=ke,N===null&&(T.shared.lanes=0),xl|=$,s.lanes=$,s.memoizedState=je}}function iN(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function aN(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)iN(m[s],c)}var rd=z(null),D0=z(0);function oN(s,c){s=hs,ne(D0,s),ne(rd,c),hs=s|c.baseLanes}function bw(){ne(D0,hs),ne(rd,rd.current)}function yw(){hs=D0.current,V(rd),V(D0)}var Ci=z(null),la=null;function gl(s){var c=s.alternate;ne(Cn,Cn.current&1),ne(Ci,s),la===null&&(c===null||rd.current!==null||c.memoizedState!==null)&&(la=s)}function vw(s){ne(Cn,Cn.current),ne(Ci,s),la===null&&(la=s)}function sN(s){s.tag===22?(ne(Cn,Cn.current),ne(Ci,s),la===null&&(la=s)):bl()}function bl(){ne(Cn,Cn.current),ne(Ci,Ci.current)}function Mi(s){V(Ci),la===s&&(la=null),V(Cn)}var Cn=z(0);function P0(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||E_(m)||T_(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var as=0,ft=null,Gt=null,Bn=null,R0=!1,id=!1,Lc=!1,L0=0,xh=0,ad=null,LH=0;function En(){throw Error(r(321))}function xw(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!lr(s[m],c[m]))return!1;return!0}function ww(s,c,m,x,T,N){return as=N,ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=s===null||s.memoizedState===null?GN:Lw,Lc=!1,N=m(x,T),Lc=!1,id&&(N=cN(c,m,x,T)),lN(s),N}function lN(s){Y.H=Sh;var c=Gt!==null&&Gt.next!==null;if(as=0,Bn=Gt=ft=null,R0=!1,xh=0,ad=null,c)throw Error(r(300));s===null||zn||(s=s.dependencies,s!==null&&T0(s)&&(zn=!0))}function cN(s,c,m,x){ft=s;var T=0;do{if(id&&(ad=null),xh=0,id=!1,25<=T)throw Error(r(301));if(T+=1,Bn=Gt=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Y.H=YN,N=c(m,x)}while(id);return N}function IH(){var s=Y.H,c=s.useState()[0];return c=typeof c.then=="function"?wh(c):c,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(ft.flags|=1024),c}function _w(){var s=L0!==0;return L0=0,s}function Sw(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function kw(s){if(R0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}R0=!1}as=0,Bn=Gt=ft=null,id=!1,xh=L0=0,ad=null}function Kr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?ft.memoizedState=Bn=s:Bn=Bn.next=s,Bn}function Mn(){if(Gt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var c=Bn===null?ft.memoizedState:Bn.next;if(c!==null)Bn=c,Gt=s;else{if(s===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Bn===null?ft.memoizedState=Bn=s:Bn=Bn.next=s}return Bn}function I0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wh(s){var c=xh;return xh+=1,ad===null&&(ad=[]),s=Qj(ad,s,c),c=ft,(Bn===null?c.memoizedState:Bn.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?GN:Lw),s}function $0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wh(s);if(s.$$typeof===A)return Sr(s)}throw Error(r(438,String(s)))}function Ew(s){var c=null,m=ft.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=ft.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=I0(),ft.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=q;return c.index++,m}function os(s,c){return typeof c=="function"?c(s):c}function B0(s){var c=Mn();return Tw(c,Gt,s)}function Tw(s,c,m){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var T=s.baseQueue,N=x.pending;if(N!==null){if(T!==null){var $=T.next;T.next=N.next,N.next=$}c.baseQueue=T=N,x.pending=null}if(N=s.baseState,T===null)s.memoizedState=N;else{c=T.next;var G=$=null,te=null,pe=c,ke=!1;do{var je=pe.lane&-536870913;if(je!==pe.lane?(St&je)===je:(as&je)===je){var be=pe.revertLane;if(be===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),je===Qu&&(ke=!0);else if((as&be)===be){pe=pe.next,be===Qu&&(ke=!0);continue}else je={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=je,$=N):te=te.next=je,ft.lanes|=be,xl|=be;je=pe.action,Lc&&m(N,je),N=pe.hasEagerState?pe.eagerState:m(N,je)}else be={lane:je,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},te===null?(G=te=be,$=N):te=te.next=be,ft.lanes|=je,xl|=je;pe=pe.next}while(pe!==null&&pe!==c);if(te===null?$=N:te.next=G,!lr(N,s.memoizedState)&&(zn=!0,ke&&(m=ed,m!==null)))throw m;s.memoizedState=N,s.baseState=$,s.baseQueue=te,x.lastRenderedState=N}return T===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Aw(s){var c=Mn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var x=m.dispatch,T=m.pending,N=c.memoizedState;if(T!==null){m.pending=null;var $=T=T.next;do N=s(N,$.action),$=$.next;while($!==T);lr(N,c.memoizedState)||(zn=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),m.lastRenderedState=N}return[N,x]}function uN(s,c,m){var x=ft,T=Mn(),N=vt;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=c();var $=!lr((Gt||T).memoizedState,m);if($&&(T.memoizedState=m,zn=!0),T=T.queue,Ow(hN.bind(null,x,T,s),[s]),T.getSnapshot!==c||$||Bn!==null&&Bn.memoizedState.tag&1){if(x.flags|=2048,od(9,{destroy:void 0},fN.bind(null,x,T,m,c),null),Vt===null)throw Error(r(349));N||(as&127)!==0||dN(x,c,m)}return m}function dN(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=ft.updateQueue,c===null?(c=I0(),ft.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function fN(s,c,m,x){c.value=m,c.getSnapshot=x,mN(c)&&pN(s)}function hN(s,c,m){return m(function(){mN(c)&&pN(s)})}function mN(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!lr(s,m)}catch{return!0}}function pN(s){var c=oa(s,2);c!==null&&pi(c,s,2)}function jw(s){var c=Kr();if(typeof s=="function"){var m=s;if(s=m(),Lc){xr(!0);try{m()}finally{xr(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},c}function gN(s,c,m,x){return s.baseState=m,Tw(s,Gt,typeof x=="function"?x:os)}function $H(s,c,m,x,T){if(F0(s))throw Error(r(485));if(s=c.action,s!==null){var N={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};Y.T!==null?m(!0):N.isTransition=!1,x(N),m=c.pending,m===null?(N.next=c.pending=N,bN(c,N)):(N.next=m.next,c.pending=m.next=N)}}function bN(s,c){var m=c.action,x=c.payload,T=s.state;if(c.isTransition){var N=Y.T,$={};Y.T=$;try{var G=m(T,x),te=Y.S;te!==null&&te($,G),yN(s,c,G)}catch(pe){Nw(s,c,pe)}finally{N!==null&&$.types!==null&&(N.types=$.types),Y.T=N}}else try{N=m(T,x),yN(s,c,N)}catch(pe){Nw(s,c,pe)}}function yN(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){vN(s,c,x)},function(x){return Nw(s,c,x)}):vN(s,c,m)}function vN(s,c,m){c.status="fulfilled",c.value=m,xN(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,bN(s,m)))}function Nw(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,xN(c),c=c.next;while(c!==x)}s.action=null}function xN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function wN(s,c){return c}function _N(s,c){if(vt){var m=Vt.formState;if(m!==null){e:{var x=ft;if(vt){if(Nt){t:{for(var T=Nt,N=ui;T.nodeType!==8;){if(!N){T=null;break t}if(T=ca(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Nt=ca(T.nextSibling),x=T.data==="F!";break e}}wo(x)}x=!1}x&&(c=m[0])}}return m=Kr(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wN,lastRenderedState:c},m.queue=x,m=UN.bind(null,ft,x),x.dispatch=m,x=jw(!1),N=Rw.bind(null,ft,!1,x.queue),x=Kr(),T={state:c,dispatch:null,action:s,pending:null},x.queue=T,m=$H.bind(null,ft,T,N,m),T.dispatch=m,x.memoizedState=s,[c,m,!1]}function SN(s){var c=Mn();return kN(c,Gt,s)}function kN(s,c,m){if(c=Tw(s,c,wN)[0],s=B0(os)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=wh(c)}catch($){throw $===td?N0:$}else x=c;c=Mn();var T=c.queue,N=T.dispatch;return m!==c.memoizedState&&(ft.flags|=2048,od(9,{destroy:void 0},BH.bind(null,T,m),null)),[x,N,s]}function BH(s,c){s.action=c}function EN(s){var c=Mn(),m=Gt;if(m!==null)return kN(c,m,s);Mn(),c=c.memoizedState,m=Mn();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function od(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=ft.updateQueue,c===null&&(c=I0(),ft.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function TN(){return Mn().memoizedState}function z0(s,c,m,x){var T=Kr();ft.flags|=s,T.memoizedState=od(1|c,{destroy:void 0},m,x===void 0?null:x)}function U0(s,c,m,x){var T=Mn();x=x===void 0?null:x;var N=T.memoizedState.inst;Gt!==null&&x!==null&&xw(x,Gt.memoizedState.deps)?T.memoizedState=od(c,N,m,x):(ft.flags|=s,T.memoizedState=od(1|c,N,m,x))}function AN(s,c){z0(8390656,8,s,c)}function Ow(s,c){U0(2048,8,s,c)}function zH(s){ft.flags|=4;var c=ft.updateQueue;if(c===null)c=I0(),ft.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function jN(s){var c=Mn().memoizedState;return zH({ref:c,nextImpl:s}),function(){if((Dt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function NN(s,c){return U0(4,2,s,c)}function ON(s,c){return U0(4,4,s,c)}function CN(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function MN(s,c,m){m=m!=null?m.concat([s]):null,U0(4,4,CN.bind(null,c,s),m)}function Cw(){}function DN(s,c){var m=Mn();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&xw(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function PN(s,c){var m=Mn();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&xw(c,x[1]))return x[0];if(x=s(),Lc){xr(!0);try{s()}finally{xr(!1)}}return m.memoizedState=[x,c],x}function Mw(s,c,m){return m===void 0||(as&1073741824)!==0&&(St&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=RO(),ft.lanes|=s,xl|=s,m)}function RN(s,c,m,x){return lr(m,c)?m:rd.current!==null?(s=Mw(s,m,x),lr(s,c)||(zn=!0),s):(as&42)===0||(as&1073741824)!==0&&(St&261930)===0?(zn=!0,s.memoizedState=m):(s=RO(),ft.lanes|=s,xl|=s,c)}function LN(s,c,m,x,T){var N=X.p;X.p=N!==0&&8>N?N:8;var $=Y.T,G={};Y.T=G,Rw(s,!1,c,m);try{var te=T(),pe=Y.S;if(pe!==null&&pe(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var ke=RH(te,x);_h(s,c,ke,Ri(s))}else _h(s,c,x,Ri(s))}catch(je){_h(s,c,{then:function(){},status:"rejected",reason:je},Ri())}finally{X.p=N,$!==null&&G.types!==null&&($.types=G.types),Y.T=$}}function UH(){}function Dw(s,c,m,x){if(s.tag!==5)throw Error(r(476));var T=IN(s).queue;LN(s,T,c,Q,m===null?UH:function(){return $N(s),m(x)})}function IN(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:Q},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function $N(s){var c=IN(s);c.next===null&&(c=s.alternate.memoizedState),_h(s,c.next.queue,{},Ri())}function Pw(){return Sr(Bh)}function BN(){return Mn().memoizedState}function zN(){return Mn().memoizedState}function FH(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ri();s=ml(m);var x=pl(c,s,m);x!==null&&(pi(x,c,m),bh(x,c,m)),c={cache:cw()},s.payload=c;return}c=c.return}}function HH(s,c,m){var x=Ri();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},F0(s)?FN(c,m):(m=sh(s,c,m,x),m!==null&&(pi(m,s,x),HN(m,c,x)))}function UN(s,c,m){var x=Ri();_h(s,c,m,x)}function _h(s,c,m,x){var T={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(F0(s))FN(c,T);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var $=c.lastRenderedState,G=N($,m);if(T.hasEagerState=!0,T.eagerState=G,lr(G,$))return vo(s,c,T,0),Vt===null&&Tc(),!1}catch{}finally{}if(m=sh(s,c,T,x),m!==null)return pi(m,s,x),HN(m,c,x),!0}return!1}function Rw(s,c,m,x){if(x={lane:2,revertLane:h_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},F0(s)){if(c)throw Error(r(479))}else c=sh(s,m,x,2),c!==null&&pi(c,s,2)}function F0(s){var c=s.alternate;return s===ft||c!==null&&c===ft}function FN(s,c){id=R0=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function HN(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Qp(s,m)}}var Sh={readContext:Sr,use:$0,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En};Sh.useEffectEvent=En;var GN={readContext:Sr,use:$0,useCallback:function(s,c){return Kr().memoizedState=[s,c===void 0?null:c],s},useContext:Sr,useEffect:AN,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,z0(4194308,4,CN.bind(null,c,s),m)},useLayoutEffect:function(s,c){return z0(4194308,4,s,c)},useInsertionEffect:function(s,c){z0(4,2,s,c)},useMemo:function(s,c){var m=Kr();c=c===void 0?null:c;var x=s();if(Lc){xr(!0);try{s()}finally{xr(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=Kr();if(m!==void 0){var T=m(c);if(Lc){xr(!0);try{m(c)}finally{xr(!1)}}}else T=c;return x.memoizedState=x.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},x.queue=s,s=s.dispatch=HH.bind(null,ft,s),[x.memoizedState,s]},useRef:function(s){var c=Kr();return s={current:s},c.memoizedState=s},useState:function(s){s=jw(s);var c=s.queue,m=UN.bind(null,ft,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:Cw,useDeferredValue:function(s,c){var m=Kr();return Mw(m,s,c)},useTransition:function(){var s=jw(!1);return s=LN.bind(null,ft,s.queue,!0,!1),Kr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=ft,T=Kr();if(vt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Vt===null)throw Error(r(349));(St&127)!==0||dN(x,c,m)}T.memoizedState=m;var N={value:m,getSnapshot:c};return T.queue=N,AN(hN.bind(null,x,N,s),[s]),x.flags|=2048,od(9,{destroy:void 0},fN.bind(null,x,N,m,c),null),m},useId:function(){var s=Kr(),c=Vt.identifierPrefix;if(vt){var m=Ie,x=Ae;m=(x&~(1<<32-Et(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=L0++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=LH++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Pw,useFormState:_N,useActionState:_N,useOptimistic:function(s){var c=Kr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Rw.bind(null,ft,!0,m),m.dispatch=c,[s,c]},useMemoCache:Ew,useCacheRefresh:function(){return Kr().memoizedState=FH.bind(null,ft)},useEffectEvent:function(s){var c=Kr(),m={impl:s};return c.memoizedState=m,function(){if((Dt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Lw={readContext:Sr,use:$0,useCallback:DN,useContext:Sr,useEffect:Ow,useImperativeHandle:MN,useInsertionEffect:NN,useLayoutEffect:ON,useMemo:PN,useReducer:B0,useRef:TN,useState:function(){return B0(os)},useDebugValue:Cw,useDeferredValue:function(s,c){var m=Mn();return RN(m,Gt.memoizedState,s,c)},useTransition:function(){var s=B0(os)[0],c=Mn().memoizedState;return[typeof s=="boolean"?s:wh(s),c]},useSyncExternalStore:uN,useId:BN,useHostTransitionStatus:Pw,useFormState:SN,useActionState:SN,useOptimistic:function(s,c){var m=Mn();return gN(m,Gt,s,c)},useMemoCache:Ew,useCacheRefresh:zN};Lw.useEffectEvent=jN;var YN={readContext:Sr,use:$0,useCallback:DN,useContext:Sr,useEffect:Ow,useImperativeHandle:MN,useInsertionEffect:NN,useLayoutEffect:ON,useMemo:PN,useReducer:Aw,useRef:TN,useState:function(){return Aw(os)},useDebugValue:Cw,useDeferredValue:function(s,c){var m=Mn();return Gt===null?Mw(m,s,c):RN(m,Gt.memoizedState,s,c)},useTransition:function(){var s=Aw(os)[0],c=Mn().memoizedState;return[typeof s=="boolean"?s:wh(s),c]},useSyncExternalStore:uN,useId:BN,useHostTransitionStatus:Pw,useFormState:EN,useActionState:EN,useOptimistic:function(s,c){var m=Mn();return Gt!==null?gN(m,Gt,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Ew,useCacheRefresh:zN};YN.useEffectEvent=jN;function Iw(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var $w={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Ri(),T=ml(x);T.payload=c,m!=null&&(T.callback=m),c=pl(s,T,x),c!==null&&(pi(c,s,x),bh(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Ri(),T=ml(x);T.tag=1,T.payload=c,m!=null&&(T.callback=m),c=pl(s,T,x),c!==null&&(pi(c,s,x),bh(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ri(),x=ml(m);x.tag=2,c!=null&&(x.callback=c),c=pl(s,x,m),c!==null&&(pi(c,s,m),bh(c,s,m))}};function qN(s,c,m,x,T,N,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,$):c.prototype&&c.prototype.isPureReactComponent?!sl(m,x)||!sl(T,N):!0}function KN(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&$w.enqueueReplaceState(c,c.state,null)}function Ic(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var T in s)m[T]===void 0&&(m[T]=s[T])}return m}function WN(s){Ec(s)}function VN(s){console.error(s)}function ZN(s){Ec(s)}function H0(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function XN(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Bw(s,c,m){return m=ml(m),m.tag=3,m.payload={element:null},m.callback=function(){H0(s,c)},m}function JN(s){return s=ml(s),s.tag=3,s}function QN(s,c,m,x){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var N=x.value;s.payload=function(){return T(N)},s.callback=function(){XN(c,m,x)}}var $=m.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){XN(c,m,x),typeof T!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function GH(s,c,m,x,T){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Ju(c,m,T,!0),m=Ci.current,m!==null){switch(m.tag){case 31:case 13:return la===null?tg():m.alternate===null&&Tn===0&&(Tn=3),m.flags&=-257,m.flags|=65536,m.lanes=T,x===O0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),u_(s,x,T)),!1;case 22:return m.flags|=65536,x===O0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),u_(s,x,T)),!1}throw Error(r(435,m.tag))}return u_(s,x,T),tg(),!1}if(vt)return c=Ci.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,x!==Xu&&(s=Error(r(422),{cause:x}),Nc(v(s,m)))):(x!==Xu&&(c=Error(r(423),{cause:x}),Nc(v(c,m))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,x=v(x,m),T=Bw(s.stateNode,x,T),pw(s,T),Tn!==4&&(Tn=2)),!1;var N=Error(r(520),{cause:x});if(N=v(N,m),Ch===null?Ch=[N]:Ch.push(N),Tn!==4&&(Tn=2),c===null)return!0;x=v(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=T&-T,m.lanes|=s,s=Bw(m.stateNode,x,s),pw(m,s),!1;case 1:if(c=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wl===null||!wl.has(N))))return m.flags|=65536,T&=-T,m.lanes|=T,T=JN(T),QN(T,s,m,x),pw(m,T),!1}m=m.return}while(m!==null);return!1}var zw=Error(r(461)),zn=!1;function kr(s,c,m,x){c.child=s===null?rN(c,null,m,x):Rc(c,s.child,m,x)}function eO(s,c,m,x,T){m=m.render;var N=c.ref;if("ref"in x){var $={};for(var G in x)G!=="ref"&&($[G]=x[G])}else $=x;return Cc(c),x=ww(s,c,m,$,N,T),G=_w(),s!==null&&!zn?(Sw(s,c,T),ss(s,c,T)):(vt&&G&&Zn(c),c.flags|=1,kr(s,c,x,T),c.child)}function tO(s,c,m,x,T){if(s===null){var N=m.type;return typeof N=="function"&&!Vu(N)&&N.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=N,nO(s,c,N,x,T)):(s=jc(m.type,null,x,c,c.mode,T),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,!Ww(s,T)){var $=N.memoizedProps;if(m=m.compare,m=m!==null?m:sl,m($,x)&&s.ref===c.ref)return ss(s,c,T)}return c.flags|=1,s=sa(N,x),s.ref=c.ref,s.return=c,c.child=s}function nO(s,c,m,x,T){if(s!==null){var N=s.memoizedProps;if(sl(N,x)&&s.ref===c.ref)if(zn=!1,c.pendingProps=x=N,Ww(s,T))(s.flags&131072)!==0&&(zn=!0);else return c.lanes=s.lanes,ss(s,c,T)}return Uw(s,c,m,x,T)}function rO(s,c,m,x){var T=x.children,N=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|m:m,s!==null){for(x=c.child=s.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;x=T&~N}else x=0,c.child=null;return iO(s,c,N,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&j0(c,N!==null?N.cachePool:null),N!==null?oN(c,N):bw(),sN(c);else return x=c.lanes=536870912,iO(s,c,N!==null?N.baseLanes|m:m,m,x)}else N!==null?(j0(c,N.cachePool),oN(c,N),bl(),c.memoizedState=null):(s!==null&&j0(c,null),bw(),bl());return kr(s,c,T,m),c.child}function kh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function iO(s,c,m,x,T){var N=dw();return N=N===null?null:{parent:$n._currentValue,pool:N},c.memoizedState={baseLanes:m,cachePool:N},s!==null&&j0(c,null),bw(),sN(c),s!==null&&Ju(s,c,x,!0),c.childLanes=T,null}function G0(s,c){return c=q0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function aO(s,c,m){return Rc(c,s.child,null,m),s=G0(c,c.pendingProps),s.flags|=2,Mi(c),c.memoizedState=null,s}function YH(s,c,m){var x=c.pendingProps,T=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(vt){if(x.mode==="hidden")return s=G0(c,x),c.lanes=536870912,kh(null,s);if(vw(c),(s=Nt)?(s=bC(s,ui),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},m=ch(s),m.return=c,c.child=m,jt=c,Nt=null)):s=null,s===null)throw wo(c);return c.lanes=536870912,null}return G0(c,x)}var N=s.memoizedState;if(N!==null){var $=N.dehydrated;if(vw(c),T)if(c.flags&256)c.flags&=-257,c=aO(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(zn||Ju(s,c,m,!1),T=(m&s.childLanes)!==0,zn||T){if(x=Vt,x!==null&&($=e0(x,m),$!==0&&$!==N.retryLane))throw N.retryLane=$,oa(s,$),pi(x,s,$),zw;tg(),c=aO(s,c,m)}else s=N.treeContext,Nt=ca($.nextSibling),jt=c,vt=!0,xo=null,ui=!1,s!==null&&qr(c,s),c=G0(c,x),c.flags|=4096;return c}return s=sa(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function Y0(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function Uw(s,c,m,x,T){return Cc(c),m=ww(s,c,m,x,void 0,T),x=_w(),s!==null&&!zn?(Sw(s,c,T),ss(s,c,T)):(vt&&x&&Zn(c),c.flags|=1,kr(s,c,m,T),c.child)}function oO(s,c,m,x,T,N){return Cc(c),c.updateQueue=null,m=cN(c,x,m,T),lN(s),x=_w(),s!==null&&!zn?(Sw(s,c,N),ss(s,c,N)):(vt&&x&&Zn(c),c.flags|=1,kr(s,c,m,N),c.child)}function sO(s,c,m,x,T){if(Cc(c),c.stateNode===null){var N=ts,$=m.contextType;typeof $=="object"&&$!==null&&(N=Sr($)),N=new m(x,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=$w,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=x,N.state=c.memoizedState,N.refs={},hw(c),$=m.contextType,N.context=typeof $=="object"&&$!==null?Sr($):ts,N.state=c.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Iw(c,m,$,x),N.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&$w.enqueueReplaceState(N,N.state,null),vh(c,x,N,T),yh(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){N=c.stateNode;var G=c.memoizedProps,te=Ic(m,G);N.props=te;var pe=N.context,ke=m.contextType;$=ts,typeof ke=="object"&&ke!==null&&($=Sr(ke));var je=m.getDerivedStateFromProps;ke=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,ke||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||pe!==$)&&KN(c,N,x,$),hl=!1;var be=c.memoizedState;N.state=be,vh(c,x,N,T),yh(),pe=c.memoizedState,G||be!==pe||hl?(typeof je=="function"&&(Iw(c,m,je,x),pe=c.memoizedState),(te=hl||qN(c,m,te,x,be,pe,$))?(ke||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=pe),N.props=x,N.state=pe,N.context=$,x=te):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{N=c.stateNode,mw(s,c),$=c.memoizedProps,ke=Ic(m,$),N.props=ke,je=c.pendingProps,be=N.context,pe=m.contextType,te=ts,typeof pe=="object"&&pe!==null&&(te=Sr(pe)),G=m.getDerivedStateFromProps,(pe=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==je||be!==te)&&KN(c,N,x,te),hl=!1,be=c.memoizedState,N.state=be,vh(c,x,N,T),yh();var ve=c.memoizedState;$!==je||be!==ve||hl||s!==null&&s.dependencies!==null&&T0(s.dependencies)?(typeof G=="function"&&(Iw(c,m,G,x),ve=c.memoizedState),(ke=hl||qN(c,m,ke,x,be,ve,te)||s!==null&&s.dependencies!==null&&T0(s.dependencies))?(pe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,ve,te),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,ve,te)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ve),N.props=x,N.state=ve,N.context=te,x=ke):(typeof N.componentDidUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),x=!1)}return N=x,Y0(s,c),x=(c.flags&128)!==0,N||x?(N=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,s!==null&&x?(c.child=Rc(c,s.child,null,T),c.child=Rc(c,null,m,T)):kr(s,c,m,T),c.memoizedState=N.state,s=c.child):s=ss(s,c,T),s}function lO(s,c,m,x){return rs(),c.flags|=256,kr(s,c,m,x),c.child}var Fw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hw(s){return{baseLanes:s,cachePool:Xj()}}function Gw(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Pi),s}function cO(s,c,m){var x=c.pendingProps,T=!1,N=(c.flags&128)!==0,$;if(($=N)||($=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),$&&(T=!0,c.flags&=-129),$=(c.flags&32)!==0,c.flags&=-33,s===null){if(vt){if(T?gl(c):bl(),(s=Nt)?(s=bC(s,ui),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},m=ch(s),m.return=c,c.child=m,jt=c,Nt=null)):s=null,s===null)throw wo(c);return T_(s)?c.lanes=32:c.lanes=536870912,null}var G=x.children;return x=x.fallback,T?(bl(),T=c.mode,G=q0({mode:"hidden",children:G},T),x=ns(x,T,m,null),G.return=c,x.return=c,G.sibling=x,c.child=G,x=c.child,x.memoizedState=Hw(m),x.childLanes=Gw(s,$,m),c.memoizedState=Fw,kh(null,x)):(gl(c),Yw(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(N)c.flags&256?(gl(c),c.flags&=-257,c=qw(s,c,m)):c.memoizedState!==null?(bl(),c.child=s.child,c.flags|=128,c=null):(bl(),G=x.fallback,T=c.mode,x=q0({mode:"visible",children:x.children},T),G=ns(G,T,m,null),G.flags|=2,x.return=c,G.return=c,x.sibling=G,c.child=x,Rc(c,s.child,null,m),x=c.child,x.memoizedState=Hw(m),x.childLanes=Gw(s,$,m),c.memoizedState=Fw,c=kh(null,x));else if(gl(c),T_(G)){if($=G.nextSibling&&G.nextSibling.dataset,$)var pe=$.dgst;$=pe,x=Error(r(419)),x.stack="",x.digest=$,Nc({value:x,source:null,stack:null}),c=qw(s,c,m)}else if(zn||Ju(s,c,m,!1),$=(m&s.childLanes)!==0,zn||$){if($=Vt,$!==null&&(x=e0($,m),x!==0&&x!==te.retryLane))throw te.retryLane=x,oa(s,x),pi($,s,x),zw;E_(G)||tg(),c=qw(s,c,m)}else E_(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,Nt=ca(G.nextSibling),jt=c,vt=!0,xo=null,ui=!1,s!==null&&qr(c,s),c=Yw(c,x.children),c.flags|=4096);return c}return T?(bl(),G=x.fallback,T=c.mode,te=s.child,pe=te.sibling,x=sa(te,{mode:"hidden",children:x.children}),x.subtreeFlags=te.subtreeFlags&65011712,pe!==null?G=sa(pe,G):(G=ns(G,T,m,null),G.flags|=2),G.return=c,x.return=c,x.sibling=G,c.child=x,kh(null,x),x=c.child,G=s.child.memoizedState,G===null?G=Hw(m):(T=G.cachePool,T!==null?(te=$n._currentValue,T=T.parent!==te?{parent:te,pool:te}:T):T=Xj(),G={baseLanes:G.baseLanes|m,cachePool:T}),x.memoizedState=G,x.childLanes=Gw(s,$,m),c.memoizedState=Fw,kh(s.child,x)):(gl(c),m=s.child,s=m.sibling,m=sa(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&($=c.deletions,$===null?(c.deletions=[s],c.flags|=16):$.push(s)),c.child=m,c.memoizedState=null,m)}function Yw(s,c){return c=q0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function q0(s,c){return s=Ir(22,s,null,c),s.lanes=0,s}function qw(s,c,m){return Rc(c,s.child,null,m),s=Yw(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function uO(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),sw(s.return,c,m)}function Kw(s,c,m,x,T,N){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:T,treeForkCount:N}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=x,$.tail=m,$.tailMode=T,$.treeForkCount=N)}function dO(s,c,m){var x=c.pendingProps,T=x.revealOrder,N=x.tail;x=x.children;var $=Cn.current,G=($&2)!==0;if(G?($=$&1|2,c.flags|=128):$&=1,ne(Cn,$),kr(s,c,x,m),x=vt?F:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uO(s,m,c);else if(s.tag===19)uO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(m=c.child,T=null;m!==null;)s=m.alternate,s!==null&&P0(s)===null&&(T=m),m=m.sibling;m=T,m===null?(T=c.child,c.child=null):(T=m.sibling,m.sibling=null),Kw(c,!1,T,m,N,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,T=c.child,c.child=null;T!==null;){if(s=T.alternate,s!==null&&P0(s)===null){c.child=T;break}s=T.sibling,T.sibling=m,m=T,T=s}Kw(c,!0,m,null,N,x);break;case"together":Kw(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ss(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),xl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Ju(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=sa(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=sa(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function Ww(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&T0(s)))}function qH(s,c,m){switch(c.tag){case 3:Ne(c,c.stateNode.containerInfo),fl(c,$n,s.memoizedState.cache),rs();break;case 27:case 5:Ee(c);break;case 4:Ne(c,c.stateNode.containerInfo);break;case 10:fl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,vw(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(gl(c),c.flags|=128,null):(m&c.child.childLanes)!==0?cO(s,c,m):(gl(c),s=ss(s,c,m),s!==null?s.sibling:null);gl(c);break;case 19:var T=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Ju(s,c,m,!1),x=(m&c.childLanes)!==0),T){if(x)return dO(s,c,m);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ne(Cn,Cn.current),x)break;return null;case 22:return c.lanes=0,rO(s,c,m,c.pendingProps);case 24:fl(c,$n,s.memoizedState.cache)}return ss(s,c,m)}function fO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)zn=!0;else{if(!Ww(s,m)&&(c.flags&128)===0)return zn=!1,qH(s,c,m);zn=(s.flags&131072)!==0}else zn=!1,vt&&(c.flags&1048576)!==0&&mt(c,F,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Dc(c.elementType),c.type=s,typeof s=="function")Vu(s)?(x=Ic(s,x),c.tag=1,c=sO(null,c,s,x,m)):(c.tag=0,c=Uw(null,c,s,x,m));else{if(s!=null){var T=s.$$typeof;if(T===C){c.tag=11,c=eO(null,c,s,x,m);break e}else if(T===I){c.tag=14,c=tO(null,c,s,x,m);break e}}throw c=J(s)||s,Error(r(306,c,""))}}return c;case 0:return Uw(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,T=Ic(x,c.pendingProps),sO(s,c,x,T,m);case 3:e:{if(Ne(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var N=c.memoizedState;T=N.element,mw(s,c),vh(c,x,null,m);var $=c.memoizedState;if(x=$.cache,fl(c,$n,x),x!==N.cache&&lw(c,[$n],m,!0),yh(),x=$.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:$.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=lO(s,c,x,m);break e}else if(x!==T){T=v(Error(r(424)),c),Nc(T),c=lO(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Nt=ca(s.firstChild),jt=c,vt=!0,xo=null,ui=!0,m=rN(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(rs(),x===T){c=ss(s,c,m);break e}kr(s,c,x,m)}c=c.child}return c;case 26:return Y0(s,c),s===null?(m=SC(c.type,null,c.pendingProps,null))?c.memoizedState=m:vt||(m=c.type,s=c.pendingProps,x=lg(me.current).createElement(m),x[Ln]=c,x[sr]=s,Er(x,m,s),In(x),c.stateNode=x):c.memoizedState=SC(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ee(c),s===null&&vt&&(x=c.stateNode=xC(c.type,c.pendingProps,me.current),jt=c,ui=!0,T=Nt,El(c.type)?(A_=T,Nt=ca(x.firstChild)):Nt=T),kr(s,c,c.pendingProps.children,m),Y0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&vt&&((T=x=Nt)&&(x=_G(x,c.type,c.pendingProps,ui),x!==null?(c.stateNode=x,jt=c,Nt=ca(x.firstChild),ui=!1,T=!0):T=!1),T||wo(c)),Ee(c),T=c.type,N=c.pendingProps,$=s!==null?s.memoizedProps:null,x=N.children,__(T,N)?x=null:$!==null&&__(T,$)&&(c.flags|=32),c.memoizedState!==null&&(T=ww(s,c,IH,null,null,m),Bh._currentValue=T),Y0(s,c),kr(s,c,x,m),c.child;case 6:return s===null&&vt&&((s=m=Nt)&&(m=SG(m,c.pendingProps,ui),m!==null?(c.stateNode=m,jt=c,Nt=null,s=!0):s=!1),s||wo(c)),null;case 13:return cO(s,c,m);case 4:return Ne(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Rc(c,null,x,m):kr(s,c,x,m),c.child;case 11:return eO(s,c,c.type,c.pendingProps,m);case 7:return kr(s,c,c.pendingProps,m),c.child;case 8:return kr(s,c,c.pendingProps.children,m),c.child;case 12:return kr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,fl(c,c.type,x.value),kr(s,c,x.children,m),c.child;case 9:return T=c.type._context,x=c.pendingProps.children,Cc(c),T=Sr(T),x=x(T),c.flags|=1,kr(s,c,x,m),c.child;case 14:return tO(s,c,c.type,c.pendingProps,m);case 15:return nO(s,c,c.type,c.pendingProps,m);case 19:return dO(s,c,m);case 31:return YH(s,c,m);case 22:return rO(s,c,m,c.pendingProps);case 24:return Cc(c),x=Sr($n),s===null?(T=dw(),T===null&&(T=Vt,N=cw(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=m),T=N),c.memoizedState={parent:x,cache:T},hw(c),fl(c,$n,T)):((s.lanes&m)!==0&&(mw(s,c),vh(c,null,null,m),yh()),T=s.memoizedState,N=c.memoizedState,T.parent!==x?(T={parent:x,cache:x},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),fl(c,$n,x)):(x=N.cache,fl(c,$n,x),x!==T.cache&&lw(c,[$n],m,!0))),kr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ls(s){s.flags|=4}function Vw(s,c,m,x,T){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(BO())s.flags|=8192;else throw Pc=O0,fw}else s.flags&=-16777217}function hO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jC(c))if(BO())s.flags|=8192;else throw Pc=O0,fw}function K0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Xp():536870912,s.lanes|=c,ud|=c)}function Eh(s,c){if(!vt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function nn(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function KH(s,c,m){var x=c.pendingProps;switch(kn(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(c),null;case 1:return nn(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),is($n),ae(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&($a(c)?ls(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,fh())),nn(c),null;case 26:var T=c.type,N=c.memoizedState;return s===null?(ls(c),N!==null?(nn(c),hO(c,N)):(nn(c),Vw(c,T,null,x,m))):N?N!==s.memoizedState?(ls(c),nn(c),hO(c,N)):(nn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&ls(c),nn(c),Vw(c,T,s,x,m)),null;case 27:if(xe(c),m=me.current,T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return nn(c),null}s=oe.current,$a(c)?dh(c):(s=xC(T,x,m),c.stateNode=s,ls(c))}return nn(c),null;case 5:if(xe(c),T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return nn(c),null}if(N=oe.current,$a(c))dh(c);else{var $=lg(me.current);switch(N){case 1:N=$.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=$.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=$.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=$.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?$.createElement("select",{is:x.is}):$.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?$.createElement(T,{is:x.is}):$.createElement(T)}}N[Ln]=c,N[sr]=x;e:for($=c.child;$!==null;){if($.tag===5||$.tag===6)N.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===c)break e;for(;$.sibling===null;){if($.return===null||$.return===c)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}c.stateNode=N;e:switch(Er(N,T,x),T){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ls(c)}}return nn(c),Vw(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&ls(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=me.current,$a(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,T=jt,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}s[Ln]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||cC(s.nodeValue,m)),s||wo(c,!0)}else s=lg(s).createTextNode(x),s[Ln]=c,c.stateNode=s}return nn(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(x=$a(c),m!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ln]=c}else rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),s=!1}else m=fh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Mi(c),c):(Mi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return nn(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=$a(c),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ln]=c}else rs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;nn(c),T=!1}else T=fh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(Mi(c),c):(Mi(c),null)}return Mi(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,s=s!==null&&s.memoizedState!==null,m&&(x=c.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==T&&(x.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),K0(c,c.updateQueue),nn(c),null);case 4:return ae(),s===null&&b_(c.stateNode.containerInfo),nn(c),null;case 10:return is(c.type),nn(c),null;case 19:if(V(Cn),x=c.memoizedState,x===null)return nn(c),null;if(T=(c.flags&128)!==0,N=x.rendering,N===null)if(T)Eh(x,!1);else{if(Tn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(N=P0(s),N!==null){for(c.flags|=128,Eh(x,!1),s=N.updateQueue,c.updateQueue=s,K0(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)lh(m,s),m=m.sibling;return ne(Cn,Cn.current&1|2),vt&&Xe(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&Ge()>J0&&(c.flags|=128,T=!0,Eh(x,!1),c.lanes=4194304)}else{if(!T)if(s=P0(N),s!==null){if(c.flags|=128,T=!0,s=s.updateQueue,c.updateQueue=s,K0(c,s),Eh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!vt)return nn(c),null}else 2*Ge()-x.renderingStartTime>J0&&m!==536870912&&(c.flags|=128,T=!0,Eh(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(s=x.last,s!==null?s.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Ge(),s.sibling=null,m=Cn.current,ne(Cn,T?m&1|2:m&1),vt&&Xe(c,x.treeForkCount),s):(nn(c),null);case 22:case 23:return Mi(c),yw(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(nn(c),c.subtreeFlags&6&&(c.flags|=8192)):nn(c),m=c.updateQueue,m!==null&&K0(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&V(Mc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),is($n),nn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function WH(s,c){switch(kn(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return is($n),ae(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 31:if(c.memoizedState!==null){if(Mi(c),c.alternate===null)throw Error(r(340));rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Mi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));rs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(Cn),null;case 4:return ae(),null;case 10:return is(c.type),null;case 22:case 23:return Mi(c),yw(),s!==null&&V(Mc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return is($n),null;case 25:return null;default:return null}}function mO(s,c){switch(kn(c),c.tag){case 3:is($n),ae();break;case 26:case 27:case 5:xe(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&Mi(c);break;case 13:Mi(c);break;case 19:V(Cn);break;case 10:is(c.type);break;case 22:case 23:Mi(c),yw(),s!==null&&V(Mc);break;case 24:is($n)}}function Th(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var T=x.next;m=T;do{if((m.tag&s)===s){x=void 0;var N=m.create,$=m.inst;x=N(),$.destroy=x}m=m.next}while(m!==T)}}catch(G){Ut(c,c.return,G)}}function yl(s,c,m){try{var x=c.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var N=T.next;x=N;do{if((x.tag&s)===s){var $=x.inst,G=$.destroy;if(G!==void 0){$.destroy=void 0,T=c;var te=m,pe=G;try{pe()}catch(ke){Ut(T,te,ke)}}}x=x.next}while(x!==N)}}catch(ke){Ut(c,c.return,ke)}}function pO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{aN(c,m)}catch(x){Ut(s,s.return,x)}}}function gO(s,c,m){m.props=Ic(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Ut(s,c,x)}}function Ah(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(T){Ut(s,c,T)}}function So(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(T){Ut(s,c,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){Ut(s,c,T)}else m.current=null}function bO(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(T){Ut(s,s.return,T)}}function Zw(s,c,m){try{var x=s.stateNode;gG(x,s.type,m,c),x[sr]=c}catch(T){Ut(s,s.return,T)}}function yO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&El(s.type)||s.tag===4}function Xw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&El(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jw(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=oi));else if(x!==4&&(x===27&&El(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(Jw(s,c,m),s=s.sibling;s!==null;)Jw(s,c,m),s=s.sibling}function W0(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&El(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(W0(s,c,m),s=s.sibling;s!==null;)W0(s,c,m),s=s.sibling}function vO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);Er(c,x,m),c[Ln]=s,c[sr]=m}catch(N){Ut(s,s.return,N)}}var cs=!1,Un=!1,Qw=!1,xO=typeof WeakSet=="function"?WeakSet:Set,ur=null;function VH(s,c){if(s=s.containerInfo,x_=pg,s=wc(s),po(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var T=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var $=0,G=-1,te=-1,pe=0,ke=0,je=s,be=null;t:for(;;){for(var ve;je!==m||T!==0&&je.nodeType!==3||(G=$+T),je!==N||x!==0&&je.nodeType!==3||(te=$+x),je.nodeType===3&&($+=je.nodeValue.length),(ve=je.firstChild)!==null;)be=je,je=ve;for(;;){if(je===s)break t;if(be===m&&++pe===T&&(G=$),be===N&&++ke===x&&(te=$),(ve=je.nextSibling)!==null)break;je=be,be=je.parentNode}je=ve}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(w_={focusedElem:s,selectionRange:m},pg=!1,ur=c;ur!==null;)if(c=ur,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ur=s;else for(;ur!==null;){switch(c=ur,N=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)T=s[m],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,m=c,T=N.memoizedProps,N=N.memoizedState,x=m.stateNode;try{var Ye=Ic(m.type,T);s=x.getSnapshotBeforeUpdate(Ye,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(at){Ut(m,m.return,at)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)k_(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":k_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,ur=s;break}ur=c.return}}function wO(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:ds(s,m),x&4&&Th(5,m);break;case 1:if(ds(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch($){Ut(m,m.return,$)}else{var T=Ic(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(T,c,s.__reactInternalSnapshotBeforeUpdate)}catch($){Ut(m,m.return,$)}}x&64&&pO(m),x&512&&Ah(m,m.return);break;case 3:if(ds(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{aN(s,c)}catch($){Ut(m,m.return,$)}}break;case 27:c===null&&x&4&&vO(m);case 26:case 5:ds(s,m),c===null&&x&4&&bO(m),x&512&&Ah(m,m.return);break;case 12:ds(s,m);break;case 31:ds(s,m),x&4&&kO(s,m);break;case 13:ds(s,m),x&4&&EO(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=iG.bind(null,m),kG(s,m))));break;case 22:if(x=m.memoizedState!==null||cs,!x){c=c!==null&&c.memoizedState!==null||Un,T=cs;var N=Un;cs=x,(Un=c)&&!N?fs(s,m,(m.subtreeFlags&8772)!==0):ds(s,m),cs=T,Un=N}break;case 30:break;default:ds(s,m)}}function _O(s){var c=s.alternate;c!==null&&(s.alternate=null,_O(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Gf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var cn=null,di=!1;function us(s,c,m){for(m=m.child;m!==null;)SO(s,c,m),m=m.sibling}function SO(s,c,m){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(or,m)}catch{}switch(m.tag){case 26:Un||So(m,c),us(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Un||So(m,c);var x=cn,T=di;El(m.type)&&(cn=m.stateNode,di=!1),us(s,c,m),Lh(m.stateNode),cn=x,di=T;break;case 5:Un||So(m,c);case 6:if(x=cn,T=di,cn=null,us(s,c,m),cn=x,di=T,cn!==null)if(di)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(m.stateNode)}catch(N){Ut(m,c,N)}else try{cn.removeChild(m.stateNode)}catch(N){Ut(m,c,N)}break;case 18:cn!==null&&(di?(s=cn,pC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),yd(s)):pC(cn,m.stateNode));break;case 4:x=cn,T=di,cn=m.stateNode.containerInfo,di=!0,us(s,c,m),cn=x,di=T;break;case 0:case 11:case 14:case 15:yl(2,m,c),Un||yl(4,m,c),us(s,c,m);break;case 1:Un||(So(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&gO(m,c,x)),us(s,c,m);break;case 21:us(s,c,m);break;case 22:Un=(x=Un)||m.memoizedState!==null,us(s,c,m),Un=x;break;default:us(s,c,m)}}function kO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yd(s)}catch(m){Ut(c,c.return,m)}}}function EO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yd(s)}catch(m){Ut(c,c.return,m)}}function ZH(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new xO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new xO),c;default:throw Error(r(435,s.tag))}}function V0(s,c){var m=ZH(s);c.forEach(function(x){if(!m.has(x)){m.add(x);var T=aG.bind(null,s,x);x.then(T,T)}})}function fi(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var T=m[x],N=s,$=c,G=$;e:for(;G!==null;){switch(G.tag){case 27:if(El(G.type)){cn=G.stateNode,di=!1;break e}break;case 5:cn=G.stateNode,di=!1;break e;case 3:case 4:cn=G.stateNode.containerInfo,di=!0;break e}G=G.return}if(cn===null)throw Error(r(160));SO(N,$,T),cn=null,di=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)TO(c,s),c=c.sibling}var za=null;function TO(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fi(c,s),hi(s),x&4&&(yl(3,s,s.return),Th(3,s),yl(5,s,s.return));break;case 1:fi(c,s),hi(s),x&512&&(Un||m===null||So(m,m.return)),x&64&&cs&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var T=za;if(fi(c,s),hi(s),x&512&&(Un||m===null||So(m,m.return)),x&4){var N=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":N=T.getElementsByTagName("title")[0],(!N||N[ac]||N[Ln]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(x),T.head.insertBefore(N,T.querySelector("head > title"))),Er(N,x,m),N[Ln]=s,In(N),x=N;break e;case"link":var $=TC("link","href",T).get(x+(m.href||""));if($){for(var G=0;G<$.length;G++)if(N=$[G],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){$.splice(G,1);break t}}N=T.createElement(x),Er(N,x,m),T.head.appendChild(N);break;case"meta":if($=TC("meta","content",T).get(x+(m.content||""))){for(G=0;G<$.length;G++)if(N=$[G],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){$.splice(G,1);break t}}N=T.createElement(x),Er(N,x,m),T.head.appendChild(N);break;default:throw Error(r(468,x))}N[Ln]=s,In(N),x=N}s.stateNode=x}else AC(T,s.type,s.stateNode);else s.stateNode=EC(T,x,s.memoizedProps);else N!==x?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,x===null?AC(T,s.type,s.stateNode):EC(T,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Zw(s,s.memoizedProps,m.memoizedProps)}break;case 27:fi(c,s),hi(s),x&512&&(Un||m===null||So(m,m.return)),m!==null&&x&4&&Zw(s,s.memoizedProps,m.memoizedProps);break;case 5:if(fi(c,s),hi(s),x&512&&(Un||m===null||So(m,m.return)),s.flags&32){T=s.stateNode;try{ea(T,"")}catch(Ye){Ut(s,s.return,Ye)}}x&4&&s.stateNode!=null&&(T=s.memoizedProps,Zw(s,T,m!==null?m.memoizedProps:T)),x&1024&&(Qw=!0);break;case 6:if(fi(c,s),hi(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(Ye){Ut(s,s.return,Ye)}}break;case 3:if(dg=null,T=za,za=cg(c.containerInfo),fi(c,s),za=T,hi(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{yd(c.containerInfo)}catch(Ye){Ut(s,s.return,Ye)}Qw&&(Qw=!1,AO(s));break;case 4:x=za,za=cg(s.stateNode.containerInfo),fi(c,s),hi(s),za=x;break;case 12:fi(c,s),hi(s);break;case 31:fi(c,s),hi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,V0(s,x)));break;case 13:fi(c,s),hi(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(X0=Ge()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,V0(s,x)));break;case 22:T=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,pe=cs,ke=Un;if(cs=pe||T,Un=ke||te,fi(c,s),Un=ke,cs=pe,hi(s),x&8192)e:for(c=s.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(m===null||te||cs||Un||$c(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(N=te.stateNode,T)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{G=te.stateNode;var je=te.memoizedProps.style,be=je!=null&&je.hasOwnProperty("display")?je.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Ye){Ut(te,te.return,Ye)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=T?"":te.memoizedProps}catch(Ye){Ut(te,te.return,Ye)}}}else if(c.tag===18){if(m===null){te=c;try{var ve=te.stateNode;T?gC(ve,!0):gC(te.stateNode,!1)}catch(Ye){Ut(te,te.return,Ye)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,V0(s,m))));break;case 19:fi(c,s),hi(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,V0(s,x)));break;case 30:break;case 21:break;default:fi(c,s),hi(s)}}function hi(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(yO(x)){m=x;break}x=x.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var T=m.stateNode,N=Xw(s);W0(s,N,T);break;case 5:var $=m.stateNode;m.flags&32&&(ea($,""),m.flags&=-33);var G=Xw(s);W0(s,G,$);break;case 3:case 4:var te=m.stateNode.containerInfo,pe=Xw(s);Jw(s,pe,te);break;default:throw Error(r(161))}}catch(ke){Ut(s,s.return,ke)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function AO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;AO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function ds(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)wO(s,c.alternate,c),c=c.sibling}function $c(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:yl(4,c,c.return),$c(c);break;case 1:So(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&gO(c,c.return,m),$c(c);break;case 27:Lh(c.stateNode);case 26:case 5:So(c,c.return),$c(c);break;case 22:c.memoizedState===null&&$c(c);break;case 30:$c(c);break;default:$c(c)}s=s.sibling}}function fs(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,T=s,N=c,$=N.flags;switch(N.tag){case 0:case 11:case 15:fs(T,N,m),Th(4,N);break;case 1:if(fs(T,N,m),x=N,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(pe){Ut(x,x.return,pe)}if(x=N,T=x.updateQueue,T!==null){var G=x.stateNode;try{var te=T.shared.hiddenCallbacks;if(te!==null)for(T.shared.hiddenCallbacks=null,T=0;T<te.length;T++)iN(te[T],G)}catch(pe){Ut(x,x.return,pe)}}m&&$&64&&pO(N),Ah(N,N.return);break;case 27:vO(N);case 26:case 5:fs(T,N,m),m&&x===null&&$&4&&bO(N),Ah(N,N.return);break;case 12:fs(T,N,m);break;case 31:fs(T,N,m),m&&$&4&&kO(T,N);break;case 13:fs(T,N,m),m&&$&4&&EO(T,N);break;case 22:N.memoizedState===null&&fs(T,N,m),Ah(N,N.return);break;case 30:break;default:fs(T,N,m)}c=c.sibling}}function e_(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&hh(m))}function t_(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&hh(s))}function Ua(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)jO(s,c,m,x),c=c.sibling}function jO(s,c,m,x){var T=c.flags;switch(c.tag){case 0:case 11:case 15:Ua(s,c,m,x),T&2048&&Th(9,c);break;case 1:Ua(s,c,m,x);break;case 3:Ua(s,c,m,x),T&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&hh(s)));break;case 12:if(T&2048){Ua(s,c,m,x),s=c.stateNode;try{var N=c.memoizedProps,$=N.id,G=N.onPostCommit;typeof G=="function"&&G($,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Ut(c,c.return,te)}}else Ua(s,c,m,x);break;case 31:Ua(s,c,m,x);break;case 13:Ua(s,c,m,x);break;case 23:break;case 22:N=c.stateNode,$=c.alternate,c.memoizedState!==null?N._visibility&2?Ua(s,c,m,x):jh(s,c):N._visibility&2?Ua(s,c,m,x):(N._visibility|=2,sd(s,c,m,x,(c.subtreeFlags&10256)!==0||!1)),T&2048&&e_($,c);break;case 24:Ua(s,c,m,x),T&2048&&t_(c.alternate,c);break;default:Ua(s,c,m,x)}}function sd(s,c,m,x,T){for(T=T&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=s,$=c,G=m,te=x,pe=$.flags;switch($.tag){case 0:case 11:case 15:sd(N,$,G,te,T),Th(8,$);break;case 23:break;case 22:var ke=$.stateNode;$.memoizedState!==null?ke._visibility&2?sd(N,$,G,te,T):jh(N,$):(ke._visibility|=2,sd(N,$,G,te,T)),T&&pe&2048&&e_($.alternate,$);break;case 24:sd(N,$,G,te,T),T&&pe&2048&&t_($.alternate,$);break;default:sd(N,$,G,te,T)}c=c.sibling}}function jh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,T=x.flags;switch(x.tag){case 22:jh(m,x),T&2048&&e_(x.alternate,x);break;case 24:jh(m,x),T&2048&&t_(x.alternate,x);break;default:jh(m,x)}c=c.sibling}}var Nh=8192;function ld(s,c,m){if(s.subtreeFlags&Nh)for(s=s.child;s!==null;)NO(s,c,m),s=s.sibling}function NO(s,c,m){switch(s.tag){case 26:ld(s,c,m),s.flags&Nh&&s.memoizedState!==null&&LG(m,za,s.memoizedState,s.memoizedProps);break;case 5:ld(s,c,m);break;case 3:case 4:var x=za;za=cg(s.stateNode.containerInfo),ld(s,c,m),za=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Nh,Nh=16777216,ld(s,c,m),Nh=x):ld(s,c,m));break;default:ld(s,c,m)}}function OO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Oh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];ur=x,MO(x,s)}OO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)CO(s),s=s.sibling}function CO(s){switch(s.tag){case 0:case 11:case 15:Oh(s),s.flags&2048&&yl(9,s,s.return);break;case 3:Oh(s);break;case 12:Oh(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Z0(s)):Oh(s);break;default:Oh(s)}}function Z0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];ur=x,MO(x,s)}OO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:yl(8,c,c.return),Z0(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Z0(c));break;default:Z0(c)}s=s.sibling}}function MO(s,c){for(;ur!==null;){var m=ur;switch(m.tag){case 0:case 11:case 15:yl(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:hh(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,ur=x;else e:for(m=s;ur!==null;){x=ur;var T=x.sibling,N=x.return;if(_O(x),x===m){ur=null;break e}if(T!==null){T.return=N,ur=T;break e}ur=N}}}var XH={getCacheForType:function(s){var c=Sr($n),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return Sr($n).controller.signal}},JH=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Vt=null,xt=null,St=0,zt=0,Di=null,vl=!1,cd=!1,n_=!1,hs=0,Tn=0,xl=0,Bc=0,r_=0,Pi=0,ud=0,Ch=null,mi=null,i_=!1,X0=0,DO=0,J0=1/0,Q0=null,wl=null,Xn=0,_l=null,dd=null,ms=0,a_=0,o_=null,PO=null,Mh=0,s_=null;function Ri(){return(Dt&2)!==0&&St!==0?St&-St:Y.T!==null?h_():Ff()}function RO(){if(Pi===0)if((St&536870912)===0||vt){var s=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),Pi=s}else Pi=536870912;return s=Ci.current,s!==null&&(s.flags|=32),Pi}function pi(s,c,m){(s===Vt&&(zt===2||zt===9)||s.cancelPendingCommit!==null)&&(fd(s,0),Sl(s,St,Pi,!1)),Ko(s,m),((Dt&2)===0||s!==Vt)&&(s===Vt&&((Dt&2)===0&&(Bc|=m),Tn===4&&Sl(s,St,Pi,!1)),ko(s))}function LO(s,c,m){if((Dt&6)!==0)throw Error(r(327));var x=!m&&(c&127)===0&&(c&s.expiredLanes)===0||ic(s,c),T=x?tG(s,c):c_(s,c,!0),N=x;do{if(T===0){cd&&!x&&Sl(s,c,0,!1);break}else{if(m=s.current.alternate,N&&!QH(m)){T=c_(s,c,!1),N=!1;continue}if(T===2){if(N=c,s.errorRecoveryDisabledLanes&N)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){c=$;e:{var G=s;T=Ch;var te=G.current.memoizedState.isDehydrated;if(te&&(fd(G,$).flags|=256),$=c_(G,$,!1),$!==2){if(n_&&!te){G.errorRecoveryDisabledLanes|=N,Bc|=N,T=4;break e}N=mi,mi=T,N!==null&&(mi===null?mi=N:mi.push.apply(mi,N))}T=$}if(N=!1,T!==2)continue}}if(T===1){fd(s,0),Sl(s,c,0,!0);break}e:{switch(x=s,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Sl(x,c,Pi,!vl);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(T=X0+300-Ge(),10<T)){if(Sl(x,c,Pi,!vl),Mu(x,0,!0)!==0)break e;ms=c,x.timeoutHandle=hC(IO.bind(null,x,m,mi,Q0,i_,c,Pi,Bc,ud,vl,N,"Throttled",-0,0),T);break e}IO(x,m,mi,Q0,i_,c,Pi,Bc,ud,vl,N,null,-0,0)}}break}while(!0);ko(s)}function IO(s,c,m,x,T,N,$,G,te,pe,ke,je,be,ve){if(s.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},NO(c,N,je);var Ye=(N&62914560)===N?X0-Ge():(N&4194048)===N?DO-Ge():0;if(Ye=IG(je,Ye),Ye!==null){ms=N,s.cancelPendingCommit=Ye(YO.bind(null,s,c,N,m,x,T,$,G,te,ke,je,null,be,ve)),Sl(s,N,$,!pe);return}}YO(s,c,N,m,x,T,$,G,te)}function QH(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var T=m[x],N=T.getSnapshot;T=T.value;try{if(!lr(N(),T))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Sl(s,c,m,x){c&=~r_,c&=~Bc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var T=c;0<T;){var N=31-Et(T),$=1<<N;x[N]=-1,T&=~$}m!==0&&Jp(s,m,c)}function eg(){return(Dt&6)===0?(Dh(0),!1):!0}function l_(){if(xt!==null){if(zt===0)var s=xt.return;else s=xt,Ba=_o=null,kw(s),nd=null,ph=0,s=xt;for(;s!==null;)mO(s.alternate,s),s=s.return;xt=null}}function fd(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,vG(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),ms=0,l_(),Vt=s,xt=m=sa(s.current,null),St=c,zt=0,Di=null,vl=!1,cd=ic(s,c),n_=!1,ud=Pi=r_=Bc=xl=Tn=0,mi=Ch=null,i_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var T=31-Et(x),N=1<<T;c|=s[T],x&=~N}return hs=c,Tc(),m}function $O(s,c){ft=null,Y.H=Sh,c===td||c===N0?(c=eN(),zt=3):c===fw?(c=eN(),zt=4):zt=c===zw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Di=c,xt===null&&(Tn=1,H0(s,v(c,s.current)))}function BO(){var s=Ci.current;return s===null?!0:(St&4194048)===St?la===null:(St&62914560)===St||(St&536870912)!==0?s===la:!1}function zO(){var s=Y.H;return Y.H=Sh,s===null?Sh:s}function UO(){var s=Y.A;return Y.A=XH,s}function tg(){Tn=4,vl||(St&4194048)!==St&&Ci.current!==null||(cd=!0),(xl&134217727)===0&&(Bc&134217727)===0||Vt===null||Sl(Vt,St,Pi,!1)}function c_(s,c,m){var x=Dt;Dt|=2;var T=zO(),N=UO();(Vt!==s||St!==c)&&(Q0=null,fd(s,c)),c=!1;var $=Tn;e:do try{if(zt!==0&&xt!==null){var G=xt,te=Di;switch(zt){case 8:l_(),$=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(c=!0);var pe=zt;if(zt=0,Di=null,hd(s,G,te,pe),m&&cd){$=0;break e}break;default:pe=zt,zt=0,Di=null,hd(s,G,te,pe)}}eG(),$=Tn;break}catch(ke){$O(s,ke)}while(!0);return c&&s.shellSuspendCounter++,Ba=_o=null,Dt=x,Y.H=T,Y.A=N,xt===null&&(Vt=null,St=0,Tc()),$}function eG(){for(;xt!==null;)FO(xt)}function tG(s,c){var m=Dt;Dt|=2;var x=zO(),T=UO();Vt!==s||St!==c?(Q0=null,J0=Ge()+500,fd(s,c)):cd=ic(s,c);e:do try{if(zt!==0&&xt!==null){c=xt;var N=Di;t:switch(zt){case 1:zt=0,Di=null,hd(s,c,N,1);break;case 2:case 9:if(Jj(N)){zt=0,Di=null,HO(c);break}c=function(){zt!==2&&zt!==9||Vt!==s||(zt=7),ko(s)},N.then(c,c);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Jj(N)?(zt=0,Di=null,HO(c)):(zt=0,Di=null,hd(s,c,N,7));break;case 5:var $=null;switch(xt.tag){case 26:$=xt.memoizedState;case 5:case 27:var G=xt;if($?jC($):G.stateNode.complete){zt=0,Di=null;var te=G.sibling;if(te!==null)xt=te;else{var pe=G.return;pe!==null?(xt=pe,ng(pe)):xt=null}break t}}zt=0,Di=null,hd(s,c,N,5);break;case 6:zt=0,Di=null,hd(s,c,N,6);break;case 8:l_(),Tn=6;break e;default:throw Error(r(462))}}nG();break}catch(ke){$O(s,ke)}while(!0);return Ba=_o=null,Y.H=x,Y.A=T,Dt=m,xt!==null?0:(Vt=null,St=0,Tc(),Tn)}function nG(){for(;xt!==null&&!fe();)FO(xt)}function FO(s){var c=fO(s.alternate,s,hs);s.memoizedProps=s.pendingProps,c===null?ng(s):xt=c}function HO(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=oO(m,c,c.pendingProps,c.type,void 0,St);break;case 11:c=oO(m,c,c.pendingProps,c.type.render,c.ref,St);break;case 5:kw(c);default:mO(m,c),c=xt=lh(c,hs),c=fO(m,c,hs)}s.memoizedProps=s.pendingProps,c===null?ng(s):xt=c}function hd(s,c,m,x){Ba=_o=null,kw(c),nd=null,ph=0;var T=c.return;try{if(GH(s,T,c,m,St)){Tn=1,H0(s,v(m,s.current)),xt=null;return}}catch(N){if(T!==null)throw xt=T,N;Tn=1,H0(s,v(m,s.current)),xt=null;return}c.flags&32768?(vt||x===1?s=!0:cd||(St&536870912)!==0?s=!1:(vl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Ci.current,x!==null&&x.tag===13&&(x.flags|=16384))),GO(c,s)):ng(c)}function ng(s){var c=s;do{if((c.flags&32768)!==0){GO(c,vl);return}s=c.return;var m=KH(c.alternate,c,hs);if(m!==null){xt=m;return}if(c=c.sibling,c!==null){xt=c;return}xt=c=s}while(c!==null);Tn===0&&(Tn=5)}function GO(s,c){do{var m=WH(s.alternate,s);if(m!==null){m.flags&=32767,xt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){xt=s;return}xt=s=m}while(s!==null);Tn=6,xt=null}function YO(s,c,m,x,T,N,$,G,te){s.cancelPendingCommit=null;do rg();while(Xn!==0);if((Dt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=Wu,Yx(s,m,N,$,G,te),s===Vt&&(xt=Vt=null,St=0),dd=c,_l=s,ms=m,a_=N,o_=T,PO=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,oG(lt,function(){return ZO(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=Y.T,Y.T=null,T=X.p,X.p=2,$=Dt,Dt|=4;try{VH(s,c,m)}finally{Dt=$,X.p=T,Y.T=x}}Xn=1,qO(),KO(),WO()}}function qO(){if(Xn===1){Xn=0;var s=_l,c=dd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var x=X.p;X.p=2;var T=Dt;Dt|=4;try{TO(c,s);var N=w_,$=wc(s.containerInfo),G=N.focusedElem,te=N.selectionRange;if($!==G&&G&&G.ownerDocument&&Gu(G.ownerDocument.documentElement,G)){if(te!==null&&po(G)){var pe=te.start,ke=te.end;if(ke===void 0&&(ke=pe),"selectionStart"in G)G.selectionStart=pe,G.selectionEnd=Math.min(ke,G.value.length);else{var je=G.ownerDocument||document,be=je&&je.defaultView||window;if(be.getSelection){var ve=be.getSelection(),Ye=G.textContent.length,at=Math.min(te.start,Ye),qt=te.end===void 0?at:Math.min(te.end,Ye);!ve.extend&&at>qt&&($=qt,qt=at,at=$);var le=xc(G,at),re=xc(G,qt);if(le&&re&&(ve.rangeCount!==1||ve.anchorNode!==le.node||ve.anchorOffset!==le.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var he=je.createRange();he.setStart(le.node,le.offset),ve.removeAllRanges(),at>qt?(ve.addRange(he),ve.extend(re.node,re.offset)):(he.setEnd(re.node,re.offset),ve.addRange(he))}}}}for(je=[],ve=G;ve=ve.parentNode;)ve.nodeType===1&&je.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<je.length;G++){var Te=je[G];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}pg=!!x_,w_=x_=null}finally{Dt=T,X.p=x,Y.T=m}}s.current=c,Xn=2}}function KO(){if(Xn===2){Xn=0;var s=_l,c=dd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var x=X.p;X.p=2;var T=Dt;Dt|=4;try{wO(s,c.alternate,c)}finally{Dt=T,X.p=x,Y.T=m}}Xn=3}}function WO(){if(Xn===4||Xn===3){Xn=0,Ce();var s=_l,c=dd,m=ms,x=PO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Xn=5:(Xn=0,dd=_l=null,VO(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(wl=null),Ve(m),c=c.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(or,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=Y.T,T=X.p,X.p=2,Y.T=null;try{for(var N=s.onRecoverableError,$=0;$<x.length;$++){var G=x[$];N(G.value,{componentStack:G.stack})}}finally{Y.T=c,X.p=T}}(ms&3)!==0&&rg(),ko(s),T=s.pendingLanes,(m&261930)!==0&&(T&42)!==0?s===s_?Mh++:(Mh=0,s_=s):Mh=0,Dh(0)}}function VO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,hh(c)))}function rg(){return qO(),KO(),WO(),ZO()}function ZO(){if(Xn!==5)return!1;var s=_l,c=a_;a_=0;var m=Ve(ms),x=Y.T,T=X.p;try{X.p=32>m?32:m,Y.T=null,m=o_,o_=null;var N=_l,$=ms;if(Xn=0,dd=_l=null,ms=0,(Dt&6)!==0)throw Error(r(331));var G=Dt;if(Dt|=4,CO(N.current),jO(N,N.current,$,m),Dt=G,Dh(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(or,N)}catch{}return!0}finally{X.p=T,Y.T=x,VO(s,c)}}function XO(s,c,m){c=v(m,c),c=Bw(s.stateNode,c,2),s=pl(s,c,2),s!==null&&(Ko(s,2),ko(s))}function Ut(s,c,m){if(s.tag===3)XO(s,s,m);else for(;c!==null;){if(c.tag===3){XO(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(wl===null||!wl.has(x))){s=v(m,s),m=JN(2),x=pl(c,m,2),x!==null&&(QN(m,x,c,s),Ko(x,2),ko(x));break}}c=c.return}}function u_(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new JH;var T=new Set;x.set(c,T)}else T=x.get(c),T===void 0&&(T=new Set,x.set(c,T));T.has(m)||(n_=!0,T.add(m),s=rG.bind(null,s,c,m),c.then(s,s))}function rG(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Vt===s&&(St&m)===m&&(Tn===4||Tn===3&&(St&62914560)===St&&300>Ge()-X0?(Dt&2)===0&&fd(s,0):r_|=m,ud===St&&(ud=0)),ko(s)}function JO(s,c){c===0&&(c=Xp()),s=oa(s,c),s!==null&&(Ko(s,c),ko(s))}function iG(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),JO(s,m)}function aG(s,c){var m=0;switch(s.tag){case 31:case 13:var x=s.stateNode,T=s.memoizedState;T!==null&&(m=T.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),JO(s,m)}function oG(s,c){return bt(s,c)}var ig=null,md=null,d_=!1,ag=!1,f_=!1,kl=0;function ko(s){s!==md&&s.next===null&&(md===null?ig=md=s:md=md.next=s),ag=!0,d_||(d_=!0,lG())}function Dh(s,c){if(!f_&&ag){f_=!0;do for(var m=!1,x=ig;x!==null;){if(s!==0){var T=x.pendingLanes;if(T===0)var N=0;else{var $=x.suspendedLanes,G=x.pingedLanes;N=(1<<31-Et(42|s)+1)-1,N&=T&~($&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,nC(x,N))}else N=St,N=Mu(x,x===Vt?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||ic(x,N)||(m=!0,nC(x,N));x=x.next}while(m);f_=!1}}function sG(){QO()}function QO(){ag=d_=!1;var s=0;kl!==0&&yG()&&(s=kl);for(var c=Ge(),m=null,x=ig;x!==null;){var T=x.next,N=eC(x,c);N===0?(x.next=null,m===null?ig=T:m.next=T,T===null&&(md=m)):(m=x,(s!==0||(N&3)!==0)&&(ag=!0)),x=T}Xn!==0&&Xn!==5||Dh(s),kl!==0&&(kl=0)}function eC(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,T=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var $=31-Et(N),G=1<<$,te=T[$];te===-1?((G&m)===0||(G&x)!==0)&&(T[$]=Gx(G,c)):te<=c&&(s.expiredLanes|=G),N&=~G}if(c=Vt,m=St,m=Mu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&(zt===2||zt===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Rt(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||ic(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&Rt(x),Ve(m)){case 2:case 8:m=ze;break;case 32:m=lt;break;case 268435456:m=Kt;break;default:m=lt}return x=tC.bind(null,s),m=bt(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&Rt(x),s.callbackPriority=2,s.callbackNode=null,2}function tC(s,c){if(Xn!==0&&Xn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(rg()&&s.callbackNode!==m)return null;var x=St;return x=Mu(s,s===Vt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(LO(s,x,c),eC(s,Ge()),s.callbackNode!=null&&s.callbackNode===m?tC.bind(null,s):null)}function nC(s,c){if(rg())return null;LO(s,c,!0)}function lG(){xG(function(){(Dt&6)!==0?bt(Pe,sG):QO()})}function h_(){if(kl===0){var s=Qu;s===0&&(s=it,it<<=1,(it&261888)===0&&(it=256)),kl=s}return kl}function rC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Qs(""+s)}function iC(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function cG(s,c,m,x,T){if(c==="submit"&&m&&m.stateNode===T){var N=rC((T[sr]||null).action),$=x.submitter;$&&(c=(c=$[sr]||null)?rC(c.formAction):$.getAttribute("formAction"),c!==null&&(N=c,$=null));var G=new Iu("action","action",null,x,T);s.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(kl!==0){var te=$?iC(T,$):new FormData(T);Dw(m,{pending:!0,data:te,method:T.method,action:N},null,te)}}else typeof N=="function"&&(G.preventDefault(),te=$?iC(T,$):new FormData(T),Dw(m,{pending:!0,data:te,method:T.method,action:N},N,te))},currentTarget:T}]})}}for(var m_=0;m_<yo.length;m_++){var p_=yo[m_],uG=p_.toLowerCase(),dG=p_[0].toUpperCase()+p_.slice(1);li(uG,"on"+dG)}li(Sc,"onAnimationEnd"),li(S0,"onAnimationIteration"),li(kc,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(iw,"onTransitionRun"),li(k0,"onTransitionStart"),li(aw,"onTransitionCancel"),li(ul,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ph));function aC(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],T=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var $=x.length-1;0<=$;$--){var G=x[$],te=G.instance,pe=G.currentTarget;if(G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=pe;try{N(T)}catch(ke){Ec(ke)}T.currentTarget=null,N=te}else for($=0;$<x.length;$++){if(G=x[$],te=G.instance,pe=G.currentTarget,G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=pe;try{N(T)}catch(ke){Ec(ke)}T.currentTarget=null,N=te}}}}function wt(s,c){var m=c[lo];m===void 0&&(m=c[lo]=new Set);var x=s+"__bubble";m.has(x)||(oC(c,s,2,!1),m.add(x))}function g_(s,c,m){var x=0;c&&(x|=4),oC(m,s,x,c)}var og="_reactListening"+Math.random().toString(36).slice(2);function b_(s){if(!s[og]){s[og]=!0,r0.forEach(function(m){m!=="selectionchange"&&(fG.has(m)||g_(m,!1,s),g_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[og]||(c[og]=!0,g_("selectionchange",!1,c))}}function oC(s,c,m,x){switch(RC(c)){case 2:var T=zG;break;case 8:T=UG;break;default:T=M_}m=T.bind(null,c,m,s),T=void 0,!dc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),x?T!==void 0?s.addEventListener(c,m,{capture:!0,passive:T}):s.addEventListener(c,m,!0):T!==void 0?s.addEventListener(c,m,{passive:T}):s.addEventListener(c,m,!1)}function y_(s,c,m,x,T){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var $=x.tag;if($===3||$===4){var G=x.stateNode.containerInfo;if(G===T)break;if($===4)for($=x.return;$!==null;){var te=$.tag;if((te===3||te===4)&&$.stateNode.containerInfo===T)return;$=$.return}for(;G!==null;){if($=Vo(G),$===null)return;if(te=$.tag,te===5||te===6||te===26||te===27){x=N=$;continue e}G=G.parentNode}}x=x.return}Xf(function(){var pe=N,ke=uc(m),je=[];e:{var be=E0.get(s);if(be!==void 0){var ve=Iu,Ye=s;switch(s){case"keypress":if(fc(m)===0)break e;case"keydown":case"keyup":ve=d0;break;case"focusin":Ye="focus",ve=eh;break;case"focusout":Ye="blur",ve=eh;break;case"beforeblur":case"afterblur":ve=eh;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Jx;break;case Sc:case S0:case kc:ve=th;break;case ul:ve=m0;break;case"scroll":case"scrollend":ve=_t;break;case"wheel":ve=es;break;case"copy":case"cut":case"paste":ve=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=f0;break;case"toggle":case"beforetoggle":ve=pc}var at=(c&4)!==0,qt=!at&&(s==="scroll"||s==="scrollend"),le=at?be!==null?be+"Capture":null:be;at=[];for(var re=pe,he;re!==null;){var Te=re;if(he=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||he===null||le===null||(Te=Jo(re,le),Te!=null&&at.push(Rh(re,Te,he))),qt)break;re=re.return}0<at.length&&(be=new ve(be,Ye,null,m,ke),je.push({event:be,listeners:at}))}}if((c&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",be&&m!==Lu&&(Ye=m.relatedTarget||m.fromElement)&&(Vo(Ye)||Ye[Wo]))break e;if((ve||be)&&(be=ke.window===ke?ke:(be=ke.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(Ye=m.relatedTarget||m.toElement,ve=pe,Ye=Ye?Vo(Ye):null,Ye!==null&&(qt=a(Ye),at=Ye.tag,Ye!==qt||at!==5&&at!==27&&at!==6)&&(Ye=null)):(ve=null,Ye=pe),ve!==Ye)){if(at=o0,Te="onMouseLeave",le="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(at=f0,Te="onPointerLeave",le="onPointerEnter",re="pointer"),qt=ve==null?be:co(ve),he=Ye==null?be:co(Ye),be=new at(Te,re+"leave",ve,m,ke),be.target=qt,be.relatedTarget=he,Te=null,Vo(ke)===pe&&(at=new at(le,re+"enter",Ye,m,ke),at.target=he,at.relatedTarget=qt,Te=at),qt=Te,ve&&Ye)t:{for(at=hG,le=ve,re=Ye,he=0,Te=le;Te;Te=at(Te))he++;Te=0;for(var nt=re;nt;nt=at(nt))Te++;for(;0<he-Te;)le=at(le),he--;for(;0<Te-he;)re=at(re),Te--;for(;he--;){if(le===re||re!==null&&le===re.alternate){at=le;break t}le=at(le),re=at(re)}at=null}else at=null;ve!==null&&sC(je,be,ve,at,!1),Ye!==null&&qt!==null&&sC(je,qt,Ye,at,!0)}}e:{if(be=pe?co(pe):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var Ot=vc;else if(ra(be))if(y0)Ot=rw;else{Ot=nw;var We=La}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?pe&&cc(pe.elementType)&&(Ot=vc):Ot=ol;if(Ot&&(Ot=Ot(s,pe))){b0(je,Ot,m,ke);break e}We&&We(s,be,pe),s==="focusout"&&pe&&be.type==="number"&&pe.memoizedProps.value!=null&&Da(be,"number",be.value)}switch(We=pe?co(pe):window,s){case"focusin":(ra(We)||We.contentEditable==="true")&&(go=We,qu=pe,_c=null);break;case"focusout":_c=qu=go=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,w0(je,m,ke);break;case"selectionchange":if(Yu)break;case"keydown":case"keyup":w0(je,m,ke)}var pt;if(Bu)e:{switch(s){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else rl?g0(s,m)&&(kt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(kt="onCompositionStart");kt&&(zu&&m.locale!=="ko"&&(rl||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&rl&&(pt=ho()):(ta=ke,Qo="value"in ta?ta.value:ta.textContent,rl=!0)),We=sg(pe,kt),0<We.length&&(kt=new nh(kt,s,null,m,ke),je.push({event:kt,listeners:We}),pt?kt.data=pt:(pt=oh(m),pt!==null&&(kt.data=pt)))),(pt=ew?Oi(s,m):il(s,m))&&(kt=sg(pe,"onBeforeInput"),0<kt.length&&(We=new nh("onBeforeInput","beforeinput",null,m,ke),je.push({event:We,listeners:kt}),We.data=pt)),cG(je,s,pe,m,ke)}aC(je,c)})}function Rh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function sg(s,c){for(var m=c+"Capture",x=[];s!==null;){var T=s,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Jo(s,m),T!=null&&x.unshift(Rh(s,T,N)),T=Jo(s,c),T!=null&&x.push(Rh(s,T,N))),s.tag===3)return x;s=s.return}return[]}function hG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sC(s,c,m,x,T){for(var N=c._reactName,$=[];m!==null&&m!==x;){var G=m,te=G.alternate,pe=G.stateNode;if(G=G.tag,te!==null&&te===x)break;G!==5&&G!==26&&G!==27||pe===null||(te=pe,T?(pe=Jo(m,N),pe!=null&&$.unshift(Rh(m,pe,te))):T||(pe=Jo(m,N),pe!=null&&$.push(Rh(m,pe,te)))),m=m.return}$.length!==0&&s.push({event:c,listeners:$})}var mG=/\r\n?/g,pG=/\u0000|\uFFFD/g;function lC(s){return(typeof s=="string"?s:""+s).replace(mG,`
`).replace(pG,"")}function cC(s,c){return c=lC(c),lC(s)===c}function Yt(s,c,m,x,T,N){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||ea(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&ea(s,""+x);break;case"className":Ht(s,"class",x);break;case"tabIndex":Ht(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ht(s,m,x);break;case"style":Pu(s,x,N);break;case"data":if(c!=="object"){Ht(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Qs(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(c!=="input"&&Yt(s,c,"name",T.name,T,null),Yt(s,c,"formEncType",T.formEncType,T,null),Yt(s,c,"formMethod",T.formMethod,T,null),Yt(s,c,"formTarget",T.formTarget,T,null)):(Yt(s,c,"encType",T.encType,T,null),Yt(s,c,"method",T.method,T,null),Yt(s,c,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Qs(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=oi);break;case"onScroll":x!=null&&wt("scroll",s);break;case"onScrollEnd":x!=null&&wt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Qs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":wt("beforetoggle",s),wt("toggle",s),yt(s,"popover",x);break;case"xlinkActuate":ai(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ai(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ai(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ai(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ai(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ai(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ai(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ai(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ai(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":yt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Ru.get(m)||m,yt(s,m,x))}}function v_(s,c,m,x,T,N){switch(m){case"style":Pu(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof x=="string"?ea(s,x):(typeof x=="number"||typeof x=="bigint")&&ea(s,""+x);break;case"onScroll":x!=null&&wt("scroll",s);break;case"onScrollEnd":x!=null&&wt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!i0.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),c=m.slice(2,T?m.length-7:void 0),N=s[sr]||null,N=N!=null?N[m]:null,typeof N=="function"&&s.removeEventListener(c,N,T),typeof x=="function")){typeof N!="function"&&N!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,T);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):yt(s,m,x)}}}function Er(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",s),wt("load",s);var x=!1,T=!1,N;for(N in m)if(m.hasOwnProperty(N)){var $=m[N];if($!=null)switch(N){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,N,$,m,null)}}T&&Yt(s,c,"srcSet",m.srcSet,m,null),x&&Yt(s,c,"src",m.src,m,null);return;case"input":wt("invalid",s);var G=N=$=T=null,te=null,pe=null;for(x in m)if(m.hasOwnProperty(x)){var ke=m[x];if(ke!=null)switch(x){case"name":T=ke;break;case"type":$=ke;break;case"checked":te=ke;break;case"defaultChecked":pe=ke;break;case"value":N=ke;break;case"defaultValue":G=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,c));break;default:Yt(s,c,x,ke,m,null)}}lc(s,N,G,te,pe,$,T,!1);return;case"select":wt("invalid",s),x=$=N=null;for(T in m)if(m.hasOwnProperty(T)&&(G=m[T],G!=null))switch(T){case"value":N=G;break;case"defaultValue":$=G;break;case"multiple":x=G;default:Yt(s,c,T,G,m,null)}c=N,m=$,s.multiple=!!x,c!=null?Wt(s,!!x,c,!1):m!=null&&Wt(s,!!x,m,!0);return;case"textarea":wt("invalid",s),N=T=x=null;for($ in m)if(m.hasOwnProperty($)&&(G=m[$],G!=null))switch($){case"value":x=G;break;case"defaultValue":T=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Yt(s,c,$,G,m,null)}Xs(s,x,T,N);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(x=m[te],x!=null))switch(te){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yt(s,c,te,x,m,null)}return;case"dialog":wt("beforetoggle",s),wt("toggle",s),wt("cancel",s),wt("close",s);break;case"iframe":case"object":wt("load",s);break;case"video":case"audio":for(x=0;x<Ph.length;x++)wt(Ph[x],s);break;case"image":wt("error",s),wt("load",s);break;case"details":wt("toggle",s);break;case"embed":case"source":case"link":wt("error",s),wt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in m)if(m.hasOwnProperty(pe)&&(x=m[pe],x!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Yt(s,c,pe,x,m,null)}return;default:if(cc(c)){for(ke in m)m.hasOwnProperty(ke)&&(x=m[ke],x!==void 0&&v_(s,c,ke,x,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(x=m[G],x!=null&&Yt(s,c,G,x,m,null))}function gG(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,$=null,G=null,te=null,pe=null,ke=null;for(ve in m){var je=m[ve];if(m.hasOwnProperty(ve)&&je!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=je;default:x.hasOwnProperty(ve)||Yt(s,c,ve,null,x,je)}}for(var be in x){var ve=x[be];if(je=m[be],x.hasOwnProperty(be)&&(ve!=null||je!=null))switch(be){case"type":N=ve;break;case"name":T=ve;break;case"checked":pe=ve;break;case"defaultChecked":ke=ve;break;case"value":$=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==je&&Yt(s,c,be,ve,x,je)}}Wf(s,$,G,te,pe,ke,N,T);return;case"select":ve=$=G=be=null;for(N in m)if(te=m[N],m.hasOwnProperty(N)&&te!=null)switch(N){case"value":break;case"multiple":ve=te;default:x.hasOwnProperty(N)||Yt(s,c,N,null,x,te)}for(T in x)if(N=x[T],te=m[T],x.hasOwnProperty(T)&&(N!=null||te!=null))switch(T){case"value":be=N;break;case"defaultValue":G=N;break;case"multiple":$=N;default:N!==te&&Yt(s,c,T,N,x,te)}c=G,m=$,x=ve,be!=null?Wt(s,!!m,be,!1):!!x!=!!m&&(c!=null?Wt(s,!!m,c,!0):Wt(s,!!m,m?[]:"",!1));return;case"textarea":ve=be=null;for(G in m)if(T=m[G],m.hasOwnProperty(G)&&T!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Yt(s,c,G,null,x,T)}for($ in x)if(T=x[$],N=m[$],x.hasOwnProperty($)&&(T!=null||N!=null))switch($){case"value":be=T;break;case"defaultValue":ve=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&Yt(s,c,$,T,x,N)}fo(s,be,ve);return;case"option":for(var Ye in m)if(be=m[Ye],m.hasOwnProperty(Ye)&&be!=null&&!x.hasOwnProperty(Ye))switch(Ye){case"selected":s.selected=!1;break;default:Yt(s,c,Ye,null,x,be)}for(te in x)if(be=x[te],ve=m[te],x.hasOwnProperty(te)&&be!==ve&&(be!=null||ve!=null))switch(te){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Yt(s,c,te,be,x,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in m)be=m[at],m.hasOwnProperty(at)&&be!=null&&!x.hasOwnProperty(at)&&Yt(s,c,at,null,x,be);for(pe in x)if(be=x[pe],ve=m[pe],x.hasOwnProperty(pe)&&be!==ve&&(be!=null||ve!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Yt(s,c,pe,be,x,ve)}return;default:if(cc(c)){for(var qt in m)be=m[qt],m.hasOwnProperty(qt)&&be!==void 0&&!x.hasOwnProperty(qt)&&v_(s,c,qt,void 0,x,be);for(ke in x)be=x[ke],ve=m[ke],!x.hasOwnProperty(ke)||be===ve||be===void 0&&ve===void 0||v_(s,c,ke,be,x,ve);return}}for(var le in m)be=m[le],m.hasOwnProperty(le)&&be!=null&&!x.hasOwnProperty(le)&&Yt(s,c,le,null,x,be);for(je in x)be=x[je],ve=m[je],!x.hasOwnProperty(je)||be===ve||be==null&&ve==null||Yt(s,c,je,be,x,ve)}function uC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bG(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var T=m[x],N=T.transferSize,$=T.initiatorType,G=T.duration;if(N&&G&&uC($)){for($=0,G=T.responseEnd,x+=1;x<m.length;x++){var te=m[x],pe=te.startTime;if(pe>G)break;var ke=te.transferSize,je=te.initiatorType;ke&&uC(je)&&(te=te.responseEnd,$+=ke*(te<G?1:(G-pe)/(te-pe)))}if(--x,c+=8*(N+$)/(T.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var x_=null,w_=null;function lg(s){return s.nodeType===9?s:s.ownerDocument}function dC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fC(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function __(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var S_=null;function yG(){var s=window.event;return s&&s.type==="popstate"?s===S_?!1:(S_=s,!0):(S_=null,!1)}var hC=typeof setTimeout=="function"?setTimeout:void 0,vG=typeof clearTimeout=="function"?clearTimeout:void 0,mC=typeof Promise=="function"?Promise:void 0,xG=typeof queueMicrotask=="function"?queueMicrotask:typeof mC<"u"?function(s){return mC.resolve(null).then(s).catch(wG)}:hC;function wG(s){setTimeout(function(){throw s})}function El(s){return s==="head"}function pC(s,c){var m=c,x=0;do{var T=m.nextSibling;if(s.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"||m==="/&"){if(x===0){s.removeChild(T),yd(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")Lh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Lh(m);for(var N=m.firstChild;N;){var $=N.nextSibling,G=N.nodeName;N[ac]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||m.removeChild(N),N=$}}else m==="body"&&Lh(s.ownerDocument.body);m=T}while(m);yd(c)}function gC(s,c){var m=s;s=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=x}while(m)}function k_(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":k_(m),Gf(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function _G(s,c,m,x){for(;s.nodeType===1;){var T=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[ac])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=ca(s.nextSibling),s===null)break}return null}function SG(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=ca(s.nextSibling),s===null))return null;return s}function bC(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ca(s.nextSibling),s===null))return null;return s}function E_(s){return s.data==="$?"||s.data==="$~"}function T_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kG(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function ca(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var A_=null;function yC(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return ca(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function vC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function xC(s,c,m){switch(c=lg(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Lh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Gf(s)}var ua=new Map,wC=new Set;function cg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ps=X.d;X.d={f:EG,r:TG,D:AG,C:jG,L:NG,m:OG,X:MG,S:CG,M:DG};function EG(){var s=ps.f(),c=eg();return s||c}function TG(s){var c=Ws(s);c!==null&&c.tag===5&&c.type==="form"?$N(c):ps.r(s)}var pd=typeof document>"u"?null:document;function _C(s,c,m){var x=pd;if(x&&typeof c=="string"&&c){var T=tn(c);T='link[rel="'+s+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),wC.has(T)||(wC.add(T),s={rel:s,crossOrigin:m,href:c},x.querySelector(T)===null&&(c=x.createElement("link"),Er(c,"link",s),In(c),x.head.appendChild(c)))}}function AG(s){ps.D(s),_C("dns-prefetch",s,null)}function jG(s,c){ps.C(s,c),_C("preconnect",s,c)}function NG(s,c,m){ps.L(s,c,m);var x=pd;if(x&&s&&c){var T='link[rel="preload"][as="'+tn(c)+'"]';c==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+tn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+tn(m.imageSizes)+'"]')):T+='[href="'+tn(s)+'"]';var N=T;switch(c){case"style":N=gd(s);break;case"script":N=bd(s)}ua.has(N)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),ua.set(N,s),x.querySelector(T)!==null||c==="style"&&x.querySelector(Ih(N))||c==="script"&&x.querySelector($h(N))||(c=x.createElement("link"),Er(c,"link",s),In(c),x.head.appendChild(c)))}}function OG(s,c){ps.m(s,c);var m=pd;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+tn(x)+'"][href="'+tn(s)+'"]',N=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=bd(s)}if(!ua.has(N)&&(s=p({rel:"modulepreload",href:s},c),ua.set(N,s),m.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector($h(N)))return}x=m.createElement("link"),Er(x,"link",s),In(x),m.head.appendChild(x)}}}function CG(s,c,m){ps.S(s,c,m);var x=pd;if(x&&s){var T=Vs(x).hoistableStyles,N=gd(s);c=c||"default";var $=T.get(N);if(!$){var G={loading:0,preload:null};if($=x.querySelector(Ih(N)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=ua.get(N))&&j_(s,m);var te=$=x.createElement("link");In(te),Er(te,"link",s),te._p=new Promise(function(pe,ke){te.onload=pe,te.onerror=ke}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,ug($,c,x)}$={type:"stylesheet",instance:$,count:1,state:G},T.set(N,$)}}}function MG(s,c){ps.X(s,c);var m=pd;if(m&&s){var x=Vs(m).hoistableScripts,T=bd(s),N=x.get(T);N||(N=m.querySelector($h(T)),N||(s=p({src:s,async:!0},c),(c=ua.get(T))&&N_(s,c),N=m.createElement("script"),In(N),Er(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function DG(s,c){ps.M(s,c);var m=pd;if(m&&s){var x=Vs(m).hoistableScripts,T=bd(s),N=x.get(T);N||(N=m.querySelector($h(T)),N||(s=p({src:s,async:!0,type:"module"},c),(c=ua.get(T))&&N_(s,c),N=m.createElement("script"),In(N),Er(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function SC(s,c,m,x){var T=(T=me.current)?cg(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=gd(m.href),m=Vs(T).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=gd(m.href);var N=Vs(T).hoistableStyles,$=N.get(s);if($||(T=T.ownerDocument||T,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,$),(N=T.querySelector(Ih(s)))&&!N._p&&($.instance=N,$.state.loading=5),ua.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ua.set(s,m),N||PG(T,s,m,$.state))),c&&x===null)throw Error(r(528,""));return $}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=bd(m),m=Vs(T).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gd(s){return'href="'+tn(s)+'"'}function Ih(s){return'link[rel="stylesheet"]['+s+"]"}function kC(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function PG(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),Er(c,"link",m),In(c),s.head.appendChild(c))}function bd(s){return'[src="'+tn(s)+'"]'}function $h(s){return"script[async]"+s}function EC(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+tn(m.href)+'"]');if(x)return c.instance=x,In(x),x;var T=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),In(x),Er(x,"style",T),ug(x,m.precedence,s),c.instance=x;case"stylesheet":T=gd(m.href);var N=s.querySelector(Ih(T));if(N)return c.state.loading|=4,c.instance=N,In(N),N;x=kC(m),(T=ua.get(T))&&j_(x,T),N=(s.ownerDocument||s).createElement("link"),In(N);var $=N;return $._p=new Promise(function(G,te){$.onload=G,$.onerror=te}),Er(N,"link",x),c.state.loading|=4,ug(N,m.precedence,s),c.instance=N;case"script":return N=bd(m.src),(T=s.querySelector($h(N)))?(c.instance=T,In(T),T):(x=m,(T=ua.get(N))&&(x=p({},m),N_(x,T)),s=s.ownerDocument||s,T=s.createElement("script"),In(T),Er(T,"link",x),s.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,ug(x,m.precedence,s));return c.instance}function ug(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,N=T,$=0;$<x.length;$++){var G=x[$];if(G.dataset.precedence===c)N=G;else if(N!==T)break}N?N.parentNode.insertBefore(s,N.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function j_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function N_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var dg=null;function TC(s,c,m){if(dg===null){var x=new Map,T=dg=new Map;T.set(m,x)}else T=dg,x=T.get(m),x||(x=new Map,T.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),T=0;T<m.length;T++){var N=m[T];if(!(N[ac]||N[Ln]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(c)||"";$=s+$;var G=x.get($);G?G.push(N):x.set($,[N])}}return x}function AC(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function RG(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function jC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function LG(s,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var T=gd(x.href),N=c.querySelector(Ih(T));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=fg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=N,In(N);return}N=c.ownerDocument||c,x=kC(x),(T=ua.get(T))&&j_(x,T),N=N.createElement("link"),In(N);var $=N;$._p=new Promise(function(G,te){$.onload=G,$.onerror=te}),Er(N,"link",x),m.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=fg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var O_=0;function IG(s,c){return s.stylesheets&&s.count===0&&mg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var x=setTimeout(function(){if(s.stylesheets&&mg(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+c);0<s.imgBytes&&O_===0&&(O_=62500*bG());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&mg(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>O_?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(T)}}:null}function fg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hg=null;function mg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hg=new Map,c.forEach($G,s),hg=null,fg.call(s))}function $G(s,c){if(!(c.state.loading&4)){var m=hg.get(s);if(m)var x=m.get(null);else{m=new Map,hg.set(s,m);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var $=T[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(m.set($.dataset.precedence,$),x=$)}x&&m.set(null,x)}T=c.instance,$=T.getAttribute("data-precedence"),N=m.get($)||x,N===x&&m.set(null,T),m.set($,T),this.count++,x=fg.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),N?N.parentNode.insertBefore(T,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),c.state.loading|=4}}var Bh={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function BG(s,c,m,x,T,N,$,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uf(0),this.hiddenUpdates=Uf(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function NC(s,c,m,x,T,N,$,G,te,pe,ke,je){return s=new BG(s,c,m,$,te,pe,ke,je,G),c=1,N===!0&&(c|=24),N=Ir(3,null,null,c),s.current=N,N.stateNode=s,c=cw(),c.refCount++,s.pooledCache=c,c.refCount++,N.memoizedState={element:x,isDehydrated:m,cache:c},hw(N),s}function OC(s){return s?(s=ts,s):ts}function CC(s,c,m,x,T,N){T=OC(T),x.context===null?x.context=T:x.pendingContext=T,x=ml(c),x.payload={element:m},N=N===void 0?null:N,N!==null&&(x.callback=N),m=pl(s,x,c),m!==null&&(pi(m,s,c),bh(m,s,c))}function MC(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function C_(s,c){MC(s,c),(s=s.alternate)&&MC(s,c)}function DC(s){if(s.tag===13||s.tag===31){var c=oa(s,67108864);c!==null&&pi(c,s,67108864),C_(s,67108864)}}function PC(s){if(s.tag===13||s.tag===31){var c=Ri();c=ii(c);var m=oa(s,c);m!==null&&pi(m,s,c),C_(s,c)}}var pg=!0;function zG(s,c,m,x){var T=Y.T;Y.T=null;var N=X.p;try{X.p=2,M_(s,c,m,x)}finally{X.p=N,Y.T=T}}function UG(s,c,m,x){var T=Y.T;Y.T=null;var N=X.p;try{X.p=8,M_(s,c,m,x)}finally{X.p=N,Y.T=T}}function M_(s,c,m,x){if(pg){var T=D_(x);if(T===null)y_(s,c,x,gg,m),LC(s,x);else if(HG(T,s,c,m,x))x.stopPropagation();else if(LC(s,x),c&4&&-1<FG.indexOf(s)){for(;T!==null;){var N=Ws(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=ri(N.pendingLanes);if($!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;$;){var te=1<<31-Et($);G.entanglements[1]|=te,$&=~te}ko(N),(Dt&6)===0&&(J0=Ge()+500,Dh(0))}}break;case 31:case 13:G=oa(N,2),G!==null&&pi(G,N,2),eg(),C_(N,2)}if(N=D_(x),N===null&&y_(s,c,x,gg,m),N===T)break;T=N}T!==null&&x.stopPropagation()}else y_(s,c,x,null,m)}}function D_(s){return s=uc(s),P_(s)}var gg=null;function P_(s){if(gg=null,s=Vo(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return gg=s,null}function RC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Pe:return 2;case ze:return 8;case lt:case gt:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var R_=!1,Tl=null,Al=null,jl=null,zh=new Map,Uh=new Map,Nl=[],FG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LC(s,c){switch(s){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":zh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(c.pointerId)}}function Fh(s,c,m,x,T,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:N,targetContainers:[T]},c!==null&&(c=Ws(c),c!==null&&DC(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),s)}function HG(s,c,m,x,T){switch(c){case"focusin":return Tl=Fh(Tl,s,c,m,x,T),!0;case"dragenter":return Al=Fh(Al,s,c,m,x,T),!0;case"mouseover":return jl=Fh(jl,s,c,m,x,T),!0;case"pointerover":var N=T.pointerId;return zh.set(N,Fh(zh.get(N)||null,s,c,m,x,T)),!0;case"gotpointercapture":return N=T.pointerId,Uh.set(N,Fh(Uh.get(N)||null,s,c,m,x,T)),!0}return!1}function IC(s){var c=Vo(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,Hf(s.priority,function(){PC(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,Hf(s.priority,function(){PC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=D_(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);Lu=x,m.target.dispatchEvent(x),Lu=null}else return c=Ws(m),c!==null&&DC(c),s.blockedOn=m,!1;c.shift()}return!0}function $C(s,c,m){bg(s)&&m.delete(c)}function GG(){R_=!1,Tl!==null&&bg(Tl)&&(Tl=null),Al!==null&&bg(Al)&&(Al=null),jl!==null&&bg(jl)&&(jl=null),zh.forEach($C),Uh.forEach($C)}function yg(s,c){s.blockedOn===c&&(s.blockedOn=null,R_||(R_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GG)))}var vg=null;function BC(s){vg!==s&&(vg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vg===s&&(vg=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],T=s[c+2];if(typeof x!="function"){if(P_(x||m)===null)continue;break}var N=Ws(m);N!==null&&(s.splice(c,3),c-=3,Dw(N,{pending:!0,data:T,method:m.method,action:x},x,T))}}))}function yd(s){function c(te){return yg(te,s)}Tl!==null&&yg(Tl,s),Al!==null&&yg(Al,s),jl!==null&&yg(jl,s),zh.forEach(c),Uh.forEach(c);for(var m=0;m<Nl.length;m++){var x=Nl[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<Nl.length&&(m=Nl[0],m.blockedOn===null);)IC(m),m.blockedOn===null&&Nl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var T=m[x],N=m[x+1],$=T[sr]||null;if(typeof N=="function")$||BC(m);else if($){var G=null;if(N&&N.hasAttribute("formAction")){if(T=N,$=N[sr]||null)G=$.formAction;else if(P_(T)!==null)continue}else G=$.action;typeof G=="function"?m[x+1]=G:(m.splice(x,3),x-=3),BC(m)}}}function zC(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function($){return T=$})},focusReset:"manual",scroll:"manual"})}function c(){T!==null&&(T(),T=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),T!==null&&(T(),T=null)}}}function L_(s){this._internalRoot=s}xg.prototype.render=L_.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,x=Ri();CC(m,x,s,c,null,null)},xg.prototype.unmount=L_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;CC(s.current,2,null,s,null,null),eg(),c[Wo]=null}};function xg(s){this._internalRoot=s}xg.prototype.unstable_scheduleHydration=function(s){if(s){var c=Ff();s={blockedOn:null,target:s,priority:c};for(var m=0;m<Nl.length&&c!==0&&c<Nl[m].priority;m++);Nl.splice(m,0,s),m===0&&IC(s)}};var UC=t.version;if(UC!=="19.2.1")throw Error(r(527,UC,"19.2.1"));X.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var YG={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{or=wg.inject(YG),sn=wg}catch{}}return Gh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,x="",T=WN,N=VN,$=ZN;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError)),c=NC(s,1,!1,null,null,m,x,null,T,N,$,zC),s[Wo]=c.current,b_(s),new L_(c)},Gh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var x=!1,T="",N=WN,$=VN,G=ZN,te=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=NC(s,1,!0,c,m??null,x,T,te,N,$,G,zC),c.context=OC(null),m=c.current,x=Ri(),x=ii(x),T=ml(x),T.callback=null,pl(m,T,x),m=x,c.current.lanes=m,Ko(c,m),ko(c),s[Wo]=c.current,b_(s),new xg(c)},Gh.version="19.2.1",Gh}var XC;function eY(){if(XC)return $_.exports;XC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$_.exports=QG(),$_.exports}var tY=eY(),_=gf();const Qt=ki(_),nY=$E({__proto__:null,default:Qt},[_]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JC="popstate";function rY(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return Tk("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rm(i)}return aY(t,n,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iY(){return Math.random().toString(36).substring(2,10)}function QC(e,t){return{usr:e.state,key:e.key,idx:t}}function Tk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bf(t):t,state:n,key:t&&t.key||r||iY()}}function Rm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function aY(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let S=h(),j=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:j})}function b(S,j){l="PUSH";let O=Tk(w.location,S,j);d=h()+1;let A=QC(O,d),C=w.createHref(O);try{o.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function y(S,j){l="REPLACE";let O=Tk(w.location,S,j);d=h();let A=QC(O,d),C=w.createHref(O);o.replaceState(A,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function k(S){return oY(S)}let w={get action(){return l},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(JC,p),u=S,()=>{i.removeEventListener(JC,p),u=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let j=k(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:y,go(S){return o.go(S)}};return w}function oY(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Rm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Q5(e,t,n="/"){return sY(e,t,n,!1)}function sY(e,t,n,r){let i=typeof t=="string"?bf(t):t,a=Os(i.pathname||"/",n);if(a==null)return null;let o=e$(e);lY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=vY(a);l=bY(o[u],d,r)}return l}function e$(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;pn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=As([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(pn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),e$(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:pY(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of t$(o.path))a(o,l,!0,u)}),t}function t$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=t$(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function lY(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gY(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cY=/^:[\w-]+$/,uY=3,dY=2,fY=1,hY=10,mY=-2,eM=e=>e==="*";function pY(e,t){let n=e.split("/"),r=n.length;return n.some(eM)&&(r+=mY),t&&(r+=dY),n.filter(i=>!eM(i)).reduce((i,a)=>i+(cY.test(a)?uY:a===""?fY:hY),r)}function gY(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function bY(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Zb({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Zb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:As([a,p.pathname]),pathnameBase:kY(As([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=As([a,p.pathnameBase]))}return o}function Zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yY(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[b];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function yY(e,t=!1,n=!0){Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var xY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wY=e=>xY.test(e);function _Y(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bf(e):e,a;if(n)if(wY(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Sa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=tM(n.substring(1),"/"):a=tM(n,t)}else a=t;return{pathname:a,search:EY(r),hash:TY(i)}}function tM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function H_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SY(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function BE(e){let t=SY(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zE(e,t,n,r=!1){let i;typeof e=="string"?i=bf(e):(i={...e},pn(!i.pathname||!i.pathname.includes("?"),H_("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),H_("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),H_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=_Y(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var As=e=>e.join("/").replace(/\/\/+/g,"/"),kY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function jY(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n$=["POST","PUT","PATCH","DELETE"];new Set(n$);var NY=["GET",...n$];new Set(NY);var yf=_.createContext(null);yf.displayName="DataRouter";var Av=_.createContext(null);Av.displayName="DataRouterState";_.createContext(!1);var r$=_.createContext({isTransitioning:!1});r$.displayName="ViewTransition";var OY=_.createContext(new Map);OY.displayName="Fetchers";var CY=_.createContext(null);CY.displayName="Await";var Na=_.createContext(null);Na.displayName="Navigation";var gp=_.createContext(null);gp.displayName="Location";var Ho=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ho.displayName="Route";var UE=_.createContext(null);UE.displayName="RouteError";function MY(e,{relative:t}={}){pn(vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Na),{hash:i,pathname:a,search:o}=bp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:As([n,a])),r.createHref({pathname:l,search:o,hash:i})}function vf(){return _.useContext(gp)!=null}function Gr(){return pn(vf(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(gp).location}var i$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a$(e){_.useContext(Na).static||_.useLayoutEffect(e)}function Jl(){let{isDataRoute:e}=_.useContext(Ho);return e?YY():DY()}function DY(){pn(vf(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(yf),{basename:t,navigator:n}=_.useContext(Na),{matches:r}=_.useContext(Ho),{pathname:i}=Gr(),a=JSON.stringify(BE(r)),o=_.useRef(!1);return a$(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(Sa(o.current,i$),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=zE(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:As([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}_.createContext(null);function bp(e,{relative:t}={}){let{matches:n}=_.useContext(Ho),{pathname:r}=Gr(),i=JSON.stringify(BE(n));return _.useMemo(()=>zE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function PY(e,t){return o$(e,t)}function o$(e,t,n,r,i){pn(vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Na),{matches:o}=_.useContext(Ho),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";s$(d,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=Gr(),y;if(t){let O=typeof t=="string"?bf(t):t;pn(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let k=y.pathname||"/",w=k;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=Q5(e,{pathname:w});Sa(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Sa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=BY(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:As([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:As([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return t&&j?_.createElement(gp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function RY(){let e=GY(),t=AY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,o)}var LY=_.createElement(RY,null),IY=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(Ho.Provider,{value:this.props.routeContext},_.createElement(UE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $Y({routeContext:e,match:t,children:n}){let r=_.useContext(yf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ho.Provider,{value:e},n)}function BY(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);pn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:y}=n,k=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jY(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let y,k=!1,w=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||LY,l&&(u<0&&b===0?(s$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):u===b&&(k=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,b+1)),O=()=>{let A;return y?A=w:k?A=S:p.route.Component?A=_.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,_.createElement($Y,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?_.createElement(IY,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):O()},null)}function FE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zY(e){let t=_.useContext(yf);return pn(t,FE(e)),t}function UY(e){let t=_.useContext(Av);return pn(t,FE(e)),t}function FY(e){let t=_.useContext(Ho);return pn(t,FE(e)),t}function HE(e){let t=FY(e),n=t.matches[t.matches.length-1];return pn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function HY(){return HE("useRouteId")}function GY(){let e=_.useContext(UE),t=UY("useRouteError"),n=HE("useRouteError");return e!==void 0?e:t.errors?.[n]}function YY(){let{router:e}=zY("useNavigate"),t=HE("useNavigate"),n=_.useRef(!1);return a$(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{Sa(n.current,i$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var nM={};function s$(e,t,n){!t&&!nM[e]&&(nM[e]=!0,Sa(!1,n))}_.memo(qY);function qY({routes:e,future:t,state:n,unstable_onError:r}){return o$(e,void 0,n,r,t)}function KY({to:e,replace:t,state:n,relative:r}){pn(vf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Na);Sa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Ho),{pathname:o}=Gr(),l=Jl(),u=zE(e,BE(a),o,r==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function Ha(e){pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WY({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){pn(!vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=bf(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:y="default"}=n,k=_.useMemo(()=>{let w=Os(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:y},navigationType:r}},[l,d,h,p,b,y,r]);return Sa(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Na.Provider,{value:u},_.createElement(gp.Provider,{children:t,value:k}))}function VY({children:e,location:t}){return PY(Ak(e),t)}function Ak(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let a=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Ak(r.props.children,a));return}pn(r.type===Ha,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ak(r.props.children,a)),n.push(o)}),n}var Mb="get",Db="application/x-www-form-urlencoded";function jv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ZY(e){return jv(e)&&e.tagName.toLowerCase()==="button"}function XY(e){return jv(e)&&e.tagName.toLowerCase()==="form"}function JY(e){return jv(e)&&e.tagName.toLowerCase()==="input"}function QY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eq(e,t){return e.button===0&&(!t||t==="_self")&&!QY(e)}var _g=null;function tq(){if(_g===null)try{new FormData(document.createElement("form"),0),_g=!1}catch{_g=!0}return _g}var nq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function G_(e){return e!=null&&!nq.has(e)?(Sa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Db}"`),null):e}function rq(e,t){let n,r,i,a,o;if(XY(e)){let l=e.getAttribute("action");r=l?Os(l,t):null,n=e.getAttribute("method")||Mb,i=G_(e.getAttribute("enctype"))||Db,a=new FormData(e)}else if(ZY(e)||JY(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Os(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Mb,i=G_(e.getAttribute("formenctype"))||G_(l.getAttribute("enctype"))||Db,a=new FormData(l,e),!tq()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(jv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mb,r=null,i=Db,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function GE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Os(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function aq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function sq(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await aq(a,n);return o.links?o.links():[]}return[]}));return dq(r.flat(1).filter(oq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rM(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function lq(e,t,{includeHydrateFallback:n}={}){return cq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function cq(e){return[...new Set(e)]}function uq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function dq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(uq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function l$(){let e=_.useContext(yf);return GE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fq(){let e=_.useContext(Av);return GE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var YE=_.createContext(void 0);YE.displayName="FrameworkContext";function c$(){let e=_.useContext(YE);return GE(e,"You must render this element inside a <HydratedRouter> element"),e}function hq(e,t){let n=_.useContext(YE),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=j=>{j.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Yh(l,y),onBlur:Yh(u,k),onMouseEnter:Yh(d,y),onMouseLeave:Yh(h,k),onTouchStart:Yh(p,y)}]:[!1,b,{}]}function Yh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mq({page:e,...t}){let{router:n}=l$(),r=_.useMemo(()=>Q5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(gq,{page:e,matches:r,...t}):null}function pq(e){let{manifest:t,routeModules:n}=c$(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return sq(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function gq({page:e,matches:t,...n}){let r=Gr(),{manifest:i,routeModules:a}=c$(),{basename:o}=l$(),{loaderData:l,matches:u}=fq(),d=_.useMemo(()=>rM(e,t,u,i,r,"data"),[e,t,u,i,r]),h=_.useMemo(()=>rM(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(t.forEach(j=>{let O=i.routes[j.route.id];!O||!O.hasLoader||(!d.some(A=>A.route.id===j.route.id)&&j.route.id in l&&a[j.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:k.add(j.route.id))}),k.size===0)return[];let S=iq(e,o,"data");return w&&k.size>0&&S.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,t,e,a]),b=_.useMemo(()=>lq(h,i),[h,i]),y=pq(h);return _.createElement(_.Fragment,null,p.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),y.map(({key:k,link:w})=>_.createElement("link",{key:k,nonce:n.nonce,...w})))}function bq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var u$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u$&&(window.__reactRouterVersion="7.10.1")}catch{}function yq({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current==null&&(i.current=rY({window:r,v5Compat:!0}));let a=i.current,[o,l]=_.useState({action:a.action,location:a.location}),u=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.createElement(WY,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var d$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qE=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},y){let{basename:k,unstable_useTransitions:w}=_.useContext(Na),S=typeof d=="string"&&d$.test(d),j,O=!1;if(typeof d=="string"&&S&&(j=d,u$))try{let q=new URL(window.location.href),H=d.startsWith("//")?new URL(q.protocol+d):new URL(d),B=Os(H.pathname,k);H.origin===q.origin&&B!=null?d=B+H.search+H.hash:O=!0}catch{Sa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=MY(d,{relative:i}),[C,D,P]=hq(r,b),I=_q(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:w});function U(q){t&&t(q),q.defaultPrevented||I(q)}let W=_.createElement("a",{...b,...P,href:j||A,onClick:O||a?t:U,ref:bq(y,D),target:u,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?_.createElement(_.Fragment,null,W,_.createElement(mq,{page:A})):W});qE.displayName="Link";var vq=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=bp(o,{relative:d.relative}),b=Gr(),y=_.useContext(Av),{navigator:k,basename:w}=_.useContext(Na),S=y!=null&&Aq(p)&&l===!0,j=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,O=b.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&w&&(A=Os(A,w)||A);const C=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let D=O===j||!i&&O.startsWith(j)&&O.charAt(C)==="/",P=A!=null&&(A===j||!i&&A.startsWith(j)&&A.charAt(j.length)==="/"),I={isActive:D,isPending:P,isTransitioning:S},U=D?t:void 0,W;typeof r=="function"?W=r(I):W=[r,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(I):a;return _.createElement(qE,{...d,"aria-current":U,className:W,ref:h,style:q,to:o,viewTransition:l},typeof u=="function"?u(I):u)});vq.displayName="NavLink";var xq=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Mb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},y)=>{let{unstable_useTransitions:k}=_.useContext(Na),w=Eq(),S=Tq(l,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&d$.test(l),A=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,I=()=>w(D||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});k&&n!==!1?_.startTransition(()=>I()):I()};return _.createElement("form",{ref:y,method:j,action:S,onSubmit:r?u:A,...b,"data-discover":!O&&e==="render"?"true":void 0})});xq.displayName="Form";function wq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f$(e){let t=_.useContext(yf);return pn(t,wq(e)),t}function _q(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=Jl(),d=Gr(),h=bp(e,{relative:a});return _.useCallback(p=>{if(eq(p,t)){p.preventDefault();let b=n!==void 0?n:Rm(d)===Rm(h),y=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?_.startTransition(()=>y()):y()}},[d,u,h,n,r,t,e,i,a,o,l])}var Sq=0,kq=()=>`__${String(++Sq)}__`;function Eq(){let{router:e}=f$("useSubmit"),{basename:t}=_.useContext(Na),n=HY(),r=e.fetch,i=e.navigate;return _.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=rq(a,t);if(o.navigate===!1){let b=o.fetcherKey||kq();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function Tq(e,{relative:t}={}){let{basename:n}=_.useContext(Na),r=_.useContext(Ho);pn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...bp(e||".",{relative:t})},o=Gr();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:As([n,a.pathname])),Rm(a)}function Aq(e,{relative:t}={}){let n=_.useContext(r$);pn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f$("useViewTransitionState"),i=bp(e,{relative:t});if(!n.isTransitioning)return!1;let a=Os(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Os(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zb(i.pathname,o)!=null||Zb(i.pathname,a)!=null}var ju=J5();const jq=ki(ju);let Nq={data:""},Oq=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Nq,Cq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Mq=/\/\*[^]*?\*\/|  +/g,iM=/\n+/g,Pl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Pl(o,a):a+"{"+Pl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Pl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Pl.p?Pl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},gs={},h$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+h$(e[n]);return t}return e},Dq=(e,t,n,r,i)=>{let a=h$(e),o=gs[a]||(gs[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!gs[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=Cq.exec(d.replace(Mq,""));)h[4]?b.shift():h[3]?(p=h[3].replace(iM," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(iM," ").trim();return b[0]})(e);gs[o]=Pl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&gs.g?gs.g:null;return n&&(gs.g=gs[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(gs[o],t,r,l),o},Pq=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Pl(l,""):l===!1?"":l}return r+i+(o??"")},"");function Nv(e){let t=this||{},n=e.call?e(t.p):e;return Dq(n.unshift?n.raw?Pq(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Oq(t.target),t.g,t.o,t.k)}let m$,jk,Nk;Nv.bind({g:1});let Cs=Nv.bind({k:1});function Rq(e,t,n,r){Pl.p=t,m$=e,jk=n,Nk=r}function Ql(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:jk&&jk()},l),n.o=/ *go\d+/.test(u),l.className=Nv.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Nk&&d[0]&&Nk(l),m$(d,l)}return i}}var Lq=e=>typeof e=="function",Xb=(e,t)=>Lq(e)?e(t):e,Iq=(()=>{let e=0;return()=>(++e).toString()})(),p$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),$q=20,KE="default",g$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return g$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Pb=[],b$={toasts:[],pausedAt:void 0,settings:{toastLimit:$q}},Po={},y$=(e,t=KE)=>{Po[t]=g$(Po[t]||b$,e),Pb.forEach(([n,r])=>{n===t&&r(Po[t])})},v$=e=>Object.keys(Po).forEach(t=>y$(e,t)),Bq=e=>Object.keys(Po).find(t=>Po[t].toasts.some(n=>n.id===e)),Ov=(e=KE)=>t=>{y$(t,e)},zq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Uq=(e={},t=KE)=>{let[n,r]=_.useState(Po[t]||b$),i=_.useRef(Po[t]);_.useEffect(()=>(i.current!==Po[t]&&r(Po[t]),Pb.push([t,r]),()=>{let o=Pb.findIndex(([l])=>l===t);o>-1&&Pb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||zq[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},Fq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Iq()}),yp=e=>(t,n)=>{let r=Fq(t,e,n);return Ov(r.toasterId||Bq(r.id))({type:2,toast:r}),r.id},Rn=(e,t)=>yp("blank")(e,t);Rn.error=yp("error");Rn.success=yp("success");Rn.loading=yp("loading");Rn.custom=yp("custom");Rn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ov(t)(n):v$(n)};Rn.dismissAll=e=>Rn.dismiss(void 0,e);Rn.remove=(e,t)=>{let n={type:4,toastId:e};t?Ov(t)(n):v$(n)};Rn.removeAll=e=>Rn.remove(void 0,e);Rn.promise=(e,t,n)=>{let r=Rn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Xb(t.success,i):void 0;return a?Rn.success(a,{id:r,...n,...n?.success}):Rn.dismiss(r),i}).catch(i=>{let a=t.error?Xb(t.error,i):void 0;a?Rn.error(a,{id:r,...n,...n?.error}):Rn.dismiss(r)}),e};var Hq=1e3,Gq=(e,t="default")=>{let{toasts:n,pausedAt:r}=Uq(e,t),i=_.useRef(new Map).current,a=_.useCallback((p,b=Hq)=>{if(i.has(p))return;let y=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,y)},[]);_.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(p-y.createdAt);if(k<0){y.visible&&Rn.dismiss(y.id);return}return setTimeout(()=>Rn.dismiss(y.id,t),k)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[n,r,t]);let o=_.useCallback(Ov(t),[t]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=_.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=_.useCallback((p,b)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:w}=b||{},S=n.filter(A=>(A.position||w)===(p.position||w)&&A.height),j=S.findIndex(A=>A.id===p.id),O=S.filter((A,C)=>C<j&&A.visible).length;return S.filter(A=>A.visible).slice(...y?[O+1]:[0,O]).reduce((A,C)=>A+(C.height||0)+k,0)},[n]);return _.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},Yq=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qq=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kq=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wq=Ql("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Yq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Kq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Vq=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Zq=Ql("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Vq} 1s linear infinite;
`,Xq=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Jq=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qq=Ql("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Jq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eK=Ql("div")`
  position: absolute;
`,tK=Ql("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nK=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rK=Ql("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iK=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(rK,null,t):t:n==="blank"?null:_.createElement(tK,null,_.createElement(Zq,{...r}),n!=="loading"&&_.createElement(eK,null,n==="error"?_.createElement(Wq,{...r}):_.createElement(Qq,{...r})))},aK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,sK="0%{opacity:0;} 100%{opacity:1;}",lK="0%{opacity:1;} 100%{opacity:0;}",cK=Ql("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uK=Ql("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dK=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=p$()?[sK,lK]:[aK(n),oK(n)];return{animation:t?`${Cs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fK=_.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?dK(e.position||t||"top-center",e.visible):{opacity:0},a=_.createElement(iK,{toast:e}),o=_.createElement(uK,{...e.ariaProps},Xb(e.message,e));return _.createElement(cK,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});Rq(_.createElement);var hK=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=_.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:a,className:t,style:n},i)},mK=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:p$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},pK=Nv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sg=16,x$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=Gq(n,a);return _.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Sg,left:Sg,right:Sg,bottom:Sg,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=mK(p,b);return _.createElement(hK,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?pK:"",style:y},h.type==="custom"?Xb(h.message,h):i?i(h):_.createElement(fK,{toast:h,position:p}))}))},pa=Rn;function gK(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const bK=864e5;function yK(e){const t=(e-24405875e-1)*bK;return new Date(t)}function vK(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function xK(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const jm=Math.PI,ru=jm/180,wK=180/jm,_K=86400;function SK(e){return e%=360,e<0?e+360:e}function kK(e,t){return(e-t+540)%360-180}function aM(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function EK(e){const[t,n]=xK(e);return e+vK(t,Math.round(n))/_K}function oM(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function TK(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*ru,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*ru,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*ru,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*ru,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*ru,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,y,k,w,S,j,O]of l){const A=h*n+p*r+b*i+y*a+k*o;u+=(w+S*t)*Math.sin(A),d+=(j+O*t)*Math.cos(A)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function kg(e){const t=EK(e),n=(t-2451545)/365250,r=oM(sM.L,n),i=oM(sM.R,n);let a=r+jm;a>2*jm&&(a-=2*jm);const{dpsi:o}=TK(t),l=o/3600*ru,u=20.4898/(3600*i),d=a+l-u*ru;return SK(d*wK)}function Nn(e,t,n){const r=(t%360+360)%360,i=gK(e,1,1),a=kg(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const y=kg(l),k=kK(r,y);if(Math.abs(k)<u)break;const w=kg(l+d),S=kg(l-d),j=aM(w,y),O=aM(S,y),A=(j-O)/(2*d);l+=k/A}const h=yK(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const sM={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},AK=(e,t)=>(e%t+t)%t,WE=(e,t)=>(e%t+t)%t,w$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),lM=new Map;function _$(e,t=127.5){const n=`${e}@${t}`,r=lM.get(n);if(r)return r;const i=Nn(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return lM.set(n,i),i}function S$(e,t=127.5){if(!w$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=_$(n,t),i=e<r?n-1:n,a=AK(i-4,60);return{useYear:i,index60Num:a}}const Qr=["","","","","","","","","",""],wi=["","","","","","","","","","","",""],Ok={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},so={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},jK=["","","","","","","","","",""],NK=["","","","","","","","","","","",""],OK=["","","","","","","","","","","","","","","","","","","",""],CK=["","","","","","","","","","","","","","","","","","","","","","","",""],Jd=new Set(Qr),Lm=new Set(wi),Kn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},er={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Im=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Jb=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],MK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},DK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function ct(e,t=127.5){const{index60Num:n}=S$(e,t);return Im[n]}function PK(e,t=127.5){return(ct(e,t)||"").charAt(0)}const RK=[2,4,6,8,0,2,4,6,8,0];function LK(e,t=127.5){const n=new Array(12);return n[0]=_$(e,t),n[1]=Nn(e,345,t),n[2]=Nn(e,15,t),n[3]=Nn(e,45,t),n[4]=Nn(e,75,t),n[5]=Nn(e,105,t),n[6]=Nn(e,135,t),n[7]=Nn(e,165,t),n[8]=Nn(e,195,t),n[9]=Nn(e,225,t),n[10]=Nn(e,255,t),n[11]=Nn(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function IK(e,t=127.5){const{useYear:n}=S$(e,t),r=LK(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function $K(e,t=127.5){const n=PK(e,t),r=Ok..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return RK[r]}function BK(e,t,n=127.5){return($K(e,n)+(t-1))%10}function Tt(e,t=127.5){if(!w$(e))return"";const{monthIndex:n}=IK(e,t),r=(2+(n-1))%12,i=Ok.[r],a=BK(e,n,t);return Ok.[a]+i}const Qb={JDN:2445731,idx:0};function k$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function zK(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=HK(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function UK(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function ht(e,t){const n=zK(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=k$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=WE(a-Qb.JDN+Qb.idx,60),l=Im[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function to(e,t){if(!e)return e;const n=Im.indexOf(e);return n<0?e:Im[WE(n+t,60)]??e}function FK(e,t){const n=new Date(e),r=UK(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=k$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=WE(o-Qb.JDN+Qb.idx,60),u=Im[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function HK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Jb.length;n+=1){const{branch:r,start:i,end:a}=Jb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function GK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Jb.length;n+=1){const{branch:r,start:i,end:a}=Jb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function YK(e,t,n,r){const i=Qr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Qr[a]}function no(e,t,n){e instanceof Date||(e=new Date(e));const r=GK(e),i=wi.indexOf(r),o=(n??ht(e,t)).charAt(0);return YK(e,o,i,t)+r}const cM=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},qK=(e=>e?cM(e):cM),KK=e=>e;function WK(e,t=KK){const n=Qt.useSyncExternalStore(e.subscribe,Qt.useCallback(()=>t(e.getState()),[e,t]),Qt.useCallback(()=>t(e.getInitialState()),[e,t]));return Qt.useDebugValue(n),n}const uM=e=>{const t=qK(e),n=r=>WK(t,r);return Object.assign(n,t),n},Go=(e=>e?uM(e):uM);function VK(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Ck=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Ck(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ck(r)(n)}}}},ZK=(e,t)=>(n,r,i)=>{let a={storage:VK(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return d.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,S)=>(p(w,S),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let y;const k=()=>{var w,S;if(!d)return;o=!1,l.forEach(O=>{var A;return O((A=r())!=null?A:b)});const j=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(w=r())!=null?w:b))||void 0;return Ck(d.getItem.bind(d))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const A=a.migrate(O.state,O.version);return A instanceof Promise?A.then(C=>[!0,C]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var A;const[C,D]=O;if(y=a.merge(D,(A=r())!=null?A:b),n(y,!0),C)return h()}).then(()=>{j?.(y,void 0),y=r(),o=!0,u.forEach(O=>O(y))}).catch(O=>{j?.(void 0,O)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||k(),y||b},E$=ZK;var bs={},Eg={},Mk=function(e,t){return Mk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mk(e,t)};function T$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ey=function(){return ey=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ey.apply(this,arguments)};function xf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function A$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function j$(e,t){return function(n,r){t(n,r,e)}}function N$(e,t,n,r,i,a){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,y=n.length-1;y>=0;y--){var k={};for(var w in r)k[w]=w==="access"?{}:r[w];for(var w in r.access)k.access[w]=r.access[w];k.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(j||null))};var S=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(h.get=p),(p=o(S.set))&&(h.set=p),(p=o(S.init))&&i.unshift(p)}else(p=o(S))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function O$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function C$(e){return typeof e=="symbol"?e:"".concat(e)}function M$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function D$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function qe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function P$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Cv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function R$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Cv(t,e,n)}function ty(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function VE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function L$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(VE(arguments[t]));return e}function I$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function $$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Qd(e){return this instanceof Qd?(this.v=e,this):new Qd(e)}function B$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(k){return Promise.resolve(k).then(y,p)}}function l(y,k){r[y]&&(i[y]=function(w){return new Promise(function(S,j){a.push([y,w,S,j])>1||u(y,w)})},k&&(i[y]=k(i[y])))}function u(y,k){try{d(r[y](k))}catch(w){b(a[0][3],w)}}function d(y){y.value instanceof Qd?Promise.resolve(y.value.v).then(h,p):b(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function b(y,k){y(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function z$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Qd(e[i](o)),done:!1}:a?a(o):o}:a}}function U$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ty=="function"?ty(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function F$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var XK=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Dk=function(e){return Dk=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Dk(e)};function H$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Dk(e),r=0;r<n.length;r++)n[r]!=="default"&&Cv(t,e,n[r]);return XK(t,e),t}function G$(e){return e&&e.__esModule?e:{default:e}}function Y$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function q$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function K$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function W$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var JK=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function V$(e){function t(a){e.error=e.hasError?new JK(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function Z$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const QK={__extends:T$,__assign:ey,__rest:xf,__decorate:A$,__param:j$,__esDecorate:N$,__runInitializers:O$,__propKey:C$,__setFunctionName:M$,__metadata:D$,__awaiter:qe,__generator:P$,__createBinding:Cv,__exportStar:R$,__values:ty,__read:VE,__spread:L$,__spreadArrays:I$,__spreadArray:$$,__await:Qd,__asyncGenerator:B$,__asyncDelegator:z$,__asyncValues:U$,__makeTemplateObject:F$,__importStar:H$,__importDefault:G$,__classPrivateFieldGet:Y$,__classPrivateFieldSet:q$,__classPrivateFieldIn:K$,__addDisposableResource:W$,__disposeResources:V$,__rewriteRelativeImportExtension:Z$},eW=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:W$,get __assign(){return ey},__asyncDelegator:z$,__asyncGenerator:B$,__asyncValues:U$,__await:Qd,__awaiter:qe,__classPrivateFieldGet:Y$,__classPrivateFieldIn:K$,__classPrivateFieldSet:q$,__createBinding:Cv,__decorate:A$,__disposeResources:V$,__esDecorate:N$,__exportStar:R$,__extends:T$,__generator:P$,__importDefault:G$,__importStar:H$,__makeTemplateObject:F$,__metadata:D$,__param:j$,__propKey:C$,__read:VE,__rest:xf,__rewriteRelativeImportExtension:Z$,__runInitializers:O$,__setFunctionName:M$,__spread:L$,__spreadArray:$$,__spreadArrays:I$,__values:ty,default:QK},Symbol.toStringTag,{value:"Module"})),tW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Mv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},X$=class extends Mv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Pk=class extends Mv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Rk=class extends Mv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var ny;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ny||(ny={}));class nW{constructor(t,{headers:n={},customFetch:r,region:i=ny.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=tW(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return qe(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:y}=r;y||(y=this.region);const k=new URL(`${this.url}/${n}`);y&&y!=="any"&&(b["x-region"]=y,k.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(b["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(b["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let S=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const j=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:S}).catch(D=>{throw new X$(D)}),O=j.headers.get("x-relay-error");if(O&&O==="true")throw new Pk(j);if(!j.ok)throw new Rk(j);let A=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield j.json():A==="application/octet-stream"||A==="application/pdf"?C=yield j.blob():A==="text/event-stream"?C=j:A==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof Rk||l instanceof Pk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const rW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ny},FunctionsClient:nW,FunctionsError:Mv,FunctionsFetchError:X$,FunctionsHttpError:Rk,FunctionsRelayError:Pk},Symbol.toStringTag,{value:"Module"})),J$=pp(rW);var Br={};const wf=pp(eW);var Tg={},Ag={},jg={},Ng={},Og={},Cg={},dM;function Q$(){if(dM)return Cg;dM=1,Object.defineProperty(Cg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Cg.default=e,Cg}var fM;function eB(){if(fM)return Og;fM=1,Object.defineProperty(Og,"__esModule",{value:!0});const t=wf.__importDefault(Q$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let y=null,k=null,w=null,S=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=D:k=JSON.parse(D))}const A=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(y={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,w=null,S=406,j="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const A=await u.text();try{y=JSON.parse(A),Array.isArray(y)&&u.status===404&&(k=[],y=null,S=200,j="OK")}catch{u.status===404&&A===""?(S=204,j="No Content"):y={message:A}}if(y&&this.isMaybeSingle&&(!((b=y?.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,S=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:k,count:w,status:S,statusText:j}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,y,k;let w="";const S=u?.cause;if(S){const j=(d=S?.message)!==null&&d!==void 0?d:"",O=(h=S?.code)!==null&&h!==void 0?h:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,O&&(w+=` (${O})`),S?.stack&&(w+=`
${S.stack}`)}else w=(y=u?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return Og.default=n,Og}var hM;function tB(){if(hM)return Ng;hM=1,Object.defineProperty(Ng,"__esModule",{value:!0});const t=wf.__importDefault(eB());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Ng.default=n,Ng}var mM;function ZE(){if(mM)return jg;mM=1,Object.defineProperty(jg,"__esModule",{value:!0});const t=wf.__importDefault(tB()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return jg.default=r,jg}var pM;function nB(){if(pM)return Ag;pM=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=wf.__importDefault(ZE());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(p.length>0){const b=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Ag.default=n,Ag}var gM;function iW(){if(gM)return Tg;gM=1,Object.defineProperty(Tg,"__esModule",{value:!0});const e=wf,t=e.__importDefault(nB()),n=e.__importDefault(ZE());let r=class rB{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new rB(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{b.searchParams.append(w,S)})):(p="POST",y=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:k,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return Tg.default=r,Tg}var bM;function iB(){if(bM)return Br;bM=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.PostgrestError=Br.PostgrestBuilder=Br.PostgrestTransformBuilder=Br.PostgrestFilterBuilder=Br.PostgrestQueryBuilder=Br.PostgrestClient=void 0;const e=wf,t=e.__importDefault(iW());Br.PostgrestClient=t.default;const n=e.__importDefault(nB());Br.PostgrestQueryBuilder=n.default;const r=e.__importDefault(ZE());Br.PostgrestFilterBuilder=r.default;const i=e.__importDefault(tB());Br.PostgrestTransformBuilder=i.default;const a=e.__importDefault(eB());Br.PostgrestBuilder=a.default;const o=e.__importDefault(Q$());return Br.PostgrestError=o.default,Br.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Br}class aB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const aW="2.86.2",oW=`realtime-js/${aW}`,oB="1.0.0",sW="2.0.0",yM=oB,Lk=1e4,lW=1e3,cW=100;var iu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(iu||(iu={}));var Hn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hn||(Hn={}));var qa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qa||(qa={}));var Ik;(function(e){e.websocket="websocket"})(Ik||(Ik={}));var au;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(au||(au={}));class uW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(y),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,o.length),k.setUint8(w++,d.length),k.setUint8(w++,p.length),k.setUint8(w++,n),Array.from(u,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(l,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(o,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(d,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(p,j=>k.setUint8(w++,j.charCodeAt(0)));var S=new Uint8Array(y.byteLength+r.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(r),y.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class sB{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Jt||(Jt={}));const vM=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=dW(o,e,t,i),a),{}):{}},dW=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?lB(a,o):$k(o)},lB=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return pW(t,n)}switch(e){case Jt.bool:return fW(t);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return hW(t);case Jt.json:case Jt.jsonb:return mW(t);case Jt.timestamp:return gW(t);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return $k(t);default:return $k(t)}},$k=e=>e,fW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>lB(t,l))}return e},gW=e=>typeof e=="string"?e.replace(" ","T"):e,cB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Y_{constructor(t,n,r={},i=Lk){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bk||(Bk={}));let uB=class Rb{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rb.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Rb.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rb.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),k=h.filter(S=>y.indexOf(S.presence_ref)<0),w=p.filter(S=>b.indexOf(S.presence_ref)<0);k.length>0&&(l[d]=k),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(y=>y.presence_ref),b=h.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zk||(zk={}));var Yd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yd||(Yd={}));var No;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(No||(No={}));const bW=Hn;let dB=class fB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Hn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Y_(this,qa.join,this.params,this.timeout),this.rejoinTimer=new sB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new uB(this),this.broadcastEndpointURL=cB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Hn.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Yd.PRESENCE]&&this.bindings[Yd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(No.CHANNEL_ERROR,y)),this._onClose(()=>t?.(No.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t?.(No.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(k=w?.length)!==null&&k!==void 0?k:0,j=[];for(let O=0;O<S;O++){const A=w[O],{filter:{event:C,schema:D,table:P,filter:I}}=A,U=y&&y[O];if(U&&U.event===C&&U.schema===D&&U.table===P&&U.filter===I)j.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),this.state=Hn.errored,t?.(No.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(No.SUBSCRIBED);return}}).receive("error",y=>{this.state=Hn.errored,t?.(No.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(No.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Hn.joined&&t===Yd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Y_(this,qa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Y_(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cW){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=qa;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,w,S;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var k,w,S,j,O,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,D=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(O=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:w,table:S,commit_timestamp:j,type:O,errors:A}=k;b=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:j,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(k))}y.callback(b,r)})}_isClosed(){return this.state===Hn.closed}_isJoined(){return this.state===Hn.joined}_isJoining(){return this.state===Hn.joining}_isLeaving(){return this.state===Hn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&fB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qa.close,{},t)}_onError(t){this._on(qa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vM(t.columns,t.old_record)),n}};const q_=()=>{},Mg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yW=[1e3,2e3,5e3,1e4],vW=1e4,xW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let wW=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lk,this.transport=null,this.heartbeatIntervalMs=Mg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q_,this.ref=0,this.reconnectTimer=null,this.vsn=yM,this.logger=q_,this.conn=null,this.sendBuffer=[],this.serializer=new uW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ik.websocket}`,this.httpEndpoint=cB(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case iu.connecting:return au.Connecting;case iu.open:return au.Open;case iu.closing:return au.Closing;default:return au.Closed}}isConnected(){return this.connectionState()===au.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new dB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lW,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===iu.open||this.conn.readyState===iu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([xW],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:oW};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Lk,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Mg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:q_,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:yM,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>yW[k-1]||vW),this.vsn){case oB:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,w)=>w(JSON.stringify(k))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((k,w)=>w(JSON.parse(k)));break;case sW:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const _W=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:bW,get REALTIME_LISTEN_TYPES(){return Yd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return zk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Bk},get REALTIME_SUBSCRIBE_STATES(){return No},RealtimeChannel:dB,RealtimeClient:wW,RealtimePresence:uB,WebSocketFactory:aB},Symbol.toStringTag,{value:"Module"})),hB=pp(_W);class vp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function un(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mB extends vp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ry extends vp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const XE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SW=()=>Response,Uk=e=>{if(Array.isArray(e))return e.map(n=>Uk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Uk(r)}),t},kW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},EW=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),K_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},TW=(e,t,n)=>qe(void 0,void 0,void 0,function*(){const r=yield SW();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new mB(K_(i),a,o))}).catch(i=>{t(new ry(K_(i),i))}):t(new ry(K_(e),e))}),AW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(kW(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function xp(e,t,n,r,i,a){return qe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,AW(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>TW(u,l,r))})})}function $m(e,t,n,r){return qe(this,void 0,void 0,function*(){return xp(e,"GET",t,n,r)})}function Ya(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return xp(e,"POST",t,r,i,n)})}function Fk(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return xp(e,"PUT",t,r,i,n)})}function jW(e,t,n,r){return qe(this,void 0,void 0,function*(){return xp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function JE(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return xp(e,"DELETE",t,r,i,n)})}class NW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return qe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}var pB;class OW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[pB]="BlobDownloadBuilder",this.promise=null}asStream(){return new NW(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}pB=Symbol.toStringTag;const CW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MW{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=XE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return qe(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},xM),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?Fk:Ya)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(un(a))return{data:null,error:a};throw a}})}upload(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:xM.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield Fk(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(un(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ya(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new vp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}update(t,n,r){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ya(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ya(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qe(this,void 0,void 0,function*(){try{const i=yield Ya(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>$m(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new OW(u,this.shouldThrowOnError)}info(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $m(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}exists(t){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r)&&r instanceof ry){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield JE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}list(t,n,r){return qe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},CW),n),{prefix:t||""});return{data:yield Ya(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}listV2(t,n){return qe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ya(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gB="2.86.2",bB={"X-Client-Info":`storage-js/${gB}`};class DW{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bB),n),this.fetch=XE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return qe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield $m(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}getBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield $m(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}createBucket(t){return qe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Fk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield JE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Bm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function PW(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function RW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function LW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=PW(e.baseUrl,r,i),u=await RW(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const y=p?b:void 0,k=y?.error;throw new Bm(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:y})}return{status:d.status,headers:d.headers,data:b}}}}function Dg(e){return e.join("")}var IW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dg(e.namespace)}`}),!0}catch(t){if(t instanceof Bm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Bm&&n.status===409)return;throw n}}};function vd(e){return e.join("")}var $W=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Bm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Bm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},BW=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=LW({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new IW(this.client,t),this.tableOps=new $W(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class yB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bB),n),this.fetch=XE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}listBuckets(t){return qe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield $m(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield JE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}from(t){if(!EW(t))throw new vp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new BW({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>qe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const QE={"X-Client-Info":`storage-js/${gB}`,"Content-Type":"application/json"};class eT extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function vi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Lb extends eT{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vB extends eT{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Hk;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hk||(Hk={}));const Dv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zW=()=>Response,xB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},UW=e=>Array.from(new Float32Array(e)),FW=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},wM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HW=(e,t,n)=>qe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new Lb(wM(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Lb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Lb(l,i,o))}}else t(new vB(wM(e),e))}),GW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(xB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function YW(e,t,n,r,i,a){return qe(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,GW(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>HW(u,l,r))})})}function Ui(e,t,n,r,i){return qe(this,void 0,void 0,function*(){return YW(e,"POST",t,r,i,n)})}class wB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),n),this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Ui(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}listIndexes(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return qe(this,void 0,void 0,function*(){try{return{data:(yield Ui(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}}class _B{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),n),this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ui(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}getVectors(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}listVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ui(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}queryVectors(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return qe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ui(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}}class SB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QE),n),this.fetch=Dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Ui(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}getBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}listBuckets(){return qe(this,arguments,void 0,function*(t={}){try{return{data:yield Ui(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qe(this,void 0,void 0,function*(){try{return{data:(yield Ui(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}}class kB extends SB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new EB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return qe(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return qe(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return qe(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return qe(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class EB extends wB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return qe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return qe(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return qe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return qe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new TB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class TB extends _B{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return qe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return qe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return qe(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return qe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return qe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qW extends DW{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new MW(this.url,this.headers,t,this.fetch)}get vectors(){return new kB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yB(this.url+"/iceberg",this.headers,this.fetch)}}const KW=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:yB,StorageApiError:mB,StorageClient:qW,StorageError:vp,StorageUnknownError:ry,StorageVectorsApiError:Lb,StorageVectorsClient:kB,StorageVectorsError:eT,get StorageVectorsErrorCode(){return Hk},StorageVectorsUnknownError:vB,VectorBucketApi:SB,VectorBucketScope:EB,VectorDataApi:_B,VectorIndexApi:wB,VectorIndexScope:TB,isPlainObject:xB,isStorageError:un,isStorageVectorsError:vi,normalizeToFloat32:UW,resolveFetch:Dv,resolveResponse:zW,validateVectorDimension:FW},Symbol.toStringTag,{value:"Module"})),WW=pp(KW);var W_={},qh={},_M;function VW(){return _M||(_M=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.version=void 0,qh.version="2.86.2"),qh}var SM;function ZW(){return SM||(SM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=VW();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(W_)),W_}var V_={},kM;function XW(){return kM||(kM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=r})(V_)),V_}var ys={},EM;function JW(){if(EM)return ys;EM=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.isBrowser=void 0,ys.uuid=e,ys.ensureTrailingSlash=t,ys.applySettingDefaults=r,ys.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ys.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:y,auth:k,realtime:w,global:S}=o,j={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(l=S?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ys}var Kh={};const AB="2.86.2",Pd=30*1e3,Gk=3,Z_=Gk*Pd,QW="http://localhost:9999",eV="supabase.auth.token",tV={"X-Client-Info":`gotrue-js/${AB}`},Yk="X-Supabase-Api-Version",jB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rV=600*1e3;let ef=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let NB=class extends ef{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function OB(e){return Ze(e)&&e.name==="AuthApiError"}let Rl=class extends ef{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Bs=class extends ef{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},gi=class extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function CB(e){return Ze(e)&&e.name==="AuthSessionMissingError"}let Zc=class extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},xm=class extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},wm=class extends Bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function MB(e){return Ze(e)&&e.name==="AuthImplicitGrantRedirectError"}let qk=class extends Bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},iy=class extends Bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ib(e){return Ze(e)&&e.name==="AuthRetryableFetchError"}let Kk=class extends Bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function iV(e){return Ze(e)&&e.name==="AuthWeakPasswordError"}let ay=class extends Bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const oy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TM=` 	
\r=`.split(""),aV=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TM.length;t+=1)e[TM[t].charCodeAt(0)]=-2;for(let t=0;t<oy.length;t+=1)e[oy[t].charCodeAt(0)]=t;return e})();function AM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oy[r]),t.queuedBits-=6}}function DB(e,t,n){const r=aV[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{lV(o,r,n)};for(let o=0;o<e.length;o+=1)DB(e.charCodeAt(o),i,a);return t.join("")}function oV(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sV(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oV(r,t)}}function lV(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)DB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function cV(e){const t=[];return sV(e,n=>t.push(n)),new Uint8Array(t)}function lu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>AM(i,n,r)),AM(null,n,r),t.join("")}function uV(e){return Math.round(Date.now()/1e3)+e}function dV(){return Symbol("auth-callback")}const jr=()=>typeof window<"u"&&typeof document<"u",zc={tested:!1,writable:!1},PB=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zc.tested)return zc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zc.tested=!0,zc.writable=!0}catch{zc.tested=!0,zc.writable=!1}return zc.writable};function fV(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const RB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Uc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tr=async(e,t)=>{await e.removeItem(t)};class Pv{constructor(){this.promise=new Pv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pv.promiseConstructor=Promise;function X_(e){const t=e.split(".");if(t.length!==3)throw new ay("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!nV.test(t[r]))throw new ay("JWT not in base64url format");return{header:JSON.parse(jM(t[0])),payload:JSON.parse(jM(t[1])),signature:qd(t[2]),raw:{header:t[0],payload:t[1]}}}async function mV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pV(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function gV(e){return("0"+e.toString(16)).substr(-2)}function bV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,gV).join("")}async function yV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function vV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xd(e,t,n=!1){const r=bV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Rd(e,`${t}-code-verifier`,i);const a=await vV(r);return[a,r===a?"plain":"s256"]}const xV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wV(e){const t=e.headers.get(Yk);if(!t||!t.match(xV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _V(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function SV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wd(e){if(!kV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function J_(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EV(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function NM(e){return JSON.parse(JSON.stringify(e))}const Xc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TV=[502,503,504];async function OM(e){var t;if(!hV(e))throw new iy(Xc(e),0);if(TV.includes(e.status))throw new iy(Xc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Rl(Xc(a),a)}let r;const i=wV(e);if(i&&i.getTime()>=jB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Kk(Xc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new gi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Kk(Xc(n),e.status,n.weak_password.reasons);throw new NB(Xc(n),e.status||500,r)}const AV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ot(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[Yk]||(a[Yk]=jB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await jV(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function jV(e,t,n,r,i,a){const o=AV(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new iy(Xc(u),0)}if(l.ok||await OM(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await OM(u)}}function Ga(e){var t;let n=null;CV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uV(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function CM(e){const t=Ga(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ll(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NV(e){return{data:e,error:null}}function OV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=xf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function MM(e){return e}function CV(e){return e.access_token&&e.refresh_token&&e.expires_in}const $b=["global","local","others"];let tT=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=RB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=$b[0]){if($b.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$b.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ll})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OV,redirectTo:n?.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ll})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:MM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ze(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){wd(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ll})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){wd(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ll})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){wd(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ll})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){wd(t.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){wd(t.userId),wd(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:MM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ze(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}};function DM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jc={debug:!!(globalThis&&PB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let LB=class extends nT{};class MV extends nT{}async function IB(e,t,n){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new LB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const PM={};async function DV(e,t,n){var r;const i=(r=PM[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new MV(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return PM[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function PV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $B(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function RV(e){return parseInt(e,16)}function LV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function IV(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=$B(e.address),k=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",S=`${k} wants you to sign in with your Ethereum account:
${y}

${w}`;let j=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),u&&(j+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}j+=O}return`${S}
${j}`}class Gn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class sy extends Gn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function $V({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Gn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Gn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Gn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(BB(o)){if(a.rp.id!==o)return new Gn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Gn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function BV({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(BB(r)){if(n.rpId!==r)return new Gn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const UV=new zV;function FV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=xf(e,["challenge","user","excludeCredentials"]),a=qd(t).buffer,o=Object.assign(Object.assign({},n),{id:qd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:qd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function HV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=xf(e,["challenge","allowCredentials"]),i=qd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:qd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function GV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:lu(new Uint8Array(e.response.attestationObject)),clientDataJSON:lu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lu(new Uint8Array(i.authenticatorData)),clientDataJSON:lu(new Uint8Array(i.clientDataJSON)),signature:lu(new Uint8Array(i.signature)),userHandle:i.userHandle?lu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function RM(){var e,t;return!!(jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",t)}:{data:null,error:new sy("Empty credential response",t)}}catch(t){return{data:null,error:$V({error:t,options:e})}}}async function KV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",t)}:{data:null,error:new sy("Empty credential response",t)}}catch(t){return{data:null,error:BV({error:t,options:e})}}}const WV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ly(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=ly(l,o):r[a]=ly(o)}else r[a]=o}return r}function ZV(e,t){return ly(WV,e,t||{})}function XV(e,t){return ly(VV,e,t||{})}class JV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??UV.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=ZV(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await qV({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=XV(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await KV(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ef("rpId is required for WebAuthn authentication")};try{if(!RM())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new ef("rpId is required for WebAuthn registration")};try{if(!RM())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new Rl("Unexpected error in register",o)}}}}PV();const QV={url:QW,storageKey:eV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function LM(e,t,n){return await n()}const _d={};let rT=class Wk{get jwks(){var t,n;return(n=(t=_d[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){_d[this.storageKey]=Object.assign(Object.assign({},_d[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=_d[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_d[this.storageKey]=Object.assign(Object.assign({},_d[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},QV),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Wk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&jr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tT({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=RB(a.fetch),this.lock=a.lock||LM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:jr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=IB:this.lock=LM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:PB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=DM(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${AB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(jr()&&(n=fV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),jr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),MB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?this._returnResult({error:n}):this._returnResult({error:new Rl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ga}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await xd(this.storage,this.storageKey)),a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:k},xform:Ga})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ga})}else throw new xm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Tr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:CM})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:CM})}else throw new xm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Zc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:w,wallet:S,statement:j,options:O}=t;let A;if(jr())if(typeof S=="object")A=S;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")A=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=$B(D[0]);let I=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const W=await A.request({method:"eth_chainId"});I=RV(W)}const U={domain:C.host,address:P,statement:j,uri:C.href,version:"1",chainId:I,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=IV(U),k=await A.request({method:"personal_sign",params:[LV(y),P]})}try{const{data:w,error:S}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ga});if(S)throw S;if(!w||!w.session||!w.user){const j=new Zc;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(Ze(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,y;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:O,options:A}=t;let C;if(jr())if(typeof j=="object")C=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:S,error:j}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:lu(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ga});if(j)throw j;if(!S||!S.session||!S.user){const O=new Zc;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Ze(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await Uc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ga});if(await Tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ga}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Zc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await xd(this.storage,this.storageKey));const{error:p}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new xm("You must provide either an email or phone number.")}catch(l){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ga});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await xd(this.storage,this.storageKey));const d=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:NV});return!((a=d.data)===null||a===void 0)&&a.url&&jr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new gi;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ze(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new xm("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Uc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Z_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Uc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=J_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=EV(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ll}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ll})})}catch(n){if(Ze(n))return CB(n)&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new gi;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await xd(this.storage,this.storageKey));const{data:d,error:h}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ll});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=X_(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new gi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!jr())throw new wm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qk("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new wm("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const y=b-h;y*1e3<=Pd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const k=b-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:w,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Ze(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Uc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(OB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=dV(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await xd(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return jr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ze(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ga}),{data:b,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Zc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(i){if(await Tr(this.storage,`${this.storageKey}-code-verifier`),Ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pV(async i=>(i>0&&await mV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ga})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Ib(a)&&Date.now()+o-r<Pd})}catch(r){if(this._debug(n,"error",r),Ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),jr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Uc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Uc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Rd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:J_()}else if(i&&!i.user&&!i.user){const o=await Uc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Tr(this.storage,this.storageKey+"-user"),await Rd(this.storage,this.storageKey,i)):i.user=J_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Z_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Z_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ib(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new gi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ze(a)){const o={data:null,error:a};return Ib(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=NM(i);await Rd(this.storage,this.storageKey,a)}else{const i=NM(n);await Rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tr(this.storage,this.storageKey),await Tr(this.storage,this.storageKey+"-code-verifier"),await Tr(this.storage,this.storageKey+"-user"),this.userStorage&&await Tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Pd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pd}ms, refresh threshold is ${Gk} ticks`),i<=Gk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await xd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GV(t.webauthn.credential_response):YV(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:FV(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HV(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=X_(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new gi})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new gi});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&jr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new gi});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&jr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new gi})})}catch(t){if(Ze(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gi})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+rV>i)return r;const{data:a,error:o}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return this._returnResult({data:null,error:k});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=X_(r);n?.allowExpired||_V(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=SV(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,cV(`${l}.${u}`)))throw new ay("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}};rT.nextInstanceID={};const eZ=tT,tZ=rT,nZ=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:eZ,AuthApiError:NB,AuthClient:tZ,AuthError:ef,AuthImplicitGrantRedirectError:wm,AuthInvalidCredentialsError:xm,AuthInvalidJwtError:ay,AuthInvalidTokenResponseError:Zc,AuthPKCEGrantCodeExchangeError:qk,AuthRetryableFetchError:iy,AuthSessionMissingError:gi,AuthUnknownError:Rl,AuthWeakPasswordError:Kk,CustomAuthError:Bs,GoTrueAdminApi:tT,GoTrueClient:rT,NavigatorLockAcquireTimeoutError:LB,SIGN_OUT_SCOPES:$b,isAuthApiError:OB,isAuthError:Ze,isAuthImplicitGrantRedirectError:MB,isAuthRetryableFetchError:Ib,isAuthSessionMissingError:CB,isAuthWeakPasswordError:iV,lockInternals:Jc,navigatorLock:IB,processLock:DV},Symbol.toStringTag,{value:"Module"})),zB=pp(nZ);var IM;function rZ(){if(IM)return Kh;IM=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.SupabaseAuthClient=void 0;const e=zB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Kh.SupabaseAuthClient=t,Kh}var $M;function BM(){if($M)return Eg;$M=1,Object.defineProperty(Eg,"__esModule",{value:!0});const e=J$,t=iB(),n=hB,r=WW,i=ZW(),a=XW(),o=JW(),l=rZ();class u{constructor(h,p,b){var y,k,w;this.supabaseUrl=h,this.supabaseKey=p;const S=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},A=(0,o.applySettingDefaults)(b??{},O);this.storageKey=(y=A.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(k=A.global.headers)!==null&&k!==void 0?k:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(C,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=A.auth)!==null&&w!==void 0?w:{},this.headers,A.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,storageKey:w,flowType:S,lock:j,debug:O,throwOnError:A},C,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,flowType:S,lock:j,debug:O,throwOnError:A,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Eg.default=u,Eg}var zM;function iZ(){return zM||(zM=1,(function(e){var t=bs&&bs.__createBinding||(Object.create?(function(h,p,b,y){y===void 0&&(y=b);var k=Object.getOwnPropertyDescriptor(p,b);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,y,k)}):(function(h,p,b,y){y===void 0&&(y=b),h[y]=p[b]})),n=bs&&bs.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=bs&&bs.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(BM());n(zB,e);var a=iB();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=J$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(hB,e);var l=BM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(bs)),bs}var UB=iZ();const FB=ki(UB),aZ=$E({__proto__:null,default:FB},[UB]),{PostgrestError:$Oe,FunctionsHttpError:BOe,FunctionsFetchError:zOe,FunctionsRelayError:UOe,FunctionsError:FOe,FunctionRegion:HOe,SupabaseClient:GOe,createClient:oZ,GoTrueAdminApi:YOe,GoTrueClient:qOe,AuthAdminApi:KOe,AuthClient:WOe,navigatorLock:VOe,NavigatorLockAcquireTimeoutError:ZOe,lockInternals:XOe,processLock:JOe,SIGN_OUT_SCOPES:QOe,AuthError:eCe,AuthApiError:tCe,AuthUnknownError:nCe,CustomAuthError:rCe,AuthSessionMissingError:iCe,AuthInvalidTokenResponseError:aCe,AuthInvalidCredentialsError:oCe,AuthImplicitGrantRedirectError:sCe,AuthPKCEGrantCodeExchangeError:lCe,AuthRetryableFetchError:cCe,AuthWeakPasswordError:uCe,AuthInvalidJwtError:dCe,isAuthError:fCe,isAuthApiError:hCe,isAuthSessionMissingError:mCe,isAuthImplicitGrantRedirectError:pCe,isAuthRetryableFetchError:gCe,isAuthWeakPasswordError:bCe,RealtimePresence:yCe,RealtimeChannel:vCe,RealtimeClient:xCe,REALTIME_LISTEN_TYPES:wCe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:_Ce,REALTIME_PRESENCE_LISTEN_EVENTS:SCe,REALTIME_SUBSCRIBE_STATES:kCe,REALTIME_CHANNEL_STATES:ECe}=FB||aZ,sZ="https://jouhybyquybxbnqztxum.supabase.co",lZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",cZ=!1,De=oZ(sZ,lZ,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:cZ,storage:localStorage}}),HB="settings_v1",Vk=()=>{try{typeof window<"u"&&window.localStorage.removeItem(HB)}catch{}},Il={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sidebarCardsCollapsed:!1,sidebarCardCollapsedMap:{},sidebarCollapseInitDone:!0,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},UM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],uZ=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&UM.includes(r)):[],n=UM.filter(r=>!t.includes(r));return[...t,...n]},Kd=e=>({...Il,...e,sectionOrder:uZ(e.sectionOrder)}),dZ=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Kd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Kd(n.settings)}}return Kd(e??{})},fZ=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};Vk();const wn=Go()(E$((e,t)=>({settings:Il,syncing:!1,loaded:!1,setSettings:n=>e({settings:Kd(n)}),setKey:(n,r)=>e({settings:Kd({...t().settings,[n]:r})}),reset:()=>e({settings:Il,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),Vk();const{data:i,error:a}=await De.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Il,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await De.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await De.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=dZ(u.payload),b=u.payload?.sidebarCollapseInitDone===!0;b||(h.sidebarCardsCollapsed=Il.sidebarCardsCollapsed,h.sidebarCardCollapsedMap={},h.sidebarCollapseInitDone=!0),e({settings:h,syncing:!1,loaded:!0}),(fZ(u.payload)||!b)&&await De.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),Vk();const{data:r,error:i}=await De.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Il});return}const o=Kd(t().settings),{error:l}=await De.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:HB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function Zk(e){const t=Qr.indexOf(e);if(t!==-1)return Qr[t];const n=so..indexOf(e);return n!==-1?Qr[n]:null}function GB(e){const t=wi.indexOf(e);if(t!==-1)return wi[t];const n=so..indexOf(e);return n!==-1?wi[n]:null}function FM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Vi(e,t,n){if(t==="stem"){const r=Zk(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Qr.indexOf(r),a=i>=0?jK[i]:void 0;return FM(a,n)}else{const r=GB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=wi.indexOf(r),a=i>=0?NK[i]:void 0;return FM(a,n)}}function ka(e,t){const n=Zk(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=Zk(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return MK[n][r]}if(t.branch){const r=GB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return DK[n][r]}throw new Error("getSipSin: stem or branch required")}const Rv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Lv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function YB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?Lv:Rv)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,y)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},y):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||y===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",ka(t,{stem:b}),")"]},y))})}const Hi=Go(e=>({manualHour:null,usePrevDay:!1,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null}),setUsePrevDay:t=>e({usePrevDay:t}),togglePrevDay:()=>e(t=>({usePrevDay:!t.usePrevDay}))})),qB=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),KB=Object.fromEntries(Object.entries(er).map(([e,t])=>[t,e])),hZ=new Set(Object.keys(Kn)),mZ=new Set(Object.keys(er)),pZ=new Set(["","","","","","","","","",""]),gZ=new Set(["","","","","","","","","","","",""]);function _i(e,t,n){return n===""?t==="stem"?Kn[e]??e:er[e]??e:t==="stem"?qB[e]??e:KB[e]??e}function HM(e){const t=qB[e]??e;return hZ.has(t)?t:""}function bZ(e){const t=KB[e]??e;return mZ.has(t)?t:""}function Iv(e){if(Jd.has(e))return e;const t=Kn[e]??e;return Jd.has(t)?t:""}function iT(e){if(Lm.has(e))return e;const t=er[e]??e;return Lm.has(t)?t:""}function ro(e,t){return t==="stem"?pZ.has(e):gZ.has(e)}function Id({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=Hi(),b=h&&!p,y=t.charAt(0),k=t.charAt(1),w=_i(y,"stem",r.charType),S=_i(k,"branch",r.charType),j=HM(y),O=bZ(k),A=HM(n),C=iT(k),D=Iv(n),P=r.showSipSin?ka(A,{stem:j}):null,I=!o&&r.showSipSin?ka(A,{branch:O}):null,U=r.thinEum&&ro(y,"stem")?"font-thin":"font-bold",W=r.thinEum&&ro(k,"branch")?"font-thin":"font-bold",q={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!l&&!!r.hiddenStem,B=r.hiddenStem==="regular"?"main":"all",K=r.hiddenStemMode==="hgc"?"hgc":"classic",J=d==="white",Z=J?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=J?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",X=J?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",Q=J?"text-neutral-500":"text-neutral-400",ce=J?"text-neutral-500":"text-neutral-400",{settings:ie}=wn(),z=b?`bg-white ${X}`:`${Vi(j,"stem",ie)} ${X}`,V=b?`bg-white ${X}`:`${Vi(O,"branch",ie)} ${X}`,ne=b?"text-black":ie.difficultyMode?ie.theme==="light"?"text-neutral-900":"text-black":"text-white",oe=b?"text-black":ie.difficultyMode?ie.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Z}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${Q} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${q[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${z}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ne} ${U}`,children:b?"-":w})}),g.jsx("div",{className:`${q[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${V}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${oe} ${W}`,children:b?"-":S})}),H&&g.jsx(YB,{branch:C,dayStem:D,mode:B,mapping:K,isUnknownTime:h&&!p&&(e===""||e==="")}),I&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ce}`,children:h&&!p?"-":I}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),GM=e=>{const t=vZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},WB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),xZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...wZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:WB("lucide",i),...!a&&!xZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(_Z,{ref:a,iconNode:t,className:WB(`lucide-${yZ(GM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=GM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kZ=Dr("chevron-down",SZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],TZ=Dr("chevron-up",EZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VB=Dr("circle-question-mark",AZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NZ=Dr("circle-x",jZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],CZ=Dr("heart-handshake",OZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DZ=Dr("house",MZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RZ=Dr("info",PZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ZB=Dr("log-in",LZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$Z=Dr("log-out",IZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zZ=Dr("menu",BZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],FZ=Dr("plus",UZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GZ=Dr("settings",HZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qZ=Dr("sparkles",YZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],WZ=Dr("square-user",KZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],XB=Dr("star",VZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XZ=Dr("user-plus",ZZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cy=Dr("x",JZ);function QZ(){const[e,t]=_.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(RZ,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const eX=new Set(so.);function tX(e){return Jd.has(e)?e:eX.has(e)?Kn[e]:""}function nX(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function rX({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function iX(){const e=wn(S=>S.settings),[t,n]=_.useState(new Date),[r,i]=_.useState(!0),[a,o]=_.useState("/"),[l,u]=_.useState(!1),[d,h]=_.useState(null);_.useEffect(()=>{if(!r)return;const S=setInterval(()=>n(new Date),1e3);return()=>clearInterval(S)},[r]),_.useEffect(()=>{let S=!0;const j=async()=>{const{data:C}=await De.auth.getSession(),D=C.session?.user?.id;if(!D){S&&h(null);return}const{data:P,error:I}=await De.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if(I){S&&h(null);return}const U=P?.total_active_ms;S&&h(typeof U=="number"?U:null)};j();const O=window.setInterval(()=>void j(),6e4),A=()=>{document.visibilityState==="visible"&&j()};return document.addEventListener("visibilitychange",A),()=>{S=!1,window.clearInterval(O),document.removeEventListener("visibilitychange",A)}},[]);const p=ct(t),b=Tt(t),y=ht(t,a),k=no(t,"/"),w=tX(y.charAt(0));return g.jsx("div",{className:"flex flex-col justify-center items-center pt-20 desk:pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:nX(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",sX(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(S=>!S),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(rX,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Id,{label:"",gz:k,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Id,{label:"",gz:y,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Id,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Id,{label:"",gz:p,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:aX(t),disabled:r,onChange:S=>{const j=oX(S.target.value);j&&n(j)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(QZ,{})]})})}function aX(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function oX(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function sX(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function lX({placeholderText:e,value:t}){const[n,r]=_.useState(e),[i,a]=_.useState(!1),[o,l]=_.useState(t??""),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null);return _.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var _m={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var cX=_m.exports,YM;function uX(){return YM||(YM=1,(function(e,t){(function(n,r){r(t)})(cX,(function(n){var r="1.9.4";function i(f){var v,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(v in R)f[v]=R[v]}return f}var a=Object.create||(function(){function f(){}return function(v){return f.prototype=v,new f}})();function o(f,v){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var M=E.call(arguments,2);return function(){return f.apply(v,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,v,E){var M,R,F,ee;return ee=function(){M=!1,R&&(F.apply(E,R),R=!1)},F=function(){M?R=arguments:(f.apply(E,arguments),setTimeout(ee,v),M=!0)},F}function h(f,v,E){var M=v[1],R=v[0],F=M-R;return f===M&&E?f:((f-R)%F+F)%F+R}function p(){return!1}function b(f,v){if(v===!1)return f;var E=Math.pow(10,v===void 0?6:v);return Math.round(f*E)/E}function y(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return y(f).split(/\s+/)}function w(f,v){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in v)f.options[E]=v[E];return f.options}function S(f,v,E){var M=[];for(var R in f)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!v||v.indexOf("?")===-1?"?":"&")+M.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function O(f,v){return f.replace(j,function(E,M){var R=v[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(v)),R})}var A=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,v){for(var E=0;E<f.length;E++)if(f[E]===v)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var I=0;function U(f){var v=+new Date,E=Math.max(0,16-(v-I));return I=v+E,window.setTimeout(f,E)}var W=window.requestAnimationFrame||P("RequestAnimationFrame")||U,q=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function H(f,v,E){if(E&&W===U)f.call(v);else return W.call(window,o(f,v))}function B(f){f&&q.call(window,f)}var K={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:y,splitWords:k,setOptions:w,getParamString:S,template:O,isArray:A,indexOf:C,emptyImageUrl:D,requestFn:W,cancelFn:q,requestAnimFrame:H,cancelAnimFrame:B};function J(){}J.extend=function(f){var v=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=v.__super__=this.prototype,M=a(E);M.constructor=v,v.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(v[R]=this[R]);return f.statics&&i(v,f.statics),f.includes&&(Z(f.includes),i.apply(null,[M].concat(f.includes))),i(M,f),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=M._initHooks.length;F<ee;F++)M._initHooks[F].call(this)}},v},J.include=function(f){var v=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=v,this.mergeOptions(f.options)),this},J.mergeOptions=function(f){return i(this.prototype.options,f),this},J.addInitHook=function(f){var v=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function Z(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=A(f)?f:[f];for(var v=0;v<f.length;v++)f[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],v,E)}return this},off:function(f,v,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var M in f)this._off(M,f[M],v);else{f=k(f);for(var R=arguments.length===1,F=0,ee=f.length;F<ee;F++)R?this._off(f[F]):this._off(f[F],v,E)}return this},_on:function(f,v,E,M){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(f,v,E)===!1){E===this&&(E=void 0);var R={fn:v,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,v,E){var M,R,F;if(this._events&&(M=this._events[f],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,F=M.length;R<F;R++)M[R].fn=p;delete this._events[f];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var ee=this._listens(f,v,E);if(ee!==!1){var ue=M[ee];this._firingCount&&(ue.fn=p,this._events[f]=M=M.slice()),M.splice(ee,1)}}},fire:function(f,v,E){if(!this.listens(f,E))return this;var M=i({},v,{type:f,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var ue=R[F],ge=ue.fn;ue.once&&this.off(f,ge,ue.ctx),ge.call(ue.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(f,v,E,M){typeof f!="string"&&console.warn('"string" type argument expected');var R=v;typeof v!="function"&&(M=!!v,R=void 0,E=void 0);var F=this._events&&this._events[f];if(F&&F.length&&this._listens(f,R,E)!==!1)return!0;if(M){for(var ee in this._eventParents)if(this._eventParents[ee].listens(f,v,E,M))return!0}return!1},_listens:function(f,v,E){if(!this._events)return!1;var M=this._events[f]||[];if(!v)return!!M.length;E===this&&(E=void 0);for(var R=0,F=M.length;R<F;R++)if(M[R].fn===v&&M[R].ctx===E)return R;return!1},once:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v,!0);else{f=k(f);for(var R=0,F=f.length;R<F;R++)this._on(f[R],v,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var v in this._eventParents)this._eventParents[v].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var X=J.extend(Y);function Q(f,v,E){this.x=E?Math.round(f):f,this.y=E?Math.round(v):v}var ce=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(f){return this.clone()._add(ie(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(ie(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new Q(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new Q(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(f){f=ie(f);var v=f.x-this.x,E=f.y-this.y;return Math.sqrt(v*v+E*E)},equals:function(f){return f=ie(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=ie(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ie(f,v,E){return f instanceof Q?f:A(f)?new Q(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new Q(f.x,f.y):new Q(f,v,E)}function z(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}z.prototype={extend:function(f){var v,E;if(!f)return this;if(f instanceof Q||typeof f[0]=="number"||"x"in f)v=E=ie(f);else if(f=V(f),v=f.min,E=f.max,!v||!E)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=E.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var v,E;return typeof f[0]=="number"||f instanceof Q?f=ie(f):f=V(f),f instanceof z?(v=f.min,E=f.max):v=E=f,v.x>=this.min.x&&E.x<=this.max.x&&v.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,F=R.x>=v.x&&M.x<=E.x,ee=R.y>=v.y&&M.y<=E.y;return F&&ee},overlaps:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,F=R.x>v.x&&M.x<E.x,ee=R.y>v.y&&M.y<E.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var v=this.min,E=this.max,M=Math.abs(v.x-E.x)*f,R=Math.abs(v.y-E.y)*f;return V(ie(v.x-M,v.y-R),ie(E.x+M,E.y+R))},equals:function(f){return f?(f=V(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function V(f,v){return!f||f instanceof z?f:new z(f,v)}function ne(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}ne.prototype={extend:function(f){var v=this._southWest,E=this._northEast,M,R;if(f instanceof de)M=f,R=f;else if(f instanceof ne){if(M=f._southWest,R=f._northEast,!M||!R)return this}else return f?this.extend(me(f)||oe(f)):this;return!v&&!E?(this._southWest=new de(M.lat,M.lng),this._northEast=new de(R.lat,R.lng)):(v.lat=Math.min(M.lat,v.lat),v.lng=Math.min(M.lng,v.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var v=this._southWest,E=this._northEast,M=Math.abs(v.lat-E.lat)*f,R=Math.abs(v.lng-E.lng)*f;return new ne(new de(v.lat-M,v.lng-R),new de(E.lat+M,E.lng+R))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof de||"lat"in f?f=me(f):f=oe(f);var v=this._southWest,E=this._northEast,M,R;return f instanceof ne?(M=f.getSouthWest(),R=f.getNorthEast()):M=R=f,M.lat>=v.lat&&R.lat<=E.lat&&M.lng>=v.lng&&R.lng<=E.lng},intersects:function(f){f=oe(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>=v.lat&&M.lat<=E.lat,ee=R.lng>=v.lng&&M.lng<=E.lng;return F&&ee},overlaps:function(f){f=oe(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),F=R.lat>v.lat&&M.lat<E.lat,ee=R.lng>v.lng&&M.lng<E.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,v){return f?(f=oe(f),this._southWest.equals(f.getSouthWest(),v)&&this._northEast.equals(f.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(f,v){return f instanceof ne?f:new ne(f,v)}function de(f,v,E){if(isNaN(f)||isNaN(v))throw new Error("Invalid LatLng object: ("+f+", "+v+")");this.lat=+f,this.lng=+v,E!==void 0&&(this.alt=+E)}de.prototype={equals:function(f,v){if(!f)return!1;f=me(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(v===void 0?1e-9:v)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return Ne.distance(this,me(f))},wrap:function(){return Ne.wrapLatLng(this)},toBounds:function(f){var v=180*f/40075017,E=v/Math.cos(Math.PI/180*this.lat);return oe([this.lat-v,this.lng-E],[this.lat+v,this.lng+E])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function me(f,v,E){return f instanceof de?f:A(f)&&typeof f[0]!="object"?f.length===3?new de(f[0],f[1],f[2]):f.length===2?new de(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new de(f.lat,"lng"in f?f.lng:f.lon,f.alt):v===void 0?null:new de(f,v,E)}var ye={latLngToPoint:function(f,v){var E=this.projection.project(f),M=this.scale(v);return this.transformation._transform(E,M)},pointToLatLng:function(f,v){var E=this.scale(v),M=this.transformation.untransform(f,E);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var v=this.projection.bounds,E=this.scale(f),M=this.transformation.transform(v.min,E),R=this.transformation.transform(v.max,E);return new z(M,R)},infinite:!1,wrapLatLng:function(f){var v=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,M=f.alt;return new de(E,v,M)},wrapLatLngBounds:function(f){var v=f.getCenter(),E=this.wrapLatLng(v),M=v.lat-E.lat,R=v.lng-E.lng;if(M===0&&R===0)return f;var F=f.getSouthWest(),ee=f.getNorthEast(),ue=new de(F.lat-M,F.lng-R),ge=new de(ee.lat-M,ee.lng-R);return new ne(ue,ge)}},Ne=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(f,v){var E=Math.PI/180,M=f.lat*E,R=v.lat*E,F=Math.sin((v.lat-f.lat)*E/2),ee=Math.sin((v.lng-f.lng)*E/2),ue=F*F+Math.cos(M)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue));return this.R*ge}}),ae=6378137,Ee={R:ae,MAX_LATITUDE:85.0511287798,project:function(f){var v=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,f.lat),-E),R=Math.sin(M*v);return new Q(this.R*f.lng*v,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var v=180/Math.PI;return new de((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*v,f.x*v/this.R)},bounds:(function(){var f=ae*Math.PI;return new z([-f,-f],[f,f])})()};function xe(f,v,E,M){if(A(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=v,this._c=E,this._d=M}xe.prototype={transform:function(f,v){return this._transform(f.clone(),v)},_transform:function(f,v){return v=v||1,f.x=v*(this._a*f.x+this._b),f.y=v*(this._c*f.y+this._d),f},untransform:function(f,v){return v=v||1,new Q((f.x/v-this._b)/this._a,(f.y/v-this._d)/this._c)}};function se(f,v,E,M){return new xe(f,v,E,M)}var Ue=i({},Ne,{code:"EPSG:3857",projection:Ee,transformation:(function(){var f=.5/(Math.PI*Ee.R);return se(f,.5,-f,.5)})()}),Ke=i({},Ue,{code:"EPSG:900913"});function Je(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Oe(f,v){var E="",M,R,F,ee,ue,ge;for(M=0,F=f.length;M<F;M++){for(ue=f[M],R=0,ee=ue.length;R<ee;R++)ge=ue[R],E+=(R?"L":"M")+ge.x+" "+ge.y;E+=v?Ve.svg?"z":"x":""}return E||"M0 0"}var $e=document.documentElement.style,Fe="ActiveXObject"in window,Be=Fe&&!document.addEventListener,bt="msLaunchUri"in navigator&&!("documentMode"in document),Rt=ii("webkit"),fe=ii("android"),Ce=ii("android 2")||ii("android 3"),Ge=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=fe&&ii("Google")&&Ge<537&&!("AudioNode"in window),Pe=!!window.opera,ze=!bt&&ii("chrome"),lt=ii("gecko")&&!Rt&&!Pe&&!Fe,gt=!ze&&ii("safari"),Kt=ii("phantom"),Rr="OTransition"in $e,ar=navigator.platform.indexOf("Win")===0,or=Fe&&"transition"in $e,sn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,xr="MozPerspective"in $e,Et=!window.L_DISABLE_3D&&(or||sn||xr)&&!Rr&&!Kt,Qi=typeof orientation<"u"||ii("mobile"),zf=Qi&&Rt,Me=Qi&&sn,it=!window.PointerEvent&&window.MSPointerEvent,Lt=!!(window.PointerEvent||it),wr="ontouchstart"in window||!!window.TouchEvent,ri=!window.L_NO_TOUCH&&(wr||Lt),Mu=Qi&&Pe,ic=Qi&&lt,Gx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xp=(function(){var f=!1;try{var v=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return f})(),Uf=(function(){return!!document.createElement("canvas").getContext})(),Ko=!!(document.createElementNS&&Je("svg").createSVGRect),Yx=!!Ko&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Jp=!Ko&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var v=f.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),Qp=navigator.platform.indexOf("Mac")===0,e0=navigator.platform.indexOf("Linux")===0;function ii(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Ve={ie:Fe,ielt9:Be,edge:bt,webkit:Rt,android:fe,android23:Ce,androidStock:Se,opera:Pe,chrome:ze,gecko:lt,safari:gt,phantom:Kt,opera12:Rr,win:ar,ie3d:or,webkit3d:sn,gecko3d:xr,any3d:Et,mobile:Qi,mobileWebkit:zf,mobileWebkit3d:Me,msPointer:it,pointer:Lt,touch:ri,touchNative:wr,mobileOpera:Mu,mobileGecko:ic,retina:Gx,passiveEvents:Xp,canvas:Uf,svg:Ko,vml:Jp,inlineSvg:Yx,mac:Qp,linux:e0},Ff=Ve.msPointer?"MSPointerDown":"pointerdown",Hf=Ve.msPointer?"MSPointerMove":"pointermove",Ma=Ve.msPointer?"MSPointerUp":"pointerup",Ln=Ve.msPointer?"MSPointerCancel":"pointercancel",sr={touchstart:Ff,touchmove:Hf,touchend:Ma,touchcancel:Ln},Wo={touchstart:Vs,touchmove:co,touchend:co,touchcancel:co},lo={},t0=!1;function qx(f,v,E){return v==="touchstart"&&Ws(),Wo[v]?(E=Wo[v].bind(this,E),f.addEventListener(sr[v],E,!1),E):(console.warn("wrong event specified:",v),p)}function n0(f,v,E){if(!sr[v]){console.warn("wrong event specified:",v);return}f.removeEventListener(sr[v],E,!1)}function ac(f){lo[f.pointerId]=f}function Gf(f){lo[f.pointerId]&&(lo[f.pointerId]=f)}function Vo(f){delete lo[f.pointerId]}function Ws(){t0||(document.addEventListener(Ff,ac,!0),document.addEventListener(Hf,Gf,!0),document.addEventListener(Ma,Vo,!0),document.addEventListener(Ln,Vo,!0),t0=!0)}function co(f,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var E in lo)v.touches.push(lo[E]);v.changedTouches=[v],f(v)}}function Vs(f,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&Sn(v),co(f,v)}function In(f){var v={},E,M;for(M in f)E=f[M],v[M]=E&&E.bind?E.bind(f):E;return f=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var r0=200;function i0(f,v){f.addEventListener("dblclick",v);var E=0,M;function R(F){if(F.detail!==1){M=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=fc(F);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ue=Date.now();ue-E<=r0?(M++,M===2&&v(In(F))):M=1,E=ue}}}return f.addEventListener("click",R),{dblclick:v,simDblclick:R}}function Zo(f,v){f.removeEventListener("dblclick",v.dblclick),f.removeEventListener("click",v.simDblclick)}var uo=lc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oc=lc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yf=oc==="webkitTransition"||oc==="OTransition"?oc+"End":"transitionend";function qf(f){return typeof f=="string"?document.getElementById(f):f}function sc(f,v){var E=f.style[v]||f.currentStyle&&f.currentStyle[v];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);E=M?M[v]:null}return E==="auto"?null:E}function yt(f,v,E){var M=document.createElement(f);return M.className=v||"",E&&E.appendChild(M),M}function Ht(f){var v=f.parentNode;v&&v.removeChild(f)}function ai(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Vn(f){var v=f.parentNode;v&&v.lastChild!==f&&v.appendChild(f)}function Xo(f){var v=f.parentNode;v&&v.firstChild!==f&&v.insertBefore(f,v.firstChild)}function Kf(f,v){if(f.classList!==void 0)return f.classList.contains(v);var E=Du(f);return E.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(E)}function ut(f,v){if(f.classList!==void 0)for(var E=k(v),M=0,R=E.length;M<R;M++)f.classList.add(E[M]);else if(!Kf(f,v)){var F=Du(f);Zs(f,(F?F+" ":"")+v)}}function ln(f,v){f.classList!==void 0?f.classList.remove(v):Zs(f,y((" "+Du(f)+" ").replace(" "+v+" "," ")))}function Zs(f,v){f.className.baseVal===void 0?f.className=v:f.className.baseVal=v}function Du(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function tn(f,v){"opacity"in f.style?f.style.opacity=v:"filter"in f.style&&Wf(f,v)}function Wf(f,v){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(M)}catch{if(v===1)return}v=Math.round(v*100),E?(E.Enabled=v!==100,E.Opacity=v):f.style.filter+=" progid:"+M+"(opacity="+v+")"}function lc(f){for(var v=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in v)return f[E];return!1}function Da(f,v,E){var M=v||new Q(0,0);f.style[uo]=(Ve.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Wt(f,v){f._leaflet_pos=v,Ve.any3d?Da(f,v):(f.style.left=v.x+"px",f.style.top=v.y+"px")}function fo(f){return f._leaflet_pos||new Q(0,0)}var Xs,ea,Vf;if("onselectstart"in document)Xs=function(){st(window,"selectstart",Sn)},ea=function(){It(window,"selectstart",Sn)};else{var Js=lc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xs=function(){if(Js){var f=document.documentElement.style;Vf=f[Js],f[Js]="none"}},ea=function(){Js&&(document.documentElement.style[Js]=Vf,Vf=void 0)}}function Pu(){st(window,"dragstart",Sn)}function cc(){It(window,"dragstart",Sn)}var Ru,Zf;function Qs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(oi(),Ru=f,Zf=f.style.outlineStyle,f.style.outlineStyle="none",st(window,"keydown",oi))}function oi(){Ru&&(Ru.style.outlineStyle=Zf,Ru=void 0,Zf=void 0,It(window,"keydown",oi))}function Lu(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function uc(f){var v=f.getBoundingClientRect();return{x:v.width/f.offsetWidth||1,y:v.height/f.offsetHeight||1,boundingClientRect:v}}var el={__proto__:null,TRANSFORM:uo,TRANSITION:oc,TRANSITION_END:Yf,get:qf,getStyle:sc,create:yt,remove:Ht,empty:ai,toFront:Vn,toBack:Xo,hasClass:Kf,addClass:ut,removeClass:ln,setClass:Zs,getClass:Du,setOpacity:tn,testProp:lc,setTransform:Da,setPosition:Wt,getPosition:fo,get disableTextSelection(){return Xs},get enableTextSelection(){return ea},disableImageDrag:Pu,enableImageDrag:cc,preventOutline:Qs,restoreOutline:oi,getSizedParentNode:Lu,getScale:uc};function st(f,v,E,M){if(v&&typeof v=="object")for(var R in v)ji(f,R,v[R],E);else{v=k(v);for(var F=0,ee=v.length;F<ee;F++)ji(f,v[F],E,M)}return this}var Ai="_leaflet_events";function It(f,v,E,M){if(arguments.length===1)Xf(f),delete f[Ai];else if(v&&typeof v=="object")for(var R in v)dc(f,R,v[R],E);else if(v=k(v),arguments.length===2)Xf(f,function(ue){return C(v,ue)!==-1});else for(var F=0,ee=v.length;F<ee;F++)dc(f,v[F],E,M);return this}function Xf(f,v){for(var E in f[Ai]){var M=E.split(/\d/)[0];(!v||v(M))&&dc(f,M,null,null,E)}}var Jo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ji(f,v,E,M){var R=v+u(E)+(M?"_"+u(M):"");if(f[Ai]&&f[Ai][R])return this;var F=function(ue){return E.call(M||f,ue||window.event)},ee=F;!Ve.touchNative&&Ve.pointer&&v.indexOf("touch")===0?F=qx(f,v,F):Ve.touch&&v==="dblclick"?F=i0(f,F):"addEventListener"in f?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?f.addEventListener(Jo[v]||v,F,Ve.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(F=function(ue){ue=ue||window.event,Pa(f,ue)&&ee(ue)},f.addEventListener(Jo[v],F,!1)):f.addEventListener(v,ee,!1):f.attachEvent("on"+v,F),f[Ai]=f[Ai]||{},f[Ai][R]=F}function dc(f,v,E,M,R){R=R||v+u(E)+(M?"_"+u(M):"");var F=f[Ai]&&f[Ai][R];if(!F)return this;!Ve.touchNative&&Ve.pointer&&v.indexOf("touch")===0?n0(f,v,F):Ve.touch&&v==="dblclick"?Zo(f,F):"removeEventListener"in f?f.removeEventListener(Jo[v]||v,F,!1):f.detachEvent("on"+v,F),f[Ai][R]=null}function Ni(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function ta(f){return ji(f,"wheel",Ni),this}function Qo(f){return st(f,"mousedown touchstart dblclick contextmenu",Ni),f._leaflet_disable_click=!0,this}function Sn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function ho(f){return Sn(f),Ni(f),this}function fc(f){if(f.composedPath)return f.composedPath();for(var v=[],E=f.target;E;)v.push(E),E=E.parentNode;return v}function hc(f,v){if(!v)return new Q(f.clientX,f.clientY);var E=uc(v),M=E.boundingClientRect;return new Q((f.clientX-M.left)/E.x-v.clientLeft,(f.clientY-M.top)/E.y-v.clientTop)}var a0=Ve.linux&&Ve.chrome?window.devicePixelRatio:Ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _r(f){return Ve.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/a0:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Pa(f,v){var E=v.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Iu={__proto__:null,on:st,off:It,stopPropagation:Ni,disableScrollPropagation:ta,disableClickPropagation:Qo,preventDefault:Sn,stop:ho,getPropagationPath:fc,getMousePosition:hc,getWheelDelta:_r,isExternalTarget:Pa,addListener:st,removeListener:It},tl=X.extend({run:function(f,v,E,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=fo(f),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(f){var v=+new Date-this._startTime,E=this._duration*1e3;v<E?this._runFrame(this._easeOut(v/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,v){var E=this._startPos.add(this._offset.multiplyBy(f));v&&E._round(),Wt(this._el,E),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),_t=X.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,v){v=w(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(me(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oc&&Ve.any3d&&!Ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Yf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,v,E){if(v=v===void 0?this._zoom:this._limitZoom(v),f=this._limitCenter(me(f),v,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,v,E.zoom):this._tryAnimatedPan(f,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(f,v,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,v){return this._loaded?this.setView(this.getCenter(),f,{zoom:v}):(this._zoom=f,this)},zoomIn:function(f,v){return f=f||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,v)},zoomOut:function(f,v){return f=f||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,v)},setZoomAround:function(f,v,E){var M=this.getZoomScale(v),R=this.getSize().divideBy(2),F=f instanceof Q?f:this.latLngToContainerPoint(f),ee=F.subtract(R).multiplyBy(1-1/M),ue=this.containerPointToLatLng(R.add(ee));return this.setView(ue,v,{zoom:E})},_getBoundsCenterZoom:function(f,v){v=v||{},f=f.getBounds?f.getBounds():oe(f);var E=ie(v.paddingTopLeft||v.padding||[0,0]),M=ie(v.paddingBottomRight||v.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(M));if(R=typeof v.maxZoom=="number"?Math.min(v.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var F=M.subtract(E).divideBy(2),ee=this.project(f.getSouthWest(),R),ue=this.project(f.getNorthEast(),R),ge=this.unproject(ee.add(ue).divideBy(2).add(F),R);return{center:ge,zoom:R}},fitBounds:function(f,v){if(f=oe(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,v);return this.setView(E.center,E.zoom,v)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,v){return this.setView(f,this._zoom,{pan:v})},panBy:function(f,v){if(f=ie(f).round(),v=v||{},!f.x&&!f.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,v.duration||.25,v.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,v,E){if(E=E||{},E.animate===!1||!Ve.any3d)return this.setView(f,v,E);this._stop();var M=this.project(this.getCenter()),R=this.project(f),F=this.getSize(),ee=this._zoom;f=me(f),v=v===void 0?ee:v;var ue=Math.max(F.x,F.y),ge=ue*this.getZoomScale(ee,v),Ae=R.distanceTo(M)||1,Ie=1.42,Xe=Ie*Ie;function mt(bn){var $a=bn?-1:1,rs=bn?ge:ue,fh=ge*ge-ue*ue+$a*Xe*Xe*Ae*Ae,Nc=2*rs*Xe*Ae,Oc=fh/Nc,_o=Math.sqrt(Oc*Oc+1)-Oc,Ba=_o<1e-9?-18:Math.log(_o);return Ba}function Zn(bn){return(Math.exp(bn)-Math.exp(-bn))/2}function kn(bn){return(Math.exp(bn)+Math.exp(-bn))/2}function qr(bn){return Zn(bn)/kn(bn)}var jt=mt(0);function Nt(bn){return ue*(kn(jt)/kn(jt+Ie*bn))}function vt(bn){return ue*(kn(jt)*qr(jt+Ie*bn)-Zn(jt))/Xe}function xo(bn){return 1-Math.pow(1-bn,1.5)}var ui=Date.now(),Xu=(mt(1)-jt)/Ie,wo=E.duration?1e3*E.duration:1e3*Xu*.8;function dh(){var bn=(Date.now()-ui)/wo,$a=xo(bn)*Xu;bn<=1?(this._flyToFrame=H(dh,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(vt($a)/Ae)),ee),this.getScaleZoom(ue/Nt($a),ee),{flyTo:!0})):this._move(f,v)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),dh.call(this),this},flyToBounds:function(f,v){var E=this._getBoundsCenterZoom(f,v);return this.flyTo(E.center,E.zoom,v)},setMaxBounds:function(f){return f=oe(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var v=this.options.minZoom;return this.options.minZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var v=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,v){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,oe(f));return E.equals(M)||this.panTo(M,v),this._enforcingBounds=!1,this},panInside:function(f,v){v=v||{};var E=ie(v.paddingTopLeft||v.padding||[0,0]),M=ie(v.paddingBottomRight||v.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(f),ee=this.getPixelBounds(),ue=V([ee.min.add(E),ee.max.subtract(M)]),ge=ue.getSize();if(!ue.contains(F)){this._enforcingBounds=!0;var Ae=F.subtract(ue.getCenter()),Ie=ue.extend(F).getSize().subtract(ge);R.x+=Ae.x<0?-Ie.x:Ie.x,R.y+=Ae.y<0?-Ie.y:Ie.y,this.panTo(this.unproject(R),v),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=v.divideBy(2).round(),R=E.divideBy(2).round(),F=M.subtract(R);return!F.x&&!F.y?this:(f.animate&&f.pan?this.panBy(F):(f.pan&&this._rawPanBy(F),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,E,f):navigator.geolocation.getCurrentPosition(v,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var v=f.code,E=f.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var v=f.coords.latitude,E=f.coords.longitude,M=new de(v,E),R=M.toBounds(f.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(M,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var ue={latlng:M,bounds:R,timestamp:f.timestamp};for(var ge in f.coords)typeof f.coords[ge]=="number"&&(ue[ge]=f.coords[ge]);this.fire("locationfound",ue)}},addHandler:function(f,v){if(!v)return this;var E=this[f]=new v(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Ht(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,v){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),M=yt("div",E,v||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),v=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new ne(v,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,v,E){f=oe(f),E=ie(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=f.getNorthWest(),ue=f.getSouthEast(),ge=this.getSize().subtract(E),Ae=V(this.project(ue,M),this.project(ee,M)).getSize(),Ie=Ve.any3d?this.options.zoomSnap:1,Xe=ge.x/Ae.x,mt=ge.y/Ae.y,Zn=v?Math.max(Xe,mt):Math.min(Xe,mt);return M=this.getScaleZoom(Zn,M),Ie&&(M=Math.round(M/(Ie/100))*(Ie/100),M=v?Math.ceil(M/Ie)*Ie:Math.floor(M/Ie)*Ie),Math.max(R,Math.min(F,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,v){var E=this._getTopLeftPoint(f,v);return new z(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,v){var E=this.options.crs;return v=v===void 0?this._zoom:v,E.scale(f)/E.scale(v)},getScaleZoom:function(f,v){var E=this.options.crs;v=v===void 0?this._zoom:v;var M=E.zoom(f*E.scale(v));return isNaN(M)?1/0:M},project:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(me(f),v)},unproject:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(ie(f),v)},layerPointToLatLng:function(f){var v=ie(f).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(f){var v=this.project(me(f))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(me(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(oe(f))},distance:function(f,v){return this.options.crs.distance(me(f),me(v))},containerPointToLayerPoint:function(f){return ie(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return ie(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var v=this.containerPointToLayerPoint(ie(f));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(f)))},mouseEventToContainerPoint:function(f){return hc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var v=this._container=qf(f);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ve.any3d,ut(f,"leaflet-container"+(Ve.touch?" leaflet-touch":"")+(Ve.retina?" leaflet-retina":"")+(Ve.ielt9?" leaflet-oldie":"")+(Ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=sc(f,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(f.markerPane,"leaflet-zoom-hide"),ut(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,v,E){Wt(this._mapPane,new Q(0,0));var M=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var R=this._zoom!==v;this._moveStart(R,E)._move(f,v)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,v){return f&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(f,v,E,M){v===void 0&&(v=this._zoom);var R=this._zoom!==v;return this._zoom=v,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Wt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var v=f?It:st;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ve.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,v){for(var E=[],M,R=v==="mouseout"||v==="mouseover",F=f.target||f.srcElement,ee=!1;F;){if(M=this._targets[u(F)],M&&(v==="click"||v==="preclick")&&this._draggableMoved(M)){ee=!0;break}if(M&&M.listens(v,!0)&&(R&&!Pa(F,f)||(E.push(M),R))||F===this._container)break;F=F.parentNode}return!E.length&&!ee&&!R&&this.listens(v,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var v=f.target||f.srcElement;if(!(!this._loaded||v._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(v))){var E=f.type;E==="mousedown"&&Qs(v),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,v,E){if(f.type==="click"){var M=i({},f);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(f,v);if(E){for(var F=[],ee=0;ee<E.length;ee++)E[ee].listens(v,!0)&&F.push(E[ee]);R=F.concat(R)}if(R.length){v==="contextmenu"&&Sn(f);var ue=R[0],ge={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Ae=ue.getLatLng&&(!ue._radius||ue._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ue.getLatLng()):this.mouseEventToContainerPoint(f),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ue.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(v,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&C(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,v=this._handlers.length;f<v;f++)this._handlers[f].disable()},whenReady:function(f,v){return this._loaded?f.call(v||this,{target:this}):this.on("load",f,v),this},_getMapPanePos:function(){return fo(this._mapPane)||new Q(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,v){var E=f&&v!==void 0?this._getNewPixelOrigin(f,v):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,v){var E=this.getSize()._divideBy(2);return this.project(f,v)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return this.project(f,v)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return V([this.project(f.getSouthWest(),v)._subtract(M),this.project(f.getNorthWest(),v)._subtract(M),this.project(f.getSouthEast(),v)._subtract(M),this.project(f.getNorthEast(),v)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,v,E){if(!E)return f;var M=this.project(f,v),R=this.getSize().divideBy(2),F=new z(M.subtract(R),M.add(R)),ee=this._getBoundsOffset(F,E,v);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?f:this.unproject(M.add(ee),v)},_limitOffset:function(f,v){if(!v)return f;var E=this.getPixelBounds(),M=new z(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(M,v))},_getBoundsOffset:function(f,v,E){var M=V(this.project(v.getNorthEast(),E),this.project(v.getSouthWest(),E)),R=M.min.subtract(f.min),F=M.max.subtract(f.max),ee=this._rebound(R.x,-F.x),ue=this._rebound(R.y,-F.y);return new Q(ee,ue)},_rebound:function(f,v){return f+v>0?Math.round(f-v)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(v))},_limitZoom:function(f){var v=this.getMinZoom(),E=this.getMaxZoom(),M=Ve.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(v,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ln(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,v){var E=this._getCenterOffset(f)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,v),!0)},_createAnimProxy:function(){var f=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(v){var E=uo,M=this._proxy.style[E];Da(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),v=this.getZoom();Da(this._proxy,this.project(f,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,v,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(v),R=this._getCenterOffset(f)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,v,!0)},this),!0)},_animateZoom:function(f,v,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=v,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:v,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ln(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jf(f,v){return new _t(f,v)}var Yr=J.extend({options:{position:"topright"},initialize:function(f){w(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var v=this._map;return v&&v.removeControl(this),this.options.position=f,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var v=this._container=this.onAdd(f),E=this.getPosition(),M=f._controlCorners[E];return ut(v,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(v,M.firstChild):M.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ra=function(f){return new Yr(f)};_t.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},v="leaflet-",E=this._controlContainer=yt("div",v+"control-container",this._container);function M(R,F){var ee=v+R+" "+v+F;f[R+F]=yt("div",ee,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Ht(this._controlCorners[f]);Ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mc=Yr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,v,E,M){return E<M?-1:M<E?1:0}},initialize:function(f,v,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in f)this._addLayer(f[M],M);for(M in v)this._addLayer(v[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Yr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,v){return this._addLayer(f,v),this._map?this._update():this},addOverlay:function(f,v){return this._addLayer(f,v,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(f));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):ln(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ln(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",v=this._container=yt("div",f),E=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Qo(v),ta(v);var M=this._section=yt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),st(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=yt("a",f+"-toggle",v);R.href="#",R.title="Layers",R.setAttribute("role","button"),st(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){Sn(F),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=yt("div",f+"-base",M),this._separator=yt("div",f+"-separator",M),this._overlaysList=yt("div",f+"-overlays",M),v.appendChild(M)},_getLayer:function(f){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===f)return this._layers[v]},_addLayer:function(f,v,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:v,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ai(this._baseLayersList),ai(this._overlaysList),this._layerControlInputs=[];var f,v,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),v=v||M.overlay,f=f||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=v&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var v=this._getLayer(u(f.target)),E=v.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,v)},_createRadioElement:function(f,v){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(v?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(f){var v=document.createElement("label"),E=this._map.hasLayer(f.layer),M;f.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(f.layer),st(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var F=document.createElement("span");v.appendChild(F),F.appendChild(M),F.appendChild(R);var ee=f.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,v,E,M=[],R=[];this._handlingClick=!0;for(var F=f.length-1;F>=0;F--)v=f[F],E=this._getLayer(v.layerId).layer,v.checked?M.push(E):v.checked||R.push(E);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<M.length;F++)this._map.hasLayer(M[F])||this._map.addLayer(M[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,v,E,M=this._map.getZoom(),R=f.length-1;R>=0;R--)v=f[R],E=this._getLayer(v.layerId).layer,v.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,st(f,"click",Sn),this.expand();var v=this;setTimeout(function(){It(f,"click",Sn),v._preventClick=!1})}}),o0=function(f,v,E){return new mc(f,v,E)},Qf=Yr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var v="leaflet-control-zoom",E=yt("div",v+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,v+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,v+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,v,E,M,R){var F=yt("a",E,M);return F.innerHTML=f,F.href="#",F.title=v,F.setAttribute("role","button"),F.setAttribute("aria-label",v),Qo(F),st(F,"click",ho),st(F,"click",R,this),st(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var f=this._map,v="leaflet-disabled";ln(this._zoomInButton,v),ln(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(ut(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(ut(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});_t.mergeOptions({zoomControl:!0}),_t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qf,this.addControl(this.zoomControl))});var Kx=function(f){return new Qf(f)},s0=Yr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var v="leaflet-control-scale",E=yt("div",v),M=this.options;return this._addScales(M,v+"-line",E),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,v,E){f.metric&&(this._mScale=yt("div",v,E)),f.imperial&&(this._iScale=yt("div",v,E))},_update:function(){var f=this._map,v=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,v]),f.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var v=this._getRoundNum(f),E=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,E,v/f)},_updateImperial:function(f){var v=f*3.2808399,E,M,R;v>5280?(E=v/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(v),this._updateScale(this._iScale,R+" ft",R/v))},_updateScale:function(f,v,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=v},_getRoundNum:function(f){var v=Math.pow(10,(Math.floor(f)+"").length-1),E=f/v;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,v*E}}),eh=function(f){return new s0(f)},Wx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',th=Yr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ve.inlineSvg?Wx+" ":"")+"Leaflet</a>"},initialize:function(f){w(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),Qo(this._container);for(var v in f._layers)f._layers[v].getAttribution&&this.addAttribution(f._layers[v].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var v in this._attributions)this._attributions[v]&&f.push(v);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});_t.mergeOptions({attributionControl:!0}),_t.addInitHook(function(){this.options.attributionControl&&new th().addTo(this)});var Vx=function(f){return new th(f)};Yr.Layers=mc,Yr.Zoom=Qf,Yr.Scale=s0,Yr.Attribution=th,Ra.layers=o0,Ra.zoom=Kx,Ra.scale=eh,Ra.attribution=Vx;var na=J.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});na.addTo=function(f,v){return f.addHandler(v,this),this};var Zx={Events:Y},nh=Ve.touch?"touchstart mousedown":"mousedown",mo=X.extend({options:{clickTolerance:3},initialize:function(f,v,E,M){w(this,M),this._element=f,this._dragStartTarget=v||f,this._preventOutline=E},enable:function(){this._enabled||(st(this._dragStartTarget,nh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mo._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,nh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Kf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){mo._dragging===this&&this.finishDrag();return}if(!(mo._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(mo._dragging=this,this._preventOutline&&Qs(this._element),Pu(),Xs(),!this._moving)){this.fire("down");var v=f.touches?f.touches[0]:f,E=Lu(this._element);this._startPoint=new Q(v.clientX,v.clientY),this._startPos=fo(this._element),this._parentScale=uc(E);var M=f.type==="mousedown";st(document,M?"mousemove":"touchmove",this._onMove,this),st(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var v=f.touches&&f.touches.length===1?f.touches[0]:f,E=new Q(v.clientX,v.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Sn(f),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Wt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){ln(document.body,"leaflet-dragging"),this._lastTarget&&(ln(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),cc(),ea();var v=this._moved&&this._moving;this._moving=!1,mo._dragging=!1,v&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function l0(f,v,E){var M,R=[1,4,2,8],F,ee,ue,ge,Ae,Ie,Xe,mt;for(F=0,Ie=f.length;F<Ie;F++)f[F]._code=es(f[F],v);for(ue=0;ue<4;ue++){for(Xe=R[ue],M=[],F=0,Ie=f.length,ee=Ie-1;F<Ie;ee=F++)ge=f[F],Ae=f[ee],ge._code&Xe?Ae._code&Xe||(mt=$u(Ae,ge,Xe,v,E),mt._code=es(mt,v),M.push(mt)):(Ae._code&Xe&&(mt=$u(Ae,ge,Xe,v,E),mt._code=es(mt,v),M.push(mt)),M.push(ge));f=M}return f}function c0(f,v){var E,M,R,F,ee,ue,ge,Ae,Ie;if(!f||f.length===0)throw new Error("latlngs not passed");si(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Xe=me([0,0]),mt=oe(f),Zn=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Zn<1700&&(Xe=rh(f));var kn=f.length,qr=[];for(E=0;E<kn;E++){var jt=me(f[E]);qr.push(v.project(me([jt.lat-Xe.lat,jt.lng-Xe.lng])))}for(ue=ge=Ae=0,E=0,M=kn-1;E<kn;M=E++)R=qr[E],F=qr[M],ee=R.y*F.x-F.y*R.x,ge+=(R.x+F.x)*ee,Ae+=(R.y+F.y)*ee,ue+=ee*3;ue===0?Ie=qr[0]:Ie=[ge/ue,Ae/ue];var Nt=v.unproject(ie(Ie));return me([Nt.lat+Xe.lat,Nt.lng+Xe.lng])}function rh(f){for(var v=0,E=0,M=0,R=0;R<f.length;R++){var F=me(f[R]);v+=F.lat,E+=F.lng,M++}return me([v/M,E/M])}var ih={__proto__:null,clipPolygon:l0,polygonCenter:c0,centroid:rh};function u0(f,v){if(!v||!f.length)return f.slice();var E=v*v;return f=Jx(f,E),f=f0(f,E),f}function d0(f,v,E){return Math.sqrt(pc(f,v,E,!0))}function Xx(f,v,E){return pc(f,v,E)}function f0(f,v){var E=f.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,ah(f,R,v,0,E-1);var F,ee=[];for(F=0;F<E;F++)R[F]&&ee.push(f[F]);return ee}function ah(f,v,E,M,R){var F=0,ee,ue,ge;for(ue=M+1;ue<=R-1;ue++)ge=pc(f[ue],f[M],f[R],!0),ge>F&&(ee=ue,F=ge);F>E&&(v[ee]=1,ah(f,v,E,M,ee),ah(f,v,E,ee,R))}function Jx(f,v){for(var E=[f[0]],M=1,R=0,F=f.length;M<F;M++)Qx(f[M],f[R])>v&&(E.push(f[M]),R=M);return R<F-1&&E.push(f[F-1]),E}var h0;function m0(f,v,E,M,R){var F=M?h0:es(f,E),ee=es(v,E),ue,ge,Ae;for(h0=ee;;){if(!(F|ee))return[f,v];if(F&ee)return!1;ue=F||ee,ge=$u(f,v,ue,E,R),Ae=es(ge,E),ue===F?(f=ge,F=Ae):(v=ge,ee=Ae)}}function $u(f,v,E,M,R){var F=v.x-f.x,ee=v.y-f.y,ue=M.min,ge=M.max,Ae,Ie;return E&8?(Ae=f.x+F*(ge.y-f.y)/ee,Ie=ge.y):E&4?(Ae=f.x+F*(ue.y-f.y)/ee,Ie=ue.y):E&2?(Ae=ge.x,Ie=f.y+ee*(ge.x-f.x)/F):E&1&&(Ae=ue.x,Ie=f.y+ee*(ue.x-f.x)/F),new Q(Ae,Ie,R)}function es(f,v){var E=0;return f.x<v.min.x?E|=1:f.x>v.max.x&&(E|=2),f.y<v.min.y?E|=4:f.y>v.max.y&&(E|=8),E}function Qx(f,v){var E=v.x-f.x,M=v.y-f.y;return E*E+M*M}function pc(f,v,E,M){var R=v.x,F=v.y,ee=E.x-R,ue=E.y-F,ge=ee*ee+ue*ue,Ae;return ge>0&&(Ae=((f.x-R)*ee+(f.y-F)*ue)/ge,Ae>1?(R=E.x,F=E.y):Ae>0&&(R+=ee*Ae,F+=ue*Ae)),ee=f.x-R,ue=f.y-F,M?ee*ee+ue*ue:new Q(R,F)}function si(f){return!A(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Bu(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),si(f)}function nl(f,v){var E,M,R,F,ee,ue,ge,Ae;if(!f||f.length===0)throw new Error("latlngs not passed");si(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ie=me([0,0]),Xe=oe(f),mt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());mt<1700&&(Ie=rh(f));var Zn=f.length,kn=[];for(E=0;E<Zn;E++){var qr=me(f[E]);kn.push(v.project(me([qr.lat-Ie.lat,qr.lng-Ie.lng])))}for(E=0,M=0;E<Zn-1;E++)M+=kn[E].distanceTo(kn[E+1])/2;if(M===0)Ae=kn[0];else for(E=0,F=0;E<Zn-1;E++)if(ee=kn[E],ue=kn[E+1],R=ee.distanceTo(ue),F+=R,F>M){ge=(F-M)/R,Ae=[ue.x-ge*(ue.x-ee.x),ue.y-ge*(ue.y-ee.y)];break}var jt=v.unproject(ie(Ae));return me([jt.lat+Ie.lat,jt.lng+Ie.lng])}var ew={__proto__:null,simplify:u0,pointToSegmentDistance:d0,closestPointOnSegment:Xx,clipSegment:m0,_getEdgeIntersection:$u,_getBitCode:es,_sqClosestPointOnSegment:pc,isFlat:si,_flat:Bu,polylineCenter:nl},zu={project:function(f){return new Q(f.lng,f.lat)},unproject:function(f){return new de(f.y,f.x)},bounds:new z([-180,-90],[180,90])},Uu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var v=Math.PI/180,E=this.R,M=f.lat*v,R=this.R_MINOR/E,F=Math.sqrt(1-R*R),ee=F*Math.sin(M),ue=Math.tan(Math.PI/4-M/2)/Math.pow((1-ee)/(1+ee),F/2);return M=-E*Math.log(Math.max(ue,1e-10)),new Q(f.lng*v*E,M)},unproject:function(f){for(var v=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),F=Math.exp(-f.y/E),ee=Math.PI/2-2*Math.atan(F),ue=0,ge=.1,Ae;ue<15&&Math.abs(ge)>1e-7;ue++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(F*Ae)-ee,ee+=ge;return new de(ee*v,f.x*v/E)}},p0={__proto__:null,LonLat:zu,Mercator:Uu,SphericalMercator:Ee},g0=i({},Ne,{code:"EPSG:3395",projection:Uu,transformation:(function(){var f=.5/(Math.PI*Uu.R);return se(f,.5,-f,.5)})()}),oh=i({},Ne,{code:"EPSG:4326",projection:zu,transformation:se(1/180,1,-1/180,.5)}),rl=i({},ye,{projection:zu,transformation:se(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,v){var E=v.lng-f.lng,M=v.lat-f.lat;return Math.sqrt(E*E+M*M)},infinite:!0});ye.Earth=Ne,ye.EPSG3395=g0,ye.EPSG3857=Ue,ye.EPSG900913=Ke,ye.EPSG4326=oh,ye.Simple=rl;var Oi=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var v=f.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var E=this.getEvents();v.on(E,this),this.once("remove",function(){v.off(E,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});_t.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(f);return this._layers[v]?this:(this._layers[v]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var v=u(f);return this._layers[v]?(this._loaded&&f.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},_addLayers:function(f){f=f?A(f)?f:[f]:[];for(var v=0,E=f.length;v<E;v++)this.addLayer(f[v])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var v=u(f);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,v=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),v=R.maxZoom===void 0?v:Math.max(v,R.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var il=Oi.extend({initialize:function(f,v){w(this,v),this._layers={};var E,M;if(f)for(E=0,M=f.length;E<M;E++)this.addLayer(f[E])},addLayer:function(f){var v=this.getLayerId(f);return this._layers[v]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var v=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(f){var v=typeof f=="number"?f:this.getLayerId(f);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var v=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[f]&&M[f].apply(M,v);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),tw=function(f,v){return new il(f,v)},ra=il.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),il.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),il.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ne;for(var v in this._layers){var E=this._layers[v];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),b0=function(f,v){return new ra(f,v)},ia=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){w(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,v){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(M,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(f,v){var E=this.options,M=E[v+"Size"];typeof M=="number"&&(M=[M,M]);var R=ie(M),F=ie(v==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+v+" "+(E.className||""),F&&(f.style.marginLeft=-F.x+"px",f.style.marginTop=-F.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,v){return v=v||document.createElement("img"),v.src=f,v},_getIconUrl:function(f){return Ve.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function gc(f){return new ia(f)}var bc=ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof bc.imagePath!="string"&&(bc.imagePath=this._detectIconPath()),(this.options.imagePath||bc.imagePath)+ia.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var v=function(E,M,R){var F=M.exec(E);return F&&F[R]};return f=v(f,/^url\((['"])?(.+)\1\)$/,2),f&&v(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=yt("div","leaflet-default-icon-path",document.body),v=sc(f,"background-image")||sc(f,"backgroundImage");if(document.body.removeChild(f),v=this._stripUrl(v),v)return v;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),yc=na.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new mo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ln(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var v=this._marker,E=v._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=fo(v._icon),ee=E.getPixelBounds(),ue=E.getPixelOrigin(),ge=V(ee.min._subtract(ue).add(R),ee.max._subtract(ue).subtract(R));if(!ge.contains(F)){var Ae=ie((Math.max(ge.max.x,F.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,F.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,F.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,F.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(M);E.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Wt(v._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=H(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,f)))},_onDrag:function(f){var v=this._marker,E=v._shadow,M=fo(v._icon),R=v._map.layerPointToLatLng(M);E&&Wt(E,M),v._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,v.fire("move",f).fire("drag",f)},_onDragEnd:function(f){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),vc=Oi.extend({options:{icon:new bc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,v){w(this,v),this._latlng=me(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var v=this._latlng;return this._latlng=me(f),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),ut(E,v),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(ut(R,v),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),Ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ht(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Wt(this._icon,f),this._shadow&&Wt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&tn(this._icon,f),this._shadow&&tn(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var v=this.options.icon.options,E=v.iconSize?ie(v.iconSize):ie(0,0),M=v.iconAnchor?ie(v.iconAnchor):ie(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function y0(f,v){return new vc(f,v)}var aa=Oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return w(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),al=aa.extend({options:{fill:!0,radius:10},initialize:function(f,v){w(this,v),this._latlng=me(f),this._radius=this.options.radius},setLatLng:function(f){var v=this._latlng;return this._latlng=me(f),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var v=f&&f.radius||this._radius;return aa.prototype.setStyle.call(this,f),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,v=this._radiusY||f,E=this._clickTolerance(),M=[f+E,v+E];this._pxBounds=new z(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function v0(f,v){return new al(f,v)}var Fu=al.extend({initialize:function(f,v,E){if(typeof v=="number"&&(v=i({},E,{radius:v})),w(this,v),this._latlng=me(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:aa.prototype.setStyle,_project:function(){var f=this._latlng.lng,v=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Ne.distance){var R=Math.PI/180,F=this._mRadius/Ne.R/R,ee=E.project([v+F,f]),ue=E.project([v-F,f]),ge=ee.add(ue).divideBy(2),Ae=E.unproject(ge).lat,Ie=Math.acos((Math.cos(F*R)-Math.sin(v*R)*Math.sin(Ae*R))/(Math.cos(v*R)*Math.cos(Ae*R)))/R;(isNaN(Ie)||Ie===0)&&(Ie=F/Math.cos(Math.PI/180*v)),this._point=ge.subtract(E.getPixelOrigin()),this._radius=isNaN(Ie)?0:ge.x-E.project([Ae,f-Ie]).x,this._radiusY=ge.y-ee.y}else{var Xe=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Xe).x}this._updateBounds()}});function x0(f,v,E){return new Fu(f,v,E)}var La=aa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,v){w(this,v),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var v=1/0,E=null,M=pc,R,F,ee=0,ue=this._parts.length;ee<ue;ee++)for(var ge=this._parts[ee],Ae=1,Ie=ge.length;Ae<Ie;Ae++){R=ge[Ae-1],F=ge[Ae];var Xe=M(f,R,F,!0);Xe<v&&(v=Xe,E=M(f,R,F))}return E&&(E.distance=Math.sqrt(v)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,v){return v=v||this._defaultShape(),f=me(f),v.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ne,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return si(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var v=[],E=si(f),M=0,R=f.length;M<R;M++)E?(v[M]=me(f[M]),this._bounds.extend(v[M])):v[M]=this._convertLatLngs(f[M]);return v},_project:function(){var f=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),v=new Q(f,f);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(f,v,E){var M=f[0]instanceof de,R=f.length,F,ee;if(M){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(f[F]),E.extend(ee[F]);v.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(f[F],v,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,E,M,R,F,ee,ue,ge;for(E=0,R=0,F=this._rings.length;E<F;E++)for(ge=this._rings[E],M=0,ee=ge.length;M<ee-1;M++)ue=m0(ge[M],ge[M+1],f,M,!0),ue&&(v[R]=v[R]||[],v[R].push(ue[0]),(ue[1]!==ge[M+1]||M===ee-2)&&(v[R].push(ue[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,v=this.options.smoothFactor,E=0,M=f.length;E<M;E++)f[E]=u0(f[E],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,v){var E,M,R,F,ee,ue,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,F=this._parts.length;E<F;E++)for(ue=this._parts[E],M=0,ee=ue.length,R=ee-1;M<ee;R=M++)if(!(!v&&M===0)&&d0(f,ue[R],ue[M])<=ge)return!0;return!1}});function nw(f,v){return new La(f,v)}La._flat=Bu;var ol=La.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return c0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var v=La.prototype._convertLatLngs.call(this,f),E=v.length;return E>=2&&v[0]instanceof de&&v[0].equals(v[E-1])&&v.pop(),v},_setLatLngs:function(f){La.prototype._setLatLngs.call(this,f),si(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return si(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,v=this.options.weight,E=new Q(v,v);if(f=new z(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,F;M<R;M++)F=l0(this._rings[M],f,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var v=!1,E,M,R,F,ee,ue,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(F=0,ge=this._parts.length;F<ge;F++)for(E=this._parts[F],ee=0,Ae=E.length,ue=Ae-1;ee<Ae;ue=ee++)M=E[ee],R=E[ue],M.y>f.y!=R.y>f.y&&f.x<(R.x-M.x)*(f.y-M.y)/(R.y-M.y)+M.x&&(v=!v);return v||La.prototype._containsPoint.call(this,f,!0)}});function rw(f,v){return new ol(f,v)}var Ia=ra.extend({initialize:function(f,v){w(this,v),this._layers={},f&&this.addData(f)},addData:function(f){var v=A(f)?f:f.features,E,M,R;if(v){for(E=0,M=v.length;E<M;E++)R=v[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(f))return this;var ee=lr(f,F);return ee?(ee.feature=Yu(f),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(f,ee),this.addLayer(ee)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(v){this._setLayerStyle(v,f)},this)},_setLayerStyle:function(f,v){f.setStyle&&(typeof v=="function"&&(v=v(f.feature)),f.setStyle(v))}});function lr(f,v){var E=f.type==="Feature"?f.geometry:f,M=E?E.coordinates:null,R=[],F=v&&v.pointToLayer,ee=v&&v.coordsToLatLng||Hu,ue,ge,Ae,Ie;if(!M&&!E)return null;switch(E.type){case"Point":return ue=ee(M),sl(F,f,ue,v);case"MultiPoint":for(Ae=0,Ie=M.length;Ae<Ie;Ae++)ue=ee(M[Ae]),R.push(sl(F,f,ue,v));return new ra(R);case"LineString":case"MultiLineString":return ge=xc(M,E.type==="LineString"?0:1,ee),new La(ge,v);case"Polygon":case"MultiPolygon":return ge=xc(M,E.type==="Polygon"?1:2,ee),new ol(ge,v);case"GeometryCollection":for(Ae=0,Ie=E.geometries.length;Ae<Ie;Ae++){var Xe=lr({geometry:E.geometries[Ae],type:"Feature",properties:f.properties},v);Xe&&R.push(Xe)}return new ra(R);case"FeatureCollection":for(Ae=0,Ie=E.features.length;Ae<Ie;Ae++){var mt=lr(E.features[Ae],v);mt&&R.push(mt)}return new ra(R);default:throw new Error("Invalid GeoJSON object.")}}function sl(f,v,E,M){return f?f(v,E):new vc(E,M&&M.markersInheritOptions&&M)}function Hu(f){return new de(f[1],f[0],f[2])}function xc(f,v,E){for(var M=[],R=0,F=f.length,ee;R<F;R++)ee=v?xc(f[R],v-1,E):(E||Hu)(f[R]),M.push(ee);return M}function Gu(f,v){return f=me(f),f.alt!==void 0?[b(f.lng,v),b(f.lat,v),b(f.alt,v)]:[b(f.lng,v),b(f.lat,v)]}function wc(f,v,E,M){for(var R=[],F=0,ee=f.length;F<ee;F++)R.push(v?wc(f[F],si(f[F])?0:v-1,E,M):Gu(f[F],M));return!v&&E&&R.length>0&&R.push(R[0].slice()),R}function po(f,v){return f.feature?i({},f.feature,{geometry:v}):Yu(v)}function Yu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var go={toGeoJSON:function(f){return po(this,{type:"Point",coordinates:Gu(this.getLatLng(),f)})}};vc.include(go),Fu.include(go),al.include(go),La.include({toGeoJSON:function(f){var v=!si(this._latlngs),E=wc(this._latlngs,v?1:0,!1,f);return po(this,{type:(v?"Multi":"")+"LineString",coordinates:E})}}),ol.include({toGeoJSON:function(f){var v=!si(this._latlngs),E=v&&!si(this._latlngs[0]),M=wc(this._latlngs,E?2:v?1:0,!0,f);return v||(M=[M]),po(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),il.include({toMultiPoint:function(f){var v=[];return this.eachLayer(function(E){v.push(E.toGeoJSON(f).geometry.coordinates)}),po(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(f){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(f);var E=v==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(f);if(E)M.push(F.geometry);else{var ee=Yu(F);ee.type==="FeatureCollection"?M.push.apply(M,ee.features):M.push(ee)}}}),E?po(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function qu(f,v){return new Ia(f,v)}var _c=qu,ll=Oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,v,E){this._url=f,this._bounds=oe(v),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Vn(this._image),this},bringToBack:function(){return this._map&&Xo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=oe(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",v=this._image=f?this._url:yt("img");if(ut(v,"leaflet-image-layer"),this._zoomAnimated&&ut(v,"leaflet-zoom-animated"),this.options.className&&ut(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(f){var v=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Da(this._image,E,v)},_reset:function(){var f=this._image,v=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=v.getSize();Wt(f,v.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),w0=function(f,v,E){return new ll(f,v,E)},bo=ll.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",v=this._image=f?this._url:yt("video");if(ut(v,"leaflet-image-layer"),this._zoomAnimated&&ut(v,"leaflet-zoom-animated"),this.options.className&&ut(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=o(this.fire,this,"load"),f){for(var E=v.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=yt("source");ee.src=this._url[F],v.appendChild(ee)}}});function cl(f,v,E){return new bo(f,v,E)}var Ku=ll.extend({_initImage:function(){var f=this._image=this._url;ut(f,"leaflet-image-layer"),this._zoomAnimated&&ut(f,"leaflet-zoom-animated"),this.options.className&&ut(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function _0(f,v,E){return new Ku(f,v,E)}var cr=Oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,v){f&&(f instanceof de||A(f))?(this._latlng=me(f),w(this,v)):(w(this,f),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&tn(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(tn(this._container,0),this._removeTimeout=setTimeout(o(Ht,void 0,this._container),200)):Ht(this._container),this.options.interactive&&(ln(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=me(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vn(this._container),this},bringToBack:function(){return this._map&&Xo(this._container),this},_prepareOpen:function(f){var v=this._source;if(!v._map)return!1;if(v instanceof ra){v=null;var E=this._source._layers;for(var M in E)if(E[M]._map){v=E[M];break}if(!v)return!1;this._source=v}if(!f)if(v.getCenter)f=v.getCenter();else if(v.getLatLng)f=v.getLatLng();else if(v.getBounds)f=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")f.innerHTML=v;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),v=ie(this.options.offset),E=this._getAnchor();this._zoomAnimated?Wt(this._container,f.add(E)):v=v.add(f).add(E);var M=this._containerBottom=-v.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});_t.include({_initOverlay:function(f,v,E,M){var R=v;return R instanceof f||(R=new f(M).setContent(v)),E&&R.setLatLng(E),R}}),Oi.include({_initOverlay:function(f,v,E,M){var R=E;return R instanceof f?(w(R,M),R._source=this):(R=v&&!M?v:new f(M,this),R.setContent(E)),R}});var Sc=cr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,cr.prototype.openOn.call(this,f)},onAdd:function(f){cr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof aa||this._source.on("preclick",Ni))},onRemove:function(f){cr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof aa||this._source.off("preclick",Ni))},getEvents:function(){var f=cr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",v=this._container=yt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=yt("div",f+"-content-wrapper",v);if(this._contentNode=yt("div",f+"-content",E),Qo(v),ta(this._contentNode),st(v,"contextmenu",Ni),this._tipContainer=yt("div",f+"-tip-container",v),this._tip=yt("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=yt("a",f+"-close-button",v);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',st(M,"click",function(R){Sn(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,v=f.style;v.width="",v.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),v.width=E+1+"px",v.whiteSpace="",v.height="";var M=f.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&M>R?(v.height=R+"px",ut(f,F)):ln(f,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();Wt(this._container,v.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,v=parseInt(sc(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+v,M=this._containerWidth,R=new Q(this._containerLeft,-E-this._containerBottom);R._add(fo(this._container));var F=f.layerPointToContainerPoint(R),ee=ie(this.options.autoPanPadding),ue=ie(this.options.autoPanPaddingTopLeft||ee),ge=ie(this.options.autoPanPaddingBottomRight||ee),Ae=f.getSize(),Ie=0,Xe=0;F.x+M+ge.x>Ae.x&&(Ie=F.x+M-Ae.x+ge.x),F.x-Ie-ue.x<0&&(Ie=F.x-ue.x),F.y+E+ge.y>Ae.y&&(Xe=F.y+E-Ae.y+ge.y),F.y-Xe-ue.y<0&&(Xe=F.y-ue.y),(Ie||Xe)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Ie,Xe]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),S0=function(f,v){return new Sc(f,v)};_t.mergeOptions({closePopupOnClick:!0}),_t.include({openPopup:function(f,v,E){return this._initOverlay(Sc,f,v,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Oi.include({bindPopup:function(f,v){return this._popup=this._initOverlay(Sc,this._popup,f,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ra||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){ho(f);var v=f.layer||f.target;if(this._popup._source===v&&!(v instanceof aa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=v,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var kc=cr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){cr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){cr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=cr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",v=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yt("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var v,E,M=this._map,R=this._container,F=M.latLngToContainerPoint(M.getCenter()),ee=M.layerPointToContainerPoint(f),ue=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Ie=ie(this.options.offset),Xe=this._getAnchor();ue==="top"?(v=ge/2,E=Ae):ue==="bottom"?(v=ge/2,E=0):ue==="center"?(v=ge/2,E=Ae/2):ue==="right"?(v=0,E=Ae/2):ue==="left"?(v=ge,E=Ae/2):ee.x<F.x?(ue="right",v=0,E=Ae/2):(ue="left",v=ge+(Ie.x+Xe.x)*2,E=Ae/2),f=f.subtract(ie(v,E,!0)).add(Ie).add(Xe),ln(R,"leaflet-tooltip-right"),ln(R,"leaflet-tooltip-left"),ln(R,"leaflet-tooltip-top"),ln(R,"leaflet-tooltip-bottom"),ut(R,"leaflet-tooltip-"+ue),Wt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&tn(this._container,f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(v)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),iw=function(f,v){return new kc(f,v)};_t.include({openTooltip:function(f,v,E){return this._initOverlay(kc,f,v,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Oi.include({bindTooltip:function(f,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kc,this._tooltip,f,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var v=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[v](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ra||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&(st(v,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),st(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var v=f.latlng,E,M;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(E),v=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(v)}});var k0=ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var v=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(ai(v),v.appendChild(E.html)):v.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=ie(E.bgPos);v.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function aw(f){return new k0(f)}ia.Default=bc;var ul=Oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){w(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Ht(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof Q?f:new Q(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var v=this.getPane().children,E=-f(-1/0,1/0),M=0,R=v.length,F;M<R;M++)F=v[M].style.zIndex,v[M]!==this._container&&F&&(E=f(E,+F));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ve.ielt9){tn(this._container,this.options.opacity);var f=+new Date,v=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var F=Math.min(1,(f-R.loaded)/200);tn(R.el,F),F<1?v=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),v&&(B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,v=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=v-Math.abs(f-E),this._onUpdateLevel(E)):(Ht(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[f],R=this._map;return M||(M=this._levels[f]={},M.el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=v,M.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,v,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)v=this._tiles[f],v.retain=v.current;for(f in this._tiles)if(v=this._tiles[f],v.current&&!v.active){var M=v.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var v in this._tiles)this._tiles[v].coords.z===f&&this._removeTile(v)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Ht(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,v,E,M){var R=Math.floor(f/2),F=Math.floor(v/2),ee=E-1,ue=new Q(+R,+F);ue.z=+ee;var ge=this._tileCoordsToKey(ue),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>M?this._retainParent(R,F,ee,M):!1)},_retainChildren:function(f,v,E,M){for(var R=2*f;R<2*f+2;R++)for(var F=2*v;F<2*v+2;F++){var ee=new Q(R,F);ee.z=E+1;var ue=this._tileCoordsToKey(ee),ge=this._tiles[ue];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);E+1<M&&this._retainChildren(R,F,E+1,M)}},_resetView:function(f){var v=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var v=this.options;return v.minNativeZoom!==void 0&&f<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<f?v.maxNativeZoom:f},_setView:function(f,v,E,M){var R=Math.round(v);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,v)},_setZoomTransforms:function(f,v){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,v)},_setZoomTransform:function(f,v,E){var M=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(v,E)).round();Ve.any3d?Da(f.el,R,M):Wt(f.el,R)},_resetGrid:function(){var f=this._map,v=f.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,v.wrapLng[0]],M).x/E.x),Math.ceil(f.project([0,v.wrapLng[1]],M).x/E.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([v.wrapLat[0],0],M).y/E.x),Math.ceil(f.project([v.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var v=this._map,E=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),M=v.getZoomScale(E,this._tileZoom),R=v.project(f,this._tileZoom).floor(),F=v.getSize().divideBy(M*2);return new z(R.subtract(F),R.add(F))},_update:function(f){var v=this._map;if(v){var E=this._clampZoom(v.getZoom());if(f===void 0&&(f=v.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(M),F=R.getCenter(),ee=[],ue=this.options.keepBuffer,ge=new z(R.getBottomLeft().subtract([ue,-ue]),R.getTopRight().add([ue,-ue]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Ie=this._tiles[Ae].coords;(Ie.z!==this._tileZoom||!ge.contains(new Q(Ie.x,Ie.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Xe=R.min.y;Xe<=R.max.y;Xe++)for(var mt=R.min.x;mt<=R.max.x;mt++){var Zn=new Q(mt,Xe);if(Zn.z=this._tileZoom,!!this._isValidTile(Zn)){var kn=this._tiles[this._tileCoordsToKey(Zn)];kn?kn.current=!0:ee.push(Zn)}}if(ee.sort(function(jt,Nt){return jt.distanceTo(F)-Nt.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qr=document.createDocumentFragment();for(mt=0;mt<ee.length;mt++)this._addTile(ee[mt],qr);this._level.el.appendChild(qr)}}}},_isValidTile:function(f){var v=this._map.options.crs;if(!v.infinite){var E=this._globalTileRange;if(!v.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!v.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return oe(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var v=this._map,E=this.getTileSize(),M=f.scaleBy(E),R=M.add(E),F=v.unproject(M,f.z),ee=v.unproject(R,f.z);return[F,ee]},_tileCoordsToBounds:function(f){var v=this._tileCoordsToNwSe(f),E=new ne(v[0],v[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var v=f.split(":"),E=new Q(+v[0],+v[1]);return E.z=+v[2],E},_removeTile:function(f){var v=this._tiles[f];v&&(Ht(v.el),delete this._tiles[f],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){ut(f,"leaflet-tile");var v=this.getTileSize();f.style.width=v.x+"px",f.style.height=v.y+"px",f.onselectstart=p,f.onmousemove=p,Ve.ielt9&&this.options.opacity<1&&tn(f,this.options.opacity)},_addTile:function(f,v){var E=this._getTilePos(f),M=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,f,null,R)),Wt(R,E),this._tiles[M]={el:R,coords:f,current:!0},v.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,v,E){v&&this.fire("tileerror",{error:v,tile:E,coords:f});var M=this._tileCoordsToKey(f);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(tn(E.el,0),B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),v||(ut(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ve.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var v=new Q(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return v.z=f.z,v},_pxBoundsToTileRange:function(f){var v=this.getTileSize();return new z(f.min.unscaleBy(v).floor(),f.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function E0(f){return new ul(f)}var yo=ul.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,v){this._url=f,v=w(this,v),v.detectRetina&&Ve.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,v){return this._url===f&&v===void 0&&(v=!0),this._url=f,v||this.redraw(),this},createTile:function(f,v){var E=document.createElement("img");return st(E,"load",o(this._tileOnLoad,this,v,E)),st(E,"error",o(this._tileOnError,this,v,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var v={r:Ve.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(v.y=E),v["-y"]=E}return O(this._url,i(v,this.options))},_tileOnLoad:function(f,v){Ve.ielt9?setTimeout(o(f,this,null,v),0):f(null,v)},_tileOnError:function(f,v,E){var M=this.options.errorTileUrl;M&&v.getAttribute("src")!==M&&(v.src=M),f(E,v)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,v=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(f=v-f),f+M},_getSubdomain:function(f){var v=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var f,v;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(v=this._tiles[f].el,v.onload=p,v.onerror=p,!v.complete)){v.src=D;var E=this._tiles[f].coords;Ht(v),delete this._tiles[f],this.fire("tileabort",{tile:v,coords:E})}},_removeTile:function(f){var v=this._tiles[f];if(v)return v.el.setAttribute("src",D),ul.prototype._removeTile.call(this,f)},_tileReady:function(f,v,E){if(!(!this._map||E&&E.getAttribute("src")===D))return ul.prototype._tileReady.call(this,f,v,E)}});function li(f,v){return new yo(f,v)}var Ec=yo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,v){this._url=f;var E=i({},this.defaultWmsParams);for(var M in v)M in this.options||(E[M]=v[M]);v=w(this,v);var R=v.detectRetina&&Ve.retina?2:1,F=this.getTileSize();E.width=F.x*R,E.height=F.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,yo.prototype.onAdd.call(this,f)},getTileUrl:function(f){var v=this._tileCoordsToNwSe(f),E=this._crs,M=V(E.project(v[0]),E.project(v[1])),R=M.min,F=M.max,ee=(this._wmsVersion>=1.3&&this._crs===oh?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),ue=yo.prototype.getTileUrl.call(this,f);return ue+S(this.wmsParams,ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(f,v){return i(this.wmsParams,f),v||this.redraw(),this}});function ci(f,v){return new Ec(f,v)}yo.WMS=Ec,li.wms=ci;var Lr=Oi.extend({options:{padding:.1},initialize:function(f){w(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,v){var E=this._map.getZoomScale(v,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,v),F=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,v));Ve.any3d?Da(this._container,F,E):Wt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,v=this._map.getSize(),E=this._map.containerPointToLayerPoint(v.multiplyBy(-f)).round();this._bounds=new z(E,E.add(v.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wu=Lr.extend({options:{tolerance:0},getEvents:function(){var f=Lr.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");st(f,"mousemove",this._onMouseMove,this),st(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Ht(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var v in this._layers)f=this._layers[v],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var f=this._bounds,v=this._container,E=f.getSize(),M=Ve.retina?2:1;Wt(v,f.min),v.width=M*E.x,v.height=M*E.y,v.style.width=E.x+"px",v.style.height=E.y+"px",Ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var v=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var v=f._order,E=v.next,M=v.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var v=f.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<v.length;R++){if(M=Number(v[R]),isNaN(M))return;E.push(M)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var v=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(f._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(f._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var v=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,v=this._redrawBounds;if(this._ctx.save(),v){var E=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!v||f._pxBounds&&f._pxBounds.intersects(v))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,v){if(this._drawing){var E,M,R,F,ee=f._parts,ue=ee.length,ge=this._ctx;if(ue){for(ge.beginPath(),E=0;E<ue;E++){for(M=0,R=ee[E].length;M<R;M++)F=ee[E][M],ge[M?"lineTo":"moveTo"](F.x,F.y);v&&ge.closePath()}this._fillStroke(ge,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var v=f._point,E=this._ctx,M=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(v.x,v.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,v){var E=v.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(v.options&&v.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var v=this._map.mouseEventToLayerPoint(f),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,v)}},_handleMouseOut:function(f){var v=this._hoveredLayer;v&&(ln(this._container,"leaflet-interactive"),this._fireEvent([v],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,v){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(ut(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,v,E){this._map._fireDOMEvent(v,E||v.type,f)},_bringToFront:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(f)}},_bringToBack:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(f)}}});function Tc(f){return Ve.canvas?new Wu(f):null}var vo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),sh={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lr.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var v=f._container=vo("shape");ut(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",f._path=vo("path"),v.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var v=f._container;this._container.appendChild(v),f.options.interactive&&f.addInteractiveTarget(v)},_removePath:function(f){var v=f._container;Ht(v),f.removeInteractiveTarget(v),delete this._layers[u(f)]},_updateStyle:function(f){var v=f._stroke,E=f._fill,M=f.options,R=f._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(v||(v=f._stroke=vo("stroke")),R.appendChild(v),v.weight=M.weight+"px",v.color=M.color,v.opacity=M.opacity,M.dashArray?v.dashStyle=A(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=M.lineCap.replace("butt","flat"),v.joinstyle=M.lineJoin):v&&(R.removeChild(v),f._stroke=null),M.fill?(E||(E=f._fill=vo("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var v=f._point.round(),E=Math.round(f._radius),M=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+v.x+","+v.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(f,v){f._path.v=v},_bringToFront:function(f){Vn(f._container)},_bringToBack:function(f){Xo(f._container)}},oa=Ve.vml?vo:Je,dl=Lr.extend({_initContainer:function(){this._container=oa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=oa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ht(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var f=this._bounds,v=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,E.setAttribute("width",v.x),E.setAttribute("height",v.y)),Wt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(f){var v=f._path=oa("path");f.options.className&&ut(v,f.options.className),f.options.interactive&&ut(v,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Ht(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var v=f._path,E=f.options;v&&(E.stroke?(v.setAttribute("stroke",E.color),v.setAttribute("stroke-opacity",E.opacity),v.setAttribute("stroke-width",E.weight),v.setAttribute("stroke-linecap",E.lineCap),v.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?v.setAttribute("stroke-dasharray",E.dashArray):v.removeAttribute("stroke-dasharray"),E.dashOffset?v.setAttribute("stroke-dashoffset",E.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),E.fill?(v.setAttribute("fill",E.fillColor||E.color),v.setAttribute("fill-opacity",E.fillOpacity),v.setAttribute("fill-rule",E.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(f,v){this._setPath(f,Oe(f._parts,v))},_updateCircle:function(f){var v=f._point,E=Math.max(Math.round(f._radius),1),M=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",F=f._empty()?"M0 0":"M"+(v.x-E)+","+v.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,F)},_setPath:function(f,v){f._path.setAttribute("d",v)},_bringToFront:function(f){Vn(f._path)},_bringToBack:function(f){Xo(f._path)}});Ve.vml&&dl.include(sh);function Ac(f){return Ve.svg||Ve.vml?new dl(f):null}_t.include({getRenderer:function(f){var v=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var v=this._paneRenderers[f];return v===void 0&&(v=this._createRenderer({pane:f}),this._paneRenderers[f]=v),v},_createRenderer:function(f){return this.options.preferCanvas&&Tc(f)||Ac(f)}});var ts=ol.extend({initialize:function(f,v){ol.prototype.initialize.call(this,this._boundsToLatLngs(f),v)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=oe(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function ow(f,v){return new ts(f,v)}dl.create=oa,dl.pointsToPath=Oe,Ia.geometryToLayer=lr,Ia.coordsToLatLng=Hu,Ia.coordsToLatLngs=xc,Ia.latLngToCoords=Gu,Ia.latLngsToCoords=wc,Ia.getFeature=po,Ia.asFeature=Yu,_t.mergeOptions({boxZoom:!0});var Ir=na.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xs(),Pu(),this._startPoint=this._map.mouseEventToContainerPoint(f),st(document,{contextmenu:ho,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var v=new z(this._point,this._startPoint),E=v.getSize();Wt(this._box,v.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Ht(this._box),ln(this._container,"leaflet-crosshair")),ea(),cc(),It(document,{contextmenu:ho,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_t.addInitHook("addHandler","boxZoom",Ir),_t.mergeOptions({doubleClickZoom:!0});var Vu=na.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var v=this._map,E=v.getZoom(),M=v.options.zoomDelta,R=f.originalEvent.shiftKey?E-M:E+M;v.options.doubleClickZoom==="center"?v.setZoom(R):v.setZoomAround(f.containerPoint,R)}});_t.addInitHook("addHandler","doubleClickZoom",Vu),_t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sa=na.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new mo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ln(this._map._container,"leaflet-grab"),ln(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=oe(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var v=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(v),this._prunePositions(v)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,v){return f-(f-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;f.x<v.min.x&&(f.x=this._viscousLimit(f.x,v.min.x)),f.y<v.min.y&&(f.y=this._viscousLimit(f.y,v.min.y)),f.x>v.max.x&&(f.x=this._viscousLimit(f.x,v.max.x)),f.y>v.max.y&&(f.y=this._viscousLimit(f.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,v=Math.round(f/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-v+E)%f+v-E,F=(M+v+E)%f-v-E,ee=Math.abs(R+E)<Math.abs(F+E)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(f){var v=this._map,E=v.options,M=!E.inertia||f.noInertia||this._times.length<2;if(v.fire("dragend",f),M)v.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=E.easeLinearity,ue=R.multiplyBy(ee/F),ge=ue.distanceTo([0,0]),Ae=Math.min(E.inertiaMaxSpeed,ge),Ie=ue.multiplyBy(Ae/ge),Xe=Ae/(E.inertiaDeceleration*ee),mt=Ie.multiplyBy(-Xe/2).round();!mt.x&&!mt.y?v.fire("moveend"):(mt=v._limitOffset(mt,v.options.maxBounds),H(function(){v.panBy(mt,{duration:Xe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});_t.addInitHook("addHandler","dragging",sa),_t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lh=na.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),st(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,v=document.documentElement,E=f.scrollTop||v.scrollTop,M=f.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var v=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)v[E.left[M]]=[-1*f,0];for(M=0,R=E.right.length;M<R;M++)v[E.right[M]]=[f,0];for(M=0,R=E.down.length;M<R;M++)v[E.down[M]]=[0,f];for(M=0,R=E.up.length;M<R;M++)v[E.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var v=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)v[E.zoomIn[M]]=f;for(M=0,R=E.zoomOut.length;M<R;M++)v[E.zoomOut[M]]=-f},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var v=f.keyCode,E=this._map,M;if(v in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[v],f.shiftKey&&(M=ie(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(ie(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(v in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;ho(f)}}});_t.addInitHook("addHandler","keyboard",lh),_t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jc=na.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var v=_r(f),E=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),ho(f)},_performZoom:function(){var f=this._map,v=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,F=E?Math.ceil(R/E)*E:R,ee=f._limitZoom(v+(this._delta>0?F:-F))-v;this._delta=0,this._startTime=null,ee&&(f.options.scrollWheelZoom==="center"?f.setZoom(v+ee):f.setZoomAround(this._lastMousePos,v+ee))}});_t.addInitHook("addHandler","scrollWheelZoom",jc);var ns=600;_t.mergeOptions({tapHold:Ve.touchNative&&Ve.safari&&Ve.mobile,tapTolerance:15});var Zu=na.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var v=f.touches[0];this._startPos=this._newPos=new Q(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",Sn),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),ns),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){It(document,"touchend",Sn),It(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(f){var v=f.touches[0];this._newPos=new Q(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,v){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});E._simulated=!0,v.target.dispatchEvent(E)}});_t.addInitHook("addHandler","tapHold",Zu),_t.mergeOptions({touchZoom:Ve.touch,bounceAtZoomLimits:!0});var ch=na.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ln(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var v=this._map;if(!(!f.touches||f.touches.length!==2||v._animatingZoom||this._zooming)){var E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),Sn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var v=this._map,E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=v.getScaleZoom(R,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&R<1||this._zoom>v.getMaxZoom()&&R>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var ee=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),Sn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_t.addInitHook("addHandler","touchZoom",ch),_t.BoxZoom=Ir,_t.DoubleClickZoom=Vu,_t.Drag=sa,_t.Keyboard=lh,_t.ScrollWheelZoom=jc,_t.TapHold=Zu,_t.TouchZoom=ch,n.Bounds=z,n.Browser=Ve,n.CRS=ye,n.Canvas=Wu,n.Circle=Fu,n.CircleMarker=al,n.Class=J,n.Control=Yr,n.DivIcon=k0,n.DivOverlay=cr,n.DomEvent=Iu,n.DomUtil=el,n.Draggable=mo,n.Evented=X,n.FeatureGroup=ra,n.GeoJSON=Ia,n.GridLayer=ul,n.Handler=na,n.Icon=ia,n.ImageOverlay=ll,n.LatLng=de,n.LatLngBounds=ne,n.Layer=Oi,n.LayerGroup=il,n.LineUtil=ew,n.Map=_t,n.Marker=vc,n.Mixin=Zx,n.Path=aa,n.Point=Q,n.PolyUtil=ih,n.Polygon=ol,n.Polyline=La,n.Popup=Sc,n.PosAnimation=tl,n.Projection=p0,n.Rectangle=ts,n.Renderer=Lr,n.SVG=dl,n.SVGOverlay=Ku,n.TileLayer=yo,n.Tooltip=kc,n.Transformation=xe,n.Util=K,n.VideoOverlay=bo,n.bind=o,n.bounds=V,n.canvas=Tc,n.circle=x0,n.circleMarker=v0,n.control=Ra,n.divIcon=aw,n.extend=i,n.featureGroup=b0,n.geoJSON=qu,n.geoJson=_c,n.gridLayer=E0,n.icon=gc,n.imageOverlay=w0,n.latLng=me,n.latLngBounds=oe,n.layerGroup=tw,n.map=Jf,n.marker=y0,n.point=ie,n.polygon=rw,n.polyline=nw,n.popup=S0,n.rectangle=ow,n.setOptions=w,n.stamp=u,n.svg=Ac,n.svgOverlay=_0,n.tileLayer=li,n.tooltip=iw,n.transformation=se,n.version=r,n.videoOverlay=cl;var uh=window.L;n.noConflict=function(){return window.L=uh,this},window.L=n}))})(_m,_m.exports)),_m.exports}var dX=uX();const Q_=ki(dX),Pg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Fc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function fX(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Fc(n),p=Fc(t),b=Fc(r),y=Fc(a),k=Fc(o),w=Fc(l),S=i?Fc(i):null;let j=null,O=null,A=null;const C=B=>B.code==="Space"||B.key===" "||B.key==="Spacebar"||B.key==="Space",D=B=>{C(B)&&document.activeElement!==k&&(B.preventDefault(),B.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=Q_.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),Q_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),k.focus()},I=()=>{b.style.display="none",k.value="",w.innerHTML="",A&&(window.clearTimeout(A),A=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},U=B=>{const K=B.dataset.name??"",J=Number(B.dataset.lat??""),Z=Number(B.dataset.lon??"");!Number.isFinite(J)||!Number.isFinite(Z)||!j||(O?O.setLatLng([J,Z]):O=Q_.marker([J,Z]).addTo(j),j.flyTo([J,Z],14,{duration:.5}),h.value=K,h.dataset.lat=String(J),h.dataset.lon=String(Z),e.onSelected?.({name:K,lat:J,lon:Z}),w.innerHTML="",I())},W=()=>{A&&window.clearTimeout(A);const B=k.value.trim();if(!B){w.innerHTML="";return}A=window.setTimeout(async()=>{try{const K="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(B),J=await fetch(K,{headers:{Accept:"application/json"}});if(!J.ok)throw new Error(`HTTP ${J.status}`);const Z=await J.json();if(!Array.isArray(Z)||Z.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const Y=Z.slice(0,12).map((X,Q)=>{const ce=X.display_name.split(",").slice(0,3).map(V=>V.trim()).join("  "),ie="padding:8px;cursor:pointer;outline:none;",z=Q===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Pg(ce)}"
                    data-lat="${Pg(X.lat)}"
                    data-lon="${Pg(X.lon)}"
                    data-active="${Q===0?"1":"0"}"
                    style="${ie}${z}"
                  >${Pg(ce)}</li>`}).join("");w.innerHTML=Y}catch(K){console.error(K),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},q=B=>{const K=B.target;K.tagName==="LI"&&U(K)},H=B=>{if(B.key==="Enter"){const K=w.querySelector('li[data-active="1"]')??w.querySelector("li");K&&U(K)}};return p.addEventListener("click",P),y.addEventListener("click",I),S&&S.addEventListener("click",I),k.addEventListener("input",W),k.addEventListener("keydown",H),w.addEventListener("click",q),()=>{p.removeEventListener("click",P),y.removeEventListener("click",I),S&&S.removeEventListener("click",I),k.removeEventListener("input",W),k.removeEventListener("keydown",H),w.removeEventListener("click",q),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),A&&(window.clearTimeout(A),A=null),j&&(j.remove(),j=null)}}function Sd(){return document.getElementById("suggestions")}function Bb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function e1(e,t){const n=Bb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const hX='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function mX({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){_.useEffect(()=>{if(!e)return;const d=fX({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:A=>{n(""),r(A.name),i.current&&(i.current.value=A.name),a.current&&(a.current.value=String(A.lat)),o.current&&(o.current.value=String(A.lon)),u?.(A),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),y=Sd();setTimeout(()=>b?.focus(),0);const k=A=>{if(A.key==="Escape"){A.preventDefault(),t(!1);return}if(A.key!=="Tab")return;const C=Sd();if(C&&C.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(hX)).filter(W=>!W.hasAttribute("disabled")&&W.tabIndex!==-1);if(D.length===0)return;const P=D[0],I=D[D.length-1],U=document.activeElement;A.shiftKey?(U===P||!p.contains(U))&&(A.preventDefault(),I.focus()):(U===I||!p.contains(U))&&(A.preventDefault(),P.focus())};p.addEventListener("keydown",k);const w=A=>{if(A.key!=="ArrowDown")return;const C=Sd();!C||Bb(C).length===0||A.preventDefault()};b?.addEventListener("keydown",w);const S=A=>{if(A.target.value.trim()===""){const D=Sd();D&&(D.innerHTML="")}};b?.addEventListener("input",S);const j=A=>{const C=Sd();if(!C)return;const D=Bb(C);if(D.length===0)return;const P=document.activeElement,I=P?D.indexOf(P):-1;if(I===-1)return;const U=W=>{A.preventDefault(),e1(C,I+W)};switch(A.key){case"Tab":A.preventDefault(),U(A.shiftKey?-1:1);break;case"ArrowDown":A.preventDefault(),U(1);break;case"ArrowUp":A.preventDefault(),U(-1);break;case"Home":A.preventDefault(),e1(C,0);break;case"End":A.preventDefault(),e1(C,D.length-1);break;case"Enter":case" ":A.preventDefault(),P.click();break;case"Backspace":A.preventDefault(),C.innerHTML="",b?.focus();break}A.stopPropagation()};let O=null;return y&&(y.addEventListener("keydown",j),O=new MutationObserver(()=>{const A=Sd();!A||Bb(A).length}),O.observe(y,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",k),b?.removeEventListener("keydown",w),b?.removeEventListener("input",S),y&&y.removeEventListener("keydown",j),O?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),_.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function JB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=lX({placeholderText:t,value:r});return mX({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pX=typeof Symbol=="function"&&Symbol.observable||"@@observable",qM=pX,t1=()=>Math.random().toString(36).substring(7).split("").join("."),gX={INIT:`@@redux/INIT${t1()}`,REPLACE:`@@redux/REPLACE${t1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t1()}`},uy=gX;function aT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oT(e,t,n){if(typeof e!="function")throw new Error(hr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(oT)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,j)=>{o.set(j,S)}))}function h(){if(u)throw new Error(hr(3));return i}function p(S){if(typeof S!="function")throw new Error(hr(4));if(u)throw new Error(hr(5));let j=!0;d();const O=l++;return o.set(O,S),function(){if(j){if(u)throw new Error(hr(6));j=!1,d(),o.delete(O),a=null}}}function b(S){if(!aT(S))throw new Error(hr(7));if(typeof S.type>"u")throw new Error(hr(8));if(typeof S.type!="string")throw new Error(hr(17));if(u)throw new Error(hr(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(O=>{O()}),S}function y(S){if(typeof S!="function")throw new Error(hr(10));r=S,b({type:uy.REPLACE})}function k(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(hr(11));function O(){const C=j;C.next&&C.next(h())}return O(),{unsubscribe:S(O)}},[qM](){return this}}}return b({type:uy.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:y,[qM]:k}}function bX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:uy.INIT})>"u")throw new Error(hr(12));if(typeof n(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function QB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{bX(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],y=o[p],k=b(y,l);if(typeof k>"u")throw l&&l.type,new Error(hr(14));d[p]=k,u=u||k!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function KM(e,t){return function(...n){return t(e.apply(this,n))}}function WM(e,t){if(typeof e=="function")return KM(e,t);if(typeof e!="object"||e===null)throw new Error(hr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=KM(i,t))}return n}function zm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function e4(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(hr(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=zm(...l)(i.dispatch),{...i,dispatch:a}}}function t4(e){return aT(e)&&"type"in e&&typeof e.type=="string"}var n1={exports:{}},r1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM;function yX(){if(VM)return r1;VM=1;var e=gf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return r1.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function S(D){if(!j){if(j=!0,O=D,D=p(D),b!==void 0&&k.hasValue){var P=k.value;if(b(P,D))return A=P}return A=D}if(P=A,n(O,D))return P;var I=p(D);return b!==void 0&&b(P,I)?(O=D,P):(O=D,A=I)}var j=!1,O,A,C=h===void 0?null:h;return[function(){return S(d())},C===null?void 0:function(){return S(C())}]},[d,h,p,b]);var w=r(u,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=w},[w]),l(w),w},r1}var ZM;function vX(){return ZM||(ZM=1,n1.exports=yX()),n1.exports}vX();var xX=_.version.startsWith("19"),wX=Symbol.for(xX?"react.transitional.element":"react.element"),_X=Symbol.for("react.portal"),SX=Symbol.for("react.fragment"),kX=Symbol.for("react.strict_mode"),EX=Symbol.for("react.profiler"),TX=Symbol.for("react.consumer"),AX=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),jX=Symbol.for("react.suspense"),NX=Symbol.for("react.suspense_list"),sT=Symbol.for("react.memo"),OX=Symbol.for("react.lazy"),CX=n4,MX=sT;function DX(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case wX:switch(e=e.type,e){case SX:case EX:case kX:case jX:case NX:return e;default:switch(e=e&&e.$$typeof,e){case AX:case n4:case OX:case sT:return e;case TX:return e;default:return t}}case _X:return t}}}function PX(e){return DX(e)===sT}function RX(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function y(O,A){return u=O,d=A,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function w(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function S(){const O=e(u,d),A=!o(O,h);return h=O,A&&(b=n(h,p,d)),b}function j(O,A){const C=!a(A,d),D=!i(O,u,A,d);return u=O,d=A,C&&D?k():C?w():D?S():b}return function(A,C){return l?j(A,C):y(A,C)}}function LX(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return RX(a,o,l,e,i)}function IX(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Xk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function XM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function r4(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=XM(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=XM(d),d=a(l,u)),d},a}}function lT(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function $X(e){return e&&typeof e=="object"?Xk(t=>IX(e,t)):e?typeof e=="function"?r4(e):lT(e,"mapDispatchToProps"):Xk(t=>({dispatch:t}))}function BX(e){return e?typeof e=="function"?r4(e):lT(e,"mapStateToProps"):Xk(()=>({}))}function zX(e,t,n){return{...n,...e,...t}}function UX(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function FX(e){return e?typeof e=="function"?UX(e):lT(e,"mergeProps"):()=>zX}function HX(e){e()}function GX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JM={notify(){},get:()=>[]};function i4(e,t){let n,r=JM,i=0,a=!1;function o(w){h();const S=r.subscribe(w);let j=!1;return()=>{j||(j=!0,S(),p())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=GX())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JM)}function b(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return k}var YX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qX=YX(),KX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WX=KX(),VX=()=>qX||WX?_.useLayoutEffect:_.useEffect,dy=VX();function QM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function zb(e,t){if(QM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!QM(e[n[i]],t[n[i]]))return!1;return!0}var ZX={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XX={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QX={[CX]:JX,[MX]:a4};function eD(e){return PX(e)?a4:QX[e.$$typeof]||ZX}var eJ=Object.defineProperty,tJ=Object.getOwnPropertyNames,tD=Object.getOwnPropertySymbols,nJ=Object.getOwnPropertyDescriptor,rJ=Object.getPrototypeOf,nD=Object.prototype;function Jk(e,t){if(typeof t!="string"){if(nD){const a=rJ(t);a&&a!==nD&&Jk(e,a)}let n=tJ(t);tD&&(n=n.concat(tD(t)));const r=eD(e),i=eD(t);for(let a=0;a<n.length;++a){const o=n[a];if(!XX[o]&&!(i&&i[o])&&!(r&&r[o])){const l=nJ(t,o);try{eJ(e,o,l)}catch{}}}}return e}var iJ=Symbol.for("react-redux-context"),aJ=typeof globalThis<"u"?globalThis:{};function oJ(){if(!_.createContext)return{};const e=aJ[iJ]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var o4=oJ(),sJ=[null,null];function lJ(e,t,n){dy(()=>e(...t),n)}function cJ(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function uJ(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const y=()=>{if(p||!l.current)return;const w=t.getState();let S,j;try{S=r(w,i.current)}catch(O){j=O,b=O}j||(b=null),S===a.current?o.current||d():(a.current=S,u.current=S,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function dJ(e,t){return e===t}function fJ(e,t,n,{pure:r,areStatesEqual:i=dJ,areOwnPropsEqual:a=zb,areStatePropsEqual:o=zb,areMergedPropsEqual:l=zb,forwardRef:u=!1,context:d=o4}={}){const h=d,p=BX(e),b=$X(t),y=FX(n),k=!!e;return S=>{const j=S.displayName||S.name||"Component",O=`Connect(${j})`,A={shouldHandleStateChanges:k,displayName:O,wrappedComponentName:j,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C(I){const[U,W,q]=_.useMemo(()=>{const{reactReduxForwardedRef:se,...Ue}=I;return[I.context,se,Ue]},[I]),H=_.useMemo(()=>{let se=h;return U?.Consumer,se},[U,h]),B=_.useContext(H),K=!!I.store&&!!I.store.getState&&!!I.store.dispatch,J=!!B&&!!B.store,Z=K?I.store:B.store,Y=J?B.getServerState:Z.getState,X=_.useMemo(()=>LX(Z.dispatch,A),[Z]),[Q,ce]=_.useMemo(()=>{if(!k)return sJ;const se=i4(Z,K?void 0:B.subscription),Ue=se.notifyNestedSubs.bind(se);return[se,Ue]},[Z,K,B]),ie=_.useMemo(()=>K?B:{...B,subscription:Q},[K,B,Q]),z=_.useRef(void 0),V=_.useRef(q),ne=_.useRef(void 0),oe=_.useRef(!1),de=_.useRef(!1),me=_.useRef(void 0);dy(()=>(de.current=!0,()=>{de.current=!1}),[]);const ye=_.useMemo(()=>()=>ne.current&&q===V.current?ne.current:X(Z.getState(),q),[Z,q]),Ne=_.useMemo(()=>Ue=>Q?uJ(k,Z,Q,X,V,z,oe,de,ne,ce,Ue):()=>{},[Q]);lJ(cJ,[V,z,oe,q,ne,ce]);let ae;try{ae=_.useSyncExternalStore(Ne,ye,Y?()=>X(Y(),q):ye)}catch(se){throw me.current&&(se.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),se}dy(()=>{me.current=void 0,ne.current=void 0,z.current=ae});const Ee=_.useMemo(()=>_.createElement(S,{...ae,ref:W}),[W,S,ae]);return _.useMemo(()=>k?_.createElement(H.Provider,{value:ie},Ee):Ee,[H,Ee,ie])}const P=_.memo(C);if(P.WrappedComponent=S,P.displayName=C.displayName=O,u){const U=_.forwardRef(function(q,H){return _.createElement(P,{...q,reactReduxForwardedRef:H})});return U.displayName=O,U.WrappedComponent=S,Jk(U,S)}return Jk(P,S)}}var s4=fJ;function hJ(e){const{children:t,context:n,serverState:r,store:i}=e,a=_.useMemo(()=>{const u=i4(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=_.useMemo(()=>i.getState(),[i]);dy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||o4;return _.createElement(l.Provider,{value:a},t)}var l4=hJ,mJ="Invariant failed";function pJ(e,t){throw new Error(mJ)}var Qa=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},cT=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},rD=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},gJ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},i1={top:0,right:0,bottom:0,left:0},uT=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?i1:r,a=t.border,o=a===void 0?i1:a,l=t.padding,u=l===void 0?i1:l,d=Qa(cT(n,i)),h=Qa(rD(n,o)),p=Qa(rD(h,u));return{marginBox:d,borderBox:Qa(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},da=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&pJ(),i},bJ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},fy=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=gJ(r,n);return uT({borderBox:l,border:i,margin:a,padding:o})},hy=function(t,n){return n===void 0&&(n=bJ()),fy(t,n)},c4=function(t,n){var r={top:da(n.marginTop),right:da(n.marginRight),bottom:da(n.marginBottom),left:da(n.marginLeft)},i={top:da(n.paddingTop),right:da(n.paddingRight),bottom:da(n.paddingBottom),left:da(n.paddingLeft)},a={top:da(n.borderTopWidth),right:da(n.borderRightWidth),bottom:da(n.borderBottomWidth),left:da(n.borderLeftWidth)};return uT({borderBox:t,margin:r,padding:i,border:a})},u4=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return c4(n,r)},Um=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}function d4(e,t){}d4.bind(null,"warn");d4.bind(null,"error");function zl(){}function yJ(e,t){return{...e,...t}}function ba(e,t,n){const r=t.map(i=>{const a=yJ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const vJ="Invariant failed";class py extends Error{}py.prototype.toString=function(){return this.message};function Re(e,t){throw new py(vJ)}class xJ extends Qt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=zl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof py&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ba(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof py){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const wJ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,gy=e=>e+1,_J=e=>`
  You have lifted an item in position ${gy(e.source.index)}
`,f4=(e,t)=>{const n=e.droppableId===t.droppableId,r=gy(e.index),i=gy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},h4=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,SJ=e=>{const t=e.destination;if(t)return f4(e.source,t);const n=e.combine;return n?h4(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},iD=e=>`
  The item has returned to its starting position
  of ${gy(e.index)}
`,kJ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${iD(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${f4(e.source,t)}
    `:n?`
      You have dropped the item.
      ${h4(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${iD(e.source)}
  `},Ub={dragHandleUsageInstructions:wJ,onDragStart:_J,onDragUpdate:SJ,onDragEnd:kJ};function EJ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function m4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!EJ(e[n],t[n]))return!1;return!0}function At(e,t){const n=_.useState(()=>({inputs:t,result:e()}))[0],r=_.useRef(!0),i=_.useRef(n),o=r.current||!!(t&&i.current.inputs&&m4(t,i.current.inputs))?i.current:{inputs:t,result:e()};return _.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function et(e,t){return At(()=>e,t)}const br={x:0,y:0},Nr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Gi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ul=(e,t)=>e.x===t.x&&e.y===t.y,_f=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),yu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Fm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),aD=(e,t)=>Math.min(...t.map(n=>Fm(e,n))),p4=e=>t=>({x:e(t.x),y:e(t.y)});var TJ=(e,t)=>{const n=Qa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const wp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),oD=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],AJ={top:0,right:0,bottom:0,left:0},jJ=(e,t)=>t?wp(e,t.scroll.diff.displacement):e,NJ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,OJ=(e,t)=>t&&t.shouldClipSubject?TJ(t.pageMarginBox,e):Qa(e);var tf=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=jJ(e.marginBox,r),a=NJ(i,n,t),o=OJ(a,r);return{page:e,withPlaceholder:t,active:o}},dT=(e,t)=>{e.frame||Re();const n=e.frame,r=Gi(t,n.scroll.initial),i=_f(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=tf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function gr(e,t=m4){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const g4=gr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),b4=gr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),$v=gr(e=>Object.values(e)),CJ=gr(e=>Object.values(e));var Sf=gr((e,t)=>CJ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function fT(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Bv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var zv=gr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),MJ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!fT(i))return null;function o(y){const k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=zv(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===u);h===-1&&Re();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},kf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const y4={point:br,value:0},Hm={invisible:{},visible:{},all:[]},DJ={displaced:Hm,displacedBy:y4,at:null};var _a=(e,t)=>n=>e<=n&&n<=t,v4=e=>{const t=_a(e.top,e.bottom),n=_a(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},PJ=e=>{const t=_a(e.top,e.bottom),n=_a(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const hT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},x4={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var RJ=e=>t=>{const n=_a(t.top,t.bottom),r=_a(t.left,t.right);return i=>e===hT?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const LJ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:br;return wp(e,n)},IJ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,$J=(e,t,n)=>n(t)(e),mT=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?LJ(e,t):e;return IJ(a,t,i)&&$J(a,n,i)},BJ=e=>mT({...e,isVisibleThroughFrameFn:v4}),w4=e=>mT({...e,isVisibleThroughFrameFn:PJ}),zJ=e=>mT({...e,isVisibleThroughFrameFn:RJ(e.destination.axis)}),UJ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function FJ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Qa(cT(n,r))}function Gm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=FJ(u,n),h=u.descriptor.id;if(l.all.push(h),!BJ({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=UJ(h,a,i),y={draggableId:h,shouldAnimate:b};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function HJ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function sD({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=HJ(e,{inHomeList:t});return{displaced:Hm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function by({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=kf(e,n);if(o==null)return sD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return sD({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=zv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:Gm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Yl(e,t){return!!t.effected[e]}var GJ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Yl(a,i)?e?l:l-1:e?l+1:l},YJ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},qJ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Re(),d.type==="REORDER"){const p=YJ({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:by({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=GJ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:by({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},KJ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Yl(n,t)?i?br:_f(r.point):i?r.point:br},WJ=({afterCritical:e,impact:t,draggables:n})=>{const r=Bv(t);r||Re();const i=r.draggableId,a=n[i].page.borderBox.center,o=KJ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Nr(a,o)};const _4=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,VJ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,pT=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,lD=({axis:e,moveRelativeTo:t,isMoving:n})=>yu(e.line,t.marginBox[e.end]+_4(e,n),pT(e,t.marginBox,n)),cD=({axis:e,moveRelativeTo:t,isMoving:n})=>yu(e.line,t.marginBox[e.start]-VJ(e,n),pT(e,t.marginBox,n)),ZJ=({axis:e,moveInto:t,isMoving:n})=>yu(e.line,t.contentBox[e.start]+_4(e,n),pT(e,t.contentBox,n));var XJ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=Sf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return ZJ({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(Yl(h,i))return cD({axis:l,moveRelativeTo:b.page,isMoving:o});const y=fy(b.page,d.point);return cD({axis:l,moveRelativeTo:y,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Yl(p.descriptor.id,i)){const b=fy(p.page,_f(i.displacedBy.point));return lD({axis:l,moveRelativeTo:b,isMoving:o})}return lD({axis:l,moveRelativeTo:p.page,isMoving:o})},Qk=(e,t)=>{const n=e.frame;return n?Nr(t,n.scroll.diff.displacement):t};const JJ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?XJ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):WJ({impact:e,draggables:r,afterCritical:i})};var Uv=e=>{const t=JJ(e),n=e.droppable;return n?Qk(n,t):t},S4=(e,t)=>{const n=Gi(t,e.scroll.initial),r=_f(n);return{frame:Qa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function uD(e,t){return e.map(n=>t[n])}function QJ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var eQ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=S4(t,Nr(t.scroll.current,i)),o=n.frame?dT(n,Nr(n.frame.scroll.current,i)):n,l=e.displaced,u=Gm({afterDragging:uD(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=Gm({afterDragging:uD(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(k=>{const w=QJ(k,b);if(w){p[k]=w;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},tQ=(e,t)=>Nr(e.scroll.diff.displacement,t),gT=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=tQ(n,e),i=Gi(r,t.page.borderBox.center);return Nr(t.client.borderBox.center,i)},k4=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Gi(n,e.page.borderBox.center),u={target:wp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?zJ(u):w4(u)},nQ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Sf(n.descriptor.id,r),h=kf(t,n),p=MJ({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||qJ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=Uv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(k4({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:gT({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const k=Gi(b,o),w=eQ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:w,scrollJumpRequest:k}};const Wr=e=>{const t=e.subject.active;return t||Re(),t};var rQ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=_a(a[o.start],a[o.end]),u=$v(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>v4(i.frame)(Wr(h))).filter(h=>{const p=Wr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Wr(h),b=_a(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=Wr(h)[o.crossAxisStart],y=Wr(p)[o.crossAxisStart];return e?b-y:y-b}).filter((h,p,b)=>Wr(h)[o.crossAxisStart]===Wr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>_a(Wr(h)[o.start],Wr(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>Wr(h)[o.start]-Wr(p)[o.start])[0]:u.sort((h,p)=>{const b=aD(t,oD(Wr(h))),y=aD(t,oD(Wr(p)));return b!==y?b-y:Wr(h)[o.start]-Wr(p)[o.start]})[0]};const dD=(e,t)=>{const n=e.page.borderBox.center;return Yl(e.descriptor.id,t)?Gi(n,t.displacedBy.point):n},iQ=(e,t)=>{const n=e.page.borderBox;return Yl(e.descriptor.id,t)?wp(n,_f(t.displacedBy.point)):n};var aQ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>w4({target:iQ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Fm(e,Qk(n,dD(o,i))),d=Fm(e,Qk(n,dD(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,_p=gr(function(t,n){const r=n[t.line];return{value:r,point:yu(t.line,r)}});const oQ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return yu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Sf(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:yu(r.line,u)},E4=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),T4=(e,t,n)=>{const r=e.frame;kf(t,e)&&Re(),e.subject.withPlaceholder&&Re();const i=_p(e.axis,t.displaceBy).point,a=oQ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=tf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Nr(r.scroll.max,a):r.scroll.max,u=E4(r,l),d=tf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},sQ=e=>{const t=e.subject.withPlaceholder;t||Re();const n=e.frame;if(!n){const o=tf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Re();const i=E4(n,r),a=tf({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var lQ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Hm,displacedBy:y4,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=Uv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),y=kf(r,a)?a:T4(a,r,i);return k4({draggable:r,destination:y,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=_p(a.axis,r.displaceBy);return by({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:Hm,index:d})},cQ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=rQ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=Sf(u.descriptor.id,i),h=aQ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=lQ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=Uv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:gT({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},qi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const uQ=(e,t)=>{const n=qi(e);return n?t[n]:null};var dQ=({state:e,type:t})=>{const n=uQ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?nQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):cQ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Qc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function A4(e){const t=_a(e.top,e.bottom),n=_a(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function fQ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function hQ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=yu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Fm(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function mQ({pageBorderBox:e,draggable:t,droppables:n}){const r=$v(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!fQ(e,a))return!1;if(A4(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=_a(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:hQ({pageBorderBox:e,draggable:t,candidates:r}):null}const j4=(e,t)=>Qa(wp(e,t));var pQ=(e,t)=>{const n=e.frame;return n?j4(t,n.scroll.diff.value):t};function N4({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function gQ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var bQ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=_p(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],y=zv(t,r).find(w=>{const S=w.descriptor.id,j=w.page.borderBox.center[l.line],O=Yl(S,o),A=N4({displaced:i,id:S});return O?A?p<=j:h<j-d:A?p<=j+d:h<j})||null,k=gQ({draggable:t,closest:y,inHomeList:kf(t,n)});return by({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const yQ=4;var vQ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=_p(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=zv(e,i).find(k=>{const w=k.descriptor.id,S=k.page.borderBox,O=S[o.size]/yQ,A=Yl(w,a),C=N4({displaced:n.displaced,id:w});return A?C?h>S[o.start]+O&&h<S[o.end]-O:d>S[o.start]-u+O&&d<S[o.end]-u-O:C?h>S[o.start]+u+O&&h<S[o.end]+u-O:d>S[o.start]+O&&d<S[o.end]-O});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},O4=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=j4(t.page.borderBox,e),u=mQ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return DJ;const d=r[u],h=Sf(d.descriptor.id,n),p=pQ(d,l);return vQ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||bQ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},bT=(e,t)=>({...e,[t.descriptor.id]:t});const xQ=({previousImpact:e,impact:t,droppables:n})=>{const r=qi(e),i=qi(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=sQ(a);return bT(n,o)};var wQ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=xQ({previousImpact:r,impact:i,droppables:n}),o=qi(i);if(!o)return a;const l=n[o];if(kf(e,l)||l.subject.withPlaceholder)return a;const u=T4(l,e,t);return bT(a,u)},Nm=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Gi(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Nr(e.initial.client.borderBoxCenter,d)},p={selection:Nr(h.selection,o.scroll.current),borderBoxCenter:Nr(h.borderBoxCenter,o.scroll.current),offset:Nr(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const y=l.draggables[e.critical.draggable.id],k=i||O4({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=wQ({draggable:y,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function _Q(e,t){return e.map(n=>t[n])}var C4=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=_Q(a.all,n),l=Gm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},M4=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=Uv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return gT({pageBorderBoxCenter:o,draggable:t,viewport:i})},D4=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Re();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=qi(r);d||Re();const h=l[d],p=C4({impact:r,viewport:i,destination:h,draggables:o}),b=M4({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Nm({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},SQ=e=>({index:e.index,droppableId:e.droppableId}),P4=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=_p(t.axis,e.displaceBy),a=Sf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Re();const l=a.slice(o+1),u=l.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Gm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:SQ(e.descriptor)}},afterCritical:d}},kQ=(e,t)=>({draggables:e.draggables,droppables:bT(e.droppables,t)}),EQ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=fy(e.client,t),i=hy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},TQ=e=>{const t=e.frame;return t||Re(),t},AQ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=TQ(o).scroll.diff.value,d=Nr(r,u);return EQ({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},jQ=({state:e,published:t})=>{const n=t.modified.map(j=>{const O=e.dimensions.droppables[j.droppableId];return dT(O,j.scroll)}),r={...e.dimensions.droppables,...g4(n)},i=b4(AQ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const o={droppables:r,draggables:a},l=qi(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=P4({draggable:d,home:h,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:p,k=O4({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:k,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const e2=e=>e.movementMode==="SNAP",a1=(e,t,n)=>{const r=kQ(e.dimensions,t);return!e2(e)||n?Nm({state:e,dimensions:r}):D4({state:e,dimensions:r})};function o1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const fD={phase:"IDLE",completed:null,shouldFlush:!1};var NQ=(e=fD,t)=>{if(t.type==="FLUSH")return{...fD,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Re();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:br},h={client:d,page:{selection:Nr(d.selection,i.scroll.initial),borderBoxCenter:Nr(d.selection,i.scroll.initial),offset:Nr(d.selection,i.scroll.diff.value)}},p=$v(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=P4({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:y,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Re(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Re(),jQ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Qc(e)||Re();const{client:n}=t.payload;return Ul(n,e.current.client.selection)?e:Nm({state:e,clientSelection:n,impact:e2(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return o1(e);Qc(e)||Re();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=dT(i,r);return a1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Qc(e)||Re();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Re(),i.isEnabled===r&&Re();const a={...i,isEnabled:r};return a1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Qc(e)||Re();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Re(),i.isCombineEnabled===r&&Re();const a={...i,isCombineEnabled:r};return a1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Qc(e)||Re(),e.isWindowScrollAllowed||Re();const n=t.payload.newScroll;if(Ul(e.viewport.scroll.current,n))return o1(e);const r=S4(e.viewport,n);return e2(e)?D4({state:e,viewport:r}):Nm({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Qc(e))return e;const n=t.payload.maxScroll;if(Ul(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Re();const n=dQ({state:e,type:t.type});return n?Nm({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Re(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Re(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Bt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const OQ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),CQ=e=>({type:"LIFT",payload:e}),MQ=e=>({type:"INITIAL_PUBLISH",payload:e}),DQ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),PQ=()=>({type:"COLLECTION_STARTING",payload:null}),RQ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),LQ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),IQ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),R4=e=>({type:"MOVE",payload:e}),$Q=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),BQ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),zQ=()=>({type:"MOVE_UP",payload:null}),UQ=()=>({type:"MOVE_DOWN",payload:null}),FQ=()=>({type:"MOVE_RIGHT",payload:null}),HQ=()=>({type:"MOVE_LEFT",payload:null}),yT=()=>({type:"FLUSH",payload:null}),GQ=e=>({type:"DROP_ANIMATE",payload:e}),vT=e=>({type:"DROP_COMPLETE",payload:e}),L4=e=>({type:"DROP",payload:e}),YQ=e=>({type:"DROP_PENDING",payload:e}),I4=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var qQ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Bt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(vT({completed:u.completed})),t().phase!=="IDLE"&&Re(),n(yT()),n(OQ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:y}=e.startPublishing(h);n(MQ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:y}))},KQ=e=>()=>t=>n=>{Bt(n,"INITIAL_PUBLISH")&&e.dragging(),Bt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Bt(n,"FLUSH")||Bt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const xT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ym={opacity:{drop:0,combining:.7},scale:{drop:.75}},$4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hc=`${$4.outOfTheWay}s ${xT.outOfTheWay}`,Om={fluid:`opacity ${Hc}`,snap:`transform ${Hc}, opacity ${Hc}`,drop:e=>{const t=`${e}s ${xT.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Hc}`,placeholder:`height ${Hc}, width ${Hc}, margin ${Hc}`},hD=e=>Ul(e,br)?void 0:`translate(${e.x}px, ${e.y}px)`,t2={moveTo:hD,drop:(e,t)=>{const n=hD(e);if(n)return t?`${n} scale(${Ym.scale.drop})`:n}},{minDropTime:n2,maxDropTime:B4}=$4,WQ=B4-n2,mD=1500,VQ=.6;var ZQ=({current:e,destination:t,reason:n})=>{const r=Fm(e,t);if(r<=0)return n2;if(r>=mD)return B4;const i=r/mD,a=n2+WQ*i,o=n==="CANCEL"?a*VQ:a;return Number(o.toFixed(2))},XQ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=qi(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=M4({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Gi(h,t.client.borderBox.center)},JQ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:C4({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Hm},didDropInsideDroppable:!0};const QQ=({getState:e,dispatch:t})=>n=>r=>{if(!Bt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(YQ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Re(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Re();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=JQ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?fT(h):null,y=p?Bv(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:y},S=XQ({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Ul(i.current.client.offset,S)||!!w.combine)){t(vT({completed:j}));return}const A=ZQ({current:i.current.client.offset,destination:S,reason:a});t(GQ({newHomeClientOffset:S,dropDuration:A,completed:j}))};var z4=()=>({x:window.pageXOffset,y:window.pageYOffset});function eee(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function tee({onWindowScroll:e}){function t(){e(z4())}const n=Um(t),r=eee(n);let i=zl;function a(){return i!==zl}function o(){a()&&Re(),i=ba(window,[r])}function l(){a()||Re(),n.cancel(),i(),i=zl}return{start:o,stop:l,isActive:a}}const nee=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH"),ree=e=>{const t=tee({onWindowScroll:n=>{e.dispatch($Q({newScroll:n}))}});return n=>r=>{!t.isActive()&&Bt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&nee(r)&&t.stop(),n(r)}};var iee=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},aee=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Re();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const oee=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,see=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,lee=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Wh=(e,t)=>{t()},Rg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function s1(e,t,n,r){if(!e){n(r(t));return}const i=iee(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var cee=(e,t)=>{const n=aee();let r=null;const i=(p,b)=>{r&&Re(),Wh("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:b})})},a=(p,b)=>{r&&Re(),Wh("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Rg(p,b))})},o=(p,b)=>{r&&Re();const y=Rg(p,b);r={mode:b,lastCritical:p,lastLocation:y.source,lastCombine:null},n.add(()=>{Wh("onDragStart",()=>s1(e().onDragStart,y,t,Ub.onDragStart))})},l=(p,b)=>{const y=fT(b),k=Bv(b);r||Re();const w=!lee(p,r.lastCritical);w&&(r.lastCritical=p);const S=!oee(r.lastLocation,y);S&&(r.lastLocation=y);const j=!see(r.lastCombine,k);if(j&&(r.lastCombine=k),!w&&!S&&!j)return;const O={...Rg(p,r.mode),combine:k,destination:y};n.add(()=>{Wh("onDragUpdate",()=>s1(e().onDragUpdate,O,t,Ub.onDragUpdate))})},u=()=>{r||Re(),n.flush()},d=p=>{r||Re(),r=null,Wh("onDragEnd",()=>s1(e().onDragEnd,p,t,Ub.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Rg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},uee=(e,t)=>{const n=cee(e,t);return r=>i=>a=>{if(Bt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Bt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Bt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Bt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const dee=e=>t=>n=>{if(!Bt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Re(),e.dispatch(vT({completed:r.completed}))},fee=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Bt(a,"FLUSH")||Bt(a,"DROP_COMPLETE")||Bt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Bt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(I4())}};n=requestAnimationFrame(()=>{n=null,t=ba(window,[o])})}};var hee=e=>()=>t=>n=>{(Bt(n,"DROP_COMPLETE")||Bt(n,"FLUSH")||Bt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},mee=e=>{let t=!1;return()=>n=>r=>{if(Bt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Bt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Bt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const pee=e=>Bt(e,"DROP_COMPLETE")||Bt(e,"DROP_ANIMATE")||Bt(e,"FLUSH");var gee=e=>t=>n=>r=>{if(pee(r)){e.stop(),n(r);return}if(Bt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Re(),e.start(i);return}n(r),e.scroll(t.getState())};const bee=e=>t=>n=>{if(t(n),!Bt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(L4({reason:r.reason})))},yee=zm;var vee=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>oT(NQ,yee(e4(KQ(n),hee(e),qQ(e),QQ,dee,fee,bee,gee(a),ree,mee(t),uee(r,i))));const l1=()=>({additions:{},removals:{},modified:{}});function xee({registry:e,callbacks:t}){let n=l1(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(br)).sort((k,w)=>k.descriptor.index-w.descriptor.index),b=Object.keys(h).map(k=>{const S=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:S}}),y={additions:p,removals:Object.keys(d),modified:b};n=l1(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=l1())}}}var U4=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Gi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},F4=()=>{const e=document.documentElement;return e||Re(),e},H4=()=>{const e=F4();return U4({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},wee=()=>{const e=z4(),t=H4(),n=e.y,r=e.x,i=F4(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:Qa({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:br,displacement:br}}}},_ee=({critical:e,scrollOptions:t,registry:n})=>{const r=wee(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:b4(l),droppables:g4(o)},critical:e,viewport:r}};function pD(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var See=(e,t)=>{let n=null;const r=xee({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,y)=>{e.droppable.exists(b)||Re(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{n&&(e.droppable.exists(b)||Re(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},o=(b,y)=>{n&&(e.droppable.exists(b)||Re(),t.updateDroppableScroll({id:b,newScroll:y}))},l=(b,y)=>{n&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Re();const y=n.critical.draggable;b.type==="ADDITION"&&pD(e,y,b.value)&&r.add(b.value),b.type==="REMOVAL"&&pD(e,y,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Re();const y=e.draggable.getById(b.draggableId),k=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:k.descriptor},S=e.subscribe(d);return n={critical:w,unsubscribe:S},_ee({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},G4=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",kee=e=>{window.scrollBy(e.x,e.y)};const Eee=gr(e=>$v(e).filter(t=>!(!t.isEnabled||!t.frame))),Tee=(e,t)=>Eee(t).find(r=>(r.frame||Re(),A4(r.frame.pageMarginBox)(e)))||null;var Aee=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Tee(e,n)};const qm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var jee=(e,t,n=()=>qm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},Y4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},wT=1,Nee=(e,t,n=()=>qm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return wT;const a=1-Y4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},Oee=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return wT;const h=Y4({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},gD=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=Nee(e,t,i);return a===0?0:r?Math.max(Oee(a,n,i),wT):a},bD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=jee(e,r,a);return t[r.end]<t[r.start]?gD({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*gD({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},Cee=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Mee=p4(e=>e===0?0:e);var q4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=bD({container:t,distanceToEdges:o,dragStartTime:e,axis:hT,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=bD({container:t,distanceToEdges:o,dragStartTime:e,axis:x4,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=Mee({x:u,y:l});if(Ul(d,br))return null;const h=Cee({container:t,subject:n,proposedScroll:d});return h?Ul(h,br)?null:h:null};const Dee=p4(e=>e===0?0:e>0?1:-1),_T=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Nr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Ul(a,br)?null:a}})(),K4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Dee(n),a=_T({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},ST=(e,t)=>K4({current:e.scroll.current,max:e.scroll.max,change:t}),Pee=(e,t)=>{if(!ST(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return _T({current:r,max:n,change:t})},kT=(e,t)=>{const n=e.frame;return n?K4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Ree=(e,t)=>{const n=e.frame;return!n||!kT(e,t)?null:_T({current:n.scroll.current,max:n.scroll.max,change:t})};var Lee=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=q4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&ST(e,o)?o:null},Iee=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=q4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&kT(e,l)?l:null},yD=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=Lee({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=Aee({center:o,destination:qi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=Iee({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},$ee=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>qm})=>{const r=Um(e),i=Um(t);let a=null;const o=d=>{a||Re();const{shouldUseTimeDampening:h,dragStartTime:p}=a;yD({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Re();const h=Date.now();let p=!1;const b=()=>{p=!0};yD({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},Bee=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=Nr(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!kT(l,u))return u;const d=Ree(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Gi(u,d);return t(l.descriptor.id,h),Gi(u,h)},a=(l,u,d)=>{if(!l||!ST(u,d))return d;const h=Pee(u,d);if(!h)return n(d),null;const p=Gi(d,h);return n(p),Gi(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=qi(l.impact);d||Re();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},zee=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=$ee({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Bee({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const nf="data-rfd",rf=(()=>{const e=`${nf}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),r2=(()=>{const e=`${nf}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Uee=(()=>{const e=`${nf}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),vD={contextId:`${nf}-scroll-container-context-id`},Fee=e=>t=>`[${t}="${e}"]`,Vh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Hee="pointer-events: none;";var Gee=e=>{const t=Fee(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(rf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Hee,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Om.outOfTheWay};
    `;return{selector:t(r2.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(Uee.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Vh(o,"always"),resting:Vh(o,"resting"),dragging:Vh(o,"dragging"),dropAnimating:Vh(o,"dropAnimating"),userCancel:Vh(o,"userCancel")}};const Ki=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,c1=()=>{const e=document.querySelector("head");return e||Re(),e},xD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Yee(e,t){const n=At(()=>Gee(e),[e]),r=_.useRef(null),i=_.useRef(null),a=et(gr(p=>{const b=i.current;b||Re(),b.textContent=p}),[]),o=et(p=>{const b=r.current;b||Re(),b.textContent=p},[]);Ki(()=>{!r.current&&!i.current||Re();const p=xD(t),b=xD(t);return r.current=p,i.current=b,p.setAttribute(`${nf}-always`,e),b.setAttribute(`${nf}-dynamic`,e),c1().appendChild(p),c1().appendChild(b),o(n.always),a(n.resting),()=>{const y=k=>{const w=k.current;w||Re(),c1().removeChild(w),k.current=null};y(r),y(i)}},[t,o,a,n.always,n.resting,e]);const l=et(()=>a(n.dragging),[a,n.dragging]),u=et(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=et(()=>{i.current&&a(n.resting)},[a,n.resting]);return At(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function W4(e,t){return Array.from(e.querySelectorAll(t))}var V4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Fv(e){return e instanceof V4(e).HTMLElement}function qee(e,t){const n=`[${rf.contextId}="${e}"]`,r=W4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(rf.draggableId)===t);return!i||!Fv(i)?null:i}function Kee(e){const t=_.useRef({}),n=_.useRef(null),r=_.useRef(null),i=_.useRef(!1),a=et(function(b,y){const k={id:b,focus:y};return t.current[b]=k,function(){const S=t.current;S[b]!==k&&delete S[b]}},[]),o=et(function(b){const y=qee(e,b);y&&y!==document.activeElement&&y.focus()},[e]),l=et(function(b,y){n.current===b&&(n.current=y)},[]),u=et(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=et(function(b){n.current=null;const y=document.activeElement;y&&y.getAttribute(rf.draggableId)===b&&(n.current=b)},[]);return Ki(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),At(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function Wee(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const y=t.indexOf(p);y!==-1&&t.splice(y,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Re(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,y=i(b);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Re(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function Vee(){const e=At(Wee,[]);return _.useEffect(()=>function(){e.clean()},[e]),e}var ET=Qt.createContext(null),yy=()=>{const e=document.body;return e||Re(),e};const Zee={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Xee=e=>`rfd-announcement-${e}`;function Jee(e){const t=At(()=>Xee(e),[e]),n=_.useRef(null);return _.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),my(a.style,Zee),yy().appendChild(a),function(){setTimeout(function(){const u=yy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),et(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const Qee={separator:"::"};function TT(e,t=Qee){const n=Qt.useId();return At(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function ete({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function tte({contextId:e,text:t}){const n=TT("hidden-text",{separator:"-"}),r=At(()=>ete({contextId:e,uniqueId:n}),[n,e]);return _.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",yy().appendChild(a),function(){const l=yy();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Hv=Qt.createContext(null);function Z4(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),t}function nte(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Re();const l={abandon:o};return e=l,l}function i(){e||Re(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Km(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const rte=9,ite=13,AT=27,X4=32,ate=33,ote=34,ste=35,lte=36,cte=37,ute=38,dte=39,fte=40,hte={[ite]:!0,[rte]:!0};var J4=e=>{hte[e.keyCode]&&e.preventDefault()};const Gv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Q4=0,wD=5;function mte(e,t){return Math.abs(t.x-e.x)>=wD||Math.abs(t.y-e.y)>=wD}const _D={type:"IDLE"};function pte({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==Q4)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Re();const h=d.point;if(!mte(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===AT){i.preventDefault(),e();return}J4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Re(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Gv,fn:e}]}function gte(e){const t=_.useRef(_D),n=_.useRef(zl),r=At(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==Q4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const y=e.tryGetLock(b,o,{sourceEvent:p});if(!y)return;p.preventDefault();const k={x:p.clientX,y:p.clientY};n.current(),d(y,k)}}),[e]),i=At(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=et(function(){const p={passive:!1,capture:!0};n.current=ba(window,[i,r],p)},[i,r]),o=et(()=>{t.current.type!=="IDLE"&&(t.current=_D,n.current(),a())},[a]),l=et(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=et(function(){const p={capture:!0,passive:!1},b=pte({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=ba(window,b,p)},[l,o]),d=et(function(p,b){t.current.type!=="IDLE"&&Re(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);Ki(function(){return a(),function(){n.current()}},[a])}function bte(){}const yte={[ote]:!0,[ate]:!0,[lte]:!0,[ste]:!0};function vte(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===AT){i.preventDefault(),n();return}if(i.keyCode===X4){i.preventDefault(),r();return}if(i.keyCode===fte){i.preventDefault(),e.moveDown();return}if(i.keyCode===ute){i.preventDefault(),e.moveUp();return}if(i.keyCode===dte){i.preventDefault(),e.moveRight();return}if(i.keyCode===cte){i.preventDefault(),e.moveLeft();return}if(yte[i.keyCode]){i.preventDefault();return}J4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Gv,fn:n}]}function xte(e){const t=_.useRef(bte),n=At(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==X4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Re(),u=!1,t.current(),r()}t.current=ba(window,vte(d,h),{capture:!0,passive:!1})}}),[e]),r=et(function(){const a={passive:!1,capture:!0};t.current=ba(window,[n],a)},[n]);Ki(function(){return r(),function(){t.current()}},[r])}const u1={type:"IDLE"},wte=120,_te=.15;function Ste({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===AT&&n.preventDefault(),e()}},{eventName:Gv,fn:e}]}function kte({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Re();const a=r.touches[0];if(!a||!(a.force>=_te))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Gv,fn:e}]}function Ete(e){const t=_.useRef(u1),n=_.useRef(zl),r=et(function(){return t.current},[]),i=et(function(y){t.current=y},[]),a=At(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const k=e.findClosestDraggableId(y);if(!k)return;const w=e.tryGetLock(k,l,{sourceEvent:y});if(!w)return;const S=y.touches[0],{clientX:j,clientY:O}=S,A={x:j,y:O};n.current(),p(w,A)}}),[e]),o=et(function(){const y={capture:!0,passive:!1};n.current=ba(window,[a],y)},[a]),l=et(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(u1),n.current(),o())},[o,i]),u=et(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=et(function(){const y={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},w=ba(window,kte(k),y),S=ba(window,Ste(k),y);n.current=function(){w(),S()}},[u,r,l]),h=et(function(){const y=r();y.type!=="PENDING"&&Re();const k=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),p=et(function(y,k){r().type!=="IDLE"&&Re();const w=setTimeout(h,wte);i({type:"PENDING",point:k,actions:y,longPressTimerId:w}),d()},[d,r,i,h]);Ki(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(u1))}},[r,o,i]),Ki(function(){return ba(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Tte=["input","button","textarea","select","option","optgroup","video","audio"];function e6(e,t){if(t==null)return!1;if(Tte.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:e6(e,t.parentElement)}function Ate(e,t){const n=t.target;return Fv(n)?e6(e,n):!1}var jte=e=>Qa(e.getBoundingClientRect()).center;function Nte(e){return e instanceof V4(e).Element}const Ote=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function t6(e,t){return e==null?null:e[Ote](t)?e:t6(e.parentElement,t)}function Cte(e,t){return e.closest?e.closest(t):t6(e,t)}function Mte(e){return`[${rf.contextId}="${e}"]`}function Dte(e,t){const n=t.target;if(!Nte(n))return null;const r=Mte(e),i=Cte(n,r);return!i||!Fv(i)?null:i}function Pte(e,t){const n=Dte(e,t);return n?n.getAttribute(rf.draggableId):null}function Rte(e,t){const n=`[${r2.contextId}="${e}"]`,i=W4(document,n).find(a=>a.getAttribute(r2.id)===t);return!i||!Fv(i)?null:i}function Lte(e){e.preventDefault()}function Lg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function n6({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!G4(t.getState(),r))}function Ite({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!n6({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=Rte(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&Ate(d,o))return null;const h=e.claim(a||zl);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(h)}function k(D,P){Lg({expected:D,phase:p,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=k.bind(null,"DRAGGING");function S(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Re()),n.dispatch(CQ(D.liftActionArgs)),p="DRAGGING";function I(U,W={shouldBlockNextClick:!1}){if(D.cleanup(),W.shouldBlockNextClick){const q=ba(window,[{eventName:"click",fn:Lte,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(q)}P(),n.dispatch(L4({reason:U}))}return{isActive:()=>Lg({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:U=>I("DROP",U),cancel:U=>I("CANCEL",U),...D.actions}}function j(D){const P=Um(U=>{w(()=>R4({client:U}))});return{...S({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function O(){const D={moveUp:()=>w(zQ),moveRight:()=>w(FQ),moveDown:()=>w(UQ),moveLeft:()=>w(HQ)};return S({liftActionArgs:{id:i,clientSelection:jte(d),movementMode:"SNAP"},cleanup:zl,actions:D})}function A(){Lg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Lg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:j,snapLift:O,abort:A}}const $te=[gte,xte,Ete];function Bte({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?$te:[],...r||[]],o=_.useState(()=>nte())[0],l=et(function(S,j){Km(S)&&!Km(j)&&o.tryAbandon()},[o]);Ki(function(){let S=t.getState();return t.subscribe(()=>{const O=t.getState();l(S,O),S=O})},[o,t,l]),Ki(()=>o.tryAbandon,[o.tryAbandon]);const u=et(w=>n6({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),d=et((w,S,j)=>Ite({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:S||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,n,t]),h=et(w=>Pte(e,w),[e]),p=et(w=>{const S=n.draggable.findById(w);return S?S.options:null},[n.draggable]),b=et(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(yT()))},[o,t]),y=et(()=>o.isClaimed(),[o]),k=At(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:y}),[u,d,h,p,b,y]);for(let w=0;w<a.length;w++)a[w](k)}const zte=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ju.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Ute=e=>({...qm,...e.autoScrollerOptions,durationDampening:{...qm.durationDampening,...e.autoScrollerOptions}});function Zh(e){return e.current||Re(),e.current}function Fte(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=_.useRef(null),l=Z4(e),u=et(()=>zte(l.current),[l]),d=et(()=>Ute(l.current),[l]),h=Jee(t),p=tte({contextId:t,text:a}),b=Yee(t,i),y=et(q=>{Zh(o).dispatch(q)},[]),k=At(()=>WM({publishWhileDragging:DQ,updateDroppableScroll:RQ,updateDroppableIsEnabled:LQ,updateDroppableIsCombineEnabled:IQ,collectionStarting:PQ},y),[y]),w=Vee(),S=At(()=>See(w,k),[w,k]),j=At(()=>zee({scrollWindow:kee,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:d,...WM({move:R4},y)}),[S.scrollDroppable,y,d]),O=Kee(t),A=At(()=>vee({announce:h,autoScroller:j,dimensionMarshal:S,focusMarshal:O,getResponders:u,styleMarshal:b}),[h,j,S,O,u,b]);o.current=A;const C=et(()=>{const q=Zh(o);q.getState().phase!=="IDLE"&&q.dispatch(yT())},[]),D=et(()=>{const q=Zh(o).getState();return q.phase==="DROP_ANIMATING"?!0:q.phase==="IDLE"?!1:q.isDragging},[]),P=At(()=>({isDragging:D,tryAbort:C}),[D,C]);n(P);const I=et(q=>G4(Zh(o).getState(),q),[]),U=et(()=>Qc(Zh(o).getState()),[]),W=At(()=>({marshal:S,focus:O,contextId:t,canLift:I,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:w}),[t,S,p,O,I,U,w]);return Bte({contextId:t,store:A,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),_.useEffect(()=>C,[C]),Qt.createElement(Hv.Provider,{value:W},Qt.createElement(l4,{context:ET,store:A},e.children))}function Hte(){return Qt.useId()}function Sp(e){const t=Hte(),n=e.dragHandleUsageInstructions||Ub.dragHandleUsageInstructions;return Qt.createElement(xJ,null,r=>Qt.createElement(Fte,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const SD={dragging:5e3,dropAnimating:4500},Gte=(e,t)=>t?Om.drop(t.duration):e?Om.snap:Om.fluid,Yte=(e,t)=>{if(e)return t?Ym.opacity.drop:Ym.opacity.combining},qte=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Kte(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=qte(e),u=!!a,d=u?t2.drop(r,o):t2.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Gte(l,a),transform:d,opacity:Yte(o,u),zIndex:u?SD.dropAnimating:SD.dragging,pointerEvents:"none"}}function Wte(e){return{transform:t2.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Vte(e){return e.type==="DRAGGING"?Kte(e):Wte(e)}function Zte(e,t,n=br){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=c4(i,r),o=hy(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function Xte(e){const t=TT("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=At(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=et(y=>{const k=i();return k||Re(),Zte(n,k,y)},[n,i]),h=At(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=_.useRef(h),b=_.useRef(!0);Ki(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Ki(()=>{if(b.current){b.current=!1;return}const y=p.current;p.current=h,r.draggable.update(h,y)},[h,r.draggable])}var jT=Qt.createContext(null);function vy(e){const t=_.useContext(e);return t||Re(),t}function Jte(e){e.preventDefault()}const Qte=e=>{const t=_.useRef(null),n=et((P=null)=>{t.current=P},[]),r=et(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=vy(Hv),{type:l,droppableId:u}=vy(jT),d=At(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:k,isClone:w,mapped:S,dropAnimationFinished:j}=e;if(!w){const P=At(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:b}),[d,o,r,k,y,b]);Xte(P)}const O=At(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Jte}:null,[i,a,p,b]),A=et(P=>{S.type==="DRAGGING"&&S.dropping&&P.propertyName==="transform"&&ju.flushSync(j)},[j,S]),C=At(()=>{const P=Vte(S),I=S.type==="DRAGGING"&&S.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:I},dragHandleProps:O}},[i,O,p,S,A,n]),D=At(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Qt.createElement(Qt.Fragment,null,h(C,S.snapshot,D))};var r6=(e,t)=>e===t,i6=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const ene=e=>e.combine?e.combine.draggableId:null,tne=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function nne(){const e=gr((i,a)=>({x:i,y:a})),t=gr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=gr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Km(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=qi(i.impact),d=tne(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=i6(d),b=ene(d),k={duration:i.dropDuration,curve:xT.drop,moveTo:i.newHomeClientOffset,opacity:b?Ym.opacity.drop:null,scale:b?Ym.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,k)}}}return null}}function a6(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const rne={mapped:{type:"SECONDARY",offset:br,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:a6(null)}};function ine(){const e=gr((o,l)=>({x:o,y:l})),t=gr(a6),n=gr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(br,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=Bv(u),y=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(y);if(u.displaced.invisible[o])return null;const S=_f(d.displacedBy.point),j=e(S.x,S.y);return n(j,y,!0)}if(p)return r(y);const k=u.displacedBy.point,w=e(k.x,k.y);return n(w,y,h.shouldAnimate)};return(o,l)=>{if(Km(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const ane=()=>{const e=nne(),t=ine();return(r,i)=>e(r,i)||t(r,i)||rne},one={dropAnimationFinished:I4},sne=s4(ane,one,null,{context:ET,areStatePropsEqual:r6})(Qte);function o6(e){return vy(jT).isUsingCloneFor===e.draggableId&&!e.isClone?null:Qt.createElement(sne,e)}function Ef(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Qt.createElement(o6,my({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const s6=e=>t=>e===t,lne=s6("scroll"),cne=s6("auto"),kD=(e,t)=>t(e.overflowX)||t(e.overflowY),une=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return kD(n,lne)||kD(n,cne)},dne=()=>!1,l6=e=>e==null?null:e===document.body?dne()?e:null:e===document.documentElement?null:une(e)?e:l6(e.parentElement);var i2=e=>({x:e.scrollLeft,y:e.scrollTop});const c6=e=>e?window.getComputedStyle(e).position==="fixed"?!0:c6(e.parentElement):!1;var fne=e=>{const t=l6(e),n=c6(e);return{closestScrollable:t,isFixedOnPage:n}},hne=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:y}=l,k=U4({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:br,displacement:br}}}})(),d=i==="vertical"?hT:x4,h=tf({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const mne=(e,t)=>{const n=u4(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=cT({top:r,right:o,bottom:a,left:i},n.border);return uT({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var pne=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=mne(e,u),h=hy(d,r),p=(()=>{if(!u)return null;const y=u4(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:hy(y,r),scroll:i2(u),scrollSize:k,shouldClipSubject:l}})();return hne({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const gne={passive:!1},bne={passive:!0};var ED=e=>e.shouldPublishImmediately?gne:bne;const Ig=e=>e&&e.env.closestScrollable||null;function yne(e){const t=_.useRef(null),n=vy(Hv),r=TT("droppable"),{registry:i,marshal:a}=n,o=Z4(e),l=At(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=_.useRef(l),d=At(()=>gr((C,D)=>{t.current||Re();const P={x:C,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=et(()=>{const C=t.current;return!C||!C.env.closestScrollable?br:i2(C.env.closestScrollable)},[]),p=et(()=>{const C=h();d(C.x,C.y)},[h,d]),b=At(()=>Um(p),[p]),y=et(()=>{const C=t.current,D=Ig(C);if(C&&D||Re(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),k=et((C,D)=>{t.current&&Re();const P=o.current,I=P.getDroppableRef();I||Re();const U=fne(I),W={ref:I,descriptor:l,env:U,scrollOptions:D};t.current=W;const q=pne({ref:I,descriptor:l,env:U,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),H=U.closestScrollable;return H&&(H.setAttribute(vD.contextId,n.contextId),H.addEventListener("scroll",y,ED(W.scrollOptions))),q},[n.contextId,l,y,o]),w=et(()=>{const C=t.current,D=Ig(C);return C&&D||Re(),i2(D)},[]),S=et(()=>{const C=t.current;C||Re();const D=Ig(C);t.current=null,D&&(b.cancel(),D.removeAttribute(vD.contextId),D.removeEventListener("scroll",y,ED(C.scrollOptions)))},[y,b]),j=et(C=>{const D=t.current;D||Re();const P=Ig(D);P||Re(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),O=At(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:w,dragStopped:S,scroll:j}),[S,k,w,j]),A=At(()=>({uniqueId:r,descriptor:l,callbacks:O}),[O,l,r]);Ki(()=>(u.current=A.descriptor,i.droppable.register(A),()=>{t.current&&S(),i.droppable.unregister(A)}),[O,l,S,A,a,i.droppable]),Ki(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Ki(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function d1(){}const TD={width:0,height:0,margin:AJ},vne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?TD:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},xne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=vne({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Om.placeholder:null}},wne=e=>{const t=_.useRef(null),n=et(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=_.useState(e.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),u(!1),d1):t.current?d1:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):d1,[r,l,n]);const d=et(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=xne({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Qt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var _ne=Qt.memo(wne);class Sne extends Qt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const kne=e=>{const t=_.useContext(Hv);t||Re();const{contextId:n,isMovementAllowed:r}=t,i=_.useRef(null),a=_.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:y,snapshot:k,useClone:w,updateViewportMaxScroll:S,getContainerForClone:j}=e,O=et(()=>i.current,[]),A=et((H=null)=>{i.current=H},[]);et(()=>a.current,[]);const C=et((H=null)=>{a.current=H},[]),D=et(()=>{r()&&S({maxScroll:H4()})},[r,S]);yne({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:O});const P=At(()=>Qt.createElement(Sne,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:B,animate:K})=>Qt.createElement(_ne,{placeholder:B,onClose:H,innerRef:C,animate:K,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,C]),I=At(()=>({innerRef:A,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,A]),U=w?w.dragging.draggableId:null,W=At(()=>({droppableId:l,type:u,isUsingCloneFor:U}),[l,U,u]);function q(){if(!w)return null;const{dragging:H,render:B}=w,K=Qt.createElement(o6,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(J,Z)=>B(J,Z,H));return jq.createPortal(K,j())}return Qt.createElement(jT.Provider,{value:W},o(I,k),q())};function Ene(){return document.body||Re(),document.body}const AD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ene},u6=e=>{let t={...e},n;for(n in AD)e[n]===void 0&&(t={...t,[n]:AD[n]});return t},f1=(e,t)=>e===t.droppable.type,jD=(e,t)=>t.draggables[e.draggable.id],Tne=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=gr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=gr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:k}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,o)=>{const l=u6(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Km(a)){const b=a.critical;if(!f1(d,b))return t;const y=jD(b,a.dimensions),k=qi(a.impact)===u;return r(u,h,k,k,y,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!f1(d,b.critical))return t;const y=jD(b.critical,a.dimensions);return r(u,h,i6(b.result)===u,qi(b.impact)===u,y,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!f1(d,b.critical))return t;const y=qi(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?k?e:t:w?e:t}return t}},Ane={updateViewportMaxScroll:BQ},Tf=s4(Tne,Ane,(e,t,n)=>({...u6(n),...e,...t}),{context:ET,areStatePropsEqual:r6})(kne),jne={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Wm(e,t,n){const r=jne[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function Nne(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function One(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function kp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=One(i),o=4*(i-a),l=Nne(r);return new Date(r.getTime()+(o+l)*60*1e3)}function d6(e){return e.replace(/\D/g,"")}function Cne(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function Mne(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Af(e){const t=d6(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return Cne(n,r,i)?{y:n,m:r,d:i}:null}function Ep(e){const t=e.trim();if(!t||t==="")return null;const n=d6(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return Mne(r,i)?{hh:r,mm:i}:null}function Yv(e){const t=e.trim(),n=Af(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function qv(e){const t=e.trim();if(t==="")return"";const n=Ep(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var Fb={exports:{}},Dne=Fb.exports,ND;function Pne(){return ND||(ND=1,(function(e,t){(function(n,r){e.exports=r()})(Dne,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(K){return K&&K.__esModule?K:{default:K}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),y=a(b),k=i(6),w=a(k),S=i(7),j=a(S),O=i(8),A=a(O),C=i(9),D=a(C),P=i(10),I=a(P),U=i(11),W=a(U),q=i(12),H=a(q),B={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:y.default,animals:w.default,lunarTerm:j.default,lTermInfo:A.default,nStr1:D.default,nStr2:I.default,nStr3:W.default,nStr4:H.default,lYearDays:function(K){var J,Z=348;for(J=32768;J>8;J>>=1)Z+=B.lunarInfo[K-1900]&J?1:0;return Z+B.leapDays(K)},leapMonth:function(K){return 15&B.lunarInfo[K-1900]},leapDays:function(K){return B.leapMonth(K)?65536&B.lunarInfo[K-1900]?30:29:0},monthDays:function(K,J){return J>12||J<1?-1:B.lunarInfo[K-1900]&65536>>J?30:29},solarDays:function(K,J){if(J>12||J<1)return-1;var Z=J-1;return Z==1?K%4==0&&K%100!=0||K%400==0?29:28:B.solarMonth[Z]},toGanZhi:function(K){return B.gan[K%10]+B.zhi[K%12]},getTerm:function(K,J){if(K<1900||K>2100||J<1||J>24)return-1;var Z=B.lTermInfo[K-1900],Y=[parseInt("0x"+Z.substr(0,5)).toString(),parseInt("0x"+Z.substr(5,5)).toString(),parseInt("0x"+Z.substr(10,5)).toString(),parseInt("0x"+Z.substr(15,5)).toString(),parseInt("0x"+Z.substr(20,5)).toString(),parseInt("0x"+Z.substr(25,5)).toString()],X=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(X[J-1])},toChinaYear:function(K){var J=parseInt(K/1e3),Z=parseInt(K%1e3/100),Y=parseInt(K%100/10),X=K%10;return B.nStr4[J]+B.nStr4[Z]+B.nStr4[Y]+B.nStr4[X]+""},toChinaMonth:function(K){if(K>12||K<1)return-1;var J=B.nStr3[K-1];return J+=""},toChinaDay:function(K){var J;switch(K){case 10:J="";break;case 20:J="";break;case 30:J="";break;default:J=B.nStr2[Math.floor(K/10)],J+=B.nStr1[K%10]}return J},getAnimal:function(K){return B.animals[(K-4)%12]},solar2lunar:function(ce,ie,z){if(ce<1900||ce>2100||ce==1900&&ie==1&&z<31)return-1;if(ce)var Y=new Date(ce,parseInt(ie)-1,z);else var Y=new Date;var X,Ne=0,Q=0,ce=Y.getFullYear(),ie=Y.getMonth()+1,z=Y.getDate(),V=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(X=1900;X<2101&&V>0;X++)Q=B.lYearDays(X),V-=Q;V<0&&(V+=Q,X--);var ne=new Date,oe=!1;ne.getFullYear()==ce&&ne.getMonth()+1==ie&&ne.getDate()==z&&(oe=!0);var de=Y.getDay(),me=B.nStr1[de];de==0&&(de=7);var ye=X,Ne=B.leapMonth(X),ae=!1;for(X=1;X<13&&V>0;X++)Ne>0&&X==Ne+1&&ae==0?(--X,ae=!0,Q=B.leapDays(ye)):Q=B.monthDays(ye,X),ae==1&&X==Ne+1&&(ae=!1),V-=Q;V==0&&Ne>0&&X==Ne+1&&(ae?ae=!1:(ae=!0,--X)),V<0&&(V+=Q,--X);var Ee=X,xe=V+1,se=ie-1,Ue=B.getTerm(ce,3),Ke=B.toGanZhi(ce-4),Je=new Date(ce,1,Ue).getTime();new Date(ce,se,z).getTime()<Je&&(Ke=B.toGanZhi(ce-5));var Oe=B.getTerm(ce,2*ie-1),$e=B.getTerm(ce,2*ie),Fe=B.toGanZhi(12*(ce-1900)+ie+11);z>=Oe&&(Fe=B.toGanZhi(12*(ce-1900)+ie+12));var Be=!1,bt="";Oe==z&&(Be=!0,bt=B.lunarTerm[2*ie-2]),$e==z&&(Be=!0,bt=B.lunarTerm[2*ie-1]);var Rt=Date.UTC(ce,se,1,0,0,0,0)/864e5+25567+10,fe=B.toGanZhi(Rt+z-1);return{lYear:ye,lMonth:Ee,lDay:xe,animal:B.getAnimal(ye),yearCn:B.toChinaYear(ye),monthCn:(ae&&Ne===Ee?"":"")+B.toChinaMonth(Ee),dayCn:B.toChinaDay(xe),cYear:ce,cMonth:ie,cDay:z,gzYear:Ke,gzMonth:Fe,gzDay:fe,isToday:oe,isLeap:ae,nWeek:de,ncWeek:""+me,isTerm:Be,term:bt}},lunar2solar:function(K,J,Z,Y){var X=B.leapMonth(K);if(B.leapDays(K),Y&&X!=J||K==2100&&J==12&&Z>1||K==1900&&J==1&&Z<31)return-1;var Q=B.monthDays(K,J);if(K<1900||K>2100||Z>Q)return-1;for(var ce=0,ie=1900;ie<K;ie++)ce+=B.lYearDays(ie);for(var z=0,V=!1,ie=1;ie<J;ie++)z=B.leapMonth(K),V||z<=ie&&z>0&&(ce+=B.leapDays(K),V=!0),ce+=B.monthDays(K,ie);Y&&(ce+=Q);var ne=Date.UTC(1900,1,30,0,0,0),oe=new Date(864e5*(ce+Z-31)+ne),de=oe.getUTCFullYear(),me=oe.getUTCMonth()+1,ye=oe.getUTCDate();return B.solar2lunar(de,me,ye)}};r.default=B,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(Fb)),Fb.exports}var f6=Pne();const Rne=ki(f6),Lne=$E({__proto__:null,default:Rne},[f6]);function NT(e){return typeof e=="object"&&e!==null}function Ine(e){return NT(e)&&"default"in e}function $ne(e){return NT(e)&&typeof e.lunar2solar=="function"}function Bne(e){if(!NT(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function zne(e){const t=Ine(e)?e.default:e;if(!$ne(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Bne(l)}}}const Une=zne(Lne);function Xi(e,t,n,r=4,i=0){const a=Une.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const OD=e=>e<10?`0${e}`:`${e}`;function jf(e){if(e.calendarType!=="lunar")return e;const t=Af(e.birthDay??"");if(!t)return e;try{const n=Xi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${OD(i)}${OD(a)}`,calendarType:"solar"}}catch{return e}}function OT(e){const t=e.mingSikType??"/",n=Af(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,I=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:I}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Xi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=Ep(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",y=kp(p,h,b),k=l?"":y.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=ct(y,h),S=Tt(y,h),j=ht(y,t),O=l?null:no(y,t),A=[` : ${w} ${S} ${j}`,O?`${O}`:null].filter(Boolean).join(" ");return{corrected:y,correctedLocal:k,ganji:A,ganjiText:A,dayStem:j.charAt(0)}}function CD(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Tp(e){return(typeof e=="string"?e.trim():"")===""?"":""}function MD(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Fne(e){const t=MD(e.ganjiText)??MD(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Tp(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Vm(e){const t={...e,birthDay:Yv(e.birthDay??""),birthTime:e.birthTime===""?"":qv(e.birthTime??""),gender:Tp(e.gender),dateObj:CD(e.dateObj,new Date),corrected:CD(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=OT(t),r={...t,...n};return{...r,dir:Fne(r)}}function Hne(e){return e===""||e==="/"||e===""?e:"/"}function Gne(e){return e==="lunar"?"lunar":"solar"}function Yne(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function qne(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function CT(e,t){const r=Yv(typeof e=="string"?e:""),i=Af(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Xi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function MT(e,t){if(t)return{ok:!0,value:""};const r=qv(typeof e=="string"?e:"");return Ep(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function h6(e,t){const n=t?.requireName??!1,r=qne(e.name,n);if(!r.ok)return r;const i=Gne(e.calendarType),a=CT(e.birthDay,i);if(!a.ok)return a;const o=MT(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=Hne(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Tp(e.gender),sortOrder:e.sortOrder,birthPlace:Yne(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Vm(u)}}function ql(e,t=0){const n=jf(e),r=Af(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=Ep(n.birthTime??""),a=!i,o=a?4:i.hh,l=a?30:i.mm,u=new Date(r.y,r.m-1,r.d,o,l,0,0);if(Number.isNaN(u.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const d=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",h=n.birthPlace?.lon??127.5,p=kp(u,h,d);return t!==0?new Date(p.getTime()+t*60*1e3):p}function Kne(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ou(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function a2(e){if(!Kne(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function m6(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:Yv(e.birth_day??""),birthTime:qv(e.birth_time??""),gender:Tp(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Vm(i)}function Wne(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function DD(e,t){const n=Yv(e.birthDay??""),r=qv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Tp(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const o2="hm_session_started_at_ms",Vne=7200*1e3;function p6(){return typeof window>"u"?null:window.localStorage}function Zne(){const e=p6();if(!e)return Date.now();const t=e.getItem(o2),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(o2,String(r)),r}function g6(e=Date.now()){const t=p6();if(t)try{t.setItem(o2,String(e))}catch{}}function Xne(e=Date.now()){const t=Zne();return e-t>=Vne}const $g="myeongsik-list";function Jne(e){try{return JSON.parse(e)}catch{return null}}async function Qne(e){if(typeof window>"u")return;const t=window.localStorage.getItem($g);if(!t)return;const n=Jne(t);if(!n){window.localStorage.removeItem($g);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem($g);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem($g)}const ere=250;function tre(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function nre(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function rre(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}nre(()=>{a()});function o(l,u){const d=tre(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},ere),n.promise)}return{queue:o,flushNow:a}}const pr="__UNASSIGNED__",ire=[" ",""],Fl=e=>typeof e=="string"?e.trim():"",b6=e=>ire.includes(e);function $d(e,t){const n=[],r=[];for(const i of e){const a=Fl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Kv(e,t){const n=new Set(t.map(o=>Fl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=Fl(o.folder),d=!u||b6(u)?pr:n.has(u)?u:pr;a(d,o)}i[pr]||(i[pr]=[]);for(const o of t){const l=Fl(o);l&&(i[l]||(i[l]=[]))}return i}function DT(e,t){const n=[];for(const i of t){const a=Fl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[pr];return Array.isArray(r)&&r.length&&n.push(...r),n}function are(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Kv(t,n),o=r.droppableId===pr?pr:r.droppableId,l=i.droppableId===pr?pr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===pr,y=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:y;o===l?u.splice(k,0,h):d.splice(k,0,h);const w=String(h.id),S=new Set([w]),j={...h,folder:l===pr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(O=>String(O.id)===w?j:O),{nextList:DT(a,n),changedIds:Array.from(S)}}function ore(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Kv(t,n),o=[...n.map(j=>Fl(j)),pr].filter(Boolean);let l=null,u=-1;for(const j of o){const A=(a[j]??[]).findIndex(C=>String(C.id)===r);if(A>=0){l=j,u=A;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=Fl(i),b=!p||b6(p)?pr:p,y=l!==b,k=y?[...a[b]??[]]:d,w=String(h.id),S={...h,folder:b===pr?"":b};return y?k.push(S):d.splice(u,0,S),a[l]=d,a[b]=y?k:d,{nextList:DT(a,n),changedIds:[w]}}function sre(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Kv(t,r);let a=null,o=null;const l=[...r.map(y=>Fl(y)),pr].filter(Boolean);for(const y of l){const k=i[y]??[],w=k.findIndex(S=>String(S.id)===n);if(w>=0){a=y,o=k[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(y=>String(y.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:DT(i,r),nextItem:b}}function lre(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function y6(e){return e.trim().length>0}const Xh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),cre=e=>e.replace(/\D/g,""),ure=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=cre(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},dre=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},fre=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},PD=(e,t,n)=>{const r=Xh(t);if(!r)return!0;const i=Xh(typeof e.name=="string"?e.name:""),a=ure(e).map(Xh),o=dre(e).map(Xh),l=fre(e).map(Xh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function hre(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!y6(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(y=>PD(y,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>PD(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function mre(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??pr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??pr).toString(),index:e.destinationIndex}}}function pre(e,t){const n=String(t.eventType??""),r=a2(t.new),i=a2(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=m6(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return ou(u)}async function gre(e){if(!e)return;const t=De;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function bre(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function yre(){return{async getUser(){const{data:e,error:t}=await De.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await De.from("myeongsik").select(bre()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>a2(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=DD(t,e),{error:r}=await De.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=DD(n,e),{error:i}=await De.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await De.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Wne(i,e)),{error:r}=await De.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=De.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await gre(r)}}}}}function vre(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function Sm(e){if(!e)return"FREE";const t=vre(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function s2(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const Bg={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function xre(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function RD(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function LD(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function wre(e){return e?e.can_use_myo_viewer===!0:!1}async function _re(e){const{data:t,error:n}=await De.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const hn=Go((e,t)=>({loaded:!1,loading:!1,userId:null,...Bg,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Bg})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await De.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...Bg,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await _re(o);if(!u){const O=s2("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:O.maxMyeongsik===null?9999:O.maxMyeongsik,canManageMyeongsik:O.canManageMyeongsik,canUseLuckTabs:O.canUseLuckTabs,canUseMultiMode:O.canUseMultiMode,canUseAllPrompts:O.canUseAllPrompts,canUseAdvancedReport:O.canUseAdvancedReport,canRemoveAds:O.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=RD(u.starts_at??null),h=RD(u.expires_at??null),p=LD(d,h),b=Sm(u.plan??null),y=p?b:"FREE",k=s2(y),w=k.maxMyeongsik===null?9999:k.maxMyeongsik,S=xre(u.max_myeongsik,w),j=Math.max(1,Math.max(S,w));e({loaded:!0,userId:o,plan:y,maxMyeongsik:j,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:wre(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...Bg,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return LD(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),PT="guest_myeongsik_v1";function v6(e){return typeof e=="object"&&e!==null}function l2(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Ii(e,t=""){return typeof e=="string"?e:t}function Sre(e,t=!1){return typeof e=="boolean"?e:t}function kre(e){return v6(e)?{name:Ii(e.name,""),lat:l2(e.lat,0),lon:l2(e.lon,0)}:{name:"",lat:0,lon:0}}function Ere(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function Tre(e){if(!v6(e))return null;const t={id:Ii(e.id,""),sortOrder:l2(e.sortOrder,1),name:Ii(e.name,""),birthDay:Ii(e.birthDay,""),birthTime:Ii(e.birthTime,""),gender:Ii(e.gender,""),birthPlace:kre(e.birthPlace),relationship:Ii(e.relationship,""),memo:Ii(e.memo,""),folder:Ii(e.folder,""),mingSikType:Ii(e.mingSikType,"/"),DayChangeRule:Ii(e.DayChangeRule,""),favorite:Sre(e.favorite,!1),calendarType:Ii(e.calendarType,"solar"),dir:Ii(e.dir,"forward")};return t.id?Vm(t):null}function x6(){try{const e=localStorage.getItem(PT);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(Tre).filter(r=>r!==null);return ou(n)}catch{return[]}}function Cl(e){try{const t=e.map(Ere);localStorage.setItem(PT,JSON.stringify(t))}catch{}}function w6(){try{localStorage.removeItem(PT)}catch{}}const Ss=Go(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),Fn=yre(),Are=rre(Fn);function Gc(){const t=hn.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function jre(e){const n=hn.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function ID(e){const t=x6();if(t.length)try{for(const n of t)await Fn.upsertOne(e,n);w6()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const xn=Go((e,t)=>({loading:!1,loaded:!1,loadedUserId:null,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Xne()){g6(Date.now()),window.location.reload();return}const n=await Fn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Fn.subscribe(n.id,i=>{e(a=>({list:pre(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{if(!t().loading){e({loading:!0});try{const n=await Fn.getUser(),r=t();if(n&&r.loaded&&r.loadedUserId===n.id){e({loading:!1});return}if(!n){const u=x6(),d=u[0]?.id??null;e({list:u,currentId:d,loaded:!0,loadedUserId:null}),await t().stopRealtime();return}await ID(n.id);const i=await Fn.fetchRows(n.id),a=ou(i.map(m6)),o=t().currentId,l=o&&a.some(u=>u.id===o)?o:a[0]?.id??null;e({list:a,currentId:l,loaded:!0,loadedUserId:n.id}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}}},migrateLocalToServer:async()=>{try{await Qne(Fn);const n=await Fn.getUser();n&&await ID(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Fn.getUser(),i=t().list.length;if(!jre(i)){r||Ss.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Vm(o),u=t().list,d=ou([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){Cl(d),d.length===1&&Ss.getState().openWith("PERSIST_SAVE");return}await Fn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await Fn.getUser();if(i&&!Gc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Vm({...a,...r}),l=ou(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Cl(l);return}await Fn.updateOne(i.id,n,o)},remove:async n=>{const r=await Fn.getUser();if(r&&!Gc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Cl(a);return}await Fn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=mre(n),o=are({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await Fn.getUser();if(l&&!Gc()){e({list:r});return}if(!l){Cl(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await Fn.getUser();if(i&&!Gc()){e({list:r});return}if(!i){Cl(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await Fn.getUser();if(i&&!Gc())return;const o=sre({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Cl(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await Fn.getUser();if(r&&!Gc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=lre({list:a,folderName:i}),l=ou(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Cl(l);return}const d=l.filter(h=>u.has(h.id));await Fn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await Fn.getUser();if(r&&!Gc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=ou(i);if(e({list:a}),!r){Cl(a);return}await Are.queue(a)},clear:()=>{e({currentId:null,list:[],loaded:!1,loadedUserId:null}),w6()}})),$D="__custom__",zg=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],_6=({value:e,onChange:t})=>{const[n,r]=_.useState(zg),[i,a]=_.useState(""),[o,l]=_.useState(!1),[u,d]=_.useState(""),[h,p]=_.useState(!1),{list:b}=xn(),y=(e??i??"").trim(),k=y==="",w=b.some(P=>(P.relationship??"").trim()===""),S=w&&!k?n.filter(P=>P.value!==""):n,j=_.useMemo(()=>{const P=S.find(I=>I.value==="");return P?[P,...S.filter(I=>I.value!=="")]:S},[S]);_.useEffect(()=>{e!==void 0&&a(e)},[e]),_.useEffect(()=>{y||w||(a(""),t?.(""))},[y,w,t]);const O=P=>{const I=P.target.value;I===$D?(l(!0),a(""),t?.("")):(l(!1),d(""),a(I),t?.(I))};_.useEffect(()=>{const P=localStorage.getItem("relationshipOptions");if(P)try{const I=JSON.parse(P),U=new Set,W=[...I,...zg].filter(q=>!q||!q.value||U.has(q.value)?!1:(U.add(q.value),!0));r(W)}catch{r(zg)}},[]),_.useEffect(()=>{(async()=>{const{data:{user:I},error:U}=await De.auth.getUser();if(U||!I)return;const{data:W,error:q}=await De.from("user_settings").select("payload").eq("user_id",I.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const H=W?.payload?.relationshipOptions;if(!Array.isArray(H))return;const B=H.map(K=>K&&typeof K=="object"&&typeof K.value=="string"&&typeof K.label=="string"?{value:K.value,label:K.label}:typeof K=="string"?{value:K,label:K}:null).filter(K=>!!K);B.length&&r(K=>{const J=new Set,Z=[...B,...K,...zg].filter(Y=>J.has(Y.value)?!1:(J.add(Y.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(Z)),Z})})()},[]),_.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:I},error:U}=await De.auth.getUser();if(U||!I)return;const{data:W,error:q}=await De.from("user_settings").select("payload").eq("user_id",I.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const H={...W?.payload??{},relationshipOptions:n},{error:B}=await De.from("user_settings").upsert({user_id:I.id,payload:H,updated_at:new Date().toISOString()});B&&console.error("save relationships settings error",B.message)})()},[n]);const A=()=>{const P=u.trim();if(!P)return;const I={value:P,label:P};r(U=>[...U,I]),a(P),t?.(P),d(""),l(!1)},C=P=>{r(n.filter(I=>I.value!==P)),i===P&&a("")},D=P=>{if(!P.destination)return;const I=Array.from(n),[U]=I.splice(P.source.index,1);I.splice(P.destination.index,0,U),r(I)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:O,children:[g.jsx("option",{value:"",hidden:!0,children:" "}),j.map(P=>g.jsx("option",{value:P.value,children:P.label},P.value)),g.jsx("option",{value:$D,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:" "})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"  ",value:u,onChange:P=>d(P.target.value)}),g.jsx("button",{type:"button",onClick:A,className:"btn_style",children:" "})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(Sp,{onDragEnd:D,children:g.jsx(Tf,{droppableId:"relList",children:P=>g.jsxs("ul",{ref:P.innerRef,...P.droppableProps,className:"space-y-1",children:[n.map((I,U)=>g.jsx(Ef,{draggableId:I.value,index:U,children:W=>g.jsxs("li",{ref:W.innerRef,...W.draggableProps,...W.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:I.label}),g.jsx("button",{type:"button",className:"text-red-500 cursor-pointer",onClick:()=>C(I.value),children:""})]})},I.value)),P.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},vn=" ",S6=["","","","","",""],k6="ms_folders",E6="ms_folder_order",BD="ms_folder_favs",c2="ms_disabled_presets",Kl="myeoun:folder-updated";function hu(e){if(e!==vn)return e||void 0}function Wv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function RT(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function Nre(){const e=Wv(c2);return S6.filter(t=>!e.includes(t))}function LT(){return Wv(k6)}function IT(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];RT(k6,t),typeof window<"u"&&window.dispatchEvent(new Event(Kl))}function xy(){const e=Nre(),t=LT(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function Ore(){return[vn,...xy()]}function T6(e){const t=e.trim();if(!t||t===vn)return;const n=LT();if(n.includes(t))return;const r=[...n,t];IT(r)}function Cre(e){const t=LT(),n=t.filter(r=>r!==e);n.length!==t.length&&IT(n)}function Mre(e){const t=Wv(c2);if(t.includes(e))return;const n=[...t,e];RT(c2,n),typeof window<"u"&&window.dispatchEvent(new Event(Kl))}function wy(){return Wv(E6)}function Bd(e){RT(E6,e),typeof window<"u"&&window.dispatchEvent(new Event(Kl))}function Cm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function Dre(e){return Array.from(new Set(e))}function Ug(e){const t=e.filter(n=>n!==vn);return{rest:t,withUnassigned:[vn,...t]}}function Pre(e,t){return Cm(t,e)}function Rre({value:e,onChange:t}){const[n,r]=_.useState([vn]),[i,a]=_.useState(!1),[o,l]=_.useState(""),[u,d]=_.useState(!1),h=_.useCallback(async S=>{const{data:{user:j},error:O}=await De.auth.getUser();if(O||!j)return;const A=S.map((D,P)=>({user_id:j.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await De.from("user_folder_order").upsert(A,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=_.useCallback(()=>{if(typeof window>"u")return;const S=Dre(Ore()),j=S.includes(vn)?S:[vn,...S],{rest:O}=Ug(j),A=wy(),C=Pre(A,O),D=[vn,...C];r(D),A.length===C.length&&A.every((I,U)=>I===C[U])||(Bd(C),h(C))},[h]);_.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(Kl,S),()=>window.removeEventListener(Kl,S)}},[p]);const b=_.useMemo(()=>e||vn,[e]),y=S=>{const{rest:j}=Ug(S);Bd(j),h(j)},k=S=>{const{source:j,destination:O}=S;if(!O||O.index===j.index)return;const{rest:A}=Ug(n),C=Array.from(A),[D]=C.splice(j.index,1);C.splice(O.index,0,D);const P=[vn,...C];r(P),y(P)},w=S=>{const j=hu(S);j&&(T6(j),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:S=>{const j=S.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(hu(j))},children:[n.map(S=>g.jsx("option",{value:S,children:S},S)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(S=>!S),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=o.trim();S&&(w(S),t(hu(S)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[vn," ()"]})]}),g.jsx(Sp,{onDragEnd:k,children:g.jsx(Tf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>g.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Ug(n).rest.map((j,O)=>g.jsx(Ef,{draggableId:j,index:O,children:A=>g.jsxs("li",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),S.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',vn,'" .      .']})]})}function A6({message:e,onClose:t,ms:n=2e3}){return _.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const zD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Lre=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Ire=["","/",""],$re=["",""],j6={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function Bre(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function zre(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Ure(){const[e,t]=_.useState(0),[n,r]=_.useState({...j6}),[i,a]=_.useState(null),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function Fre({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){_.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Hre(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Xi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Gre(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):vn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Yre({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=zD[r],a=_.useMemo(()=>Hre(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:zD,currentStep:i,lunarPreview:a,displayValue:l=>Gre(l,e,t,n),CALENDAR_OPTIONS:Lre,MING_OPTIONS:Ire,GENDER_OPTIONS:$re,nextIndex:Bre,focusById:zre,isDST:Wm}}function qre(){return{add:xn(t=>t.add)}}const Ar=[];for(let e=0;e<256;++e)Ar.push((e+256).toString(16).slice(1));function Kre(e,t=0){return(Ar[e[t+0]]+Ar[e[t+1]]+Ar[e[t+2]]+Ar[e[t+3]]+"-"+Ar[e[t+4]]+Ar[e[t+5]]+"-"+Ar[e[t+6]]+Ar[e[t+7]]+"-"+Ar[e[t+8]]+Ar[e[t+9]]+"-"+Ar[e[t+10]]+Ar[e[t+11]]+Ar[e[t+12]]+Ar[e[t+13]]+Ar[e[t+14]]+Ar[e[t+15]]).toLowerCase()}let h1;const Wre=new Uint8Array(16);function Vre(){if(!h1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h1=crypto.getRandomValues.bind(crypto)}return h1(Wre)}const Zre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UD={randomUUID:Zre};function N6(e,t,n){if(UD.randomUUID&&!e)return UD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Vre();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Kre(r)}function Xre(e,t,n){const r=hu(e.folder);return h6({id:N6(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Jre(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=CT(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=MT(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Qre({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=qre(),y=_.useCallback(()=>{const w=Jre(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const S=Xre(e,o,u);if(!S.ok){h(S.message);return}const j=S.value;b(j),p(j),h(" !"),t({...j6}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),k=_.useCallback(w=>{if(w.key!=="Enter")return;const S=w.target,j=S.getAttribute("role");if(j==="radio"||j==="checkbox")return;const O=document.getElementById("mapModal");if(O&&O.contains(S))return;const A=S.tagName.toLowerCase(),C=S instanceof HTMLInputElement?S.type:"";if(A==="textarea"){if(w.shiftKey)return;w.preventDefault(),y();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),S instanceof HTMLInputElement&&S.click();return}A==="button"&&S.type!=="submit"||(w.preventDefault(),y())},[y]);return{handleNext:y,handleFormKeyDown:k}}function eie({onSave:e}){const t=Ure(),n=Yre({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Fre({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Qre({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function tie({onSave:e,onClose:t}){const n=eie({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(A6,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(JB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(_6,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(Rre,{value:hu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var Fg={},FD;function nie(){if(FD)return Fg;FD=1,Fg.match=a,Fg.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var y=b.inverse,k=b.type==="all"||p.type===b.type;if(k&&y||!(k||y))return!1;var w=b.expressions.every(function(S){var j=S.feature,O=S.modifier,A=S.value,C=p[j];if(!C)return!1;switch(j){case"orientation":case"scan":return C.toLowerCase()===A.toLowerCase();case"width":case"height":case"device-width":case"device-height":A=d(A),C=d(C);break;case"resolution":A=u(A),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":A=l(A),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":A=parseInt(A,10)||1,C=parseInt(C,10)||0;break}switch(O){case"min":return C>=A;case"max":return C<=A;default:return C===A}});return w&&!y||!w&&y})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),y=b[1],k=b[2],w=b[3]||"",S={};return S.inverse=!!y&&y.toLowerCase()==="not",S.type=k?k.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],S.expressions=w.map(function(j){var O=j.match(t),A=O[1].toLowerCase().match(n);return{modifier:A[1],feature:A[2],value:O[2]}}),S})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return Fg}var m1,HD;function rie(){if(HD)return m1;HD=1;var e=nie().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(y){u&&u.addListener(y)}function h(y){u&&u.removeListener(y)}function p(y){l.matches=y.matches,l.media=y.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return m1=r,m1}var iie=rie();const aie=ki(iie);var oie=/[A-Z]/g,sie=/^ms-/,p1={};function lie(e){return"-"+e.toLowerCase()}function O6(e){if(p1.hasOwnProperty(e))return p1[e];var t=e.replace(oie,lie);return p1[e]=sie.test(t)?"-"+t:t}function cie(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var g1={exports:{}},b1,GD;function uie(){if(GD)return b1;GD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b1=e,b1}var y1,YD;function die(){if(YD)return y1;YD=1;var e=uie();function t(){}function n(){}return n.resetWarningCache=t,y1=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},y1}var qD;function fie(){return qD||(qD=1,g1.exports=die()()),g1.exports}var hie=fie();const Pt=ki(hie),Vr=Pt.oneOfType([Pt.string,Pt.number]),C6={all:Pt.bool,grid:Pt.bool,aural:Pt.bool,braille:Pt.bool,handheld:Pt.bool,print:Pt.bool,projection:Pt.bool,screen:Pt.bool,tty:Pt.bool,tv:Pt.bool,embossed:Pt.bool},mie={orientation:Pt.oneOf(["portrait","landscape"]),scan:Pt.oneOf(["progressive","interlace"]),aspectRatio:Pt.string,deviceAspectRatio:Pt.string,height:Vr,deviceHeight:Vr,width:Vr,deviceWidth:Vr,color:Pt.bool,colorIndex:Pt.bool,monochrome:Pt.bool,resolution:Vr,type:Object.keys(C6)},{type:TCe,...pie}=mie,gie={minAspectRatio:Pt.string,maxAspectRatio:Pt.string,minDeviceAspectRatio:Pt.string,maxDeviceAspectRatio:Pt.string,minHeight:Vr,maxHeight:Vr,minDeviceHeight:Vr,maxDeviceHeight:Vr,minWidth:Vr,maxWidth:Vr,minDeviceWidth:Vr,maxDeviceWidth:Vr,minColor:Pt.number,maxColor:Pt.number,minColorIndex:Pt.number,maxColorIndex:Pt.number,minMonochrome:Pt.number,maxMonochrome:Pt.number,minResolution:Vr,maxResolution:Vr,...pie},bie={...C6,...gie};var yie={all:bie};const vie=e=>`not ${e}`,xie=(e,t)=>{const n=O6(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?vie(n):`(${n}: ${t})`},wie=e=>e.join(" and "),_ie=e=>{const t=[];return Object.keys(yie.all).forEach(n=>{const r=e[n];r!=null&&t.push(xie(n,r))}),wie(t)},Sie=_.createContext(void 0),kie=e=>e.query||_ie(e),KD=e=>e?Object.keys(e).reduce((n,r)=>(n[O6(r)]=e[r],n),{}):void 0,M6=()=>{const e=_.useRef(!1);return _.useEffect(()=>{e.current=!0},[]),e.current},Eie=e=>{const t=_.useContext(Sie),n=()=>KD(e)||KD(t),[r,i]=_.useState(n);return _.useEffect(()=>{const a=n();cie(r,a)||i(a)},[e,t]),r},Tie=e=>{const t=()=>kie(e),[n,r]=_.useState(t);return _.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},Aie=(e,t)=>{const n=()=>aie(e,t||{},!!t),[r,i]=_.useState(n),a=M6();return _.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},jie=e=>{const[t,n]=_.useState(e.matches);return _.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},Nie=(e,t,n)=>{const r=Eie(t),i=Tie(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=Aie(i,r),o=jie(a);return M6(),_.useEffect(()=>{},[o]),_.useEffect(()=>()=>{a&&a.dispose()},[]),o},D6={Classic:"",Modern:""};function Yo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function Oie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Cie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Mie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function Die(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function qo(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?Oie(t,n):Cie(t,n):i?Mie(t,n):Die(t,n)}const ei=Go()(E$((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,y)=>y?new Date(b.getTime()+y*60*1e3):b,l=i,u=o(n,a),d=ct(u,l),h=Tt(u,l),p=ht(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:d,monthGZ:h,dayGZ:p,setDate:b=>{const{rule:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,j=o(b,w);e({date:b,yearGZ:ct(j,S),monthGZ:Tt(j,S),dayGZ:ht(j,y)})},resetDate:()=>{const{rule:b,lon:y,dstOffsetMinutes:k}=t(),w=new Date,S=typeof y=="number"?y:void 0,j=o(w,k);e({date:w,yearGZ:ct(j,S),monthGZ:Tt(j,S),dayGZ:ht(j,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:y}=t(),k=new Date,w=typeof b=="number"?b:void 0,S=o(k,y);e({date:k,monthGZ:Tt(S,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,j=o(y,w);e({rule:b,yearGZ:ct(j,S),monthGZ:Tt(j,S),dayGZ:ht(j,b)})},setLon:b=>{const{date:y,rule:k,dstOffsetMinutes:w}=t(),S=typeof b=="number"?b:void 0,j=o(y,w);e({lon:b,yearGZ:ct(j,S),monthGZ:Tt(j,S),dayGZ:ht(j,k)})},setDstOffsetMinutes:b=>{const{date:y,rule:k,lon:w}=t(),S=typeof w=="number"?w:void 0,j=o(y,b);e({dstOffsetMinutes:b,yearGZ:ct(j,S),monthGZ:Tt(j,S),dayGZ:ht(j,k)})},setFromEvent:(b,y)=>{const{rule:k,lon:w,dstOffsetMinutes:S}=t(),j=typeof w=="number"?w:void 0,O=o(b.at,S);e({date:b.at,scope:y,yearGZ:ct(O,j),monthGZ:Tt(O,j),dayGZ:ht(O,k)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Pie=60*1e3,P6=60*Pie,Rie=24*P6,Lie=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},u2=e=>{const t=new Date(e);return t.setSeconds(0,0),t},Hb={HOUR:P6,DAY:Rie},Si=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:Nn(t,l.deg)})).concat([{name:r.name,date:Nn(t+1,r.deg)},{name:"",date:Nn(t+1,285)}]),a=Nn(t,315),o=Nn(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},R6=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Qr[t%10]}${wi[t%12]}`);return e})(),Iie=e=>{const t=R6.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},_y=(e,t,n=1)=>{const r=Iie(e),i=t==="forward"?n:-n;return R6[(r+i+60*1e3)%60]},kd=2*Hb.HOUR,WD=e=>(Math.floor((e+1)/2)*2-1+24)%24,$ie=(e,t)=>{const n=e.getHours(),r=WD(n),i=new Date(e);i.setHours(r,0,0,0),i.getTime()>e.getTime()&&i.setTime(i.getTime()-kd);const a=new Date(i.getTime()+kd),o=e.getTime()-i.getTime(),l=a.getTime()-e.getTime();if(o<0||o>kd||l<0||l>kd){const u=new Date(e);for(u.setHours(WD(e.getHours()),0,0,0);u.getTime()>e.getTime();)u.setTime(u.getTime()-kd);const d=new Date(u.getTime()+kd),h=e.getTime()-u.getTime(),p=d.getTime()-e.getTime();return t==="backward"?h:p}return t==="backward"?o:l},L6=(e,t,n,r=120)=>{const i=u2(e),a=$ie(i,n),o=10*Hb.DAY/(2*Hb.HOUR),l=u2(new Date(i.getTime()+a*o)),u=Lie(e,r).getTime(),d=[];let h=_y(t,n,1);for(let p=l.getTime();p<=u;p+=10*Hb.DAY)d.push({at:new Date(p),gz:h}),h=_y(h,n,1);return{firstChange:l,events:d}},I6=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},$6=(e,t,n,r)=>{const i=I6(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=_y(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},d2=7200*1e3,Bie=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Qr.indexOf(r),o=wi.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Qr[u]+wi[d]},zie=e=>(Math.floor((e+1)/2)*2-1+24)%24,Uie=e=>{const t=e.getHours(),n=zie(t),r=new Date(e);return r.setHours(n,0,0,0),r.getTime()>e.getTime()&&r.setTime(r.getTime()-d2),r},Fie=(e,t)=>{const n=Si(e).sort((p,b)=>p.date.getTime()-b.date.getTime()),r=e.getTime();let i;if(t==="forward"){let p=n.find(b=>b.date.getTime()>r);if(!p){const b=new Date(e.getFullYear()+1,0,2,12,0,0,0);p=Si(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).find(k=>k.date.getTime()>r)}if(!p)throw new Error("    .");i=p.date}else{let p=n.filter(b=>b.date.getTime()<r);if(p.length===0){const b=new Date(e.getFullYear()-1,11,31,12,0,0,0);p=Si(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).filter(k=>k.date.getTime()<r)}if(p.length===0)throw new Error("    .");i=p[p.length-1].date}const a=Uie(e),o=t==="forward"?d2:-d2,l=i.getTime();let u=new Date(a.getTime()),d=0;const h=365*24/2;for(;d<h;){const p=u.getTime();if(t==="forward"){if(p>=l)return u}else if(p<=l)return u;u=new Date(u.getTime()+o),d++}throw new Error("     .")},Hie=(e,t)=>{const i=Math.abs(t.getTime()-e.getTime())*120;return new Date(e.getTime()+i)},Ap=(e,t,n,r=120,i)=>{console.log(i);const a=Fie(e,n),o=Hie(e,a),l=Math.floor(r/10),u=[];for(let d=0;d<l;d++){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const p=Bie(t,n,d+1);u.push({at:h,gz:p})}return u.sort((d,h)=>d.at.getTime()-h.at.getTime()),{natalMonthPillar:t,firstChange:o,mPillars:[],events:u}},Gie=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},B6=(e,t,n,r,i)=>{const a=I6(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=_y(o,n,1),l.push({at:u.at,gz:o,age:Gie(i,u.at)}))}return{events:l}},Yie=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},Vv=(e,t)=>{const n=Yie(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=kp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return u2(o)},$T=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=Vv(e,n),a=ht(i,t),o=no(i,t,a.charAt(0));return{year:ct(i,r),month:Tt(i,r),day:a,hour:o}},qie=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Qr[t%10]}${wi[t%12]}`);return e})(),Kie=e=>qie.indexOf(e),v1=e=>{if(Kie(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Wie(e,t="/",n=0){const r=_.useMemo(()=>jf(e),[e]),i=_.useMemo(()=>Vv(r,{dstOffsetMinutes:n}),[r,n]),a=_.useMemo(()=>$T(r,t,{dstOffsetMinutes:n}),[r,t,n]);return _.useMemo(()=>{const o=Ap(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,D){let P=null;const I=D.getTime();for(const U of C)if(U.at.getTime()<=I)P=U;else break;return P}const d=u(o.events,l)?.gz??a.month,h=v1(d),p=l.getFullYear(),b=Nn(p,315),k=b&&l>=b?p:p-1,w=ct(new Date(k,1,10,0,0,0),127.5),S=v1(w),j=Tt(l,127.5),O=v1(j),A=[];return O&&A.push({key:"wolun",label:"",data:O}),S&&A.push({key:"seun",label:"",data:S}),h&&A.push({key:"daeun",label:"",data:h}),A},[i,r.dir,a.month,r.birthPlace?.lon])}function Nu(e,t="/",n=100,r=0){const i=_.useMemo(()=>jf(e),[e]),a=_.useMemo(()=>Vv(i,{dstOffsetMinutes:r}),[i,r]),o=_.useMemo(()=>$T(i,t,{dstOffsetMinutes:r}),[i,t,r]),l=(d,h)=>(h.getTime()-d.getTime())/(365.2425*24*60*60*1e3),u=d=>d<1?1+d:d;return _.useMemo(()=>{const d=Ap(a,o.month,i.dir,n,i.birthPlace?.lon??127.5),h={at:a,gz:d.natalMonthPillar},p=d.events[0]?l(a,d.events[0].at):0,b=u(p);return[h,...d.events].map((y,k)=>{const w=k===0?1:b+(k-1)*10,S=y.at.getFullYear();return{...y,age:w,startYear:S}})},[a,o.month,i.dir,n,i.birthPlace?.lon])}function x1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Vie(e,t){if(!Array.isArray(e)||e.length===0||!x1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!x1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||x1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function Zv(e,t,n,r){const{date:i,rule:a,lon:o}=ei(),l=_.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,d=Nu(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:p}=Vie(d,h);return _.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,y=a??e?.mingSikType??t??"/";return{dae:{gz:p,at:h},se:{gz:ct(h,b),at:h},wol:{gz:Tt(h,b),at:h},il:{gz:ht(h,y),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[a,o,e,t,p,h])}const Sy=Go(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),ec=()=>Sy(e=>e.useDST?-60:0),yn=["","","",""],VD={month:1},ZD=["","","",""],jp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],z6=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],XD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Zie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Le(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Zie[r[1]]??r[1],a=f2[r[2]]??r[2];return`${i}${a}`}return""}const ky=e=>e&&e.length>=1?e[0]:"",Bi=e=>e&&e.length>=2?e[1]:"",BT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],zT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],UT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],FT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],HT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],GT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],YT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],qT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],KT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],WT=[{pair:["",""],label:""}],VT=new Set(["","","",""]),Ey=new Set(["","","",""]),ZT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],U6=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function bi(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function rn(e,t){e.includes(t)||e.push(t)}const Xie=e=>[...e].sort((t,n)=>t-n).map(t=>yn[t]).join("X");function Jie(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Qie(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const F6=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function eae(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const H6=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function tae(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function G6(e){for(const t of H6){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!eae(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=tae(e.jijiHyeong),e}function nae(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function rae(e,t){for(const n of jp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function JD(e,t,n){nae(e,n)<0&&rn(e,t)}function Xv(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Le(e[0]??""),Le(e[1]??""),Le(e[2]??""),Le(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>ky(b)),l=i.map(b=>Bi(b));function u(b,y){if(b===y)return;const k=o[b],w=o[y];if(!k||!w)return;const S=bi(BT,k,w);S&&rn(a.cheonganHap,`#${yn[b]}X${yn[y]}_${S}`);const j=bi(zT,k,w);j&&rn(a.cheonganChung,`#${yn[b]}X${yn[y]}_${j}`)}for(let b=0;b<4;b++)for(let y=b+1;y<4;y++)u(b,y);function d(b,y,k,w,S=!0){const j=[],O=[];for(let C=0;C<4;C++)l[C]===b&&j.push(C),l[C]===y&&O.push(C);const A=Jie(j,O);for(const[C,D]of A){const P=`#${yn[C]}X${yn[D]}_${k}`;S?JD(w,P,k):rn(w,P)}}const h=(b,y)=>{for(const{pair:[k,w],label:S}of b)d(k,w,S,y)};h(UT,a.jijiYukhap),h(FT,a.jijiChung),h(HT,a.jijiPa),h(GT,a.jijiHae),h(YT,a.jijiWonjin),h(qT,a.jijiGwimun);for(const b of jp){if(!b.members.every(S=>l.includes(S)))continue;const k=[];for(let S=0;S<4;S++)b.members.includes(l[S])&&k.push(S);const w=Xie(k);rn(a.jijiSamhap,`#${w}_${b.name}`)}for(const{pair:[b,y],label:k}of U6)rae(b,y)&&d(b,y,k,a.jijiBanhap,!1);for(const{pair:[b,y],label:k}of KT)d(b,y,k,a.jijiHyeong);for(const{pair:[b,y],label:k}of WT)d(b,y,k,a.jijiHyeong);for(const b of VT){const y=l.map((k,w)=>k===b?w:-1).filter(k=>k>=0);if(!(y.length<2))for(const[k,w]of Qie(y)){const S=`#${yn[k]}X${yn[w]}_${b}`;JD(a.jijiHyeong,S,`${b}`)}}for(const{pair:[b,y],label:k}of ZT)d(b,y,k,a.amhap);if(n)for(let b=0;b<4;b++){const y=i[b]??"";if(y.length<2)continue;const k=`${y[0]}${y[1]}`;Ey.has(k)&&rn(a.ganjiAmhap,`#${F6(yn[b])}_${k}`)}const p=G6(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const y=p[b];Array.isArray(y)&&y.length===0&&(p[b]=["#"])}return p}function iae(e,t){for(const n of jp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function aae(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function $l(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Le(e.natal[0]??""),Le(e.natal[1]??""),Le(e.natal[2]??""),Le(e.natal[3]??"")],a=[Le(e.daewoon??""),Le(e.sewoon??""),Le(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Bi(p??"");return f2[b]??b});for(const{pair:[p,b],label:y}of U6){if(!iae(p,b))continue;const k=[],w=[];for(let j=0;j<4;j++)l[j]===p&&k.push(j),l[j]===b&&w.push(j);const S=aae(k,w);for(const[j,O]of S){const A=`#${yn[j]}X${yn[O]}_${y}`;rn(o.jijiBanhap,A)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const y=`${b[0]}${b[1]}`;Ey.has(y)&&rn(o.ganjiAmhap,`#${F6(yn[p])}_${y}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const y=Le(b);if(!y||y.length<2)continue;const k=ky(y),w=Bi(y);{const j=`${k}${w}`;Ey.has(j)&&rn(o.ganjiAmhap,`#${p}_${j}`)}for(let j=0;j<4;j++){const O=r[j]??"";if(O.length<2)continue;const A=yn[j],C=ky(O),D=Bi(O),P=bi(BT,k,C);P&&rn(o.cheonganHap,`#${p}X${A}_${P}`);const I=bi(zT,k,C);I&&rn(o.cheonganChung,`#${p}X${A}_${I}`);const U=bi(UT,w,D);U&&rn(o.jijiYukhap,`#${p}X${A}_${U}`);const W=bi(FT,w,D);W&&rn(o.jijiChung,`#${p}X${A}_${W}`);const q=bi(HT,w,D);q&&rn(o.jijiPa,`#${p}X${A}_${q}`);const H=bi(GT,w,D);H&&rn(o.jijiHae,`#${p}X${A}_${H}`);const B=bi(YT,w,D);B&&rn(o.jijiWonjin,`#${p}X${A}_${B}`);const K=bi(qT,w,D);K&&rn(o.jijiGwimun,`#${p}X${A}_${K}`);const J=bi(KT,w,D);if(J)rn(o.jijiHyeong,`#${p}X${A}_${J}`);else{const Y=bi(WT,w,D);Y?rn(o.jijiHyeong,`#${p}X${A}_${Y}`):w===D&&VT.has(w)&&rn(o.jijiHyeong,`#${p}X${A}_${w}${D}`)}const Z=bi(ZT,w,D);Z&&rn(o.amhap,`#${p}X${A}_${Z}`)}for(const j of jp){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:yn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,I)=>yn.indexOf(P)-yn.indexOf(I));rn(o.jijiSamhap,`#${p}X${C}X${D}_(${j.name})`)}}for(const j of XD){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:yn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,I)=>yn.indexOf(P)-yn.indexOf(I));rn(o.jijiHyeong,`#${p}X${C}X${D}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(h=!0)}}const S=[...r.map((j,O)=>({b:f2[Bi(j)]??Bi(j),pos:yn[O]}))];for(const j of z6){const O=S.filter(A=>j.members.includes(A.b));if(new Set(O.map(A=>A.b)).size===3){const A=O.map(C=>C.pos).join("X");rn(o.jijiBanghap,`#${A}_(${j.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,k]of b){const w=Le(k??"");w.length>=2&&p.push({kind:y,b:Bi(w)})}if(p.length>=2){const y=r.map((k,w)=>({pos:yn[w],b:Bi(k)}));for(const k of XD)for(let w=0;w<p.length;w++)for(let S=w+1;S<p.length;S++){const j=p[w],O=p[S];for(const A of y){const C=new Set([A.b,j.b,O.b]);if(C.size===3&&k.members.every(D=>C.has(D))){const D=[j.kind,O.kind].sort((I,U)=>ZD.indexOf(I)-ZD.indexOf(U)).join("X"),P=`${A.pos}X${D}`;rn(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),G6(oae(o))}function oae(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const sae={:"",:"",:"",:"",:""},QD={:"",:"",:"",:"",:""},lae={:"",:"",:"",:"",:""},cae={:"",:"",:"",:"",:""},uae={:.15,:.1,:-.15,:-.2,:-.25};function dae(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function fae(e){const t=e.includes(VD.month),n=dae(VD.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function hae(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function mae(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Le(e[0]??""),Le(e[1]??""),Le(e[2]??""),Le(e[3]??"")],o=a.map(h=>Bi(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let j=0;j<a.length;j++){const O=Bi(a[j]??"");p.members.includes(O)&&b.push(j)}if(!p.members.every(j=>o.includes(j)))return;const k=fae(b),w=p.out,S=QD[w];hae(u,S,w,k),l.push({type:h,name:p.name,out:p.out,strength:k})};if(i)for(const h of jp)d("",h);if(r)for(const h of z6)d("",h);return{applied:l,score:u,strengthAdj:uae,shengNext:sae,shengPrev:QD,ke:lae,keInv:cae}}function Ty(e){return yn[e]}function eP(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Le(e[r]??""),a=ky(i),o=Bi(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Jh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Ty(i)}X${Ty(a)}_${e}`);return r}function pae(e,t){const n=eP(e),r=eP(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of BT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Jh(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of zT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Jh(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const y=bi(u,p,b);if(!y)continue;const k=n.branchPos.get(p)??[],w=r.branchPos.get(b)??[];for(const S of Jh(y,k,w))a(i[l],S)}};o("",UT),o("",FT),o("",HT),o("",GT),o("",YT),o("",qT),o("",KT),o("",WT);for(const l of VT){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Jh(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of ZT){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Jh(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const y of p){const k=Bi(Le(e[y]??"")),w=`${d}${k}`;if(Ey.has(w))for(const S of b){const j=Bi(Le(t[S]??""));`${h}${j}`===w&&a(i.,`#${Ty(y)}X${Ty(S)}_${w}`)}}}}return i}const Y6=new Set(Object.keys(Kn)),q6=new Set(Object.keys(er)),gae=e=>e.slice(0,1),bae=e=>e.slice(-1);function ks(e){return Jd.has(e)?e:Y6.has(e)?Kn[e]??e:e}function Mr(e){return Lm.has(e)?e:q6.has(e)?er[e]??e:e}function Oo(e){return ks(gae(e))}function Zt(e){return Mr(bae(e))}function yae(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Jd.has(i)||Y6.has(i))&&(n=ks(i)),(Lm.has(i)||q6.has(i))&&(r=Mr(i));return n&&r?{stem:n,branch:r}:null}function vae(e){return e.map(Zt)}function Hg(e,t,n="classic"){const r=Oo(t),i=Zt(t),a=(n==="hgc"?Lv:Rv)[i]??[];return[r,...a].includes(e)}const h2=[["",""],["",""],["",""],["",""],["",""],["",""]],m2=[["",""],["",""],["",""],["",""],["",""],["",""]],xae=new Set(["","","",""]),K6=[["",""],["",""]],wae=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Mm(e,t,n){const r=Mr(t),i=Mr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function tP(e,t,n){const r=Mr(t),i=Mr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Ay(e){for(const t of wae)if(t.set.has(e))return t.voids;return null}function p2(e){const t=Mr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Jn={2:4,1:3,3:2,0:1},zd={1:4,2:3,0:2,3:1},_e={year:0,month:1,day:2,hour:3};function _ae(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const vu=e=>e===0?"":e===1?"":e===2?"":"",Nf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",Sae=(e,t)=>`#X${vu(t)}_${e}`,Wd=(e,t,n)=>t===_e.month&&n===_e.day?`#X_${e}`:t===_e.year&&n===_e.month?`#X_${e}`:t===_e.year&&n===_e.day?`#X_${e}`:t===_e.month&&n===_e.hour?`#X_${e}`:t===_e.day&&n===_e.hour?`#X_${e}`:`#${vu(t)}X${vu(n)}_${e}`,Gg=(e,t)=>`#${vu(t)}_${e}`,W6=(e,t)=>`#X${vu(t)}_${e}`,kae=(e,t)=>`#(${e==="day"?"":""})X${vu(t)}_`,Ed=e=>`#_${e}`,Td=(e,t)=>`#X${Nf(t)}_${e}`,Qh=(e,t)=>`#X${Nf(t)}_${e}`,w1=(e,t,n)=>`#${vu(n)}X${Nf(t)}_${e}`,Eae=(e,t)=>`#(${t==="day"?"":""})_${Nf(e)}_`,Tae=(e,t)=>`#(${t==="day"?"":""})X${Nf(e)}_`,nP=(e,t)=>`#X${Nf(e)}_${t}`;function g2(e,t){const n=Mr(e),r=[_e.day,_e.month,_e.hour,_e.year];for(const i of r)if(Zt(t[i])===n)return{pos:i,weight:Jn[i]??0};return null}function XT(e,t,n){return Zt(t[n])===Mr(e)?{pos:n,weight:Jn[n]}:null}function Aae(e,t){const n=ks(e),r=[_e.day,_e.month,_e.hour,_e.year];for(const i of r)if(Oo(t[i])===n)return{pos:i,weight:Jn[i]??0};return null}const jae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Mr(t.trim())).filter(Boolean),gn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ks(t),jae(n)])),Nae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),V6=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Z6=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Iae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),X6=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rP=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fae=gn({:"",:"",:"",:"",:""}),Hae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),iP=gn({:"",:"",:""}),aP=gn({:"",:"",:""}),Gae=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),J6=gn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Q6=gn({:"",:"",:"",:"",:"",:"",:""}),Yae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Mr(t.trim())).filter(Boolean),Oa=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Mr(t),(Array.isArray(n)?n:[n]).map(r=>Mr(r))])),Jv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Mr(t),Yae(n)])),e7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},t7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},n7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oP=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zae=Jv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xae=Oa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Jae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qae=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eoe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),toe=Oa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),i7=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),noe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),roe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ioe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aoe=Oa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_n=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Mr(t),(Array.isArray(n)?n:[n]).map(r=>Mr(r))])),ooe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),soe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),loe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),coe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),o7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),uoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),doe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),foe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),moe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),s7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),poe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),goe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),boe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),voe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),l7=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),woe=s7,_oe=a7,Soe=l7,koe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eoe=o7,Toe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aoe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),joe=_n({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Np(e,t){e.push(t)}function _1(e,t,n,r,i=0){const a=zd[n]>=zd[r]?n:r;e.push({name:Wd(t,n,r),weight:Jn[a]+i,pos:a})}function Noe(e,t,n,r,i){const a=Zt(e[_e.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[_e.month]:n==="DAY"?[_e.day]:n==="HOUR"?[_e.hour]:[_e.year,_e.month,_e.day,_e.hour];for(const u of o)for(const d of l){const h=XT(u,e,d);h&&Np(i,{name:Wd(r,_e.year,d),weight:h.weight,pos:d})}}function Ooe(e,t,n,r){const i=Zt(e[_e.month]),a=t[i];if(!a)return;const o=ks(a),l=Aae(o,e);l&&Np(r,{name:W6(n,l.pos),weight:l.weight,pos:l.pos})}function sP(e,t,n,r,i="ALL"){const a=Zt(e[_e.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[_e.year]:i==="DAY"?[_e.day]:i==="HOUR"?[_e.hour]:i==="DAY_HOUR"?[_e.day,_e.hour]:[_e.year,_e.month,_e.day,_e.hour];for(const u of o)for(const d of l){const h=XT(u,e,d);if(!h)continue;const p=d===_e.month?`#_${n}`:W6(n,d);Np(r,{name:p,weight:h.weight,pos:d})}}function lP(e,t,n,r){const i=Zt(e[_e.month]),a=t[i];if(!a)return;const o=e[_e.day];a.includes(o)&&Np(r,{name:Wd(n,_e.month,_e.day),weight:Jn[_e.day],pos:_e.day})}function cP(e,t,n,r,i){const a=Oo(e[_e.day]),o=t[a];if(!o)return;const l=i==="DAY"?[_e.day]:i==="HOUR"?[_e.hour]:[_e.year,_e.month,_e.day,_e.hour];for(const u of o)for(const d of l){const h=XT(u,e,d);h&&Np(r,{name:Sae(n,d),weight:h.weight,pos:d})}}function Coe({natal:e,daewoon:t,basis:n}){const r=Oo(e[_e.day]),i=Zt(e[_e.day]),a=Zt(e[_e.month]),o=Zt(e[_e.year]),l=vae(e),u=[],d=[],h=[[ooe,"MONTH",""],[a7,"DAY",""],[loe,"MONTH",""],[coe,"MONTH",""],[uoe,"ALL",""],[doe,"HOUR",""],[foe,"ALL",""],[hoe,"ALL",""],[moe,"ALL",""],[s7,"ALL",""],[poe,"ALL",""],[goe,"ALL",""],[boe,"ALL",""],[yoe,"ALL",""],[voe,"ALL",""],[xoe,"ALL",""],[l7,"ALL",""],[woe,"ALL",""],[_oe,"ALL",""],[Soe,"ALL",""],[koe,"ALL",""],[Eoe,"ALL",""],[Toe,"ALL",""],[Aoe,"ALL",""],[joe,"ALL",""]];for(const[C,D,P]of h)Noe(e,C,D,P,d);const p=[[e7,""],[t7,""],[n7,""],[r7,""]];for(const[C,D]of p)Ooe(e,C,D,u);const b=[[qae,"","ALL"],[oP,"","YEAR"],[oP,"","DAY"],[Xae,"","ALL"],[Jae,"","ALL"],[Qae,"","ALL"],[eoe,"","ALL"],[toe,"","ALL"]];for(const[C,D,P]of b)sP(e,C,D,d,P);const y=[[i7,"","ALL"],[noe,"","DAY_HOUR"],[roe,"","DAY_HOUR"],[ioe,"","ALL"],[aoe,"","ALL"]];for(const[C,D,P]of y)sP(e,C,D,u,P);const k=[[Kae,""],[Zae,""]];for(const[C,D]of k)lP(e,C,D,u);const w=[[Wae,""],[Vae,""]];for(const[C,D]of w)lP(e,C,D,d);const S=[[Nae,"","ALL"],[V6,"","ALL"],[Oae,"","ALL"],[Cae,"","ALL"],[Mae,"","ALL"],[Dae,"","ALL"],[Pae,"","ALL"],[Z6,"","ALL"],[Rae,"","ALL"],[Lae,"","ALL"],[Iae,"","ALL"],[$ae,"","ALL"],[Bae,"","ALL"],[Gae,"","ALL"]];for(const[C,D,P]of S)cP(e,C,D,u,P);const j=[[X6,"","ALL"],[zae,"","ALL"],[Uae,"","ALL"],[rP,"","DAY"],[rP,"","HOUR"],[iP,"","DAY"],[iP,"","HOUR"],[aP,"","DAY"],[aP,"","HOUR"],[Fae,"","DAY"],[Hae,"","ALL"],[J6,"","ALL"]];for(const[C,D,P]of j)cP(e,C,D,d,P);if(new Set(["","","",""]).has(e[_e.day])){d.push({name:Ed(""),weight:Jn[_e.day],pos:_e.day});for(const D of[_e.year,_e.month,_e.hour])e[D]===e[_e.day]&&d.push({name:Gg("",D),weight:Jn[D],pos:D})}{const C=Q6[r];if(C)for(const D of[_e.year,_e.month,_e.day,_e.hour]){const P=Oo(e[D]),I=Zt(e[D]);P===r&&C.includes(I)&&d.push({name:Gg("",D),weight:Jn[D],pos:D})}}for(const[C,D]of K6){const P=g2(C,e),I=g2(D,e);P&&I&&_1(d,"",P.pos,I.pos)}{const C=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const I=Oo(e[P]),U=Zt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Gg("",P),weight:Jn[P],pos:P})}}{const C=e[_e.hour],D=(I,U)=>I.includes(r)&&U.includes(C);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&d.push({name:Ed(""),weight:Jn[_e.hour],pos:_e.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:Ed(""),weight:Jn[_e.day],pos:_e.day});{const C=e[_e.day],D=e[_e.hour];(C===""&&D===""||C===""&&D==="")&&d.push({name:Wd("",_e.day,_e.hour),weight:Jn[_e.hour],pos:_e.hour})}{const C=Zt(e[_e.year]),D=new Set(l.slice(1)),P=(U,W)=>U.every(q=>D.has(q))&&C===W;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:Ed(""),weight:Jn[_e.day],pos:_e.day})}(e[_e.day]===""||e[_e.day]==="")&&u.push({name:Ed(""),weight:Jn[_e.day],pos:_e.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some(I=>Zt(I)===D.rok)&&Oo(e[_e.hour])===D.maStem&&u.push({name:Wd("",_e.day,_e.hour),weight:Jn[_e.hour],pos:_e.hour})}{const C=Zt(e[_e.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const I=i===P.rok,U=C===P.ma,W=Hg(P.rokStem,e[_e.day],"classic")||Hg(P.rokStem,e[_e.hour],"classic"),q=Hg(P.maStem,e[_e.day],"classic")||Hg(P.maStem,e[_e.hour],"classic");I&&U&&(W||q)&&u.push({name:Wd("",_e.day,_e.hour),weight:Jn[_e.hour],pos:_e.hour})}}{const C=new Set(["","","","","",""]),D=e.map(Oo),P=e.map(Zt),I=D.concat(P).filter(H=>C.has(H)).length,U=t?Oo(t):"",W=t?Zt(t):"",q=C.has(U)||C.has(W);(I>=4||I===3&&q)&&d.push({name:Ed(""),weight:Jn[_e.day],pos:_e.day})}{const C=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const I=Oo(e[P]),U=Zt(e[P]);(C.has(I)||D.has(U))&&d.push({name:Gg("",P),weight:Jn[P],pos:P})}}{const C=[[_e.year,_e.month],[_e.year,_e.day],[_e.month,_e.day],[_e.month,_e.hour],[_e.day,_e.hour]];for(const[D,P]of C){const I=Zt(e[D]),U=Zt(e[P]);if(Mm(h2,I,U)){const W=tP(h2,I,U);_1(d,`${W}`,D,P)}}}{const C=[[_e.year,_e.month,0],[_e.month,_e.day,1],[_e.month,_e.hour,0],[_e.day,_e.hour,0]];for(const[D,P,I]of C){const U=Zt(e[D]),W=Zt(e[P]);if(Mm(m2,U,W)){const q=tP(m2,U,W),H=(I?1:0)+(xae.has(U+W)?1:0);_1(d,`${q}`,D,P,H)}}}const O=Ay(e[_e.day]),A=Ay(e[_e.year]);{const C=(n?.voidBasis??"day")==="day"?O:A;if(C){const[D,P]=C.map(Mr);for(const I of[_e.year,_e.month,_e.day,_e.hour]){const U=Zt(e[I]);(U===D||U===P)&&d.push({name:kae(n?.voidBasis??"day",I),weight:Jn[I],pos:I})}}}return{goodPos:u,badPos:d,dayVoid:O,yearVoid:A,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function Yg({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],y=(O,A)=>{O.includes(A)||O.push(A)},k=yae(t??null);if(!k)return{good:p,bad:b};const w=k.branch,S=k.stem;ks(e7[a]??"")===S&&y(p,Qh("",e)),ks(t7[a]??"")===S&&y(p,Qh("",e)),ks(n7[a]??"")===S&&y(p,Qh("",e)),ks(r7[a]??"")===S&&y(p,Qh("",e)),i7[a]?.includes(w)&&y(p,Qh("",e)),V6[r]?.includes(w)&&y(p,Td("",e)),Z6[r]?.includes(w)&&y(p,Td("",e)),X6[r]?.includes(w)&&y(b,Td("",e)),J6[r]?.includes(w)&&y(b,Td("",e)),Q6[r]?.includes(w)&&y(b,Td("",e)),e==="se"&&(soe[o]?.includes(w)&&y(b,nP(e,"")),o7[o]?.includes(w)&&y(b,nP(e,"")));for(const O of l)if(Mm(K6,w,O)){const A=g2(O,n)?.pos;A!==void 0&&y(b,w1("",e,A));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&y(b,Td("",e));const j=(h?.voidBasis??"day")==="day"?u:d;j&&(w===j[0]||w===j[1])&&y(b,Eae(e,h?.voidBasis??"day"));for(let O=0;O<=3;O++){const A=Zt(n[O]);Mm(h2,w,A)&&y(b,w1("",e,O)),Mm(m2,w,A)&&y(b,w1("",e,O))}if(e==="se"){const O=(h?.samjaeBasis??"day")==="day"?i:o,A=O?p2(O):null;A&&A.includes(w)&&y(b,Tae(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const Moe=/^#(|||)X\1_/,Doe=e=>Moe.test(e);function uP(e){const t=new Map;for(const n of e){if(Doe(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function Poe(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Roe=new Set(["",""]);function Loe(e){return Roe.has(e)?!0:e.endsWith("")||e.endsWith("")}function dP(e){const t=new Map;for(const r of e){const i=Poe(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(Loe(r))n.push(...i);else{const a=i.sort((o,l)=>zd[o.pos]!==zd[l.pos]?zd[l.pos]-zd[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function fP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=_ae;for(const i of e)n[r(i.pos)].push(i.name);return n}function af({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k}=Coe({natal:e,daewoon:t,basis:a}),w=dP(uP(o)),S=dP(uP(l)),j=fP(w),O=fP(S),A=Yg({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=Yg({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),D=Yg({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=Yg({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...j,dae:A.good,se:C.good,wolun:D.good,ilun:P.good},bad:{...O,dae:A.bad,se:C.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:Ay(e[_e.day])??void 0,year:Ay(e[_e.year])??void 0},samjaeYears:{day:p2(Zt(e[_e.day]))??void 0,year:p2(Zt(e[_e.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Ioe(e){return typeof e=="object"&&e!==null}function Of(e){const t=D6;return Ioe(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const hP=["","","","","","","","","",""],mP=["","","","","","","","","","","",""],$oe=["","","","","","","","","","","",""];function Boe(e){const t=Iv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function zoe(e,t){const n=Boe(e);return(t?$oe:mP).map(i=>{const a=mP.indexOf(i);let o=(n+(a<0?0:a))%10;return t&&(i===""||i==="")&&(o=(o+2)%10),`${hP[o]??hP[0]}${i}`})}function Dm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function pP(e){return e<10?`0${e}`:`${e}`}function b2(e){return`${pP(e.getHours())}:${pP(e.getMinutes())}`}function JT(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function gP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||JT(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Uoe(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":b2(i)}const bP=["","/",""],Foe="/";function c7(e,t){return e&&bP.includes(e)?e:t&&bP.includes(t)?t:Foe}function yP(e){return e===""}function Hoe(e){return e===""?"":""}function Goe(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Yoe=e=>e instanceof Date&&!Number.isNaN(e.getTime());function y2(e,t){const n=JT(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Xi(r,i,a);r=A.getFullYear(),i=A.getMonth()+1,a=A.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=Yoe(e.corrected);let b;p?b=e.corrected:d?b=u:b=kp(u,h,n);const y=t?new Date(b.getTime()-3600*1e3):b,k=c7(e.mingSikType),w=ct(y,h),S=Tt(y,h),j=ht(y,k),O=n?null:no(y,k);return{corrected:y,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:S.charAt(0),branch:S.charAt(1)},day:{stem:j.charAt(0),branch:j.charAt(1)},hour:O?{stem:O.charAt(0),branch:O.charAt(1)}:null}}const qoe=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Koe=(()=>{const e={};for(const t of qoe){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Woe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Voe(e,t){const n=`${Iv(e)}${iT(t)}`;return Koe[n]??null}function Zoe(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Xoe(e){switch(Woe[iT(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Joe({stem:e,branch:t}){const n=Voe(e,t);if(!n)return null;const r=Zoe(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function vP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=wn(),o=Vi(e,t,a),l=_i(e,t,n),u=ro(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function u7({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:y="regular",highlightedStem:k=!1,highlightedBranch:w=!1}){const S=y==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",j=y==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${S} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${j} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:ka(n,{stem:t.stem})}),g.jsx(vP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(vP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(YB,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Joe,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Qoe=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function ese({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:y,seGz:k,wolGz:w,highlightMap:S={}}){const j=t?"regular":"compact",O=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",A="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${O}`:`grid gap-1 p-0 ${O}`;return g.jsxs("div",{className:A,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const I=Qoe(P,y,k,w),U=S[P.key]??{stem:!1,branch:!1};return g.jsx(u7,{title:P.label,data:I,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:j,highlightedStem:U.stem,highlightedBranch:U.branch},P.key)})})})]})}function tse({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:y={}}){const k=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",S=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:S,children:e.map(j=>{const O=y[j.key]??{stem:!1,branch:!1};return g.jsx(u7,{title:j.label,data:j.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:k,highlightedStem:O.stem,highlightedBranch:O.branch},j.key)})})})]})}function nse({hourCandidates:e,useInsi:t,onToggleRule:n,usePrevDay:r,onTogglePrevDay:i,canSelectHourBranch:a,manualHour:o,onSelectHour:l}){return g.jsxs("div",{className:"my-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "}),g.jsx("button",{onClick:i,className:`px-2 py-1 text-xs rounded border cursor-pointer ${r?"bg-amber-500 text-white border-amber-500":"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600"}`,children:""})]})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(u=>{const d=u.charAt(0),h=u.charAt(1),p=o?.stem===d&&o?.branch===h,b=a?!a(h):!1;return g.jsx("button",{onClick:()=>l(d,h),disabled:b,className:`p-2 text-xs rounded border ${p?Xoe(h):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"} ${b?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,title:`${u} ( )`,children:u},u)})})]})}function rse(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const em={:{title:"()",kind:"",oneLine:"     .",bullets:["  ,   ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   :   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"+     ."},:{title:"()",kind:"",oneLine:"///   ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"/        ."},:{title:"()",kind:"",oneLine:" 3      .",bullets:["    ."]},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"  ,    ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"      :    ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" .       ."},:{title:"()",kind:"",oneLine:" .     ."},:{title:"()",kind:"",oneLine:"  .      ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /,   ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"/  :    ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" :    ,  /  ."}};function ise(e){const t=rse(e),n=em[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(em[r])return em[r]}else{const r=`${t}`;if(em[r])return em[r]}return{title:t||"",kind:"",oneLine:" "}}function ase(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function Eo({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=v2(n,jy),u=v2(r,jy),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(xP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(xP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function xP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=v2(e,jy);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(ose,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function ose({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=ise(e),o=a?ase(a):"",l=jy(e),u=_.useRef(null),d=_.useRef(null),[h,p]=_.useState("center");return _.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const y=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),S=y.left,j=window.innerWidth-y.right;j<w/2&&S>j?p("right"):S<w/2&&j>S?p("left"):p("center")},[i]),_.useLayoutEffect(()=>{if(!i)return;const b=y=>{const k=y.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function jy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function v2(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function sse({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=_.useState(!0),[b,y]=_.useState(!0),[k,w]=_.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t desk:border-0 border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(To,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(To,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(To,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(To,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(To,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(To,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(To,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(To,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(To,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(To,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>y(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),wP(u)||wP(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(Eo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol"),t>=2&&g.jsx(Eo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=1&&g.jsx(Eo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae")]:[t>=1&&g.jsx(Eo,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae"),t>=2&&g.jsx(Eo,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=3&&g.jsx(Eo,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(Eo,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(Eo,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:k,setOpenTagKey:w})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function To({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:lse(i)},i)})})]})}function lse(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function wP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function _P(e){return String(e).padStart(2,"0")}function cse(e,t,n){if(!e||e.length<8)return gP(e,t);const r=gP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Xi(i,a,o);return` ${`${l.getFullYear()}.${_P(l.getMonth()+1)}.${_P(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function use({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=ei(),i=wn(Se=>Se.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=c7(e.mingSikType,t),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=_.useMemo(()=>{let Se=Number(e.birthDay?.slice(0,4)??2e3),Pe=Number(e.birthDay?.slice(4,6)??1),ze=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const lt=Xi(Se,Pe,ze);Se=lt.getFullYear(),Pe=lt.getMonth()+1,ze=lt.getDate()}return{solarY:Se,solarM:Pe,solarD:ze}},[e.birthDay,e.calendarType]),y=Sy(Se=>Se.useDST),k=Sy(Se=>Se.setUseDST);_.useEffect(()=>{h&&p&&b&&k(Wm(h,p,b))},[h,p,b,k]),_.useEffect(()=>{r(y?-60:0)},[y,r]);const w=JT(e.birthTime),[S,j]=_.useState(()=>y2(e,y));_.useEffect(()=>{j(y2(e,y))},[e,y]);const O=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,A=Hi(Se=>Se.usePrevDay),C=Hi(Se=>Se.setUsePrevDay),D=_.useMemo(()=>{const Se=`${S.day.stem}${S.day.branch}`,Pe=A?to(Se,-1):Se;return{stem:Pe.charAt(0),branch:Pe.charAt(1)}},[S.day.stem,S.day.branch,A]),P=S.day.stem,I=D.stem,[U,W]=_.useState(null),[q,H]=_.useState(()=>yP(e.mingSikType)),B=Hi(Se=>Se.clearManualHour);_.useEffect(()=>{W(null),B(),H(yP(e.mingSikType)),C(!1)},[O,e.mingSikType,B,C]),_.useEffect(()=>{Fe(null)},[O]);const K=A&&q?I:P,J=_.useMemo(()=>zoe(K,q),[q,K]),Z=U??S.hour,Y=Hi(Se=>Se.setManualHour),X=_.useCallback(Se=>A?q?Se===""||Se==="":Se==="":!0,[A,q]);_.useEffect(()=>{U&&(X(U.branch)||(W(null),B()))},[U,X,B]);const Q=(Se,Pe)=>{if(!X(Pe))return;if(U?.stem===Se&&U?.branch===Pe){W(null),B();return}const ze={stem:Se,branch:Pe};W(ze),Y(ze)},ce=Hoe(i.sinsalBase)===""?D.branch:S.year.branch,ie=Se=>i.showSibiUnseong?Yo(I,Se):null,z=Se=>i.showSibiSinsal?qo({baseBranch:ce,targetBranch:Se,era:Of(i.sinsalMode),gaehwa:i.sinsalBloom}):null,V=y?-60:0,ne=Wie(e,u,V),oe=Nie({query:"(min-width: 992px)"}),de=i.hiddenStem==="regular"?"main":"all",me=Goe(i.exposure),ye=me===0?[]:ne.filter(Se=>(Se.key==="daeun"?1:Se.key==="seun"?2:3)<=me),Ne=Wm(h,p,b),ae=()=>k(!y),Ee=_.useMemo(()=>{const Se=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Se.getTime())?S.corrected:Se},[e.corrected,S.corrected]),xe=_.useMemo(()=>Ee&&(Ne&&y?new Date(Ee.getTime()-3600*1e3):Ee),[Ee,Ne,y]),se=_.useMemo(()=>{const Se=Ne&&y?"":e.correctedLocal;return Uoe(Se,xe??new Date,w)},[e.correctedLocal,xe,w,Ne,y]),Ue=Zv(e,t,n,{dstOffsetMinutes:V}),Ke=Ue.dae.gz,Je=Ue.se.gz,Oe=Ue.wol.gz,[$e,Fe]=_.useState(null),Be=_.useMemo(()=>{const Se=Kt=>Kt?.stem&&Kt?.branch?`${Kt.stem}${Kt.branch}`:"",Pe=[Se(S.year),Se(S.month),Se(D),Se(Z)],ze=$l({natal:[...Pe],daewoon:me>=1?Ke??void 0:void 0,sewoon:me>=2?Je??void 0:void 0,wolwoon:me>=3?Oe??void 0:void 0}),lt=Xv([...Pe],{fillNone:!1}),gt={...ze};for(const Kt of H6)gt[Kt]=Array.from(new Set([...gt[Kt]??[],...lt[Kt]??[]]));return gt},[S,D,Z,Ke,Je,Oe,me]),bt=_.useMemo(()=>{const Se=[...Be.cheonganHap,...Be.cheonganChung,...Be.jijiSamhap,...Be.jijiBanhap,...Be.jijiBanghap,...Be.jijiYukhap,...Be.jijiChung,...Be.jijiHyeong,...Be.jijiPa,...Be.jijiHae,...Be.amhap,...Be.ganjiAmhap].filter(Pe=>Pe&&Pe!=="#");return Array.from(new Set(Se))},[Be]),Rt=_.useMemo(()=>{const Se=(ze,lt)=>{ze.includes(lt)||ze.push(lt)},Pe={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const ze of bt){const gt=(ze.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);gt.includes("")&&Se(Pe.luck.wol,ze),gt.includes("")&&Se(Pe.luck.se,ze),gt.includes("")&&Se(Pe.luck.dae,ze),gt.includes("")&&Se(Pe.natal.hour,ze),gt.includes("")&&Se(Pe.natal.day,ze),gt.includes("")&&Se(Pe.natal.month,ze),gt.includes("")&&Se(Pe.natal.year,ze)}return Pe},[bt]),fe=_.useMemo(()=>{const Se=lt=>lt?.stem&&lt?.branch?`${lt.stem}${lt.branch}`:"",Pe=af({natal:[Se(S.year),Se(S.month),Se(D),Se(Z)],daewoon:me>=1?Ke??void 0:void 0,sewoon:me>=2?Je??void 0:void 0,wolwoon:me>=3?Oe??void 0:void 0}),ze=lt=>Array.from(new Set(lt.filter(gt=>gt&&gt!=="#")));return{good:{natal:{hour:ze(Pe.good.si??[]),day:ze(Pe.good.il??[]),month:ze(Pe.good.wol??[]),year:ze(Pe.good.yeon??[])},luck:{dae:ze(Pe.good.dae??[]),se:ze(Pe.good.se??[]),wol:ze(Pe.good.wolun??[])}},bad:{natal:{hour:ze(Pe.bad.si??[]),day:ze(Pe.bad.il??[]),month:ze(Pe.bad.wol??[]),year:ze(Pe.bad.yeon??[])},luck:{dae:ze(Pe.bad.dae??[]),se:ze(Pe.bad.se??[]),wol:ze(Pe.bad.wolun??[])}}}},[S,D,Z,Ke,Je,Oe,me]),Ce=_.useMemo(()=>{const Se={},Pe=(ze,lt)=>{for(const gt of ze)Se[gt]=lt};return Pe(Be.cheonganHap,"stem"),Pe(Be.cheonganChung,"stem"),Pe(Be.jijiSamhap,"branch"),Pe(Be.jijiBanhap,"branch"),Pe(Be.jijiBanghap,"branch"),Pe(Be.jijiYukhap,"branch"),Pe(Be.jijiChung,"branch"),Pe(Be.jijiHyeong,"branch"),Pe(Be.jijiPa,"branch"),Pe(Be.jijiHae,"branch"),Pe(Be.amhap,"branch"),Pe(Be.ganjiAmhap,"both"),Se},[Be]),Ge=_.useMemo(()=>{if(!$e)return{};const Se=Ce[$e]??"branch",ze=($e.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),lt={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},gt={};for(const Kt of ze){const Rr=lt[Kt];if(!Rr)continue;const ar=gt[Rr]??{stem:!1,branch:!1};Se==="stem"?ar.stem=!0:(Se==="branch"||(ar.stem=!0),ar.branch=!0),gt[Rr]=ar}return gt},[$e,Ce]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),Ne&&g.jsxs("button",{onClick:ae,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[cse(e.birthDay,e.birthTime,e.calendarType)," : ",se]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",d.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ye.length===0?"grid-cols-1":ye.length===1?"grid-cols-[2fr_8fr]":ye.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ye.length>0&&g.jsx(ese,{cards:ye,isDesktop:oe,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:de,hiddenStemMode:i.hiddenStemMode,calcUnseong:ie,calcShinsal:z,daeGz:Ke,seGz:Je,wolGz:Oe,highlightMap:Ge}),g.jsx(tse,{isDesktop:oe,dayStem:I,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:de,hiddenStemMode:i.hiddenStemMode,calcUnseong:ie,calcShinsal:z,highlightMap:Ge,pillars:[{key:"hour",label:"",data:Z},{key:"day",label:"",data:D},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),w&&g.jsx(nse,{hourCandidates:J,useInsi:q,onToggleRule:()=>H(Se=>!Se),usePrevDay:A,onTogglePrevDay:()=>C(!A),canSelectHourBranch:X,manualHour:U,onSelectHour:Q}),g.jsx(sse,{isDesktop:oe,exposureLevel:me,relationChips:bt,relationByPillar:Rt,activeRelationTag:$e,onToggleRelationTag:Fe,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:fe.good,etcShinsalBad:fe.bad})]})}function Wl(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setHours(4,30,0,0),u}return t}function Qv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}function dse({data:e}){const t=ec(),n=Nu(e,e.mingSikType,100,t),r=Hi(U=>U.usePrevDay),i=_.useMemo(()=>{const U=jf(e);return ql(U,t)},[e,t]),a=_.useMemo(()=>Wl(e,i),[e,i]),o=_.useMemo(()=>{const U=e.mingSikType??"/",W=ht(a,U);return(r?to(W,-1):W).charAt(0)},[a,e.mingSikType,r]),{date:l,setFromEvent:u}=ei(),d=_.useMemo(()=>Qv(n,l),[n,l]),h=wn(U=>U.settings),{charType:p,thinEum:b,showSipSin:y,showSibiUnseong:k,showSibiSinsal:w,sinsalBase:S,sinsalMode:j,sinsalBloom:O}=h,A=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,C=e.mingSikType??"/",D=S===""?(r?to(ht(a,C),-1):ht(a,C)).charAt(1):ct(a,A).charAt(1),P=U=>k?Yo(o,U):null,I=U=>w?qo({baseBranch:D,targetBranch:U,era:Of(j),gaehwa:!!O}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((U,W)=>{const q=U.gz.charAt(0),H=U.gz.charAt(1),B=fse(U.age),K=W===d,J=_i(q,"stem",p),Z=_i(H,"branch",p),Y=ro(q,"stem"),X=ro(H,"branch"),Q=b&&Y?"font-thin":"font-bold",ce=b&&X?"font-thin":"font-bold",ie=P(H),z=I(H);return g.jsxs("div",{onClick:()=>u(U,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${U.gz}  ${U.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(o,{stem:q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Vi(q,"stem",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:J})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Vi(H,"branch",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ce}`,children:Z})}),y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(o,{branch:H})}),(k||w)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[k&&g.jsx("div",{children:ie}),w&&g.jsx("div",{children:z})]})]})]},`${U.gz}-${W}`)})})]})}function fse(e){return e>=2?String(Math.floor(e)):Number.isInteger(e)?String(e):e.toFixed(4).replace(/\.?0+$/,"")}const hse=!1,SP=e=>e<10?`0${e}`:`${e}`;function QT(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Xi(i,a,o,0,0),h=`${d.getFullYear()}${SP(d.getMonth()+1)}${SP(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function S1(e){return new Date(e,6,2,12,0,0,0)}function mse(e,t){return t-e+1}function pse({data:e,list:t,onSelect:n}){const r=wn(q=>q.settings),{date:i,setFromEvent:a}=ei(),o=ec(),l=Hi(q=>q.usePrevDay),[u,d]=_.useState(()=>t);_.useEffect(()=>{t&&t.length>0&&d(t)},[t]);const h=ql(e,o),p=_.useMemo(()=>Wl(e,h),[e,h]),b=_.useMemo(()=>p.getFullYear(),[p]),y=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,k=_.useMemo(()=>{if(!i)return[];const q=i.getFullYear(),H=S1(q),B=ct(H,y);return[{at:H,gz:B}]},[i,y]),w=t.length>0?t:u.length>0?u:k,S=_.useMemo(()=>[...w].sort((q,H)=>q.at.getTime()-H.at.getTime()),[w]),j=_.useMemo(()=>{if(S.length===0)return 0;const q=Qv(S,i);return q<0?0:q>=S.length?S.length-1:q},[S,i]),[O,A]=_.useState(null);_.useEffect(()=>{A(null)},[i,S]);const C=O??j,D=_.useMemo(()=>{const q=QT(e);return ql(q,o)},[e,o]),P=_.useMemo(()=>Wl(e,D),[e,D]),I=e.mingSikType??"/",U=_.useMemo(()=>{const q=ht(P,I);return(l?to(q,-1):q).charAt(0)},[P,I,l]),W=_.useMemo(()=>r.sinsalBase===""?(l?to(ht(p,I),-1):ht(p,I)).charAt(1):ct(p,y).charAt(1),[p,I,y,r.sinsalBase,l]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:S.map((q,H)=>{const B=q.at.getFullYear(),K=S1(B),J=ct(K,y),Z=J.charAt(0),Y=J.charAt(1),X=H===C,Q=_i(Z,"stem",r.charType),ce=_i(Y,"branch",r.charType),ie=ro(Z,"stem"),z=ro(Y,"branch"),V=r.thinEum&&ie?"font-thin":"font-bold",ne=r.thinEum&&z?"font-thin":"font-bold",oe=r.showSibiUnseong?Yo(U,Y):null,de=r.showSibiSinsal?qo({baseBranch:W,targetBranch:Y,era:Of(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,me=mse(b,B);return g.jsxs("div",{onClick:()=>{A(H);const ye=S1(B),Ne=ct(ye,y);a({at:ye,gz:Ne},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(B)):Promise.resolve().then(()=>n(B)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${J}  ${q.at.toLocaleDateString()}  ${me}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[me,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:B}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(U,{stem:Z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Vi(Z,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${V}`,children:Q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Vi(Y,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ne}`,children:ce})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(U,{branch:Y})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&oe&&g.jsx("div",{children:oe}),r.showSibiSinsal&&de&&g.jsx("div",{children:de})]})]})]},`${B}-${q.gz||H}`)})})]})}const gse=new Set(["","","","","","","","","","","",""]);function bse(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...Si(new Date(n-1,5,15,12,0))??[],...Si(new Date(n,5,15,12,0))??[],...Si(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>gse.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const yse=new Set(["","","","","","","","","","","",""]);function vse(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function xse(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function k1(e){return new Date(e,5,15,12,0,0,0)}function wse(e){const n=[...Si(k1(e-1))??[],...Si(k1(e))??[],...Si(k1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>yse.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=vse(d);o.push({name:u.name,termAt:d,at00:h})}return o}function _se({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=wn(A=>A.settings),a=ec(),o=Hi(A=>A.usePrevDay),l=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,u=ql(e,a),d=_.useMemo(()=>Wl(e,u),[e,u]),h=_.useMemo(()=>{const A=QT(e);return ql(A,a)},[e,a]),p=_.useMemo(()=>Wl(e,h),[e,h]),b=e.mingSikType??"/",y=_.useMemo(()=>{const A=ht(p,b);return(o?to(A,-1):A).charAt(0)},[p,b,o]),k=i.sinsalBase===""?(o?to(ht(d,b),-1):ht(d,b)).charAt(1):ct(d,l).charAt(1),w=_.useMemo(()=>t?wse(t).map(C=>{const D=C.termAt,P=new Date(C.termAt.getTime()+1860*1e3),I=Tt(P,l);return{at:D,gz:I,term:C.name,termAt:C.termAt}}):[],[t,l]),{date:S,setFromEvent:j}=ei(),O=Qv(w,S);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((A,C)=>{const D=A.gz.charAt(0),P=A.gz.charAt(1),I=`${xse(A.at)}`,U=C===O,W=_i(D,"stem",i.charType),q=_i(P,"branch",i.charType),H=ro(D,"stem"),B=ro(P,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",J=i.thinEum&&B?"font-thin":"font-bold",Z=i.showSibiUnseong?Yo(y,P):null,Y=i.showSibiSinsal?qo({baseBranch:k,targetBranch:P,era:Of(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(A.at);const X=new Date(A.at),{start:Q}=bse(X);n?.(Q.getFullYear(),Q.getMonth()),j({at:X,gz:Tt(X,l)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${A.term}   ${A.gz}  ${A.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(y,{stem:D})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Vi(D,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${K}`,children:W})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Vi(P,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${J}`,children:q})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:ka(y,{branch:P})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&Z&&g.jsx("div",{children:Z}),i.showSibiSinsal&&Y&&g.jsx("div",{children:Y})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:A.term})]})]},`${A.term}-${A.at.toISOString()}`)})})]})}function Sse(){const e=wn(r=>r.settings),{date:t,setFromEvent:n}=ei();return{settings:e,pickedDate:t,setFromEvent:n}}const kse=(e,t)=>new Date(e,t,15,12,0,0,0),x2=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},Ese=new Set(["","","","","","","","","","","",""]),d7=e=>[...Si(new Date(e-1,5,15,12,0))??[],...Si(new Date(e,5,15,12,0))??[],...Si(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),Tse=e=>{const t=d7(e.getFullYear()),n=t.filter(o=>Ese.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},Ase=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function jse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=Hi(B=>B.usePrevDay),u=a.ilunRule||"/",d=e.mingSikType??"/",h=_.useMemo(()=>{const B=QT(e);return ql(B,i)},[e,i]),p=_.useMemo(()=>Wl(e,h),[e,h]),b=_.useMemo(()=>{if(!p)return;const B=ht(p,d);return(l?to(B,-1):B).charAt(0)},[p,d,l]),y=_.useMemo(()=>e?ql(e,i):null,[e,i]),k=_.useMemo(()=>e&&y?Wl(e,y):null,[e,y]),w=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,S=e&&k?a.sinsalBase===""?(l?to(ht(k,d),-1):ht(k,d)).charAt(1):ct(k,w).charAt(1):null,j=_.useMemo(()=>kse(t,n),[t,n]),O=_.useMemo(()=>o?x2(new Date(o)):null,[o]),A=_.useMemo(()=>r?x2(r):null,[r]),C=_.useMemo(()=>O??A??j,[O,A,j]),{start:D,end:P,cur:I,next:U}=_.useMemo(()=>Tse(C),[C]),W=_.useMemo(()=>{const B=[],K=new Date(D);for(;K<P;)B.push(new Date(K)),K.setDate(K.getDate()+1);return B},[D,P]),q=_.useMemo(()=>{const B=d7(C.getFullYear()),K=B.filter(Z=>Z.date>=D&&Z.date<P),J=B.find(Z=>Z.date>=P);return J?[...K,J]:K},[C,D,P]),H=_.useMemo(()=>{const B=[];let K=[];const J=new Date(D).getDay();for(let Z=0;Z<J;Z+=1)K.push(null);for(const Z of W)K.length===7&&(B.push(K),K=[]),K.push(Z);for(;K.length<7;)K.push(null);return B.push(K),B},[W,D]);return{rule:u,dayStem:b,baseBranch:S,pickerNoon:O,termMarks:q,weeks:H,cur:I??null,next:U??null}}function Nse({setFromEvent:e}){return{handleDayClick:_.useCallback(n=>{e({at:n},"")},[e])}}function Ose({data:e,year:t,month:n,selectedMonth:r}){const i=ec(),a=Sse(),o=jse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=Nse({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,d)=>g.jsxs("span",{children:[u.name," ",Ase(u.date),d<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${d}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,d)=>u.map((h,p)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${d}-${p}`);const b=x2(h),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),k=new Date,w=b.getFullYear()===k.getFullYear()&&b.getMonth()===k.getMonth()&&b.getDate()===k.getDate(),j=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,O=i!==0?new Date(y.getTime()+i*60*1e3):y,A=FK(O,o.rule),C=A.charAt(0),D=A.charAt(1),P=_i(C,"stem",a.settings.charType),I=_i(D,"branch",a.settings.charType),U=a.settings.thinEum&&ro(C,"stem")?"font-thin":"font-bold",W=a.settings.thinEum&&ro(D,"branch")?"font-thin":"font-bold",q=!!o.dayStem&&a.settings.showSipSin,H=!!o.dayStem&&a.settings.showSibiUnseong,B=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,K=q?ka(o.dayStem,{stem:C}):"",J=q?ka(o.dayStem,{branch:D}):"",Z=H?Yo(o.dayStem,D):"",Y=B?qo({baseBranch:o.baseBranch,targetBranch:D,era:Of(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",X=o.termMarks.find(Q=>Q.date.getFullYear()===b.getFullYear()&&Q.date.getMonth()===b.getMonth()&&Q.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(y),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${j?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${A} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),X&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:X.name})]}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Vi(C,"stem",a.settings)}`,children:g.jsx("span",{className:U,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Vi(D,"branch",a.settings)}`,children:g.jsx("span",{className:W,children:I})}),q&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:J}),(H||B)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&Z&&g.jsx("div",{children:Z}),B&&Y&&g.jsx("div",{children:Y})]})]},h.toISOString())}))})]})}function kP(e,t){const n=e.startYear??e.at.getFullYear(),r=t?t.startYear??t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Nn(a,315),l=ct(new Date(a,1,10));i.push({at:o,gz:l})}return i}function Cse({data:e}){const t=ec(),n=Nu(e,e.mingSikType,100,t),[r,i]=_.useState(null),[a,o]=_.useState(null),[l,u]=_.useState("il"),[d,h]=_.useState(null);_.useEffect(()=>{if(!n.length)return;const S=new Date,j=n.findIndex((O,A)=>{const C=n[A+1]?.at;return S>=O.at&&(!C||S<C)});j!==-1&&i(j)},[n]);const p=S=>S<=0&&n.length>1?1:S;_.useEffect(()=>{if(r===null)return;const S=p(r),j=n[S],O=n[S+1];if(!j)return;const A=kP(j,O);if(!Array.isArray(A)||A.length===0)return;const C=A.filter(U=>!!U&&U.at instanceof Date&&!Number.isNaN(U.at.getTime()));if(!C.length)return;const D=new Date,P=D.getTime();C.findIndex((U,W)=>{const q=C[W+1]?.at,H=U.at.getTime(),B=q?q.getTime():null;return P>=H&&(B===null||P<B)})!==-1&&o({year:D.getFullYear(),month:D.getMonth()})},[r,n]);const b=Zv(e,void 0,void 0,{dstOffsetMinutes:t}),{date:y}=ei(),k=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=_.useMemo(()=>{if(!b?.dae?.gz)return[];const S=n.findIndex((D,P)=>{const I=n[P+1]?.at;return b.dae.at>=D.at&&(!I||b.dae.at<I)});if(S===-1)return[];const j=p(S),O=n[j],A=n[j+1],C=kP(O,A);return Array.isArray(C)?C.filter(D=>!!D&&D.at instanceof Date&&!Number.isNaN(D.at.getTime())):[]},[n,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(dse,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(pse,{data:e,list:w,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(_se,{data:e,activeYear:k,onSelect:(S,j)=>{o({year:S,month:j}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(Ose,{data:e,year:a.year,month:a.month+1,selectedMonth:d})]})}const Mse=new Set(OK),Dse=new Set(CK);function EP(e){return typeof e=="string"&&e.length>=2&&Mse.has(e[0])&&Dse.has(e[1])}function Li(e,...t){if(EP(e))return e;for(const n of t)if(EP(n))return n;return""}const Pse={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function qg(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Rse({data:e}){const t=wn(K=>K.settings),{manualHour:n}=Hi(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=ei(),d=ec(),h=e.mingSikType??"/",p=e.DayChangeRule??(e.mingSikType===""?"":""),b=_.useMemo(()=>jf(e),[e]),y=_.useMemo(()=>Vv(b,{dstOffsetMinutes:d}),[b,d]),k=_.useMemo(()=>$T(b,h,{dstOffsetMinutes:d}),[b,d,h]),w=_.useMemo(()=>Iv(k.day?.charAt(0)??""),[k.day]),S=!e.birthTime||e.birthTime==="",j=_.useMemo(()=>L6(y,k.hour,e.dir??"forward",120),[y,k.hour,e.dir]),O=_.useMemo(()=>$6(j,k.day,e.dir??"forward",p),[j,k.day,e.dir,p]),A=_.useMemo(()=>Ap(y,k.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[y,k.month,e.dir,b.birthPlace?.lon]),C=_.useMemo(()=>B6(A,k.year,e.dir??"forward",p,y),[A,k.year,e.dir,y,p]),D=_.useMemo(()=>{const K=j?.events?.[0];return K?{at:K.at,from:Li(k.hour),to:Li(K.gz)}:null},[j?.events,k.hour]),P=_.useMemo(()=>{const K=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:Li(k.month),to:Li(K?.gz??k.month)}:null},[A?.firstChange,A?.events,k.month]),I=_.useMemo(()=>{const K=S?n?n.stem+n.branch:"":Li(qg(j.events,u)?.gz,k.hour);let J;if(S&&n){const Z=u.getFullYear(),Y=u.getMonth(),X=u.getDate(),Q=Pse[n.branch]??0,ce=new Date(Z,Y,X,Q,0),ie=ht(ce,h);J=Li(ie,k.day)}else J=Li(qg(O.events,u)?.gz,k.day);return{si:K,il:J,wl:Li(qg(A.events,u)?.gz,k.month),yn:Li(qg(C.events,u)?.gz,k.year)}},[u,j.events,O.events,A.events,C.events,k,S,n,h]),U=_.useMemo(()=>({si:Li(no(u,h)),il:Li(ht(u,h)),wl:Li(Tt(u)),yn:Li(ct(u))}),[u,h]),W=_.useMemo(()=>a===""?k.day.charAt(1):k.year.charAt(1),[a,k.day,k.year]),q=_.useMemo(()=>Of(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const J=_i(w,"stem",""),Z=_i(K.charAt(1),"branch",""),Y=_i(W,"branch","");return{unseong:r&&Yo(J,Z)||"",shinsal:i&&qo({baseBranch:Y,targetBranch:Z,era:q,gaehwa:!!l})||""}},B=(K,J,Z="myoun")=>{const Y=J,{unseong:X,shinsal:Q}=J?H(J):{unseong:"",shinsal:""},ce=Z==="myoun"&&S&&(K===""||K==="");return g.jsx(Id,{label:K,gz:Y,dayStem:w,settings:t,unseongText:J?X:"",shinsalText:J?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:ce},`${Z}-${K}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Dm(y),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",I.si,"myoun"),B("",I.il,"myoun"),B("",I.wl,"myoun"),B("",I.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[B("",U.si,"live"),B("",U.il,"live"),B("",U.wl,"live"),B("",U.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",D?`${Dm(D.at)} (${D.from}  ${D.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${Dm(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const Lse=["","","","","","","","","",""],Ise={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$se={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f7={:"",:"",:"",:"",:""},h7={:"",:"",:"",:"",:""},m7={:"",:"",:"",:"",:""};function Bse(e,t){switch(e){case"":return t;case"":return f7[t];case"":return h7[t];case"":return m7[t];case"":return p7[t];default:return t}}const p7={:"",:"",:"",:"",:""};function zse({data:e,perStemElementScaled:t,dayStem:n,yongshinTop:r,yongshinKind:i,width:a=340,height:o=360}){const l=a/2,u=o/2-20,d=Math.min(a,o)*.33,h=_.useMemo(()=>{const w=(n??"").charAt(0);return $se[w]??null},[n]),p=_.useMemo(()=>e.map((w,S)=>{const j=Math.PI/2+2*-Math.PI*S/5;return{...w,angle:j,x:l+d*Math.cos(j),y:u-d*Math.sin(j)}}),[e,l,u,d]),b=w=>w?w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":null:null,y=(w,S)=>S===w?"":f7[w]===S?"":h7[w]===S?"":m7[w]===S?"":p7[w]===S?"":"",k=_.useMemo(()=>{if(!e||e.length===0)return null;const w=[...e].sort((P,I)=>I.value-P.value),S=w[0],O=w[w.length-1]?.name??"",A=b(r),C=h&&A?y(h,A):O;return{summary:i==="GYEOKGUK"?`${S.name}   ,    ${S.name}  .`:`${S.name}   ,  ${C}     .`,advice:S.value>45?`${S.name}         .`:"       ."}},[e,h,r,i]);return g.jsxs("div",{className:"w-full flex flex-col items-center p-6 bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-neutral-100 dark:border-neutral-800 shadow-xl tracking-tighter transition-colors",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsxs("h3",{className:"text-lg font-black text-neutral-800 dark:text-neutral-100",children:[n,"  "]})}),g.jsxs("svg",{width:a,height:o,className:"overflow-visible",children:[g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,3.5 L0,7 Z",fill:"#94a3b8",opacity:"0.4"})})}),p.map((w,S)=>{const j=p[(S+2)%5];return g.jsx("line",{x1:w.x,y1:w.y,x2:j.x,y2:j.y,stroke:"currentColor",className:"text-neutral-200 dark:text-neutral-800",strokeWidth:1.5,strokeDasharray:"4 4"},`line-ke-${S}`)}),p.map((w,S)=>{const j=p[(S+1)%5],O=(w.x+j.x)/2,A=(w.y+j.y)/2,C=O-l,D=A-u,P=l+C*1.45,I=u+D*1.45;return g.jsx("path",{d:`M${w.x},${w.y} Q${P},${I} ${j.x},${j.y}`,stroke:"#94a3b8",strokeWidth:2,strokeOpacity:.25,fill:"none",markerEnd:"url(#arrow)"},`path-sheng-${S}`)}),p.map(w=>{const S=w.name,j=h?Bse(S,h):null,O=j?Lse.filter(A=>Ise[A]===j).map(A=>[A,t?.[A]??0]):[];return g.jsxs("g",{transform:`translate(${w.x},${w.y})`,children:[g.jsx("circle",{r:40,fill:w.color,className:"stroke-white/20 dark:stroke-black/20",strokeWidth:1}),g.jsx("circle",{r:40,fill:"black",opacity:.05}),g.jsx("text",{textAnchor:"middle",dy:"-5",fontSize:15,className:"fill-white font-black",children:w.name}),g.jsxs("text",{textAnchor:"middle",dy:"15",fontSize:13,className:"fill-white/90 font-bold",children:[w.value,"%"]}),g.jsx("g",{transform:"translate(0, 48)",children:O.map(([A,C],D)=>{const P=A.charAt(0),I=Math.round(C),U=I===0;return g.jsxs("g",{transform:`translate(${(D===0?-1:1)*25}, 0)`,children:[g.jsx("rect",{x:"-21",y:"0",width:"42",height:"21",rx:"10.5",fill:U?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.3)"}),g.jsxs("text",{textAnchor:"middle",y:"14.5",fontSize:12,className:`font-black ${U?"fill-neutral-400 dark:fill-neutral-500":"fill-white"}`,children:[g.jsx("tspan",{children:P}),g.jsx("tspan",{dx:"1",children:I})]})]},A)})})]},w.name)})]}),k&&g.jsxs("div",{className:"w-full mt-6 space-y-3",children:[g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800 text-center",children:g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold",children:k.summary})}),g.jsx("div",{className:"px-4 py-3 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/30 text-center",children:g.jsxs("p",{className:"text-[11.5px] text-blue-700 dark:text-blue-300 font-bold",children:[" ",k.advice]})})]})]})}const Use=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function eA(e){return Math.max(0,Math.min(100,e))}function g7(e){const t=eA(e);return Use.find(r=>t>=r.min&&t<r.max)?.name??""}const Fse=[10,20,35,45,55,65,80];function Hse({value:e}){const[t,n]=_.useState(!1),r=_.useMemo(()=>eA(e),[e]),i=_.useMemo(()=>g7(r),[r]);_.useEffect(()=>{n(!0)},[]);const a=_.useMemo(()=>r>=80?{tag:"",desc:"      .",advice:"  () ()   ."}:r>=55?{tag:"",desc:"      .",advice:"      ."}:r>=45?{tag:"",desc:"        .",advice:"      ."}:r>=20?{tag:"",desc:"       .",advice:"() ()       ."}:{tag:"",desc:"       .",advice:"        ."},[r]);return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"    "}),g.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-tighter",children:"  "})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:r.toFixed(0)}),g.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"%"})]})]}),g.jsxs("div",{className:"relative mb-8 pt-4",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-2 px-1",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"translate-x-1",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-3 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 via-emerald-400 via-yellow-400 to-red-500 opacity-80"}),Fse.map(o=>g.jsx("div",{className:"absolute top-0 h-3 w-[1.5px] bg-white/30 dark:bg-black/20",style:{left:`${o}%`}},o)),g.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-3 bg-white/50 -translate-x-1/2 z-10"}),g.jsx("div",{className:"absolute -top-1.5 h-6 w-3 bg-white dark:bg-neutral-100 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.3)] border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:t?`${r}%`:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"w-1 h-2 bg-neutral-300 rounded-full"})})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`px-3 py-1 rounded-full text-[11px] font-black border-2 ${r>=55?"border-red-500/20 bg-red-50 text-red-600":r>=45?"border-emerald-500/20 bg-emerald-50 text-emerald-600":"border-blue-500/20 bg-blue-50 text-blue-600"}`,children:[a.tag," (",i,")"]}),g.jsx("div",{className:"h-[1px] flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsxs("div",{className:"px-1",children:[g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold leading-snug mb-1",children:a.desc}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed italic",children:[" ",a.advice]})]})]})]})}const TP={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Gse=["year","month","day","hour"],Yse=new Set(["","","","",""]),Kg=new Set(["","","","",""]),AP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qse={:5,:7,:5,:-5,:-7,:-5};function Kse({natal:e,perStemElementScaled:t}){const[n,r]=_.useState(!1);_.useEffect(()=>{const b=setTimeout(()=>r(!0),100);return()=>clearTimeout(b)},[e]);const i=_.useMemo(()=>{if(!t||!e||e.length<4)return null;let b=0,y=0;Object.entries(t).forEach(([K,J])=>{Kg.has(K.charAt(0))?b+=J:y+=J});const k=b+y>0?(b-y)/(b+y):0;let w=0,S=0,j=0,O=0;e.forEach(K=>{[K[0],AP[K[1]]].forEach(J=>{J&&(Yse.has(J)?w+=1:S+=1,Kg.has(J)?j+=1:O+=1)})});const A=w+S>0?(w-S)/(w+S):0,C=j+O>0?(j-O)/(j+O):0;let D=0,P=0;e.forEach((K,J)=>{const Z=Gse[J],Y=TP[Z].stem,X=TP[Z].branch;Kg.has(K[0])?D+=Y:P+=Y;const Q=AP[K[1]];Q&&Kg.has(Q)?D+=X:P+=X});const I=D+P>0?(D-P)/(D+P):0,U=e[1]?.charAt(1),W=(qse[U]||0)/100,q=A*.3+C*.3+k*.2+I*.2+W,H=(Math.min(1,Math.max(-1,q))+1)*50,B=100-Math.abs(H-50)*2;return{yang:H,yin:100-H,essencePos:(A+1)*50,naturePos:(C+1)*50,harmony:B,category:H>=55?"":H<=45?"":""}},[e,t]),a=_.useMemo(()=>{if(!i)return null;const{yang:b,essencePos:y,naturePos:k,category:w,harmony:S}=i,j=Math.abs(y-k);let O="";w===""?O="              .":w===""?O=b>75?"    .       .":"         .":O=b<25?"    .         .":"   .         .";let A="";j<15?A="     .      .":j<40?A="       .    .":A="        .      .";let C="";return S>85?C="    .   .":w===""?C="         .":C="          .",{natureDetail:O,consistencyDetail:A,advice:C}},[i]);if(!i||!a)return null;const{yang:o,yin:l,essencePos:u,naturePos:d,harmony:h,category:p}=i;return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"   "})}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-xl text-center border border-emerald-100 dark:border-emerald-800/50",children:[g.jsx("div",{className:"text-[9px] font-bold text-emerald-600 mb-0.5 uppercase",children:""}),g.jsxs("div",{className:"text-base font-black text-emerald-500 leading-none",children:[h.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"relative mb-14 px-1",children:[n&&g.jsxs("div",{className:"absolute -top-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${u}%`,transform:"translateX(-50%)"},children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-500 mb-1",children:""}),g.jsx("div",{className:"w-[1.5px] h-3 bg-blue-500/40 rounded-full"})]}),g.jsxs("div",{className:"relative w-full h-8 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex overflow-hidden shadow-inner border-[3px] border-white dark:border-neutral-900",children:[g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out",style:{width:n?`${l}%`:"50%"}}),g.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-out",style:{width:n?`${o}%`:"50%"}}),g.jsx("div",{className:"absolute left-1/2 top-0 w-[1px] h-full bg-white/30 -translate-x-1/2 z-10"})]}),n&&g.jsxs("div",{className:"absolute -bottom-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${d}%`,transform:"translateX(-50%)"},children:[g.jsx("div",{className:"w-[1.5px] h-3 bg-red-500/40 rounded-full"}),g.jsx("span",{className:"text-[10px] font-bold text-red-500 mt-1",children:""})]})]}),g.jsxs("div",{className:"space-y-3 mb-5 mt-6",children:[g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.natureDetail})]}),g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.consistencyDetail})]})]}),g.jsxs("div",{className:`text-center py-3 rounded-xl text-[11px] font-bold tracking-tight shadow-sm ${p===""?"bg-red-50 text-red-600 dark:bg-red-950/20":p===""?"bg-blue-50 text-blue-600 dark:bg-blue-950/20":"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/20"}`,children:[" ",a.advice]})]})}function tm(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function fa({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+tm(p,"il"),children:p},`il-${b}`))]})]})}function w2(e){return Array.isArray(e)?e:[]}function Wg(e,t){const n=new Set(w2(e));return w2(t).filter(i=>!n.has(i))}function Wse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=Xv(e),l=$l({natal:e}),u=t?$l({natal:e,daewoon:t}):l,d=n?$l({natal:e,daewoon:t,sewoon:n}):u,h=r?$l({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?$l({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:w2(o[w]),dae:Wg(l[w],u[w]),se:Wg(u[w],d[w]),wol:Wg(d[w],h[w]),il:Wg(h[w],p[w])}),y={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(fa,{label:"",...k(y.cheonganHap)}),g.jsx(fa,{label:"",...k(y.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(fa,{label:"",...k(y.jijiSamhap)}),g.jsx(fa,{label:"",...k(y.jijiBanhap)}),g.jsx(fa,{label:"",...k(y.jijiBanghap)}),g.jsx(fa,{label:"",...k(y.jijiYukhap)}),g.jsx(fa,{label:"",...k(y.amhap)}),g.jsx(fa,{label:"",...k(y.ganjiAmhap)}),g.jsx(fa,{label:"",...k(y.jijiChung)}),g.jsx(fa,{label:"",...k(y.jijiHyeong)}),g.jsx(fa,{label:"",...k(y.jijiPa)}),g.jsx(fa,{label:"",...k(y.jijiHae)})]})}function Vse(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Zse({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Vse(r,t),children:r},`${t}-${i}-${r}`))})}function jP({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Zse,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Xse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=wn(),[l,u]=_.useState(""),[d,h]=_.useState("");_.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=_.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=_.useMemo(()=>af({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:y,bad:k,meta:w}=b,S=q=>q.map(H=>H==="#"?H:` ${H}`),j=(q,H)=>{const B=["natal"];return H===""&&B.push("natal"),H===""&&B.push("natal","dae"),H===""&&B.push("natal","dae","se"),H===""&&B.push("natal","dae","se","wol"),H===""&&B.push("natal","dae","se","wol","il"),q.filter(K=>B.includes(K.source))},O=[{label:"",items:S(y.si),source:"natal"},{label:"",items:S(y.il),source:"natal"},{label:"",items:S(y.wol),source:"natal"},{label:"",items:S(y.yeon),source:"natal"},{label:"",items:y.dae,source:"dae"},{label:"",items:y.se,source:"se"},{label:"",items:y.wolun,source:"wol"},{label:"",items:y.ilun,source:"il"}],A=[{label:"",items:S(k.si),source:"natal"},{label:"",items:S(k.il),source:"natal"},{label:"",items:S(k.wol),source:"natal"},{label:"",items:S(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=j(O,a),D=j(A,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",I=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",U=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",W=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:q=>u(q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:I})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:q=>h(q.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:U}),g.jsx("option",{value:"",children:W})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(jP,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(jP,{title:"()",rows:D})]})]})}const ya={year:0,month:1,day:2,hour:3},b7={[ya.year]:.3,[ya.month]:.5,[ya.day]:.3,[ya.hour]:.3},y7={[ya.year]:.15,[ya.month]:.2,[ya.day]:0,[ya.hour]:.15},Jse=e=>Lm.has(e)?e:er[e]??e,Qse=e=>Jd.has(e)?e:Kn[e]??e,ele=e=>typeof e=="string"&&e.length>=2?Jse(e.slice(-1)):"",tle=e=>typeof e=="string"&&e.length>=1?Qse(e.slice(0,1)):"",An=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),nle={:An(2,0,.5,2),:An(2,0,0,2),:An(2,0,0,2),:An(0,2,2,0),:An(0,2,2,0),:An(0,2,1,2),:An(0,2,2,.5),:An(0,2,2,0),:An(0,2,2,1),:An(2,0,0,2),:An(2,0,0,2),:An(2,0,1,1)},rle={:An(0,1,1,0),:An(0,1,1,0),:An(0,2,2,0),:An(0,2,2,0),:An(0,0,1,0),:An(0,0,0,1),:An(1,0,0,1),:An(1,0,0,1),:An(2,0,0,2),:An(2,0,0,2)},NP=e=>Math.max(0,Math.min(100,e));function OP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function ile(e){let t=0,n=0,r=0,i=0;return[ya.year,ya.month,ya.day,ya.hour].forEach(a=>{const o=nle[ele(e[a])],l=rle[tle(e[a])],u=b7[a],d=y7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function ale(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function ole(e){const t=ale(e);return _.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=ile(t),o=OP(n,r),l=OP(a,i);return{hanNanPct:NP(o),joSeupPct:NP(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:b7,stem:y7}}},[t])}function CP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i,gradientClass:a}){const[o,l]=_.useState(!1),u=_.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),d=[20,35,50,65,80];return _.useEffect(()=>{l(!0)},[]),g.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-neutral-900 rounded-3xl shadow-sm border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[11px] font-black text-neutral-400 uppercase",children:e}),g.jsxs("span",{className:"text-sm font-black dark:text-white",children:[u.toFixed(0),"%"]})]}),g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-1.5 px-0.5",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-2.5 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:`absolute inset-0 rounded-full opacity-80 ${a}`}),d.map(h=>g.jsx("div",{className:"absolute top-0 h-2.5 w-[1px] bg-white/20 dark:bg-black/10",style:{left:`${h}%`}},h)),g.jsx("div",{className:"absolute -top-1.5 h-5 w-2.5 bg-white dark:bg-neutral-100 rounded-full shadow-md border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:o?`${u}%`:"50%",transform:"translateX(-50%)"}})]})]})}function sle({natal:e}){const{hanNanPct:t,joSeupPct:n}=ole(e),r=_.useMemo(()=>{let i="";return t>60?i+="   , ":t<40?i+="   , ":i+="    , ",n>60?i+="     .":n<40?i+="      .":i+="     .",i},[t,n]);return g.jsxs("div",{className:"w-full space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx(CP,{label:" ()",percent:t,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-blue-500 via-neutral-200 to-red-500"}),g.jsx(CP,{label:" ()",percent:n,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-teal-600 via-neutral-200 to-orange-600"})]}),g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11.5px] text-neutral-600 dark:text-neutral-400 leading-relaxed text-center font-medium",children:[g.jsx("span",{className:"text-neutral-400 mr-2",children:" :"}),r]})})]})}const Zr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ny={:"",:"",:"",:"",:""},v7={:"",:"",:"",:"",:""},Zm={:"",:"",:"",:"",:""},x7={:"",:"",:"",:"",:""},cle={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},ule={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function tA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function w7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function nA(e){return e==="hgc"?ule:cle}const dle={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},E1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},_7={:"",:"",:"",:"",:""},S7={:"",:"",:"",:""},fle=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],hle=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],mle={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Qe=(e,t)=>`${e}${t}`,$i=(e,t,n)=>`${e}${t}${n}`,ple={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},MP={[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:["",""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""],[Qe("","")]:[""]},DP={[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:[""],[$i("","","")]:["",""]},gle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function va(e){return["","","","",""].includes(e)}function ble(e){return["","","","","",""].includes(e)}const T1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ma=e=>e&&e.length>=1?e.charAt(0):"",Dn=e=>e&&e.length>=2?e.charAt(1):"",yle=e=>Array.from(new Set(e));function vle(e,t){const n=dle[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function xle(e){return Zr[e]??""}function Va(e,t){const n=Zr[e],r=Zr[t];if(!n||!r)return"";let i;r===n?i="":r===Ny[n]?i="":r===Zm[n]?i="":r===x7[n]?i="":r===v7[n]?i="":i="";const a=va(e)===va(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function wle(e,t){const n=Zr[e],r=Wa[t];if(!n||!r)return"";let i;r===n?i="":r===Ny[n]?i="":r===Zm[n]?i="":r===x7[n]?i="":r===v7[n]?i="":i="";const a=ble(t)===va(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function _le(e){return{:"",:"",:"",:"",:""}[e]??""}function _2(e,t){const n=xle(e),r=va(e);let i;t===n?i="":Ny[n]===t?i="":Ny[t]===n?i="":Zm[n]===t?i="":Zm[t]===n?i="":i="";const a=r===va(_le(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const Sle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kle=e=>/^(|||||||||)$/.test(e);function Ele(e){return e?kle(e)?e:Sle[e]??"":""}function Vg(e){return Ele(ma(e))}function Tle(e){return e?.charAt(0)??""}function Ale(e){return e?.charAt(1)??""}function jle(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(Wa)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&h.has(fe)),b=l(a),y=mle[b]??!1,k=new Set,w=t==="classic"?Rv:Lv,S=new Set(["","","","","","","","","",""]),j=fe=>(w[fe]??[]).filter(Ce=>S.has(Ce)),O=(fe,Ce)=>{const Ge=Wa[Ce];return Ge?_2(fe,Ge):null},A={:0,:0,:0,:0,:0};for(const fe of d){const Ce=Zr[fe];Ce&&(A[Ce]+=10)}const C=[];for(const fe of p){const Ce=lle[fe];Ce&&C.push(Ce);const Ge=Wa[fe];Ge&&(A[Ge]+=6)}const P=[...d,...C].map(fe=>Va(b,fe)),I={:["",""],:["",""],:["",""],:["",""],:["",""]},U=fe=>P.filter(Ce=>Ce===fe).length,W=fe=>P.filter(Ce=>I[fe].includes(Ce)).length,q=p[1],H=!!b&&gle[b]===q,B=n.elementPercent100;B.>=20&&B.>=20&&B.>=15&&k.add("");const K=[r,i,a,o].filter(Boolean),J=[];for(const fe of K){const Ce=fe.charAt(0),Ge=fe.charAt(1);J.push(Va(b,Ce)),J.push(O(b,Ge))}const Z=(fe,Ce)=>{const Ge=(Se,Pe)=>!!Se&&!!Pe&&fe.includes(Se)&&Ce.includes(Pe)||Ce.includes(Se)&&fe.includes(Pe);for(let Se=0;Se+1<J.length;Se+=2)if(Ge(J[Se],J[Se+1]))return!0;return!1},Y=fe=>J.some(Ce=>!!Ce&&fe.includes(Ce)),X=U("")+U(""),Q=U(""),ce=W(""),ie=W(""),z=Z(["",""],["",""]);if((Q>=1||X>=2)&&ce>=1&&X>ce&&ie<=1&&z&&k.add(""),Y(I.)&&Y(I.)&&Z(I.,I.)){const fe=P.includes("");k.add(fe?"":"")}W("")>=2&&W("")>=2&&Math.abs(W("")-W(""))<=1&&W("")<=1&&W("")<=1&&k.add("");const V=U(""),ne=U(""),oe=U("")+U(""),de=U("")+U(""),me=W("");ne>=2&&oe>=1&&A.+A.>=20&&k.add(""),ne>=2&&de>=1&&A.+A.>=20&&k.add(""),ne>=2&&de>=1&&A.+A.>=20&&Z([""],["",""])&&me<=1&&k.add(""),V>=2&&de>=1&&A.+A.>=20&&Z([""],["",""])&&me<=1&&k.add("");const ye=(fe,Ce)=>{const Ge=Zr[fe],Se=Wa[Ce];return!!Ge&&!!Se&&Ge===Se},Ne=[r,i,a,o].filter(Boolean),ae=u(a),Ee=ye(b,ae),xe=Ne.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(Va(b,fe)));let se=!1;for(const fe of Ne){const Ce=fe.charAt(0),Ge=fe.charAt(1);if(xe.includes(Ce)&&ye(Ce,Ge)){se=!0;break}}Ee&&se&&k.add(""),W("")>=3&&W("")>=.5*(W("")+W("")+W("")+W(""))&&k.add(""),W("")>=3&&W("")>=.5*(W("")+W("")+W("")+W(""))&&k.add(""),W("")>=3&&W("")>=1&&k.add(""),W("")>=3&&W("")+W("")<=1&&k.add("");const Ue=U("");W("")+W("")>=2&&Ue===1&&W("")>=1&&k.add(""),Ue>=2&&oe+W("")>=3&&k.add("");const Ke=V+ne;(V>=2||Ke>=2)&&de>=1&&Ke>de&&k.add(""),ne>=2&&de>=1&&Ke>de&&k.add("");const Je=U(""),Oe=U("");Je>=2&&Ue+Oe>=1&&k.add(""),Je>=2&&Ue+Oe===0&&k.add(""),y&&Je>=2&&Ue>=1&&k.add(""),!y&&Je>=2&&Ue>=1&&k.add(""),U("")>=2&&U("")>=1&&k.add(""),U("")>=1&&U("")>=1&&Z([""],[""])&&k.add(""),H&&Ue>=1&&W("")+W("")>=2&&k.add("");const $e=[u(r),u(i),u(a),u(o)].filter(Boolean),Fe=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),Be=new Set(Fe.map(fe=>Va(b,fe))),bt=new Set($e.flatMap(fe=>{const Ce=Wa[fe];return Ce?[_2(b,Ce)]:[]})),Rt=new Set($e.flatMap(fe=>j(fe).map(Ce=>Va(b,Ce))));return["","","","",""].forEach(fe=>{const Ce=I[fe],Ge=Ce.some(ze=>Be.has(ze)),Se=Ce.some(ze=>bt.has(ze)),Pe=Ce.some(ze=>Rt.has(ze));!Ge&&!Se&&!Pe?k.add(`${fe}`):!Ge&&!Se&&Pe&&k.add(`${fe}`)}),Array.from(k)}const Nle=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ma(n),i=Dn(n),a=Zr[r],o=Wa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function Ole(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[ma(a),ma(o),ma(l),ma(u)].filter(Boolean),h=[Dn(a),Dn(o),Dn(l),Dn(u)].filter(Boolean),p=Zr[n],b=d.map(fe=>Va(n,fe)),y=[],k=fe=>d.filter(Ce=>Ce===fe).length,w=fe=>h.filter(Ce=>Ce===fe).length,S=fe=>fe.every(Ce=>h.includes(Ce)),j=fe=>b.some(Ce=>fe.includes(Ce)),O=ma(o),A=fe=>va(fe),C=()=>{const fe=d.map(Ce=>Zr[Ce]);return fe.length===4&&fe.every(Ce=>Ce===fe[0])},D=()=>{if(d.length!==4)return!1;const fe=d.map(A),Ce=fe[0]&&!fe[1]&&fe[2]&&!fe[3],Ge=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Ce||Ge};va(n)&&_7[n]===r&&y.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Ce]of P)if(n===fe&&r===Ce){y.push("");break}!va(n)&&S7[n]===r&&y.push("");const I=E1[n];I&&Dn(l)===I&&p===Wa[Dn(l)]&&y.push(""),I&&Dn(u)===I&&p===Wa[Dn(u)]&&y.push("");const U=[a,o,l,u].map(Tle),W=[a,o,l,u].map(Ale);for(const fe of U);for(const fe of W);const q=i==="hgc"?Lv:Rv;function H(fe){return(q[fe]??[]).filter(Ce=>["","","","","","","","","",""].includes(Ce))}const B=[a,o,l,u].filter(Boolean),J=B.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[Va(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Ce=wle(n,fe),Ge=H(fe).map(Se=>Va(n,Se));return[Ce,...Ge]}return[]}catch{return[]}}),Z=fe=>J.some(Ce=>fe.includes(Ce)),Y=(fe,Ce)=>{const Ge=[],Se=[];for(const ze of B){const lt=ze.charAt(0),gt=ze.charAt(1);Ge.push(Va(n,lt));const Kt=Wa[gt];Kt?Se.push(_2(n,Kt)):Se.push(null)}const Pe=(ze,lt)=>!!ze&&!!lt&&(fe.includes(ze)&&Ce.includes(lt)||Ce.includes(ze)&&fe.includes(lt));for(let ze=0;ze<Ge.length;ze++)if(Pe(Ge[ze],Se[ze]))return!0;for(let ze=0;ze<Ge.length-1;ze++)if(Pe(Ge[ze],Ge[ze+1])||Pe(Se[ze],Se[ze+1]))return!0;return!1},X={:["",""],:["",""],:["",""],:["",""]};Z([...X.])&&Z([...X.])&&Y([...X.],[...X.])&&y.push(""),Z([...X.])&&Z([...X.])&&Y([...X.],[...X.])&&y.push("");const Q=fe=>b.filter(Ce=>fe.includes(Ce)).length,ce=Q(["",""]),ie=Q([""]),z=Q([""]),V=Q(["",""]),ne=Q(["",""]),oe=Q(["",""]);ie>=1&&ce>=1&&ce>=ie&&z<=ie&&y.push("");const de=Q([""]);de>=1&&V>=1&&de>=V&&y.push(""),b.includes("")&&V>=1&&y.push("");const ye=Nle(t),Ne=Object.entries(ye).sort((fe,Ce)=>Ce[1]-fe[1]),ae=Ne[0];if(ae&&ae[1]>=60&&y.push(`(${ae[0]})`),Ne.length>=2){const[fe,Ce]=Ne[0],[,Ge]=Ne[1];Ce>=75&&Ce-Ge>=12&&p!==fe&&y.push(`(${fe})`)}for(const fe of fle){const Ce=d.includes(fe.a),Ge=d.includes(fe.b);if(!Ce||!Ge)continue;const Se=fe.to,Pe=ye[Se]??0,ze=Zr[fe.a],lt=Zr[fe.b],gt=Math.max(ye[ze]??0,ye[lt]??0),Kt=Wa[r]===Se,ar=Object.entries(ye).sort((sn,xr)=>xr[1]-sn[1])[0]?.[0]===Se;let or=!1;Pe>=60&&(Kt||ar)&&gt<=20&&Pe-gt>=20&&(y.push(`(${Se})`),or=!0),!or&&Pe>=50&&(Kt||ar)&&gt<=25&&(y.push(`(${Se})`),or=!0),!or&&Pe>=35&&y.push(`(${Se})`)}const Ee=`${ma(u)}${Dn(u)}`;["",""].includes(n)&&["","",""].includes(Ee)&&y.push(""),["","","",""].includes(Dn(u))&&y.push(""),["",""].includes(n)&&(Dn(l)===""||Dn(o)==="")&&!h.includes("")&&y.push("");const xe=d.some(fe=>fe===""||fe===""),se=h.some(fe=>fe===""||fe==="");["",""].includes(Dn(l))&&!xe&&!se&&y.push(""),["","",""].every(fe=>d.includes(fe))&&y.push(""),["","",""].every(fe=>d.includes(fe))&&y.push(""),["","",""].every(fe=>d.includes(fe))&&y.push("");const Ue=Object.values(ye).sort((fe,Ce)=>Ce-fe);Ue.length>=3&&Ue[0]-Ue[2]<=8&&Ue[0]+Ue[1]+Ue[2]>=80&&y.push(""),ne>=1&&oe>=1&&Math.abs(ne-oe)<=1&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),h.length===4&&h.every(fe=>fe===h[0])&&y.push(""),d.length===4&&C()&&D()&&y.push(""),t.every(fe=>fe&&fe===t[0])&&y.push(""),d.length===4&&d.every(fe=>fe===d[0])&&h.length===4&&h.every(fe=>fe===h[0])&&y.push(""),ce>=1&&(Dn(l)===E1[n]||Dn(u)===E1[n])&&y.push(""),k("")>=3&&S(["","",""])&&["","",""].includes(Dn(l))&&y.push("");const Je=n===""||n==="",Oe=[["","",""],["","",""]],$e=[["","",""],["","",""]];Je&&(Oe.some(fe=>S(fe))||$e.some(fe=>S(fe)))&&y.push("");const Fe=new Set(["","","","","",""]),Be=`${ma(l)}${Dn(l)}`;if(Fe.has(Be)&&w("")>=2&&(j(["",""])||h.includes("")||h.includes("")||j(["",""])||y.push("")),new Set(["","","","","",""]).has(Be)&&w("")>=2&&h.includes("")&&y.push(""),n===""&&`${ma(u)}${Dn(u)}`==""){const fe=Va(n,O);!["","","",""].includes(fe)&&j(["",""])&&!h.includes("")&&!h.includes("")&&y.push("")}return new Set(["","",""]).has(Be)&&`${ma(u)}${Dn(u)}`==""&&!h.includes("")&&!j(["",""])&&y.push(""),Be===""&&w("")+w("")>=2&&y.push(""),(Be===""||Be==="")&&w("")>=2&&!j(["",""])&&!h.includes("")&&y.push(""),n===""&&S(["","",""])&&y.push(""),Be===""&&`${ma(u)}${Dn(u)}`==""&&y.push(""),yle(y)}function Cle(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function Mle(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const PP=1e3*60*60*24;function Zg(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function Dle(e){let t=Si(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=Si(r)}return t}function Ple(e){const t=ple[e];return Array.isArray(t)&&t.length>0?t[0]:null}function Rle(e,t){const n=Ple(e);if(!n)return null;const r=Dle(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((Zg(t)-Zg(a))/PP)+1,u=o?Math.max(1,Math.floor((Zg(o)-Zg(a))/PP)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Lle(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Ile(e,t,n){const r=Math.max(1,Lle(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function k7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=w7(u),p=nA(h);if(!tA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const y={:b.?{stem:T1(b..stem),w:b..w}:void 0,:b.?{stem:T1(b..stem),w:b..w}:void 0,:{stem:T1(b..stem),w:b..w}},k=y..stem;let w=k;const S=Rle(n,r);if(["","","",""].includes(n)&&vle(n,o)&&y.)w=y..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(S){const B=Ile(y,S.dayIdx,S.spanDays);w=B.stem,d.push({kind:"BUNIL_PICK",from:B.from})}else w=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function j(B,K){if(!B)return!1;if(K.includes(B))return!0;const J=Zr[B];return J?K.some(Z=>Zr[Z]===J):!1}let O="";w&&j(w,a)&&!l?.(w)?(O=w,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&d.push({kind:"NEUTRALIZED"});const A=O||k;let C="";const D=Zr[A];if(D){const B=Object.entries(Zm).find(([,K])=>K===D)?.[0]??null;B&&(C=Object.entries(Zr).find(([J,Z])=>Z===B&&va(J)===va(A))?.[0]??"")}let P="-";const I=Va(t,A),U=hle.some(([B,K])=>B===t&&K===n),W=va(t)&&_7[t]===n,q=!va(t)&&S7[t]===n;I===""||I===""?U?(P="",d.push({kind:"EX_GEONLOK"})):W?(P="",d.push({kind:"EX_YANGIN"})):q?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=Mle(I);const H=Ole({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:w,:O||"-",:A||"-",:C||"-",:P,:H,reason:Cle(d),reasonTokens:d}}function $le(e){const[t,n,r,i]=e,a=Vg(i),o=Vg(r),l=Vg(n),u=Vg(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,y]of h){if(!b||!y)continue;const k=Qe(b,y),w=MP[k];w?.length&&d.push(...w);const S=Qe(y,b);if(S!==k){const j=MP[S];j?.length&&d.push(...j)}}const p=[[a,o,l],[o,l,u]];for(const[b,y,k]of p){if(!b||!y||!k)continue;const w=$i(b,y,k),S=DP[w];S?.length&&d.push(...S);const j=$i(k,y,b);if(j!==w){const O=DP[j];O?.length&&d.push(...O)}}return Array.from(new Set(d))}const Ble=["","","","",""];function zle(e){return Ble.includes(e)}function Ule(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function nm(e,t){if(!t)return e;const n=(zle(t),t);return`${e}(${n})`}const Fle={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Hle={:e=>({title:nm("",e),short:"     ."}),:e=>({title:nm("",e),short:"   ."}),:e=>({title:nm("",e),short:"   ."}),:e=>({title:nm("",e),short:"    ."}),:e=>({title:nm("",e),short:"    ."})};function Gle(e){const{base:t,inner:n}=Ule(e);return t===""||t===""||t===""||t===""||t===""?Hle[t](n):Fle[t]}function Yle(e){const t=Gle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const qle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),RP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Kle(e){if(qle(RP,e))return RP[e]}const LP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Wle={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Vle(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Zle(e,t){return e===""?{title:`${t}`,short:`${LP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${LP[t]}()     .`,hint:" X /  O"}}function Xle(e){const t=Vle(e);return t?Zle(t.kind,t.group):Wle[e]}function Jle(e){const t=Xle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Qle={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function ece(e){return Qle[e]?.text}const tce=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},nce={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},rce={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},ice=e=>e.replace(/^\s*:\s*/,"").trim();function ace(e){const t=ice(e);return rce[t]}function oce(e){const t=nce[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${tce(e.from)})`}:t}const Yc=_.memo(({text:e,color:t,onClick:n})=>{const r={violet:"bg-violet-50 text-violet-700 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-800",amber:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",blue:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",green:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",red:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"};return g.jsx("button",{type:"button",onClick:n,className:`px-2.5 py-1 text-[11px] font-bold rounded-lg border shadow-sm whitespace-nowrap active:scale-95 transition-transform cursor-pointer ${r[t]}`,children:e})}),Ad=({text:e})=>g.jsxs("div",{className:"absolute z-50 left-0 top-full mt-2 w-[220px] p-3 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 text-[11px] leading-relaxed text-left text-neutral-700 dark:text-neutral-200 pointer-events-none transition-none",children:[g.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white dark:bg-neutral-800 border-t border-l border-neutral-200 dark:border-neutral-700 rotate-45"}),e]}),Xg=_.memo(({title:e,children:t})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"text-[10px] font-black text-neutral-400 dark:text-neutral-500 uppercase pl-1",children:e}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t})]}));function sce({pillars:e,tab:t,birthDate:n,emittedStems:r,otherBranches:i,isNeutralized:a,mapping:o,unified:l}){const[u,d]=_.useState(null);_.useEffect(()=>{d(null)},[t,e]);const h=_.useMemo(()=>{const[w,S,j,O]=e,A=U=>U&&U.length>=1?U.charAt(0):"",C=U=>U&&U.length>=2?U.charAt(1):"",D=n instanceof Date&&!Number.isNaN(n.getTime())?n:new Date,P=[A(w),A(S),A(j),A(O)].filter(U=>!!U),I=[C(w),C(j),C(O)].filter(U=>!!U);return k7({dayStem:A(j),monthBranch:C(S),date:D,pillars:e,emittedStems:r??P,otherBranches:i??I,isNeutralized:a,mapping:o})},[e,n,r,i,a,o]),p=_.useMemo(()=>$le(e),[e]),b=_.useMemo(()=>jle(e,o,l),[e,o,l]),y=w=>{d(S=>S===w?null:w)},k=[{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.}];return g.jsxs("div",{className:"p-6 rounded-[2rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-sm space-y-6 overflow-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-black text-lg text-neutral-800 dark:text-neutral-100 italic",children:"   "}),g.jsx("span",{className:"text-[10px] bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-0.5 rounded-full font-bold",children:"     "})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx(Xg,{title:"////",children:k.map(({key:w,value:S})=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:`${w}: ${S||"-"}`,color:"violet",onClick:()=>y(`env-${w}`)}),u===`env-${w}`&&g.jsx(Ad,{text:ece(w)??" ."})]},w))}),g.jsxs(Xg,{title:"",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:`: ${h.||"-"}`,color:"amber",onClick:()=>y("naegyeok")}),u==="naegyeok"&&g.jsx(Ad,{text:ace(h.||"")?.text??"  ."})]}),h.reasonTokens?.map((w,S)=>{const j=oce(w),O=`reason-${S}`;return g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:j?.title??(h.reason[S]||w.kind),color:"amber",onClick:()=>y(O)}),u===O&&g.jsx(Ad,{text:j?.text??"  ."})]},O)})]}),g.jsx(Xg,{title:"",children:h.&&h..length>0?h..map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:`: ${w}`,color:"blue",onClick:()=>y(`outer-${S}`)}),u===`outer-${S}`&&g.jsx(Ad,{text:Yle(w)??" "})]},`outer-${S}`)):g.jsx(Yc,{text:": -",color:"blue"})}),(p.length>0||b.length>0)&&g.jsxs(Xg,{title:"  ",children:[p.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:w,color:"green",onClick:()=>y(`mul-${S}`)}),u===`mul-${S}`&&g.jsx(Ad,{text:Kle(w)??" "})]},`mul-${S}`)),b.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Yc,{text:w,color:"red",onClick:()=>y(`str-${S}`)}),u===`str-${S}`&&g.jsx(Ad,{text:Jle(w)??" "})]},`str-${S}`))]})]}),!h.reasonTokens?.length&&h.reason.length>0&&g.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-medium",children:[g.jsx("span",{className:"font-bold mr-1 text-neutral-400",children:"  :"}),h.reason.join(" / ")]})})]})}const lce=Object.fromEntries(so..map((e,t)=>[e,Qr[t]])),cce=Object.fromEntries(Qr.map((e,t)=>[e,so.[t]])),uce=Object.fromEntries(so..map((e,t)=>[e,wi[t]])),dce=Object.fromEntries(wi.map((e,t)=>[e,so.[t]])),fce=e=>lce[e]??e,hce=e=>uce[e]??e,mce=e=>cce[e]??e,pce=e=>dce[e]??e;function gce(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?fce(n):mce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function rA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?hce(n):pce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const bce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},E7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},vce={...E7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},IP=gce(bce),$P=rA(yce);rA(E7);rA(vce);const xce=["","","","",""];function wce(){const[e,t]=_.useState("   "),[n,r]=_.useState(""),[i,a]=_.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const _ce={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Sce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function T7(e){const t=Sce[e]??"";return _ce[t]}const kce=Object.fromEntries(so..map((e,t)=>[e,Qr[t]])),Ece=Object.fromEntries(Qr.map((e,t)=>[e,so.[t]])),Tce=Object.fromEntries(so..map((e,t)=>[e,wi[t]])),Ace=Object.fromEntries(wi.map((e,t)=>[e,so.[t]])),jce=e=>kce[e]??e,Nce=e=>Tce[e]??e,Oce=e=>Ece[e]??e,Cce=e=>Ace[e]??e;function A7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${jce(r)}${Nce(i)}`:`${Oce(r)}${Cce(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const j7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Mce={...j7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},Dce=A7(j7),Pce=A7(Mce),S2={:"",:"",:"",:"",:""},k2={:"",:"",:"",:"",:""},E2={:"",:"",:"",:"",:""},T2={:"",:"",:"",:"",:""},Rce=e=>Kn[e]??e,Lce=e=>er[e]??e;function N7(e){return!e||e.length<2?"":`${Rce(e[0])}${Lce(e[1])}`}const O7=e=>e&&e.length>=1?e[0]:"",C7=e=>e&&e.length>=2?e[1]:"";function Ice(e){return{:e,:S2[e],:k2[e],:E2[e],:T2[e]}}const rm={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""]},M7={:rm.??[],:rm.??[],:rm.??[],:rm.??[],:rm.??[]};function $ce(e,t){const n=(e??[]).slice(0,4).map(N7);if(n.length!==4||n.some(h=>h.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=O7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(h=>C7(h)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=a[1],u=Ice(i),d=[a[0],a[2],a[3]].filter(Boolean);return Object.keys(o).forEach(h=>{const p=u[h],b=M7[p]??[];b.includes(l)&&(o[h].=!0),d.some(y=>b.includes(y))&&(o[h].=!0),o[h].=(t[p]??0)>=30}),{flags:o,monthBranch:l,dayEl:i}}function D7(e,t){const n=(e??[]).slice(0,4).map(N7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const p={:!1,:!1,:!1};return{flags:{:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p},:{...p}},monthBranch:"",dayEl:""}}const r=O7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(p=>C7(p)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=a[1],d=[a[0],a[2],a[3]].filter(Boolean),h={:i,:i,:S2[i],:S2[i],:E2[i],:E2[i],:T2[i],:T2[i],:k2[i],:k2[i]};return Object.keys(l).forEach(p=>{const b=h[p],y=M7[b]??[];y.includes(u)&&(l[p].=!0),d.some(k=>y.includes(k))&&(l[p].=!0),l[p].=(t[b]??0)>=30}),{flags:l,monthBranch:u,dayEl:i}}const Bce=Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e])),zce=Object.fromEntries(Object.entries(er).map(([e,t])=>[t,e])),Uce=e=>Kn[e]??e,Fce=e=>er[e]??e;function Hce(e){return!e||e.length<2?"":`${Uce(e[0])}${Fce(e[1])}`}function qc(e){return IP[e]??IP[Bce[e]??""]}function Kc(e){return $P[e]??$P[zce[e]??""]}const A1=["year","month","day","hour"],Gce={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Yce={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},qce=new Set(["","","","",""]),Kce=new Set(["","","","","",""]),Wce=new Set(["","","",""]),j1=e=>qce.has(e)?"":"",N1=e=>{const t=Kce.has(e)?"":"";return Wce.has(e)?t===""?"":"":t};function BP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Vce(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const Jg={:.15,:.1,:-.15,:-.2,:-.25},Ms={:"",:"",:"",:"",:""},xu={:"",:"",:"",:"",:""},$o={:"",:"",:"",:"",:""},ex={:"",:"",:"",:"",:""};function Qg(e,t){return e===t?"":Ms[t]===e?"":Ms[e]===t?"":$o[e]===t?"":$o[t]===e?"":""}const Wc=e=>e&&e.length>=1?e[0]:"",Vc=e=>e&&e.length>=2?e[1]:"";function Zce(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function zP(e,t){switch(e){case"":return t;case"":return Ms[t];case"":return $o[t];case"":return ex[t];case"":return xu[t];default:return t}}const UP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xce=["","","","",""],Jce={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},FP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Qce={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function eue(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function tue(e){const t=Xce.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...FP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Jce},PerTenGodSub:{...FP},elementScoreRaw:e,deukFlags:{...Qce},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function nue(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function A2(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Gce:Yce,d=r==="classic"?Pce:Dce,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(Hce);if(!eue(b))return tue(h);const{dayStem:y,dayEl:k}=nue(b,n),w=[{val:0},{val:0},{val:0},{val:0}],S=[[],[],[],[]];for(const z of b){if(!z)continue;const V=z.charAt(0),ne=z.charAt(1);p[V]=(p[V]??0)+50;const oe=UP[ne];oe&&(p[oe]=(p[oe]??0)+50)}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=A1[z],oe=Wc(V),de=Vc(V),me=u[ne],ye=qc(oe);ye&&(h[ye]+=me.stem,w[z]={stem:oe,el:ye,pol:j1(oe),val:me.stem});const Ne=Kc(de);Ne&&(h[Ne]+=me.branch,S[z].push({el:Ne,pol:N1(de),val:me.branch}))}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=A1[z],oe=d[V]??0;if(oe===0)continue;const de=Wc(V),me=qc(de);if(!me)continue;const ye=u[ne].stem*oe;h[me]+=ye,w[z].val+=ye}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Vc(V),oe=Kc(ne);if(!oe)continue;const de=u[A1[z]].branch,me=N1(ne);let ye=0;const Ne=[z];z-1>=0&&Ne.push(z-1),z+1<=3&&Ne.push(z+1),z-2>=0&&Ne.push(z-2),z+2<=3&&Ne.push(z+2);const ae=Array.from(new Set(Ne));for(const Ee of ae){if(!b[Ee]||b[Ee].length<2)continue;const xe=Wc(b[Ee]),se=qc(xe);if(!se||se!==oe)continue;const Ue=j1(xe)===me,Ke=Math.abs(Ee-z),Je=Vce(Ke,Ue);ye+=de*Je}ye!==0&&(h[oe]+=ye,S[z].push({el:oe,pol:me,val:ye}))}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Wc(V),oe=qc(ne);if(!oe)continue;let de=0;const me=Vc(b[z]),ye=Kc(me);ye&&(de+=Jg[Qg(oe,ye)]);const Ne=z===0?[1]:z===3?[2]:[z-1,z+1];for(const Ee of Ne){const xe=Wc(b[Ee]),se=qc(xe);se&&(de+=Jg[Qg(oe,se)])}const ae=w[z].val;if(ae!==0&&de!==0){const Ee=Math.round(ae*(1+de)*10)/10,xe=Ee-ae;h[oe]+=xe,w[z].val=Ee}}for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Vc(V),oe=Kc(ne);if(!oe)continue;let de=0;const me=Wc(b[z]),ye=qc(me);ye&&(de+=Jg[Qg(oe,ye)]);const Ne=z===0?[1]:z===3?[2]:[z-1,z+1];for(const Ee of Ne){if(!b[Ee]||b[Ee].length<2)continue;const xe=Vc(b[Ee]),se=Kc(xe);se&&(de+=Jg[Qg(oe,se)])}const ae=S[z].reduce((Ee,xe)=>Ee+xe.val,0);if(ae!==0&&de!==0){const xe=Math.round(ae*(1+de)*10)/10-ae;h[oe]+=xe,S[z].length>0&&(S[z][0].val+=xe)}}a&&mae(b,h);const j={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},O=[];if(!(!l||l.tab==="")){let z=function(V,ne){const oe=V?Le(V):"";if(!oe||oe.length<2)return;const de=Wc(oe),me=Vc(oe),ye=qc(de),Ne=Kc(me),ae=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Ee=j[ne];if(ye){const xe=Math.round(ae*Ee.stem);h[ye]+=xe,O.push({stem:de,el:ye,pol:j1(de),val:xe})}if(Ne){const xe=Math.round(ae*Ee.branch);h[Ne]+=xe,O.push({el:Ne,pol:N1(me),val:xe})}};z(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&z(l.se,"se"),(l.tab===""||l.tab==="")&&z(l.wol,"wol"),l.tab===""&&z(l.il,"il")}const A={:0,:0,:0,:0,:0};Object.entries(h).forEach(([z,V])=>{const ne=W(z,k);A[ne]+=V});const C=["","","","",""],D=BP(C.map(z=>A[z])),P=T7(y),I=C.map((z,V)=>({name:z,value:D[V],color:P[z]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function W(z,V){return z===V?"":Ms[V]===z?"":$o[V]===z?"":$o[z]===V?"":xu[V]===z?"":""}function q(z,V){switch(W(z,k)){case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break}}Object.entries(h).forEach(([z,V])=>{V>0&&q(z,V)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const z of C){const V=I.find(Ne=>Ne.name===z)?.value??0,ne=H[z].a,oe=H[z].b,de=U[ne]??0,me=U[oe]??0,ye=de+me;if(ye>0){const Ne=Math.floor(V*de/ye+.5),ae=V-Ne;H[z].aVal=Ne,H[z].bVal=ae}else H[z].aVal=Math.floor(V/2+.5),H[z].bVal=V-H[z].aVal}const{flags:B}=$ce(b,h),K={};w.forEach(z=>{if(z.stem&&z.el&&z.val){const V=`${z.stem}${z.el}`;K[V]=(K[V]??0)+z.val}});for(let z=0;z<4;z++){const V=b[z];if(!V||V.length<2)continue;const ne=Vc(V),oe=UP[ne],de=Kc(ne);if(!oe||!de)continue;const me=`${oe}${de}`,ye=S[z].reduce((Ne,ae)=>Ne+ae.val,0);K[me]=(K[me]??0)+ye}const J=["","","","","","","","","",""],Z={};J.forEach(z=>{Z[z]=0}),C.forEach(z=>{const V=I.find(ae=>ae.name===z)?.value??0,ne=zP(z,k),oe=Object.entries(K).filter(([ae])=>ae.endsWith(ne)),de=oe.map(([ae])=>ae),me=oe.map(([,ae])=>ae),ye=Math.max(0,Math.round(V*10)),Ne=Zce(me.length?me:[1,1],ye);if(de.length===2)Z[de[0]]=(Ne[0]??Math.round(ye/2))/10,Z[de[1]]=(Ne[1]??ye-(Ne[0]??0))/10;else if(de.length===1)Z[de[0]]=ye/10;else{const ae=ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:["",""],Ee=Math.floor(ye/2),xe=ye-Ee;Z[ae[0]]+=Ee/10,Z[ae[1]]+=xe/10}});const Y=["","","","",""],X={:0,:0,:0,:0,:0};for(const z of I){const V=zP(z.name,k);X[V]+=z.value}const Q=BP(Y.map(z=>X[z])),ce={:Q[0],:Q[1],:Q[2],:Q[3],:Q[4]};return i&&console.log({elementScore:h,totals:I,perTenGod:H,perStemRaw:K,perStemElementScaled:Z,elementPercent100:ce}),{overlay:{totalsSub:U,perStemAugBare:K,perStemAugFull:Z},totals:I,perTenGod:H,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:h,deukFlags:B,perStemElement:K,perStemElementScaled:Z,elementPercent100:ce}}const eb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rue=["","","","",""];function HP(e){return rue.includes(e)}const iue={:"",:"",:"",:"",:""},aue={:"",:"",:"",:"",:""},oue={:"",:"",:"",:"",:""},sue={:"",:"",:"",:"",:""},j2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},lue=["","","","","","","","","",""],cue={natal:50,dae:30,se:20,wol:7,il:3};function Oy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Kn[t])return Kn[t];if(["","","","","","","","","","","",""].includes(t))return eb[t]??null;if(er[t])return eb[er[t]]??null;const n=t.charAt(0);return Kn[n]?Kn[n]:["","","","","","","","","",""].includes(n)?n:er[n]?eb[er[n]]??null:["","","","","","","","","","","",""].includes(n)?eb[n]??null:null}function uue(e,t){const n=j2[e],r=j2[t];if(!n||!r)return"";let i;r===n?i="":r===iue[n]?i="":r===aue[n]?i="":r===oue[n]?i="":r===sue[n]?i="":i="";const a=HP(e)===HP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Cy(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function GP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Oy(r);if(!a)continue;const o=uue(t,a);n[o]+=i}return Cy(n)}function due(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function YP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Oy(n);i&&(t[i]=(t[i]??0)+r)}return t}function qP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of lue){const i=j2[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function KP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function fue(e,t){const n=t?.dae?tb(t.dae):{},r=t?.se?tb(t.se):{},i=t?.wol?tb(t.wol):{},a=t?.il?tb(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=cue[d];if(!h||Object.keys(h).length===0)continue;const b=Cy(h);for(const[y,k]of Object.entries(b))o[y]=(o[y]??0)+k*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function hue(e){if(!e)return[];const t=Oy(e.charAt(0)),n=Oy(e.charAt(1));return[t,n].filter(Boolean)}function tb(e){const t=hue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function tx(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Le(t[0]??""),Le(t[1]??""),Le(t[2]??""),Le(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Il,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Le(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Le(r.se):void 0,wol:(n===""||n==="")&&r.wol?Le(r.wol):void 0,il:n===""&&r.il?Le(r.il):void 0}:{tab:n},p=A2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=A2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),y=YP(p.perStemElementScaled),k=n===""?y:fue(y,r),w=Cy(k),S=GP(k,o),j=due(S),O=qP(w),A=YP(b.perStemElementScaled),C=GP(A,o),D=Cy(A),P=qP(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:S,perTenGod:j,overlay:{totalsSub:S,perStemAugBare:k,perStemAugFull:O},natalFixed:{elementScoreRaw:KP(b.elementScoreRaw),elementPercent100:KP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:A,perStemAugFull:P}}}}const Co=["","","","",""],Vl={:0,:0,:0,:0,:0},mue=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],pue={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},O1=24,gue=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],My=20;Object.fromEntries(Object.entries(Kn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(er).map(([e,t])=>[t,e]));const P7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},bue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function R7(e){return Math.max(0,Math.min(100,e))}function of(e,t,n){return Math.max(t,Math.min(n,e))}function yue(e){const t=R7(e);return mue.find(n=>t>=n.min&&t<n.max)?.name??""}function vue(e){const t=e?.[2]?.charAt(0)??"";return P7[t]??null}function xue(e){return(e?.[1]?.charAt(1)??"")||null}function L7(e){return ex[e]}function wue(e){return e?{peer:e,resource:xu[e],leak:Ms[e],wealth:$o[e],officer:L7(e)}:null}function _ue(e){const t={...Vl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=P7[r],o=bue[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function Sue(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Vl};return Co.forEach(r=>{n[r]=e[r]/t*100}),n}function kue(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return R7((n("")+n(""))/t*100)}function Eue(e,t){return!e||!t?null:t===e?"":Ms[e]===t?"":$o[e]===t?"":L7(e)===t?"":xu[e]===t?"":null}function Tue(e){for(const[t,n]of gue)if(e>=t)return n;return 1}const WP=(e,t)=>of((My-(t[e]??0))/My,0,1),VP=(e,t)=>of(((t[e]??0)-My)/My,0,1);function Aue(e,t,n,r){const i=Eue(e,n);if(!e||!i)return 0;const a=of((50-t)/50,0,1),o=of((t-50)/50,0,1),l=WP(n,r),u=VP(n,r),d=WP(e,r),h=VP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function jue(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Vl};if(r){const o=Ms[e],l=$o[e],u=ex[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=xu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function ZP(e,t){if(!e)return{...Vl};const n=pue[e]??{temp:"mild",wet:"normal"},r={...Vl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function XP(e,t){const n={...Vl};for(const r of Co){const i=$o[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=Ms[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function JP(e,t){const n={...Vl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const nb=()=>new Map(Co.map(e=>[e,[]]));function sf(e,t){const n=vue(e),r=xue(e),i=_ue(e),a=Sue(i);let o=kue(t);if(o==null)if(!n)o=50;else{const H=n,B=xu[n],K=Object.values(i).reduce((J,Z)=>J+Z,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[B]??0))/K*100))}const l=yue(o),u={...Vl},d=nb();if(n){const H=jue(n,l,d);Co.forEach(B=>{u[B]+=H[B]??0})}const h=ZP(r,d);Co.forEach(H=>{u[H]+=h[H]??0});const p=XP(i,d);Co.forEach(H=>{u[H]+=p[H]??0});const b=JP(i,d);Co.forEach(H=>{u[H]+=b[H]??0});const y=wue(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)k[H.name]=H.value;if(o>=45&&o<=55&&y){const H=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[y.resource]+=14,d.get(y.resource)?.push(": -"),u[y.peer]+=10,d.get(y.peer)?.push(": -"),u[y.leak]+=6,d.get(y.leak)?.push(": -"),u[y.wealth]+=3,d.get(y.wealth)?.push(": -"),H&&(u[y.officer]=Math.round(u[y.officer]*.8*10)/10,d.get(y.officer)?.push(":   "))):(u[y.leak]+=14,d.get(y.leak)?.push(": -"),u[y.wealth]+=10,d.get(y.wealth)?.push(": -"),u[y.officer]+=6,d.get(y.officer)?.push(": -"),u[y.resource]+=3,d.get(y.resource)?.push(": -"))}Co.forEach(H=>{const B=Aue(n,o,H,a);u[H]=of(Math.round((u[H]+B)*10)/10,0,999)});const S=o<50;Co.forEach(H=>{const B=a[H]??0,K=S&&n===H;if(B>=O1&&!K){const J=Tue(B);u[H]=Math.round(u[H]*J*10)/10;const Z=Math.min(14,Math.max(0,Math.ceil((B-O1)*.5)));Z>0&&(u[H]=of(u[H]-Z,0,999)),d.get(H)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const H=Ms[n],B=$o[n],K=ex[n],J=n,Z=xu[n];j[H].push(""),j[B].push(""),j[K].push(""),j[J].push(""),j[Z].push("")}const O={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},A=H=>{const B=a[H]??0;return B>=O1&&!(S&&n===H)?B>=55?4:B>=45?3:2:O[H]?0:1},C=ZP(r,nb()),D=XP(i,nb()),P=JP(i,nb()),I=Co.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:Nue(H,C,D,P),reasons:(d.get(H)??[]).slice(),tenGodHints:j[H]})).sort((H,B)=>{const K=A(H.element),J=A(B.element);return K!==J?K-J:B.score!==H.score?B.score-H.score:H.element.localeCompare(B.element)}),U=Oue(l,C,D,P),W={:0,:0,:0,:0,:0},q=t?t.reduce((H,B)=>(H[B.name]=B.value,H),{...W}):void 0;return{chosenType:U,ordered:I,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:q,monthBranch:r??void 0}}}function Nue(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Oue(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Cue(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const QP=["","","","",""];function Mue(e,t){const n=[Le(e[0]??""),Le(e[1]??""),Le(e[2]??""),Le(e[3]??"")],{elementScoreRaw:r}=A2({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=QP.map(l=>r[l]??0),a=Cue(i),o={:0,:0,:0,:0,:0};return QP.forEach((l,u)=>{o[l]=a[u]}),o}function I7(e,t){const n=Mue(e,t),r=Le(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const lf={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Due=["","","","",""];function eR(e){return Due.includes(e)}const Pue={:"",:"",:"",:"",:""},Rue={:"",:"",:"",:"",:""},Lue={:"",:"",:"",:"",:""},Iue={:"",:"",:"",:"",:""};function Xm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Kn[t])return Kn[t];if(["","","","","","","","","","","",""].includes(t))return rb[t]??null;if(er[t])return rb[er[t]]??null;const n=t.charAt(0);return Kn[n]?Kn[n]:["","","","","","","","","",""].includes(n)?n:er[n]?rb[er[n]]??null:["","","","","","","","","","","",""].includes(n)?rb[n]??null:null}function $ue(e,t){const n=lf[e],r=lf[t];if(!n||!r)return"";let i;r===n?i="":r===Pue[n]?i="":r===Rue[n]?i="":r===Lue[n]?i="":r===Iue[n]?i="":i="";const a=eR(e)===eR(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Bue(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function nx(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function zue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=lf[Xm(n)];i&&r>0&&(t[i]+=r)}return nx(t)}function Uue(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Xm(r);if(!a)continue;const o=$ue(t,a);n[o]+=i}return n}function Fue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Bue(n);t[i]+=r}return nx(t)}function tR(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Le(n??"");return i||(r<=2?"--":"")})}function B7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=lf[i.charAt(0)];if(a&&(r[a]=!0),n){const o=$7[i.charAt(1)];o&&(r[o]=!0)}}return r}function z7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=lf[n.charAt(0)],i=$7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function C1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Hue=["","","","","","","","","",""];function Gue(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Xm(n);i&&(t[i]=(t[i]??0)+r)}return t}function Yue(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Hue){const i=lf[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const que={natal:50,dae:30,se:20,wol:7,il:3};function Kue(e){const t={};for(const{kind:r,bare:i}of e){const a=que[r]??0;if(a<=0)continue;const o=nx(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Wue(e){if(!e)return[];const t=Xm(e.charAt(0)),n=Xm(e.charAt(1));return[t,n].filter(Boolean)}function ib(e){const t=Wue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const N2=["","","","",""];function Vue(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Zue(e,t){const n=N2.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function iA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Xue(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function nR(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Jue(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(nR(i)===a)u=i,d=a;else if(nR(a)===i)u=a,d=i;else continue;const h=Xue(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function aA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function im(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":     "]}):e}function am(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Que(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:aA(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function ede(e){const t=Jue(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:aA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function tde(e,t){let n="",r=e.??0;for(const d of N2){const h=e[d]??0;h<r&&(r=h,n=d)}const i=N2.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=aA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function oA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=am(im(t,i,a),i,a),u=am(im(Que(n,r),i,a),i,a),d=Vue(n),h=Zue(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,y=ede(r),k=am(im(y.items,i,a),i,a),w=tde(r,i),S=am(im(w.items,i,a),i,a),j=Array.isArray(o)?o:[],O=j.length>0,A=am(im(j,i,a),i,a),C=B=>Math.max(0,...B.map(K=>Number.isFinite(K.score)?K.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:y.applicable,note:y.note,candidates:k},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:S},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:O,note:O?"/     ( )":"  (//  )",candidates:A}].map(B=>{const K=C(B.candidates),J=B.candidates[0];let Z=0;if(B.applicable&&J){if(Z=J.score*B.weight,B.kind==="EOKBU"&&!h.balancedPresent){const Y=Math.min(35,Math.round(h.spread*.9));Z+=Y}B.kind==="EOKBU"&&h.balancedPresent&&(Z*=.75),J.elNorm&&!i[J.elNorm]&&(Z*=.25)}return{...B,maxScore:K,fitScore:Math.round(Z),finalScore:Math.round(Z)}}).sort((B,K)=>B.priority-K.priority),I=[...P].filter(B=>B.applicable&&B.candidates.length>0).sort((B,K)=>K.fitScore!==B.fitScore?K.fitScore-B.fitScore:B.priority-K.priority)[0],U=Math.max(0,...P.map(B=>B.fitScore)),W=I?.kind??null,q=P.map(B=>{if(!W)return B;if(B.kind===W){const K=B.fitScore<U?U+1:B.fitScore;return{...B,finalScore:K}}return{...B,finalScore:B.fitScore}}),H=W?q.find(B=>B.kind===W)??null:null;return{bestKind:W,best:H,groups:q}}const nde={:"",:"",:"",:"",:""},rde={:"",:"",:"",:"",:""},ide={:"",:"",:"",:"",:""},ade={:"",:"",:"",:"",:""};function M1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function ode(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function sde(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function lde(e,t){switch(t){case"":return e;case"":return nde[e];case"":return ide[e];case"":return ade[e];case"":return rde[e]}}function cde(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=M1(t),a=ode(e.);if(i&&a){const u=sde(a),d=lde(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=M1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=M1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const om=e=>e&&e.length>=1?e.charAt(0):"",ab=e=>e&&e.length>=2?e.charAt(1):"";function ude(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function dde({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=ei(),h=_.useMemo(()=>Le(l),[l]),p=_.useMemo(()=>Le(u),[u]),b=_.useMemo(()=>Le(d),[d]),y=Nu(e,e?.mingSikType),k=_.useMemo(()=>{if(!y?.length)return 0;const Oe=y.findIndex(($e,Fe)=>{const Be=y[Fe+1]?.at;return o>=$e.at&&(!Be||o<Be)});return Oe!==-1?Oe:o<y[0].at?0:y.length-1},[y,o]),w=_.useMemo(()=>{const Oe=r??y?.[k]?.gz??"";return Le(Oe)||null},[r,y,k]),{manualHour:S,usePrevDay:j}=Hi(),O=e.mingSikType??"/",A=_.useMemo(()=>tR(t),[t]),C=_.useMemo(()=>tR(n),[n]),D=_.useMemo(()=>{const Oe=[...A];return(!Oe[3]||Oe[3]===""||Oe[3]==="--")&&S&&(Oe[3]=S.stem+S.branch),Oe},[A,S]),P=_.useMemo(()=>{const Oe=[...C];return(!Oe[3]||Oe[3]===""||Oe[3]==="--")&&S&&(Oe[3]=S.stem+S.branch),Oe},[C,S]),I=_.useMemo(()=>{const Oe=Number(e.birthDay?.slice(0,4)),$e=Number(e.birthDay?.slice(4,6)),Fe=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Oe)||!Number.isFinite($e)||!Number.isFinite(Fe))return null;const Be=new Date(Oe,$e-1,Fe,12,0,0,0),bt=Le(ct(Be)||""),Rt=Le(Tt(Be)||""),fe=Le(ht(Be,O)||"");return[bt,Rt,fe,""]},[e.birthDay,O]),U=C1(D),W=C1(P),H=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?W?"lunar":U?"solar":"lunar":U?"solar":W?"lunar":"solar",B=_.useMemo(()=>{const $e=[...H==="lunar"?W?P:U?D:I??["","","",""]:U?D:W?P:I??["","","",""]];if((!$e[3]||$e[3]===""||$e[3]==="--")&&S&&($e[3]=S.stem+S.branch),$e[3]==="--"&&($e[3]=""),!j)return $e;const Fe=to($e[2]||"",-1);return[$e[0],$e[1],Fe,$e[3]]},[H,U,W,D,P,I,S,j]),K=_.useMemo(()=>om(B[2]??""),[B]),J=_.useMemo(()=>ab(B[1]??""),[B]),Z=_.useMemo(()=>ude(e.birthDay),[e.birthDay]),Y=_.useMemo(()=>S?S.stem+S.branch:B[3]||"",[S,B]),X=_.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,w,h,p,b]),Q=_.useMemo(()=>tx({natal:B,tab:i,chain:X,hourKey:Y}),[B,i,X,Y]),ce=_.useMemo(()=>{if(!Q)return null;const Oe=Gue(Q.perStemElementScaled),$e=X.dae?ib(X.dae):{},Fe=X.se?ib(X.se):{},Be=X.wol?ib(X.wol):{},bt=X.il?ib(X.il):{},Rt=Kue([{kind:"natal",bare:Oe},{kind:"dae",bare:$e},{kind:"se",bare:Fe},{kind:"wol",bare:Be},{kind:"il",bare:bt}]),fe=nx(Rt),Ce=Yue(fe),Ge=Uue(Rt,Q.dayStem),Se=Fue(Ge),Pe=zue(Rt);return{perStemAugBare:Rt,perStemAugFull:Ce,elemPct100:Pe,totalsMain:Se,totalsSub:Ge}},[Q,X]),ie=_.useMemo(()=>B7(B,{includeBranches:!0}),[B]),z=_.useMemo(()=>["","","","",""].some(Oe=>!ie[Oe]),[ie]),V=ce?.elemPct100??Q?.elementPercent100??z7(B),ne=_.useMemo(()=>{if(!Q||!ce)return[];const Oe=T7(Q.dayStem);return Object.entries(ce.totalsMain).map(([$e,Fe])=>({name:$e,value:Fe,color:Oe[$e]}))},[Q,ce]),oe=ce?.elemPct100??{:0,:0,:0,:0,:0},de=ce?.totalsSub??Q?.perTenGodSub??null,me=_.useMemo(()=>[i,w??"",h??"",p??"",b??"",o?.toISOString?.()??"",Y].join("|"),[i,w,h,p,b,o,Y]),ye=_.useMemo(()=>{const Oe=de?Object.entries(de).sort(([Fe],[Be])=>Fe.localeCompare(Be)).map(([Fe,Be])=>`${Fe}:${Be}`).join(","):"none",$e=ne.map(Fe=>`${Fe.name}:${Fe.value}`).join(",");return`${me}||${B.join("")}||${$e}||${Oe}`},[me,B,ne,de]),Ne=typeof sf=="function"?sf(B,Q?.totals):null,ae=_.useMemo(()=>(Ne?.ordered??[]).map($e=>{const Fe=$e.element??"",Be=/||wood/i.test(Fe)?"":/||fire/i.test(Fe)?"":/||earth/i.test(Fe)?"":/||metal/i.test(Fe)?"":/||water/i.test(Fe)?"":null,bt=typeof $e.score=="number"?$e.score:Be?V[Be]??0:0,Rt=Array.isArray($e.reasons)?$e.reasons:[];return{element:Fe,elNorm:Be,score:bt,reasons:Rt}}),[Ne,V]),Ee=_.useMemo(()=>ae.map(Oe=>({element:Oe.element,elNorm:Oe.elNorm,score:Oe.score,reasons:Oe.reasons})),[ae]),xe=_.useMemo(()=>{if(!K||!J)return[];const[Oe,$e,Fe,Be]=B,bt=[om(Oe),om($e),om(Fe),om(Be)].filter(Boolean),Rt=[ab(Oe),ab(Fe),ab(Be)].filter(Boolean),fe=k7({dayStem:K,monthBranch:J,date:Z,pillars:B,emittedStems:bt,otherBranches:Rt}),Ce=cde(fe,K),Ge=Se=>/||wood/i.test(Se)?"":/||fire/i.test(Se)?"":/||earth/i.test(Se)?"":/||metal/i.test(Se)?"":/||water/i.test(Se)?"":null;return(Ce??[]).map(Se=>({element:Se.element,elNorm:Ge(Se.element),score:Number.isFinite(Se.score)?Se.score:0,reasons:Array.isArray(Se.reasons)?Se.reasons:[]}))},[B,K,J,Z]),se=_.useMemo(()=>{const Oe=B[1]||"";return oA({eokbuList:Ee,monthGz:Oe,elemPct:V,presentMap:ie,demoteAbsent:a,gyeokgukList:xe})},[B,Ee,V,ie,a,xe]),Ue=_.useMemo(()=>{const Oe=se.best;return Oe?.candidates?.length?Oe.candidates.map($e=>({element:$e.element,elNorm:$e.elNorm,score:$e.score,reasons:$e.reasons})):ae},[se,ae]),Ke=_.useMemo(()=>Math.max(0,...Ue.map(Oe=>Number.isFinite(Oe.score)?Oe.score:0)),[Ue]),Je=_.useMemo(()=>I7(B,{criteriaMode:"modern",useHarmonyOverlay:!0}),[B]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:w,activePillars:B,chain:X,unified:Q,overlay:ce,chartData:ne,elementPct:oe,tenSubTotals100:de,hourKeyForUi:Y,revKey:ye,yongshinMulti:se,yongshinRecommend:se,yongshinList:Ue,maxScore:Ke,hasAbsent:z,dayElementPercent:Je,isValidActive:C1(B)}}function fde(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function hde(e){const t=new Date(e,1,15,12,0,0,0);return Le(ct(t)||"")}function mde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=iA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const pde={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Dy(e){return pde[e]??null}function gde(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=nA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=Dy(a);if(l&&(n[l]=!0),tA(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=Dy(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function bde(e,t){const n=nA(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=Dy(l);if(d&&(r[d]+=50),tA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((k,w)=>k+(Number.isFinite(w.w)?w.w:0),0),y=b>0?b:1;for(const k of p){const w=Dy(k.stem);w&&(r[w]+=50*k.w/y)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function yde(e,t,n){return e||bde(t,n)}function vde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=_.useMemo(()=>w7(o),[o]),u=Nu(t,t?.mingSikType),d=_.useMemo(()=>Array.isArray(u)?u.filter(fde).slice(0,10):[],[u]),[h,p]=_.useState(0),[b,y]=_.useState(0),k=Math.max(0,Math.min(d.length-1,h)),w=d[k]??null,S=_.useMemo(()=>{if(!w)return[];const W=w.at.getFullYear();return Array.from({length:10},(q,H)=>{const B=W+H;return{year:B,gz:hde(B)}})},[w]),j=b==null?null:Math.max(0,Math.min(S.length-1,b)),O=j==null?null:S[j]??null,A=_.useMemo(()=>gde(n,l),[n,l]),C=_.useMemo(()=>["","","","",""].some(W=>!A[W]),[A]),D=_.useMemo(()=>{const W=w?Le(w.gz):null,q=O?Le(O.gz):null;return{dae:W||null,se:q||null,wol:null,il:null}},[w,O]),P=_.useMemo(()=>D.se?"":"",[D.se]),I=_.useMemo(()=>{const W=w?`${w.at.getFullYear()}~ ${Le(w.gz)}`:" -",q=O?` / ${O.year} ${Le(O.gz)}`:"";return`${W}${q}`},[w,O]),U=_.useMemo(()=>{if(!w)return null;const W=tx({natal:n,tab:P,chain:D,hourKey:r}),q=yde(W?.elementPercent100,n,l),H=typeof sf=="function"?sf(n,W?.totals):null,B=mde(H,q);return oA({eokbuList:B,monthGz:n[1]||"",elemPct:q,presentMap:A,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,D,r,A,i,a,l]);return{daeIndex:k,setDaeIndex:p,seIndex:j,setSeIndex:y,dae10:d,se10:S,chain:D,tab:P,label:I,recommend:U,presentMap:A,hasAbsent:C}}const xde={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function O2(e){return e?xde[e]??e:""}function wde(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function _de(e){const t=new Date(e,1,15,12,0,0,0);return Le(ct(t)||"")}function D1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?iA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${O2(r)}:${i}`:r?`${O2(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function Sde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=iA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function rR(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=tx({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??z7(t),h=typeof sf=="function"?sf(t,u?.totals):null,p=Sde(h,d);return oA({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function kde(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const Mo=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function iR({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:`: ${O2(t.kind)}`,tone:"pick"}),g.jsx(Mo,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(Mo,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:`${i+1} ${r.element}`}),g.jsx(Mo,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(Mo,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function Ede(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=_.useMemo(()=>B7(n,{includeBranches:!0}),[n]),l=Nu(t,t?.mingSikType),u=_.useMemo(()=>Array.isArray(l)?l.filter(wde).slice(0,10):[],[l]),d=_.useMemo(()=>D1(a),[a]),[h,p]=_.useState(null),b=w=>p(S=>S===w?null:w),y=_.useMemo(()=>u.map((w,S)=>{const j=Le(w.gz)||"",A=rR({pillars:n,hourKey:r,chain:{dae:j||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=D1(A),D=w.at.getFullYear(),P=Array.from({length:10},(H,B)=>{const K=D+B,J=_de(K),Y=rR({pillars:n,hourKey:r,chain:{dae:j||null,se:J||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),X=D1(Y);return{year:K,snap:X}}),U=kde(P).filter(H=>H.snap.top1ElNorm!==C.top1ElNorm),W=C.top1ElNorm!==d.top1ElNorm,q=W||U.length>0;return{idx:S,dae:w,daeLabel:`${D}~ ${j||""}`,daeSnap:C,daeDiffFromNatal:W,segDiffOnly:U,hasAnyChange:q}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=_.useMemo(()=>y.some(w=>w.hasAnyChange),[y]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:y.map(w=>{const S=`dae:${w.idx}`,j=h===S;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(Mo,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(Mo,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(S),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(Mo,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((O,A)=>{const C=`seg:${w.idx}:${A}`,D=h===C,P=O.fromYear===O.toYear?`${O.fromYear}`:`${O.fromYear}~${O.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(Mo,{text:` ${P}  ${O.snap.label} ( ${O.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),D?g.jsx(iR,{snap:O.snap}):null]},C)})}):null,j?g.jsx(iR,{snap:w.daeSnap}):null]},S)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}const Py=({children:e,variant:t="neutral"})=>{const n={neutral:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",violet:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300",amber:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",indigo:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"};return g.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-tight shadow-sm ${n[t]}`,children:e})};function Tde(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(5,Math.min(100,n))}%`}function Ade({g:e,isBest:t,demoteAbsent:n,hasAbsent:r,onDemoteAbsentChange:i}){const a=e.candidates.slice(0,3);return g.jsxs("details",{open:t,className:`group rounded-2xl border transition-all duration-300 ${t?"border-violet-200 dark:border-violet-800 bg-white dark:bg-neutral-900 shadow-md":"border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50"}`,children:[g.jsx("summary",{className:"list-none cursor-pointer p-4 select-none",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`text-sm ${t?"font-black text-violet-600":"font-bold text-neutral-700 dark:text-neutral-300"}`,children:[e.marker," ",e.title]}),t&&g.jsx(Py,{variant:"violet",children:" "}),!e.applicable&&g.jsx(Py,{variant:"neutral",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-medium text-neutral-400",children:""}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:e.fitScore}),g.jsx("span",{className:"text-neutral-300 group-open:rotate-180 transition-transform",children:""})]})]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed whitespace-normal break-words pr-4",children:e.note})]})}),g.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 py-2 text-center border-t border-neutral-100 dark:border-neutral-800",children:"  ."}):g.jsx("div",{className:"space-y-2 border-t border-neutral-100 dark:border-neutral-800 pt-3",children:a.map((o,l)=>g.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[40px]",children:[g.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase",children:[l+1,"st"]}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:o.element})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-700 overflow-hidden shadow-inner",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${t?"bg-gradient-to-r from-violet-400 to-indigo-500":"bg-neutral-400"}`,style:{width:Tde(o.score??0,e.maxScore)}})}),g.jsx("div",{className:"flex flex-wrap gap-1",children:(o.reasons??[]).slice(0,4).map((u,d)=>g.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-white dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border border-neutral-100 dark:border-neutral-600 shadow-sm",children:u},d))})]})]},`${e.kind}-${o.element}-${l}`))}),r&&g.jsxs("button",{type:"button",onClick:()=>i?.(!n),className:`px-2 py-1 rounded-full text-[10px] font-bold border transition cursor-pointer ${n?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-800 dark:text-neutral-400 dark:border-neutral-700"}`,"aria-pressed":n,children:[" ",n?"ON":"OFF"]})]})]})}function jde({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-violet-200 dark:border-violet-800 p-6 bg-gradient-to-br from-violet-50 to-white dark:from-violet-950/20 dark:to-neutral-900 shadow-sm",children:[g.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-violet-100 dark:bg-violet-900/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Py,{variant:"indigo",children:" "}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase",children:" "}),g.jsx("span",{className:"text-lg font-black text-violet-600 dark:text-violet-400",children:e?.fitScore??0})]})]}),g.jsxs("div",{className:"flex items-end gap-3",children:[g.jsx("h4",{className:"text-2xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter",children:e?`${e.marker} ${e.title}`:"  "}),t?.element&&g.jsxs("div",{className:"mb-1 flex items-center gap-1",children:[g.jsx("span",{className:"text-xs text-neutral-400 font-medium",children:"1:"}),g.jsx("span",{className:"text-base font-black text-indigo-500",children:t.element})]})]}),e?.note&&g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed font-medium",children:e.note})]})]})}function Nde({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,onDemoteAbsentChange:a,hasAbsent:o,hiddenStemMode:l}){const u=vde({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:l}),d=o??u.hasAbsent;return g.jsxs("div",{className:"w-full p-6 rounded-[2.5rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-xl space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx("div",{className:"space-y-1",children:g.jsx("h2",{className:"text-xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter uppercase",children:" "})}),d&&g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx(Py,{variant:"amber",children:"  "}),i&&g.jsx("span",{className:"text-[9px] text-amber-500 font-bold mt-1",children:" "})]})]}),g.jsx(jde,{best:e.best}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"}),g.jsx("span",{className:"text-[10px] font-black text-neutral-300 dark:text-neutral-600 uppercase tracking-widest",children:" "}),g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsx("div",{className:"grid gap-3",children:e.groups.map(h=>g.jsx(Ade,{g:h,isBest:e.bestKind===h.kind,demoteAbsent:i,hasAbsent:d,onDemoteAbsentChange:a},h.kind))})]}),g.jsx("div",{className:"pt-2",children:g.jsx(Ede,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})})]})}const aR=e=>e<10?`0${e}`:`${e}`;function Ode(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Xi(i,a,o),u=`${l.getFullYear()}${aR(l.getMonth()+1)}${aR(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Cde(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const Mde=["  ","   ","","",""];function Dde(e){return e==="  "||e===""}function Pde({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=wn(p=>p.settings),a=wce(),o=Ode(e),l=Cde(o.birthDay)||void 0,u=hn(p=>p.canUseAdvancedReportNow()),d=dde({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=_.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap mb-4",children:xce.map(p=>{const b=a.blendTab===p;return g.jsx("button",{onClick:()=>a.setBlendTab(p),className:`
                  px-4 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200 active:scale-95 cursor-pointer
                  ${b?"bg-amber-400 text-amber-950 shadow-[0_2px_10px_rgba(251,191,36,0.4)] border border-amber-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400 border border-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700"}
                `,children:p},p)})}),g.jsxs("div",{className:"flex items-start gap-2 px-4 py-2 bg-amber-50/50 dark:bg-amber-900/10 rounded-xl border border-amber-100/50 dark:border-amber-900/20",children:[g.jsx("span",{className:"text-amber-500 text-[12px] mt-0.5",children:""}),g.jsxs("p",{className:"text-[10.5px] text-amber-700 dark:text-amber-400/80 leading-relaxed font-medium",children:["    ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "})," ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "}),"   ."]})]})]}),g.jsx("div",{className:"flex gap-2 mb-8 justify-center flex-wrap",children:Mde.map(p=>{const b=!u&&Dde(p),y=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:`
                relative px-4 py-2 text-sm font-bold rounded-2xl border transition-all duration-300 active:scale-95 flex items-center gap-1.5 cursor-pointer
                ${y?"bg-violet-600 text-white border-violet-500 shadow-[0_4px_12px_rgba(139,92,246,0.3)] z-10":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800 hover:border-violet-300 dark:hover:border-violet-700"}
                ${b?"opacity-70 bg-neutral-50 dark:bg-neutral-900/50":""}
              `,children:[g.jsx("span",{className:b?"mr-1":"",children:p}),b&&g.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-neutral-200 dark:bg-neutral-800 rounded-full text-[10px]",children:""}),y&&!b&&g.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},p)})}),a.bigTab===""&&g.jsx(Wse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(zse,{data:d.chartData,perStemElementScaled:d.overlay?.perStemAugFull,dayStem:d.activePillars[2]?.charAt(0)??null,yongshinTop:d.yongshinMulti?.best?.candidates?.[0]?.element??null,yongshinKind:d.yongshinMulti?.bestKind??null},`pentagon-${d.revKey}`),g.jsx(Kse,{natal:d.activePillars,perStemElementScaled:d.overlay?.perStemAugFull}),g.jsx(Hse,{value:d.dayElementPercent}),g.jsx(sle,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(Nde,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,onDemoteAbsentChange:a.setDemoteAbsent,hasAbsent:d.hasAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(Xse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(sce,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const ob=e=>typeof e=="string"&&e.length>=2,Rde=e=>!Array.isArray(e)||e.length!==4?!1:ob(e[0])&&ob(e[1])&&ob(e[2])&&(e[3]===""||ob(e[3]));function Lde({data:e}){const[t,n]=_.useState("un"),r=ec(),i=hn(d=>d.canUseMyoViewerNow());_.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=_.useMemo(()=>{try{const d=jf(e);return ql(d,r)}catch{return new Date}},[e,r]),o=_.useMemo(()=>Wl(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=_.useMemo(()=>{try{const d=ct(o,e.birthPlace?.lon),h=Tt(o,e.birthPlace?.lon),p=ht(o,e.mingSikType),b=l?"":no(o,e.mingSikType);return[d,h,p,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(Cse,{data:e}),t==="myoun"&&i&&g.jsx(Rse,{data:e}),t==="report"&&g.jsx(Pde,{data:e,pillars:Rde(u)?u:[]})]})}function Ide({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=xn(C=>C.list.length),a=hn(C=>C.canAddMyeongsik),[o,l]=_.useState(!1);_.useEffect(()=>{let C=!0;De.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:D}=De.auth.onAuthStateChange((P,I)=>{l(!!I?.user)});return()=>{C=!1,D.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){pa(p||"   ");return}t()},y=()=>{if(h){pa(p||"   ");return}n()},k=()=>{Ss.getState().openWith("HEADER")},w=async()=>{const{error:C}=await De.auth.signOut();if(C){console.error(C),pa("  ");return}pa(" ")},S="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",j="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",O="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",A="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(zZ,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${S} ${h?A:j}`,children:[g.jsx(XZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:y,"aria-label":"  ",disabled:h,title:"  ",className:`${S} ${h?A:O}`,children:[g.jsx(WZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function $de(e){_.useEffect(()=>{const t=e??V5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");X5(t),e&&Z5(e)},[e])}const U7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Bde(e){return typeof e=="string"&&U7.includes(e)}function C2(e){const t=Array.isArray(e)?e.filter(Bde):[],n=U7.filter(r=>!t.includes(r));return[...t,...n]}function M2(e){return{...Il,...e,sectionOrder:C2(e.sectionOrder)}}function zde(e,t){return e.theme??t.theme??"dark"}function Ude({open:e,settings:t}){const n=_.useMemo(()=>C2(t.sectionOrder),[t.sectionOrder]),r=_.useMemo(()=>M2(t),[t]),[i,a]=_.useState(n),[o,l]=_.useState(r),[u,d]=_.useState(null),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e||h)return;const y=C2(t.sectionOrder);l({...M2(t),sectionOrder:y}),a(y),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(y,k)=>{l(w=>{const S={...w,[y]:k};return p(!0),S})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function Fde(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function F7(e){Z5(e)}function Hde({setSettings:e,saveToServer:t}){return{applyChanges:_.useCallback(async(r,i,a)=>{const o={...M2(r),sectionOrder:i};Fde(),_.startTransition(()=>{e(o)}),o.theme&&F7(o.theme),a(),t(!0)},[e,t])}}function Gde({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=wn(),a=Ude({open:e,settings:n}),o=Hde({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=zde(a.localSettings,n);$de(u),_.useEffect(()=>{F7(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:y,source:k}=b;if(!y||y.index===k.index)return;const w=Array.from(a.order),[S]=w.splice(k.index,1);w.splice(y.index,0,S),a.setOrder(w)},p=b=>{switch(b){case"theme":return g.jsx(Fa,{title:"",children:g.jsx(Yde,{value:a.localSettings.theme??"dark",onChange:y=>a.updateSetting("theme",y)})});case"hiddenStem":return g.jsx(Fa,{title:"  ",children:g.jsx(jd,{value:a.localSettings.hiddenStem,onChange:y=>a.updateSetting("hiddenStem",y),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Fa,{title:" ",children:g.jsx(jd,{value:a.localSettings.hiddenStemMode,onChange:y=>a.updateSetting("hiddenStemMode",y),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Fa,{title:"",children:g.jsx(jd,{value:a.localSettings.sinsalMode,onChange:y=>a.updateSetting("sinsalMode",y),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Fa,{title:"",children:g.jsx(jd,{value:a.localSettings.sinsalBase,onChange:y=>a.updateSetting("sinsalBase",y),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Fa,{title:" ",children:g.jsx(Ao,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:y=>a.updateSetting("sinsalBloom",y)})});case"exposure":return g.jsx(Fa,{title:" ",children:g.jsx(jd,{value:a.localSettings.exposure,onChange:y=>a.updateSetting("exposure",y),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Fa,{title:" ",children:g.jsx(jd,{value:a.localSettings.charType,onChange:y=>a.updateSetting("charType",y),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Fa,{title:" ",children:g.jsx(Ao,{label:" ",checked:!!a.localSettings.thinEum,onChange:y=>a.updateSetting("thinEum",y)})});case"visibility":return g.jsx(Fa,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSipSin,onChange:y=>a.updateSetting("showSipSin",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:y=>a.updateSetting("showSibiUnseong",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:y=>a.updateSetting("showSibiSinsal",y)}),g.jsx(Ao,{label:" ",checked:!!a.localSettings.showNabeum,onChange:y=>a.updateSetting("showNabeum",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:y=>a.updateSetting("showEtcShinsal",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:y=>a.updateSetting("showRelationBox",y)}),g.jsx(Ao,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:y=>a.updateSetting("showPromptBox",y)})]})});case"difficultyMode":return g.jsx(Fa,{title:" UP ver.",children:g.jsx(Ao,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:y=>a.updateSetting("difficultyMode",y)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(Sp,{onDragEnd:h,children:g.jsx(Tf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((y,k)=>g.jsx(Ef,{draggableId:y,index:k,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(y)})]})},y)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(A6,{message:a.toastMessage,onClose:l,ms:1800})]})}function Yde({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Fa({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function jd({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Ao({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function qde(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=xn(h=>h.list),a=Jl();_.useEffect(()=>{r(xn.getState().loading);const h=xn.subscribe(p=>{r(p.loading)});return()=>h()},[]);const o=()=>{if(!n){if(i.length===0){alert("    !");return}a("/iching")}},d={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:d,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(sm,{icon:g.jsx(DZ,{size:22}),label:"",onClick:()=>a("/")}),g.jsx(sm,{icon:g.jsx(CZ,{size:22}),label:"",onClick:()=>a("/couple")}),g.jsx(sm,{icon:g.jsx(VB,{size:22}),label:"FAQ",onClick:()=>a("/faq")}),g.jsx(sm,{icon:g.jsx(GZ,{size:22}),label:"",onClick:()=>t(!0)}),g.jsx(sm,{icon:g.jsx(qZ,{size:22}),label:"",onClick:o})]})}),g.jsx(Gde,{open:e,onClose:()=>t(!1)})]})}function sm({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const H7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),Ry=e=>H7(e).join(""),Kde=()=>{const[e,t]=_.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(BD);return u?JSON.parse(u):{}}catch{return{}}});_.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(BD,JSON.stringify(e))}catch{}},[e]);const[n,r]=_.useState({}),[i,a]=_.useState(""),[o,l]=_.useState(()=>{const u=xy(),d=wy(),h=d.length?Cm(u,d):u;return $d(h,e)});return _.useEffect(()=>{l(u=>{const d=$d(u,e);return Ry(d)===Ry(u)?u:d})},[e]),_.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},Wde=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=_.useMemo(()=>{const i=Kv(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[pr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},lm=async()=>{const{data:e,error:t}=await De.auth.getUser();return t||!e.user?null:e.user.id},Vde=async e=>{const{data:t,error:n}=await De.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Zde=async e=>{const{data:t,error:n}=await De.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Xde=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await De.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await De.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Jde=async(e,t)=>{const{error:n}=await De.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Qde=async(e,t)=>{const{error:n}=await De.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},efe=async(e,t)=>{const{error:n}=await De.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},tfe=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=_.useState(!1),o=_.useRef(e),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>{o.current=e},[e]),_.useEffect(()=>{(async()=>{if(i)return;const O=await lm();if(!O)return;try{if(!u.current){const I=await Vde(O);I.disabled&&(u.current=!0),I.error?console.error("load custom folders from server error:",I.error):I.data.length&&IT(I.data)}}catch(I){console.error("load custom folders exception:",I)}const A=await Zde(O);if(A.error){console.error("load folder order from server error:",A.error),a(!0);return}const C=xy(),D=A.data,P=D.length?Cm(C,D):Cm(C,wy());n($d(P,o.current)),D.length&&Bd(D),a(!0)})()},[i,n]);const d=_.useCallback(async j=>{const O=await lm();if(!O)return;const A=await Xde(O,j);A.error&&console.error("save folder order to server error:",A.error)},[]),h=_.useRef(null),p=_.useRef(null),b=_.useRef(""),y=_.useCallback((j,O)=>{const A=H7(j),C=Ry(A);if(C&&C===b.current)return;h.current=A;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const I=Ry(P);I&&I===b.current||(await d(P),b.current=I)};if(O?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[d]);_.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const j=h.current;h.current=null,j&&j.length&&d(j)},[d]),_.useEffect(()=>{if(typeof window>"u")return;const j=()=>{if(l.current){l.current=!1;return}const O=xy(),A=wy(),C=A.length?Cm(O,A):O;n($d(C,o.current))};return window.addEventListener(Kl,j),()=>window.removeEventListener(Kl,j)},[n]);const k=_.useCallback(j=>{const{source:O,destination:A,type:C}=j;if(!A||C!=="FOLDER")return;const D=O.index,P=A.index;D!==P&&n(I=>{if(!I.length)return I;const U=[...I],[W]=U.splice(D,1);U.splice(P,0,W);const q=$d(U,o.current);return l.current=!0,Bd(q),y(q),q})},[y,n]),w=_.useCallback(j=>{const O=j.trim();!O||O===vn||(T6(O),(async()=>{if(u.current)return;const A=await lm();if(!A)return;const C=await Qde(A,O);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(A=>{if(A.includes(O))return A;const C=[...A,O],D=$d(C,o.current);return Bd(D),y(D,{immediate:!0}),D}))},[y,n]),S=_.useCallback(j=>{r(j),t(O=>{const A={...O};return delete A[j],A}),n(O=>{const A=O.filter(C=>C!==j);return Bd(A),y(A,{immediate:!0}),(async()=>{const C=await lm();if(!C)return;const D=await Jde(C,j);D.error&&console.error("delete folder order entry error:",D.error)})(),A}),S6.includes(j)?Mre(j):(Cre(j),(async()=>{if(u.current)return;const O=await lm();if(!O)return;const A=await efe(O,j);A.disabled&&(u.current=!0),A.error&&console.error("delete custom folder error:",A.error)})())},[y,t,n,r]);return{handleDragEnd:k,createFolder:w,deleteFolder:S,UNASSIGNED_LABEL:vn}};function nfe(e,t){const n=Kde(),r=Wde({list:e,orderedFolders:n.orderedFolders}),i=tfe({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function rfe({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=xn(p=>p.list.length),o=hn(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){pa(u||"  ");return}t()},h=async()=>{const{error:p}=await De.auth.signOut();if(p){console.error(p),pa(" ");return}pa(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h2",{className:"text-lg font-bold",children:" "})}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx($Z,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(ZB,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(FZ,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(cy,{size:22})})]})]})}function ife({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(NZ,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function afe({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r,totalCount:i,collapsed:a,onToggleCollapse:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:l=>l.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:l=>{l.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:r?"   .":"/      ."}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"  "}),g.jsx("span",{className:"mx-1",children:""}),g.jsxs("span",{className:"font-semibold text-amber-500 dark:text-amber-600",children:[i,""]})]}),g.jsx("button",{type:"button",onClick:o,className:"px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-xs text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:a?"  ":"  "})]}),g.jsx("div",{className:"text-xs mb-2 text-neutral-900 dark:text-neutral-100",children:"         !"})]})}function oR({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(Tf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function ofe({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(Ef,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(TZ,{size:16}):g.jsx(kZ,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(XB,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const sfe=()=>({canManage:hn(()=>!0)}),Jm="";function lfe(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Jm?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function cfe(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function sR(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function ufe(e,t){const n=Af(e),r=Ep(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),d=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${d}${h}`}}function dfe(e){const t=sR(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Wm(r,i,a)||!e.birthTime||e.birthTime===Jm)return t;const o=ufe(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),d=OT({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return sR({...e,...d})}function ffe(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function hfe(e,t){return Number.isNaN(e)?0:t-e+1}function mfe(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function pfe(e){return e===""?"":e===""?"":e??""}function gfe(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function bfe(e,t){if(t)return Jm;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?b2(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!Wm(l,u,d)||!e.birthTime||e.birthTime===Jm)return o;if(a){const p=new Date(i.getTime()-36e5);return b2(p)}return gfe(r)??o}function yfe({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=dfe(e),o=cfe(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=pfe(e.gender),d=!e.birthTime||e.birthTime===Jm,h=bfe(e,d),p=!!(o||h),b=lfe(e.birthDay,e.birthTime),y=e.calendarType==="lunar"?"":"",k=ffe(e.birthDay),w=hfe(k,new Date().getFullYear()),S=!!(e.memo&&e.memo.trim()!==""),j=t?" ":" ",O=e.mingSikType??"/",A=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:A,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:y,correctedLabel:h,showMetaLine:p,showMemo:S,memoToggleLabel:j,age:w,mingSikTypeValue:O,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:mfe}}const vfe=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=_.useCallback(S=>{S?.stopPropagation(),n(e.id)},[n,e.id]),h=_.useCallback(S=>{S?.stopPropagation(),a(e)},[a,e]),p=_.useCallback(S=>{S?.stopPropagation(),o(e)},[o,e]),b=_.useCallback(S=>{S?.stopPropagation(),l(e)},[l,e]),y=_.useCallback(S=>{S?.stopPropagation(),u(e.id)},[u,e.id]),k=_.useCallback(S=>{const j=S===t?void 0:S;r(e.id,j)},[r,e.id,t]),w=_.useCallback(S=>{i(e,S)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:y,handleFolderChange:k,handleMingSikTypeChange:w}};function lR({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,collapsed:a,memoOpen:o,onToggleMemo:l,onToggleCollapsed:u,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k}){sfe();const w=yfe({m:e,memoOpen:o,isDragDisabled:i}),S=a,j=vfe({m:e,unassignedLabel:r,onToggleMemo:l,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k});return g.jsx(Ef,{draggableId:w.keyId,index:t,isDragDisabled:i,children:O=>g.jsx("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:O.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,onClick:()=>{S&&j.handleView()},children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",w.age,"",w.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 text-nowrap",children:w.relationshipLabel}),g.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.jsx("span",{className:"opacity-50 select-none",children:w.dragHandleLabel}),g.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),u()},className:"text-xs px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:S?" ":" "})]})]}),!S&&g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[w.birthDisplay,", ",w.calendarLabel]}),!S&&w.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[w.placeDisplay,w.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",w.correctedLabel]})]}),w.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:w.ganji}),!S&&w.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:j.handleToggleMemo,children:w.memoToggleLabel}),g.jsx("div",{className:o?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),!S&&g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),j.handleFolderChange(A.target.value)},children:[r,...n].map(A=>g.jsx("option",{value:A,children:A},A))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:w.mingSikTypeValue,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),j.handleMingSikTypeChange(A.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),!S&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:j.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:j.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:w.editLabel}),g.jsx("button",{type:"button",title:"",onClick:j.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:w.deleteLabel}),g.jsx("button",{type:"button",title:w.favoriteLabel,onClick:j.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":w.favoriteLabel,children:g.jsx(XB,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},w.keyId)}const xfe="list:__unassigned__",wfe=e=>`list:${e}`,cR=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},_fe=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=y6(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=_.useMemo(()=>hre({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},Sfe=({list:e,orderedFolders:t})=>{const[n,r]=_.useState(""),[i,a]=_.useState("name"),[o,l]=_.useState({}),u=_.useRef(null),d=_.useRef(null);return _.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(y=>({...y,[b]:!y[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},uR=()=>{typeof window>"u"||window.dispatchEvent(new Event(Kl))},kfe=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:y,createFolder:k,deleteFolder:w,newFolderName:S,setNewFolderName:j,stashScrollTop:O})=>{const A=_.useCallback((B,K)=>{const{nextList:J}=ore({list:e,orderedFolders:t,targetId:B,nextFolder:K??""});a(J)},[e,t,a]),C=_.useCallback((B,K)=>{const J={...B,mingSikType:K},Z=OT(J);o(B.id,{mingSikType:K,...Z}),u({...J,...Z}),d()},[o,u,d]),D=_.useCallback(B=>{u(B),d()},[u,d]),P=_.useCallback(B=>{confirm(`'${B.name}'  ?`)&&(l(B.id),h&&h())},[l,h]),I=_.useCallback(()=>{const B=S.trim();B&&(k(B),j(""),uR())},[S,k,j]),U=_.useCallback(B=>{if(p[B]){alert(`'${B}'   .
   .`);return}confirm(`'${B}'  ?
(   )`)&&(w(B),uR())},[p,w]),W=_.useCallback(B=>{y(K=>({...K,[B]:!K[B]}))},[y]),q=_.useCallback(B=>{b(K=>({...K,[B]:!K[B]}))},[b]);return{handleDrop:_.useCallback(B=>{const{type:K,source:J,destination:Z,draggableId:Y}=B;if(Z&&!n){if(O(),K==="FOLDER"){r(B);return}if(K==="ITEM"){if(!Y.replace(/^item:/,""))return;const Q=cR(J.droppableId),ce=cR(Z.droppableId);i({orderedFolders:t,sourceFolder:Q,sourceIndex:J.index,destinationFolder:ce,destinationIndex:Z.index})}}},[n,O,r,i,t]),changeFolder:A,changeMingSikType:C,viewAndClose:D,requestDelete:P,createFolderAndNotify:I,requestDeleteFolder:U,toggleFolderOpen:W,toggleFolderFavorite:q}};function Efe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=_.useState(!1),d=wn(xe=>xe.settings),h=wn(xe=>xe.setKey),p=wn(xe=>xe.saveToServer),{list:b,remove:y,update:k,moveItemByDnD:w,toggleFavoriteWithReorder:S,unsetFolderForFolder:j,applyNextList:O}=xn(),{folderFavMap:A,setFolderFavMap:C,folderOpenMap:D,setFolderOpenMap:P,newFolderName:I,setNewFolderName:U,orderedFolders:W,grouped:q,unassignedItems:H,handleDragEnd:B,createFolder:K,deleteFolder:J,UNASSIGNED_LABEL:Z}=nfe(b,{unsetFolderForFolder:j}),Y=Sfe({list:b,orderedFolders:W}),X=d.sidebarCardsCollapsed,Q=d.sidebarCardCollapsedMap,ce=xe=>Q[xe]??X,ie=xe=>{h("sidebarCardCollapsedMap",xe),p()},z=xe=>{h("sidebarCardsCollapsed",xe);const se=b.reduce((Ue,Ke)=>(Ue[Ke.id]=xe,Ue),{});ie(se)},V=xe=>{ie({...Q,[xe]:!(Q[xe]??!0)})},{isFiltering:ne,filteredUnassigned:oe,filteredGrouped:de,totalMatches:me}=_fe({search:Y.search,searchMode:Y.searchMode,orderedFolders:W,unassignedItems:H,grouped:q}),ye=kfe({list:b,applyNextList:O,orderedFolders:W,isFiltering:ne,handleFolderDragEnd:B,moveItemByDnD:w,update:k,remove:y,onView:n,onClose:t,onDeleteView:a,folderFavMap:A,setFolderFavMap:C,setFolderOpenMap:P,createFolder:K,deleteFolder:J,newFolderName:I,setNewFolderName:U,stashScrollTop:Y.stashScrollTop}),Ne=()=>{u(!0)},ae=xe=>{ju.flushSync(()=>{u(!1),ye.handleDrop(xe)})},Ee=()=>{Ss.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(rfe,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{Ee()},isLoggedIn:o}),g.jsx(Sp,{onBeforeDragStart:Ne,onDragEnd:ae,children:g.jsxs("div",{ref:Y.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsxs(g.Fragment,{children:[g.jsx(ife,{search:Y.search,setSearch:Y.setSearch,searchMode:Y.searchMode,setSearchMode:Y.setSearchMode,isFiltering:ne,totalMatches:me}),g.jsx(afe,{newFolderName:I,setNewFolderName:U,isFiltering:ne,onCreate:ye.createFolderAndNotify,totalCount:b.length,collapsed:X,onToggleCollapse:()=>z(!X)})]}),g.jsx(oR,{droppableId:xfe,isDropDisabled:ne,className:"mb-6",items:oe.map((xe,se)=>g.jsx(lR,{m:xe,index:se,orderedFolders:W,unassignedLabel:Z,isDragDisabled:ne,collapsed:ce(xe.id),memoOpen:!!Y.memoOpenMap[xe.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>V(xe.id),onChangeFolder:ye.changeFolder,onChangeMingSikType:ye.changeMingSikType,onView:ye.viewAndClose,onEdit:Ue=>i(Ue),onDelete:ye.requestDelete,onToggleFavorite:Ue=>void S(Ue,W)},xe.id))}),g.jsx(Tf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:ne,children:xe=>g.jsxs("div",{ref:xe.innerRef,...xe.droppableProps,children:[W.map((se,Ue)=>{const Ke=wfe(se),Je=de[se]||[],Oe=!!D[se],$e=!!A[se];return g.jsx(ofe,{folderName:se,folderIndex:Ue,isOpen:Oe,isFavorite:$e,itemCount:Je.length,isDragDisabled:ne,onToggleOpen:()=>ye.toggleFolderOpen(se),onToggleFavorite:()=>ye.toggleFolderFavorite(se),onDelete:()=>ye.requestDeleteFolder(se),inner:g.jsx(oR,{droppableId:Ke,isDropDisabled:ne,className:"mt-2",items:Je.map((Fe,Be)=>g.jsx(lR,{m:Fe,index:Be,orderedFolders:W,unassignedLabel:Z,isDragDisabled:ne,collapsed:ce(Fe.id),memoOpen:!!Y.memoOpenMap[Fe.id],onToggleMemo:Y.toggleMemo,onToggleCollapsed:()=>V(Fe.id),onChangeFolder:ye.changeFolder,onChangeMingSikType:ye.changeMingSikType,onView:ye.viewAndClose,onEdit:bt=>i(bt),onDelete:ye.requestDelete,onToggleFavorite:bt=>void S(bt,W)},Fe.id))})},`folder-${se}`)}),xe.placeholder]})})]})})]})]})}function dR(e){return{...e,calendarType:e.calendarType??"solar"}}function fR(e){return!e.birthTime||e.birthTime===""}function hR(e){return!e.birthPlace||e.birthPlace.name===""}function Tfe(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Xi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const G7="ms_folders";function Afe(){try{const e=JSON.parse(localStorage.getItem(G7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function jfe(e){localStorage.setItem(G7,JSON.stringify(e))}function Nfe(e){const[t,n]=_.useState(!1),[r,i]=_.useState(()=>dR(e)),[a,o]=_.useState(fR(e)),[l,u]=_.useState(hR(e)),[d,h]=_.useState([]);return _.useEffect(()=>{h(Afe())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(y,k)=>{i(w=>({...w,[y]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(dR(e)),o(fR(e)),u(hR(e))}}}const Y7=["","","","","",""];function Ofe(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...Y7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[vn,...i]}function Cfe({list:e,customFolders:t,form:n}){const r=_.useMemo(()=>Ofe(e,t),[e,t]),i=_.useMemo(()=>Tfe(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Mfe(e,t,n){if(!e.name||e.name.trim()==="")return"";const r=CT(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=MT(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"":null:i.message}function Dfe({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=Mfe(t,n,r);if(b){alert(b);return}const y=hu(t.folder===vn?void 0:t.folder),k=h6({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:y,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const w={...e,...k.value};if(w.folder&&!Y7.includes(w.folder)&&!i.includes(w.folder)){const S=[...i,w.folder];a(S),jfe(S)}o(e.id,w),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const P1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Pfe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Rfe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",vs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Lfe="text-xs text-neutral-500 dark:text-neutral-400",sb="accent-violet-600 dark:accent-violet-400",mR="accent-violet-600 dark:accent-violet-400",rx="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Ife=`${rx} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,$fe=`${rx} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,pR=`${rx} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Bfe=`${rx} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function zfe({item:e,onClose:t}){const{list:n,update:r,remove:i}=xn(),a=Nfe(e),o=Cfe({list:n,customFolders:a.customFolders,form:a.form}),l=Dfe({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("input",{className:P1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" (YYYYMMDD)"}),g.jsx("input",{className:P1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Lfe,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:"  (HHMM)"}),g.jsx("input",{className:`${P1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:mR,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:sb,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:" "}),g.jsx(JB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:mR,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx(_6,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("select",{className:Pfe,value:a.form.folder??vn,onChange:u=>{const d=u.target.value;d===vn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===vn?vn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:vs,children:""}),g.jsx("textarea",{className:Rfe,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:pR,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Bfe,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Ife,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:$fe,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:pR,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??vn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Ufe({children:e}){const t=Gr(),[n,r]=_.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Ffe(){const[e,t]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{const{data:a}=await De.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await De.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Hfe({allow:e,children:t}){const{role:n,loading:r}=Ffe();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function q7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=q7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function on(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=q7(e))&&(r&&(r+=" "),r+=t);return r}var Gfe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sA(e){if(typeof e!="string")return!1;var t=Gfe;return t.includes(e)}var Yfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qfe=new Set(Yfe);function K7(e){return typeof e!="string"?!1:qfe.has(e)}function W7(e){return typeof e=="string"&&e.startsWith("data-")}function io(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(K7(n)||W7(n))&&(t[n]=e[n]);return t}function ix(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return io(t)}return typeof e=="object"&&!Array.isArray(e)?io(e):null}function Ea(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(K7(n)||W7(n)||sA(n))&&(t[n]=e[n]);return t}function Kfe(e){return e==null?null:_.isValidElement(e)?Ea(e.props):typeof e=="object"&&!Array.isArray(e)?Ea(e):null}var Wfe=["children","width","height","viewBox","className","style","title","desc"];function D2(){return D2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D2.apply(null,arguments)}function Vfe(e,t){if(e==null)return{};var n,r,i=Zfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var V7=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=Vfe(e,Wfe),p=a||{width:r,height:i,x:0,y:0},b=on("recharts-surface",o);return _.createElement("svg",D2({},Ea(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,d),n)}),Xfe=["children","className"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(null,arguments)}function Jfe(e,t){if(e==null)return{};var n,r,i=Qfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bo=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Jfe(e,Xfe),a=on("recharts-layer",r);return _.createElement("g",P2({className:a},Ea(i),{ref:t}),n)}),ehe=_.createContext(null);function jn(e){return function(){return e}}const R2=Math.PI,L2=2*R2,eu=1e-6,the=L2-eu;function Z7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nhe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Z7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Z7:nhe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>eu)if(!(Math.abs(p*u-d*h)>eu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,k=i-l,w=u*u+d*d,S=y*y+k*k,j=Math.sqrt(w),O=Math.sqrt(b),A=a*Math.tan((R2-Math.acos((w+b-S)/(2*j*O)))/2),C=A/O,D=A/j;Math.abs(C-1)>eu&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*y>h*k)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>eu||Math.abs(this._y1-h)>eu)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%L2+L2),b>the?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>eu&&this._append`A${r},${r},0,${+(b>=R2)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function X7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rhe(t)}function lA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function J7(e){this._context=e}J7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ax(e){return new J7(e)}function Q7(e){return e[0]}function e9(e){return e[1]}function t9(e,t){var n=jn(!0),r=null,i=ax,a=null,o=X7(l);e=typeof e=="function"?e:e===void 0?Q7:jn(e),t=typeof t=="function"?t:t===void 0?e9:jn(t);function l(u){var d,h=(u=lA(u)).length,p,b=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:jn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:jn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:jn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function lb(e,t,n){var r=null,i=jn(!0),a=null,o=ax,l=null,u=X7(d);e=typeof e=="function"?e:e===void 0?Q7:jn(+e),t=typeof t=="function"?t:jn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?e9:jn(+n);function d(p){var b,y,k,w=(p=lA(p)).length,S,j=!1,O,A=new Array(w),C=new Array(w);for(a==null&&(l=o(O=u())),b=0;b<=w;++b){if(!(b<w&&i(S=p[b],b,p))===j)if(j=!j)y=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=y;--k)l.point(A[k],C[k]);l.lineEnd(),l.areaEnd()}j&&(A[b]=+e(S,b,p),C[b]=+t(S,b,p),l.point(r?+r(S,b,p):A[b],n?+n(S,b,p):C[b]))}if(O)return l=null,O+""||null}function h(){return t9().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:jn(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:jn(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:jn(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:jn(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:jn(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:jn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:jn(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class n9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ihe(e){return new n9(e,!0)}function ahe(e){return new n9(e,!1)}function Ly(){}function Iy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r9(e){this._context=e}r9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ohe(e){return new r9(e)}function i9(e){this._context=e}i9.prototype={areaStart:Ly,areaEnd:Ly,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function she(e){return new i9(e)}function a9(e){this._context=e}a9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lhe(e){return new a9(e)}function o9(e){this._context=e}o9.prototype={areaStart:Ly,areaEnd:Ly,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function che(e){return new o9(e)}function gR(e){return e<0?-1:1}function bR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(gR(a)+gR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function yR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function R1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function $y(e){this._context=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R1(this,this._t0,yR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,R1(this,yR(this,n=bR(this,e,t)),n);break;default:R1(this,this._t0,n=bR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function s9(e){this._context=new l9(e)}(s9.prototype=Object.create($y.prototype)).point=function(e,t){$y.prototype.point.call(this,t,e)};function l9(e){this._context=e}l9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function uhe(e){return new $y(e)}function dhe(e){return new s9(e)}function c9(e){this._context=e}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=vR(e),i=vR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vR(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function fhe(e){return new c9(e)}function ox(e,t){this._context=e,this._t=t}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function hhe(e){return new ox(e,.5)}function mhe(e){return new ox(e,0)}function phe(e){return new ox(e,1)}function cf(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function I2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ghe(e,t){return e[t]}function bhe(e){const t=[];return t.key=e,t}function yhe(){var e=jn([]),t=I2,n=cf,r=ghe;function i(a){var o=Array.from(e.apply(this,arguments),bhe),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=lA(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:jn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:jn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?I2:typeof a=="function"?a:jn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??cf,i):n},i}function vhe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}cf(e,t)}}function xhe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}cf(e,t)}}function whe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,y=(p-b)/2,k=0;k<l;++k){var w=e[t[k]],S=w[r][1]||0,j=w[r-1][1]||0;y+=S-j}u+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,cf(e,t)}}var L1={},I1={},xR;function _he(){return xR||(xR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(I1)),I1}var $1={},wR;function u9(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})($1)),$1}var B1={},_R;function cA(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(B1)),B1}var z1={},U1={},SR;function She(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(U1)),U1}var kR;function uA(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=She(),n=cA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(z1)),z1}var ER;function dA(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_he(),n=u9(),r=cA(),i=uA();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(L1)),L1}var F1,TR;function khe(){return TR||(TR=1,F1=dA().get),F1}var Ehe=khe();const sx=ki(Ehe);var xa=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,Ds=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),zo=e=>tt(e)||typeof e=="string",The=0,Qm=e=>{var t=++The;return"".concat(e||"").concat(t)},Zl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return r;var a;if(Ds(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return ao(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},d9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Do(e,t,n){return tt(e)&&tt(t)?e+n*(t-e):t}function f9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):sx(r,t))===n)}var Cr=e=>e===null||typeof e>"u",fA=e=>Cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ahe(e){return e!=null}function Op(){}var h9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sA(i)&&(r[i]=(a=>n[i](n,a)))}),r},jhe=(e,t,n)=>r=>(e(t,n,r),null),Nhe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];sA(i)&&typeof a=="function"&&(r||(r={}),r[i]=jhe(a,t,n))}),r};function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ohe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){Che(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Che(e,t,n){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(e,t){var n=Ohe({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var H1={},G1={},jR;function Phe(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(G1)),G1}var Y1={},NR;function m9(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Y1)),Y1}var q1={},K1={},W1={},OR;function Rhe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(W1)),W1}var CR;function mA(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rhe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(K1)),K1}var V1={},MR;function Lhe(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(V1)),V1}var DR;function Ihe(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mA(),n=Lhe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(q1)),q1}var Z1={},X1={},PR;function $he(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(X1)),X1}var J1={},Q1={},eS={},tS={},RR;function p9(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(tS)),tS}var nS={},LR;function g9(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(nS)),nS}var rS={},IR;function b9(){return IR||(IR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(rS)),rS}var $R;function Bhe(){return $R||($R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p9(),n=g9(),r=b9();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function y(k,w,S,j,O,A){const C=b(k,w,S,j,O,A);return C!==void 0?!!C:a(k,w,y,A)},new Map)}function a(h,p,b,y){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,y);case"function":return Object.keys(p).length>0?a(h,{...p},b,y):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,y);if(p instanceof Map)return l(h,p,b,y);if(p instanceof Set)return d(h,p,b,y);const k=Object.keys(p);if(h==null)return k.length===0;if(k.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let w=0;w<k.length;w++){const S=k[w];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!b(h[S],p[S],S,h,p,y))return!1}return!0}finally{y?.delete(p)}}function l(h,p,b,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,w]of p.entries()){const S=h.get(k);if(b(S,w,k,h,p,y)===!1)return!1}return!0}function u(h,p,b,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let w=0;w<p.length;w++){const S=p[w];let j=!1;for(let O=0;O<h.length;O++){if(k.has(O))continue;const A=h[O];let C=!1;if(b(A,S,w,h,p,y)&&(C=!0),C){k.add(O),j=!0;break}}if(!j)return!1}return!0}function d(h,p,b,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,y):!1}e.isMatchWith=i,e.isSetMatch=d})(eS)),eS}var BR;function y9(){return BR||(BR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bhe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Q1)),Q1}var iS={},aS={},oS={},zR;function zhe(){return zR||(zR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(oS)),oS}var sS={},UR;function v9(){return UR||(UR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(sS)),sS}var lS={},FR;function x9(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",y="[object Object]",k="[object Error]",w="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",U="[object BigInt64Array]",W="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=W,e.float64ArrayTag=q,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=I,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(lS)),lS}var cS={},HR;function Uhe(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(cS)),cS}var GR;function w9(){return GR||(GR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zhe(),n=v9(),r=x9(),i=g9(),a=Uhe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,y=new Map,k=void 0){const w=k?.(h,p,b,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=l(h[j],j,b,y,k);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[j,O]of h)S.set(j,l(O,j,b,y,k));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const j of h)S.add(l(j,void 0,b,y,k));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=l(h[j],j,b,y,k);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),u(S,h,b,y,k),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,b,y,k),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),u(S,h,b,y,k),S}return h}function u(h,p,b=h,y,k){const w=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<w.length;S++){const j=w[S],O=Object.getOwnPropertyDescriptor(h,j);(O==null||O.writable)&&(h[j]=l(p[j],j,b,y,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(aS)),aS}var YR;function Fhe(){return YR||(YR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(iS)),iS}var qR;function Hhe(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y9(),n=Fhe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(J1)),J1}var uS={},dS={},fS={},KR;function Ghe(){return KR||(KR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9(),n=x9();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(fS)),fS}var WR;function Yhe(){return WR||(WR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ghe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(dS)),dS}var hS={},mS={},VR;function _9(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(mS)),mS}var pS={},ZR;function qhe(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v9();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(pS)),pS}var XR;function Khe(){return XR||(XR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9(),n=_9(),r=qhe(),i=uA();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(hS)),hS}var JR;function Whe(){return JR||(JR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y9(),n=cA(),r=Yhe(),i=dA(),a=Khe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(uS)),uS}var QR;function Vhe(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m9(),n=$he(),r=Hhe(),i=Whe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Z1)),Z1}var e3;function Zhe(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Phe(),n=m9(),r=Ihe(),i=Vhe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(H1)),H1}var gS,t3;function Xhe(){return t3||(t3=1,gS=Zhe().uniqBy),gS}var Jhe=Xhe();const n3=ki(Jhe);function Qhe(e,t,n){return t===!0?n3(e,n):typeof t=="function"?n3(e,t):e}var bS={exports:{}},yS={},vS={exports:{}},xS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function eme(){if(r3)return xS;r3=1;var e=gf();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var y=b(),k=r({inst:{value:y,getSnapshot:b}}),w=k[0].inst,S=k[1];return a(function(){w.value=y,w.getSnapshot=b,u(w)&&S({inst:w})},[p,y,b]),i(function(){return u(w)&&S({inst:w}),p(function(){u(w)&&S({inst:w})})},[p]),o(y),y}function u(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!n(p,y)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return xS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,xS}var i3;function tme(){return i3||(i3=1,vS.exports=eme()),vS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function nme(){if(a3)return yS;a3=1;var e=gf(),t=tme();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return yS.useSyncExternalStoreWithSelector=function(d,h,p,b,y){var k=a(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=l(function(){function j(P){if(!O){if(O=!0,A=P,P=b(P),y!==void 0&&w.hasValue){var I=w.value;if(y(I,P))return C=I}return C=P}if(I=C,r(A,P))return I;var U=b(P);return y!==void 0&&y(I,U)?(A=P,I):(A=P,C=U)}var O=!1,A,C,D=p===void 0?null:p;return[function(){return j(h())},D===null?void 0:function(){return j(D())}]},[h,p,b,y]);var S=i(d,k[0],k[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},yS}var o3;function rme(){return o3||(o3=1,bS.exports=nme()),bS.exports}var ime=rme(),pA=_.createContext(null),ame=e=>e,yr=()=>{var e=_.useContext(pA);return e?e.store.dispatch:ame},Gb=()=>{},ome=()=>Gb,sme=(e,t)=>e===t;function rt(e){var t=_.useContext(pA);return ime.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ome,t?t.store.getState:Gb,t?t.store.getState:Gb,t?e:Gb,sme)}function lme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ume(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var s3=e=>Array.isArray(e)?e:[e];function dme(e){const t=Array.isArray(e[0])?e[0]:e;return ume(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fme(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var hme=class{constructor(e){this.value=e}deref(){return this.value}},mme=typeof WeakRef<"u"?WeakRef:hme,pme=0,l3=1;function cb(){return{s:pme,v:void 0,o:null,p:null}}function S9(e,t={}){let n=cb();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const w=k.get(y);w===void 0?(l=cb(),k.set(y,l)):l=w}else{let k=l.p;k===null&&(l.p=k=new Map);const w=k.get(y);w===void 0?(l=cb(),k.set(y,l)):l=w}}const d=l;let h;if(l.s===l3)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new mme(h):h}return d.s=l3,d.v=h,h}return o.clearCache=()=>{n=cb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function gme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),lme(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:y=S9,argsMemoizeOptions:k=[]}=h,w=s3(b),S=s3(k),j=dme(i),O=p(function(){return a++,d.apply(null,arguments)},...w),A=y(function(){o++;const D=fme(j,arguments);return l=O.apply(null,D),l},...S);return Object.assign(A,{resultFunc:d,memoizedResultFunc:O,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var we=gme(S9),bme=Object.assign((e,t=we)=>{cme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>bme}),wS={},_S={},SS={},c3;function yme(){return c3||(c3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(SS)),SS}var kS={},ES={},u3;function k9(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ES)),ES}var d3;function vme(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(kS)),kS}var f3;function xme(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yme(),n=vme(),r=uA();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,k)=>{let w=y;for(let S=0;S<k.length&&w!=null;++S)w=w[k[S]];return w},h=(y,k)=>k==null||y==null?k:typeof y=="object"&&"key"in y?Object.hasOwn(k,y.key)?k[y.key]:d(k,y.path):typeof y=="function"?y(k):Array.isArray(y)?d(k,y):typeof k=="object"?k[y]:k,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(k=>h(k,y))})).slice().sort((y,k)=>{for(let w=0;w<p.length;w++){const S=t.compareValues(y.criteria[w],k.criteria[w],l[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(_S)),_S}var TS={},h3;function wme(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(TS)),TS}var AS={},m3;function E9(){return m3||(m3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_9(),n=mA(),r=p9(),i=b9();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(AS)),AS}var p3;function _me(){return p3||(p3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xme(),n=wme(),r=E9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(wS)),wS}var jS,g3;function Sme(){return g3||(g3=1,jS=_me().sortBy),jS}var kme=Sme();const lx=ki(kme);var T9=e=>e.legend.settings,Eme=e=>e.legend.size,Tme=e=>e.legend.payload;we([Tme,T9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?lx(r,n):r});var ub=1;function Ame(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>ub||Math.abs(o.left-t.left)>ub||Math.abs(o.top-t.top)>ub||Math.abs(o.width-t.width)>ub)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var A9=Symbol.for("immer-nothing"),b3=Symbol.for("immer-draftable"),ti=Symbol.for("immer-state");function Za(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yi=Object,uf=Yi.getPrototypeOf,By="constructor",cx="prototype",$2="configurable",zy="enumerable",Yb="writable",ep="value",Ps=e=>!!e&&!!e[ti];function oo(e){return e?j9(e)||ux(e)||!!e[b3]||!!e[By]?.[b3]||dx(e)||fx(e):!1}var jme=Yi[cx][By].toString(),y3=new WeakMap;function j9(e){if(!e||!gA(e))return!1;const t=uf(e);if(t===null||t===Yi[cx])return!0;const n=Yi.hasOwnProperty.call(t,By)&&t[By];if(n===Object)return!0;if(!Ld(n))return!1;let r=y3.get(n);return r===void 0&&(r=Function.toString.call(n),y3.set(n,r)),r===jme}function Cp(e,t,n=!0){Mp(e)===0?(n?Reflect.ownKeys(e):Yi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Mp(e){const t=e[ti];return t?t.type_:ux(e)?1:dx(e)?2:fx(e)?3:0}var v3=(e,t,n=Mp(e))=>n===2?e.has(t):Yi[cx].hasOwnProperty.call(e,t),B2=(e,t,n=Mp(e))=>n===2?e.get(t):e[t],Uy=(e,t,n,r=Mp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Nme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ux=Array.isArray,dx=e=>e instanceof Map,fx=e=>e instanceof Set,gA=e=>typeof e=="object",Ld=e=>typeof e=="function",NS=e=>typeof e=="boolean",xs=e=>e.copy_||e.base_,bA=e=>e.modified_?e.copy_:e.base_;function z2(e,t){if(dx(e))return new Map(e);if(fx(e))return new Set(e);if(ux(e))return Array[cx].slice.call(e);const n=j9(e);if(t===!0||t==="class_only"&&!n){const r=Yi.getOwnPropertyDescriptors(e);delete r[ti];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[Yb]===!1&&(l[Yb]=!0,l[$2]=!0),(l.get||l.set)&&(r[o]={[$2]:!0,[Yb]:!0,[zy]:l[zy],[ep]:e[o]})}return Yi.create(uf(e),r)}else{const r=uf(e);if(r!==null&&n)return{...e};const i=Yi.create(r);return Yi.assign(i,e)}}function yA(e,t=!1){return hx(e)||Ps(e)||!oo(e)||(Mp(e)>1&&Yi.defineProperties(e,{set:db,add:db,clear:db,delete:db}),Yi.freeze(e),t&&Cp(e,(n,r)=>{yA(r,!0)},!1)),e}function Ome(){Za(2)}var db={[ep]:Ome};function hx(e){return e===null||!gA(e)?!0:Yi.isFrozen(e)}var Fy="MapSet",U2="Patches",N9={};function df(e){const t=N9[e];return t||Za(0,e),t}var Cme=e=>!!N9[e],tp,O9=()=>tp,Mme=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Cme(Fy)?df(Fy):void 0});function x3(e,t){t&&(e.patchPlugin_=df(U2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F2(e){H2(e),e.drafts_.forEach(Dme),e.drafts_=null}function H2(e){e===tp&&(tp=e.parent_)}var w3=e=>tp=Mme(tp,e);function Dme(e){const t=e[ti];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ti].modified_&&(F2(t),Za(4)),oo(e)&&(e=S3(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ti].base_,e,t)}else e=S3(t,n);return Pme(t,e,!0),F2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A9?e:void 0}function S3(e,t){if(hx(t))return t;const n=t[ti];if(!n)return vA(t,e.handledSet_,e);if(!mx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);D9(n,e)}return n.copy_}function Pme(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yA(t,n)}function C9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mx=(e,t)=>e.scope_===t,Rme=[];function M9(e,t,n,r){const i=xs(e),a=e.type_;if(r!==void 0&&B2(i,r,a)===t){Uy(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Cp(i,(u,d)=>{if(Ps(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??Rme;for(const l of o)Uy(i,l,n,a)}function Lme(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!mx(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=bA(a);M9(e,a.draft_??a,o,n),D9(a,i)})}function D9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}C9(e)}}function Ime(e,t,n){const{scope_:r}=e;if(Ps(n)){const i=n[ti];mx(i,r)&&i.callbacks_.push(function(){qb(e);const o=bA(i);M9(e,n,o,t)})}else oo(n)&&e.callbacks_.push(function(){const a=xs(e);B2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&vA(B2(e.copy_,t,e.type_),r.handledSet_,r)})}function vA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ps(e)||t.has(e)||!oo(e)||hx(e)||(t.add(e),Cp(e,(r,i)=>{if(Ps(i)){const a=i[ti];if(mx(a,n)){const o=bA(a);Uy(e,r,o,e.type_),C9(a)}}else oo(i)&&vA(i,t,n)})),e}function $me(e,t){const n=ux(e),r={type_:n?1:0,scope_:t?t.scope_:O9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=xA;n&&(i=[r],a=np);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var xA={get(e,t){if(t===ti)return e;const n=xs(e);if(!v3(n,t,e.type_))return Bme(e,n,t);const r=n[t];if(e.finalized_||!oo(r))return r;if(r===OS(e.base_,t)){qb(e);const i=e.type_===1?+t:t,a=Y2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in xs(e)},ownKeys(e){return Reflect.ownKeys(xs(e))},set(e,t,n){const r=P9(xs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=OS(xs(e),t),a=i?.[ti];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Nme(n,i)&&(n!==void 0||v3(e.base_,t,e.type_)))return!0;qb(e),G2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Ime(e,t,n)),!0},deleteProperty(e,t){return qb(e),OS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),G2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Yb]:!0,[$2]:e.type_!==1||t!=="length",[zy]:r[zy],[ep]:n[t]}},defineProperty(){Za(11)},getPrototypeOf(e){return uf(e.base_)},setPrototypeOf(){Za(12)}},np={};Cp(xA,(e,t)=>{np[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});np.deleteProperty=function(e,t){return np.set.call(this,e,t,void 0)};np.set=function(e,t,n){return xA.set.call(this,e[0],t,n,e[0])};function OS(e,t){const n=e[ti];return(n?xs(n):e)[t]}function Bme(e,t,n){const r=P9(t,n);return r?ep in r?r[ep]:r.get?.call(e.draft_):void 0}function P9(e,t){if(!(t in e))return;let n=uf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=uf(n)}}function G2(e){e.modified_||(e.modified_=!0,e.parent_&&G2(e.parent_))}function qb(e){e.copy_||(e.assigned_=new Map,e.copy_=z2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ld(n)&&!Ld(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}Ld(r)||Za(6),i!==void 0&&!Ld(i)&&Za(7);let a;if(oo(n)){const o=w3(this),l=Y2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?F2(o):H2(o)}return x3(o,i),_3(a,o)}else if(!n||!gA(n)){if(a=r(n),a===void 0&&(a=n),a===A9&&(a=void 0),this.autoFreeze_&&yA(a,!0),i){const o=[],l=[];df(U2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Za(1,n)},this.produceWithPatches=(n,r)=>{if(Ld(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},NS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),NS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),NS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){oo(t)||Za(8),Ps(t)&&(t=eo(t));const n=w3(this),r=Y2(n,t,void 0);return r[ti].isManual_=!0,H2(n),r}finishDraft(t,n){const r=t&&t[ti];(!r||!r.isManual_)&&Za(9);const{scope_:i}=r;return x3(i,n),_3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=df(U2).applyPatches_;return Ps(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Y2(e,t,n,r){const[i,a]=dx(t)?df(Fy).proxyMap_(t,n):fx(t)?df(Fy).proxySet_(t,n):$me(t,n);return(n?.scope_??O9()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Lme(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function eo(e){return Ps(e)||Za(10,e),R9(e)}function R9(e){if(!oo(e)||hx(e))return e;const t=e[ti];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=z2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=z2(e,!0);return Cp(n,(i,a)=>{Uy(n,i,R9(a))},r),t&&(t.finalized_=!1),n}var Ume=new zme,L9=Ume.produce;function I9(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Fme=I9(),Hme=I9,Gme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zm:zm.apply(null,arguments)};function Ta(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Wi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>t4(r)&&r.type===e,n}var $9=class km extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,km.prototype)}static get[Symbol.species](){return km}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new km(...t[0].concat(this)):new km(...t.concat(this))}};function k3(e){return oo(e)?L9(e,()=>{}):e}function fb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Yme(e){return typeof e=="boolean"}var qme=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new $9;return n&&(Yme(n)?o.push(Fme):o.push(Hme(n.extraArgument))),o},B9="RTK_autoBatch",fn=()=>e=>({payload:e,meta:{[B9]:!0}}),E3=e=>t=>{setTimeout(t,e)},z9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:E3(10):e.type==="callback"?e.queueNotification:E3(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[B9],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},Kme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new $9(e);return r&&i.push(z9(typeof r=="object"?r:void 0)),i};function Wme(e){const t=qme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(aT(n))l=QB(n);else throw new Error(Wi(1));let u;typeof r=="function"?u=r(t):u=t();let d=zm;i&&(d=Gme({trace:!1,...typeof i=="object"&&i}));const h=e4(...u),p=Kme(h);let b=typeof o=="function"?o(p):p();const y=d(...b);return oT(l,a,y)}function U9(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Wi(28));if(l in t)throw new Error(Wi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Vme(e){return typeof e=="function"}function Zme(e,t){let[n,r,i]=U9(t),a;if(Vme(e))a=()=>k3(e());else{const l=k3(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Ps(h)){const y=p(h,u);return y===void 0?h:y}else{if(oo(h))return L9(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Xme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jme=(e=21)=>{let t="",n=e;for(;n--;)t+=Xme[Math.random()*64|0];return t},Qme=Symbol.for("rtk-slice-createasyncthunk");function epe(e,t){return`${e}/${t}`}function tpe({creators:e}={}){const t=e?.asyncThunk?.[Qme];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Wi(11));const o=(typeof r.reducers=="function"?r.reducers(rpe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,C){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(Wi(12));if(D in u.sliceCaseReducersByType)throw new Error(Wi(13));return u.sliceCaseReducersByType[D]=C,d},addMatcher(A,C){return u.sliceMatchers.push({matcher:A,reducer:C}),d},exposeAction(A,C){return u.actionCreators[A]=C,d},exposeCaseReducer(A,C){return u.sliceCaseReducersByName[A]=C,d}};l.forEach(A=>{const C=o[A],D={reducerName:A,type:epe(i,A),createNotation:typeof r.reducers=="function"};ape(C)?spe(D,C,d,t):ipe(D,C,d)});function h(){const[A={},C=[],D=void 0]=typeof r.extraReducers=="function"?U9(r.extraReducers):[r.extraReducers],P={...A,...u.sliceCaseReducersByType};return Zme(r.initialState,I=>{for(let U in P)I.addCase(U,P[U]);for(let U of u.sliceMatchers)I.addMatcher(U.matcher,U.reducer);for(let U of C)I.addMatcher(U.matcher,U.reducer);D&&I.addDefaultCase(D)})}const p=A=>A,b=new Map,y=new WeakMap;let k;function w(A,C){return k||(k=h()),k(A,C)}function S(){return k||(k=h()),k.getInitialState()}function j(A,C=!1){function D(I){let U=I[A];return typeof U>"u"&&C&&(U=fb(y,D,S)),U}function P(I=p){const U=fb(b,C,()=>new WeakMap);return fb(U,I,()=>{const W={};for(const[q,H]of Object.entries(r.selectors??{}))W[q]=npe(H,I,()=>fb(y,I,S),C);return W})}return{reducerPath:A,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(A,{reducerPath:C,...D}={}){const P=C??a;return A.inject({reducerPath:P,reducer:w},D),{...O,...j(P,!0)}}};return O}}function npe(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Ei=tpe();function rpe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function ipe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!ope(r))throw new Error(Wi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ta(e,o):Ta(e))}function ape(e){return e._reducerDefinitionType==="asyncThunk"}function ope(e){return e._reducerDefinitionType==="reducerWithPrepare"}function spe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Wi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||hb,pending:l||hb,rejected:u||hb,settled:d||hb})}function hb(){}var lpe="task",F9="listener",H9="completed",wA="cancelled",cpe=`task-${wA}`,upe=`task-${H9}`,q2=`${F9}-${wA}`,dpe=`${F9}-${H9}`,px=class{constructor(e){this.code=e,this.message=`${lpe} ${wA} (reason: ${e})`}name="TaskAbortError";message},_A=(e,t)=>{if(typeof e!="function")throw new TypeError(Wi(32))},Hy=()=>{},G9=(e,t=Hy)=>(e.catch(t),e),Y9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mu=e=>{if(e.aborted)throw new px(e.reason)};function q9(e,t){let n=Hy;return new Promise((r,i)=>{const a=()=>i(new px(e.reason));if(e.aborted){a();return}n=Y9(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Hy})}var fpe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof px?"cancelled":"rejected",error:n}}finally{t?.()}},Gy=e=>t=>G9(q9(e,t).then(n=>(mu(e),n))),K9=e=>{const t=Gy(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Vd}=Object,T3={},gx="listenerMiddleware",hpe=(e,t)=>{const n=r=>Y9(e,()=>r.abort(e.reason));return(r,i)=>{_A(r);const a=new AbortController;n(a);const o=fpe(async()=>{mu(e),mu(a.signal);const l=await r({pause:Gy(a.signal),delay:K9(a.signal),signal:a.signal});return mu(a.signal),l},()=>a.abort(upe));return i?.autoJoin&&t.push(o.catch(Hy)),{result:Gy(e)(o),cancel(){a.abort(cpe)}}}},mpe=(e,t)=>{const n=async(r,i)=>{mu(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await q9(t,Promise.race(l));return mu(t),u}finally{a()}};return(r,i)=>G9(n(r,i))},W9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ta(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Wi(21));return _A(a),{predicate:i,type:t,effect:a}},V9=Vd(e=>{const{type:t,predicate:n,effect:r}=W9(e);return{id:Jme(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Wi(22))}}},{withTypes:()=>V9}),A3=(e,t)=>{const{type:n,effect:r,predicate:i}=W9(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},K2=e=>{e.pending.forEach(t=>{t.abort(q2)})},ppe=(e,t)=>()=>{for(const n of t.keys())K2(n);e.clear()},j3=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Z9=Vd(Ta(`${gx}/add`),{withTypes:()=>Z9}),gpe=Ta(`${gx}/removeAll`),X9=Vd(Ta(`${gx}/remove`),{withTypes:()=>X9}),bpe=(...e)=>{console.error(`${gx}/error`,...e)},Dp=(e={})=>{const t=new Map,n=new Map,r=y=>{const k=n.get(y)??0;n.set(y,k+1)},i=y=>{const k=n.get(y)??1;k===1?n.delete(y):n.set(y,k-1)},{extra:a,onError:o=bpe}=e;_A(o);const l=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),k=>{y.unsubscribe(),k?.cancelActive&&K2(y)}),u=y=>{const k=A3(t,y)??V9(y);return l(k)};Vd(u,{withTypes:()=>u});const d=y=>{const k=A3(t,y);return k&&(k.unsubscribe(),y.cancelActive&&K2(k)),!!k};Vd(d,{withTypes:()=>d});const h=async(y,k,w,S)=>{const j=new AbortController,O=mpe(u,j.signal),A=[];try{y.pending.add(j),r(y),await Promise.resolve(y.effect(k,Vd({},w,{getOriginalState:S,condition:(C,D)=>O(C,D).then(Boolean),take:O,delay:K9(j.signal),pause:Gy(j.signal),extra:a,signal:j.signal,fork:hpe(j.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,D,P)=>{C!==j&&(C.abort(q2),P.delete(C))})},cancel:()=>{j.abort(q2),y.pending.delete(j)},throwIfCancelled:()=>{mu(j.signal)}})))}catch(C){C instanceof px||j3(o,C,{raisedBy:"effect"})}finally{await Promise.all(A),j.abort(dpe),i(y),y.pending.delete(j)}},p=ppe(t,n);return{middleware:y=>k=>w=>{if(!t4(w))return k(w);if(Z9.match(w))return u(w.payload);if(gpe.match(w)){p();return}if(X9.match(w))return d(w.payload);let S=y.getState();const j=()=>{if(S===T3)throw new Error(Wi(23));return S};let O;try{if(O=k(w),t.size>0){const A=y.getState(),C=Array.from(t.values());for(const D of C){let P=!1;try{P=D.predicate(w,A,S)}catch(I){P=!1,j3(o,I,{raisedBy:"predicate"})}P&&h(D,w,y,j)}}}finally{S=T3}return O},startListening:u,stopListening:d,clearListeners:p}};function Wi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ype={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},J9=Ei({name:"chartLayout",initialState:ype,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:vpe,setLayout:xpe,setChartSize:wpe,setScale:_pe}=J9.actions,Spe=J9.reducer;function Q9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(r){kpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kpe(e,t,n){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Epe(e){var t=Tpe(e,"string");return typeof t=="symbol"?t:t+""}function Tpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t,n){return Cr(e)||Cr(t)?n:zo(t)?sx(e,t,n):typeof t=="function"?t(e):n}var Ape=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&tt(e[a]))return Ud(Ud({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&tt(e[o]))return Ud(Ud({},e),{},{[o]:e[o]+(i||0)})}return e},zs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",e8=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},t8=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:y}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(w=y==="angleAxis"&&a&&a.length>=2?xa(a[0]-a[1])*2*w:w,p||b){var S=(p||b||[]).map((j,O)=>{var A=r?r.indexOf(j):j;return{coordinate:o(A)+w,value:j,offset:w,index:O}});return S.filter(j=>!ao(j.coordinate))}return u&&d?d.map((j,O)=>({coordinate:o(j)+w,value:j,index:O,offset:w})):o.ticks&&h!=null?o.ticks(h).map((j,O)=>({coordinate:o(j)+w,value:j,offset:w,index:O})):o.domain().map((j,O)=>({coordinate:o(j)+w,value:r?r[j]:j,index:O,offset:w}))},O3=1e-4,jpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-O3,a=Math.max(r[0],r[1])+O3,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},Npe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=ao(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Ope=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=ao(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Cpe={sign:Npe,expand:vhe,none:cf,silhouette:xhe,wiggle:whe,positive:Ope},Mpe=(e,t,n)=>{var r=Cpe[n],i=yhe().keys(t).value((a,o)=>Number(Hr(a,o,0))).order(I2).offset(r);return i(e)};function Dpe(e){return e==null?void 0:String(e)}function C3(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Cr(i[t.dataKey])){var l=f9(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Hr(i,Cr(o)?t.dataKey:o);return Cr(u)?null:t.scale(u)}var Ppe=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Rpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Lpe=(e,t,n)=>{if(e!=null)return Rpe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=Q9(d,t,n),p=Ppe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},M3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=lx(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function P3(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Ud(Ud({},t),{},{dataKey:n,payload:r,value:i,name:a})}function n8(e,t){if(e)return String(e);if(typeof t=="string")return t}var Ipe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},$pe=(e,t)=>t==="centric"?e.angle:e.radius,Us=e=>e.layout.width,Fs=e=>e.layout.height,Bpe=e=>e.layout.scale,r8=e=>e.layout.margin,bx=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yx=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zpe="data-recharts-item-index",Upe="data-recharts-item-data-key",Pp=60;function R3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(n),!0).forEach(function(r){Fpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fpe(e,t,n){return(t=Hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e){var t=Gpe(e,"string");return typeof t=="symbol"?t:t+""}function Gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ype=e=>e.brush.height;function qpe(e){var t=yx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pp;return n+i}return n},0)}function Kpe(e){var t=yx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Pp;return n+i}return n},0)}function Wpe(e){var t=bx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Vpe(e){var t=bx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Pr=we([Us,Fs,r8,Ype,qpe,Kpe,Wpe,Vpe,T9,Eme],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=mb(mb({},p),h),y=b.bottom;b.bottom+=r,b=Ape(b,u,d);var k=e-b.left-b.right,w=t-b.top-b.bottom;return mb(mb({brushBottom:y},b),{},{width:Math.max(k,0),height:Math.max(w,0)})}),Zpe=we(Pr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),i8=we(Us,Fs,(e,t)=>({x:0,y:0,width:e,height:t})),Xpe=_.createContext(null),Ti=()=>_.useContext(Xpe)!=null,vx=e=>e.brush,xx=we([vx,Pr,r8],(e,t,n)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:tt(e.width)?e.width:t.width})),CS={},MS={},DS={},L3;function Jpe(){return L3||(L3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{k(),o=void 0,l=null},S=()=>{h()},j=function(...O){if(i?.aborted)return;o=this,l=O;const A=b==null;y(),u&&A&&h()};return j.schedule=y,j.cancel=w,j.flush=S,i?.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(DS)),DS}var I3;function Qpe(){return I3||(I3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jpe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:d}),y=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},k=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=k,y}e.debounce=n})(MS)),MS}var $3;function e0e(){return $3||($3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(CS)),CS}var PS,B3;function t0e(){return B3||(B3=1,PS=e0e().throttle),PS}var n0e=t0e();const r0e=ki(n0e);var qy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},a8=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=Ds(r)?e:Number(r),u=Ds(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},i0e={width:0,height:0,overflow:"visible"},a0e={width:0,overflowX:"visible"},o0e={height:0,overflowY:"visible"},s0e={},l0e=e=>{var{width:t,height:n}=e,r=Ds(t),i=Ds(n);return r&&i?i0e:r?a0e:i?o0e:s0e};function c0e(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function On(e){return Number.isFinite(e)}function Uo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W2.apply(null,arguments)}function z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(n),!0).forEach(function(r){u0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0e(e,t,n){return(t=d0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d0e(e){var t=f0e(e,"string");return typeof t=="symbol"?t:t+""}function f0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8=_.createContext({width:-1,height:-1});function h0e(e){return Uo(e.width)&&Uo(e.height)}function s8(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return h0e(i)?_.createElement(o8.Provider,{value:i},t):null}var SA=()=>_.useContext(o8),m0e=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:y,style:k={}}=e,w=_.useRef(null),S=_.useRef();S.current=y,_.useImperativeHandle(t,()=>w.current);var[j,O]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((U,W)=>{O(q=>{var H=Math.round(U),B=Math.round(W);return q.containerWidth===H&&q.containerHeight===B?q:{containerWidth:H,containerHeight:B}})},[]);_.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Op;var U=B=>{var K,{width:J,height:Z}=B[0].contentRect;A(J,Z),(K=S.current)===null||K===void 0||K.call(S,J,Z)};h>0&&(U=r0e(U,h,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),{width:q,height:H}=w.current.getBoundingClientRect();return A(q,H),W.observe(w.current),()=>{W.disconnect()}},[A,h]);var{containerWidth:C,containerHeight:D}=j;qy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:I}=a8(C,D,{width:i,height:a,aspect:n,maxHeight:u});return qy(P!=null&&P>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,i,a,o,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:on("recharts-responsive-container",b),style:U3(U3({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},_.createElement("div",{style:l0e({width:i,height:a})},_.createElement(s8,{width:P,height:I},d)))}),p0e=_.forwardRef((e,t)=>{var n=SA();if(Uo(n.width)&&Uo(n.height))return e.children;var{width:r,height:i}=c0e({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=a8(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return tt(a)&&tt(o)?_.createElement(s8,{width:a,height:o},e.children):_.createElement(m0e,W2({},e,{width:r,height:i,ref:t}))});function l8(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var wx=()=>{var e,t=Ti(),n=rt(Zpe),r=rt(xx),i=(e=rt(vx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},g0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},c8=()=>{var e;return(e=rt(Pr))!==null&&e!==void 0?e:g0e},u8=()=>rt(Us),d8=()=>rt(Fs),en=e=>e.layout.layoutType,Rp=()=>rt(en),b0e=()=>{var e=Rp();if(e==="horizontal"||e==="vertical")return e},y0e=()=>{var e=Rp();return e!==void 0},_x=e=>{var t=yr(),n=Ti(),{width:r,height:i}=e,a=SA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),_.useEffect(()=>{!n&&Uo(o)&&Uo(l)&&t(wpe({width:o,height:l}))},[t,n,o,l]),null},f8=Symbol.for("immer-nothing"),F3=Symbol.for("immer-draftable"),Zi=Symbol.for("immer-state");function Xa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rp=Object.getPrototypeOf;function ff(e){return!!e&&!!e[Zi]}function wu(e){return e?h8(e)||Array.isArray(e)||!!e[F3]||!!e.constructor?.[F3]||Lp(e)||kx(e):!1}var v0e=Object.prototype.constructor.toString(),H3=new WeakMap;function h8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=H3.get(n);return r===void 0&&(r=Function.toString.call(n),H3.set(n,r)),r===v0e}function Ky(e,t,n=!0){Sx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Sx(e){const t=e[Zi];return t?t.type_:Array.isArray(e)?1:Lp(e)?2:kx(e)?3:0}function V2(e,t){return Sx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m8(e,t,n){const r=Sx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function x0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lp(e){return e instanceof Map}function kx(e){return e instanceof Set}function tu(e){return e.copy_||e.base_}function Z2(e,t){if(Lp(e))return new Map(e);if(kx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=h8(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Zi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(rp(e),r)}else{const r=rp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kA(e,t=!1){return Ex(e)||ff(e)||!wu(e)||(Sx(e)>1&&Object.defineProperties(e,{set:pb,add:pb,clear:pb,delete:pb}),Object.freeze(e),t&&Object.values(e).forEach(n=>kA(n,!0))),e}function w0e(){Xa(2)}var pb={value:w0e};function Ex(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _0e={};function _u(e){const t=_0e[e];return t||Xa(0,e),t}var ip;function p8(){return ip}function S0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function G3(e,t){t&&(_u("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X2(e){J2(e),e.drafts_.forEach(k0e),e.drafts_=null}function J2(e){e===ip&&(ip=e.parent_)}function Y3(e){return ip=S0e(ip,e)}function k0e(e){const t=e[Zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function q3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Zi].modified_&&(X2(t),Xa(4)),wu(e)&&(e=Wy(t,e),t.parent_||Vy(t,e)),t.patches_&&_u("Patches").generateReplacementPatches_(n[Zi].base_,e,t.patches_,t.inversePatches_)):e=Wy(t,n,[]),X2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==f8?e:void 0}function Wy(e,t,n){if(Ex(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Zi];if(!i)return Ky(t,(a,o)=>K3(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Vy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Ky(o,(u,d)=>K3(e,i,a,u,d,n,l),r),Vy(e,a,!1),n&&e.patches_&&_u("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function K3(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=Ex(i);if(!(l&&!o)){if(ff(i)){const u=a&&t&&t.type_!==3&&!V2(t.assigned_,r)?a.concat(r):void 0,d=Wy(e,i,u);if(m8(n,r,d),ff(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Wy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Lp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Vy(e,i)}}}function Vy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kA(t,n)}function E0e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:p8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=EA;n&&(i=[r],a=ap);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var EA={get(e,t){if(t===Zi)return e;const n=tu(e);if(!V2(n,t))return T0e(e,n,t);const r=n[t];return e.finalized_||!wu(r)?r:r===RS(e.base_,t)?(LS(e),e.copy_[t]=eE(r,e)):r},has(e,t){return t in tu(e)},ownKeys(e){return Reflect.ownKeys(tu(e))},set(e,t,n){const r=g8(tu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=RS(tu(e),t),a=i?.[Zi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(x0e(n,i)&&(n!==void 0||V2(e.base_,t)))return!0;LS(e),Q2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return RS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,LS(e),Q2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Xa(11)},getPrototypeOf(e){return rp(e.base_)},setPrototypeOf(){Xa(12)}},ap={};Ky(EA,(e,t)=>{ap[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ap.deleteProperty=function(e,t){return ap.set.call(this,e,t,void 0)};ap.set=function(e,t,n){return EA.set.call(this,e[0],t,n,e[0])};function RS(e,t){const n=e[Zi];return(n?tu(n):e)[t]}function T0e(e,t,n){const r=g8(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function g8(e,t){if(!(t in e))return;let n=rp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rp(n)}}function Q2(e){e.modified_||(e.modified_=!0,e.parent_&&Q2(e.parent_))}function LS(e){e.copy_||(e.copy_=Z2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var A0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Xa(6),r!==void 0&&typeof r!="function"&&Xa(7);let i;if(wu(t)){const a=Y3(this),o=eE(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?X2(a):J2(a)}return G3(a,r),q3(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===f8&&(i=void 0),this.autoFreeze_&&kA(i,!0),r){const a=[],o=[];_u("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Xa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wu(e)||Xa(8),ff(e)&&(e=j0e(e));const t=Y3(this),n=eE(e,void 0);return n[Zi].isManual_=!0,J2(t),n}finishDraft(e,t){const n=e&&e[Zi];(!n||!n.isManual_)&&Xa(9);const{scope_:r}=n;return G3(r,t),q3(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=_u("Patches").applyPatches_;return ff(e)?r(e,t):this.produce(e,i=>r(i,t))}};function eE(e,t){const n=Lp(e)?_u("MapSet").proxyMap_(e,t):kx(e)?_u("MapSet").proxySet_(e,t):E0e(e,t);return(t?t.scope_:p8()).drafts_.push(n),n}function j0e(e){return ff(e)||Xa(10,e),b8(e)}function b8(e){if(!wu(e)||Ex(e))return e;const t=e[Zi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Z2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Z2(e,!0);return Ky(n,(i,a)=>{m8(n,i,b8(a))},r),t&&(t.finalized_=!1),n}var N0e=new A0e;N0e.produce;var O0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},y8=Ei({name:"legend",initialState:O0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:fn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=eo(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:fn()},removeLegendPayload:{reducer(e,t){var n=eo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:fn()}}}),{setLegendSize:jCe,setLegendSettings:NCe,addLegendPayload:C0e,replaceLegendPayload:M0e,removeLegendPayload:D0e}=y8.actions,P0e=y8.reducer;function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(null,arguments)}function W3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(n),!0).forEach(function(r){R0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R0e(e,t,n){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e){return Array.isArray(e)&&zo(e[0])&&zo(e[1])?e.join(" ~ "):e}var B0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?lx(a,l):a).map((I,U)=>{if(I.type==="none")return null;var W=I.formatter||o||$0e,{value:q,name:H}=I,B=q,K=H;if(W){var J=W(q,H,I,U,a);if(Array.isArray(J))[B,K]=J;else if(J!=null)B=J;else return null}var Z=IS({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Z},zo(K)?_.createElement("span",{className:"recharts-tooltip-item-name"},K):null,zo(K)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},B),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},k=IS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=IS({margin:0},i),S=!Cr(h),j=S?h:"",O=on("recharts-default-tooltip",u),A=on("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(j=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",tE({className:O,style:k},C),_.createElement("p",{className:A,style:w},_.isValidElement(j)?j:"".concat(j)),y())},cm="recharts-tooltip-wrapper",z0e={visibility:"hidden"};function U0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return on(cm,{["".concat(cm,"-right")]:tt(n)&&t&&tt(t.x)&&n>=t.x,["".concat(cm,"-left")]:tt(n)&&t&&tt(t.x)&&n<t.x,["".concat(cm,"-bottom")]:tt(r)&&t&&tt(t.y)&&r>=t.y,["".concat(cm,"-top")]:tt(r)&&t&&tt(t.y)&&r<t.y})}function V3(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&tt(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var y=h,k=b;return y<k?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var w=p+l,S=b+d;return w>S?Math.max(h,b):Math.max(p,b)}function F0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function H0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=V3({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=V3({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=F0e({translateX:h,translateY:p,useTranslate3d:l})):d=z0e,{cssProperties:d,cssClasses:U0e({translateX:h,translateY:p,coordinate:n})}}function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(n),!0).forEach(function(r){nE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nE(e,t,n){return(t=G0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q0e extends _.PureComponent{constructor(){super(...arguments),nE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),nE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:y,wrapperStyle:k,lastBoundingBox:w,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:O,cssProperties:A}=H0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),C=j?{}:gb(gb({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=gb(gb({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:S},a)}}var v8=()=>{var e;return(e=rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(null,arguments)}function X3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(n),!0).forEach(function(r){K0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K0e(e,t,n){return(t=W0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0e(e){var t=V0e(e,"string");return typeof t=="symbol"?t:t+""}function V0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q3={curveBasisClosed:she,curveBasisOpen:lhe,curveBasis:ohe,curveBumpX:ihe,curveBumpY:ahe,curveLinearClosed:che,curveLinear:ax,curveMonotoneX:uhe,curveMonotoneY:dhe,curveNatural:fhe,curveStep:hhe,curveStepAfter:phe,curveStepBefore:mhe},Zy=e=>On(e.x)&&On(e.y),eL=e=>e.base!=null&&Zy(e.base)&&Zy(e),um=e=>e.x,dm=e=>e.y,Z0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fA(e));return(n==="curveMonotone"||n==="curveBump")&&t?Q3["".concat(n).concat(t==="vertical"?"Y":"X")]:Q3[n]||ax},X0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Z0e(t,i),l=a?n.filter(Zy):n,u;if(Array.isArray(r)){var d=n.map((y,k)=>J3(J3({},y),{},{base:r[k]}));i==="vertical"?u=lb().y(dm).x1(um).x0(y=>y.base.x):u=lb().x(um).y1(dm).y0(y=>y.base.y);var h=u.defined(eL).curve(o),p=a?d.filter(eL):d;return h(p)}i==="vertical"&&tt(r)?u=lb().y(dm).x1(um).x0(r):tt(r)?u=lb().x(um).y1(dm).y0(r):u=t9().x(um).y(dm);var b=u.defined(Zy).curve(o);return b(l)},Kb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?X0e(e):r;return _.createElement("path",rE({},io(e),hA(e),{className:on("recharts-curve",t),d:a===null?void 0:a,ref:i}))},J0e=["x","y","top","left","width","height","className"];function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(null,arguments)}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){ege(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ege(e,t,n){return(t=tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tge(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rge(e,t){if(e==null)return{};var n,r,i=ige(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ige(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var age=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),oge=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=rge(e,J0e),d=Q0e({x:t,y:n,top:r,left:i,width:a,height:o},u);return!tt(t)||!tt(n)||!tt(a)||!tt(o)||!tt(r)||!tt(i)?null:_.createElement("path",iE({},Ea(d),{className:on("recharts-cross",l),d:age(t,n,a,o,r,i)}))};function sge(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(n),!0).forEach(function(r){lge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lge(e,t,n){return(t=cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cge(e){var t=uge(e,"string");return typeof t=="symbol"?t:t+""}function uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fge=(e,t,n)=>e.map(r=>"".concat(dge(r)," ").concat(t,"ms ").concat(n)).join(","),hge=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),op=(e,t)=>Object.keys(t).reduce((n,r)=>rL(rL({},n),{},{[r]:e(r,t[r])}),{});function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(r){mge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mge(e,t,n){return(t=pge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pge(e){var t=gge(e,"string");return typeof t=="symbol"?t:t+""}function gge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xy=(e,t,n)=>e+(t-e)*n,aE=e=>{var{from:t,to:n}=e;return t!==n},x8=(e,t,n)=>{var r=op((i,a)=>{if(aE(a)){var[o,l]=e(a.from,a.to,a.velocity);return Qn(Qn({},a),{},{from:o,velocity:l})}return a},t);return n<1?op((i,a)=>aE(a)?Qn(Qn({},a),{},{velocity:Xy(a.velocity,r[i].velocity,n),from:Xy(a.from,r[i].from,n)}):a,t):x8(e,r,n-1)};function bge(e,t,n,r,i,a){var o,l=r.reduce((b,y)=>Qn(Qn({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>op((b,y)=>y.from,l),d=()=>!Object.values(l).filter(aE).length,h=null,p=b=>{o||(o=b);var y=b-o,k=y/n.dt;l=x8(n,l,k),i(Qn(Qn(Qn({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function yge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Qn(Qn({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,y=op((w,S)=>Xy(...S,n(b)),u);if(a(Qn(Qn(Qn({},e),t),y)),b<1)l=o.setTimeout(h);else{var k=op((w,S)=>Xy(...S,n(1)),u);a(Qn(Qn(Qn({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const vge=(e,t,n,r,i,a)=>{var o=hge(e,t);return n==null?()=>(i(Qn(Qn({},e),t)),()=>{}):n.isStepper===!0?bge(e,t,n,o,i,a):yge(e,t,n,r,o,i,a)};var Jy=1e-4,w8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),aL=(e,t)=>n=>{var r=w8(e,t);return _8(r,n)},xge=(e,t)=>n=>{var r=w8(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return _8(i,n)},wge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},_ge=(e,t,n,r)=>{var i=aL(e,n),a=aL(t,r),o=xge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var y=i(p)-h,k=o(p);if(Math.abs(y-h)<Jy||k<Jy)return a(p);p=l(p-y/k)}return a(p)};return u.isStepper=!1,u},oL=function(){return _ge(...wge(...arguments))},Sge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<Jy&&Math.abs(p)<Jy?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},kge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oL(e);case"spring":return Sge();default:if(e.split("(")[0]==="cubic-bezier")return oL(e)}return typeof e=="function"?e:null};function Ege(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Tge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Age(){return Ege(new Tge)}var jge=_.createContext(Age);function Nge(e,t){var n=_.useContext(jge);return _.useMemo(()=>t??n(e),[e,t,n])}var Oge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cf={devToolsEnabled:!1,isSsr:Oge()},Cge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sL={t:0},$S={t:1};function S8(e){var t=Ji(e,Cge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!Cf.isSsr:n,p=Nge(t.animationId,t.animationManager),[b,y]=_.useState(h?sL:$S),k=_.useRef(null);return _.useEffect(()=>{h||y($S)},[h]),_.useEffect(()=>{if(!h||!r)return Op;var w=vge(sL,$S,kge(a),i,y,p.getTimeoutController()),S=()=>{k.current=w()};return p.start([u,o,S,i,l]),()=>{p.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function k8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Qm(t)),r=_.useRef(e);return r.current!==e&&(n.current=Qm(t),r.current=e),n.current}var Mge=["radius"],Dge=["radius"];function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(r){Pge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pge(e,t,n){return(t=Rge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}function uL(e,t){if(e==null)return{};var n,r,i=Ige(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ige(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+n-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(t+r,`
            L `).concat(e+l*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},fL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ge=e=>{var t=Ji(e,fL),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:y,isAnimationActive:k,isUpdateAnimationActive:w}=t,S=_.useRef(l),j=_.useRef(u),O=_.useRef(a),A=_.useRef(o),C=_.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),D=k8(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=on("recharts-rectangle",h);if(!w){var I=Ea(t),{radius:U}=I,W=uL(I,Mge);return _.createElement("path",Qy({},W,{radius:typeof d=="number"?d:void 0,className:P,d:dL(a,o,l,u,d)}))}var q=S.current,H=j.current,B=O.current,K=A.current,J="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),Y=fge(["strokeDasharray"],b,typeof p=="string"?p:fL.animationEasing);return _.createElement(S8,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:w,begin:y},X=>{var Q=Do(q,l,X),ce=Do(H,u,X),ie=Do(B,a,X),z=Do(K,o,X);n.current&&(S.current=Q,j.current=ce,O.current=ie,A.current=z);var V;k?X>0?V={transition:Y,strokeDasharray:Z}:V={strokeDasharray:J}:V={strokeDasharray:Z};var ne=Ea(t),{radius:oe}=ne,de=uL(ne,Dge);return _.createElement("path",Qy({},de,{radius:typeof d=="number"?d:void 0,className:P,d:dL(ie,z,Q,ce,d),ref:n,style:cL(cL({},V),t.style)}))})};function hL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(n),!0).forEach(function(r){Bge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bge(e,t,n){return(t=zge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zge(e){var t=Uge(e,"string");return typeof t=="symbol"?t:t+""}function Uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ev=Math.PI/180,Fge=e=>e*180/Math.PI,Or=(e,t,n,r)=>({x:e+Math.cos(-ev*r)*n,y:t+Math.sin(-ev*r)*n}),Hge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Gge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Yge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Gge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Fge(u),angleInRadian:u}},qge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Kge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Wge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Yge({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=qge(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?mL(mL({},t),{},{radius:i,angle:Kge(h,t)}):null};function E8(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Or(t,n,r,i),l=Or(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oE.apply(null,arguments)}var Vge=(e,t)=>{var n=xa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},bb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/ev,p=u?i:i+a*h,b=Or(t,n,d,p),y=Or(t,n,r,p),k=u?i-a*h:i,w=Or(t,n,d*Math.cos(h*ev),k);return{center:b,circleTangency:y,lineTangency:w,theta:h}},T8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Vge(a,o),u=a+l,d=Or(t,n,i,a),h=Or(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Or(t,n,r,a),y=Or(t,n,r,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Zge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=xa(d-u),{circleTangency:p,lineTangency:b,theta:y}=bb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:w,theta:S}=bb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(u-d):Math.abs(u-d)-y-S;if(j<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):T8({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:C,theta:D}=bb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:I,theta:U}=bb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),W=l?Math.abs(u-d):Math.abs(u-d)-D-U;if(W<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},Xge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jge=e=>{var t=Ji(e,Xge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=on("recharts-sector",p),y=a-i,k=Zl(o,y,0,!0),w;return k>0&&Math.abs(d-h)<360?w=Zge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):w=T8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),_.createElement("path",oE({},Ea(t),{className:b,d:w}))};function Qge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(h9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Or(r,i,a,l),d=Or(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return E8(t)}}var BS={},zS={},US={},pL;function ebe(){return pL||(pL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(US)),US}var gL;function tbe(){return gL||(gL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ebe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(zS)),zS}var bL;function nbe(){return bL||(bL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9(),n=tbe();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(BS)),BS}var FS,yL;function rbe(){return yL||(yL=1,FS=nbe().range),FS}var ibe=rbe();const A8=ki(ibe);function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function abe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TA(e){let t,n,r;e.length!==2?(t=Hl,n=(l,u)=>Hl(e(l),u),r=(l,u)=>e(l)-u):(t=e===Hl||e===abe?e:obe,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function obe(){return 0}function j8(e){return e===null?NaN:+e}function*sbe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lbe=TA(Hl),Ip=lbe.right;TA(j8).center;class vL extends Map{constructor(t,n=dbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(xL(this,t))}has(t){return super.has(xL(this,t))}set(t,n){return super.set(cbe(this,t),n)}delete(t){return super.delete(ube(this,t))}}function xL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function cbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ube({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function dbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fbe(e=Hl){if(e===Hl)return N8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function N8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hbe=Math.sqrt(50),mbe=Math.sqrt(10),pbe=Math.sqrt(2);function tv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=hbe?10:a>=mbe?5:a>=pbe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?tv(e,t,n*2):[l,u,d]}function sE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?tv(t,e,n):tv(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function lE(e,t,n){return t=+t,e=+e,n=+n,tv(e,t,n)[2]}function cE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?lE(t,e,n):lE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function wL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _L(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function O8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?N8:fbe(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*p/u+b)),k=Math.min(r,Math.floor(t+(u-d)*p/u+b));O8(e,t,y,k,i)}const a=e[t];let o=n,l=r;for(fm(e,n,t),i(e[r],a)>0&&fm(e,n,r);o<l;){for(fm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?fm(e,n,l):(++l,fm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function fm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gbe(e,t,n){if(e=Float64Array.from(sbe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _L(e);if(t>=1)return wL(e);var r,i=(r-1)*t,a=Math.floor(i),o=wL(O8(e,a).subarray(0,a+1)),l=_L(e.subarray(a+1));return o+(l-o)*(i-a)}}function bbe(e,t,n=j8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function ybe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uE=Symbol("implicit");function AA(){var e=new vL,t=[],n=[],r=uE;function i(a){let o=e.get(a);if(o===void 0){if(r!==uE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new vL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AA(t,n).unknown(r)},Ca.apply(i,arguments),i}function jA(){var e=AA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,y=i<r,k=y?i:r,w=y?r:i;a=(w-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(w-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var S=ybe(b).map(function(j){return k+a*j});return n(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return jA(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Ca.apply(p(),arguments)}function C8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return C8(t())},e}function vbe(){return C8(jA.apply(null,arguments).paddingInner(1))}function NA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function M8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $p(){}var sp=.7,nv=1/sp,Zd="\\s*([+-]?\\d+)\\s*",lp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xbe=/^#([0-9a-f]{3,8})$/,wbe=new RegExp(`^rgb\\(${Zd},${Zd},${Zd}\\)$`),_be=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),Sbe=new RegExp(`^rgba\\(${Zd},${Zd},${Zd},${lp}\\)$`),kbe=new RegExp(`^rgba\\(${Io},${Io},${Io},${lp}\\)$`),Ebe=new RegExp(`^hsl\\(${lp},${Io},${Io}\\)$`),Tbe=new RegExp(`^hsla\\(${lp},${Io},${Io},${lp}\\)$`),SL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NA($p,cp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kL,formatHex:kL,formatHex8:Abe,formatHsl:jbe,formatRgb:EL,toString:EL});function kL(){return this.rgb().formatHex()}function Abe(){return this.rgb().formatHex8()}function jbe(){return D8(this).formatHsl()}function EL(){return this.rgb().formatRgb()}function cp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xbe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?TL(t):n===3?new xi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wbe.exec(e))?new xi(t[1],t[2],t[3],1):(t=_be.exec(e))?new xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sbe.exec(e))?yb(t[1],t[2],t[3],t[4]):(t=kbe.exec(e))?yb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ebe.exec(e))?NL(t[1],t[2]/100,t[3]/100,1):(t=Tbe.exec(e))?NL(t[1],t[2]/100,t[3]/100,t[4]):SL.hasOwnProperty(e)?TL(SL[e]):e==="transparent"?new xi(NaN,NaN,NaN,0):null}function TL(e){return new xi(e>>16&255,e>>8&255,e&255,1)}function yb(e,t,n,r){return r<=0&&(e=t=n=NaN),new xi(e,t,n,r)}function Nbe(e){return e instanceof $p||(e=cp(e)),e?(e=e.rgb(),new xi(e.r,e.g,e.b,e.opacity)):new xi}function dE(e,t,n,r){return arguments.length===1?Nbe(e):new xi(e,t,n,r??1)}function xi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NA(xi,dE,M8($p,{brighter(e){return e=e==null?nv:Math.pow(nv,e),new xi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new xi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xi(pu(this.r),pu(this.g),pu(this.b),rv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AL,formatHex:AL,formatHex8:Obe,formatRgb:jL,toString:jL}));function AL(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}`}function Obe(){return`#${cu(this.r)}${cu(this.g)}${cu(this.b)}${cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function jL(){const e=rv(this.opacity);return`${e===1?"rgb(":"rgba("}${pu(this.r)}, ${pu(this.g)}, ${pu(this.b)}${e===1?")":`, ${e})`}`}function rv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cu(e){return e=pu(e),(e<16?"0":"")+e.toString(16)}function NL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ja(e,t,n,r)}function D8(e){if(e instanceof Ja)return new Ja(e.h,e.s,e.l,e.opacity);if(e instanceof $p||(e=cp(e)),!e)return new Ja;if(e instanceof Ja)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ja(o,l,u,e.opacity)}function Cbe(e,t,n,r){return arguments.length===1?D8(e):new Ja(e,t,n,r??1)}function Ja(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NA(Ja,Cbe,M8($p,{brighter(e){return e=e==null?nv:Math.pow(nv,e),new Ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sp:Math.pow(sp,e),new Ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xi(HS(e>=240?e-240:e+120,i,r),HS(e,i,r),HS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ja(OL(this.h),vb(this.s),vb(this.l),rv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rv(this.opacity);return`${e===1?"hsl(":"hsla("}${OL(this.h)}, ${vb(this.s)*100}%, ${vb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OL(e){return e=(e||0)%360,e<0?e+360:e}function vb(e){return Math.max(0,Math.min(1,e||0))}function HS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OA=e=>()=>e;function Mbe(e,t){return function(n){return e+n*t}}function Dbe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Pbe(e){return(e=+e)==1?P8:function(t,n){return n-t?Dbe(t,n,e):OA(isNaN(t)?n:t)}}function P8(e,t){var n=t-e;return n?Mbe(e,n):OA(isNaN(e)?t:e)}const CL=(function e(t){var n=Pbe(t);function r(i,a){var o=n((i=dE(i)).r,(a=dE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=P8(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function Rbe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Lbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ibe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Mf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function $be(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function iv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bbe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Mf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GS=new RegExp(fE.source,"g");function zbe(e){return function(){return e}}function Ube(e){return function(t){return e(t)+""}}function Fbe(e,t){var n=fE.lastIndex=GS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=fE.exec(e))&&(i=GS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:iv(r,i)})),n=GS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Ube(u[0].x):zbe(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function Mf(e,t){var n=typeof t,r;return t==null||n==="boolean"?OA(t):(n==="number"?iv:n==="string"?(r=cp(t))?(t=r,CL):Fbe:t instanceof cp?CL:t instanceof Date?$be:Lbe(t)?Rbe:Array.isArray(t)?Ibe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bbe:iv)(e,t)}function CA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Hbe(e,t){t===void 0&&(t=e,e=Mf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Gbe(e){return function(){return e}}function av(e){return+e}var ML=[0,1];function Xr(e){return e}function hE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gbe(isNaN(t)?NaN:.5)}function Ybe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qbe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=hE(i,r),a=n(o,a)):(r=hE(r,i),a=n(a,o)),function(l){return a(r(l))}}function Kbe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=hE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Ip(e,l,1,r)-1;return a[u](i[u](l))}}function Bp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tx(){var e=ML,t=ML,n=Mf,r,i,a,o=Xr,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Xr&&(o=Ybe(e[0],e[b-1])),l=b>2?Kbe:qbe,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),iv)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,av),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=CA,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Xr,h()):o!==Xr},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,y){return r=b,i=y,h()}}function MA(){return Tx()(Xr,Xr)}function Wbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ov(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function hf(e){return e=ov(Math.abs(e)),e?e[1]:NaN}function Vbe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Zbe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Xbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function up(e){if(!(t=Xbe.exec(e)))throw new Error("invalid format: "+e);var t;return new DA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}up.prototype=DA.prototype;function DA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var R8;function Qbe(e,t){var n=ov(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(R8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ov(e,Math.max(0,t+a-1))[0]}function DL(e,t){var n=ov(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const PL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DL(e*100,t),r:DL,s:Qbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RL(e){return e}var LL=Array.prototype.map,IL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eye(e){var t=e.grouping===void 0||e.thousands===void 0?RL:Vbe(LL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?RL:Zbe(LL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=up(p);var b=p.fill,y=p.align,k=p.sign,w=p.symbol,S=p.zero,j=p.width,O=p.comma,A=p.precision,C=p.trim,D=p.type;D==="n"?(O=!0,D="g"):PL[D]||(A===void 0&&(A=12),C=!0,D="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",I=w==="$"?r:/[%p]/.test(D)?o:"",U=PL[D],W=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function q(H){var B=P,K=I,J,Z,Y;if(D==="c")K=U(H)+K,H="";else{H=+H;var X=H<0||1/H<0;if(H=isNaN(H)?u:U(Math.abs(H),A),C&&(H=Jbe(H)),X&&+H==0&&k!=="+"&&(X=!1),B=(X?k==="("?k:l:k==="-"||k==="("?"":k)+B,K=(D==="s"?IL[8+R8/3]:"")+K+(X&&k==="("?")":""),W){for(J=-1,Z=H.length;++J<Z;)if(Y=H.charCodeAt(J),48>Y||Y>57){K=(Y===46?i+H.slice(J+1):H.slice(J))+K,H=H.slice(0,J);break}}}O&&!S&&(H=t(H,1/0));var Q=B.length+H.length+K.length,ce=Q<j?new Array(j-Q+1).join(b):"";switch(O&&S&&(H=t(ce+H,ce.length?j-K.length:1/0),ce=""),y){case"<":H=B+H+K+ce;break;case"=":H=B+ce+H+K;break;case"^":H=ce.slice(0,Q=ce.length>>1)+B+H+K+ce.slice(Q);break;default:H=ce+B+H+K;break}return a(H)}return q.toString=function(){return p+""},q}function h(p,b){var y=d((p=up(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(hf(b)/3)))*3,w=Math.pow(10,-k),S=IL[8+k/3];return function(j){return y(w*j)+S}}return{format:d,formatPrefix:h}}var xb,PA,L8;tye({thousands:",",grouping:[3],currency:["$",""]});function tye(e){return xb=eye(e),PA=xb.format,L8=xb.formatPrefix,xb}function nye(e){return Math.max(0,-hf(Math.abs(e)))}function rye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hf(t)/3)))*3-hf(Math.abs(e)))}function iye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hf(t)-hf(e))+1}function I8(e,t,n,r){var i=cE(e,t,n),a;switch(r=up(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=rye(i,o))&&(r.precision=a),L8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=iye(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=nye(i))&&(r.precision=a-(r.type==="%")*2);break}}return PA(r)}function tc(e){var t=e.domain;return e.ticks=function(n){var r=t();return sE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return I8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=lE(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function $8(){var e=MA();return e.copy=function(){return Bp(e,$8())},Ca.apply(e,arguments),tc(e)}function B8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,av),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return B8(e).unknown(t)},e=arguments.length?Array.from(e,av):[0,1],tc(n)}function z8(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function $L(e){return Math.log(e)}function BL(e){return Math.exp(e)}function aye(e){return-Math.log(-e)}function oye(e){return-Math.exp(-e)}function sye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lye(e){return e===10?sye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zL(e){return(t,n)=>-e(-t,n)}function RA(e){const t=e($L,BL),n=t.domain;let r=10,i,a;function o(){return i=cye(r),a=lye(r),n()[0]<0?(i=zL(i),a=zL(a),e(aye,oye)):e($L,BL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),y=i(h),k,w;const S=l==null?10:+l;let j=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),d>0){for(;b<=y;++b)for(k=1;k<r;++k)if(w=b<0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}}else for(;b<=y;++b)for(k=r-1;k>=1;--k)if(w=b>0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}j.length*2<S&&(j=sE(d,h,S))}else j=sE(b,y,Math.min(y-b,S)).map(a);return p?j.reverse():j},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=up(u)).precision==null&&(u.trim=!0),u=PA(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(z8(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function U8(){const e=RA(Tx()).domain([1,10]);return e.copy=()=>Bp(e,U8()).base(e.base()),Ca.apply(e,arguments),e}function UL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LA(e){var t=1,n=e(UL(t),FL(t));return n.constant=function(r){return arguments.length?e(UL(t=+r),FL(t)):t},tc(n)}function F8(){var e=LA(Tx());return e.copy=function(){return Bp(e,F8()).constant(e.constant())},Ca.apply(e,arguments)}function HL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dye(e){return e<0?-e*e:e*e}function IA(e){var t=e(Xr,Xr),n=1;function r(){return n===1?e(Xr,Xr):n===.5?e(uye,dye):e(HL(n),HL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},tc(t)}function $A(){var e=IA(Tx());return e.copy=function(){return Bp(e,$A()).exponent(e.exponent())},Ca.apply(e,arguments),e}function fye(){return $A.apply(null,arguments).exponent(.5)}function GL(e){return Math.sign(e)*e*e}function hye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function H8(){var e=MA(),t=[0,1],n=!1,r;function i(a){var o=hye(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(GL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,av)).map(GL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return H8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ca.apply(i,arguments),tc(i)}function G8(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=bbe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Ip(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return G8().domain(e).range(t).unknown(r)},Ca.apply(a,arguments)}function Y8(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Ip(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Y8().domain([e,t]).range(i).unknown(a)},Ca.apply(tc(o),arguments)}function q8(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ip(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q8().domain(e).range(t).unknown(n)},Ca.apply(i,arguments)}const YS=new Date,qS=new Date;function tr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>tr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(YS.setTime(+a),qS.setTime(+o),e(YS),e(qS),Math.floor(n(YS,qS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sv=tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sv);sv.range;const Es=1e3,wa=Es*60,Ts=wa*60,Rs=Ts*24,BA=Rs*7,YL=Rs*30,KS=Rs*365,uu=tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());uu.range;const zA=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getMinutes());zA.range;const UA=tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCMinutes());UA.range;const FA=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*wa)},(e,t)=>{e.setTime(+e+t*Ts)},(e,t)=>(t-e)/Ts,e=>e.getHours());FA.range;const HA=tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ts)},(e,t)=>(t-e)/Ts,e=>e.getUTCHours());HA.range;const zp=tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wa)/Rs,e=>e.getDate()-1);zp.range;const Ax=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>e.getUTCDate()-1);Ax.range;const K8=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rs,e=>Math.floor(e/Rs));K8.range;function Ou(e){return tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*wa)/BA)}const jx=Ou(0),lv=Ou(1),mye=Ou(2),pye=Ou(3),mf=Ou(4),gye=Ou(5),bye=Ou(6);jx.range;lv.range;mye.range;pye.range;mf.range;gye.range;bye.range;function Cu(e){return tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/BA)}const Nx=Cu(0),cv=Cu(1),yye=Cu(2),vye=Cu(3),pf=Cu(4),xye=Cu(5),wye=Cu(6);Nx.range;cv.range;yye.range;vye.range;pf.range;xye.range;wye.range;const GA=tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GA.range;const YA=tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YA.range;const Ls=tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ls.range;const Is=tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Is.range;function W8(e,t,n,r,i,a){const o=[[uu,1,Es],[uu,5,5*Es],[uu,15,15*Es],[uu,30,30*Es],[a,1,wa],[a,5,5*wa],[a,15,15*wa],[a,30,30*wa],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[r,1,Rs],[r,2,2*Rs],[n,1,BA],[t,1,YL],[t,3,3*YL],[e,1,KS]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const y=p&&typeof p.range=="function"?p:u(d,h,p),k=y?y.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,p){const b=Math.abs(h-d)/p,y=TA(([,,S])=>S).right(o,b);if(y===o.length)return e.every(cE(d/KS,h/KS,p));if(y===0)return sv.every(Math.max(cE(d,h,p),1));const[k,w]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return k.every(w)}return[l,u]}const[_ye,Sye]=W8(Is,YA,Nx,K8,HA,UA),[kye,Eye]=W8(Ls,GA,jx,zp,FA,zA);function WS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function VS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Tye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=mm(i),h=pm(i),p=mm(a),b=pm(a),y=mm(o),k=pm(o),w=mm(l),S=pm(l),j=mm(u),O=pm(u),A={a:X,A:Q,b:ce,B:ie,c:null,d:XL,e:XL,f:Vye,g:ave,G:sve,H:qye,I:Kye,j:Wye,L:V8,m:Zye,M:Xye,p:z,q:V,Q:eI,s:tI,S:Jye,u:Qye,U:eve,V:tve,w:nve,W:rve,x:null,X:null,y:ive,Y:ove,Z:lve,"%":QL},C={a:ne,A:oe,b:de,B:me,c:null,d:JL,e:JL,f:fve,g:_ve,G:kve,H:cve,I:uve,j:dve,L:X8,m:hve,M:mve,p:ye,q:Ne,Q:eI,s:tI,S:pve,u:gve,U:bve,V:yve,w:vve,W:xve,x:null,X:null,y:wve,Y:Sve,Z:Eve,"%":QL},D={a:q,A:H,b:B,B:K,c:J,d:VL,e:VL,f:Fye,g:WL,G:KL,H:ZL,I:ZL,j:$ye,L:Uye,m:Iye,M:Bye,p:W,q:Lye,Q:Gye,s:Yye,S:zye,u:Cye,U:Mye,V:Dye,w:Oye,W:Pye,x:Z,X:Y,y:WL,Y:KL,Z:Rye,"%":Hye};A.x=P(n,A),A.X=P(r,A),A.c=P(t,A),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(ae,Ee){return function(xe){var se=[],Ue=-1,Ke=0,Je=ae.length,Oe,$e,Fe;for(xe instanceof Date||(xe=new Date(+xe));++Ue<Je;)ae.charCodeAt(Ue)===37&&(se.push(ae.slice(Ke,Ue)),($e=qL[Oe=ae.charAt(++Ue)])!=null?Oe=ae.charAt(++Ue):$e=Oe==="e"?" ":"0",(Fe=Ee[Oe])&&(Oe=Fe(xe,$e)),se.push(Oe),Ke=Ue+1);return se.push(ae.slice(Ke,Ue)),se.join("")}}function I(ae,Ee){return function(xe){var se=hm(1900,void 0,1),Ue=U(se,ae,xe+="",0),Ke,Je;if(Ue!=xe.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ee&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Ke=VS(hm(se.y,0,1)),Je=Ke.getUTCDay(),Ke=Je>4||Je===0?cv.ceil(Ke):cv(Ke),Ke=Ax.offset(Ke,(se.V-1)*7),se.y=Ke.getUTCFullYear(),se.m=Ke.getUTCMonth(),se.d=Ke.getUTCDate()+(se.w+6)%7):(Ke=WS(hm(se.y,0,1)),Je=Ke.getDay(),Ke=Je>4||Je===0?lv.ceil(Ke):lv(Ke),Ke=zp.offset(Ke,(se.V-1)*7),se.y=Ke.getFullYear(),se.m=Ke.getMonth(),se.d=Ke.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Je="Z"in se?VS(hm(se.y,0,1)).getUTCDay():WS(hm(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Je+5)%7:se.w+se.U*7-(Je+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,VS(se)):WS(se)}}function U(ae,Ee,xe,se){for(var Ue=0,Ke=Ee.length,Je=xe.length,Oe,$e;Ue<Ke;){if(se>=Je)return-1;if(Oe=Ee.charCodeAt(Ue++),Oe===37){if(Oe=Ee.charAt(Ue++),$e=D[Oe in qL?Ee.charAt(Ue++):Oe],!$e||(se=$e(ae,xe,se))<0)return-1}else if(Oe!=xe.charCodeAt(se++))return-1}return se}function W(ae,Ee,xe){var se=d.exec(Ee.slice(xe));return se?(ae.p=h.get(se[0].toLowerCase()),xe+se[0].length):-1}function q(ae,Ee,xe){var se=y.exec(Ee.slice(xe));return se?(ae.w=k.get(se[0].toLowerCase()),xe+se[0].length):-1}function H(ae,Ee,xe){var se=p.exec(Ee.slice(xe));return se?(ae.w=b.get(se[0].toLowerCase()),xe+se[0].length):-1}function B(ae,Ee,xe){var se=j.exec(Ee.slice(xe));return se?(ae.m=O.get(se[0].toLowerCase()),xe+se[0].length):-1}function K(ae,Ee,xe){var se=w.exec(Ee.slice(xe));return se?(ae.m=S.get(se[0].toLowerCase()),xe+se[0].length):-1}function J(ae,Ee,xe){return U(ae,t,Ee,xe)}function Z(ae,Ee,xe){return U(ae,n,Ee,xe)}function Y(ae,Ee,xe){return U(ae,r,Ee,xe)}function X(ae){return o[ae.getDay()]}function Q(ae){return a[ae.getDay()]}function ce(ae){return u[ae.getMonth()]}function ie(ae){return l[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function V(ae){return 1+~~(ae.getMonth()/3)}function ne(ae){return o[ae.getUTCDay()]}function oe(ae){return a[ae.getUTCDay()]}function de(ae){return u[ae.getUTCMonth()]}function me(ae){return l[ae.getUTCMonth()]}function ye(ae){return i[+(ae.getUTCHours()>=12)]}function Ne(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ee=P(ae+="",A);return Ee.toString=function(){return ae},Ee},parse:function(ae){var Ee=I(ae+="",!1);return Ee.toString=function(){return ae},Ee},utcFormat:function(ae){var Ee=P(ae+="",C);return Ee.toString=function(){return ae},Ee},utcParse:function(ae){var Ee=I(ae+="",!0);return Ee.toString=function(){return ae},Ee}}}var qL={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,Aye=/^%/,jye=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Nye(e){return e.replace(jye,"\\$&")}function mm(e){return new RegExp("^(?:"+e.map(Nye).join("|")+")","i")}function pm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Oye(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cye(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Mye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Pye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function KL(e,t,n){var r=vr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function WL(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lye(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Iye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VL(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $ye(e,t,n){var r=vr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ZL(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zye(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uye(e,t,n){var r=vr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Fye(e,t,n){var r=vr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hye(e,t,n){var r=Aye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Gye(e,t,n){var r=vr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yye(e,t,n){var r=vr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function XL(e,t){return Mt(e.getDate(),t,2)}function qye(e,t){return Mt(e.getHours(),t,2)}function Kye(e,t){return Mt(e.getHours()%12||12,t,2)}function Wye(e,t){return Mt(1+zp.count(Ls(e),e),t,3)}function V8(e,t){return Mt(e.getMilliseconds(),t,3)}function Vye(e,t){return V8(e,t)+"000"}function Zye(e,t){return Mt(e.getMonth()+1,t,2)}function Xye(e,t){return Mt(e.getMinutes(),t,2)}function Jye(e,t){return Mt(e.getSeconds(),t,2)}function Qye(e){var t=e.getDay();return t===0?7:t}function eve(e,t){return Mt(jx.count(Ls(e)-1,e),t,2)}function Z8(e){var t=e.getDay();return t>=4||t===0?mf(e):mf.ceil(e)}function tve(e,t){return e=Z8(e),Mt(mf.count(Ls(e),e)+(Ls(e).getDay()===4),t,2)}function nve(e){return e.getDay()}function rve(e,t){return Mt(lv.count(Ls(e)-1,e),t,2)}function ive(e,t){return Mt(e.getFullYear()%100,t,2)}function ave(e,t){return e=Z8(e),Mt(e.getFullYear()%100,t,2)}function ove(e,t){return Mt(e.getFullYear()%1e4,t,4)}function sve(e,t){var n=e.getDay();return e=n>=4||n===0?mf(e):mf.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function lve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function JL(e,t){return Mt(e.getUTCDate(),t,2)}function cve(e,t){return Mt(e.getUTCHours(),t,2)}function uve(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function dve(e,t){return Mt(1+Ax.count(Is(e),e),t,3)}function X8(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function fve(e,t){return X8(e,t)+"000"}function hve(e,t){return Mt(e.getUTCMonth()+1,t,2)}function mve(e,t){return Mt(e.getUTCMinutes(),t,2)}function pve(e,t){return Mt(e.getUTCSeconds(),t,2)}function gve(e){var t=e.getUTCDay();return t===0?7:t}function bve(e,t){return Mt(Nx.count(Is(e)-1,e),t,2)}function J8(e){var t=e.getUTCDay();return t>=4||t===0?pf(e):pf.ceil(e)}function yve(e,t){return e=J8(e),Mt(pf.count(Is(e),e)+(Is(e).getUTCDay()===4),t,2)}function vve(e){return e.getUTCDay()}function xve(e,t){return Mt(cv.count(Is(e)-1,e),t,2)}function wve(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function _ve(e,t){return e=J8(e),Mt(e.getUTCFullYear()%100,t,2)}function Sve(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function kve(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pf(e):pf.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function Eve(){return"+0000"}function QL(){return"%"}function eI(e){return+e}function tI(e){return Math.floor(+e/1e3)}var Nd,Q8,ez;Tve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tve(e){return Nd=Tye(e),Q8=Nd.format,Nd.parse,ez=Nd.utcFormat,Nd.utcParse,Nd}function Ave(e){return new Date(e)}function jve(e){return e instanceof Date?+e:+new Date(+e)}function qA(e,t,n,r,i,a,o,l,u,d){var h=MA(),p=h.invert,b=h.domain,y=d(".%L"),k=d(":%S"),w=d("%I:%M"),S=d("%I %p"),j=d("%a %d"),O=d("%b %d"),A=d("%B"),C=d("%Y");function D(P){return(u(P)<P?y:l(P)<P?k:o(P)<P?w:a(P)<P?S:r(P)<P?i(P)<P?j:O:n(P)<P?A:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,jve)):b().map(Ave)},h.ticks=function(P){var I=b();return e(I[0],I[I.length-1],P??10)},h.tickFormat=function(P,I){return I==null?D:d(I)},h.nice=function(P){var I=b();return(!P||typeof P.range!="function")&&(P=t(I[0],I[I.length-1],P??10)),P?b(z8(I,P)):h},h.copy=function(){return Bp(h,qA(e,t,n,r,i,a,o,l,u,d))},h}function Nve(){return Ca.apply(qA(kye,Eye,Ls,GA,jx,zp,FA,zA,uu,Q8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ove(){return Ca.apply(qA(_ye,Sye,Is,YA,Nx,Ax,HA,UA,uu,ez).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ox(){var e=0,t=1,n,r,i,a,o=Xr,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var y,k;return arguments.length?([y,k]=b,o=p(y,k),d):[o(0),o(1)]}}return d.range=h(Mf),d.rangeRound=h(CA),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function nc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tz(){var e=tc(Ox()(Xr));return e.copy=function(){return nc(e,tz())},Hs.apply(e,arguments)}function nz(){var e=RA(Ox()).domain([1,10]);return e.copy=function(){return nc(e,nz()).base(e.base())},Hs.apply(e,arguments)}function rz(){var e=LA(Ox());return e.copy=function(){return nc(e,rz()).constant(e.constant())},Hs.apply(e,arguments)}function KA(){var e=IA(Ox());return e.copy=function(){return nc(e,KA()).exponent(e.exponent())},Hs.apply(e,arguments)}function Cve(){return KA.apply(null,arguments).exponent(.5)}function iz(){var e=[],t=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ip(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>gbe(e,a/r))},n.copy=function(){return iz(t).domain(e)},Hs.apply(n,arguments)}function Cx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Xr,h,p=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),d(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(d=w,y):d};function k(w){return function(S){var j,O,A;return arguments.length?([j,O,A]=S,d=Hbe(w,[j,O,A]),y):[d(0),d(.5),d(1)]}}return y.range=k(Mf),y.rangeRound=k(CA),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function az(){var e=tc(Cx()(Xr));return e.copy=function(){return nc(e,az())},Hs.apply(e,arguments)}function oz(){var e=RA(Cx()).domain([.1,1,10]);return e.copy=function(){return nc(e,oz()).base(e.base())},Hs.apply(e,arguments)}function sz(){var e=LA(Cx());return e.copy=function(){return nc(e,sz()).constant(e.constant())},Hs.apply(e,arguments)}function WA(){var e=IA(Cx());return e.copy=function(){return nc(e,WA()).exponent(e.exponent())},Hs.apply(e,arguments)}function Mve(){return WA.apply(null,arguments).exponent(.5)}const Em=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jA,scaleDiverging:az,scaleDivergingLog:oz,scaleDivergingPow:WA,scaleDivergingSqrt:Mve,scaleDivergingSymlog:sz,scaleIdentity:B8,scaleImplicit:uE,scaleLinear:$8,scaleLog:U8,scaleOrdinal:AA,scalePoint:vbe,scalePow:$A,scaleQuantile:G8,scaleQuantize:Y8,scaleRadial:H8,scaleSequential:tz,scaleSequentialLog:nz,scaleSequentialPow:KA,scaleSequentialQuantile:iz,scaleSequentialSqrt:Cve,scaleSequentialSymlog:rz,scaleSqrt:fye,scaleSymlog:F8,scaleThreshold:q8,scaleTime:Nve,scaleUtc:Ove,tickFormat:I8},Symbol.toStringTag,{value:"Module"}));var rc=e=>e.chartData,Dve=we([rc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),VA=(e,t,n,r)=>r?Dve(e):rc(e);function Xl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(On(t)&&On(n))return!0}return!1}function nI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(On(n))i=n;else if(typeof n=="function")return;if(On(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Xl(o))return o}}function Pve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Xl(r))return nI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(tt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&M3.test(i)){var u=M3.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(tt(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&D3.test(a)){var h=D3.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if(Xl(b))return t==null?b:nI(b,t,n)}}}var Df=1e9,Rve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XA,mn=!0,Aa="[DecimalError] ",gu=Aa+"Invalid argument: ",ZA=Aa+"Exponent out of range: ",Pf=Math.floor,nu=Math.pow,Lve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,mr=1e7,an=7,cz=9007199254740991,uv=Pf(cz/an),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*an;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};He.dividedBy=He.div=function(e){return js(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,n=t.constructor;return Xt(js(t,new n(e),0,1),n.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return Wn(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Fi))throw Error(Aa+"NaN");if(n.s<1)throw Error(Aa+(n.s?"NaN":"-Infinity"));return n.eq(Fi)?new r(0):(mn=!1,t=js(dp(n,a),dp(e,a),a),mn=!0,Xt(t,i))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fz(t,e):uz(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Aa+"NaN");return n.s?(mn=!1,t=js(n,e,0,1).times(e),mn=!0,n.minus(t)):Xt(new r(n),i)};He.naturalExponential=He.exp=function(){return dz(this)};He.naturalLogarithm=He.ln=function(){return dp(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uz(t,e):fz(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gu+e);if(t=Wn(i)+1,r=i.d.length-1,n=r*an+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};He.squareRoot=He.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Aa+"NaN")}for(e=Wn(l),mn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ro(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Pf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(js(l,a,o+2)).times(.5),Ro(a.d).slice(0,o)===(t=Ro(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Xt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return mn=!0,Xt(r,n)};He.times=He.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=y.length,u<d&&(a=b,b=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+y[r]*b[i-r-1]+t,a[i--]=l%mr|0,t=l/mr|0;a[i]=(a[i]+t)%mr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,mn?Xt(e,p.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fo(e,0,Df),t===void 0?t=r.rounding:Fo(t,0,8),Xt(n,e+Wn(n)+1,t))};He.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Su(r,!0):(Fo(e,0,Df),t===void 0?t=i.rounding:Fo(t,0,8),r=Xt(new i(r),e+1,t),n=Su(r,!0,e+1)),n};He.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Su(i):(Fo(e,0,Df),t===void 0?t=a.rounding:Fo(t,0,8),r=Xt(new a(i),e+Wn(i)+1,t),n=Su(r.abs(),!1,e+Wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Wn(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(Fi);if(l=new u(l),!l.s){if(e.s<1)throw Error(Aa+"Infinity");return l}if(l.eq(Fi))return l;if(r=u.precision,e.eq(Fi))return Xt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=cz){for(i=new u(Fi),t=Math.ceil(r/an+4),mn=!1;n%2&&(i=i.times(l),iI(i.d,t)),n=Pf(n/2),n!==0;)l=l.times(l),iI(l.d,t);return mn=!0,e.s<0?new u(Fi).div(i):Xt(i,r)}}else if(a<0)throw Error(Aa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,mn=!1,i=e.times(dp(l,r+d)),mn=!0,i=dz(i),i.s=a,i};He.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Wn(i),r=Su(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fo(e,1,Df),t===void 0?t=a.rounding:Fo(t,0,8),i=Xt(new a(i),e,t),n=Wn(i),r=Su(i,e<=n||n<=a.toExpNeg,e)),r};He.toSignificantDigits=He.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fo(e,1,Df),t===void 0?t=r.rounding:Fo(t,0,8)),Xt(new r(n),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wn(e),n=e.constructor;return Su(e,t<=n.toExpNeg||t>=n.toExpPos)};function uz(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),mn?Xt(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/an),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/mr|0,u[a]%=mr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,mn?Xt(t,p):t}function Fo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(gu+e)}function Ro(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=an-r.length,n&&(a+=Ml(n)),a+=r;o=e[t],r=o+"",n=an-r.length,n&&(a+=Ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var js=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%mr|0,o=a/mr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*mr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,y,k,w,S,j,O,A,C,D,P,I,U,W=r.constructor,q=r.s==i.s?1:-1,H=r.d,B=i.d;if(!r.s)return new W(r);if(!i.s)throw Error(Aa+"Division by zero");for(u=r.e-i.e,I=B.length,D=H.length,y=new W(q),k=y.d=[],d=0;B[d]==(H[d]||0);)++d;if(B[d]>(H[d]||0)&&--u,a==null?O=a=W.precision:o?O=a+(Wn(r)-Wn(i))+1:O=a,O<0)return new W(0);if(O=O/an+2|0,d=0,I==1)for(h=0,B=B[0],O++;(d<D||h)&&O--;d++)A=h*mr+(H[d]||0),k[d]=A/B|0,h=A%B|0;else{for(h=mr/(B[0]+1)|0,h>1&&(B=e(B,h),H=e(H,h),I=B.length,D=H.length),C=I,w=H.slice(0,I),S=w.length;S<I;)w[S++]=0;U=B.slice(),U.unshift(0),P=B[0],B[1]>=mr/2&&++P;do h=0,l=t(B,w,I,S),l<0?(j=w[0],I!=S&&(j=j*mr+(w[1]||0)),h=j/P|0,h>1?(h>=mr&&(h=mr-1),p=e(B,h),b=p.length,S=w.length,l=t(p,w,b,S),l==1&&(h--,n(p,I<b?U:B,b))):(h==0&&(l=h=1),p=B.slice()),b=p.length,b<S&&p.unshift(0),n(w,p,S),l==-1&&(S=w.length,l=t(B,w,I,S),l<1&&(h++,n(w,I<S?U:B,S))),S=w.length):l===0&&(h++,w=[0]),k[d++]=h,l&&w[0]?w[S++]=H[C]||0:(w=[H[C]],S=1);while((C++<D||w[0]!==void 0)&&O--)}return k[0]||k.shift(),y.e=u,Xt(y,o?a+Wn(y)+1:a)}})();function dz(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(Wn(e)>16)throw Error(ZA+Wn(e));if(!e.s)return new h(Fi);for(mn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(nu(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Fi),h.precision=l;;){if(i=Xt(i.times(e),l),n=n.times(++u),o=a.plus(js(i,n,l)),Ro(o.d).slice(0,l)===Ro(a.d).slice(0,l)){for(;d--;)a=Xt(a.times(a),l);return h.precision=p,t==null?(mn=!0,Xt(a,p)):a}a=o}}function Wn(e){for(var t=e.e*an,n=e.d[0];n>=10;n/=10)t++;return t}function ZS(e,t,n){if(t>e.LN10.sd())throw mn=!0,n&&(e.precision=n),Error(Aa+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function Ml(e){for(var t="";e--;)t+="0";return t}function dp(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,y=e,k=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Aa+(y.s?"NaN":"-Infinity"));if(y.eq(Fi))return new w(0);if(t==null?(mn=!1,d=S):d=t,y.eq(10))return t==null&&(mn=!0),ZS(w,d);if(d+=b,w.precision=d,n=Ro(k),r=n.charAt(0),a=Wn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Ro(y.d),r=n.charAt(0),p++;a=Wn(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return u=ZS(w,d+2,S).times(a+""),y=dp(new w(r+"."+n.slice(1)),d-b).plus(u),w.precision=S,t==null?(mn=!0,Xt(y,S)):y;for(l=o=y=js(y.minus(Fi),y.plus(Fi),d),h=Xt(y.times(y),d),i=3;;){if(o=Xt(o.times(h),d),u=l.plus(js(o,new w(i),d)),Ro(u.d).slice(0,d)===Ro(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(ZS(w,d+2,S).times(a+""))),l=js(l,new w(p),d),w.precision=S,t==null?(mn=!0,Xt(l,S)):l;l=u,i+=2}}function rI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Pf(n/an),e.d=[],r=(n+1)%an,n<0&&(r+=an),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=an;r<i;)e.d.push(+t.slice(r,r+=an));t=t.slice(r),r=an-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),mn&&(e.e>uv||e.e<-uv))throw Error(ZA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=an,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/an),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=an,i=r-an+o}if(n!==void 0&&(a=nu(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/nu(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Wn(e),p.length=1,t=t-a-1,p[0]=nu(10,(an-t%an)%an),e.e=Pf(-t/an)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=nu(10,an-r),p[h]=i>0?(d/nu(10,o-i)%nu(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==mr&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=mr)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(mn&&(e.e>uv||e.e<-uv))throw Error(ZA+Wn(e));return e}function fz(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),mn?Xt(t,y):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(y/an),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=mr-1;--u[a],u[i]+=mr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,mn?Xt(t,y):t):new b(0)}function Su(e,t,n){var r,i=Wn(e),a=Ro(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ml(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ml(-i-1)+a,n&&(r=n-o)>0&&(a+=Ml(r))):i>=o?(a+=Ml(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ml(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ml(r))),e.s<0?"-"+a:a}function iI(e,t){if(e.length>t)return e.length=t,!0}function hz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(gu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return rI(o,a.toString())}else if(typeof a!="string")throw Error(gu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Lve.test(a))rI(o,a);else throw Error(gu+a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hz,i.config=i.set=Ive,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Ive(e){if(!e||typeof e!="object")throw Error(Aa+"Object expected");var t,n,r,i=["precision",1,Df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Pf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(gu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gu+n+": "+r);return this}var XA=hz(Rve);Fi=new XA(1);const Ft=XA;var $ve=e=>e,mz={},pz=e=>e===mz,aI=e=>function t(){return arguments.length===0||arguments.length===1&&pz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gz=(e,t)=>e===1?t:aI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==mz).length;return a>=e?t(...r):gz(e-a,aI(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>pz(h)?l.shift():h);return t(...d,...l)}))}),Bve=e=>gz(e.length,e),mE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zve=Bve((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Uve=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return $ve;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},pE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function bz(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function yz(e,t,n){for(var r=new Ft(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var vz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},xz=(e,t,n)=>{if(e.lte(0))return new Ft(0);var r=bz(e.toNumber()),i=new Ft(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Ft(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Ft(u.toNumber()):new Ft(Math.ceil(u.toNumber()))},Fve=(e,t,n)=>{var r=new Ft(1),i=new Ft(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ft(10).pow(bz(e)-1),i=new Ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ft(Math.floor(e)))}else e===0?i=new Ft(Math.floor((t-1)/2)):n||(i=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=Uve(zve(u=>i.add(new Ft(u-o).mul(r)).toNumber()),mE);return l(0,t)},wz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var o=xz(new Ft(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Ft(0):(l=new Ft(t).add(n).div(2),l=l.sub(new Ft(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ft(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?wz(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Ft(u).mul(o)),tickMax:l.add(new Ft(d).mul(o))})},Hve=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=vz([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...mE(0,i-1).map(()=>1/0)]:[...mE(0,i-1).map(()=>-1/0),u];return n>r?pE(d):d}if(l===u)return Fve(l,i,a);var{step:h,tickMin:p,tickMax:b}=wz(l,u,o,a,0),y=yz(p,b.add(new Ft(.1).mul(h)),h);return n>r?pE(y):y},Gve=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=vz([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=xz(new Ft(l).sub(o).div(u-1),a,0),h=[...yz(new Ft(o),new Ft(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?pE(h):h},Yve=e=>e.rootProps.barCategoryGap,Mx=e=>e.rootProps.stackOffset,_z=e=>e.rootProps.reverseStackOrder,JA=e=>e.options.chartName,QA=e=>e.rootProps.syncId,Sz=e=>e.rootProps.syncMethod,ej=e=>e.options.eventEmitter,qve=e=>e.rootProps.baseValue,Jr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ws={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Kve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:ws.reversed,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:ws.type,unit:void 0},Wve={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:zi.type,unit:void 0},Vve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ws.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ws.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ws.scale,tick:ws.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Zve={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:"category",unit:void 0},tj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Vve:Kve,nj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Zve:Wve,Px=e=>e.polarOptions,rj=we([Us,Fs,Pr],Hge),kz=we([Px,rj],(e,t)=>{if(e!=null)return Zl(e.innerRadius,t,0)}),Ez=we([Px,rj],(e,t)=>{if(e!=null)return Zl(e.outerRadius,t,t*.8)}),Xve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Tz=we([Px],Xve);we([tj,Tz],Dx);var Az=we([rj,kz,Ez],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([nj,Az],Dx);var jz=we([en,Px,kz,Ez,Us,Fs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Zl(o,i,i/2),cy:Zl(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),nr=(e,t)=>t,Rx=(e,t,n)=>n;function ij(e){return e?.id}function Nz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=ij(l);d.forEach((p,b)=>{var y=a==null||i?b:String(Hr(p,a,null)),k=Hr(p,l.dataKey,0),w;o.has(y)?w=o.get(y):w={},Object.assign(w,{[h]:k}),o.set(y,w)})}}),Array.from(o.values())}function aj(e){return e.stackId!=null&&e.dataKey!=null}var Lx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ix(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Jve(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var rr=e=>{var t=en(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rf=e=>e.tooltip.settings.axisId;function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){Qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qve(e,t,n){return(t=exe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function exe(e){var t=txe(e,"string");return typeof t=="symbol"?t:t+""}function txe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gE=[0,"auto"],dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Oz=(e,t)=>e.cartesianAxis.xAxis[t],Gs=(e,t)=>{var n=Oz(e,t);return n??dr},fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pp},Cz=(e,t)=>e.cartesianAxis.yAxis[t],Ys=(e,t)=>{var n=Cz(e,t);return n??fr},nxe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??nxe},ni=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"zAxis":return oj(e,n);case"angleAxis":return tj(e,n);case"radiusAxis":return nj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rxe=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Up=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"angleAxis":return tj(e,n);case"radiusAxis":return nj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Dz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Pz=e=>e.graphicalItems.cartesianItems,ixe=we([nr,Rx],Dz),Rz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Fp=we([Pz,ni,ixe],Rz,{memoizeOptions:{resultEqualityCheck:Ix}}),Lz=we([Fp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aj)),Iz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),axe=we([Fp],Iz),$z=e=>e.map(t=>t.data).filter(Boolean).flat(1),oxe=we([Fp],$z,{memoizeOptions:{resultEqualityCheck:Ix}}),Bz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},sj=we([oxe,VA],Bz),zz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Hr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Hr(i,r)}))):e.map(r=>({value:r})),$x=we([sj,ni,Fp],zz);function Uz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wb(e){if(zo(e)||e instanceof Date){var t=Number(e);if(On(t))return t}}function sI(e){if(Array.isArray(e)){var t=[Wb(e[0]),Wb(e[1])];return Xl(t)?t:void 0}var n=Wb(e);if(n!=null)return[n,n]}function $s(e){return e.map(Wb).filter(Ahe)}function sxe(e,t,n){return!n||typeof t!="number"||ao(t)?[]:n.length?$s(n.flatMap(r=>{var i=Hr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!On(a)||!On(o)))return[t-a,t+o]})):[]}var ir=e=>{var t=rr(e),n=Rf(e);return Up(e,t,n)},Hp=we([ir],e=>e?.dataKey),lxe=we([Lz,VA,ir],Nz),Fz=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(ij);return[l,{stackedData:Mpe(e,h,n),graphicalItems:d}]}))},bE=we([lxe,Lz,Mx,_z],Fz),Hz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Lpe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},cxe=we([ni],e=>e.allowDataOverflow),lj=e=>{var t;if(e==null||!("domain"in e))return gE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=$s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:gE},Gz=we([ni],lj),Yz=we([Gz,cxe],lz),uxe=we([bE,rc,nr,Yz],Hz,{memoizeOptions:{resultEqualityCheck:Lx}}),cj=e=>e.errorBars,dxe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Uz(n,r)),fv=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},qz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(j=>Uz(i,j)),b=Hr(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),y=sxe(l,b,p);if(y.length>=2){var k=Math.min(...y),w=Math.max(...y);(a==null||k<a)&&(a=k),(o==null||w>o)&&(o=w)}var S=sI(b);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=sI(Hr(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),On(a)&&On(o))return[a,o]},fxe=we([sj,ni,axe,cj,nr],qz,{memoizeOptions:{resultEqualityCheck:Lx}});function hxe(e){var{value:t}=e;if(zo(t)||t instanceof Date)return t}var mxe=(e,t,n)=>{var r=e.map(hxe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&d9(r))?A8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Kz=e=>e.referenceElements.dots,Lf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),pxe=we([Kz,nr,Rx],Lf),Wz=e=>e.referenceElements.areas,gxe=we([Wz,nr,Rx],Lf),Vz=e=>e.referenceElements.lines,bxe=we([Vz,nr,Rx],Lf),Zz=(e,t)=>{var n=$s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yxe=we(pxe,nr,Zz),Xz=(e,t)=>{var n=$s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vxe=we([gxe,nr],Xz);function xxe(e){var t;if(e.x!=null)return $s([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function wxe(e){var t;if(e.y!=null)return $s([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var Jz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?xxe(r):wxe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_xe=we([bxe,nr],Jz),Sxe=we(yxe,_xe,vxe,(e,t,n)=>fv(e,n,t)),Qz=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?fv(r,a,i):fv(a,i);return Pve(t,d,e.allowDataOverflow)},kxe=we([ni,Gz,Yz,uxe,fxe,Sxe,en,nr],Qz,{memoizeOptions:{resultEqualityCheck:Lx}}),Exe=[0,1],eU=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=zs(t,a);if(d&&l==null){var h;return A8(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?mxe(r,e,d):i==="expand"?Exe:o}},uj=we([ni,en,sj,$x,Mx,nr,kxe],eU),tU=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(fA(a));return l in Em?l:"point"}}},Gp=we([ni,en,Mz,JA,nr],tU);function Txe(e){if(e!=null){if(e in Em)return Em[e]();var t="scale".concat(fA(e));if(t in Em)return Em[t]()}}function dj(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Txe(t);if(i!=null){var a=i.domain(n).range(r);return jpe(a),a}}}var nU=(e,t,n)=>{var r=lj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xl(e))return Hve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xl(e))return Gve(e,t.tickCount,t.allowDecimals)}},fj=we([uj,Up,Gp],nU),rU=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Xl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},Axe=we([ni,uj,fj,nr],rU),jxe=we($x,ni,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from($s(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),iU=we(jxe,en,Yve,Pr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!On(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Zl(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),Nxe=(e,t)=>{var n=Gs(e,t);return n==null||typeof n.padding!="string"?0:iU(e,"xAxis",t,n.padding)},Oxe=(e,t)=>{var n=Ys(e,t);return n==null||typeof n.padding!="string"?0:iU(e,"yAxis",t,n.padding)},Cxe=we(Gs,Nxe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Mxe=we(Ys,Oxe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Dxe=we([Pr,Cxe,xx,vx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Pxe=we([Pr,en,Mxe,xx,vx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Dxe(e,n,r);case"yAxis":return Pxe(e,n,r);case"zAxis":return(i=oj(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Tz(e);case"radiusAxis":return Az(e,n);default:return}},aU=we([ni,Yp],Dx),If=we([ni,Gp,Axe,aU],dj);we([Fp,cj,nr],dxe);function oU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bx=(e,t)=>t,zx=(e,t,n)=>n,Rxe=we(bx,Bx,zx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(oU)),Lxe=we(yx,Bx,zx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(oU)),sU=(e,t)=>({width:e.width,height:t.height}),Ixe=(e,t)=>{var n=typeof t.width=="number"?t.width:Pp;return{width:n,height:e.height}},$xe=we(Pr,Gs,sU),Bxe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},zxe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Uxe=we(Fs,Pr,Rxe,Bx,zx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=sU(t,l);o==null&&(o=Bxe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Fxe=we(Us,Pr,Lxe,Bx,zx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Ixe(t,l);o==null&&(o=zxe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Hxe=(e,t)=>{var n=Gs(e,t);if(n!=null)return Uxe(e,n.orientation,n.mirror)},Gxe=we([Pr,Gs,Hxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Yxe=(e,t)=>{var n=Ys(e,t);if(n!=null)return Fxe(e,n.orientation,n.mirror)},qxe=we([Pr,Ys,Yxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Kxe=we(Pr,Ys,(e,t)=>{var n=typeof t.width=="number"?t.width:Pp;return{width:n,height:e.height}}),lU=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=zs(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&d9(u))return u}},hj=we([en,$x,ni,nr],lU),cU=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=zs(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},mj=we([en,$x,Up,nr],cU),lI=we([en,rxe,Gp,If,hj,mj,Yp,fj,nr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=zs(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),Wxe=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=zs(e,u),{type:h,ticks:p,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/y:0;k=u==="angleAxis"&&a!=null&&a.length>=2?xa(a[0]-a[1])*2*k:k;var w=p||i;if(w){var S=w.map((j,O)=>{var A=o?o.indexOf(j):j;return{index:O,coordinate:r(A)+k,value:j,offset:k}});return S.filter(j=>On(j.coordinate))}return d&&l?l.map((j,O)=>({coordinate:r(j)+k,value:j,index:O,offset:k})).filter(j=>On(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+k,value:j,offset:k})):r.domain().map((j,O)=>({coordinate:r(j)+k,value:o?o[j]:j,index:O,offset:k}))}},uU=we([en,Up,Gp,If,fj,Yp,hj,mj,nr],Wxe),Vxe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=zs(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?xa(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},dU=we([en,Up,If,Yp,hj,mj,nr],Vxe),fU=we(ni,If,(e,t)=>{if(!(e==null||t==null))return dv(dv({},e),{},{scale:t})}),Zxe=we([ni,Gp,uj,aU],dj);we((e,t,n)=>oj(e,n),Zxe,(e,t)=>{if(!(e==null||t==null))return dv(dv({},e),{},{scale:t})});var Xxe=we([en,bx,yx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hU=e=>e.options.defaultTooltipEventType,mU=e=>e.options.validateTooltipEventTypes;function pU(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function pj(e,t){var n=hU(e),r=mU(e);return pU(t,n,r)}function Jxe(e){return rt(t=>pj(t,e))}var gU=(e,t)=>{var n,r=Number(t);if(!(ao(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Qxe=e=>e.tooltip.settings,Bl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ewe={itemInteraction:{click:Bl,hover:Bl},axisInteraction:{click:Bl,hover:Bl},keyboardInteraction:Bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bU=Ei({name:"tooltip",initialState:ewe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:fn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=eo(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:fn()},removeTooltipEntrySettings:{reducer(e,t){var n=eo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:fn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:twe,replaceTooltipEntrySettings:nwe,removeTooltipEntrySettings:rwe,setTooltipSettingsState:iwe,setActiveMouseOverItemIndex:awe,mouseLeaveItem:OCe,mouseLeaveChart:yU,setActiveClickItemIndex:CCe,setMouseOverAxisIndex:vU,setMouseClickAxisIndex:owe,setSyncInteraction:yE,setKeyboardInteraction:vE}=bU.actions,swe=bU.reducer;function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){lwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lwe(e,t,n){return(t=cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cwe(e){var t=uwe(e,"string");return typeof t=="symbol"?t:t+""}function uwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dwe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function fwe(e){return e.index!=null}var xU=(e,t,n,r)=>{if(t==null)return Bl;var i=dwe(e,t,n);if(i==null)return Bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(fwe(i)){if(a)return wb(wb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return wb(wb({},Bl),{},{coordinate:i.coordinate})};function hwe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function mwe(e,t){var n=hwe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function pwe(e,t,n){if(n==null||t==null)return!0;var r=Hr(e,t);return r==null||!Xl(n)?!0:mwe(r,n)}var gj=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!On(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||pwe(d,n,r)?String(u):null},wU=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},_U=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},qp=e=>e.options.tooltipPayloadSearcher,$f=e=>e.tooltip;function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(n),!0).forEach(function(r){gwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gwe(e,t,n){return(t=bwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bwe(e){var t=ywe(e,"string");return typeof t=="symbol"?t:t+""}function ywe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vwe(e,t){return e??t}var SU=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,y)=>{var k,{dataDefinedOnItem:w,settings:S}=y,j=vwe(w,l),O=Array.isArray(j)?Q9(j,d,h):j,A=(k=S?.dataKey)!==null&&k!==void 0?k:r,C=S?.nameKey,D;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?D=f9(O,r,i):D=a(O,t,u,C),Array.isArray(D))D.forEach(I=>{var U=dI(dI({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});b.push(P3({tooltipEntrySettings:U,dataKey:I.dataKey,payload:I.payload,value:Hr(I.payload,I.dataKey),name:I.name}))});else{var P;b.push(P3({tooltipEntrySettings:S,dataKey:A,payload:D,value:Hr(D,A),name:(P=Hr(D,C))!==null&&P!==void 0?P:S?.name}))}return b},p)}},bj=we([ir,en,Mz,JA,rr],tU),xwe=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wwe=we([rr,Rf],Dz),Kp=we([xwe,ir,wwe],Rz,{memoizeOptions:{resultEqualityCheck:Ix}}),_we=we([Kp],e=>e.filter(aj)),Swe=we([Kp],$z,{memoizeOptions:{resultEqualityCheck:Ix}}),Bf=we([Swe,rc],Bz),kwe=we([_we,rc,ir],Nz),yj=we([Bf,ir,Kp],zz),kU=we([ir],lj),Ewe=we([ir],e=>e.allowDataOverflow),EU=we([kU,Ewe],lz),Twe=we([Kp],e=>e.filter(aj)),Awe=we([kwe,Twe,Mx,_z],Fz),jwe=we([Awe,rc,rr,EU],Hz),Nwe=we([Kp],Iz),Owe=we([Bf,ir,Nwe,cj,rr],qz,{memoizeOptions:{resultEqualityCheck:Lx}}),Cwe=we([Kz,rr,Rf],Lf),Mwe=we([Cwe,rr],Zz),Dwe=we([Wz,rr,Rf],Lf),Pwe=we([Dwe,rr],Xz),Rwe=we([Vz,rr,Rf],Lf),Lwe=we([Rwe,rr],Jz),Iwe=we([Mwe,Lwe,Pwe],fv),$we=we([ir,kU,EU,jwe,Owe,Iwe,en,rr],Qz),Wp=we([ir,en,Bf,yj,Mx,rr,$we],eU),Bwe=we([Wp,ir,bj],nU),zwe=we([ir,Wp,Bwe,rr],rU),TU=e=>{var t=rr(e),n=Rf(e),r=!1;return Yp(e,t,n,r)},AU=we([ir,TU],Dx),jU=we([ir,bj,zwe,AU],dj),Uwe=we([en,yj,ir,rr],lU),Fwe=we([en,yj,ir,rr],cU),Hwe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=zs(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?xa(i[0]-i[1])*2*p:p,d&&o?o.map((b,y)=>({coordinate:r(b)+p,value:b,index:y,offset:p})):r.domain().map((b,y)=>({coordinate:r(b)+p,value:a?a[b]:b,index:y,offset:p}))}}},qs=we([en,ir,bj,jU,TU,Uwe,Fwe,rr],Hwe),vj=we([hU,mU,Qxe],(e,t,n)=>pU(n.shared,e,t)),NU=e=>e.tooltip.settings.trigger,xj=e=>e.tooltip.settings.defaultIndex,Vp=we([$f,vj,NU,xj],xU),fp=we([Vp,Bf,Hp,Wp],gj),OU=we([qs,fp],gU),Gwe=we([Vp],e=>{if(e)return e.dataKey});we([Vp],e=>{if(e)return e.graphicalItemId});var CU=we([$f,vj,NU,xj],_U),Ywe=we([Us,Fs,en,Pr,qs,xj,CU,qp],wU),qwe=we([Vp,Ywe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Kwe=we([Vp],e=>e.active),Wwe=we([CU,fp,rc,Hp,OU,qp,vj],SU),Vwe=we([Wwe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){Zwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zwe(e,t,n){return(t=Xwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xwe(e){var t=Jwe(e,"string");return typeof t=="symbol"?t:t+""}function Jwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qwe=()=>rt(ir),e_e=()=>{var e=Qwe(),t=rt(qs),n=rt(jU);return Yy(!e||!n?void 0:hI(hI({},e),{},{scale:n}),t)};function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){t_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t_e(e,t,n){return(t=n_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_e(e){var t=r_e(e,"string");return typeof t=="symbol"?t:t+""}function r_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i_e=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},a_e=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Od(Od(Od({},r),Or(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Od(Od(Od({},r),Or(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function o_e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var MU=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(xa(h-d)!==xa(p-h)){var y=[];if(xa(p-h)===xa(i[1]-i[0])){b=p;var k=h+i[1]-i[0];y[0]=Math.min(k,(k+d)/2),y[1]=Math.max(k,(k+d)/2)}else{b=d;var w=p+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var j=Math.min(d,p),O=Math.max(d,p);if(e>(j+h)/2&&e<=(O+h)/2){({index:o}=n[u]);break}}}else if(t){for(var A=0;A<l;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:o}=t[A]);break}}return o},DU=()=>rt(JA),wj=(e,t)=>t,PU=(e,t,n)=>n,_j=(e,t,n,r)=>r,s_e=we(qs,e=>lx(e,t=>t.coordinate)),Sj=we([$f,wj,PU,_j],xU),kj=we([Sj,Bf,Hp,Wp],gj),l_e=(e,t,n)=>{if(t!=null){var r=$f(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},RU=we([$f,wj,PU,_j],_U),hv=we([Us,Fs,en,Pr,qs,_j,RU,qp],wU),c_e=we([Sj,hv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),LU=we([qs,kj],gU),u_e=we([RU,kj,rc,Hp,LU,qp,wj],SU),d_e=we([Sj,kj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),f_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&o_e(e,o)){var l=Ipe(e,t),u=MU(l,a,i,n,r),d=i_e(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},h_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=Wge(e,n);if(l){var u=$pe(l,t),d=MU(u,o,a,r,i),h=a_e(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},m_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?f_e(e,t,r,i,a,o,l):h_e(e,t,n,r,i,a,o)},p_e=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),g_e=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Jr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Jve}});function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){b_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b_e(e,t,n){return(t=y_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_e(e){var t=v_e(e,"string");return typeof t=="symbol"?t:t+""}function v_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x_e={},w_e={zIndexMap:Object.values(Jr).reduce((e,t)=>gI(gI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),x_e)},__e=new Set(Object.values(Jr));function S_e(e){return __e.has(e)}var IU=Ei({name:"zIndex",initialState:w_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:fn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!S_e(n)&&delete e.zIndexMap[n])},prepare:fn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:fn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:fn()}}}),{registerZIndexPortal:k_e,unregisterZIndexPortal:E_e,registerZIndexPortalId:T_e,unregisterZIndexPortalId:A_e}=IU.actions,j_e=IU.reducer;function Ks(e){var{zIndex:t,children:n}=e,r=y0e(),i=r&&t!==void 0&&t!==0,a=Ti(),o=yr();_.useLayoutEffect(()=>i?(o(k_e({zIndex:t})),()=>{o(E_e({zIndex:t}))}):Op,[o,t,i]);var l=rt(d=>p_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?ju.createPortal(n,u):null}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(null,arguments)}function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){N_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N_e(e,t,n){return(t=O_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_e(e){var t=C_e(e,"string");return typeof t=="symbol"?t:t+""}function C_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function D_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,y=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var k,w,S;if(h==="ScatterChart")k=p,w=oge,S=Jr.cursorLine;else if(h==="BarChart")k=sge(l,p,a,o),w=$ge,S=Jr.cursorRectangle;else if(l==="radial"&&h9(p)){var{cx:j,cy:O,radius:A,startAngle:C,endAngle:D}=E8(p);k={cx:j,cy:O,startAngle:C,endAngle:D,innerRadius:A,outerRadius:A},w=Jge,S=Jr.cursorLine}else k={points:Qge(l,p,a)},w=Kb,S=Jr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,I=_b(_b(_b(_b({stroke:"#ccc",pointerEvents:"none"},a),k),ix(u)),{},{payload:b,payloadIndex:y,className:on("recharts-tooltip-cursor",P)});return _.createElement(Ks,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},_.createElement(M_e,{cursor:u,cursorComp:w,cursorProps:I}))}function P_e(e){var t=e_e(),n=c8(),r=Rp(),i=DU();return t==null||n==null||r==null||i==null?null:_.createElement(D_e,xE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var $U=_.createContext(null),R_e=()=>_.useContext($U),XS={exports:{}},yI;function L_e(){return yI||(yI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],y]:u._events[k].push(y):(u._events[k]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,y=p.length,k=new Array(y);b<y;b++)k[b]=p[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,y,k){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],j=arguments.length,O,A;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,b),!0;case 5:return S.fn.call(S.context,h,p,b,y),!0;case 6:return S.fn.call(S.context,h,p,b,y,k),!0}for(A=1,O=new Array(j-1);A<j;A++)O[A-1]=arguments[A];S.fn.apply(S.context,O)}else{var C=S.length,D;for(A=0;A<C;A++)switch(S[A].once&&this.removeListener(d,S[A].fn,void 0,!0),j){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,p);break;case 4:S[A].fn.call(S[A].context,h,p,b);break;default:if(!O)for(D=1,O=new Array(j-1);D<j;D++)O[D-1]=arguments[D];S[A].fn.apply(S[A].context,O)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var k=this._events[y];if(k.fn)k.fn===h&&(!b||k.once)&&(!p||k.context===p)&&o(this,y);else{for(var w=0,S=[],j=k.length;w<j;w++)(k[w].fn!==h||b&&!k[w].once||p&&k[w].context!==p)&&S.push(k[w]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(XS)),XS.exports}var I_e=L_e();const $_e=ki(I_e);var hp=new $_e,wE="recharts.syncEvent.tooltip",vI="recharts.syncEvent.brush";function B_e(e,t){if(t){var n=Number.parseInt(t,10);if(!ao(n))return e?.[n]}}var z_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},BU=Ei({name:"options",initialState:z_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),U_e=BU.reducer,{createEventEmitter:F_e}=BU.actions;function H_e(e){return e.tooltip.syncInteraction}var G_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},zU=Ei({name:"chartData",initialState:G_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:xI,setDataStartEndIndexes:Y_e,setComputedData:MCe}=zU.actions,q_e=zU.reducer,K_e=["x","y"];function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){W_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W_e(e,t,n){return(t=V_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_e(e){var t=Z_e(e,"string");return typeof t=="symbol"?t:t+""}function Z_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_e(e,t){if(e==null)return{};var n,r,i=J_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q_e(){var e=rt(QA),t=rt(ej),n=yr(),r=rt(Sz),i=rt(qs),a=Rp(),o=wx(),l=rt(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return Op;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:k,y:w}=y,S=X_e(y,K_e),{x:j,y:O,width:A,height:C}=h.payload.sourceViewBox,D=Cd(Cd({},S),{},{x:o.x+(A?(k-j)/A:0)*o.width,y:o.y+(C?(w-O)/C:0)*o.height});n(Cd(Cd({},h),{},{payload:Cd(Cd({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var I={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,I);P=i[U]}else r==="value"&&(P=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:W}=h.payload;if(P==null||h.payload.active===!1||W==null||o==null){n(yE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:H}=W,B=Math.min(q,o.x+o.width),K=Math.min(H,o.y+o.height),J={x:a==="horizontal"?P.coordinate:B,y:a==="horizontal"?K:P.coordinate},Z=yE({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return hp.on(wE,u),()=>{hp.off(wE,u)}},[l,n,t,e,r,i,a,o])}function e1e(){var e=rt(QA),t=rt(ej),n=yr();_.useEffect(()=>{if(e==null)return Op;var r=(i,a,o)=>{t!==o&&e===i&&n(Y_e(a))};return hp.on(vI,r),()=>{hp.off(vI,r)}},[n,t,e])}function t1e(){var e=yr();_.useEffect(()=>{e(F_e())},[e]),Q_e(),e1e()}function n1e(e,t,n,r,i,a){var o=rt(y=>l_e(y,e,t)),l=rt(ej),u=rt(QA),d=rt(Sz),h=rt(H_e),p=h?.active,b=wx();_.useEffect(()=>{if(!p&&u!=null&&l!=null){var y=yE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});hp.emit(wE,u,y,l)}},[p,n,o,i,r,l,u,d,a,b])}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){r1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r1e(e,t,n){return(t=i1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1e(e){return e.dataKey}function s1e(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(B0e,t)}var kI=[],l1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function c1e(e){var t,n,r=Ji(e,l1e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:y,reverseDirection:k,useTranslate3d:w,wrapperStyle:S,cursor:j,shared:O,trigger:A,defaultIndex:C,portal:D,axisId:P}=r,I=yr(),U=typeof C=="number"?String(C):C;_.useEffect(()=>{I(iwe({shared:O,trigger:A,axisId:P,active:i,defaultIndex:U}))},[I,O,A,P,i,U]);var W=wx(),q=v8(),H=Jxe(O),{activeIndex:B,isActive:K}=(t=rt(ye=>d_e(ye,H,A,U)))!==null&&t!==void 0?t:{},J=rt(ye=>u_e(ye,H,A,U)),Z=rt(ye=>LU(ye,H,A,U)),Y=rt(ye=>c_e(ye,H,A,U)),X=J,Q=R_e(),ce=(n=i??K)!==null&&n!==void 0?n:!1,[ie,z]=Ame([X,ce]),V=H==="axis"?Z:void 0;n1e(H,A,Y,V,B,ce);var ne=D??Q;if(ne==null||W==null||H==null)return null;var oe=X??kI;ce||(oe=kI),d&&oe.length&&(oe=Qhe(oe.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),b,o1e));var de=oe.length>0,me=_.createElement(q0e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:ce,coordinate:Y,hasPayload:de,offset:p,position:y,reverseDirection:k,useTranslate3d:w,viewBox:W,wrapperStyle:S,lastBoundingBox:ie,innerRef:z,hasPortalFromProps:!!D},s1e(u,SI(SI({},r),{},{payload:oe,label:V,active:ce,activeIndex:B,coordinate:Y,accessibilityLayer:q})));return _.createElement(_.Fragment,null,ju.createPortal(me,ne),ce&&_.createElement(P_e,{cursor:j,tooltipEventType:H,coordinate:Y,payload:oe,index:B}))}function u1e(e,t,n){return(t=d1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d1e(e){var t=f1e(e,"string");return typeof t=="symbol"?t:t+""}function f1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class h1e{constructor(t){u1e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){p1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p1e(e,t,n){return(t=g1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g1e(e){var t=b1e(e,"string");return typeof t=="symbol"?t:t+""}function b1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y1e={cacheSize:2e3,enableCache:!0},UU=m1e({},y1e),TI=new h1e(UU.cacheSize),v1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AI="recharts_measurement_span";function x1e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var jI=(e,t)=>{try{var n=document.getElementById(AI);n||(n=document.createElement("span"),n.setAttribute("id",AI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,v1e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cf.isSsr)return{width:0,height:0};if(!UU.enableCache)return jI(t,n);var r=x1e(t,n),i=TI.get(r);if(i)return i;var a=jI(t,n);return TI.set(r,a),a},NI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},S1e=Object.keys(FU),Fd="NaN";function k1e(e,t){return e*FU[t]}class yi{static parse(t){var n,[,r,i]=(n=_1e.exec(t))!==null&&n!==void 0?n:[];return new yi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ao(t)&&(this.unit=""),n!==""&&!w1e.test(n)&&(this.num=NaN,this.unit=""),S1e.includes(n)&&(this.num=k1e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new yi(NaN,""):new yi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yi(NaN,""):new yi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yi(NaN,""):new yi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yi(NaN,""):new yi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}function HU(e){if(e.includes(Fd))return Fd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=NI.exec(t))!==null&&n!==void 0?n:[],o=yi.parse(r??""),l=yi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Fd;t=t.replace(NI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=OI.exec(t))!==null&&d!==void 0?d:[],y=yi.parse(h??""),k=yi.parse(b??""),w=p==="+"?y.add(k):y.subtract(k);if(w.isNaN())return Fd;t=t.replace(OI,w.toString())}return t}var CI=/\(([^()]*)\)/;function E1e(e){for(var t=e,n;(n=CI.exec(t))!=null;){var[,r]=n;t=t.replace(CI,HU(r))}return t}function T1e(e){var t=e.replace(/\s+/g,"");return t=E1e(t),t=HU(t),t}function A1e(e){try{return T1e(e)}catch{return Fd}}function JS(e){var t=A1e(e.slice(5,-1));return t===Fd?"":t}var j1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],N1e=["dx","dy","angle","className","breakAll"];function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_E.apply(null,arguments)}function MI(e,t){if(e==null)return{};var n,r,i=O1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GU=/[ \f\n\r\t\v\u2028\u2029]+/,YU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Cr(t)||(n?i=t.toString().split(""):i=t.toString().split(GU));var a=i.map(l=>({word:l,width:Pm(l,r).width})),o=n?0:Pm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function C1e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var qU=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),KU=e=>e.reduce((t,n)=>t.width>n.width?t:n),M1e="",DI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=YU({breakAll:n,style:r,children:u+M1e});if(!d)return[!1,[]];var h=qU(d.wordsWithComputedWidth,a,o,l),p=h.length>i||KU(h).width>Number(a);return[p,h]},D1e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=tt(a),h=String(o),p=qU(t,r,n,i);if(!d||i)return p;var b=p.length>a||KU(p).width>Number(r);if(!b)return p;for(var y=0,k=h.length-1,w=0,S;y<=k&&w<=h.length-1;){var j=Math.floor((y+k)/2),O=j-1,[A,C]=DI(h,O,u,l,a,r,n,i),[D]=DI(h,j,u,l,a,r,n,i);if(!A&&!D&&(y=j+1),A&&D&&(k=j-1),!A&&D){S=C;break}w++}return S||p},PI=e=>{var t=Cr(e)?[]:e.toString().split(GU);return[{words:t,width:void 0}]},P1e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Cf.isSsr){var l,u,d=YU({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return PI(r);return D1e({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return PI(r)},WU="#808080",R1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:WU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ej=_.forwardRef((e,t)=>{var n=Ji(e,R1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=MI(n,j1e),b=_.useMemo(()=>P1e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:k,angle:w,className:S,breakAll:j}=p,O=MI(p,N1e);if(!zo(r)||!zo(i)||b.length===0)return null;var A=Number(r)+(tt(y)?y:0),C=Number(i)+(tt(k)?k:0);if(!On(A)||!On(C))return null;var D;switch(h){case"start":D=JS("calc(".concat(o,")"));break;case"middle":D=JS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=JS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var I=b[0].width,{width:U}=p;P.push("scale(".concat(tt(U)&&tt(I)?U/I:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(A,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),_.createElement("text",_E({},Ea(O),{ref:t,x:A,y:C,className:on("recharts-text",S),textAnchor:d,fill:l.includes("url")?WU:l}),b.map((W,q)=>{var H=W.words.join(j?"":" ");return _.createElement("tspan",{x:A,dy:q===0?D:a,key:"".concat(H,"-").concat(q)},H)}))});Ej.displayName="Text";var L1e=["labelRef"];function I1e(e,t){if(e==null)return{};var n,r,i=$1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){B1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B1e(e,t,n){return(t=z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z1e(e){var t=U1e(e,"string");return typeof t=="symbol"?t:t+""}function U1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(null,arguments)}var VU=_.createContext(null),F1e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return _.createElement(VU.Provider,{value:u},l)},ZU=()=>{var e=_.useContext(VU),t=wx();return e||l8(t)},H1e=_.createContext(null),G1e=()=>{var e=_.useContext(H1e),t=rt(jz);return e||t},Y1e=e=>{var{value:t,formatter:n}=e,r=Cr(e.children)?t:e.children;return typeof n=="function"?n(r):r},Tj=e=>e!=null&&typeof e=="function",q1e=(e,t)=>{var n=xa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},K1e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:y}=i,k=(d+h)/2,w=q1e(p,b),S=w>=0?1:-1,j,O;switch(t){case"insideStart":j=p+S*a,O=y;break;case"insideEnd":j=b-S*a,O=!y;break;case"end":j=b+S*a,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var A=Or(l,u,k,j),C=Or(l,u,k,j+(O?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=Cr(e.id)?Qm("recharts-radial-line-"):e.id;return _.createElement("text",_s({},r,{dominantBaseline:"central",className:on("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:P,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(P)},n))},W1e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=Or(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:k}=Or(r,i,b,d);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},SE=e=>"cx"in e&&tt(e.cx),V1e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!SE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,y=(p+b)/2,k=(u+d)/2,w=p+u/2,S=h>=0?1:-1,j=S*r,O=S>0?"end":"start",A=S>0?"start":"end",C=u>=0?1:-1,D=C*r,P=C>0?"end":"start",I=C>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-j,textAnchor:"middle",verticalAnchor:O};return Pn(Pn({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var W={x:b+d/2,y:l+h+j,textAnchor:"middle",verticalAnchor:A};return Pn(Pn({},W),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var q={x:y-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return Pn(Pn({},q),a?{width:Math.max(q.x-a.x,0),height:h}:{})}if(i==="right"){var H={x:y+k+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"};return Pn(Pn({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:h}:{})}var B=a?{width:k,height:h}:{};return i==="insideLeft"?Pn({x:y+D,y:l+h/2,textAnchor:I,verticalAnchor:"middle"},B):i==="insideRight"?Pn({x:y+k-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideTop"?Pn({x:p+u/2,y:l+j,textAnchor:"middle",verticalAnchor:A},B):i==="insideBottom"?Pn({x:b+d/2,y:l+h-j,textAnchor:"middle",verticalAnchor:O},B):i==="insideTopLeft"?Pn({x:p+D,y:l+j,textAnchor:I,verticalAnchor:A},B):i==="insideTopRight"?Pn({x:p+u-D,y:l+j,textAnchor:P,verticalAnchor:A},B):i==="insideBottomLeft"?Pn({x:b+D,y:l+h-j,textAnchor:I,verticalAnchor:O},B):i==="insideBottomRight"?Pn({x:b+d-D,y:l+h-j,textAnchor:P,verticalAnchor:O},B):i&&typeof i=="object"&&(tt(i.x)||Ds(i.x))&&(tt(i.y)||Ds(i.y))?Pn({x:o+Zl(i.x,k),y:l+Zl(i.y,h),textAnchor:"end",verticalAnchor:"end"},B):Pn({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Z1e={angle:0,offset:5,zIndex:Jr.label,position:"middle",textBreakAll:!1};function Dl(e){var t=Ji(e,Z1e),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=G1e(),p=ZU(),b=r==="center"?p:h??p,y,k,w;if(n==null?y=b:SE(n)?y=n:y=l8(n),!y||Cr(i)&&Cr(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var S=Pn(Pn({},t),{},{viewBox:y});if(_.isValidElement(o)){var{labelRef:j}=S,O=I1e(S,L1e);return _.cloneElement(o,O)}if(typeof o=="function"){if(k=_.createElement(o,S),_.isValidElement(k))return k}else k=Y1e(t);var A=Ea(t);if(SE(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return K1e(t,r,k,A,y);w=W1e(y,t.offset,t.position)}else w=V1e(t,y);return _.createElement(Ks,{zIndex:t.zIndex},_.createElement(Ej,_s({ref:d,className:on("recharts-label",l)},A,w,{textAnchor:C1e(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:u}),k))}Dl.displayName="Label";var X1e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(Dl,_s({key:"label-implicit"},r)):zo(e)?_.createElement(Dl,_s({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===Dl?_.cloneElement(e,Pn({key:"label-implicit"},r)):_.createElement(Dl,_s({key:"label-implicit",content:e},r)):Tj(e)?_.createElement(Dl,_s({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(Dl,_s({},e,{key:"label-implicit"},r)):null};function J1e(e){var{label:t,labelRef:n}=e,r=ZU();return X1e(t,r,n)||null}var QS={},ek={},LI;function Q1e(){return LI||(LI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ek)),ek}var tk={},II;function eSe(){return II||(II=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(tk)),tk}var $I;function tSe(){return $I||($I=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1e(),n=eSe(),r=mA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(QS)),QS}var nk,BI;function nSe(){return BI||(BI=1,nk=tSe().last),nk}var rSe=nSe();const iSe=ki(rSe);var aSe=["valueAccessor"],oSe=["dataKey","clockWise","id","textBreakAll","zIndex"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(null,arguments)}function zI(e,t){if(e==null)return{};var n,r,i=sSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lSe=e=>Array.isArray(e.value)?iSe(e.value):e.value,XU=_.createContext(void 0),cSe=XU.Provider,JU=_.createContext(void 0);JU.Provider;function uSe(){return _.useContext(XU)}function dSe(){return _.useContext(JU)}function Vb(e){var{valueAccessor:t=lSe}=e,n=zI(e,aSe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=zI(n,oSe),d=uSe(),h=dSe(),p=d||h;return!p||!p.length?null:_.createElement(Ks,{zIndex:l??Jr.label},_.createElement(Bo,{className:"recharts-label-list"},p.map((b,y)=>{var k,w=Cr(r)?t(b,y):Hr(b&&b.payload,r),S=Cr(a)?{}:{id:"".concat(a,"-").concat(y)};return _.createElement(Dl,mv({key:"label-".concat(y)},Ea(b),u,S,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:y,zIndex:0}))})))}Vb.displayName="LabelList";function fSe(e){var{label:t}=e;return t?t===!0?_.createElement(Vb,{key:"labelList-implicit"}):_.isValidElement(t)||Tj(t)?_.createElement(Vb,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Vb,mv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kE.apply(null,arguments)}var QU=e=>{var{cx:t,cy:n,r,className:i}=e,a=on("recharts-dot",i);return tt(t)&&tt(n)&&tt(r)?_.createElement("circle",kE({},io(e),hA(e),{className:a,cx:t,cy:n,r})):null},hSe={radiusAxis:{},angleAxis:{}},eF=Ei({name:"polarAxis",initialState:hSe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DCe,removeRadiusAxis:PCe,addAngleAxis:RCe,removeAngleAxis:LCe}=eF.actions,mSe=eF.reducer,rk={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function pSe(){if(UI)return $t;UI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case d:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case k:case y:case o:return D;default:return P}}case n:return P}}}function C(D){return A(D)===d}return $t.AsyncMode=u,$t.ConcurrentMode=d,$t.ContextConsumer=l,$t.ContextProvider=o,$t.Element=t,$t.ForwardRef=h,$t.Fragment=r,$t.Lazy=k,$t.Memo=y,$t.Portal=n,$t.Profiler=a,$t.StrictMode=i,$t.Suspense=p,$t.isAsyncMode=function(D){return C(D)||A(D)===u},$t.isConcurrentMode=C,$t.isContextConsumer=function(D){return A(D)===l},$t.isContextProvider=function(D){return A(D)===o},$t.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},$t.isForwardRef=function(D){return A(D)===h},$t.isFragment=function(D){return A(D)===r},$t.isLazy=function(D){return A(D)===k},$t.isMemo=function(D){return A(D)===y},$t.isPortal=function(D){return A(D)===n},$t.isProfiler=function(D){return A(D)===a},$t.isStrictMode=function(D){return A(D)===i},$t.isSuspense=function(D){return A(D)===p},$t.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===d||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===y||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===S||D.$$typeof===j||D.$$typeof===O||D.$$typeof===w)},$t.typeOf=A,$t}var FI;function gSe(){return FI||(FI=1,rk.exports=pSe()),rk.exports}gSe();var tF=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function bSe(e){var{tooltipEntrySettings:t}=e,n=yr(),r=Ti(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(twe(t)):i.current!==t&&n(nwe({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(rwe(i.current)),i.current=null)},[n]),null}function ySe(e){var{legendPayload:t}=e,n=yr(),r=Ti(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(C0e(t)):i.current!==t&&n(M0e({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(D0e(i.current)),i.current=null)},[n]),null}var ik,vSe=()=>{var[e]=_.useState(()=>Qm("uid-"));return e},xSe=(ik=nY.useId)!==null&&ik!==void 0?ik:vSe;function nF(e,t){var n=xSe();return t||(e?"".concat(e,"-").concat(n):n)}var wSe=_.createContext(void 0),_Se=e=>{var{id:t,type:n,children:r}=e,i=nF("recharts-".concat(n),t);return _.createElement(wSe.Provider,{value:i},r(i))},SSe={cartesianItems:[],polarItems:[]},rF=Ei({name:"graphicalItems",initialState:SSe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:fn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=eo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:fn()},removeCartesianGraphicalItem:{reducer(e,t){var n=eo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:fn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:fn()},removePolarGraphicalItem:{reducer(e,t){var n=eo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:fn()}}}),{addCartesianGraphicalItem:kSe,replaceCartesianGraphicalItem:ESe,removeCartesianGraphicalItem:TSe,addPolarGraphicalItem:ICe,removePolarGraphicalItem:$Ce}=rF.actions,ASe=rF.reducer,jSe=e=>{var t=yr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(kSe(e)):n.current!==e&&t(ESe({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(TSe(n.current)),n.current=null)},[t]),null},NSe=_.memo(jSe),OSe=["points"];function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){CSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CSe(e,t,n){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(null,arguments)}function PSe(e,t){if(e==null)return{};var n,r,i=RSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LSe(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=on(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=PSe(a,OSe);return _.createElement(QU,pv({},l,{className:i}))}function ISe(e,t){return e==null?!1:t?!0:e.length===1}function $Se(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Jr.scatter}=e;if(!ISe(t,n))return null;var h=tF(n),p=Kfe(n),b=t.map((k,w)=>{var S,j,O=ak(ak(ak({r:3},o),p),{},{index:w,cx:(S=k.x)!==null&&S!==void 0?S:void 0,cy:(j=k.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return _.createElement(LSe,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),_.createElement(Ks,{zIndex:d},_.createElement(Bo,pv({className:r},y),b))}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){BSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BSe(e,t,n){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zSe(e){var t=USe(e,"string");return typeof t=="symbol"?t:t+""}function USe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FSe={xAxis:{},yAxis:{},zAxis:{}},iF=Ei({name:"cartesianAxis",initialState:FSe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:fn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:fn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:fn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:fn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:fn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:fn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:fn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:fn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:fn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=YI(YI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:HSe,replaceXAxis:GSe,removeXAxis:YSe,addYAxis:qSe,replaceYAxis:KSe,removeYAxis:WSe,addZAxis:BCe,replaceZAxis:zCe,removeZAxis:UCe,updateYAxisWidth:VSe}=iF.actions,ZSe=iF.reducer,XSe=we([Pr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),JSe=we([XSe,Us,Fs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Aj=()=>rt(JSe),QSe=()=>rt(Vwe);function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){eke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eke(e,t,n){return(t=tke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tke(e){var t=nke(e,"string");return typeof t=="symbol"?t:t+""}function nke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rke=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=ok(ok(ok({},l),ix(i)),hA(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,u):typeof i=="function"?d=i(u):d=_.createElement(QU,u),_.createElement(Bo,{className:"recharts-active-dot",clipPath:o},d)};function KI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Jr.activeDot}=e,l=rt(fp),u=QSe();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return Cr(d)?null:_.createElement(Ks,{zIndex:o},_.createElement(rke,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ike={},aF=Ei({name:"errorBars",initialState:ike,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:FCe,replaceErrorBar:HCe,removeErrorBar:GCe}=aF.actions,ake=aF.reducer;function oF(e,t){var n,r,i=rt(d=>Gs(d,e)),a=rt(d=>Ys(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:dr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:fr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function oke(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Aj(),{needClipX:a,needClipY:o,needClip:l}=oF(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var ske=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function lke(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jj(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(ske.has(r)){if(e[r]==null&&t[r]==null)continue;if(!zb(e[r],t[r]))return!1}else if(!lke(e[r],t[r]))return!1;return!0}var cke=e=>{var{chartData:t}=e,n=yr(),r=Ti();return _.useEffect(()=>r?()=>{}:(n(xI(t)),()=>{n(xI(void 0))}),[t,n,r]),null},WI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sF=Ei({name:"brush",initialState:WI,reducers:{setBrushSettings(e,t){return t.payload==null?WI:t.payload}}}),{setBrushSettings:YCe}=sF.actions,uke=sF.reducer;function dke(e,t,n){return(t=fke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fke(e){var t=hke(e,"string");return typeof t=="symbol"?t:t+""}function hke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nj{static create(t){return new Nj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}dke(Nj,"EPS",1e-4);function mke(e){return(e%180+180)%180}var pke=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mke(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},gke={dots:[],areas:[],lines:[]},lF=Ei({name:"referenceElements",initialState:gke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=eo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=eo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=eo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:qCe,removeDot:KCe,addArea:WCe,removeArea:VCe,addLine:ZCe,removeLine:XCe}=lF.actions,bke=lF.reducer,yke=_.createContext(void 0),vke=e=>{var{children:t}=e,[n]=_.useState("".concat(Qm("recharts"),"-clip")),r=Aj();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return _.createElement(yke.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function cF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function xke(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return pke(r,n)}function wke(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function gv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function _ke(e,t){return cF(e,t+1)}function Ske(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var k=r?.[u];if(k===void 0)return{v:cF(r,d)};var w=u,S,j=()=>(S===void 0&&(S=n(k,w)),S),O=k.coordinate,A=u===0||gv(e,O,j,h,l);A||(u=0,h=o,d+=1),A&&(h=O+e*(j()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){kke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kke(e,t,n){return(t=Eke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eke(e){var t=Tke(e,"string");return typeof t=="symbol"?t:t+""}function Tke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ake(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var y=a[b],k,w=()=>(k===void 0&&(k=n(y,b)),k);if(b===o-1){var S=e*(y.coordinate+e*w()/2-u);a[b]=y=Ur(Ur({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[b]=y=Ur(Ur({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=gv(e,y.tickCoord,w,l,u);j&&(u=y.tickCoord-e*(w()/2+i),a[b]=Ur(Ur({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function jke(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=Ur(Ur({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var y=gv(e,h.tickCoord,()=>p,u,d);y&&(d=h.tickCoord-e*(p/2+i),o[l-1]=Ur(Ur({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,w=function(O){var A=o[O],C,D=()=>(C===void 0&&(C=n(A,O)),C);if(O===0){var P=e*(A.coordinate-e*D()/2-u);o[O]=A=Ur(Ur({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else o[O]=A=Ur(Ur({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var I=gv(e,A.tickCoord,D,u,d);I&&(u=A.tickCoord+e*(D()/2+i),o[O]=Ur(Ur({},A),{},{isShow:!0}))}},S=0;S<k;S++)w(S);return o}function Oj(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(tt(u)||Cf.isSsr){var b;return(b=_ke(i,tt(u)?u:0))!==null&&b!==void 0?b:[]}var y=[],k=l==="top"||l==="bottom"?"width":"height",w=h&&k==="width"?Pm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(A,C)=>{var D=typeof d=="function"?d(A.value,C):A.value;return k==="width"?xke(Pm(D,{fontSize:t,letterSpacing:n}),w,p):Pm(D,{fontSize:t,letterSpacing:n})[k]},j=i.length>=2?xa(i[1].coordinate-i[0].coordinate):1,O=wke(a,j,k);return u==="equidistantPreserveStart"?Ske(j,O,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=jke(j,O,S,i,o,u==="preserveStartEnd"):y=Ake(j,O,S,i,o),y.filter(A=>A.isShow))}var Nke=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},Oke=["axisLine","width","height","className","hide","ticks","axisType"];function Cke(e,t){if(e==null)return{};var n,r,i=Mke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ku.apply(null,arguments)}function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){Dke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dke(e,t,n){return(t=Pke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pke(e){var t=Rke(e,"string");return typeof t=="symbol"?t:t+""}function Rke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ns={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jr.axis};function Lke(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=qn(qn(qn({},u),io(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=qn(qn({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=qn(qn({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return _.createElement("line",ku({},d,{className:on("recharts-cartesian-axis-line",sx(l,"className"))}))}function Ike(e,t,n,r,i,a,o,l,u){var d,h,p,b,y,k,w=l?-1:1,S=e.tickSize||o,j=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-w*S,k=p-w*u,y=j;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-w*S,y=d-w*u,k=j;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+w*S,y=d+w*u,k=j;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+w*S,k=p+w*u,y=j;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x:y,y:k}}}function $ke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Bke(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function zke(e){var{option:t,tickProps:n,value:r}=e,i,a=on(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,qn(qn({},n),{},{className:a}));else if(typeof t=="function")i=t(qn(qn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=on(o,t?.className)),i=_.createElement(Ej,ku({},n,{className:o}),r)}return i}var Uke=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y,width:k,height:w,tickSize:S,tickMargin:j,fontSize:O,letterSpacing:A,getTicksConfig:C,events:D,axisType:P}=e,I=Oj(qn(qn({},C),{},{ticks:n}),O,A),U=$ke(h,p),W=Bke(h,p),q=io(C),H=ix(r),B={};typeof i=="object"&&(B=i);var K=qn(qn({},q),{},{fill:"none"},B),J=I.map(X=>qn({entry:X},Ike(X,b,y,k,w,h,S,p,j))),Z=J.map(X=>{var{entry:Q,line:ce}=X;return _.createElement(Bo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&_.createElement("line",ku({},K,ce,{className:on("recharts-cartesian-axis-tick-line",sx(i,"className"))})))}),Y=J.map((X,Q)=>{var{entry:ce,tick:ie}=X,z=qn(qn(qn(qn({textAnchor:U,verticalAnchor:W},q),{},{stroke:"none",fill:a},H),ie),{},{index:Q,payload:ce,visibleTicksCount:I.length,tickFormatter:o,padding:u},d);return _.createElement(Bo,ku({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},Nhe(D,ce,Q)),r&&_.createElement(zke,{option:r,tickProps:z,value:"".concat(typeof o=="function"?o(ce.value,Q):ce.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},Y.length>0&&_.createElement(Ks,{zIndex:Jr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},Y)),Z.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),Fke=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=Cke(e,Oke),[h,p]=_.useState(""),[b,y]=_.useState(""),k=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Nke({ticks:k.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=j;var O=j[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,D=A.letterSpacing;(C!==h||D!==b)&&(p(C),y(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Ks,{zIndex:e.zIndex},_.createElement(Bo,{className:on("recharts-cartesian-axis",a)},_.createElement(Lke,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:io(e)}),_.createElement(Uke,{ref:w,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(F1e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(J1e,{label:e.label,labelRef:e.labelRef}),e.children)))}),Cj=_.forwardRef((e,t)=>{var n=Ji(e,Ns);return _.createElement(Fke,ku({},n,{ref:t}))});Cj.displayName="CartesianAxis";var Hke=["x1","y1","x2","y2","key"],Gke=["offset"],Yke=["xAxisId","yAxisId"],qke=["xAxisId","yAxisId"];function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Kke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kke(e,t,n){return(t=Wke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wke(e){var t=Vke(e,"string");return typeof t=="symbol"?t:t+""}function Vke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(null,arguments)}function bv(e,t){if(e==null)return{};var n,r,i=Zke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xke=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return _.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uF(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=bv(n,Hke),p=(i=io(h))!==null&&i!==void 0?i:{},{offset:b}=p,y=bv(p,Gke);r=_.createElement("line",du({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function Jke(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=bv(e,Yke),u=i.map((d,h)=>{var p=Fr(Fr({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return _.createElement(uF,{key:"line-".concat(h),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Qke(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=bv(e,qke),u=i.map((d,h)=>{var p=Fr(Fr({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return _.createElement(uF,{option:r,lineItemProps:p,key:"line-".concat(h)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function e2e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%t.length;return _.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:k,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function t2e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:k,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var n2e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return e8(Oj(Fr(Fr(Fr({},Ns),n),{},{ticks:t8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},r2e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return e8(Oj(Fr(Fr(Fr({},Ns),n),{},{ticks:t8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},i2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Jr.grid};function dF(e){var t=u8(),n=d8(),r=c8(),i=Fr(Fr({},Ji(e,i2e)),{},{x:tt(e.x)?e.x:r.left,y:tt(e.y)?e.y:r.top,width:tt(e.width)?e.width:r.width,height:tt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:y}=i,k=Ti(),w=rt(W=>lI(W,"xAxis",a,k)),S=rt(W=>lI(W,"yAxis",o,k));if(!Uo(d)||!Uo(h)||!tt(l)||!tt(u))return null;var j=i.verticalCoordinatesGenerator||n2e,O=i.horizontalCoordinatesGenerator||r2e,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof O=="function"){var D=b&&b.length,P=O({yAxis:S?Fr(Fr({},S),{},{ticks:D?b:S.ticks}):void 0,width:t??d,height:n??h,offset:r},D?!0:p);qy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof j=="function"){var I=y&&y.length,U=j({xAxis:w?Fr(Fr({},w),{},{ticks:I?y:w.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:p);qy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return _.createElement(Ks,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Xke,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(e2e,du({},i,{horizontalPoints:A})),_.createElement(t2e,du({},i,{verticalPoints:C})),_.createElement(Jke,du({},i,{offset:r,horizontalPoints:A,xAxis:w,yAxis:S})),_.createElement(Qke,du({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:S}))))}dF.displayName="CartesianGrid";function a2e(e){var t=ix(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var fF=(e,t,n,r)=>fU(e,"xAxis",t,r),hF=(e,t,n,r)=>dU(e,"xAxis",t,r),mF=(e,t,n,r)=>fU(e,"yAxis",n,r),pF=(e,t,n,r)=>dU(e,"yAxis",n,r),o2e=we([en,fF,mF,hF,pF],(e,t,n,r,i)=>zs(e,"xAxis")?Yy(t,r,!1):Yy(n,i,!1)),s2e=(e,t,n,r,i)=>i,gF=we([Pz,s2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),l2e=(e,t,n,r,i)=>{var a,o=gF(e,t,n,r,i);if(o!=null){var l=en(e),u=zs(l,"xAxis"),d;if(u?d=bE(e,"yAxis",n,r):d=bE(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=ij(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(y=>y.key===p)}}}},c2e=we([en,fF,mF,hF,pF,l2e,VA,o2e,gF,qve],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,k;if(y&&y.length>0?k=y:k=h?.slice(p,b+1),k!=null)return j2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),u2e=["id"],d2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(null,arguments)}function bF(e,t){if(e==null)return{};var n,r,i=f2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(n),!0).forEach(function(r){h2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h2e(e,t,n){return(t=m2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m2e(e){var t=p2e(e,"string");return typeof t=="symbol"?t:t+""}function p2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yv(e,t){return e&&e!=="none"?e:t}var g2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:yv(r,i),value:n8(n,t),payload:e}]},b2e=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:n8(o,t),hide:l,type:d,color:yv(r,a),unit:u}};return _.createElement(bSe,{tooltipEntrySettings:h})});function y2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=io(r);return _.createElement($Se,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function v2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hd(Hd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(cSe,{value:t?i:void 0},n)}function QI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=bF(a,u2e),y=io(b),k=Ea(b);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(Bo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Kb,bu({},k,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(Kb,bu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&_.createElement(Kb,bu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),_.createElement(y2e,{points:t,props:b,clipPathId:i}))}function x2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!On(a)||!On(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return tt(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),tt(u)?_.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function w2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!On(a)||!On(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return tt(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),tt(u)?_.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function _2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?_.createElement(x2e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):_.createElement(w2e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function S2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:y}=r,k=_.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=k8(k,"recharts-area-"),S=b0e(),[j,O]=_.useState(!1),A=!j,C=_.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),D=_.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]);if(S==null)return null;var P=i.current,I=a.current;return _.createElement(v2e,{showLabels:A,points:o},r.children,_.createElement(S8,{animationId:w,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:D,key:w},U=>{if(P){var W=P.length/o.length,q=U===1?o:o.map((B,K)=>{var J=Math.floor(K*W);if(P[J]){var Z=P[J];return Hd(Hd({},B),{},{x:Do(Z.x,B.x,U),y:Do(Z.y,B.y,U)})}return B}),H;return tt(l)?H=Do(I,l,U):Cr(l)||ao(l)?H=Do(I,0,U):H=l.map((B,K)=>{var J=Math.floor(K*W);if(Array.isArray(I)&&I[J]){var Z=I[J];return Hd(Hd({},B),{},{x:Do(Z.x,B.x,U),y:Do(Z.y,B.y,U)})}return B}),U>0&&(i.current=q,a.current=H),_.createElement(QI,{points:q,baseLine:H,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=l),_.createElement(Bo,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(_2e,{alpha:U,points:o,baseLine:l,layout:S,strokeWidth:r.strokeWidth}))),_.createElement(Bo,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(QI,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),_.createElement(fSe,{label:r.label}))}function k2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=_.useRef(null),a=_.useRef();return _.createElement(S2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class E2e extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:y,zIndex:k}=this.props;if(t)return null;var w=on("recharts-area",i),S=b,{r:j,strokeWidth:O}=a2e(n),A=tF(n),C=j*2+O,D=l?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return _.createElement(Ks,{zIndex:k},_.createElement(Bo,{className:w},l&&_.createElement("defs",null,_.createElement(oke,{clipPathId:S,xAxisId:u,yAxisId:d}),!A&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),_.createElement(k2e,{needClip:l,clipPathId:S,props:this.props})),_.createElement(KI,{points:r,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&_.createElement(KI,{points:y,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var yF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Jr.area};function T2e(e){var t,n=Ji(e,yF),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:y,stroke:k,xAxisId:w,yAxisId:S}=n,j=bF(n,d2e),O=Rp(),A=DU(),{needClip:C}=oF(w,S),D=Ti(),{points:P,isRange:I,baseLine:U}=(t=rt(J=>c2e(J,w,S,D,e.id)))!==null&&t!==void 0?t:{},W=Aj();if(O!=="horizontal"&&O!=="vertical"||W==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:q,width:H,x:B,y:K}=W;return!P||!P.length?null:_.createElement(E2e,bu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:q,hide:p,layout:O,isAnimationActive:b==="auto"?!Cf.isSsr:b,isRange:I,legendType:y,needClip:C,points:P,stroke:k,width:H,left:B,top:K,xAxisId:w,yAxisId:S}))}var A2e=(e,t,n,r,i)=>{var a=n??t;if(tt(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function j2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:y}=e,k=i&&i.length,w=A2e(a,o,n,l,u),S=a==="horizontal",j=!1,O=d.map((C,D)=>{var P;k?P=i[h+D]:(P=Hr(C,r),Array.isArray(P)?j=!0:P=[w,P]);var I=P[1]==null||k&&!t&&Hr(C,r)==null;return S?{x:C3({axis:l,ticks:p,bandSize:y,entry:C,index:D}),y:I?null:u.scale(P[1]),value:P,payload:C}:{x:I?null:l.scale(P[1]),y:C3({axis:u,ticks:b,bandSize:y,entry:C,index:D}),value:P,payload:C}}),A;return k||j?A=O.map(C=>{var D=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:D!=null&&C.y!=null?u.scale(D):null,payload:C.payload}:{x:D!=null?l.scale(D):null,y:C.y,payload:C.payload}}):A=S?u.scale(w):l.scale(w),{points:O,baseLine:A,isRange:j}}function N2e(e){var t=Ji(e,yF),n=Ti();return _.createElement(_Se,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(ySe,{legendPayload:g2e(t)}),_.createElement(b2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(NSe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Dpe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(T2e,bu({},t,{id:r}))))}var vF=_.memo(N2e,jj);vF.displayName="Area";var O2e=["domain","range"],C2e=["domain","range"];function e5(e,t){if(e==null)return{};var n,r,i=M2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function xF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=e5(e,O2e),{domain:a,range:o}=t,l=e5(t,C2e);return!t5(n,a)||!t5(r,o)?!1:jj(i,l)}var D2e=["dangerouslySetInnerHTML","ticks"],P2e=["id"];function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(null,arguments)}function n5(e,t){if(e==null)return{};var n,r,i=R2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function L2e(e){var t=yr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(HSe(e)):n.current!==e&&t(GSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(YSe(n.current)),n.current=null)},[t]),null}var I2e=e=>{var{xAxisId:t,className:n}=e,r=rt(i8),i=Ti(),a="xAxis",o=rt(S=>If(S,a,t,i)),l=rt(S=>uU(S,a,t,i)),u=rt(S=>$xe(S,t)),d=rt(S=>Gxe(S,t)),h=rt(S=>Oz(S,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,y=n5(e,D2e),{id:k}=h,w=n5(h,P2e);return _.createElement(Cj,EE({},y,w,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:on("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},$2e={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,angle:dr.angle,axisLine:Ns.axisLine,height:dr.height,hide:!1,includeHidden:dr.includeHidden,interval:dr.interval,minTickGap:dr.minTickGap,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tick:dr.tick,tickCount:dr.tickCount,tickLine:Ns.tickLine,tickSize:Ns.tickSize,type:dr.type,xAxisId:0},B2e=e=>{var t=Ji(e,$2e);return _.createElement(_.Fragment,null,_.createElement(L2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(I2e,t))},wF=_.memo(B2e,xF);wF.displayName="XAxis";var z2e=["dangerouslySetInnerHTML","ticks"],U2e=["id"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(null,arguments)}function r5(e,t){if(e==null)return{};var n,r,i=F2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function H2e(e){var t=yr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(qSe(e)):n.current!==e&&t(KSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(WSe(n.current)),n.current=null)},[t]),null}var G2e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=_.useRef(null),o=_.useRef(null),l=rt(i8),u=Ti(),d=yr(),h="yAxis",p=rt(D=>If(D,h,t,u)),b=rt(D=>Kxe(D,t)),y=rt(D=>qxe(D,t)),k=rt(D=>uU(D,h,t,u)),w=rt(D=>Cz(D,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||Tj(i)||_.isValidElement(i)||w==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(VSe({id:t,width:P}))}}},[k,b,d,i,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,O=r5(e,z2e),{id:A}=w,C=r5(w,U2e);return _.createElement(Cj,TE({},O,C,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:on("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},Y2e={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,angle:fr.angle,axisLine:Ns.axisLine,hide:!1,includeHidden:fr.includeHidden,interval:fr.interval,minTickGap:fr.minTickGap,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,tickLine:Ns.tickLine,tickSize:Ns.tickSize,type:fr.type,width:fr.width,yAxisId:0},q2e=e=>{var t=Ji(e,Y2e);return _.createElement(_.Fragment,null,_.createElement(H2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(G2e,t))},_F=_.memo(q2e,xF);_F.displayName="YAxis";var K2e=(e,t)=>t,Mj=we([K2e,en,jz,rr,AU,qs,s_e,Pr],m_e),Dj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},SF=Ta("mouseClick"),kF=Dp();kF.startListening({actionCreator:SF,effect:(e,t)=>{var n=e.payload,r=Mj(t.getState(),Dj(n));r?.activeIndex!=null&&t.dispatch(owe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var AE=Ta("mouseMove"),EF=Dp(),Sb=null;EF.startListening({actionCreator:AE,effect:(e,t)=>{var n=e.payload;Sb!==null&&cancelAnimationFrame(Sb);var r=Dj(n);Sb=requestAnimationFrame(()=>{var i=t.getState(),a=pj(i,i.tooltip.settings.shared);if(a==="axis"){var o=Mj(i,r);o?.activeIndex!=null?t.dispatch(vU({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(yU())}Sb=null})}});var i5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},TF=Ei({name:"rootProps",initialState:i5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:i5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),W2e=TF.reducer,{updateOptions:V2e}=TF.actions,AF=Ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:JCe}=AF.actions,Z2e=AF.reducer,jF=Ta("keyDown"),NF=Ta("focus"),Pj=Dp();Pj.startListening({actionCreator:jF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=gj(i,Bf(n),Hp(n),Wp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=qs(n);if(a==="Enter"){var d=hv(n,"axis","hover",String(i.index));t.dispatch(vE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Xxe(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,y=l+b*p;if(!(u==null||y>=u.length||y<0)){var k=hv(n,"axis","hover",String(y));t.dispatch(vE({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});Pj.startListening({actionCreator:NF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=hv(n,"axis","hover",String(a));t.dispatch(vE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ha=Ta("externalEvent"),OF=Dp(),sk=new Map;OF.startListening({actionCreator:ha,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=sk.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:qwe(l),activeDataKey:Gwe(l),activeIndex:fp(l),activeLabel:OU(l),activeTooltipIndex:fp(l),isTooltipActive:Kwe(l)};n(u,r)}finally{sk.delete(i)}});sk.set(i,o)}}});var X2e=we([$f],e=>e.tooltipItemPayloads),J2e=we([X2e,qp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),CF=Ta("touchMove"),MF=Dp();MF.startListening({actionCreator:CF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=pj(r,r.tooltip.settings.shared);if(i==="axis"){var a=Mj(r,Dj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(vU({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(zpe),h=(o=u.getAttribute(Upe))!==null&&o!==void 0?o:void 0,p=J2e(t.getState(),d,h);t.dispatch(awe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var Q2e=QB({brush:uke,cartesianAxis:ZSe,chartData:q_e,errorBars:ake,graphicalItems:ASe,layout:Spe,legend:P0e,options:U_e,polarAxis:mSe,polarOptions:Z2e,referenceElements:bke,rootProps:W2e,tooltip:swe,zIndex:j_e}),eEe=function(t){return Wme({reducer:Q2e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([kF.middleware,EF.middleware,Pj.middleware,OF.middleware,MF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(z9({type:"raf"}))},devTools:Cf.devToolsEnabled})};function tEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ti(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=eEe(t));var o=pA;return _.createElement(l4,{context:o,store:a.current},n)}function nEe(e){var{layout:t,margin:n}=e,r=yr(),i=Ti();return _.useEffect(()=>{i||(r(xpe(t)),r(vpe(n)))},[r,i,t,n]),null}var rEe=_.memo(nEe,jj);function iEe(e){var t=yr();return _.useEffect(()=>{t(V2e(e))},[t,e]),null}function a5(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=nF("".concat(r).concat(t)),a=yr();return _.useLayoutEffect(()=>(a(T_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(A_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),_.createElement("g",{tabIndex:-1,id:i})}function o5(e){var{children:t,isPanorama:n}=e,r=rt(g_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(a5,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>_.createElement(a5,{key:o,zIndex:o,isPanorama:n})))}var aEe=["children"];function oEe(e,t){if(e==null)return{};var n,r,i=sEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}var lEe={width:"100%",height:"100%",display:"block"},cEe=_.forwardRef((e,t)=>{var n=u8(),r=d8(),i=v8();if(!Uo(n)||!Uo(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),_.createElement(V7,vv({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:lEe,ref:t}),a)}),uEe=e=>{var{children:t}=e,n=rt(xx);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return _.createElement(V7,{width:r,height:i,x:o,y:a},t)},s5=_.forwardRef((e,t)=>{var{children:n}=e,r=oEe(e,aEe),i=Ti();return i?_.createElement(uEe,null,_.createElement(o5,{isPanorama:!0},n)):_.createElement(cEe,vv({ref:t},r),_.createElement(o5,{isPanorama:!1},n))});function dEe(){var e=yr(),[t,n]=_.useState(null),r=rt(Bpe);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;On(a)&&a!==r&&e(_pe(a))}},[t,e,r]),n}function l5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(n),!0).forEach(function(r){hEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hEe(e,t,n){return(t=mEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mEe(e){var t=pEe(e,"string");return typeof t=="symbol"?t:t+""}function pEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eu.apply(null,arguments)}var gEe=()=>(t1e(),null);function xv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bEe=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[a,o]=_.useState({containerWidth:xv((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:xv((r=e.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,h)=>{o(p=>{var b=Math.round(d),y=Math.round(h);return p.containerWidth===b&&p.containerHeight===y?p:{containerWidth:b,containerHeight:y}})},[]),u=_.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=k=>{var{width:w,height:S}=k[0].contentRect;l(w,S)},y=new ResizeObserver(b);y.observe(d),i.current=y}},[t,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(_x,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Eu({ref:u},e)))}),yEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=_.useState({containerWidth:xv(n),containerHeight:xv(r)}),o=_.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(_x,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Eu({ref:l},e)))}),vEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(_x,{width:n,height:r}),_.createElement("div",Eu({ref:t},e)))}),xEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ds(n)||Ds(r)?_.createElement(yEe,Eu({},e,{ref:t})):_.createElement(vEe,Eu({},e,{ref:t}))});function wEe(e){return e===!0?bEe:xEe}var _Ee=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:y,onTouchMove:k,onTouchStart:w,style:S,width:j,responsive:O,dispatchTouchEvents:A=!0}=e,C=_.useRef(null),D=yr(),[P,I]=_.useState(null),[U,W]=_.useState(null),q=dEe(),H=SA(),B=H?.width>0?H.width:j,K=H?.height>0?H.height:i,J=_.useCallback(ae=>{q(ae),typeof t=="function"&&t(ae),I(ae),W(ae),ae!=null&&(C.current=ae)},[q,t,I,W]),Z=_.useCallback(ae=>{D(SF(ae)),D(ha({handler:a,reactEvent:ae}))},[D,a]),Y=_.useCallback(ae=>{D(AE(ae)),D(ha({handler:d,reactEvent:ae}))},[D,d]),X=_.useCallback(ae=>{D(yU()),D(ha({handler:h,reactEvent:ae}))},[D,h]),Q=_.useCallback(ae=>{D(AE(ae)),D(ha({handler:p,reactEvent:ae}))},[D,p]),ce=_.useCallback(()=>{D(NF())},[D]),ie=_.useCallback(ae=>{D(jF(ae.key))},[D]),z=_.useCallback(ae=>{D(ha({handler:o,reactEvent:ae}))},[D,o]),V=_.useCallback(ae=>{D(ha({handler:l,reactEvent:ae}))},[D,l]),ne=_.useCallback(ae=>{D(ha({handler:u,reactEvent:ae}))},[D,u]),oe=_.useCallback(ae=>{D(ha({handler:b,reactEvent:ae}))},[D,b]),de=_.useCallback(ae=>{D(ha({handler:w,reactEvent:ae}))},[D,w]),me=_.useCallback(ae=>{A&&D(CF(ae)),D(ha({handler:k,reactEvent:ae}))},[D,A,k]),ye=_.useCallback(ae=>{D(ha({handler:y,reactEvent:ae}))},[D,y]),Ne=wEe(O);return _.createElement($U.Provider,{value:P},_.createElement(ehe.Provider,{value:U},_.createElement(Ne,{width:B??S?.width,height:K??S?.height,className:on("recharts-wrapper",r),style:fEe({position:"relative",cursor:"default",width:B,height:K},S),onClick:Z,onContextMenu:z,onDoubleClick:V,onFocus:ce,onKeyDown:ie,onMouseDown:ne,onMouseEnter:Y,onMouseLeave:X,onMouseMove:Q,onMouseUp:oe,onTouchEnd:ye,onTouchMove:me,onTouchStart:de,ref:J},_.createElement(gEe,null),n)))}),SEe=["width","height","responsive","children","className","style","compact","title","desc"];function kEe(e,t){if(e==null)return{};var n,r,i=EEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TEe=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=kEe(e,SEe),b=io(p);return u?_.createElement(_.Fragment,null,_.createElement(_x,{width:n,height:r}),_.createElement(s5,{otherAttributes:b,title:d,desc:h},a)):_.createElement(_Ee,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(s5,{otherAttributes:b,title:d,desc:h,ref:t},_.createElement(vke,null,a)))});function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}var AEe={top:5,right:5,bottom:5,left:5},jEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:AEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},NEe=_.forwardRef(function(t,n){var r,i=Ji(t.categoricalChartProps,jEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(tEe,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},_.createElement(cke,{chartData:d.data}),_.createElement(rEe,{layout:i.layout,margin:i.margin}),_.createElement(iEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(TEe,jE({},i,{ref:n})))}),OEe=["axis"],CEe=_.forwardRef((e,t)=>_.createElement(NEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OEe,tooltipPayloadSearcher:B_e,categoricalChartProps:e,ref:t}));function DF(e){return typeof e=="object"&&e!==null}function su(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function MEe(e,t=""){return typeof e=="string"?e:t}function DEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!DF(n))continue;const r=MEe(n.day),i=su(n.dau),a=su(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function PEe(e){return DF(e)?{online_now:su(e.online_now),active_today:su(e.active_today),active_7d:su(e.active_7d),active_30d:su(e.active_30d),active_365d:su(e.active_365d),series:DEe(e.series)}:null}function REe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function c5(){const[e,t]=_.useState(30),[n,r]=_.useState(null),[i,a]=_.useState(0),[o,l]=_.useState(!1),[u,d]=_.useState(""),h=_.useRef(!1),p=_.useRef(!1),b=_.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:S,error:j}=await De.rpc("admin_dashboard_stats",{p_days:e});if(j){d(j.message||"RPC error"),r(null);return}const O=PEe(S);if(!O){d("   ( )"),r(null);return}r(O),a(O.online_now)}finally{l(!1),h.current=!1}}},[e]),y=_.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:S,error:j}=await De.rpc("admin_online_now");if(j)return;const O=typeof S=="number"?S:typeof S=="string"?Number(S):0;Number.isFinite(O)&&a(O)}finally{p.current=!1}}},[]);_.useEffect(()=>{b()},[b]),_.useEffect(()=>{y();const S=window.setInterval(()=>void y(),3e4);return()=>window.clearInterval(S)},[y]),_.useEffect(()=>{const S=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(S)},[b]);const k=_.useMemo(()=>n?.series??[],[n]),w=_.useMemo(()=>k.reduce((S,j)=>S+(j.total_active_ms||0),0),[k]);return g.jsx(Hfe,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:S=>{const j=Number(S.target.value);(j===30||j===60||j===90)&&t(j)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(gm,{label:" ",value:i}),g.jsx(gm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(gm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(gm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(gm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(LEe,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:REe(w)})]})]})]})})}function gm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function LEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(p0e,{width:"100%",height:"100%",children:g.jsxs(CEe,{data:e,children:[g.jsx(dF,{strokeDasharray:"3 3"}),g.jsx(wF,{dataKey:"day"}),g.jsx(_F,{}),g.jsx(c1e,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(vF,{type:"monotone",dataKey:"dau"})]})})})}function IEe(){const[e,t]=_.useState(""),[n,r]=_.useState("ACTIVE"),[i,a]=_.useState("LAST_SEEN_DESC"),[o,l]=_.useState(1),[u,d]=_.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(y=>{const k=y[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...y,[p]:{...k,...b}}})}}}const NE=20;function $Ee(e){return typeof e=="object"&&e!==null}function jo(e){return typeof e=="string"?e:null}function u5(e){return typeof e=="boolean"?e:null}function lk(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function PF(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function BEe(e){return PF(e)?e:null}function zEe(e){if(!$Ee(e))return null;const t=jo(e.user_id);return t?{user_id:t,name:jo(e.name),nickname:jo(e.nickname),email:jo(e.email),disabled_at:jo(e.disabled_at),created_at:jo(e.created_at),plan:BEe(e.plan),starts_at:jo(e.starts_at),expires_at:jo(e.expires_at),can_use_myo_viewer:u5(e.can_use_myo_viewer),myeongsik_count:lk(e.myeongsik_count),last_seen_at:jo(e.last_seen_at),last_path:jo(e.last_path),total_active_ms:lk(e.total_active_ms),online:u5(e.online),total_count:lk(e.total_count)}:null}function d5(e){const t=(e??"").trim();return t.length?t:null}function RF(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function UEe(e,t){if(!RF(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function f5(e){if(!RF(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function FEe(e){return typeof e=="object"&&e!==null}function HEe(e,t){if(console.error(e,t),FEe(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function GEe(){const[e,t]=_.useState([]),[n,r]=_.useState(0),[i,a]=_.useState(!1),[o,l]=_.useState(null),u=_.useCallback(async h=>{const{search:p,tab:b,sort:y,page:k}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,k)-1)*NE),{data:S,error:j}=await De.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:y,p_limit:NE,p_offset:w});if(j)throw j;const A=(Array.isArray(S)?S:[]).map(zEe).filter(C=>C!==null);t(A),r(A[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),d=_.useCallback(async(h,p,b,y)=>{if(p){l(null),b(h,{saving:!0});try{if(!PF(p.plan))throw new Error(`  : ${String(p.plan)}`);const k=d5(p.startDate),w=d5(p.endDate),S=k?f5(k):null,j=w?f5(UEe(w,1)):null;if(S&&j){const C=Date.parse(S),D=Date.parse(j);if(!Number.isFinite(C)||!Number.isFinite(D))throw new Error("  ");if(D<=C)throw new Error("  .")}const O={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:S,p_expires_at:j},{error:A}=await De.rpc("admin_set_user_entitlements",O);if(A)throw HEe("admin_set_user_entitlements error",A),A;b(h,{saving:!1,lastSavedAt:Date.now()}),await y()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const LF=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function YEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function qEe(e){const t=e??"FREE";return LF.find(n=>n.value===t)?.label??String(t)}function KEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function h5(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function wv(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function WEe(e,t){const n=wv(e),r=wv(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function VEe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=wv(r.starts_at),o=wv(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function ZEe(){const e=IEe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:y,loading:k,error:w,fetchList:S,saveEntitlements:j}=GEe(),O=_.useMemo(()=>Math.max(1,Math.ceil(y/NE)),[y]);return _.useEffect(()=>{u(1)},[r,a]),_.useEffect(()=>{S({search:t,tab:r,sort:a,page:l})},[S,t,r,a,l]),_.useEffect(()=>{l>O&&u(O)},[l,O,u]),_.useEffect(()=>{h(A=>VEe(A,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:A=>{n(A.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:A=>{const C=A.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:A=>{const C=A.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(A=>{const C=A.name||A.nickname||"(no profile)",D=A.email||"",P=d[A.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},I=Date.now(),U=(A.starts_at?Date.parse(A.starts_at)<=I:!0)&&(A.expires_at?Date.parse(A.expires_at)>I:!0),W=A.plan??"FREE",q=U?W:"FREE",H=A.can_use_myo_viewer===!0?"ON":"OFF",B=A.last_seen_at??null,K=A.online===!0,J=A.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),D?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",D,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${K?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:B?new Date(B).toLocaleString():" ",children:[K?"":"","  ",KEe(B)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",h5(J)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:A.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",A.myeongsik_count??0,"",B?g.jsxs(g.Fragment,{children:["    ",new Date(B).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",h5(J)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",qEe(q),"  ",WEe(A.starts_at,A.expires_at),"    ",H,!U&&A.plan&&A.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:Z=>p(A.user_id,{startDate:Z.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:Z=>p(A.user_id,{endDate:Z.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:Z=>{const Y=Z.target.value;YEe(Y)&&p(A.user_id,{plan:Y})},children:LF.map(Z=>g.jsx("option",{value:Z.value,children:Z.label},Z.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:Z=>p(A.user_id,{myoViewer:Z.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void j(A.user_id,P,e.setDraft,()=>S({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${A.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},A.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(A=>A-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",O," ( ",y,")"]}),g.jsx("button",{disabled:l>=O,onClick:()=>u(A=>A+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function XEe(){const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,a]=_.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function JEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function Rj({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await De.auth.getSession()).data.session?.user?.id;a&&await De.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const QEe=async e=>{const{data:t}=await De.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},eTe=async e=>{const{data:t}=await De.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},tTe=async e=>{await De.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},nTe=async(e,t)=>{await De.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},rTe=async e=>{await De.from("profiles").update({disabled_at:null}).eq("user_id",e),await De.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await Rj({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},iTe=async e=>{await De.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await Rj({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},m5=async(e,t,n)=>{const{error:r}=await De.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await Rj({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function aTe(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function oTe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=_.useCallback(async()=>{const S=await QEe(e);n(S)},[e,n]),o=_.useCallback(async()=>{const S=await eTe(e);r(S)},[e,r]);_.useEffect(()=>{a(),o()},[a,o]);const l=_.useCallback(async()=>{if(e){i(!0);try{await tTe(e),await a()}catch(S){throw console.error("handleCreateProfile failed:",S),S}finally{i(!1)}}},[e,i,a]),u=_.useCallback(async()=>{if(e&&t){i(!0);try{await nTe(e,t),await a()}catch(S){throw console.error("handleSaveProfile failed:",S),S}finally{i(!1)}}},[e,t,i,a]),d=_.useCallback(async()=>{if(e&&t){i(!0);try{const S=t.disabled_at==null,{data:j,error:O}=await De.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:S});if(O)throw aTe("admin_set_profile_disabled error:",O),O;n({...t,disabled_at:typeof j=="string"?j:null})}finally{i(!1)}}},[e,t,n,i]),h=_.useCallback(async()=>{if(e){i(!0);try{await rTe(e),await a(),await o()}catch(S){throw console.error("handleRestoreAccount failed:",S),S}finally{i(!1)}}},[e,i,a,o]),p=_.useCallback(async()=>{if(e){i(!0);try{await iTe(e),await o()}catch(S){throw console.error("handleRestoreAllMyeongsik failed:",S),S}finally{i(!1)}}},[e,i,o]),b=_.useCallback(async S=>{if(e&&S){i(!0);try{await m5(e,S,null),await o()}catch(j){throw console.error("handleRestoreMyeongsik failed:",j),j}finally{i(!1)}}},[e,i,o]),y=_.useCallback(S=>{const j=typeof window<"u"?window.location.origin:"",O=S?`${j}/impersonate?userId=${e}&myeongsikId=${S}`:`${j}/impersonate?userId=${e}`;window.open(O,"_blank")},[e]),k=_.useCallback(async(S,j)=>{if(!e||!S)return;const O=j?null:new Date().toISOString();i(!0);try{await m5(e,S,O),await o()}catch(A){throw console.error("toggleDeleteMyeongsik failed:",A),A}finally{i(!1)}},[e,i,o]),w=_.useCallback(S=>{window.location.href=S},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:y,toggleDeleteMyeongsik:k,goTo:w}}function sTe({params:e}){const t=e.userId,n=XEe(),r=JEe(n.profile),i=oTe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function lTe({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const p5=50;function cTe(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState([]),[o,l]=_.useState(1),[u,d]=_.useState("all"),[h,p]=_.useState("all"),[b,y]=_.useState("30"),[k,w]=_.useState(""),[S,j]=_.useState(!1),O=_.useCallback(async C=>{await De.from("audit_logs").delete().eq("id",C),a(D=>D.filter(P=>P.id!==C))},[]),A=_.useCallback(async()=>{j(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let D=De.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*p5,o*p5-1);b!=="all"&&(D=D.gte("created_at",C.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let I=P||[];if(k.trim()!==""){const U=k.toLowerCase();I=I.filter(W=>(JSON.stringify(W).toLowerCase()+(W.payload?JSON.stringify(W.payload).toLowerCase():"")).includes(U))}a(I),j(!1)},[o,u,h,b,k]);return _.useEffect(()=>{A()},[A]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>y(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>w(C.target.value)})]}),S?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),O(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(lTe,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const uTe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function IF(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1);if(_.useEffect(()=>{(async()=>{const{data:l}=await De.auth.getUser(),u=l.user?.id;r(!!u&&uTe.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(c5,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(sTe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(ZEe,{}):i.startsWith("/admin/logs")?a=g.jsx(cTe,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(c5,{}));return g.jsx(Ufe,{children:a})}function dTe({pillarsA:e,pillarsB:t}){const n=pae(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const fTe=["","","","","","","","","",""],hTe=["","","","","","","","","",""],mTe=["","","","","","","","","","","",""],pTe=["","","","","","","","","","","",""],gTe=new Set([...fTe,...hTe]),bTe=new Set([...mTe,...pTe]);function yTe(e){return typeof e=="object"&&e!==null}function g5(e){return typeof e=="string"&&e.length>=2&&gTe.has(e[0])&&bTe.has(e[1])}function dn(e,...t){if(g5(e))return e;for(const n of t)if(g5(n))return n;return""}function kb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function vTe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function b5(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function _v(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function xTe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Ux(e){const{y:t,m:n,d:r,hh:i,mm:a}=xTe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Xi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function wTe(e){const t=Ux(e);return`${_v(e)}-${t.toISOString()}`}function Md(e){const t=e;return typeof t.id=="string"&&t.id?t.id:wTe(e)}function _Te(e){return yTe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function STe(e){const t=D6;return _Te(t)?e==="classic"?t.Classic:t.Modern:e}function kTe(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const ck="people_picker_order_v1";function ETe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function y5({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=_.useState("");_.useEffect(()=>{e||a("")},[e]);const o=_.useMemo(()=>t.map(Md),[t]),l=_.useMemo(()=>new Set(o),[o]),[u,d]=_.useState([]);_.useEffect(()=>{const w=localStorage.getItem(ck),S=w?JSON.parse(w):[],j=S.filter(A=>l.has(A)),O=[...j,...o.filter(A=>!j.includes(A))];d(O),JSON.stringify(O)!==JSON.stringify(S)&&localStorage.setItem(ck,JSON.stringify(O))},[o,l]);const h=w=>{d(w),localStorage.setItem(ck,JSON.stringify(w))},p=_.useMemo(()=>{const w=new Map(t.map(A=>[Md(A),A])),S=[];for(const A of u){const C=w.get(A);C&&S.push(C)}w.forEach((A,C)=>{u.includes(C)||S.push(A)});const j=[],O=[];for(const A of S)(typeof A.relationship=="string"?A.relationship.trim():"")===""?j.push(A):O.push(A);return[...j,...O]},[t,u]),b=_.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(S=>{const j=typeof S.relationship=="string"?S.relationship.trim():"";return`${_v(S)} ${j}`.toLowerCase().includes(w)}):p},[p,i]),y=i.trim()==="",k=w=>{const{destination:S,source:j}=w;if(!S||!y||S.index===j.index)return;const O=b.map(Md),A=ETe(O,j.index,S.index),D=p.map(Md).filter(I=>!O.includes(I)),P=[...A,...D].filter((I,U,W)=>W.indexOf(I)===U);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(Sp,{onDragEnd:k,children:g.jsx(Tf,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((S,j)=>{const O=Ux(S),A=typeof S.relationship=="string"?S.relationship.trim():"",C=A||" ",D=_v(S),P=A&&D===" "?A:D;return g.jsx(Ef,{draggableId:Md(S),index:j,isDragDisabled:!y,children:I=>g.jsx("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(S),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${A?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Dm(O)})]})})},Md(S))}),w.placeholder]})})})]})]})}function uk({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=w=>{const S=o.showSibiUnseong?Yo(a,w):"",j=o.showSibiSinsal?qo({baseBranch:l,targetBranch:w,era:STe(u),gaehwa:!!d}):"";return{unseongText:S||void 0,shinsalText:j||void 0}},p=dn(t).charAt(1),b=dn(n).charAt(1),y=dn(r).charAt(1),k=dn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",dn(t),p],["",dn(n),b],["",dn(r),y],["",dn(i),k]].map(([w,S,j])=>{const{unseongText:O,shinsalText:A}=h(j);return g.jsx(Id,{label:w,gz:S,dayStem:a,settings:wn.getState().settings,unseongText:O,shinsalText:A,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function Dd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=wn(P=>P.settings),o=_.useMemo(()=>t?Ux(t):null,[t]),l="/",u=dn(o?no(o,l):void 0),d=dn(o?ht(o,l):void 0),h=dn(o?Tt(o):void 0),p=dn(o?ct(o):void 0),b=_.useMemo(()=>d.charAt(0)||"",[d]),y=o,k=_.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,S=_.useMemo(()=>{const P=y?ht(y,w).charAt(1):d.charAt(1)||"",I=y?ct(y,k).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:I},[a.sinsalBase,y,w,k,d,p]),j=_.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=L6(o,u,t.dir,120),I=$6(P,d,t.dir,t.DayChangeRule),U=Ap(o,h,t.dir,120,t?.birthPlace?.lon??127.5),W=B6(U,p,t.dir,t.DayChangeRule,o),q=r;return{si:dn(kb(P.events,q)?.gz,u),il:dn(kb(I.events,q)?.gz,d),wl:dn(kb(U.events,q)?.gz,h),yn:dn(kb(W.events,q)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),O=_.useMemo(()=>{if(n!=="")return null;const P=r;return{si:dn(no(P,l)),il:dn(ht(P,l)),wl:dn(Tt(P)),yn:dn(ct(P))}},[n,r]),A=t?_v(t):"",C=o?Dm(o):"",D=t?kTe(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:A}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(uk,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&g.jsx(uk,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&O&&g.jsx(uk,{label:"",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function TTe({people:e=[]}){const[t,n]=_.useState(),[r,i]=_.useState(),[a,o]=_.useState(!1),[l,u]=_.useState(!1),d=_.useRef(new Date),[h,p]=_.useState(()=>vTe(d.current)),b=_.useRef(b5(h)??d.current),y=_.useMemo(()=>{const C=b5(h);return C&&(b.current=C),b.current},[h]),[k,w]=_.useState(!1),[S,j]=_.useState(!1);function O(C){if(!C)return["","","",""];try{const D=Ux(C),P="/",I={hour:dn(no(D,P)),day:dn(ht(D,P)),month:dn(Tt(D)),year:dn(ct(D))};return[I.year,I.month,I.day,I.hour]}catch{return["","","",""]}}const A=hn(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[A?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Dd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),g.jsx(Dd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),a&&t&&g.jsx(Dd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),a&&r&&g.jsx(Dd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),l&&t&&g.jsx(Dd,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),l&&r&&g.jsx(Dd,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(dTe,{pillarsA:O(t),pillarsB:O(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(y5,{open:k,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(y5,{open:S,list:e||[],onSelect:C=>{i(C),j(!1)},onClose:()=>j(!1)})]})}function ATe(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=async()=>{try{const{data:{user:a}}=await De.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await De.from("profiles").update({disabled_at:l}).eq("id",o),await De.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await De.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-1",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsxs("p",{className:"mb-2",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-1",children:"       ."}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function jTe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function dk(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function v5(e,t,n){return e<t?t:e>n?n:e}function $F({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=_.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=_.useMemo(()=>jTe(a),[a]),[l,u]=_.useState(o);_.useEffect(()=>{u(o)},[o]);const d=h=>{if(!dk(h))return;const b=v5(h,n,r),{y,m:k,d:w}=dk(b),S=a.getHours(),j=a.getMinutes(),O=a.getSeconds(),A=a.getMilliseconds(),C=new Date(y,k-1,w,S,j,O,A);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!dk(l)){u(o);return}const h=v5(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function NTe({ms:e}){const{date:t,setDate:n}=ei(),r=ec(),i=_.useMemo(()=>{const d=typeof e.id=="string"?e.id:"";if(d)return d;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",p=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,p].filter(Boolean).join("|")},[e]);_.useEffect(()=>{n(new Date)},[i]);const a=Zv(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=_.useMemo(()=>{const d=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,p=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,y=[h,p,b].filter(Boolean).join(" ");return[d,y].filter(Boolean).join(" + ")},[e.ganji,a]),u=d=>{n(d)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx($F,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function OTe({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function CTe({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function MTe({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function DTe({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function PTe({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const Lj=["","","","","","","","","",""],Zp=["","","","","","","","","","","",""],RTe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},BF=["","","","","","","","","","","",""],LTe=Zp,ITe=BF,$Te=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],BTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function mp(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=RTe[n],i=BF.indexOf(t),a=(r+(i>=0?i:0))%10;return Lj[a]}function Fx(e,t){const n=t===""?LTe:ITe,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Zp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=Lj[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const UTe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function FTe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function HTe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Lj.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Vi(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Zp.filter(o=>{const l=FTe(e),u=t[l];return u?zTe[o]===BTe[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Vi(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function GTe(){const[e,t]=_.useState({}),[n,r]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!0),[h,p]=_.useState(""),[b,y]=_.useState("male"),[k,w]=_.useState(null),[S,j]=_.useState(!1),[O,A]=_.useState(null),[C,D]=_.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,I]=_.useState(!1),[U,W]=_.useState(null),[q,H]=_.useState(null),[B,K]=_.useState(!1),[J,Z]=_.useState(!1),Y=X=>{H(X),setTimeout(()=>H(null),1800)};return _.useEffect(()=>{if(!B)return;const X=setTimeout(()=>K(!1),2e3);return()=>clearTimeout(X)},[B]),_.useEffect(()=>{if(!J)return;const X=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(X)},[J]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:y,results:k,setResults:w,searching:S,setSearching:j,selectedRow:O,setSelectedRow:A,form:C,setForm:D,unknownPlace:P,setUnknownPlace:I,error:U,setError:W,toast:q,showToast4:B,setShowToast:K,searchToast:J,setSearchToast:Z,showToast:Y}}function zF(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function x5(e,t){return Zp.filter(n=>mp(e,n)===t)}function w5(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=x5(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=mp(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=x5(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=mp(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function YTe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=Fx(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function qTe(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?mp(e.yearStem,e.monthBranch)!==e.monthStem:!1}function KTe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=Fx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function fk(e,t,n){const i=Fx(e,t)[n];return i?i.slice(0,1):null}function WTe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:y,showToast:k}){const w=o||u,S=!!(e.yearStem&&e.yearBranch),j=!!(e.dayStem&&e.dayBranch),O=!w||S||j,A=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),D=_.useMemo(()=>zF(e),[e]);return _.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const B=fk(e.dayStem,h,e.hourBranch);B&&t(K=>({...K,hourStem:B}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:O,activeIsStem:A,activeIsBranch:C,filledAll:D,monthBranchChoices:i,handleSelect:B=>{if(!n)return;if(!O&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){y("/      ."),setTimeout(()=>y(null),1500);return}let J={...e,[n]:B};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const X=w5(J,n,o);J=X.next,a(X.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(J=YTe(J,n,u,h));let Z=!1;qTe(J,o)&&(l(!1),Z=!0),KTe(J,u,h)&&(d(!1),Z=!0),Z&&k("/  .  ."),t(J),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const X={...J};if(X.yearStem&&X.yearBranch&&!X.monthStem){r("monthStem");return}if(X.monthStem&&X.monthBranch&&!X.dayStem){r("dayStem");return}if(X.dayStem&&X.dayBranch&&!X.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:B=>{let K={...e,monthBranch:B};a(null),K=w5(K,"monthBranch",o).next,t(K),r("dayStem")},clearAll:()=>{t({}),b(null),y(null),r(null),a(null)},onToggleWoldu:B=>{b(null),B&&t(K=>{const J={...K};return J.yearStem&&J.monthBranch&&(J.monthStem=mp(J.yearStem,J.monthBranch)),J}),l(B)},onToggleSiju:B=>{b(null),B&&t(K=>{const J={...K};if(J.dayStem&&J.hourBranch){const Z=fk(J.dayStem,h,J.hourBranch);Z&&(J.hourStem=Z)}return J}),d(B)},onChangeHourRule:B=>{if(b(null),p(B),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const K=fk(e.dayStem,B,e.hourBranch);K&&t(J=>({...J,hourStem:K}))}}}}function VTe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((q,H)=>H===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let y=0,k=0;if(u.hourSlots.length>0){const q=u.hourSlots[0].branch,H=UTe[q];H&&(y=H.hh,k=H.mi)}const w=new Date(h,p-1,b,y,k),S=w,j="",O=r==="male"?"":"",A=ZTe(u.year.charAt(0),O),C=ct(S,127.5),D=Tt(S,127.5),P=ht(S,d),I=no(S,d),U=[`: ${C} ${D} ${P}`,I?`${I}`:null].filter(Boolean).join(" ");return{payload:{id:N6(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(y).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:O,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:hu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:w,corrected:S,correctedLocal:j,dir:A,favorite:!1}}}function ZTe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function XTe(e){xn.getState().add(e)}function JTe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),y=ct(b);if(y!==i)continue;const k=Tt(b);if(k!==a)continue;const w=ht(b,n);if(w!==o)continue;const S=Fx(e.dayStem,t),j=[];for(let O=0;O<12;O++){const A=Zp[O];S[A]===l&&j.push({branch:A,time:$Te[O]})}if(j.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:y,month:k,day:w,hour:l,hourSlots:j}),u.length>=r))break}return u}function QTe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:y,onSave:k,onClose:w}){return{doSearch:()=>{if(l(null),d(null),!zF(e)){d(" 4  .");return}u(!0);try{const A=JTe(e,t,t===""?"/":"");A.length===0&&d("  . (: 1900~2100)"),l(A)}catch(O){O instanceof Error?d(O.message):d(String(O))}finally{u(!1)}},handleSave:()=>{const O=VTe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in O){h(!0);return}ju.flushSync(()=>{XTe(O.payload)}),k(O.payload),y(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function eAe({open:e,onClose:t,onSave:n}){const{settings:r}=wn(),i=GTe(),a=WTe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=QTe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(cy,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(OTe,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(CTe,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(PTe,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(HTe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(MTe,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(DTe,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function tAe(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function nAe({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function rAe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function iAe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function aAe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function oAe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function sAe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx($F,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function lAe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:y,onWolStartChange:k,onWolEndChange:w,onWolStartBlur:S,onWolEndBlur:j,wolMonthsCount:O,ilStartDate:A,ilEndDate:C,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:I,onIlEndBlur:U,ilDaysCount:W}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(q=>g.jsx("button",{type:"button",onClick:()=>t(q),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===q?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:q},q))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((q,H)=>g.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:q.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[q.age," (",q.startYear,"~",q.endYear,")"]})]},H))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:q=>l(Number(q.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:q=>u(Number(q.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:q=>k(q.target.value),onBlur:S,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:y,onChange:q=>w(q.target.value),onBlur:j,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",O,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:A,onChange:q=>D(q.target.value),onBlur:I,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:q=>P(q.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",W,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function cAe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function uAe({value:e,lockSelection:t=!1}){const[n,r]=_.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const dAe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},fAe=["","","","",""],hAe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},_5={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function mAe(){const[e,t]=_.useState(null);return _.useEffect(()=>{let n=!0;return De.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const pAe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Sv=Go(e=>({sections:pAe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),hk=1e3*60*60*24;function mk(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function Eb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function Tb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function S5(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function k5(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function gAe(){const e=new Date().getFullYear(),[t,n]=_.useState(e),[r,i]=_.useState(e),[a,o]=_.useState(()=>k5()),[l,u]=_.useState(()=>k5()),[d,h]=_.useState(()=>S5()),[p,b]=_.useState(()=>S5()),y=Z=>{n(Z)},k=Z=>{i(Z)},w=()=>{const Z=t;let Y=r;Y<Z&&(Y=Z),Y-Z>9&&(Y=Z+9),i(Y)},S=()=>{let Z=t;const Y=r;Y<Z&&(Z=Y),Y-Z>9&&(Z=Y-9),n(Z)},j=_.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Z=r-t+1;return Z>0?Z:0},[t,r]),O=_.useMemo(()=>{const Z=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Z;for(let Y=t;Y<=r&&Z.length<10;Y++)Z.push(Y);return Z},[t,r]),A=Z=>{o(Z)},C=Z=>{u(Z)},D=()=>{const[Z,Y]=a.split("-").map(Number),[X,Q]=l.split("-").map(Number),ce=new Date(Z,Y-1),ie=new Date(X,Q-1);if(ie<ce){u(Eb(ce));return}if(mk(ce,ie)>11){const V=new Date(ce);V.setMonth(ce.getMonth()+11),u(Eb(V))}},P=()=>{const[Z,Y]=a.split("-").map(Number),[X,Q]=l.split("-").map(Number),ce=new Date(Z,Y-1),ie=new Date(X,Q-1);if(ie<ce){o(Eb(ie));return}if(mk(ce,ie)>11){const V=new Date(ie);V.setMonth(ie.getMonth()-11),o(Eb(V))}},I=_.useMemo(()=>{const[Z,Y]=(a||"").split("-").map(Number),[X,Q]=(l||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(Q))return 0;const ce=new Date(Z,Y-1,1),ie=new Date(X,Q-1,1),z=mk(ce,ie)+1;return z>0?z:0},[a,l]),U=_.useMemo(()=>{const Z=[],[Y,X]=a.split("-").map(Number),[Q,ce]=l.split("-").map(Number),ie=new Date(Y,X-1),z=new Date(Q,ce-1);if(Number.isNaN(ie.getTime())||Number.isNaN(z.getTime()))return Z;for(;ie<=z&&Z.length<12;)Z.push(`${ie.getFullYear()}-${String(ie.getMonth()+1).padStart(2,"0")}`),ie.setMonth(ie.getMonth()+1);return Z},[a,l]),W=Z=>{h(Z)},q=Z=>{b(Z)},H=()=>{if(!d||!p)return;const[Z,Y,X]=d.split("-").map(Number),[Q,ce,ie]=p.split("-").map(Number),z=new Date(Z,Y-1,X,4,0,0),V=new Date(Q,ce-1,ie,4,0,0);if(V<z){b(Tb(z));return}if(Math.floor((V.getTime()-z.getTime())/hk)>7){const oe=new Date(z);oe.setDate(z.getDate()+6),b(Tb(oe))}},B=()=>{if(!d||!p)return;const[Z,Y,X]=d.split("-").map(Number),[Q,ce,ie]=p.split("-").map(Number),z=new Date(Z,Y-1,X,4,0,0),V=new Date(Q,ce-1,ie,4,0,0);if(z>V){h(Tb(V));return}if(Math.floor((V.getTime()-z.getTime())/hk)>7){const oe=new Date(V);oe.setDate(V.getDate()-6),h(Tb(oe))}},K=_.useMemo(()=>{const[Z,Y,X]=(d||"").split("-").map(Number),[Q,ce,ie]=(p||"").split("-").map(Number);if(!Number.isFinite(Z)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(Q)||!Number.isFinite(ce)||!Number.isFinite(ie))return 0;const z=new Date(Z,Y-1,X,4,0,0),V=new Date(Q,ce-1,ie,4,0,0),ne=Math.floor((V.getTime()-z.getTime())/hk)+1;return ne>0?ne:0},[d,p]),J=_.useMemo(()=>{const Z=[],[Y,X,Q]=d.split("-").map(Number),[ce,ie,z]=p.split("-").map(Number),V=new Date(Y,X-1,Q,4,0,0),ne=new Date(ce,ie-1,z,4,0,0);if(Number.isNaN(V.getTime())||Number.isNaN(ne.getTime()))return Z;const oe=new Date(V);for(;oe<=ne&&Z.length<31;){const de=oe.getFullYear(),me=String(oe.getMonth()+1).padStart(2,"0"),ye=String(oe.getDate()).padStart(2,"0");Z.push(`${de}-${me}-${ye}`),oe.setDate(oe.getDate()+1)}return Z},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:y,onSeEndChange:k,onSeStartBlur:w,onSeEndBlur:S,onWolStartChange:A,onWolEndChange:C,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:W,onIlEndChange:q,onIlStartBlur:H,onIlEndBlur:B,seYearsCount:j,wolMonthsCount:I,ilDaysCount:K,seYearsList:O,wolMonthsList:U,ilDaysList:J}}function bAe({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Sv(ie=>ie.sections),i=Sv(ie=>ie.toggleSection),[a,o]=_.useState("analysis"),[l,u]=_.useState(!1),[d,h]=_.useState(!1),[p,b]=_.useState(""),[y,k]=_.useState("personality"),[w,S]=_.useState("overview"),[j,O]=_.useState("solo"),[A,C]=_.useState(""),[D,P]=_.useState(!1),[I,U]=_.useState(""),[W,q]=_.useState([]),[H,B]=_.useState(""),[K,J]=_.useState([]),Z=gAe();_.useEffect(()=>{y!=="love"&&y!=="compat"&&(O("solo"),b(""))},[y]),_.useEffect(()=>{!t&&D&&P(!1)},[t,D]),_.useEffect(()=>{!n&&A!==""&&C("")},[n,A]),_.useEffect(()=>{I!==""&&q([])},[I]),_.useEffect(()=>{B(""),J([])},[e]);function Y(){const ie=H.trim();ie&&(J(z=>[...z,ie]),B(""))}function X(ie){J(z=>z.filter((V,ne)=>ne!==ie))}function Q(){J([])}function ce(ie){q(z=>z.includes(ie)?z.filter(V=>V!==ie):[...z,ie])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:d,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:y,setMainCategory:k,subCategory:w,setSubCategory:S,relationMode:j,setRelationMode:O,activeTab:A,setActiveTab:C,isMultiMode:D,setIsMultiMode:P,multiTab:I,setMultiTab:U,selectedDaeIdx:W,setSelectedDaeIdx:q,handleToggleDae:ce,rangeControls:Z,questionDraft:H,setQuestionDraft:B,extraQuestions:K,setExtraQuestions:J,handleAddQuestion:Y,handleRemoveQuestion:X,handleClearQuestions:Q}}const UF=Go(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Ij(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Xi(t,n,r);t=A.getFullYear(),n=A.getMonth()+1,r=A.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=kp(l,u,i),h=e.mingSikType??"/",p=ct(d,u),b=Tt(d,u),y=ht(d,h),k=i?null:no(d,h),w=Le(p),S=Le(b),j=Le(y),O=k?Le(k):"";return[w,S,j,O]}function FF(e){const t=new Date(e.corrected),n=Ij(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=Ap(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Le(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const y=new Date(d);if(y.setFullYear(y.getFullYear()+b*10),b>0){const k=u.events[b];k&&(p=Le(k.gz))}h.push(`${y.getFullYear()} ${String(y.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const yAe=["- AI     ,      . (, ,   )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],vAe=["- :     . ///  .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""];function xAe(e,t){e.push("### ()");const n=t?vAe:yAe;e.push(...n)}function wAe(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function _Ae(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function SAe(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function kAe(e,t){_Ae(e,t)||SAe(e,t)}function EAe(e){return e==="multi"?"multi":"single"}function HF(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=EAe(r),u=[],d=o===!0;return xAe(u,d),t==="etc"||(wAe(u,{mode:l,tab:i,isStudyTone:d}),kAe(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:d})),u.join(`
`)}const TAe=!1,E5=e=>e<10?`0${e}`:`${e}`;function AAe(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Xi(i,a,o,0,0),u=`${l.getFullYear()}${E5(l.getMonth()+1)}${E5(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Tm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Am={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ab={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},jAe=["","","","",""];function T5(e){return jAe.includes(e)}const GF={:"",:"",:"",:"",:""},YF={:"",:"",:"",:"",:""},qF={:"",:"",:"",:"",:""},KF={:"",:"",:"",:"",:""};function OE(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Tm[t])return Tm[t];if(["","","","","","","","","","","",""].includes(t))return Ab[t]??null;if(Am[t])return Ab[Am[t]]??null;const n=t.charAt(0);return Tm[n]?Tm[n]:["","","","","","","","","",""].includes(n)?n:Am[n]?Ab[Am[n]]??null:["","","","","","","","","","","",""].includes(n)?Ab[n]??null:null}function NAe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=OE(n);i&&(t[i]=(t[i]??0)+r)}return t}function OAe(e){if(!e)return[];const t=OE(e.charAt(0)),n=OE(e.charAt(1));return[t,n].filter(Boolean)}function jb(e){const t=OAe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function CAe(e,t){const n=Tu[e],r=Tu[t];if(!n||!r)return"";let i;r===n?i="":r===GF[n]?i="":r===YF[n]?i="":r===qF[n]?i="":r===KF[n]?i="":i="";const a=T5(e)===T5(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function WF(e,t){return t===e?"":t===GF[e]?"":t===YF[e]?"":t===qF[e]?"":t===KF[e]?"":""}function VF(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const MAe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},DAe=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Tm[t]??t,i=Am[n]??n;return`${r}${i}`},$j=e=>{const t=DAe(e),n=MAe[t];return n?{...n,code:t}:null};function ZF(e,t){const n=AAe(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function PAe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Tu[n];i&&(t[i]+=r)}return t}function RAe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=CAe(t,r);n[a]+=i}return n}function LAe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const IAe={natal:50,dae:30,se:20,wol:7,il:3};function $Ae(e){const t={};for(const{kind:r,bare:i}of e){const a=IAe[r]??0;if(a<=0)continue;const o=VF(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function XF(e,t,n){const r=NAe(e.perStemElementScaled),i=t!==""&&n?.dae?jb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?jb(n.se):{},o=(t===""||t==="")&&n?.wol?jb(n.wol):{},l=t===""&&n?.il?jb(n.il):{},u=$Ae([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=VF(u),h=PAe(d),p=RAe(d,e.dayStem),b=LAe(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function JF(e){return!e.birthTime||e.birthTime===""}function QF(e,t){return t[3]?["","","",""]:["","",""]}function BAe(e,t){return e.map((n,r)=>t[r]??"")}const zAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function kv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>kv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(zAe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=kv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function UAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function FAe(e,t){const n=kv(e);if(n===void 0)return"";const r=UAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function eH(e,t,n){const r=FAe(t,n);return r.trim()?`## ${e}
${r}`:""}const Yn=(e,t)=>eH(e,t,"plain"),zr=(e,t)=>eH(e,t,"fenced"),HAe=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},GAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function CE(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${WF(t,n)})`,r]))}function YAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function qAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Le(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Le(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Le(t.wol)}`),e===""&&t.il&&n.push(`:${Le(t.il)}`),n.length>0?n.join(" / "):"()"}const A5={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},KAe=["year","month","day","hour"],WAe=new Set(["","","","",""]),Nb=new Set(["","","","",""]),j5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},VAe={:5,:7,:5,:-5,:-7,:-5},pk=e=>Math.round(e*10)/10;function tH(e){const{natal:t,perStemElementScaled:n}=e;if(!n||!t||t.length<3)return null;let r=0,i=0;Object.entries(n).forEach(([I,U])=>{const W=Number(U)||0;Nb.has(I.charAt(0))?r+=W:i+=W});const a=r+i>0?(r-i)/(r+i):0;let o=0,l=0,u=0,d=0;t.forEach(I=>{if(!I||I.length<2)return;const U=I[0],W=j5[I[1]];[U,W].forEach(q=>{q&&(WAe.has(q)?o+=1:l+=1,Nb.has(q)?u+=1:d+=1)})});const h=o+l>0?(o-l)/(o+l):0,p=u+d>0?(u-d)/(u+d):0;let b=0,y=0;t.forEach((I,U)=>{if(!I||I.length<2)return;const W=KAe[U],q=A5[W].stem,H=A5[W].branch;Nb.has(I[0])?b+=q:y+=q;const B=j5[I[1]];B&&Nb.has(B)?b+=H:y+=H});const k=b+y>0?(b-y)/(b+y):0,w=t[1]?.charAt(1),S=(VAe[w??""]||0)/100,j=h*.3+p*.3+a*.2+k*.2+S;if(!Number.isFinite(j))return null;const O=(Math.min(1,Math.max(-1,j))+1)*50,A=100-Math.abs(O-50)*2,C=pk(O),D=pk(100-O),P=C>=55?"":C<=45?"":"";return{yang:C,yin:D,harmony:pk(A),category:P}}function nH(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:d,subTopic:h,relationMode:p,teacherMode:b,sections:y}=e,k=y?.tenGod??!0,w=y?.twelveUnseong??!0,S=y?.twelveShinsal??!0,j=y?.shinsal??!0,O=y?.nabeum??!0,A=JF(t),C=Le(n[3]??""),D=!!C,P=[Le(n[0]??""),Le(n[1]??""),Le(n[2]??""),C],I=FF(t).slice(0,10),U=$l({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),W=af({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:q,shinsalGaehwa:H,shinsalBase:B}=UF.getState(),K=B===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",J=XF(o,a,r),Z=J.elementPercent,Y=J.totalsSub,{flags:X}=D7(P,o.natalFixed.elementScoreRaw),Q=`${u} (${l.toFixed(1)}%)  ${[` ${X..||X..||X..||X..?"":""}`,` ${X..||X..||X..||X..?"":""}`,` ${X..||X..?"":""}`].join(", ")}`,ce=QF(t,P),ie=o.dayStem,z=Tu[ie]??Tu[o.dayStem]??"",V=[` : ${t.name??""} (${ZF(t,A)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(D?` ${P[3]}`:""),`: ${qAe(a,r)}`].join(`
`),ne=[];ne.push(zr("  (10)",I)),ne.push(zr("",Q));const oe=tH({natal:P,perStemElementScaled:o.natalFixed.overlay.perStemAugFull??o.natalFixed.overlay.perStemAugBare});oe&&ne.push(zr("()",oe)),ne.push(zr("(  )",CE(o.natalFixed.elementPercent100,z))),a!==""&&ne.push(zr(`(=${a})`,CE(Z,z))),k&&(ne.push(zr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ne.push(zr(` ( 10=${a} 100)`,Y)));const de=YAe({tab:a,natal:P,posLabels:ce,chain:r});if(w){const Ee=de.map(({pos:xe,gz:se})=>({pos:xe,gz:se,unseong:Yo(P[2]?.charAt(0)??"",se.charAt(1))}));ne.push(zr("(+ )",Ee))}if(S){const Ee=de.map(({pos:xe,gz:se})=>({pos:xe,gz:se,shinsal:qo({baseBranch:K,targetBranch:se.charAt(1),era:q,gaehwa:H})}));ne.push(zr("(+  )",Ee))}if(O){const Ee=[];for(const xe of de){const se=$j(xe.gz);if(!se){xe.kind==="natal"&&Ee.push({pos:xe.pos,gz:xe.gz,nabeum:null});continue}Ee.push({pos:xe.pos,gz:xe.gz,nabeum:se.name,element:se.element,code:se.code})}ne.push(zr("(+ )",Ee))}if(ne.push(zr("()",Xv(ce.map((Ee,xe)=>P[xe]??"")))),ne.push(zr("( :  )",U)),j)if(a===""){const Ee=af({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ne.push(zr("( )",{good:Ee.good,bad:Ee.bad,meta:Ee.meta}))}else ne.push(zr(`( =${a})`,W));const me=ne.filter(Ee=>Ee&&Ee.trim().length>0).join(`

`),ye=HF({topic:d,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),Ne=["-----","  ","","1.       (////)  .","2.  ,        ."];ye&&Ne.push("","  ( )",ye);const ae=Ne.join(`
`);return{header:V,body:me,guide:ae}}function ZAe(e){const{header:t,body:n,guide:r}=nH(e);return[t,n,r].join(`

`)}function Lo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:y="scope",includeBasicInfo:k=!0}=e,w=XF(u,t,i),S=$l({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),j=p.shinsal?af({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,O=p.nabeum?$j(r):null,A=p.twelveUnseong?Yo(h,r.charAt(1)):null,C=p.twelveShinsal?qo({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=y==="full"?S:GAe(S,t);return{...k?{:n,:r}:{},:CE(w.elementPercent,d),...p.tenGod?{:w.totalsSub}:{},:D,...p.shinsal?{:HAe(j,t)}:{},...p.nabeum?{:O?{gz:r,nabeum:O.name,element:O.element,code:O.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:A}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function XAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},y=Lo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(Yn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,y))}return h.filter(p=>p.trim().length>0)}function Bj(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function rH(e,t){const n=e[t],r=e[t+1];return r?Bj(r):new Date(n.endYear+1,0,1)}function iH(e,t,n,r){return e<r&&t>n}function aH(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=Bj(l),d=rH(e,o);iH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function oH(e,t){return aH(e,t,t)}function Ev(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=Bj(l),d=rH(e,o);iH(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function ME(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=Nn(e,315),a=[],o=u=>{const d=ct(new Date(u,5,15,12,0,0,0)),h=Le(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function JAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,S)=>w-S),p=[],b=h[0],y=h[h.length-1],k=aH(n,b,y);if(k.length>0){const w=b,S=ct(new Date(w,5,15,12,0,0)),j=Le(S||""),O={:k.map(A=>{const C={dae:A.gz,se:j||null,wol:null,il:null};return Lo({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:j||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(Yn("",O))}for(const w of h){const S=new Date(w,5,15,12,0,0),j=ct(S),O=oH(n,w),A=O.length>0?O[0]:null,C=Le(j||""),D=w,P={dae:A?A.gz:null,se:C||null,wol:null,il:null},I=Lo({scope:"",infoText:`${D} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:A?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Yn(` ${D}`,{:I}))}return p.filter(w=>w.trim().length>0)}function gk(e){return String(e).padStart(2,"0")}function QAe(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=Nn(e,315),a=ME(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const w=Le(ct(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${gk(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],p=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Le(ct(new Date(e-1,5,15,12,0,0,0))||"")},y=p??{useYear:e,gz:Le(ct(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${gk(t)}()`,repDate:u,se:b},{label:`${e}-${gk(t)}()`,repDate:d,se:y}]}function eje(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const O of t){const[A,C]=O.split("-").map(Number),D=Ev(n,A,C);for(const I of D)p.some(U=>U.gz===I.gz&&U.startYear===I.startYear)||p.push(I);const P=ME(A,C);for(const I of P){const U=`${I.useYear}:${I.gz}`;b.has(U)||b.set(U,{year:I.useYear,month:C,gz:I.gz})}}const[y,k]=t[0].split("-").map(Number),w=ME(y,k),S=w[w.length-1]?.gz??Le(ct(new Date(y,5,15,12,0,0,0))||"");if(p.length>0){const O={:p.map(A=>{const C={dae:A.gz,se:S||null,wol:null,il:null};return Lo({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Yn("",O))}const j=Array.from(b.keys()).sort((O,A)=>{const C=Number(O.split(":")[0]),D=Number(A.split(":")[0]);return C-D});if(j.length>0){const O={:j.map(A=>{const C=b.get(A),D=C.year,P=C.gz,U=oH(n,D)[0]??p[0]??null,W={dae:U?U.gz:null,se:P,wol:null,il:null};return Lo({scope:"",infoText:`${D} ${P}`,gz:P,chain:W,natal:r,relationArgs:{daewoon:U?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Yn("",O))}for(const O of t){const[A,C]=O.split("-").map(Number),D=Ev(n,A,C),P=D.length>0?D[0]:null,U=QAe(A,C).map(W=>{const q=Tt(W.repDate),H=Le(q||""),B={dae:P?P.gz:null,se:W.se.gz||null,wol:H,il:null};return Lo({scope:"",infoText:`${W.label} ${H}  ${W.se.useYear} ${W.se.gz}`,gz:H,chain:B,natal:r,relationArgs:{daewoon:P?.gz,sewoon:W.se.gz||void 0,wolwoon:H,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(Yn(` ${O}`,{:U}))}return h.filter(O=>O.trim().length>0)}function bk(e){const t=e.getFullYear(),n=Nn(t,315),r=e<n?t-1:t,i=ct(new Date(r,5,15,12,0,0,0)),a=Le(i||"");return{useYear:r,gz:a}}function tje(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,y,k]=t[0].split("-").map(Number),w=new Date(b,y-1,k,4,0),S=new Date(b,y-1,k,12,0);if(!Number.isNaN(w.getTime())){const j=Ev(n,b,y),O=j.length>0?j[0]:null,A=[];for(const q of t){const[H,B,K]=q.split("-").map(Number),J=new Date(H,B-1,K,12,0),Z=new Date(H,B-1,K,4,0);if(Number.isNaN(J.getTime())||Number.isNaN(Z.getTime()))continue;const Y=bk(J),X=Le(Tt(J)||""),Q=Le(ht(Z,h)||""),ce=`${Y.useYear}|${Y.gz}|${X}`;A.some(ie=>ie.key===ce)||A.push({key:ce,repDateStr:q,seYear:Y.useYear,seGZ:Y.gz,wolGZ:X,ilGZ:Q})}const C=Le(ht(w,h)||""),D=Le(Tt(S)||""),P=bk(S),I=A.length>0?A:[{key:`${P.useYear}|${P.gz}|${D}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:D,ilGZ:C}];if(O){const q=I[I.length-1],H={dae:O.gz,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ},B=Lo({scope:"",infoText:`${O.age} ${O.gz} (${O.startYear}~${O.endYear})`,gz:O.gz,chain:H,natal:r,relationArgs:{daewoon:O.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Yn("",B))}const U=I.filter(q=>q.seGZ.trim().length>0).map(q=>{const H={dae:O?O.gz:null,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ};return Lo({scope:"",infoText:`${q.seYear} ${q.seGZ} (${q.repDateStr} )`,gz:q.seGZ,chain:H,natal:r,relationArgs:{daewoon:O?.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});U.length>0&&p.push(Yn("",{:U}));const W=I.filter(q=>q.wolGZ.trim().length>0).map(q=>{const H={dae:O?O.gz:null,se:q.seGZ,wol:q.wolGZ,il:q.ilGZ};return Lo({scope:"",infoText:`${q.repDateStr} ${q.wolGZ}`,gz:q.wolGZ,chain:H,natal:r,relationArgs:{daewoon:O?.gz,sewoon:q.seGZ,wolwoon:q.wolGZ,ilwoon:q.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});W.length>0&&p.push(Yn("",{:W}))}for(const j of t){const[O,A,C]=j.split("-").map(Number),D=new Date(O,A-1,C,4,0),P=new Date(O,A-1,C,12,0);if(Number.isNaN(D.getTime())||Number.isNaN(P.getTime()))continue;const I=Ev(n,O,A),U=I.length>0?I[0]:null,q=bk(P).gz,H=Tt(P),B=Le(H||""),K=ht(D,h),J=Le(K||""),Z={dae:U?U.gz:null,se:q||null,wol:B,il:J},Y=Lo({scope:"",infoText:`${j} ${J}`,gz:J,chain:Z,natal:r,relationArgs:{daewoon:U?.gz,sewoon:q||void 0,wolwoon:B||void 0,ilwoon:J||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Yn(` ${j}`,{:Y}))}return p.filter(j=>j.trim().length>0)}function sH(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,topic:y,subTopic:k,timeMode:w,teacherMode:S,sections:j}=e,O=JF(t),A=Le(n[3]??""),C=!!A,D=t.mingSikType??"/",P=[Le(n[0]??""),Le(n[1]??""),Le(n[2]??""),A],I=QF(t,P),U=P[2]?.charAt(0)??"",W=Tu[U]??Tu[a.dayStem]??"",q=!!i&&(j?.tenGod??!0),H=j?.twelveUnseong??!0,B=j?.twelveShinsal??!0,K=j?.shinsal??!0,J=j?.nabeum??!0,{shinsalBase:Z,shinsalEra:Y,shinsalGaehwa:X}=UF.getState(),Q=Z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",ce=ZF(t,O),ie=[` : ${t.name??""} (${ce}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),z=[],{flags:V}=D7(P,a.natalFixed.elementScoreRaw),ne=`${l} (${o.toFixed(1)}%)  ${[` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`].join("  ")}`;z.push(Yn("",ne));const oe=tH({natal:P,perStemElementScaled:a.natalFixed.overlay.perStemAugFull??a.natalFixed.overlay.perStemAugBare});if(oe&&z.push(Yn("()",oe)),z.push(Yn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([Ne,ae])=>[`${Ne}(${WF(W,Ne)})`,ae])))),q&&z.push(Yn(" ( 10 100)",a.natalFixed.totalsSub)),H){const Ne=Object.fromEntries(I.map((ae,Ee)=>[ae,Yo(U,(P[Ee]??"").charAt(1))]));z.push(Yn("()",Ne))}if(B){const Ne=Object.fromEntries(I.map((ae,Ee)=>[ae,qo({baseBranch:Q,targetBranch:(P[Ee]??"").charAt(1),era:Y,gaehwa:X})]));z.push(Yn("()",Ne))}z.push(Yn("//",V));const de=Xv(BAe(I,P));if(z.push(Yn("()",de)),K){const Ne=af({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});z.push(Yn("()",Ne))}if(J){const Ne=Object.fromEntries(I.map((ae,Ee)=>{const xe=P[Ee]??"",se=$j(xe);return[ae,se?{gz:xe,nabeum:se.name,element:se.element,code:se.code}:null]}));z.push(Yn("()",Ne))}d.length>0&&u.length>0&&z.push(...XAe({selectedDaeList:u,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:K,nabeum:J},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:X}})),h.length>0&&z.push(...JAe({seYears:h,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:K,nabeum:J},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:X}})),p.length>0&&z.push(...eje({wolMonths:p,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:K,nabeum:J},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:X}})),b.length>0&&z.push(...tje({ilDays:b,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:q,twelveUnseong:H,twelveShinsal:B,shinsal:K,nabeum:J},shinsalSettings:{baseBranch:Q,era:Y,gaehwa:X},dayBoundaryRule:D}));const me=HF({topic:y,subTopic:k,timeMode:w,teacherMode:S}),ye=(kv(z.join(`

`))??"").toString();return{header:ie,body:ye,guide:me}}function nje(e){const{header:t,body:n,guide:r}=sH(e);return[t,"",n,"",r].join(`
`)}function zj(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function rje(e){const{header:t,body:n}=nH(e),r=e.relationMode==="couple"?zj(e.partnerMs??null):null,i=r?zr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function ije(e){const{header:t,body:n}=sH(e),r=e.relationMode==="couple"?zj(e.partnerMs??null):null,i=r?zr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function aje(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function oje(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function sje(e){return e?`    .
`:""}function lje(e,t){if(e!=="couple")return"";const n=zj(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Xd(e){return Le(e)}function cje(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function N5(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Le(n??"");return i||(r<=2?"--":"")})}function uje(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Xd(ct(t)||""),i=Xd(Tt(t)||""),a=Xd(ht(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function dje(e,t){const n=N5(e),r=N5(t);return{solarKo:n,lunarKo:r}}function O5(e,t){if(!t)return e;const n=to(e[2]||"",-1);return[e[0],e[1],n,e[3]]}function DE(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function fje(e,t,n){return e?"solar":t?"lunar":"solar"}function hje(e,t,n,r,i,a,o,l){return DE(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function mje(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Xd(ct(a)||""),l=Xd(Tt(a)||""),u=Xd(ht(a,t)||"");return[o,l,u,""]}function pje(e,t){return t&&e?e.stem+e.branch:""}function gje(e,t,n){const i=[...Ij(e)];return n&&t&&t.length===2&&(i[3]=t),i}function bje(e){const t=I7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=eA(t);return{percent:n,category:g7(n)}}function yje(e){const t=FF(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?wje(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function vje(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function xje(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function C5(e){return cje(e)}function wje(e,t){return t-e+1}function _je({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:d,friendMode:h,teacherMode:p,partnerId:b,mainCategory:y,subCategory:k,relationMode:w,activeTab:S,isMultiMode:j,multiTab:O,selectedDaeIdx:A,rangeControls:C,extraQuestions:D,sections:P}=u,I=xn(Et=>Et.list),{date:U,setDate:W}=ei();_.useEffect(()=>{W(new Date)},[e.id,W]);const q=_.useMemo(()=>b?I.find(Et=>Et.id===b)??null:null,[b,I]),H=e.mingSikType??"/",B=_.useMemo(()=>U??new Date,[U]),K=_.useMemo(()=>uje(r,B,H),[r,B,H]),J=_.useMemo(()=>l?K:{dae:null,se:null,wol:null,il:null},[l,K]),Z=Hi(Et=>Et.manualHour),Y=Hi(Et=>Et.usePrevDay),X=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:Q,lunarKo:ce}=_.useMemo(()=>dje(t,n),[t,n]),ie=_.useMemo(()=>DE(Q,Z,X),[Q,Z,X]),z=_.useMemo(()=>DE(ce,Z,X),[ce,Z,X]),V=_.useMemo(()=>mje(e,H),[e,H]),ne=C5(ie),oe=C5(z),de=fje(ne,oe),me=_.useMemo(()=>hje(de,ne,oe,ie,z,V,Z,X),[de,ne,oe,ie,z,V,Z,X]),ye=_.useMemo(()=>O5(me,Y),[me,Y]),Ne=_.useMemo(()=>X&&Z?Z.stem+Z.branch:ye[3]||"",[Z,ye,X]),ae=pje(Z,X),Ee=_.useMemo(()=>gje(e,ae,X),[e,ae,X]),xe=_.useMemo(()=>O5(Ee,Y),[Ee,Y]),se=l?S:"",Ue=y==="love"||y==="compat",Je=Ue&&w==="couple"?q??null:null,Oe=Ue?w:void 0,$e=_.useMemo(()=>tx({natal:xe,tab:se,chain:J,hourKey:Ne}),[xe,se,J,Ne]),{percent:Fe,category:Be}=_.useMemo(()=>bje(xe),[xe]),bt=_.useMemo(()=>yje(e),[e]),Rt=_.useMemo(()=>vje(I??[],e.id),[I,e.id]),fe=_.useMemo(()=>A.map(Et=>bt[Et]).filter(Et=>!!Et),[A,bt]),Ce=_.useMemo(()=>O===""?C.seYearsList:[],[O,C.seYearsList]),Ge=_.useMemo(()=>O===""?C.wolMonthsList:[],[O,C.wolMonthsList]),Se=_.useMemo(()=>O===""?C.ilDaysList:[],[O,C.ilDaysList]),Pe=_.useMemo(()=>e?ZAe({ms:e,natal:xe,chain:J,basis:i,tab:se,unified:$e,percent:Fe,category:Be,topic:y,subTopic:k,relationMode:w,teacherMode:p,sections:P}):"",[e,i,a,se,J,$e,Fe,Be,xe,y,k,w,Je,p,P]),ze=_.useMemo(()=>!e||!j||!o?"":nje({ms:e,natal:xe,basis:i,includeTenGod:a,unified:$e,percent:Fe,category:Be,selectedDaeList:fe,daeList:bt,seYears:Ce,wolMonths:Ge,ilDays:Se,topic:y,subTopic:k,timeMode:"multi",teacherMode:p,sections:P}),[e,j,o,Ce,fe,bt,Ge,Se,xe,i,a,$e,Fe,Be,y,k,Oe,Je,p,h,P]),lt=_.useMemo(()=>lje(w,q),[w,q]),gt=j?ze:Pe,Kt=_.useMemo(()=>oje(d),[d]),Rr=_.useMemo(()=>sje(h),[h]),ar=_.useMemo(()=>gt||lt?`${gt}${lt}
${Kt}${Rr}`:"",[Kt,Rr,gt,lt]),or=_.useMemo(()=>xje(ar,D),[ar,D]),sn=_.useMemo(()=>e?j?ije({ms:e,natal:xe,basis:i,includeTenGod:a,unified:$e,percent:Fe,category:Be,selectedDaeList:fe,daeList:bt,seYears:Ce,wolMonths:Ge,ilDays:Se,topic:y,subTopic:k,timeMode:"multi",relationMode:Oe,partnerMs:Je,teacherMode:p,sections:P}):rje({ms:e,natal:xe,chain:J,basis:i,tab:se,unified:$e,percent:Fe,category:Be,topic:y,subTopic:k,relationMode:w,partnerMs:Je,teacherMode:p,sections:P}):"",[e,j,xe,i,a,$e,Fe,Be,fe,bt,Ce,Ge,Se,y,k,w,Oe,Je,p,h,P,J,se]),xr=_.useMemo(()=>{const Et=sn.trim();if(Et)return Et;const Qi=aje(gt).trim();return Qi||gt.trim()},[sn,gt]);return{date:U,setDate:W,partnerMs:q,partnerOptions:Rt,daeList:bt,tabForLogic:se,baseText:gt,basePrompt:ar,finalText:or,infoOnlyText:xr,allowManualHour:X,activePillars:ye}}function M5(e,t=1200){const[n,r]=_.useState(!1),i=!!(e&&e.trim().length>0),a=_.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function Sje(e,t){const{copied:n,canCopy:r,onCopy:i}=M5(e),{copied:a,canCopy:o,onCopy:l}=M5(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function kje({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=xn(q=>q._rtUserId),u=mAe()??o??null,d=hn(q=>q.loaded),h=hn(q=>q.userId),p=hn(q=>q.plan),b=_.useMemo(()=>Sm(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),y=_.useMemo(()=>s2(b),[b]),k=y.canUseMultiMode,w=y.canUseLuckTabs,S=y.canUseAllPrompts?"full":"locked",j=bAe({msId:e.id,canUseMultiMode:k,canUseLuckTabs:w}),O=_je({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:w,input:j}),{copiedAll:A,copiedInfo:C,canCopyAll:D,canCopyInfo:P,onCopyAll:I,onCopyInfoOnly:U}=Sje(O.finalText,O.infoOnlyText);function W(q,H){j.setMainCategory(q),j.setSubCategory(H?.[0]?.key??"overview")}return{sections:j.sections,toggleSection:j.toggleSection,tone:j.tone,setTone:j.setTone,friendMode:j.friendMode,setFriendMode:j.setFriendMode,teacherMode:j.teacherMode,setTeacherMode:j.setTeacherMode,date:O.date,setDate:O.setDate,planTier:b,promptAccess:S,canUseMultiMode:k,canUseLuckTabs:w,partnerId:j.partnerId,setPartnerId:j.setPartnerId,partnerMs:O.partnerMs,mainCategory:j.mainCategory,subCategory:j.subCategory,setSubCategory:j.setSubCategory,relationMode:j.relationMode,setRelationMode:j.setRelationMode,activeTab:j.activeTab,setActiveTab:j.setActiveTab,isMultiMode:j.isMultiMode,setIsMultiMode:j.setIsMultiMode,multiTab:j.multiTab,setMultiTab:j.setMultiTab,selectedDaeIdx:j.selectedDaeIdx,handleToggleDae:j.handleToggleDae,rangeControls:j.rangeControls,partnerOptions:O.partnerOptions,daeList:O.daeList,tabForLogic:O.tabForLogic,baseText:O.baseText,basePrompt:O.basePrompt,finalText:O.finalText,infoOnlyText:O.infoOnlyText,copiedAll:A,copiedInfo:C,canCopyAll:S==="full"&&D,canCopyInfo:S==="full"&&P,onCopyAll:I,onCopyInfoOnly:U,handleMainCategoryChange:W,setQuestionDraft:j.setQuestionDraft,questionDraft:j.questionDraft,extraQuestions:j.extraQuestions,setExtraQuestions:j.setExtraQuestions,handleAddQuestion:j.handleAddQuestion,handleRemoveQuestion:j.handleRemoveQuestion,handleClearQuestions:j.handleClearQuestions,allowManualHour:O.allowManualHour,activePillars:O.activePillars}}function Eje({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=kje({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=_5[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(tAe,{}),g.jsx(nAe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(rAe,{tone:o.tone,toneMeta:dAe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(iAe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:hAe,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,_5[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(aAe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(oAe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(lAe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(sAe,{tabs:fAe,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(cAe,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(uAe,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function Tje(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o]=_.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function Aje(){const e=xn(r=>r.loading),t=wn(r=>r.loaded),n=hn(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const D5="app_session_started_at_ms",jje=7200*1e3;function Nje(){if(typeof window>"u")return null;try{return window.sessionStorage}catch{return null}}function Oje(){const e=Nje();if(!e)return Date.now();const t=e.getItem(D5),n=t?Number(t):NaN;if(!Number.isFinite(n)||n<=0){const r=Date.now();try{e.setItem(D5,String(r))}catch{}return r}return n}function Cje(e=Date.now()){const t=Oje();return Math.max(0,e-t)}function Mje(e,t=Date.now()){return Cje(t)>=e}async function Dje(e,t){const{data:n,error:r}=await De.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function Pje(e,t,n){const{error:r}=await De.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const Rje=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Gd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Gd).join(",")}]`:Rje(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Gd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function Lje(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function Ije(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Gd(t.select(t.store.getState()));const o=Lje(async p=>{try{await Pje(e,t.dbKey,p),a=Gd(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Gd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await Dje(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Gd(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function $je(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function yk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Bje(e){_.useEffect(()=>{if(!e)return;const t=[];t.push(Ije(e,{dbKey:"promptCopy.sections",store:Sv,select:o=>o.sections,apply:o=>Sv.setState({sections:o}),validate:$je,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=De.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(Mje(jje)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!yk(l))return;const u=l.new,d=l.old,h=w=>yk(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>yk(w)?w.value:null,b=h(u)??h(d);if(!b)return;const y=t.find(w=>w.dbKey===b);if(!y)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){y.applyRemote(p(u));return}y.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),De.removeChannel(a)}},[e])}function zje({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){_.useEffect(()=>{const r=De;let i=!1,a=null;const o=h=>{const p=h?.user?.id??null;t(!!h),e(p)},l=h=>{o(h),h&&g6(Date.now()),i||(i=!0,n(!0))};(async()=>{const{data:h,error:p}=await r.auth.getSession();if(p){l(null);return}if(h.session){l(h.session);return}a=window.setTimeout(()=>l(null),1200)})();const{data:{subscription:d}}=r.auth.onAuthStateChange((h,p)=>{a!==null&&(window.clearTimeout(a),a=null),l(p),p||xn.getState().stopRealtime()});return()=>{a!==null&&window.clearTimeout(a),d.unsubscribe()}},[n,t,e])}function Uje(e){zje({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),Bje(e.userId)}function Fje(e){const[t,n]=_.useState(()=>e.length>0?e[0].id:""),[r,i]=_.useState(!1),[a,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!0),[p,b]=_.useState(!1),[y,k]=_.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:y,setOpenCustom:k}}function Hje(e){const t=ei(i=>i.date),n=ei(i=>i.rule),r=Nu(e);return _.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Qv(r,t),a=i>=0?r[i]?.gz??null:null,o=ct(t),l=Tt(t),u=ht(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const Gje=e=>typeof e=="string"&&e.length>=2,Yje=e=>Array.isArray(e)&&e.length===4&&e.every(Gje);function qje({list:e,currentId:t,settings:n,emptyMs:r}){const i=_.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=_.useMemo(()=>Ij(o),[o]),u=Hje(o),d=hn(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:Yje,canAdd:d,voidBasis:h,samjaeBasis:p}}function Kje({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:y}=wn();_.useEffect(()=>{!r||!y||b()},[r,y,p,b]);const k=_.useCallback(()=>{if(!e){Rn.error("   1   .");return}i(!0)},[e,i]),w=_.useCallback(()=>{if(!e){Rn.error("   1   .");return}a(!0)},[e,a]),S=_.useCallback(D=>{d(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),ei.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),j=_.useCallback(D=>{h(D),d(D.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),O=_.useCallback(()=>{const D=xn.getState().list[0]?.id??"";d(D),l(!0),u(!1)},[d,l,u]),A=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:w,handleSidebarView:S,handleSidebarEdit:j,handleSidebarDeleteView:O,handleWizardSave:A,handleCustomSave:C}}function Wje(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(VB,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"    "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const lH="https://t1.daumcdn.net/kas/static/ba.min.js",Vje="//t1.daumcdn.net/kas/static/ba.min.js";let bm=null,ym=null;function cH(){return typeof window<"u"&&typeof document<"u"}function P5(e){return typeof e=="object"&&e!==null}function uH(){if(!cH())return!1;const e=window;if(!P5(e))return!1;const t=e.adfit;return P5(t)?typeof t.destroy=="function":!1}function dH(){return Array.from(document.querySelectorAll(`script[src="${lH}"], script[src="${Vje}"]`))}function fH(e){return e.getAttribute("data-adfit-scan")==="1"}function Zje(){const t=dH().filter(n=>!fH(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function R5(){return document.body??document.head??document.documentElement}function vk(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{uH(),o()},t)})}function L5(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=lH,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function PE(e){return cH()?(e?.mode??"boot")==="boot"?bm||(bm=(async()=>{if(Zje(),uH())return{inserted:!1};const r=dH().filter(a=>!fH(a))[0];if(r)return await vk(r,2500),{inserted:!1};const i=L5(!1);return R5().appendChild(i),await vk(i,4e3),{inserted:!0}})().finally(()=>{bm=null}),bm):ym||(ym=(async()=>{const n=L5(!0);R5().appendChild(n);try{return await vk(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{ym=null}),ym):Promise.resolve({inserted:!1})}function hH({enabled:e}){return _.useEffect(()=>{e&&PE({mode:"boot"})},[e]),null}function I5(e){return typeof e=="object"&&e!==null}function Xje(e){const t=window;if(!I5(t))return;const n=t.adfit;if(!I5(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function fu({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=_.useRef(!1),d=_.useRef(!1),h=_.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return _.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await PE({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),_.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await PE({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),_.useEffect(()=>()=>{Xje(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function mH({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=_.useState(!1),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const y=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",y)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(fu,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function pH(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(!1);_.useEffect(()=>{document.title=" - //";const y=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(y),window.clearTimeout(k),window.clearTimeout(w)}},[]);const h=()=>u?!0:(pa.error(`   
  .`),!1),p=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Google Login Error:",w),pa.error("   .");return}if(!k?.url){pa.error(" URL  .");return}window.location.assign(k.url)},b=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await De.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Kakao Login Error:",w),pa.error("   .");return}if(!k?.url){pa.error(" URL  .");return}window.location.assign(k.url)};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(x$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function Jje(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function Qje(){const e=Ss(i=>i.open),t=Ss(i=>i.reason),n=Ss(i=>i.close),r=_.useMemo(()=>Jje(t),[t]);return _.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),_.useEffect(()=>{const{data:i}=De.auth.onAuthStateChange((a,o)=>{o?.user&&(hn.getState().loadFromServer(),wn.getState().loadFromServer(),xn.getState().loadFromServer(),Ss.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(pH,{})})]})}):null}function eNe(){const e=Ss(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx(ZB,{size:16}),""]})]})})}const Uj="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let vm=null;function Fj(){return typeof window<"u"&&typeof document<"u"}function gH(){return Fj()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function bH(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function $5(e){return gH().some(n=>{const r=n.getAttribute("src")??"";return r.includes(Uj)&&bH(r,e)})}function xk(e){const t=gH().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(Uj)&&bH(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function tNe(e){const t=document.createElement("script");return t.async=!0,t.src=`${Uj}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function nNe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function rNe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function B5(e){if(Fj()){if($5(e)){xk(e);return}if(vm)return vm;vm=(async()=>{if($5(e)){xk(e);return}const t=tNe(e);document.head.appendChild(t),await nNe(t),xk(e)})();try{await vm}finally{vm=null}}}function iNe(e={}){if(!Fj())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(rNe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function aNe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=_.useRef(!1),u=_.useRef(null);return _.useEffect(()=>{l.current=!1},[n,r,i,a]),_.useEffect(()=>{e&&B5(n).catch(()=>{})},[e,n]),_.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await B5(n),!d))return;iNe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function yH({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=_.useState(!1),[b,y]=_.useState(!1);return _.useEffect(()=>{if(!e){p(!1),y(!1);return}y(!0);let k=0;const w=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const S=window.scrollY||0;p(S>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(aNe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const vH="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function z5(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function oNe(){return document.querySelector(`script[src^="${vH}"]`)}async function U5(e){oNe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${vH}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function sNe(){const e=window.adsbygoogle;if(z5(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;z5(t)&&t.push({})}function lNe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=_.useRef(null),b=_.useRef(!1),y=_.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,w]=_.useState(!l);return _.useEffect(()=>{b.current=!1},[t,n]),_.useEffect(()=>{e&&U5(t).catch(()=>{})},[e,t]),_.useEffect(()=>{if(!e||!l)return;const S=p.current;if(!S)return;const j=new IntersectionObserver(O=>{const A=O[0];A&&A.isIntersecting&&w(!0)},{root:null,threshold:.05});return j.observe(S),()=>j.disconnect()},[e,l]),_.useEffect(()=>{if(!e||!k||b.current)return;let S=!0;return(async()=>{try{if(await U5(t),!S||(await Promise.resolve(),!S))return;sNe(),b.current=!0}catch{}})(),()=>{S=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},y)}):null}const cNe="DAN-GW4jrUdfiXklZ12U",uNe="DAN-CeRuC0yKzSAs5Gju",dNe="DAN-G16gewnPhZou1D9y",fNe="DAN-rdKe9ZODmrZR4hho",hNe="DAN-INfSKh1pW2cEtWNu",mNe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function Ob(){const e=Gr(),t=Jl(),n=Tje();Uje(n);const r=Aje(),i=p=>{if(typeof window>"u")return null;try{return window.sessionStorage.getItem(p)}catch{return null}},a=(p,b)=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem(p,b)}catch{}},[o,l]=_.useState(!1),[u,d]=_.useState(()=>typeof window>"u"?!1:i("app_loading_shown_v1")==="1"),h=!n.authChecked||!r.entLoaded||!r.settingsLoaded;return _.useEffect(()=>{h||l(!0)},[h]),_.useEffect(()=>{n.authChecked&&(n.isLoggedIn||e.pathname==="/"||e.pathname==="/result"||t("/",{replace:!0}))},[n.authChecked,n.isLoggedIn,e.pathname,t]),_.useEffect(()=>{!u&&!o&&h&&(d(!0),a("app_loading_shown_v1","1"))},[u,o,h]),n.authChecked&&n.isLoggedIn&&n.adminMode?g.jsx(IF,{}):!o&&h&&!u?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500 animate-pulse",children:n.authChecked?"  ...":"  ..."})}):g.jsx(pNe,{isLoggedIn:n.isLoggedIn})}function pNe({isLoggedIn:e}){const t=Gr(),n=Jl(),{list:r}=xn(),i=wn(I=>I.settings),a=Fje(r),o=qje({list:r,currentId:a.currentId,settings:i,emptyMs:mNe}),l=Kje({canAdd:o.canAdd,hasCurrent:o.hasCurrent,current:o.current,isLoggedIn:e,setWizardOpen:a.setWizardOpen,setOpenCustom:a.setOpenCustom,setShowSidebar:a.setShowSidebar,setShowToday:a.setShowToday,setShowCouple:a.setShowCouple,setCurrentId:a.setCurrentId,setEditing:a.setEditing}),[u,d]=_.useState(!1),[h,p]=_.useState(0);_.useEffect(()=>{a.editing&&d(!1)},[a.editing]),_.useEffect(()=>{const I=t.pathname;if(I==="/faq"){d(!0),a.setShowCouple(!1),a.setShowToday(!1);return}if(I==="/couple"){d(!1),a.setShowCouple(!0),a.setShowToday(!1);return}if(I==="/result"){d(!1),a.setShowCouple(!1),a.setShowToday(!1);return}d(!1),a.setShowCouple(!1),a.setShowToday(!0)},[a,t.pathname,a.setShowCouple,a.setShowToday]);const b=hn(I=>I.shouldShowAdsNow()),y=o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,k=a.showToday||!o.hasCurrent&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,w=!e&&o.hasCurrent&&y,S=!e&&!y,[j,O]=_.useState(!1),A=(...I)=>{d(!1),a.setShowToday(!1),a.setShowCouple(!1),n("/result",{replace:!1}),l.handleSidebarView(...I)},C=()=>{a.setOpenCustom(!1),p(I=>I+1)},D=I=>{d(!1),l.handleCustomSave(I)},P=I=>{d(!1),l.handleWizardSave(I),n("/result",{replace:!1})};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(hH,{enabled:b}),b&&y&&g.jsx(yH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(mH,{enabled:b,adUnit:hNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Ide,{isLoggedIn:e,onOpenSidebar:()=>a.setShowSidebar(!0),onAddNew:l.openAdd,onOpenCustom:l.openCustomModal}),g.jsx(Qje,{}),j&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(pH,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>O(!1),children:""})]}),g.jsx(eAe,{open:a.openCustom,onClose:C,onSave:D},h),g.jsx(x$,{position:"top-center"}),g.jsx(Efe,{open:a.showSidebar,onClose:()=>a.setShowSidebar(!1),onView:A,onAddNew:l.openAdd,onEdit:l.handleSidebarEdit,onDeleteView:l.handleSidebarDeleteView,isLoggedIn:e}),S&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),u&&g.jsx(Wje,{}),k&&g.jsx(iX,{}),a.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(tie,{onSave:P,onClose:()=>a.setWizardOpen(!1)})})})]}),o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&g.jsxs("div",{className:"pt-16",children:[w&&g.jsx("div",{children:g.jsx(eNe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(use,{data:o.current,hourTable:o.current?.mingSikType??"/"})}),g.jsx(NTe,{ms:o.current}),g.jsx("div",{children:g.jsx(Lde,{data:o.current})}),b&&y&&i.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(lNe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),i.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(Eje,{ms:o.current,natal:o.isValidPillars(o.natal)?o.natal:[],chain:o.chain,basis:{voidBasis:o.voidBasis,samjaeBasis:o.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),b&&y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(fu,{enabled:!0,adUnit:fNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(fu,{enabled:!0,adUnit:dNe,width:320,height:50})})]})]}),a.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(TTe,{people:r})}),b&&!y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(fu,{enabled:!0,adUnit:uNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(fu,{enabled:!0,adUnit:cNe,width:320,height:50})})]}),a.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(zfe,{item:a.editing,onClose:()=>a.setEditing(null)})})}),g.jsx(qde,{}),g.jsx(ATe,{})]})}function gNe(){const e=Gr(),[t,n]=_.useState(null),[r,i]=_.useState(null);return _.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function bNe(){const e=Gr(),t=Jl(),[n,r]=_.useState("  ...");return _.useEffect(()=>{(async()=>{try{console.log("[auth-callback] search =",e.search),console.log("[auth-callback] hash =",e.hash);const a=new URLSearchParams(e.search),o=e.hash.startsWith("#")?e.hash.slice(1):e.hash,l=o.indexOf("?"),u=new URLSearchParams(l>=0?o.slice(l+1):o),d=k=>a.get(k)??u.get(k),h=d("error"),p=d("error_description");if(h){r(` : ${decodeURIComponent(p??h)}`);return}const b=d("code");if(!b){const k=d("access_token"),w=d("refresh_token");if(!k||!w){r(" code . (redirectTo/PKCE  )");return}const{error:S}=await De.auth.setSession({access_token:k,refresh_token:w});if(S){r(`  : ${S.message}`);return}t("/",{replace:!0});return}const{error:y}=await De.auth.exchangeCodeForSession(b);if(y){r(`  : ${y.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function yNe({yinYang:e,changing:t,onClick:n,showChanging:r=!0}){return g.jsxs("button",{type:"button",onClick:n,className:["w-full select-none","rounded-xl px-3 py-2","border border-neutral-200 dark:border-neutral-800","bg-white hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800","flex items-center gap-3",n?"cursor-pointer":"cursor-default"].join(" "),title:n?"  (6789)":void 0,children:[g.jsx("div",{className:"flex-1",children:e===1?g.jsx("div",{className:"h-3 rounded bg-neutral-900 dark:bg-neutral-100"}):g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"}),g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"})]})}),r&&g.jsx("div",{className:"w-8 text-right text-sm font-medium text-neutral-700 dark:text-neutral-300",children:t?"":""})]})}function vNe(e){return e===6||e===9}function Hx(e){return e===7||e===9?1:0}function xH(e){return e===6?1:e===9?0:Hx(e)}function xNe(e){return e===6?7:e===7?8:e===8?9:6}function wH(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t>>>0}function _H(e){let t=e>>>0;return()=>{t+=1831565813;let n=t;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function SH(){return new Date().toISOString()}function kH(){const e=Date.now().toString(36),t=Math.floor(Math.random()*1e9).toString(36);return`ich_${e}_${t}`}function EH(e){const t=[];for(let n=0;n<e.length;n+=1)vNe(e[n].value)&&t.push(n+1);return t}function RE(e){const t=()=>e()<.5?2:3,n=t(),r=t(),i=t(),a=n+r+i;return{value:a===6?6:a===7?7:a===8?8:9,source:"coin",coins:[n,r,i]}}function wNe(e){return e?[e.myeongSikId?`id=${e.myeongSikId}`:"",e.pillarsText?`pillars=${e.pillarsText}`:"",e.birthISO?`birth=${e.birthISO}`:"",e.tz?`tz=${e.tz}`:"",e.luck?.daeun?`daeun=${e.luck.daeun}`:"",e.luck?.seun?`seun=${e.luck.seun}`:"",e.luck?.wolun?`wolun=${e.luck.wolun}`:"",e.luck?.ilun?`ilun=${e.luck.ilun}`:""].filter(Boolean).join("|"):""}const Hj=["","","","","","","","","",""],Gj=["","","","","","","","","","","",""];function Gl(e,t){const n=e%t;return n<0?n+t:n}function Yj(e){const t=e-1984,n=Hj[Gl(t,10)],r=Gj[Gl(t,12)];return`${n}${r}`}function TH(e,t){if(t<1||t>12)throw new Error(`month must be 1..12, got ${t}`);const n=Gl(e-1984,10),r=n===0||n===5?2:n===1||n===6?4:n===2||n===7?6:n===3||n===8?8:0,i=t===1?1:t===12?0:t,a=Gl(i-2,12),o=Gl(r+a,10),l=Hj[o],u=Gj[i];return`${l}${u}`}function _Ne(e){const t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=Date.UTC(1984,0,31),a=Date.UTC(t,n,r),o=Math.floor((a-i)/864e5),l=Gl(o,60),u=Hj[Gl(l,10)],d=Gj[Gl(l,12)];return`${u}${d}`}function Ka(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ga(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return null;const n=Number(t[1]),r=Number(t[2])-1,i=Number(t[3]);if(![n,r,i].every(o=>Number.isFinite(o)))return null;const a=new Date(n,r,i,9,0,0,0);return a.getFullYear()!==n||a.getMonth()!==r||a.getDate()!==i?null:a}function AH(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Au(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0,0,0)}function qj(e,t){return e.getTime()<=t.getTime()?{start:e,end:t}:{start:t,end:e}}function F5(e,t){return e*100+t}function SNe(e,t){const n=[];let r=e.getFullYear(),i=e.getMonth()+1;const a=F5(t.getFullYear(),t.getMonth()+1);for(;F5(r,i)<=a;)n.push({y:r,m1:i}),i+=1,i===13&&(i=1,r+=1);return n}function kNe(e,t=10){const n=ga(e.startYMD)??Au(),r=ga(e.endYMD)??Au(),{start:i,end:a}=qj(n,r),o=i.getFullYear(),l=a.getFullYear(),u=[];for(let d=o;d<=l&&!(u.length>=t);d+=1){const h=new Date(d,5,15,9,0,0,0);u.push({year:d,refDateYMD:Ka(h),seun:Yj(d)})}return u}function ENe(e,t=12,n=!1){const r=ga(e.startYMD)??Au(),i=ga(e.endYMD)??Au(),{start:a,end:o}=qj(r,i),l=SNe(a,o),u=[];for(const d of l){if(u.length>=t)break;if(n&&d.m1===1)continue;const h=new Date(d.y,d.m1-1,15,9,0,0,0),p=new Date(d.y,d.m1-1,15,12,0,0,0),b=ct(p)||Yj(d.y),y=Tt(p)||TH(d.y,d.m1);u.push({year:d.y,month:d.m1,refDateYMD:Ka(h),seun:b,wolun:y})}return u}function TNe(e,t=7){const n=ga(e.startYMD)??Au(),r=ga(e.endYMD)??Au(),{start:i,end:a}=qj(n,r),o=[];let l=new Date(i);for(;l.getTime()<=a.getTime()&&!(o.length>=t);){const u=l.getFullYear(),d=l.getMonth()+1,h=new Date(u,d-1,l.getDate(),12,0,0,0),p=ct(h)||Yj(u),b=Tt(h)||TH(u,d);o.push({dateYMD:Ka(l),seun:p,wolun:b,ilun:_Ne(l)}),l=AH(l,1)}return o}function jH(e,t){const n=ga(t.startYMD)??Au();if(e==="seun")return new Date(n.getFullYear(),5,15,9,0,0,0);if(e==="wolun"){const r=n.getFullYear(),i=n.getMonth()+1;return new Date(r,i-1,15,9,0,0,0)}return new Date(n.getFullYear(),n.getMonth(),n.getDate(),9,0,0,0)}function wk(e,t){const n=jH(e,t),r=Ka(n);return e==="seun"?{tab:e,baseDateYMD:r,seun:kNe(t,10),wolun:[],ilun:[]}:e==="wolun"?{tab:e,baseDateYMD:r,seun:[],wolun:ENe(t,12,!1),ilun:[]}:{tab:e,baseDateYMD:r,seun:[],wolun:[],ilun:TNe(t,7)}}function NH(e){return e===7||e===9?1:0}const ja={:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"111",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"110",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"101",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"100",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"011",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"010",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"001",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"000",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]}},ANe=[{n:1,ko:"",nameHanja:"",upper:"",lower:""},{n:2,ko:"",nameHanja:"",upper:"",lower:""},{n:3,ko:"",nameHanja:"",upper:"",lower:""},{n:4,ko:"",nameHanja:"",upper:"",lower:""},{n:5,ko:"",nameHanja:"",upper:"",lower:""},{n:6,ko:"",nameHanja:"",upper:"",lower:""},{n:7,ko:"",nameHanja:"",upper:"",lower:""},{n:8,ko:"",nameHanja:"",upper:"",lower:""},{n:9,ko:"",nameHanja:"",upper:"",lower:""},{n:10,ko:"",nameHanja:"",upper:"",lower:""},{n:11,ko:"",nameHanja:"",upper:"",lower:""},{n:12,ko:"",nameHanja:"",upper:"",lower:""},{n:13,ko:"",nameHanja:"",upper:"",lower:""},{n:14,ko:"",nameHanja:"",upper:"",lower:""},{n:15,ko:"",nameHanja:"",upper:"",lower:""},{n:16,ko:"",nameHanja:"",upper:"",lower:""},{n:17,ko:"",nameHanja:"",upper:"",lower:""},{n:18,ko:"",nameHanja:"",upper:"",lower:""},{n:19,ko:"",nameHanja:"",upper:"",lower:""},{n:20,ko:"",nameHanja:"",upper:"",lower:""},{n:21,ko:"",nameHanja:"",upper:"",lower:""},{n:22,ko:"",nameHanja:"",upper:"",lower:""},{n:23,ko:"",nameHanja:"",upper:"",lower:""},{n:24,ko:"",nameHanja:"",upper:"",lower:""},{n:25,ko:"",nameHanja:"",upper:"",lower:""},{n:26,ko:"",nameHanja:"",upper:"",lower:""},{n:27,ko:"",nameHanja:"",upper:"",lower:""},{n:28,ko:"",nameHanja:"",upper:"",lower:""},{n:29,ko:"",nameHanja:"",upper:"",lower:""},{n:30,ko:"",nameHanja:"",upper:"",lower:""},{n:31,ko:"",nameHanja:"",upper:"",lower:""},{n:32,ko:"",nameHanja:"",upper:"",lower:""},{n:33,ko:"",nameHanja:"",upper:"",lower:""},{n:34,ko:"",nameHanja:"",upper:"",lower:""},{n:35,ko:"",nameHanja:"",upper:"",lower:""},{n:36,ko:"",nameHanja:"",upper:"",lower:""},{n:37,ko:"",nameHanja:"",upper:"",lower:""},{n:38,ko:"",nameHanja:"",upper:"",lower:""},{n:39,ko:"",nameHanja:"",upper:"",lower:""},{n:40,ko:"",nameHanja:"",upper:"",lower:""},{n:41,ko:"",nameHanja:"",upper:"",lower:""},{n:42,ko:"",nameHanja:"",upper:"",lower:""},{n:43,ko:"",nameHanja:"",upper:"",lower:""},{n:44,ko:"",nameHanja:"",upper:"",lower:""},{n:45,ko:"",nameHanja:"",upper:"",lower:""},{n:46,ko:"",nameHanja:"",upper:"",lower:""},{n:47,ko:"",nameHanja:"",upper:"",lower:""},{n:48,ko:"",nameHanja:"",upper:"",lower:""},{n:49,ko:"",nameHanja:"",upper:"",lower:""},{n:50,ko:"",nameHanja:"",upper:"",lower:""},{n:51,ko:"",nameHanja:"",upper:"",lower:""},{n:52,ko:"",nameHanja:"",upper:"",lower:""},{n:53,ko:"",nameHanja:"",upper:"",lower:""},{n:54,ko:"",nameHanja:"",upper:"",lower:""},{n:55,ko:"",nameHanja:"",upper:"",lower:""},{n:56,ko:"",nameHanja:"",upper:"",lower:""},{n:57,ko:"",nameHanja:"",upper:"",lower:""},{n:58,ko:"",nameHanja:"",upper:"",lower:""},{n:59,ko:"",nameHanja:"",upper:"",lower:""},{n:60,ko:"",nameHanja:"",upper:"",lower:""},{n:61,ko:"",nameHanja:"",upper:"",lower:""},{n:62,ko:"",nameHanja:"",upper:"",lower:""},{n:63,ko:"",nameHanja:"",upper:"",lower:""},{n:64,ko:"",nameHanja:"",upper:"",lower:""}];function Tv(e){const t=Object.keys(ja);for(const n of t)if(ja[n].bitsBottomUp===e)return n;return null}function jNe(e,t){return`${ja[t].bitsBottomUp}${ja[e].bitsBottomUp}`}const NNe=(()=>{const e={};for(const t of ANe){const n=ja[t.upper],r=ja[t.lower],i=jNe(t.upper,t.lower);e[i]={number:t.n,titleKo:t.ko,nameHanja:t.nameHanja,titleHanja:`${n.symbolHanja}${r.symbolHanja}${t.nameHanja}`,upperKo:n.ko,lowerKo:r.ko,upperHanja:n.hanja,lowerHanja:r.hanja,upperSymbolHanja:n.symbolHanja,lowerSymbolHanja:r.symbolHanja,bitsBottomUp:i}}return e})();function Kj(e){const t=e.join(""),n=NNe[t];if(n)return n;const r=t.slice(0,3),i=t.slice(3,6),a=Tv(r),o=Tv(i),l=a?ja[a]:null,u=o?ja[o]:null;return{number:void 0,titleKo:"",nameHanja:"",titleHanja:u&&l?`${u.symbolHanja}${l.symbolHanja}`:"",upperKo:u?.ko,lowerKo:l?.ko,upperHanja:u?.hanja,lowerHanja:l?.hanja,upperSymbolHanja:u?.symbolHanja,lowerSymbolHanja:l?.symbolHanja,bitsBottomUp:t}}function LE(e){const t=e.map(n=>NH(n.value));return Kj(t)}const H5={:[1,44,33,12,20,23,35,14],:[29,60,3,63,49,55,36,7],:[52,22,26,41,38,10,61,53],:[51,16,40,32,46,48,28,17],:[57,9,37,42,25,21,27,18],:[30,56,50,64,4,59,6,13],:[2,24,19,11,34,43,5,8],:[58,47,45,31,39,15,62,54]};function ONe(e){return e===0?"pure":e===1?"1":e===2?"2":e===3?"3":e===4?"4":e===5?"5":e===6?"youhun":"guihun"}function CNe(e){return e==="pure"?6:e==="1"?1:e==="2"?2:e==="3"?3:e==="4"?4:e==="5"?5:e==="youhun"?4:3}function MNe(e){return(e+2)%6+1}function DNe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""||e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":null}function G5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function Y5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function PNe(e,t){return t===e?"":G5(t,e)?"":G5(e,t)?"":Y5(t,e)?"":Y5(e,t)?"":""}function RNe(e){const t=Object.keys(H5);for(const n of t){const r=H5[n].indexOf(e);if(r>=0)return{palace:n,stage:ONe(r)}}return null}function LNe(e){const t=e.join(""),n=t.slice(0,3),r=t.slice(3,6),i=Tv(n),a=Tv(r);if(!i||!a)return[];const o=ja[i],u=ja[a].naJiaUpperTopDown,d=o.naJiaLowerTopDown;return[...u,...d]}function IE(e){const t=e.map(k=>NH(k.value)),n=Kj(t),r=typeof n.number=="number"?n.number:null,i=LNe(t),a=r?RNe(r):null,o=a?.palace??null,l=o?ja[o].element:null,u=a?.stage??"pure",d=CNe(u),h=MNe(d),p=7-d,b=7-h,y=[];if(i.length===6&&l)for(const k of i){const w=DNe(k);if(!w){y.push("");continue}y.push(PNe(l,w))}return{leftTopDown:y.length?y:[],rightTopDown:i.length?i:[],markers:[{text:"",atLineTopDown:p},{text:"",atLineTopDown:b}],palace:o?{key:o,element:ja[o].element,stage:u}:void 0}}function _k(e){const t=_H(wH(e)),n=[];for(let r=0;r<6;r+=1)n.push(RE(t));return n}function Sk(e,t,n,r,i){return{id:kH(),kind:"iching_sixyao",createdAtISO:SH(),question:e,seedTextUsed:t,linesBottomUp:n,changingLines:EH(n),baseBitsBottomUp:n.map(a=>Hx(a.value)),changedBitsBottomUp:n.map(a=>xH(a.value)),saju:r??void 0,viewMeta:i}}function INe(e){const{periodTab:t,seunPayload:n,wolunPayload:r,ilunPayload:i,questionText:a,sajuSeedPart:o,saju:l,viewMeta:u}=e,d=[];return t==="seun"&&n?.seun?.length&&n.seun.forEach(h=>{const p=` ${h.year} (${h.seun}`,b=`${a}::${h.refDateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=_k(y),w=Sk(a,y,k,l,u);d.push({key:`seun-${h.year}`,title:p,dateYMD:h.refDateYMD,record:w})}),t==="wolun"&&r?.wolun?.length&&r.wolun.forEach(h=>{const p=String(h.month).padStart(2,"0"),b=` ${h.year}-${p} (${h.seun} ${h.wolun}`,y=`${a}::${h.refDateYMD}`,k=o?`${y}::SAJU::${o}`:y,w=_k(k),S=Sk(a,k,w,l,u);d.push({key:`wolun-${h.year}-${p}`,title:b,dateYMD:h.refDateYMD,record:S})}),t==="ilun"&&i?.ilun?.length&&i.ilun.forEach(h=>{const p=` ${h.dateYMD} (${h.seun} ${h.wolun} ${h.ilun}`,b=`${a}::${h.dateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=_k(y),w=Sk(a,y,k,l,u);d.push({key:`ilun-${h.dateYMD}`,title:p,dateYMD:h.dateYMD,record:w})}),d}function $Ne(e){if(!e)return"  ";const t=[e.name?`: ${e.name}`:"",e.gender?`: ${e.gender}`:"",e.pillarsText?`: ${e.pillarsText}`:""].filter(Boolean);return t.length?t.join(`
`):"  "}function BNe(e,t){if(!e||!e.luck)return e;const{daeun:n,seun:r,wolun:i,ilun:a}=e.luck;return{...e,luck:t==="seun"?{daeun:n,seun:r}:t==="wolun"?{daeun:n,seun:r,wolun:i}:{daeun:n,seun:r,wolun:i,ilun:a}}}function zNe(e){const{selectedCardText:t,ready:n,periodCards:r,finalQuestion:i,question:a,baseBits:o,changedBits:l,changingIndexes:u,lineValues:d,lines:h,saju:p,periodTab:b}=e,y=(i.trim()||a.trim()).trim(),k=y||"( )";if(t&&t.trim())return[` : ${k}`,"",t.trim()].join(`
`);if(!n&&r.length===0)return"";const w=o.join(""),S=l.join(""),j=u.length?u.join(", "):"",O=d.join(", "),A=LE(h),C=Kj(l),D=typeof A.number=="number"?String(A.number):"",P=A.titleKo||"",I=A.titleHanja||"?",U=A.nameHanja||"?",W=A.upperKo&&A.lowerKo?`${A.upperKo}/${A.lowerKo}`:"",q=A.upperHanja&&A.lowerHanja?`${A.upperHanja}/${A.lowerHanja}`:"",H=typeof C.number=="number"?String(C.number):"",B=C.upperKo&&C.lowerKo?`${C.upperKo}/${C.lowerKo}`:"",K=C.upperHanja&&C.lowerHanja?`${C.upperHanja}/${C.lowerHanja}`:"",J=IE(h),Z=J.leftTopDown.length?J.leftTopDown.join(" "):"()",Y=J.rightTopDown.length?J.rightTopDown.join(" "):"()",X=J.markers.length?J.markers.map(ne=>`${ne.text}${ne.atLineTopDown}`).join(", "):"()",Q=$Ne(p),ce=r.length>0?[" (  )",...r.flatMap((ne,oe)=>{const de=LE(ne.record.linesBottomUp),me=IE(ne.record.linesBottomUp),ye=ne.record.baseBitsBottomUp.join(""),Ne=ne.record.changedBitsBottomUp.join(""),ae=ne.record.changingLines.length?ne.record.changingLines.join(", "):"",Ee=ne.record.linesBottomUp.map(Oe=>Oe.value).join(", "),xe=de.titleKo||"",se=typeof de.number=="number"?String(de.number):"",Ue=me.leftTopDown.length?me.leftTopDown.join(" "):"()",Ke=me.rightTopDown.length?me.rightTopDown.join(" "):"()",Je=me.markers.length?me.markers.map(Oe=>`${Oe.text}${Oe.atLineTopDown}`).join(", "):"()";return[`${oe+1}. ${ne.title}`,`-  /: ${se}  ${xe}`,`-  (): ${ye}`,`-  (): ${Ne}`,`- : ${ae}`,`- (): ${Ee}`,`- (): ${Ue}`,`- (): ${Ke}`,`- ///: ${Je}`]}),""]:[],ie=n&&h.length===6?[" ()",`-  : ${D}`,`- (): ${P}`,`- (): ${I} (${U})`,`- / : ${W} (${q})`,""," ()",`-  : ${H}`,`- / : ${B} (${K})`,""," ",`-  (): ${w}`,`-  (): ${S}`,`- : ${j}`,`- (): ${O}`,`- (): ${Z}`,`- (): ${Y}`,`- ///: ${X}`,""]:[" ","- /   ",""],z=n&&r.length===0,V=z?BNe(p??null,b):null;return[" / .        .","",`: ${k}`,"",...ie," ",Q,"",...z?["(JSON)",JSON.stringify(V??{},null,2),""]:[],"",...ce,"","-     ","-        ","-    "].join(`
`)}const q5=[`1.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`2.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`3.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`4.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`5.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`6.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`7.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`8.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`9.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`10.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`11.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`12.  () 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`13.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`14.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`15.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`16.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`17.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`18.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`19.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`20.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`21.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`22.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`23.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`24.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`25.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`26.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`27.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`28.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`29.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`30.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + () -  
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`31.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`32.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`33.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`34.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`35.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + () -  
2() - () + ()
() - () +  +  + ()`,`36.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`37.  
 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`38.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + () -  
() - () +  +  + ()`,`39.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`40.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`41.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`42.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`43.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`44.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`45.  () 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`46.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`47.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + () -  
2() - () + ()
() - () +  + ()`,`48.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`49.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + () -  `,`50.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`51.  () (() )  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`52. () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`53.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`54.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + () -  
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`55.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`56.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`57.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`58.  () (() ) 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + () -  
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`59.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`60.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`61.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`62.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`63.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`64.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`];function UNe({saju:e,viewMeta:t,initialQuestion:n="",onBaseDateChange:r}){const[i,a]=_.useState(n),[o,l]=_.useState(""),[u,d]=_.useState("all"),[h,p]=_.useState("seun"),[b,y]=_.useState(()=>{const Me=new Date,it=new Date(Me.getFullYear(),0,1,9,0,0,0),Lt=new Date(Me.getFullYear()+9,11,31,9,0,0,0);return{startYMD:Ka(it),endYMD:Ka(Lt)}}),[k,w]=_.useState(()=>{const Me=new Date,it=new Date(Me.getFullYear(),Me.getMonth(),1,9,0,0,0),Lt=new Date(it);return Lt.setMonth(Lt.getMonth()+11),{startYMD:Ka(it),endYMD:Ka(Lt)}}),[S,j]=_.useState(()=>{const Me=new Date,it=new Date(Me.getFullYear(),Me.getMonth(),Me.getDate(),9,0,0,0),Lt=AH(it,6);return{startYMD:Ka(it),endYMD:Ka(Lt)}}),[O,A]=_.useState([]),[C,D]=_.useState(null),[P,I]=_.useState([]),[U,W]=_.useState(!1),[q,H]=_.useState(!1),[B,K]=_.useState(null),J=_.useRef(null),Z=_.useRef(null),Y=_.useRef(null);_.useEffect(()=>{a(n),l(n)},[n]),_.useEffect(()=>{I([])},[h,b.startYMD,b.endYMD,k.startYMD,k.endYMD,S.startYMD,S.endYMD]),_.useEffect(()=>{if(!B)return;const Me=window.setTimeout(()=>K(null),2200);return()=>window.clearTimeout(Me)},[B]);const X=_.useMemo(()=>{const Me=ga(b.startYMD);if(Me&&Me.getMonth()===0){const it=new Date(Me.getFullYear(),1,1,9,0,0,0);return{...b,startYMD:Ka(it)}}return b},[b]),Q=h,ce=_.useMemo(()=>Q?jH(Q,Q==="seun"?X:Q==="wolun"?k:S):new Date,[Q,S,X,k]);_.useEffect(()=>{r&&r(ce??null)},[ce,r]);const ie=_.useMemo(()=>wNe(e),[e]),z=_.useMemo(()=>`${o.trim()}::${ce.toISOString()}`,[ce,o]),V=_.useMemo(()=>ie?`${z}::SAJU::${ie}`:z,[z,ie]),ne=_.useMemo(()=>{const Me=wH(V);return _H(Me)},[V]),oe=_.useMemo(()=>h==="seun"?wk("seun",X):null,[h,X]),de=_.useMemo(()=>h==="wolun"?wk("wolun",k):null,[h,k]),me=_.useMemo(()=>h==="ilun"?wk("ilun",S):null,[h,S]),ye=_.useMemo(()=>{const Me=ga(b.startYMD);return Me?String(Me.getFullYear()):""},[b.startYMD]),Ne=_.useMemo(()=>{const Me=ga(b.endYMD);return Me?String(Me.getFullYear()):""},[b.endYMD]),ae=_.useMemo(()=>{const Me=ga(k.startYMD);if(!Me)return"";const it=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${it}`},[k.startYMD]),Ee=_.useMemo(()=>{const Me=ga(k.endYMD);if(!Me)return"";const it=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${it}`},[k.endYMD]),xe=_.useMemo(()=>{if(h==="seun"){const Me=oe?.seun[0];return Me?` ${Me.year} - ${Me.seun}`:""}if(h==="wolun"){const Me=de?.wolun[0];if(!Me)return"";const it=String(Me.month).padStart(2,"0");return` ${Me.year}-${it} - ${Me.seun} ${Me.wolun}`}if(h==="ilun"){const Me=me?.ilun[0];return Me?` ${Me.dateYMD} - ${Me.seun} ${Me.wolun} ${Me.ilun}`:""}return""},[h,oe,de,me]),se=_.useCallback((Me,it,Lt)=>{Me(wr=>({...wr,[it]:Lt}))},[]),Ue=_.useCallback((Me,it)=>{if(!it)return;const Lt=Number(it);if(!Number.isFinite(Lt))return;const wr=Math.trunc(Lt);y(ri=>({...ri,[Me]:`${wr}-06-15`}))},[]),Ke=_.useCallback((Me,it)=>{if(!it)return;const Lt=/^(\d{4})-(\d{2})$/.exec(it);Lt&&w(wr=>({...wr,[Me]:`${Lt[1]}-${Lt[2]}-15`}))},[]),Je=O.length===6,Oe=_.useMemo(()=>O.map(Me=>Hx(Me.value)),[O]),$e=_.useMemo(()=>O.map(Me=>xH(Me.value)),[O]),Fe=_.useMemo(()=>EH(O),[O]),Be=_.useMemo(()=>O.map(Me=>Me.value),[O]),bt=O.length>0||!!C,Rt=P.length>0,fe=o.trim().length>0,Ce=!fe||q||Rt||Je,Ge=!fe||U||bt||Rt||q,Se=_.useCallback(()=>{window.setTimeout(()=>{J.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),Pe=_.useCallback(()=>{window.setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),ze=_.useCallback(()=>{A([]),D(null),I([]),W(!1),H(!1),K(null)},[]),lt=_.useCallback(()=>o.trim()?!0:(alert("  !"),window.setTimeout(()=>{Y.current?.focus()},0),!1),[o]),gt=_.useCallback(()=>{if(!lt()||Ce)return;W(!0);let Me=0;A(it=>it.length>=6?it:(Me=it.length+1,[...it,RE(ne)])),window.setTimeout(()=>{if(W(!1),Me>=6){Se();return}Me>0&&K(`${Me}  !  ${Me+1} ?`)},350)},[lt,Ce,ne,Se]),Kt=_.useCallback(()=>{if(!lt()||Ce)return;W(!0);const Me=[];for(let it=0;it<6;it+=1)Me.push(RE(ne));A(Me),window.setTimeout(()=>{W(!1),Se()},350)},[lt,Ce,ne,Se]),Rr=_.useMemo(()=>{if(O.length!==6)return"";const Me=LE(O);if(typeof Me.number!="number")return"";const it=Me.number-1;return it<0||it>=q5.length?"":q5[it]??""},[O]),ar=_.useCallback(Me=>{A(it=>{if(Me<0||Me>=it.length)return it;const Lt=[...it],wr=Lt[Me];return Lt[Me]={value:xNe(wr.value),source:"manual"},Lt})},[]),or=_.useCallback(()=>{if(O.length!==6)return;const Me=(o.trim()||i.trim()).trim(),it={id:kH(),kind:"iching_sixyao",createdAtISO:SH(),question:Me,seedTextUsed:V,linesBottomUp:O,changingLines:Fe,baseBitsBottomUp:Oe,changedBitsBottomUp:$e,saju:e??void 0,viewMeta:t};D(it)},[Oe,$e,Fe,V,o,O,i,e,t]);_.useEffect(()=>{O.length===6&&or()},[or,O.length]);const sn=_.useMemo(()=>[{value:7,source:"manual"}].concat(Array.from({length:5},()=>({value:7,source:"manual"}))),[]),xr=_.useCallback(()=>{if(!lt()||Ge)return;H(!0);const Me=(o.trim()||i.trim()).trim(),it=INe({periodTab:h,seunPayload:oe,wolunPayload:de,ilunPayload:me,questionText:Me,sajuSeedPart:ie,saju:e,viewMeta:t});I(it),window.setTimeout(()=>{H(!1),Pe()},400)},[lt,Ge,o,me,h,i,e,ie,oe,t,de,Pe]),Et=_.useMemo(()=>zNe({selectedCardText:Rr,ready:Je,periodCards:P,finalQuestion:o,question:i,baseBits:Oe,changedBits:$e,changingIndexes:Fe,lineValues:Be,lines:O,saju:e,periodTab:h}),[Rr,Je,P,o,i,Oe,$e,Fe,Be,O,e,ce,oe,de,me,h]),Qi=_.useCallback(async()=>{if(Et)try{await navigator.clipboard.writeText(Et),alert("  !")}catch{alert("  .   .")}},[Et]),zf=_.useMemo(()=>{if(!Je)return null;const Me=IE(O),it=Me.leftTopDown.join(" "),Lt=Me.rightTopDown.join(" "),wr=Me.markers.map(ri=>`${ri.text}${ri.atLineTopDown}`).join(", ");return{liuQin:it,zhi:Lt,marks:wr}},[O,Je]);return{saju:e,question:i,setQuestion:a,finalQuestion:o,setFinalQuestion:l,questionInputRef:Y,drawMode:u,setDrawMode:d,periodTab:h,setPeriodTab:p,seunRange:b,setSeunRange:y,wolunRange:k,setWolunRange:w,ilunRange:S,setIlunRange:j,seunStartYear:ye,seunEndYear:Ne,wolunStartYM:ae,wolunEndYM:Ee,activePeriodLabel:xe,onRangeChange:se,onSeunYearChange:Ue,onWolunMonthChange:Ke,ready:Je,baseBits:Oe,changedBits:$e,changingIndexes:Fe,lineValues:Be,autoSideSummary:zf,selectedCardText:Rr,drawOne:gt,drawAll:Kt,reset:ze,onEditLine:ar,lines:O,record:C,periodCards:P,placeholderLines:sn,copyPrompt:Qi,isDrawing:U,isPeriodDrawing:q,toast:B,disableSingleDraw:Ce,disablePeriodDraw:Ge,resultRef:J,periodCardsRef:Z,buildPeriodCards:xr}}const FNe="DAN-GW4jrUdfiXklZ12U",HNe="DAN-CeRuC0yKzSAs5Gju";function GNe(e){const{saju:t,question:n,setQuestion:r,finalQuestion:i,setFinalQuestion:a,questionInputRef:o,drawMode:l,setDrawMode:u,lines:d,isDrawing:h,disableSingleDraw:p,selectedCardText:b,drawOne:y,drawAll:k,reset:w,copyPrompt:S,toast:j,resultRef:O}=UNe(e),A=b?b.split(/\r?\n/):[],C=A[0]??"",D=A.slice(1).join("\\n").trim(),P=d.length?[...d].reverse():[],I=A.map(U=>U.trim()).map(U=>{const W=/^(|5|4|3|2|)\((|)\)\s*-\s*(.+)$/.exec(U);if(!W)return null;const q=W[1],H=W[2],B=//.test(W[3]),J=W[3].replace(/\s*-\s*\s*?/g,"").trim().split(" + ").map(Q=>Q.trim()).filter(Boolean),Z=J.filter(Q=>Q===""||Q===""||Q===""||Q===""),Y=J.find(Q=>/\([]\)/.test(Q))??"",X=J.find(Q=>/\(.+\)/.test(Q)&&Q!==Y)??"";return{label:q,yinYang:H,liuQin:X,zhi:Y,markers:Z,hasDonghyo:B}}).filter(Boolean);return g.jsxs("div",{className:"w-full max-w-[768px] mx-auto pb-12 desk:pb-4 p-4",children:[g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"   ,     ."}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),t?g.jsxs("div",{className:"mt-1 text-sm text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.name?t.name:" ",t.gender?`  ${t.gender}`:""]}),t.pillarsText?g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.pillarsText]}):null]}):g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:""}),g.jsx("textarea",{ref:o,value:n,onChange:U=>r(U.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",placeholder:"      !"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("button",{type:"button",onClick:()=>a(n.trim()),className:"rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:" "}),g.jsxs("span",{children:[" : ",i.trim()?i:""]})]}),g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="all",onChange:()=>u("all")})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="step",onChange:()=>u("step")})," "]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:l==="all"?k:y,disabled:p||h,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200 cursor-pointer",children:l==="all"?" ":`1  (${d.length}/6)`}),g.jsx("button",{type:"button",onClick:w,className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:""}),h?g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("span",{children:" "}),g.jsx("span",{className:"animate-pulse",children:"..."})]}):null]})]})]}),g.jsxs("div",{className:"mt-4",ref:O,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(fu,{enabled:!0,adUnit:HNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(fu,{enabled:!0,adUnit:FNe,width:320,height:50})})]}),b?g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-gradient-to-b from-amber-50 to-white p-4 shadow-sm dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-950",children:g.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-[180px]",children:[g.jsx("div",{className:"rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm font-semibold text-amber-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:C}),g.jsxs("div",{className:"mt-3 rounded-xl border border-amber-200 bg-white px-3 py-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("div",{className:"mt-2 flex flex-col gap-2",children:P.map((U,W)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:6-W}),g.jsx(yNe,{yinYang:Hx(U.value),changing:!1,showChanging:!1})]},`line-${W}`))})]})]}),g.jsxs("div",{className:"flex-1 rounded-xl border border-amber-200 bg-white p-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"space-y-2",children:(I.length?I:[]).map(U=>g.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-amber-100 bg-amber-50/50 px-3 py-2 text-sm dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:[U.label," (",U.yinYang,")"]}),g.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-300",children:[U.liuQin||"-"," ",U.zhi?`  ${U.zhi}`:""]})]}),g.jsxs("div",{className:"flex flex-wrap gap-1 text-[10px] font-semibold text-amber-900 dark:text-neutral-200",children:[U.hasDonghyo&&g.jsx("span",{className:"rounded border border-red-200 bg-red-50 px-1.5 py-0.5 text-red-600 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300",children:""}),U.markers.map(W=>g.jsx("span",{className:"rounded border border-amber-200 bg-white px-1.5 py-0.5 dark:border-neutral-700 dark:bg-neutral-900",children:W},`${U.label}-${W}`))]})]},U.label))}),!I.length&&g.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-neutral-800 dark:text-neutral-100",children:D})]})]})}):g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"   ."})]}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsx("div",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:"   AI    ."}),b?g.jsx("button",{type:"button",onClick:S,className:"mt-3 w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:"AI   "}):g.jsx("div",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),j?g.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 w-[90%] max-w-sm -translate-x-1/2",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white px-4 py-3 text-sm text-neutral-900 shadow-lg dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",children:j})}):null]})}const YNe="DAN-INfSKh1pW2cEtWNu";function Cb(e){return!e?.stem||!e?.branch?"":`${e.stem}${e.branch}`}function qNe(e){const t=[e.year?`${e.year}`:"",e.month?`${e.month}`:"",e.day?`${e.day}`:"",e.hour?`${e.hour}`:""].filter(Boolean);return t.length?t.join(" "):""}function kk(e){if(typeof e!="string")return!1;const t=e.trim();return t===""||t===""||t===""||t==="self"||t===""||t===""}function KNe({current:e}){const t=Sy(h=>h.useDST),n=e.mingSikType,r=_.useMemo(()=>y2(e,t),[e,t]),[i,a]=_.useState(null),o=ei(h=>h.date),l=Zv(e,n,i??o??void 0),u=_.useMemo(()=>{const h={year:Cb(r.year),month:Cb(r.month),day:Cb(r.day),hour:Cb(r.hour)},p=e.ganjiText?.trim()||e.ganji?.trim()||qNe(h),b={daeun:l.dae.gz||void 0,seun:l.se.gz||void 0,wolun:l.wol.gz||void 0,ilun:l.il.gz||void 0};return{name:e.name||void 0,gender:e.gender||void 0,pillarsText:p,pillars:h,luck:b}},[e,l,r]),d=_.useMemo(()=>({sourceRoute:"/iching",currentId:e.id,currentName:e.name??null}),[e.id,e.name]);return g.jsx("div",{className:"py-2",children:g.jsx(GNe,{saju:u,viewMeta:d,onBaseDateChange:a},e.id)})}function WNe(){const e=xn(w=>w.list),t=xn(w=>w.loading),n=xn(w=>w.currentId),r=xn(w=>w.setCurrentId),i=Jl(),a=_.useRef(!1),[o,l]=_.useState(!1),u=_.useRef(!1),d=hn(w=>w.shouldShowAdsNow()),h=_.useMemo(()=>e.find(S=>kk(S.relationship))?.id??null,[e]);_.useEffect(()=>{if(t||e.length===0)return;const w=h??e[0]?.id??null;if(!a.current){w&&n!==w&&r(w),a.current=!0;return}n&&!e.some(S=>S.id===n)&&w&&r(w)},[t,e,n,h,r]),_.useEffect(()=>{t&&l(!0)},[t]);const p=_.useMemo(()=>e.find(w=>w.id===n)??null,[e,n]),b=_.useMemo(()=>p||(e.find(S=>kk(S.relationship))??e[0]??null),[p,e]),y=_.useMemo(()=>{const w=e.find(S=>kk(S.relationship));return w?[w,...e.filter(S=>S.id!==w.id)]:e},[e]);_.useEffect(()=>{o&&(t||e.length>0||u.current||(u.current=!0,alert("   .  ."),i("/",{replace:!0})))},[o,e.length,t,i]),_.useEffect(()=>{let w=!0;De.auth.getSession().then(({data:j})=>{w&&(j.session?.user||i("/",{replace:!0}))});const{data:S}=De.auth.onAuthStateChange((j,O)=>{O?.user||i("/",{replace:!0})});return()=>{w=!1,S.subscription.unsubscribe()}},[i]);const k=_.useMemo(()=>n||h||(e[0]?.id??""),[n,h,e]);return g.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-950",children:[g.jsx(hH,{enabled:d}),d&&g.jsx(yH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(mH,{enabled:d,adUnit:YNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsxs("div",{className:"w-full max-w-[768px] mx-auto px-4 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"    ."})]}),g.jsx(qE,{to:"/",className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800",children:""})]}),e.length>0&&g.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("select",{className:"w-full sm:w-[320px] rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",value:k,onChange:w=>{const S=w.target.value;S&&r(S)},children:[g.jsx("option",{value:"",disabled:!0,children:""}),y.map(w=>g.jsx("option",{value:w.id,children:w.name?.trim()?w.name:" "},w.id))]})]})]}),t&&e.length===0&&g.jsx("div",{className:"w-full max-w-[768px] mx-auto px-4 py-10",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:" .."})}),b&&g.jsx(KNe,{current:b})]})}function VNe(e){return typeof e=="object"&&e!==null}function ZNe(e){if(!VNe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function OH({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=_.useRef(!1),o=_.useRef(""),l=_.useRef(!1),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(0);return _.useEffect(()=>{o.current=n??""},[n]),_.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await De.auth.getSession();u.current=k.session?.user?.id??null;const S=De.auth.onAuthStateChange((j,O)=>{u.current=O?.user?.id??null,l.current=!1}).data?.subscription;S&&typeof S.unsubscribe=="function"&&(b=()=>S.unsubscribe())})(),()=>{b&&b()}},[]),_.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const S=Date.now();if(!(w!=="init"&&S-p.current<1e4)&&(p.current=S,!a.current)){a.current=!0;try{if(!u.current)return;const O=o.current||null,{data:A,error:C}=await De.rpc("ping_activity",{p_last_path:O});if(C)return;const D=ZNe(A);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const y=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},y);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function XNe(){const e=xn(a=>a.loadFromServer),t=xn(a=>a.migrateLocalToServer),n=wn(a=>a.loadFromServer),r=hn(a=>a.loadFromServer),i=_.useCallback(async()=>{await t(),await Promise.all([r(),n(),e()])},[t,r,n,e]);return _.useEffect(()=>{i();const{data:a}=De.auth.onAuthStateChange(o=>{o==="TOKEN_REFRESHED"||o==="INITIAL_SESSION"||i()});return()=>{a.subscription.unsubscribe()}},[i]),null}function JNe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function QNe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function eOe(e){return e<=0?0:Math.floor(Math.random()*e)}function tOe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=_.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=_.useState(!1),[h,p]=_.useState(()=>eOe(n.length)),b=_.useRef(null),y=_.useCallback(S=>{if(typeof document>"u")return;const j=`${Math.max(0,Math.floor(S))}px`;document.documentElement.style.setProperty(o,j)},[o]);if(_.useEffect(()=>{if(n.length<=0){p(0);return}p(S=>S%n.length)},[n.length]),_.useEffect(()=>{if(!e){d(!1);return}const S=JNe(l),j=Date.now();if(S>j){d(!1);return}const O=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(O)},[e,l]),_.useEffect(()=>{if(!e||!u||n.length<=1)return;const S=window.setInterval(()=>{p(j=>j+1>=n.length?0:j+1)},i);return()=>window.clearInterval(S)},[e,u,n.length,i]),_.useEffect(()=>{if(!e||!u){y(0);return}const S=b.current;if(!S){y(0);return}const j=()=>{const O=Math.ceil(S.getBoundingClientRect().height);y(O)};if(j(),typeof ResizeObserver<"u"){const O=new ResizeObserver(j);return O.observe(S),()=>{O.disconnect(),y(0)}}return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),y(0)}},[e,u,y]),!e)return null;const k=()=>{QNe(l,Date.now()+r*60*60*1e3),d(!1),y(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(cy,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(cy,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function nOe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function rOe({open:e,onClose:t}){const n=_.useMemo(()=>nOe(48),[]);return _.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function K5(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function iOe(){const e=Gr(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=_.useState(!1),a=hn(b=>b.loaded),o=hn(b=>b.loading),l=hn(b=>b.userId),u=hn(b=>K5(b.plan)),d=_.useRef(!1);_.useEffect(()=>{n&&(a||o||hn.getState().loadFromServer())},[n,a,o]);const h=_.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:y}=await De.rpc("mark_basic_celebrated");if(y){console.warn("[basic celebration] rpc error:",y.message);return}b===!0&&i(!0)},[]);_.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=_.useCallback(()=>{(async()=>(await hn.getState().loadFromServer(),K5(hn.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(OH,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(tOe,{enabled:n}),g.jsx(rOe,{open:r,onClose:()=>i(!1)})]})}function aOe(e){return typeof e=="object"&&e!==null}function oOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!aOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function sOe(){const e=Jl(),t=Gr(),n=_.useRef(!1);return _.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await De.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await De.rpc("get_my_account_status");if(!d){!!oOe(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await De.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=De.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function lOe(e){return typeof e=="object"&&e!==null}function cOe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!lOe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const uOe=Go((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await De.rpc("get_my_account_status");if(!a){const d=cOe(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await De.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function dOe(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function fOe(){const e=uOe(n=>n.disabledAt),t=_.useCallback(async()=>{try{await De.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:dOe(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function hOe(){const e=Gr();return _.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(XNe,{}),g.jsx(iOe,{}),g.jsx(sOe,{}),g.jsx(OH,{}),g.jsxs(VY,{children:[g.jsx(Ha,{path:"/auth/callback",element:g.jsx(bNe,{})}),g.jsx(Ha,{path:"/disabled",element:g.jsx(fOe,{})}),g.jsx(Ha,{path:"/iching",element:g.jsx(WNe,{})}),g.jsx(Ha,{path:"/",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/faq",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/couple",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/result",element:g.jsx(Ob,{})}),g.jsx(Ha,{path:"/admin/*",element:g.jsx(IF,{})}),g.jsx(Ha,{path:"/impersonate",element:g.jsx(gNe,{})}),g.jsx(Ha,{path:"*",element:g.jsx(KY,{to:"/",replace:!0})})]})]})}tY.createRoot(document.getElementById("root")).render(g.jsx(yq,{children:g.jsx(hOe,{})}));
