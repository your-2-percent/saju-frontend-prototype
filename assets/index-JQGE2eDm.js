function Hk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var uw={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function oH(){if(zN)return Sh;zN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Sh.Fragment=t,Sh.jsx=n,Sh.jsxs=n,Sh}var UN;function sH(){return UN||(UN=1,uw.exports=oH()),uw.exports}var v=sH();const R3="harim.theme",HS="harim.settings.v1";function L3(){try{const e=localStorage.getItem(R3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(HS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function I3(e){try{localStorage.setItem(R3,e);const t=localStorage.getItem(HS),n=t?JSON.parse(t):{};localStorage.setItem(HS,JSON.stringify({...n,theme:e}))}catch{}}function $3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=L3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$3(e)}catch{}})();var dw={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function lH(){if(FN)return rt;FN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function T(B,W,ae){this.props=B,this.context=W,this.refs=E,this.updater=ae||w}T.prototype.isReactComponent={},T.prototype.setState=function(B,W){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,W,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=T.prototype;function O(B,W,ae){this.props=B,this.context=W,this.refs=E,this.updater=ae||w}var P=O.prototype=new N;P.constructor=O,_(P,T.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function D(){}var $={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(B,W,ae){var Z=ae.ref;return{$$typeof:e,type:B,key:W,ref:Z!==void 0?Z:null,props:ae}}function K(B,W){return q(B.type,W,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var W={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return W[ae]})}var V=/\/+/g;function J(B,W){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):W.toString(36)}function Q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(W){B.status==="pending"&&(B.status="fulfilled",B.value=W)},function(W){B.status==="pending"&&(B.status="rejected",B.reason=W)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Y(B,W,ae,Z,oe){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case h:return pe=B._init,Y(pe(B._payload),W,ae,Z,oe)}}if(pe)return oe=oe(B),pe=Z===""?"."+J(B,0):Z,M(oe)?(ae="",pe!=null&&(ae=pe.replace(V,"$&/")+"/"),Y(oe,W,ae,"",function(Oe){return Oe})):oe!=null&&(U(oe)&&(oe=K(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+pe)),W.push(oe)),1;pe=0;var be=Z===""?".":Z+":";if(M(B))for(var ne=0;ne<B.length;ne++)Z=B[ne],me=be+J(Z,ne),pe+=Y(Z,W,ae,me,oe);else if(ne=x(B),typeof ne=="function")for(B=ne.call(B),ne=0;!(Z=B.next()).done;)Z=Z.value,me=be+J(Z,ne++),pe+=Y(Z,W,ae,me,oe);else if(me==="object"){if(typeof B.then=="function")return Y(Q(B),W,ae,Z,oe);throw W=String(B),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(B,W,ae){if(B==null)return B;var Z=[],oe=0;return Y(B,Z,"","",function(me){return W.call(ae,me,oe++)}),Z}function re(B){if(B._status===-1){var W=B._result;W=W(),W.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=W)}if(B._status===1)return B._result.default;throw B._result}var ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:X,forEach:function(B,W,ae){X(B,function(){W.apply(this,arguments)},ae)},count:function(B){var W=0;return X(B,function(){W++}),W},toArray:function(B){return X(B,function(W){return W})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return rt.Activity=p,rt.Children=se,rt.Component=T,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=u,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,rt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},rt.cache=function(B){return function(){return B.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(B,W,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Z=_({},B.props),oe=B.key;if(W!=null)for(me in W.key!==void 0&&(oe=""+W.key),W)!H.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(Z[me]=W[me]);var me=arguments.length-2;if(me===1)Z.children=ae;else if(1<me){for(var pe=Array(me),be=0;be<me;be++)pe[be]=arguments[be+2];Z.children=pe}return q(B.type,oe,Z)},rt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},rt.createElement=function(B,W,ae){var Z,oe={},me=null;if(W!=null)for(Z in W.key!==void 0&&(me=""+W.key),W)H.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=W[Z]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var be=Array(pe),ne=0;ne<pe;ne++)be[ne]=arguments[ne+2];oe.children=be}if(B&&B.defaultProps)for(Z in pe=B.defaultProps,pe)oe[Z]===void 0&&(oe[Z]=pe[Z]);return q(B,me,oe)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:c,render:B}},rt.isValidElement=U,rt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:re}},rt.memo=function(B,W){return{$$typeof:f,type:B,compare:W===void 0?null:W}},rt.startTransition=function(B){var W=$.T,ae={};$.T=ae;try{var Z=B(),oe=$.S;oe!==null&&oe(ae,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(D,ue)}catch(me){ue(me)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),$.T=W}},rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},rt.use=function(B){return $.H.use(B)},rt.useActionState=function(B,W,ae){return $.H.useActionState(B,W,ae)},rt.useCallback=function(B,W){return $.H.useCallback(B,W)},rt.useContext=function(B){return $.H.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B,W){return $.H.useDeferredValue(B,W)},rt.useEffect=function(B,W){return $.H.useEffect(B,W)},rt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},rt.useId=function(){return $.H.useId()},rt.useImperativeHandle=function(B,W,ae){return $.H.useImperativeHandle(B,W,ae)},rt.useInsertionEffect=function(B,W){return $.H.useInsertionEffect(B,W)},rt.useLayoutEffect=function(B,W){return $.H.useLayoutEffect(B,W)},rt.useMemo=function(B,W){return $.H.useMemo(B,W)},rt.useOptimistic=function(B,W){return $.H.useOptimistic(B,W)},rt.useReducer=function(B,W,ae){return $.H.useReducer(B,W,ae)},rt.useRef=function(B){return $.H.useRef(B)},rt.useState=function(B){return $.H.useState(B)},rt.useSyncExternalStore=function(B,W,ae){return $.H.useSyncExternalStore(B,W,ae)},rt.useTransition=function(){return $.H.useTransition()},rt.version="19.2.1",rt}var HN;function Jd(){return HN||(HN=1,dw.exports=lH()),dw.exports}var S=Jd();const Wt=di(S),cH=Hk({__proto__:null,default:Wt},[S]);var fw={exports:{}},Eh={},hw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function uH(){return GN||(GN=1,(function(e){function t(Y,X){var re=Y.length;Y.push(X);e:for(;0<re;){var ue=re-1>>>1,se=Y[ue];if(0<i(se,X))Y[ue]=X,Y[re]=se,re=ue;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var X=Y[0],re=Y.pop();if(re!==X){Y[0]=re;e:for(var ue=0,se=Y.length,B=se>>>1;ue<B;){var W=2*(ue+1)-1,ae=Y[W],Z=W+1,oe=Y[Z];if(0>i(ae,re))Z<se&&0>i(oe,ae)?(Y[ue]=oe,Y[Z]=re,ue=Z):(Y[ue]=ae,Y[W]=re,ue=W);else if(Z<se&&0>i(oe,re))Y[ue]=oe,Y[Z]=re,ue=Z;else break e}}return X}function i(Y,X){var re=Y.sortIndex-X.sortIndex;return re!==0?re:Y.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],h=1,p=null,g=3,x=!1,w=!1,_=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=Y)r(f),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(f)}}function M(Y){if(_=!1,P(Y),!w)if(n(u)!==null)w=!0,D||(D=!0,z());else{var X=n(f);X!==null&&Q(M,X.startTime-Y)}}var D=!1,$=-1,H=5,q=-1;function K(){return E?!0:!(e.unstable_now()-q<H)}function U(){if(E=!1,D){var Y=e.unstable_now();q=Y;var X=!0;try{e:{w=!1,_&&(_=!1,N($),$=-1),x=!0;var re=g;try{t:{for(P(Y),p=n(u);p!==null&&!(p.expirationTime>Y&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var se=ue(p.expirationTime<=Y);if(Y=e.unstable_now(),typeof se=="function"){p.callback=se,P(Y),X=!0;break t}p===n(u)&&r(u),P(Y)}else r(u);p=n(u)}if(p!==null)X=!0;else{var B=n(f);B!==null&&Q(M,B.startTime-Y),X=!1}}break e}finally{p=null,g=re,x=!1}X=void 0}}finally{X?z():D=!1}}}var z;if(typeof O=="function")z=function(){O(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=U,z=function(){J.postMessage(null)}}else z=function(){T(U,0)};function Q(Y,X){$=T(function(){Y(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var re=g;g=X;try{return Y()}finally{g=re}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=g;g=Y;try{return X()}finally{g=re}},e.unstable_scheduleCallback=function(Y,X,re){var ue=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ue+re:ue):re=ue,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,Y={id:h++,callback:X,priorityLevel:Y,startTime:re,expirationTime:se,sortIndex:-1},re>ue?(Y.sortIndex=re,t(f,Y),n(u)===null&&Y===n(f)&&(_?(N($),$=-1):_=!0,Q(M,re-ue))):(Y.sortIndex=se,t(u,Y),w||x||(w=!0,D||(D=!0,z()))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var X=g;return function(){var re=g;g=X;try{return Y.apply(this,arguments)}finally{g=re}}}})(mw)),mw}var qN;function dH(){return qN||(qN=1,hw.exports=uH()),hw.exports}var pw={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN;function fH(){if(YN)return Sr;YN=1;var e=Jd();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,h)},Sr.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Sr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Sr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Sr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Sr.requestFormReset=function(u){r.d.r(u)},Sr.unstable_batchedUpdates=function(u,f){return u(f)},Sr.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sr.version="19.2.1",Sr}var KN;function B3(){if(KN)return pw.exports;KN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pw.exports=fH(),pw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function hH(){if(WN)return Eh;WN=1;var e=dH(),t=Jd(),n=B3();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,m=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(m=l.return),s=l.return;while(s)}return l.tag===3?m:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var m=s,b=l;;){var A=m.return;if(A===null)break;var j=A.alternate;if(j===null){if(b=A.return,b!==null){m=b;continue}break}if(A.child===j.child){for(j=A.child;j;){if(j===m)return u(A),s;if(j===b)return u(A),l;j=j.sibling}throw Error(r(188))}if(m.return!==b.return)m=A,b=j;else{for(var I=!1,G=A.child;G;){if(G===m){I=!0,m=A,b=j;break}if(G===b){I=!0,b=A,m=j;break}G=G.sibling}if(!I){for(G=j.child;G;){if(G===m){I=!0,m=j,b=A;break}if(G===b){I=!0,b=j,m=A;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:l}function h(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=h(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case O:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case P:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return l=s.displayName||null,l!==null?l:J(s.type)||"Memo";case H:l=s._payload,s=s._init;try{return J(s(l))}catch{}}return null}var Q=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function B(s){return{current:s}}function W(s){0>se||(s.current=ue[se],ue[se]=null,se--)}function ae(s,l){se++,ue[se]=s.current,s.current=l}var Z=B(null),oe=B(null),me=B(null),pe=B(null);function be(s,l){switch(ae(me,l),ae(oe,s),ae(Z,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?cN(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=cN(l),s=uN(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(Z),ae(Z,s)}function ne(){W(Z),W(oe),W(me)}function Oe(s){s.memoizedState!==null&&ae(pe,s);var l=Z.current,m=uN(l,s.type);l!==m&&(ae(oe,s),ae(Z,m))}function Ce(s){oe.current===s&&(W(Z),W(oe)),pe.current===s&&(W(pe),vh._currentValue=re)}var ve,Ze;function Ne(s){if(ve===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);ve=l&&l[1]||"",Ze=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+s+Ze}var _e=!1;function je(s,l){if(!s||_e)return"";_e=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(l){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(xe){var ye=xe}Reflect.construct(s,[],Te)}else{try{Te.call()}catch(xe){ye=xe}s.call(Te.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Te=s())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=b.DetermineComponentFrameRoot(),I=j[0],G=j[1];if(I&&G){var te=I.split(`
`),he=G.split(`
`);for(A=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;A<he.length&&!he[A].includes("DetermineComponentFrameRoot");)A++;if(b===te.length||A===he.length)for(b=te.length-1,A=he.length-1;1<=b&&0<=A&&te[b]!==he[A];)A--;for(;1<=b&&0<=A;b--,A--)if(te[b]!==he[A]){if(b!==1||A!==1)do if(b--,A--,0>A||te[b]!==he[A]){var Ee=`
`+te[b].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=b&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ne(m):""}function Ie(s,l){switch(s.tag){case 26:case 27:case 5:return Ne(s.type);case 16:return Ne("Lazy");case 13:return s.child!==l&&l!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(s.type,!1);case 11:return je(s.type.render,!1);case 1:return je(s.type,!0);case 31:return Ne("Activity");default:return""}}function Ve(s){try{var l="",m=null;do l+=Ie(s,m),m=s,s=s.return;while(s);return l}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var bt=Object.prototype.hasOwnProperty,xt=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,fe=e.unstable_shouldYield,Me=e.unstable_requestPaint,Be=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,mi=e.unstable_LowPriority,pi=e.unstable_IdlePriority,Cs=e.log,Ms=e.unstable_setDisableYieldValue,qt=null,hn=null;function gi(s){if(typeof Cs=="function"&&Ms(s),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(qt,s)}catch{}}var Or=Math.clz32?Math.clz32:gx,Ll=Math.log,px=Math.LN2;function gx(s){return s>>>=0,s===0?32:31-(Ll(s)/px|0)|0}var Il=256,$l=262144,Bl=4194304;function No(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function uu(s,l,m){var b=s.pendingLanes;if(b===0)return 0;var A=0,j=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=b&134217727;return G!==0?(b=G&~j,b!==0?A=No(b):(I&=G,I!==0?A=No(I):m||(m=G&~s,m!==0&&(A=No(m))))):(G=b&~j,G!==0?A=No(G):I!==0?A=No(I):m||(m=b&~s,m!==0&&(A=No(m)))),A===0?0:l!==0&&l!==A&&(l&j)===0&&(j=A&-A,m=l&-l,j>=m||j===32&&(m&4194048)!==0)?l:A}function zl(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function yx(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tp(){var s=Bl;return Bl<<=1,(Bl&62914560)===0&&(Bl=4194304),s}function _f(s){for(var l=[],m=0;31>m;m++)l.push(s);return l}function Co(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function bx(s,l,m,b,A,j){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,he=s.hiddenUpdates;for(m=I&~m;0<m;){var Ee=31-Or(m),Te=1<<Ee;G[Ee]=0,te[Ee]=-1;var ye=he[Ee];if(ye!==null)for(he[Ee]=null,Ee=0;Ee<ye.length;Ee++){var xe=ye[Ee];xe!==null&&(xe.lane&=-536870913)}m&=~Te}b!==0&&Op(s,b,0),j!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=j&~(I&~l))}function Op(s,l,m){s.pendingLanes|=l,s.suspendedLanes&=~l;var b=31-Or(l);s.entangledLanes|=l,s.entanglements[b]=s.entanglements[b]|1073741824|m&261930}function jp(s,l){var m=s.entangledLanes|=l;for(s=s.entanglements;m;){var b=31-Or(m),A=1<<b;A&l|s[b]&l&&(s[b]|=l),m&=~A}}function Np(s,l){var m=l&-l;return m=(m&42)!==0?1:Hr(m),(m&(s.suspendedLanes|l))!==0?0:m}function Hr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function wf(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:PN(s.type))}function Sf(s,l){var m=X.p;try{return X.p=s,l()}finally{X.p=m}}var xa=Math.random().toString(36).slice(2),An="__reactFiber$"+xa,Xn="__reactProps$"+xa,Mo="__reactContainer$"+xa,Ka="__reactEvents$"+xa,Cp="__reactListeners$"+xa,vx="__reactHandles$"+xa,Mp="__reactResources$"+xa,Ul="__reactMarker$"+xa;function Ef(s){delete s[An],delete s[Xn],delete s[Ka],delete s[Cp],delete s[vx]}function Po(s){var l=s[An];if(l)return l;for(var m=s.parentNode;m;){if(l=m[Mo]||m[An]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(s=yN(s);s!==null;){if(m=s[An])return m;s=yN(s)}return l}s=m,m=s.parentNode}return null}function Ps(s){if(s=s[An]||s[Mo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Wa(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Ds(s){var l=s[Mp];return l||(l=s[Mp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Tn(s){s[Ul]=!0}var Pp=new Set,Dp={};function Do(s,l){Va(s,l),Va(s+"Capture",l)}function Va(s,l){for(Dp[s]=l,s=0;s<l.length;s++)Pp.add(l[s])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Af={};function Hl(s){return bt.call(Af,s)?!0:bt.call(kf,s)?!1:Fl.test(s)?Af[s]=!0:(kf[s]=!0,!1)}function ct(s,l,m){if(Hl(l))if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var b=l.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+m)}}function It(s,l,m){if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+m)}}function Gr(s,l,m,b){if(b===null)s.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(l,m,""+b)}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ro(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Tf(s,l,m){var b=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var A=b.get,j=b.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,j.call(this,I)}}),Object.defineProperty(s,l,{enumerable:b.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function nt(s){if(!s._valueTracker){var l=Ro(s)?"checked":"value";s._valueTracker=Tf(s,l,""+s[l])}}function en(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var m=l.getValue(),b="";return s&&(b=Ro(s)?s.checked?"true":"false":s.value),s=b,s!==m?(l.setValue(s),!0):!1}function Rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var du=/[\n"\\]/g;function Zt(s){return s.replace(du,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Of(s,l,m,b,A,j,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+In(l)):s.value!==""+In(l)&&(s.value=""+In(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?_a(s,I,In(l)):m!=null?_a(s,I,In(m)):b!=null&&s.removeAttribute("value"),A==null&&j!=null&&(s.defaultChecked=!!j),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+In(G):s.removeAttribute("name")}function Gl(s,l,m,b,A,j,I,G){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.type=j),l!=null||m!=null){if(!(j!=="submit"&&j!=="reset"||l!=null)){nt(s);return}m=m!=null?""+In(m):"",l=l!=null?""+In(l):m,G||l===s.value||(s.value=l),s.defaultValue=l}b=b??A,b=typeof b!="function"&&typeof b!="symbol"&&!!b,s.checked=G?s.checked:!!b,s.defaultChecked=!!b,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),nt(s)}function _a(s,l,m){l==="number"&&Rs(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function Ut(s,l,m,b){if(s=s.options,l){l={};for(var A=0;A<m.length;A++)l["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=l.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&b&&(s[m].defaultSelected=!0)}else{for(m=""+In(m),l=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,b&&(s[A].defaultSelected=!0);return}l!==null||s[A].disabled||(l=s[A])}l!==null&&(l.selected=!0)}}function Za(s,l,m){if(l!=null&&(l=""+In(l),l!==s.value&&(s.value=l),m==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=m!=null?""+In(m):""}function Ls(s,l,m,b){if(l==null){if(b!=null){if(m!=null)throw Error(r(92));if(Q(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),l=m}m=In(l),s.defaultValue=m,b=s.textContent,b===m&&b!==""&&b!==null&&(s.value=b),nt(s)}function Gi(s,l){if(l){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=l;return}}s.textContent=l}var jf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Is(s,l,m){var b=l.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":b?s.setProperty(l,m):typeof m!="number"||m===0||jf.has(l)?l==="float"?s.cssFloat=m:s[l]=(""+m).trim():s[l]=m+"px"}function fu(s,l,m){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||l!=null&&l.hasOwnProperty(b)||(b.indexOf("--")===0?s.setProperty(b,""):b==="float"?s.cssFloat="":s[b]="");for(var A in l)b=l[A],l.hasOwnProperty(A)&&m[A]!==b&&Is(s,A,b)}else for(var j in l)l.hasOwnProperty(j)&&Is(s,j,l[j])}function ql(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(s){return Nf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function qr(){}var mu=null;function Yl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bs=null,tt=null;function yi(s){var l=Ps(s);if(l&&(s=l.stateNode)){var m=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Of(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),l=m.name,m.type==="radio"&&l!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Zt(""+l)+'"][type="radio"]'),l=0;l<m.length;l++){var b=m[l];if(b!==s&&b.form===s.form){var A=b[Xn]||null;if(!A)throw Error(r(90));Of(b,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<m.length;l++)b=m[l],b.form===s.form&&en(b)}break e;case"textarea":Za(s,m.value,m.defaultValue);break e;case"select":l=m.value,l!=null&&Ut(s,!!m.multiple,l,!1)}}}var Nt=!1;function Cf(s,l,m){if(Nt)return s(l,m);Nt=!0;try{var b=s(l);return b}finally{if(Nt=!1,(Bs!==null||tt!==null)&&(Ng(),Bs&&(l=Bs,s=tt,tt=Bs=null,yi(l),s)))for(l=0;l<s.length;l++)yi(s[l])}}function Lo(s,l){var m=s.stateNode;if(m===null)return null;var b=m[Xn]||null;if(b===null)return null;m=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(s=s.type,b=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!b;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,l,typeof m));return m}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(bi)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Kl=!1}var qi=null,Io=null,mn=null;function Xa(){if(mn)return mn;var s,l=Io,m=l.length,b,A="value"in qi?qi.value:qi.textContent,j=A.length;for(s=0;s<m&&l[s]===A[s];s++);var I=m-s;for(b=1;b<=I&&l[m-b]===A[j-b];b++);return mn=A.slice(s,1<b?1-b:void 0)}function Wl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Vl(){return!0}function Rp(){return!1}function cr(s){function l(m,b,A,j,I){this._reactName=m,this._targetInst=A,this.type=b,this.nativeEvent=j,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(j):j[G]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vl:Rp,this.isPropagationStopped=Rp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),l}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=cr(wa),zs=p({},wa,{view:0,detail:0}),ht=cr(zs),Mf,jr,Sa,Zl=p({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$f,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Sa&&(Sa&&s.type==="mousemove"?(Mf=s.screenX-Sa.screenX,jr=s.screenY-Sa.screenY):jr=Mf=0,Sa=s),Mf)},movementY:function(s){return"movementY"in s?s.movementY:jr}}),Lp=cr(Zl),Pf=p({},Zl,{dataTransfer:0}),xx=cr(Pf),Ip=p({},zs,{relatedTarget:0}),Df=cr(Ip),_x=p({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Rf=cr(_x),wx=p({},wa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yi=cr(wx),Sx=p({},wa,{data:0}),Lf=cr(Sx),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Bp[s])?!!l[s]:!1}function $f(){return If}var zp=p({},zs,{key:function(s){if(s.key){var l=Ja[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Wl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$p[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$f,charCode:function(s){return s.type==="keypress"?Wl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Up=cr(zp),Ex=p({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=cr(Ex),Bf=p({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$f}),kx=cr(Bf),Hp=p({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=cr(Hp),gu=p({},Zl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=cr(gu),Ax=p({},wa,{newState:0,oldState:0}),Xl=cr(Ax),Yr=[9,13,27,32],yu=bi&&"CompositionEvent"in window,Us=null;bi&&"documentMode"in document&&(Us=document.documentMode);var Tx=bi&&"TextEvent"in window&&!Us,bu=bi&&(!yu||Us&&8<Us&&11>=Us),vu=" ",qp=!1;function Yp(s,l){switch(s){case"keyup":return Yr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fs=!1;function xi(s,l){switch(s){case"compositionend":return zf(l);case"keypress":return l.which!==32?null:(qp=!0,vu);case"textInput":return s=l.data,s===vu&&qp?null:s;default:return null}}function Hs(s,l){if(Fs)return s==="compositionend"||!yu&&Yp(s,l)?(s=Xa(),mn=Io=qi=null,Fs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return bu&&l.locale!=="ko"?null:l.data;default:return null}}var Ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ki(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Ox[s.type]:l==="textarea"}function Kp(s,l,m,b){Bs?tt?tt.push(b):tt=[b]:Bs=b,l=Ig(l,"onChange"),0<l.length&&(m=new pu("onChange","change",null,m,b),s.push({event:m,listeners:l}))}var Wi=null,Jl=null;function Ql(s){rN(s,0)}function ec(s){var l=Wa(s);if(en(l))return s}function tc(s,l){if(s==="change")return l}var Wp=!1;if(bi){var Vi;if(bi){var Gs="oninput"in document;if(!Gs){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Gs=typeof Vp.oninput=="function"}Vi=Gs}else Vi=!1;Wp=Vi&&(!document.documentMode||9<document.documentMode)}function xu(){Wi&&(Wi.detachEvent("onpropertychange",Zp),Jl=Wi=null)}function Zp(s){if(s.propertyName==="value"&&ec(Jl)){var l=[];Kp(l,Jl,s,Yl(s)),Cf(Ql,l)}}function Ea(s,l,m){s==="focusin"?(xu(),Wi=l,Jl=m,Wi.attachEvent("onpropertychange",Zp)):s==="focusout"&&xu()}function jx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ec(Jl)}function qs(s,l){if(s==="click")return ec(l)}function Nx(s,l){if(s==="input"||s==="change")return ec(l)}function ka(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Jn=typeof Object.is=="function"?Object.is:ka;function Ys(s,l){if(Jn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var m=Object.keys(s),b=Object.keys(l);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var A=m[b];if(!bt.call(l,A)||!Jn(s[A],l[A]))return!1}return!0}function _u(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nc(s,l){var m=_u(s);s=0;for(var b;m;){if(m.nodeType===3){if(b=s+m.textContent.length,s<=l&&b>=l)return{node:m,offset:l-s};s=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_u(m)}}function wu(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?wu(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function rc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Rs(s.document);l instanceof s.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)s=l.contentWindow;else break;l=Rs(s.document)}return l}function Qa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Su=bi&&"documentMode"in document&&11>=document.documentMode,eo=null,Eu=null,ic=null,Ks=!1;function Xp(s,l,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ks||eo==null||eo!==Rs(b)||(b=eo,"selectionStart"in b&&Qa(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ic&&Ys(ic,b)||(ic=b,b=Ig(Eu,"onSelect"),0<b.length&&(l=new pu("onSelect","select",null,l,m),s.push({event:l,listeners:b}),l.target=eo)))}function to(s,l){var m={};return m[s.toLowerCase()]=l.toLowerCase(),m["Webkit"+s]="webkit"+l,m["Moz"+s]="moz"+l,m}var Ws={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},ku={},Jp={};bi&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Qn(s){if(ku[s])return ku[s];if(!Ws[s])return s;var l=Ws[s],m;for(m in l)if(l.hasOwnProperty(m)&&m in Jp)return ku[s]=l[m];return s}var ac=Qn("animationend"),Qp=Qn("animationiteration"),oc=Qn("animationstart"),Cx=Qn("transitionrun"),eg=Qn("transitionstart"),Mx=Qn("transitioncancel"),Vs=Qn("transitionend"),tg=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function Kr(s,l){tg.set(s,l),Do(l,[s])}var sc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wr=[],_r=0,Au=0;function lc(){for(var s=_r,l=Au=_r=0;l<s;){var m=Wr[l];Wr[l++]=null;var b=Wr[l];Wr[l++]=null;var A=Wr[l];Wr[l++]=null;var j=Wr[l];if(Wr[l++]=null,b!==null&&A!==null){var I=b.pending;I===null?A.next=A:(A.next=I.next,I.next=A),b.pending=A}j!==0&&Zs(m,A,j)}}function ro(s,l,m,b){Wr[_r++]=s,Wr[_r++]=l,Wr[_r++]=m,Wr[_r++]=b,Au|=b,s.lanes|=b,s=s.alternate,s!==null&&(s.lanes|=b)}function Uf(s,l,m,b){return ro(s,l,m,b),cc(s)}function Zi(s,l){return ro(s,null,null,l),cc(s)}function Zs(s,l,m){s.lanes|=m;var b=s.alternate;b!==null&&(b.lanes|=m);for(var A=!1,j=s.return;j!==null;)j.childLanes|=m,b=j.alternate,b!==null&&(b.childLanes|=m),j.tag===22&&(s=j.stateNode,s===null||s._visibility&1||(A=!0)),s=j,j=j.return;return s.tag===3?(j=s.stateNode,A&&l!==null&&(A=31-Or(m),s=j.hiddenUpdates,b=s[A],b===null?s[A]=[l]:b.push(l),l.lane=m|536870912),j):null}function cc(s){if(50<fh)throw fh=0,D_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Bo={};function Px(s,l,m,b){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,l,m,b){return new Px(s,l,m,b)}function Tu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xi(s,l){var m=s.alternate;return m===null?(m=wr(s.tag,l,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=l,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,l=s.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function Ff(s,l){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,l=m.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function uc(s,l,m,b,A,j){var I=0;if(b=s,typeof s=="function")Tu(s)&&(I=1);else if(typeof s=="string")I=WF(s,m,Z.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=wr(31,m,l,A),s.elementType=q,s.lanes=j,s;case _:return zo(m.children,A,j,l);case E:I=8,A|=24;break;case T:return s=wr(12,m,l,A|2),s.elementType=T,s.lanes=j,s;case M:return s=wr(13,m,l,A),s.elementType=M,s.lanes=j,s;case D:return s=wr(19,m,l,A),s.elementType=D,s.lanes=j,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:I=10;break e;case N:I=9;break e;case P:I=11;break e;case $:I=14;break e;case H:I=16,b=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),b=null}return l=wr(I,m,l,A),l.elementType=s,l.type=b,l.lanes=j,l}function zo(s,l,m,b){return s=wr(7,s,b,l),s.lanes=m,s}function Ou(s,l,m){return s=wr(6,s,null,l),s.lanes=m,s}function Hf(s){var l=wr(18,null,null,0);return l.stateNode=s,l}function Gf(s,l,m){return l=wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=m,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var d=new WeakMap;function y(s,l){if(typeof s=="object"&&s!==null){var m=d.get(s);return m!==void 0?m:(l={value:s,source:l,stack:Ve(l)},d.set(s,l),l)}return{value:s,source:l,stack:Ve(l)}}var k=[],C=0,R=null,F=0,ee=[],ce=0,ge=null,Ae=1,Re="";function qe(s,l){k[C++]=F,k[C++]=R,R=s,F=l}function ot(s,l,m){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,ge=s;var b=Ae;s=Re;var A=32-Or(b)-1;b&=~(1<<A),m+=1;var j=32-Or(l)+A;if(30<j){var I=A-A%5;j=(b&(1<<I)-1).toString(32),b>>=I,A-=I,Ae=1<<32-Or(l)+A|m<<A|b,Re=j+s}else Ae=1<<j|m<<A|b,Re=s}function $n(s){s.return!==null&&(qe(s,1),ot(s,1,0))}function pn(s){for(;s===R;)R=k[--C],k[C]=null,F=k[--C],k[C]=null;for(;s===ge;)ge=ee[--ce],ee[ce]=null,Re=ee[--ce],ee[ce]=null,Ae=ee[--ce],ee[ce]=null}function Nr(s,l){ee[ce++]=Ae,ee[ce++]=Re,ee[ce++]=ge,Ae=l.id,Re=l.overflow,ge=s}var _t=null,wt=null,ut=!1,io=null,Vr=!1,ju=Error(r(519));function ao(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(y(l,s)),ju}function qf(s){var l=s.stateNode,m=s.type,b=s.memoizedProps;switch(l[An]=s,l[Xn]=b,m){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(m=0;m<mh.length;m++)ft(mh[m],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),Gl(l,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Ls(l,b.value,b.defaultValue,b.children)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||l.textContent===""+m||b.suppressHydrationWarning===!0||sN(l.textContent,m)?(b.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),b.onScroll!=null&&ft("scroll",l),b.onScrollEnd!=null&&ft("scrollend",l),b.onClick!=null&&(l.onclick=qr),l=!0):l=!1,l||ao(s,!0)}function cn(s){for(_t=s.return;_t;)switch(_t.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:_t=_t.return}}function Aa(s){if(s!==_t)return!1;if(!ut)return cn(s),ut=!0,!1;var l=s.tag,m;if((m=l!==3&&l!==27)&&((m=l===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||V_(s.type,s.memoizedProps)),m=!m),m&&wt&&ao(s),cn(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=gN(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));wt=gN(s)}else l===27?(l=wt,ul(s.type)?(s=ew,ew=null,wt=s):wt=l):wt=_t?Qi(s.stateNode.nextSibling):null;return!0}function Uo(){wt=_t=null,ut=!1}function Yf(){var s=io;return s!==null&&(Qr===null?Qr=s:Qr.push.apply(Qr,s),io=null),s}function dc(s){io===null?io=[s]:io.push(s)}var fc=B(null),oo=null,Ta=null;function Xs(s,l,m){ae(fc,l._currentValue),l._currentValue=m}function Fo(s){s._currentValue=fc.current,W(fc)}function Dx(s,l,m){for(;s!==null;){var b=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),s===m)break;s=s.return}}function Rx(s,l,m,b){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var j=A.dependencies;if(j!==null){var I=A.child;j=j.firstContext;e:for(;j!==null;){var G=j;j=A;for(var te=0;te<l.length;te++)if(G.context===l[te]){j.lanes|=m,G=j.alternate,G!==null&&(G.lanes|=m),Dx(j.return,m,s),b||(I=null);break e}j=G.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,j=I.alternate,j!==null&&(j.lanes|=m),Dx(I,m,s),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===s){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Nu(s,l,m,b){s=null;for(var A=l,j=!1;A!==null;){if(!j){if((A.flags&524288)!==0)j=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=A.type;Jn(A.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(A===pe.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(vh):s=[vh])}A=A.return}s!==null&&Rx(l,s,m,b),l.flags|=262144}function ng(s){for(s=s.firstContext;s!==null;){if(!Jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hc(s){oo=s,Ta=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return YT(oo,s)}function rg(s,l){return oo===null&&hc(s),YT(s,l)}function YT(s,l){var m=l._currentValue;if(l={context:l,memoizedValue:m,next:null},Ta===null){if(s===null)throw Error(r(308));Ta=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ta=Ta.next=l;return m}var GU=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(m,b){s.push(b)}};this.abort=function(){l.aborted=!0,s.forEach(function(m){return m()})}},qU=e.unstable_scheduleCallback,YU=e.unstable_NormalPriority,On={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lx(){return{controller:new GU,data:new Map,refCount:0}}function Kf(s){s.refCount--,s.refCount===0&&qU(YU,function(){s.controller.abort()})}var Wf=null,Ix=0,Cu=0,Mu=null;function KU(s,l){if(Wf===null){var m=Wf=[];Ix=0,Cu=z_(),Mu={status:"pending",value:void 0,then:function(b){m.push(b)}}}return Ix++,l.then(KT,KT),l}function KT(){if(--Ix===0&&Wf!==null){Mu!==null&&(Mu.status="fulfilled");var s=Wf;Wf=null,Cu=0,Mu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function WU(s,l){var m=[],b={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return s.then(function(){b.status="fulfilled",b.value=l;for(var A=0;A<m.length;A++)(0,m[A])(l)},function(A){for(b.status="rejected",b.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),b}var WT=Y.S;Y.S=function(s,l){Cj=Be(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&KU(s,l),WT!==null&&WT(s,l)};var mc=B(null);function $x(){var s=mc.current;return s!==null?s:Ft.pooledCache}function ig(s,l){l===null?ae(mc,mc.current):ae(mc,l.pool)}function VT(){var s=$x();return s===null?null:{parent:On._currentValue,pool:s}}var Pu=Error(r(460)),Bx=Error(r(474)),ag=Error(r(542)),og={then:function(){}};function ZT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function XT(s,l,m){switch(m=s[m],m===void 0?s.push(l):m!==l&&(l.then(qr,qr),l=m),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,QT(s),s;default:if(typeof l.status=="string")l.then(qr,qr);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(b){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=b}},function(b){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=b}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,QT(s),s}throw gc=l,Pu}}function pc(s){try{var l=s._init;return l(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(gc=m,Pu):m}}var gc=null;function JT(){if(gc===null)throw Error(r(459));var s=gc;return gc=null,s}function QT(s){if(s===Pu||s===ag)throw Error(r(483))}var Du=null,Vf=0;function sg(s){var l=Vf;return Vf+=1,Du===null&&(Du=[]),XT(Du,s,l)}function Zf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function lg(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function eO(s){function l(le,ie){if(s){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function m(le,ie){if(!s)return null;for(;ie!==null;)l(le,ie),ie=ie.sibling;return null}function b(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function A(le,ie){return le=Xi(le,ie),le.index=0,le.sibling=null,le}function j(le,ie,de){return le.index=de,s?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=67108866,ie):de):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function G(le,ie,de,ke){return ie===null||ie.tag!==6?(ie=Ou(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function te(le,ie,de,ke){var Xe=de.type;return Xe===_?Ee(le,ie,de.props.children,ke,de.key):ie!==null&&(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type)?(ie=A(ie,de.props),Zf(ie,de),ie.return=le,ie):(ie=uc(de.type,de.key,de.props,null,le.mode,ke),Zf(ie,de),ie.return=le,ie)}function he(le,ie,de,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Gf(de,le.mode,ke),ie.return=le,ie):(ie=A(ie,de.children||[]),ie.return=le,ie)}function Ee(le,ie,de,ke,Xe){return ie===null||ie.tag!==7?(ie=zo(de,le.mode,ke,Xe),ie.return=le,ie):(ie=A(ie,de),ie.return=le,ie)}function Te(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Ou(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return de=uc(ie.type,ie.key,ie.props,null,le.mode,de),Zf(de,ie),de.return=le,de;case w:return ie=Gf(ie,le.mode,de),ie.return=le,ie;case H:return ie=pc(ie),Te(le,ie,de)}if(Q(ie)||z(ie))return ie=zo(ie,le.mode,de,null),ie.return=le,ie;if(typeof ie.then=="function")return Te(le,sg(ie),de);if(ie.$$typeof===O)return Te(le,rg(le,ie),de);lg(le,ie)}return null}function ye(le,ie,de,ke){var Xe=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Xe!==null?null:G(le,ie,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return de.key===Xe?te(le,ie,de,ke):null;case w:return de.key===Xe?he(le,ie,de,ke):null;case H:return de=pc(de),ye(le,ie,de,ke)}if(Q(de)||z(de))return Xe!==null?null:Ee(le,ie,de,ke,null);if(typeof de.then=="function")return ye(le,ie,sg(de),ke);if(de.$$typeof===O)return ye(le,ie,rg(le,de),ke);lg(le,de)}return null}function xe(le,ie,de,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(de)||null,G(ie,le,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return le=le.get(ke.key===null?de:ke.key)||null,te(ie,le,ke,Xe);case w:return le=le.get(ke.key===null?de:ke.key)||null,he(ie,le,ke,Xe);case H:return ke=pc(ke),xe(le,ie,de,ke,Xe)}if(Q(ke)||z(ke))return le=le.get(de)||null,Ee(ie,le,ke,Xe,null);if(typeof ke.then=="function")return xe(le,ie,de,sg(ke),Xe);if(ke.$$typeof===O)return xe(le,ie,de,rg(ie,ke),Xe);lg(ie,ke)}return null}function ze(le,ie,de,ke){for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null;Fe!==null&&st<de.length;st++){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var Et=ye(le,Fe,de[st],ke);if(Et===null){Fe===null&&(Fe=pt);break}s&&Fe&&Et.alternate===null&&l(le,Fe),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et,Fe=pt}if(st===de.length)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;st<de.length;st++)Fe=Te(le,de[st],ke),Fe!==null&&(ie=j(Fe,ie,st),St===null?Xe=Fe:St.sibling=Fe,St=Fe);return ut&&qe(le,st),Xe}for(Fe=b(Fe);st<de.length;st++)pt=xe(Fe,le,st,de[st],ke),pt!==null&&(s&&pt.alternate!==null&&Fe.delete(pt.key===null?st:pt.key),ie=j(pt,ie,st),St===null?Xe=pt:St.sibling=pt,St=pt);return s&&Fe.forEach(function(pl){return l(le,pl)}),ut&&qe(le,st),Xe}function Qe(le,ie,de,ke){if(de==null)throw Error(r(151));for(var Xe=null,St=null,Fe=ie,st=ie=0,pt=null,Et=de.next();Fe!==null&&!Et.done;st++,Et=de.next()){Fe.index>st?(pt=Fe,Fe=null):pt=Fe.sibling;var pl=ye(le,Fe,Et.value,ke);if(pl===null){Fe===null&&(Fe=pt);break}s&&Fe&&pl.alternate===null&&l(le,Fe),ie=j(pl,ie,st),St===null?Xe=pl:St.sibling=pl,St=pl,Fe=pt}if(Et.done)return m(le,Fe),ut&&qe(le,st),Xe;if(Fe===null){for(;!Et.done;st++,Et=de.next())Et=Te(le,Et.value,ke),Et!==null&&(ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return ut&&qe(le,st),Xe}for(Fe=b(Fe);!Et.done;st++,Et=de.next())Et=xe(Fe,le,st,Et.value,ke),Et!==null&&(s&&Et.alternate!==null&&Fe.delete(Et.key===null?st:Et.key),ie=j(Et,ie,st),St===null?Xe=Et:St.sibling=Et,St=Et);return s&&Fe.forEach(function(aH){return l(le,aH)}),ut&&qe(le,st),Xe}function zt(le,ie,de,ke){if(typeof de=="object"&&de!==null&&de.type===_&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case x:e:{for(var Xe=de.key;ie!==null;){if(ie.key===Xe){if(Xe=de.type,Xe===_){if(ie.tag===7){m(le,ie.sibling),ke=A(ie,de.props.children),ke.return=le,le=ke;break e}}else if(ie.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===H&&pc(Xe)===ie.type){m(le,ie.sibling),ke=A(ie,de.props),Zf(ke,de),ke.return=le,le=ke;break e}m(le,ie);break}else l(le,ie);ie=ie.sibling}de.type===_?(ke=zo(de.props.children,le.mode,ke,de.key),ke.return=le,le=ke):(ke=uc(de.type,de.key,de.props,null,le.mode,ke),Zf(ke,de),ke.return=le,le=ke)}return I(le);case w:e:{for(Xe=de.key;ie!==null;){if(ie.key===Xe)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){m(le,ie.sibling),ke=A(ie,de.children||[]),ke.return=le,le=ke;break e}else{m(le,ie);break}else l(le,ie);ie=ie.sibling}ke=Gf(de,le.mode,ke),ke.return=le,le=ke}return I(le);case H:return de=pc(de),zt(le,ie,de,ke)}if(Q(de))return ze(le,ie,de,ke);if(z(de)){if(Xe=z(de),typeof Xe!="function")throw Error(r(150));return de=Xe.call(de),Qe(le,ie,de,ke)}if(typeof de.then=="function")return zt(le,ie,sg(de),ke);if(de.$$typeof===O)return zt(le,ie,rg(le,de),ke);lg(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(m(le,ie.sibling),ke=A(ie,de),ke.return=le,le=ke):(m(le,ie),ke=Ou(de,le.mode,ke),ke.return=le,le=ke),I(le)):m(le,ie)}return function(le,ie,de,ke){try{Vf=0;var Xe=zt(le,ie,de,ke);return Du=null,Xe}catch(Fe){if(Fe===Pu||Fe===ag)throw Fe;var St=wr(29,Fe,null,le.mode);return St.lanes=ke,St.return=le,St}finally{}}}var yc=eO(!0),tO=eO(!1),Js=!1;function zx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ux(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function el(s,l,m){var b=s.updateQueue;if(b===null)return null;if(b=b.shared,(Tt&2)!==0){var A=b.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),b.pending=l,l=cc(s),Zs(s,null,m),l}return ro(s,b,l,m),cc(s)}function Xf(s,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194048)!==0)){var b=l.lanes;b&=s.pendingLanes,m|=b,l.lanes=m,jp(s,m)}}function Fx(s,l){var m=s.updateQueue,b=s.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var A=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};j===null?A=j=I:j=j.next=I,m=m.next}while(m!==null);j===null?A=j=l:j=j.next=l}else A=j=l;m={baseState:b.baseState,firstBaseUpdate:A,lastBaseUpdate:j,shared:b.shared,callbacks:b.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=l:s.next=l,m.lastBaseUpdate=l}var Hx=!1;function Jf(){if(Hx){var s=Mu;if(s!==null)throw s}}function Qf(s,l,m,b){Hx=!1;var A=s.updateQueue;Js=!1;var j=A.firstBaseUpdate,I=A.lastBaseUpdate,G=A.shared.pending;if(G!==null){A.shared.pending=null;var te=G,he=te.next;te.next=null,I===null?j=he:I.next=he,I=te;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,G=Ee.lastBaseUpdate,G!==I&&(G===null?Ee.firstBaseUpdate=he:G.next=he,Ee.lastBaseUpdate=te))}if(j!==null){var Te=A.baseState;I=0,Ee=he=te=null,G=j;do{var ye=G.lane&-536870913,xe=ye!==G.lane;if(xe?(mt&ye)===ye:(b&ye)===ye){ye!==0&&ye===Cu&&(Hx=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ze=s,Qe=G;ye=l;var zt=m;switch(Qe.tag){case 1:if(ze=Qe.payload,typeof ze=="function"){Te=ze.call(zt,Te,ye);break e}Te=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Qe.payload,ye=typeof ze=="function"?ze.call(zt,Te,ye):ze,ye==null)break e;Te=p({},Te,ye);break e;case 2:Js=!0}}ye=G.callback,ye!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=A.callbacks,xe===null?A.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ee===null?(he=Ee=xe,te=Te):Ee=Ee.next=xe,I|=ye;if(G=G.next,G===null){if(G=A.shared.pending,G===null)break;xe=G,G=xe.next,xe.next=null,A.lastBaseUpdate=xe,A.shared.pending=null}}while(!0);Ee===null&&(te=Te),A.baseState=te,A.firstBaseUpdate=he,A.lastBaseUpdate=Ee,j===null&&(A.shared.lanes=0),al|=I,s.lanes=I,s.memoizedState=Te}}function nO(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function rO(s,l){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)nO(m[s],l)}var Ru=B(null),cg=B(0);function iO(s,l){s=Xo,ae(cg,s),ae(Ru,l),Xo=s|l.baseLanes}function Gx(){ae(cg,Xo),ae(Ru,Ru.current)}function qx(){Xo=cg.current,W(Ru),W(cg)}var _i=B(null),Ji=null;function tl(s){var l=s.alternate;ae(_n,_n.current&1),ae(_i,s),Ji===null&&(l===null||Ru.current!==null||l.memoizedState!==null)&&(Ji=s)}function Yx(s){ae(_n,_n.current),ae(_i,s),Ji===null&&(Ji=s)}function aO(s){s.tag===22?(ae(_n,_n.current),ae(_i,s),Ji===null&&(Ji=s)):nl()}function nl(){ae(_n,_n.current),ae(_i,_i.current)}function wi(s){W(_i),Ji===s&&(Ji=null),W(_n)}var _n=B(0);function ug(s){for(var l=s;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||J_(m)||Q_(m)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ho=0,it=null,$t=null,jn=null,dg=!1,Lu=!1,bc=!1,fg=0,eh=0,Iu=null,VU=0;function gn(){throw Error(r(321))}function Kx(s,l){if(l===null)return!1;for(var m=0;m<l.length&&m<s.length;m++)if(!Jn(s[m],l[m]))return!1;return!0}function Wx(s,l,m,b,A,j){return Ho=j,it=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=s===null||s.memoizedState===null?FO:c_,bc=!1,j=m(b,A),bc=!1,Lu&&(j=sO(l,m,b,A)),oO(s),j}function oO(s){Y.H=rh;var l=$t!==null&&$t.next!==null;if(Ho=0,jn=$t=it=null,dg=!1,eh=0,Iu=null,l)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&ng(s)&&(Nn=!0))}function sO(s,l,m,b){it=s;var A=0;do{if(Lu&&(Iu=null),eh=0,Lu=!1,25<=A)throw Error(r(301));if(A+=1,jn=$t=null,s.updateQueue!=null){var j=s.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=HO,j=l(m,b)}while(Lu);return j}function ZU(){var s=Y.H,l=s.useState()[0];return l=typeof l.then=="function"?th(l):l,s=s.useState()[0],($t!==null?$t.memoizedState:null)!==s&&(it.flags|=1024),l}function Vx(){var s=fg!==0;return fg=0,s}function Zx(s,l,m){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~m}function Xx(s){if(dg){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}dg=!1}Ho=0,jn=$t=it=null,Lu=!1,eh=fg=0,Iu=null}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?it.memoizedState=jn=s:jn=jn.next=s,jn}function wn(){if($t===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var l=jn===null?it.memoizedState:jn.next;if(l!==null)jn=l,$t=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},jn===null?it.memoizedState=jn=s:jn=jn.next=s}return jn}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(s){var l=eh;return eh+=1,Iu===null&&(Iu=[]),s=XT(Iu,s,l),l=it,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?FO:c_),s}function mg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return th(s);if(s.$$typeof===O)return ur(s)}throw Error(r(438,String(s)))}function Jx(s){var l=null,m=it.updateQueue;if(m!==null&&(l=m.memoCache),l==null){var b=it.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(l={data:b.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),m===null&&(m=hg(),it.updateQueue=m),m.memoCache=l,m=l.data[l.index],m===void 0)for(m=l.data[l.index]=Array(s),b=0;b<s;b++)m[b]=K;return l.index++,m}function Go(s,l){return typeof l=="function"?l(s):l}function pg(s){var l=wn();return Qx(l,$t,s)}function Qx(s,l,m){var b=s.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=m;var A=s.baseQueue,j=b.pending;if(j!==null){if(A!==null){var I=A.next;A.next=j.next,j.next=I}l.baseQueue=A=j,b.pending=null}if(j=s.baseState,A===null)s.memoizedState=j;else{l=A.next;var G=I=null,te=null,he=l,Ee=!1;do{var Te=he.lane&-536870913;if(Te!==he.lane?(mt&Te)===Te:(Ho&Te)===Te){var ye=he.revertLane;if(ye===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Te===Cu&&(Ee=!0);else if((Ho&ye)===ye){he=he.next,ye===Cu&&(Ee=!0);continue}else Te={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=Te,I=j):te=te.next=Te,it.lanes|=ye,al|=ye;Te=he.action,bc&&m(j,Te),j=he.hasEagerState?he.eagerState:m(j,Te)}else ye={lane:Te,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},te===null?(G=te=ye,I=j):te=te.next=ye,it.lanes|=Te,al|=Te;he=he.next}while(he!==null&&he!==l);if(te===null?I=j:te.next=G,!Jn(j,s.memoizedState)&&(Nn=!0,Ee&&(m=Mu,m!==null)))throw m;s.memoizedState=j,s.baseState=I,s.baseQueue=te,b.lastRenderedState=j}return A===null&&(b.lanes=0),[s.memoizedState,b.dispatch]}function e_(s){var l=wn(),m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var b=m.dispatch,A=m.pending,j=l.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do j=s(j,I.action),I=I.next;while(I!==A);Jn(j,l.memoizedState)||(Nn=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),m.lastRenderedState=j}return[j,b]}function lO(s,l,m){var b=it,A=wn(),j=ut;if(j){if(m===void 0)throw Error(r(407));m=m()}else m=l();var I=!Jn(($t||A).memoizedState,m);if(I&&(A.memoizedState=m,Nn=!0),A=A.queue,r_(dO.bind(null,b,A,s),[s]),A.getSnapshot!==l||I||jn!==null&&jn.memoizedState.tag&1){if(b.flags|=2048,$u(9,{destroy:void 0},uO.bind(null,b,A,m,l),null),Ft===null)throw Error(r(349));j||(Ho&127)!==0||cO(b,l,m)}return m}function cO(s,l,m){s.flags|=16384,s={getSnapshot:l,value:m},l=it.updateQueue,l===null?(l=hg(),it.updateQueue=l,l.stores=[s]):(m=l.stores,m===null?l.stores=[s]:m.push(s))}function uO(s,l,m,b){l.value=m,l.getSnapshot=b,fO(l)&&hO(s)}function dO(s,l,m){return m(function(){fO(l)&&hO(s)})}function fO(s){var l=s.getSnapshot;s=s.value;try{var m=l();return!Jn(s,m)}catch{return!0}}function hO(s){var l=Zi(s,2);l!==null&&ei(l,s,2)}function t_(s){var l=Cr();if(typeof s=="function"){var m=s;if(s=m(),bc){gi(!0);try{m()}finally{gi(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:s},l}function mO(s,l,m,b){return s.baseState=m,Qx(s,$t,typeof b=="function"?b:Go)}function XU(s,l,m,b,A){if(bg(s))throw Error(r(485));if(s=l.action,s!==null){var j={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){j.listeners.push(I)}};Y.T!==null?m(!0):j.isTransition=!1,b(j),m=l.pending,m===null?(j.next=l.pending=j,pO(l,j)):(j.next=m.next,l.pending=m.next=j)}}function pO(s,l){var m=l.action,b=l.payload,A=s.state;if(l.isTransition){var j=Y.T,I={};Y.T=I;try{var G=m(A,b),te=Y.S;te!==null&&te(I,G),gO(s,l,G)}catch(he){n_(s,l,he)}finally{j!==null&&I.types!==null&&(j.types=I.types),Y.T=j}}else try{j=m(A,b),gO(s,l,j)}catch(he){n_(s,l,he)}}function gO(s,l,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){yO(s,l,b)},function(b){return n_(s,l,b)}):yO(s,l,m)}function yO(s,l,m){l.status="fulfilled",l.value=m,bO(l),s.state=m,l=s.pending,l!==null&&(m=l.next,m===l?s.pending=null:(m=m.next,l.next=m,pO(s,m)))}function n_(s,l,m){var b=s.pending;if(s.pending=null,b!==null){b=b.next;do l.status="rejected",l.reason=m,bO(l),l=l.next;while(l!==b)}s.action=null}function bO(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function vO(s,l){return l}function xO(s,l){if(ut){var m=Ft.formState;if(m!==null){e:{var b=it;if(ut){if(wt){t:{for(var A=wt,j=Vr;A.nodeType!==8;){if(!j){A=null;break t}if(A=Qi(A.nextSibling),A===null){A=null;break t}}j=A.data,A=j==="F!"||j==="F"?A:null}if(A){wt=Qi(A.nextSibling),b=A.data==="F!";break e}}ao(b)}b=!1}b&&(l=m[0])}}return m=Cr(),m.memoizedState=m.baseState=l,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vO,lastRenderedState:l},m.queue=b,m=BO.bind(null,it,b),b.dispatch=m,b=t_(!1),j=l_.bind(null,it,!1,b.queue),b=Cr(),A={state:l,dispatch:null,action:s,pending:null},b.queue=A,m=XU.bind(null,it,A,j,m),A.dispatch=m,b.memoizedState=s,[l,m,!1]}function _O(s){var l=wn();return wO(l,$t,s)}function wO(s,l,m){if(l=Qx(s,l,vO)[0],s=pg(Go)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var b=th(l)}catch(I){throw I===Pu?ag:I}else b=l;l=wn();var A=l.queue,j=A.dispatch;return m!==l.memoizedState&&(it.flags|=2048,$u(9,{destroy:void 0},JU.bind(null,A,m),null)),[b,j,s]}function JU(s,l){s.action=l}function SO(s){var l=wn(),m=$t;if(m!==null)return wO(l,m,s);wn(),l=l.memoizedState,m=wn();var b=m.queue.dispatch;return m.memoizedState=s,[l,b,!1]}function $u(s,l,m,b){return s={tag:s,create:m,deps:b,inst:l,next:null},l=it.updateQueue,l===null&&(l=hg(),it.updateQueue=l),m=l.lastEffect,m===null?l.lastEffect=s.next=s:(b=m.next,m.next=s,s.next=b,l.lastEffect=s),s}function EO(){return wn().memoizedState}function gg(s,l,m,b){var A=Cr();it.flags|=s,A.memoizedState=$u(1|l,{destroy:void 0},m,b===void 0?null:b)}function yg(s,l,m,b){var A=wn();b=b===void 0?null:b;var j=A.memoizedState.inst;$t!==null&&b!==null&&Kx(b,$t.memoizedState.deps)?A.memoizedState=$u(l,j,m,b):(it.flags|=s,A.memoizedState=$u(1|l,j,m,b))}function kO(s,l){gg(8390656,8,s,l)}function r_(s,l){yg(2048,8,s,l)}function QU(s){it.flags|=4;var l=it.updateQueue;if(l===null)l=hg(),it.updateQueue=l,l.events=[s];else{var m=l.events;m===null?l.events=[s]:m.push(s)}}function AO(s){var l=wn().memoizedState;return QU({ref:l,nextImpl:s}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function TO(s,l){return yg(4,2,s,l)}function OO(s,l){return yg(4,4,s,l)}function jO(s,l){if(typeof l=="function"){s=s();var m=l(s);return function(){typeof m=="function"?m():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function NO(s,l,m){m=m!=null?m.concat([s]):null,yg(4,4,jO.bind(null,l,s),m)}function i_(){}function CO(s,l){var m=wn();l=l===void 0?null:l;var b=m.memoizedState;return l!==null&&Kx(l,b[1])?b[0]:(m.memoizedState=[s,l],s)}function MO(s,l){var m=wn();l=l===void 0?null:l;var b=m.memoizedState;if(l!==null&&Kx(l,b[1]))return b[0];if(b=s(),bc){gi(!0);try{s()}finally{gi(!1)}}return m.memoizedState=[b,l],b}function a_(s,l,m){return m===void 0||(Ho&1073741824)!==0&&(mt&261930)===0?s.memoizedState=l:(s.memoizedState=m,s=Pj(),it.lanes|=s,al|=s,m)}function PO(s,l,m,b){return Jn(m,l)?m:Ru.current!==null?(s=a_(s,m,b),Jn(s,l)||(Nn=!0),s):(Ho&42)===0||(Ho&1073741824)!==0&&(mt&261930)===0?(Nn=!0,s.memoizedState=m):(s=Pj(),it.lanes|=s,al|=s,l)}function DO(s,l,m,b,A){var j=X.p;X.p=j!==0&&8>j?j:8;var I=Y.T,G={};Y.T=G,l_(s,!1,l,m);try{var te=A(),he=Y.S;if(he!==null&&he(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ee=WU(te,b);nh(s,l,Ee,ki(s))}else nh(s,l,b,ki(s))}catch(Te){nh(s,l,{then:function(){},status:"rejected",reason:Te},ki())}finally{X.p=j,I!==null&&G.types!==null&&(I.types=G.types),Y.T=I}}function eF(){}function o_(s,l,m,b){if(s.tag!==5)throw Error(r(476));var A=RO(s).queue;DO(s,A,l,re,m===null?eF:function(){return LO(s),m(b)})}function RO(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:re},next:null};var m={};return l.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:m},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function LO(s){var l=RO(s);l.next===null&&(l=s.alternate.memoizedState),nh(s,l.next.queue,{},ki())}function s_(){return ur(vh)}function IO(){return wn().memoizedState}function $O(){return wn().memoizedState}function tF(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var m=ki();s=Qs(m);var b=el(l,s,m);b!==null&&(ei(b,l,m),Xf(b,l,m)),l={cache:Lx()},s.payload=l;return}l=l.return}}function nF(s,l,m){var b=ki();m={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},bg(s)?zO(l,m):(m=Uf(s,l,m,b),m!==null&&(ei(m,s,b),UO(m,l,b)))}function BO(s,l,m){var b=ki();nh(s,l,m,b)}function nh(s,l,m,b){var A={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(bg(s))zO(l,A);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var I=l.lastRenderedState,G=j(I,m);if(A.hasEagerState=!0,A.eagerState=G,Jn(G,I))return ro(s,l,A,0),Ft===null&&lc(),!1}catch{}finally{}if(m=Uf(s,l,A,b),m!==null)return ei(m,s,b),UO(m,l,b),!0}return!1}function l_(s,l,m,b){if(b={lane:2,revertLane:z_(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},bg(s)){if(l)throw Error(r(479))}else l=Uf(s,m,b,2),l!==null&&ei(l,s,2)}function bg(s){var l=s.alternate;return s===it||l!==null&&l===it}function zO(s,l){Lu=dg=!0;var m=s.pending;m===null?l.next=l:(l.next=m.next,m.next=l),s.pending=l}function UO(s,l,m){if((m&4194048)!==0){var b=l.lanes;b&=s.pendingLanes,m|=b,l.lanes=m,jp(s,m)}}var rh={readContext:ur,use:mg,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};rh.useEffectEvent=gn;var FO={readContext:ur,use:mg,useCallback:function(s,l){return Cr().memoizedState=[s,l===void 0?null:l],s},useContext:ur,useEffect:kO,useImperativeHandle:function(s,l,m){m=m!=null?m.concat([s]):null,gg(4194308,4,jO.bind(null,l,s),m)},useLayoutEffect:function(s,l){return gg(4194308,4,s,l)},useInsertionEffect:function(s,l){gg(4,2,s,l)},useMemo:function(s,l){var m=Cr();l=l===void 0?null:l;var b=s();if(bc){gi(!0);try{s()}finally{gi(!1)}}return m.memoizedState=[b,l],b},useReducer:function(s,l,m){var b=Cr();if(m!==void 0){var A=m(l);if(bc){gi(!0);try{m(l)}finally{gi(!1)}}}else A=l;return b.memoizedState=b.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},b.queue=s,s=s.dispatch=nF.bind(null,it,s),[b.memoizedState,s]},useRef:function(s){var l=Cr();return s={current:s},l.memoizedState=s},useState:function(s){s=t_(s);var l=s.queue,m=BO.bind(null,it,l);return l.dispatch=m,[s.memoizedState,m]},useDebugValue:i_,useDeferredValue:function(s,l){var m=Cr();return a_(m,s,l)},useTransition:function(){var s=t_(!1);return s=DO.bind(null,it,s.queue,!0,!1),Cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,m){var b=it,A=Cr();if(ut){if(m===void 0)throw Error(r(407));m=m()}else{if(m=l(),Ft===null)throw Error(r(349));(mt&127)!==0||cO(b,l,m)}A.memoizedState=m;var j={value:m,getSnapshot:l};return A.queue=j,kO(dO.bind(null,b,j,s),[s]),b.flags|=2048,$u(9,{destroy:void 0},uO.bind(null,b,j,m,l),null),m},useId:function(){var s=Cr(),l=Ft.identifierPrefix;if(ut){var m=Re,b=Ae;m=(b&~(1<<32-Or(b)-1)).toString(32)+m,l="_"+l+"R_"+m,m=fg++,0<m&&(l+="H"+m.toString(32)),l+="_"}else m=VU++,l="_"+l+"r_"+m.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:s_,useFormState:xO,useActionState:xO,useOptimistic:function(s){var l=Cr();l.memoizedState=l.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=m,l=l_.bind(null,it,!0,m),m.dispatch=l,[s,l]},useMemoCache:Jx,useCacheRefresh:function(){return Cr().memoizedState=tF.bind(null,it)},useEffectEvent:function(s){var l=Cr(),m={impl:s};return l.memoizedState=m,function(){if((Tt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},c_={readContext:ur,use:mg,useCallback:CO,useContext:ur,useEffect:r_,useImperativeHandle:NO,useInsertionEffect:TO,useLayoutEffect:OO,useMemo:MO,useReducer:pg,useRef:EO,useState:function(){return pg(Go)},useDebugValue:i_,useDeferredValue:function(s,l){var m=wn();return PO(m,$t.memoizedState,s,l)},useTransition:function(){var s=pg(Go)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:th(s),l]},useSyncExternalStore:lO,useId:IO,useHostTransitionStatus:s_,useFormState:_O,useActionState:_O,useOptimistic:function(s,l){var m=wn();return mO(m,$t,s,l)},useMemoCache:Jx,useCacheRefresh:$O};c_.useEffectEvent=AO;var HO={readContext:ur,use:mg,useCallback:CO,useContext:ur,useEffect:r_,useImperativeHandle:NO,useInsertionEffect:TO,useLayoutEffect:OO,useMemo:MO,useReducer:e_,useRef:EO,useState:function(){return e_(Go)},useDebugValue:i_,useDeferredValue:function(s,l){var m=wn();return $t===null?a_(m,s,l):PO(m,$t.memoizedState,s,l)},useTransition:function(){var s=e_(Go)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:th(s),l]},useSyncExternalStore:lO,useId:IO,useHostTransitionStatus:s_,useFormState:SO,useActionState:SO,useOptimistic:function(s,l){var m=wn();return $t!==null?mO(m,$t,s,l):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Jx,useCacheRefresh:$O};HO.useEffectEvent=AO;function u_(s,l,m,b){l=s.memoizedState,m=m(b,l),m=m==null?l:p({},l,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var d_={enqueueSetState:function(s,l,m){s=s._reactInternals;var b=ki(),A=Qs(b);A.payload=l,m!=null&&(A.callback=m),l=el(s,A,b),l!==null&&(ei(l,s,b),Xf(l,s,b))},enqueueReplaceState:function(s,l,m){s=s._reactInternals;var b=ki(),A=Qs(b);A.tag=1,A.payload=l,m!=null&&(A.callback=m),l=el(s,A,b),l!==null&&(ei(l,s,b),Xf(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var m=ki(),b=Qs(m);b.tag=2,l!=null&&(b.callback=l),l=el(s,b,m),l!==null&&(ei(l,s,m),Xf(l,s,m))}};function GO(s,l,m,b,A,j,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(b,j,I):l.prototype&&l.prototype.isPureReactComponent?!Ys(m,b)||!Ys(A,j):!0}function qO(s,l,m,b){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,b),l.state!==s&&d_.enqueueReplaceState(l,l.state,null)}function vc(s,l){var m=l;if("ref"in l){m={};for(var b in l)b!=="ref"&&(m[b]=l[b])}if(s=s.defaultProps){m===l&&(m=p({},m));for(var A in s)m[A]===void 0&&(m[A]=s[A])}return m}function YO(s){sc(s)}function KO(s){console.error(s)}function WO(s){sc(s)}function vg(s,l){try{var m=s.onUncaughtError;m(l.value,{componentStack:l.stack})}catch(b){setTimeout(function(){throw b})}}function VO(s,l,m){try{var b=s.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function f_(s,l,m){return m=Qs(m),m.tag=3,m.payload={element:null},m.callback=function(){vg(s,l)},m}function ZO(s){return s=Qs(s),s.tag=3,s}function XO(s,l,m,b){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var j=b.value;s.payload=function(){return A(j)},s.callback=function(){VO(l,m,b)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){VO(l,m,b),typeof A!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function rF(s,l,m,b,A){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(l=m.alternate,l!==null&&Nu(l,m,A,!0),m=_i.current,m!==null){switch(m.tag){case 31:case 13:return Ji===null?Cg():m.alternate===null&&yn===0&&(yn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,b===og?m.flags|=16384:(l=m.updateQueue,l===null?m.updateQueue=new Set([b]):l.add(b),I_(s,b,A)),!1;case 22:return m.flags|=65536,b===og?m.flags|=16384:(l=m.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=l):(m=l.retryQueue,m===null?l.retryQueue=new Set([b]):m.add(b)),I_(s,b,A)),!1}throw Error(r(435,m.tag))}return I_(s,b,A),Cg(),!1}if(ut)return l=_i.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,b!==ju&&(s=Error(r(422),{cause:b}),dc(y(s,m)))):(b!==ju&&(l=Error(r(423),{cause:b}),dc(y(l,m))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,b=y(b,m),A=f_(s.stateNode,b,A),Fx(s,A),yn!==4&&(yn=2)),!1;var j=Error(r(520),{cause:b});if(j=y(j,m),dh===null?dh=[j]:dh.push(j),yn!==4&&(yn=2),l===null)return!0;b=y(b,m),m=l;do{switch(m.tag){case 3:return m.flags|=65536,s=A&-A,m.lanes|=s,s=f_(m.stateNode,b,s),Fx(m,s),!1;case 1:if(l=m.type,j=m.stateNode,(m.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ol===null||!ol.has(j))))return m.flags|=65536,A&=-A,m.lanes|=A,A=ZO(A),XO(A,s,m,b),Fx(m,A),!1}m=m.return}while(m!==null);return!1}var h_=Error(r(461)),Nn=!1;function dr(s,l,m,b){l.child=s===null?tO(l,null,m,b):yc(l,s.child,m,b)}function JO(s,l,m,b,A){m=m.render;var j=l.ref;if("ref"in b){var I={};for(var G in b)G!=="ref"&&(I[G]=b[G])}else I=b;return hc(l),b=Wx(s,l,m,I,j,A),G=Vx(),s!==null&&!Nn?(Zx(s,l,A),qo(s,l,A)):(ut&&G&&$n(l),l.flags|=1,dr(s,l,b,A),l.child)}function QO(s,l,m,b,A){if(s===null){var j=m.type;return typeof j=="function"&&!Tu(j)&&j.defaultProps===void 0&&m.compare===null?(l.tag=15,l.type=j,ej(s,l,j,b,A)):(s=uc(m.type,null,b,l,l.mode,A),s.ref=l.ref,s.return=l,l.child=s)}if(j=s.child,!__(s,A)){var I=j.memoizedProps;if(m=m.compare,m=m!==null?m:Ys,m(I,b)&&s.ref===l.ref)return qo(s,l,A)}return l.flags|=1,s=Xi(j,b),s.ref=l.ref,s.return=l,l.child=s}function ej(s,l,m,b,A){if(s!==null){var j=s.memoizedProps;if(Ys(j,b)&&s.ref===l.ref)if(Nn=!1,l.pendingProps=b=j,__(s,A))(s.flags&131072)!==0&&(Nn=!0);else return l.lanes=s.lanes,qo(s,l,A)}return m_(s,l,m,b,A)}function tj(s,l,m,b){var A=b.children,j=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((l.flags&128)!==0){if(j=j!==null?j.baseLanes|m:m,s!==null){for(b=l.child=s.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;b=A&~j}else b=0,l.child=null;return nj(s,l,j,m,b)}if((m&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&ig(l,j!==null?j.cachePool:null),j!==null?iO(l,j):Gx(),aO(l);else return b=l.lanes=536870912,nj(s,l,j!==null?j.baseLanes|m:m,m,b)}else j!==null?(ig(l,j.cachePool),iO(l,j),nl(),l.memoizedState=null):(s!==null&&ig(l,null),Gx(),nl());return dr(s,l,A,m),l.child}function ih(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function nj(s,l,m,b,A){var j=$x();return j=j===null?null:{parent:On._currentValue,pool:j},l.memoizedState={baseLanes:m,cachePool:j},s!==null&&ig(l,null),Gx(),aO(l),s!==null&&Nu(s,l,b,!0),l.childLanes=A,null}function xg(s,l){return l=wg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function rj(s,l,m){return yc(l,s.child,null,m),s=xg(l,l.pendingProps),s.flags|=2,wi(l),l.memoizedState=null,s}function iF(s,l,m){var b=l.pendingProps,A=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ut){if(b.mode==="hidden")return s=xg(l,b),l.lanes=536870912,ih(null,s);if(Yx(l),(s=wt)?(s=pN(s,Vr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},m=Hf(s),m.return=l,l.child=m,_t=l,wt=null)):s=null,s===null)throw ao(l);return l.lanes=536870912,null}return xg(l,b)}var j=s.memoizedState;if(j!==null){var I=j.dehydrated;if(Yx(l),A)if(l.flags&256)l.flags&=-257,l=rj(s,l,m);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Nn||Nu(s,l,m,!1),A=(m&s.childLanes)!==0,Nn||A){if(b=Ft,b!==null&&(I=Np(b,m),I!==0&&I!==j.retryLane))throw j.retryLane=I,Zi(s,I),ei(b,s,I),h_;Cg(),l=rj(s,l,m)}else s=j.treeContext,wt=Qi(I.nextSibling),_t=l,ut=!0,io=null,Vr=!1,s!==null&&Nr(l,s),l=xg(l,b),l.flags|=4096;return l}return s=Xi(s.child,{mode:b.mode,children:b.children}),s.ref=l.ref,l.child=s,s.return=l,s}function _g(s,l){var m=l.ref;if(m===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(l.flags|=4194816)}}function m_(s,l,m,b,A){return hc(l),m=Wx(s,l,m,b,void 0,A),b=Vx(),s!==null&&!Nn?(Zx(s,l,A),qo(s,l,A)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,m,A),l.child)}function ij(s,l,m,b,A,j){return hc(l),l.updateQueue=null,m=sO(l,b,m,A),oO(s),b=Vx(),s!==null&&!Nn?(Zx(s,l,j),qo(s,l,j)):(ut&&b&&$n(l),l.flags|=1,dr(s,l,m,j),l.child)}function aj(s,l,m,b,A){if(hc(l),l.stateNode===null){var j=Bo,I=m.contextType;typeof I=="object"&&I!==null&&(j=ur(I)),j=new m(b,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=d_,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=b,j.state=l.memoizedState,j.refs={},zx(l),I=m.contextType,j.context=typeof I=="object"&&I!==null?ur(I):Bo,j.state=l.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(u_(l,m,I,b),j.state=l.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(I=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),I!==j.state&&d_.enqueueReplaceState(j,j.state,null),Qf(l,b,j,A),Jf(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!0}else if(s===null){j=l.stateNode;var G=l.memoizedProps,te=vc(m,G);j.props=te;var he=j.context,Ee=m.contextType;I=Bo,typeof Ee=="object"&&Ee!==null&&(I=ur(Ee));var Te=m.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function",G=l.pendingProps!==G,Ee||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(G||he!==I)&&qO(l,j,b,I),Js=!1;var ye=l.memoizedState;j.state=ye,Qf(l,b,j,A),Jf(),he=l.memoizedState,G||ye!==he||Js?(typeof Te=="function"&&(u_(l,m,Te,b),he=l.memoizedState),(te=Js||GO(l,m,te,b,ye,he,I))?(Ee||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=he),j.props=b,j.state=he,j.context=I,b=te):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{j=l.stateNode,Ux(s,l),I=l.memoizedProps,Ee=vc(m,I),j.props=Ee,Te=l.pendingProps,ye=j.context,he=m.contextType,te=Bo,typeof he=="object"&&he!==null&&(te=ur(he)),G=m.getDerivedStateFromProps,(he=typeof G=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I!==Te||ye!==te)&&qO(l,j,b,te),Js=!1,ye=l.memoizedState,j.state=ye,Qf(l,b,j,A),Jf();var xe=l.memoizedState;I!==Te||ye!==xe||Js||s!==null&&s.dependencies!==null&&ng(s.dependencies)?(typeof G=="function"&&(u_(l,m,G,b),xe=l.memoizedState),(Ee=Js||GO(l,m,Ee,b,ye,xe,te)||s!==null&&s.dependencies!==null&&ng(s.dependencies))?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(b,xe,te),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(b,xe,te)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=xe),j.props=b,j.state=xe,j.context=te,b=Ee):(typeof j.componentDidUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),b=!1)}return j=b,_g(s,l),b=(l.flags&128)!==0,j||b?(j=l.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,s!==null&&b?(l.child=yc(l,s.child,null,A),l.child=yc(l,null,m,A)):dr(s,l,m,A),l.memoizedState=j.state,s=l.child):s=qo(s,l,A),s}function oj(s,l,m,b){return Uo(),l.flags|=256,dr(s,l,m,b),l.child}var p_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function g_(s){return{baseLanes:s,cachePool:VT()}}function y_(s,l,m){return s=s!==null?s.childLanes&~m:0,l&&(s|=Ei),s}function sj(s,l,m){var b=l.pendingProps,A=!1,j=(l.flags&128)!==0,I;if((I=j)||(I=s!==null&&s.memoizedState===null?!1:(_n.current&2)!==0),I&&(A=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(ut){if(A?tl(l):nl(),(s=wt)?(s=pN(s,Vr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Ae,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},m=Hf(s),m.return=l,l.child=m,_t=l,wt=null)):s=null,s===null)throw ao(l);return Q_(s)?l.lanes=32:l.lanes=536870912,null}var G=b.children;return b=b.fallback,A?(nl(),A=l.mode,G=wg({mode:"hidden",children:G},A),b=zo(b,A,m,null),G.return=l,b.return=l,G.sibling=b,l.child=G,b=l.child,b.memoizedState=g_(m),b.childLanes=y_(s,I,m),l.memoizedState=p_,ih(null,b)):(tl(l),b_(l,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(j)l.flags&256?(tl(l),l.flags&=-257,l=v_(s,l,m)):l.memoizedState!==null?(nl(),l.child=s.child,l.flags|=128,l=null):(nl(),G=b.fallback,A=l.mode,b=wg({mode:"visible",children:b.children},A),G=zo(G,A,m,null),G.flags|=2,b.return=l,G.return=l,b.sibling=G,l.child=b,yc(l,s.child,null,m),b=l.child,b.memoizedState=g_(m),b.childLanes=y_(s,I,m),l.memoizedState=p_,l=ih(null,b));else if(tl(l),Q_(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var he=I.dgst;I=he,b=Error(r(419)),b.stack="",b.digest=I,dc({value:b,source:null,stack:null}),l=v_(s,l,m)}else if(Nn||Nu(s,l,m,!1),I=(m&s.childLanes)!==0,Nn||I){if(I=Ft,I!==null&&(b=Np(I,m),b!==0&&b!==te.retryLane))throw te.retryLane=b,Zi(s,b),ei(I,s,b),h_;J_(G)||Cg(),l=v_(s,l,m)}else J_(G)?(l.flags|=192,l.child=s.child,l=null):(s=te.treeContext,wt=Qi(G.nextSibling),_t=l,ut=!0,io=null,Vr=!1,s!==null&&Nr(l,s),l=b_(l,b.children),l.flags|=4096);return l}return A?(nl(),G=b.fallback,A=l.mode,te=s.child,he=te.sibling,b=Xi(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&65011712,he!==null?G=Xi(he,G):(G=zo(G,A,m,null),G.flags|=2),G.return=l,b.return=l,b.sibling=G,l.child=b,ih(null,b),b=l.child,G=s.child.memoizedState,G===null?G=g_(m):(A=G.cachePool,A!==null?(te=On._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=VT(),G={baseLanes:G.baseLanes|m,cachePool:A}),b.memoizedState=G,b.childLanes=y_(s,I,m),l.memoizedState=p_,ih(s.child,b)):(tl(l),m=s.child,s=m.sibling,m=Xi(m,{mode:"visible",children:b.children}),m.return=l,m.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=m,l.memoizedState=null,m)}function b_(s,l){return l=wg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function wg(s,l){return s=wr(22,s,null,l),s.lanes=0,s}function v_(s,l,m){return yc(l,s.child,null,m),s=b_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function lj(s,l,m){s.lanes|=l;var b=s.alternate;b!==null&&(b.lanes|=l),Dx(s.return,l,m)}function x_(s,l,m,b,A,j){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:A,treeForkCount:j}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=m,I.tailMode=A,I.treeForkCount=j)}function cj(s,l,m){var b=l.pendingProps,A=b.revealOrder,j=b.tail;b=b.children;var I=_n.current,G=(I&2)!==0;if(G?(I=I&1|2,l.flags|=128):I&=1,ae(_n,I),dr(s,l,b,m),b=ut?F:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lj(s,m,l);else if(s.tag===19)lj(s,m,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(m=l.child,A=null;m!==null;)s=m.alternate,s!==null&&ug(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=l.child,l.child=null):(A=m.sibling,m.sibling=null),x_(l,!1,A,m,j,b);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=l.child,l.child=null;A!==null;){if(s=A.alternate,s!==null&&ug(s)===null){l.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}x_(l,!0,m,null,j,b);break;case"together":x_(l,!1,null,null,void 0,b);break;default:l.memoizedState=null}return l.child}function qo(s,l,m){if(s!==null&&(l.dependencies=s.dependencies),al|=l.lanes,(m&l.childLanes)===0)if(s!==null){if(Nu(s,l,m,!1),(m&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,m=Xi(s,s.pendingProps),l.child=m,m.return=l;s.sibling!==null;)s=s.sibling,m=m.sibling=Xi(s,s.pendingProps),m.return=l;m.sibling=null}return l.child}function __(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ng(s)))}function aF(s,l,m){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Xs(l,On,s.memoizedState.cache),Uo();break;case 27:case 5:Oe(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Xs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Yx(l),null;break;case 13:var b=l.memoizedState;if(b!==null)return b.dehydrated!==null?(tl(l),l.flags|=128,null):(m&l.child.childLanes)!==0?sj(s,l,m):(tl(l),s=qo(s,l,m),s!==null?s.sibling:null);tl(l);break;case 19:var A=(s.flags&128)!==0;if(b=(m&l.childLanes)!==0,b||(Nu(s,l,m,!1),b=(m&l.childLanes)!==0),A){if(b)return cj(s,l,m);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ae(_n,_n.current),b)break;return null;case 22:return l.lanes=0,tj(s,l,m,l.pendingProps);case 24:Xs(l,On,s.memoizedState.cache)}return qo(s,l,m)}function uj(s,l,m){if(s!==null)if(s.memoizedProps!==l.pendingProps)Nn=!0;else{if(!__(s,m)&&(l.flags&128)===0)return Nn=!1,aF(s,l,m);Nn=(s.flags&131072)!==0}else Nn=!1,ut&&(l.flags&1048576)!==0&&ot(l,F,l.index);switch(l.lanes=0,l.tag){case 16:e:{var b=l.pendingProps;if(s=pc(l.elementType),l.type=s,typeof s=="function")Tu(s)?(b=vc(s,b),l.tag=1,l=aj(null,l,s,b,m)):(l.tag=0,l=m_(null,l,s,b,m));else{if(s!=null){var A=s.$$typeof;if(A===P){l.tag=11,l=JO(null,l,s,b,m);break e}else if(A===$){l.tag=14,l=QO(null,l,s,b,m);break e}}throw l=J(s)||s,Error(r(306,l,""))}}return l;case 0:return m_(s,l,l.type,l.pendingProps,m);case 1:return b=l.type,A=vc(b,l.pendingProps),aj(s,l,b,A,m);case 3:e:{if(be(l,l.stateNode.containerInfo),s===null)throw Error(r(387));b=l.pendingProps;var j=l.memoizedState;A=j.element,Ux(s,l),Qf(l,b,null,m);var I=l.memoizedState;if(b=I.cache,Xs(l,On,b),b!==j.cache&&Rx(l,[On],m,!0),Jf(),b=I.element,j.isDehydrated)if(j={element:b,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=oj(s,l,b,m);break e}else if(b!==A){A=y(Error(r(424)),l),dc(A),l=oj(s,l,b,m);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(wt=Qi(s.firstChild),_t=l,ut=!0,io=null,Vr=!0,m=tO(l,null,b,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Uo(),b===A){l=qo(s,l,m);break e}dr(s,l,b,m)}l=l.child}return l;case 26:return _g(s,l),s===null?(m=_N(l.type,null,l.pendingProps,null))?l.memoizedState=m:ut||(m=l.type,s=l.pendingProps,b=$g(me.current).createElement(m),b[An]=l,b[Xn]=s,fr(b,m,s),Tn(b),l.stateNode=b):l.memoizedState=_N(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Oe(l),s===null&&ut&&(b=l.stateNode=bN(l.type,l.pendingProps,me.current),_t=l,Vr=!0,A=wt,ul(l.type)?(ew=A,wt=Qi(b.firstChild)):wt=A),dr(s,l,l.pendingProps.children,m),_g(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ut&&((A=b=wt)&&(b=RF(b,l.type,l.pendingProps,Vr),b!==null?(l.stateNode=b,_t=l,wt=Qi(b.firstChild),Vr=!1,A=!0):A=!1),A||ao(l)),Oe(l),A=l.type,j=l.pendingProps,I=s!==null?s.memoizedProps:null,b=j.children,V_(A,j)?b=null:I!==null&&V_(A,I)&&(l.flags|=32),l.memoizedState!==null&&(A=Wx(s,l,ZU,null,null,m),vh._currentValue=A),_g(s,l),dr(s,l,b,m),l.child;case 6:return s===null&&ut&&((s=m=wt)&&(m=LF(m,l.pendingProps,Vr),m!==null?(l.stateNode=m,_t=l,wt=null,s=!0):s=!1),s||ao(l)),null;case 13:return sj(s,l,m);case 4:return be(l,l.stateNode.containerInfo),b=l.pendingProps,s===null?l.child=yc(l,null,b,m):dr(s,l,b,m),l.child;case 11:return JO(s,l,l.type,l.pendingProps,m);case 7:return dr(s,l,l.pendingProps,m),l.child;case 8:return dr(s,l,l.pendingProps.children,m),l.child;case 12:return dr(s,l,l.pendingProps.children,m),l.child;case 10:return b=l.pendingProps,Xs(l,l.type,b.value),dr(s,l,b.children,m),l.child;case 9:return A=l.type._context,b=l.pendingProps.children,hc(l),A=ur(A),b=b(A),l.flags|=1,dr(s,l,b,m),l.child;case 14:return QO(s,l,l.type,l.pendingProps,m);case 15:return ej(s,l,l.type,l.pendingProps,m);case 19:return cj(s,l,m);case 31:return iF(s,l,m);case 22:return tj(s,l,m,l.pendingProps);case 24:return hc(l),b=ur(On),s===null?(A=$x(),A===null&&(A=Ft,j=Lx(),A.pooledCache=j,j.refCount++,j!==null&&(A.pooledCacheLanes|=m),A=j),l.memoizedState={parent:b,cache:A},zx(l),Xs(l,On,A)):((s.lanes&m)!==0&&(Ux(s,l),Qf(l,null,null,m),Jf()),A=s.memoizedState,j=l.memoizedState,A.parent!==b?(A={parent:b,cache:b},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),Xs(l,On,b)):(b=j.cache,Xs(l,On,b),b!==A.cache&&Rx(l,[On],m,!0))),dr(s,l,l.pendingProps.children,m),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Yo(s){s.flags|=4}function w_(s,l,m,b,A){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(Ij())s.flags|=8192;else throw gc=og,Bx}else s.flags&=-16777217}function dj(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!AN(l))if(Ij())s.flags|=8192;else throw gc=og,Bx}function Sg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Tp():536870912,s.lanes|=l,Fu|=l)}function ah(s,l){if(!ut)switch(s.tailMode){case"hidden":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:b.sibling=null}}function Xt(s){var l=s.alternate!==null&&s.alternate.child===s.child,m=0,b=0;if(l)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,b|=A.subtreeFlags&65011712,b|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,b|=A.subtreeFlags,b|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=b,s.childLanes=m,l}function oF(s,l,m){var b=l.pendingProps;switch(pn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(l),null;case 1:return Xt(l),null;case 3:return m=l.stateNode,b=null,s!==null&&(b=s.memoizedState.cache),l.memoizedState.cache!==b&&(l.flags|=2048),Fo(On),ne(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Aa(l)?Yo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yf())),Xt(l),null;case 26:var A=l.type,j=l.memoizedState;return s===null?(Yo(l),j!==null?(Xt(l),dj(l,j)):(Xt(l),w_(l,A,null,b,m))):j?j!==s.memoizedState?(Yo(l),Xt(l),dj(l,j)):(Xt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==b&&Yo(l),Xt(l),w_(l,A,s,b,m)),null;case 27:if(Ce(l),m=me.current,A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}s=Z.current,Aa(l)?qf(l):(s=bN(A,b,m),l.stateNode=s,Yo(l))}return Xt(l),null;case 5:if(Ce(l),A=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Xt(l),null}if(j=Z.current,Aa(l))qf(l);else{var I=$g(me.current);switch(j){case 1:j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":j=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":j=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":j=I.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof b.is=="string"?I.createElement("select",{is:b.is}):I.createElement("select"),b.multiple?j.multiple=!0:b.size&&(j.size=b.size);break;default:j=typeof b.is=="string"?I.createElement(A,{is:b.is}):I.createElement(A)}}j[An]=l,j[Xn]=b;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)j.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=j;e:switch(fr(j,A,b),A){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Yo(l)}}return Xt(l),w_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,m),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==b&&Yo(l);else{if(typeof b!="string"&&l.stateNode===null)throw Error(r(166));if(s=me.current,Aa(l)){if(s=l.stateNode,m=l.memoizedProps,b=null,A=_t,A!==null)switch(A.tag){case 27:case 5:b=A.memoizedProps}s[An]=l,s=!!(s.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||sN(s.nodeValue,m)),s||ao(l,!0)}else s=$g(s).createTextNode(b),s[An]=l,l.stateNode=s}return Xt(l),null;case 31:if(m=l.memoizedState,s===null||s.memoizedState!==null){if(b=Aa(l),m!==null){if(s===null){if(!b)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[An]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),s=!1}else m=Yf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return l.flags&256?(wi(l),l):(wi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Xt(l),null;case 13:if(b=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Aa(l),b!==null&&b.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[An]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Xt(l),A=!1}else A=Yf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(wi(l),l):(wi(l),null)}return wi(l),(l.flags&128)!==0?(l.lanes=m,l):(m=b!==null,s=s!==null&&s.memoizedState!==null,m&&(b=l.child,A=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(A=b.alternate.memoizedState.cachePool.pool),j=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),j!==A&&(b.flags|=2048)),m!==s&&m&&(l.child.flags|=8192),Sg(l,l.updateQueue),Xt(l),null);case 4:return ne(),s===null&&G_(l.stateNode.containerInfo),Xt(l),null;case 10:return Fo(l.type),Xt(l),null;case 19:if(W(_n),b=l.memoizedState,b===null)return Xt(l),null;if(A=(l.flags&128)!==0,j=b.rendering,j===null)if(A)ah(b,!1);else{if(yn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(j=ug(s),j!==null){for(l.flags|=128,ah(b,!1),s=j.updateQueue,l.updateQueue=s,Sg(l,s),l.subtreeFlags=0,s=m,m=l.child;m!==null;)Ff(m,s),m=m.sibling;return ae(_n,_n.current&1|2),ut&&qe(l,b.treeForkCount),l.child}s=s.sibling}b.tail!==null&&Be()>Og&&(l.flags|=128,A=!0,ah(b,!1),l.lanes=4194304)}else{if(!A)if(s=ug(j),s!==null){if(l.flags|=128,A=!0,s=s.updateQueue,l.updateQueue=s,Sg(l,s),ah(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!ut)return Xt(l),null}else 2*Be()-b.renderingStartTime>Og&&m!==536870912&&(l.flags|=128,A=!0,ah(b,!1),l.lanes=4194304);b.isBackwards?(j.sibling=l.child,l.child=j):(s=b.last,s!==null?s.sibling=j:l.child=j,b.last=j)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Be(),s.sibling=null,m=_n.current,ae(_n,A?m&1|2:m&1),ut&&qe(l,b.treeForkCount),s):(Xt(l),null);case 22:case 23:return wi(l),qx(),b=l.memoizedState!==null,s!==null?s.memoizedState!==null!==b&&(l.flags|=8192):b&&(l.flags|=8192),b?(m&536870912)!==0&&(l.flags&128)===0&&(Xt(l),l.subtreeFlags&6&&(l.flags|=8192)):Xt(l),m=l.updateQueue,m!==null&&Sg(l,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==m&&(l.flags|=2048),s!==null&&W(mc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Fo(On),Xt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function sF(s,l){switch(pn(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Fo(On),ne(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ce(l),null;case 31:if(l.memoizedState!==null){if(wi(l),l.alternate===null)throw Error(r(340));Uo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(wi(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Uo()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return W(_n),null;case 4:return ne(),null;case 10:return Fo(l.type),null;case 22:case 23:return wi(l),qx(),s!==null&&W(mc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Fo(On),null;case 25:return null;default:return null}}function fj(s,l){switch(pn(l),l.tag){case 3:Fo(On),ne();break;case 26:case 27:case 5:Ce(l);break;case 4:ne();break;case 31:l.memoizedState!==null&&wi(l);break;case 13:wi(l);break;case 19:W(_n);break;case 10:Fo(l.type);break;case 22:case 23:wi(l),qx(),s!==null&&W(mc);break;case 24:Fo(On)}}function oh(s,l){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var A=b.next;m=A;do{if((m.tag&s)===s){b=void 0;var j=m.create,I=m.inst;b=j(),I.destroy=b}m=m.next}while(m!==A)}}catch(G){Rt(l,l.return,G)}}function rl(s,l,m){try{var b=l.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var j=A.next;b=j;do{if((b.tag&s)===s){var I=b.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,A=l;var te=m,he=G;try{he()}catch(Ee){Rt(A,te,Ee)}}}b=b.next}while(b!==j)}}catch(Ee){Rt(l,l.return,Ee)}}function hj(s){var l=s.updateQueue;if(l!==null){var m=s.stateNode;try{rO(l,m)}catch(b){Rt(s,s.return,b)}}}function mj(s,l,m){m.props=vc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(b){Rt(s,l,b)}}function sh(s,l){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var b=s.stateNode;break;case 30:b=s.stateNode;break;default:b=s.stateNode}typeof m=="function"?s.refCleanup=m(b):m.current=b}}catch(A){Rt(s,l,A)}}function so(s,l){var m=s.ref,b=s.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(A){Rt(s,l,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){Rt(s,l,A)}else m.current=null}function pj(s){var l=s.type,m=s.memoizedProps,b=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(A){Rt(s,s.return,A)}}function S_(s,l,m){try{var b=s.stateNode;jF(b,s.type,m,l),b[Xn]=l}catch(A){Rt(s,s.return,A)}}function gj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ul(s.type)||s.tag===4}function E_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ul(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function k_(s,l,m){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,l):(l=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,l.appendChild(s),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=qr));else if(b!==4&&(b===27&&ul(s.type)&&(m=s.stateNode,l=null),s=s.child,s!==null))for(k_(s,l,m),s=s.sibling;s!==null;)k_(s,l,m),s=s.sibling}function Eg(s,l,m){var b=s.tag;if(b===5||b===6)s=s.stateNode,l?m.insertBefore(s,l):m.appendChild(s);else if(b!==4&&(b===27&&ul(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Eg(s,l,m),s=s.sibling;s!==null;)Eg(s,l,m),s=s.sibling}function yj(s){var l=s.stateNode,m=s.memoizedProps;try{for(var b=s.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);fr(l,b,m),l[An]=s,l[Xn]=m}catch(j){Rt(s,s.return,j)}}var Ko=!1,Cn=!1,A_=!1,bj=typeof WeakSet=="function"?WeakSet:Set,er=null;function lF(s,l){if(s=s.containerInfo,K_=qg,s=rc(s),Qa(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var A=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,he=0,Ee=0,Te=s,ye=null;t:for(;;){for(var xe;Te!==m||A!==0&&Te.nodeType!==3||(G=I+A),Te!==j||b!==0&&Te.nodeType!==3||(te=I+b),Te.nodeType===3&&(I+=Te.nodeValue.length),(xe=Te.firstChild)!==null;)ye=Te,Te=xe;for(;;){if(Te===s)break t;if(ye===m&&++he===A&&(G=I),ye===j&&++Ee===b&&(te=I),(xe=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=xe}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(W_={focusedElem:s,selectionRange:m},qg=!1,er=l;er!==null;)if(l=er,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,er=s;else for(;er!==null;){switch(l=er,j=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)A=s[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&j!==null){s=void 0,m=l,A=j.memoizedProps,j=j.memoizedState,b=m.stateNode;try{var ze=vc(m.type,A);s=b.getSnapshotBeforeUpdate(ze,j),b.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Rt(m,m.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,m=s.nodeType,m===9)X_(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":X_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,er=s;break}er=l.return}}function vj(s,l,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:Vo(s,m),b&4&&oh(5,m);break;case 1:if(Vo(s,m),b&4)if(s=m.stateNode,l===null)try{s.componentDidMount()}catch(I){Rt(m,m.return,I)}else{var A=vc(m.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(A,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(m,m.return,I)}}b&64&&hj(m),b&512&&sh(m,m.return);break;case 3:if(Vo(s,m),b&64&&(s=m.updateQueue,s!==null)){if(l=null,m.child!==null)switch(m.child.tag){case 27:case 5:l=m.child.stateNode;break;case 1:l=m.child.stateNode}try{rO(s,l)}catch(I){Rt(m,m.return,I)}}break;case 27:l===null&&b&4&&yj(m);case 26:case 5:Vo(s,m),l===null&&b&4&&pj(m),b&512&&sh(m,m.return);break;case 12:Vo(s,m);break;case 31:Vo(s,m),b&4&&wj(s,m);break;case 13:Vo(s,m),b&4&&Sj(s,m),b&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=yF.bind(null,m),IF(s,m))));break;case 22:if(b=m.memoizedState!==null||Ko,!b){l=l!==null&&l.memoizedState!==null||Cn,A=Ko;var j=Cn;Ko=b,(Cn=l)&&!j?Zo(s,m,(m.subtreeFlags&8772)!==0):Vo(s,m),Ko=A,Cn=j}break;case 30:break;default:Vo(s,m)}}function xj(s){var l=s.alternate;l!==null&&(s.alternate=null,xj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Ef(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Zr=!1;function Wo(s,l,m){for(m=m.child;m!==null;)_j(s,l,m),m=m.sibling}function _j(s,l,m){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(qt,m)}catch{}switch(m.tag){case 26:Cn||so(m,l),Wo(s,l,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Cn||so(m,l);var b=tn,A=Zr;ul(m.type)&&(tn=m.stateNode,Zr=!1),Wo(s,l,m),gh(m.stateNode),tn=b,Zr=A;break;case 5:Cn||so(m,l);case 6:if(b=tn,A=Zr,tn=null,Wo(s,l,m),tn=b,Zr=A,tn!==null)if(Zr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(m.stateNode)}catch(j){Rt(m,l,j)}else try{tn.removeChild(m.stateNode)}catch(j){Rt(m,l,j)}break;case 18:tn!==null&&(Zr?(s=tn,hN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),Zu(s)):hN(tn,m.stateNode));break;case 4:b=tn,A=Zr,tn=m.stateNode.containerInfo,Zr=!0,Wo(s,l,m),tn=b,Zr=A;break;case 0:case 11:case 14:case 15:rl(2,m,l),Cn||rl(4,m,l),Wo(s,l,m);break;case 1:Cn||(so(m,l),b=m.stateNode,typeof b.componentWillUnmount=="function"&&mj(m,l,b)),Wo(s,l,m);break;case 21:Wo(s,l,m);break;case 22:Cn=(b=Cn)||m.memoizedState!==null,Wo(s,l,m),Cn=b;break;default:Wo(s,l,m)}}function wj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zu(s)}catch(m){Rt(l,l.return,m)}}}function Sj(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zu(s)}catch(m){Rt(l,l.return,m)}}function cF(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new bj),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new bj),l;default:throw Error(r(435,s.tag))}}function kg(s,l){var m=cF(s);l.forEach(function(b){if(!m.has(b)){m.add(b);var A=bF.bind(null,s,b);b.then(A,A)}})}function Xr(s,l){var m=l.deletions;if(m!==null)for(var b=0;b<m.length;b++){var A=m[b],j=s,I=l,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(ul(G.type)){tn=G.stateNode,Zr=!1;break e}break;case 5:tn=G.stateNode,Zr=!1;break e;case 3:case 4:tn=G.stateNode.containerInfo,Zr=!0;break e}G=G.return}if(tn===null)throw Error(r(160));_j(j,I,A),tn=null,Zr=!1,j=A.alternate,j!==null&&(j.return=null),A.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ej(l,s),l=l.sibling}var Oa=null;function Ej(s,l){var m=s.alternate,b=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Xr(l,s),Jr(s),b&4&&(rl(3,s,s.return),oh(3,s),rl(5,s,s.return));break;case 1:Xr(l,s),Jr(s),b&512&&(Cn||m===null||so(m,m.return)),b&64&&Ko&&(s=s.updateQueue,s!==null&&(b=s.callbacks,b!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var A=Oa;if(Xr(l,s),Jr(s),b&512&&(Cn||m===null||so(m,m.return)),b&4){var j=m!==null?m.memoizedState:null;if(b=s.memoizedState,m===null)if(b===null)if(s.stateNode===null){e:{b=s.type,m=s.memoizedProps,A=A.ownerDocument||A;t:switch(b){case"title":j=A.getElementsByTagName("title")[0],(!j||j[Ul]||j[An]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=A.createElement(b),A.head.insertBefore(j,A.querySelector("head > title"))),fr(j,b,m),j[An]=s,Tn(j),b=j;break e;case"link":var I=EN("link","href",A).get(b+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(j=I[G],j.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&j.getAttribute("rel")===(m.rel==null?null:m.rel)&&j.getAttribute("title")===(m.title==null?null:m.title)&&j.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,m),A.head.appendChild(j);break;case"meta":if(I=EN("meta","content",A).get(b+(m.content||""))){for(G=0;G<I.length;G++)if(j=I[G],j.getAttribute("content")===(m.content==null?null:""+m.content)&&j.getAttribute("name")===(m.name==null?null:m.name)&&j.getAttribute("property")===(m.property==null?null:m.property)&&j.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&j.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}j=A.createElement(b),fr(j,b,m),A.head.appendChild(j);break;default:throw Error(r(468,b))}j[An]=s,Tn(j),b=j}s.stateNode=b}else kN(A,s.type,s.stateNode);else s.stateNode=SN(A,b,s.memoizedProps);else j!==b?(j===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):j.count--,b===null?kN(A,s.type,s.stateNode):SN(A,b,s.memoizedProps)):b===null&&s.stateNode!==null&&S_(s,s.memoizedProps,m.memoizedProps)}break;case 27:Xr(l,s),Jr(s),b&512&&(Cn||m===null||so(m,m.return)),m!==null&&b&4&&S_(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Xr(l,s),Jr(s),b&512&&(Cn||m===null||so(m,m.return)),s.flags&32){A=s.stateNode;try{Gi(A,"")}catch(ze){Rt(s,s.return,ze)}}b&4&&s.stateNode!=null&&(A=s.memoizedProps,S_(s,A,m!==null?m.memoizedProps:A)),b&1024&&(A_=!0);break;case 6:if(Xr(l,s),Jr(s),b&4){if(s.stateNode===null)throw Error(r(162));b=s.memoizedProps,m=s.stateNode;try{m.nodeValue=b}catch(ze){Rt(s,s.return,ze)}}break;case 3:if(Ug=null,A=Oa,Oa=Bg(l.containerInfo),Xr(l,s),Oa=A,Jr(s),b&4&&m!==null&&m.memoizedState.isDehydrated)try{Zu(l.containerInfo)}catch(ze){Rt(s,s.return,ze)}A_&&(A_=!1,kj(s));break;case 4:b=Oa,Oa=Bg(s.stateNode.containerInfo),Xr(l,s),Jr(s),Oa=b;break;case 12:Xr(l,s),Jr(s);break;case 31:Xr(l,s),Jr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,kg(s,b)));break;case 13:Xr(l,s),Jr(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Tg=Be()),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,kg(s,b)));break;case 22:A=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,he=Ko,Ee=Cn;if(Ko=he||A,Cn=Ee||te,Xr(l,s),Cn=Ee,Ko=he,Jr(s),b&8192)e:for(l=s.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(m===null||te||Ko||Cn||xc(s)),m=null,l=s;;){if(l.tag===5||l.tag===26){if(m===null){te=m=l;try{if(j=te.stateNode,A)I=j.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var Te=te.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;G.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===6){if(m===null){te=l;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(ze){Rt(te,te.return,ze)}}}else if(l.tag===18){if(m===null){te=l;try{var xe=te.stateNode;A?mN(xe,!0):mN(te.stateNode,!1)}catch(ze){Rt(te,te.return,ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;m===l&&(m=null),l=l.return}m===l&&(m=null),l.sibling.return=l.return,l=l.sibling}b&4&&(b=s.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,kg(s,m))));break;case 19:Xr(l,s),Jr(s),b&4&&(b=s.updateQueue,b!==null&&(s.updateQueue=null,kg(s,b)));break;case 30:break;case 21:break;default:Xr(l,s),Jr(s)}}function Jr(s){var l=s.flags;if(l&2){try{for(var m,b=s.return;b!==null;){if(gj(b)){m=b;break}b=b.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,j=E_(s);Eg(s,j,A);break;case 5:var I=m.stateNode;m.flags&32&&(Gi(I,""),m.flags&=-33);var G=E_(s);Eg(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,he=E_(s);k_(s,he,te);break;default:throw Error(r(161))}}catch(Ee){Rt(s,s.return,Ee)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function kj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;kj(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Vo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vj(s,l.alternate,l),l=l.sibling}function xc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:rl(4,l,l.return),xc(l);break;case 1:so(l,l.return);var m=l.stateNode;typeof m.componentWillUnmount=="function"&&mj(l,l.return,m),xc(l);break;case 27:gh(l.stateNode);case 26:case 5:so(l,l.return),xc(l);break;case 22:l.memoizedState===null&&xc(l);break;case 30:xc(l);break;default:xc(l)}s=s.sibling}}function Zo(s,l,m){for(m=m&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var b=l.alternate,A=s,j=l,I=j.flags;switch(j.tag){case 0:case 11:case 15:Zo(A,j,m),oh(4,j);break;case 1:if(Zo(A,j,m),b=j,A=b.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(he){Rt(b,b.return,he)}if(b=j,A=b.updateQueue,A!==null){var G=b.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)nO(te[A],G)}catch(he){Rt(b,b.return,he)}}m&&I&64&&hj(j),sh(j,j.return);break;case 27:yj(j);case 26:case 5:Zo(A,j,m),m&&b===null&&I&4&&pj(j),sh(j,j.return);break;case 12:Zo(A,j,m);break;case 31:Zo(A,j,m),m&&I&4&&wj(A,j);break;case 13:Zo(A,j,m),m&&I&4&&Sj(A,j);break;case 22:j.memoizedState===null&&Zo(A,j,m),sh(j,j.return);break;case 30:break;default:Zo(A,j,m)}l=l.sibling}}function T_(s,l){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Kf(m))}function O_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Kf(s))}function ja(s,l,m,b){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Aj(s,l,m,b),l=l.sibling}function Aj(s,l,m,b){var A=l.flags;switch(l.tag){case 0:case 11:case 15:ja(s,l,m,b),A&2048&&oh(9,l);break;case 1:ja(s,l,m,b);break;case 3:ja(s,l,m,b),A&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Kf(s)));break;case 12:if(A&2048){ja(s,l,m,b),s=l.stateNode;try{var j=l.memoizedProps,I=j.id,G=j.onPostCommit;typeof G=="function"&&G(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Rt(l,l.return,te)}}else ja(s,l,m,b);break;case 31:ja(s,l,m,b);break;case 13:ja(s,l,m,b);break;case 23:break;case 22:j=l.stateNode,I=l.alternate,l.memoizedState!==null?j._visibility&2?ja(s,l,m,b):lh(s,l):j._visibility&2?ja(s,l,m,b):(j._visibility|=2,Bu(s,l,m,b,(l.subtreeFlags&10256)!==0||!1)),A&2048&&T_(I,l);break;case 24:ja(s,l,m,b),A&2048&&O_(l.alternate,l);break;default:ja(s,l,m,b)}}function Bu(s,l,m,b,A){for(A=A&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var j=s,I=l,G=m,te=b,he=I.flags;switch(I.tag){case 0:case 11:case 15:Bu(j,I,G,te,A),oh(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?Bu(j,I,G,te,A):lh(j,I):(Ee._visibility|=2,Bu(j,I,G,te,A)),A&&he&2048&&T_(I.alternate,I);break;case 24:Bu(j,I,G,te,A),A&&he&2048&&O_(I.alternate,I);break;default:Bu(j,I,G,te,A)}l=l.sibling}}function lh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var m=s,b=l,A=b.flags;switch(b.tag){case 22:lh(m,b),A&2048&&T_(b.alternate,b);break;case 24:lh(m,b),A&2048&&O_(b.alternate,b);break;default:lh(m,b)}l=l.sibling}}var ch=8192;function zu(s,l,m){if(s.subtreeFlags&ch)for(s=s.child;s!==null;)Tj(s,l,m),s=s.sibling}function Tj(s,l,m){switch(s.tag){case 26:zu(s,l,m),s.flags&ch&&s.memoizedState!==null&&VF(m,Oa,s.memoizedState,s.memoizedProps);break;case 5:zu(s,l,m);break;case 3:case 4:var b=Oa;Oa=Bg(s.stateNode.containerInfo),zu(s,l,m),Oa=b;break;case 22:s.memoizedState===null&&(b=s.alternate,b!==null&&b.memoizedState!==null?(b=ch,ch=16777216,zu(s,l,m),ch=b):zu(s,l,m));break;default:zu(s,l,m)}}function Oj(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function uh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];er=b,Nj(b,s)}Oj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jj(s),s=s.sibling}function jj(s){switch(s.tag){case 0:case 11:case 15:uh(s),s.flags&2048&&rl(9,s,s.return);break;case 3:uh(s);break;case 12:uh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Ag(s)):uh(s);break;default:uh(s)}}function Ag(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var b=l[m];er=b,Nj(b,s)}Oj(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:rl(8,l,l.return),Ag(l);break;case 22:m=l.stateNode,m._visibility&2&&(m._visibility&=-3,Ag(l));break;default:Ag(l)}s=s.sibling}}function Nj(s,l){for(;er!==null;){var m=er;switch(m.tag){case 0:case 11:case 15:rl(8,m,l);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Kf(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,er=b;else e:for(m=s;er!==null;){b=er;var A=b.sibling,j=b.return;if(xj(b),b===m){er=null;break e}if(A!==null){A.return=j,er=A;break e}er=j}}}var uF={getCacheForType:function(s){var l=ur(On),m=l.data.get(s);return m===void 0&&(m=s(),l.data.set(s,m)),m},cacheSignal:function(){return ur(On).controller.signal}},dF=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Ft=null,dt=null,mt=0,Dt=0,Si=null,il=!1,Uu=!1,j_=!1,Xo=0,yn=0,al=0,_c=0,N_=0,Ei=0,Fu=0,dh=null,Qr=null,C_=!1,Tg=0,Cj=0,Og=1/0,jg=null,ol=null,Bn=0,sl=null,Hu=null,Jo=0,M_=0,P_=null,Mj=null,fh=0,D_=null;function ki(){return(Tt&2)!==0&&mt!==0?mt&-mt:Y.T!==null?z_():wf()}function Pj(){if(Ei===0)if((mt&536870912)===0||ut){var s=$l;$l<<=1,($l&3932160)===0&&($l=262144),Ei=s}else Ei=536870912;return s=_i.current,s!==null&&(s.flags|=32),Ei}function ei(s,l,m){(s===Ft&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)&&(Gu(s,0),ll(s,mt,Ei,!1)),Co(s,m),((Tt&2)===0||s!==Ft)&&(s===Ft&&((Tt&2)===0&&(_c|=m),yn===4&&ll(s,mt,Ei,!1)),lo(s))}function Dj(s,l,m){if((Tt&6)!==0)throw Error(r(327));var b=!m&&(l&127)===0&&(l&s.expiredLanes)===0||zl(s,l),A=b?mF(s,l):L_(s,l,!0),j=b;do{if(A===0){Uu&&!b&&ll(s,l,0,!1);break}else{if(m=s.current.alternate,j&&!fF(m)){A=L_(s,l,!1),j=!1;continue}if(A===2){if(j=l,s.errorRecoveryDisabledLanes&j)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var G=s;A=dh;var te=G.current.memoizedState.isDehydrated;if(te&&(Gu(G,I).flags|=256),I=L_(G,I,!1),I!==2){if(j_&&!te){G.errorRecoveryDisabledLanes|=j,_c|=j,A=4;break e}j=Qr,Qr=A,j!==null&&(Qr===null?Qr=j:Qr.push.apply(Qr,j))}A=I}if(j=!1,A!==2)continue}}if(A===1){Gu(s,0),ll(s,l,0,!0);break}e:{switch(b=s,j=A,j){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ll(b,l,Ei,!il);break e;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(A=Tg+300-Be(),10<A)){if(ll(b,l,Ei,!il),uu(b,0,!0)!==0)break e;Jo=l,b.timeoutHandle=dN(Rj.bind(null,b,m,Qr,jg,C_,l,Ei,_c,Fu,il,j,"Throttled",-0,0),A);break e}Rj(b,m,Qr,jg,C_,l,Ei,_c,Fu,il,j,null,-0,0)}}break}while(!0);lo(s)}function Rj(s,l,m,b,A,j,I,G,te,he,Ee,Te,ye,xe){if(s.timeoutHandle=-1,Te=l.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qr},Tj(l,j,Te);var ze=(j&62914560)===j?Tg-Be():(j&4194048)===j?Cj-Be():0;if(ze=ZF(Te,ze),ze!==null){Jo=j,s.cancelPendingCommit=ze(Hj.bind(null,s,l,j,m,b,A,I,G,te,Ee,Te,null,ye,xe)),ll(s,j,I,!he);return}}Hj(s,l,j,m,b,A,I,G,te)}function fF(s){for(var l=s;;){var m=l.tag;if((m===0||m===11||m===15)&&l.flags&16384&&(m=l.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var A=m[b],j=A.getSnapshot;A=A.value;try{if(!Jn(j(),A))return!1}catch{return!1}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ll(s,l,m,b){l&=~N_,l&=~_c,s.suspendedLanes|=l,s.pingedLanes&=~l,b&&(s.warmLanes|=l),b=s.expirationTimes;for(var A=l;0<A;){var j=31-Or(A),I=1<<j;b[j]=-1,A&=~I}m!==0&&Op(s,m,l)}function Ng(){return(Tt&6)===0?(hh(0),!1):!0}function R_(){if(dt!==null){if(Dt===0)var s=dt.return;else s=dt,Ta=oo=null,Xx(s),Du=null,Vf=0,s=dt;for(;s!==null;)fj(s.alternate,s),s=s.return;dt=null}}function Gu(s,l){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,MF(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Jo=0,R_(),Ft=s,dt=m=Xi(s.current,null),mt=l,Dt=0,Si=null,il=!1,Uu=zl(s,l),j_=!1,Fu=Ei=N_=_c=al=yn=0,Qr=dh=null,C_=!1,(l&8)!==0&&(l|=l&32);var b=s.entangledLanes;if(b!==0)for(s=s.entanglements,b&=l;0<b;){var A=31-Or(b),j=1<<A;l|=s[A],b&=~j}return Xo=l,lc(),m}function Lj(s,l){it=null,Y.H=rh,l===Pu||l===ag?(l=JT(),Dt=3):l===Bx?(l=JT(),Dt=4):Dt=l===h_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Si=l,dt===null&&(yn=1,vg(s,y(l,s.current)))}function Ij(){var s=_i.current;return s===null?!0:(mt&4194048)===mt?Ji===null:(mt&62914560)===mt||(mt&536870912)!==0?s===Ji:!1}function $j(){var s=Y.H;return Y.H=rh,s===null?rh:s}function Bj(){var s=Y.A;return Y.A=uF,s}function Cg(){yn=4,il||(mt&4194048)!==mt&&_i.current!==null||(Uu=!0),(al&134217727)===0&&(_c&134217727)===0||Ft===null||ll(Ft,mt,Ei,!1)}function L_(s,l,m){var b=Tt;Tt|=2;var A=$j(),j=Bj();(Ft!==s||mt!==l)&&(jg=null,Gu(s,l)),l=!1;var I=yn;e:do try{if(Dt!==0&&dt!==null){var G=dt,te=Si;switch(Dt){case 8:R_(),I=6;break e;case 3:case 2:case 9:case 6:_i.current===null&&(l=!0);var he=Dt;if(Dt=0,Si=null,qu(s,G,te,he),m&&Uu){I=0;break e}break;default:he=Dt,Dt=0,Si=null,qu(s,G,te,he)}}hF(),I=yn;break}catch(Ee){Lj(s,Ee)}while(!0);return l&&s.shellSuspendCounter++,Ta=oo=null,Tt=b,Y.H=A,Y.A=j,dt===null&&(Ft=null,mt=0,lc()),I}function hF(){for(;dt!==null;)zj(dt)}function mF(s,l){var m=Tt;Tt|=2;var b=$j(),A=Bj();Ft!==s||mt!==l?(jg=null,Og=Be()+500,Gu(s,l)):Uu=zl(s,l);e:do try{if(Dt!==0&&dt!==null){l=dt;var j=Si;t:switch(Dt){case 1:Dt=0,Si=null,qu(s,l,j,1);break;case 2:case 9:if(ZT(j)){Dt=0,Si=null,Uj(l);break}l=function(){Dt!==2&&Dt!==9||Ft!==s||(Dt=7),lo(s)},j.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:ZT(j)?(Dt=0,Si=null,Uj(l)):(Dt=0,Si=null,qu(s,l,j,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var G=dt;if(I?AN(I):G.stateNode.complete){Dt=0,Si=null;var te=G.sibling;if(te!==null)dt=te;else{var he=G.return;he!==null?(dt=he,Mg(he)):dt=null}break t}}Dt=0,Si=null,qu(s,l,j,5);break;case 6:Dt=0,Si=null,qu(s,l,j,6);break;case 8:R_(),yn=6;break e;default:throw Error(r(462))}}pF();break}catch(Ee){Lj(s,Ee)}while(!0);return Ta=oo=null,Y.H=b,Y.A=A,Tt=m,dt!==null?0:(Ft=null,mt=0,lc(),yn)}function pF(){for(;dt!==null&&!fe();)zj(dt)}function zj(s){var l=uj(s.alternate,s,Xo);s.memoizedProps=s.pendingProps,l===null?Mg(s):dt=l}function Uj(s){var l=s,m=l.alternate;switch(l.tag){case 15:case 0:l=ij(m,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=ij(m,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:Xx(l);default:fj(m,l),l=dt=Ff(l,Xo),l=uj(m,l,Xo)}s.memoizedProps=s.pendingProps,l===null?Mg(s):dt=l}function qu(s,l,m,b){Ta=oo=null,Xx(l),Du=null,Vf=0;var A=l.return;try{if(rF(s,A,l,m,mt)){yn=1,vg(s,y(m,s.current)),dt=null;return}}catch(j){if(A!==null)throw dt=A,j;yn=1,vg(s,y(m,s.current)),dt=null;return}l.flags&32768?(ut||b===1?s=!0:Uu||(mt&536870912)!==0?s=!1:(il=s=!0,(b===2||b===9||b===3||b===6)&&(b=_i.current,b!==null&&b.tag===13&&(b.flags|=16384))),Fj(l,s)):Mg(l)}function Mg(s){var l=s;do{if((l.flags&32768)!==0){Fj(l,il);return}s=l.return;var m=oF(l.alternate,l,Xo);if(m!==null){dt=m;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=s}while(l!==null);yn===0&&(yn=5)}function Fj(s,l){do{var m=sF(s.alternate,s);if(m!==null){m.flags&=32767,dt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!l&&(s=s.sibling,s!==null)){dt=s;return}dt=s=m}while(s!==null);yn=6,dt=null}function Hj(s,l,m,b,A,j,I,G,te){s.cancelPendingCommit=null;do Pg();while(Bn!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(j=l.lanes|l.childLanes,j|=Au,bx(s,m,j,I,G,te),s===Ft&&(dt=Ft=null,mt=0),Hu=l,sl=s,Jo=m,M_=j,P_=A,Mj=b,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,vF(Zn,function(){return Wj(),null})):(s.callbackNode=null,s.callbackPriority=0),b=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||b){b=Y.T,Y.T=null,A=X.p,X.p=2,I=Tt,Tt|=4;try{lF(s,l,m)}finally{Tt=I,X.p=A,Y.T=b}}Bn=1,Gj(),qj(),Yj()}}function Gj(){if(Bn===1){Bn=0;var s=sl,l=Hu,m=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var b=X.p;X.p=2;var A=Tt;Tt|=4;try{Ej(l,s);var j=W_,I=rc(s.containerInfo),G=j.focusedElem,te=j.selectionRange;if(I!==G&&G&&G.ownerDocument&&wu(G.ownerDocument.documentElement,G)){if(te!==null&&Qa(G)){var he=te.start,Ee=te.end;if(Ee===void 0&&(Ee=he),"selectionStart"in G)G.selectionStart=he,G.selectionEnd=Math.min(Ee,G.value.length);else{var Te=G.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),ze=G.textContent.length,Qe=Math.min(te.start,ze),zt=te.end===void 0?Qe:Math.min(te.end,ze);!xe.extend&&Qe>zt&&(I=zt,zt=Qe,Qe=I);var le=nc(G,Qe),ie=nc(G,zt);if(le&&ie&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var de=Te.createRange();de.setStart(le.node,le.offset),xe.removeAllRanges(),Qe>zt?(xe.addRange(de),xe.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),xe.addRange(de))}}}}for(Te=[],xe=G;xe=xe.parentNode;)xe.nodeType===1&&Te.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Te.length;G++){var ke=Te[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}qg=!!K_,W_=K_=null}finally{Tt=A,X.p=b,Y.T=m}}s.current=l,Bn=2}}function qj(){if(Bn===2){Bn=0;var s=sl,l=Hu,m=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var b=X.p;X.p=2;var A=Tt;Tt|=4;try{vj(s,l.alternate,l)}finally{Tt=A,X.p=b,Y.T=m}}Bn=3}}function Yj(){if(Bn===4||Bn===3){Bn=0,Me();var s=sl,l=Hu,m=Jo,b=Mj;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,Hu=sl=null,Kj(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(ol=null),He(m),l=l.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(qt,l,void 0,(l.current.flags&128)===128)}catch{}if(b!==null){l=Y.T,A=X.p,X.p=2,Y.T=null;try{for(var j=s.onRecoverableError,I=0;I<b.length;I++){var G=b[I];j(G.value,{componentStack:G.stack})}}finally{Y.T=l,X.p=A}}(Jo&3)!==0&&Pg(),lo(s),A=s.pendingLanes,(m&261930)!==0&&(A&42)!==0?s===D_?fh++:(fh=0,D_=s):fh=0,hh(0)}}function Kj(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Kf(l)))}function Pg(){return Gj(),qj(),Yj(),Wj()}function Wj(){if(Bn!==5)return!1;var s=sl,l=M_;M_=0;var m=He(Jo),b=Y.T,A=X.p;try{X.p=32>m?32:m,Y.T=null,m=P_,P_=null;var j=sl,I=Jo;if(Bn=0,Hu=sl=null,Jo=0,(Tt&6)!==0)throw Error(r(331));var G=Tt;if(Tt|=4,jj(j.current),Aj(j,j.current,I,m),Tt=G,hh(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(qt,j)}catch{}return!0}finally{X.p=A,Y.T=b,Kj(s,l)}}function Vj(s,l,m){l=y(m,l),l=f_(s.stateNode,l,2),s=el(s,l,2),s!==null&&(Co(s,2),lo(s))}function Rt(s,l,m){if(s.tag===3)Vj(s,s,m);else for(;l!==null;){if(l.tag===3){Vj(l,s,m);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ol===null||!ol.has(b))){s=y(m,s),m=ZO(2),b=el(l,m,2),b!==null&&(XO(m,b,l,s),Co(b,2),lo(b));break}}l=l.return}}function I_(s,l,m){var b=s.pingCache;if(b===null){b=s.pingCache=new dF;var A=new Set;b.set(l,A)}else A=b.get(l),A===void 0&&(A=new Set,b.set(l,A));A.has(m)||(j_=!0,A.add(m),s=gF.bind(null,s,l,m),l.then(s,s))}function gF(s,l,m){var b=s.pingCache;b!==null&&b.delete(l),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ft===s&&(mt&m)===m&&(yn===4||yn===3&&(mt&62914560)===mt&&300>Be()-Tg?(Tt&2)===0&&Gu(s,0):N_|=m,Fu===mt&&(Fu=0)),lo(s)}function Zj(s,l){l===0&&(l=Tp()),s=Zi(s,l),s!==null&&(Co(s,l),lo(s))}function yF(s){var l=s.memoizedState,m=0;l!==null&&(m=l.retryLane),Zj(s,m)}function bF(s,l){var m=0;switch(s.tag){case 31:case 13:var b=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:b=s.stateNode;break;case 22:b=s.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(l),Zj(s,m)}function vF(s,l){return xt(s,l)}var Dg=null,Yu=null,$_=!1,Rg=!1,B_=!1,cl=0;function lo(s){s!==Yu&&s.next===null&&(Yu===null?Dg=Yu=s:Yu=Yu.next=s),Rg=!0,$_||($_=!0,_F())}function hh(s,l){if(!B_&&Rg){B_=!0;do for(var m=!1,b=Dg;b!==null;){if(s!==0){var A=b.pendingLanes;if(A===0)var j=0;else{var I=b.suspendedLanes,G=b.pingedLanes;j=(1<<31-Or(42|s)+1)-1,j&=A&~(I&~G),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(m=!0,eN(b,j))}else j=mt,j=uu(b,b===Ft?j:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(j&3)===0||zl(b,j)||(m=!0,eN(b,j));b=b.next}while(m);B_=!1}}function xF(){Xj()}function Xj(){Rg=$_=!1;var s=0;cl!==0&&CF()&&(s=cl);for(var l=Be(),m=null,b=Dg;b!==null;){var A=b.next,j=Jj(b,l);j===0?(b.next=null,m===null?Dg=A:m.next=A,A===null&&(Yu=m)):(m=b,(s!==0||(j&3)!==0)&&(Rg=!0)),b=A}Bn!==0&&Bn!==5||hh(s),cl!==0&&(cl=0)}function Jj(s,l){for(var m=s.suspendedLanes,b=s.pingedLanes,A=s.expirationTimes,j=s.pendingLanes&-62914561;0<j;){var I=31-Or(j),G=1<<I,te=A[I];te===-1?((G&m)===0||(G&b)!==0)&&(A[I]=yx(G,l)):te<=l&&(s.expiredLanes|=G),j&=~G}if(l=Ft,m=mt,m=uu(s,s===l?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b=s.callbackNode,m===0||s===l&&(Dt===2||Dt===9)||s.cancelPendingCommit!==null)return b!==null&&b!==null&&Pt(b),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||zl(s,m)){if(l=m&-m,l===s.callbackPriority)return l;switch(b!==null&&Pt(b),He(m)){case 2:case 8:m=yt;break;case 32:m=Zn;break;case 268435456:m=pi;break;default:m=Zn}return b=Qj.bind(null,s),m=xt(m,b),s.callbackPriority=l,s.callbackNode=m,l}return b!==null&&b!==null&&Pt(b),s.callbackPriority=2,s.callbackNode=null,2}function Qj(s,l){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Pg()&&s.callbackNode!==m)return null;var b=mt;return b=uu(s,s===Ft?b:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),b===0?null:(Dj(s,b,l),Jj(s,Be()),s.callbackNode!=null&&s.callbackNode===m?Qj.bind(null,s):null)}function eN(s,l){if(Pg())return null;Dj(s,l,!0)}function _F(){PF(function(){(Tt&6)!==0?xt(jt,xF):Xj()})}function z_(){if(cl===0){var s=Cu;s===0&&(s=Il,Il<<=1,(Il&261888)===0&&(Il=256)),cl=s}return cl}function tN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$s(""+s)}function nN(s,l){var m=l.ownerDocument.createElement("input");return m.name=l.name,m.value=l.value,s.id&&m.setAttribute("form",s.id),l.parentNode.insertBefore(m,l),s=new FormData(s),m.parentNode.removeChild(m),s}function wF(s,l,m,b,A){if(l==="submit"&&m&&m.stateNode===A){var j=tN((A[Xn]||null).action),I=b.submitter;I&&(l=(l=I[Xn]||null)?tN(l.formAction):I.getAttribute("formAction"),l!==null&&(j=l,I=null));var G=new pu("action","action",null,b,A);s.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(cl!==0){var te=I?nN(A,I):new FormData(A);o_(m,{pending:!0,data:te,method:A.method,action:j},null,te)}}else typeof j=="function"&&(G.preventDefault(),te=I?nN(A,I):new FormData(A),o_(m,{pending:!0,data:te,method:A.method,action:j},j,te))},currentTarget:A}]})}}for(var U_=0;U_<no.length;U_++){var F_=no[U_],SF=F_.toLowerCase(),EF=F_[0].toUpperCase()+F_.slice(1);Kr(SF,"on"+EF)}Kr(ac,"onAnimationEnd"),Kr(Qp,"onAnimationIteration"),Kr(oc,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Cx,"onTransitionRun"),Kr(eg,"onTransitionStart"),Kr(Mx,"onTransitionCancel"),Kr(Vs,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Do("onBeforeInput",["compositionend","keypress","textInput","paste"]),Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mh));function rN(s,l){l=(l&4)!==0;for(var m=0;m<s.length;m++){var b=s[m],A=b.event;b=b.listeners;e:{var j=void 0;if(l)for(var I=b.length-1;0<=I;I--){var G=b[I],te=G.instance,he=G.currentTarget;if(G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}else for(I=0;I<b.length;I++){if(G=b[I],te=G.instance,he=G.currentTarget,G=G.listener,te!==j&&A.isPropagationStopped())break e;j=G,A.currentTarget=he;try{j(A)}catch(Ee){sc(Ee)}A.currentTarget=null,j=te}}}}function ft(s,l){var m=l[Ka];m===void 0&&(m=l[Ka]=new Set);var b=s+"__bubble";m.has(b)||(iN(l,s,2,!1),m.add(b))}function H_(s,l,m){var b=0;l&&(b|=4),iN(m,s,b,l)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function G_(s){if(!s[Lg]){s[Lg]=!0,Pp.forEach(function(m){m!=="selectionchange"&&(kF.has(m)||H_(m,!1,s),H_(m,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Lg]||(l[Lg]=!0,H_("selectionchange",!1,l))}}function iN(s,l,m,b){switch(PN(l)){case 2:var A=QF;break;case 8:A=eH;break;default:A=aw}m=A.bind(null,l,m,s),A=void 0,!Kl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),b?A!==void 0?s.addEventListener(l,m,{capture:!0,passive:A}):s.addEventListener(l,m,!0):A!==void 0?s.addEventListener(l,m,{passive:A}):s.addEventListener(l,m,!1)}function q_(s,l,m,b,A){var j=b;if((l&1)===0&&(l&2)===0&&b!==null)e:for(;;){if(b===null)return;var I=b.tag;if(I===3||I===4){var G=b.stateNode.containerInfo;if(G===A)break;if(I===4)for(I=b.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;G!==null;){if(I=Po(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){b=j=I;continue e}G=G.parentNode}}b=b.return}Cf(function(){var he=j,Ee=Yl(m),Te=[];e:{var ye=tg.get(s);if(ye!==void 0){var xe=pu,ze=s;switch(s){case"keypress":if(Wl(m)===0)break e;case"keydown":case"keyup":xe=Up;break;case"focusin":ze="focus",xe=Df;break;case"focusout":ze="blur",xe=Df;break;case"beforeblur":case"afterblur":xe=Df;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=kx;break;case ac:case Qp:case oc:xe=Rf;break;case Vs:xe=Gp;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=$o;break;case"copy":case"cut":case"paste":xe=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Fp;break;case"toggle":case"beforetoggle":xe=Xl}var Qe=(l&4)!==0,zt=!Qe&&(s==="scroll"||s==="scrollend"),le=Qe?ye!==null?ye+"Capture":null:ye;Qe=[];for(var ie=he,de;ie!==null;){var ke=ie;if(de=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||de===null||le===null||(ke=Lo(ie,le),ke!=null&&Qe.push(ph(ie,ke,de))),zt)break;ie=ie.return}0<Qe.length&&(ye=new xe(ye,ze,null,m,Ee),Te.push({event:ye,listeners:Qe}))}}if((l&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ye&&m!==mu&&(ze=m.relatedTarget||m.fromElement)&&(Po(ze)||ze[Mo]))break e;if((xe||ye)&&(ye=Ee.window===Ee?Ee:(ye=Ee.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(ze=m.relatedTarget||m.toElement,xe=he,ze=ze?Po(ze):null,ze!==null&&(zt=a(ze),Qe=ze.tag,ze!==zt||Qe!==5&&Qe!==27&&Qe!==6)&&(ze=null)):(xe=null,ze=he),xe!==ze)){if(Qe=Lp,ke="onMouseLeave",le="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=Fp,ke="onPointerLeave",le="onPointerEnter",ie="pointer"),zt=xe==null?ye:Wa(xe),de=ze==null?ye:Wa(ze),ye=new Qe(ke,ie+"leave",xe,m,Ee),ye.target=zt,ye.relatedTarget=de,ke=null,Po(Ee)===he&&(Qe=new Qe(le,ie+"enter",ze,m,Ee),Qe.target=de,Qe.relatedTarget=zt,ke=Qe),zt=ke,xe&&ze)t:{for(Qe=AF,le=xe,ie=ze,de=0,ke=le;ke;ke=Qe(ke))de++;ke=0;for(var Xe=ie;Xe;Xe=Qe(Xe))ke++;for(;0<de-ke;)le=Qe(le),de--;for(;0<ke-de;)ie=Qe(ie),ke--;for(;de--;){if(le===ie||ie!==null&&le===ie.alternate){Qe=le;break t}le=Qe(le),ie=Qe(ie)}Qe=null}else Qe=null;xe!==null&&aN(Te,ye,xe,Qe,!1),ze!==null&&zt!==null&&aN(Te,zt,ze,Qe,!0)}}e:{if(ye=he?Wa(he):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var St=tc;else if(Ki(ye))if(Wp)St=Nx;else{St=jx;var Fe=Ea}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?he&&ql(he.elementType)&&(St=tc):St=qs;if(St&&(St=St(s,he))){Kp(Te,St,m,Ee);break e}Fe&&Fe(s,ye,he),s==="focusout"&&he&&ye.type==="number"&&he.memoizedProps.value!=null&&_a(ye,"number",ye.value)}switch(Fe=he?Wa(he):window,s){case"focusin":(Ki(Fe)||Fe.contentEditable==="true")&&(eo=Fe,Eu=he,ic=null);break;case"focusout":ic=Eu=eo=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,Xp(Te,m,Ee);break;case"selectionchange":if(Su)break;case"keydown":case"keyup":Xp(Te,m,Ee)}var st;if(yu)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Fs?Yp(s,m)&&(pt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(pt="onCompositionStart");pt&&(bu&&m.locale!=="ko"&&(Fs||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Fs&&(st=Xa()):(qi=Ee,Io="value"in qi?qi.value:qi.textContent,Fs=!0)),Fe=Ig(he,pt),0<Fe.length&&(pt=new Lf(pt,s,null,m,Ee),Te.push({event:pt,listeners:Fe}),st?pt.data=st:(st=zf(m),st!==null&&(pt.data=st)))),(st=Tx?xi(s,m):Hs(s,m))&&(pt=Ig(he,"onBeforeInput"),0<pt.length&&(Fe=new Lf("onBeforeInput","beforeinput",null,m,Ee),Te.push({event:Fe,listeners:pt}),Fe.data=st)),wF(Te,s,he,m,Ee)}rN(Te,l)})}function ph(s,l,m){return{instance:s,listener:l,currentTarget:m}}function Ig(s,l){for(var m=l+"Capture",b=[];s!==null;){var A=s,j=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||j===null||(A=Lo(s,m),A!=null&&b.unshift(ph(s,A,j)),A=Lo(s,l),A!=null&&b.push(ph(s,A,j))),s.tag===3)return b;s=s.return}return[]}function AF(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aN(s,l,m,b,A){for(var j=l._reactName,I=[];m!==null&&m!==b;){var G=m,te=G.alternate,he=G.stateNode;if(G=G.tag,te!==null&&te===b)break;G!==5&&G!==26&&G!==27||he===null||(te=he,A?(he=Lo(m,j),he!=null&&I.unshift(ph(m,he,te))):A||(he=Lo(m,j),he!=null&&I.push(ph(m,he,te)))),m=m.return}I.length!==0&&s.push({event:l,listeners:I})}var TF=/\r\n?/g,OF=/\u0000|\uFFFD/g;function oN(s){return(typeof s=="string"?s:""+s).replace(TF,`
`).replace(OF,"")}function sN(s,l){return l=oN(l),oN(s)===l}function Bt(s,l,m,b,A,j){switch(m){case"children":typeof b=="string"?l==="body"||l==="textarea"&&b===""||Gi(s,b):(typeof b=="number"||typeof b=="bigint")&&l!=="body"&&Gi(s,""+b);break;case"className":It(s,"class",b);break;case"tabIndex":It(s,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,m,b);break;case"style":fu(s,b,j);break;case"data":if(l!=="object"){It(s,"data",b);break}case"src":case"href":if(b===""&&(l!=="a"||m!=="href")){s.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(m);break}b=$s(""+b),s.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(m==="formAction"?(l!=="input"&&Bt(s,l,"name",A.name,A,null),Bt(s,l,"formEncType",A.formEncType,A,null),Bt(s,l,"formMethod",A.formMethod,A,null),Bt(s,l,"formTarget",A.formTarget,A,null)):(Bt(s,l,"encType",A.encType,A,null),Bt(s,l,"method",A.method,A,null),Bt(s,l,"target",A.target,A,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){s.removeAttribute(m);break}b=$s(""+b),s.setAttribute(m,b);break;case"onClick":b!=null&&(s.onclick=qr);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":s.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){s.removeAttribute("xlink:href");break}m=$s(""+b),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(m,""+b):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":b===!0?s.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?s.setAttribute(m,b):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?s.setAttribute(m,b):s.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?s.removeAttribute(m):s.setAttribute(m,b);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",b);break;case"xlinkActuate":Gr(s,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Gr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Gr(s,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Gr(s,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Gr(s,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Gr(s,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Gr(s,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Gr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Gr(s,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":ct(s,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=hu.get(m)||m,ct(s,m,b))}}function Y_(s,l,m,b,A,j){switch(m){case"style":fu(s,b,j);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof b=="string"?Gi(s,b):(typeof b=="number"||typeof b=="bigint")&&Gi(s,""+b);break;case"onScroll":b!=null&&ft("scroll",s);break;case"onScrollEnd":b!=null&&ft("scrollend",s);break;case"onClick":b!=null&&(s.onclick=qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dp.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),l=m.slice(2,A?m.length-7:void 0),j=s[Xn]||null,j=j!=null?j[m]:null,typeof j=="function"&&s.removeEventListener(l,j,A),typeof b=="function")){typeof j!="function"&&j!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(l,b,A);break e}m in s?s[m]=b:b===!0?s.setAttribute(m,""):ct(s,m,b)}}}function fr(s,l,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var b=!1,A=!1,j;for(j in m)if(m.hasOwnProperty(j)){var I=m[j];if(I!=null)switch(j){case"src":b=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,j,I,m,null)}}A&&Bt(s,l,"srcSet",m.srcSet,m,null),b&&Bt(s,l,"src",m.src,m,null);return;case"input":ft("invalid",s);var G=j=I=A=null,te=null,he=null;for(b in m)if(m.hasOwnProperty(b)){var Ee=m[b];if(Ee!=null)switch(b){case"name":A=Ee;break;case"type":I=Ee;break;case"checked":te=Ee;break;case"defaultChecked":he=Ee;break;case"value":j=Ee;break;case"defaultValue":G=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Bt(s,l,b,Ee,m,null)}}Gl(s,j,G,te,he,I,A,!1);return;case"select":ft("invalid",s),b=I=j=null;for(A in m)if(m.hasOwnProperty(A)&&(G=m[A],G!=null))switch(A){case"value":j=G;break;case"defaultValue":I=G;break;case"multiple":b=G;default:Bt(s,l,A,G,m,null)}l=j,m=I,s.multiple=!!b,l!=null?Ut(s,!!b,l,!1):m!=null&&Ut(s,!!b,m,!0);return;case"textarea":ft("invalid",s),j=A=b=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":b=G;break;case"defaultValue":A=G;break;case"children":j=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Bt(s,l,I,G,m,null)}Ls(s,b,A,j);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(b=m[te],b!=null))switch(te){case"selected":s.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Bt(s,l,te,b,m,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(b=0;b<mh.length;b++)ft(mh[b],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in m)if(m.hasOwnProperty(he)&&(b=m[he],b!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Bt(s,l,he,b,m,null)}return;default:if(ql(l)){for(Ee in m)m.hasOwnProperty(Ee)&&(b=m[Ee],b!==void 0&&Y_(s,l,Ee,b,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(b=m[G],b!=null&&Bt(s,l,G,b,m,null))}function jF(s,l,m,b){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,j=null,I=null,G=null,te=null,he=null,Ee=null;for(xe in m){var Te=m[xe];if(m.hasOwnProperty(xe)&&Te!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:b.hasOwnProperty(xe)||Bt(s,l,xe,null,b,Te)}}for(var ye in b){var xe=b[ye];if(Te=m[ye],b.hasOwnProperty(ye)&&(xe!=null||Te!=null))switch(ye){case"type":j=xe;break;case"name":A=xe;break;case"checked":he=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":G=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:xe!==Te&&Bt(s,l,ye,xe,b,Te)}}Of(s,I,G,te,he,Ee,j,A);return;case"select":xe=I=G=ye=null;for(j in m)if(te=m[j],m.hasOwnProperty(j)&&te!=null)switch(j){case"value":break;case"multiple":xe=te;default:b.hasOwnProperty(j)||Bt(s,l,j,null,b,te)}for(A in b)if(j=b[A],te=m[A],b.hasOwnProperty(A)&&(j!=null||te!=null))switch(A){case"value":ye=j;break;case"defaultValue":G=j;break;case"multiple":I=j;default:j!==te&&Bt(s,l,A,j,b,te)}l=G,m=I,b=xe,ye!=null?Ut(s,!!m,ye,!1):!!b!=!!m&&(l!=null?Ut(s,!!m,l,!0):Ut(s,!!m,m?[]:"",!1));return;case"textarea":xe=ye=null;for(G in m)if(A=m[G],m.hasOwnProperty(G)&&A!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Bt(s,l,G,null,b,A)}for(I in b)if(A=b[I],j=m[I],b.hasOwnProperty(I)&&(A!=null||j!=null))switch(I){case"value":ye=A;break;case"defaultValue":xe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==j&&Bt(s,l,I,A,b,j)}Za(s,ye,xe);return;case"option":for(var ze in m)if(ye=m[ze],m.hasOwnProperty(ze)&&ye!=null&&!b.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:Bt(s,l,ze,null,b,ye)}for(te in b)if(ye=b[te],xe=m[te],b.hasOwnProperty(te)&&ye!==xe&&(ye!=null||xe!=null))switch(te){case"selected":s.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Bt(s,l,te,ye,b,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in m)ye=m[Qe],m.hasOwnProperty(Qe)&&ye!=null&&!b.hasOwnProperty(Qe)&&Bt(s,l,Qe,null,b,ye);for(he in b)if(ye=b[he],xe=m[he],b.hasOwnProperty(he)&&ye!==xe&&(ye!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:Bt(s,l,he,ye,b,xe)}return;default:if(ql(l)){for(var zt in m)ye=m[zt],m.hasOwnProperty(zt)&&ye!==void 0&&!b.hasOwnProperty(zt)&&Y_(s,l,zt,void 0,b,ye);for(Ee in b)ye=b[Ee],xe=m[Ee],!b.hasOwnProperty(Ee)||ye===xe||ye===void 0&&xe===void 0||Y_(s,l,Ee,ye,b,xe);return}}for(var le in m)ye=m[le],m.hasOwnProperty(le)&&ye!=null&&!b.hasOwnProperty(le)&&Bt(s,l,le,null,b,ye);for(Te in b)ye=b[Te],xe=m[Te],!b.hasOwnProperty(Te)||ye===xe||ye==null&&xe==null||Bt(s,l,Te,ye,b,xe)}function lN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NF(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,m=performance.getEntriesByType("resource"),b=0;b<m.length;b++){var A=m[b],j=A.transferSize,I=A.initiatorType,G=A.duration;if(j&&G&&lN(I)){for(I=0,G=A.responseEnd,b+=1;b<m.length;b++){var te=m[b],he=te.startTime;if(he>G)break;var Ee=te.transferSize,Te=te.initiatorType;Ee&&lN(Te)&&(te=te.responseEnd,I+=Ee*(te<G?1:(G-he)/(te-he)))}if(--b,l+=8*(j+I)/(A.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var K_=null,W_=null;function $g(s){return s.nodeType===9?s:s.ownerDocument}function cN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uN(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function V_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Z_=null;function CF(){var s=window.event;return s&&s.type==="popstate"?s===Z_?!1:(Z_=s,!0):(Z_=null,!1)}var dN=typeof setTimeout=="function"?setTimeout:void 0,MF=typeof clearTimeout=="function"?clearTimeout:void 0,fN=typeof Promise=="function"?Promise:void 0,PF=typeof queueMicrotask=="function"?queueMicrotask:typeof fN<"u"?function(s){return fN.resolve(null).then(s).catch(DF)}:dN;function DF(s){setTimeout(function(){throw s})}function ul(s){return s==="head"}function hN(s,l){var m=l,b=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(b===0){s.removeChild(A),Zu(l);return}b--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")b++;else if(m==="html")gh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,gh(m);for(var j=m.firstChild;j;){var I=j.nextSibling,G=j.nodeName;j[Ul]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=I}}else m==="body"&&gh(s.ownerDocument.body);m=A}while(m);Zu(l)}function mN(s,l){var m=s;s=0;do{var b=m.nextSibling;if(m.nodeType===1?l?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(l?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),b&&b.nodeType===8)if(m=b.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=b}while(m)}function X_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var m=l;switch(l=l.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":X_(m),Ef(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function RF(s,l,m,b){for(;s.nodeType===1;){var A=m;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!b&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(b){if(!s[Ul])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(j=s.getAttribute("rel"),j==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(j!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(j=s.getAttribute("src"),(j!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&j&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var j=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===j)return s}else return s;if(s=Qi(s.nextSibling),s===null)break}return null}function LF(s,l,m){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=Qi(s.nextSibling),s===null))return null;return s}function pN(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Qi(s.nextSibling),s===null))return null;return s}function J_(s){return s.data==="$?"||s.data==="$~"}function Q_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function IF(s,l){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||m.readyState!=="loading")l();else{var b=function(){l(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),s._reactRetry=b}}function Qi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var ew=null;function gN(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(l===0)return Qi(s.nextSibling);l--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||l++}s=s.nextSibling}return null}function yN(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(l===0)return s;l--}else m!=="/$"&&m!=="/&"||l++}s=s.previousSibling}return null}function bN(s,l,m){switch(l=$g(m),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function gh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Ef(s)}var ea=new Map,vN=new Set;function Bg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qo=X.d;X.d={f:$F,r:BF,D:zF,C:UF,L:FF,m:HF,X:qF,S:GF,M:YF};function $F(){var s=Qo.f(),l=Ng();return s||l}function BF(s){var l=Ps(s);l!==null&&l.tag===5&&l.type==="form"?LO(l):Qo.r(s)}var Ku=typeof document>"u"?null:document;function xN(s,l,m){var b=Ku;if(b&&typeof l=="string"&&l){var A=Zt(l);A='link[rel="'+s+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),vN.has(A)||(vN.add(A),s={rel:s,crossOrigin:m,href:l},b.querySelector(A)===null&&(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function zF(s){Qo.D(s),xN("dns-prefetch",s,null)}function UF(s,l){Qo.C(s,l),xN("preconnect",s,l)}function FF(s,l,m){Qo.L(s,l,m);var b=Ku;if(b&&s&&l){var A='link[rel="preload"][as="'+Zt(l)+'"]';l==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Zt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Zt(m.imageSizes)+'"]')):A+='[href="'+Zt(s)+'"]';var j=A;switch(l){case"style":j=Wu(s);break;case"script":j=Vu(s)}ea.has(j)||(s=p({rel:"preload",href:l==="image"&&m&&m.imageSrcSet?void 0:s,as:l},m),ea.set(j,s),b.querySelector(A)!==null||l==="style"&&b.querySelector(yh(j))||l==="script"&&b.querySelector(bh(j))||(l=b.createElement("link"),fr(l,"link",s),Tn(l),b.head.appendChild(l)))}}function HF(s,l){Qo.m(s,l);var m=Ku;if(m&&s){var b=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Zt(b)+'"][href="'+Zt(s)+'"]',j=A;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Vu(s)}if(!ea.has(j)&&(s=p({rel:"modulepreload",href:s},l),ea.set(j,s),m.querySelector(A)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(bh(j)))return}b=m.createElement("link"),fr(b,"link",s),Tn(b),m.head.appendChild(b)}}}function GF(s,l,m){Qo.S(s,l,m);var b=Ku;if(b&&s){var A=Ds(b).hoistableStyles,j=Wu(s);l=l||"default";var I=A.get(j);if(!I){var G={loading:0,preload:null};if(I=b.querySelector(yh(j)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},m),(m=ea.get(j))&&tw(s,m);var te=I=b.createElement("link");Tn(te),fr(te,"link",s),te._p=new Promise(function(he,Ee){te.onload=he,te.onerror=Ee}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,zg(I,l,b)}I={type:"stylesheet",instance:I,count:1,state:G},A.set(j,I)}}}function qF(s,l){Qo.X(s,l);var m=Ku;if(m&&s){var b=Ds(m).hoistableScripts,A=Vu(s),j=b.get(A);j||(j=m.querySelector(bh(A)),j||(s=p({src:s,async:!0},l),(l=ea.get(A))&&nw(s,l),j=m.createElement("script"),Tn(j),fr(j,"link",s),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function YF(s,l){Qo.M(s,l);var m=Ku;if(m&&s){var b=Ds(m).hoistableScripts,A=Vu(s),j=b.get(A);j||(j=m.querySelector(bh(A)),j||(s=p({src:s,async:!0,type:"module"},l),(l=ea.get(A))&&nw(s,l),j=m.createElement("script"),Tn(j),fr(j,"link",s),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(A,j))}}function _N(s,l,m,b){var A=(A=me.current)?Bg(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(l=Wu(m.href),m=Ds(A).hoistableStyles,b=m.get(l),b||(b={type:"style",instance:null,count:0,state:null},m.set(l,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=Wu(m.href);var j=Ds(A).hoistableStyles,I=j.get(s);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(s,I),(j=A.querySelector(yh(s)))&&!j._p&&(I.instance=j,I.state.loading=5),ea.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ea.set(s,m),j||KF(A,s,m,I.state))),l&&b===null)throw Error(r(528,""));return I}if(l&&b!==null)throw Error(r(529,""));return null;case"script":return l=m.async,m=m.src,typeof m=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Vu(m),m=Ds(A).hoistableScripts,b=m.get(l),b||(b={type:"script",instance:null,count:0,state:null},m.set(l,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Wu(s){return'href="'+Zt(s)+'"'}function yh(s){return'link[rel="stylesheet"]['+s+"]"}function wN(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function KF(s,l,m,b){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?b.loading=1:(l=s.createElement("link"),b.preload=l,l.addEventListener("load",function(){return b.loading|=1}),l.addEventListener("error",function(){return b.loading|=2}),fr(l,"link",m),Tn(l),s.head.appendChild(l))}function Vu(s){return'[src="'+Zt(s)+'"]'}function bh(s){return"script[async]"+s}function SN(s,l,m){if(l.count++,l.instance===null)switch(l.type){case"style":var b=s.querySelector('style[data-href~="'+Zt(m.href)+'"]');if(b)return l.instance=b,Tn(b),b;var A=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(s.ownerDocument||s).createElement("style"),Tn(b),fr(b,"style",A),zg(b,m.precedence,s),l.instance=b;case"stylesheet":A=Wu(m.href);var j=s.querySelector(yh(A));if(j)return l.state.loading|=4,l.instance=j,Tn(j),j;b=wN(m),(A=ea.get(A))&&tw(b,A),j=(s.ownerDocument||s).createElement("link"),Tn(j);var I=j;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),l.state.loading|=4,zg(j,m.precedence,s),l.instance=j;case"script":return j=Vu(m.src),(A=s.querySelector(bh(j)))?(l.instance=A,Tn(A),A):(b=m,(A=ea.get(j))&&(b=p({},m),nw(b,A)),s=s.ownerDocument||s,A=s.createElement("script"),Tn(A),fr(A,"link",b),s.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(b=l.instance,l.state.loading|=4,zg(b,m.precedence,s));return l.instance}function zg(s,l,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=b.length?b[b.length-1]:null,j=A,I=0;I<b.length;I++){var G=b[I];if(G.dataset.precedence===l)j=G;else if(j!==A)break}j?j.parentNode.insertBefore(s,j.nextSibling):(l=m.nodeType===9?m.head:m,l.insertBefore(s,l.firstChild))}function tw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function nw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ug=null;function EN(s,l,m){if(Ug===null){var b=new Map,A=Ug=new Map;A.set(m,b)}else A=Ug,b=A.get(m),b||(b=new Map,A.set(m,b));if(b.has(s))return b;for(b.set(s,null),m=m.getElementsByTagName(s),A=0;A<m.length;A++){var j=m[A];if(!(j[Ul]||j[An]||s==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var I=j.getAttribute(l)||"";I=s+I;var G=b.get(I);G?G.push(j):b.set(I,[j])}}return b}function kN(s,l,m){s=s.ownerDocument||s,s.head.insertBefore(m,l==="title"?s.querySelector("head > title"):null)}function WF(s,l,m){if(m===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function AN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function VF(s,l,m,b){if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=Wu(b.href),j=l.querySelector(yh(A));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Fg.bind(s),l.then(s,s)),m.state.loading|=4,m.instance=j,Tn(j);return}j=l.ownerDocument||l,b=wN(b),(A=ea.get(A))&&tw(b,A),j=j.createElement("link"),Tn(j);var I=j;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),fr(j,"link",b),m.instance=j}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,l),(l=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Fg.bind(s),l.addEventListener("load",m),l.addEventListener("error",m))}}var rw=0;function ZF(s,l){return s.stylesheets&&s.count===0&&Gg(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var b=setTimeout(function(){if(s.stylesheets&&Gg(s,s.stylesheets),s.unsuspend){var j=s.unsuspend;s.unsuspend=null,j()}},6e4+l);0<s.imgBytes&&rw===0&&(rw=62500*NF());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Gg(s,s.stylesheets),s.unsuspend)){var j=s.unsuspend;s.unsuspend=null,j()}},(s.imgBytes>rw?50:800)+l);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(b),clearTimeout(A)}}:null}function Fg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Hg=null;function Gg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Hg=new Map,l.forEach(XF,s),Hg=null,Fg.call(s))}function XF(s,l){if(!(l.state.loading&4)){var m=Hg.get(s);if(m)var b=m.get(null);else{m=new Map,Hg.set(s,m);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<A.length;j++){var I=A[j];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),b=I)}b&&m.set(null,b)}A=l.instance,I=A.getAttribute("data-precedence"),j=m.get(I)||b,j===b&&m.set(null,A),m.set(I,A),this.count++,b=Fg.bind(this),A.addEventListener("load",b),A.addEventListener("error",b),j?j.parentNode.insertBefore(A,j.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),l.state.loading|=4}}var vh={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function JF(s,l,m,b,A,j,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.hiddenUpdates=_f(null),this.identifierPrefix=b,this.onUncaughtError=A,this.onCaughtError=j,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function TN(s,l,m,b,A,j,I,G,te,he,Ee,Te){return s=new JF(s,l,m,I,te,he,Ee,Te,G),l=1,j===!0&&(l|=24),j=wr(3,null,null,l),s.current=j,j.stateNode=s,l=Lx(),l.refCount++,s.pooledCache=l,l.refCount++,j.memoizedState={element:b,isDehydrated:m,cache:l},zx(j),s}function ON(s){return s?(s=Bo,s):Bo}function jN(s,l,m,b,A,j){A=ON(A),b.context===null?b.context=A:b.pendingContext=A,b=Qs(l),b.payload={element:m},j=j===void 0?null:j,j!==null&&(b.callback=j),m=el(s,b,l),m!==null&&(ei(m,s,l),Xf(m,s,l))}function NN(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<l?m:l}}function iw(s,l){NN(s,l),(s=s.alternate)&&NN(s,l)}function CN(s){if(s.tag===13||s.tag===31){var l=Zi(s,67108864);l!==null&&ei(l,s,67108864),iw(s,67108864)}}function MN(s){if(s.tag===13||s.tag===31){var l=ki();l=Hr(l);var m=Zi(s,l);m!==null&&ei(m,s,l),iw(s,l)}}var qg=!0;function QF(s,l,m,b){var A=Y.T;Y.T=null;var j=X.p;try{X.p=2,aw(s,l,m,b)}finally{X.p=j,Y.T=A}}function eH(s,l,m,b){var A=Y.T;Y.T=null;var j=X.p;try{X.p=8,aw(s,l,m,b)}finally{X.p=j,Y.T=A}}function aw(s,l,m,b){if(qg){var A=ow(b);if(A===null)q_(s,l,b,Yg,m),DN(s,b);else if(nH(A,s,l,m,b))b.stopPropagation();else if(DN(s,b),l&4&&-1<tH.indexOf(s)){for(;A!==null;){var j=Ps(A);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var I=No(j.pendingLanes);if(I!==0){var G=j;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Or(I);G.entanglements[1]|=te,I&=~te}lo(j),(Tt&6)===0&&(Og=Be()+500,hh(0))}}break;case 31:case 13:G=Zi(j,2),G!==null&&ei(G,j,2),Ng(),iw(j,2)}if(j=ow(b),j===null&&q_(s,l,b,Yg,m),j===A)break;A=j}A!==null&&b.stopPropagation()}else q_(s,l,b,null,m)}}function ow(s){return s=Yl(s),sw(s)}var Yg=null;function sw(s){if(Yg=null,s=Po(s),s!==null){var l=a(s);if(l===null)s=null;else{var m=l.tag;if(m===13){if(s=o(l),s!==null)return s;s=null}else if(m===31){if(s=c(l),s!==null)return s;s=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Yg=s,null}function PN(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case jt:return 2;case yt:return 8;case Zn:case mi:return 32;case pi:return 268435456;default:return 32}default:return 32}}var lw=!1,dl=null,fl=null,hl=null,xh=new Map,_h=new Map,ml=[],tH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DN(s,l){switch(s){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":xh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(l.pointerId)}}function wh(s,l,m,b,A,j){return s===null||s.nativeEvent!==j?(s={blockedOn:l,domEventName:m,eventSystemFlags:b,nativeEvent:j,targetContainers:[A]},l!==null&&(l=Ps(l),l!==null&&CN(l)),s):(s.eventSystemFlags|=b,l=s.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),s)}function nH(s,l,m,b,A){switch(l){case"focusin":return dl=wh(dl,s,l,m,b,A),!0;case"dragenter":return fl=wh(fl,s,l,m,b,A),!0;case"mouseover":return hl=wh(hl,s,l,m,b,A),!0;case"pointerover":var j=A.pointerId;return xh.set(j,wh(xh.get(j)||null,s,l,m,b,A)),!0;case"gotpointercapture":return j=A.pointerId,_h.set(j,wh(_h.get(j)||null,s,l,m,b,A)),!0}return!1}function RN(s){var l=Po(s.target);if(l!==null){var m=a(l);if(m!==null){if(l=m.tag,l===13){if(l=o(m),l!==null){s.blockedOn=l,Sf(s.priority,function(){MN(m)});return}}else if(l===31){if(l=c(m),l!==null){s.blockedOn=l,Sf(s.priority,function(){MN(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var m=ow(s.nativeEvent);if(m===null){m=s.nativeEvent;var b=new m.constructor(m.type,m);mu=b,m.target.dispatchEvent(b),mu=null}else return l=Ps(m),l!==null&&CN(l),s.blockedOn=m,!1;l.shift()}return!0}function LN(s,l,m){Kg(s)&&m.delete(l)}function rH(){lw=!1,dl!==null&&Kg(dl)&&(dl=null),fl!==null&&Kg(fl)&&(fl=null),hl!==null&&Kg(hl)&&(hl=null),xh.forEach(LN),_h.forEach(LN)}function Wg(s,l){s.blockedOn===l&&(s.blockedOn=null,lw||(lw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rH)))}var Vg=null;function IN(s){Vg!==s&&(Vg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vg===s&&(Vg=null);for(var l=0;l<s.length;l+=3){var m=s[l],b=s[l+1],A=s[l+2];if(typeof b!="function"){if(sw(b||m)===null)continue;break}var j=Ps(m);j!==null&&(s.splice(l,3),l-=3,o_(j,{pending:!0,data:A,method:m.method,action:b},b,A))}}))}function Zu(s){function l(te){return Wg(te,s)}dl!==null&&Wg(dl,s),fl!==null&&Wg(fl,s),hl!==null&&Wg(hl,s),xh.forEach(l),_h.forEach(l);for(var m=0;m<ml.length;m++){var b=ml[m];b.blockedOn===s&&(b.blockedOn=null)}for(;0<ml.length&&(m=ml[0],m.blockedOn===null);)RN(m),m.blockedOn===null&&ml.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var A=m[b],j=m[b+1],I=A[Xn]||null;if(typeof j=="function")I||IN(m);else if(I){var G=null;if(j&&j.hasAttribute("formAction")){if(A=j,I=j[Xn]||null)G=I.formAction;else if(sw(A)!==null)continue}else G=I.action;typeof G=="function"?m[b+1]=G:(m.splice(b,3),b-=3),IN(m)}}}function $N(){function s(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function l(){A!==null&&(A(),A=null),b||setTimeout(m,20)}function m(){if(!b&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(m,100),function(){b=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),A!==null&&(A(),A=null)}}}function cw(s){this._internalRoot=s}Zg.prototype.render=cw.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var m=l.current,b=ki();jN(m,b,s,l,null,null)},Zg.prototype.unmount=cw.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;jN(s.current,2,null,s,null,null),Ng(),l[Mo]=null}};function Zg(s){this._internalRoot=s}Zg.prototype.unstable_scheduleHydration=function(s){if(s){var l=wf();s={blockedOn:null,target:s,priority:l};for(var m=0;m<ml.length&&l!==0&&l<ml[m].priority;m++);ml.splice(m,0,s),m===0&&RN(s)}};var BN=t.version;if(BN!=="19.2.1")throw Error(r(527,BN,"19.2.1"));X.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var iH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xg.isDisabled&&Xg.supportsFiber)try{qt=Xg.inject(iH),hn=Xg}catch{}}return Eh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var m=!1,b="",A=YO,j=KO,I=WO;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=TN(s,1,!1,null,null,m,b,null,A,j,I,$N),s[Mo]=l.current,G_(s),new cw(l)},Eh.hydrateRoot=function(s,l,m){if(!i(s))throw Error(r(299));var b=!1,A="",j=YO,I=KO,G=WO,te=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(j=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),l=TN(s,1,!0,l,m??null,b,A,te,j,I,G,$N),l.context=ON(null),m=l.current,b=ki(),b=Hr(b),A=Qs(b),A.callback=null,el(m,A,b),m=b,l.current.lanes=m,Co(l,m),lo(l),s[Mo]=l.current,G_(s),new Zg(l)},Eh.version="19.2.1",Eh}var VN;function mH(){if(VN)return fw.exports;VN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fw.exports=hH(),fw.exports}var pH=mH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZN="popstate";function gH(e={}){function t(i,a){let{pathname:o="/",search:c="",hash:u=""}=au(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),GS("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof a=="string"?a:fm(a))}function r(i,a){$i(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return bH(t,n,r,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yH(){return Math.random().toString(36).substring(2,10)}function XN(e,t){return{usr:e.state,key:e.key,idx:t}}function GS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?au(t):t,state:n,key:t&&t.key||r||yH()}}function fm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function au(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function bH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function p(){c="POP";let E=h(),T=E==null?null:E-f;f=E,u&&u({action:c,location:_.location,delta:T})}function g(E,T){c="PUSH";let N=GS(_.location,E,T);n&&n(N,E),f=h()+1;let O=XN(N,f),P=_.createHref(N);try{o.pushState(O,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}a&&u&&u({action:c,location:_.location,delta:1})}function x(E,T){c="REPLACE";let N=GS(_.location,E,T);n&&n(N,E),f=h();let O=XN(N,f),P=_.createHref(N);o.replaceState(O,"",P),a&&u&&u({action:c,location:_.location,delta:0})}function w(E){return vH(E)}let _={get action(){return c},get location(){return e(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ZN,p),u=E,()=>{i.removeEventListener(ZN,p),u=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:x,go(E){return o.go(E)}};return _}function vH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:fm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function z3(e,t,n="/"){return xH(e,t,n,!1)}function xH(e,t,n,r){let i=typeof t=="string"?au(t):t,a=hs(i.pathname||"/",n);if(a==null)return null;let o=U3(e);_H(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=MH(a);c=NH(o[u],f,r)}return c}function U3(e,t=[],n=[],r="",i=!1){let a=(o,c,u=i,f)=>{let h={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;sn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=us([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&(sn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),U3(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:OH(p,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of F3(o.path))a(o,c,!0,u)}),t}function F3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=F3(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function _H(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wH=/^:[\w-]+$/,SH=3,EH=2,kH=1,AH=10,TH=-2,JN=e=>e==="*";function OH(e,t){let n=e.split("/"),r=n.length;return n.some(JN)&&(r+=TH),t&&(r+=EH),n.filter(i=>!JN(i)).reduce((i,a)=>i+(wH.test(a)?SH:a===""?kH:AH),r)}function jH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function NH(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=_y({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=_y({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:us([a,p.pathname]),pathnameBase:IH(us([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=us([a,p.pathnameBase]))}return o}function _y(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=CH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let w=c[g]||"";o=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[g];return p&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function CH(e,t=!1,n=!0){$i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function MH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var PH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DH=e=>PH.test(e);function RH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?au(e):e,a;if(n)if(DH(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$i(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=QN(n.substring(1),"/"):a=QN(n,t)}else a=t;return{pathname:a,search:$H(r),hash:BH(i)}}function QN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gk(e){let t=LH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function qk(e,t,n,r=!1){let i;typeof e=="string"?i=au(e):(i={...e},sn(!i.pathname||!i.pathname.includes("?"),gw("?","pathname","search",i)),sn(!i.pathname||!i.pathname.includes("#"),gw("#","pathname","hash",i)),sn(!i.search||!i.search.includes("#"),gw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=RH(i,c),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var us=e=>e.join("/").replace(/\/\/+/g,"/"),IH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$H=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function UH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H3=["POST","PUT","PATCH","DELETE"];new Set(H3);var FH=["GET",...H3];new Set(FH);var Qd=S.createContext(null);Qd.displayName="DataRouter";var Jb=S.createContext(null);Jb.displayName="DataRouterState";S.createContext(!1);var G3=S.createContext({isTransitioning:!1});G3.displayName="ViewTransition";var HH=S.createContext(new Map);HH.displayName="Fetchers";var GH=S.createContext(null);GH.displayName="Await";var ga=S.createContext(null);ga.displayName="Navigation";var Gm=S.createContext(null);Gm.displayName="Location";var To=S.createContext({outlet:null,matches:[],isDataRoute:!1});To.displayName="Route";var Yk=S.createContext(null);Yk.displayName="RouteError";function qH(e,{relative:t}={}){sn(ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ga),{hash:i,pathname:a,search:o}=qm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:us([n,a])),r.createHref({pathname:c,search:o,hash:i})}function ef(){return S.useContext(Gm)!=null}function ya(){return sn(ef(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Gm).location}var q3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y3(e){S.useContext(ga).static||S.useLayoutEffect(e)}function Kk(){let{isDataRoute:e}=S.useContext(To);return e?iG():YH()}function YH(){sn(ef(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Qd),{basename:t,navigator:n}=S.useContext(ga),{matches:r}=S.useContext(To),{pathname:i}=ya(),a=JSON.stringify(Gk(r)),o=S.useRef(!1);return Y3(()=>{o.current=!0}),S.useCallback((u,f={})=>{if($i(o.current,q3),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=qk(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:us([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,a,i,e])}S.createContext(null);function qm(e,{relative:t}={}){let{matches:n}=S.useContext(To),{pathname:r}=ya(),i=JSON.stringify(Gk(n));return S.useMemo(()=>qk(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function KH(e,t){return K3(e,t)}function K3(e,t,n,r,i){sn(ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(ga),{matches:o}=S.useContext(To),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";W3(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=ya(),x;if(t){let N=typeof t=="string"?au(t):t;sn(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=g;let w=x.pathname||"/",_=w;if(h!=="/"){let N=h.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=z3(e,{pathname:_});$i(p||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$i(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=JH(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:us([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:us([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,n,r,i);return t&&T?S.createElement(Gm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function WH(){let e=rG(),t=zH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}var VH=S.createElement(WH,null),ZH=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(To.Provider,{value:this.props.routeContext},S.createElement(Yk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XH({routeContext:e,match:t,children:n}){let r=S.useContext(Qd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(To.Provider,{value:e},n)}function JH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);sn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:x}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:UH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,g)=>{let x,w=!1,_=null,E=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||VH,c&&(u<0&&g===0?(W3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):u===g&&(w=!0,E=p.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,g+1)),N=()=>{let O;return x?O=_:w?O=E:p.route.Component?O=S.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,S.createElement(XH,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(ZH,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:N(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):N()},null)}function Wk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QH(e){let t=S.useContext(Qd);return sn(t,Wk(e)),t}function eG(e){let t=S.useContext(Jb);return sn(t,Wk(e)),t}function tG(e){let t=S.useContext(To);return sn(t,Wk(e)),t}function Vk(e){let t=tG(e),n=t.matches[t.matches.length-1];return sn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nG(){return Vk("useRouteId")}function rG(){let e=S.useContext(Yk),t=eG("useRouteError"),n=Vk("useRouteError");return e!==void 0?e:t.errors?.[n]}function iG(){let{router:e}=QH("useNavigate"),t=Vk("useNavigate"),n=S.useRef(!1);return Y3(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{$i(n.current,q3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var eC={};function W3(e,t,n){!t&&!eC[e]&&(eC[e]=!0,$i(!1,n))}S.memo(aG);function aG({routes:e,future:t,state:n,unstable_onError:r}){return K3(e,void 0,n,r,t)}function oG({to:e,replace:t,state:n,relative:r}){sn(ef(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(ga);$i(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(To),{pathname:o}=ya(),c=Kk(),u=qk(e,Gk(a),o,r==="path"),f=JSON.stringify(u);return S.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:r})},[c,f,r,t,n]),null}function dd(e){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sG({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){sn(!ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof n=="string"&&(n=au(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,w=S.useMemo(()=>{let _=hs(f,c);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return $i(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(ga.Provider,{value:u},S.createElement(Gm.Provider,{children:t,value:w}))}function lG({children:e,location:t}){return KH(qS(e),t)}function qS(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,qS(r.props.children,a));return}sn(r.type===dd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qS(r.props.children,a)),n.push(o)}),n}var iy="get",ay="application/x-www-form-urlencoded";function Qb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function cG(e){return Qb(e)&&e.tagName.toLowerCase()==="button"}function uG(e){return Qb(e)&&e.tagName.toLowerCase()==="form"}function dG(e){return Qb(e)&&e.tagName.toLowerCase()==="input"}function fG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hG(e,t){return e.button===0&&(!t||t==="_self")&&!fG(e)}var Jg=null;function mG(){if(Jg===null)try{new FormData(document.createElement("form"),0),Jg=!1}catch{Jg=!0}return Jg}var pG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yw(e){return e!=null&&!pG.has(e)?($i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ay}"`),null):e}function gG(e,t){let n,r,i,a,o;if(uG(e)){let c=e.getAttribute("action");r=c?hs(c,t):null,n=e.getAttribute("method")||iy,i=yw(e.getAttribute("enctype"))||ay,a=new FormData(e)}else if(cG(e)||dG(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?hs(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||iy,i=yw(e.getAttribute("formenctype"))||yw(c.getAttribute("enctype"))||ay,a=new FormData(c,e),!mG()){let{name:f,type:h,value:p}=e;if(h==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Qb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iy,r=null,i=ay,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yG(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function bG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xG(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await bG(a,n);return o.links?o.links():[]}return[]}));return EG(r.flat(1).filter(vG).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tC(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?t.filter((u,f)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function _G(e,t,{includeHydrateFallback:n}={}){return wG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function wG(e){return[...new Set(e)]}function SG(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function EG(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(SG(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function V3(){let e=S.useContext(Qd);return Zk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kG(){let e=S.useContext(Jb);return Zk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xk=S.createContext(void 0);Xk.displayName="FrameworkContext";function Z3(){let e=S.useContext(Xk);return Zk(e,"You must render this element inside a <HydratedRouter> element"),e}function AG(e,t){let n=S.useContext(Xk),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let _=T=>{T.forEach(N=>{o(N.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),S.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:kh(c,x),onBlur:kh(u,w),onMouseEnter:kh(f,x),onMouseLeave:kh(h,w),onTouchStart:kh(p,x)}]:[!1,g,{}]}function kh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function TG({page:e,...t}){let{router:n}=V3(),r=S.useMemo(()=>z3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(jG,{page:e,matches:r,...t}):null}function OG(e){let{manifest:t,routeModules:n}=Z3(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return xG(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function jG({page:e,matches:t,...n}){let r=ya(),{manifest:i,routeModules:a}=Z3(),{basename:o}=V3(),{loaderData:c,matches:u}=kG(),f=S.useMemo(()=>tC(e,t,u,i,r,"data"),[e,t,u,i,r]),h=S.useMemo(()=>tC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(t.forEach(T=>{let N=i.routes[T.route.id];!N||!N.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in c&&a[T.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:w.add(T.route.id))}),w.size===0)return[];let E=yG(e,o,"data");return _&&w.size>0&&E.searchParams.set("_routes",t.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[o,c,r,i,f,t,e,a]),g=S.useMemo(()=>_G(h,i),[h,i]),x=OG(h);return S.createElement(S.Fragment,null,p.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:_})=>S.createElement("link",{key:w,nonce:n.nonce,..._})))}function NG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var X3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X3&&(window.__reactRouterVersion="7.10.1")}catch{}function CG({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=gH({window:r,v5Compat:!0}));let a=i.current,[o,c]=S.useState({action:a.action,location:a.location}),u=S.useCallback(f=>{n===!1?c(f):S.startTransition(()=>c(f))},[n]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement(sG,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var J3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q3=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:h,viewTransition:p,...g},x){let{basename:w,unstable_useTransitions:_}=S.useContext(ga),E=typeof f=="string"&&J3.test(f),T,N=!1;if(typeof f=="string"&&E&&(T=f,X3))try{let K=new URL(window.location.href),U=f.startsWith("//")?new URL(K.protocol+f):new URL(f),z=hs(U.pathname,w);U.origin===K.origin&&z!=null?f=z+U.search+U.hash:N=!0}catch{$i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=qH(f,{relative:i}),[P,M,D]=AG(r,g),$=RG(f,{replace:o,state:c,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:_});function H(K){t&&t(K),K.defaultPrevented||$(K)}let q=S.createElement("a",{...g,...D,href:T||O,onClick:N||a?t:H,ref:NG(x,M),target:u,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?S.createElement(S.Fragment,null,q,S.createElement(TG,{page:O})):q});Q3.displayName="Link";var MG=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...f},h){let p=qm(o,{relative:f.relative}),g=ya(),x=S.useContext(Jb),{navigator:w,basename:_}=S.useContext(ga),E=x!=null&&zG(p)&&c===!0,T=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,N=g.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&_&&(O=hs(O,_)||O);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=N===T||!i&&N.startsWith(T)&&N.charAt(P)==="/",D=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),$={isActive:M,isPending:D,isTransitioning:E},H=M?t:void 0,q;typeof r=="function"?q=r($):q=[r,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a($):a;return S.createElement(Q3,{...f,"aria-current":H,className:q,ref:h,style:K,to:o,viewTransition:c},typeof u=="function"?u($):u)});MG.displayName="NavLink";var PG=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=iy,action:c,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...g},x)=>{let{unstable_useTransitions:w}=S.useContext(ga),_=$G(),E=BG(c,{relative:f}),T=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&J3.test(c),O=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,D=M?.getAttribute("formmethod")||o,$=()=>_(M||P.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:h,viewTransition:p});w&&n!==!1?S.startTransition(()=>$()):$()};return S.createElement("form",{ref:x,method:T,action:E,onSubmit:r?u:O,...g,"data-discover":!N&&e==="render"?"true":void 0})});PG.displayName="Form";function DG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e$(e){let t=S.useContext(Qd);return sn(t,DG(e)),t}function RG(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:c}={}){let u=Kk(),f=ya(),h=qm(e,{relative:a});return S.useCallback(p=>{if(hG(p,t)){p.preventDefault();let g=n!==void 0?n:fm(f)===fm(h),x=()=>u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o});c?S.startTransition(()=>x()):x()}},[f,u,h,n,r,t,e,i,a,o,c])}var LG=0,IG=()=>`__${String(++LG)}__`;function $G(){let{router:e}=e$("useSubmit"),{basename:t}=S.useContext(ga),n=nG(),r=e.fetch,i=e.navigate;return S.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:h,body:p}=gG(a,t);if(o.navigate===!1){let g=o.fetcherKey||IG();await r(g,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function BG(e,{relative:t}={}){let{basename:n}=S.useContext(ga),r=S.useContext(To);sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...qm(e||".",{relative:t})},o=ya();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let h=c.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:us([n,a.pathname])),fm(a)}function zG(e,{relative:t}={}){let n=S.useContext(G3);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=e$("useViewTransitionState"),i=qm(e,{relative:t});if(!n.isTransitioning)return!1;let a=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _y(i.pathname,o)!=null||_y(i.pathname,a)!=null}var tf=B3();const UG=di(tf);let FG={data:""},HG=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||FG,GG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qG=/\/\*[^]*?\*\/|  +/g,nC=/\n+/g,bl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?bl(o,a):a+"{"+bl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=bl(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=bl.p?bl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},es={},t$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+t$(e[n]);return t}return e},YG=(e,t,n,r,i)=>{let a=t$(e),o=es[a]||(es[a]=(u=>{let f=0,h=11;for(;f<u.length;)h=101*h+u.charCodeAt(f++)>>>0;return"go"+h})(a));if(!es[o]){let u=a!==e?e:(f=>{let h,p,g=[{}];for(;h=GG.exec(f.replace(qG,""));)h[4]?g.shift():h[3]?(p=h[3].replace(nC," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(nC," ").trim();return g[0]})(e);es[o]=bl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let c=n&&es.g?es.g:null;return n&&(es.g=es[o]),((u,f,h,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=h?u+f.data:f.data+u)})(es[o],t,r,c),o},KG=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":bl(c,""):c===!1?"":c}return r+i+(o??"")},"");function ev(e){let t=this||{},n=e.call?e(t.p):e;return YG(n.unshift?n.raw?KG(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,HG(t.target),t.g,t.o,t.k)}let n$,YS,KS;ev.bind({g:1});let ms=ev.bind({k:1});function WG(e,t,n,r){bl.p=t,n$=e,YS=n,KS=r}function Ml(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let c=Object.assign({},a),u=c.className||i.className;n.p=Object.assign({theme:YS&&YS()},c),n.o=/ *go\d+/.test(u),c.className=ev.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),KS&&f[0]&&KS(c),n$(f,c)}return i}}var VG=e=>typeof e=="function",wy=(e,t)=>VG(e)?e(t):e,ZG=(()=>{let e=0;return()=>(++e).toString()})(),r$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),XG=20,Jk="default",i$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return i$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},oy=[],a$={toasts:[],pausedAt:void 0,settings:{toastLimit:XG}},bo={},o$=(e,t=Jk)=>{bo[t]=i$(bo[t]||a$,e),oy.forEach(([n,r])=>{n===t&&r(bo[t])})},s$=e=>Object.keys(bo).forEach(t=>o$(e,t)),JG=e=>Object.keys(bo).find(t=>bo[t].toasts.some(n=>n.id===e)),tv=(e=Jk)=>t=>{o$(t,e)},QG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},eq=(e={},t=Jk)=>{let[n,r]=S.useState(bo[t]||a$),i=S.useRef(bo[t]);S.useEffect(()=>(i.current!==bo[t]&&r(bo[t]),oy.push([t,r]),()=>{let o=oy.findIndex(([c])=>c===t);o>-1&&oy.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var c,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||QG[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},tq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||ZG()}),Ym=e=>(t,n)=>{let r=tq(t,e,n);return tv(r.toasterId||JG(r.id))({type:2,toast:r}),r.id},kn=(e,t)=>Ym("blank")(e,t);kn.error=Ym("error");kn.success=Ym("success");kn.loading=Ym("loading");kn.custom=Ym("custom");kn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?tv(t)(n):s$(n)};kn.dismissAll=e=>kn.dismiss(void 0,e);kn.remove=(e,t)=>{let n={type:4,toastId:e};t?tv(t)(n):s$(n)};kn.removeAll=e=>kn.remove(void 0,e);kn.promise=(e,t,n)=>{let r=kn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?wy(t.success,i):void 0;return a?kn.success(a,{id:r,...n,...n?.success}):kn.dismiss(r),i}).catch(i=>{let a=t.error?wy(t.error,i):void 0;a?kn.error(a,{id:r,...n,...n?.error}):kn.dismiss(r)}),e};var nq=1e3,rq=(e,t="default")=>{let{toasts:n,pausedAt:r}=eq(e,t),i=S.useRef(new Map).current,a=S.useCallback((p,g=nq)=>{if(i.has(p))return;let x=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,x)},[]);S.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(x=>{if(x.duration===1/0)return;let w=(x.duration||0)+x.pauseDuration-(p-x.createdAt);if(w<0){x.visible&&kn.dismiss(x.id);return}return setTimeout(()=>kn.dismiss(x.id,t),w)});return()=>{g.forEach(x=>x&&clearTimeout(x))}},[n,r,t]);let o=S.useCallback(tv(t),[t]),c=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=S.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),f=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=S.useCallback((p,g)=>{let{reverseOrder:x=!1,gutter:w=8,defaultPosition:_}=g||{},E=n.filter(O=>(O.position||_)===(p.position||_)&&O.height),T=E.findIndex(O=>O.id===p.id),N=E.filter((O,P)=>P<T&&O.visible).length;return E.filter(O=>O.visible).slice(...x?[N+1]:[0,N]).reduce((O,P)=>O+(P.height||0)+w,0)},[n]);return S.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:f,calculateOffset:h}}},iq=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aq=ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oq=ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sq=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lq=ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cq=Ml("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${lq} 1s linear infinite;
`,uq=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dq=ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fq=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hq=Ml("div")`
  position: absolute;
`,mq=Ml("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pq=ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gq=Ml("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yq=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(gq,null,t):t:n==="blank"?null:S.createElement(mq,null,S.createElement(cq,{...r}),n!=="loading"&&S.createElement(hq,null,n==="error"?S.createElement(sq,{...r}):S.createElement(fq,{...r})))},bq=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vq=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,xq="0%{opacity:0;} 100%{opacity:1;}",_q="0%{opacity:1;} 100%{opacity:0;}",wq=Ml("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Sq=Ml("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Eq=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=r$()?[xq,_q]:[bq(n),vq(n)];return{animation:t?`${ms(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ms(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kq=S.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?Eq(e.position||t||"top-center",e.visible):{opacity:0},a=S.createElement(yq,{toast:e}),o=S.createElement(Sq,{...e.ariaProps},wy(e.message,e));return S.createElement(wq,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):S.createElement(S.Fragment,null,a,o))});WG(S.createElement);var Aq=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;r(e,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:a,className:t,style:n},i)},Tq=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:r$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},Oq=ev`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qg=16,l$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:f}=rq(n,a);return S.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Qg,left:Qg,right:Qg,bottom:Qg,pointerEvents:"none",...o},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(h=>{let p=h.position||t,g=f.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),x=Tq(p,g);return S.createElement(Aq,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?Oq:"",style:x},h.type==="custom"?wy(h.message,h):i?i(h):S.createElement(kq,{toast:h,position:p}))}))},kd=kn;function jq(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+o-1524.5}const Nq=864e5;function Cq(e){const t=(e-24405875e-1)*Nq;return new Date(t)}function Mq(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function Pq(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),c=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let h=a-4715;return f>2&&(h-=1),[h,f,u]}const im=Math.PI,$c=im/180,Dq=180/im,Rq=86400;function Lq(e){return e%=360,e<0?e+360:e}function Iq(e,t){return(e-t+540)%360-180}function rC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function $q(e){const[t,n]=Pq(e);return e+Mq(t,Math.round(n))/Rq}function iC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,c,u]of e[i])a+=o*Math.cos(c+u*t);n+=a*r,r*=t}return n*1e-8}function Bq(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*$c,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*$c,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*$c,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*$c,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*$c,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[h,p,g,x,w,_,E,T,N]of c){const O=h*n+p*r+g*i+x*a+w*o;u+=(_+E*t)*Math.sin(O),f+=(T+N*t)*Math.cos(O)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function e0(e){const t=$q(e),n=(t-2451545)/365250,r=iC(aC.L,n),i=iC(aC.R,n);let a=r+im;a>2*im&&(a-=2*im);const{dpsi:o}=Bq(t),c=o/3600*$c,u=20.4898/(3600*i),f=a+c-u*$c;return Lq(f*Dq)}function Un(e,t,n){const r=(t%360+360)%360,i=jq(e,1,1),a=e0(i);let o=r-a;o<0&&(o+=360);let c=i+o/.98564736;const u=1e-6,f=5e-6;for(let g=0;g<25;g++){const x=e0(c),w=Iq(r,x);if(Math.abs(w)<u)break;const _=e0(c+f),E=e0(c-f),T=rC(_,x),N=rC(E,x),O=(T-N)/(2*f);c+=w/O}const h=Cq(c),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const g=n/15-9;if(Math.abs(g)>1e-12)return new Date(p.getTime()+g*36e5)}return p}const aC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},zq=(e,t)=>(e%t+t)%t,c$=(e,t)=>(e%t+t)%t,u$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),oC=new Map;function d$(e,t=127.5){const n=`${e}@${t}`,r=oC.get(n);if(r)return r;const i=Un(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return oC.set(n,i),i}function f$(e,t=127.5){if(!u$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=d$(n,t),i=e<r?n-1:n,a=zq(i-4,60);return{useYear:i,index60Num:a}}const $r=["","","","","","","","","",""],li=["","","","","","","","","","","",""],WS={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ya={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Uq=["","","","","","","","","",""],Fq=["","","","","","","","","","","",""],Hq=["","","","","","","","","","","","","","","","","","","",""],Gq=["","","","","","","","","","","","","","","","","","","","","","","",""],Rd=new Set($r),hm=new Set(li),Rn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Sy=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],qq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},Yq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function at(e,t=127.5){const{index60Num:n}=f$(e,t);return Qk[n]}function Kq(e,t=127.5){return(at(e,t)||"").charAt(0)}const Wq=[2,4,6,8,0,2,4,6,8,0];function Vq(e,t=127.5){const n=new Array(12);return n[0]=d$(e,t),n[1]=Un(e,345,t),n[2]=Un(e,15,t),n[3]=Un(e,45,t),n[4]=Un(e,75,t),n[5]=Un(e,105,t),n[6]=Un(e,135,t),n[7]=Un(e,165,t),n[8]=Un(e,195,t),n[9]=Un(e,225,t),n[10]=Un(e,255,t),n[11]=Un(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function Zq(e,t=127.5){const{useYear:n}=f$(e,t),r=Vq(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function Xq(e,t=127.5){const n=Kq(e,t),r=WS..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return Wq[r]}function Jq(e,t,n=127.5){return(Xq(e,n)+(t-1))%10}function kt(e,t=127.5){if(!u$(e))return"";const{monthIndex:n}=Zq(e,t),r=(2+(n-1))%12,i=WS.[r],a=Jq(e,n,t);return WS.[a]+i}const Ey={JDN:2445731,idx:0};function h$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),c=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+c-1524.5}function Qq(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=nY(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function eY(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=Qq(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=h$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=c$(a-Ey.JDN+Ey.idx,60),c=Qk[o];if(!c)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return c}function tY(e,t){const n=new Date(e),r=eY(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=h$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),c=c$(o-Ey.JDN+Ey.idx,60),u=Qk[c];if(!u)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${o}, jd=${a})`);return u}function nY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Sy.length;n+=1){const{branch:r,start:i,end:a}=Sy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function rY(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Sy.length;n+=1){const{branch:r,start:i,end:a}=Sy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function iY(e,t,n,r){const i=$r.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),$r[a]}function Ua(e,t,n){e instanceof Date||(e=new Date(e));const r=rY(e),i=li.indexOf(r),o=(n??gt(e,t)).charAt(0);return iY(e,o,i,t)+r}const sC=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,g))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,c);return c},aY=(e=>e?sC(e):sC),oY=e=>e;function sY(e,t=oY){const n=Wt.useSyncExternalStore(e.subscribe,Wt.useCallback(()=>t(e.getState()),[e,t]),Wt.useCallback(()=>t(e.getInitialState()),[e,t]));return Wt.useDebugValue(n),n}const lC=e=>{const t=aY(e),n=r=>sY(t,r);return Object.assign(n,t),n},ou=(e=>e?lC(e):lC);function lY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const VS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return VS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return VS(r)(n)}}}},cY=(e,t)=>(n,r,i)=>{let a={storage:lY(()=>localStorage),partialize:_=>_,version:0,merge:(_,E)=>({...E,..._}),...t},o=!1;const c=new Set,u=new Set;let f=a.storage;if(!f)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(..._)},r,i);const h=()=>{const _=a.partialize({...r()});return f.setItem(a.name,{state:_,version:a.version})},p=i.setState;i.setState=(_,E)=>(p(_,E),h());const g=e((..._)=>(n(..._),h()),r,i);i.getInitialState=()=>g;let x;const w=()=>{var _,E;if(!f)return;o=!1,c.forEach(N=>{var O;return N((O=r())!=null?O:g)});const T=((E=a.onRehydrateStorage)==null?void 0:E.call(a,(_=r())!=null?_:g))||void 0;return VS(f.getItem.bind(f))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate){const O=a.migrate(N.state,N.version);return O instanceof Promise?O.then(P=>[!0,P]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var O;const[P,M]=N;if(x=a.merge(M,(O=r())!=null?O:g),n(x,!0),P)return h()}).then(()=>{T?.(x,void 0),x=r(),o=!0,u.forEach(N=>N(x))}).catch(N=>{T?.(void 0,N)})};return i.persist={setOptions:_=>{a={...a,..._},_.storage&&(f=_.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:_=>(c.add(_),()=>{c.delete(_)}),onFinishHydration:_=>(u.add(_),()=>{u.delete(_)})},a.skipHydration||w(),x||g},m$=cY;var ts={},t0={},ZS=function(e,t){return ZS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ZS(e,t)};function p$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ZS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ky=function(){return ky=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ky.apply(this,arguments)};function nf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function g$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function y$(e,t){return function(n,r){t(n,r,e)}}function b$(e,t,n,r,i,a){function o(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,h=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,g=!1,x=n.length-1;x>=0;x--){var w={};for(var _ in r)w[_]=_==="access"?{}:r[_];for(var _ in r.access)w.access[_]=r.access[_];w.addInitializer=function(T){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(T||null))};var E=(0,n[x])(c==="accessor"?{get:h.get,set:h.set}:h[u],w);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=o(E.get))&&(h.get=p),(p=o(E.set))&&(h.set=p),(p=o(E.init))&&i.unshift(p)}else(p=o(E))&&(c==="field"?i.unshift(p):h[u]=p)}f&&Object.defineProperty(f,r.name,h),g=!0}function v$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function x$(e){return typeof e=="symbol"?e:"".concat(e)}function _$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function w$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ue(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(r.next(h))}catch(p){o(p)}}function u(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(c,u)}f((r=r.apply(e,t||[])).next())})}function S$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(h){f=[6,h],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var nv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function E$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&nv(t,e,n)}function Ay(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function e2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function k$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(e2(arguments[t]));return e}function A$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r}function T$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Ld(e){return this instanceof Ld?(this.v=e,this):new Ld(e)}function O$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(w){return Promise.resolve(w).then(x,p)}}function c(x,w){r[x]&&(i[x]=function(_){return new Promise(function(E,T){a.push([x,_,E,T])>1||u(x,_)})},w&&(i[x]=w(i[x])))}function u(x,w){try{f(r[x](w))}catch(_){g(a[0][3],_)}}function f(x){x.value instanceof Ld?Promise.resolve(x.value.v).then(h,p):g(a[0][2],x)}function h(x){u("next",x)}function p(x){u("throw",x)}function g(x,w){x(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function j$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Ld(e[i](o)),done:!1}:a?a(o):o}:a}}function N$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ay=="function"?Ay(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(c,u){o=e[a](o),i(c,u,o.done,o.value)})}}function i(a,o,c,u){Promise.resolve(u).then(function(f){a({value:f,done:c})},o)}}function C$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var uY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},XS=function(e){return XS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},XS(e)};function M$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=XS(e),r=0;r<n.length;r++)n[r]!=="default"&&nv(t,e,n[r]);return uY(t,e),t}function P$(e){return e&&e.__esModule?e:{default:e}}function D$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function R$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function L$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function I$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var dY=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function $$(e){function t(a){e.error=e.hasError?new dY(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function B$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const fY={__extends:p$,__assign:ky,__rest:nf,__decorate:g$,__param:y$,__esDecorate:b$,__runInitializers:v$,__propKey:x$,__setFunctionName:_$,__metadata:w$,__awaiter:Ue,__generator:S$,__createBinding:nv,__exportStar:E$,__values:Ay,__read:e2,__spread:k$,__spreadArrays:A$,__spreadArray:T$,__await:Ld,__asyncGenerator:O$,__asyncDelegator:j$,__asyncValues:N$,__makeTemplateObject:C$,__importStar:M$,__importDefault:P$,__classPrivateFieldGet:D$,__classPrivateFieldSet:R$,__classPrivateFieldIn:L$,__addDisposableResource:I$,__disposeResources:$$,__rewriteRelativeImportExtension:B$},hY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:I$,get __assign(){return ky},__asyncDelegator:j$,__asyncGenerator:O$,__asyncValues:N$,__await:Ld,__awaiter:Ue,__classPrivateFieldGet:D$,__classPrivateFieldIn:L$,__classPrivateFieldSet:R$,__createBinding:nv,__decorate:g$,__disposeResources:$$,__esDecorate:b$,__exportStar:E$,__extends:p$,__generator:S$,__importDefault:P$,__importStar:M$,__makeTemplateObject:C$,__metadata:w$,__param:y$,__propKey:x$,__read:e2,__rest:nf,__rewriteRelativeImportExtension:B$,__runInitializers:v$,__setFunctionName:_$,__spread:k$,__spreadArray:T$,__spreadArrays:A$,__values:Ay,default:fY},Symbol.toStringTag,{value:"Module"})),mY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let rv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},z$=class extends rv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},JS=class extends rv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},QS=class extends rv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ty;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ty||(Ty={}));class pY{constructor(t,{headers:n={},customFetch:r,region:i=Ty.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=mY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ue(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:c,method:u,body:f,signal:h,timeout:p}=r;let g={},{region:x}=r;x||(x=this.region);const w=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(g["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(g["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;let E=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(E=o.signal,h.addEventListener("abort",()=>o.abort())):E=o.signal);const T=yield this.fetch(w.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:_,signal:E}).catch(M=>{throw new z$(M)}),N=T.headers.get("x-relay-error");if(N&&N==="true")throw new JS(T);if(!T.ok)throw new QS(T);let O=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield T.json():O==="application/octet-stream"||O==="application/pdf"?P=yield T.blob():O==="text/event-stream"?P=T:O==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(c){return{data:null,error:c,response:c instanceof QS||c instanceof JS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const gY=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ty},FunctionsClient:pY,FunctionsError:rv,FunctionsFetchError:z$,FunctionsHttpError:QS,FunctionsRelayError:JS},Symbol.toStringTag,{value:"Module"})),U$=Hm(gY);var Er={};const rf=Hm(hY);var n0={},r0={},i0={},a0={},o0={},s0={},cC;function F$(){if(cC)return s0;cC=1,Object.defineProperty(s0,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return s0.default=e,s0}var uC;function H$(){if(uC)return o0;uC=1,Object.defineProperty(o0,"__esModule",{value:!0});const t=rf.__importDefault(F$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,h,p,g;let x=null,w=null,_=null,E=u.status,T=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const O=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,T="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const O=await u.text();try{x=JSON.parse(O),Array.isArray(x)&&u.status===404&&(w=[],x=null,E=200,T="OK")}catch{u.status===404&&O===""?(E=204,T="No Content"):x={message:O}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,E=200,T="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:w,count:_,status:E,statusText:T}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,h,p,g,x,w;let _="";const E=u?.cause;if(E){const T=(f=E?.message)!==null&&f!==void 0?f:"",N=(h=E?.code)!==null&&h!==void 0?h:"";_=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,_+=`

Caused by: ${(g=E?.name)!==null&&g!==void 0?g:"Error"}: ${T}`,N&&(_+=` (${N})`),E?.stack&&(_+=`
${E.stack}`)}else _=(x=u?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return o0.default=n,o0}var dC;function G$(){if(dC)return a0;dC=1,Object.defineProperty(a0,"__esModule",{value:!0});const t=rf.__importDefault(H$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return a0.default=n,a0}var fC;function t2(){if(fC)return i0;fC=1,Object.defineProperty(i0,"__esModule",{value:!0});const t=rf.__importDefault(G$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}};return i0.default=r,i0}var hC;function q$(){if(hC)return r0;hC=1,Object.defineProperty(r0,"__esModule",{value:!0});const t=rf.__importDefault(t2());let n=class{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},u=o?"HEAD":"GET";let f=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return r0.default=n,r0}var mC;function yY(){if(mC)return n0;mC=1,Object.defineProperty(n0,"__esModule",{value:!0});const e=rf,t=e.__importDefault(q$()),n=e.__importDefault(t2());let r=class Y${constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Y$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:f}={}){var h;let p;const g=new URL(`${this.url}/rpc/${a}`);let x;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{g.searchParams.append(_,E)})):(p="POST",x=o);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:p,url:g,headers:w,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return n0.default=r,n0}var pC;function K$(){if(pC)return Er;pC=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const e=rf,t=e.__importDefault(yY());Er.PostgrestClient=t.default;const n=e.__importDefault(q$());Er.PostgrestQueryBuilder=n.default;const r=e.__importDefault(t2());Er.PostgrestFilterBuilder=r.default;const i=e.__importDefault(G$());Er.PostgrestTransformBuilder=i.default;const a=e.__importDefault(H$());Er.PostgrestBuilder=a.default;const o=e.__importDefault(F$());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Er}class W${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bY="2.86.2",vY=`realtime-js/${bY}`,V$="1.0.0",xY="2.0.0",gC=V$,eE=1e4,_Y=1e3,wY=100;var Bc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bc||(Bc={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var Pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pa||(Pa={}));var tE;(function(e){e.websocket="websocket"})(tE||(tE={}));var zc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zc||(zc={}));class SY{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+f.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,u.length),w.setUint8(_++,c.length),w.setUint8(_++,o.length),w.setUint8(_++,f.length),w.setUint8(_++,p.length),w.setUint8(_++,n),Array.from(u,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(c,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(o,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(f,T=>w.setUint8(_++,T.charCodeAt(0))),Array.from(p,T=>w.setUint8(_++,T.charCodeAt(0)));var E=new Uint8Array(x.byteLength+r.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(r),x.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,c,u]=r;return n({join_ref:i,ref:a,topic:o,event:c,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),x=c===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,w={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Z${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const yC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=EY(o,e,t,i),a),{}):{}},EY=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?X$(a,o):nE(o)},X$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OY(t,n)}switch(e){case Yt.bool:return kY(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return AY(t);case Yt.json:case Yt.jsonb:return TY(t);case Yt.timestamp:return jY(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return nE(t);default:return nE(t)}},nE=e=>e,kY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},TY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>X$(t,c))}return e},jY=e=>typeof e=="string"?e.replace(" ","T"):e,J$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bw{constructor(t,n,r={},i=eE){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rE||(rE={}));let Q$=class sy{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sy.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=sy.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=sy.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),c={},u={};return this.map(a,(f,h)=>{o[f]||(u[f]=h)}),this.map(o,(f,h)=>{const p=a[f];if(p){const g=h.map(E=>E.presence_ref),x=p.map(E=>E.presence_ref),w=h.filter(E=>x.indexOf(E.presence_ref)<0),_=p.filter(E=>g.indexOf(E.presence_ref)<0);w.length>0&&(c[f]=w),_.length>0&&(u[f]=_)}else c[f]=h}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var f;const h=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),h.length>0){const p=t[c].map(x=>x.presence_ref),g=h.filter(x=>p.indexOf(x.presence_ref)<0);t[c].unshift(...g)}r(c,h,u)}),this.map(o,(c,u)=>{let f=t[c];if(!f)return;const h=u.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var iE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iE||(iE={}));var Ad;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ad||(Ad={}));var ho;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ho||(ho={}));const NY=Mn;let eB=class tB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bw(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new Z$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Q$(this),this.broadcastEndpointURL=J$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ad.PRESENCE]&&this.bindings[Ad.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(ho.CHANNEL_ERROR,x)),this._onClose(()=>t?.(ho.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t?.(ho.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(w=_?.length)!==null&&w!==void 0?w:0,T=[];for(let N=0;N<E;N++){const O=_[N],{filter:{event:P,schema:M,table:D,filter:$}}=O,H=x&&x[N];if(H&&H.event===P&&H.schema===M&&H.table===D&&H.filter===$)T.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(ho.SUBSCRIBED);return}}).receive("error",x=>{this.state=Mn.errored,t?.(ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mn.joined&&t===Ad.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const f=await c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new bw(this,Pa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wY){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:h}=Pa;if(r&&[c,u,f,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,_,E;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(_=x.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(x=>x.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var w,_,E,T,N,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const P=x.id,M=(w=x.filter)===null||w===void 0?void 0:w.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(M==="*"||M?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(N=(T=x?.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:_,table:E,commit_timestamp:T,type:N,errors:O}=w;g=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:T,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(w))}x.callback(g,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&tB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pa.close,{},t)}_onError(t){this._on(Pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yC(t.columns,t.old_record)),n}};const vw=()=>{},l0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CY=[1e3,2e3,5e3,1e4],MY=1e4,PY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let DY=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eE,this.transport=null,this.heartbeatIntervalMs=l0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vw,this.ref=0,this.reconnectTimer=null,this.vsn=gC,this.logger=vw,this.conn=null,this.sendBuffer=[],this.serializer=new SY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${tE.websocket}`,this.httpEndpoint=J$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bc.connecting:return zc.Connecting;case Bc.open:return zc.Open;case Bc.closing:return zc.Closing;default:return zc.Closed}}isConnected(){return this.connectionState()===zc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new eB(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_Y,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},l0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bc.open||this.conn.readyState===Bc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([PY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:vY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Z$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},l0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,c,u,f,h,p,g,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:eE,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:l0.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:vw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:gC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>CY[w-1]||MY),this.vsn){case V$:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((w,_)=>_(JSON.stringify(w))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((w,_)=>_(JSON.parse(w)));break;case xY:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const RY=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:NY,get REALTIME_LISTEN_TYPES(){return Ad},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return iE},get REALTIME_PRESENCE_LISTEN_EVENTS(){return rE},get REALTIME_SUBSCRIBE_STATES(){return ho},RealtimeChannel:eB,RealtimeClient:DY,RealtimePresence:Q$,WebSocketFactory:W$},Symbol.toStringTag,{value:"Module"})),nB=Hm(RY);class Km extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rB extends Km{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oy extends Km{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const n2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LY=()=>Response,aE=e=>{if(Array.isArray(e))return e.map(n=>aE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=aE(r)}),t},IY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$Y=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),xw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},BY=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){const r=yield LY();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new rB(xw(i),a,o))}).catch(i=>{t(new Oy(xw(i),i))}):t(new Oy(xw(e),e))}),zY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(IY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Wm(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,zY(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>BY(u,c,r))})})}function mm(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Wm(e,"GET",t,n,r)})}function Ma(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Wm(e,"POST",t,r,i,n)})}function oE(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Wm(e,"PUT",t,r,i,n)})}function UY(e,t,n,r){return Ue(this,void 0,void 0,function*(){return Wm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function r2(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return Wm(e,"DELETE",t,r,i,n)})}class FY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var iB;class HY{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[iB]="BlobDownloadBuilder",this.promise=null}asStream(){return new FY(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}iB=Symbol.toStringTag;const GY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qY{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=n2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ue(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},bC),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),p=yield(t=="PUT"?oE:Ma)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:bC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const p=yield oE(this.fetch,c.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(nn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ma(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new Km("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ma(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=yield Ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",c=this._getFinalPath(t),u=()=>mm(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new HY(u,this.shouldThrowOnError)}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield mm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:aE(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield UY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof Oy){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield r2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},GY),n),{prefix:t||""});return{data:yield Ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ma(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const aB="2.86.2",oB={"X-Client-Info":`storage-js/${aB}`};class YY{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oB),n),this.fetch=n2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield mm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield mm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield oE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield r2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var pm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KY(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function WY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function VY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const c=KY(e.baseUrl,r,i),u=await WY(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!f.ok){const x=p?g:void 0,w=x?.error;throw new pm(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:f.status,headers:f.headers,data:g}}}}function c0(e){return e.join("")}var ZY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:c0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${c0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${c0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${c0(e.namespace)}`}),!0}catch(t){if(t instanceof pm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof pm&&n.status===409)return;throw n}}};function Xu(e){return e.join("")}var XY=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof pm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof pm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},JY=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=VY({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new ZY(this.client,t),this.tableOps=new XY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class sB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oB),n),this.fetch=n2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield mm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield r2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}from(t){if(!$Y(t))throw new Km("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new JY({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const i2={"X-Client-Info":`storage-js/${aB}`,"Content-Type":"application/json"};class a2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ai(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ly extends a2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lB extends a2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var sE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sE||(sE={}));const iv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QY=()=>Response,cB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eK=e=>Array.from(new Float32Array(e)),tK=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},vC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nK=(e,t,n)=>Ue(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new ly(vC(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new ly(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new ly(c,i,o))}}else t(new lB(vC(e),e))}),rK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(cB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function iK(e,t,n,r,i,a){return Ue(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,rK(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>nK(u,c,r))})})}function Ci(e,t,n,r,i){return Ue(this,void 0,void 0,function*(){return iK(e,"POST",t,r,i,n)})}class uB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i2),n),this.fetch=iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}}class dB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i2),n),this.fetch=iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ci(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}getVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}listVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ci(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ue(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ci(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}}class fB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i2),n),this.fetch=iv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}getBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}listBuckets(){return Ue(this,arguments,void 0,function*(t={}){try{return{data:yield Ci(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ue(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}}class hB extends fB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new mB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class mB extends uB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pB extends dB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class aK extends YY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new qY(this.url,this.headers,t,this.fetch)}get vectors(){return new hB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sB(this.url+"/iceberg",this.headers,this.fetch)}}const oK=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:sB,StorageApiError:rB,StorageClient:aK,StorageError:Km,StorageUnknownError:Oy,StorageVectorsApiError:ly,StorageVectorsClient:hB,StorageVectorsError:a2,get StorageVectorsErrorCode(){return sE},StorageVectorsUnknownError:lB,VectorBucketApi:fB,VectorBucketScope:mB,VectorDataApi:dB,VectorIndexApi:uB,VectorIndexScope:pB,isPlainObject:cB,isStorageError:nn,isStorageVectorsError:ai,normalizeToFloat32:eK,resolveFetch:iv,resolveResponse:QY,validateVectorDimension:tK},Symbol.toStringTag,{value:"Module"})),sK=Hm(oK);var _w={},Ah={},xC;function lK(){return xC||(xC=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.version=void 0,Ah.version="2.86.2"),Ah}var _C;function cK(){return _C||(_C=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=lK();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(_w)),_w}var ww={},wC;function uK(){return wC||(wC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const c=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,h)=>{var p;const g=(p=await a())!==null&&p!==void 0?p:i;let x=new u(h?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),c(f,Object.assign(Object.assign({},h),{headers:x}))}};e.fetchWithAuth=r})(ww)),ww}var ns={},SC;function dK(){if(SC)return ns;SC=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.isBrowser=void 0,ns.uuid=e,ns.ensureTrailingSlash=t,ns.applySettingDefaults=r,ns.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,c=a=="x"?o:o&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ns.isBrowser=n;function r(a,o){var c,u;const{db:f,auth:h,realtime:p,global:g}=a,{db:x,auth:w,realtime:_,global:E}=o,T={db:Object.assign(Object.assign({},x),f),auth:Object.assign(Object.assign({},w),h),realtime:Object.assign(Object.assign({},_),p),storage:{},global:Object.assign(Object.assign(Object.assign({},E),g),{headers:Object.assign(Object.assign({},(c=E?.headers)!==null&&c!==void 0?c:{}),(u=g?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?T.accessToken=a.accessToken:delete T.accessToken,T}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ns}var Th={};const gB="2.86.2",fd=30*1e3,lE=3,Sw=lE*fd,fK="http://localhost:9999",hK="supabase.auth.token",mK={"X-Client-Info":`gotrue-js/${gB}`},cE="X-Supabase-Api-Version",yB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gK=600*1e3;let Id=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let bB=class extends Id{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function vB(e){return Ge(e)&&e.name==="AuthApiError"}let vl=class extends Id{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},ws=class extends Id{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ti=class extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xB(e){return Ge(e)&&e.name==="AuthSessionMissingError"}let Nc=class extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xh=class extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Jh=class extends ws{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _B(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}let uE=class extends ws{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},jy=class extends ws{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function cy(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}let dE=class extends ws{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function yK(e){return Ge(e)&&e.name==="AuthWeakPasswordError"}let Ny=class extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EC=` 	
\r=`.split(""),bK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<EC.length;t+=1)e[EC[t].charCodeAt(0)]=-2;for(let t=0;t<Cy.length;t+=1)e[Cy[t].charCodeAt(0)]=t;return e})();function kC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cy[r]),t.queuedBits-=6}}function wB(e,t,n){const r=bK[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function AC(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{_K(o,r,n)};for(let o=0;o<e.length;o+=1)wB(e.charCodeAt(o),i,a);return t.join("")}function vK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xK(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vK(r,t)}}function _K(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Td(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function wK(e){const t=[];return xK(e,n=>t.push(n)),new Uint8Array(t)}function Uc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>kC(i,n,r)),kC(null,n,r),t.join("")}function SK(e){return Math.round(Date.now()/1e3)+e}function EK(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",wc={tested:!1,writable:!1},SB=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wc.tested)return wc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wc.tested=!0,wc.writable=!0}catch{wc.tested=!0,wc.writable=!1}return wc.writable};function kK(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const EB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hr=async(e,t)=>{await e.removeItem(t)};class av{constructor(){this.promise=new av.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}av.promiseConstructor=Promise;function Ew(e){const t=e.split(".");if(t.length!==3)throw new Ny("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!pK.test(t[r]))throw new Ny("JWT not in base64url format");return{header:JSON.parse(AC(t[0])),payload:JSON.parse(AC(t[1])),signature:Td(t[2]),raw:{header:t[0],payload:t[1]}}}async function TK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OK(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function jK(e){return("0"+e.toString(16)).substr(-2)}function NK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,jK).join("")}async function CK(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function MK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CK(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ju(e,t,n=!1){const r=NK();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await hd(e,`${t}-code-verifier`,i);const a=await MK(r);return[a,r===a?"plain":"s256"]}const PK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DK(e){const t=e.headers.get(cE);if(!t||!t.match(PK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function RK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qu(e){if(!IK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $K(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function TC(e){return JSON.parse(JSON.stringify(e))}const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BK=[502,503,504];async function OC(e){var t;if(!AK(e))throw new jy(Cc(e),0);if(BK.includes(e.status))throw new jy(Cc(e),e.status);let n;try{n=await e.json()}catch(a){throw new vl(Cc(a),a)}let r;const i=DK(e);if(i&&i.getTime()>=yB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dE(Cc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ti}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new dE(Cc(n),e.status,n.weak_password.reasons);throw new bB(Cc(n),e.status||500,r)}const zK=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[cE]||(a[cE]=yB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await UK(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function UK(e,t,n,r,i,a){const o=zK(t,r,i,a);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new jy(Cc(u),0)}if(c.ok||await OC(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await OC(u)}}function Ca(e){var t;let n=null;GK(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=SK(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function jC(e){const t=Ca(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FK(e){return{data:e,error:null}}function HK(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=nf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function NC(e){return e}function GK(e){return e.access_token&&e.refresh_token&&e.expires_in}const uy=["global","local","others"];let o2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=EB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=uy[0]){if(uy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uy.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=nf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:HK,redirectTo:n?.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:NC});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Qu(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xl})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qu(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qu(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xl})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qu(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qu(t.userId),Qu(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:NC});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}};function CC(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Mc={debug:!!(globalThis&&SB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let kB=class extends s2{};class qK extends s2{}async function AB(e,t,n){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const MC={};async function YK(e,t,n){var r;const i=(r=MC[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,c)=>{setTimeout(()=>{c(new qK(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return MC[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function KK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function WK(e){return parseInt(e,16)}function VK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function ZK(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:f,scheme:h,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=TB(e.address),w=h?`${h}://${r}`:r,_=e.statement?`${e.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${x}

${_}`;let T=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),c&&(T+=`
Not Before: ${c.toISOString()}`),u&&(T+=`
Request ID: ${u}`),f){let N=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}T+=N}return`${E}
${T}`}class Pn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class My extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function XK({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(OB(o)){if(a.rp.id!==o)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function JK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(OB(r)){if(n.rpId!==r)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class QK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const eW=new QK;function tW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=nf(e,["challenge","user","excludeCredentials"]),a=Td(t).buffer,o=Object.assign(Object.assign({},n),{id:Td(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:Td(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function nW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=nf(e,["challenge","allowCredentials"]),i=Td(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Td(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function rW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Uc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Uc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Uc(new Uint8Array(i.authenticatorData)),clientDataJSON:Uc(new Uint8Array(i.clientDataJSON)),signature:Uc(new Uint8Array(i.signature)),userHandle:i.userHandle?Uc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function PC(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function aW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new My("Browser returned unexpected credential type",t)}:{data:null,error:new My("Empty credential response",t)}}catch(t){return{data:null,error:XK({error:t,options:e})}}}async function oW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new My("Browser returned unexpected credential type",t)}:{data:null,error:new My("Empty credential response",t)}}catch(t){return{data:null,error:JK({error:t,options:e})}}}const sW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Py(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const c=r[a];t(c)?r[a]=Py(c,o):r[a]=Py(o)}else r[a]=o}return r}function cW(e,t){return Py(sW,e,t||{})}function uW(e,t){return Py(lW,e,t||{})}class dW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const u=i??eW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=cW(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await aW({publicKey:f,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const f=uW(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await oW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Id("rpId is required for WebAuthn authentication")};try{if(!PC())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Id("rpId is required for WebAuthn registration")};try{if(!PC())return{data:null,error:new vl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:c};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new vl("Unexpected error in register",o)}}}}KK();const fW={url:fK,storageKey:hK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function DC(e,t,n){return await n()}const ed={};let l2=class fE{get jwks(){var t,n;return(n=(t=ed[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ed[this.storageKey]=Object.assign(Object.assign({},ed[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ed[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ed[this.storageKey]=Object.assign(Object.assign({},ed[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},fW),t);if(this.storageKey=a.storageKey,this.instanceID=(n=fE.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&pr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new o2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=EB(a.fetch),this.lock=a.lock||DC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:pr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=AB:this.lock=DC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:SB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CC(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=CC(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pr()&&(n=kK(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_B(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ge(n)?this._returnResult({error:n}):this._returnResult({error:new vl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ca}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:g}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Ju(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Ca})}else if("phone"in t){const{phone:h,password:p,options:g}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Ca})}else throw new Xh("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jC})}else if("phone"in t){const{phone:a,password:o,options:c}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jC})}else throw new Xh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Nc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,c,u,f,h,p,g;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:_,wallet:E,statement:T,options:N}=t;let O;if(pr())if(typeof E=="object")O=E;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")O=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const P=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),M=await O.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=TB(M[0]);let $=(r=N?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const q=await O.request({method:"eth_chainId"});$=WK(q)}const H={domain:P.host,address:D,statement:T,uri:P.href,version:"1",chainId:$,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=ZK(H),w=await O.request({method:"personal_sign",params:[VK(x),D]})}try{const{data:_,error:E}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ca});if(E)throw E;if(!_||!_.session||!_.user){const T=new Nc;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,i,a,o,c,u,f,h,p,g,x;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:E,wallet:T,statement:N,options:O}=t;let P;if(pr())if(typeof T=="object")P=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const M=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((o=O?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((u=O?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(h=O?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:E,error:T}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Uc(_)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ca});if(T)throw T;if(!E||!E.session||!E.user){const N=new Nc;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ca});if(await hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new Nc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,c=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ca}),{data:u,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const h=new Nc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:c,options:u}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Ju(this.storage,this.storageKey));const{error:p}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:u}=t,{data:f,error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new Xh("You must provide either an email or phone number.")}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ca});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ju(this.storage,this.storageKey));const f=await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:FK});return!((a=f.data)===null||a===void 0)&&a.url&&pr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ti;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:c}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Xh("You must provide either an email or phone number and a type")}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Sc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=kw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=$K(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ti}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:xl})})}catch(n){if(Ge(n))return xB(n)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ti;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Ju(this.storage,this.storageKey));const{data:f,error:h}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:xl});if(h)throw h;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ti;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Ew(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ti;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pr())throw new Jh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uE("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=t;if(!a||!c||!o||!f)throw new Jh("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(c);let g=h+p;u&&(g=parseInt(u));const x=g-h;x*1e3<=fd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const w=g-p;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:_,error:E}=await this._getUser(a);if(E)throw E;const T={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(vB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=EK(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ju(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,u,f,h;const{data:p,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return pr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:u,access_token:f,nonce:h}=t,p=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ca}),{data:g,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Nc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(i){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await OK(async i=>(i>0&&await TK(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ca})),(i,a)=>{const o=200*Math.pow(2,i);return a&&cy(a)&&Date.now()+o-r<fd})}catch(r){if(this._debug(n,"error",r),Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await hd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:kw()}else if(i&&!i.user&&!i.user){const o=await Sc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await hr(this.storage,this.storageKey+"-user"),await hd(this.storage,this.storageKey,i)):i.user=kw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Sw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),cy(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new av;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ti;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Ge(a)){const o={data:null,error:a};return cy(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await hd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=TC(i);await hd(this.storage,this.storageKey,a)}else{const i=TC(n);await hd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/fd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fd}ms, refresh threshold is ${lE} ticks`),i<=lE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof s2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ju(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?rW(t.webauthn.credential_response):iW(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:tW(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:nW(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ew(r.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ti})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ti});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ti});const o=await et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await et(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ti})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await et(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ti})})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+gK>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});r=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=Ew(r);n?.allowExpired||RK(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=LK(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,wK(`${c}.${u}`)))throw new Ny("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}};l2.nextInstanceID={};const hW=o2,mW=l2,pW=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:hW,AuthApiError:bB,AuthClient:mW,AuthError:Id,AuthImplicitGrantRedirectError:Jh,AuthInvalidCredentialsError:Xh,AuthInvalidJwtError:Ny,AuthInvalidTokenResponseError:Nc,AuthPKCEGrantCodeExchangeError:uE,AuthRetryableFetchError:jy,AuthSessionMissingError:ti,AuthUnknownError:vl,AuthWeakPasswordError:dE,CustomAuthError:ws,GoTrueAdminApi:o2,GoTrueClient:l2,NavigatorLockAcquireTimeoutError:kB,SIGN_OUT_SCOPES:uy,isAuthApiError:vB,isAuthError:Ge,isAuthImplicitGrantRedirectError:_B,isAuthRetryableFetchError:cy,isAuthSessionMissingError:xB,isAuthWeakPasswordError:yK,lockInternals:Mc,navigatorLock:AB,processLock:YK},Symbol.toStringTag,{value:"Module"})),jB=Hm(pW);var RC;function gW(){if(RC)return Th;RC=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.SupabaseAuthClient=void 0;const e=jB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Th.SupabaseAuthClient=t,Th}var LC;function IC(){if(LC)return t0;LC=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=U$,t=K$(),n=nB,r=sK,i=cK(),a=uK(),o=dK(),c=gW();class u{constructor(h,p,g){var x,w,_;this.supabaseUrl=h,this.supabaseKey=p;const E=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const T=`sb-${E.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:T}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,o.applySettingDefaults)(g??{},N);this.storageKey=(x=O.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(w=O.global.headers)!==null&&w!==void 0?w:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(P,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=O.auth)!==null&&_!==void 0?_:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,g)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:g,storage:x,userStorage:w,storageKey:_,flowType:E,lock:T,debug:N,throwOnError:O},P,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:_,autoRefreshToken:h,persistSession:p,detectSessionInUrl:g,storage:x,userStorage:w,flowType:E,lock:T,debug:N,throwOnError:O,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,g)=>{this._handleTokenChanged(p,"CLIENT",g?.access_token)})}_handleTokenChanged(h,p,g){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return t0.default=u,t0}var $C;function yW(){return $C||($C=1,(function(e){var t=ts&&ts.__createBinding||(Object.create?(function(h,p,g,x){x===void 0&&(x=g);var w=Object.getOwnPropertyDescriptor(p,g);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(h,x,w)}):(function(h,p,g,x){x===void 0&&(x=g),h[x]=p[g]})),n=ts&&ts.__exportStar||function(h,p){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,h,g)},r=ts&&ts.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(IC());n(jB,e);var a=K$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=U$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(nB,e);var c=IC();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const u=(h,p,g)=>new i.default(h,p,g);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ts)),ts}var NB=yW();const CB=di(NB),bW=Hk({__proto__:null,default:CB},[NB]),{PostgrestError:QTe,FunctionsHttpError:eOe,FunctionsFetchError:tOe,FunctionsRelayError:nOe,FunctionsError:rOe,FunctionRegion:iOe,SupabaseClient:aOe,createClient:vW,GoTrueAdminApi:oOe,GoTrueClient:sOe,AuthAdminApi:lOe,AuthClient:cOe,navigatorLock:uOe,NavigatorLockAcquireTimeoutError:dOe,lockInternals:fOe,processLock:hOe,SIGN_OUT_SCOPES:mOe,AuthError:pOe,AuthApiError:gOe,AuthUnknownError:yOe,CustomAuthError:bOe,AuthSessionMissingError:vOe,AuthInvalidTokenResponseError:xOe,AuthInvalidCredentialsError:_Oe,AuthImplicitGrantRedirectError:wOe,AuthPKCEGrantCodeExchangeError:SOe,AuthRetryableFetchError:EOe,AuthWeakPasswordError:kOe,AuthInvalidJwtError:AOe,isAuthError:TOe,isAuthApiError:OOe,isAuthSessionMissingError:jOe,isAuthImplicitGrantRedirectError:NOe,isAuthRetryableFetchError:COe,isAuthWeakPasswordError:MOe,RealtimePresence:POe,RealtimeChannel:DOe,RealtimeClient:ROe,REALTIME_LISTEN_TYPES:LOe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:IOe,REALTIME_PRESENCE_LISTEN_EVENTS:$Oe,REALTIME_SUBSCRIBE_STATES:BOe,REALTIME_CHANNEL_STATES:zOe}=CB||bW,xW="https://jouhybyquybxbnqztxum.supabase.co",_W="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",Le=vW(xW,_W,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),MB="settings_v1",hE=()=>{try{typeof window<"u"&&window.localStorage.removeItem(MB)}catch{}},gm={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},BC=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],wW=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&BC.includes(r)):[],n=BC.filter(r=>!t.includes(r));return[...t,...n]},Od=e=>({...gm,...e,sectionOrder:wW(e.sectionOrder)}),SW=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Od(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Od(n.settings)}}return Od(e??{})},EW=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};hE();const qn=ou()(m$((e,t)=>({settings:gm,syncing:!1,loaded:!1,setSettings:n=>e({settings:Od(n)}),setKey:(n,r)=>e({settings:Od({...t().settings,[n]:r})}),reset:()=>e({settings:gm}),loadFromServer:async()=>{try{e({syncing:!0}),hE();const{data:{user:n},error:r}=await Le.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Le.from("user_settings").select("payload").eq("user_id",n.id).maybeSingle();if(i||await Le.from("user_settings").upsert({user_id:n.id,payload:{}}),a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const o=SW(i.payload);e({settings:o,syncing:!1,loaded:!0}),EW(i.payload)&&await Le.from("user_settings").upsert({user_id:n.id,payload:o,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),hE();const{data:{user:r},error:i}=await Le.auth.getUser();if(i||!r){e({syncing:!1});return}const a=Od(t().settings),{error:o}=await Le.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});o&&console.error("saveToServer(settings) error:",o),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:MB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function mE(e){const t=$r.indexOf(e);if(t!==-1)return $r[t];const n=Ya..indexOf(e);return n!==-1?$r[n]:null}function PB(e){const t=li.indexOf(e);if(t!==-1)return li[t];const n=Ya..indexOf(e);return n!==-1?li[n]:null}function zC(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Bi(e,t,n){if(t==="stem"){const r=mE(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=$r.indexOf(r),a=i>=0?Uq[i]:void 0;return zC(a,n)}else{const r=PB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=li.indexOf(r),a=i>=0?Fq[i]:void 0;return zC(a,n)}}function fa(e,t){const n=mE(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=mE(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return qq[n][r]}if(t.branch){const r=PB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return Yq[n][r]}throw new Error("getSipSin: stem or branch required")}const ov={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},sv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function DB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?sv:ov)[e]??[],c=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return v.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((g,x)=>g==="(-)"||a?v.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap`,children:"(-) ()"},x):v.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${f} rounded text-center text-nowrap 
            ${n==="main"||x===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[g," (",fa(t,{stem:g}),")"]},x))})}const Vm=ou(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),RB=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),LB=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),kW=new Set(Object.keys(Rn)),AW=new Set(Object.keys(Gn)),TW=new Set(["","","","","","","","","",""]),OW=new Set(["","","","","","","","","","","",""]);function ci(e,t,n){return n===""?t==="stem"?Rn[e]??e:Gn[e]??e:t==="stem"?RB[e]??e:LB[e]??e}function UC(e){const t=RB[e]??e;return kW.has(t)?t:""}function jW(e){const t=LB[e]??e;return AW.has(t)?t:""}function lv(e){if(Rd.has(e))return e;const t=Rn[e]??e;return Rd.has(t)?t:""}function c2(e){if(hm.has(e))return e;const t=Gn[e]??e;return hm.has(t)?t:""}function Fa(e,t){return t==="stem"?TW.has(e):OW.has(e)}function gd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:c=!1,size:u="sm",variant:f="auto",isUnknownTime:h=!1}){const{manualHour:p}=Vm(),g=h&&!p,x=t.charAt(0),w=t.charAt(1),_=ci(x,"stem",r.charType),E=ci(w,"branch",r.charType),T=UC(x),N=jW(w),O=UC(n),P=c2(w),M=lv(n),D=r.showSipSin?fa(O,{stem:T}):null,$=!o&&r.showSipSin?fa(O,{branch:N}):null,H=r.thinEum&&Fa(x,"stem")?"font-thin":"font-bold",q=r.thinEum&&Fa(w,"branch")?"font-thin":"font-bold",K={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},U=!c&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",V=r.hiddenStemMode==="hgc"?"hgc":"classic",J=f==="white",Q=J?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",Y=J?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",X=J?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",re=J?"text-neutral-500":"text-neutral-400",ue=J?"text-neutral-500":"text-neutral-400",{settings:se}=qn(),B=g?`bg-white ${X}`:`${Bi(T,"stem",se)} ${X}`,W=g?`bg-white ${X}`:`${Bi(N,"branch",se)} ${X}`,ae=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",Z=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return v.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Q}`,children:[v.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${Y} text-nowrap`,children:e}),v.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[D&&v.jsx("div",{className:`text-[10px] desk:text-xs ${re} text-nowrap`,children:h&&!p?"-":D}),v.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:v.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${H}`,children:g?"-":_})}),v.jsx("div",{className:`${K[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${W}`,children:v.jsx("span",{className:`text-2xl md:text-3xl ${Z} ${q}`,children:g?"-":E})}),U&&v.jsx(DB,{branch:P,dayStem:M,mode:z,mapping:V,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&v.jsx("div",{className:`text-[10px] desk:text-xs ${ue}`,children:h&&!p?"-":$}),r.showSibiUnseong&&v.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&v.jsx("div",{className:`text-[10px] desk:text-xs ${ue} text-nowrap`,children:h&&!p?"-":a||""})]})]})}const NW=new Set(Ya.);function CW(e){return Rd.has(e)?e:NW.has(e)?Rn[e]:""}function MW(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function PW({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return v.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[v.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),v.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&v.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),v.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:v.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),v.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:v.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&v.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>v.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&v.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function DW(){const e=qn(E=>E.settings),[t,n]=S.useState(new Date),[r,i]=S.useState(!0),[a,o]=S.useState("/"),[c,u]=S.useState(!1),[f,h]=S.useState(null);S.useEffect(()=>{if(!r)return;const E=setInterval(()=>n(new Date),1e3);return()=>clearInterval(E)},[r]),S.useEffect(()=>{let E=!0;const T=async()=>{const{data:P}=await Le.auth.getSession(),M=P.session?.user?.id;if(!M){E&&h(null);return}const{data:D,error:$}=await Le.from("user_activity").select("total_active_ms").eq("user_id",M).maybeSingle();if($){E&&h(null);return}const H=D?.total_active_ms;E&&h(typeof H=="number"?H:null)};T();const N=window.setInterval(()=>void T(),6e4),O=()=>{document.visibilityState==="visible"&&T()};return document.addEventListener("visibilitychange",O),()=>{E=!1,window.clearInterval(N),document.removeEventListener("visibilitychange",O)}},[]);const p=at(t),g=kt(t),x=gt(t,a),w=Ua(t,"/"),_=CW(x.charAt(0));return v.jsx("div",{className:"flex justify-center items-center pt-16 desk:mt-12 w-full h-[calc(100dvh_-_86px)] desk:h-[calc(100dvh_-_212px)] ",children:v.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[v.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",v.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:MW(f)})]}),v.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[v.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",v.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",IW(t)]})]}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[v.jsx("option",{value:"",children:" ( 23)"}),v.jsx("option",{value:"/",children:"/ ()"}),v.jsx("option",{value:"",children:" ( 3)"})]}),v.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),v.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?v.jsx(PW,{label:"",settings:e,hideBranchSipSin:!0}):v.jsx(gd,{label:"",gz:w,dayStem:_,settings:e,hideBranchSipSin:!0}),v.jsx(gd,{label:"",gz:x,dayStem:_,settings:e,hideBranchSipSin:!0}),v.jsx(gd,{label:"",gz:g,dayStem:_,settings:e,hideBranchSipSin:!0}),v.jsx(gd,{label:"",gz:p,dayStem:_,settings:e,hideBranchSipSin:!0})]}),v.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[v.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),v.jsx("input",{type:"datetime-local",value:RW(t),disabled:r,onChange:E=>{const T=LW(E.target.value);T&&n(T)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),v.jsx("button",{onClick:()=>u(E=>!E),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function RW(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function LW(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,c]=n.split(":").map(Number),u=new Date(r,i-1,a,o,c);return Number.isNaN(u.getTime())?null:u}function IW(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function $W({placeholderText:e,value:t}){const[n,r]=S.useState(e),[i,a]=S.useState(!1),[o,c]=S.useState(t??""),u=S.useRef(null),f=S.useRef(null),h=S.useRef(null),p=S.useRef(null);return S.useEffect(()=>{t!==void 0&&c(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:c,nameRef:u,latRef:f,lonRef:h,triggerBtnRef:p}}var Qh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var BW=Qh.exports,FC;function zW(){return FC||(FC=1,(function(e,t){(function(n,r){r(t)})(BW,(function(n){var r="1.9.4";function i(d){var y,k,C,R;for(k=1,C=arguments.length;k<C;k++){R=arguments[k];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var k=Array.prototype.slice;if(d.bind)return d.bind.apply(d,k.call(arguments,1));var C=k.call(arguments,2);return function(){return d.apply(y,C.length?C.concat(k.call(arguments)):arguments)}}var c=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++c),d._leaflet_id}function f(d,y,k){var C,R,F,ee;return ee=function(){C=!1,R&&(F.apply(k,R),R=!1)},F=function(){C?R=arguments:(d.apply(k,arguments),setTimeout(ee,y),C=!0)},F}function h(d,y,k){var C=y[1],R=y[0],F=C-R;return d===C&&k?d:((d-R)%F+F)%F+R}function p(){return!1}function g(d,y){if(y===!1)return d;var k=Math.pow(10,y===void 0?6:y);return Math.round(d*k)/k}function x(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function w(d){return x(d).split(/\s+/)}function _(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var k in y)d.options[k]=y[k];return d.options}function E(d,y,k){var C=[];for(var R in d)C.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+C.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function N(d,y){return d.replace(T,function(k,C){var R=y[C];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var O=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,y){for(var k=0;k<d.length;k++)if(d[k]===y)return k;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function H(d){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(d,k)}var q=window.requestAnimationFrame||D("RequestAnimationFrame")||H,K=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function U(d,y,k){if(k&&q===H)d.call(y);else return q.call(window,o(d,y))}function z(d){d&&K.call(window,d)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:u,throttle:f,wrapNum:h,falseFn:p,formatNum:g,trim:x,splitWords:w,setOptions:_,getParamString:E,template:N,isArray:O,indexOf:P,emptyImageUrl:M,requestFn:q,cancelFn:K,requestAnimFrame:U,cancelAnimFrame:z};function J(){}J.extend=function(d){var y=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,C=a(k);C.constructor=y,y.prototype=C;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(Q(d.includes),i.apply(null,[C].concat(d.includes))),i(C,d),delete C.statics,delete C.includes,C.options&&(C.options=k.options?a(k.options):{},i(C.options,d.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ee=C._initHooks.length;F<ee;F++)C._initHooks[F].call(this)}},y},J.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},J.mergeOptions=function(d){return i(this.prototype.options,d),this},J.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),k=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function Q(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=O(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y);else{d=w(d);for(var R=0,F=d.length;R<F;R++)this._on(d[R],y,k)}return this},off:function(d,y,k){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var C in d)this._off(C,d[C],y);else{d=w(d);for(var R=arguments.length===1,F=0,ee=d.length;F<ee;F++)R?this._off(d[F]):this._off(d[F],y,k)}return this},_on:function(d,y,k,C){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};C&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,k){var C,R,F;if(this._events&&(C=this._events[d],!!C)){if(arguments.length===1){if(this._firingCount)for(R=0,F=C.length;R<F;R++)C[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,k);if(ee!==!1){var ce=C[ee];this._firingCount&&(ce.fn=p,this._events[d]=C=C.slice()),C.splice(ee,1)}}},fire:function(d,y,k){if(!this.listens(d,k))return this;var C=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var F=0,ee=R.length;F<ee;F++){var ce=R[F],ge=ce.fn;ce.once&&this.off(d,ge,ce.ctx),ge.call(ce.ctx||this,C)}this._firingCount--}}return k&&this._propagateEvent(C),this},listens:function(d,y,k,C){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(C=!!y,R=void 0,k=void 0);var F=this._events&&this._events[d];if(F&&F.length&&this._listens(d,R,k)!==!1)return!0;if(C){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,k,C))return!0}return!1},_listens:function(d,y,k){if(!this._events)return!1;var C=this._events[d]||[];if(!y)return!!C.length;k===this&&(k=void 0);for(var R=0,F=C.length;R<F;R++)if(C[R].fn===y&&C[R].ctx===k)return R;return!1},once:function(d,y,k){if(typeof d=="object")for(var C in d)this._on(C,d[C],y,!0);else{d=w(d);for(var R=0,F=d.length;R<F;R++)this._on(d[R],y,k,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var X=J.extend(Y);function re(d,y,k){this.x=k?Math.round(d):d,this.y=k?Math.round(y):y}var ue=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new re(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new re(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,k=d.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(d,y,k){return d instanceof re?d:O(d)?new re(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new re(d.x,d.y):new re(d,y,k)}function B(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}B.prototype={extend:function(d){var y,k;if(!d)return this;if(d instanceof re||typeof d[0]=="number"||"x"in d)y=k=se(d);else if(d=W(d),y=d.min,k=d.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,k;return typeof d[0]=="number"||d instanceof re?d=se(d):d=W(d),d instanceof B?(y=d.min,k=d.max):y=k=d,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,F=R.x>=y.x&&C.x<=k.x,ee=R.y>=y.y&&C.y<=k.y;return F&&ee},overlaps:function(d){d=W(d);var y=this.min,k=this.max,C=d.min,R=d.max,F=R.x>y.x&&C.x<k.x,ee=R.y>y.y&&C.y<k.y;return F&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,k=this.max,C=Math.abs(y.x-k.x)*d,R=Math.abs(y.y-k.y)*d;return W(se(y.x-C,y.y-R),se(k.x+C,k.y+R))},equals:function(d){return d?(d=W(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function W(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var k=y?[d,y]:d,C=0,R=k.length;C<R;C++)this.extend(k[C])}ae.prototype={extend:function(d){var y=this._southWest,k=this._northEast,C,R;if(d instanceof oe)C=d,R=d;else if(d instanceof ae){if(C=d._southWest,R=d._northEast,!C||!R)return this}else return d?this.extend(me(d)||Z(d)):this;return!y&&!k?(this._southWest=new oe(C.lat,C.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(C.lat,y.lat),y.lng=Math.min(C.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(d){var y=this._southWest,k=this._northEast,C=Math.abs(y.lat-k.lat)*d,R=Math.abs(y.lng-k.lng)*d;return new ae(new oe(y.lat-C,y.lng-R),new oe(k.lat+C,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=me(d):d=Z(d);var y=this._southWest,k=this._northEast,C,R;return d instanceof ae?(C=d.getSouthWest(),R=d.getNorthEast()):C=R=d,C.lat>=y.lat&&R.lat<=k.lat&&C.lng>=y.lng&&R.lng<=k.lng},intersects:function(d){d=Z(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),F=R.lat>=y.lat&&C.lat<=k.lat,ee=R.lng>=y.lng&&C.lng<=k.lng;return F&&ee},overlaps:function(d){d=Z(d);var y=this._southWest,k=this._northEast,C=d.getSouthWest(),R=d.getNorthEast(),F=R.lat>y.lat&&C.lat<k.lat,ee=R.lng>y.lng&&C.lng<k.lng;return F&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=Z(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,k){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(d,y){if(!d)return!1;d=me(d);var k=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return k<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return be.distance(this,me(d))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,k=y/Math.cos(Math.PI/180*this.lat);return Z([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function me(d,y,k){return d instanceof oe?d:O(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,k)}var pe={latLngToPoint:function(d,y){var k=this.projection.project(d),C=this.scale(y);return this.transformation._transform(k,C)},pointToLatLng:function(d,y){var k=this.scale(y),C=this.transformation.untransform(d,k);return this.projection.unproject(C)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(d),C=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(C,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,k=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,C=d.alt;return new oe(k,y,C)},wrapLatLngBounds:function(d){var y=d.getCenter(),k=this.wrapLatLng(y),C=y.lat-k.lat,R=y.lng-k.lng;if(C===0&&R===0)return d;var F=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(F.lat-C,F.lng-R),ge=new oe(ee.lat-C,ee.lng-R);return new ae(ce,ge)}},be=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var k=Math.PI/180,C=d.lat*k,R=y.lat*k,F=Math.sin((y.lat-d.lat)*k/2),ee=Math.sin((y.lng-d.lng)*k/2),ce=F*F+Math.cos(C)*Math.cos(R)*ee*ee,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),ne=6378137,Oe={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,k=this.MAX_LATITUDE,C=Math.max(Math.min(k,d.lat),-k),R=Math.sin(C*y);return new re(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=ne*Math.PI;return new B([-d,-d],[d,d])})()};function Ce(d,y,k,C){if(O(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=k,this._d=C}Ce.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new re((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function ve(d,y,k,C){return new Ce(d,y,k,C)}var Ze=i({},be,{code:"EPSG:3857",projection:Oe,transformation:(function(){var d=.5/(Math.PI*Oe.R);return ve(d,.5,-d,.5)})()}),Ne=i({},Ze,{code:"EPSG:900913"});function _e(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function je(d,y){var k="",C,R,F,ee,ce,ge;for(C=0,F=d.length;C<F;C++){for(ce=d[C],R=0,ee=ce.length;R<ee;R++)ge=ce[R],k+=(R?"L":"M")+ge.x+" "+ge.y;k+=y?He.svg?"z":"x":""}return k||"M0 0"}var Ie=document.documentElement.style,Ve="ActiveXObject"in window,bt=Ve&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),Pt=Hr("webkit"),fe=Hr("android"),Me=Hr("android 2")||Hr("android 3"),Be=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=fe&&Hr("Google")&&Be<537&&!("AudioNode"in window),jt=!!window.opera,yt=!xt&&Hr("chrome"),Zn=Hr("gecko")&&!Pt&&!jt&&!Ve,mi=!yt&&Hr("safari"),pi=Hr("phantom"),Cs="OTransition"in Ie,Ms=navigator.platform.indexOf("Win")===0,qt=Ve&&"transition"in Ie,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Me,gi="MozPerspective"in Ie,Or=!window.L_DISABLE_3D&&(qt||hn||gi)&&!Cs&&!pi,Ll=typeof orientation<"u"||Hr("mobile"),px=Ll&&Pt,gx=Ll&&hn,Il=!window.PointerEvent&&window.MSPointerEvent,$l=!!(window.PointerEvent||Il),Bl="ontouchstart"in window||!!window.TouchEvent,No=!window.L_NO_TOUCH&&(Bl||$l),uu=Ll&&jt,zl=Ll&&Zn,yx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tp=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),_f=(function(){return!!document.createElement("canvas").getContext})(),Co=!!(document.createElementNS&&_e("svg").createSVGRect),bx=!!Co&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Op=!Co&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),jp=navigator.platform.indexOf("Mac")===0,Np=navigator.platform.indexOf("Linux")===0;function Hr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var He={ie:Ve,ielt9:bt,edge:xt,webkit:Pt,android:fe,android23:Me,androidStock:lt,opera:jt,chrome:yt,gecko:Zn,safari:mi,phantom:pi,opera12:Cs,win:Ms,ie3d:qt,webkit3d:hn,gecko3d:gi,any3d:Or,mobile:Ll,mobileWebkit:px,mobileWebkit3d:gx,msPointer:Il,pointer:$l,touch:No,touchNative:Bl,mobileOpera:uu,mobileGecko:zl,retina:yx,passiveEvents:Tp,canvas:_f,svg:Co,vml:Op,inlineSvg:bx,mac:jp,linux:Np},wf=He.msPointer?"MSPointerDown":"pointerdown",Sf=He.msPointer?"MSPointerMove":"pointermove",xa=He.msPointer?"MSPointerUp":"pointerup",An=He.msPointer?"MSPointerCancel":"pointercancel",Xn={touchstart:wf,touchmove:Sf,touchend:xa,touchcancel:An},Mo={touchstart:Ds,touchmove:Wa,touchend:Wa,touchcancel:Wa},Ka={},Cp=!1;function vx(d,y,k){return y==="touchstart"&&Ps(),Mo[y]?(k=Mo[y].bind(this,k),d.addEventListener(Xn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function Mp(d,y,k){if(!Xn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Xn[y],k,!1)}function Ul(d){Ka[d.pointerId]=d}function Ef(d){Ka[d.pointerId]&&(Ka[d.pointerId]=d)}function Po(d){delete Ka[d.pointerId]}function Ps(){Cp||(document.addEventListener(wf,Ul,!0),document.addEventListener(Sf,Ef,!0),document.addEventListener(xa,Po,!0),document.addEventListener(An,Po,!0),Cp=!0)}function Wa(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in Ka)y.touches.push(Ka[k]);y.changedTouches=[y],d(y)}}function Ds(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&mn(y),Wa(d,y)}function Tn(d){var y={},k,C;for(C in d)k=d[C],y[C]=k&&k.bind?k.bind(d):k;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var Pp=200;function Dp(d,y){d.addEventListener("dblclick",y);var k=0,C;function R(F){if(F.detail!==1){C=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ee=Wl(F);if(!(ee.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ee.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=Pp?(C++,C===2&&y(Tn(F))):C=1,k=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Do(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Va=Gl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fl=Gl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),kf=Fl==="webkitTransition"||Fl==="OTransition"?Fl+"End":"transitionend";function Af(d){return typeof d=="string"?document.getElementById(d):d}function Hl(d,y){var k=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(d,null);k=C?C[y]:null}return k==="auto"?null:k}function ct(d,y,k){var C=document.createElement(d);return C.className=y||"",k&&k.appendChild(C),C}function It(d){var y=d.parentNode;y&&y.removeChild(d)}function Gr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function In(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function Ro(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function Tf(d,y){if(d.classList!==void 0)return d.classList.contains(y);var k=du(d);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function nt(d,y){if(d.classList!==void 0)for(var k=w(y),C=0,R=k.length;C<R;C++)d.classList.add(k[C]);else if(!Tf(d,y)){var F=du(d);Rs(d,(F?F+" ":"")+y)}}function en(d,y){d.classList!==void 0?d.classList.remove(y):Rs(d,x((" "+du(d)+" ").replace(" "+y+" "," ")))}function Rs(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function du(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Zt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&Of(d,y)}function Of(d,y){var k=!1,C="DXImageTransform.Microsoft.Alpha";try{k=d.filters.item(C)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):d.style.filter+=" progid:"+C+"(opacity="+y+")"}function Gl(d){for(var y=document.documentElement.style,k=0;k<d.length;k++)if(d[k]in y)return d[k];return!1}function _a(d,y,k){var C=y||new re(0,0);d.style[Va]=(He.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(k?" scale("+k+")":"")}function Ut(d,y){d._leaflet_pos=y,He.any3d?_a(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Za(d){return d._leaflet_pos||new re(0,0)}var Ls,Gi,jf;if("onselectstart"in document)Ls=function(){tt(window,"selectstart",mn)},Gi=function(){Nt(window,"selectstart",mn)};else{var Is=Gl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ls=function(){if(Is){var d=document.documentElement.style;jf=d[Is],d[Is]="none"}},Gi=function(){Is&&(document.documentElement.style[Is]=jf,jf=void 0)}}function fu(){tt(window,"dragstart",mn)}function ql(){Nt(window,"dragstart",mn)}var hu,Nf;function $s(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(qr(),hu=d,Nf=d.style.outlineStyle,d.style.outlineStyle="none",tt(window,"keydown",qr))}function qr(){hu&&(hu.style.outlineStyle=Nf,hu=void 0,Nf=void 0,Nt(window,"keydown",qr))}function mu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Yl(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Bs={__proto__:null,TRANSFORM:Va,TRANSITION:Fl,TRANSITION_END:kf,get:Af,getStyle:Hl,create:ct,remove:It,empty:Gr,toFront:In,toBack:Ro,hasClass:Tf,addClass:nt,removeClass:en,setClass:Rs,getClass:du,setOpacity:Zt,testProp:Gl,setTransform:_a,setPosition:Ut,getPosition:Za,get disableTextSelection(){return Ls},get enableTextSelection(){return Gi},disableImageDrag:fu,enableImageDrag:ql,preventOutline:$s,restoreOutline:qr,getSizedParentNode:mu,getScale:Yl};function tt(d,y,k,C){if(y&&typeof y=="object")for(var R in y)bi(d,R,y[R],k);else{y=w(y);for(var F=0,ee=y.length;F<ee;F++)bi(d,y[F],k,C)}return this}var yi="_leaflet_events";function Nt(d,y,k,C){if(arguments.length===1)Cf(d),delete d[yi];else if(y&&typeof y=="object")for(var R in y)Kl(d,R,y[R],k);else if(y=w(y),arguments.length===2)Cf(d,function(ce){return P(y,ce)!==-1});else for(var F=0,ee=y.length;F<ee;F++)Kl(d,y[F],k,C);return this}function Cf(d,y){for(var k in d[yi]){var C=k.split(/\d/)[0];(!y||y(C))&&Kl(d,C,null,null,k)}}var Lo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bi(d,y,k,C){var R=y+u(k)+(C?"_"+u(C):"");if(d[yi]&&d[yi][R])return this;var F=function(ce){return k.call(C||d,ce||window.event)},ee=F;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?F=vx(d,y,F):He.touch&&y==="dblclick"?F=Dp(d,F):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Lo[y]||y,F,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(F=function(ce){ce=ce||window.event,wa(d,ce)&&ee(ce)},d.addEventListener(Lo[y],F,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,F),d[yi]=d[yi]||{},d[yi][R]=F}function Kl(d,y,k,C,R){R=R||y+u(k)+(C?"_"+u(C):"");var F=d[yi]&&d[yi][R];if(!F)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?Mp(d,y,F):He.touch&&y==="dblclick"?Do(d,F):"removeEventListener"in d?d.removeEventListener(Lo[y]||y,F,!1):d.detachEvent("on"+y,F),d[yi][R]=null}function vi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function qi(d){return bi(d,"wheel",vi),this}function Io(d){return tt(d,"mousedown touchstart dblclick contextmenu",vi),d._leaflet_disable_click=!0,this}function mn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Xa(d){return mn(d),vi(d),this}function Wl(d){if(d.composedPath)return d.composedPath();for(var y=[],k=d.target;k;)y.push(k),k=k.parentNode;return y}function Vl(d,y){if(!y)return new re(d.clientX,d.clientY);var k=Yl(y),C=k.boundingClientRect;return new re((d.clientX-C.left)/k.x-y.clientLeft,(d.clientY-C.top)/k.y-y.clientTop)}var Rp=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cr(d){return He.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Rp:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function wa(d,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==d;)k=k.parentNode}catch{return!1}return k!==d}var pu={__proto__:null,on:tt,off:Nt,stopPropagation:vi,disableScrollPropagation:qi,disableClickPropagation:Io,preventDefault:mn,stop:Xa,getPropagationPath:Wl,getMousePosition:Vl,getWheelDelta:cr,isExternalTarget:wa,addListener:tt,removeListener:Nt},zs=X.extend({run:function(d,y,k,C){this.stop(),this._el=d,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Za(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var k=this._startPos.add(this._offset.multiplyBy(d));y&&k._round(),Ut(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=X.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=_(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fl&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,kf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(me(d),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var C=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,k.zoom):this._tryAnimatedPan(d,k.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,k){var C=this.getZoomScale(y),R=this.getSize().divideBy(2),F=d instanceof re?d:this.latLngToContainerPoint(d),ee=F.subtract(R).multiplyBy(1-1/C),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():Z(d);var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,k.add(C));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var F=C.subtract(k).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ge=this.unproject(ee.add(ce).divideBy(2).add(F),R);return{center:ge,zoom:R}},fitBounds:function(d,y){if(d=Z(d),!d.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(d,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,k){if(k=k||{},k.animate===!1||!He.any3d)return this.setView(d,y,k);this._stop();var C=this.project(this.getCenter()),R=this.project(d),F=this.getSize(),ee=this._zoom;d=me(d),y=y===void 0?ee:y;var ce=Math.max(F.x,F.y),ge=ce*this.getZoomScale(ee,y),Ae=R.distanceTo(C)||1,Re=1.42,qe=Re*Re;function ot(cn){var Aa=cn?-1:1,Uo=cn?ge:ce,Yf=ge*ge-ce*ce+Aa*qe*qe*Ae*Ae,dc=2*Uo*qe*Ae,fc=Yf/dc,oo=Math.sqrt(fc*fc+1)-fc,Ta=oo<1e-9?-18:Math.log(oo);return Ta}function $n(cn){return(Math.exp(cn)-Math.exp(-cn))/2}function pn(cn){return(Math.exp(cn)+Math.exp(-cn))/2}function Nr(cn){return $n(cn)/pn(cn)}var _t=ot(0);function wt(cn){return ce*(pn(_t)/pn(_t+Re*cn))}function ut(cn){return ce*(pn(_t)*Nr(_t+Re*cn)-$n(_t))/qe}function io(cn){return 1-Math.pow(1-cn,1.5)}var Vr=Date.now(),ju=(ot(1)-_t)/Re,ao=k.duration?1e3*k.duration:1e3*ju*.8;function qf(){var cn=(Date.now()-Vr)/ao,Aa=io(cn)*ju;cn<=1?(this._flyToFrame=U(qf,this),this._move(this.unproject(C.add(R.subtract(C).multiplyBy(ut(Aa)/Ae)),ee),this.getScaleZoom(ce/wt(Aa),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),qf.call(this),this},flyToBounds:function(d,y){var k=this._getBoundsCenterZoom(d,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(d){return d=Z(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var k=this.getCenter(),C=this._limitCenter(k,this._zoom,Z(d));return k.equals(C)||this.panTo(C,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),C=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),F=this.project(d),ee=this.getPixelBounds(),ce=W([ee.min.add(k),ee.max.subtract(C)]),ge=ce.getSize();if(!ce.contains(F)){this._enforcingBounds=!0;var Ae=F.subtract(ce.getCenter()),Re=ce.extend(F).getSize().subtract(ge);R.x+=Ae.x<0?-Re.x:Re.x,R.y+=Ae.y<0?-Re.y:Re.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),C=y.divideBy(2).round(),R=k.divideBy(2).round(),F=C.subtract(R);return!F.x&&!F.y?this:(d.animate&&d.pan?this.panBy(F):(d.pan&&this._rawPanBy(F),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,d):navigator.geolocation.getCurrentPosition(y,k,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,k=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,k=d.coords.longitude,C=new oe(y,k),R=C.toBounds(d.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ee=this.getBoundsZoom(R);this.setView(C,F.maxZoom?Math.min(ee,F.maxZoom):ee)}var ce={latlng:C,bounds:R,timestamp:d.timestamp};for(var ge in d.coords)typeof d.coords[ge]=="number"&&(ce[ge]=d.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var k=this[d]=new y(this);return this._handlers.push(k),this.options[d]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),It(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)It(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var k="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),C=ct("div",k,y||this._mapPane);return d&&(this._panes[d]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),k=this.unproject(d.getTopRight());return new ae(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,k){d=Z(d),k=se(k||[0,0]);var C=this.getZoom()||0,R=this.getMinZoom(),F=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ge=this.getSize().subtract(k),Ae=W(this.project(ce,C),this.project(ee,C)).getSize(),Re=He.any3d?this.options.zoomSnap:1,qe=ge.x/Ae.x,ot=ge.y/Ae.y,$n=y?Math.max(qe,ot):Math.min(qe,ot);return C=this.getScaleZoom($n,C),Re&&(C=Math.round(C/(Re/100))*(Re/100),C=y?Math.ceil(C/Re)*Re:Math.floor(C/Re)*Re),Math.max(R,Math.min(F,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var k=this._getTopLeftPoint(d,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(d)/k.scale(y)},getScaleZoom:function(d,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var C=k.zoom(d*k.scale(y));return isNaN(C)?1/0:C},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(me(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(me(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(Z(d))},distance:function(d,y){return this.options.crs.distance(me(d),me(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(d)))},mouseEventToContainerPoint:function(d){return Vl(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=Af(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,nt(d,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Hl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(d.markerPane,"leaflet-zoom-hide"),nt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,k){Ut(this._mapPane,new re(0,0));var C=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(d,y)._moveEnd(R),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,k,C){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),C?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Nt:tt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var k=[],C,R=y==="mouseout"||y==="mouseover",F=d.target||d.srcElement,ee=!1;F;){if(C=this._targets[u(F)],C&&(y==="click"||y==="preclick")&&this._draggableMoved(C)){ee=!0;break}if(C&&C.listens(y,!0)&&(R&&!wa(F,d)||(k.push(C),R))||F===this._container)break;F=F.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var k=d.type;k==="mousedown"&&$s(y),this._fireDOMEvent(d,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,k){if(d.type==="click"){var C=i({},d);C.type="preclick",this._fireDOMEvent(C,C.type,k)}var R=this._findEventTargets(d,y);if(k){for(var F=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&F.push(k[ee]);R=F.concat(R)}if(R.length){y==="contextmenu"&&mn(d);var ce=R[0],ge={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ae=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Ae?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Ae?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ge,!0),ge.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&P(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Za(this._mapPane)||new re(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var k=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var k=this.getSize()._divideBy(2);return this.project(d,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return this.project(d,y)._subtract(C)},_latLngBoundsToNewLayerBounds:function(d,y,k){var C=this._getNewPixelOrigin(k,y);return W([this.project(d.getSouthWest(),y)._subtract(C),this.project(d.getNorthWest(),y)._subtract(C),this.project(d.getSouthEast(),y)._subtract(C),this.project(d.getNorthEast(),y)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,k){if(!k)return d;var C=this.project(d,y),R=this.getSize().divideBy(2),F=new B(C.subtract(R),C.add(R)),ee=this._getBoundsOffset(F,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(C.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var k=this.getPixelBounds(),C=new B(k.min.add(d),k.max.add(d));return d.add(this._getBoundsOffset(C,y))},_getBoundsOffset:function(d,y,k){var C=W(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=C.min.subtract(d.min),F=C.max.subtract(d.max),ee=this._rebound(R.x,-F.x),ce=this._rebound(R.y,-F.y);return new re(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),k=this.getMaxZoom(),C=He.any3d?this.options.zoomSnap:1;return C&&(d=Math.round(d/C)*C),Math.max(y,Math.min(k,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var k=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var k=Va,C=this._proxy.style[k];_a(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),C===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){It(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();_a(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/C);return k.animate!==!0&&!this.getSize().contains(R)?!1:(U(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,k,C){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Mf(d,y){return new ht(d,y)}var jr=J.extend({options:{position:"topright"},initialize:function(d){_(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),k=this.getPosition(),C=d._controlCorners[k];return nt(y,"leaflet-control"),k.indexOf("bottom")!==-1?C.insertBefore(y,C.firstChild):C.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(It(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Sa=function(d){return new jr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function C(R,F){var ee=y+R+" "+y+F;d[R+F]=ct("div",ee,k)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)It(this._controlCorners[d]);It(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=jr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,k,C){return k<C?-1:C<k?1:0}},initialize:function(d,y,k){_(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in d)this._addLayer(d[C],C);for(C in y)this._addLayer(y[C],C,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return jr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Io(y),qi(y);var C=this._section=ct("section",d+"-list");k&&(this._map.on("click",this.collapse,this),tt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),tt(R,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){mn(F),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",d+"-base",C),this._separator=ct("div",d+"-separator",C),this._overlaysList=ct("div",d+"-overlays",C),y.appendChild(C)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,k){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(C,R){return this.options.sortFunction(C.layer,R.layer,C.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gr(this._baseLayersList),Gr(this._overlaysList),this._layerControlInputs=[];var d,y,k,C,R=0;for(k=0;k<this._layers.length;k++)C=this._layers[k],this._addItem(C),y=y||C.overlay,d=d||!C.overlay,R+=C.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),k=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(d,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=k,C.firstChild},_addItem:function(d){var y=document.createElement("label"),k=this._map.hasLayer(d.layer),C;d.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=k):C=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(C),C.layerId=u(d.layer),tt(C,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var F=document.createElement("span");y.appendChild(F),F.appendChild(C),F.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,k,C=[],R=[];this._handlingClick=!0;for(var F=d.length-1;F>=0;F--)y=d[F],k=this._getLayer(y.layerId).layer,y.checked?C.push(k):y.checked||R.push(k);for(F=0;F<R.length;F++)this._map.hasLayer(R[F])&&this._map.removeLayer(R[F]);for(F=0;F<C.length;F++)this._map.hasLayer(C[F])||this._map.addLayer(C[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,k,C=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&C<k.options.minZoom||k.options.maxZoom!==void 0&&C>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,tt(d,"click",mn),this.expand();var y=this;setTimeout(function(){Nt(d,"click",mn),y._preventClick=!1})}}),Lp=function(d,y,k){return new Zl(d,y,k)},Pf=jr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,k,C,R){var F=ct("a",k,C);return F.innerHTML=d,F.href="#",F.title=y,F.setAttribute("role","button"),F.setAttribute("aria-label",y),Io(F),tt(F,"click",Xa),tt(F,"click",R,this),tt(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";en(this._zoomInButton,y),en(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(nt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(nt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pf,this.addControl(this.zoomControl))});var xx=function(d){return new Pf(d)},Ip=jr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",k=ct("div",y),C=this.options;return this._addScales(C,y+"-line",k),d.on(C.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),k},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,k){d.metric&&(this._mScale=ct("div",y,k)),d.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var d=this._map,y=d.getSize().y/2,k=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/d)},_updateImperial:function(d){var y=d*3.2808399,k,C,R;y>5280?(k=y/5280,C=this._getRoundNum(k),this._updateScale(this._iScale,C+" mi",C/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,k){d.style.width=Math.round(this.options.maxWidth*k)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),k=d/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),Df=function(d){return new Ip(d)},_x='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Rf=jr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?_x+" ":"")+"Leaflet</a>"},initialize:function(d){_(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Io(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),d.length&&k.push(d.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Rf().addTo(this)});var wx=function(d){return new Rf(d)};jr.Layers=Zl,jr.Zoom=Pf,jr.Scale=Ip,jr.Attribution=Rf,Sa.layers=Lp,Sa.zoom=xx,Sa.scale=Df,Sa.attribution=wx;var Yi=J.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yi.addTo=function(d,y){return d.addHandler(y,this),this};var Sx={Events:Y},Lf=He.touch?"touchstart mousedown":"mousedown",Ja=X.extend({options:{clickTolerance:3},initialize:function(d,y,k,C){_(this,C),this._element=d,this._dragStartTarget=y||d,this._preventOutline=k},enable:function(){this._enabled||(tt(this._dragStartTarget,Lf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ja._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Lf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Tf(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ja._dragging===this&&this.finishDrag();return}if(!(Ja._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ja._dragging=this,this._preventOutline&&$s(this._element),fu(),Ls(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,k=mu(this._element);this._startPoint=new re(y.clientX,y.clientY),this._startPos=Za(this._element),this._parentScale=Yl(k);var C=d.type==="mousedown";tt(document,C?"mousemove":"touchmove",this._onMove,this),tt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,k=new re(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,mn(d),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),ql(),Gi();var y=this._moved&&this._moving;this._moving=!1,Ja._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function $p(d,y,k){var C,R=[1,4,2,8],F,ee,ce,ge,Ae,Re,qe,ot;for(F=0,Re=d.length;F<Re;F++)d[F]._code=$o(d[F],y);for(ce=0;ce<4;ce++){for(qe=R[ce],C=[],F=0,Re=d.length,ee=Re-1;F<Re;ee=F++)ge=d[F],Ae=d[ee],ge._code&qe?Ae._code&qe||(ot=gu(Ae,ge,qe,y,k),ot._code=$o(ot,y),C.push(ot)):(Ae._code&qe&&(ot=gu(Ae,ge,qe,y,k),ot._code=$o(ot,y),C.push(ot)),C.push(ge));d=C}return d}function Bp(d,y){var k,C,R,F,ee,ce,ge,Ae,Re;if(!d||d.length===0)throw new Error("latlngs not passed");Yr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var qe=me([0,0]),ot=Z(d),$n=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());$n<1700&&(qe=If(d));var pn=d.length,Nr=[];for(k=0;k<pn;k++){var _t=me(d[k]);Nr.push(y.project(me([_t.lat-qe.lat,_t.lng-qe.lng])))}for(ce=ge=Ae=0,k=0,C=pn-1;k<pn;C=k++)R=Nr[k],F=Nr[C],ee=R.y*F.x-F.y*R.x,ge+=(R.x+F.x)*ee,Ae+=(R.y+F.y)*ee,ce+=ee*3;ce===0?Re=Nr[0]:Re=[ge/ce,Ae/ce];var wt=y.unproject(se(Re));return me([wt.lat+qe.lat,wt.lng+qe.lng])}function If(d){for(var y=0,k=0,C=0,R=0;R<d.length;R++){var F=me(d[R]);y+=F.lat,k+=F.lng,C++}return me([y/C,k/C])}var $f={__proto__:null,clipPolygon:$p,polygonCenter:Bp,centroid:If};function zp(d,y){if(!y||!d.length)return d.slice();var k=y*y;return d=kx(d,k),d=Fp(d,k),d}function Up(d,y,k){return Math.sqrt(Xl(d,y,k,!0))}function Ex(d,y,k){return Xl(d,y,k)}function Fp(d,y){var k=d.length,C=typeof Uint8Array<"u"?Uint8Array:Array,R=new C(k);R[0]=R[k-1]=1,Bf(d,R,y,0,k-1);var F,ee=[];for(F=0;F<k;F++)R[F]&&ee.push(d[F]);return ee}function Bf(d,y,k,C,R){var F=0,ee,ce,ge;for(ce=C+1;ce<=R-1;ce++)ge=Xl(d[ce],d[C],d[R],!0),ge>F&&(ee=ce,F=ge);F>k&&(y[ee]=1,Bf(d,y,k,C,ee),Bf(d,y,k,ee,R))}function kx(d,y){for(var k=[d[0]],C=1,R=0,F=d.length;C<F;C++)Ax(d[C],d[R])>y&&(k.push(d[C]),R=C);return R<F-1&&k.push(d[F-1]),k}var Hp;function Gp(d,y,k,C,R){var F=C?Hp:$o(d,k),ee=$o(y,k),ce,ge,Ae;for(Hp=ee;;){if(!(F|ee))return[d,y];if(F&ee)return!1;ce=F||ee,ge=gu(d,y,ce,k,R),Ae=$o(ge,k),ce===F?(d=ge,F=Ae):(y=ge,ee=Ae)}}function gu(d,y,k,C,R){var F=y.x-d.x,ee=y.y-d.y,ce=C.min,ge=C.max,Ae,Re;return k&8?(Ae=d.x+F*(ge.y-d.y)/ee,Re=ge.y):k&4?(Ae=d.x+F*(ce.y-d.y)/ee,Re=ce.y):k&2?(Ae=ge.x,Re=d.y+ee*(ge.x-d.x)/F):k&1&&(Ae=ce.x,Re=d.y+ee*(ce.x-d.x)/F),new re(Ae,Re,R)}function $o(d,y){var k=0;return d.x<y.min.x?k|=1:d.x>y.max.x&&(k|=2),d.y<y.min.y?k|=4:d.y>y.max.y&&(k|=8),k}function Ax(d,y){var k=y.x-d.x,C=y.y-d.y;return k*k+C*C}function Xl(d,y,k,C){var R=y.x,F=y.y,ee=k.x-R,ce=k.y-F,ge=ee*ee+ce*ce,Ae;return ge>0&&(Ae=((d.x-R)*ee+(d.y-F)*ce)/ge,Ae>1?(R=k.x,F=k.y):Ae>0&&(R+=ee*Ae,F+=ce*Ae)),ee=d.x-R,ce=d.y-F,C?ee*ee+ce*ce:new re(R,F)}function Yr(d){return!O(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function yu(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yr(d)}function Us(d,y){var k,C,R,F,ee,ce,ge,Ae;if(!d||d.length===0)throw new Error("latlngs not passed");Yr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Re=me([0,0]),qe=Z(d),ot=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());ot<1700&&(Re=If(d));var $n=d.length,pn=[];for(k=0;k<$n;k++){var Nr=me(d[k]);pn.push(y.project(me([Nr.lat-Re.lat,Nr.lng-Re.lng])))}for(k=0,C=0;k<$n-1;k++)C+=pn[k].distanceTo(pn[k+1])/2;if(C===0)Ae=pn[0];else for(k=0,F=0;k<$n-1;k++)if(ee=pn[k],ce=pn[k+1],R=ee.distanceTo(ce),F+=R,F>C){ge=(F-C)/R,Ae=[ce.x-ge*(ce.x-ee.x),ce.y-ge*(ce.y-ee.y)];break}var _t=y.unproject(se(Ae));return me([_t.lat+Re.lat,_t.lng+Re.lng])}var Tx={__proto__:null,simplify:zp,pointToSegmentDistance:Up,closestPointOnSegment:Ex,clipSegment:Gp,_getEdgeIntersection:gu,_getBitCode:$o,_sqClosestPointOnSegment:Xl,isFlat:Yr,_flat:yu,polylineCenter:Us},bu={project:function(d){return new re(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},vu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,k=this.R,C=d.lat*y,R=this.R_MINOR/k,F=Math.sqrt(1-R*R),ee=F*Math.sin(C),ce=Math.tan(Math.PI/4-C/2)/Math.pow((1-ee)/(1+ee),F/2);return C=-k*Math.log(Math.max(ce,1e-10)),new re(d.lng*y*k,C)},unproject:function(d){for(var y=180/Math.PI,k=this.R,C=this.R_MINOR/k,R=Math.sqrt(1-C*C),F=Math.exp(-d.y/k),ee=Math.PI/2-2*Math.atan(F),ce=0,ge=.1,Ae;ce<15&&Math.abs(ge)>1e-7;ce++)Ae=R*Math.sin(ee),Ae=Math.pow((1-Ae)/(1+Ae),R/2),ge=Math.PI/2-2*Math.atan(F*Ae)-ee,ee+=ge;return new oe(ee*y,d.x*y/k)}},qp={__proto__:null,LonLat:bu,Mercator:vu,SphericalMercator:Oe},Yp=i({},be,{code:"EPSG:3395",projection:vu,transformation:(function(){var d=.5/(Math.PI*vu.R);return ve(d,.5,-d,.5)})()}),zf=i({},be,{code:"EPSG:4326",projection:bu,transformation:ve(1/180,1,-1/180,.5)}),Fs=i({},pe,{projection:bu,transformation:ve(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var k=y.lng-d.lng,C=y.lat-d.lat;return Math.sqrt(k*k+C*C)},infinite:!0});pe.Earth=be,pe.EPSG3395=Yp,pe.EPSG3857=Ze,pe.EPSG900913=Ne,pe.EPSG4326=zf,pe.Simple=Fs;var xi=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},_addLayers:function(d){d=d?O(d)?d:[d]:[];for(var y=0,k=d.length;y<k;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,k=this._getZoomSpan();for(var C in this._zoomBoundLayers){var R=this._zoomBoundLayers[C].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hs=xi.extend({initialize:function(d,y){_(this,y),this._layers={};var k,C;if(d)for(k=0,C=d.length;k<C;k++)this.addLayer(d[k])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),k,C;for(k in this._layers)C=this._layers[k],C[d]&&C[d].apply(C,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),Ox=function(d,y){return new Hs(d,y)},Ki=Hs.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Hs.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Hs.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var k=this._layers[y];d.extend(k.getBounds?k.getBounds():k.getLatLng())}return d}}),Kp=function(d,y){return new Ki(d,y)},Wi=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){_(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var k=this._getIconUrl(d);if(!k){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(C,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(d,y){var k=this.options,C=k[y+"Size"];typeof C=="number"&&(C=[C,C]);var R=se(C),F=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(k.className||""),F&&(d.style.marginLeft=-F.x+"px",d.style.marginTop=-F.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return He.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Jl(d){return new Wi(d)}var Ql=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Ql.imagePath!="string"&&(Ql.imagePath=this._detectIconPath()),(this.options.imagePath||Ql.imagePath)+Wi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(k,C,R){var F=C.exec(k);return F&&F[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Hl(d,"background-image")||Hl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),ec=Yi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ja(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,k=y._map,C=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,F=Za(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ge=W(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ge.contains(F)){var Ae=se((Math.max(ge.max.x,F.x)-ge.max.x)/(ee.max.x-ge.max.x)-(Math.min(ge.min.x,F.x)-ge.min.x)/(ee.min.x-ge.min.x),(Math.max(ge.max.y,F.y)-ge.max.y)/(ee.max.y-ge.max.y)-(Math.min(ge.min.y,F.y)-ge.min.y)/(ee.min.y-ge.min.y)).multiplyBy(C);k.panBy(Ae,{animate:!1}),this._draggable._newPos._add(Ae),this._draggable._startPos._add(Ae),Ut(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=U(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,k=y._shadow,C=Za(y._icon),R=y._map.layerPointToLatLng(C);k&&Ut(k,C),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),tc=xi.extend({options:{icon:new Ql,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){_(this,y),this._latlng=me(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=d.icon.createIcon(this._icon),C=!1;k!==this._icon&&(this._icon&&this._removeIcon(),C=!0,d.title&&(k.title=d.title),k.tagName==="IMG"&&(k.alt=d.alt||"")),nt(k,y),d.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(k,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),F=!1;R!==this._shadow&&(this._removeShadow(),F=!0),R&&(nt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&F&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),It(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&It(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ec)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ec(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Zt(this._icon,d),this._shadow&&Zt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),C=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:k.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wp(d,y){return new tc(d,y)}var Vi=xi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return _(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gs=Vi.extend({options:{fill:!0,radius:10},initialize:function(d,y){_(this,y),this._latlng=me(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=me(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Vi.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,k=this._clickTolerance(),C=[d+k,y+k];this._pxBounds=new B(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vp(d,y){return new Gs(d,y)}var xu=Gs.extend({initialize:function(d,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),_(this,y),this._latlng=me(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Vi.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,k=this._map,C=k.options.crs;if(C.distance===be.distance){var R=Math.PI/180,F=this._mRadius/be.R/R,ee=k.project([y+F,d]),ce=k.project([y-F,d]),ge=ee.add(ce).divideBy(2),Ae=k.unproject(ge).lat,Re=Math.acos((Math.cos(F*R)-Math.sin(y*R)*Math.sin(Ae*R))/(Math.cos(y*R)*Math.cos(Ae*R)))/R;(isNaN(Re)||Re===0)&&(Re=F/Math.cos(Math.PI/180*y)),this._point=ge.subtract(k.getPixelOrigin()),this._radius=isNaN(Re)?0:ge.x-k.project([Ae,d-Re]).x,this._radiusY=ge.y-ee.y}else{var qe=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(qe).x}this._updateBounds()}});function Zp(d,y,k){return new xu(d,y,k)}var Ea=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){_(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,k=null,C=Xl,R,F,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ge=this._parts[ee],Ae=1,Re=ge.length;Ae<Re;Ae++){R=ge[Ae-1],F=ge[Ae];var qe=C(d,R,F,!0);qe<y&&(y=qe,k=C(d,R,F))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Us(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=me(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return Yr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],k=Yr(d),C=0,R=d.length;C<R;C++)k?(y[C]=me(d[C]),this._bounds.extend(y[C])):y[C]=this._convertLatLngs(d[C]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new re(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,k){var C=d[0]instanceof oe,R=d.length,F,ee;if(C){for(ee=[],F=0;F<R;F++)ee[F]=this._map.latLngToLayerPoint(d[F]),k.extend(ee[F]);y.push(ee)}else for(F=0;F<R;F++)this._projectLatlngs(d[F],y,k)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,C,R,F,ee,ce,ge;for(k=0,R=0,F=this._rings.length;k<F;k++)for(ge=this._rings[k],C=0,ee=ge.length;C<ee-1;C++)ce=Gp(ge[C],ge[C+1],d,C,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ge[C+1]||C===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,k=0,C=d.length;k<C;k++)d[k]=zp(d[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var k,C,R,F,ee,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(k=0,F=this._parts.length;k<F;k++)for(ce=this._parts[k],C=0,ee=ce.length,R=ee-1;C<ee;R=C++)if(!(!y&&C===0)&&Up(d,ce[R],ce[C])<=ge)return!0;return!1}});function jx(d,y){return new Ea(d,y)}Ea._flat=yu;var qs=Ea.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=Ea.prototype._convertLatLngs.call(this,d),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(d){Ea.prototype._setLatLngs.call(this,d),Yr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,k=new re(y,y);if(d=new B(d.min.subtract(k),d.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,R=this._rings.length,F;C<R;C++)F=$p(this._rings[C],d,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,k,C,R,F,ee,ce,ge,Ae;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(F=0,ge=this._parts.length;F<ge;F++)for(k=this._parts[F],ee=0,Ae=k.length,ce=Ae-1;ee<Ae;ce=ee++)C=k[ee],R=k[ce],C.y>d.y!=R.y>d.y&&d.x<(R.x-C.x)*(d.y-C.y)/(R.y-C.y)+C.x&&(y=!y);return y||Ea.prototype._containsPoint.call(this,d,!0)}});function Nx(d,y){return new qs(d,y)}var ka=Ki.extend({initialize:function(d,y){_(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=O(d)?d:d.features,k,C,R;if(y){for(k=0,C=y.length;k<C;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var F=this.options;if(F.filter&&!F.filter(d))return this;var ee=Jn(d,F);return ee?(ee.feature=Su(d),ee.defaultOptions=ee.options,this.resetStyle(ee),F.onEachFeature&&F.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Jn(d,y){var k=d.type==="Feature"?d.geometry:d,C=k?k.coordinates:null,R=[],F=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||_u,ce,ge,Ae,Re;if(!C&&!k)return null;switch(k.type){case"Point":return ce=ee(C),Ys(F,d,ce,y);case"MultiPoint":for(Ae=0,Re=C.length;Ae<Re;Ae++)ce=ee(C[Ae]),R.push(Ys(F,d,ce,y));return new Ki(R);case"LineString":case"MultiLineString":return ge=nc(C,k.type==="LineString"?0:1,ee),new Ea(ge,y);case"Polygon":case"MultiPolygon":return ge=nc(C,k.type==="Polygon"?1:2,ee),new qs(ge,y);case"GeometryCollection":for(Ae=0,Re=k.geometries.length;Ae<Re;Ae++){var qe=Jn({geometry:k.geometries[Ae],type:"Feature",properties:d.properties},y);qe&&R.push(qe)}return new Ki(R);case"FeatureCollection":for(Ae=0,Re=k.features.length;Ae<Re;Ae++){var ot=Jn(k.features[Ae],y);ot&&R.push(ot)}return new Ki(R);default:throw new Error("Invalid GeoJSON object.")}}function Ys(d,y,k,C){return d?d(y,k):new tc(k,C&&C.markersInheritOptions&&C)}function _u(d){return new oe(d[1],d[0],d[2])}function nc(d,y,k){for(var C=[],R=0,F=d.length,ee;R<F;R++)ee=y?nc(d[R],y-1,k):(k||_u)(d[R]),C.push(ee);return C}function wu(d,y){return d=me(d),d.alt!==void 0?[g(d.lng,y),g(d.lat,y),g(d.alt,y)]:[g(d.lng,y),g(d.lat,y)]}function rc(d,y,k,C){for(var R=[],F=0,ee=d.length;F<ee;F++)R.push(y?rc(d[F],Yr(d[F])?0:y-1,k,C):wu(d[F],C));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function Qa(d,y){return d.feature?i({},d.feature,{geometry:y}):Su(y)}function Su(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var eo={toGeoJSON:function(d){return Qa(this,{type:"Point",coordinates:wu(this.getLatLng(),d)})}};tc.include(eo),xu.include(eo),Gs.include(eo),Ea.include({toGeoJSON:function(d){var y=!Yr(this._latlngs),k=rc(this._latlngs,y?1:0,!1,d);return Qa(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),qs.include({toGeoJSON:function(d){var y=!Yr(this._latlngs),k=y&&!Yr(this._latlngs[0]),C=rc(this._latlngs,k?2:y?1:0,!0,d);return y||(C=[C]),Qa(this,{type:(k?"Multi":"")+"Polygon",coordinates:C})}}),Hs.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(d).geometry.coordinates)}),Qa(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var k=y==="GeometryCollection",C=[];return this.eachLayer(function(R){if(R.toGeoJSON){var F=R.toGeoJSON(d);if(k)C.push(F.geometry);else{var ee=Su(F);ee.type==="FeatureCollection"?C.push.apply(C,ee.features):C.push(ee)}}}),k?Qa(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Eu(d,y){return new ka(d,y)}var ic=Eu,Ks=xi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,k){this._url=d,this._bounds=Z(y),_(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){It(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&In(this._image),this},bringToBack:function(){return this._map&&Ro(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=Z(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;_a(this._image,k,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();Ut(d,y.min),d.style.width=k.x+"px",d.style.height=k.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Xp=function(d,y,k){return new Ks(d,y,k)},to=Ks.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(nt(y,"leaflet-image-layer"),this._zoomAnimated&&nt(y,"leaflet-zoom-animated"),this.options.className&&nt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var k=y.getElementsByTagName("source"),C=[],R=0;R<k.length;R++)C.push(k[R].src);this._url=k.length>0?C:[y.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ee=ct("source");ee.src=this._url[F],y.appendChild(ee)}}});function Ws(d,y,k){return new to(d,y,k)}var ku=Ks.extend({_initImage:function(){var d=this._image=this._url;nt(d,"leaflet-image-layer"),this._zoomAnimated&&nt(d,"leaflet-zoom-animated"),this.options.className&&nt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Jp(d,y,k){return new ku(d,y,k)}var Qn=xi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||O(d))?(this._latlng=me(d),_(this,y)):(_(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(o(It,void 0,this._container),200)):It(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=me(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&In(this._container),this},bringToBack:function(){return this._map&&Ro(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof Ki){y=null;var k=this._source._layers;for(var C in k)if(k[C]._map){y=k[C];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(k)):y=y.add(d).add(k);var C=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=C+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,k,C){var R=y;return R instanceof d||(R=new d(C).setContent(y)),k&&R.setLatLng(k),R}}),xi.include({_initOverlay:function(d,y,k,C){var R=k;return R instanceof d?(_(R,C),R._source=this):(R=y&&!C?y:new d(C,this),R.setContent(k)),R}});var ac=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Qn.prototype.openOn.call(this,d)},onAdd:function(d){Qn.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",vi))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",vi))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",k),Io(y),qi(this._contentNode),tt(y,"contextmenu",vi),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=ct("a",d+"-close-button",y);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',tt(C,"click",function(R){mn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var k=d.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var C=d.offsetHeight,R=this.options.maxHeight,F="leaflet-popup-scrolled";R&&C>R?(y.height=R+"px",nt(d,F)):en(d,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),k=this._getAnchor();Ut(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Hl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,C=this._containerWidth,R=new re(this._containerLeft,-k-this._containerBottom);R._add(Za(this._container));var F=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ge=se(this.options.autoPanPaddingBottomRight||ee),Ae=d.getSize(),Re=0,qe=0;F.x+C+ge.x>Ae.x&&(Re=F.x+C-Ae.x+ge.x),F.x-Re-ce.x<0&&(Re=F.x-ce.x),F.y+k+ge.y>Ae.y&&(qe=F.y+k-Ae.y+ge.y),F.y-qe-ce.y<0&&(qe=F.y-ce.y),(Re||qe)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Re,qe]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qp=function(d,y){return new ac(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,k){return this._initOverlay(ac,d,y,k).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),xi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(ac,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ki||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Xa(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var oc=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Qn.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,k,C=this._map,R=this._container,F=C.latLngToContainerPoint(C.getCenter()),ee=C.layerPointToContainerPoint(d),ce=this.options.direction,ge=R.offsetWidth,Ae=R.offsetHeight,Re=se(this.options.offset),qe=this._getAnchor();ce==="top"?(y=ge/2,k=Ae):ce==="bottom"?(y=ge/2,k=0):ce==="center"?(y=ge/2,k=Ae/2):ce==="right"?(y=0,k=Ae/2):ce==="left"?(y=ge,k=Ae/2):ee.x<F.x?(ce="right",y=0,k=Ae/2):(ce="left",y=ge+(Re.x+qe.x)*2,k=Ae/2),d=d.subtract(se(y,k,!0)).add(Re).add(qe),en(R,"leaflet-tooltip-right"),en(R,"leaflet-tooltip-left"),en(R,"leaflet-tooltip-top"),en(R,"leaflet-tooltip-bottom"),nt(R,"leaflet-tooltip-"+ce),Ut(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Zt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cx=function(d,y){return new oc(d,y)};ht.include({openTooltip:function(d,y,k){return this._initOverlay(oc,d,y,k).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),xi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oc,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ki||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(tt(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),tt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,k,C;this._tooltip.options.sticky&&d.originalEvent&&(k=this._map.mouseEventToContainerPoint(d.originalEvent),C=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(y)}});var eg=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Gr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var C=se(k.bgPos);y.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function Mx(d){return new eg(d)}Wi.Default=Ql;var Vs=xi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){_(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),It(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ro(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof re?d:new re(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,k=-d(-1/0,1/0),C=0,R=y.length,F;C<R;C++)F=y[C].style.zIndex,y[C]!==this._container&&F&&(k=d(k,+F));isFinite(k)&&(this.options.zIndex=k+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Zt(this._container,this.options.opacity);var d=+new Date,y=!1,k=!1;for(var C in this._tiles){var R=this._tiles[C];if(!(!R.current||!R.loaded)){var F=Math.min(1,(d-R.loaded)/200);Zt(R.el,F),F<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===d?(this._levels[k].el.style.zIndex=y-Math.abs(d-k),this._onUpdateLevel(k)):(It(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var C=this._levels[d],R=this._map;return C||(C=this._levels[d]={},C.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=y,C.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),C.zoom=d,this._setZoomTransform(C,R.getCenter(),R.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var C=y.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)It(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,k,C){var R=Math.floor(d/2),F=Math.floor(y/2),ee=k-1,ce=new re(+R,+F);ce.z=+ee;var ge=this._tileCoordsToKey(ce),Ae=this._tiles[ge];return Ae&&Ae.active?(Ae.retain=!0,!0):(Ae&&Ae.loaded&&(Ae.retain=!0),ee>C?this._retainParent(R,F,ee,C):!1)},_retainChildren:function(d,y,k,C){for(var R=2*d;R<2*d+2;R++)for(var F=2*y;F<2*y+2;F++){var ee=new re(R,F);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);k+1<C&&this._retainChildren(R,F,k+1,C)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,k,C){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var F=this.options.updateWhenZooming&&R!==this._tileZoom;(!C||F)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],d,y)},_setZoomTransform:function(d,y,k){var C=this._map.getZoomScale(k,d.zoom),R=d.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(y,k)).round();He.any3d?_a(d.el,R,C):Ut(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,k=this._tileSize=this.getTileSize(),C=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],C).x/k.x),Math.ceil(d.project([0,y.wrapLng[1]],C).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],C).y/k.x),Math.ceil(d.project([y.wrapLat[1],0],C).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),C=y.getZoomScale(k,this._tileZoom),R=y.project(d,this._tileZoom).floor(),F=y.getSize().divideBy(C*2);return new B(R.subtract(F),R.add(F))},_update:function(d){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(C),F=R.getCenter(),ee=[],ce=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ae in this._tiles){var Re=this._tiles[Ae].coords;(Re.z!==this._tileZoom||!ge.contains(new re(Re.x,Re.y)))&&(this._tiles[Ae].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(d,k);return}for(var qe=R.min.y;qe<=R.max.y;qe++)for(var ot=R.min.x;ot<=R.max.x;ot++){var $n=new re(ot,qe);if($n.z=this._tileZoom,!!this._isValidTile($n)){var pn=this._tiles[this._tileCoordsToKey($n)];pn?pn.current=!0:ee.push($n)}}if(ee.sort(function(_t,wt){return _t.distanceTo(F)-wt.distanceTo(F)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Nr=document.createDocumentFragment();for(ot=0;ot<ee.length;ot++)this._addTile(ee[ot],Nr);this._level.el.appendChild(Nr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(d.x<k.min.x||d.x>k.max.x)||!y.wrapLat&&(d.y<k.min.y||d.y>k.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(d);return Z(this.options.bounds).overlaps(C)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,k=this.getTileSize(),C=d.scaleBy(k),R=C.add(k),F=y.unproject(C,d.z),ee=y.unproject(R,d.z);return[F,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),k=new ae(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),k=new re(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(d){var y=this._tiles[d];y&&(It(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){nt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,He.ielt9&&this.options.opacity<1&&Zt(d,this.options.opacity)},_addTile:function(d,y){var k=this._getTilePos(d),C=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&U(o(this._tileReady,this,d,null,R)),Ut(R,k),this._tiles[C]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:d});var C=this._tileCoordsToKey(d);k=this._tiles[C],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Zt(k.el,0),z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(nt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new re(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function tg(d){return new Vs(d)}var no=Vs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=_(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var k=document.createElement("img");return tt(k,"load",o(this._tileOnLoad,this,y,k)),tt(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(d),k},getTileUrl:function(d){var y={r:He.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=k),y["-y"]=k}return N(this._url,i(y,this.options))},_tileOnLoad:function(d,y){He.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,k){var C=this.options.errorTileUrl;C&&y.getAttribute("src")!==C&&(y.src=C),d(k,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,C=this.options.zoomOffset;return k&&(d=y-d),d+C},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=M;var k=this._tiles[d].coords;It(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",M),Vs.prototype._removeTile.call(this,d)},_tileReady:function(d,y,k){if(!(!this._map||k&&k.getAttribute("src")===M))return Vs.prototype._tileReady.call(this,d,y,k)}});function Kr(d,y){return new no(d,y)}var sc=no.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var k=i({},this.defaultWmsParams);for(var C in y)C in this.options||(k[C]=y[C]);y=_(this,y);var R=y.detectRetina&&He.retina?2:1,F=this.getTileSize();k.width=F.x*R,k.height=F.y*R,this.wmsParams=k},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,no.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),k=this._crs,C=W(k.project(y[0]),k.project(y[1])),R=C.min,F=C.max,ee=(this._wmsVersion>=1.3&&this._crs===zf?[R.y,R.x,F.y,F.x]:[R.x,R.y,F.x,F.y]).join(","),ce=no.prototype.getTileUrl.call(this,d);return ce+E(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Wr(d,y){return new sc(d,y)}no.WMS=sc,Kr.wms=Wr;var _r=xi.extend({options:{padding:.1},initialize:function(d){_(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var k=this._map.getZoomScale(y,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),F=C.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(d,y));He.any3d?_a(this._container,F,k):Ut(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Au=_r.extend({options:{tolerance:0},getEvents:function(){var d=_r.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_r.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");tt(d,"mousemove",this._onMouseMove,this),tt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,It(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=this._container,k=d.getSize(),C=He.retina?2:1;Ut(y,d.min),y.width=C*k.x,y.height=C*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){_r.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,k=y.next,C=y.prev;k?k.prev=C:this._drawLast=C,C?C.next=k:this._drawFirst=k,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),k=[],C,R;for(R=0;R<y.length;R++){if(C=Number(y[R]),isNaN(C))return;k.push(C)}d.options._dashArray=k}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)d=C.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var k,C,R,F,ee=d._parts,ce=ee.length,ge=this._ctx;if(ce){for(ge.beginPath(),k=0;k<ce;k++){for(C=0,R=ee[k].length;C<R;C++)F=ee[k][C],ge[C?"lineTo":"moveTo"](F.x,F.y);y&&ge.closePath()}this._fillStroke(ge,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,k=this._ctx,C=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||C)/C;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,C,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,d)}},_fillStroke:function(d,y){var k=y.options;k.fill&&(d.globalAlpha=k.fillOpacity,d.fillStyle=k.fillColor||k.color,d.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=k.opacity,d.lineWidth=k.weight,d.strokeStyle=k.color,d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(k))&&(C=k);this._fireEvent(C?[C]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(en(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var k,C,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(C=k);C!==this._hoveredLayer&&(this._handleMouseOut(d),C&&(nt(this._container,"leaflet-interactive"),this._fireEvent([C],d,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,k){this._map._fireDOMEvent(y,k||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(k)k.prev=C;else return;C?C.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var k=y.next,C=y.prev;if(C)C.next=k;else return;k?k.prev=C:C&&(this._drawLast=C),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function lc(d){return He.canvas?new Au(d):null}var ro=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Uf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_r.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=ro("shape");nt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=ro("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;It(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,k=d._fill,C=d.options,R=d._container;R.stroked=!!C.stroke,R.filled=!!C.fill,C.stroke?(y||(y=d._stroke=ro("stroke")),R.appendChild(y),y.weight=C.weight+"px",y.color=C.color,y.opacity=C.opacity,C.dashArray?y.dashStyle=O(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=C.lineCap.replace("butt","flat"),y.joinstyle=C.lineJoin):y&&(R.removeChild(y),d._stroke=null),C.fill?(k||(k=d._fill=ro("fill")),R.appendChild(k),k.color=C.fillColor||C.color,k.opacity=C.fillOpacity):k&&(R.removeChild(k),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),k=Math.round(d._radius),C=Math.round(d._radiusY||k);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+C+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){In(d._container)},_bringToBack:function(d){Ro(d._container)}},Zi=He.vml?ro:_e,Zs=_r.extend({_initContainer:function(){this._container=Zi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){It(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=d.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),Ut(k,d.min),k.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Zi("path");d.options.className&&nt(y,d.options.className),d.options.interactive&&nt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){It(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,k=d.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,je(d._parts,y))},_updateCircle:function(d){var y=d._point,k=Math.max(Math.round(d._radius),1),C=Math.max(Math.round(d._radiusY),1)||k,R="a"+k+","+C+" 0 1,0 ",F=d._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(d,F)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){In(d._path)},_bringToBack:function(d){Ro(d._path)}});He.vml&&Zs.include(Uf);function cc(d){return He.svg||He.vml?new Zs(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&lc(d)||cc(d)}});var Bo=qs.extend({initialize:function(d,y){qs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=Z(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Px(d,y){return new Bo(d,y)}Zs.create=Zi,Zs.pointsToPath=je,ka.geometryToLayer=Jn,ka.coordsToLatLng=_u,ka.coordsToLatLngs=nc,ka.latLngToCoords=wu,ka.latLngsToCoords=rc,ka.getFeature=Qa,ka.asFeature=Su,ht.mergeOptions({boxZoom:!0});var wr=Yi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){It(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ls(),fu(),this._startPoint=this._map.mouseEventToContainerPoint(d),tt(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),k=y.getSize();Ut(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(It(this._box),en(this._container,"leaflet-crosshair")),Gi(),ql(),Nt(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",wr),ht.mergeOptions({doubleClickZoom:!0});var Tu=Yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,k=y.getZoom(),C=y.options.zoomDelta,R=d.originalEvent.shiftKey?k-C:k+C;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Tu),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xi=Yi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ja(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=Z(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),k=this._initialWorldOffset,C=this._draggable._newPos.x,R=(C-y+k)%d+y-k,F=(C+y+k)%d-y-k,ee=Math.abs(R+k)<Math.abs(F+k)?R:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,k=y.options,C=!k.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),C)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/F),ge=ce.distanceTo([0,0]),Ae=Math.min(k.inertiaMaxSpeed,ge),Re=ce.multiplyBy(Ae/ge),qe=Ae/(k.inertiaDeceleration*ee),ot=Re.multiplyBy(-qe/2).round();!ot.x&&!ot.y?y.fire("moveend"):(ot=y._limitOffset(ot,y.options.maxBounds),U(function(){y.panBy(ot,{duration:qe,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Xi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ff=Yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),tt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,k=d.scrollTop||y.scrollTop,C=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(C,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},k=this.keyCodes,C,R;for(C=0,R=k.left.length;C<R;C++)y[k.left[C]]=[-1*d,0];for(C=0,R=k.right.length;C<R;C++)y[k.right[C]]=[d,0];for(C=0,R=k.down.length;C<R;C++)y[k.down[C]]=[0,d];for(C=0,R=k.up.length;C<R;C++)y[k.up[C]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},k=this.keyCodes,C,R;for(C=0,R=k.zoomIn.length;C<R;C++)y[k.zoomIn[C]]=d;for(C=0,R=k.zoomOut.length;C<R;C++)y[k.zoomOut[C]]=-d},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,k=this._map,C;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(C=this._panKeys[y],d.shiftKey&&(C=se(C).multiplyBy(3)),k.options.maxBounds&&(C=k._limitOffset(se(C),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(C)));k.panTo(R)}else k.panBy(C)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Xa(d)}}});ht.addInitHook("addHandler","keyboard",Ff),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uc=Yi.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=cr(d),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var C=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),C),Xa(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),k=this._map.options.zoomSnap||0;d._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,F=k?Math.ceil(R/k)*k:R,ee=d._limitZoom(y+(this._delta>0?F:-F))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",uc);var zo=600;ht.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var Ou=Yi.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new re(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",mn),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),zo),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nt(document,"touchend",mn),Nt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new re(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var k=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});ht.addInitHook("addHandler","tapHold",Ou),ht.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Hf=Yi.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(C)._divideBy(2))),this._startDist=k.distanceTo(C),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),mn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(d.touches[0]),C=y.mouseEventToContainerPoint(d.touches[1]),R=k.distanceTo(C)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var F=k._add(C)._divideBy(2)._subtract(this._centerPoint);if(R===1&&F.x===0&&F.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(ee,this,!0),mn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Hf),ht.BoxZoom=wr,ht.DoubleClickZoom=Tu,ht.Drag=Xi,ht.Keyboard=Ff,ht.ScrollWheelZoom=uc,ht.TapHold=Ou,ht.TouchZoom=Hf,n.Bounds=B,n.Browser=He,n.CRS=pe,n.Canvas=Au,n.Circle=xu,n.CircleMarker=Gs,n.Class=J,n.Control=jr,n.DivIcon=eg,n.DivOverlay=Qn,n.DomEvent=pu,n.DomUtil=Bs,n.Draggable=Ja,n.Evented=X,n.FeatureGroup=Ki,n.GeoJSON=ka,n.GridLayer=Vs,n.Handler=Yi,n.Icon=Wi,n.ImageOverlay=Ks,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=xi,n.LayerGroup=Hs,n.LineUtil=Tx,n.Map=ht,n.Marker=tc,n.Mixin=Sx,n.Path=Vi,n.Point=re,n.PolyUtil=$f,n.Polygon=qs,n.Polyline=Ea,n.Popup=ac,n.PosAnimation=zs,n.Projection=qp,n.Rectangle=Bo,n.Renderer=_r,n.SVG=Zs,n.SVGOverlay=ku,n.TileLayer=no,n.Tooltip=oc,n.Transformation=Ce,n.Util=V,n.VideoOverlay=to,n.bind=o,n.bounds=W,n.canvas=lc,n.circle=Zp,n.circleMarker=Vp,n.control=Sa,n.divIcon=Mx,n.extend=i,n.featureGroup=Kp,n.geoJSON=Eu,n.geoJson=ic,n.gridLayer=tg,n.icon=Jl,n.imageOverlay=Xp,n.latLng=me,n.latLngBounds=Z,n.layerGroup=Ox,n.map=Mf,n.marker=Wp,n.point=se,n.polygon=Nx,n.polyline=jx,n.popup=Qp,n.rectangle=Px,n.setOptions=_,n.stamp=u,n.svg=cc,n.svgOverlay=Jp,n.tileLayer=Kr,n.tooltip=Cx,n.transformation=ve,n.version=r,n.videoOverlay=Ws;var Gf=window.L;n.noConflict=function(){return window.L=Gf,this},window.L=n}))})(Qh,Qh.exports)),Qh.exports}var UW=zW();const Aw=di(UW),u0=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ec(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function FW(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:c,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},h=Ec(n),p=Ec(t),g=Ec(r),x=Ec(a),w=Ec(o),_=Ec(c),E=i?Ec(i):null;let T=null,N=null,O=null;const P=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",M=z=>{P(z)&&document.activeElement!==w&&(z.preventDefault(),z.stopPropagation(),w.focus())},D=()=>{g.style.display="flex",T?setTimeout(()=>T?.invalidateSize(),200):setTimeout(()=>{T=Aw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),Aw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(T),T.invalidateSize()},0),g.addEventListener("keydown",M,!0),g.addEventListener("keyup",M,!0),w.focus()},$=()=>{g.style.display="none",w.value="",_.innerHTML="",O&&(window.clearTimeout(O),O=null),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0)},H=z=>{const V=z.dataset.name??"",J=Number(z.dataset.lat??""),Q=Number(z.dataset.lon??"");!Number.isFinite(J)||!Number.isFinite(Q)||!T||(N?N.setLatLng([J,Q]):N=Aw.marker([J,Q]).addTo(T),T.flyTo([J,Q],14,{duration:.5}),h.value=V,h.dataset.lat=String(J),h.dataset.lon=String(Q),e.onSelected?.({name:V,lat:J,lon:Q}),_.innerHTML="",$())},q=()=>{O&&window.clearTimeout(O);const z=w.value.trim();if(!z){_.innerHTML="";return}O=window.setTimeout(async()=>{try{const V="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),J=await fetch(V,{headers:{Accept:"application/json"}});if(!J.ok)throw new Error(`HTTP ${J.status}`);const Q=await J.json();if(!Array.isArray(Q)||Q.length===0){_.innerHTML='<li style="padding:8px"> </li>';return}const Y=Q.slice(0,12).map((X,re)=>{const ue=X.display_name.split(",").slice(0,3).map(W=>W.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=re===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${u0(ue)}"
                    data-lat="${u0(X.lat)}"
                    data-lon="${u0(X.lon)}"
                    data-active="${re===0?"1":"0"}"
                    style="${se}${B}"
                  >${u0(ue)}</li>`}).join("");_.innerHTML=Y}catch(V){console.error(V),_.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},K=z=>{const V=z.target;V.tagName==="LI"&&H(V)},U=z=>{if(z.key==="Enter"){const V=_.querySelector('li[data-active="1"]')??_.querySelector("li");V&&H(V)}};return p.addEventListener("click",D),x.addEventListener("click",$),E&&E.addEventListener("click",$),w.addEventListener("input",q),w.addEventListener("keydown",U),_.addEventListener("click",K),()=>{p.removeEventListener("click",D),x.removeEventListener("click",$),E&&E.removeEventListener("click",$),w.removeEventListener("input",q),w.removeEventListener("keydown",U),_.removeEventListener("click",K),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0),O&&(window.clearTimeout(O),O=null),T&&(T.remove(),T=null)}}function td(){return document.getElementById("suggestions")}function dy(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Tw(e,t){const n=dy(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const HW='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function GW({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:c,onSelect:u}){S.useEffect(()=>{if(!e)return;const f=FW({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:O=>{n(""),r(O.name),i.current&&(i.current.value=O.name),a.current&&(a.current.value=String(O.lat)),o.current&&(o.current.value=String(O.lon)),u?.(O),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const g=document.getElementById("searchBox"),x=td();setTimeout(()=>g?.focus(),0);const w=O=>{if(O.key==="Escape"){O.preventDefault(),t(!1);return}if(O.key!=="Tab")return;const P=td();if(P&&P.contains(document.activeElement))return;const M=Array.from(p.querySelectorAll(HW)).filter(q=>!q.hasAttribute("disabled")&&q.tabIndex!==-1);if(M.length===0)return;const D=M[0],$=M[M.length-1],H=document.activeElement;O.shiftKey?(H===D||!p.contains(H))&&(O.preventDefault(),$.focus()):(H===$||!p.contains(H))&&(O.preventDefault(),D.focus())};p.addEventListener("keydown",w);const _=O=>{if(O.key!=="ArrowDown")return;const P=td();!P||dy(P).length===0||O.preventDefault()};g?.addEventListener("keydown",_);const E=O=>{if(O.target.value.trim()===""){const M=td();M&&(M.innerHTML="")}};g?.addEventListener("input",E);const T=O=>{const P=td();if(!P)return;const M=dy(P);if(M.length===0)return;const D=document.activeElement,$=D?M.indexOf(D):-1;if($===-1)return;const H=q=>{O.preventDefault(),Tw(P,$+q)};switch(O.key){case"Tab":O.preventDefault(),H(O.shiftKey?-1:1);break;case"ArrowDown":O.preventDefault(),H(1);break;case"ArrowUp":O.preventDefault(),H(-1);break;case"Home":O.preventDefault(),Tw(P,0);break;case"End":O.preventDefault(),Tw(P,M.length-1);break;case"Enter":case" ":O.preventDefault(),D.click();break;case"Backspace":O.preventDefault(),P.innerHTML="",g?.focus();break}O.stopPropagation()};let N=null;return x&&(x.addEventListener("keydown",T),N=new MutationObserver(()=>{const O=td();!O||dy(O).length}),N.observe(x,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",w),g?.removeEventListener("keydown",_),g?.removeEventListener("input",E),x&&x.removeEventListener("keydown",T),N?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),S.useEffect(()=>{e||setTimeout(()=>c.current?.focus(),0)},[e,c])}function IB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=$W({placeholderText:t,value:r});return GW({...i,onSelect:e}),v.jsxs("li",{className:"flex items-center gap-2",children:[v.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),v.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),v.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),v.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),v.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&v.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:v.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[v.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),v.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),v.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[v.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),v.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),v.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:v.jsx("div",{id:"map",className:"h-full w-full"})}),v.jsxs("div",{className:"gap-2 p-3",children:[v.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[v.jsxs("p",{className:"flex mb-1",children:[v.jsx("span",{className:"mr-1",children:"*"}),v.jsx("span",{children:"   ."})]}),v.jsxs("p",{className:"flex",children:[v.jsx("span",{className:"mr-1",children:"*"}),v.jsx("span",{children:"       ."})]})]}),v.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qW=typeof Symbol=="function"&&Symbol.observable||"@@observable",HC=qW,Ow=()=>Math.random().toString(36).substring(7).split("").join("."),YW={INIT:`@@redux/INIT${Ow()}`,REPLACE:`@@redux/REPLACE${Ow()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ow()}`},Dy=YW;function u2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function d2(e,t,n){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(d2)(e,t)}let r=e,i=t,a=new Map,o=a,c=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((E,T)=>{o.set(T,E)}))}function h(){if(u)throw new Error(rr(3));return i}function p(E){if(typeof E!="function")throw new Error(rr(4));if(u)throw new Error(rr(5));let T=!0;f();const N=c++;return o.set(N,E),function(){if(T){if(u)throw new Error(rr(6));T=!1,f(),o.delete(N),a=null}}}function g(E){if(!u2(E))throw new Error(rr(7));if(typeof E.type>"u")throw new Error(rr(8));if(typeof E.type!="string")throw new Error(rr(17));if(u)throw new Error(rr(9));try{u=!0,i=r(i,E)}finally{u=!1}return(a=o).forEach(N=>{N()}),E}function x(E){if(typeof E!="function")throw new Error(rr(10));r=E,g({type:Dy.REPLACE})}function w(){const E=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(rr(11));function N(){const P=T;P.next&&P.next(h())}return N(),{unsubscribe:E(N)}},[HC](){return this}}}return g({type:Dy.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:x,[HC]:w}}function KW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Dy.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:Dy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function $B(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{KW(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],x=o[p],w=g(x,c);if(typeof w>"u")throw c&&c.type,new Error(rr(14));f[p]=w,u=u||w!==x}return u=u||r.length!==Object.keys(o).length,u?f:o}}function GC(e,t){return function(...n){return t(e.apply(this,n))}}function qC(e,t){if(typeof e=="function")return GC(e,t);if(typeof e!="object"||e===null)throw new Error(rr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=GC(i,t))}return n}function ym(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function BB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(rr(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},c=e.map(u=>u(o));return a=ym(...c)(i.dispatch),{...i,dispatch:a}}}function zB(e){return u2(e)&&"type"in e&&typeof e.type=="string"}var jw={exports:{}},Nw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function WW(){if(YC)return Nw;YC=1;var e=Jd();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Nw.useSyncExternalStoreWithSelector=function(u,f,h,p,g){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=o(function(){function E(M){if(!T){if(T=!0,N=M,M=p(M),g!==void 0&&w.hasValue){var D=w.value;if(g(D,M))return O=D}return O=M}if(D=O,n(N,M))return D;var $=p(M);return g!==void 0&&g(D,$)?(N=M,D):(N=M,O=$)}var T=!1,N,O,P=h===void 0?null:h;return[function(){return E(f())},P===null?void 0:function(){return E(P())}]},[f,h,p,g]);var _=r(u,x[0],x[1]);return a(function(){w.hasValue=!0,w.value=_},[_]),c(_),_},Nw}var KC;function VW(){return KC||(KC=1,jw.exports=WW()),jw.exports}VW();var ZW=S.version.startsWith("19"),XW=Symbol.for(ZW?"react.transitional.element":"react.element"),JW=Symbol.for("react.portal"),QW=Symbol.for("react.fragment"),eV=Symbol.for("react.strict_mode"),tV=Symbol.for("react.profiler"),nV=Symbol.for("react.consumer"),rV=Symbol.for("react.context"),UB=Symbol.for("react.forward_ref"),iV=Symbol.for("react.suspense"),aV=Symbol.for("react.suspense_list"),f2=Symbol.for("react.memo"),oV=Symbol.for("react.lazy"),sV=UB,lV=f2;function cV(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case XW:switch(e=e.type,e){case QW:case tV:case eV:case iV:case aV:return e;default:switch(e=e&&e.$$typeof,e){case rV:case UB:case oV:case f2:return e;case nV:return e;default:return t}}case JW:return t}}}function uV(e){return cV(e)===f2}function dV(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let c=!1,u,f,h,p,g;function x(N,O){return u=N,f=O,h=e(u,f),p=t(r,f),g=n(h,p,f),c=!0,g}function w(){return h=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),g=n(h,p,f),g}function _(){return e.dependsOnOwnProps&&(h=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),g=n(h,p,f),g}function E(){const N=e(u,f),O=!o(N,h);return h=N,O&&(g=n(h,p,f)),g}function T(N,O){const P=!a(O,f),M=!i(N,u,O,f);return u=N,f=O,P&&M?w():P?_():M?E():g}return function(O,P){return c?T(O,P):x(O,P)}}function fV(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),c=r(e,i);return dV(a,o,c,e,i)}function hV(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function pE(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function WC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function FB(e,t){return function(r,{displayName:i}){const a=function(c,u){return a.dependsOnOwnProps?a.mapToProps(c,u):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,u){a.mapToProps=e,a.dependsOnOwnProps=WC(e);let f=a(c,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=WC(f),f=a(c,u)),f},a}}function h2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function mV(e){return e&&typeof e=="object"?pE(t=>hV(e,t)):e?typeof e=="function"?FB(e):h2(e,"mapDispatchToProps"):pE(t=>({dispatch:t}))}function pV(e){return e?typeof e=="function"?FB(e):h2(e,"mapStateToProps"):pE(()=>({}))}function gV(e,t,n){return{...n,...e,...t}}function yV(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,h){const p=e(u,f,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function bV(e){return e?typeof e=="function"?yV(e):h2(e,"mergeProps"):()=>gV}function vV(e){e()}function xV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vV(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var VC={notify(){},get:()=>[]};function HB(e,t){let n,r=VC,i=0,a=!1;function o(_){h();const E=r.subscribe(_);let T=!1;return()=>{T||(T=!0,E(),p())}}function c(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function f(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=xV())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VC)}function g(){a||(a=!0,h())}function x(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>r};return w}var _V=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wV=_V(),SV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",EV=SV(),kV=()=>wV||EV?S.useLayoutEffect:S.useEffect,Ry=kV();function ZC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fy(e,t){if(ZC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ZC(e[n[i]],t[n[i]]))return!1;return!0}var AV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},TV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},OV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},GB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jV={[sV]:OV,[lV]:GB};function XC(e){return uV(e)?GB:jV[e.$$typeof]||AV}var NV=Object.defineProperty,CV=Object.getOwnPropertyNames,JC=Object.getOwnPropertySymbols,MV=Object.getOwnPropertyDescriptor,PV=Object.getPrototypeOf,QC=Object.prototype;function gE(e,t){if(typeof t!="string"){if(QC){const a=PV(t);a&&a!==QC&&gE(e,a)}let n=CV(t);JC&&(n=n.concat(JC(t)));const r=XC(e),i=XC(t);for(let a=0;a<n.length;++a){const o=n[a];if(!TV[o]&&!(i&&i[o])&&!(r&&r[o])){const c=MV(t,o);try{NV(e,o,c)}catch{}}}}return e}var DV=Symbol.for("react-redux-context"),RV=typeof globalThis<"u"?globalThis:{};function LV(){if(!S.createContext)return{};const e=RV[DV]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var qB=LV(),IV=[null,null];function $V(e,t,n){Ry(()=>e(...t),n)}function BV(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function zV(e,t,n,r,i,a,o,c,u,f,h){if(!e)return()=>{};let p=!1,g=null;const x=()=>{if(p||!c.current)return;const _=t.getState();let E,T;try{E=r(_,i.current)}catch(N){T=N,g=N}T||(g=null),E===a.current?o.current||f():(a.current=E,u.current=E,o.current=!0,h())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function UV(e,t){return e===t}function FV(e,t,n,{pure:r,areStatesEqual:i=UV,areOwnPropsEqual:a=fy,areStatePropsEqual:o=fy,areMergedPropsEqual:c=fy,forwardRef:u=!1,context:f=qB}={}){const h=f,p=pV(e),g=mV(t),x=bV(n),w=!!e;return E=>{const T=E.displayName||E.name||"Component",N=`Connect(${T})`,O={shouldHandleStateChanges:w,displayName:N,wrappedComponentName:T,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:c};function P($){const[H,q,K]=S.useMemo(()=>{const{reactReduxForwardedRef:ve,...Ze}=$;return[$.context,ve,Ze]},[$]),U=S.useMemo(()=>{let ve=h;return H?.Consumer,ve},[H,h]),z=S.useContext(U),V=!!$.store&&!!$.store.getState&&!!$.store.dispatch,J=!!z&&!!z.store,Q=V?$.store:z.store,Y=J?z.getServerState:Q.getState,X=S.useMemo(()=>fV(Q.dispatch,O),[Q]),[re,ue]=S.useMemo(()=>{if(!w)return IV;const ve=HB(Q,V?void 0:z.subscription),Ze=ve.notifyNestedSubs.bind(ve);return[ve,Ze]},[Q,V,z]),se=S.useMemo(()=>V?z:{...z,subscription:re},[V,z,re]),B=S.useRef(void 0),W=S.useRef(K),ae=S.useRef(void 0),Z=S.useRef(!1),oe=S.useRef(!1),me=S.useRef(void 0);Ry(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const pe=S.useMemo(()=>()=>ae.current&&K===W.current?ae.current:X(Q.getState(),K),[Q,K]),be=S.useMemo(()=>Ze=>re?zV(w,Q,re,X,W,B,Z,oe,ae,ue,Ze):()=>{},[re]);$V(BV,[W,B,Z,K,ae,ue]);let ne;try{ne=S.useSyncExternalStore(be,pe,Y?()=>X(Y(),K):pe)}catch(ve){throw me.current&&(ve.message+=`
The error may be correlated with this previous error:
${me.current.stack}

`),ve}Ry(()=>{me.current=void 0,ae.current=void 0,B.current=ne});const Oe=S.useMemo(()=>S.createElement(E,{...ne,ref:q}),[q,E,ne]);return S.useMemo(()=>w?S.createElement(U.Provider,{value:se},Oe):Oe,[U,Oe,se])}const D=S.memo(P);if(D.WrappedComponent=E,D.displayName=P.displayName=N,u){const H=S.forwardRef(function(K,U){return S.createElement(D,{...K,reactReduxForwardedRef:U})});return H.displayName=N,H.WrappedComponent=E,gE(H,E)}return gE(D,E)}}var YB=FV;function HV(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const u=HB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);Ry(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=n||qB;return S.createElement(c.Provider,{value:a},t)}var KB=HV,GV="Invariant failed";function qV(e,t){throw new Error(GV)}var Ba=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,c=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},m2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},eM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},YV=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Cw={top:0,right:0,bottom:0,left:0},p2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Cw:r,a=t.border,o=a===void 0?Cw:a,c=t.padding,u=c===void 0?Cw:c,f=Ba(m2(n,i)),h=Ba(eM(n,o)),p=Ba(eM(h,u));return{marginBox:f,borderBox:Ba(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},ta=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&qV(),i},KV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ly=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,c=YV(r,n);return p2({borderBox:c,border:i,margin:a,padding:o})},Iy=function(t,n){return n===void 0&&(n=KV()),Ly(t,n)},WB=function(t,n){var r={top:ta(n.marginTop),right:ta(n.marginRight),bottom:ta(n.marginBottom),left:ta(n.marginLeft)},i={top:ta(n.paddingTop),right:ta(n.paddingRight),bottom:ta(n.paddingBottom),left:ta(n.paddingLeft)},a={top:ta(n.borderTopWidth),right:ta(n.borderRightWidth),bottom:ta(n.borderBottomWidth),left:ta(n.borderLeftWidth)};return p2({borderBox:t,margin:r,padding:i,border:a})},VB=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return WB(n,r)},bm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(null,arguments)}function ZB(e,t){}ZB.bind(null,"warn");ZB.bind(null,"error");function Sl(){}function WV(e,t){return{...e,...t}}function aa(e,t,n){const r=t.map(i=>{const a=WV(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const VV="Invariant failed";class By extends Error{}By.prototype.toString=function(){return this.message};function Pe(e,t){throw new By(VV)}class ZV extends Wt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Sl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof By&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=aa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof By){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const XV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zy=e=>e+1,JV=e=>`
  You have lifted an item in position ${zy(e.source.index)}
`,XB=(e,t)=>{const n=e.droppableId===t.droppableId,r=zy(e.index),i=zy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},JB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,QV=e=>{const t=e.destination;if(t)return XB(e.source,t);const n=e.combine;return n?JB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},tM=e=>`
  The item has returned to its starting position
  of ${zy(e.index)}
`,eZ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${tM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${XB(e.source,t)}
    `:n?`
      You have dropped the item.
      ${JB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${tM(e.source)}
  `},hy={dragHandleUsageInstructions:XV,onDragStart:JV,onDragUpdate:QV,onDragEnd:eZ};function tZ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function QB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!tZ(e[n],t[n]))return!1;return!0}function vt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&QB(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ke(e,t){return vt(()=>e,t)}const or={x:0,y:0},gr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Pi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),El=(e,t)=>e.x===t.x&&e.y===t.y,af=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Zc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},vm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),nM=(e,t)=>Math.min(...t.map(n=>vm(e,n))),e5=e=>t=>({x:e(t.x),y:e(t.y)});var nZ=(e,t)=>{const n=Ba({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Zm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),rM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],rZ={top:0,right:0,bottom:0,left:0},iZ=(e,t)=>t?Zm(e,t.scroll.diff.displacement):e,aZ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,oZ=(e,t)=>t&&t.shouldClipSubject?nZ(t.pageMarginBox,e):Ba(e);var $d=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=iZ(e.marginBox,r),a=aZ(i,n,t),o=oZ(a,r);return{page:e,withPlaceholder:t,active:o}},g2=(e,t)=>{e.frame||Pe();const n=e.frame,r=Pi(t,n.scroll.initial),i=af(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=$d({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function ar(e,t=QB){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const t5=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),n5=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),cv=ar(e=>Object.values(e)),sZ=ar(e=>Object.values(e));var of=ar((e,t)=>sZ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function y2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function uv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var dv=ar((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),lZ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!y2(i))return null;function o(x){const w={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:w}}const c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?o(u):null;const f=dv(t,r);if(!u){if(!f.length)return null;const x=f[f.length-1];return o(x.descriptor.id)}const h=f.findIndex(x=>x.descriptor.id===u);h===-1&&Pe();const p=h-1;if(p<0)return null;const g=f[p];return o(g.descriptor.id)},sf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const r5={point:or,value:0},xm={invisible:{},visible:{},all:[]},cZ={displaced:xm,displacedBy:r5,at:null};var ua=(e,t)=>n=>e<=n&&n<=t,i5=e=>{const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},uZ=e=>{const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const b2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},a5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var dZ=e=>t=>{const n=ua(t.top,t.bottom),r=ua(t.left,t.right);return i=>e===b2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const fZ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:or;return Zm(e,n)},hZ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,mZ=(e,t,n)=>n(t)(e),v2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?fZ(e,t):e;return hZ(a,t,i)&&mZ(a,n,i)},pZ=e=>v2({...e,isVisibleThroughFrameFn:i5}),o5=e=>v2({...e,isVisibleThroughFrameFn:uZ}),gZ=e=>v2({...e,isVisibleThroughFrameFn:dZ(e.destination.axis)}),yZ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function bZ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ba(m2(n,r))}function _m({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,u){const f=bZ(u,n),h=u.descriptor.id;if(c.all.push(h),!pZ({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[u.descriptor.id]=!0,c;const g=yZ(h,a,i),x={draggableId:h,shouldAnimate:g};return c.visible[h]=x,c},{all:[],visible:{},invisible:{}})}function vZ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function iM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=vZ(e,{inHomeList:t});return{displaced:xm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Uy({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:c}){const u=sf(e,n);if(o==null)return iM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(w=>w.descriptor.index===o);if(!f)return iM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=dv(e,t),p=t.indexOf(f),g=h.slice(p);return{displaced:_m({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Al(e,t){return!!t.effected[e]}var xZ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Al(a,i)?e?c:c-1:e?c+1:c},_Z=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return a<o||a>u?null:a},wZ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:c,afterCritical:u})=>{const f=o.at;if(f||Pe(),f.type==="REORDER"){const p=_Z({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:Uy({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=xZ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return h==null?null:Uy({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:h})},SZ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Al(n,t)?i?or:af(r.point):i?r.point:or},EZ=({afterCritical:e,impact:t,draggables:n})=>{const r=uv(t);r||Pe();const i=r.draggableId,a=n[i].page.borderBox.center,o=SZ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return gr(a,o)};const s5=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,kZ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,x2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,aM=({axis:e,moveRelativeTo:t,isMoving:n})=>Zc(e.line,t.marginBox[e.end]+s5(e,n),x2(e,t.marginBox,n)),oM=({axis:e,moveRelativeTo:t,isMoving:n})=>Zc(e.line,t.marginBox[e.start]-kZ(e,n),x2(e,t.marginBox,n)),AZ=({axis:e,moveInto:t,isMoving:n})=>Zc(e.line,t.contentBox[e.start]+s5(e,n),x2(e,t.contentBox,n));var TZ=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=of(r.descriptor.id,n),o=t.page,c=r.axis;if(!a.length)return AZ({axis:c,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,h=u.all[0];if(h){const g=n[h];if(Al(h,i))return oM({axis:c,moveRelativeTo:g.page,isMoving:o});const x=Ly(g.page,f.point);return oM({axis:c,moveRelativeTo:x,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Al(p.descriptor.id,i)){const g=Ly(p.page,af(i.displacedBy.point));return aM({axis:c,moveRelativeTo:g,isMoving:o})}return aM({axis:c,moveRelativeTo:p.page,isMoving:o})},yE=(e,t)=>{const n=e.frame;return n?gr(t,n.scroll.diff.displacement):t};const OZ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?TZ({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):EZ({impact:e,draggables:r,afterCritical:i})};var fv=e=>{const t=OZ(e),n=e.droppable;return n?yE(n,t):t},l5=(e,t)=>{const n=Pi(t,e.scroll.initial),r=af(n);return{frame:Ba({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sM(e,t){return e.map(n=>t[n])}function jZ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var NZ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=l5(t,gr(t.scroll.current,i)),o=n.frame?g2(n,gr(n.frame.scroll.current,i)):n,c=e.displaced,u=_m({afterDragging:sM(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=_m({afterDragging:sM(c.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),h={},p={},g=[c,u,f];return c.all.forEach(w=>{const _=jZ(w,g);if(_){p[w]=_;return}h[w]=!0}),{...e,displaced:{all:c.all,invisible:h,visible:p}}},CZ=(e,t)=>gr(e.scroll.diff.displacement,t),_2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=CZ(n,e),i=Pi(r,t.page.borderBox.center);return gr(t.client.borderBox.center,i)},c5=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Pi(n,e.page.borderBox.center),u={target:Zm(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?gZ(u):o5(u)},MZ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:c,afterCritical:u})=>{if(!n.isEnabled)return null;const f=of(n.descriptor.id,r),h=sf(t,n),p=lZ({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||wZ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const g=fv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(c5({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:_2({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const w=Pi(g,o),_=NZ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:w});return{clientSelection:c,impact:_,scrollJumpRequest:w}};const Mr=e=>{const t=e.subject.active;return t||Pe(),t};var PZ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,c=ua(a[o.start],a[o.end]),u=cv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>i5(i.frame)(Mr(h))).filter(h=>{const p=Mr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=Mr(h),g=ua(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||g(a[o.start])||g(a[o.end])}).sort((h,p)=>{const g=Mr(h)[o.crossAxisStart],x=Mr(p)[o.crossAxisStart];return e?g-x:x-g}).filter((h,p,g)=>Mr(h)[o.crossAxisStart]===Mr(g[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(h=>ua(Mr(h)[o.start],Mr(h)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((h,p)=>Mr(h)[o.start]-Mr(p)[o.start])[0]:u.sort((h,p)=>{const g=nM(t,rM(Mr(h))),x=nM(t,rM(Mr(p)));return g!==x?g-x:Mr(h)[o.start]-Mr(p)[o.start]})[0]};const lM=(e,t)=>{const n=e.page.borderBox.center;return Al(e.descriptor.id,t)?Pi(n,t.displacedBy.point):n},DZ=(e,t)=>{const n=e.page.borderBox;return Al(e.descriptor.id,t)?Zm(n,af(t.displacedBy.point)):n};var RZ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>o5({target:DZ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,c)=>{const u=vm(e,yE(n,lM(o,i))),f=vm(e,yE(n,lM(c,i)));return u<f?-1:f<u?1:o.descriptor.index-c.descriptor.index})[0]||null,Xm=ar(function(t,n){const r=n[t.line];return{value:r,point:Zc(t.line,r)}});const LZ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Zc(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=of(e.descriptor.id,n).reduce((f,h)=>f+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Zc(r.line,u)},u5=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),d5=(e,t,n)=>{const r=e.frame;sf(t,e)&&Pe(),e.subject.withPlaceholder&&Pe();const i=Xm(e.axis,t.displaceBy).point,a=LZ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=$d({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const c=a?gr(r.scroll.max,a):r.scroll.max,u=u5(r,c),f=$d({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},IZ=e=>{const t=e.subject.withPlaceholder;t||Pe();const n=e.frame;if(!n){const o=$d({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Pe();const i=u5(n,r),a=$d({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var $Z=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:xm,displacedBy:r5,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=fv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),x=sf(r,a)?a:d5(a,r,i);return c5({draggable:r,destination:x,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=Xm(a.axis,r.displaceBy);return Uy({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:xm,index:f})},BZ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:c})=>{const u=PZ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=of(u.descriptor.id,i),h=RZ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:c}),p=$Z({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:f,viewport:o,afterCritical:c});if(!p)return null;const g=fv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c});return{clientSelection:_2({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Ri=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const zZ=(e,t)=>{const n=Ri(e);return n?t[n]:null};var UZ=({state:e,type:t})=>{const n=zZ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,c=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return c?MZ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):BZ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:f,isOver:a,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Pc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function f5(e){const t=ua(e.top,e.bottom),n=ua(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function FZ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function HZ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,c=Zc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:vm(r,c)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function GZ({pageBorderBox:e,draggable:t,droppables:n}){const r=cv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!FZ(e,a))return!1;if(f5(a)(e.center))return!0;const o=i.axis,c=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],h=ua(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),g=h(f);return!p&&!g?!0:p?u<c:f>c});return r.length?r.length===1?r[0].descriptor.id:HZ({pageBorderBox:e,draggable:t,candidates:r}):null}const h5=(e,t)=>Ba(Zm(e,t));var qZ=(e,t)=>{const n=e.frame;return n?h5(t,n.scroll.diff.value):t};function m5({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function YZ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var KZ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const c=n.axis,u=Xm(n.axis,t.displaceBy),f=u.value,h=e[c.start],p=e[c.end],x=dv(t,r).find(_=>{const E=_.descriptor.id,T=_.page.borderBox.center[c.line],N=Al(E,o),O=m5({displaced:i,id:E});return N?O?p<=T:h<T-f:O?p<=T+f:h<T})||null,w=YZ({draggable:t,closest:x,inHomeList:sf(t,n)});return Uy({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:w})};const WZ=4;var VZ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,c=Xm(r.axis,e.displaceBy),u=c.value,f=t[o.start],h=t[o.end],g=dv(e,i).find(w=>{const _=w.descriptor.id,E=w.page.borderBox,N=E[o.size]/WZ,O=Al(_,a),P=m5({displaced:n.displaced,id:_});return O?P?h>E[o.start]+N&&h<E[o.end]-N:f>E[o.start]-u+N&&f<E[o.end]-u-N:P?h>E[o.start]+u+N&&h<E[o.end]+u-N:f>E[o.start]+N&&f<E[o.end]-N});return g?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},p5=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const c=h5(t.page.borderBox,e),u=GZ({pageBorderBox:c,draggable:t,droppables:r});if(!u)return cZ;const f=r[u],h=of(f.descriptor.id,n),p=qZ(f,c);return VZ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:h,afterCritical:o})||KZ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},w2=(e,t)=>({...e,[t.descriptor.id]:t});const ZZ=({previousImpact:e,impact:t,droppables:n})=>{const r=Ri(e),i=Ri(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=IZ(a);return w2(n,o)};var XZ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=ZZ({previousImpact:r,impact:i,droppables:n}),o=Ri(i);if(!o)return a;const c=n[o];if(sf(e,c)||c.subject.withPlaceholder)return a;const u=d5(c,e,t);return w2(a,u)},am=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,c=n||e.dimensions,u=t||e.current.client.selection,f=Pi(u,e.initial.client.selection),h={offset:f,selection:u,borderBoxCenter:gr(e.initial.client.borderBoxCenter,f)},p={selection:gr(h.selection,o.scroll.current),borderBoxCenter:gr(h.borderBoxCenter,o.scroll.current),offset:gr(h.offset,o.scroll.diff.value)},g={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:o,current:g};const x=c.draggables[e.critical.draggable.id],w=i||p5({pageOffset:p.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),_=XZ({draggable:x,impact:w,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:g,dimensions:{draggables:c.draggables,droppables:_},impact:w,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function JZ(e,t){return e.map(n=>t[n])}var g5=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=JZ(a.all,n),c=_m({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},y5=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=fv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return _2({pageBorderBoxCenter:o,draggable:t,viewport:i})},b5=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:c}=a,u=o[e.critical.draggable.id],f=Ri(r);f||Pe();const h=c[f],p=g5({impact:r,viewport:i,destination:h,draggables:o}),g=y5({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return am({impact:p,clientSelection:g,state:e,dimensions:a,viewport:i})},QZ=e=>({index:e.index,droppableId:e.droppableId}),v5=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Xm(t.axis,e.displaceBy),a=of(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Pe();const c=a.slice(o+1),u=c.reduce((g,x)=>(g[x.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:_m({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:QZ(e.descriptor)}},afterCritical:f}},eX=(e,t)=>({draggables:e.draggables,droppables:w2(e.droppables,t)}),tX=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Ly(e.client,t),i=Iy(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},nX=e=>{const t=e.frame;return t||Pe(),t},rX=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=nX(o).scroll.diff.value,f=gr(r,u);return tX({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},iX=({state:e,published:t})=>{const n=t.modified.map(T=>{const N=e.dimensions.droppables[T.droppableId];return g2(N,T.scroll)}),r={...e.dimensions.droppables,...t5(n)},i=n5(rX({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(T=>{delete a[T]});const o={droppables:r,draggables:a},c=Ri(e.impact),u=c?o.droppables[c]:null,f=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=v5({draggable:f,home:h,draggables:a,viewport:e.viewport}),x=u&&u.isCombineEnabled?e.impact:p,w=p5({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:x,viewport:e.viewport,afterCritical:g}),_={...e,phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const bE=e=>e.movementMode==="SNAP",Mw=(e,t,n)=>{const r=eX(e.dimensions,t);return!bE(e)||n?am({state:e,dimensions:r}):b5({state:e,dimensions:r})};function Pw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const cM={phase:"IDLE",completed:null,shouldFlush:!1};var aX=(e=cM,t)=>{if(t.type==="FLUSH")return{...cM,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:or},h={client:f,page:{selection:gr(f.selection,i.scroll.initial),borderBoxCenter:gr(f.selection,i.scroll.initial),offset:gr(f.selection,i.scroll.diff.value)}},p=cv(a.droppables).every(_=>!_.isFixedOnPage),{impact:g,afterCritical:x}=v5({draggable:c,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:x,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Pe(),iX({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{client:n}=t.payload;return El(n,e.current.client.selection)?e:am({state:e,clientSelection:n,impact:bE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Pw(e);Pc(e)||Pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=g2(i,r);return Mw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isEnabled===r&&Pe();const a={...i,isEnabled:r};return Mw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Pc(e)||Pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Pe(),i.isCombineEnabled===r&&Pe();const a={...i,isCombineEnabled:r};return Mw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Pc(e)||Pe(),e.isWindowScrollAllowed||Pe();const n=t.payload.newScroll;if(El(e.viewport.scroll.current,n))return Pw(e);const r=l5(e.viewport,n);return bE(e)?b5({state:e,viewport:r}):am({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Pc(e))return e;const n=t.payload.maxScroll;if(El(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Pe();const n=UZ({state:e,type:t.type});return n?am({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Mt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const oX=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),sX=e=>({type:"LIFT",payload:e}),lX=e=>({type:"INITIAL_PUBLISH",payload:e}),cX=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),uX=()=>({type:"COLLECTION_STARTING",payload:null}),dX=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),fX=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),hX=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),x5=e=>({type:"MOVE",payload:e}),mX=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),pX=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),gX=()=>({type:"MOVE_UP",payload:null}),yX=()=>({type:"MOVE_DOWN",payload:null}),bX=()=>({type:"MOVE_RIGHT",payload:null}),vX=()=>({type:"MOVE_LEFT",payload:null}),S2=()=>({type:"FLUSH",payload:null}),xX=e=>({type:"DROP_ANIMATE",payload:e}),E2=e=>({type:"DROP_COMPLETE",payload:e}),_5=e=>({type:"DROP",payload:e}),_X=e=>({type:"DROP_PENDING",payload:e}),w5=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var wX=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Mt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:c}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(E2({completed:u.completed})),t().phase!=="IDLE"&&Pe(),n(S2()),n(oX({draggableId:a,movementMode:c}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:g,viewport:x}=e.startPublishing(h);n(lX({critical:p,dimensions:g,clientSelection:o,movementMode:c,viewport:x}))},SX=e=>()=>t=>n=>{Mt(n,"INITIAL_PUBLISH")&&e.dragging(),Mt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Mt(n,"FLUSH")||Mt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const k2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},wm={opacity:{drop:0,combining:.7},scale:{drop:.75}},S5={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},kc=`${S5.outOfTheWay}s ${k2.outOfTheWay}`,om={fluid:`opacity ${kc}`,snap:`transform ${kc}, opacity ${kc}`,drop:e=>{const t=`${e}s ${k2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${kc}`,placeholder:`height ${kc}, width ${kc}, margin ${kc}`},uM=e=>El(e,or)?void 0:`translate(${e.x}px, ${e.y}px)`,vE={moveTo:uM,drop:(e,t)=>{const n=uM(e);if(n)return t?`${n} scale(${wm.scale.drop})`:n}},{minDropTime:xE,maxDropTime:E5}=S5,EX=E5-xE,dM=1500,kX=.6;var AX=({current:e,destination:t,reason:n})=>{const r=vm(e,t);if(r<=0)return xE;if(r>=dM)return E5;const i=r/dM,a=xE+EX*i,o=n==="CANCEL"?a*kX:a;return Number(o.toFixed(2))},TX=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,c=Ri(e),u=c?o[c]:null,f=o[t.descriptor.droppableId],h=y5({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Pi(h,t.client.borderBox.center)},OX=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:g5({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:xm},didDropInsideDroppable:!0};const jX=({getState:e,dispatch:t})=>n=>r=>{if(!Mt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(_X({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Pe();const c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=OX({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?y2(h):null,x=p?uv(h):null,w={index:c.draggable.index,droppableId:c.droppable.id},_={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:a,mode:i.movementMode,destination:g,combine:x},E=TX({impact:h,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),T={critical:i.critical,afterCritical:i.afterCritical,result:_,impact:h};if(!(!El(i.current.client.offset,E)||!!_.combine)){t(E2({completed:T}));return}const O=AX({current:i.current.client.offset,destination:E,reason:a});t(xX({newHomeClientOffset:E,dropDuration:O,completed:T}))};var k5=()=>({x:window.pageXOffset,y:window.pageYOffset});function NX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function CX({onWindowScroll:e}){function t(){e(k5())}const n=bm(t),r=NX(n);let i=Sl;function a(){return i!==Sl}function o(){a()&&Pe(),i=aa(window,[r])}function c(){a()||Pe(),n.cancel(),i(),i=Sl}return{start:o,stop:c,isActive:a}}const MX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH"),PX=e=>{const t=CX({onWindowScroll:n=>{e.dispatch(mX({newScroll:n}))}});return n=>r=>{!t.isActive()&&Mt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&MX(r)&&t.stop(),n(r)}};var DX=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},RX=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Pe();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const LX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,IX=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,$X=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Oh=(e,t)=>{t()},d0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Dw(e,t,n,r){if(!e){n(r(t));return}const i=DX(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var BX=(e,t)=>{const n=RX();let r=null;const i=(p,g)=>{r&&Pe(),Oh("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:p,mode:g})})},a=(p,g)=>{r&&Pe(),Oh("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(d0(p,g))})},o=(p,g)=>{r&&Pe();const x=d0(p,g);r={mode:g,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(()=>{Oh("onDragStart",()=>Dw(e().onDragStart,x,t,hy.onDragStart))})},c=(p,g)=>{const x=y2(g),w=uv(g);r||Pe();const _=!$X(p,r.lastCritical);_&&(r.lastCritical=p);const E=!LX(r.lastLocation,x);E&&(r.lastLocation=x);const T=!IX(r.lastCombine,w);if(T&&(r.lastCombine=w),!_&&!E&&!T)return;const N={...d0(p,r.mode),combine:w,destination:x};n.add(()=>{Oh("onDragUpdate",()=>Dw(e().onDragUpdate,N,t,hy.onDragUpdate))})},u=()=>{r||Pe(),n.flush()},f=p=>{r||Pe(),r=null,Oh("onDragEnd",()=>Dw(e().onDragEnd,p,t,hy.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:c,flush:u,drop:f,abort:()=>{if(!r)return;const p={...d0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},zX=(e,t)=>{const n=BX(e,t);return r=>i=>a=>{if(Mt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Mt(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Mt(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Mt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const UX=e=>t=>n=>{if(!Mt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Pe(),e.dispatch(E2({completed:r.completed}))},FX=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Mt(a,"FLUSH")||Mt(a,"DROP_COMPLETE")||Mt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Mt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(w5())}};n=requestAnimationFrame(()=>{n=null,t=aa(window,[o])})}};var HX=e=>()=>t=>n=>{(Mt(n,"DROP_COMPLETE")||Mt(n,"FLUSH")||Mt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},GX=e=>{let t=!1;return()=>n=>r=>{if(Mt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Mt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Mt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const qX=e=>Mt(e,"DROP_COMPLETE")||Mt(e,"DROP_ANIMATE")||Mt(e,"FLUSH");var YX=e=>t=>n=>r=>{if(qX(r)){e.stop(),n(r);return}if(Mt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Pe(),e.start(i);return}n(r),e.scroll(t.getState())};const KX=e=>t=>n=>{if(t(n),!Mt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(_5({reason:r.reason})))},WX=ym;var VX=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>d2(aX,WX(BB(SX(n),HX(e),wX(e),jX,UX,FX,KX,YX(a),PX,GX(t),zX(r,i))));const Rw=()=>({additions:{},removals:{},modified:{}});function ZX({registry:e,callbacks:t}){let n=Rw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:h}=n,p=Object.keys(u).map(w=>e.draggable.getById(w).getDimension(or)).sort((w,_)=>w.descriptor.index-_.descriptor.index),g=Object.keys(h).map(w=>{const E=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:E}}),x={additions:p,removals:Object.keys(f),modified:g};n=Rw(),t.publish(x)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Rw())}}}var A5=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Pi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},T5=()=>{const e=document.documentElement;return e||Pe(),e},O5=()=>{const e=T5();return A5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},XX=()=>{const e=k5(),t=O5(),n=e.y,r=e.x,i=T5(),a=i.clientWidth,o=i.clientHeight,c=r+a,u=n+o;return{frame:Ba({top:n,left:r,right:c,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:or,displacement:or}}}},JX=({critical:e,scrollOptions:t,registry:n})=>{const r=XX(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:n5(c),droppables:t5(o)},critical:e,viewport:r}};function fM(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var QX=(e,t)=>{let n=null;const r=ZX({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,x)=>{e.droppable.exists(g)||Pe(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:x})},a=(g,x)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:x}))},o=(g,x)=>{n&&(e.droppable.exists(g)||Pe(),t.updateDroppableScroll({id:g,newScroll:x}))},c=(g,x)=>{n&&e.droppable.getById(g).callbacks.scroll(x)},u=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},f=g=>{n||Pe();const x=n.critical.draggable;g.type==="ADDITION"&&fM(e,x,g.value)&&r.add(g.value),g.type==="REMOVAL"&&fM(e,x,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:o,startPublishing:g=>{n&&Pe();const x=e.draggable.getById(g.draggableId),w=e.droppable.getById(x.descriptor.droppableId),_={draggable:x.descriptor,droppable:w.descriptor},E=e.subscribe(f);return n={critical:_,unsubscribe:E},JX({critical:_,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},j5=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",eJ=e=>{window.scrollBy(e.x,e.y)};const tJ=ar(e=>cv(e).filter(t=>!(!t.isEnabled||!t.frame))),nJ=(e,t)=>tJ(t).find(r=>(r.frame||Pe(),f5(r.frame.pageMarginBox)(e)))||null;var rJ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return nJ(e,n)};const Sm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var iJ=(e,t,n=()=>Sm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},N5=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},A2=1,aJ=(e,t,n=()=>Sm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return A2;const a=1-N5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},oJ=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,c=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return A2;const h=N5({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(h);return Math.ceil(p)},hM=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=aJ(e,t,i);return a===0?0:r?Math.max(oJ(a,n,i),A2):a},mM=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=iJ(e,r,a);return t[r.end]<t[r.start]?hM({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*hM({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},sJ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const lJ=e5(e=>e===0?0:e);var C5=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=mM({container:t,distanceToEdges:o,dragStartTime:e,axis:b2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=mM({container:t,distanceToEdges:o,dragStartTime:e,axis:a5,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=lJ({x:u,y:c});if(El(f,or))return null;const h=sJ({container:t,subject:n,proposedScroll:f});return h?El(h,or)?null:h:null};const cJ=e5(e=>e===0?0:e>0?1:-1),T2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=gr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return El(a,or)?null:a}})(),M5=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=cJ(n),a=T2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},O2=(e,t)=>M5({current:e.scroll.current,max:e.scroll.max,change:t}),uJ=(e,t)=>{if(!O2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return T2({current:r,max:n,change:t})},j2=(e,t)=>{const n=e.frame;return n?M5({current:n.scroll.current,max:n.scroll.max,change:t}):!1},dJ=(e,t)=>{const n=e.frame;return!n||!j2(e,t)?null:T2({current:n.scroll.current,max:n.scroll.max,change:t})};var fJ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=C5({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&O2(e,o)?o:null},hJ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const c=C5({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&j2(e,c)?c:null},pM=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=fJ({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const f=rJ({center:o,destination:Ri(e.impact),droppables:e.dimensions.droppables});if(!f)return;const h=hJ({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(f.descriptor.id,h)},mJ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Sm})=>{const r=bm(e),i=bm(t);let a=null;const o=f=>{a||Pe();const{shouldUseTimeDampening:h,dragStartTime:p}=a;pM({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:f=>{a&&Pe();const h=Date.now();let p=!1;const g=()=>{p=!0};pM({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},pJ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,u)=>{const f=gr(c.current.client.selection,u);e({client:f})},i=(c,u)=>{if(!j2(c,u))return u;const f=dJ(c,u);if(!f)return t(c.descriptor.id,u),null;const h=Pi(u,f);return t(c.descriptor.id,h),Pi(u,h)},a=(c,u,f)=>{if(!c||!O2(u,f))return f;const h=uJ(u,f);if(!h)return n(f),null;const p=Pi(f,h);return n(p),Pi(f,p)};return c=>{const u=c.scrollJumpRequest;if(!u)return;const f=Ri(c.impact);f||Pe();const h=i(c.dimensions.droppables[f],u);if(!h)return;const p=c.viewport,g=a(c.isWindowScrollAllowed,p,h);g&&r(c,g)}},gJ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=mJ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=pJ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Bd="data-rfd",zd=(()=>{const e=`${Bd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),_E=(()=>{const e=`${Bd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),yJ=(()=>{const e=`${Bd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),gM={contextId:`${Bd}-scroll-container-context-id`},bJ=e=>t=>`[${t}="${e}"]`,jh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),vJ="pointer-events: none;";var xJ=e=>{const t=bJ(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(zd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:vJ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${om.outOfTheWay};
    `;return{selector:t(_E.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(yJ.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:jh(o,"always"),resting:jh(o,"resting"),dragging:jh(o,"dragging"),dropAnimating:jh(o,"dropAnimating"),userCancel:jh(o,"userCancel")}};const Li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Lw=()=>{const e=document.querySelector("head");return e||Pe(),e},yM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function _J(e,t){const n=vt(()=>xJ(e),[e]),r=S.useRef(null),i=S.useRef(null),a=Ke(ar(p=>{const g=i.current;g||Pe(),g.textContent=p}),[]),o=Ke(p=>{const g=r.current;g||Pe(),g.textContent=p},[]);Li(()=>{!r.current&&!i.current||Pe();const p=yM(t),g=yM(t);return r.current=p,i.current=g,p.setAttribute(`${Bd}-always`,e),g.setAttribute(`${Bd}-dynamic`,e),Lw().appendChild(p),Lw().appendChild(g),o(n.always),a(n.resting),()=>{const x=w=>{const _=w.current;_||Pe(),Lw().removeChild(_),w.current=null};x(r),x(i)}},[t,o,a,n.always,n.resting,e]);const c=Ke(()=>a(n.dragging),[a,n.dragging]),u=Ke(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ke(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:c,dropping:u,resting:f}),[c,u,f])}function P5(e,t){return Array.from(e.querySelectorAll(t))}var D5=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function hv(e){return e instanceof D5(e).HTMLElement}function wJ(e,t){const n=`[${zd.contextId}="${e}"]`,r=P5(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(zd.draggableId)===t);return!i||!hv(i)?null:i}function SJ(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),a=Ke(function(g,x){const w={id:g,focus:x};return t.current[g]=w,function(){const E=t.current;E[g]!==w&&delete E[g]}},[]),o=Ke(function(g){const x=wJ(e,g);x&&x!==document.activeElement&&x.focus()},[e]),c=Ke(function(g,x){n.current===g&&(n.current=x)},[]),u=Ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),f=Ke(function(g){n.current=null;const x=document.activeElement;x&&x.getAttribute(zd.draggableId)===g&&(n.current=g)},[]);return Li(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:c}),[a,f,u,c])}function EJ(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const x=t.indexOf(p);x!==-1&&t.splice(x,1)}}function r(p){t.length&&t.forEach(g=>g(p))}function i(p){return e.draggables[p]||null}function a(p){const g=i(p);return g||Pe(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const x=e.draggables[g.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,x=i(g);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function c(p){return e.droppables[p]||null}function u(p){const g=c(p);return g||Pe(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=c(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:h}}function kJ(){const e=vt(EJ,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var N2=Wt.createContext(null),Fy=()=>{const e=document.body;return e||Pe(),e};const AJ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},TJ=e=>`rfd-announcement-${e}`;function OJ(e){const t=vt(()=>TJ(e),[e]),n=S.useRef(null);return S.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),$y(a.style,AJ),Fy().appendChild(a),function(){setTimeout(function(){const u=Fy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ke(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const jJ={separator:"::"};function C2(e,t=jJ){const n=Wt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function NJ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function CJ({contextId:e,text:t}){const n=C2("hidden-text",{separator:"-"}),r=vt(()=>NJ({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Fy().appendChild(a),function(){const c=Fy();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var mv=Wt.createContext(null);function R5(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function MJ(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Pe();const c={abandon:o};return e=c,c}function i(){e||Pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Em(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const PJ=9,DJ=13,M2=27,L5=32,RJ=33,LJ=34,IJ=35,$J=36,BJ=37,zJ=38,UJ=39,FJ=40,HJ={[DJ]:!0,[PJ]:!0};var I5=e=>{HJ[e.keyCode]&&e.preventDefault()};const pv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),$5=0,bM=5;function GJ(e,t){return Math.abs(t.x-e.x)>=bM||Math.abs(t.y-e.y)>=bM}const vM={type:"IDLE"};function qJ({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:c}=i;if(a!==$5)return;const u={x:o,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Pe();const h=f.point;if(!GJ(h,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===M2){i.preventDefault(),e();return}I5(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:pv,fn:e}]}function YJ(e){const t=S.useRef(vM),n=S.useRef(Sl),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==$5||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const x=e.tryGetLock(g,o,{sourceEvent:p});if(!x)return;p.preventDefault();const w={x:p.clientX,y:p.clientY};n.current(),f(x,w)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Ke(function(){const p={passive:!1,capture:!0};n.current=aa(window,[i,r],p)},[i,r]),o=Ke(()=>{t.current.type!=="IDLE"&&(t.current=vM,n.current(),a())},[a]),c=Ke(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Ke(function(){const p={capture:!0,passive:!1},g=qJ({cancel:c,completed:o,getPhase:()=>t.current,setPhase:x=>{t.current=x}});n.current=aa(window,g,p)},[c,o]),f=Ke(function(p,g){t.current.type!=="IDLE"&&Pe(),t.current={type:"PENDING",point:g,actions:p},u()},[u]);Li(function(){return a(),function(){n.current()}},[a])}function KJ(){}const WJ={[LJ]:!0,[RJ]:!0,[$J]:!0,[IJ]:!0};function VJ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===M2){i.preventDefault(),n();return}if(i.keyCode===L5){i.preventDefault(),r();return}if(i.keyCode===FJ){i.preventDefault(),e.moveDown();return}if(i.keyCode===zJ){i.preventDefault(),e.moveUp();return}if(i.keyCode===UJ){i.preventDefault(),e.moveRight();return}if(i.keyCode===BJ){i.preventDefault(),e.moveLeft();return}if(WJ[i.keyCode]){i.preventDefault();return}I5(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:pv,fn:n}]}function ZJ(e){const t=S.useRef(KJ),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==L5)return;const o=e.findClosestDraggableId(a);if(!o)return;const c=e.tryGetLock(o,h,{sourceEvent:a});if(!c)return;a.preventDefault();let u=!0;const f=c.snapLift();t.current();function h(){u||Pe(),u=!1,t.current(),r()}t.current=aa(window,VJ(f,h),{capture:!0,passive:!1})}}),[e]),r=Ke(function(){const a={passive:!1,capture:!0};t.current=aa(window,[n],a)},[n]);Li(function(){return r(),function(){t.current()}},[r])}const Iw={type:"IDLE"},XJ=120,JJ=.15;function QJ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===M2&&n.preventDefault(),e()}},{eventName:pv,fn:e}]}function eQ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],c={x:a,y:o};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Pe();const a=r.touches[0];if(!a||!(a.force>=JJ))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:pv,fn:e}]}function tQ(e){const t=S.useRef(Iw),n=S.useRef(Sl),r=Ke(function(){return t.current},[]),i=Ke(function(x){t.current=x},[]),a=vt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const w=e.findClosestDraggableId(x);if(!w)return;const _=e.tryGetLock(w,c,{sourceEvent:x});if(!_)return;const E=x.touches[0],{clientX:T,clientY:N}=E,O={x:T,y:N};n.current(),p(_,O)}}),[e]),o=Ke(function(){const x={capture:!0,passive:!1};n.current=aa(window,[a],x)},[a]),c=Ke(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Iw),n.current(),o())},[o,i]),u=Ke(()=>{const g=t.current;c(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[c]),f=Ke(function(){const x={capture:!0,passive:!1},w={cancel:u,completed:c,getPhase:r},_=aa(window,eQ(w),x),E=aa(window,QJ(w),x);n.current=function(){_(),E()}},[u,r,c]),h=Ke(function(){const x=r();x.type!=="PENDING"&&Pe();const w=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),p=Ke(function(x,w){r().type!=="IDLE"&&Pe();const _=setTimeout(h,XJ);i({type:"PENDING",point:w,actions:x,longPressTimerId:_}),f()},[f,r,i,h]);Li(function(){return o(),function(){n.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),i(Iw))}},[r,o,i]),Li(function(){return aa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const nQ=["input","button","textarea","select","option","optgroup","video","audio"];function B5(e,t){if(t==null)return!1;if(nQ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:B5(e,t.parentElement)}function rQ(e,t){const n=t.target;return hv(n)?B5(e,n):!1}var iQ=e=>Ba(e.getBoundingClientRect()).center;function aQ(e){return e instanceof D5(e).Element}const oQ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function z5(e,t){return e==null?null:e[oQ](t)?e:z5(e.parentElement,t)}function sQ(e,t){return e.closest?e.closest(t):z5(e,t)}function lQ(e){return`[${zd.contextId}="${e}"]`}function cQ(e,t){const n=t.target;if(!aQ(n))return null;const r=lQ(e),i=sQ(n,r);return!i||!hv(i)?null:i}function uQ(e,t){const n=cQ(e,t);return n?n.getAttribute(zd.draggableId):null}function dQ(e,t){const n=`[${_E.contextId}="${e}"]`,i=P5(document,n).find(a=>a.getAttribute(_E.id)===t);return!i||!hv(i)?null:i}function fQ(e){e.preventDefault()}function f0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function U5({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!j5(t.getState(),r))}function hQ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!U5({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=dQ(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&rQ(f,o))return null;const h=e.claim(a||Sl);let p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function x(){return e.isActive(h)}function w(M,D){f0({expected:M,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(D())}const _=w.bind(null,"DRAGGING");function E(M){function D(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),Pe()),n.dispatch(sX(M.liftActionArgs)),p="DRAGGING";function $(H,q={shouldBlockNextClick:!1}){if(M.cleanup(),q.shouldBlockNextClick){const K=aa(window,[{eventName:"click",fn:fQ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(K)}D(),n.dispatch(_5({reason:H}))}return{isActive:()=>f0({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:g,drop:H=>$("DROP",H),cancel:H=>$("CANCEL",H),...M.actions}}function T(M){const D=bm(H=>{_(()=>x5({client:H}))});return{...E({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function N(){const M={moveUp:()=>_(gX),moveRight:()=>_(bX),moveDown:()=>_(yX),moveLeft:()=>_(vX)};return E({liftActionArgs:{id:i,clientSelection:iQ(f),movementMode:"SNAP"},cleanup:Sl,actions:M})}function O(){f0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>f0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:T,snapLift:N,abort:O}}const mQ=[YJ,ZJ,tQ];function pQ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?mQ:[],...r||[]],o=S.useState(()=>MJ())[0],c=Ke(function(E,T){Em(E)&&!Em(T)&&o.tryAbandon()},[o]);Li(function(){let E=t.getState();return t.subscribe(()=>{const N=t.getState();c(E,N),E=N})},[o,t,c]),Li(()=>o.tryAbandon,[o.tryAbandon]);const u=Ke(_=>U5({lockAPI:o,registry:n,store:t,draggableId:_}),[o,n,t]),f=Ke((_,E,T)=>hQ({lockAPI:o,registry:n,contextId:e,store:t,draggableId:_,forceSensorStop:E||null,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null}),[e,o,n,t]),h=Ke(_=>uQ(e,_),[e]),p=Ke(_=>{const E=n.draggable.findById(_);return E?E.options:null},[n.draggable]),g=Ke(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(S2()))},[o,t]),x=Ke(()=>o.isClaimed(),[o]),w=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:x}),[u,f,h,p,g,x]);for(let _=0;_<a.length;_++)a[_](w)}const gQ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};tf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),yQ=e=>({...Sm,...e.autoScrollerOptions,durationDampening:{...Sm.durationDampening,...e.autoScrollerOptions}});function Nh(e){return e.current||Pe(),e.current}function bQ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=S.useRef(null),c=R5(e),u=Ke(()=>gQ(c.current),[c]),f=Ke(()=>yQ(c.current),[c]),h=OJ(t),p=CJ({contextId:t,text:a}),g=_J(t,i),x=Ke(K=>{Nh(o).dispatch(K)},[]),w=vt(()=>qC({publishWhileDragging:cX,updateDroppableScroll:dX,updateDroppableIsEnabled:fX,updateDroppableIsCombineEnabled:hX,collectionStarting:uX},x),[x]),_=kJ(),E=vt(()=>QX(_,w),[_,w]),T=vt(()=>gJ({scrollWindow:eJ,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:f,...qC({move:x5},x)}),[E.scrollDroppable,x,f]),N=SJ(t),O=vt(()=>VX({announce:h,autoScroller:T,dimensionMarshal:E,focusMarshal:N,getResponders:u,styleMarshal:g}),[h,T,E,N,u,g]);o.current=O;const P=Ke(()=>{const K=Nh(o);K.getState().phase!=="IDLE"&&K.dispatch(S2())},[]),M=Ke(()=>{const K=Nh(o).getState();return K.phase==="DROP_ANIMATING"?!0:K.phase==="IDLE"?!1:K.isDragging},[]),D=vt(()=>({isDragging:M,tryAbort:P}),[M,P]);n(D);const $=Ke(K=>j5(Nh(o).getState(),K),[]),H=Ke(()=>Pc(Nh(o).getState()),[]),q=vt(()=>({marshal:E,focus:N,contextId:t,canLift:$,isMovementAllowed:H,dragHandleUsageInstructionsId:p,registry:_}),[t,E,p,N,$,H,_]);return pQ({contextId:t,store:O,registry:_,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>P,[P]),Wt.createElement(mv.Provider,{value:q},Wt.createElement(KB,{context:N2,store:O},e.children))}function vQ(){return Wt.useId()}function Jm(e){const t=vQ(),n=e.dragHandleUsageInstructions||hy.dragHandleUsageInstructions;return Wt.createElement(ZV,null,r=>Wt.createElement(bQ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const xM={dragging:5e3,dropAnimating:4500},xQ=(e,t)=>t?om.drop(t.duration):e?om.snap:om.fluid,_Q=(e,t)=>{if(e)return t?wm.opacity.drop:wm.opacity.combining},wQ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function SQ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,c=wQ(e),u=!!a,f=u?vE.drop(r,o):vE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:xQ(c,a),transform:f,opacity:_Q(o,u),zIndex:u?xM.dropAnimating:xM.dragging,pointerEvents:"none"}}function EQ(e){return{transform:vE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function kQ(e){return e.type==="DRAGGING"?SQ(e):EQ(e)}function AQ(e,t,n=or){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=WB(i,r),o=Iy(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:u,client:a,page:o}}function TQ(e){const t=C2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}),[a,c,o]),f=Ke(x=>{const w=i();return w||Pe(),AQ(n,w,x)},[n,i]),h=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=S.useRef(h),g=S.useRef(!0);Li(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Li(()=>{if(g.current){g.current=!1;return}const x=p.current;p.current=h,r.draggable.update(h,x)},[h,r.draggable])}var P2=Wt.createContext(null);function Hy(e){const t=S.useContext(e);return t||Pe(),t}function OQ(e){e.preventDefault()}const jQ=e=>{const t=S.useRef(null),n=Ke((D=null)=>{t.current=D},[]),r=Ke(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Hy(mv),{type:c,droppableId:u}=Hy(P2),f=vt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:u}),[e.draggableId,e.index,c,u]),{children:h,draggableId:p,isEnabled:g,shouldRespectForcePress:x,canDragInteractiveElements:w,isClone:_,mapped:E,dropAnimationFinished:T}=e;if(!_){const D=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:x,isEnabled:g}),[f,o,r,w,x,g]);TQ(D)}const N=vt(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:OQ}:null,[i,a,p,g]),O=Ke(D=>{E.type==="DRAGGING"&&E.dropping&&D.propertyName==="transform"&&tf.flushSync(T)},[T,E]),P=vt(()=>{const D=kQ(E),$=E.type==="DRAGGING"&&E.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:D,onTransitionEnd:$},dragHandleProps:N}},[i,N,p,E,O,n]),M=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Wt.createElement(Wt.Fragment,null,h(P,E.snapshot,M))};var F5=(e,t)=>e===t,H5=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const NQ=e=>e.combine?e.combine.draggableId:null,CQ=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function MQ(){const e=ar((i,a)=>({x:i,y:a})),t=ar((i,a,o=null,c=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:c,combineTargetFor:null})),n=ar((i,a,o,c,u=null,f=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,c,u,f,null)}}));return(i,a)=>{if(Em(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],u=Ri(i.impact),f=CQ(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,c,a.isClone,u,f,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const c=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,h=f.mode,p=H5(f),g=NQ(f),w={duration:i.dropDuration,curve:k2.drop,moveTo:i.newHomeClientOffset,opacity:g?wm.opacity.drop:null,scale:g?wm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:w,draggingOver:p,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,c,p,g,w)}}}return null}}function G5(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const PQ={mapped:{type:"SECONDARY",offset:or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:G5(null)}};function DQ(){const e=ar((o,c)=>({x:o,y:c})),t=ar(G5),n=ar((o,c=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:c,shouldAnimateDisplacement:u,snapshot:t(c)}})),r=o=>o?n(or,o,!0):null,i=(o,c,u,f)=>{const h=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),g=uv(u),x=g&&g.draggableId===o?c:null;if(!h){if(!p)return r(x);if(u.displaced.invisible[o])return null;const E=af(f.displacedBy.point),T=e(E.x,E.y);return n(T,x,!0)}if(p)return r(x);const w=u.displacedBy.point,_=e(w.x,w.y);return n(_,x,h.shouldAnimate)};return(o,c)=>{if(Em(o))return o.critical.draggable.id===c.draggableId?null:i(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const RQ=()=>{const e=MQ(),t=DQ();return(r,i)=>e(r,i)||t(r,i)||PQ},LQ={dropAnimationFinished:w5},IQ=YB(RQ,LQ,null,{context:N2,areStatePropsEqual:F5})(jQ);function q5(e){return Hy(P2).isUsingCloneFor===e.draggableId&&!e.isClone?null:Wt.createElement(IQ,e)}function lf(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Wt.createElement(q5,$y({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Y5=e=>t=>e===t,$Q=Y5("scroll"),BQ=Y5("auto"),_M=(e,t)=>t(e.overflowX)||t(e.overflowY),zQ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return _M(n,$Q)||_M(n,BQ)},UQ=()=>!1,K5=e=>e==null?null:e===document.body?UQ()?e:null:e===document.documentElement?null:zQ(e)?e:K5(e.parentElement);var wE=e=>({x:e.scrollLeft,y:e.scrollTop});const W5=e=>e?window.getComputedStyle(e).position==="fixed"?!0:W5(e.parentElement):!1;var FQ=e=>{const t=K5(e),n=W5(e);return{closestScrollable:t,isFixedOnPage:n}},HQ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:c})=>{const u=(()=>{if(!c)return null;const{scrollSize:g,client:x}=c,w=A5({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:w,diff:{value:or,displacement:or}}}})(),f=i==="vertical"?b2:a5,h=$d({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:h}};const GQ=(e,t)=>{const n=VB(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=m2({top:r,right:o,bottom:a,left:i},n.border);return p2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var qQ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:c})=>{const u=n.closestScrollable,f=GQ(e,u),h=Iy(f,r),p=(()=>{if(!u)return null;const x=VB(u),w={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:Iy(x,r),scroll:wE(u),scrollSize:w,shouldClipSubject:c}})();return HQ({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:h,closest:p})};const YQ={passive:!1},KQ={passive:!0};var wM=e=>e.shouldPublishImmediately?YQ:KQ;const h0=e=>e&&e.env.closestScrollable||null;function WQ(e){const t=S.useRef(null),n=Hy(mv),r=C2("droppable"),{registry:i,marshal:a}=n,o=R5(e),c=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(c),f=vt(()=>ar((P,M)=>{t.current||Pe();const D={x:P,y:M};a.updateDroppableScroll(c.id,D)}),[c.id,a]),h=Ke(()=>{const P=t.current;return!P||!P.env.closestScrollable?or:wE(P.env.closestScrollable)},[]),p=Ke(()=>{const P=h();f(P.x,P.y)},[h,f]),g=vt(()=>bm(p),[p]),x=Ke(()=>{const P=t.current,M=h0(P);if(P&&M||Pe(),P.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),w=Ke((P,M)=>{t.current&&Pe();const D=o.current,$=D.getDroppableRef();$||Pe();const H=FQ($),q={ref:$,descriptor:c,env:H,scrollOptions:M};t.current=q;const K=qQ({ref:$,descriptor:c,env:H,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),U=H.closestScrollable;return U&&(U.setAttribute(gM.contextId,n.contextId),U.addEventListener("scroll",x,wM(q.scrollOptions))),K},[n.contextId,c,x,o]),_=Ke(()=>{const P=t.current,M=h0(P);return P&&M||Pe(),wE(M)},[]),E=Ke(()=>{const P=t.current;P||Pe();const M=h0(P);t.current=null,M&&(g.cancel(),M.removeAttribute(gM.contextId),M.removeEventListener("scroll",x,wM(P.scrollOptions)))},[x,g]),T=Ke(P=>{const M=t.current;M||Pe();const D=h0(M);D||Pe(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),N=vt(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:_,dragStopped:E,scroll:T}),[E,w,_,T]),O=vt(()=>({uniqueId:r,descriptor:c,callbacks:N}),[N,c,r]);Li(()=>(u.current=O.descriptor,i.droppable.register(O),()=>{t.current&&E(),i.droppable.unregister(O)}),[N,c,E,O,a,i.droppable]),Li(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Li(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function $w(){}const SM={width:0,height:0,margin:rZ},VQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?SM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ZQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=VQ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?om.placeholder:null}},XQ=e=>{const t=S.useRef(null),n=Ke(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[c,u]=S.useState(e.animate==="open");S.useEffect(()=>c?r!=="open"?(n(),u(!1),$w):t.current?$w:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):$w,[r,c,n]);const f=Ke(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=ZQ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Wt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var JQ=Wt.memo(XQ);class QQ extends Wt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const eee=e=>{const t=S.useContext(mv);t||Pe();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),a=S.useRef(null),{children:o,droppableId:c,type:u,mode:f,direction:h,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:x,snapshot:w,useClone:_,updateViewportMaxScroll:E,getContainerForClone:T}=e,N=Ke(()=>i.current,[]),O=Ke((U=null)=>{i.current=U},[]);Ke(()=>a.current,[]);const P=Ke((U=null)=>{a.current=U},[]),M=Ke(()=>{r()&&E({maxScroll:O5()})},[r,E]);WQ({droppableId:c,type:u,mode:f,direction:h,isDropDisabled:g,isCombineEnabled:x,ignoreContainerClipping:p,getDroppableRef:N});const D=vt(()=>Wt.createElement(QQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:U,data:z,animate:V})=>Wt.createElement(JQ,{placeholder:z,onClose:U,innerRef:P,animate:V,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,P]),$=vt(()=>({innerRef:O,placeholder:D,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,D,O]),H=_?_.dragging.draggableId:null,q=vt(()=>({droppableId:c,type:u,isUsingCloneFor:H}),[c,H,u]);function K(){if(!_)return null;const{dragging:U,render:z}=_,V=Wt.createElement(q5,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(J,Q)=>z(J,Q,U));return UG.createPortal(V,T())}return Wt.createElement(P2.Provider,{value:q},o($,w),K())};function tee(){return document.body||Pe(),document.body}const EM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:tee},V5=e=>{let t={...e},n;for(n in EM)e[n]===void 0&&(t={...t,[n]:EM[n]});return t},Bw=(e,t)=>e===t.droppable.type,kM=(e,t)=>t.draggables[e.draggable.id],nee=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ar(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ar((a,o,c,u,f,h)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const w=h?{render:h,dragging:n(f.descriptor)}:null,_={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:w}}if(!o)return t;if(!u)return e;const x={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,o)=>{const c=V5(o),u=c.droppableId,f=c.type,h=!c.isDropDisabled,p=c.renderClone;if(Em(a)){const g=a.critical;if(!Bw(f,g))return t;const x=kM(g,a.dimensions),w=Ri(a.impact)===u;return r(u,h,w,w,x,p)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!Bw(f,g.critical))return t;const x=kM(g.critical,a.dimensions);return r(u,h,H5(g.result)===u,Ri(g.impact)===u,x,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!Bw(f,g.critical))return t;const x=Ri(g.impact)===u,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),_=g.critical.droppable.id===u;return x?w?e:t:_?e:t}return t}},ree={updateViewportMaxScroll:pX},cf=YB(nee,ree,(e,t,n)=>({...V5(n),...e,...t}),{context:N2,areStatePropsEqual:F5})(eee),iee={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Gy(e,t,n){const r=iee[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function aee(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),u=(a-12)/24+o/1440+c/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function oee(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Qm(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=oee(i),o=4*(i-a),c=aee(r);return new Date(r.getTime()+(o+c)*60*1e3)}function Z5(e){return e.replace(/\D/g,"")}function see(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function lee(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function ep(e){const t=Z5(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return see(n,r,i)?{y:n,m:r,d:i}:null}function gv(e){const t=e.trim();if(!t||t==="")return null;const n=Z5(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return lee(r,i)?{hh:r,mm:i}:null}function yv(e){const t=e.trim(),n=ep(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function bv(e){const t=e.trim();if(t==="")return"";const n=gv(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var my={exports:{}},cee=my.exports,AM;function uee(){return AM||(AM=1,(function(e,t){(function(n,r){e.exports=r()})(cee,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,c){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(V){return V&&V.__esModule?V:{default:V}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),c=a(o),u=i(3),f=a(u),h=i(4),p=a(h),g=i(5),x=a(g),w=i(6),_=a(w),E=i(7),T=a(E),N=i(8),O=a(N),P=i(9),M=a(P),D=i(10),$=a(D),H=i(11),q=a(H),K=i(12),U=a(K),z={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:x.default,animals:_.default,lunarTerm:T.default,lTermInfo:O.default,nStr1:M.default,nStr2:$.default,nStr3:q.default,nStr4:U.default,lYearDays:function(V){var J,Q=348;for(J=32768;J>8;J>>=1)Q+=z.lunarInfo[V-1900]&J?1:0;return Q+z.leapDays(V)},leapMonth:function(V){return 15&z.lunarInfo[V-1900]},leapDays:function(V){return z.leapMonth(V)?65536&z.lunarInfo[V-1900]?30:29:0},monthDays:function(V,J){return J>12||J<1?-1:z.lunarInfo[V-1900]&65536>>J?30:29},solarDays:function(V,J){if(J>12||J<1)return-1;var Q=J-1;return Q==1?V%4==0&&V%100!=0||V%400==0?29:28:z.solarMonth[Q]},toGanZhi:function(V){return z.gan[V%10]+z.zhi[V%12]},getTerm:function(V,J){if(V<1900||V>2100||J<1||J>24)return-1;var Q=z.lTermInfo[V-1900],Y=[parseInt("0x"+Q.substr(0,5)).toString(),parseInt("0x"+Q.substr(5,5)).toString(),parseInt("0x"+Q.substr(10,5)).toString(),parseInt("0x"+Q.substr(15,5)).toString(),parseInt("0x"+Q.substr(20,5)).toString(),parseInt("0x"+Q.substr(25,5)).toString()],X=[Y[0].substr(0,1),Y[0].substr(1,2),Y[0].substr(3,1),Y[0].substr(4,2),Y[1].substr(0,1),Y[1].substr(1,2),Y[1].substr(3,1),Y[1].substr(4,2),Y[2].substr(0,1),Y[2].substr(1,2),Y[2].substr(3,1),Y[2].substr(4,2),Y[3].substr(0,1),Y[3].substr(1,2),Y[3].substr(3,1),Y[3].substr(4,2),Y[4].substr(0,1),Y[4].substr(1,2),Y[4].substr(3,1),Y[4].substr(4,2),Y[5].substr(0,1),Y[5].substr(1,2),Y[5].substr(3,1),Y[5].substr(4,2)];return parseInt(X[J-1])},toChinaYear:function(V){var J=parseInt(V/1e3),Q=parseInt(V%1e3/100),Y=parseInt(V%100/10),X=V%10;return z.nStr4[J]+z.nStr4[Q]+z.nStr4[Y]+z.nStr4[X]+""},toChinaMonth:function(V){if(V>12||V<1)return-1;var J=z.nStr3[V-1];return J+=""},toChinaDay:function(V){var J;switch(V){case 10:J="";break;case 20:J="";break;case 30:J="";break;default:J=z.nStr2[Math.floor(V/10)],J+=z.nStr1[V%10]}return J},getAnimal:function(V){return z.animals[(V-4)%12]},solar2lunar:function(ue,se,B){if(ue<1900||ue>2100||ue==1900&&se==1&&B<31)return-1;if(ue)var Y=new Date(ue,parseInt(se)-1,B);else var Y=new Date;var X,be=0,re=0,ue=Y.getFullYear(),se=Y.getMonth()+1,B=Y.getDate(),W=(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate())-Date.UTC(1900,0,31))/864e5;for(X=1900;X<2101&&W>0;X++)re=z.lYearDays(X),W-=re;W<0&&(W+=re,X--);var ae=new Date,Z=!1;ae.getFullYear()==ue&&ae.getMonth()+1==se&&ae.getDate()==B&&(Z=!0);var oe=Y.getDay(),me=z.nStr1[oe];oe==0&&(oe=7);var pe=X,be=z.leapMonth(X),ne=!1;for(X=1;X<13&&W>0;X++)be>0&&X==be+1&&ne==0?(--X,ne=!0,re=z.leapDays(pe)):re=z.monthDays(pe,X),ne==1&&X==be+1&&(ne=!1),W-=re;W==0&&be>0&&X==be+1&&(ne?ne=!1:(ne=!0,--X)),W<0&&(W+=re,--X);var Oe=X,Ce=W+1,ve=se-1,Ze=z.getTerm(ue,3),Ne=z.toGanZhi(ue-4),_e=new Date(ue,1,Ze).getTime();new Date(ue,ve,B).getTime()<_e&&(Ne=z.toGanZhi(ue-5));var je=z.getTerm(ue,2*se-1),Ie=z.getTerm(ue,2*se),Ve=z.toGanZhi(12*(ue-1900)+se+11);B>=je&&(Ve=z.toGanZhi(12*(ue-1900)+se+12));var bt=!1,xt="";je==B&&(bt=!0,xt=z.lunarTerm[2*se-2]),Ie==B&&(bt=!0,xt=z.lunarTerm[2*se-1]);var Pt=Date.UTC(ue,ve,1,0,0,0,0)/864e5+25567+10,fe=z.toGanZhi(Pt+B-1);return{lYear:pe,lMonth:Oe,lDay:Ce,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(ne&&be===Oe?"":"")+z.toChinaMonth(Oe),dayCn:z.toChinaDay(Ce),cYear:ue,cMonth:se,cDay:B,gzYear:Ne,gzMonth:Ve,gzDay:fe,isToday:Z,isLeap:ne,nWeek:oe,ncWeek:""+me,isTerm:bt,term:xt}},lunar2solar:function(V,J,Q,Y){var X=z.leapMonth(V);if(z.leapDays(V),Y&&X!=J||V==2100&&J==12&&Q>1||V==1900&&J==1&&Q<31)return-1;var re=z.monthDays(V,J);if(V<1900||V>2100||Q>re)return-1;for(var ue=0,se=1900;se<V;se++)ue+=z.lYearDays(se);for(var B=0,W=!1,se=1;se<J;se++)B=z.leapMonth(V),W||B<=se&&B>0&&(ue+=z.leapDays(V),W=!0),ue+=z.monthDays(V,se);Y&&(ue+=re);var ae=Date.UTC(1900,1,30,0,0,0),Z=new Date(864e5*(ue+Q-31)+ae),oe=Z.getUTCFullYear(),me=Z.getUTCMonth()+1,pe=Z.getUTCDate();return z.solar2lunar(oe,me,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(my)),my.exports}var X5=uee();const dee=di(X5),fee=Hk({__proto__:null,default:dee},[X5]);function D2(e){return typeof e=="object"&&e!==null}function hee(e){return D2(e)&&"default"in e}function mee(e){return D2(e)&&typeof e.lunar2solar=="function"}function pee(e){if(!D2(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function gee(e){const t=hee(e)?e.default:e;if(!mee(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const c=t.lunar2solar(r,i,a,o);return pee(c)}}}const yee=gee(fee);function Ui(e,t,n,r=4,i=0){const a=yee.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const TM=e=>e<10?`0${e}`:`${e}`;function tp(e){if(e.calendarType!=="lunar")return e;const t=ep(e.birthDay??"");if(!t)return e;try{const n=Ui(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${TM(i)}${TM(a)}`,calendarType:"solar"}}catch{return e}}function R2(e){const t=e.mingSikType??"/",n=ep(e.birthDay??"");if(!n){const P=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",D=typeof e.ganjiText=="string"?e.ganjiText:M,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:P,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:D,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const P=Ui(r,i,a,0,0);r=P.getFullYear(),i=P.getMonth()+1,a=P.getDate()}catch{}const o=gv(e.birthTime??""),c=!e.birthTime||e.birthTime===""||!o,u=c?4:o.hh,f=c?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),g=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",x=Qm(p,h,g),w=c?"":x.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),_=at(x,h),E=kt(x,h),T=gt(x,t),N=c?null:Ua(x,t),O=[` : ${_} ${E} ${T}`,N?`${N}`:null].filter(Boolean).join(" ");return{corrected:x,correctedLocal:w,ganji:O,ganjiText:O,dayStem:T.charAt(0)}}function OM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function np(e){return(typeof e=="string"?e.trim():"")===""?"":""}function jM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function bee(e){const t=jM(e.ganjiText)??jM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=np(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function qy(e){const t={...e,birthDay:yv(e.birthDay??""),birthTime:e.birthTime===""?"":bv(e.birthTime??""),gender:np(e.gender),dateObj:OM(e.dateObj,new Date),corrected:OM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=R2(t),r={...t,...n};return{...r,dir:bee(r)}}function vee(e){return e===""||e==="/"||e===""?e:"/"}function xee(e){return e==="lunar"?"lunar":"solar"}function _ee(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function wee(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function L2(e,t){const r=yv(typeof e=="string"?e:""),i=ep(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Ui(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function I2(e,t){if(t)return{ok:!0,value:""};const r=bv(typeof e=="string"?e:"");return gv(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function J5(e,t){const n=t?.requireName??!1,r=wee(e.name,n);if(!r.ok)return r;const i=xee(e.calendarType),a=L2(e.birthDay,i);if(!a.ok)return a;const o=I2(e.birthTime,e.unknownTime);if(!o.ok)return o;const c=vee(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:np(e.gender),sortOrder:e.sortOrder,birthPlace:_ee(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:c,DayChangeRule:c===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:qy(u)}}function Tl(e){const t=tp(e),n=ep(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=gv(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return Qm(o,u,c)}function See(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function md(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),c=a.localeCompare(o);return c!==0?c:t.id.localeCompare(n.id)})}function SE(e){if(!See(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function Q5(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:yv(e.birth_day??""),birthTime:bv(e.birth_time??""),gender:np(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return qy(i)}function Eee(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function NM(e,t){const n=yv(e.birthDay??""),r=bv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:np(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const EE="hm_session_started_at_ms",kee=7200*1e3;function e4(){return typeof window>"u"?null:window.localStorage}function Aee(){const e=e4();if(!e)return Date.now();const t=e.getItem(EE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(EE,String(r)),r}function Tee(e=Date.now()){const t=e4();if(t)try{t.setItem(EE,String(e))}catch{}}function Oee(e=Date.now()){const t=Aee();return e-t>=kee}const m0="myeongsik-list";function jee(e){try{return JSON.parse(e)}catch{return null}}async function Nee(e){if(typeof window>"u")return;const t=window.localStorage.getItem(m0);if(!t)return;const n=jee(t);if(!n){window.localStorage.removeItem(m0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(m0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),c=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!c.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(m0)}const Cee=250;function Mee(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function Pee(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function Dee(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const c=n;if(n=null,c.key&&c.key===i){c.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),c.resolve();continue}await e.upsertOrderPatch(u.id,c.list),i=c.key,c.resolve()}}finally{r=!1}}}Pee(()=>{a()});function o(c,u){const f=Mee(c);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=c;else{let h;const p=new Promise(g=>{h=g});n={key:f,list:c,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Cee),n.promise)}return{queue:o,flushNow:a}}const oi="__UNASSIGNED__",Ree=[" ",""],jd=e=>typeof e=="string"?e.trim():"",Lee=e=>Ree.includes(e);function yd(e,t){const n=[],r=[];for(const i of e){const a=jd(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function $2(e,t){const n=new Set(t.map(o=>jd(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,c)=>{i[o]||(i[o]=[]),i[o].push(c)};for(const o of e){const c=String(o.id??"");if(!c||r.has(c))continue;r.add(c);const u=jd(o.folder),f=!u||Lee(u)?oi:n.has(u)?u:oi;a(f,o)}i[oi]||(i[oi]=[]);for(const o of t){const c=jd(o);c&&(i[c]||(i[c]=[]))}return i}function t4(e,t){const n=[];for(const i of t){const a=jd(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[oi];return Array.isArray(r)&&r.length&&n.push(...r),n}function Iee(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=$2(t,n),o=r.droppableId===oi?oi:r.droppableId,c=i.droppableId===oi?oi:i.droppableId,u=[...a[o]??[]],f=o===c?u:[...a[c]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===c?u.splice(p,0,h):f.splice(p,0,h);const g=String(h.id),x=new Set([g]),w={...h,folder:c===oi?"":c};return a[o]=u,a[c]=o===c?u:f,a[c]=(a[c]??[]).map(_=>String(_.id)===g?w:_),{nextList:t4(a,n),changedIds:Array.from(x)}}function $ee(e){const{list:t,targetId:n,orderedFolders:r}=e,i=$2(t,r);let a=null,o=null;const c=[...r.map(x=>jd(x)),oi].filter(Boolean);for(const x of c){const w=i[x]??[],_=w.findIndex(E=>String(E.id)===n);if(_>=0){a=x,o=w[_]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(x=>String(x.id)===n);if(f<0)return{nextList:t,nextItem:null};const h=u[f],p=!h.favorite,g={...h,favorite:p};return u.splice(f,1),p?u.unshift(g):u.push(g),i[a]=u,{nextList:t4(i,r),nextItem:g}}function Bee(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function n4(e){return e.trim().length>0}const Ch=e=>e.toLowerCase().replace(/\s+/g," ").trim(),zee=e=>e.replace(/\D/g,""),Uee=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=zee(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},Fee=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},Hee=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},CM=(e,t,n)=>{const r=Ch(t);if(!r)return!0;const i=Ch(typeof e.name=="string"?e.name:""),a=Uee(e).map(Ch),o=Fee(e).map(Ch),c=Hee(e).map(Ch),u=h=>h.includes(r),f=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(c);case"all":default:return u(i)||f(a)||f(o)||f(c)}};function Gee(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!n4(t)){const f={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let c=0;for(const f of r){const h=typeof f=="string"?f.trim():"";if(!h)continue;const g=(i[h]??[]).filter(x=>CM(x,t,n));o[h]=g,c+=g.length}const u=(a??[]).filter(f=>CM(f,t,n));return c+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:c}}function qee(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??oi).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??oi).toString(),index:e.destinationIndex}}}function Yee(e,t){const n=String(t.eventType??""),r=SE(t.new),i=SE(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=Q5(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return md(u)}async function Kee(e){if(!e)return;const t=Le;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function Wee(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function Vee(){return{async getUser(){const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Le.from("myeongsik").select(Wee()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>SE(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=NM(t,e),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=NM(n,e),{error:i}=await Le.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Le.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Eee(i,e)),{error:r}=await Le.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Le.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await Kee(r)}}}}}function Zee(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function bd(e){if(!e)return"FREE";const t=Zee(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function Yy(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const p0={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function Xee(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function MM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function PM(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function Jee(e){return e?e.can_use_myo_viewer===!0:!1}async function Qee(e){const{data:t,error:n}=await Le.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const Br=ou((e,t)=>({loaded:!1,loading:!1,userId:null,...p0,reset:()=>{e({loaded:!1,loading:!1,userId:null,...p0})},loadFromServer:async()=>{e({loading:!0});try{const{data:n,error:r}=await Le.auth.getUser();if(r){e({loaded:!0,loading:!1,userId:null,...p0});return}const i=n.user?.id??null;if(!i){e({loaded:!0,loading:!1,userId:null,...p0});return}const a=await Qee(i);if(!a){const _=Yy("FREE");e({loaded:!0,loading:!1,userId:i,plan:"FREE",maxMyeongsik:_.maxMyeongsik===null?9999:_.maxMyeongsik,canManageMyeongsik:_.canManageMyeongsik,canUseLuckTabs:_.canUseLuckTabs,canUseMultiMode:_.canUseMultiMode,canUseAllPrompts:_.canUseAllPrompts,canUseAdvancedReport:_.canUseAdvancedReport,canRemoveAds:_.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const o=MM(a.starts_at??null),c=MM(a.expires_at??null),u=PM(o,c),f=bd(a.plan??null),h=u?f:"FREE",p=Yy(h),g=p.maxMyeongsik===null?9999:p.maxMyeongsik,x=Xee(a.max_myeongsik,g),w=Math.max(1,Math.max(x,g));e({loaded:!0,loading:!1,userId:i,plan:h,maxMyeongsik:w,canManageMyeongsik:p.canManageMyeongsik,canUseLuckTabs:p.canUseLuckTabs,canUseMultiMode:p.canUseMultiMode,canUseAllPrompts:p.canUseAllPrompts,canUseAdvancedReport:p.canUseAdvancedReport,canRemoveAds:p.canRemoveAds,canUseMyoViewer:Jee(a),startsAt:o,expiresAt:c})}finally{e({loading:!1})}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return PM(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,c=Math.floor(a/60),u=c%24,f=Math.floor(c/24),h=[];return f>0&&h.push(`${f}`),u>0&&h.push(`${u}`),f===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),Ti=Vee(),ete=Dee(Ti);function nd(){const t=Br.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function tte(e){const n=Br.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}const zr=ou((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Oee()){Tee(Date.now()),window.location.reload();return}const n=await Ti.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Ti.subscribe(n.id,i=>{e(a=>({list:Yee(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Ti.getUser();if(!n){e({list:[],currentId:null}),await t().stopRealtime();return}const r=await Ti.fetchRows(n.id),i=md(r.map(Q5)),a=t().currentId,o=a&&i.some(c=>c.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await Nee(Ti)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Ti.getUser();if(!r)return;const i=t().list.length;if(!tte(i))return;const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},c=qy(o);e(u=>({list:md([...u.list,c]),currentId:u.currentId??c.id})),await Ti.upsertOne(r.id,c)},update:async(n,r)=>{if(!nd())return;const i=t().list.find(c=>c.id===n);if(!i)return;const a=qy({...i,...r});e(c=>({list:md(c.list.map(u=>u.id===n?a:u))}));const o=await Ti.getUser();o&&await Ti.updateOne(o.id,n,a)},remove:async n=>{nd()&&(e(r=>{const i=r.list.filter(o=>o.id!==n),a=r.currentId===n?i[0]?.id??null:r.currentId;return{list:i,currentId:a}}),await Ti.softDelete(n))},moveItemByDnD:async n=>{if(!nd())return;const{list:r}=t(),i=qee(n),o=Iee({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o}),await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{if(!nd())return;const{list:i}=t(),o=$ee({list:i,targetId:n,orderedFolders:r}).nextList;e({list:o}),await t().reorder(o)},unsetFolderForFolder:async n=>{if(!nd())return;const r=(n??"").trim();if(!r)return;const i=t().list,a=Bee({list:i,folderName:r}),o=md(a.nextList),c=new Set(a.changedIds);if(c.size===0)return;e({list:o});const u=await Ti.getUser();if(!u)return;const f=o.filter(h=>c.has(h.id));await Ti.upsertOrderPatch(u.id,f)},reorder:async n=>{if(!nd())return;const r=n.map((a,o)=>({...a,sortOrder:o+1})),i=md(r);e({list:i}),await ete.queue(i)},clear:()=>{e({currentId:null,list:[]})}})),DM="__custom__",RM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],r4=({value:e,onChange:t})=>{const[n,r]=S.useState(RM),[i,a]=S.useState(""),[o,c]=S.useState(!1),[u,f]=S.useState(""),[h,p]=S.useState(!1),{list:g}=zr(),w=(e??i??"").trim()==="",E=g.some(M=>(M.relationship??"").trim()==="")&&!w?n.filter(M=>M.value!==""):n;S.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=M=>{const D=M.target.value;D===DM?(c(!0),a(""),t?.("")):(c(!1),f(""),a(D),t?.(D))};S.useEffect(()=>{const M=localStorage.getItem("relationshipOptions");M&&r(JSON.parse(M))},[]),S.useEffect(()=>{(async()=>{const{data:{user:D},error:$}=await Le.auth.getUser();if($||!D)return;const{data:H,error:q}=await Le.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K=H?.payload?.relationshipOptions;if(!Array.isArray(K))return;const U=K.map(z=>z&&typeof z=="object"&&typeof z.value=="string"&&typeof z.label=="string"?{value:z.value,label:z.label}:typeof z=="string"?{value:z,label:z}:null).filter(z=>!!z);U.length&&r(z=>{const V=new Set,J=[...U,...z,...RM].filter(Q=>V.has(Q.value)?!1:(V.add(Q.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(J)),J})})()},[]),S.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:D},error:$}=await Le.auth.getUser();if($||!D)return;const{data:H,error:q}=await Le.from("user_settings").select("payload").eq("user_id",D.id).single();if(q&&q.code!=="PGRST116"){console.error("load relationships settings error",q.message);return}const K={...H?.payload??{},relationshipOptions:n},{error:U}=await Le.from("user_settings").upsert({user_id:D.id,payload:K,updated_at:new Date().toISOString()});U&&console.error("save relationships settings error",U.message)})()},[n]);const N=()=>{const M=u.trim();if(!M)return;const D={value:M,label:M};r($=>[...$,D]),a(M),t?.(M),f(""),c(!1)},O=M=>{r(n.filter(D=>D.value!==M)),i===M&&a("")},P=M=>{if(!M.destination)return;const D=Array.from(n),[$]=D.splice(M.source.index,1);D.splice(M.destination.index,0,$),r(D)};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"rel_set flex items-center gap-2",children:[v.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[v.jsx("option",{value:"",hidden:!0,children:""}),E.map(M=>v.jsx("option",{value:M.value,children:M.label},M.value)),v.jsx("option",{value:DM,children:" "})]}),v.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!h&&v.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[v.jsx("input",{type:"text",placeholder:" ",value:u,onChange:M=>f(M.target.value)}),v.jsx("button",{type:"button",onClick:N,className:"btn_style",children:""})]}),h&&v.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[v.jsx("h4",{className:"font-bold mb-2",children:" "}),v.jsx(Jm,{onDragEnd:P,children:v.jsx(cf,{droppableId:"relList",children:M=>v.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[n.map((D,$)=>v.jsx(lf,{draggableId:D.value,index:$,children:H=>v.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[v.jsx("span",{className:"cursor-grab mr-2",children:""}),v.jsx("span",{className:"flex-1 pr-1",children:D.label}),v.jsx("button",{type:"button",className:"text-red-500",onClick:()=>O(D.value),children:""})]})},D.value)),M.placeholder]})})}),v.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},dn=" ",i4=["","","","","",""],a4="ms_folders",o4="ms_folder_order",LM="ms_folder_favs",kE="ms_disabled_presets",Ol="myeoun:folder-updated";function qc(e){if(e!==dn)return e||void 0}function vv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function B2(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function nte(){const e=vv(kE);return i4.filter(t=>!e.includes(t))}function z2(){return vv(a4)}function U2(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];B2(a4,t),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function Ky(){const e=nte(),t=z2(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function rte(){return[dn,...Ky()]}function s4(e){const t=e.trim();if(!t||t===dn)return;const n=z2();if(n.includes(t))return;const r=[...n,t];U2(r)}function ite(e){const t=z2(),n=t.filter(r=>r!==e);n.length!==t.length&&U2(n)}function ate(e){const t=vv(kE);if(t.includes(e))return;const n=[...t,e];B2(kE,n),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function Wy(){return vv(o4)}function vd(e){B2(o4,e),typeof window<"u"&&window.dispatchEvent(new Event(Ol))}function sm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function ote(e){return Array.from(new Set(e))}function g0(e){const t=e.filter(n=>n!==dn);return{rest:t,withUnassigned:[dn,...t]}}function ste(e,t){return sm(t,e)}function lte({value:e,onChange:t}){const[n,r]=S.useState([dn]),[i,a]=S.useState(!1),[o,c]=S.useState(""),[u,f]=S.useState(!1),h=S.useCallback(async E=>{const{data:{user:T},error:N}=await Le.auth.getUser();if(N||!T)return;const O=E.map((M,D)=>({user_id:T.id,folder_name:M,sort_order:D+1,updated_at:new Date().toISOString()})),{error:P}=await Le.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});P&&console.error("save folder order error",P.message)},[]),p=S.useCallback(()=>{if(typeof window>"u")return;const E=ote(rte()),T=E.includes(dn)?E:[dn,...E],{rest:N}=g0(T),O=Wy(),P=ste(O,N),M=[dn,...P];r(M),O.length===P.length&&O.every(($,H)=>$===P[H])||(vd(P),h(P))},[h]);S.useEffect(()=>{if(p(),typeof window<"u"){const E=()=>p();return window.addEventListener(Ol,E),()=>window.removeEventListener(Ol,E)}},[p]);const g=S.useMemo(()=>e||dn,[e]),x=E=>{const{rest:T}=g0(E);vd(T),h(T)},w=E=>{const{source:T,destination:N}=E;if(!N||N.index===T.index)return;const{rest:O}=g0(n),P=Array.from(O),[M]=P.splice(T.index,1);P.splice(N.index,0,M);const D=[dn,...P];r(D),x(D)},_=E=>{const T=qc(E);T&&(s4(T),p())};return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":g,onChange:E=>{const T=E.target.value;if(T==="__custom__"){a(!0),t(void 0);return}a(!1),t(qc(T))},children:[n.map(E=>v.jsx("option",{value:E,children:E},E)),v.jsx("option",{value:"__custom__",children:"+   "})]}),v.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(E=>!E),children:u?" ":" "})]}),i&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),v.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const E=o.trim();E&&(_(E),t(qc(E)),a(!1),c(""))},children:""})]}),u&&v.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[v.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),v.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[v.jsx("span",{className:"opacity-60 select-none",children:""}),v.jsxs("span",{className:"flex-1 px-2",children:[dn," ()"]})]}),v.jsx(Jm,{onDragEnd:w,children:v.jsx(cf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:E=>v.jsxs("ul",{ref:E.innerRef,...E.droppableProps,className:"space-y-1",children:[g0(n).rest.map((T,N)=>v.jsx(lf,{draggableId:T,index:N,children:O=>v.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[v.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),v.jsx("span",{className:"flex-1 pr-1",children:T})]})},T)),E.placeholder]})})})]}),v.jsxs("p",{className:"text-xs text-gray-500",children:['   "',dn,'" .      .']})]})}function l4({message:e,onClose:t,ms:n=2e3}){return S.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),v.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const IM=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],cte=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],ute=["","/",""],dte=["",""],c4={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function fte(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function hte(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function mte(){const[e,t]=S.useState(0),[n,r]=S.useState({...c4}),[i,a]=S.useState(null),[o,c]=S.useState(!1),[u,f]=S.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f}}function pte({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){S.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function gte(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Ui(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function yte(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):dn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function bte({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=IM[r],a=S.useMemo(()=>gte(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:IM,currentStep:i,lunarPreview:a,displayValue:c=>yte(c,e,t,n),CALENDAR_OPTIONS:cte,MING_OPTIONS:ute,GENDER_OPTIONS:dte,nextIndex:fte,focusById:hte,isDST:Gy}}function vte(){return{add:zr(t=>t.add)}}const mr=[];for(let e=0;e<256;++e)mr.push((e+256).toString(16).slice(1));function xte(e,t=0){return(mr[e[t+0]]+mr[e[t+1]]+mr[e[t+2]]+mr[e[t+3]]+"-"+mr[e[t+4]]+mr[e[t+5]]+"-"+mr[e[t+6]]+mr[e[t+7]]+"-"+mr[e[t+8]]+mr[e[t+9]]+"-"+mr[e[t+10]]+mr[e[t+11]]+mr[e[t+12]]+mr[e[t+13]]+mr[e[t+14]]+mr[e[t+15]]).toLowerCase()}let zw;const _te=new Uint8Array(16);function wte(){if(!zw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zw=crypto.getRandomValues.bind(crypto)}return zw(_te)}const Ste=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$M={randomUUID:Ste};function u4(e,t,n){if($M.randomUUID&&!e)return $M.randomUUID();e=e||{};const r=e.random??e.rng?.()??wte();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xte(r)}function Ete(e,t,n){const r=qc(e.folder);return J5({id:u4(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function kte(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=L2(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=I2(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Ate({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f,setToast:h,onSave:p}){const{add:g}=vte(),x=S.useCallback(()=>{const _=kte(a,e,o,u);if(!_.ok){h(_.message??" .");return}if(_.nextForm&&(t(_.nextForm),_.message&&h(_.message)),n<i-1){r(n+1);return}const E=Ete(e,o,u);if(!E.ok){h(E.message);return}const T=E.value;g(T),p(T),h(" !"),t({...c4}),c(!1),f(!1),r(0)},[a,e,o,u,h,t,n,i,r,g,p,c,f]),w=S.useCallback(_=>{if(_.key!=="Enter")return;const E=_.target,T=E.getAttribute("role");if(T==="radio"||T==="checkbox")return;const N=document.getElementById("mapModal");if(N&&N.contains(E))return;const O=E.tagName.toLowerCase(),P=E instanceof HTMLInputElement?E.type:"";if(O==="textarea"){if(_.shiftKey)return;_.preventDefault(),x();return}if(P==="radio"||P==="checkbox"){_.preventDefault(),E instanceof HTMLInputElement&&E.click();return}O==="button"&&E.type!=="submit"||(_.preventDefault(),x())},[x]);return{handleNext:x,handleFormKeyDown:w}}function Tte({onSave:e}){const t=mte(),n=bte({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});pte({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Ate({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Ote({onSave:e,onClose:t}){const n=Tte({onSave:e});return v.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&v.jsx(l4,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>v.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[v.jsx("span",{className:"font-semibold",children:r.label}),v.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),v.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:v.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[v.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&v.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex gap-1 items-center",children:[v.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),v.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),v.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:c=>{if(c.stopPropagation(),c.key===" "||c.key==="Enter"){c.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(c.key))return;c.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(g=>g.value===n.form.calendarType),h=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,c.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:c=>{c.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&v.jsx("div",{className:"flex items-center justify-end",children:v.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?v.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),v.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&v.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),v.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&v.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),v.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(IB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),v.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&v.jsx(r4,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&v.jsx(lte,{value:qc(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&v.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),v.jsxs("div",{className:"flex justify-between gap-2",children:[v.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),v.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var y0={},BM;function jte(){if(BM)return y0;BM=1,y0.match=a,y0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(g){var x=g.inverse,w=g.type==="all"||p.type===g.type;if(w&&x||!(w||x))return!1;var _=g.expressions.every(function(E){var T=E.feature,N=E.modifier,O=E.value,P=p[T];if(!P)return!1;switch(T){case"orientation":case"scan":return P.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),P=f(P);break;case"resolution":O=u(O),P=u(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),P=c(P);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,P=parseInt(P,10)||0;break}switch(N){case"min":return P>=O;case"max":return P<=O;default:return P===O}});return _&&!x||!_&&x})}function o(h){return h.split(",").map(function(p){p=p.trim();var g=p.match(e),x=g[1],w=g[2],_=g[3]||"",E={};return E.inverse=!!x&&x.toLowerCase()==="not",E.type=w?w.toLowerCase():"all",_=_.match(/\([^\)]+\)/g)||[],E.expressions=_.map(function(T){var N=T.match(t),O=N[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:N[2]}}),E})}function c(h){var p=Number(h),g;return p||(g=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function u(h){var p=parseFloat(h),g=String(h).match(i)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(h){var p=parseFloat(h),g=String(h).match(r)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return y0}var Uw,zM;function Nte(){if(zM)return Uw;zM=1;var e=jte().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var c=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=h,this.dispose=g;function f(x){u&&u.addListener(x)}function h(x){u&&u.removeListener(x)}function p(x){c.matches=x.matches,c.media=x.media}function g(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Uw=r,Uw}var Cte=Nte();const Mte=di(Cte);var Pte=/[A-Z]/g,Dte=/^ms-/,Fw={};function Rte(e){return"-"+e.toLowerCase()}function d4(e){if(Fw.hasOwnProperty(e))return Fw[e];var t=e.replace(Pte,Rte);return Fw[e]=Dte.test(t)?"-"+t:t}function Lte(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Hw={exports:{}},Gw,UM;function Ite(){if(UM)return Gw;UM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gw=e,Gw}var qw,FM;function $te(){if(FM)return qw;FM=1;var e=Ite();function t(){}function n(){}return n.resetWarningCache=t,qw=function(){function r(o,c,u,f,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},qw}var HM;function Bte(){return HM||(HM=1,Hw.exports=$te()()),Hw.exports}var zte=Bte();const Ot=di(zte),Dr=Ot.oneOfType([Ot.string,Ot.number]),f4={all:Ot.bool,grid:Ot.bool,aural:Ot.bool,braille:Ot.bool,handheld:Ot.bool,print:Ot.bool,projection:Ot.bool,screen:Ot.bool,tty:Ot.bool,tv:Ot.bool,embossed:Ot.bool},Ute={orientation:Ot.oneOf(["portrait","landscape"]),scan:Ot.oneOf(["progressive","interlace"]),aspectRatio:Ot.string,deviceAspectRatio:Ot.string,height:Dr,deviceHeight:Dr,width:Dr,deviceWidth:Dr,color:Ot.bool,colorIndex:Ot.bool,monochrome:Ot.bool,resolution:Dr,type:Object.keys(f4)},{type:UOe,...Fte}=Ute,Hte={minAspectRatio:Ot.string,maxAspectRatio:Ot.string,minDeviceAspectRatio:Ot.string,maxDeviceAspectRatio:Ot.string,minHeight:Dr,maxHeight:Dr,minDeviceHeight:Dr,maxDeviceHeight:Dr,minWidth:Dr,maxWidth:Dr,minDeviceWidth:Dr,maxDeviceWidth:Dr,minColor:Ot.number,maxColor:Ot.number,minColorIndex:Ot.number,maxColorIndex:Ot.number,minMonochrome:Ot.number,maxMonochrome:Ot.number,minResolution:Dr,maxResolution:Dr,...Fte},Gte={...f4,...Hte};var qte={all:Gte};const Yte=e=>`not ${e}`,Kte=(e,t)=>{const n=d4(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?Yte(n):`(${n}: ${t})`},Wte=e=>e.join(" and "),Vte=e=>{const t=[];return Object.keys(qte.all).forEach(n=>{const r=e[n];r!=null&&t.push(Kte(n,r))}),Wte(t)},Zte=S.createContext(void 0),Xte=e=>e.query||Vte(e),GM=e=>e?Object.keys(e).reduce((n,r)=>(n[d4(r)]=e[r],n),{}):void 0,h4=()=>{const e=S.useRef(!1);return S.useEffect(()=>{e.current=!0},[]),e.current},Jte=e=>{const t=S.useContext(Zte),n=()=>GM(e)||GM(t),[r,i]=S.useState(n);return S.useEffect(()=>{const a=n();Lte(r,a)||i(a)},[e,t]),r},Qte=e=>{const t=()=>Xte(e),[n,r]=S.useState(t);return S.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},ene=(e,t)=>{const n=()=>Mte(e,t||{},!!t),[r,i]=S.useState(n),a=h4();return S.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},tne=e=>{const[t,n]=S.useState(e.matches);return S.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},nne=(e,t,n)=>{const r=Jte(t),i=Qte(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=ene(i,r),o=tne(a);return h4(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{a&&a.dispose()},[]),o},m4={Classic:"",Modern:""};function Oo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function rne(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function ine(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function ane(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function one(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function jo(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?rne(t,n):ine(t,n):i?ane(t,n):one(t,n)}const ui=ou()(m$((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=at(n,a),c=kt(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:c,dayGZ:u,setDate:f=>{const{rule:h,lon:p}=t(),g=typeof p=="number"?p:void 0;e({date:f,yearGZ:at(f,g),monthGZ:kt(f,g),dayGZ:gt(f,h)})},resetDate:()=>{const{rule:f,lon:h}=t(),p=new Date,g=typeof h=="number"?h:void 0;e({date:p,yearGZ:at(p,g),monthGZ:kt(p,g),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),h=new Date;e({date:h,monthGZ:kt(h,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:h,lon:p}=t(),g=typeof p=="number"?p:void 0;e({rule:f,yearGZ:at(h,g),monthGZ:kt(h,g),dayGZ:gt(h,f)})},setLon:f=>{const{date:h,rule:p}=t(),g=typeof f=="number"?f:void 0;e({lon:f,yearGZ:at(h,g),monthGZ:kt(h,g),dayGZ:gt(h,p)})},setFromEvent:(f,h)=>{const{rule:p,lon:g}=t(),x=typeof g=="number"?g:void 0;e({date:f.at,scope:h,yearGZ:at(f.at,x),monthGZ:kt(f.at,x),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),sne=60*1e3,lne=60*sne,cne=24*lne,une=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},AE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},dne={DAY:cne},da=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:Un(t,c.deg)})).concat([{name:r.name,date:Un(t+1,r.deg)},{name:"",date:Un(t+1,285)}]),a=Un(t,315),o=Un(t+1,315);return i.filter(c=>c.date>=a&&c.date<o).sort((c,u)=>c.date.getTime()-u.date.getTime())},p4=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${$r[t%10]}${li[t%12]}`);return e})(),fne=e=>{const t=p4.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Vy=(e,t,n=1)=>{const r=fne(e),i=t==="forward"?n:-n;return p4[(r+i+60*1e3)%60]},hne=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?c:u},g4=(e,t,n,r=120,i="/")=>{const a=AE(e),o=hne(a,n,i),c=AE(new Date(a.getTime()+o*120)),u=une(e,r).getTime(),f=[];let h=Vy(t,n,1);for(let p=c.getTime();p<=u;p+=10*dne.DAY)f.push({at:new Date(p),gz:h}),h=Vy(h,n,1);return{firstChange:c,events:f}},y4=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},b4=(e,t,n,r)=>{const i=y4(r,n);let a=t;const o=[];for(const c of e.events){const u=c.gz.charAt(1);i(u)&&(a=Vy(a,n,1),o.push({at:c.at,gz:a}))}return{events:o}},mne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},pne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gne=e=>mne[e]??("".includes(e)?e:null),yne=e=>pne[e]??("".includes(e)?e:null),qM=e=>{const t=gne(e[0]),n=yne(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},bne=e=>Math.floor((e.getHours()+1)%24/2),Yw=e=>["","","","","","","","","","","",""][bne(e)],vne=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=$r.indexOf(r),o=li.indexOf(i),c=t==="forward"?n:-n,u=(a+c%10+10)%10,f=(o+c%12+12)%12;return $r[u]+li[f]},rp=(e,t,n,r=120,i)=>{const a=da(e).sort((_,E)=>_.date.getTime()-E.date.getTime());let o;if(n==="forward"){const _=a.findIndex(E=>E.date>=e);_>=0&&(o=a[_].date)}else{const _=a.filter(E=>E.date<=e);_.length&&(o=_[_.length-1].date)}const c=(_,E)=>{const T=Yw(_),N={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},O=N[T],P=(O+2)%24,M=new Date(_);if(M.setSeconds(0,0),n==="backward"&&E){const $=Yw(E),H=N[$],q=new Date(E);return q.setHours(H,0,0,0),q}if(n==="forward"&&E){const $=Yw(E),H=N[$],q=new Date(E);if(q.setHours(H,0,0,0),q>M)return q}const D=new Date(M);return n==="forward"?(D.setHours(P,0,0,0),D<=M&&D.setDate(D.getDate()+1)):(D.setHours(O,0,0,0),D>=M&&D.setDate(D.getDate()-1)),D},u=qM(kt(e,127.5)),f=c(e,o),h=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(h/120*(14400*60*1e3));let g=new Date(e.getTime()+p);try{const _=qM(kt(e,i));(n==="forward"&&u!==_||n==="backward"&&u!==_)&&(g=new Date(e.getTime()+6e4))}catch{}const x=r/10,w=[];for(let _=0;_<x;_+=1){const E=new Date(g);E.setFullYear(E.getFullYear()+_*10),E.setSeconds(0,0);const T=vne(t,n,_+1);w.push({at:E,gz:T})}return{natalMonthPillar:t,firstChange:g,mPillars:[],events:w}},xne=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},v4=(e,t,n,r,i)=>{const a=y4(r,n);let o=t;const c=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=Vy(o,n,1),c.push({at:u.at,gz:o,age:xne(i,u.at)}))}return{events:c}},_ne=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},xv=e=>{const t=_ne(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Qm(t,e.birthPlace?.lon??null,n);return AE(r)},F2=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=xv(e),i=gt(r,t),a=Ua(r,t,i.charAt(0));return{year:at(r,n),month:kt(r,n),day:i,hour:a}},wne=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${$r[t%10]}${li[t%12]}`);return e})(),Sne=e=>wne.indexOf(e),Kw=e=>{if(Sne(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Ene(e,t="/"){const n=S.useMemo(()=>tp(e),[e]),r=S.useMemo(()=>xv(n),[n]),i=S.useMemo(()=>F2(n,t),[n,t]);return S.useMemo(()=>{const a=rp(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function c(O,P){let M=null;const D=P.getTime();for(const $ of O)if($.at.getTime()<=D)M=$;else break;return M}const u=c(a.events,o)?.gz??i.month,f=Kw(u),h=o.getFullYear(),p=Un(h,315),x=p&&o>=p?h:h-1,w=at(new Date(x,1,10,0,0,0),127.5),_=Kw(w),E=kt(o,127.5),T=Kw(E),N=[];return T&&N.push({key:"wolun",label:"",data:T}),_&&N.push({key:"seun",label:"",data:_}),f&&N.push({key:"daeun",label:"",data:f}),N},[r,n.dir,i.month,n.birthPlace?.lon])}function su(e,t="/",n=100){const r=S.useMemo(()=>tp(e),[e]),i=S.useMemo(()=>xv(r),[r]),a=S.useMemo(()=>F2(r,t),[r,t]),o=(c,u)=>{const f=u.getFullYear()-c.getFullYear(),h=u.getMonth()-c.getMonth(),p=u.getDate()-c.getDate(),g=h<0||h===0&&p<0?f-1:f;return Math.max(0,g)};return S.useMemo(()=>rp(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function Ww(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function kne(e,t){if(!Array.isArray(e)||e.length===0||!Ww(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],c=n[a+1];if(!Ww(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!c||Ww(c.at)&&t.getTime()<c.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function H2(e,t,n){const{date:r,rule:i,lon:a}=ui(),o=S.useMemo(()=>n??r??new Date,[n,r]),c=su(e,e?.mingSikType),{gz:u}=kne(c,o);return S.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,h=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:at(o,f),at:o},wol:{gz:kt(o,f),at:o},il:{gz:gt(o,h),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const un=["","","",""],ii={year:0,month:1,day:2,hour:3},YM=["","","",""],Nd="",ip=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],x4=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],KM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Ane={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},TE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function De(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Ane[r[1]]??r[1],a=TE[r[2]]??r[2];return`${i}${a}`}return""}const Zy=e=>e&&e.length>=1?e[0]:"",ji=e=>e&&e.length>=2?e[1]:"",G2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],q2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Y2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],K2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],W2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],V2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Z2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],X2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],J2=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],Q2=[{pair:["",""],label:""}],eA=new Set(["","","",""]),Xy=new Set(["","","",""]),tA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],_4=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ni(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function Kt(e,t){e.includes(t)||e.push(t)}const Tne=e=>[...e].sort((t,n)=>t-n).map(t=>un[t]).join("X"),WM=(e,t)=>e===0&&t===3||e===3&&t===0;function One(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function jne(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const w4=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Nne(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Cne=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Mne(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function S4(e){for(const t of Cne){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Nne(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Mne(e.jijiHyeong),e}function Pne(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Dne(e,t){for(const n of ip)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function VM(e,t,n){const r=Pne(e,n);if(r<0){Kt(e,t);return}const a=(e[r]??"").includes(Nd),o=t.includes(Nd);a&&!o&&(e[r]=t)}function nA(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(g=>Zy(g)),c=i.map(g=>ji(g));function u(g,x){if(g===x)return;const w=o[g],_=o[x];if(!w||!_)return;const E=ni(G2,w,_);E&&Kt(a.cheonganHap,`#${un[g]}X${un[x]}_${E}`);const T=ni(q2,w,_);T&&Kt(a.cheonganChung,`#${un[g]}X${un[x]}_${T}`)}u(ii.year,ii.month),u(ii.month,ii.day),u(ii.day,ii.hour);function f(g,x,w,_,E=!0){const T=[],N=[];for(let P=0;P<4;P++)c[P]===g&&T.push(P),c[P]===x&&N.push(P);const O=One(T,N);for(const[P,M]of O){const D=WM(P,M),$=`#${un[P]}X${un[M]}_${w}${D?Nd:""}`;if(D){Kt(_,$);continue}E?VM(_,$,w):Kt(_,$)}}const h=(g,x)=>{for(const{pair:[w,_],label:E}of g)f(w,_,E,x)};h(Y2,a.jijiYukhap),h(K2,a.jijiChung),h(W2,a.jijiPa),h(V2,a.jijiHae),h(Z2,a.jijiWonjin),h(X2,a.jijiGwimun);for(const g of ip){if(!g.members.every(T=>c.includes(T)))continue;const w=[];for(let T=0;T<4;T++)g.members.includes(c[T])&&w.push(T);const _=w.includes(ii.year)&&w.includes(ii.hour),E=Tne(w);Kt(a.jijiSamhap,`#${E}_${g.name}${_?Nd:""}`)}for(const{pair:[g,x],label:w}of _4)Dne(g,x)&&f(g,x,w,a.jijiBanhap,!1);for(const{pair:[g,x],label:w}of J2)f(g,x,w,a.jijiHyeong);for(const{pair:[g,x],label:w}of Q2)f(g,x,w,a.jijiHyeong);for(const g of eA){const x=c.map((w,_)=>w===g?_:-1).filter(w=>w>=0);if(!(x.length<2))for(const[w,_]of jne(x)){const E=WM(w,_),T=`#${un[w]}X${un[_]}_${g}${E?Nd:""}`;VM(a.jijiHyeong,T,`${g}`)}}for(const{pair:[g,x],label:w}of tA)f(g,x,w,a.amhap);if(n)for(let g=0;g<4;g++){const x=i[g]??"";if(x.length<2)continue;const w=`${x[0]}${x[1]}`;Xy.has(w)&&Kt(a.ganjiAmhap,`#${w4(un[g])}_${w}`)}const p=S4(a);if(r)for(const g of Object.keys(p)){if(g==="title")continue;const x=p[g];Array.isArray(x)&&x.length===0&&(p[g]=["#"])}return p}function Rne(e,t){return e===ii.year&&t===ii.hour||e===ii.hour&&t===ii.year}function Lne(e,t){for(const n of ip)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Ine(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),c=Math.max(i,a),u=`${o}-${c}`;r.has(u)||(r.add(u),n.push([o,c]))}return n}function _l(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[De(e.natal[0]??""),De(e.natal[1]??""),De(e.natal[2]??""),De(e.natal[3]??"")],a=[De(e.daewoon??""),De(e.sewoon??""),De(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},c=r.map(p=>{const g=ji(p??"");return TE[g]??g});for(const{pair:[p,g],label:x}of _4){if(!Lne(p,g))continue;const w=[],_=[];for(let T=0;T<4;T++)c[T]===p&&w.push(T),c[T]===g&&_.push(T);const E=Ine(w,_);for(const[T,N]of E){const O=Rne(T,N),P=`#${un[T]}X${un[N]}_${x}${O?Nd:""}`;Kt(o.jijiBanhap,P)}}if(n&&a)for(let p=0;p<4;p++){const g=r[p]??"";if(g.length<2)continue;const x=`${g[0]}${g[1]}`;Xy.has(x)&&Kt(o.ganjiAmhap,`#${w4(un[p])}_${x}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,h=!1;for(const[p,g]of u){if(!g)continue;const x=De(g);if(!x||x.length<2)continue;const w=Zy(x),_=ji(x);{const T=`${w}${_}`;Xy.has(T)&&Kt(o.ganjiAmhap,`#${p}_${T}`)}for(let T=0;T<4;T++){const N=r[T]??"";if(N.length<2)continue;const O=un[T],P=Zy(N),M=ji(N),D=ni(G2,w,P);D&&Kt(o.cheonganHap,`#${p}X${O}_${D}`);const $=ni(q2,w,P);$&&Kt(o.cheonganChung,`#${p}X${O}_${$}`);const H=ni(Y2,_,M);H&&Kt(o.jijiYukhap,`#${p}X${O}_${H}`);const q=ni(K2,_,M);q&&Kt(o.jijiChung,`#${p}X${O}_${q}`);const K=ni(W2,_,M);K&&Kt(o.jijiPa,`#${p}X${O}_${K}`);const U=ni(V2,_,M);U&&Kt(o.jijiHae,`#${p}X${O}_${U}`);const z=ni(Z2,_,M);z&&Kt(o.jijiWonjin,`#${p}X${O}_${z}`);const V=ni(X2,_,M);V&&Kt(o.jijiGwimun,`#${p}X${O}_${V}`);const J=ni(J2,_,M);if(J)Kt(o.jijiHyeong,`#${p}X${O}_${J}`);else{const Y=ni(Q2,_,M);Y?Kt(o.jijiHyeong,`#${p}X${O}_${Y}`):_===M&&eA.has(_)&&Kt(o.jijiHyeong,`#${p}X${O}_${_}${M}`)}const Q=ni(tA,_,M);Q&&Kt(o.amhap,`#${p}X${O}_${Q}`)}for(const T of ip){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=c.map((P,M)=>({b:P,pos:un[M]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,M]=O.map(D=>D.pos).sort((D,$)=>un.indexOf(D)-un.indexOf($));Kt(o.jijiSamhap,`#${p}X${P}X${M}_(${T.name})`)}}for(const T of KM){if(!T.members.includes(_))continue;const N=T.members.filter(P=>P!==_),O=c.map((P,M)=>({b:P,pos:un[M]})).filter(P=>P.b&&N.includes(P.b));if(new Set(O.map(P=>P.b)).size===2){const[P,M]=O.map(D=>D.pos).sort((D,$)=>un.indexOf(D)-un.indexOf($));Kt(o.jijiHyeong,`#${p}X${P}X${M}_${T.name}`),T.name===""&&(f=!0),T.name===""&&(h=!0)}}const E=[...r.map((T,N)=>({b:TE[ji(T)]??ji(T),pos:un[N]}))];for(const T of x4){const N=E.filter(O=>T.members.includes(O.b));if(new Set(N.map(O=>O.b)).size===3){const O=N.map(P=>P.pos).join("X");Kt(o.jijiBanghap,`#${O}_(${T.name})`)}}}{const p=[],g=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[x,w]of g){const _=De(w??"");_.length>=2&&p.push({kind:x,b:ji(_)})}if(p.length>=2){const x=r.map((w,_)=>({pos:un[_],b:ji(w)}));for(const w of KM)for(let _=0;_<p.length;_++)for(let E=_+1;E<p.length;E++){const T=p[_],N=p[E];for(const O of x){const P=new Set([O.b,T.b,N.b]);if(P.size===3&&w.members.every(M=>P.has(M))){const M=[T.kind,N.kind].sort(($,H)=>YM.indexOf($)-YM.indexOf(H)).join("X"),D=`${O.pos}X${M}`;Kt(o.jijiHyeong,`#${D}_${w.name}`),w.name===""&&(f=!0),w.name===""&&(h=!0)}}}}}return(f||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||h&&/(||)/.test(p)))),S4($ne(o))}function $ne(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Bne={:"",:"",:"",:"",:""},ZM={:"",:"",:"",:"",:""},zne={:"",:"",:"",:"",:""},Une={:"",:"",:"",:"",:""},Fne={:.15,:.1,:-.15,:-.2,:-.25};function Hne(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function Gne(e){const t=e.includes(ii.month),n=Hne(ii.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function qne(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function Yne(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],o=a.map(h=>ji(h)).filter(Boolean),c=[],u={...t},f=(h,p)=>{const g=[];for(let T=0;T<a.length;T++){const N=ji(a[T]??"");p.members.includes(N)&&g.push(T)}if(!p.members.every(T=>o.includes(T)))return;const w=Gne(g),_=p.out,E=ZM[_];qne(u,E,_,w),c.push({type:h,name:p.name,out:p.out,strength:w})};if(i)for(const h of ip)f("",h);if(r)for(const h of x4)f("",h);return{applied:c,score:u,strengthAdj:Fne,shengNext:Bne,shengPrev:ZM,ke:zne,keInv:Une}}function Jy(e){return un[e]}function XM(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=De(e[r]??""),a=Zy(i),o=ji(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Mh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${Jy(i)}X${Jy(a)}_${e}`);return r}function Kne(e,t){const n=XM(e),r=XM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(c,u)=>{c.includes(u)||c.push(u)};for(const{pair:[c,u],label:f}of G2){const h=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const g of Mh(f,h,p))a(i.,g)}for(const{pair:[c,u],label:f}of q2){const h=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const g of Mh(f,h,p))a(i.,g)}const o=(c,u)=>{const f=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of f)for(const g of h){const x=ni(u,p,g);if(!x)continue;const w=n.branchPos.get(p)??[],_=r.branchPos.get(g)??[];for(const E of Mh(x,w,_))a(i[c],E)}};o("",Y2),o("",K2),o("",W2),o("",V2),o("",Z2),o("",X2),o("",J2),o("",Q2);for(const c of eA){const u=n.branchPos.get(c)??[],f=r.branchPos.get(c)??[];if(!(!u.length||!f.length))for(const h of Mh(`${c}`,u,f))a(i.,h)}for(const{label:c,pair:[u,f]}of tA){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!h.length||!p.length))for(const g of Mh(c,h,p))a(i.,g)}{const c=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of c)for(const h of u){const p=n.stemPos.get(f)??[],g=r.stemPos.get(h)??[];for(const x of p){const w=ji(De(e[x]??"")),_=`${f}${w}`;if(Xy.has(_))for(const E of g){const T=ji(De(t[E]??""));`${h}${T}`===_&&a(i.,`#${Jy(x)}X${Jy(E)}_${_}`)}}}}return i}const E4=new Set(Object.keys(Rn)),k4=new Set(Object.keys(Gn)),Wne=e=>e.slice(0,1),Vne=e=>e.slice(-1);function ss(e){return Rd.has(e)?e:E4.has(e)?Rn[e]??e:e}function vr(e){return hm.has(e)?e:k4.has(e)?Gn[e]??e:e}function mo(e){return ss(Wne(e))}function Ht(e){return vr(Vne(e))}function Zne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Rd.has(i)||E4.has(i))&&(n=ss(i)),(hm.has(i)||k4.has(i))&&(r=vr(i));return n&&r?{stem:n,branch:r}:null}function Xne(e){return e.map(Ht)}function b0(e,t,n="classic"){const r=mo(t),i=Ht(t),a=(n==="hgc"?sv:ov)[i]??[];return[r,...a].includes(e)}const OE=[["",""],["",""],["",""],["",""],["",""],["",""]],jE=[["",""],["",""],["",""],["",""],["",""],["",""]],Jne=new Set(["","","",""]),A4=[["",""],["",""]],Qne=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function lm(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function JM(e,t,n){const r=vr(t),i=vr(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Qy(e){for(const t of Qne)if(t.set.has(e))return t.voids;return null}function NE(e){const t=vr(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const zn={2:4,1:3,3:2,0:1},xd={1:4,2:3,0:2,3:1},Se={year:0,month:1,day:2,hour:3};function ere(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const Xc=e=>e===0?"":e===1?"":e===2?"":"",uf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",tre=(e,t)=>`#X${Xc(t)}_${e}`,Cd=(e,t,n)=>t===Se.month&&n===Se.day?`#X_${e}`:t===Se.year&&n===Se.month?`#X_${e}`:t===Se.year&&n===Se.day?`#X_${e}`:t===Se.month&&n===Se.hour?`#X_${e}`:t===Se.day&&n===Se.hour?`#X_${e}`:`#${Xc(t)}X${Xc(n)}_${e}`,v0=(e,t)=>`#${Xc(t)}_${e}`,T4=(e,t)=>`#X${Xc(t)}_${e}`,nre=(e,t)=>`#(${e==="day"?"":""})X${Xc(t)}_`,rd=e=>`#_${e}`,id=(e,t)=>`#X${uf(t)}_${e}`,Ph=(e,t)=>`#X${uf(t)}_${e}`,Vw=(e,t,n)=>`#${Xc(n)}X${uf(t)}_${e}`,rre=(e,t)=>`#(${t==="day"?"":""})_${uf(e)}_`,ire=(e,t)=>`#(${t==="day"?"":""})X${uf(e)}_`,QM=(e,t)=>`#X${uf(e)}_${t}`;function CE(e,t){const n=vr(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(Ht(t[i])===n)return{pos:i,weight:zn[i]??0};return null}function rA(e,t,n){return Ht(t[n])===vr(e)?{pos:n,weight:zn[n]}:null}function are(e,t){const n=ss(e),r=[Se.day,Se.month,Se.hour,Se.year];for(const i of r)if(mo(t[i])===n)return{pos:i,weight:zn[i]??0};return null}const ore=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),ln=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ss(t),ore(n)])),sre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),O4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),j4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),pre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),N4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eP=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xre=ln({:"",:"",:"",:""}),_re=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tP=ln({:"",:"",:""}),nP=ln({:"",:"",:""}),wre=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),C4=ln({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),M4=ln({:"",:"",:"",:"",:"",:"",:""}),Sre=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>vr(t.trim())).filter(Boolean),ba=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),_v=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),Sre(n)])),P4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},D4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},R4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},L4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ere=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rP=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kre=_v({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Are=_v({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tre=_v({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ore=_v({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jre=ba({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Nre=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cre=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mre=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pre=ba({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),I4=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dre=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rre=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lre=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ire=ba({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[vr(t),(Array.isArray(n)?n:[n]).map(r=>vr(r))])),$re=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ure=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),B4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),z4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),U4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qre=z4,eie=$4,tie=U4,nie=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rie=B4,iie=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aie=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),oie=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function ap(e,t){e.push(t)}function Zw(e,t,n,r,i=0){const a=xd[n]>=xd[r]?n:r;e.push({name:Cd(t,n,r),weight:zn[a]+i,pos:a})}function sie(e,t,n,r,i){const a=Ht(e[Se.year]),o=t[a];if(!o)return;const c=n==="MONTH"?[Se.month]:n==="DAY"?[Se.day]:n==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const h=rA(u,e,f);h&&ap(i,{name:Cd(r,Se.year,f),weight:h.weight,pos:f})}}function lie(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=ss(a),c=are(o,e);c&&ap(r,{name:T4(n,c.pos),weight:c.weight,pos:c.pos})}function iP(e,t,n,r,i="ALL"){const a=Ht(e[Se.month]),o=t[a];if(!o)return;const c=i==="YEAR"?[Se.year]:i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:i==="DAY_HOUR"?[Se.day,Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const h=rA(u,e,f);if(!h)continue;const p=f===Se.month?`#_${n}`:T4(n,f);ap(r,{name:p,weight:h.weight,pos:f})}}function aP(e,t,n,r){const i=Ht(e[Se.month]),a=t[i];if(!a)return;const o=e[Se.day];a.includes(o)&&ap(r,{name:Cd(n,Se.month,Se.day),weight:zn[Se.day],pos:Se.day})}function oP(e,t,n,r,i){const a=mo(e[Se.day]),o=t[a];if(!o)return;const c=i==="DAY"?[Se.day]:i==="HOUR"?[Se.hour]:[Se.year,Se.month,Se.day,Se.hour];for(const u of o)for(const f of c){const h=rA(u,e,f);h&&ap(r,{name:tre(n,f),weight:h.weight,pos:f})}}function cie({natal:e,daewoon:t,basis:n}){const r=mo(e[Se.day]),i=Ht(e[Se.day]),a=Ht(e[Se.month]),o=Ht(e[Se.year]),c=Xne(e),u=[],f=[],h=[[$re,"MONTH",""],[$4,"DAY",""],[zre,"MONTH",""],[Ure,"MONTH",""],[Fre,"ALL",""],[Hre,"HOUR",""],[Gre,"ALL",""],[qre,"ALL",""],[Yre,"ALL",""],[z4,"ALL",""],[Kre,"ALL",""],[Wre,"ALL",""],[Vre,"ALL",""],[Zre,"ALL",""],[Xre,"ALL",""],[Jre,"ALL",""],[U4,"ALL",""],[Qre,"ALL",""],[eie,"ALL",""],[tie,"ALL",""],[nie,"ALL",""],[rie,"ALL",""],[iie,"ALL",""],[aie,"ALL",""],[oie,"ALL",""]];for(const[P,M,D]of h)sie(e,P,M,D,f);const p=[[P4,""],[D4,""],[R4,""],[L4,""]];for(const[P,M]of p)lie(e,P,M,u);const g=[[Ere,"","ALL"],[rP,"","YEAR"],[rP,"","DAY"],[jre,"","ALL"],[Nre,"","ALL"],[Cre,"","ALL"],[Mre,"","ALL"],[Pre,"","ALL"]];for(const[P,M,D]of g)iP(e,P,M,f,D);const x=[[I4,"","ALL"],[Dre,"","DAY_HOUR"],[Rre,"","DAY_HOUR"],[Lre,"","ALL"],[Ire,"","ALL"]];for(const[P,M,D]of x)iP(e,P,M,u,D);const w=[[kre,""],[Ore,""]];for(const[P,M]of w)aP(e,P,M,u);const _=[[Are,""],[Tre,""]];for(const[P,M]of _)aP(e,P,M,f);const E=[[sre,"","ALL"],[O4,"","ALL"],[lre,"","ALL"],[cre,"","ALL"],[ure,"","ALL"],[dre,"","ALL"],[fre,"","ALL"],[j4,"","ALL"],[hre,"","ALL"],[mre,"","ALL"],[pre,"","ALL"],[gre,"","ALL"],[yre,"","ALL"],[wre,"","ALL"]];for(const[P,M,D]of E)oP(e,P,M,u,D);const T=[[N4,"","ALL"],[bre,"","ALL"],[vre,"","ALL"],[eP,"","DAY"],[eP,"","HOUR"],[tP,"","DAY"],[tP,"","HOUR"],[nP,"","DAY"],[nP,"","HOUR"],[xre,"","DAY"],[_re,"","ALL"],[C4,"","ALL"]];for(const[P,M,D]of T)oP(e,P,M,f,D);if(new Set(["","","",""]).has(e[Se.day])){f.push({name:rd(""),weight:zn[Se.day],pos:Se.day});for(const M of[Se.year,Se.month,Se.hour])e[M]===e[Se.day]&&f.push({name:v0("",M),weight:zn[M],pos:M})}{const P=M4[r];if(P)for(const M of[Se.year,Se.month,Se.day,Se.hour]){const D=mo(e[M]),$=Ht(e[M]);D===r&&P.includes($)&&f.push({name:v0("",M),weight:zn[M],pos:M})}}for(const[P,M]of A4){const D=CE(P,e),$=CE(M,e);D&&$&&Zw(f,"",D.pos,$.pos)}{const P=new Set(["",""]),M=new Set(["","","",""]);for(let D=0;D<=3;D++){const $=mo(e[D]),H=Ht(e[D]);(P.has($)||M.has(H))&&f.push({name:v0("",D),weight:zn[D],pos:D})}}{const P=e[Se.hour],M=($,H)=>$.includes(r)&&H.includes(P);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&f.push({name:rd(""),weight:zn[Se.hour],pos:Se.hour})}["","","",""].every(P=>c.includes(P))&&u.push({name:rd(""),weight:zn[Se.day],pos:Se.day});{const P=e[Se.day],M=e[Se.hour];(P===""&&M===""||P===""&&M==="")&&f.push({name:Cd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.year]),M=new Set(c.slice(1)),D=(H,q)=>H.every(K=>M.has(K))&&P===q;(D(["","",""],"")||D(["","",""],"")||D(["","",""],"")||D(["","",""],""))&&u.push({name:rd(""),weight:zn[Se.day],pos:Se.day})}(e[Se.day]===""||e[Se.day]==="")&&u.push({name:rd(""),weight:zn[Se.day],pos:Se.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some($=>Ht($)===M.rok)&&mo(e[Se.hour])===M.maStem&&u.push({name:Cd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}{const P=Ht(e[Se.hour]),D={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(D){const $=i===D.rok,H=P===D.ma,q=b0(D.rokStem,e[Se.day],"classic")||b0(D.rokStem,e[Se.hour],"classic"),K=b0(D.maStem,e[Se.day],"classic")||b0(D.maStem,e[Se.hour],"classic");$&&H&&(q||K)&&u.push({name:Cd("",Se.day,Se.hour),weight:zn[Se.hour],pos:Se.hour})}}{const P=new Set(["","","","","",""]),M=e.map(mo),D=e.map(Ht),$=M.concat(D).filter(U=>P.has(U)).length,H=t?mo(t):"",q=t?Ht(t):"",K=P.has(H)||P.has(q);($>=4||$===3&&K)&&f.push({name:rd(""),weight:zn[Se.day],pos:Se.day})}{const P=new Set(["",""]),M=new Set(["",""]);for(let D=0;D<=3;D++){const $=mo(e[D]),H=Ht(e[D]);(P.has($)||M.has(H))&&f.push({name:v0("",D),weight:zn[D],pos:D})}}{const P=[[Se.year,Se.month],[Se.year,Se.day],[Se.month,Se.day],[Se.month,Se.hour],[Se.day,Se.hour]];for(const[M,D]of P){const $=Ht(e[M]),H=Ht(e[D]);if(lm(OE,$,H)){const q=JM(OE,$,H);Zw(f,`${q}`,M,D)}}}{const P=[[Se.year,Se.month,0],[Se.month,Se.day,1],[Se.month,Se.hour,0],[Se.day,Se.hour,0]];for(const[M,D,$]of P){const H=Ht(e[M]),q=Ht(e[D]);if(lm(jE,H,q)){const K=JM(jE,H,q),U=($?1:0)+(Jne.has(H+q)?1:0);Zw(f,`${K}`,M,D,U)}}}const N=Qy(e[Se.day]),O=Qy(e[Se.year]);{const P=(n?.voidBasis??"day")==="day"?N:O;if(P){const[M,D]=P.map(vr);for(const $ of[Se.year,Se.month,Se.day,Se.hour]){const H=Ht(e[$]);(H===M||H===D)&&f.push({name:nre(n?.voidBasis??"day",$),weight:zn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:N,yearVoid:O,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c}}function x0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c,dayVoid:u,yearVoid:f,basis:h}){const p=[],g=[],x=(N,O)=>{N.includes(O)||N.push(O)},w=Zne(t??null);if(!w)return{good:p,bad:g};const _=w.branch,E=w.stem;ss(P4[a]??"")===E&&x(p,Ph("",e)),ss(D4[a]??"")===E&&x(p,Ph("",e)),ss(R4[a]??"")===E&&x(p,Ph("",e)),ss(L4[a]??"")===E&&x(p,Ph("",e)),I4[a]?.includes(_)&&x(p,Ph("",e)),O4[r]?.includes(_)&&x(p,id("",e)),j4[r]?.includes(_)&&x(p,id("",e)),N4[r]?.includes(_)&&x(g,id("",e)),C4[r]?.includes(_)&&x(g,id("",e)),M4[r]?.includes(_)&&x(g,id("",e)),e==="se"&&(Bre[o]?.includes(_)&&x(g,QM(e,"")),B4[o]?.includes(_)&&x(g,QM(e,"")));for(const N of c)if(lm(A4,_,N)){const O=CE(N,n)?.pos;O!==void 0&&x(g,Vw("",e,O));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(_)&&x(g,id("",e));const T=(h?.voidBasis??"day")==="day"?u:f;T&&(_===T[0]||_===T[1])&&x(g,rre(e,h?.voidBasis??"day"));for(let N=0;N<=3;N++){const O=Ht(n[N]);lm(OE,_,O)&&x(g,Vw("",e,N)),lm(jE,_,O)&&x(g,Vw("",e,N))}if(e==="se"){const N=(h?.samjaeBasis??"day")==="day"?i:o,O=N?NE(N):null;O&&O.includes(_)&&x(g,ire(e,h?.samjaeBasis??"day"))}return{good:p,bad:g}}const uie=/^#(|||)X\1_/,die=e=>uie.test(e);function sP(e){const t=new Map;for(const n of e){if(die(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function fie(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const hie=new Set(["",""]);function mie(e){return hie.has(e)?!0:e.endsWith("")||e.endsWith("")}function lP(e){const t=new Map;for(const r of e){const i=fie(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(mie(r))n.push(...i);else{const a=i.sort((o,c)=>xd[o.pos]!==xd[c.pos]?xd[c.pos]-xd[o.pos]:c.weight-o.weight)[0];n.push(a)}return n}function cP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=ere;for(const i of e)n[r(i.pos)].push(i.name);return n}function Ud({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:c,dayVoid:u,yearVoid:f,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:w}=cie({natal:e,daewoon:t,basis:a}),_=lP(sP(o)),E=lP(sP(c)),T=cP(_),N=cP(E),O=x0({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:w,dayVoid:u,yearVoid:f,basis:a}),P=x0({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:w,dayVoid:u,yearVoid:f,basis:a}),M=x0({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:w,dayVoid:u,yearVoid:f,basis:a}),D=x0({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:g,yBranch:x,branches:w,dayVoid:u,yearVoid:f,basis:a});return{good:{...T,dae:O.good,se:P.good,wolun:M.good,ilun:D.good},bad:{...N,dae:O.bad,se:P.bad,wolun:M.bad,ilun:D.bad},meta:{voidPair:{day:Qy(e[Se.day])??void 0,year:Qy(e[Se.year])??void 0},samjaeYears:{day:NE(Ht(e[Se.day]))??void 0,year:NE(Ht(e[Se.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function pie(e){return typeof e=="object"&&e!==null}function df(e){const t=m4;return pie(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const uP=["","","","","","","","","",""],gie=["","","","","","","","","","","",""],yie=["","","","","","","","","","","",""];function bie(e){const t=lv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function vie(e,t){const n=bie(e);return(t?yie:gie).map((i,a)=>`${uP[(n+a)%10]??uP[0]}${i}`)}function cm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function dP(e){return e<10?`0${e}`:`${e}`}function F4(e){return`${dP(e.getHours())}:${dP(e.getMinutes())}`}function iA(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function fP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||iA(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function xie(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":F4(i)}const hP=["","/",""],_ie="/";function H4(e,t){return e&&hP.includes(e)?e:t&&hP.includes(t)?t:_ie}function mP(e){return e===""}function wie(e){return e===""?"":""}function Sie(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Eie=e=>e instanceof Date&&!Number.isNaN(e.getTime());function pP(e,t){const n=iA(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Ui(r,i,a);r=O.getFullYear(),i=O.getMonth()+1,a=O.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),c=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,c,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=f?127.5:e.birthPlace.lon,p=Eie(e.corrected);let g;p?g=e.corrected:f?g=u:g=Qm(u,h,n);const x=t?new Date(g.getTime()-3600*1e3):g,w=H4(e.mingSikType),_=at(x,h),E=kt(x,h),T=gt(x,w),N=n?null:Ua(x,w);return{corrected:x,year:{stem:_.charAt(0),branch:_.charAt(1)},month:{stem:E.charAt(0),branch:E.charAt(1)},day:{stem:T.charAt(0),branch:T.charAt(1)},hour:N?{stem:N.charAt(0),branch:N.charAt(1)}:null}}const kie=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Aie=(()=>{const e={};for(const t of kie){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Tie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Oie(e,t){const n=`${lv(e)}${c2(t)}`;return Aie[n]??null}function jie(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function Nie(e){switch(Tie[c2(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Cie({stem:e,branch:t}){const n=Oie(e,t);if(!n)return null;const r=jie(n.elem);return v.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function gP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=qn(),o=Bi(e,t,a),c=ci(e,t,n),u=Fa(e,t),f=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return v.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:v.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:c})})}function G4({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,size:x="regular",highlightedStem:w=!1,highlightedBranch:_=!1}){const E=x==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",T=x==="compact"?"py-2":"p-2";return v.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[v.jsx("div",{className:`${E} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),v.jsx("div",{className:`${T} flex flex-col items-center gap-1`,children:t?v.jsxs(v.Fragment,{children:[a&&v.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:fa(n,{stem:t.stem})}),v.jsx(gP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:w}),v.jsx(gP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:_}),v.jsx(DB,{branch:t.branch,dayStem:n,mode:f,mapping:h}),(o||c||u)&&v.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&v.jsx("div",{children:p(t.branch)}),c&&v.jsx("div",{children:g(t.branch)}),u&&v.jsx(Cie,{stem:t.stem,branch:t.branch})]})]}):v.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Mie=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Pie({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,daeGz:x,seGz:w,wolGz:_,highlightMap:E={}}){const T=t?"regular":"compact",N=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",O="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",P=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${N}`:`grid gap-1 p-0 ${N}`;return v.jsxs("div",{className:O,children:[v.jsx("div",{className:P,children:v.jsx("b",{children:""})}),v.jsx("div",{className:"pb-2",children:v.jsx("div",{className:M,children:e.map(D=>{const $=Mie(D,x,w,_),H=E[D.key]??{stem:!1,branch:!1};return v.jsx(G4,{title:D.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,size:T,highlightedStem:H.stem,highlightedBranch:H.branch},D.key)})})})]})}function Die({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,highlightMap:x={}}){const w=t?"regular":"compact",_=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",E=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return v.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[v.jsx("div",{className:_,children:v.jsx("b",{children:""})}),v.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:v.jsx("div",{className:E,children:e.map(T=>{const N=x[T.key]??{stem:!1,branch:!1};return v.jsx(G4,{title:T.label,data:T.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:h,calcUnseong:p,calcShinsal:g,size:w,highlightedStem:N.stem,highlightedBranch:N.branch},T.key)})})})]})}function Rie({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return v.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),v.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),v.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),c=a.charAt(1),u=r?.stem===o&&r?.branch===c;return v.jsx("button",{onClick:()=>i(o,c),className:`p-2 text-xs rounded border cursor-pointer ${u?Nie(c):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Lie(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Dh={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function Iie(e){const t=Lie(e),n=Dh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Dh[r])return Dh[r]}else{const r=`${t}`;if(Dh[r])return Dh[r]}return{title:t||"",kind:"",oneLine:" "}}function $ie(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function co({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const c=ME(n,eb),u=ME(r,eb),f=i||c.length>0,h=i||u.length>0;return!i&&c.length===0&&u.length===0?null:v.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[v.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{children:[f&&v.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),v.jsx(yP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),v.jsxs("div",{children:[h&&v.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),v.jsx(yP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function yP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=ME(e,eb);return a.length===0?n?v.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:v.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,c)=>{const u=`${t}-${c}`;return v.jsx(Bie,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Bie({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Iie(e),o=a?$ie(a):"",c=eb(e),u=S.useRef(null),f=S.useRef(null),[h,p]=S.useState("center");return S.useLayoutEffect(()=>{if(!i)return;const g=f.current;if(!g)return;const x=g.getBoundingClientRect(),_=Math.min(300,window.innerWidth-16*2),E=x.left,T=window.innerWidth-x.right;T<_/2&&E>T?p("right"):E<_/2&&T>E?p("left"):p("center")},[i]),S.useLayoutEffect(()=>{if(!i)return;const g=x=>{const w=x.target;!u.current||w&&u.current.contains(w)||r(null)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[i,r]),v.jsxs("div",{ref:u,className:"relative",children:[v.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[10px] text-center desk:text-[11px] rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:c,children:c}),a&&i&&v.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:v.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function eb(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function ME(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function zie({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:c,etcShinsalGood:u,etcShinsalBad:f}){const[h,p]=S.useState(!0),[g,x]=S.useState(!0),[w,_]=S.useState(null);return v.jsxs(v.Fragment,{children:[o&&v.jsx("div",{className:"px-2 desk:px-0 py-2",children:v.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[v.jsxs("button",{type:"button",onClick:()=>p(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[v.jsx("span",{children:""}),v.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?v.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):v.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[v.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&v.jsx(uo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&v.jsx(uo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&v.jsx(uo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&v.jsx(uo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&v.jsx(uo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&v.jsx(uo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),v.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[v.jsx(uo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),v.jsx(uo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),v.jsx(uo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),v.jsx(uo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),c&&v.jsx("div",{className:"px-2 desk:px-0 py-2",children:v.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[v.jsxs("button",{type:"button",onClick:()=>x(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[v.jsx("span",{children:""}),v.jsx("span",{className:"text-[10px]",children:g?"":""})]}),g&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),bP(u)||bP(f)?v.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[v.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&v.jsx(co,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-wol"),t>=2&&v.jsx(co,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-se"),t>=1&&v.jsx(co,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-dae")]:[t>=1&&v.jsx(co,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-dae"),t>=2&&v.jsx(co,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-se"),t>=3&&v.jsx(co,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:w,setOpenTagKey:_},"luck-wol")]).filter(Boolean)}),v.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[v.jsx(co,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:w,setOpenTagKey:_}),v.jsx(co,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:w,setOpenTagKey:_}),v.jsx(co,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:w,setOpenTagKey:_}),v.jsx(co,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:w,setOpenTagKey:_})]})]}):v.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function uo({title:e,tags:t,activeTag:n,onToggle:r}){return v.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[v.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?v.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):v.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return v.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[10px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:Uie(i)},i)})})]})}function Uie(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function bP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function vP(e){return String(e).padStart(2,"0")}function Fie(e,t,n){if(!e||e.length<8)return fP(e,t);const r=fP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),c=Ui(i,a,o);return` ${`${c.getFullYear()}.${vP(c.getMonth()+1)}.${vP(c.getDate())}`} ( ${r})`}catch{return` ${r}`}}function Hie({data:e,hourTable:t}){const{date:n}=ui(),r=qn(Ne=>Ne.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,c=H4(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:h,solarD:p}=S.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),_e=Number(e.birthDay?.slice(4,6)??1),je=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Ie=Ui(Ne,_e,je);Ne=Ie.getFullYear(),_e=Ie.getMonth()+1,je=Ie.getDate()}return{solarY:Ne,solarM:_e,solarD:je}},[e.birthDay,e.calendarType]),[g,x]=S.useState(!1);S.useEffect(()=>{f&&h&&p&&x(Gy(f,h,p))},[f,h,p]);const w=iA(e.birthTime),[_,E]=S.useState(()=>pP(e,g));S.useEffect(()=>{E(pP(e,g))},[e,g]);const T=xie(e.correctedLocal,_.corrected,w),N=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,O=_.day.stem,[P,M]=S.useState(null),[D,$]=S.useState(()=>mP(e.mingSikType));S.useEffect(()=>{M(null),$(mP(e.mingSikType))},[N,e.mingSikType]),S.useEffect(()=>{pe(null)},[N]);const H=S.useMemo(()=>vie(O,D),[D,O]),q=P??_.hour,K=Vm(Ne=>Ne.setManualHour),U=(Ne,_e)=>{const je={stem:Ne,branch:_e};M(je),K(je)},z=wie(r.sinsalBase)===""?_.day.branch:_.year.branch,V=Ne=>r.showSibiUnseong?Oo(O,Ne):null,J=Ne=>r.showSibiSinsal?jo({baseBranch:z,targetBranch:Ne,era:df(r.sinsalMode),gaehwa:r.sinsalBloom}):null,Q=Ene(e,c),Y=nne({query:"(min-width: 992px)"}),X=r.hiddenStem==="regular"?"main":"all",re=Sie(r.exposure),ue=re===0?[]:Q.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=re),se=Gy(f,h,p),B=()=>x(Ne=>!Ne),W=H2(e,t,n),ae=W.dae.gz,Z=W.se.gz,oe=W.wol.gz,[me,pe]=S.useState(null),be=S.useMemo(()=>{const Ne=_e=>_e?.stem&&_e?.branch?`${_e.stem}${_e.branch}`:"";return _l({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:Z??void 0,wolwoon:oe??void 0})},[_,q,ae,Z,oe]),ne=S.useMemo(()=>{const Ne=[...be.cheonganHap,...be.cheonganChung,...be.jijiSamhap,...be.jijiBanhap,...be.jijiBanghap,...be.jijiYukhap,...be.jijiChung,...be.jijiHyeong,...be.jijiPa,...be.jijiHae,...be.amhap,...be.ganjiAmhap].filter(_e=>_e&&_e!=="#");return Array.from(new Set(Ne))},[be]),Oe=S.useMemo(()=>{const Ne=(je,Ie)=>{je.includes(Ie)||je.push(Ie)},_e={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const je of ne){const Ve=(je.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);Ve.includes("")&&Ne(_e.luck.wol,je),Ve.includes("")&&Ne(_e.luck.se,je),Ve.includes("")&&Ne(_e.luck.dae,je),Ve.includes("")&&Ne(_e.natal.hour,je),Ve.includes("")&&Ne(_e.natal.day,je),Ve.includes("")&&Ne(_e.natal.month,je),Ve.includes("")&&Ne(_e.natal.year,je)}return _e},[ne]),Ce=S.useMemo(()=>{const Ne=Ie=>Ie?.stem&&Ie?.branch?`${Ie.stem}${Ie.branch}`:"",_e=Ud({natal:[Ne(_.year),Ne(_.month),Ne(_.day),Ne(q)],daewoon:ae??void 0,sewoon:Z??void 0,wolwoon:oe??void 0}),je=Ie=>Array.from(new Set(Ie.filter(Ve=>Ve&&Ve!=="#")));return{good:{natal:{hour:je(_e.good.si??[]),day:je(_e.good.il??[]),month:je(_e.good.wol??[]),year:je(_e.good.yeon??[])},luck:{dae:je(_e.good.dae??[]),se:je(_e.good.se??[]),wol:je(_e.good.wolun??[])}},bad:{natal:{hour:je(_e.bad.si??[]),day:je(_e.bad.il??[]),month:je(_e.bad.wol??[]),year:je(_e.bad.yeon??[])},luck:{dae:je(_e.bad.dae??[]),se:je(_e.bad.se??[]),wol:je(_e.bad.wolun??[])}}}},[_,q,ae,Z,oe]),ve=S.useMemo(()=>{const Ne={},_e=(je,Ie)=>{for(const Ve of je)Ne[Ve]=Ie};return _e(be.cheonganHap,"stem"),_e(be.cheonganChung,"stem"),_e(be.jijiSamhap,"branch"),_e(be.jijiBanhap,"branch"),_e(be.jijiBanghap,"branch"),_e(be.jijiYukhap,"branch"),_e(be.jijiChung,"branch"),_e(be.jijiHyeong,"branch"),_e(be.jijiPa,"branch"),_e(be.jijiHae,"branch"),_e(be.amhap,"branch"),_e(be.ganjiAmhap,"both"),Ne},[be]),Ze=S.useMemo(()=>{if(!me)return{};const Ne=ve[me]??"branch",je=(me.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Ie={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},Ve={};for(const bt of je){const xt=Ie[bt];if(!xt)continue;const Pt=Ve[xt]??{stem:!1,branch:!1};Ne==="stem"?Pt.stem=!0:(Ne==="branch"||(Pt.stem=!0),Pt.branch=!0),Ve[xt]=Pt}return Ve},[me,ve]);return v.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[v.jsxs("div",{className:"mb-1 gap-2 p-2",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",v.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&v.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",g?"ON":"OFF"]})]}),v.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[Fie(e.birthDay,e.birthTime,e.calendarType)," : ",T]})]}),v.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",c," "]})]}),v.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ue.length===0?"grid-cols-1":ue.length===1?"grid-cols-[2fr_8fr]":ue.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ue.length>0&&v.jsx(Pie,{cards:ue,isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:X,hiddenStemMode:r.hiddenStemMode,calcUnseong:V,calcShinsal:J,daeGz:ae,seGz:Z,wolGz:oe,highlightMap:Ze}),v.jsx(Die,{isDesktop:Y,dayStem:O,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:X,hiddenStemMode:r.hiddenStemMode,calcUnseong:V,calcShinsal:J,highlightMap:Ze,pillars:[{key:"hour",label:"",data:q},{key:"day",label:"",data:_.day},{key:"month",label:"",data:_.month},{key:"year",label:"",data:_.year}]})]}),v.jsx(zie,{isDesktop:Y,exposureLevel:re,relationChips:ne,relationByPillar:Oe,activeRelationTag:me,onToggleRelationTag:pe,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),w&&v.jsx(Rie,{hourCandidates:H,useInsi:D,onToggleRule:()=>$(Ne=>!Ne),manualHour:P,onSelectHour:U})]})}function wv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const c=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=c&&a<u)return o}return 0}const Gie=!1,xP=e=>e<10?`0${e}`:`${e}`;function Sv(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of c){const h=t[f];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Ui(i,a,o,0,0),h=`${f.getFullYear()}${xP(f.getMonth()+1)}${xP(f.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function qie({data:e}){const t=su(e),n=S.useMemo(()=>{const M=Sv(e);return Tl(M)},[e]),r=S.useMemo(()=>{const M=e.mingSikType??"/";return gt(n,M).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=ui(),o=S.useMemo(()=>wv(t,i),[t,i]),c=qn(M=>M.settings),{charType:u,thinEum:f,showSipSin:h,showSibiUnseong:p,showSibiSinsal:g,sinsalBase:x,sinsalMode:w,sinsalBloom:_}=c,E=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,T=e.mingSikType??"/",N=x===""?gt(n,T).charAt(1):at(n,E).charAt(1),O=M=>p?Oo(r,M):null,P=M=>g?jo({baseBranch:N,targetBranch:M,era:df(w),gaehwa:!!_}):null;return v.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[v.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),v.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((M,D)=>{const $=M.gz.charAt(0),H=M.gz.charAt(1),q=Yie(n,M.at),K=D===o,U=ci($,"stem",u),z=ci(H,"branch",u),V=Fa($,"stem"),J=Fa(H,"branch"),Q=f&&V?"font-thin":"font-bold",Y=f&&J?"font-thin":"font-bold",X=O(H),re=P(H);return v.jsxs("div",{onClick:()=>a(M,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${K?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.gz}  ${M.at.toLocaleDateString()}`,children:[v.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),v.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[h&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(r,{stem:$})}),v.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi($,"stem",c)}`,children:v.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:U})}),v.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(H,"branch",c)}`,children:v.jsx("span",{className:`text-[20px] md:text-xl ${Y}`,children:z})}),h&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(r,{branch:H})}),(p||g)&&v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&v.jsx("div",{children:X}),g&&v.jsx("div",{children:re})]})]})]},`${M.gz}-${D}`)})})]})}function Yie(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Ev(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function Xw(e){return new Date(e,6,2,12,0,0,0)}function Kie(e,t){return t-e+1}function Wie({data:e,list:t,onSelect:n}){const r=qn($=>$.settings),{date:i,setFromEvent:a}=ui(),[o,c]=S.useState(()=>t);S.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const u=Tl(e),f=S.useMemo(()=>Ev(e,u),[e,u]),h=S.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,g=S.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),H=Xw($),q=at(H,p);return[{at:H,gz:q}]},[i,p]),x=t.length>0?t:o.length>0?o:g,w=S.useMemo(()=>[...x].sort(($,H)=>$.at.getTime()-H.at.getTime()),[x]),_=S.useMemo(()=>{if(w.length===0)return 0;const $=wv(w,i);return $<0?0:$>=w.length?w.length-1:$},[w,i]),[E,T]=S.useState(null);S.useEffect(()=>{T(null)},[i,w]);const N=E??_,O=S.useMemo(()=>{const $=Sv(e);return Tl($)},[e]),P=e.mingSikType??"/",M=S.useMemo(()=>gt(O,P).charAt(0),[O,P]),D=S.useMemo(()=>r.sinsalBase===""?gt(f,P).charAt(1):at(f,p).charAt(1),[f,P,p,r.sinsalBase]);return v.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[v.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),v.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map(($,H)=>{const q=$.at.getFullYear(),K=Xw(q),U=at(K,p),z=U.charAt(0),V=U.charAt(1),J=H===N,Q=ci(z,"stem",r.charType),Y=ci(V,"branch",r.charType),X=Fa(z,"stem"),re=Fa(V,"branch"),ue=r.thinEum&&X?"font-thin":"font-bold",se=r.thinEum&&re?"font-thin":"font-bold",B=r.showSibiUnseong?Oo(M,V):null,W=r.showSibiSinsal?jo({baseBranch:D,targetBranch:V,era:df(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=Kie(h,q);return v.jsxs("div",{onClick:()=>{if(H===0){T(H);return}T(H);const Z=Xw(q),oe=at(Z,p);a({at:Z,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(q)):Promise.resolve().then(()=>n(q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${J?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${U}  ${$.at.toLocaleDateString()}  ${ae}`,children:[v.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),v.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:q}),v.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(M,{stem:z})}),v.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Bi(z,"stem",r)}`,children:v.jsx("span",{className:`text-[20px] md:text-xl ${ue}`,children:Q})}),v.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Bi(V,"branch",r)}`,children:v.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:Y})}),r.showSipSin&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(M,{branch:V})}),(r.showSibiUnseong||r.showSibiSinsal)&&v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&v.jsx("div",{children:B}),r.showSibiSinsal&&W&&v.jsx("div",{children:W})]})]})]},`${q}-${$.gz||H}`)})})]})}const Vie=new Set(["","","","","","","","","","","",""]);function Zie(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...da(new Date(n-1,5,15,12,0))??[],...da(new Date(n,5,15,12,0))??[],...da(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>Vie.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],c=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:o,next:c}}const Xie=new Set(["","","","","","","","","","","",""]);function Jie(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Qie(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function Jw(e){return new Date(e,5,15,12,0,0,0)}function eae(e){const n=[...da(Jw(e-1))??[],...da(Jw(e))??[],...da(Jw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,u)=>c.date.getTime()-u.date.getTime()).filter(c=>Xie.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const o=[];for(let c=0;c<12;c++){const u=n[a+c];if(!u)break;const f=new Date(u.date),h=Jie(f);o.push({name:u.name,termAt:f,at00:h})}return o}function tae({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=qn(E=>E.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=Tl(e),c=S.useMemo(()=>Ev(e,o),[e,o]),u=S.useMemo(()=>{const E=Sv(e);return Tl(E)},[e]),f=e.mingSikType??"/",h=S.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(c,f).charAt(1):at(c,a).charAt(1),g=S.useMemo(()=>t?eae(t).map(T=>{const N=T.termAt,O=new Date(T.termAt.getTime()+1860*1e3),P=kt(O,a);return{at:N,gz:P,term:T.name,termAt:T.termAt}}):[],[t,a]),{date:x,setFromEvent:w}=ui(),_=wv(g,x);return v.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[v.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),v.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:g.map((E,T)=>{const N=E.gz.charAt(0),O=E.gz.charAt(1),P=`${Qie(E.at)}`,M=T===_,D=ci(N,"stem",i.charType),$=ci(O,"branch",i.charType),H=Fa(N,"stem"),q=Fa(O,"branch"),K=i.thinEum&&H?"font-thin":"font-bold",U=i.thinEum&&q?"font-thin":"font-bold",z=i.showSibiUnseong?Oo(h,O):null,V=i.showSibiSinsal?jo({baseBranch:p,targetBranch:O,era:df(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return v.jsxs("div",{onClick:()=>{r(E.at);const J=new Date(E.at),{start:Q}=Zie(J);n?.(Q.getFullYear(),Q.getMonth()),w({at:J,gz:kt(J,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${M?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${E.term}   ${E.gz}  ${E.termAt.toLocaleString()}`,children:[v.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:P}),v.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(h,{stem:N})}),v.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(N,"stem",i)}`,children:v.jsx("span",{className:`text-base md:text-xl ${K}`,children:D})}),v.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Bi(O,"branch",i)}`,children:v.jsx("span",{className:`text-base md:text-xl ${U}`,children:$})}),i.showSipSin&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:fa(h,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&z&&v.jsx("div",{children:z}),i.showSibiSinsal&&V&&v.jsx("div",{children:V})]}),v.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:E.term})]})]},`${E.term}-${E.at.toISOString()}`)})})]})}function nae(){const e=qn(r=>r.settings),{date:t,setFromEvent:n}=ui();return{settings:e,pickedDate:t,setFromEvent:n}}const rae=(e,t)=>new Date(e,t,15,12,0,0,0),PE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},iae=new Set(["","","","","","","","","","","",""]),q4=e=>[...da(new Date(e-1,5,15,12,0))??[],...da(new Date(e,5,15,12,0))??[],...da(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),aae=e=>{const t=q4(e.getFullYear()),n=t.filter(o=>iae.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),c=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(c.date),end:new Date(u.date),cur:c,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},oae=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function sae({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",c=S.useMemo(()=>{const H=Sv(e);return Tl(H)},[e]),u=S.useMemo(()=>c?gt(c,o).charAt(0):void 0,[c,o]),f=S.useMemo(()=>e?Tl(e):null,[e]),h=S.useMemo(()=>e&&f?Ev(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,g=e&&h?i.sinsalBase===""?gt(h,o).charAt(1):at(h,p).charAt(1):null,x=S.useMemo(()=>rae(t,n),[t,n]),w=S.useMemo(()=>a?PE(new Date(a)):null,[a]),_=S.useMemo(()=>r?PE(r):null,[r]),E=S.useMemo(()=>w??_??x,[w,_,x]),{start:T,end:N,cur:O,next:P}=S.useMemo(()=>aae(E),[E]),M=S.useMemo(()=>{const H=[],q=new Date(T);for(;q<N;)H.push(new Date(q)),q.setDate(q.getDate()+1);return H},[T,N]),D=S.useMemo(()=>{const H=q4(E.getFullYear()),q=H.filter(U=>U.date>=T&&U.date<N),K=H.find(U=>U.date>=N);return K?[...q,K]:q},[E,T,N]),$=S.useMemo(()=>{const H=[];let q=[];const K=new Date(T).getDay();for(let U=0;U<K;U+=1)q.push(null);for(const U of M)q.length===7&&(H.push(q),q=[]),q.push(U);for(;q.length<7;)q.push(null);return H.push(q),H},[M,T]);return{rule:o,dayStem:u,baseBranch:g,pickerNoon:w,termMarks:D,weeks:$,cur:O??null,next:P??null}}function lae({setFromEvent:e}){return{handleDayClick:S.useCallback(n=>{e({at:n},"")},[e])}}function cae({data:e,year:t,month:n,selectedMonth:r}){const i=nae(),a=sae({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=lae({setFromEvent:i.setFromEvent});return v.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[v.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:v.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?v.jsxs(v.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&v.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((c,u)=>v.jsxs("span",{children:[c.name," ",oae(c.date),u<a.termMarks.length-1?"  ":""]},`${c.name}_${c.date.getTime()}_${u}`)),"]"]})]})}),v.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(c=>v.jsx("div",{className:"py-1",children:c},c))}),v.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((c,u)=>c.map((f,h)=>{if(!f)return v.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${h}`);const p=PE(f),g=new Date,x=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate(),_=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&x,E=tY(p,a.rule),T=E.charAt(0),N=E.charAt(1),O=ci(T,"stem",i.settings.charType),P=ci(N,"branch",i.settings.charType),M=i.settings.thinEum&&Fa(T,"stem")?"font-thin":"font-bold",D=i.settings.thinEum&&Fa(N,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,H=!!a.dayStem&&i.settings.showSibiUnseong,q=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,K=$?fa(a.dayStem,{stem:T}):"",U=$?fa(a.dayStem,{branch:N}):"",z=H?Oo(a.dayStem,N):"",V=q?jo({baseBranch:a.baseBranch,targetBranch:N,era:df(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",J=a.termMarks.find(Q=>Q.date.getFullYear()===p.getFullYear()&&Q.date.getMonth()===p.getMonth()&&Q.date.getDate()===p.getDate());return v.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${_?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${E} (${p.toLocaleDateString()})`,children:[v.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[v.jsx("span",{children:p.getDate()}),J&&v.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),$&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),v.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Bi(T,"stem",i.settings)}`,children:v.jsx("span",{className:M,children:O})}),v.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Bi(N,"branch",i.settings)}`,children:v.jsx("span",{className:D,children:P})}),$&&v.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:U}),(H||q)&&v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[H&&z&&v.jsx("div",{children:z}),q&&V&&v.jsx("div",{children:V})]})]},f.toISOString())}))})]})}function _P(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Un(a,315);let c=a;new Date<o&&(c=a-1);const f=at(new Date(c,1,10));i.push({at:o,gz:f})}return i}function uae({data:e}){const t=su(e),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState("il"),[u,f]=S.useState(null);S.useEffect(()=>{if(!t.length)return;const w=new Date,_=t.findIndex((E,T)=>{const N=t[T+1]?.at;return w>=E.at&&(!N||w<N)});_!==-1&&r(_)},[t]),S.useEffect(()=>{if(n===null)return;const w=t[n],_=t[n+1];if(!w)return;const E=_P(w,_),T=new Date;E.findIndex((O,P)=>{const M=E[P+1]?.at;return T>=O.at&&(!M||T<M)})!==-1&&a({year:T.getFullYear(),month:T.getMonth()})},[n,t]);const h=H2(e),{date:p}=ui(),g=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),x=S.useMemo(()=>{if(!h?.dae?.gz)return[];const w=t.findIndex((T,N)=>{const O=t[N+1]?.at;return h.dae.at>=T.at&&(!O||h.dae.at<O)});if(w===-1)return[];const _=t[w],E=t[w+1];return _P(_,E)},[t,h?.dae]);return v.jsxs("div",{className:"w-full space-y-4",children:[v.jsx(qie,{data:e}),o==="se"||o==="wol"||o==="il"?v.jsx(Wie,{data:e,list:x,onSelect:()=>{c("wol")}}):null,o==="wol"||o==="il"?v.jsx(tae,{data:e,activeYear:g,onSelect:(w,_)=>{a({year:w,month:_}),c("il")},onSelectMonth:f}):null,o==="il"&&i&&v.jsx(cae,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const dae=new Set(Hq),fae=new Set(Gq);function wP(e){return typeof e=="string"&&e.length>=2&&dae.has(e[0])&&fae.has(e[1])}function Ai(e,...t){if(wP(e))return e;for(const n of t)if(wP(n))return n;return""}const hae={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function _0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function mae({data:e}){const t=qn(K=>K.settings),{manualHour:n}=Vm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:c}=t,{date:u}=ui(),f=S.useMemo(()=>tp(e),[e]),h=S.useMemo(()=>xv(f),[f]),p=S.useMemo(()=>F2(f,"/"),[f]),g=S.useMemo(()=>lv(p.day?.charAt(0)??""),[p.day]),x=!e.birthTime||e.birthTime==="",w=S.useMemo(()=>g4(h,p.hour,e.dir??"forward",120,"/"),[h,p.hour,e.dir]),_=S.useMemo(()=>b4(w,p.day,e.dir??"forward",""),[w,p.day,e.dir]),E=S.useMemo(()=>rp(h,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[h,p.month,e.dir,f.birthPlace?.lon]),T=S.useMemo(()=>v4(E,p.year,e.dir??"forward","",h),[E,p.year,e.dir,h]),N=S.useMemo(()=>{const K=w?.events?.[0];return K?{at:K.at,from:Ai(p.hour),to:Ai(K.gz)}:null},[w?.events,p.hour]),O=S.useMemo(()=>{const K=E?.events?.[0];return E?.firstChange?{at:E.firstChange,from:Ai(p.month),to:Ai(K?.gz??p.month)}:null},[E?.firstChange,E?.events,p.month]),P=S.useMemo(()=>{const K=x?n?n.stem+n.branch:"":Ai(_0(w.events,u)?.gz,p.hour);let U;if(x&&n){const z=u.getFullYear(),V=u.getMonth(),J=u.getDate(),Q=hae[n.branch]??0,Y=new Date(z,V,J,Q,0),X=gt(Y,e.mingSikType??"/");U=Ai(X,p.day)}else U=Ai(_0(_.events,u)?.gz,p.day);return{si:K,il:U,wl:Ai(_0(E.events,u)?.gz,p.month),yn:Ai(_0(T.events,u)?.gz,p.year)}},[u,w.events,_.events,E.events,T.events,p,x,n,e.mingSikType]),M=S.useMemo(()=>({si:Ai(Ua(u,"/")),il:Ai(gt(u,"/")),wl:Ai(kt(u)),yn:Ai(at(u))}),[u]),D=S.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=S.useMemo(()=>df(o),[o]),H=K=>{if(!K)return{unseong:"",shinsal:""};const U=ci(g,"stem",""),z=ci(K.charAt(1),"branch",""),V=ci(D,"branch","");return{unseong:r&&Oo(U,z)||"",shinsal:i&&jo({baseBranch:V,targetBranch:z,era:$,gaehwa:!!c})||""}},q=(K,U,z="myoun")=>{const V=U,{unseong:J,shinsal:Q}=U?H(U):{unseong:"",shinsal:""},Y=z==="myoun"&&x&&(K===""||K==="");return v.jsx(gd,{label:K,gz:V,dayStem:g,settings:t,unseongText:U?J:"",shinsalText:U?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:Y},`${z}-${K}`)};return v.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[v.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:v.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",v.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",cm(h),")"]})]})}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),v.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",P.si,"myoun"),q("",P.il,"myoun"),q("",P.wl,"myoun"),q("",P.yn,"myoun")]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),v.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[q("",M.si,"live"),q("",M.il,"live"),q("",M.wl,"live"),q("",M.yn,"live")]})]})]}),v.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[v.jsx("div",{className:"font-semibold",children:"  "}),v.jsxs("div",{children:[":"," ",N?`${cm(N.at)} (${N.from}  ${N.to})`:" "]}),v.jsxs("div",{children:[":"," ",O?`${cm(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const SP=["","","","","","","","","",""],pae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},gae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},yae={:"",:"",:"",:"",:""},bae={:"",:"",:"",:"",:""},vae={:"",:"",:"",:"",:""},xae={:"",:"",:"",:"",:""};function _ae(e,t){switch(e){case"":return t;case"":return yae[t];case"":return vae[t];case"":return xae[t];case"":return bae[t];default:return t}}function wae({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const c=i,u=a,f=c/2,h=u/2,p=Math.min(c,u)*.37,g=S.useMemo(()=>{const O=(r??"").charAt(0);return gae[O]??null},[r]),x=O=>Math.PI/2+2*-Math.PI*O/5,w=S.useMemo(()=>e.map((O,P)=>({...O,x:f+p*Math.cos(x(P)),y:h-p*Math.sin(x(P))})),[e,f,h,p]),[_,E]=S.useState(0),T=S.useRef(""),N=S.useMemo(()=>{const O=e.map(D=>`${D.name}:${D.value}`).join(","),P=SP.map(D=>`${D}:${t?.[D]??0}`).join(","),M=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",O,P,M,r??""].join("||")},[o,e,t,r,n]);return S.useEffect(()=>{N!==T.current&&(T.current=N,E(O=>O+1))},[N]),v.jsx("div",{className:"w-full",children:v.jsxs("svg",{width:c,height:u,className:"mx-auto pt-2",children:[w.map((O,P)=>{const M=w[(P+2)%5];return v.jsx("line",{x1:O.x,y1:O.y,x2:M.x,y2:M.y,stroke:"#94a3b8",strokeWidth:1},`line-${P}`)}),w.map((O,P)=>{const M=w[(P+1)%5],D=(O.x+M.x)/2,$=(O.y+M.y)/2,H=D-f,q=$-h,K=1.5,U=f+H*K,z=h+q*K;return v.jsx("path",{d:`M${O.x},${O.y} Q${U},${z} ${M.x},${M.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${P}`)}),v.jsx("defs",{children:v.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:v.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),w.map(O=>{const P=O.name,M=g?_ae(P,g):null,D=M?SP.filter($=>pae[$]===M).map($=>[$,t?.[$]??0]):[];return v.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[v.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),v.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),D.map(([$,H],q)=>v.jsxs("text",{textAnchor:"middle",dy:8+q*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(H)]},$))]},`${O.name}-${O.value}`)})]},_)})}const Sae=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function aA(e){return Math.max(0,Math.min(100,e))}function Y4(e){const t=aA(e);return Sae.find(r=>t>=r.min&&t<r.max)?.name??""}const Eae=[10,20,35,45,55,65,80];function kae({value:e}){const t=S.useMemo(()=>aA(e),[e]),n=S.useMemo(()=>Y4(t),[t]);return v.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[v.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[v.jsx("span",{children:""}),v.jsx("span",{children:""}),v.jsx("span",{children:""})]}),v.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Eae.map(r=>v.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),v.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),v.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),v.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Rh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function na({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],u=o?c.filter(p=>p!=="#"):c,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return v.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[v.jsx("div",{className:h,children:e}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,g)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Rh(p,"natal"),children:p},`natal-${g}`)),n.map((p,g)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Rh(p,"dae"),children:p},`dae-${g}`)),r.map((p,g)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Rh(p,"se"),children:p},`se-${g}`)),i.map((p,g)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Rh(p,"wol"),children:p},`wol-${g}`)),a.map((p,g)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Rh(p,"il"),children:p},`il-${g}`))]})]})}function DE(e){return Array.isArray(e)?e:[]}function w0(e,t){const n=new Set(DE(e));return DE(t).filter(i=>!n.has(i))}function Aae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=nA(e),c=_l({natal:e}),u=t?_l({natal:e,daewoon:t}):c,f=n?_l({natal:e,daewoon:t,sewoon:n}):u,h=r?_l({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?_l({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,g=_=>({natal:DE(o[_]),dae:w0(c[_],u[_]),se:w0(u[_],f[_]),wol:w0(f[_],h[_]),il:w0(h[_],p[_])}),x={cheonganHap:g("cheonganHap"),cheonganChung:g("cheonganChung"),jijiSamhap:g("jijiSamhap"),jijiBanhap:g("jijiBanhap"),jijiBanghap:g("jijiBanghap"),jijiYukhap:g("jijiYukhap"),amhap:g("amhap"),ganjiAmhap:g("ganjiAmhap"),jijiChung:g("jijiChung"),jijiHyeong:g("jijiHyeong"),jijiPa:g("jijiPa"),jijiHae:g("jijiHae")},w=_=>a===""?{natal:_.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:[],wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:[],il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:[]}:a===""?{natal:_.natal,dae:_.dae,se:_.se,wol:_.wol,il:_.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return v.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[v.jsx("div",{className:"text-base font-bold mb-1",children:""}),v.jsx(na,{label:"",...w(x.cheonganHap)}),v.jsx(na,{label:"",...w(x.cheonganChung)}),v.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),v.jsx(na,{label:"",...w(x.jijiSamhap)}),v.jsx(na,{label:"",...w(x.jijiBanhap)}),v.jsx(na,{label:"",...w(x.jijiBanghap)}),v.jsx(na,{label:"",...w(x.jijiYukhap)}),v.jsx(na,{label:"",...w(x.amhap)}),v.jsx(na,{label:"",...w(x.ganjiAmhap)}),v.jsx(na,{label:"",...w(x.jijiChung)}),v.jsx(na,{label:"",...w(x.jijiHyeong)}),v.jsx(na,{label:"",...w(x.jijiPa)}),v.jsx(na,{label:"",...w(x.jijiHae)})]})}function Tae(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Oae({items:e,source:t}){const n=e.length>0?e:["#"];return v.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Tae(r,t),children:r},`${t}-${i}-${r}`))})}function EP({title:e,rows:t}){return v.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[v.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return v.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[v.jsx("div",{className:i,children:n.label}),v.jsx(Oae,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function jae({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=qn(),[c,u]=S.useState(""),[f,h]=S.useState("");S.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=S.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),g=S.useMemo(()=>Ud({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:x,bad:w,meta:_}=g,E=K=>K.map(U=>U==="#"?U:` ${U}`),T=(K,U)=>{const z=["natal"];return U===""&&z.push("natal"),U===""&&z.push("natal","dae"),U===""&&z.push("natal","dae","se"),U===""&&z.push("natal","dae","se","wol"),U===""&&z.push("natal","dae","se","wol","il"),K.filter(V=>z.includes(V.source))},N=[{label:"",items:E(x.si),source:"natal"},{label:"",items:E(x.il),source:"natal"},{label:"",items:E(x.wol),source:"natal"},{label:"",items:E(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],O=[{label:"",items:E(w.si),source:"natal"},{label:"",items:E(w.il),source:"natal"},{label:"",items:E(w.wol),source:"natal"},{label:"",items:E(w.yeon),source:"natal"},{label:"",items:w.dae,source:"dae"},{label:"",items:w.se,source:"se"},{label:"",items:w.wolun,source:"wol"},{label:"",items:w.ilun,source:"il"}],P=T(N,a),M=T(O,a),D=_.voidPair.day?`(${_.voidPair.day.join("")})`:"()",$=_.voidPair.year?`(${_.voidPair.year.join("")})`:"()",H=_.samjaeYears.day?`(${_.samjaeYears.day.join("")})`:"()",q=_.samjaeYears.year?`(${_.samjaeYears.year.join("")})`:"()";return v.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[v.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),v.jsxs("select",{value:c,onChange:K=>u(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[v.jsx("option",{value:"",children:D}),v.jsx("option",{value:"",children:$})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),v.jsxs("select",{value:f,onChange:K=>h(K.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[v.jsx("option",{value:"",children:H}),v.jsx("option",{value:"",children:q})]})]})]}),v.jsxs("div",{className:"desk:flex",children:[v.jsx(EP,{title:"()",rows:P}),v.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),v.jsx(EP,{title:"()",rows:M})]})]})}const oa={year:0,month:1,day:2,hour:3},K4={[oa.year]:.3,[oa.month]:.5,[oa.day]:.3,[oa.hour]:.3},W4={[oa.year]:.15,[oa.month]:.2,[oa.day]:0,[oa.hour]:.15},Nae=e=>hm.has(e)?e:Gn[e]??e,Cae=e=>Rd.has(e)?e:Rn[e]??e,Mae=e=>typeof e=="string"&&e.length>=2?Nae(e.slice(-1)):"",Pae=e=>typeof e=="string"&&e.length>=1?Cae(e.slice(0,1)):"",bn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Dae={:bn(2,0,.5,2),:bn(2,0,0,2),:bn(2,0,0,2),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,2,1,2),:bn(0,2,2,.5),:bn(0,2,2,0),:bn(0,2,2,1),:bn(2,0,0,2),:bn(2,0,0,2),:bn(2,0,1,1)},Rae={:bn(0,1,1,0),:bn(0,1,1,0),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,0,1,0),:bn(0,0,0,1),:bn(1,0,0,1),:bn(1,0,0,1),:bn(2,0,0,2),:bn(2,0,0,2)},kP=e=>Math.max(0,Math.min(100,e));function AP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Lae(e){let t=0,n=0,r=0,i=0;return[oa.year,oa.month,oa.day,oa.hour].forEach(a=>{const o=Dae[Mae(e[a])],c=Rae[Pae(e[a])],u=K4[a],f=W4[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function Iae(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function $ae(e){const t=Iae(e);return S.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Lae(t),o=AP(n,r),c=AP(a,i);return{hanNanPct:kP(o),joSeupPct:kP(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:K4,stem:W4}}},[t])}function TP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=S.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return v.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[v.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[v.jsx("span",{children:n}),v.jsx("span",{children:r}),v.jsx("span",{children:i})]}),v.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(c=>v.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),v.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),v.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),v.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Bae({natal:e}){const{hanNanPct:t,joSeupPct:n}=$ae(e);return v.jsxs("div",{className:"flex gap-2",children:[v.jsx(TP,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),v.jsx(TP,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Rr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Da={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tb={:"",:"",:"",:"",:""},V4={:"",:"",:"",:"",:""},km={:"",:"",:"",:"",:""},Z4={:"",:"",:"",:"",:""},Uae={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},Fae={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function oA(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function X4(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function sA(e){return e==="hgc"?Fae:Uae}const Hae={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},Qw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},J4={:"",:"",:"",:"",:""},Q4={:"",:"",:"",:""},Gae=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],qae=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Yae={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Ye=(e,t)=>`${e}${t}`,Oi=(e,t,n)=>`${e}${t}${n}`,Kae={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},OP={[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:["",""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""],[Ye("","")]:[""]},jP={[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:[""],[Oi("","","")]:["",""]},Wae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function sa(e){return["","","","",""].includes(e)}function Vae(e){return["","","","","",""].includes(e)}const e1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,ia=e=>e&&e.length>=1?e.charAt(0):"",Sn=e=>e&&e.length>=2?e.charAt(1):"",Zae=e=>Array.from(new Set(e));function Xae(e,t){const n=Hae[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function Jae(e){return Rr[e]??""}function Ra(e,t){const n=Rr[e],r=Rr[t];if(!n||!r)return"";let i;r===n?i="":r===tb[n]?i="":r===km[n]?i="":r===Z4[n]?i="":r===V4[n]?i="":i="";const a=sa(e)===sa(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Qae(e,t){const n=Rr[e],r=Da[t];if(!n||!r)return"";let i;r===n?i="":r===tb[n]?i="":r===km[n]?i="":r===Z4[n]?i="":r===V4[n]?i="":i="";const a=Vae(t)===sa(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function eoe(e){return{:"",:"",:"",:"",:""}[e]??""}function RE(e,t){const n=Jae(e),r=sa(e);let i;t===n?i="":tb[n]===t?i="":tb[t]===n?i="":km[n]===t?i="":km[t]===n?i="":i="";const a=r===sa(eoe(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const toe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},noe=e=>/^(|||||||||)$/.test(e);function roe(e){return e?noe(e)?e:toe[e]??"":""}function S0(e){return roe(ia(e))}function ioe(e){return e?.charAt(0)??""}function aoe(e){return e?.charAt(1)??""}function ooe(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),c=fe=>(fe?.length??0)>=1?fe.charAt(0):"",u=fe=>(fe?.length??0)>=2?fe.charAt(1):"",f=[r,i,a,o].map(c).filter(Boolean),h=new Set(Object.keys(Da)),p=[r,i,a,o].map(u).filter(fe=>!!fe&&h.has(fe)),g=c(a),x=Yae[g]??!1,w=new Set,_=t==="classic"?ov:sv,E=new Set(["","","","","","","","","",""]),T=fe=>(_[fe]??[]).filter(Me=>E.has(Me)),N=(fe,Me)=>{const Be=Da[Me];return Be?RE(fe,Be):null},O={:0,:0,:0,:0,:0};for(const fe of f){const Me=Rr[fe];Me&&(O[Me]+=10)}const P=[];for(const fe of p){const Me=zae[fe];Me&&P.push(Me);const Be=Da[fe];Be&&(O[Be]+=6)}const D=[...f,...P].map(fe=>Ra(g,fe)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},H=fe=>D.filter(Me=>Me===fe).length,q=fe=>D.filter(Me=>$[fe].includes(Me)).length,K=p[1],U=!!g&&Wae[g]===K,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&w.add("");const V=[r,i,a,o].filter(Boolean),J=[];for(const fe of V){const Me=fe.charAt(0),Be=fe.charAt(1);J.push(Ra(g,Me)),J.push(N(g,Be))}const Q=(fe,Me)=>{const Be=(lt,jt)=>!!lt&&!!jt&&fe.includes(lt)&&Me.includes(jt)||Me.includes(lt)&&fe.includes(jt);for(let lt=0;lt+1<J.length;lt+=2)if(Be(J[lt],J[lt+1]))return!0;return!1},Y=fe=>J.some(Me=>!!Me&&fe.includes(Me)),X=H("")+H(""),re=H(""),ue=q(""),se=q(""),B=Q(["",""],["",""]);if((re>=1||X>=2)&&ue>=1&&X>ue&&se<=1&&B&&w.add(""),Y($.)&&Y($.)&&Q($.,$.)){const fe=D.includes("");w.add(fe?"":"")}q("")>=2&&q("")>=2&&Math.abs(q("")-q(""))<=1&&q("")<=1&&q("")<=1&&w.add("");const W=H(""),ae=H(""),Z=H("")+H(""),oe=H("")+H(""),me=q("");ae>=2&&Z>=1&&O.+O.>=20&&w.add(""),ae>=2&&oe>=1&&O.+O.>=20&&w.add(""),ae>=2&&oe>=1&&O.+O.>=20&&Q([""],["",""])&&me<=1&&w.add(""),W>=2&&oe>=1&&O.+O.>=20&&Q([""],["",""])&&me<=1&&w.add("");const pe=(fe,Me)=>{const Be=Rr[fe],lt=Da[Me];return!!Be&&!!lt&&Be===lt},be=[r,i,a,o].filter(Boolean),ne=u(a),Oe=pe(g,ne),Ce=be.map(fe=>fe.charAt(0)).filter(fe=>["",""].includes(Ra(g,fe)));let ve=!1;for(const fe of be){const Me=fe.charAt(0),Be=fe.charAt(1);if(Ce.includes(Me)&&pe(Me,Be)){ve=!0;break}}Oe&&ve&&w.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&w.add(""),q("")>=3&&q("")>=.5*(q("")+q("")+q("")+q(""))&&w.add(""),q("")>=3&&q("")>=1&&w.add(""),q("")>=3&&q("")+q("")<=1&&w.add("");const Ze=H("");q("")+q("")>=2&&Ze===1&&q("")>=1&&w.add(""),Ze>=2&&Z+q("")>=3&&w.add("");const Ne=W+ae;(W>=2||Ne>=2)&&oe>=1&&Ne>oe&&w.add(""),ae>=2&&oe>=1&&Ne>oe&&w.add("");const _e=H(""),je=H("");_e>=2&&Ze+je>=1&&w.add(""),_e>=2&&Ze+je===0&&w.add(""),x&&_e>=2&&Ze>=1&&w.add(""),!x&&_e>=2&&Ze>=1&&w.add(""),H("")>=2&&H("")>=1&&w.add(""),H("")>=1&&H("")>=1&&Q([""],[""])&&w.add(""),U&&Ze>=1&&q("")+q("")>=2&&w.add("");const Ie=[u(r),u(i),u(a),u(o)].filter(Boolean),Ve=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),bt=new Set(Ve.map(fe=>Ra(g,fe))),xt=new Set(Ie.flatMap(fe=>{const Me=Da[fe];return Me?[RE(g,Me)]:[]})),Pt=new Set(Ie.flatMap(fe=>T(fe).map(Me=>Ra(g,Me))));return["","","","",""].forEach(fe=>{const Me=$[fe],Be=Me.some(yt=>bt.has(yt)),lt=Me.some(yt=>xt.has(yt)),jt=Me.some(yt=>Pt.has(yt));!Be&&!lt&&!jt?w.add(`${fe}`):!Be&&!lt&&jt&&w.add(`${fe}`)}),Array.from(w)}const soe=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=ia(n),i=Sn(n),a=Rr[r],o=Da[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function loe(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,c,u]=(t??[]).slice(0,4),f=[ia(a),ia(o),ia(c),ia(u)].filter(Boolean),h=[Sn(a),Sn(o),Sn(c),Sn(u)].filter(Boolean),p=Rr[n],g=f.map(fe=>Ra(n,fe)),x=[],w=fe=>f.filter(Me=>Me===fe).length,_=fe=>h.filter(Me=>Me===fe).length,E=fe=>fe.every(Me=>h.includes(Me)),T=fe=>g.some(Me=>fe.includes(Me)),N=ia(o),O=fe=>sa(fe),P=()=>{const fe=f.map(Me=>Rr[Me]);return fe.length===4&&fe.every(Me=>Me===fe[0])},M=()=>{if(f.length!==4)return!1;const fe=f.map(O),Me=fe[0]&&!fe[1]&&fe[2]&&!fe[3],Be=!fe[0]&&fe[1]&&!fe[2]&&fe[3];return Me||Be};sa(n)&&J4[n]===r&&x.push("");const D=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[fe,Me]of D)if(n===fe&&r===Me){x.push("");break}!sa(n)&&Q4[n]===r&&x.push("");const $=Qw[n];$&&Sn(c)===$&&p===Da[Sn(c)]&&x.push(""),$&&Sn(u)===$&&p===Da[Sn(u)]&&x.push("");const H=[a,o,c,u].map(ioe),q=[a,o,c,u].map(aoe);for(const fe of H);for(const fe of q);const K=i==="hgc"?sv:ov;function U(fe){return(K[fe]??[]).filter(Me=>["","","","","","","","","",""].includes(Me))}const z=[a,o,c,u].filter(Boolean),J=z.flatMap(fe=>[fe.charAt(0),fe.charAt(1)]).flatMap(fe=>{try{if(["","","","","","","","","",""].includes(fe))return[Ra(n,fe)];if(["","","","","","","","","","","",""].includes(fe)){const Me=Qae(n,fe),Be=U(fe).map(lt=>Ra(n,lt));return[Me,...Be]}return[]}catch{return[]}}),Q=fe=>J.some(Me=>fe.includes(Me)),Y=(fe,Me)=>{const Be=[],lt=[];for(const yt of z){const Zn=yt.charAt(0),mi=yt.charAt(1);Be.push(Ra(n,Zn));const pi=Da[mi];pi?lt.push(RE(n,pi)):lt.push(null)}const jt=(yt,Zn)=>!!yt&&!!Zn&&(fe.includes(yt)&&Me.includes(Zn)||Me.includes(yt)&&fe.includes(Zn));for(let yt=0;yt<Be.length;yt++)if(jt(Be[yt],lt[yt]))return!0;for(let yt=0;yt<Be.length-1;yt++)if(jt(Be[yt],Be[yt+1])||jt(lt[yt],lt[yt+1]))return!0;return!1},X={:["",""],:["",""],:["",""],:["",""]};Q([...X.])&&Q([...X.])&&Y([...X.],[...X.])&&x.push(""),Q([...X.])&&Q([...X.])&&Y([...X.],[...X.])&&x.push("");const re=fe=>g.filter(Me=>fe.includes(Me)).length,ue=re(["",""]),se=re([""]),B=re([""]),W=re(["",""]),ae=re(["",""]),Z=re(["",""]);se>=1&&ue>=1&&ue>=se&&B<=se&&x.push("");const oe=re([""]);oe>=1&&W>=1&&oe>=W&&x.push(""),g.includes("")&&W>=1&&x.push("");const pe=soe(t),be=Object.entries(pe).sort((fe,Me)=>Me[1]-fe[1]),ne=be[0];if(ne&&ne[1]>=60&&x.push(`(${ne[0]})`),be.length>=2){const[fe,Me]=be[0],[,Be]=be[1];Me>=75&&Me-Be>=12&&p!==fe&&x.push(`(${fe})`)}for(const fe of Gae){const Me=f.includes(fe.a),Be=f.includes(fe.b);if(!Me||!Be)continue;const lt=fe.to,jt=pe[lt]??0,yt=Rr[fe.a],Zn=Rr[fe.b],mi=Math.max(pe[yt]??0,pe[Zn]??0),pi=Da[r]===lt,Ms=Object.entries(pe).sort((hn,gi)=>gi[1]-hn[1])[0]?.[0]===lt;let qt=!1;jt>=60&&(pi||Ms)&&mi<=20&&jt-mi>=20&&(x.push(`(${lt})`),qt=!0),!qt&&jt>=50&&(pi||Ms)&&mi<=25&&(x.push(`(${lt})`),qt=!0),!qt&&jt>=35&&x.push(`(${lt})`)}const Oe=`${ia(u)}${Sn(u)}`;["",""].includes(n)&&["","",""].includes(Oe)&&x.push(""),["","","",""].includes(Sn(u))&&x.push(""),["",""].includes(n)&&(Sn(c)===""||Sn(o)==="")&&!h.includes("")&&x.push("");const Ce=f.some(fe=>fe===""||fe===""),ve=h.some(fe=>fe===""||fe==="");["",""].includes(Sn(c))&&!Ce&&!ve&&x.push(""),["","",""].every(fe=>f.includes(fe))&&x.push(""),["","",""].every(fe=>f.includes(fe))&&x.push(""),["","",""].every(fe=>f.includes(fe))&&x.push("");const Ze=Object.values(pe).sort((fe,Me)=>Me-fe);Ze.length>=3&&Ze[0]-Ze[2]<=8&&Ze[0]+Ze[1]+Ze[2]>=80&&x.push(""),ae>=1&&Z>=1&&Math.abs(ae-Z)<=1&&x.push(""),E(["","","",""])&&x.push(""),E(["","","",""])&&x.push(""),E(["","","",""])&&x.push(""),h.length===4&&h.every(fe=>fe===h[0])&&x.push(""),f.length===4&&P()&&M()&&x.push(""),t.every(fe=>fe&&fe===t[0])&&x.push(""),f.length===4&&f.every(fe=>fe===f[0])&&h.length===4&&h.every(fe=>fe===h[0])&&x.push(""),ue>=1&&(Sn(c)===Qw[n]||Sn(u)===Qw[n])&&x.push(""),w("")>=3&&E(["","",""])&&["","",""].includes(Sn(c))&&x.push("");const _e=n===""||n==="",je=[["","",""],["","",""]],Ie=[["","",""],["","",""]];_e&&(je.some(fe=>E(fe))||Ie.some(fe=>E(fe)))&&x.push("");const Ve=new Set(["","","","","",""]),bt=`${ia(c)}${Sn(c)}`;if(Ve.has(bt)&&_("")>=2&&(T(["",""])||h.includes("")||h.includes("")||T(["",""])||x.push("")),new Set(["","","","","",""]).has(bt)&&_("")>=2&&h.includes("")&&x.push(""),n===""&&`${ia(u)}${Sn(u)}`==""){const fe=Ra(n,N);!["","","",""].includes(fe)&&T(["",""])&&!h.includes("")&&!h.includes("")&&x.push("")}return new Set(["","",""]).has(bt)&&`${ia(u)}${Sn(u)}`==""&&!h.includes("")&&!T(["",""])&&x.push(""),bt===""&&_("")+_("")>=2&&x.push(""),(bt===""||bt==="")&&_("")>=2&&!T(["",""])&&!h.includes("")&&x.push(""),n===""&&E(["","",""])&&x.push(""),bt===""&&`${ia(u)}${Sn(u)}`==""&&x.push(""),Zae(x)}function coe(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function uoe(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const NP=1e3*60*60*24;function E0(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function doe(e){let t=da(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=da(r)}return t}function foe(e){const t=Kae[e];return Array.isArray(t)&&t.length>0?t[0]:null}function hoe(e,t){const n=foe(e);if(!n)return null;const r=doe(t),i=r.findIndex(f=>f.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const c=Math.floor((E0(t)-E0(a))/NP)+1,u=o?Math.max(1,Math.floor((E0(o)-E0(a))/NP)):30;return{dayIdx:c<1?1:c,spanDays:u}}function moe(e){return(e.?.w??0)+(e.?.w??0)+e..w}function poe(e,t,n){const r=Math.max(1,moe(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,c=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+c?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function e7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:c,mapping:u}=e,f=[],h=X4(u),p=sA(h);if(!oA(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const g=p[n];if(!g)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const x={:g.?{stem:e1(g..stem),w:g..w}:void 0,:g.?{stem:e1(g..stem),w:g..w}:void 0,:{stem:e1(g..stem),w:g..w}},w=x..stem;let _=w;const E=hoe(n,r);if(["","","",""].includes(n)&&Xae(n,o)&&x.)_=x..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(E){const z=poe(x,E.dayIdx,E.spanDays);_=z.stem,f.push({kind:"BUNIL_PICK",from:z.from})}else _=w,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function T(z,V){if(!z)return!1;if(V.includes(z))return!0;const J=Rr[z];return J?V.some(Q=>Rr[Q]===J):!1}let N="";_&&T(_,a)&&!c?.(_)?(N=_,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):_&&c?.(_)&&f.push({kind:"NEUTRALIZED"});const O=N||w;let P="";const M=Rr[O];if(M){const z=Object.entries(km).find(([,V])=>V===M)?.[0]??null;z&&(P=Object.entries(Rr).find(([J,Q])=>Q===z&&sa(J)===sa(O))?.[0]??"")}let D="-";const $=Ra(t,O),H=qae.some(([z,V])=>z===t&&V===n),q=sa(t)&&J4[t]===n,K=!sa(t)&&Q4[t]===n;$===""||$===""?H?(D="",f.push({kind:"EX_GEONLOK"})):q?(D="",f.push({kind:"EX_YANGIN"})):K?(D="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):D=uoe($);const U=loe({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:w,:_,:N||"-",:O||"-",:P||"-",:D,:U,reason:coe(f),reasonTokens:f}}function goe(e){const[t,n,r,i]=e,a=S0(i),o=S0(r),c=S0(n),u=S0(t),f=[],h=[[a,o],[o,c],[c,u]];for(const[g,x]of h){if(!g||!x)continue;const w=Ye(g,x),_=OP[w];_?.length&&f.push(..._);const E=Ye(x,g);if(E!==w){const T=OP[E];T?.length&&f.push(...T)}}const p=[[a,o,c],[o,c,u]];for(const[g,x,w]of p){if(!g||!x||!w)continue;const _=Oi(g,x,w),E=jP[_];E?.length&&f.push(...E);const T=Oi(w,x,g);if(T!==_){const N=jP[T];N?.length&&f.push(...N)}}return Array.from(new Set(f))}const yoe=["","","","",""];function boe(e){return yoe.includes(e)}function voe(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Lh(e,t){if(!t)return e;const n=(boe(t),t);return`${e}(${n})`}const xoe={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},_oe={:e=>({title:Lh("",e),short:"     ."}),:e=>({title:Lh("",e),short:"   ."}),:e=>({title:Lh("",e),short:"   ."}),:e=>({title:Lh("",e),short:"    ."}),:e=>({title:Lh("",e),short:"    ."})};function woe(e){const{base:t,inner:n}=voe(e);return t===""||t===""||t===""||t===""||t===""?_oe[t](n):xoe[t]}function Soe(e){const t=woe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Eoe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),CP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function koe(e){if(Eoe(CP,e))return CP[e]}const MP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Aoe={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Toe(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Ooe(e,t){return e===""?{title:`${t}`,short:`${MP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${MP[t]}()     .`,hint:" X /  O"}}function joe(e){const t=Toe(e);return t?Ooe(t.kind,t.group):Aoe[e]}function Noe(e){const t=joe(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Coe={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Moe(e){return Coe[e]?.text}const Poe=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Doe={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Roe={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Loe=e=>e.replace(/^\s*:\s*/,"").trim();function Ioe(e){const t=Loe(e);return Roe[t]}function $oe(e){const t=Doe[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Poe(e.from)})`}:t}function Boe(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:c,unified:u}=e,[f,h,p,g]=t,x=Z=>Z&&Z.length>=1?Z.charAt(0):"",w=Z=>Z&&Z.length>=2?Z.charAt(1):"",_=w(h),E=x(p),T=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,N=[x(f),x(h),x(p),x(g)].filter(Z=>!!(Z&&Z.length===1)),O=[w(f),w(p),w(g)].filter(Z=>!!(Z&&Z.length===1)),P=e7({dayStem:E,monthBranch:_,date:T,pillars:t,emittedStems:i??N,otherBranches:a??O,isNeutralized:o,mapping:c}),M=P.reasonTokens??[],D=P.reason??[],$=[` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`],H=[` : ${P.||"-"}`],q=Array.isArray(P.)&&P..length>0?P..map(Z=>` : ${Z}`):[" : -"],K=goe(t),U=[...K.length?K.map(Z=>`${Z}`):[]],V=[...ooe(t,c,u)],J=({text:Z,color:oe})=>{const me={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return v.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${me[oe]}`,title:Z,children:Z})},Q=({children:Z})=>v.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:Z}),[Y,X]=S.useState(null),re=({text:Z})=>{const oe=Z.replace(/^\s*:\s*/,"").trim(),me=S.useMemo(()=>Soe(oe),[oe]),pe=`outer:${oe}`,be=Y===pe;return me?v.jsxs("span",{className:"relative inline-flex",children:[v.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:v.jsx(J,{text:Z,color:"blue"})}),be&&v.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):v.jsx(J,{text:Z,color:"blue"})},ue=({text:Z})=>{const oe=Z.trim(),me=S.useMemo(()=>koe(oe),[oe]),pe=`mulsang:${oe}`,be=Y===pe;return me?v.jsxs("span",{className:"relative inline-flex",children:[v.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:v.jsx(J,{text:Z,color:"green"})}),be&&v.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):v.jsx(J,{text:Z,color:"green"})},se=({text:Z})=>{const oe=Z.trim(),me=S.useMemo(()=>Noe(oe),[oe]),pe=`structure:${oe}`,be=Y===pe;return me?v.jsxs("span",{className:"relative inline-flex",children:[v.jsx("button",{type:"button",onClick:()=>X(be?null:pe),className:"inline-flex cursor-pointer",title:me,children:v.jsx(J,{text:Z,color:"red"})}),be&&v.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:me})]}):v.jsx(J,{text:Z,color:"red"})},B=({text:Z,color:oe})=>{const me=Z.trim(),pe=me.split(":")[0]?.trim()??me,be=S.useMemo(()=>Moe(pe),[pe]),ne=`term:${pe}`,Oe=Y===ne;return be?v.jsxs("span",{className:"relative inline-flex",children:[v.jsx("button",{type:"button",onClick:()=>X(Oe?null:ne),className:"inline-flex cursor-pointer",title:be,children:v.jsx(J,{text:Z,color:oe})}),Oe&&v.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:be})]}):v.jsx(J,{text:Z,color:oe})},W=({text:Z})=>{const oe=S.useMemo(()=>Ioe(Z),[Z]),me=`naegyeok:${Z}`,pe=Y===me;return oe?v.jsxs("span",{className:"relative inline-flex",children:[v.jsx("button",{type:"button",onClick:()=>X(pe?null:me),className:"inline-flex cursor-pointer",title:oe.text,children:v.jsx(J,{text:Z,color:"amber"})}),pe&&v.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):v.jsx(J,{text:Z,color:"amber"})},ae=({token:Z,fallback:oe,idx:me})=>{const pe=$oe(Z),be=pe?.title??oe,ne=pe?.text??oe,Oe=`reason:${Z.kind}:${"from"in Z?Z.from:""}:${me}`,Ce=Y===Oe;return v.jsxs("span",{className:"relative inline-flex",children:[v.jsx("button",{type:"button",onClick:()=>X(Ce?null:Oe),className:"inline-flex cursor-pointer",title:ne,children:v.jsx(J,{text:be,color:"amber"})}),Ce&&v.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ne})]})};return v.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${H.join(",")}|${q.join(",")}`,children:[v.jsx("div",{className:"font-bold text-base",children:"   "}),v.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),v.jsxs("ul",{className:"space-y-1",children:[v.jsx(Q,{children:$.map(Z=>v.jsx(B,{text:Z,color:"violet"},Z))}),v.jsx(Q,{children:H.map(Z=>v.jsx(W,{text:Z},Z))}),v.jsx(Q,{children:q.map(Z=>v.jsx(re,{text:Z},Z))}),v.jsx(Q,{children:U.map(Z=>v.jsx(ue,{text:Z},Z))}),v.jsx(Q,{children:V.map(Z=>v.jsx(se,{text:Z},Z))})]}),M.length>0?v.jsxs("div",{className:"mt-2",children:[v.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),v.jsx("div",{className:"mt-1",children:v.jsx(Q,{children:M.map((Z,oe)=>v.jsx(ae,{token:Z,fallback:D[oe]??Z.kind,idx:oe},`${Z.kind}-${oe}`))})})]}):P.reason.length>0?v.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",P.reason.join(" / ")]}):null]})}const zoe=Object.fromEntries(Ya..map((e,t)=>[e,$r[t]])),Uoe=Object.fromEntries($r.map((e,t)=>[e,Ya.[t]])),Foe=Object.fromEntries(Ya..map((e,t)=>[e,li[t]])),Hoe=Object.fromEntries(li.map((e,t)=>[e,Ya.[t]])),Goe=e=>zoe[e]??e,qoe=e=>Foe[e]??e,Yoe=e=>Uoe[e]??e,Koe=e=>Hoe[e]??e;function Woe(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Goe(n):Yoe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function lA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?qoe(n):Koe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const Voe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zoe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},t7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},Xoe={...t7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},PP=Woe(Voe),DP=lA(Zoe);lA(t7);lA(Xoe);const Joe=["","","","",""];function Qoe(){const[e,t]=S.useState("   "),[n,r]=S.useState(""),[i,a]=S.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const ese={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},tse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function n7(e){const t=tse[e]??"";return ese[t]}const nse=Object.fromEntries(Ya..map((e,t)=>[e,$r[t]])),rse=Object.fromEntries($r.map((e,t)=>[e,Ya.[t]])),ise=Object.fromEntries(Ya..map((e,t)=>[e,li[t]])),ase=Object.fromEntries(li.map((e,t)=>[e,Ya.[t]])),ose=e=>nse[e]??e,sse=e=>ise[e]??e,lse=e=>rse[e]??e,cse=e=>ase[e]??e;function r7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${ose(r)}${sse(i)}`:`${lse(r)}${cse(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const i7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},use={...i7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},dse=r7(i7),fse=r7(use),hse={:"",:"",:"",:"",:""},mse={:"",:"",:"",:"",:""},pse={:"",:"",:"",:"",:""},gse={:"",:"",:"",:"",:""},yse=e=>Rn[e]??e,bse=e=>Gn[e]??e;function a7(e){return!e||e.length<2?"":`${yse(e[0])}${bse(e[1])}`}const o7=e=>e&&e.length>=1?e[0]:"",s7=e=>e&&e.length>=2?e[1]:"";function l7(e){return{:e,:hse[e],:mse[e],:pse[e],:gse[e]}}const c7={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function vse(e,t){const n=(e??[]).slice(0,4).map(a7);if(n.length!==4||n.some(g=>g.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=o7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(g=>s7(g)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=c7[r]??[],u=a[1];c.includes(u)&&(o..=!0,o..=!0);const f=a[2];c.includes(f)&&(o..=!0,o..=!0);const h=l7(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function u7(e,t){const n=(e??[]).slice(0,4).map(a7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const w={:!1,:!1,:!1};return{flags:{:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w},:{...w}},monthBranch:"",dayEl:""}}const r=o7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(w=>s7(w)),o={:!1,:!1,:!1},c={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=c7[r]??[],f=a[1];u.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const h=a[2];u.includes(h)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=l7(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const xse=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),_se=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),wse=e=>Rn[e]??e,Sse=e=>Gn[e]??e;function Ese(e){return!e||e.length<2?"":`${wse(e[0])}${Sse(e[1])}`}function Ac(e){return PP[e]??PP[xse[e]??""]}function Tc(e){return DP[e]??DP[_se[e]??""]}const t1=["year","month","day","hour"],kse={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Ase={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Tse=new Set(["","","","",""]),Ose=new Set(["","","","","",""]),jse=new Set(["","","",""]),n1=e=>Tse.has(e)?"":"",r1=e=>{const t=Ose.has(e)?"":"";return jse.has(e)?t===""?"":"":t};function RP(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,u)=>c+u,0);if(i===0)return r;const a=n.map((c,u)=>({i:u,frac:c-Math.floor(c+.5)})).sort((c,u)=>u.frac-c.frac),o=r.slice();if(i>0)for(let c=0;c<i;c++)o[a[c].i]+=1;else for(let c=0;c<-i;c++)o[a[a.length-1-c].i]-=1;return o}function Nse(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const k0={:.15,:.1,:-.15,:-.2,:-.25},ps={:"",:"",:"",:"",:""},Jc={:"",:"",:"",:"",:""},wo={:"",:"",:"",:"",:""},kv={:"",:"",:"",:"",:""};function A0(e,t){return e===t?"":ps[t]===e?"":ps[e]===t?"":wo[e]===t?"":wo[t]===e?"":""}const Oc=e=>e&&e.length>=1?e[0]:"",jc=e=>e&&e.length>=2?e[1]:"";function Cse(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),c=i.slice();for(let u=0;u<o.length&&a>0;u++)c[o[u].i]+=1,a-=1;return c}function LP(e,t){switch(e){case"":return t;case"":return ps[t];case"":return wo[t];case"":return kv[t];case"":return Jc[t];default:return t}}const IP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mse=["","","","",""],Pse={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},$P={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Dse={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Rse(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Lse(e){const t=Mse.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...$P},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Pse},PerTenGodSub:{...$P},elementScoreRaw:e,deukFlags:{...Dse},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Ise(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function LE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:c}=e,u=o==="modern"?kse:Ase,f=r==="classic"?fse:dse,h={:0,:0,:0,:0,:0},p={},g=(t??[]).slice(0,4).map(Ese);if(!Rse(g))return Lse(h);const{dayStem:x,dayEl:w}=Ise(g,n),_=[{val:0},{val:0},{val:0},{val:0}],E=[[],[],[],[]];for(const B of g){if(!B)continue;const W=B.charAt(0),ae=B.charAt(1);p[W]=(p[W]??0)+50;const Z=IP[ae];Z&&(p[Z]=(p[Z]??0)+50)}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=t1[B],Z=Oc(W),oe=jc(W),me=u[ae],pe=Ac(Z);pe&&(h[pe]+=me.stem,_[B]={stem:Z,el:pe,pol:n1(Z),val:me.stem});const be=Tc(oe);be&&(h[be]+=me.branch,E[B].push({el:be,pol:r1(oe),val:me.branch}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=t1[B],Z=f[W]??0;if(Z===0)continue;const oe=Oc(W),me=Ac(oe);if(!me)continue;const pe=u[ae].stem*Z;h[me]+=pe,_[B].val+=pe}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),Z=Tc(ae);if(!Z)continue;const oe=u[t1[B]].branch,me=r1(ae);let pe=0;const be=[B];B-1>=0&&be.push(B-1),B+1<=3&&be.push(B+1),B-2>=0&&be.push(B-2),B+2<=3&&be.push(B+2);const ne=Array.from(new Set(be));for(const Oe of ne){if(!g[Oe]||g[Oe].length<2)continue;const Ce=Oc(g[Oe]),ve=Ac(Ce);if(!ve||ve!==Z)continue;const Ze=n1(Ce)===me,Ne=Math.abs(Oe-B),_e=Nse(Ne,Ze);pe+=oe*_e}pe!==0&&(h[Z]+=pe,E[B].push({el:Z,pol:me,val:pe}))}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=Oc(W),Z=Ac(ae);if(!Z)continue;let oe=0;const me=jc(g[B]),pe=Tc(me);pe&&(oe+=k0[A0(Z,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){const Ce=Oc(g[Oe]),ve=Ac(Ce);ve&&(oe+=k0[A0(Z,ve)])}const ne=_[B].val;if(ne!==0&&oe!==0){const Oe=Math.round(ne*(1+oe)*10)/10,Ce=Oe-ne;h[Z]+=Ce,_[B].val=Oe}}for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),Z=Tc(ae);if(!Z)continue;let oe=0;const me=Oc(g[B]),pe=Ac(me);pe&&(oe+=k0[A0(Z,pe)]);const be=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Oe of be){if(!g[Oe]||g[Oe].length<2)continue;const Ce=jc(g[Oe]),ve=Tc(Ce);ve&&(oe+=k0[A0(Z,ve)])}const ne=E[B].reduce((Oe,Ce)=>Oe+Ce.val,0);if(ne!==0&&oe!==0){const Ce=Math.round(ne*(1+oe)*10)/10-ne;h[Z]+=Ce,E[B].length>0&&(E[B][0].val+=Ce)}}a&&Yne(g,h);const T={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},N=[];if(!(!c||c.tab==="")){let B=function(W,ae){const Z=W?De(W):"";if(!Z||Z.length<2)return;const oe=Oc(Z),me=jc(Z),pe=Ac(oe),be=Tc(me),ne=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Oe=T[ae];if(pe){const Ce=Math.round(ne*Oe.stem);h[pe]+=Ce,N.push({stem:oe,el:pe,pol:n1(oe),val:Ce})}if(be){const Ce=Math.round(ne*Oe.branch);h[be]+=Ce,N.push({el:be,pol:r1(me),val:Ce})}};B(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&B(c.se,"se"),(c.tab===""||c.tab==="")&&B(c.wol,"wol"),c.tab===""&&B(c.il,"il")}const O={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,W])=>{const ae=q(B,w);O[ae]+=W});const P=["","","","",""],M=RP(P.map(B=>O[B])),D=n7(x),$=P.map((B,W)=>({name:B,value:M[W],color:D[B]})),H={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function q(B,W){return B===W?"":ps[W]===B?"":wo[W]===B?"":wo[B]===W?"":Jc[W]===B?"":""}function K(B,W){switch(q(B,w)){case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break;case"":H.+=W*.5,H.+=W*.5;break}}Object.entries(h).forEach(([B,W])=>{W>0&&K(B,W)});const U={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of P){const W=$.find(be=>be.name===B)?.value??0,ae=U[B].a,Z=U[B].b,oe=H[ae]??0,me=H[Z]??0,pe=oe+me;if(pe>0){const be=Math.floor(W*oe/pe+.5),ne=W-be;U[B].aVal=be,U[B].bVal=ne}else U[B].aVal=Math.floor(W/2+.5),U[B].bVal=W-U[B].aVal}const{flags:z}=vse(g,h),V={};_.forEach(B=>{if(B.stem&&B.el&&B.val){const W=`${B.stem}${B.el}`;V[W]=(V[W]??0)+B.val}});for(let B=0;B<4;B++){const W=g[B];if(!W||W.length<2)continue;const ae=jc(W),Z=IP[ae],oe=Tc(ae);if(!Z||!oe)continue;const me=`${Z}${oe}`,pe=E[B].reduce((be,ne)=>be+ne.val,0);V[me]=(V[me]??0)+pe}const J=["","","","","","","","","",""],Q={};J.forEach(B=>{Q[B]=0}),P.forEach(B=>{const W=$.find(ne=>ne.name===B)?.value??0,ae=LP(B,w),Z=Object.entries(V).filter(([ne])=>ne.endsWith(ae)),oe=Z.map(([ne])=>ne),me=Z.map(([,ne])=>ne),pe=Math.max(0,Math.round(W*10)),be=Cse(me.length?me:[1,1],pe);if(oe.length===2)Q[oe[0]]=(be[0]??Math.round(pe/2))/10,Q[oe[1]]=(be[1]??pe-(be[0]??0))/10;else if(oe.length===1)Q[oe[0]]=pe/10;else{const ne=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],Oe=Math.floor(pe/2),Ce=pe-Oe;Q[ne[0]]+=Oe/10,Q[ne[1]]+=Ce/10}});const Y=["","","","",""],X={:0,:0,:0,:0,:0};for(const B of $){const W=LP(B.name,w);X[W]+=B.value}const re=RP(Y.map(B=>X[B])),ue={:re[0],:re[1],:re[2],:re[3],:re[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:U,perStemRaw:V,perStemElementScaled:Q,elementPercent100:ue}),{overlay:{totalsSub:H,perStemAugBare:V,perStemAugFull:Q},totals:$,perTenGod:U,PerTenGodSub:H,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:V,perStemElementScaled:Q,elementPercent100:ue}}const T0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},$se=["","","","",""];function BP(e){return $se.includes(e)}const Bse={:"",:"",:"",:"",:""},zse={:"",:"",:"",:"",:""},Use={:"",:"",:"",:"",:""},Fse={:"",:"",:"",:"",:""},IE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Hse=["","","","","","","","","",""],Gse={natal:50,dae:30,se:20,wol:7,il:3};function nb(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return T0[t]??null;if(Gn[t])return T0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?T0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?T0[n]??null:null}function qse(e,t){const n=IE[e],r=IE[t];if(!n||!r)return"";let i;r===n?i="":r===Bse[n]?i="":r===zse[n]?i="":r===Use[n]?i="":r===Fse[n]?i="":i="";const a=BP(e)===BP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function rb(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.round(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.round(h)]).sort((f,h)=>h[1]-f[1]),c=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function zP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=nb(r);if(!a)continue;const o=qse(t,a);n[o]+=i}return rb(n)}function Yse(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function UP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=nb(n);i&&(t[i]=(t[i]??0)+r)}return t}function FP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Hse){const i=IE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function HP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Kse(e,t){const n=t?.dae?O0(t.dae):{},r=t?.se?O0(t.se):{},i=t?.wol?O0(t.wol):{},a=t?.il?O0(t.il):{},o={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:h}of c){const p=Gse[f];if(!h||Object.keys(h).length===0)continue;const g=rb(h);for(const[x,w]of Object.entries(g))o[x]=(o[x]??0)+w*p}const u=Object.values(o).reduce((f,h)=>f+h,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function Wse(e){if(!e)return[];const t=nb(e.charAt(0)),n=nb(e.charAt(1));return[t,n].filter(Boolean)}function O0(e){const t=Wse(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Av(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[De(t[0]??""),De(t[1]??""),De(t[2]??""),De(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:u}=gm,f=c==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?De(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?De(r.se):void 0,wol:(n===""||n==="")&&r.wol?De(r.wol):void 0,il:n===""&&r.il?De(r.il):void 0}:{tab:n},p=LE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),g=LE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),x=UP(p.perStemElementScaled),w=n===""?x:Kse(x,r),_=rb(w),E=zP(w,o),T=Yse(E),N=FP(_),O=UP(g.perStemElementScaled),P=zP(O,o),M=rb(O),D=FP(M);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:_,perTenGodSub:E,perTenGod:T,overlay:{totalsSub:E,perStemAugBare:w,perStemAugFull:N},natalFixed:{elementScoreRaw:HP(g.elementScoreRaw),elementPercent100:HP(g.elementPercent100),totalsSub:P,overlay:{totalsSub:P,perStemAugBare:O,perStemAugFull:D}}}}const po=["","","","",""],jl={:0,:0,:0,:0,:0},Vse=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],Zse={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},i1=24,Xse=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],ib=20;Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e]));const d7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function f7(e){return Math.max(0,Math.min(100,e))}function Fd(e,t,n){return Math.max(t,Math.min(n,e))}function Qse(e){const t=f7(e);return Vse.find(n=>t>=n.min&&t<n.max)?.name??""}function ele(e){const t=e?.[2]?.charAt(0)??"";return d7[t]??null}function tle(e){return(e?.[1]?.charAt(1)??"")||null}function h7(e){return kv[e]}function nle(e){return e?{peer:e,resource:Jc[e],leak:ps[e],wealth:wo[e],officer:h7(e)}:null}function rle(e){const t={...jl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=d7[r],o=Jse[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function ile(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...jl};return po.forEach(r=>{n[r]=e[r]/t*100}),n}function ale(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return f7((n("")+n(""))/t*100)}function ole(e,t){return!e||!t?null:t===e?"":ps[e]===t?"":wo[e]===t?"":h7(e)===t?"":Jc[e]===t?"":null}function sle(e){for(const[t,n]of Xse)if(e>=t)return n;return 1}const GP=(e,t)=>Fd((ib-(t[e]??0))/ib,0,1),qP=(e,t)=>Fd(((t[e]??0)-ib)/ib,0,1);function lle(e,t,n,r){const i=ole(e,n);if(!e||!i)return 0;const a=Fd((50-t)/50,0,1),o=Fd((t-50)/50,0,1),c=GP(n,r),u=qP(n,r),f=GP(e,r),h=qP(e,r),p=6.5;let g=0;if(a>0)switch(i){case"":g=+(.3+.4*f+.15*c)*a;break;case"":g=+(.18+.45*f)*a;break;case"":g=-(.08+.2*(1-c)+.1*h)*a;break;case"":g=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":g=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":g=-(.25+.25*(1-c)+.2*h)*o;break;case"":g=-(.28+.2*h)*o;break;case"":g=+(.18+.2*c+.15*h)*o;break;case"":g=+(.22+.25*c+.1*h)*o;break;case"":g=+(.2+.2*c)*o;break}else switch(i){case"":g=.08*(f+c);break;case"":g=.05*f-.03*h;break;case"":g=.02*c-.02*u;break;case"":g=.01*c-.06*u;break;case"":g=-.05*(1-c);break}return Math.round(p*g*10)/10}function cle(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...jl};if(r){const o=ps[e],c=wo[e],u=kv[e];a[o]+=28,a[c]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(c)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Jc[e],c=e;a[o]+=28,a[c]+=22,n.get(o)?.push(":     "),n.get(c)?.push(":     ")}return a}function YP(e,t){if(!e)return{...jl};const n=Zse[e]??{temp:"mild",wet:"normal"},r={...jl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function KP(e,t){const n={...jl};for(const r of po){const i=wo[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=ps[r],c=Math.round(a*.35);c>0&&(n[o]+=c,t.get(o)?.push(`: ${r}${i} `))}return n}function WP(e,t){const n={...jl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const j0=()=>new Map(po.map(e=>[e,[]]));function Hd(e,t){const n=ele(e),r=tle(e),i=rle(e),a=ile(i);let o=ale(t);if(o==null)if(!n)o=50;else{const U=n,z=Jc[n],V=Object.values(i).reduce((J,Q)=>J+Q,0)||1;o=Math.min(100,Math.max(0,((i[U]??0)+(i[z]??0))/V*100))}const c=Qse(o),u={...jl},f=j0();if(n){const U=cle(n,c,f);po.forEach(z=>{u[z]+=U[z]??0})}const h=YP(r,f);po.forEach(U=>{u[U]+=h[U]??0});const p=KP(i,f);po.forEach(U=>{u[U]+=p[U]??0});const g=WP(i,f);po.forEach(U=>{u[U]+=g[U]??0});const x=nle(n),w={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const U of t)w[U.name]=U.value;if(o>=45&&o<=55&&x){const U=w.>=30||w.>=Math.max(w.,w.,w.,w.)+5;o<=50?(u[x.resource]+=14,f.get(x.resource)?.push(": -"),u[x.peer]+=10,f.get(x.peer)?.push(": -"),u[x.leak]+=6,f.get(x.leak)?.push(": -"),u[x.wealth]+=3,f.get(x.wealth)?.push(": -"),U&&(u[x.officer]=Math.round(u[x.officer]*.8*10)/10,f.get(x.officer)?.push(":   "))):(u[x.leak]+=14,f.get(x.leak)?.push(": -"),u[x.wealth]+=10,f.get(x.wealth)?.push(": -"),u[x.officer]+=6,f.get(x.officer)?.push(": -"),u[x.resource]+=3,f.get(x.resource)?.push(": -"))}po.forEach(U=>{const z=lle(n,o,U,a);u[U]=Fd(Math.round((u[U]+z)*10)/10,0,999)});const E=o<50;po.forEach(U=>{const z=a[U]??0,V=E&&n===U;if(z>=i1&&!V){const J=sle(z);u[U]=Math.round(u[U]*J*10)/10;const Q=Math.min(14,Math.max(0,Math.ceil((z-i1)*.5)));Q>0&&(u[U]=Fd(u[U]-Q,0,999)),f.get(U)?.push(" ()")}});const T={:[],:[],:[],:[],:[]};if(n){const U=ps[n],z=wo[n],V=kv[n],J=n,Q=Jc[n];T[U].push(""),T[z].push(""),T[V].push(""),T[J].push(""),T[Q].push("")}const N={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=U=>{const z=a[U]??0;return z>=i1&&!(E&&n===U)?z>=55?4:z>=45?3:2:N[U]?0:1},P=YP(r,j0()),M=KP(i,j0()),D=WP(i,j0()),$=po.map(U=>({element:U,score:Math.round(u[U]*10)/10,via:ule(U,P,M,D),reasons:(f.get(U)??[]).slice(),tenGodHints:T[U]})).sort((U,z)=>{const V=O(U.element),J=O(z.element);return V!==J?V-J:z.score!==U.score?z.score-U.score:U.element.localeCompare(z.element)}),H=dle(c,P,M,D),q={:0,:0,:0,:0,:0},K=t?t.reduce((U,z)=>(U[z.name]=z.value,U),{...q}):void 0;return{chosenType:H,ordered:$,debug:{band:c,overallPct:o,elementScore:i,tenGodTotals:K,monthBranch:r??void 0}}}function ule(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function dle(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((h,p)=>h+p,0),o=a(t),c=a(n),u=a(r);return o>Math.max(c,u)?"":c>=u?"":""}function fle(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,u)=>c+u,0);const o=n.map((c,u)=>({i:u,f:c-Math.round(c)})).sort((c,u)=>u.f-c.f);for(let c=0;c<o.length&&a>0;c++)r[o[c].i]+=1,a-=1;return r}const VP=["","","","",""];function hle(e,t){const n=[De(e[0]??""),De(e[1]??""),De(e[2]??""),De(e[3]??"")],{elementScoreRaw:r}=LE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=VP.map(c=>r[c]??0),a=fle(i),o={:0,:0,:0,:0,:0};return VP.forEach((c,u)=>{o[c]=a[u]}),o}function m7(e,t){const n=hle(e,t),r=De(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},c=n[a]??0,u=n[o[a]]??0;return c+u*.7}const Gd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},N0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mle=["","","","",""];function ZP(e){return mle.includes(e)}const ple={:"",:"",:"",:"",:""},gle={:"",:"",:"",:"",:""},yle={:"",:"",:"",:"",:""},ble={:"",:"",:"",:"",:""};function Am(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return N0[t]??null;if(Gn[t])return N0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?N0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?N0[n]??null:null}function vle(e,t){const n=Gd[e],r=Gd[t];if(!n||!r)return"";let i;r===n?i="":r===ple[n]?i="":r===gle[n]?i="":r===yle[n]?i="":r===ble[n]?i="":i="";const a=ZP(e)===ZP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function xle(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Tv(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),c=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function _le(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Gd[Am(n)];i&&r>0&&(t[i]+=r)}return Tv(t)}function wle(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Am(r);if(!a)continue;const o=vle(t,a);n[o]+=i}return n}function Sle(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=xle(n);t[i]+=r}return Tv(t)}function XP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function g7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=Gd[i.charAt(0)];if(a&&(r[a]=!0),n){const o=p7[i.charAt(1)];o&&(r[o]=!0)}}return r}function y7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Gd[n.charAt(0)],i=p7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function a1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Ele=["","","","","","","","","",""];function kle(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Am(n);i&&(t[i]=(t[i]??0)+r)}return t}function Ale(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Ele){const i=Gd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Tle={natal:50,dae:30,se:20,wol:7,il:3};function Ole(e){const t={};for(const{kind:r,bare:i}of e){const a=Tle[r]??0;if(a<=0)continue;const o=Tv(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function jle(e){if(!e)return[];const t=Am(e.charAt(0)),n=Am(e.charAt(1));return[t,n].filter(Boolean)}function C0(e){const t=jle(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const $E=["","","","",""];function Nle(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Cle(e,t){const n=$E.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),c=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:c}}function cA(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Mle(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function JP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Ple(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,c=e[a]??0;if(o<20||c<20)continue;let u=null,f=null;if(JP(i)===a)u=i,f=a;else if(JP(a)===i)u=a,f=i;else continue;const h=Mle(u),p=`${u}()${f}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:f,mediator:h,reason:p})}return r}function uA(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function Ih(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":    0"]}):e}function $h(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,c=r(a.elNorm)?1:0;if(o!==c)return c-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function Dle(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),c=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:c.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(f=>({element:f.el,elNorm:f.el,score:uA(f.base,t[f.el]??0),reasons:[f.why,` ${f.el}  ${Math.round(t[f.el]??0)}%`]}))}function Rle(e){const t=Ple(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,c=Math.min(a,o),u=95+Math.round(c/2),f=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];f?n.set(i.mediator,{score:Math.max(f.score,u),reasons:[...f.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:uA(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Lle(e,t){let n="",r=e.??0;for(const f of $E){const h=e[f]??0;h<r&&(r=h,n=f)}const i=$E.some(f=>!t[f]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const c=uA((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:c,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function dA(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,c=$h(Ih(t,i,a),i,a),u=$h(Ih(Dle(n,r),i,a),i,a),f=Nle(n),h=Cle(r,i),p=f==="WINTER"||f==="SUMMER"?.85:.55,g=1.25,x=Rle(r),w=$h(Ih(x.items,i,a),i,a),_=Lle(r,i),E=$h(Ih(_.items,i,a),i,a),T=Array.isArray(o)?o:[],N=T.length>0,O=$h(Ih(T,i,a),i,a),P=z=>Math.max(0,...z.map(V=>Number.isFinite(V.score)?V.score:0)),D=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:g,applicable:c.length>0,note:"1.  /()  ",candidates:c},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:f==="WINTER"?"2. ()   ":f==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:x.applicable,note:x.note,candidates:w},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:_.applicable,note:_.note,candidates:E},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:N,note:N?"/     ( )":"  (//  )",candidates:O}].map(z=>{const V=P(z.candidates),J=z.candidates[0];let Q=0;if(z.applicable&&J){if(Q=J.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const Y=Math.min(35,Math.round(h.spread*.9));Q+=Y}z.kind==="EOKBU"&&h.balancedPresent&&(Q*=.75),J.elNorm&&!i[J.elNorm]&&(Q*=.25)}return{...z,maxScore:V,fitScore:Math.round(Q),finalScore:Math.round(Q)}}).sort((z,V)=>z.priority-V.priority),$=[...D].filter(z=>z.applicable&&z.candidates.length>0).sort((z,V)=>V.fitScore!==z.fitScore?V.fitScore-z.fitScore:z.priority-V.priority)[0],H=Math.max(0,...D.map(z=>z.fitScore)),q=$?.kind??null,K=D.map(z=>{if(!q)return z;if(z.kind===q){const V=z.fitScore<H?H+1:z.fitScore;return{...z,finalScore:V}}return{...z,finalScore:z.fitScore}}),U=q?K.find(z=>z.kind===q)??null:null;return{bestKind:q,best:U,groups:K}}const Ile={:"",:"",:"",:"",:""},$le={:"",:"",:"",:"",:""},Ble={:"",:"",:"",:"",:""},zle={:"",:"",:"",:"",:""};function o1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function Ule(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function Fle(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function Hle(e,t){switch(t){case"":return e;case"":return Ile[e];case"":return Ble[e];case"":return zle[e];case"":return $le[e]}}function Gle(e,t){const n=new Map,r=(u,f,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:f,reasons:[h]});return}p.score=Math.max(p.score,f),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=o1(t),a=Ule(e.);if(i&&a){const u=Fle(a),f=Hle(i,u);r(f,92,` ${e.}  ${u} (${f})`)}const o=o1(e.);o&&r(o,86,` ${e.}  (${o})`);const c=o1(e.);return c&&r(c,70,` ${e.}  (${c})`),Array.from(n.values()).sort((u,f)=>f.score-u.score)}const Bh=e=>e&&e.length>=1?e.charAt(0):"",M0=e=>e&&e.length>=2?e.charAt(1):"";function qle(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function Yle({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:c,monthGZ:u,dayGZ:f}=ui(),h=S.useMemo(()=>De(c),[c]),p=S.useMemo(()=>De(u),[u]),g=S.useMemo(()=>De(f),[f]),x=su(e,e?.mingSikType),w=S.useMemo(()=>{if(!x?.length)return 0;const _e=x.findIndex((je,Ie)=>{const Ve=x[Ie+1]?.at;return o>=je.at&&(!Ve||o<Ve)});return _e!==-1?_e:o<x[0].at?0:x.length-1},[x,o]),_=S.useMemo(()=>{const _e=r??x?.[w]?.gz??"";return De(_e)||null},[r,x,w]),{manualHour:E}=Vm(),T=e.mingSikType??"/",N=S.useMemo(()=>XP(t),[t]),O=S.useMemo(()=>XP(n),[n]),P=S.useMemo(()=>{const _e=[...N];return(!_e[3]||_e[3]===""||_e[3]==="--")&&E&&(_e[3]=E.stem+E.branch),_e},[N,E]),M=S.useMemo(()=>{const _e=[...O];return(!_e[3]||_e[3]===""||_e[3]==="--")&&E&&(_e[3]=E.stem+E.branch),_e},[O,E]),D=S.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),je=Number(e.birthDay?.slice(4,6)),Ie=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(je)||!Number.isFinite(Ie))return null;const Ve=new Date(_e,je-1,Ie,12,0,0,0),bt=De(at(Ve)||""),xt=De(kt(Ve)||""),Pt=De(gt(Ve,T)||"");return[bt,xt,Pt,""]},[e.birthDay,T]),$=a1(P),H=a1(M),K=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?H?"lunar":$?"solar":"lunar":$?"solar":H?"lunar":"solar",U=S.useMemo(()=>{const je=[...K==="lunar"?H?M:$?P:D??["","","",""]:$?P:H?M:D??["","","",""]];return(!je[3]||je[3]===""||je[3]==="--")&&E&&(je[3]=E.stem+E.branch),je[3]==="--"&&(je[3]=""),je},[K,$,H,P,M,D,E]),z=S.useMemo(()=>Bh(U[2]??""),[U]),V=S.useMemo(()=>M0(U[1]??""),[U]),J=S.useMemo(()=>qle(e.birthDay),[e.birthDay]),Q=S.useMemo(()=>E?E.stem+E.branch:U[3]||"",[E,U]),Y=S.useMemo(()=>({dae:i!==""?_??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?g??null:null}),[i,_,h,p,g]),X=S.useMemo(()=>Av({natal:U,tab:i,chain:Y,hourKey:Q}),[U,i,Y,Q]),re=S.useMemo(()=>{if(!X)return null;const _e=kle(X.perStemElementScaled),je=Y.dae?C0(Y.dae):{},Ie=Y.se?C0(Y.se):{},Ve=Y.wol?C0(Y.wol):{},bt=Y.il?C0(Y.il):{},xt=Ole([{kind:"natal",bare:_e},{kind:"dae",bare:je},{kind:"se",bare:Ie},{kind:"wol",bare:Ve},{kind:"il",bare:bt}]),Pt=Tv(xt),fe=Ale(Pt),Me=wle(xt,X.dayStem),Be=Sle(Me),lt=_le(xt);return{perStemAugBare:xt,perStemAugFull:fe,elemPct100:lt,totalsMain:Be,totalsSub:Me}},[X,Y]),ue=S.useMemo(()=>g7(U,{includeBranches:!0}),[U]),se=S.useMemo(()=>["","","","",""].some(_e=>!ue[_e]),[ue]),B=re?.elemPct100??X?.elementPercent100??y7(U),W=S.useMemo(()=>{if(!X||!re)return[];const _e=n7(X.dayStem);return Object.entries(re.totalsMain).map(([je,Ie])=>({name:je,value:Ie,color:_e[je]}))},[X,re]),ae=re?.elemPct100??{:0,:0,:0,:0,:0},Z=re?.totalsSub??null,oe=S.useMemo(()=>[i,_??"",h??"",p??"",g??"",o?.toISOString?.()??"",Q].join("|"),[i,_,h,p,g,o,Q]),me=S.useMemo(()=>{const _e=Z?Object.entries(Z).sort(([Ie],[Ve])=>Ie.localeCompare(Ve)).map(([Ie,Ve])=>`${Ie}:${Ve}`).join(","):"none",je=W.map(Ie=>`${Ie.name}:${Ie.value}`).join(",");return`${oe}||${U.join("")}||${je}||${_e}`},[oe,U,W,Z]),pe=typeof Hd=="function"?Hd(U,X?.totals):null,be=S.useMemo(()=>(pe?.ordered??[]).map(je=>{const Ie=je.element??"",Ve=/||wood/i.test(Ie)?"":/||fire/i.test(Ie)?"":/||earth/i.test(Ie)?"":/||metal/i.test(Ie)?"":/||water/i.test(Ie)?"":null,bt=typeof je.score=="number"?je.score:Ve?B[Ve]??0:0,xt=Array.isArray(je.reasons)?je.reasons:[];return{element:Ie,elNorm:Ve,score:bt,reasons:xt}}),[pe,B]),ne=S.useMemo(()=>be.map(_e=>({element:_e.element,elNorm:_e.elNorm,score:_e.score,reasons:_e.reasons})),[be]),Oe=S.useMemo(()=>{if(!z||!V)return[];const[_e,je,Ie,Ve]=U,bt=[Bh(_e),Bh(je),Bh(Ie),Bh(Ve)].filter(Boolean),xt=[M0(_e),M0(Ie),M0(Ve)].filter(Boolean),Pt=e7({dayStem:z,monthBranch:V,date:J,pillars:U,emittedStems:bt,otherBranches:xt}),fe=Gle(Pt,z),Me=Be=>/||wood/i.test(Be)?"":/||fire/i.test(Be)?"":/||earth/i.test(Be)?"":/||metal/i.test(Be)?"":/||water/i.test(Be)?"":null;return(fe??[]).map(Be=>({element:Be.element,elNorm:Me(Be.element),score:Number.isFinite(Be.score)?Be.score:0,reasons:Array.isArray(Be.reasons)?Be.reasons:[]}))},[U,z,V,J]),Ce=S.useMemo(()=>{const _e=U[1]||"";return dA({eokbuList:ne,monthGz:_e,elemPct:B,presentMap:ue,demoteAbsent:a,gyeokgukList:Oe})},[U,ne,B,ue,a,Oe]),ve=S.useMemo(()=>{const _e=Ce.best;return _e?.candidates?.length?_e.candidates.map(je=>({element:je.element,elNorm:je.elNorm,score:je.score,reasons:je.reasons})):be},[Ce,be]),Ze=S.useMemo(()=>Math.max(0,...ve.map(_e=>Number.isFinite(_e.score)?_e.score:0)),[ve]),Ne=S.useMemo(()=>m7(U,{criteriaMode:"modern",useHarmonyOverlay:!0}),[U]);return{seGz:h,wolGz:p,ilGz:g,daewoonGz:_,activePillars:U,chain:Y,unified:X,overlay:re,chartData:W,elementPct:ae,tenSubTotals100:Z,hourKeyForUi:Q,revKey:me,yongshinMulti:Ce,yongshinRecommend:Ce,yongshinList:ve,maxScore:Ze,hasAbsent:se,dayElementPercent:Ne,isValidActive:a1(U)}}function Kle(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function Wle(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function Vle(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=cA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const Zle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ab(e){return Zle[e]??null}function Xle(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=sA(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",c=ab(a);if(c&&(n[c]=!0),oA(o)){const u=r[o],f=[u.,u.,u.].filter(Boolean);for(const h of f){const p=ab(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function Jle(e,t){const n=sA(t),r={:0,:0,:0,:0,:0};for(const o of e){const c=o?.charAt(0)??"",u=o?.charAt(1)??"",f=ab(c);if(f&&(r[f]+=50),oA(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),g=p.reduce((w,_)=>w+(Number.isFinite(_.w)?_.w:0),0),x=g>0?g:1;for(const w of p){const _=ab(w.stem);_&&(r[_]+=50*w.w/x)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function Qle(e,t,n){return e||Jle(t,n)}function ece(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,c=S.useMemo(()=>X4(o),[o]),u=su(t,t?.mingSikType),f=S.useMemo(()=>Array.isArray(u)?u.filter(Kle).slice(0,10):[],[u]),[h,p]=S.useState(0),[g,x]=S.useState(0),w=Math.max(0,Math.min(f.length-1,h)),_=f[w]??null,E=S.useMemo(()=>{if(!_)return[];const q=_.at.getFullYear();return Array.from({length:10},(K,U)=>{const z=q+U;return{year:z,gz:Wle(z)}})},[_]),T=g==null?null:Math.max(0,Math.min(E.length-1,g)),N=T==null?null:E[T]??null,O=S.useMemo(()=>Xle(n,c),[n,c]),P=S.useMemo(()=>["","","","",""].some(q=>!O[q]),[O]),M=S.useMemo(()=>{const q=_?De(_.gz):null,K=N?De(N.gz):null;return{dae:q||null,se:K||null,wol:null,il:null}},[_,N]),D=S.useMemo(()=>M.se?"":"",[M.se]),$=S.useMemo(()=>{const q=_?`${_.at.getFullYear()}~ ${De(_.gz)}`:" -",K=N?` / ${N.year} ${De(N.gz)}`:"";return`${q}${K}`},[_,N]),H=S.useMemo(()=>{if(!_)return null;const q=Av({natal:n,tab:D,chain:M,hourKey:r}),K=Qle(q?.elementPercent100,n,c),U=typeof Hd=="function"?Hd(n,q?.totals):null,z=Vle(U,K);return dA({eokbuList:z,monthGz:n[1]||"",elemPct:K,presentMap:O,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[_,n,D,M,r,O,i,a,c]);return{daeIndex:w,setDaeIndex:p,seIndex:T,setSeIndex:x,dae10:f,se10:E,chain:M,tab:D,label:$,recommend:H,presentMap:O,hasAbsent:P}}const tce={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function BE(e){return e?tce[e]??e:""}function nce(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function rce(e){const t=new Date(e,1,15,12,0,0,0);return De(at(t)||"")}function s1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?cA(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,c=r&&i?`${BE(r)}:${i}`:r?`${BE(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:c,result:e}}function ice(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=cA(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function QP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:c}=e,u=Av({natal:t,tab:i,chain:r,hourKey:n}),f=u?.elementPercent100??y7(t),h=typeof Hd=="function"?Hd(t,u?.totals):null,p=ice(h,f);return dA({eokbuList:p,monthGz:t[1]||"",elemPct:f,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(c)?c:null})}function ace(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const go=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=v.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?v.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function eD({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?v.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx(go,{text:`: ${BE(t.kind)}`,tone:"pick"}),v.jsx(go,{text:` ${t.fitScore}`}),n[0]?.element?v.jsx(go,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?v.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?v.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>v.jsx("li",{className:"text-xs",children:v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx(go,{text:`${i+1} ${r.element}`}),v.jsx(go,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>v.jsx(go,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):v.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):v.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function oce(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=S.useMemo(()=>g7(n,{includeBranches:!0}),[n]),c=su(t,t?.mingSikType),u=S.useMemo(()=>Array.isArray(c)?c.filter(nce).slice(0,10):[],[c]),f=S.useMemo(()=>s1(a),[a]),[h,p]=S.useState(null),g=_=>p(E=>E===_?null:_),x=S.useMemo(()=>u.map((_,E)=>{const T=De(_.gz)||"",O=QP({pillars:n,hourKey:r,chain:{dae:T||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),P=s1(O),M=_.at.getFullYear(),D=Array.from({length:10},(U,z)=>{const V=M+z,J=rce(V),Y=QP({pillars:n,hourKey:r,chain:{dae:T||null,se:J||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),X=s1(Y);return{year:V,snap:X}}),H=ace(D).filter(U=>U.snap.top1ElNorm!==P.top1ElNorm),q=P.top1ElNorm!==f.top1ElNorm,K=q||H.length>0;return{idx:E,dae:_,daeLabel:`${M}~ ${T||""}`,daeSnap:P,daeDiffFromNatal:q,segDiffOnly:H,hasAnyChange:K}}).filter(_=>_.hasAnyChange),[u,n,r,i,o,f.top1ElNorm]),w=S.useMemo(()=>x.some(_=>_.hasAnyChange),[x]);return v.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between gap-2",children:[v.jsx("div",{className:"text-sm font-bold",children:"  "}),v.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",f.label," /  ",f.fit]})]}),w?v.jsx("div",{className:"space-y-3",children:x.map(_=>{const E=`dae:${_.idx}`,T=h===E;return v.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx(go,{text:` ${_.daeLabel}`,tone:"base"}),v.jsx(go,{text:` ${_.daeSnap.label} ( ${_.daeSnap.fit})`,tone:_.daeDiffFromNatal?"diff":"base",onClick:()=>g(E),title:" (top3) "}),_.daeDiffFromNatal?v.jsx(go,{text:" ",tone:"diff"}):null]}),_.segDiffOnly.length?v.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.segDiffOnly.map((N,O)=>{const P=`seg:${_.idx}:${O}`,M=h===P,D=N.fromYear===N.toYear?`${N.fromYear}`:`${N.fromYear}~${N.toYear}`;return v.jsxs("div",{className:"inline-flex flex-col",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx(go,{text:` ${D}  ${N.snap.label} ( ${N.snap.fit})`,tone:"diff",onClick:()=>g(P),title:" (top3) "})}),M?v.jsx(eD,{snap:N.snap}):null]},P)})}):null,T?v.jsx(eD,{snap:_.daeSnap}):null]},E)})}):v.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}function sce(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(2,Math.min(100,n))}%`}function lce(e){return e.slice(0,3)}const um=({text:e,tone:t="base"})=>{const n=t==="best"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300";return v.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border border-transparent ${n}`,children:e})};function cce({g:e,isBest:t}){const n=lce(e.candidates);return v.jsxs("details",{open:t,className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[v.jsx("summary",{className:"list-none cursor-pointer px-3 py-2 flex flex-col gap-2",children:v.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[v.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[e.marker," ",e.title]}),v.jsx("span",{className:"max-w-[62%] text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:e.note}),!e.applicable&&v.jsx(um,{text:" "}),t&&v.jsx(um,{text:" ",tone:"best"}),v.jsx(um,{text:` ${e.fitScore}`})]})}),v.jsx("div",{className:"px-3 pb-3 pt-1",children:n.length===0?v.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}):v.jsx("ul",{className:"space-y-2",children:n.map((r,i)=>v.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[i+1,""]}),v.jsx("span",{className:"text-sm font-semibold",children:r.element})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:v.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:sce(r.score??0,e.maxScore)},title:` ${r.score}`})}),v.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(r.reasons??[]).slice(0,6).map((a,o)=>v.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:a},o))})]})]},`${e.kind}-${r.elNorm??r.element}-${i}`))})})]})}function uce({best:e}){const t=e?.candidates?.[0]??null;return v.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 p-3 bg-white/60 dark:bg-neutral-950/20",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:" "}),v.jsx("div",{className:"text-sm font-semibold",children:e?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"mr-1",children:e.marker}),e.title]}):""}),t?.element?v.jsx(um,{text:`1: ${t.element}`}):null,e?.fitScore!=null?v.jsx(um,{text:` ${e.fitScore}`}):null]}),e?.note?v.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed whitespace-normal break-words",children:e.note}):null]})}function dce({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a}){const o=e,c=ece({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:a});return v.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-4",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between gap-2",children:[v.jsx("div",{className:"text-sm font-bold",children:"  ()"}),c.hasAbsent?v.jsxs("span",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:["*   ",i?" ( ON)":""]}):null]}),v.jsx(uce,{best:o.best}),v.jsx("div",{className:"space-y-2",children:o.groups.map(u=>v.jsx(cce,{g:u,isBest:o.bestKind===u.kind},u.kind))})]}),v.jsx(oce,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})]})}const tD=e=>e<10?`0${e}`:`${e}`;function fce(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Ui(i,a,o),u=`${c.getFullYear()}${tD(c.getMonth()+1)}${tD(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function hce(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const mce=["  ","   ","","",""];function pce(e){return e==="  "||e===""}function gce({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=qn(p=>p.settings),a=Qoe(),o=fce(e),c=hce(o.birthDay)||void 0,u=Br(p=>p.canUseAdvancedReportNow()),f=Yle({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=S.useMemo(()=>"    100   !",[]);return f.isValidActive?v.jsxs("div",{className:"space-y-4 mb-4",children:[v.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:Joe.map(p=>v.jsx("button",{onClick:()=>a.setBlendTab(p),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===p?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:p},p))}),v.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:mce.map(p=>{const g=!u&&pce(p),x=a.bigTab===p;return v.jsxs("button",{title:g?h:void 0,onClick:()=>a.setBigTab(p),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(g?"opacity-60 ":"")+(x?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:[p,g?" ":""]},p)})}),a.bigTab===""&&v.jsx(Aae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="   "&&v.jsxs("div",{className:"space-y-4",children:[v.jsx(wae,{data:f.chartData,revKey:f.revKey,perStemElementScaled:f.overlay?.perStemAugFull,elementPercent:f.elementPct,dayStem:f.activePillars[2]?.charAt(0)??null},`pentagon-${f.revKey}`),v.jsx(kae,{value:f.dayElementPercent}),v.jsx(Bae,{natal:f.activePillars})]}),a.bigTab===""&&!u&&v.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",v.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&v.jsx(dce,{recommend:f.yongshinMulti,data:o,pillars:f.activePillars,hourKey:f.hourKeyForUi,demoteAbsent:a.demoteAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab===""&&v.jsx(jae,{pillars:f.activePillars,daewoon:f.daewoonGz||void 0,sewoon:f.seGz||void 0,wolwoon:f.wolGz||void 0,ilwoon:f.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${f.hourKeyForUi}`),a.bigTab==="  "&&!u&&v.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",v.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&v.jsx(Boe,{unified:f.unified,pillars:f.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:c},`gyeok-${a.blendTab}-${f.hourKeyForUi}`)]}):v.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const P0=e=>typeof e=="string"&&e.length>=2,yce=e=>!Array.isArray(e)||e.length!==4?!1:P0(e[0])&&P0(e[1])&&P0(e[2])&&(e[3]===""||P0(e[3]));function bce({data:e}){const[t,n]=S.useState("un"),r=Br(u=>u.canUseMyoViewerNow());S.useEffect(()=>{t==="myoun"&&!r&&n("un")},[t,r]);const i=S.useMemo(()=>{try{const u=tp(e);return Tl(u)}catch{return new Date}},[e]),a=S.useMemo(()=>Ev(e,i),[e,i]),o=!e.birthTime||e.birthTime==="",c=S.useMemo(()=>{try{const u=at(a,e.birthPlace?.lon),f=kt(a,e.birthPlace?.lon),h=gt(a,e.mingSikType),p=o?"":Ua(a,e.mingSikType);return[u,f,h,p]}catch{return[]}},[a,e?.mingSikType,e?.birthPlace?.lon,o]);return v.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[v.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[v.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),r?v.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,v.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&v.jsx(uae,{data:e}),t==="myoun"&&r&&v.jsx(mae,{data:e}),t==="report"&&v.jsx(gce,{data:e,pillars:yce(c)?c:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xce=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),nD=e=>{const t=xce(e);return t.charAt(0).toUpperCase()+t.slice(1)},b7=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),_ce=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>S.createElement("svg",{ref:u,...wce,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:b7("lucide",i),...!a&&!_ce(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,h])=>S.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(Sce,{ref:a,iconNode:t,className:b7(`lucide-${vce(nD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=nD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kce=Fi("chevron-down",Ece);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Tce=Fi("chevron-up",Ace);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jce=Fi("circle-x",Oce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Cce=Fi("heart-handshake",Nce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pce=Fi("house",Mce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rce=Fi("log-out",Dce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ice=Fi("menu",Lce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bce=Fi("plus",$ce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uce=Fi("settings",zce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],Hce=Fi("square-user",Fce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],v7=Fi("star",Gce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Yce=Fi("user-plus",qce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],x7=Fi("x",Kce);function Wce({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){const r=zr(w=>w.list.length),a=Br(w=>w.canAddMyeongsik)(r),o=!a.ok,c=o?a.message:"",u=()=>{if(o){kd(c||"   ");return}t()},f=()=>{if(o){kd(c||"   ");return}n()},h="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",p="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",g="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",x="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return v.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:v.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[v.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:v.jsx(Ice,{size:22})}),v.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{type:"button",onClick:u,"aria-label":" ",disabled:o,title:c,className:`${h} ${o?x:p}`,children:[v.jsx(Yce,{size:18}),o?v.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),v.jsxs("button",{type:"button",onClick:f,"aria-label":" ",disabled:o,title:c,className:`${h} ${o?x:g}`,children:[v.jsx(Hce,{size:18}),o?v.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]})]})]})})}function Vce(e){S.useEffect(()=>{const t=e??L3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$3(t),e&&I3(e)},[e])}const _7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Zce(e){return typeof e=="string"&&_7.includes(e)}function zE(e){const t=Array.isArray(e)?e.filter(Zce):[],n=_7.filter(r=>!t.includes(r));return[...t,...n]}function UE(e){return{...gm,...e,sectionOrder:zE(e.sectionOrder)}}function Xce(e,t){return e.theme??t.theme??"dark"}function Jce({open:e,settings:t}){const n=S.useMemo(()=>zE(t.sectionOrder),[t.sectionOrder]),r=S.useMemo(()=>UE(t),[t]),[i,a]=S.useState(n),[o,c]=S.useState(r),[u,f]=S.useState(null),[h,p]=S.useState(!1);return S.useEffect(()=>{if(!e||h)return;const x=zE(t.sectionOrder);c({...UE(t),sectionOrder:x}),a(x),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:c,updateSetting:(x,w)=>{c(_=>{const E={..._,[x]:w};return p(!0),E})},toastMessage:u,setToastMessage:f,dirty:h,setDirty:p}}function Qce(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function w7(e){I3(e)}function eue({setSettings:e,saveToServer:t}){return{applyChanges:S.useCallback(async(r,i,a)=>{const o={...UE(r),sectionOrder:i};Qce(),e(o),o.theme&&w7(o.theme),await t(!0),a()},[e,t])}}function tue({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=qn(),a=Jce({open:e,settings:n}),o=eue({setSettings:r,saveToServer:i}),c=()=>a.setToastMessage(null),u=Xce(a.localSettings,n);Vce(u),S.useEffect(()=>{w7(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=g=>{const{destination:x,source:w}=g;if(!x||x.index===w.index)return;const _=Array.from(a.order),[E]=_.splice(w.index,1);_.splice(x.index,0,E),a.setOrder(_)},p=g=>{switch(g){case"theme":return v.jsx(Na,{title:"",children:v.jsx(nue,{value:a.localSettings.theme??"dark",onChange:x=>a.updateSetting("theme",x)})});case"hiddenStem":return v.jsx(Na,{title:"  ",children:v.jsx(ad,{value:a.localSettings.hiddenStem,onChange:x=>a.updateSetting("hiddenStem",x),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return v.jsx(Na,{title:" ",children:v.jsx(ad,{value:a.localSettings.hiddenStemMode,onChange:x=>a.updateSetting("hiddenStemMode",x),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return v.jsx(Na,{title:"",children:v.jsx(ad,{value:a.localSettings.sinsalMode,onChange:x=>a.updateSetting("sinsalMode",x),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return v.jsx(Na,{title:"",children:v.jsx(ad,{value:a.localSettings.sinsalBase,onChange:x=>a.updateSetting("sinsalBase",x),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return v.jsx(Na,{title:" ",children:v.jsx(fo,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:x=>a.updateSetting("sinsalBloom",x)})});case"exposure":return v.jsx(Na,{title:" ",children:v.jsx(ad,{value:a.localSettings.exposure,onChange:x=>a.updateSetting("exposure",x),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return v.jsx(Na,{title:" ",children:v.jsx(ad,{value:a.localSettings.charType,onChange:x=>a.updateSetting("charType",x),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return v.jsx(Na,{title:" ",children:v.jsx(fo,{label:" ",checked:!!a.localSettings.thinEum,onChange:x=>a.updateSetting("thinEum",x)})});case"visibility":return v.jsx(Na,{title:" ",children:v.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[v.jsx(fo,{label:" ",checked:!!a.localSettings.showSipSin,onChange:x=>a.updateSetting("showSipSin",x)}),v.jsx(fo,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:x=>a.updateSetting("showSibiUnseong",x)}),v.jsx(fo,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:x=>a.updateSetting("showSibiSinsal",x)}),v.jsx(fo,{label:" ",checked:!!a.localSettings.showNabeum,onChange:x=>a.updateSetting("showNabeum",x)}),v.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:x=>a.updateSetting("showEtcShinsal",x)}),v.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:x=>a.updateSetting("showRelationBox",x)}),v.jsx(fo,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:x=>a.updateSetting("showPromptBox",x)})]})});case"difficultyMode":return v.jsx(Na,{title:" UP ver.",children:v.jsx(fo,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:x=>a.updateSetting("difficultyMode",x)})});default:return null}};return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),v.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),v.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[v.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h2",{className:"text-lg font-bold",children:""}),v.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&v.jsx(Jm,{onDragEnd:h,children:v.jsx(cf,{droppableId:"settings-sections",children:g=>v.jsxs("ul",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((x,w)=>v.jsx(lf,{draggableId:x,index:w,children:_=>v.jsxs("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[v.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),v.jsx("div",{className:"flex-1 min-w-0",children:p(x)})]})},x)),g.placeholder]})})})]}),a.toastMessage&&v.jsx(l4,{message:a.toastMessage,onClose:c,ms:1800})]})}function nue({value:e,onChange:t}){const n=e==="dark";return v.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[v.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),v.jsx("span",{children:n?"":""})]})}function Na({title:e,children:t}){return v.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[v.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),v.jsx("div",{className:"flex justify-center",children:t})]})}function ad({value:e,onChange:t,options:n}){return v.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return v.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function fo({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return v.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[v.jsx("span",{children:e}),v.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),v.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function rue({onShowToday:e,onShowCouple:t}){const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),u=async()=>{if(!i){a(!0);try{const{error:h}=await Le.auth.signOut();if(h)throw h;window.location.reload()}catch(h){console.error(h),alert(" .  ."),a(!1)}}},f={bottom:"calc(env(safe-area-inset-bottom, 0px) + var(--bottom-dock, 0px))"};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed min-w-[320px] h-[64px] left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:f,children:v.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[v.jsx(D0,{icon:v.jsx(Pce,{size:22}),label:" ",onClick:e}),v.jsx(D0,{icon:v.jsx(Cce,{size:22}),label:"",onClick:t}),v.jsx(D0,{icon:v.jsx(Uce,{size:22}),label:"",onClick:()=>r(!0)}),v.jsx(D0,{icon:v.jsx(Rce,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),v.jsx(tue,{open:n,onClose:()=>r(!1)}),o&&v.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:v.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:h=>h.stopPropagation(),children:[v.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),v.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),u()},children:""})]})]})})]})}function D0({icon:e,label:t,onClick:n,disabled:r}){return v.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,v.jsx("span",{className:"mt-1",children:t})]})}const S7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),ob=e=>S7(e).join(""),iue=()=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(LM);return u?JSON.parse(u):{}}catch{return{}}});S.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(LM,JSON.stringify(e))}catch{}},[e]);const[n,r]=S.useState({}),[i,a]=S.useState(""),[o,c]=S.useState(()=>{const u=Ky(),f=Wy(),h=f.length?sm(u,f):u;return yd(h,e)});return S.useEffect(()=>{c(u=>{const f=yd(u,e);return ob(f)===ob(u)?u:f})},[e]),S.useEffect(()=>{r(u=>{const f={...u};for(const h of o)f[h]===void 0&&(f[h]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:c}},aue=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=S.useMemo(()=>{const i=$2(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[oi]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},zh=async()=>{const{data:e,error:t}=await Le.auth.getUser();return t||!e.user?null:e.user.id},oue=async e=>{const{data:t,error:n}=await Le.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},sue=async e=>{const{data:t,error:n}=await Le.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},lue=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Le.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Le.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},cue=async(e,t)=>{const{error:n}=await Le.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},uue=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},due=async(e,t)=>{const{error:n}=await Le.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},fue=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=S.useState(!1),o=S.useRef(e),c=S.useRef(!1),u=S.useRef(!1);S.useEffect(()=>{o.current=e},[e]),S.useEffect(()=>{(async()=>{if(i)return;const N=await zh();if(!N)return;try{if(!u.current){const $=await oue(N);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&U2($.data)}}catch($){console.error("load custom folders exception:",$)}const O=await sue(N);if(O.error){console.error("load folder order from server error:",O.error),a(!0);return}const P=Ky(),M=O.data,D=M.length?sm(P,M):sm(P,Wy());n(yd(D,o.current)),M.length&&vd(M),a(!0)})()},[i,n]);const f=S.useCallback(async T=>{const N=await zh();if(!N)return;const O=await lue(N,T);O.error&&console.error("save folder order to server error:",O.error)},[]),h=S.useRef(null),p=S.useRef(null),g=S.useRef(""),x=S.useCallback((T,N)=>{const O=S7(T),P=ob(O);if(P&&P===g.current)return;h.current=O;const M=async()=>{const D=h.current;if(h.current=null,!D)return;const $=ob(D);$&&$===g.current||(await f(D),g.current=$)};if(N?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),M();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,M()},300)},[f]);S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const T=h.current;h.current=null,T&&T.length&&f(T)},[f]),S.useEffect(()=>{if(typeof window>"u")return;const T=()=>{if(c.current){c.current=!1;return}const N=Ky(),O=Wy(),P=O.length?sm(N,O):N;n(yd(P,o.current))};return window.addEventListener(Ol,T),()=>window.removeEventListener(Ol,T)},[n]);const w=S.useCallback(T=>{const{source:N,destination:O,type:P}=T;if(!O||P!=="FOLDER")return;const M=N.index,D=O.index;M!==D&&n($=>{if(!$.length)return $;const H=[...$],[q]=H.splice(M,1);H.splice(D,0,q);const K=yd(H,o.current);return c.current=!0,vd(K),x(K),K})},[x,n]),_=S.useCallback(T=>{const N=T.trim();!N||N===dn||(s4(N),(async()=>{if(u.current)return;const O=await zh();if(!O)return;const P=await uue(O,N);P.disabled&&(u.current=!0),P.error&&console.error("save custom folder error:",P.error)})(),n(O=>{if(O.includes(N))return O;const P=[...O,N],M=yd(P,o.current);return vd(M),x(M,{immediate:!0}),M}))},[x,n]),E=S.useCallback(T=>{r(T),t(N=>{const O={...N};return delete O[T],O}),n(N=>{const O=N.filter(P=>P!==T);return vd(O),x(O,{immediate:!0}),(async()=>{const P=await zh();if(!P)return;const M=await cue(P,T);M.error&&console.error("delete folder order entry error:",M.error)})(),O}),i4.includes(T)?ate(T):(ite(T),(async()=>{if(u.current)return;const N=await zh();if(!N)return;const O=await due(N,T);O.disabled&&(u.current=!0),O.error&&console.error("delete custom folder error:",O.error)})())},[x,t,n,r]);return{handleDragEnd:w,createFolder:_,deleteFolder:E,UNASSIGNED_LABEL:dn}};function hue(e,t){const n=iue(),r=aue({list:e,orderedFolders:n.orderedFolders}),i=fue({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function mue({onClose:e,onAddNew:t}){const n=zr(u=>u.list.length),i=Br(u=>u.canAddMyeongsik)(n),a=!i.ok,o=a?i.message:"",c=()=>{if(a){kd(o||"   ");return}t()};return v.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[v.jsx("h2",{className:"text-lg font-bold",children:" "}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{type:"button",onClick:c,disabled:a,title:o,className:a?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[v.jsx(Bce,{size:16}),"  ",a?"":""]}),v.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:v.jsx(x7,{size:22})})]})]})}function pue({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return v.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[v.jsx("option",{value:"name",children:""}),v.jsx("option",{value:"ganji",children:""}),v.jsx("option",{value:"birth",children:""})]}),v.jsxs("div",{className:"relative flex-1",children:[v.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&v.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:v.jsx(jce,{size:16})})]}),i&&v.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function gue({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[v.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),v.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),v.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function rD({droppableId:e,items:t,isDropDisabled:n,className:r}){return v.jsx(cf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>v.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:v.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function yue({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:c,onDelete:u,inner:f}){return v.jsx(lf,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>v.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[v.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?v.jsx(Tce,{size:16}):v.jsx(kce,{size:16}),v.jsx("span",{className:"text-sm font-semibold",children:e})]}),v.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),c()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:v.jsx(v7,{size:16,fill:r?"currentColor":"none"})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),v.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const bue=()=>({canManage:Br(()=>!0)}),Ov="";function vue(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Ov?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function xue(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(c=>o.some(u=>c.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function _ue(e,t,n){if(n)return Ov;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":F4(i)}function iD(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function wue(e){const t=iD(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Gy(r,i,a)||!e.birthTime||e.birthTime===Ov)return t;const o=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+c,h=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(h.getTime()))return t;const p=new Date(h.getTime()-3600*1e3),g=R2({...e,birthTime:f,corrected:p});return iD({...e,...g})}function Sue(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function Eue(e,t){return Number.isNaN(e)?0:t-e+1}function kue(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function Aue(e){return e===""?"":e===""?"":e??""}function Tue({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=wue(e),o=xue(e.birthPlace?.name),c=e.relationship?.trim()?e.relationship:" ",u=Aue(e.gender),f=!e.birthTime||e.birthTime===Ov,h=_ue(e.correctedLocal,e.corrected,f),p=!!(o||h),g=vue(e.birthDay,e.birthTime),x=e.calendarType==="lunar"?"":"",w=Sue(e.birthDay),_=Eue(w,new Date().getFullYear()),E=!!(e.memo&&e.memo.trim()!==""),T=t?" ":" ",N=e.mingSikType??"/",O=r?" ":"::",P=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:O,ganji:a,placeDisplay:o,relationshipLabel:c,genderLabel:u,birthDisplay:g,calendarLabel:x,correctedLabel:h,showMetaLine:p,showMemo:E,memoToggleLabel:T,age:_,mingSikTypeValue:N,favoriteLabel:P,editLabel:"",deleteLabel:"",getDragStyle:kue}}const Oue=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:c,onToggleFavorite:u})=>{const f=S.useCallback(E=>{E?.stopPropagation(),n(e.id)},[n,e.id]),h=S.useCallback(E=>{E?.stopPropagation(),a(e)},[a,e]),p=S.useCallback(E=>{E?.stopPropagation(),o(e)},[o,e]),g=S.useCallback(E=>{E?.stopPropagation(),c(e)},[c,e]),x=S.useCallback(E=>{E?.stopPropagation(),u(e.id)},[u,e.id]),w=S.useCallback(E=>{const T=E===t?void 0:E;r(e.id,T)},[r,e.id,t]),_=S.useCallback(E=>{i(e,E)},[i,e]);return{handleToggleMemo:f,handleView:h,handleEdit:p,handleDelete:g,handleToggleFavorite:x,handleFolderChange:w,handleMingSikTypeChange:_}};function aD({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:g}){bue();const x=Tue({m:e,memoOpen:a,isDragDisabled:i}),w=Oue({m:e,unassignedLabel:r,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:h,onDelete:p,onToggleFavorite:g});return v.jsx(lf,{draggableId:x.keyId,index:t,isDragDisabled:i,children:_=>v.jsx("li",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,style:_.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:v.jsxs("div",{className:"p-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",x.age," ",x.genderLabel,")"]}),v.jsx("span",{className:"opacity-40",children:""}),v.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:x.relationshipLabel}),v.jsx("span",{className:"ml-auto opacity-50 select-none",children:x.dragHandleLabel})]}),v.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[x.birthDisplay,", ",x.calendarLabel]}),x.showMetaLine&&v.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[x.placeDisplay,x.correctedLabel&&v.jsxs("span",{className:"opacity-70",children:["  ",x.correctedLabel]})]}),x.ganji&&v.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:x.ganji}),x.showMemo&&v.jsxs("div",{children:[v.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:w.handleToggleMemo,children:x.memoToggleLabel}),v.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[v.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:E=>E.stopPropagation(),onChange:E=>{E.stopPropagation(),w.handleFolderChange(E.target.value)},children:[r,...n].map(E=>v.jsx("option",{value:E,children:E},E))}),v.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:x.mingSikTypeValue,onClick:E=>E.stopPropagation(),onChange:E=>{E.stopPropagation(),w.handleMingSikTypeChange(E.target.value)},children:[v.jsx("option",{value:"",children:""}),v.jsx("option",{value:"/",children:"/"}),v.jsx("option",{value:"",children:""})]})]}),v.jsxs("div",{className:"flex gap-2 mt-3",children:[v.jsx("button",{type:"button",onClick:w.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),v.jsx("button",{type:"button",title:"",onClick:w.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:x.editLabel}),v.jsx("button",{type:"button",title:"",onClick:w.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:x.deleteLabel}),v.jsx("button",{type:"button",title:x.favoriteLabel,onClick:w.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":x.favoriteLabel,children:v.jsx(v7,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},x.keyId)}const jue="list:__unassigned__",Nue=e=>`list:${e}`,oD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},Cue=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=n4(e),{filteredUnassigned:o,filteredGrouped:c,totalMatches:u}=S.useMemo(()=>Gee({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:c,totalMatches:u}},Mue=({list:e,orderedFolders:t})=>{const[n,r]=S.useState(""),[i,a]=S.useState("name"),[o,c]=S.useState({}),u=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{if(f.current==null)return;const g=u.current;g&&(g.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:g=>{c(x=>({...x,[g]:!x[g]}))},scrollRef:u,stashScrollTop:()=>{const g=u.current;g&&(f.current=g.scrollTop)}}},sD=()=>{typeof window>"u"||window.dispatchEvent(new Event(Ol))},Pue=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:c,onDeleteView:u,folderFavMap:f,setFolderFavMap:h,setFolderOpenMap:p,createFolder:g,deleteFolder:x,newFolderName:w,setNewFolderName:_,stashScrollTop:E})=>{const T=S.useCallback((K,U)=>{i(K,{folder:U})},[i]),N=S.useCallback((K,U)=>{const z={...K,mingSikType:U},V=R2(z);i(K.id,{mingSikType:U,...V}),o({...z,...V}),c()},[i,o,c]),O=S.useCallback(K=>{o(K),c()},[o,c]),P=S.useCallback(K=>{confirm(`'${K.name}'  ?`)&&(a(K.id),u&&u())},[a,u]),M=S.useCallback(()=>{const K=w.trim();K&&(g(K),_(""),sD())},[w,g,_]),D=S.useCallback(K=>{if(f[K]){alert(`'${K}'   .
   .`);return}confirm(`'${K}'  ?
(   )`)&&(x(K),sD())},[f,x]),$=S.useCallback(K=>{p(U=>({...U,[K]:!U[K]}))},[p]),H=S.useCallback(K=>{h(U=>({...U,[K]:!U[K]}))},[h]);return{handleDrop:S.useCallback(K=>{const{type:U,source:z,destination:V,draggableId:J}=K;if(V&&!t){if(E(),U==="FOLDER"){n(K);return}if(U==="ITEM"){if(!J.replace(/^item:/,""))return;const Y=oD(z.droppableId),X=oD(V.droppableId);r({orderedFolders:e,sourceFolder:Y,sourceIndex:z.index,destinationFolder:X,destinationIndex:V.index})}}},[t,E,n,r,e]),changeFolder:T,changeMingSikType:N,viewAndClose:O,requestDelete:P,createFolderAndNotify:M,requestDeleteFolder:D,toggleFolderOpen:$,toggleFolderFavorite:H}};function Due({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:o,remove:c,update:u,moveItemByDnD:f,toggleFavoriteWithReorder:h,unsetFolderForFolder:p}=zr(),{folderFavMap:g,setFolderFavMap:x,folderOpenMap:w,setFolderOpenMap:_,newFolderName:E,setNewFolderName:T,orderedFolders:N,grouped:O,unassignedItems:P,handleDragEnd:M,createFolder:D,deleteFolder:$,UNASSIGNED_LABEL:H}=hue(o,{unsetFolderForFolder:p}),q=Mue({list:o,orderedFolders:N}),{isFiltering:K,filteredUnassigned:U,filteredGrouped:z,totalMatches:V}=Cue({search:q.search,searchMode:q.searchMode,orderedFolders:N,unassignedItems:P,grouped:O}),J=Pue({orderedFolders:N,isFiltering:K,handleFolderDragEnd:M,moveItemByDnD:f,update:u,remove:c,onView:n,onClose:t,onDeleteView:a,folderFavMap:g,setFolderFavMap:x,setFolderOpenMap:_,createFolder:D,deleteFolder:$,newFolderName:E,setNewFolderName:T,stashScrollTop:q.stashScrollTop});return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),v.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[v.jsx(mue,{onClose:t,onAddNew:()=>{r(),t()}}),v.jsx(Jm,{onDragEnd:J.handleDrop,children:v.jsxs("div",{ref:q.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[v.jsx(pue,{search:q.search,setSearch:q.setSearch,searchMode:q.searchMode,setSearchMode:q.setSearchMode,isFiltering:K,totalMatches:V}),v.jsx(gue,{newFolderName:E,setNewFolderName:T,isFiltering:K,onCreate:J.createFolderAndNotify}),v.jsx(rD,{droppableId:jue,isDropDisabled:K,className:"mb-6",items:U.map((Q,Y)=>v.jsx(aD,{m:Q,index:Y,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[Q.id],onToggleMemo:q.toggleMemo,onChangeFolder:J.changeFolder,onChangeMingSikType:J.changeMingSikType,onView:J.viewAndClose,onEdit:X=>i(X),onDelete:J.requestDelete,onToggleFavorite:X=>void h(X,N)},Q.id))}),v.jsx(cf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:K,children:Q=>v.jsxs("div",{ref:Q.innerRef,...Q.droppableProps,children:[N.map((Y,X)=>{const re=Nue(Y),ue=z[Y]||[],se=!!w[Y],B=!!g[Y];return v.jsx(yue,{folderName:Y,folderIndex:X,isOpen:se,isFavorite:B,itemCount:ue.length,isDragDisabled:K,onToggleOpen:()=>J.toggleFolderOpen(Y),onToggleFavorite:()=>J.toggleFolderFavorite(Y),onDelete:()=>J.requestDeleteFolder(Y),inner:v.jsx(rD,{droppableId:re,isDropDisabled:K,className:"mt-2",items:ue.map((W,ae)=>v.jsx(aD,{m:W,index:ae,orderedFolders:N,unassignedLabel:H,isDragDisabled:K,memoOpen:!!q.memoOpenMap[W.id],onToggleMemo:q.toggleMemo,onChangeFolder:J.changeFolder,onChangeMingSikType:J.changeMingSikType,onView:J.viewAndClose,onEdit:Z=>i(Z),onDelete:J.requestDelete,onToggleFavorite:Z=>void h(Z,N)},W.id))})},`folder-${Y}`)}),Q.placeholder]})})]})})]})]})}function lD(e){return{...e,calendarType:e.calendarType??"solar"}}function cD(e){return!e.birthTime||e.birthTime===""}function uD(e){return!e.birthPlace||e.birthPlace.name===""}function Rue(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Ui(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${c}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const E7="ms_folders";function Lue(){try{const e=JSON.parse(localStorage.getItem(E7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function Iue(e){localStorage.setItem(E7,JSON.stringify(e))}function $ue(e){const[t,n]=S.useState(!1),[r,i]=S.useState(()=>lD(e)),[a,o]=S.useState(cD(e)),[c,u]=S.useState(uD(e)),[f,h]=S.useState([]);return S.useEffect(()=>{h(Lue())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(x,w)=>{i(_=>({..._,[x]:w}))},unknownTime:a,setUnknownTime:o,unknownPlace:c,setUnknownPlace:u,customFolders:f,setCustomFolders:h,resetForm:()=>{i(lD(e)),o(cD(e)),u(uD(e))}}}const k7=["","","","","",""];function Bue(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...k7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[dn,...i]}function zue({list:e,customFolders:t,form:n}){const r=S.useMemo(()=>Bue(e,t),[e,t]),i=S.useMemo(()=>Rue(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function Uue(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=L2(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=I2(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function Fue({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:c,onClose:u,onSaved:f}){return{save:()=>{const g=Uue(t,n,r);if(g){alert(g);return}const x=qc(t.folder===dn?void 0:t.folder),w=J5({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:x,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!w.ok){alert(w.message);return}const _={...e,...w.value};if(_.folder&&!k7.includes(_.folder)&&!i.includes(_.folder)){const E=[...i,_.folder];a(E),Iue(E)}o(e.id,_),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&c(e.id)}}}const l1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Hue="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Gue="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",rs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",que="text-xs text-neutral-500 dark:text-neutral-400",R0="accent-violet-600 dark:accent-violet-400",dD="accent-violet-600 dark:accent-violet-400",jv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Yue=`${jv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Kue=`${jv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,fD=`${jv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Wue=`${jv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Vue({item:e,onClose:t}){const{list:n,update:r,remove:i}=zr(),a=$ue(e),o=zue({list:n,customFolders:a.customFolders,form:a.form}),c=Fue({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?v.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[v.jsx("h3",{className:"text-lg font-bold",children:" "}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:""}),v.jsx("input",{className:l1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:rs,children:" (YYYYMMDD)"}),v.jsx("input",{className:l1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),v.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{type:"radio",className:R0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),v.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{type:"radio",className:R0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),v.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&v.jsx("span",{className:que,children:o.lunarPreview})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:"  (HHMM)"}),v.jsx("input",{className:`${l1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),v.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",className:dD,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),v.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:rs,children:" "}),v.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{type:"radio",className:R0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),v.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:""}),v.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return v.jsxs("span",{className:"inline-flex items-center gap-1",children:[v.jsx("input",{type:"radio",className:R0,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:f}),v.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:" "}),v.jsx(IB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),v.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",className:dD,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),v.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:""}),v.jsx(r4,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:""}),v.jsx("select",{className:Hue,value:a.form.folder??dn,onChange:u=>{const f=u.target.value;f===dn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>v.jsx("option",{value:u===dn?dn:u,children:u},u))})]}),v.jsxs("div",{children:[v.jsx("label",{className:rs,children:""}),v.jsx("textarea",{className:Gue,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),v.jsxs("div",{className:"flex gap-2 justify-end",children:[v.jsx("button",{className:fD,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),v.jsx("button",{className:Wue,onClick:c.save,children:""})]})]}):v.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:Yue,onClick:()=>a.setIsEditing(!0),children:""}),v.jsx("button",{className:Kue,onClick:c.removeThis,children:""}),t&&v.jsx("button",{className:fD,onClick:t,children:""})]})]}),v.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[v.jsxs("div",{children:[": ",e.gender]}),v.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),v.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),v.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),v.jsxs("div",{children:[": ",e.relationship||"-"]}),v.jsxs("div",{children:[": ",e.folder??dn]})]}),e.ganji&&v.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&v.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[v.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Zue({children:e}){const t=ya(),[n,r]=S.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return v.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[v.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[v.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[v.jsx("span",{className:"desk:block hidden",children:""}),v.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),v.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return v.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),v.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[v.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[v.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),v.jsx("div",{className:"font-semibold",children:" "}),v.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),v.jsx("div",{className:"flex-1",children:e})]})]})}function Xue(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{const{data:a}=await Le.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:c}=await Le.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Jue({allow:e,children:t}){const{role:n,loading:r}=Xue();return r?v.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?v.jsx("div",{className:"text-red-400 p-6",children:" ."}):v.jsx(v.Fragment,{children:t})}function A7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=A7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=A7(e))&&(r&&(r+=" "),r+=t);return r}var Que=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fA(e){if(typeof e!="string")return!1;var t=Que;return t.includes(e)}var ede=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tde=new Set(ede);function T7(e){return typeof e!="string"?!1:tde.has(e)}function O7(e){return typeof e=="string"&&e.startsWith("data-")}function Ha(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(T7(n)||O7(n))&&(t[n]=e[n]);return t}function Nv(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ha(t)}return typeof e=="object"&&!Array.isArray(e)?Ha(e):null}function ha(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(T7(n)||O7(n)||fA(n))&&(t[n]=e[n]);return t}function nde(e){return e==null?null:S.isValidElement(e)?ha(e.props):typeof e=="object"&&!Array.isArray(e)?ha(e):null}var rde=["children","width","height","viewBox","className","style","title","desc"];function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(null,arguments)}function ide(e,t){if(e==null)return{};var n,r,i=ade(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ade(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var j7=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:u,desc:f}=e,h=ide(e,rde),p=a||{width:r,height:i,x:0,y:0},g=Qt("recharts-surface",o);return S.createElement("svg",FE({},ha(h),{className:g,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,f),n)}),ode=["children","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(null,arguments)}function sde(e,t){if(e==null)return{};var n,r,i=lde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var So=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=sde(e,ode),a=Qt("recharts-layer",r);return S.createElement("g",HE({className:a},ha(i),{ref:t}),n)}),cde=S.createContext(null);function vn(e){return function(){return e}}const GE=Math.PI,qE=2*GE,Dc=1e-6,ude=qE-Dc;function N7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function dde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N7:dde(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=r-t,f=i-n,h=o-t,p=c-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Dc)if(!(Math.abs(p*u-f*h)>Dc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,w=i-c,_=u*u+f*f,E=x*x+w*w,T=Math.sqrt(_),N=Math.sqrt(g),O=a*Math.tan((GE-Math.acos((_+g-E)/(2*T*N)))/2),P=O/N,M=O/T;Math.abs(P-1)>Dc&&this._append`L${t+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*x>h*w)},${this._x1=t+M*u},${this._y1=n+M*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=t+c,h=n+u,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Dc||Math.abs(this._y1-h)>Dc)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%qE+qE),g>ude?this._append`A${r},${r},0,1,${p},${t-c},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Dc&&this._append`A${r},${r},0,${+(g>=GE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function C7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new fde(t)}function hA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function M7(e){this._context=e}M7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Cv(e){return new M7(e)}function P7(e){return e[0]}function D7(e){return e[1]}function R7(e,t){var n=vn(!0),r=null,i=Cv,a=null,o=C7(c);e=typeof e=="function"?e:e===void 0?P7:vn(e),t=typeof t=="function"?t:t===void 0?D7:vn(t);function c(u){var f,h=(u=hA(u)).length,p,g=!1,x;for(r==null&&(a=i(x=o())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,u),+t(p,f,u));if(x)return a=null,x+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:vn(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:vn(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:vn(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function L0(e,t,n){var r=null,i=vn(!0),a=null,o=Cv,c=null,u=C7(f);e=typeof e=="function"?e:e===void 0?P7:vn(+e),t=typeof t=="function"?t:vn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?D7:vn(+n);function f(p){var g,x,w,_=(p=hA(p)).length,E,T=!1,N,O=new Array(_),P=new Array(_);for(a==null&&(c=o(N=u())),g=0;g<=_;++g){if(!(g<_&&i(E=p[g],g,p))===T)if(T=!T)x=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=x;--w)c.point(O[w],P[w]);c.lineEnd(),c.areaEnd()}T&&(O[g]=+e(E,g,p),P[g]=+t(E,g,p),c.point(r?+r(E,g,p):O[g],n?+n(E,g,p):P[g]))}if(N)return c=null,N+""||null}function h(){return R7().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:vn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:vn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:vn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:vn(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:vn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(c=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=c=null:c=o(a=p),f):a},f}class L7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function hde(e){return new L7(e,!0)}function mde(e){return new L7(e,!1)}function sb(){}function lb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function I7(e){this._context=e}I7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pde(e){return new I7(e)}function $7(e){this._context=e}$7.prototype={areaStart:sb,areaEnd:sb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gde(e){return new $7(e)}function B7(e){this._context=e}B7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yde(e){return new B7(e)}function z7(e){this._context=e}z7.prototype={areaStart:sb,areaEnd:sb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bde(e){return new z7(e)}function hD(e){return e<0?-1:1}function mD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(hD(a)+hD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function pD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function c1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,o-c*n,a,o)}function cb(e){this._context=e}cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c1(this,this._t0,pD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c1(this,pD(this,n=mD(this,e,t)),n);break;default:c1(this,this._t0,n=mD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function U7(e){this._context=new F7(e)}(U7.prototype=Object.create(cb.prototype)).point=function(e,t){cb.prototype.point.call(this,t,e)};function F7(e){this._context=e}F7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function vde(e){return new cb(e)}function xde(e){return new U7(e)}function H7(e){this._context=e}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gD(e),i=gD(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function _de(e){return new H7(e)}function Mv(e,t){this._context=e,this._t=t}Mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wde(e){return new Mv(e,.5)}function Sde(e){return new Mv(e,0)}function Ede(e){return new Mv(e,1)}function qd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,c=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function YE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function kde(e,t){return e[t]}function Ade(e){const t=[];return t.key=e,t}function Tde(){var e=vn([]),t=YE,n=qd,r=kde;function i(a){var o=Array.from(e.apply(this,arguments),Ade),c,u=o.length,f=-1,h;for(const p of a)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(p,o[c].key,f,a)]).data=p;for(c=0,h=hA(t(o));c<u;++c)o[h[c]].index=c;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:vn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:vn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?YE:typeof a=="function"?a:vn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??qd,i):n},i}function Ode(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}qd(e,t)}}function jde(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}qd(e,t)}}function Nde(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,u=0,f=0;c<o;++c){for(var h=e[t[c]],p=h[r][1]||0,g=h[r-1][1]||0,x=(p-g)/2,w=0;w<c;++w){var _=e[t[w]],E=_[r][1]||0,T=_[r-1][1]||0;x+=E-T}u+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,qd(e,t)}}var u1={},d1={},yD;function Cde(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(d1)),d1}var f1={},bD;function G7(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(f1)),f1}var h1={},vD;function mA(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(h1)),h1}var m1={},p1={},xD;function Mde(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(p1)),p1}var _D;function pA(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mde(),n=mA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const p=i[c];f?p==="\\"&&c+1<o?(c++,u+=i[c]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,c++}return u&&a.push(u),a}e.toPath=r})(m1)),m1}var wD;function gA(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cde(),n=G7(),r=mA(),i=pA();function a(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=c[u];return h===void 0?n.isDeepKey(u)?a(c,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=c[u];return h===void 0?f:h}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=c[u];return h===void 0?f:h}}}function o(c,u,f){if(u.length===0)return f;let h=c;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=a})(u1)),u1}var g1,SD;function Pde(){return SD||(SD=1,g1=gA().get),g1}var Dde=Pde();const Pv=di(Dde);var la=e=>e===0?0:e>0?1:-1,Ga=e=>typeof e=="number"&&e!=+e,gs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!Ga(e),Eo=e=>We(e)||typeof e=="string",Rde=0,Tm=e=>{var t=++Rde;return"".concat(e||"").concat(t)},Nl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var a;if(gs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Ga(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},q7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yo(e,t,n){return We(e)&&We(t)?e+n*(t-e):t}function Y7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Pv(r,t))===n)}var br=e=>e===null||typeof e>"u",yA=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Lde(e){return e!=null}function op(){}var K7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,bA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{fA(i)&&(r[i]=(a=>n[i](n,a)))}),r},Ide=(e,t,n)=>r=>(e(t,n,r),null),$de=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];fA(i)&&typeof a=="function"&&(r||(r={}),r[i]=Ide(a,t,n))}),r};function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(r){zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zde(e,t,n){return(t=Ude(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e){var t=Fde(e,"string");return typeof t=="symbol"?t:t+""}function Fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(e,t){var n=Bde({},e),r=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}var y1={},b1={},kD;function Hde(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(b1)),b1}var v1={},AD;function W7(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(v1)),v1}var x1={},_1={},w1={},TD;function Gde(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(w1)),w1}var OD;function vA(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gde();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(_1)),_1}var S1={},jD;function qde(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(S1)),S1}var ND;function Yde(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vA(),n=qde();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(x1)),x1}var E1={},k1={},CD;function Kde(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(k1)),k1}var A1={},T1={},O1={},j1={},MD;function V7(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(j1)),j1}var N1={},PD;function Z7(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(N1)),N1}var C1={},DD;function X7(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(C1)),C1}var RD;function Wde(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7(),n=Z7(),r=X7();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):a(h,p,function x(w,_,E,T,N,O){const P=g(w,_,E,T,N,O);return P!==void 0?!!P:a(w,_,x,O)},new Map)}function a(h,p,g,x){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,g,x);case"function":return Object.keys(p).length>0?a(h,{...p},g,x):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,g,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,g,x);if(p instanceof Map)return c(h,p,g,x);if(p instanceof Set)return f(h,p,g,x);const w=Object.keys(p);if(h==null)return w.length===0;if(w.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let _=0;_<w.length;_++){const E=w[_];if(!n.isPrimitive(h)&&!(E in h)||p[E]===void 0&&h[E]!==void 0||p[E]===null&&h[E]!==null||!g(h[E],p[E],E,h,p,x))return!1}return!0}finally{x?.delete(p)}}function c(h,p,g,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,_]of p.entries()){const E=h.get(w);if(g(E,_,w,h,p,x)===!1)return!1}return!0}function u(h,p,g,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let _=0;_<p.length;_++){const E=p[_];let T=!1;for(let N=0;N<h.length;N++){if(w.has(N))continue;const O=h[N];let P=!1;if(g(O,E,_,h,p,x)&&(P=!0),P){w.add(N),T=!0;break}}if(!T)return!1}return!0}function f(h,p,g,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],g,x):!1}e.isMatchWith=i,e.isSetMatch=f})(O1)),O1}var LD;function J7(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wde();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(T1)),T1}var M1={},P1={},D1={},ID;function Vde(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(D1)),D1}var R1={},$D;function Q7(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(R1)),R1}var L1={},BD;function e6(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",x="[object Object]",w="[object Error]",_="[object DataView]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",O="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",H="[object BigInt64Array]",q="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=$,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=O,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=T})(L1)),L1}var I1={},zD;function Zde(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(I1)),I1}var UD;function t6(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vde(),n=Q7(),r=e6(),i=Z7(),a=Zde();function o(h,p){return c(h,void 0,h,new Map,p)}function c(h,p,g,x=new Map,w=void 0){const _=w?.(h,p,g,x);if(_!==void 0)return _;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const E=new Array(h.length);x.set(h,E);for(let T=0;T<h.length;T++)E[T]=c(h[T],T,g,x,w);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;x.set(h,E);for(const[T,N]of h)E.set(T,c(N,T,g,x,w));return E}if(h instanceof Set){const E=new Set;x.set(h,E);for(const T of h)E.add(c(T,void 0,g,x,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,E);for(let T=0;T<h.length;T++)E[T]=c(h[T],T,g,x,w);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,E),u(E,h,g,x,w),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return x.set(h,E),u(E,h,g,x,w),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return x.set(h,E),u(E,h,g,x,w),E}if(h instanceof Error){const E=new h.constructor;return x.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,u(E,h,g,x,w),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return x.set(h,E),u(E,h,g,x,w),E}if(h instanceof Number){const E=new Number(h.valueOf());return x.set(h,E),u(E,h,g,x,w),E}if(h instanceof String){const E=new String(h.valueOf());return x.set(h,E),u(E,h,g,x,w),E}if(typeof h=="object"&&f(h)){const E=Object.create(Object.getPrototypeOf(h));return x.set(h,E),u(E,h,g,x,w),E}return h}function u(h,p,g=h,x,w){const _=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<_.length;E++){const T=_[E],N=Object.getOwnPropertyDescriptor(h,T);(N==null||N.writable)&&(h[T]=c(p[T],T,g,x,w))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(P1)),P1}var FD;function Xde(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t6();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(M1)),M1}var HD;function Jde(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J7(),n=Xde();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(A1)),A1}var $1={},B1={},z1={},GD;function Qde(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t6(),n=e6();function r(i,a){return t.cloneDeepWith(i,(o,c,u,f)=>{const h=a?.(o,c,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(z1)),z1}var qD;function efe(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qde();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(B1)),B1}var U1={},F1={},YD;function n6(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(F1)),F1}var H1={},KD;function tfe(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(H1)),H1}var WD;function nfe(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7(),n=n6(),r=tfe(),i=pA();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(U1)),U1}var VD;function rfe(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J7(),n=mA(),r=efe(),i=gA(),a=nfe();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,c);return h===void 0?a.has(f,c):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})($1)),$1}var ZD;function ife(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7(),n=Kde(),r=Jde(),i=rfe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(E1)),E1}var XD;function afe(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hde(),n=W7(),r=Yde(),i=ife();function a(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a})(y1)),y1}var G1,JD;function ofe(){return JD||(JD=1,G1=afe().uniqBy),G1}var sfe=ofe();const QD=di(sfe);function lfe(e,t,n){return t===!0?QD(e,n):typeof t=="function"?QD(e,t):e}var q1={exports:{}},Y1={},K1={exports:{}},W1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function cfe(){if(eR)return W1;eR=1;var e=Jd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(p,g){var x=g(),w=r({inst:{value:x,getSnapshot:g}}),_=w[0].inst,E=w[1];return a(function(){_.value=x,_.getSnapshot=g,u(_)&&E({inst:_})},[p,x,g]),i(function(){return u(_)&&E({inst:_}),p(function(){u(_)&&E({inst:_})})},[p]),o(x),x}function u(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return W1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,W1}var tR;function ufe(){return tR||(tR=1,K1.exports=cfe()),K1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR;function dfe(){if(nR)return Y1;nR=1;var e=Jd(),t=ufe();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Y1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=c(function(){function T(D){if(!N){if(N=!0,O=D,D=g(D),x!==void 0&&_.hasValue){var $=_.value;if(x($,D))return P=$}return P=D}if($=P,r(O,D))return $;var H=g(D);return x!==void 0&&x($,H)?(O=D,$):(O=D,P=H)}var N=!1,O,P,M=p===void 0?null:p;return[function(){return T(h())},M===null?void 0:function(){return T(M())}]},[h,p,g,x]);var E=i(f,w[0],w[1]);return o(function(){_.hasValue=!0,_.value=E},[E]),u(E),E},Y1}var rR;function ffe(){return rR||(rR=1,q1.exports=dfe()),q1.exports}var hfe=ffe(),xA=S.createContext(null),mfe=e=>e,sr=()=>{var e=S.useContext(xA);return e?e.store.dispatch:mfe},py=()=>{},pfe=()=>py,gfe=(e,t)=>e===t;function Je(e){var t=S.useContext(xA);return hfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pfe,t?t.store.getState:py,t?t.store.getState:py,t?e:py,gfe)}function yfe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function bfe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var iR=e=>Array.isArray(e)?e:[e];function xfe(e){const t=Array.isArray(e[0])?e[0]:e;return vfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _fe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var wfe=class{constructor(e){this.value=e}deref(){return this.value}},Sfe=typeof WeakRef<"u"?WeakRef:wfe,Efe=0,aR=1;function I0(){return{s:Efe,v:void 0,o:null,p:null}}function r6(e,t={}){let n=I0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let c=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const _=w.get(x);_===void 0?(c=I0(),w.set(x,c)):c=_}else{let w=c.p;w===null&&(c.p=w=new Map);const _=w.get(x);_===void 0?(c=I0(),w.set(x,c)):c=_}}const f=c;let h;if(c.s===aR)h=c.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Sfe(h):h}return f.s=aR,f.v=h,h}return o.clearCache=()=>{n=I0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function kfe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),yfe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:x=r6,argsMemoizeOptions:w=[]}=h,_=iR(g),E=iR(w),T=xfe(i),N=p(function(){return a++,f.apply(null,arguments)},..._),O=x(function(){o++;const M=_fe(T,arguments);return c=N.apply(null,M),c},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:N,dependencies:T,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var we=kfe(r6),Afe=Object.assign((e,t=we)=>{bfe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>Afe}),V1={},Z1={},X1={},oR;function Tfe(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=n})(X1)),X1}var J1={},Q1={},sR;function i6(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Q1)),Q1}var lR;function Ofe(){return lR||(lR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(J1)),J1}var cR;function jfe(){return cR||(cR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tfe(),n=Ofe(),r=pA();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const f=(x,w)=>{let _=x;for(let E=0;E<w.length&&_!=null;++E)_=_[w[E]];return _},h=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(w=>h(w,x))})).slice().sort((x,w)=>{for(let _=0;_<p.length;_++){const E=t.compareValues(x.criteria[_],w.criteria[_],c[_]);if(E!==0)return E}return 0}).map(x=>x.original)}e.orderBy=i})(Z1)),Z1}var eS={},uR;function Nfe(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(eS)),eS}var tS={},dR;function a6(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6(),n=vA(),r=V7(),i=X7();function a(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=a})(tS)),tS}var fR;function Cfe(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jfe(),n=Nfe(),r=a6();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(V1)),V1}var nS,hR;function Mfe(){return hR||(hR=1,nS=Cfe().sortBy),nS}var Pfe=Mfe();const Dv=di(Pfe);var o6=e=>e.legend.settings,Dfe=e=>e.legend.size,Rfe=e=>e.legend.payload;we([Rfe,o6],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Dv(r,n):r});var $0=1;function Lfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>$0||Math.abs(o.left-t.left)>$0||Math.abs(o.top-t.top)>$0||Math.abs(o.width-t.width)>$0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var s6=Symbol.for("immer-nothing"),mR=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function La(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Di=Object,Yd=Di.getPrototypeOf,ub="constructor",Rv="prototype",KE="configurable",db="enumerable",gy="writable",Om="value",ys=e=>!!e&&!!e[Ur];function qa(e){return e?l6(e)||Lv(e)||!!e[mR]||!!e[ub]?.[mR]||Iv(e)||$v(e):!1}var Ife=Di[Rv][ub].toString(),pR=new WeakMap;function l6(e){if(!e||!_A(e))return!1;const t=Yd(e);if(t===null||t===Di[Rv])return!0;const n=Di.hasOwnProperty.call(t,ub)&&t[ub];if(n===Object)return!0;if(!pd(n))return!1;let r=pR.get(n);return r===void 0&&(r=Function.toString.call(n),pR.set(n,r)),r===Ife}function sp(e,t,n=!0){lp(e)===0?(n?Reflect.ownKeys(e):Di.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function lp(e){const t=e[Ur];return t?t.type_:Lv(e)?1:Iv(e)?2:$v(e)?3:0}var gR=(e,t,n=lp(e))=>n===2?e.has(t):Di[Rv].hasOwnProperty.call(e,t),WE=(e,t,n=lp(e))=>n===2?e.get(t):e[t],fb=(e,t,n,r=lp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function $fe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Lv=Array.isArray,Iv=e=>e instanceof Map,$v=e=>e instanceof Set,_A=e=>typeof e=="object",pd=e=>typeof e=="function",rS=e=>typeof e=="boolean",is=e=>e.copy_||e.base_,wA=e=>e.modified_?e.copy_:e.base_;function VE(e,t){if(Iv(e))return new Map(e);if($v(e))return new Set(e);if(Lv(e))return Array[Rv].slice.call(e);const n=l6(e);if(t===!0||t==="class_only"&&!n){const r=Di.getOwnPropertyDescriptors(e);delete r[Ur];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c[gy]===!1&&(c[gy]=!0,c[KE]=!0),(c.get||c.set)&&(r[o]={[KE]:!0,[gy]:!0,[db]:c[db],[Om]:e[o]})}return Di.create(Yd(e),r)}else{const r=Yd(e);if(r!==null&&n)return{...e};const i=Di.create(r);return Di.assign(i,e)}}function SA(e,t=!1){return Bv(e)||ys(e)||!qa(e)||(lp(e)>1&&Di.defineProperties(e,{set:B0,add:B0,clear:B0,delete:B0}),Di.freeze(e),t&&sp(e,(n,r)=>{SA(r,!0)},!1)),e}function Bfe(){La(2)}var B0={[Om]:Bfe};function Bv(e){return e===null||!_A(e)?!0:Di.isFrozen(e)}var hb="MapSet",ZE="Patches",c6={};function Kd(e){const t=c6[e];return t||La(0,e),t}var zfe=e=>!!c6[e],jm,u6=()=>jm,Ufe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zfe(hb)?Kd(hb):void 0});function yR(e,t){t&&(e.patchPlugin_=Kd(ZE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function XE(e){JE(e),e.drafts_.forEach(Ffe),e.drafts_=null}function JE(e){e===jm&&(jm=e.parent_)}var bR=e=>jm=Ufe(jm,e);function Ffe(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ur].modified_&&(XE(t),La(4)),qa(e)&&(e=xR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Ur].base_,e,t)}else e=xR(t,n);return Hfe(t,e,!0),XE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==s6?e:void 0}function xR(e,t){if(Bv(t))return t;const n=t[Ur];if(!n)return EA(t,e.handledSet_,e);if(!zv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);h6(n,e)}return n.copy_}function Hfe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&SA(t,n)}function d6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var zv=(e,t)=>e.scope_===t,Gfe=[];function f6(e,t,n,r){const i=is(e),a=e.type_;if(r!==void 0&&WE(i,r,a)===t){fb(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;sp(i,(u,f)=>{if(ys(f)){const h=c.get(f)||[];h.push(u),c.set(f,h)}})}const o=e.draftLocations_.get(t)??Gfe;for(const c of o)fb(i,c,n,a)}function qfe(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!zv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=wA(a);f6(e,a.draft_??a,o,n),h6(a,i)})}function h6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}d6(e)}}function Yfe(e,t,n){const{scope_:r}=e;if(ys(n)){const i=n[Ur];zv(i,r)&&i.callbacks_.push(function(){yy(e);const o=wA(i);f6(e,n,o,t)})}else qa(n)&&e.callbacks_.push(function(){const a=is(e);WE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&EA(WE(e.copy_,t,e.type_),r.handledSet_,r)})}function EA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ys(e)||t.has(e)||!qa(e)||Bv(e)||(t.add(e),sp(e,(r,i)=>{if(ys(i)){const a=i[Ur];if(zv(a,n)){const o=wA(a);fb(e,r,o,e.type_),d6(a)}}else qa(i)&&EA(i,t,n)})),e}function Kfe(e,t){const n=Lv(e),r={type_:n?1:0,scope_:t?t.scope_:u6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=kA;n&&(i=[r],a=Nm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,[c,r]}var kA={get(e,t){if(t===Ur)return e;const n=is(e);if(!gR(n,t,e.type_))return Wfe(e,n,t);const r=n[t];if(e.finalized_||!qa(r))return r;if(r===iS(e.base_,t)){yy(e);const i=e.type_===1?+t:t,a=ek(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in is(e)},ownKeys(e){return Reflect.ownKeys(is(e))},set(e,t,n){const r=m6(is(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=iS(is(e),t),a=i?.[Ur];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if($fe(n,i)&&(n!==void 0||gR(e.base_,t,e.type_)))return!0;yy(e),QE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Yfe(e,t,n)),!0},deleteProperty(e,t){return yy(e),iS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),QE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=is(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[gy]:!0,[KE]:e.type_!==1||t!=="length",[db]:r[db],[Om]:n[t]}},defineProperty(){La(11)},getPrototypeOf(e){return Yd(e.base_)},setPrototypeOf(){La(12)}},Nm={};sp(kA,(e,t)=>{Nm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Nm.deleteProperty=function(e,t){return Nm.set.call(this,e,t,void 0)};Nm.set=function(e,t,n){return kA.set.call(this,e[0],t,n,e[0])};function iS(e,t){const n=e[Ur];return(n?is(n):e)[t]}function Wfe(e,t,n){const r=m6(t,n);return r?Om in r?r[Om]:r.get?.call(e.draft_):void 0}function m6(e,t){if(!(t in e))return;let n=Yd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Yd(n)}}function QE(e){e.modified_||(e.modified_=!0,e.parent_&&QE(e.parent_))}function yy(e){e.copy_||(e.assigned_=new Map,e.copy_=VE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(pd(n)&&!pd(r)){const o=r;r=n;const c=this;return function(f=o,...h){return c.produce(f,p=>r.call(this,p,...h))}}pd(r)||La(6),i!==void 0&&!pd(i)&&La(7);let a;if(qa(n)){const o=bR(this),c=ek(o,n,void 0);let u=!0;try{a=r(c),u=!1}finally{u?XE(o):JE(o)}return yR(o,i),vR(a,o)}else if(!n||!_A(n)){if(a=r(n),a===void 0&&(a=n),a===s6&&(a=void 0),this.autoFreeze_&&SA(a,!0),i){const o=[],c=[];Kd(ZE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else La(1,n)},this.produceWithPatches=(n,r)=>{if(pd(n))return(c,...u)=>this.produceWithPatches(c,f=>n(f,...u));let i,a;return[this.produce(n,r,(c,u)=>{i=c,a=u}),i,a]},rS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),rS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),rS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){qa(t)||La(8),ys(t)&&(t=za(t));const n=bR(this),r=ek(n,t,void 0);return r[Ur].isManual_=!0,JE(n),r}finishDraft(t,n){const r=t&&t[Ur];(!r||!r.isManual_)&&La(9);const{scope_:i}=r;return yR(i,n),vR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Kd(ZE).applyPatches_;return ys(t)?i(t,n):this.produce(t,a=>i(a,n))}};function ek(e,t,n,r){const[i,a]=Iv(t)?Kd(hb).proxyMap_(t,n):$v(t)?Kd(hb).proxySet_(t,n):Kfe(t,n);return(n?.scope_??u6()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?qfe(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function za(e){return ys(e)||La(10,e),p6(e)}function p6(e){if(!qa(e)||Bv(e))return e;const t=e[Ur];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=VE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=VE(e,!0);return sp(n,(i,a)=>{fb(n,i,p6(a))},r),t&&(t.finalized_=!1),n}var Zfe=new Vfe,g6=Zfe.produce;function y6(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Xfe=y6(),Jfe=y6,Qfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ym:ym.apply(null,arguments)};function ma(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ii(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>zB(r)&&r.type===e,n}var b6=class em extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,em.prototype)}static get[Symbol.species](){return em}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new em(...t[0].concat(this)):new em(...t.concat(this))}};function _R(e){return qa(e)?g6(e,()=>{}):e}function z0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function ehe(e){return typeof e=="boolean"}var the=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new b6;return n&&(ehe(n)?o.push(Xfe):o.push(Jfe(n.extraArgument))),o},v6="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[v6]:!0}}),wR=e=>t=>{setTimeout(t,e)},x6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wR(10):e.type==="callback"?e.queueNotification:wR(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){try{return i=!h?.meta?.[v6],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},nhe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new b6(e);return r&&i.push(x6(typeof r=="object"?r:void 0)),i};function rhe(e){const t=the(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(u2(n))c=$B(n);else throw new Error(Ii(1));let u;typeof r=="function"?u=r(t):u=t();let f=ym;i&&(f=Qfe({trace:!1,...typeof i=="object"&&i}));const h=BB(...u),p=nhe(h);let g=typeof o=="function"?o(p):p();const x=f(...g);return d2(c,a,x)}function _6(e){const t={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Ii(28));if(c in t)throw new Error(Ii(29));return t[c]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function ihe(e){return typeof e=="function"}function ahe(e,t){let[n,r,i]=_6(t),a;if(ihe(e))a=()=>_R(e());else{const c=_R(e);a=()=>c}function o(c=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(ys(h)){const x=p(h,u);return x===void 0?h:x}else{if(qa(h))return g6(h,g=>p(g,u));{const g=p(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return o.getInitialState=a,o}var ohe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",she=(e=21)=>{let t="",n=e;for(;n--;)t+=ohe[Math.random()*64|0];return t},lhe=Symbol.for("rtk-slice-createasyncthunk");function che(e,t){return`${e}/${t}`}function uhe({creators:e}={}){const t=e?.asyncThunk?.[lhe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ii(11));const o=(typeof r.reducers=="function"?r.reducers(fhe()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(Ii(12));if(M in u.sliceCaseReducersByType)throw new Error(Ii(13));return u.sliceCaseReducersByType[M]=P,f},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return u.actionCreators[O]=P,f},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,f}};c.forEach(O=>{const P=o[O],M={reducerName:O,type:che(i,O),createNotation:typeof r.reducers=="function"};mhe(P)?ghe(M,P,f,t):hhe(M,P,f)});function h(){const[O={},P=[],M=void 0]=typeof r.extraReducers=="function"?_6(r.extraReducers):[r.extraReducers],D={...O,...u.sliceCaseReducersByType};return ahe(r.initialState,$=>{for(let H in D)$.addCase(H,D[H]);for(let H of u.sliceMatchers)$.addMatcher(H.matcher,H.reducer);for(let H of P)$.addMatcher(H.matcher,H.reducer);M&&$.addDefaultCase(M)})}const p=O=>O,g=new Map,x=new WeakMap;let w;function _(O,P){return w||(w=h()),w(O,P)}function E(){return w||(w=h()),w.getInitialState()}function T(O,P=!1){function M($){let H=$[O];return typeof H>"u"&&P&&(H=z0(x,M,E)),H}function D($=p){const H=z0(g,P,()=>new WeakMap);return z0(H,$,()=>{const q={};for(const[K,U]of Object.entries(r.selectors??{}))q[K]=dhe(U,$,()=>z0(x,$,E),P);return q})}return{reducerPath:O,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const N={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...T(a),injectInto(O,{reducerPath:P,...M}={}){const D=P??a;return O.inject({reducerPath:D,reducer:_},M),{...N,...T(D,!0)}}};return N}}function dhe(e,t,n,r){function i(a,...o){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var fi=uhe();function fhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function hhe({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!phe(r))throw new Error(Ii(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ma(e,o):ma(e))}function mhe(e){return e._reducerDefinitionType==="asyncThunk"}function phe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ghe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ii(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),c&&r.addCase(p.pending,c),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||U0,pending:c||U0,rejected:u||U0,settled:f||U0})}function U0(){}var yhe="task",w6="listener",S6="completed",AA="cancelled",bhe=`task-${AA}`,vhe=`task-${S6}`,tk=`${w6}-${AA}`,xhe=`${w6}-${S6}`,Uv=class{constructor(e){this.code=e,this.message=`${yhe} ${AA} (reason: ${e})`}name="TaskAbortError";message},TA=(e,t)=>{if(typeof e!="function")throw new TypeError(Ii(32))},mb=()=>{},E6=(e,t=mb)=>(e.catch(t),e),k6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Yc=e=>{if(e.aborted)throw new Uv(e.reason)};function A6(e,t){let n=mb;return new Promise((r,i)=>{const a=()=>i(new Uv(e.reason));if(e.aborted){a();return}n=k6(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=mb})}var _he=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Uv?"cancelled":"rejected",error:n}}finally{t?.()}},pb=e=>t=>E6(A6(e,t).then(n=>(Yc(e),n))),T6=e=>{const t=pb(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Md}=Object,SR={},Fv="listenerMiddleware",whe=(e,t)=>{const n=r=>k6(e,()=>r.abort(e.reason));return(r,i)=>{TA(r);const a=new AbortController;n(a);const o=_he(async()=>{Yc(e),Yc(a.signal);const c=await r({pause:pb(a.signal),delay:T6(a.signal),signal:a.signal});return Yc(a.signal),c},()=>a.abort(vhe));return i?.autoJoin&&t.push(o.catch(mb)),{result:pb(e)(o),cancel(){a.abort(bhe)}}}},She=(e,t)=>{const n=async(r,i)=>{Yc(t);let a=()=>{};const c=[new Promise((u,f)=>{let h=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await A6(t,Promise.race(c));return Yc(t),u}finally{a()}};return(r,i)=>E6(n(r,i))},O6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ma(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ii(21));return TA(a),{predicate:i,type:t,effect:a}},j6=Md(e=>{const{type:t,predicate:n,effect:r}=O6(e);return{id:she(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ii(22))}}},{withTypes:()=>j6}),ER=(e,t)=>{const{type:n,effect:r,predicate:i}=O6(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},nk=e=>{e.pending.forEach(t=>{t.abort(tk)})},Ehe=(e,t)=>()=>{for(const n of t.keys())nk(n);e.clear()},kR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},N6=Md(ma(`${Fv}/add`),{withTypes:()=>N6}),khe=ma(`${Fv}/removeAll`),C6=Md(ma(`${Fv}/remove`),{withTypes:()=>C6}),Ahe=(...e)=>{console.error(`${Fv}/error`,...e)},cp=(e={})=>{const t=new Map,n=new Map,r=x=>{const w=n.get(x)??0;n.set(x,w+1)},i=x=>{const w=n.get(x)??1;w===1?n.delete(x):n.set(x,w-1)},{extra:a,onError:o=Ahe}=e;TA(o);const c=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),w=>{x.unsubscribe(),w?.cancelActive&&nk(x)}),u=x=>{const w=ER(t,x)??j6(x);return c(w)};Md(u,{withTypes:()=>u});const f=x=>{const w=ER(t,x);return w&&(w.unsubscribe(),x.cancelActive&&nk(w)),!!w};Md(f,{withTypes:()=>f});const h=async(x,w,_,E)=>{const T=new AbortController,N=She(u,T.signal),O=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(w,Md({},_,{getOriginalState:E,condition:(P,M)=>N(P,M).then(Boolean),take:N,delay:T6(T.signal),pause:pb(T.signal),extra:a,signal:T.signal,fork:whe(T.signal,O),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,M,D)=>{P!==T&&(P.abort(tk),D.delete(P))})},cancel:()=>{T.abort(tk),x.pending.delete(T)},throwIfCancelled:()=>{Yc(T.signal)}})))}catch(P){P instanceof Uv||kR(o,P,{raisedBy:"effect"})}finally{await Promise.all(O),T.abort(xhe),i(x),x.pending.delete(T)}},p=Ehe(t,n);return{middleware:x=>w=>_=>{if(!zB(_))return w(_);if(N6.match(_))return u(_.payload);if(khe.match(_)){p();return}if(C6.match(_))return f(_.payload);let E=x.getState();const T=()=>{if(E===SR)throw new Error(Ii(23));return E};let N;try{if(N=w(_),t.size>0){const O=x.getState(),P=Array.from(t.values());for(const M of P){let D=!1;try{D=M.predicate(_,O,E)}catch($){D=!1,kR(o,$,{raisedBy:"predicate"})}D&&h(M,_,x,T)}}}finally{E=SR}return N},startListening:u,stopListening:f,clearListeners:p}};function Ii(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var The={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},M6=fi({name:"chartLayout",initialState:The,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Ohe,setLayout:jhe,setChartSize:Nhe,setScale:Che}=M6.actions,Mhe=M6.reducer;function P6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){Phe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Phe(e,t,n){return(t=Dhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dhe(e){var t=Rhe(e,"string");return typeof t=="symbol"?t:t+""}function Rhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(e,t,n){return br(e)||br(t)?n:Eo(t)?Pv(e,t,n):typeof t=="function"?t(e):n}var Lhe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&We(e[a]))return _d(_d({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&We(e[o]))return _d(_d({},e),{},{[o]:e[o]+(i||0)})}return e},Ss=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",D6=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(t),a||o.push(n),o},R6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:x}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,_=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(_=x==="angleAxis"&&a&&a.length>=2?la(a[0]-a[1])*2*_:_,p||g){var E=(p||g||[]).map((T,N)=>{var O=r?r.indexOf(T):T;return{coordinate:o(O)+_,value:T,offset:_,index:N}});return E.filter(T=>!Ga(T.coordinate))}return u&&f?f.map((T,N)=>({coordinate:o(T)+_,value:T,index:N,offset:_})):o.ticks&&h!=null?o.ticks(h).map((T,N)=>({coordinate:o(T)+_,value:T,offset:_,index:N})):o.domain().map((T,N)=>({coordinate:o(T)+_,value:r?r[T]:T,index:N,offset:_}))},TR=1e-4,Ihe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-TR,a=Math.max(r[0],r[1])+TR,o=e(t[0]),c=e(t[n-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},$he=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var c=Ga(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},Bhe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=Ga(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},zhe={sign:$he,expand:Ode,none:qd,silhouette:jde,wiggle:Nde,positive:Bhe},Uhe=(e,t,n)=>{var r=zhe[n],i=Tde().keys(t).value((a,o)=>Number(Tr(a,o,0))).order(YE).offset(r);return i(e)};function Fhe(e){return e==null?void 0:String(e)}function OR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!br(i[t.dataKey])){var c=Y7(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Tr(i,br(o)?t.dataKey:o);return br(u)?null:t.scale(u)}var Hhe=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},Ghe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qhe=(e,t,n)=>{if(e!=null)return Ghe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((u,f)=>{var h=P6(f,t,n),p=Hhe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},jR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Dv(t,h=>h.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function CR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return _d(_d({},t),{},{dataKey:n,payload:r,value:i,name:a})}function L6(e,t){if(e)return String(e);if(typeof t=="string")return t}var Yhe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Khe=(e,t)=>t==="centric"?e.angle:e.radius,Es=e=>e.layout.width,ks=e=>e.layout.height,Whe=e=>e.layout.scale,I6=e=>e.layout.margin,Hv=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Gv=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Vhe="data-recharts-item-index",Zhe="data-recharts-item-data-key",up=60;function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(r){Xhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xhe(e,t,n){return(t=Jhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jhe(e){var t=Qhe(e,"string");return typeof t=="symbol"?t:t+""}function Qhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eme=e=>e.brush.height;function tme(e){var t=Gv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:up;return n+i}return n},0)}function nme(e){var t=Gv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:up;return n+i}return n},0)}function rme(e){var t=Hv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ime(e){var t=Hv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xr=we([Es,ks,I6,eme,tme,nme,rme,ime,o6,Dfe],(e,t,n,r,i,a,o,c,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},g=F0(F0({},p),h),x=g.bottom;g.bottom+=r,g=Lhe(g,u,f);var w=e-g.left-g.right,_=t-g.top-g.bottom;return F0(F0({brushBottom:x},g),{},{width:Math.max(w,0),height:Math.max(_,0)})}),ame=we(xr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$6=we(Es,ks,(e,t)=>({x:0,y:0,width:e,height:t})),ome=S.createContext(null),hi=()=>S.useContext(ome)!=null,qv=e=>e.brush,Yv=we([qv,xr,I6],(e,t,n)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:We(e.width)?e.width:t.width})),aS={},oS={},sS={},PR;function sme(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{f&&h(),_()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{w(),o=void 0,c=null},E=()=>{h()},T=function(...N){if(i?.aborted)return;o=this,c=N;const O=g==null;x(),u&&O&&h()};return T.schedule=x,T.cancel=_,T.flush=E,i?.addEventListener("abort",_,{once:!0}),T}e.debounce=t})(sS)),sS}var DR;function lme(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sme();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(..._){h=r.apply(this,_),p=null},i,{edges:f}),x=function(..._){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,_),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,_),h)},w=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=w,x}e.debounce=n})(oS)),oS}var RR;function cme(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lme();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(aS)),aS}var lS,LR;function ume(){return LR||(LR=1,lS=cme().throttle),lS}var dme=ume();const fme=di(dme);var yb=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},B6=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,c=gs(r)?e:Number(r),u=gs(i)?t:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},hme={width:0,height:0,overflow:"visible"},mme={width:0,overflowX:"visible"},pme={height:0,overflowY:"visible"},gme={},yme=e=>{var{width:t,height:n}=e,r=gs(t),i=gs(n);return r&&i?hme:r?mme:i?pme:gme};function bme(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function xn(e){return Number.isFinite(e)}function ko(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rk.apply(null,arguments)}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){vme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vme(e,t,n){return(t=xme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6=S.createContext({width:-1,height:-1});function wme(e){return ko(e.width)&&ko(e.height)}function U6(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return wme(i)?S.createElement(z6.Provider,{value:i},t):null}var OA=()=>S.useContext(z6),Sme=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:h=0,id:p,className:g,onResize:x,style:w={}}=e,_=S.useRef(null),E=S.useRef();E.current=x,S.useImperativeHandle(t,()=>_.current);var[T,N]=S.useState({containerWidth:r.width,containerHeight:r.height}),O=S.useCallback((H,q)=>{N(K=>{var U=Math.round(H),z=Math.round(q);return K.containerWidth===U&&K.containerHeight===z?K:{containerWidth:U,containerHeight:z}})},[]);S.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return op;var H=z=>{var V,{width:J,height:Q}=z[0].contentRect;O(J,Q),(V=E.current)===null||V===void 0||V.call(E,J,Q)};h>0&&(H=fme(H,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(H),{width:K,height:U}=_.current.getBoundingClientRect();return O(K,U),q.observe(_.current),()=>{q.disconnect()}},[O,h]);var{containerWidth:P,containerHeight:M}=T;yb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:$}=B6(P,M,{width:i,height:a,aspect:n,maxHeight:u});return yb(D!=null&&D>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,i,a,o,c,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Qt("recharts-responsive-container",g),style:$R($R({},w),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:_},S.createElement("div",{style:yme({width:i,height:a})},S.createElement(U6,{width:D,height:$},f)))}),Eme=S.forwardRef((e,t)=>{var n=OA();if(ko(n.width)&&ko(n.height))return e.children;var{width:r,height:i}=bme({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=B6(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return We(a)&&We(o)?S.createElement(U6,{width:a,height:o},e.children):S.createElement(Sme,rk({},e,{width:r,height:i,ref:t}))});function F6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Kv=()=>{var e,t=hi(),n=Je(ame),r=Je(Yv),i=(e=Je(qv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},kme={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},H6=()=>{var e;return(e=Je(xr))!==null&&e!==void 0?e:kme},G6=()=>Je(Es),q6=()=>Je(ks),Vt=e=>e.layout.layoutType,dp=()=>Je(Vt),Ame=()=>{var e=dp();if(e==="horizontal"||e==="vertical")return e},Tme=()=>{var e=dp();return e!==void 0},Wv=e=>{var t=sr(),n=hi(),{width:r,height:i}=e,a=OA(),o=r,c=i;return a&&(o=a.width>0?a.width:r,c=a.height>0?a.height:i),S.useEffect(()=>{!n&&ko(o)&&ko(c)&&t(Nhe({width:o,height:c}))},[t,n,o,c]),null},Y6=Symbol.for("immer-nothing"),BR=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function Ia(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cm=Object.getPrototypeOf;function Wd(e){return!!e&&!!e[zi]}function Qc(e){return e?K6(e)||Array.isArray(e)||!!e[BR]||!!e.constructor?.[BR]||fp(e)||Zv(e):!1}var Ome=Object.prototype.constructor.toString(),zR=new WeakMap;function K6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zR.get(n);return r===void 0&&(r=Function.toString.call(n),zR.set(n,r)),r===Ome}function bb(e,t,n=!0){Vv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Vv(e){const t=e[zi];return t?t.type_:Array.isArray(e)?1:fp(e)?2:Zv(e)?3:0}function ik(e,t){return Vv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function W6(e,t,n){const r=Vv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function jme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fp(e){return e instanceof Map}function Zv(e){return e instanceof Set}function Rc(e){return e.copy_||e.base_}function ak(e,t){if(fp(e))return new Map(e);if(Zv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=K6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[zi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Cm(e),r)}else{const r=Cm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function jA(e,t=!1){return Xv(e)||Wd(e)||!Qc(e)||(Vv(e)>1&&Object.defineProperties(e,{set:H0,add:H0,clear:H0,delete:H0}),Object.freeze(e),t&&Object.values(e).forEach(n=>jA(n,!0))),e}function Nme(){Ia(2)}var H0={value:Nme};function Xv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Cme={};function eu(e){const t=Cme[e];return t||Ia(0,e),t}var Mm;function V6(){return Mm}function Mme(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UR(e,t){t&&(eu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ok(e){sk(e),e.drafts_.forEach(Pme),e.drafts_=null}function sk(e){e===Mm&&(Mm=e.parent_)}function FR(e){return Mm=Mme(Mm,e)}function Pme(e){const t=e[zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[zi].modified_&&(ok(t),Ia(4)),Qc(e)&&(e=vb(t,e),t.parent_||xb(t,e)),t.patches_&&eu("Patches").generateReplacementPatches_(n[zi].base_,e,t.patches_,t.inversePatches_)):e=vb(t,n,[]),ok(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Y6?e:void 0}function vb(e,t,n){if(Xv(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[zi];if(!i)return bb(t,(a,o)=>GR(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return xb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),bb(o,(u,f)=>GR(e,i,a,u,f,n,c),r),xb(e,a,!1),n&&e.patches_&&eu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function GR(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=Xv(i);if(!(c&&!o)){if(Wd(i)){const u=a&&t&&t.type_!==3&&!ik(t.assigned_,r)?a.concat(r):void 0,f=vb(e,i,u);if(W6(n,r,f),Wd(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Qc(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;vb(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(fp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&xb(e,i)}}}function xb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jA(t,n)}function Dme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:V6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=NA;n&&(i=[r],a=Pm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var NA={get(e,t){if(t===zi)return e;const n=Rc(e);if(!ik(n,t))return Rme(e,n,t);const r=n[t];return e.finalized_||!Qc(r)?r:r===cS(e.base_,t)?(uS(e),e.copy_[t]=ck(r,e)):r},has(e,t){return t in Rc(e)},ownKeys(e){return Reflect.ownKeys(Rc(e))},set(e,t,n){const r=Z6(Rc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cS(Rc(e),t),a=i?.[zi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(jme(n,i)&&(n!==void 0||ik(e.base_,t)))return!0;uS(e),lk(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,uS(e),lk(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Rc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ia(11)},getPrototypeOf(e){return Cm(e.base_)},setPrototypeOf(){Ia(12)}},Pm={};bb(NA,(e,t)=>{Pm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pm.deleteProperty=function(e,t){return Pm.set.call(this,e,t,void 0)};Pm.set=function(e,t,n){return NA.set.call(this,e[0],t,n,e[0])};function cS(e,t){const n=e[zi];return(n?Rc(n):e)[t]}function Rme(e,t,n){const r=Z6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Z6(e,t){if(!(t in e))return;let n=Cm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cm(n)}}function lk(e){e.modified_||(e.modified_=!0,e.parent_&&lk(e.parent_))}function uS(e){e.copy_||(e.copy_=ak(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&Ia(6),r!==void 0&&typeof r!="function"&&Ia(7);let i;if(Qc(t)){const a=FR(this),o=ck(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?ok(a):sk(a)}return UR(a,r),HR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Y6&&(i=void 0),this.autoFreeze_&&jA(i,!0),r){const a=[],o=[];eu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Ia(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qc(e)||Ia(8),Wd(e)&&(e=Ime(e));const t=FR(this),n=ck(e,void 0);return n[zi].isManual_=!0,sk(t),n}finishDraft(e,t){const n=e&&e[zi];(!n||!n.isManual_)&&Ia(9);const{scope_:r}=n;return UR(r,t),HR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=eu("Patches").applyPatches_;return Wd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ck(e,t){const n=fp(e)?eu("MapSet").proxyMap_(e,t):Zv(e)?eu("MapSet").proxySet_(e,t):Dme(e,t);return(t?t.scope_:V6()).drafts_.push(n),n}function Ime(e){return Wd(e)||Ia(10,e),X6(e)}function X6(e){if(!Qc(e)||Xv(e))return e;const t=e[zi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ak(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ak(e,!0);return bb(n,(i,a)=>{W6(n,i,X6(a))},r),t&&(t.finalized_=!1),n}var $me=new Lme;$me.produce;var Bme={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},J6=fi({name:"legend",initialState:Bme,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=za(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:an()},removeLegendPayload:{reducer(e,t){var n=za(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:an()}}}),{setLegendSize:HOe,setLegendSettings:GOe,addLegendPayload:zme,replaceLegendPayload:Ume,removeLegendPayload:Fme}=J6.actions,Hme=J6.reducer;function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(null,arguments)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){Gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gme(e,t,n){return(t=qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kme(e){return Array.isArray(e)&&Eo(e[0])&&Eo(e[1])?e.join(" ~ "):e}var Wme=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,x=()=>{if(a&&a.length){var M={padding:0,margin:0},D=(c?Dv(a,c):a).map(($,H)=>{if($.type==="none")return null;var q=$.formatter||o||Kme,{value:K,name:U}=$,z=K,V=U;if(q){var J=q(K,U,$,H,a);if(Array.isArray(J))[z,V]=J;else if(J!=null)z=J;else return null}var Q=dS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:Q},Eo(V)?S.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Eo(V)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},z),S.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},w=dS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=dS({margin:0},i),E=!br(h),T=E?h:"",N=Qt("recharts-default-tooltip",u),O=Qt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(T=p(h,a));var P=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",uk({className:N,style:w},P),S.createElement("p",{className:O,style:_},S.isValidElement(T)?T:"".concat(T)),x())},Uh="recharts-tooltip-wrapper",Vme={visibility:"hidden"};function Zme(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qt(Uh,{["".concat(Uh,"-right")]:We(n)&&t&&We(t.x)&&n>=t.x,["".concat(Uh,"-left")]:We(n)&&t&&We(t.x)&&n<t.x,["".concat(Uh,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(Uh,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function YR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=e;if(a&&We(a[r]))return a[r];var h=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var g=u[r];if(g==null)return 0;if(o[r]){var x=h,w=g;return x<w?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var _=p+c,E=g+f;return _>E?Math.max(h,g):Math.max(p,g)}function Xme(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Jme(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,f,h,p;return o.height>0&&o.width>0&&n?(h=YR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=YR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Xme({translateX:h,translateY:p,useTranslate3d:c})):f=Vme,{cssProperties:f,cssClasses:Zme({translateX:h,translateY:p,coordinate:n})}}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){dk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dk(e,t,n){return(t=Qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qme(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tpe extends S.PureComponent{constructor(){super(...arguments),dk(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dk(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:x,wrapperStyle:w,lastBoundingBox:_,innerRef:E,hasPortalFromProps:T}=this.props,{cssClasses:N,cssProperties:O}=Jme({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:x}),P=T?{}:G0(G0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=G0(G0({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:E},a)}}var Q6=()=>{var e;return(e=Je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fk.apply(null,arguments)}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function npe(e,t,n){return(t=rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rpe(e){var t=ipe(e,"string");return typeof t=="symbol"?t:t+""}function ipe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZR={curveBasisClosed:gde,curveBasisOpen:yde,curveBasis:pde,curveBumpX:hde,curveBumpY:mde,curveLinearClosed:bde,curveLinear:Cv,curveMonotoneX:vde,curveMonotoneY:xde,curveNatural:_de,curveStep:wde,curveStepAfter:Ede,curveStepBefore:Sde},_b=e=>xn(e.x)&&xn(e.y),XR=e=>e.base!=null&&_b(e.base)&&_b(e),Fh=e=>e.x,Hh=e=>e.y,ape=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(yA(e));return(n==="curveMonotone"||n==="curveBump")&&t?ZR["".concat(n).concat(t==="vertical"?"Y":"X")]:ZR[n]||Cv},ope=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=ape(t,i),c=a?n.filter(_b):n,u;if(Array.isArray(r)){var f=n.map((x,w)=>VR(VR({},x),{},{base:r[w]}));i==="vertical"?u=L0().y(Hh).x1(Fh).x0(x=>x.base.x):u=L0().x(Fh).y1(Hh).y0(x=>x.base.y);var h=u.defined(XR).curve(o),p=a?f.filter(XR):f;return h(p)}i==="vertical"&&We(r)?u=L0().y(Hh).x1(Fh).x0(r):We(r)?u=L0().x(Fh).y1(Hh).y0(r):u=R7().x(Fh).y(Hh);var g=u.defined(_b).curve(o);return g(c)},by=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?ope(e):r;return S.createElement("path",fk({},Ha(e),bA(e),{className:Qt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},spe=["x","y","top","left","width","height","className"];function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hk.apply(null,arguments)}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cpe(e,t,n){return(t=upe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function upe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fpe(e,t){if(e==null)return{};var n,r,i=hpe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mpe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),ppe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=e,u=fpe(e,spe),f=lpe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!We(t)||!We(n)||!We(a)||!We(o)||!We(r)||!We(i)?null:S.createElement("path",hk({},ha(f),{className:Qt("recharts-cross",c),d:mpe(t,n,a,o,r,i)}))};function gpe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ype(e,t,n){return(t=bpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bpe(e){var t=vpe(e,"string");return typeof t=="symbol"?t:t+""}function vpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xpe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_pe=(e,t,n)=>e.map(r=>"".concat(xpe(r)," ").concat(t,"ms ").concat(n)).join(","),wpe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Dm=(e,t)=>Object.keys(t).reduce((n,r)=>eL(eL({},n),{},{[r]:e(r,t[r])}),{});function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){Spe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Spe(e,t,n){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Epe(e){var t=kpe(e,"string");return typeof t=="symbol"?t:t+""}function kpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wb=(e,t,n)=>e+(t-e)*n,mk=e=>{var{from:t,to:n}=e;return t!==n},e9=(e,t,n)=>{var r=Dm((i,a)=>{if(mk(a)){var[o,c]=e(a.from,a.to,a.velocity);return Hn(Hn({},a),{},{from:o,velocity:c})}return a},t);return n<1?Dm((i,a)=>mk(a)?Hn(Hn({},a),{},{velocity:wb(a.velocity,r[i].velocity,n),from:wb(a.from,r[i].from,n)}):a,t):e9(e,r,n-1)};function Ape(e,t,n,r,i,a){var o,c=r.reduce((g,x)=>Hn(Hn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Dm((g,x)=>x.from,c),f=()=>!Object.values(c).filter(mk).length,h=null,p=g=>{o||(o=g);var x=g-o,w=x/n.dt;c=e9(n,c,w),i(Hn(Hn(Hn({},e),t),u())),o=g,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function Tpe(e,t,n,r,i,a,o){var c=null,u=i.reduce((p,g)=>Hn(Hn({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/r,x=Dm((_,E)=>wb(...E,n(g)),u);if(a(Hn(Hn(Hn({},e),t),x)),g<1)c=o.setTimeout(h);else{var w=Dm((_,E)=>wb(...E,n(1)),u);a(Hn(Hn(Hn({},e),t),w))}};return()=>(c=o.setTimeout(h),()=>{var p;(p=c)===null||p===void 0||p()})}const Ope=(e,t,n,r,i,a)=>{var o=wpe(e,t);return n==null?()=>(i(Hn(Hn({},e),t)),()=>{}):n.isStepper===!0?Ape(e,t,n,o,i,a):Tpe(e,t,n,r,o,i,a)};var Sb=1e-4,t9=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],n9=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nL=(e,t)=>n=>{var r=t9(e,t);return n9(r,n)},jpe=(e,t)=>n=>{var r=t9(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return n9(i,n)},Npe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Cpe=(e,t,n,r)=>{var i=nL(e,n),a=nL(t,r),o=jpe(e,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var x=i(p)-h,w=o(p);if(Math.abs(x-h)<Sb||w<Sb)return a(p);p=c(p-x/w)}return a(p)};return u.isStepper=!1,u},rL=function(){return Cpe(...Npe(...arguments))},Mpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,c,u)=>{var f=-(o-c)*n,h=u*r,p=u+(f-h)*i/1e3,g=u*i/1e3+o;return Math.abs(g-c)<Sb&&Math.abs(p)<Sb?[c,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},Ppe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rL(e);case"spring":return Mpe();default:if(e.split("(")[0]==="cubic-bezier")return rL(e)}return typeof e=="function"?e:null};function Dpe(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Rpe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Lpe(){return Dpe(new Rpe)}var Ipe=S.createContext(Lpe);function $pe(e,t){var n=S.useContext(Ipe);return S.useMemo(()=>t??n(e),[e,t,n])}var Bpe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ff={devToolsEnabled:!1,isSsr:Bpe()},zpe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iL={t:0},fS={t:1};function r9(e){var t=Hi(e,zpe),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=t,h=n==="auto"?!ff.isSsr:n,p=$pe(t.animationId,t.animationManager),[g,x]=S.useState(h?iL:fS),w=S.useRef(null);return S.useEffect(()=>{h||x(fS)},[h]),S.useEffect(()=>{if(!h||!r)return op;var _=Ope(iL,fS,Ppe(a),i,x,p.getTimeoutController()),E=()=>{w.current=_()};return p.start([u,o,E,i,c]),()=>{p.stop(),w.current&&w.current(),c()}},[h,r,i,a,o,u,c,p]),f(g.t)}function i9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Tm(t)),r=S.useRef(e);return r.current!==e&&(n.current=Tm(t),r.current=e),n.current}var Upe=["radius"],Fpe=["radius"];function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(n),!0).forEach(function(r){Hpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hpe(e,t,n){return(t=Gpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gpe(e){var t=qpe(e,"string");return typeof t=="symbol"?t:t+""}function qpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function sL(e,t){if(e==null)return{};var n,r,i=Ype(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ype(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(t)),f+="L ".concat(e+n-c*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),f+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(t+r)),f+="L ".concat(e+c*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);f="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(t,`
            L `).concat(e+n-c*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*x,`
            L `).concat(e+n,",").concat(t+r-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(t+r,`
            L `).concat(e+c*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},cL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kpe=e=>{var t=Hi(e,cL),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:_}=t,E=S.useRef(c),T=S.useRef(u),N=S.useRef(a),O=S.useRef(o),P=S.useMemo(()=>({x:a,y:o,width:c,height:u,radius:f}),[a,o,c,u,f]),M=i9(P,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var D=Qt("recharts-rectangle",h);if(!_){var $=ha(t),{radius:H}=$,q=sL($,Upe);return S.createElement("path",Eb({},q,{radius:typeof f=="number"?f:void 0,className:D,d:lL(a,o,c,u,f)}))}var K=E.current,U=T.current,z=N.current,V=O.current,J="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),Y=_pe(["strokeDasharray"],g,typeof p=="string"?p:cL.animationEasing);return S.createElement(r9,{animationId:M,key:M,canBegin:r>0,duration:g,easing:p,isActive:_,begin:x},X=>{var re=yo(K,c,X),ue=yo(U,u,X),se=yo(z,a,X),B=yo(V,o,X);n.current&&(E.current=re,T.current=ue,N.current=se,O.current=B);var W;w?X>0?W={transition:Y,strokeDasharray:Q}:W={strokeDasharray:J}:W={strokeDasharray:Q};var ae=ha(t),{radius:Z}=ae,oe=sL(ae,Fpe);return S.createElement("path",Eb({},oe,{radius:typeof f=="number"?f:void 0,className:D,d:lL(se,B,re,ue,f),ref:n,style:oL(oL({},W),t.style)}))})};function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wpe(e,t,n){return(t=Vpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vpe(e){var t=Zpe(e,"string");return typeof t=="symbol"?t:t+""}function Zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kb=Math.PI/180,Xpe=e=>e*180/Math.PI,yr=(e,t,n,r)=>({x:e+Math.cos(-kb*r)*n,y:t+Math.sin(-kb*r)*n}),Jpe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Qpe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},ege=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Qpe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Xpe(u),angleInRadian:u}},tge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},nge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},rge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=ege({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=tge(t),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?dL(dL({},t),{},{radius:i,angle:nge(h,t)}):null};function a9(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=yr(t,n,r,i),c=yr(t,n,r,a);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(null,arguments)}var ige=(e,t)=>{var n=la(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},q0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,f=c*(o?1:-1)+r,h=Math.asin(c/f)/kb,p=u?i:i+a*h,g=yr(t,n,f,p),x=yr(t,n,r,p),w=u?i-a*h:i,_=yr(t,n,f*Math.cos(h*kb),w);return{center:g,circleTangency:x,lineTangency:_,theta:h}},o9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,c=ige(a,o),u=a+c,f=yr(t,n,i,a),h=yr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=yr(t,n,r,a),x=yr(t,n,r,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},age=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=e,h=la(f-u),{circleTangency:p,lineTangency:g,theta:x}=q0({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:_,theta:E}=q0({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:c}),T=c?Math.abs(u-f):Math.abs(u-f)-x-E;if(T<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):o9({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:P,theta:M}=q0({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:D,lineTangency:$,theta:H}=q0({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),q=c?Math.abs(u-f):Math.abs(u-f)-M-H;if(q<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},oge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sge=e=>{var t=Hi(e,oge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var g=Qt("recharts-sector",p),x=a-i,w=Nl(o,x,0,!0),_;return w>0&&Math.abs(f-h)<360?_=age({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):_=o9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),S.createElement("path",pk({},ha(t),{className:g,d:_}))};function lge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(K7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:c}=t,u=yr(r,i,a,c),f=yr(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return a9(t)}}var hS={},mS={},pS={},fL;function cge(){return fL||(fL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i6();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(pS)),pS}var hL;function uge(){return hL||(hL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(mS)),mS}var mL;function dge(){return mL||(mL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a6(),n=uge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}e.range=r})(hS)),hS}var gS,pL;function fge(){return pL||(pL=1,gS=dge().range),gS}var hge=fge();const s9=di(hge);function kl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CA(e){let t,n,r;e.length!==2?(t=kl,n=(c,u)=>kl(e(c),u),r=(c,u)=>e(c)-u):(t=e===kl||e===mge?e:pge,n=e,r=e);function i(c,u,f=0,h=c.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(c[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(c,u,f=0,h=c.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(c[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function o(c,u,f=0,h=c.length){const p=i(c,u,f,h-1);return p>f&&r(c[p-1],u)>-r(c[p],u)?p-1:p}return{left:i,center:o,right:a}}function pge(){return 0}function l9(e){return e===null?NaN:+e}function*gge(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const yge=CA(kl),hp=yge.right;CA(l9).center;class gL extends Map{constructor(t,n=xge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(yL(this,t))}has(t){return super.has(yL(this,t))}set(t,n){return super.set(bge(this,t),n)}delete(t){return super.delete(vge(this,t))}}function yL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function bge({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function vge({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function xge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _ge(e=kl){if(e===kl)return c9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function c9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const wge=Math.sqrt(50),Sge=Math.sqrt(10),Ege=Math.sqrt(2);function Ab(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wge?10:a>=Sge?5:a>=Ege?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=n&&n<2?Ab(e,t,n*2):[c,u,f]}function gk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Ab(t,e,n):Ab(e,t,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(a-f)/-o;else for(let f=0;f<c;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function yk(e,t,n){return t=+t,e=+e,n=+n,Ab(e,t,n)[2]}function bk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yk(t,e,n):yk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function bL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u9(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?c9:_ge(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),x=Math.max(n,Math.floor(t-f*p/u+g)),w=Math.min(r,Math.floor(t+(u-f)*p/u+g));u9(e,t,x,w,i)}const a=e[t];let o=n,c=r;for(Gh(e,n,t),i(e[r],a)>0&&Gh(e,n,r);o<c;){for(Gh(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Gh(e,n,c):(++c,Gh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Gh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kge(e,t,n){if(e=Float64Array.from(gge(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return vL(e);if(t>=1)return bL(e);var r,i=(r-1)*t,a=Math.floor(i),o=bL(u9(e,a).subarray(0,a+1)),c=vL(e.subarray(a+1));return o+(c-o)*(i-a)}}function Age(e,t,n=l9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function Tge(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function va(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function As(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vk=Symbol("implicit");function MA(){var e=new gL,t=[],n=[],r=vk;function i(a){let o=e.get(a);if(o===void 0){if(r!==vk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new gL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MA(t,n).unknown(r)},va.apply(i,arguments),i}function PA(){var e=MA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,c=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,x=i<r,w=x?i:r,_=x?r:i;a=(_-w)/Math.max(1,g-u+f*2),c&&(a=Math.floor(a)),w+=(_-w-a*(g-u))*h,o=a*(1-u),c&&(w=Math.round(w),o=Math.round(o));var E=Tge(g).map(function(T){return w+a*T});return n(x?E.reverse():E)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return PA(t(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(h)},va.apply(p(),arguments)}function d9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d9(t())},e}function Oge(){return d9(PA.apply(null,arguments).paddingInner(1))}function DA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function f9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mp(){}var Rm=.7,Tb=1/Rm,Pd="\\s*([+-]?\\d+)\\s*",Lm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jge=/^#([0-9a-f]{3,8})$/,Nge=new RegExp(`^rgb\\(${Pd},${Pd},${Pd}\\)$`),Cge=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Mge=new RegExp(`^rgba\\(${Pd},${Pd},${Pd},${Lm}\\)$`),Pge=new RegExp(`^rgba\\(${_o},${_o},${_o},${Lm}\\)$`),Dge=new RegExp(`^hsl\\(${Lm},${_o},${_o}\\)$`),Rge=new RegExp(`^hsla\\(${Lm},${_o},${_o},${Lm}\\)$`),xL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DA(mp,Im,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_L,formatHex:_L,formatHex8:Lge,formatHsl:Ige,formatRgb:wL,toString:wL});function _L(){return this.rgb().formatHex()}function Lge(){return this.rgb().formatHex8()}function Ige(){return h9(this).formatHsl()}function wL(){return this.rgb().formatRgb()}function Im(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?SL(t):n===3?new si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Y0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Y0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nge.exec(e))?new si(t[1],t[2],t[3],1):(t=Cge.exec(e))?new si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mge.exec(e))?Y0(t[1],t[2],t[3],t[4]):(t=Pge.exec(e))?Y0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dge.exec(e))?AL(t[1],t[2]/100,t[3]/100,1):(t=Rge.exec(e))?AL(t[1],t[2]/100,t[3]/100,t[4]):xL.hasOwnProperty(e)?SL(xL[e]):e==="transparent"?new si(NaN,NaN,NaN,0):null}function SL(e){return new si(e>>16&255,e>>8&255,e&255,1)}function Y0(e,t,n,r){return r<=0&&(e=t=n=NaN),new si(e,t,n,r)}function $ge(e){return e instanceof mp||(e=Im(e)),e?(e=e.rgb(),new si(e.r,e.g,e.b,e.opacity)):new si}function xk(e,t,n,r){return arguments.length===1?$ge(e):new si(e,t,n,r??1)}function si(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}DA(si,xk,f9(mp,{brighter(e){return e=e==null?Tb:Math.pow(Tb,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rm:Math.pow(Rm,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new si(Kc(this.r),Kc(this.g),Kc(this.b),Ob(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EL,formatHex:EL,formatHex8:Bge,formatRgb:kL,toString:kL}));function EL(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}`}function Bge(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}${Fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function kL(){const e=Ob(this.opacity);return`${e===1?"rgb(":"rgba("}${Kc(this.r)}, ${Kc(this.g)}, ${Kc(this.b)}${e===1?")":`, ${e})`}`}function Ob(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fc(e){return e=Kc(e),(e<16?"0":"")+e.toString(16)}function AL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $a(e,t,n,r)}function h9(e){if(e instanceof $a)return new $a(e.h,e.s,e.l,e.opacity);if(e instanceof mp||(e=Im(e)),!e)return new $a;if(e instanceof $a)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,c=a-i,u=(a+i)/2;return c?(t===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new $a(o,c,u,e.opacity)}function zge(e,t,n,r){return arguments.length===1?h9(e):new $a(e,t,n,r??1)}function $a(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}DA($a,zge,f9(mp,{brighter(e){return e=e==null?Tb:Math.pow(Tb,e),new $a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rm:Math.pow(Rm,e),new $a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new si(yS(e>=240?e-240:e+120,i,r),yS(e,i,r),yS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new $a(TL(this.h),K0(this.s),K0(this.l),Ob(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ob(this.opacity);return`${e===1?"hsl(":"hsla("}${TL(this.h)}, ${K0(this.s)*100}%, ${K0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TL(e){return e=(e||0)%360,e<0?e+360:e}function K0(e){return Math.max(0,Math.min(1,e||0))}function yS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const RA=e=>()=>e;function Uge(e,t){return function(n){return e+n*t}}function Fge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Hge(e){return(e=+e)==1?m9:function(t,n){return n-t?Fge(t,n,e):RA(isNaN(t)?n:t)}}function m9(e,t){var n=t-e;return n?Uge(e,n):RA(isNaN(e)?t:e)}const OL=(function e(t){var n=Hge(t);function r(i,a){var o=n((i=xk(i)).r,(a=xk(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),f=m9(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=c(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function Gge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function qge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=hf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function Kge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Wge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var _k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bS=new RegExp(_k.source,"g");function Vge(e){return function(){return e}}function Zge(e){return function(t){return e(t)+""}}function Xge(e,t){var n=_k.lastIndex=bS.lastIndex=0,r,i,a,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=_k.exec(e))&&(i=bS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:jb(r,i)})),n=bS.lastIndex;return n<t.length&&(a=t.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?Zge(u[0].x):Vge(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)c[(p=u[h]).i]=p.x(f);return c.join("")})}function hf(e,t){var n=typeof t,r;return t==null||n==="boolean"?RA(t):(n==="number"?jb:n==="string"?(r=Im(t))?(t=r,OL):Xge:t instanceof Im?OL:t instanceof Date?Kge:qge(t)?Gge:Array.isArray(t)?Yge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Wge:jb)(e,t)}function LA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Jge(e,t){t===void 0&&(t=e,e=hf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function Qge(e){return function(){return e}}function Nb(e){return+e}var jL=[0,1];function Lr(e){return e}function wk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Qge(isNaN(t)?NaN:.5)}function e0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function t0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=wk(i,r),a=n(o,a)):(r=wk(r,i),a=n(a,o)),function(c){return a(r(c))}}function n0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=wk(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(c){var u=hp(e,c,1,r)-1;return a[u](i[u](c))}}function pp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jv(){var e=jL,t=jL,n=hf,r,i,a,o=Lr,c,u,f;function h(){var g=Math.min(e.length,t.length);return o!==Lr&&(o=e0e(e[0],e[g-1])),c=g>2?n0e:t0e,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=c(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=c(t,e.map(r),jb)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Nb),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=LA,h()},p.clamp=function(g){return arguments.length?(o=g?!0:Lr,h()):o!==Lr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,x){return r=g,i=x,h()}}function IA(){return Jv()(Lr,Lr)}function r0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vd(e){return e=Cb(Math.abs(e)),e?e[1]:NaN}function i0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function a0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var o0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $m(e){if(!(t=o0e.exec(e)))throw new Error("invalid format: "+e);var t;return new $A({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$m.prototype=$A.prototype;function $A(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$A.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var p9;function l0e(e,t){var n=Cb(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(p9=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cb(e,Math.max(0,t+a-1))[0]}function NL(e,t){var n=Cb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>NL(e*100,t),r:NL,s:l0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ML(e){return e}var PL=Array.prototype.map,DL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c0e(e){var t=e.grouping===void 0||e.thousands===void 0?ML:i0e(PL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ML:a0e(PL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=$m(p);var g=p.fill,x=p.align,w=p.sign,_=p.symbol,E=p.zero,T=p.width,N=p.comma,O=p.precision,P=p.trim,M=p.type;M==="n"?(N=!0,M="g"):CL[M]||(O===void 0&&(O=12),P=!0,M="g"),(E||g==="0"&&x==="=")&&(E=!0,g="0",x="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=_==="$"?r:/[%p]/.test(M)?o:"",H=CL[M],q=/[defgprs%]/.test(M);O=O===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function K(U){var z=D,V=$,J,Q,Y;if(M==="c")V=H(U)+V,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?u:H(Math.abs(U),O),P&&(U=s0e(U)),X&&+U==0&&w!=="+"&&(X=!1),z=(X?w==="("?w:c:w==="-"||w==="("?"":w)+z,V=(M==="s"?DL[8+p9/3]:"")+V+(X&&w==="("?")":""),q){for(J=-1,Q=U.length;++J<Q;)if(Y=U.charCodeAt(J),48>Y||Y>57){V=(Y===46?i+U.slice(J+1):U.slice(J))+V,U=U.slice(0,J);break}}}N&&!E&&(U=t(U,1/0));var re=z.length+U.length+V.length,ue=re<T?new Array(T-re+1).join(g):"";switch(N&&E&&(U=t(ue+U,ue.length?T-V.length:1/0),ue=""),x){case"<":U=z+U+V+ue;break;case"=":U=z+ue+U+V;break;case"^":U=ue.slice(0,re=ue.length>>1)+z+U+V+ue.slice(re);break;default:U=ue+z+U+V;break}return a(U)}return K.toString=function(){return p+""},K}function h(p,g){var x=f((p=$m(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Vd(g)/3)))*3,_=Math.pow(10,-w),E=DL[8+w/3];return function(T){return x(_*T)+E}}return{format:f,formatPrefix:h}}var W0,BA,g9;u0e({thousands:",",grouping:[3],currency:["$",""]});function u0e(e){return W0=c0e(e),BA=W0.format,g9=W0.formatPrefix,W0}function d0e(e){return Math.max(0,-Vd(Math.abs(e)))}function f0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vd(t)/3)))*3-Vd(Math.abs(e)))}function h0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vd(t)-Vd(e))+1}function y9(e,t,n,r){var i=bk(e,t,n),a;switch(r=$m(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=f0e(i,o))&&(r.precision=a),g9(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=h0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=d0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return BA(r)}function Pl(e){var t=e.domain;return e.ticks=function(n){var r=t();return gk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return y9(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],c=r[a],u,f,h=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);h-- >0;){if(f=yk(o,c,n),f===u)return r[i]=o,r[a]=c,t(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function b9(){var e=IA();return e.copy=function(){return pp(e,b9())},va.apply(e,arguments),Pl(e)}function v9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Nb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return v9(e).unknown(t)},e=arguments.length?Array.from(e,Nb):[0,1],Pl(n)}function x9(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function RL(e){return Math.log(e)}function LL(e){return Math.exp(e)}function m0e(e){return-Math.log(-e)}function p0e(e){return-Math.exp(-e)}function g0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y0e(e){return e===10?g0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function b0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IL(e){return(t,n)=>-e(-t,n)}function zA(e){const t=e(RL,LL),n=t.domain;let r=10,i,a;function o(){return i=b0e(r),a=y0e(r),n()[0]<0?(i=IL(i),a=IL(a),e(m0e,p0e)):e(RL,LL),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),x=i(h),w,_;const E=c==null?10:+c;let T=[];if(!(r%1)&&x-g<E){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(w=1;w<r;++w)if(_=g<0?w/a(-g):w*a(g),!(_<f)){if(_>h)break;T.push(_)}}else for(;g<=x;++g)for(w=r-1;w>=1;--w)if(_=g>0?w/a(-g):w*a(g),!(_<f)){if(_>h)break;T.push(_)}T.length*2<E&&(T=gk(f,h,E))}else T=gk(g,x,Math.min(x-g,E)).map(a);return p?T.reverse():T},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=$m(u)).precision==null&&(u.trim=!0),u=BA(u)),c===1/0)return u;const f=Math.max(1,r*c/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},t.nice=()=>n(x9(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function _9(){const e=zA(Jv()).domain([1,10]);return e.copy=()=>pp(e,_9()).base(e.base()),va.apply(e,arguments),e}function $L(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UA(e){var t=1,n=e($L(t),BL(t));return n.constant=function(r){return arguments.length?e($L(t=+r),BL(t)):t},Pl(n)}function w9(){var e=UA(Jv());return e.copy=function(){return pp(e,w9()).constant(e.constant())},va.apply(e,arguments)}function zL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function v0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function x0e(e){return e<0?-e*e:e*e}function FA(e){var t=e(Lr,Lr),n=1;function r(){return n===1?e(Lr,Lr):n===.5?e(v0e,x0e):e(zL(n),zL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pl(t)}function HA(){var e=FA(Jv());return e.copy=function(){return pp(e,HA()).exponent(e.exponent())},va.apply(e,arguments),e}function _0e(){return HA.apply(null,arguments).exponent(.5)}function UL(e){return Math.sign(e)*e*e}function w0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function S9(){var e=IA(),t=[0,1],n=!1,r;function i(a){var o=w0e(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(UL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Nb)).map(UL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return S9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},va.apply(i,arguments),Pl(i)}function E9(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=Age(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:t[hp(n,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(kl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return E9().domain(e).range(t).unknown(r)},va.apply(a,arguments)}function k9(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[hp(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return k9().domain([e,t]).range(i).unknown(a)},va.apply(Pl(o),arguments)}function A9(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[hp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return A9().domain(e).range(t).unknown(n)},va.apply(i,arguments)}const vS=new Date,xS=new Date;function Yn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let f;do u.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return u},i.filter=a=>Yn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(vS.setTime(+a),xS.setTime(+o),e(vS),e(xS),Math.floor(n(vS,xS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Mb=Yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Mb);Mb.range;const ls=1e3,ca=ls*60,cs=ca*60,bs=cs*24,GA=bs*7,FL=bs*30,_S=bs*365,Hc=Yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ls)},(e,t)=>(t-e)/ls,e=>e.getUTCSeconds());Hc.range;const qA=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ls)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getMinutes());qA.range;const YA=Yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getUTCMinutes());YA.range;const KA=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ls-e.getMinutes()*ca)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getHours());KA.range;const WA=Yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCHours());WA.range;const gp=Yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ca)/bs,e=>e.getDate()-1);gp.range;const Qv=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>e.getUTCDate()-1);Qv.range;const T9=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>Math.floor(e/bs));T9.range;function lu(e){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ca)/GA)}const ex=lu(0),Pb=lu(1),S0e=lu(2),E0e=lu(3),Zd=lu(4),k0e=lu(5),A0e=lu(6);ex.range;Pb.range;S0e.range;E0e.range;Zd.range;k0e.range;A0e.range;function cu(e){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/GA)}const tx=cu(0),Db=cu(1),T0e=cu(2),O0e=cu(3),Xd=cu(4),j0e=cu(5),N0e=cu(6);tx.range;Db.range;T0e.range;O0e.range;Xd.range;j0e.range;N0e.range;const VA=Yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VA.range;const ZA=Yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ZA.range;const vs=Yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vs.range;const xs=Yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xs.range;function O9(e,t,n,r,i,a){const o=[[Hc,1,ls],[Hc,5,5*ls],[Hc,15,15*ls],[Hc,30,30*ls],[a,1,ca],[a,5,5*ca],[a,15,15*ca],[a,30,30*ca],[i,1,cs],[i,3,3*cs],[i,6,6*cs],[i,12,12*cs],[r,1,bs],[r,2,2*bs],[n,1,GA],[t,1,FL],[t,3,3*FL],[e,1,_S]];function c(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:u(f,h,p),w=x?x.range(f,+h+1):[];return g?w.reverse():w}function u(f,h,p){const g=Math.abs(h-f)/p,x=CA(([,,E])=>E).right(o,g);if(x===o.length)return e.every(bk(f/_S,h/_S,p));if(x===0)return Mb.every(Math.max(bk(f,h,p),1));const[w,_]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return w.every(_)}return[c,u]}const[C0e,M0e]=O9(xs,ZA,tx,T9,WA,YA),[P0e,D0e]=O9(vs,VA,ex,gp,KA,qA);function wS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function R0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=Yh(i),h=Kh(i),p=Yh(a),g=Kh(a),x=Yh(o),w=Kh(o),_=Yh(c),E=Kh(c),T=Yh(u),N=Kh(u),O={a:X,A:re,b:ue,B:se,c:null,d:WL,e:WL,f:iye,g:mye,G:gye,H:tye,I:nye,j:rye,L:j9,m:aye,M:oye,p:B,q:W,Q:XL,s:JL,S:sye,u:lye,U:cye,V:uye,w:dye,W:fye,x:null,X:null,y:hye,Y:pye,Z:yye,"%":ZL},P={a:ae,A:Z,b:oe,B:me,c:null,d:VL,e:VL,f:_ye,g:Cye,G:Pye,H:bye,I:vye,j:xye,L:C9,m:wye,M:Sye,p:pe,q:be,Q:XL,s:JL,S:Eye,u:kye,U:Aye,V:Tye,w:Oye,W:jye,x:null,X:null,y:Nye,Y:Mye,Z:Dye,"%":ZL},M={a:K,A:U,b:z,B:V,c:J,d:YL,e:YL,f:X0e,g:qL,G:GL,H:KL,I:KL,j:K0e,L:Z0e,m:Y0e,M:W0e,p:q,q:q0e,Q:Q0e,s:eye,S:V0e,u:z0e,U:U0e,V:F0e,w:B0e,W:H0e,x:Q,X:Y,y:qL,Y:GL,Z:G0e,"%":J0e};O.x=D(n,O),O.X=D(r,O),O.c=D(t,O),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(ne,Oe){return function(Ce){var ve=[],Ze=-1,Ne=0,_e=ne.length,je,Ie,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ze<_e;)ne.charCodeAt(Ze)===37&&(ve.push(ne.slice(Ne,Ze)),(Ie=HL[je=ne.charAt(++Ze)])!=null?je=ne.charAt(++Ze):Ie=je==="e"?" ":"0",(Ve=Oe[je])&&(je=Ve(Ce,Ie)),ve.push(je),Ne=Ze+1);return ve.push(ne.slice(Ne,Ze)),ve.join("")}}function $(ne,Oe){return function(Ce){var ve=qh(1900,void 0,1),Ze=H(ve,ne,Ce+="",0),Ne,_e;if(Ze!=Ce.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ne=SS(qh(ve.y,0,1)),_e=Ne.getUTCDay(),Ne=_e>4||_e===0?Db.ceil(Ne):Db(Ne),Ne=Qv.offset(Ne,(ve.V-1)*7),ve.y=Ne.getUTCFullYear(),ve.m=Ne.getUTCMonth(),ve.d=Ne.getUTCDate()+(ve.w+6)%7):(Ne=wS(qh(ve.y,0,1)),_e=Ne.getDay(),Ne=_e>4||_e===0?Pb.ceil(Ne):Pb(Ne),Ne=gp.offset(Ne,(ve.V-1)*7),ve.y=Ne.getFullYear(),ve.m=Ne.getMonth(),ve.d=Ne.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),_e="Z"in ve?SS(qh(ve.y,0,1)).getUTCDay():wS(qh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(_e+5)%7:ve.w+ve.U*7-(_e+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,SS(ve)):wS(ve)}}function H(ne,Oe,Ce,ve){for(var Ze=0,Ne=Oe.length,_e=Ce.length,je,Ie;Ze<Ne;){if(ve>=_e)return-1;if(je=Oe.charCodeAt(Ze++),je===37){if(je=Oe.charAt(Ze++),Ie=M[je in HL?Oe.charAt(Ze++):je],!Ie||(ve=Ie(ne,Ce,ve))<0)return-1}else if(je!=Ce.charCodeAt(ve++))return-1}return ve}function q(ne,Oe,Ce){var ve=f.exec(Oe.slice(Ce));return ve?(ne.p=h.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function K(ne,Oe,Ce){var ve=x.exec(Oe.slice(Ce));return ve?(ne.w=w.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function U(ne,Oe,Ce){var ve=p.exec(Oe.slice(Ce));return ve?(ne.w=g.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function z(ne,Oe,Ce){var ve=T.exec(Oe.slice(Ce));return ve?(ne.m=N.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function V(ne,Oe,Ce){var ve=_.exec(Oe.slice(Ce));return ve?(ne.m=E.get(ve[0].toLowerCase()),Ce+ve[0].length):-1}function J(ne,Oe,Ce){return H(ne,t,Oe,Ce)}function Q(ne,Oe,Ce){return H(ne,n,Oe,Ce)}function Y(ne,Oe,Ce){return H(ne,r,Oe,Ce)}function X(ne){return o[ne.getDay()]}function re(ne){return a[ne.getDay()]}function ue(ne){return u[ne.getMonth()]}function se(ne){return c[ne.getMonth()]}function B(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function ae(ne){return o[ne.getUTCDay()]}function Z(ne){return a[ne.getUTCDay()]}function oe(ne){return u[ne.getUTCMonth()]}function me(ne){return c[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function be(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Oe=D(ne+="",O);return Oe.toString=function(){return ne},Oe},parse:function(ne){var Oe=$(ne+="",!1);return Oe.toString=function(){return ne},Oe},utcFormat:function(ne){var Oe=D(ne+="",P);return Oe.toString=function(){return ne},Oe},utcParse:function(ne){var Oe=$(ne+="",!0);return Oe.toString=function(){return ne},Oe}}}var HL={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,L0e=/^%/,I0e=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function $0e(e){return e.replace(I0e,"\\$&")}function Yh(e){return new RegExp("^(?:"+e.map($0e).join("|")+")","i")}function Kh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function B0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function z0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function U0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function F0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function H0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function GL(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function qL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function G0e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function q0e(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Y0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function YL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function K0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function KL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function W0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function V0e(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Z0e(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function X0e(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function J0e(e,t,n){var r=L0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Q0e(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function eye(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function WL(e,t){return At(e.getDate(),t,2)}function tye(e,t){return At(e.getHours(),t,2)}function nye(e,t){return At(e.getHours()%12||12,t,2)}function rye(e,t){return At(1+gp.count(vs(e),e),t,3)}function j9(e,t){return At(e.getMilliseconds(),t,3)}function iye(e,t){return j9(e,t)+"000"}function aye(e,t){return At(e.getMonth()+1,t,2)}function oye(e,t){return At(e.getMinutes(),t,2)}function sye(e,t){return At(e.getSeconds(),t,2)}function lye(e){var t=e.getDay();return t===0?7:t}function cye(e,t){return At(ex.count(vs(e)-1,e),t,2)}function N9(e){var t=e.getDay();return t>=4||t===0?Zd(e):Zd.ceil(e)}function uye(e,t){return e=N9(e),At(Zd.count(vs(e),e)+(vs(e).getDay()===4),t,2)}function dye(e){return e.getDay()}function fye(e,t){return At(Pb.count(vs(e)-1,e),t,2)}function hye(e,t){return At(e.getFullYear()%100,t,2)}function mye(e,t){return e=N9(e),At(e.getFullYear()%100,t,2)}function pye(e,t){return At(e.getFullYear()%1e4,t,4)}function gye(e,t){var n=e.getDay();return e=n>=4||n===0?Zd(e):Zd.ceil(e),At(e.getFullYear()%1e4,t,4)}function yye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function VL(e,t){return At(e.getUTCDate(),t,2)}function bye(e,t){return At(e.getUTCHours(),t,2)}function vye(e,t){return At(e.getUTCHours()%12||12,t,2)}function xye(e,t){return At(1+Qv.count(xs(e),e),t,3)}function C9(e,t){return At(e.getUTCMilliseconds(),t,3)}function _ye(e,t){return C9(e,t)+"000"}function wye(e,t){return At(e.getUTCMonth()+1,t,2)}function Sye(e,t){return At(e.getUTCMinutes(),t,2)}function Eye(e,t){return At(e.getUTCSeconds(),t,2)}function kye(e){var t=e.getUTCDay();return t===0?7:t}function Aye(e,t){return At(tx.count(xs(e)-1,e),t,2)}function M9(e){var t=e.getUTCDay();return t>=4||t===0?Xd(e):Xd.ceil(e)}function Tye(e,t){return e=M9(e),At(Xd.count(xs(e),e)+(xs(e).getUTCDay()===4),t,2)}function Oye(e){return e.getUTCDay()}function jye(e,t){return At(Db.count(xs(e)-1,e),t,2)}function Nye(e,t){return At(e.getUTCFullYear()%100,t,2)}function Cye(e,t){return e=M9(e),At(e.getUTCFullYear()%100,t,2)}function Mye(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function Pye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Xd(e):Xd.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function Dye(){return"+0000"}function ZL(){return"%"}function XL(e){return+e}function JL(e){return Math.floor(+e/1e3)}var od,P9,D9;Rye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rye(e){return od=R0e(e),P9=od.format,od.parse,D9=od.utcFormat,od.utcParse,od}function Lye(e){return new Date(e)}function Iye(e){return e instanceof Date?+e:+new Date(+e)}function XA(e,t,n,r,i,a,o,c,u,f){var h=IA(),p=h.invert,g=h.domain,x=f(".%L"),w=f(":%S"),_=f("%I:%M"),E=f("%I %p"),T=f("%a %d"),N=f("%b %d"),O=f("%B"),P=f("%Y");function M(D){return(u(D)<D?x:c(D)<D?w:o(D)<D?_:a(D)<D?E:r(D)<D?i(D)<D?T:N:n(D)<D?O:P)(D)}return h.invert=function(D){return new Date(p(D))},h.domain=function(D){return arguments.length?g(Array.from(D,Iye)):g().map(Lye)},h.ticks=function(D){var $=g();return e($[0],$[$.length-1],D??10)},h.tickFormat=function(D,$){return $==null?M:f($)},h.nice=function(D){var $=g();return(!D||typeof D.range!="function")&&(D=t($[0],$[$.length-1],D??10)),D?g(x9($,D)):h},h.copy=function(){return pp(h,XA(e,t,n,r,i,a,o,c,u,f))},h}function $ye(){return va.apply(XA(P0e,D0e,vs,VA,ex,gp,KA,qA,Hc,P9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bye(){return va.apply(XA(C0e,M0e,xs,ZA,tx,Qv,WA,YA,Hc,D9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nx(){var e=0,t=1,n,r,i,a,o=Lr,c=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(g){var x,w;return arguments.length?([x,w]=g,o=p(x,w),f):[o(0),o(1)]}}return f.range=h(hf),f.rangeRound=h(LA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Dl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function R9(){var e=Pl(nx()(Lr));return e.copy=function(){return Dl(e,R9())},As.apply(e,arguments)}function L9(){var e=zA(nx()).domain([1,10]);return e.copy=function(){return Dl(e,L9()).base(e.base())},As.apply(e,arguments)}function I9(){var e=UA(nx());return e.copy=function(){return Dl(e,I9()).constant(e.constant())},As.apply(e,arguments)}function JA(){var e=FA(nx());return e.copy=function(){return Dl(e,JA()).exponent(e.exponent())},As.apply(e,arguments)}function zye(){return JA.apply(null,arguments).exponent(.5)}function $9(){var e=[],t=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((hp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(kl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>kge(e,a/r))},n.copy=function(){return $9(t).domain(e)},As.apply(n,arguments)}function rx(){var e=0,t=.5,n=1,r=1,i,a,o,c,u,f=Lr,h,p=!1,g;function x(_){return isNaN(_=+_)?g:(_=.5+((_=+h(_))-a)*(r*_<r*a?c:u),f(p?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,n]=_,i=h(e=+e),a=h(t=+t),o=h(n=+n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(_){return arguments.length?(p=!!_,x):p},x.interpolator=function(_){return arguments.length?(f=_,x):f};function w(_){return function(E){var T,N,O;return arguments.length?([T,N,O]=E,f=Jge(_,[T,N,O]),x):[f(0),f(.5),f(1)]}}return x.range=w(hf),x.rangeRound=w(LA),x.unknown=function(_){return arguments.length?(g=_,x):g},function(_){return h=_,i=_(e),a=_(t),o=_(n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,x}}function B9(){var e=Pl(rx()(Lr));return e.copy=function(){return Dl(e,B9())},As.apply(e,arguments)}function z9(){var e=zA(rx()).domain([.1,1,10]);return e.copy=function(){return Dl(e,z9()).base(e.base())},As.apply(e,arguments)}function U9(){var e=UA(rx());return e.copy=function(){return Dl(e,U9()).constant(e.constant())},As.apply(e,arguments)}function QA(){var e=FA(rx());return e.copy=function(){return Dl(e,QA()).exponent(e.exponent())},As.apply(e,arguments)}function Uye(){return QA.apply(null,arguments).exponent(.5)}const tm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:PA,scaleDiverging:B9,scaleDivergingLog:z9,scaleDivergingPow:QA,scaleDivergingSqrt:Uye,scaleDivergingSymlog:U9,scaleIdentity:v9,scaleImplicit:vk,scaleLinear:b9,scaleLog:_9,scaleOrdinal:MA,scalePoint:Oge,scalePow:HA,scaleQuantile:E9,scaleQuantize:k9,scaleRadial:S9,scaleSequential:R9,scaleSequentialLog:L9,scaleSequentialPow:JA,scaleSequentialQuantile:$9,scaleSequentialSqrt:zye,scaleSequentialSymlog:I9,scaleSqrt:_0e,scaleSymlog:w9,scaleThreshold:A9,scaleTime:$ye,scaleUtc:Bye,tickFormat:y9},Symbol.toStringTag,{value:"Module"}));var Rl=e=>e.chartData,Fye=we([Rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),eT=(e,t,n,r)=>r?Fye(e):Rl(e);function Cl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(xn(t)&&xn(n))return!0}return!1}function QL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function F9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(xn(n))i=n;else if(typeof n=="function")return;if(xn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Cl(o))return o}}function Hye(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Cl(r))return QL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(We(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&jR.test(i)){var u=jR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(We(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&NR.test(a)){var h=NR.exec(a);if(h==null||t==null)c=void 0;else{var p=+h[1];c=t[1]+p}}else c=t?.[1];var g=[o,c];if(Cl(g))return t==null?g:QL(g,t,n)}}}var mf=1e9,Gye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nT,on=!0,pa="[DecimalError] ",Wc=pa+"Invalid argument: ",tT=pa+"Exponent out of range: ",pf=Math.floor,Lc=Math.pow,qye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mi,ir=1e7,Jt=7,H9=9007199254740991,Rb=pf(H9/Jt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ds(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Gt(ds(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Ln(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Mi))throw Error(pa+"NaN");if(n.s<1)throw Error(pa+(n.s?"NaN":"-Infinity"));return n.eq(Mi)?new r(0):(on=!1,t=ds(Bm(n,a),Bm(e,a),a),on=!0,Gt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y9(t,e):G9(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(pa+"NaN");return n.s?(on=!1,t=ds(n,e,0,1).times(e),on=!0,n.minus(t)):Gt(new r(n),i)};$e.naturalExponential=$e.exp=function(){return q9(this)};$e.naturalLogarithm=$e.ln=function(){return Bm(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G9(t,e):Y9(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wc+e);if(t=Ln(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(pa+"NaN")}for(e=Ln(c),on=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=vo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=pf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ds(c,a,o+2)).times(.5),vo(a.d).slice(0,o)===(t=vo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Gt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;o+=4}return on=!0,Gt(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,c,u,f,h=this,p=h.constructor,g=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=g.length,f=x.length,u<f&&(a=g,g=x,x=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)c=a[i]+x[r]*g[i-r-1]+t,a[i--]=c%ir|0,t=c/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,on?Gt(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ao(e,0,mf),t===void 0?t=r.rounding:Ao(t,0,8),Gt(n,e+Ln(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=tu(r,!0):(Ao(e,0,mf),t===void 0?t=i.rounding:Ao(t,0,8),r=Gt(new i(r),e+1,t),n=tu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?tu(i):(Ao(e,0,mf),t===void 0?t=a.rounding:Ao(t,0,8),r=Gt(new a(i),e+Ln(i)+1,t),n=tu(r.abs(),!1,e+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Ln(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,c=this,u=c.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Mi);if(c=new u(c),!c.s){if(e.s<1)throw Error(pa+"Infinity");return c}if(c.eq(Mi))return c;if(r=u.precision,e.eq(Mi))return Gt(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=h<0?-h:h)<=H9){for(i=new u(Mi),t=Math.ceil(r/Jt+4),on=!1;n%2&&(i=i.times(c),tI(i.d,t)),n=pf(n/2),n!==0;)c=c.times(c),tI(c.d,t);return on=!0,e.s<0?new u(Mi).div(i):Gt(i,r)}}else if(a<0)throw Error(pa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,on=!1,i=e.times(Bm(c,r+f)),on=!0,i=q9(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ln(i),r=tu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ao(e,1,mf),t===void 0?t=a.rounding:Ao(t,0,8),i=Gt(new a(i),e,t),n=Ln(i),r=tu(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ao(e,1,mf),t===void 0?t=r.rounding:Ao(t,0,8)),Gt(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),n=e.constructor;return tu(e,t<=n.toExpNeg||t>=n.toExpPos)};function G9(e,t){var n,r,i,a,o,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),on?Gt(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(p/Jt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ir|0,u[a]%=ir;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,on?Gt(t,p):t}function Ao(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wc+e)}function vo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Jt-r.length,n&&(a+=gl(n)),a+=r;o=e[t],r=o+"",n=Jt-r.length,n&&(a+=gl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ds=(function(){function e(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function t(r,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,u,f,h,p,g,x,w,_,E,T,N,O,P,M,D,$,H,q=r.constructor,K=r.s==i.s?1:-1,U=r.d,z=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(pa+"Division by zero");for(u=r.e-i.e,$=z.length,M=U.length,x=new q(K),w=x.d=[],f=0;z[f]==(U[f]||0);)++f;if(z[f]>(U[f]||0)&&--u,a==null?N=a=q.precision:o?N=a+(Ln(r)-Ln(i))+1:N=a,N<0)return new q(0);if(N=N/Jt+2|0,f=0,$==1)for(h=0,z=z[0],N++;(f<M||h)&&N--;f++)O=h*ir+(U[f]||0),w[f]=O/z|0,h=O%z|0;else{for(h=ir/(z[0]+1)|0,h>1&&(z=e(z,h),U=e(U,h),$=z.length,M=U.length),P=$,_=U.slice(0,$),E=_.length;E<$;)_[E++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=ir/2&&++D;do h=0,c=t(z,_,$,E),c<0?(T=_[0],$!=E&&(T=T*ir+(_[1]||0)),h=T/D|0,h>1?(h>=ir&&(h=ir-1),p=e(z,h),g=p.length,E=_.length,c=t(p,_,g,E),c==1&&(h--,n(p,$<g?H:z,g))):(h==0&&(c=h=1),p=z.slice()),g=p.length,g<E&&p.unshift(0),n(_,p,E),c==-1&&(E=_.length,c=t(z,_,$,E),c<1&&(h++,n(_,$<E?H:z,E))),E=_.length):c===0&&(h++,_=[0]),w[f++]=h,c&&_[0]?_[E++]=U[P]||0:(_=[U[P]],E=1);while((P++<M||_[0]!==void 0)&&N--)}return w[0]||w.shift(),x.e=u,Gt(x,o?a+Ln(x)+1:a)}})();function q9(e,t){var n,r,i,a,o,c,u=0,f=0,h=e.constructor,p=h.precision;if(Ln(e)>16)throw Error(tT+Ln(e));if(!e.s)return new h(Mi);for(on=!1,c=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Lc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new h(Mi),h.precision=c;;){if(i=Gt(i.times(e),c),n=n.times(++u),o=a.plus(ds(i,n,c)),vo(o.d).slice(0,c)===vo(a.d).slice(0,c)){for(;f--;)a=Gt(a.times(a),c);return h.precision=p,t==null?(on=!0,Gt(a,p)):a}a=o}}function Ln(e){for(var t=e.e*Jt,n=e.d[0];n>=10;n/=10)t++;return t}function ES(e,t,n){if(t>e.LN10.sd())throw on=!0,n&&(e.precision=n),Error(pa+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function gl(e){for(var t="";e--;)t+="0";return t}function Bm(e,t){var n,r,i,a,o,c,u,f,h,p=1,g=10,x=e,w=x.d,_=x.constructor,E=_.precision;if(x.s<1)throw Error(pa+(x.s?"NaN":"-Infinity"));if(x.eq(Mi))return new _(0);if(t==null?(on=!1,f=E):f=t,x.eq(10))return t==null&&(on=!0),ES(_,f);if(f+=g,_.precision=f,n=vo(w),r=n.charAt(0),a=Ln(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=vo(x.d),r=n.charAt(0),p++;a=Ln(x),r>1?(x=new _("0."+n),a++):x=new _(r+"."+n.slice(1))}else return u=ES(_,f+2,E).times(a+""),x=Bm(new _(r+"."+n.slice(1)),f-g).plus(u),_.precision=E,t==null?(on=!0,Gt(x,E)):x;for(c=o=x=ds(x.minus(Mi),x.plus(Mi),f),h=Gt(x.times(x),f),i=3;;){if(o=Gt(o.times(h),f),u=c.plus(ds(o,new _(i),f)),vo(u.d).slice(0,f)===vo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(ES(_,f+2,E).times(a+""))),c=ds(c,new _(p),f),_.precision=E,t==null?(on=!0,Gt(c,E)):c;c=u,i+=2}}function eI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=pf(n/Jt),e.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Jt;r<i;)e.d.push(+t.slice(r,r+=Jt));t=t.slice(r),r=Jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),on&&(e.e>Rb||e.e<-Rb))throw Error(tT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,n){var r,i,a,o,c,u,f,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Jt,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Jt),a=p.length,h>=a)return e;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=Jt,i=r-Jt+o}if(n!==void 0&&(a=Lc(10,o-i-1),c=f/a%10|0,u=t<0||p[h+1]!==void 0||f%a,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/Lc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Ln(e),p.length=1,t=t-a-1,p[0]=Lc(10,(Jt-t%Jt)%Jt),e.e=pf(-t/Jt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Lc(10,Jt-r),p[h]=i>0?(f/Lc(10,o-i)%Lc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==ir&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=ir)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(on&&(e.e>Rb||e.e<-Rb))throw Error(tT+Ln(e));return e}function Y9(e,t){var n,r,i,a,o,c,u,f,h,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),on?Gt(t,x):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(h=o<0,h?(n=u,o=-o,c=p.length):(n=p,r=f,c=u.length),i=Math.max(Math.ceil(x/Jt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=p.length,h=i<c,h&&(c=i),i=0;i<c;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),c=u.length,i=p.length-c;i>0;--i)u[c++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ir-1;--u[a],u[i]+=ir}u[i]-=p[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,on?Gt(t,x):t):new g(0)}function tu(e,t,n){var r,i=Ln(e),a=vo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+gl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+gl(-i-1)+a,n&&(r=n-o)>0&&(a+=gl(r))):i>=o?(a+=gl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+gl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=gl(r))),e.s<0?"-"+a:a}function tI(e,t){if(e.length>t)return e.length=t,!0}function K9(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return eI(o,a.toString())}else if(typeof a!="string")throw Error(Wc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,qye.test(a))eI(o,a);else throw Error(Wc+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K9,i.config=i.set=Yye,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Yye(e){if(!e||typeof e!="object")throw Error(pa+"Object expected");var t,n,r,i=["precision",1,mf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(pf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Wc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wc+n+": "+r);return this}var nT=K9(Gye);Mi=new nT(1);const Lt=nT;var Kye=e=>e,W9={},V9=e=>e===W9,nI=e=>function t(){return arguments.length===0||arguments.length===1&&V9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Z9=(e,t)=>e===1?t:nI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==W9).length;return a>=e?t(...r):Z9(e-a,nI(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(h=>V9(h)?c.shift():h);return t(...f,...c)}))}),Wye=e=>Z9(e.length,e),Sk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Vye=Wye((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Zye=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Kye;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}},Ek=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function X9(e){var t;return e===0?t=1:t=Math.floor(new Lt(e).abs().log(10).toNumber())+1,t}function J9(e,t,n){for(var r=new Lt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Q9=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},ez=(e,t,n)=>{if(e.lte(0))return new Lt(0);var r=X9(e.toNumber()),i=new Lt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,c=new Lt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Lt(u.toNumber()):new Lt(Math.ceil(u.toNumber()))},Xye=(e,t,n)=>{var r=new Lt(1),i=new Lt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Lt(10).pow(X9(e)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Lt(Math.floor(e)))}else e===0?i=new Lt(Math.floor((t-1)/2)):n||(i=new Lt(Math.floor(e)));var o=Math.floor((t-1)/2),c=Zye(Vye(u=>i.add(new Lt(u-o).mul(r)).toNumber()),Sk);return c(0,t)},tz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=ez(new Lt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Lt(0):(c=new Lt(t).add(n).div(2),c=c.sub(new Lt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Lt(n).sub(c).div(o).toNumber()),h=u+f+1;return h>r?tz(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:o,tickMin:c.sub(new Lt(u).mul(o)),tickMax:c.add(new Lt(f).mul(o))})},Jye=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=Q9([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...Sk(0,i-1).map(()=>1/0)]:[...Sk(0,i-1).map(()=>-1/0),u];return n>r?Ek(f):f}if(c===u)return Xye(c,i,a);var{step:h,tickMin:p,tickMax:g}=tz(c,u,o,a,0),x=J9(p,g.add(new Lt(.1).mul(h)),h);return n>r?Ek(x):x},Qye=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=Q9([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=ez(new Lt(c).sub(o).div(u-1),a,0),h=[...J9(new Lt(o),new Lt(c),f),c];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?Ek(h):h},ebe=e=>e.rootProps.barCategoryGap,ix=e=>e.rootProps.stackOffset,nz=e=>e.rootProps.reverseStackOrder,rT=e=>e.options.chartName,iT=e=>e.rootProps.syncId,rz=e=>e.rootProps.syncMethod,aT=e=>e.options.eventEmitter,tbe=e=>e.rootProps.baseValue,Ir={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},as={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ax=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},nbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},rbe={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:Ni.type,unit:void 0},ibe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},abe={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:"category",unit:void 0},oT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ibe:nbe,sT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?abe:rbe,ox=e=>e.polarOptions,lT=we([Es,ks,xr],Jpe),iz=we([ox,lT],(e,t)=>{if(e!=null)return Nl(e.innerRadius,t,0)}),az=we([ox,lT],(e,t)=>{if(e!=null)return Nl(e.outerRadius,t,t*.8)}),obe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},oz=we([ox],obe);we([oT,oz],ax);var sz=we([lT,iz,az],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([sT,sz],ax);var lz=we([Vt,ox,iz,az,Es,ks],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=t;return{cx:Nl(o,i,i/2),cy:Nl(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Kn=(e,t)=>t,sx=(e,t,n)=>n;function cT(e){return e?.id}function cz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=cT(c);f.forEach((p,g)=>{var x=a==null||i?g:String(Tr(p,a,null)),w=Tr(p,c.dataKey,0),_;o.has(x)?_=o.get(x):_={},Object.assign(_,{[h]:w}),o.set(x,_)})}}),Array.from(o.values())}function uT(e){return e.stackId!=null&&e.dataKey!=null}var lx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sbe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gf=e=>e.tooltip.settings.axisId;function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){lbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lbe(e,t,n){return(t=cbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cbe(e){var t=ube(e,"string");return typeof t=="symbol"?t:t+""}function ube(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kk=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uz=(e,t)=>e.cartesianAxis.xAxis[t],Ts=(e,t)=>{var n=uz(e,t);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:up},dz=(e,t)=>e.cartesianAxis.yAxis[t],Os=(e,t)=>{var n=dz(e,t);return n??nr},dbe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??dbe},Fr=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);case"zAxis":return dT(e,n);case"angleAxis":return oT(e,n);case"radiusAxis":return sT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fbe=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yp=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return Os(e,n);case"angleAxis":return oT(e,n);case"radiusAxis":return sT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},fz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function hz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var mz=e=>e.graphicalItems.cartesianItems,hbe=we([Kn,sx],hz),pz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),bp=we([mz,Fr,hbe],pz,{memoizeOptions:{resultEqualityCheck:cx}}),gz=we([bp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(uT)),yz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mbe=we([bp],yz),bz=e=>e.map(t=>t.data).filter(Boolean).flat(1),pbe=we([bp],bz,{memoizeOptions:{resultEqualityCheck:cx}}),vz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},fT=we([pbe,eT],vz),xz=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Tr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Tr(i,r)}))):e.map(r=>({value:r})),ux=we([fT,Fr,bp],xz);function _z(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vy(e){if(Eo(e)||e instanceof Date){var t=Number(e);if(xn(t))return t}}function iI(e){if(Array.isArray(e)){var t=[vy(e[0]),vy(e[1])];return Cl(t)?t:void 0}var n=vy(e);if(n!=null)return[n,n]}function _s(e){return e.map(vy).filter(Lde)}function gbe(e,t,n){return!n||typeof t!="number"||Ga(t)?[]:n.length?_s(n.flatMap(r=>{var i=Tr(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!xn(a)||!xn(o)))return[t-a,t+o]})):[]}var Vn=e=>{var t=Wn(e),n=gf(e);return yp(e,t,n)},vp=we([Vn],e=>e?.dataKey),ybe=we([gz,eT,Vn],cz),wz=(e,t,n,r)=>{var i={},a=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,h=f.map(cT);return[c,{stackedData:Uhe(e,h,n),graphicalItems:f}]}))},Ak=we([ybe,gz,ix,nz],wz),Sz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=qhe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},bbe=we([Fr],e=>e.allowDataOverflow),hT=e=>{var t;if(e==null||!("domain"in e))return kk;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=_s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:kk},Ez=we([Fr],hT),kz=we([Ez,bbe],F9),vbe=we([Ak,Rl,Kn,kz],Sz,{memoizeOptions:{resultEqualityCheck:lx}}),mT=e=>e.errorBars,xbe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>_z(n,r)),Ib=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},Az=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(T=>_z(i,T)),g=Tr(c,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=gbe(c,g,p);if(x.length>=2){var w=Math.min(...x),_=Math.max(...x);(a==null||w<a)&&(a=w),(o==null||_>o)&&(o=_)}var E=iI(g);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=iI(Tr(c,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),xn(a)&&xn(o))return[a,o]},_be=we([fT,Fr,mbe,mT,Kn],Az,{memoizeOptions:{resultEqualityCheck:lx}});function wbe(e){var{value:t}=e;if(Eo(t)||t instanceof Date)return t}var Sbe=(e,t,n)=>{var r=e.map(wbe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&q7(r))?s9(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Tz=e=>e.referenceElements.dots,yf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ebe=we([Tz,Kn,sx],yf),Oz=e=>e.referenceElements.areas,kbe=we([Oz,Kn,sx],yf),jz=e=>e.referenceElements.lines,Abe=we([jz,Kn,sx],yf),Nz=(e,t)=>{var n=_s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tbe=we(Ebe,Kn,Nz),Cz=(e,t)=>{var n=_s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Obe=we([kbe,Kn],Cz);function jbe(e){var t;if(e.x!=null)return _s([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:_s(n)}function Nbe(e){var t;if(e.y!=null)return _s([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:_s(n)}var Mz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?jbe(r):Nbe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cbe=we([Abe,Kn],Mz),Mbe=we(Tbe,Cbe,Obe,(e,t,n)=>Ib(e,n,t)),Pz=(e,t,n,r,i,a,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?Ib(r,a,i):Ib(a,i);return Hye(t,f,e.allowDataOverflow)},Pbe=we([Fr,Ez,kz,vbe,_be,Mbe,Vt,Kn],Pz,{memoizeOptions:{resultEqualityCheck:lx}}),Dbe=[0,1],Dz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,f=Ss(t,a);if(f&&c==null){var h;return s9(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?Sbe(r,e,f):i==="expand"?Dbe:o}},pT=we([Fr,Vt,fT,ux,ix,Kn,Pbe],Dz),Rz=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(yA(a));return c in tm?c:"point"}}},xp=we([Fr,Vt,fz,rT,Kn],Rz);function Rbe(e){if(e!=null){if(e in tm)return tm[e]();var t="scale".concat(yA(e));if(t in tm)return tm[t]()}}function gT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Rbe(t);if(i!=null){var a=i.domain(n).range(r);return Ihe(a),a}}}var Lz=(e,t,n)=>{var r=hT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cl(e))return Jye(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cl(e))return Qye(e,t.tickCount,t.allowDecimals)}},yT=we([pT,yp,xp],Lz),Iz=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Cl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},Lbe=we([Fr,pT,yT,Kn],Iz),Ibe=we(ux,Fr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(_s(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),$z=we(Ibe,Vt,ebe,xr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!xn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Nl(n,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),$be=(e,t)=>{var n=Ts(e,t);return n==null||typeof n.padding!="string"?0:$z(e,"xAxis",t,n.padding)},Bbe=(e,t)=>{var n=Os(e,t);return n==null||typeof n.padding!="string"?0:$z(e,"yAxis",t,n.padding)},zbe=we(Ts,$be,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Ube=we(Os,Bbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Fbe=we([xr,zbe,Yv,qv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Hbe=we([xr,Vt,Ube,Yv,qv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),_p=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Fbe(e,n,r);case"yAxis":return Hbe(e,n,r);case"zAxis":return(i=dT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return oz(e);case"radiusAxis":return sz(e,n);default:return}},Bz=we([Fr,_p],ax),bf=we([Fr,xp,Lbe,Bz],gT);we([bp,mT,Kn],xbe);function zz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var dx=(e,t)=>t,fx=(e,t,n)=>n,Gbe=we(Hv,dx,fx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zz)),qbe=we(Gv,dx,fx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zz)),Uz=(e,t)=>({width:e.width,height:t.height}),Ybe=(e,t)=>{var n=typeof t.width=="number"?t.width:up;return{width:n,height:e.height}},Kbe=we(xr,Ts,Uz),Wbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Vbe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Zbe=we(ks,xr,Gbe,dx,fx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=Uz(t,c);o==null&&(o=Wbe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),Xbe=we(Es,xr,qbe,dx,fx,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=Ybe(t,c);o==null&&(o=Vbe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),Jbe=(e,t)=>{var n=Ts(e,t);if(n!=null)return Zbe(e,n.orientation,n.mirror)},Qbe=we([xr,Ts,Jbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),eve=(e,t)=>{var n=Os(e,t);if(n!=null)return Xbe(e,n.orientation,n.mirror)},tve=we([xr,Os,eve,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),nve=we(xr,Os,(e,t)=>{var n=typeof t.width=="number"?t.width:up;return{width:n,height:e.height}}),Fz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=Ss(e,r),u=t.map(f=>f.value);if(o&&c&&a==="category"&&i&&q7(u))return u}},bT=we([Vt,ux,Fr,Kn],Fz),Hz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Ss(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},vT=we([Vt,ux,yp,Kn],Hz),aI=we([Vt,fbe,xp,bf,bT,vT,_p,yT,Kn],(e,t,n,r,i,a,o,c,u)=>{if(t!=null){var f=Ss(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),rve=(e,t,n,r,i,a,o,c,u)=>{if(!(t==null||r==null)){var f=Ss(e,u),{type:h,ticks:p,tickCount:g}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/x:0;w=u==="angleAxis"&&a!=null&&a.length>=2?la(a[0]-a[1])*2*w:w;var _=p||i;if(_){var E=_.map((T,N)=>{var O=o?o.indexOf(T):T;return{index:N,coordinate:r(O)+w,value:T,offset:w}});return E.filter(T=>xn(T.coordinate))}return f&&c?c.map((T,N)=>({coordinate:r(T)+w,value:T,index:N,offset:w})).filter(T=>xn(T.coordinate)):r.ticks?r.ticks(g).map(T=>({coordinate:r(T)+w,value:T,offset:w})):r.domain().map((T,N)=>({coordinate:r(T)+w,value:o?o[T]:T,index:N,offset:w}))}},Gz=we([Vt,yp,xp,bf,yT,_p,bT,vT,Kn],rve),ive=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Ss(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?la(r[0]-r[1])*2*f:f,c&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},qz=we([Vt,yp,bf,_p,bT,vT,Kn],ive),Yz=we(Fr,bf,(e,t)=>{if(!(e==null||t==null))return Lb(Lb({},e),{},{scale:t})}),ave=we([Fr,xp,pT,Bz],gT);we((e,t,n)=>dT(e,n),ave,(e,t)=>{if(!(e==null||t==null))return Lb(Lb({},e),{},{scale:t})});var ove=we([Vt,Hv,Gv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Kz=e=>e.options.defaultTooltipEventType,Wz=e=>e.options.validateTooltipEventTypes;function Vz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function xT(e,t){var n=Kz(e),r=Wz(e);return Vz(t,n,r)}function sve(e){return Je(t=>xT(t,e))}var Zz=(e,t)=>{var n,r=Number(t);if(!(Ga(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},lve=e=>e.tooltip.settings,wl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cve={itemInteraction:{click:wl,hover:wl},axisInteraction:{click:wl,hover:wl},keyboardInteraction:wl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Xz=fi({name:"tooltip",initialState:cve,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=za(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var n=za(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:uve,replaceTooltipEntrySettings:dve,removeTooltipEntrySettings:fve,setTooltipSettingsState:hve,setActiveMouseOverItemIndex:mve,mouseLeaveItem:qOe,mouseLeaveChart:Jz,setActiveClickItemIndex:YOe,setMouseOverAxisIndex:Qz,setMouseClickAxisIndex:pve,setSyncInteraction:Tk,setKeyboardInteraction:Ok}=Xz.actions,gve=Xz.reducer;function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){yve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yve(e,t,n){return(t=bve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bve(e){var t=vve(e,"string");return typeof t=="symbol"?t:t+""}function vve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xve(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _ve(e){return e.index!=null}var e8=(e,t,n,r)=>{if(t==null)return wl;var i=xve(e,t,n);if(i==null)return wl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(_ve(i)){if(a)return V0(V0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return V0(V0({},wl),{},{coordinate:i.coordinate})};function wve(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Sve(e,t){var n=wve(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function Eve(e,t,n){if(n==null||t==null)return!0;var r=Tr(e,t);return r==null||!Cl(n)?!0:Sve(r,n)}var _T=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!xn(a))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(a,c)),f=t[u];return f==null||Eve(f,n,r)?String(u):null},t8=(e,t,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,a);if(f!=null)return f;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},n8=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},wp=e=>e.options.tooltipPayloadSearcher,vf=e=>e.tooltip;function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){kve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kve(e,t,n){return(t=Ave(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ave(e){var t=Tve(e,"string");return typeof t=="symbol"?t:t+""}function Tve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ove(e,t){return e??t}var r8=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((g,x)=>{var w,{dataDefinedOnItem:_,settings:E}=x,T=Ove(_,c),N=Array.isArray(T)?P6(T,f,h):T,O=(w=E?.dataKey)!==null&&w!==void 0?w:r,P=E?.nameKey,M;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?M=Y7(N,r,i):M=a(N,t,u,P),Array.isArray(M))M.forEach($=>{var H=lI(lI({},E),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(CR({tooltipEntrySettings:H,dataKey:$.dataKey,payload:$.payload,value:Tr($.payload,$.dataKey),name:$.name}))});else{var D;g.push(CR({tooltipEntrySettings:E,dataKey:O,payload:M,value:Tr(M,O),name:(D=Tr(M,P))!==null&&D!==void 0?D:E?.name}))}return g},p)}},wT=we([Vn,Vt,fz,rT,Wn],Rz),jve=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Nve=we([Wn,gf],hz),Sp=we([jve,Vn,Nve],pz,{memoizeOptions:{resultEqualityCheck:cx}}),Cve=we([Sp],e=>e.filter(uT)),Mve=we([Sp],bz,{memoizeOptions:{resultEqualityCheck:cx}}),xf=we([Mve,Rl],vz),Pve=we([Cve,Rl,Vn],cz),ST=we([xf,Vn,Sp],xz),i8=we([Vn],hT),Dve=we([Vn],e=>e.allowDataOverflow),a8=we([i8,Dve],F9),Rve=we([Sp],e=>e.filter(uT)),Lve=we([Pve,Rve,ix,nz],wz),Ive=we([Lve,Rl,Wn,a8],Sz),$ve=we([Sp],yz),Bve=we([xf,Vn,$ve,mT,Wn],Az,{memoizeOptions:{resultEqualityCheck:lx}}),zve=we([Tz,Wn,gf],yf),Uve=we([zve,Wn],Nz),Fve=we([Oz,Wn,gf],yf),Hve=we([Fve,Wn],Cz),Gve=we([jz,Wn,gf],yf),qve=we([Gve,Wn],Mz),Yve=we([Uve,qve,Hve],Ib),Kve=we([Vn,i8,a8,Ive,Bve,Yve,Vt,Wn],Pz),Ep=we([Vn,Vt,xf,ST,ix,Wn,Kve],Dz),Wve=we([Ep,Vn,wT],Lz),Vve=we([Vn,Ep,Wve,Wn],Iz),o8=e=>{var t=Wn(e),n=gf(e),r=!1;return _p(e,t,n,r)},s8=we([Vn,o8],ax),l8=we([Vn,wT,Vve,s8],gT),Zve=we([Vt,ST,Vn,Wn],Fz),Xve=we([Vt,ST,Vn,Wn],Hz),Jve=(e,t,n,r,i,a,o,c)=>{if(t){var{type:u}=t,f=Ss(e,c);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?la(i[0]-i[1])*2*p:p,f&&o?o.map((g,x)=>({coordinate:r(g)+p,value:g,index:x,offset:p})):r.domain().map((g,x)=>({coordinate:r(g)+p,value:a?a[g]:g,index:x,offset:p}))}}},js=we([Vt,Vn,wT,l8,o8,Zve,Xve,Wn],Jve),ET=we([Kz,Wz,lve],(e,t,n)=>Vz(n.shared,e,t)),c8=e=>e.tooltip.settings.trigger,kT=e=>e.tooltip.settings.defaultIndex,kp=we([vf,ET,c8,kT],e8),zm=we([kp,xf,vp,Ep],_T),u8=we([js,zm],Zz),Qve=we([kp],e=>{if(e)return e.dataKey});we([kp],e=>{if(e)return e.graphicalItemId});var d8=we([vf,ET,c8,kT],n8),exe=we([Es,ks,Vt,xr,js,kT,d8,wp],t8),txe=we([kp,exe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nxe=we([kp],e=>e.active),rxe=we([d8,zm,Rl,vp,u8,wp,ET],r8),ixe=we([rxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){axe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function axe(e,t,n){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oxe(e){var t=sxe(e,"string");return typeof t=="symbol"?t:t+""}function sxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lxe=()=>Je(Vn),cxe=()=>{var e=lxe(),t=Je(js),n=Je(l8);return gb(!e||!n?void 0:uI(uI({},e),{},{scale:n}),t)};function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){uxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uxe(e,t,n){return(t=dxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dxe(e){var t=fxe(e,"string");return typeof t=="symbol"?t:t+""}function fxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hxe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},mxe=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return sd(sd(sd({},r),yr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=r;return sd(sd(sd({},r),yr(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function pxe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var f8=(e,t,n,r,i)=>{var a,o=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,h=n[u].coordinate,p=u>=c-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(la(h-f)!==la(p-h)){var x=[];if(la(p-h)===la(i[1]-i[0])){g=p;var w=h+i[1]-i[0];x[0]=Math.min(w,(w+f)/2),x[1]=Math.max(w,(w+f)/2)}else{g=f;var _=p+i[1]-i[0];x[0]=Math.min(h,(_+h)/2),x[1]=Math.max(h,(_+h)/2)}var E=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>E[0]&&e<=E[1]||e>=x[0]&&e<=x[1]){({index:o}=n[u]);break}}else{var T=Math.min(f,p),N=Math.max(f,p);if(e>(T+h)/2&&e<=(N+h)/2){({index:o}=n[u]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:o}=t[O]);break}}return o},h8=()=>Je(rT),AT=(e,t)=>t,m8=(e,t,n)=>n,TT=(e,t,n,r)=>r,gxe=we(js,e=>Dv(e,t=>t.coordinate)),OT=we([vf,AT,m8,TT],e8),jT=we([OT,xf,vp,Ep],_T),yxe=(e,t,n)=>{if(t!=null){var r=vf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},p8=we([vf,AT,m8,TT],n8),$b=we([Es,ks,Vt,xr,js,TT,p8,wp],t8),bxe=we([OT,$b],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),g8=we([js,jT],Zz),vxe=we([p8,jT,Rl,vp,g8,wp,AT],r8),xxe=we([OT,jT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_xe=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&pxe(e,o)){var c=Yhe(e,t),u=f8(c,a,i,n,r),f=hxe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},wxe=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var c=rge(e,n);if(c){var u=Khe(c,t),f=f8(u,o,a,r,i),h=mxe(t,a,f,c);return{activeIndex:String(f),activeCoordinate:h}}}},Sxe=(e,t,n,r,i,a,o,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?_xe(e,t,r,i,a,o,c):wxe(e,t,n,r,i,a,o)},Exe=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),kxe=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ir)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:sbe}});function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){Axe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Axe(e,t,n){return(t=Txe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Txe(e){var t=Oxe(e,"string");return typeof t=="symbol"?t:t+""}function Oxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jxe={},Nxe={zIndexMap:Object.values(Ir).reduce((e,t)=>hI(hI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),jxe)},Cxe=new Set(Object.values(Ir));function Mxe(e){return Cxe.has(e)}var y8=fi({name:"zIndex",initialState:Nxe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Mxe(n)&&delete e.zIndexMap[n])},prepare:an()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:an()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:an()}}}),{registerZIndexPortal:Pxe,unregisterZIndexPortal:Dxe,registerZIndexPortalId:Rxe,unregisterZIndexPortalId:Lxe}=y8.actions,Ixe=y8.reducer;function Ns(e){var{zIndex:t,children:n}=e,r=Tme(),i=r&&t!==void 0&&t!==0,a=hi(),o=sr();S.useLayoutEffect(()=>i?(o(Pxe({zIndex:t})),()=>{o(Dxe({zIndex:t}))}):op,[o,t,i]);var c=Je(f=>Exe(f,t,a));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?tf.createPortal(n,u):null}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(null,arguments)}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){$xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $xe(e,t,n){return(t=Bxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bxe(e){var t=zxe(e,"string");return typeof t=="symbol"?t:t+""}function zxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uxe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function Fxe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:h}=e,p=n,g=r,x=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var w,_,E;if(h==="ScatterChart")w=p,_=ppe,E=Ir.cursorLine;else if(h==="BarChart")w=gpe(c,p,a,o),_=Kpe,E=Ir.cursorRectangle;else if(c==="radial"&&K7(p)){var{cx:T,cy:N,radius:O,startAngle:P,endAngle:M}=a9(p);w={cx:T,cy:N,startAngle:P,endAngle:M,innerRadius:O,outerRadius:O},_=sge,E=Ir.cursorLine}else w={points:lge(c,p,a)},_=by,E=Ir.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,$=Z0(Z0(Z0(Z0({stroke:"#ccc",pointerEvents:"none"},a),w),Nv(u)),{},{payload:g,payloadIndex:x,className:Qt("recharts-tooltip-cursor",D)});return S.createElement(Ns,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},S.createElement(Uxe,{cursor:u,cursorComp:_,cursorProps:$}))}function Hxe(e){var t=cxe(),n=H6(),r=dp(),i=h8();return t==null||n==null||r==null||i==null?null:S.createElement(Fxe,jk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var b8=S.createContext(null),Gxe=()=>S.useContext(b8),kS={exports:{}},pI;function qxe(){return pI||(pI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||u,g),w=n?n+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],x]:u._events[w].push(x):(u._events[w]=x,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,w=new Array(x);g<x;g++)w[g]=p[g].fn;return w},c.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,h,p,g,x,w){var _=n?n+f:f;if(!this._events[_])return!1;var E=this._events[_],T=arguments.length,N,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,g),!0;case 5:return E.fn.call(E.context,h,p,g,x),!0;case 6:return E.fn.call(E.context,h,p,g,x,w),!0}for(O=1,N=new Array(T-1);O<T;O++)N[O-1]=arguments[O];E.fn.apply(E.context,N)}else{var P=E.length,M;for(O=0;O<P;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),T){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,h);break;case 3:E[O].fn.call(E[O].context,h,p);break;case 4:E[O].fn.call(E[O].context,h,p,g);break;default:if(!N)for(M=1,N=new Array(T-1);M<T;M++)N[M-1]=arguments[M];E[O].fn.apply(E[O].context,N)}}return!0},c.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},c.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},c.prototype.removeListener=function(f,h,p,g){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return o(this,x),this;var w=this._events[x];if(w.fn)w.fn===h&&(!g||w.once)&&(!p||w.context===p)&&o(this,x);else{for(var _=0,E=[],T=w.length;_<T;_++)(w[_].fn!==h||g&&!w[_].once||p&&w[_].context!==p)&&E.push(w[_]);E.length?this._events[x]=E.length===1?E[0]:E:o(this,x)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(kS)),kS.exports}var Yxe=qxe();const Kxe=di(Yxe);var Um=new Kxe,Nk="recharts.syncEvent.tooltip",gI="recharts.syncEvent.brush";function Wxe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ga(n))return e?.[n]}}var Vxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},v8=fi({name:"options",initialState:Vxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zxe=v8.reducer,{createEventEmitter:Xxe}=v8.actions;function Jxe(e){return e.tooltip.syncInteraction}var Qxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x8=fi({name:"chartData",initialState:Qxe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:yI,setDataStartEndIndexes:e_e,setComputedData:KOe}=x8.actions,t_e=x8.reducer,n_e=["x","y"];function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){r_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r_e(e,t,n){return(t=i_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i_e(e){var t=a_e(e,"string");return typeof t=="symbol"?t:t+""}function a_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o_e(e,t){if(e==null)return{};var n,r,i=s_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l_e(){var e=Je(iT),t=Je(aT),n=sr(),r=Je(rz),i=Je(js),a=dp(),o=Kv(),c=Je(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return op;var u=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(o&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:w,y:_}=x,E=o_e(x,n_e),{x:T,y:N,width:O,height:P}=h.payload.sourceViewBox,M=ld(ld({},E),{},{x:o.x+(O?(w-T)/O:0)*o.width,y:o.y+(P?(_-N)/P:0)*o.height});n(ld(ld({},h),{},{payload:ld(ld({},h.payload),{},{coordinate:M})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,$);D=i[H]}else r==="value"&&(D=i.find(Y=>String(Y.value)===h.payload.label));var{coordinate:q}=h.payload;if(D==null||h.payload.active===!1||q==null||o==null){n(Tk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:U}=q,z=Math.min(K,o.x+o.width),V=Math.min(U,o.y+o.height),J={x:a==="horizontal"?D.coordinate:z,y:a==="horizontal"?V:D.coordinate},Q=Tk({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Q)}}};return Um.on(Nk,u),()=>{Um.off(Nk,u)}},[c,n,t,e,r,i,a,o])}function c_e(){var e=Je(iT),t=Je(aT),n=sr();S.useEffect(()=>{if(e==null)return op;var r=(i,a,o)=>{t!==o&&e===i&&n(e_e(a))};return Um.on(gI,r),()=>{Um.off(gI,r)}},[n,t,e])}function u_e(){var e=sr();S.useEffect(()=>{e(Xxe())},[e]),l_e(),c_e()}function d_e(e,t,n,r,i,a){var o=Je(x=>yxe(x,e,t)),c=Je(aT),u=Je(iT),f=Je(rz),h=Je(Jxe),p=h?.active,g=Kv();S.useEffect(()=>{if(!p&&u!=null&&c!=null){var x=Tk({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Um.emit(Nk,u,x,c)}},[p,n,o,i,r,c,u,f,a,g])}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){f_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_e(e,t,n){return(t=h_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_e(e){var t=m_e(e,"string");return typeof t=="symbol"?t:t+""}function m_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p_e(e){return e.dataKey}function g_e(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(Wme,t)}var _I=[],y_e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function b_e(e){var t,n,r=Hi(e,y_e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:x,reverseDirection:w,useTranslate3d:_,wrapperStyle:E,cursor:T,shared:N,trigger:O,defaultIndex:P,portal:M,axisId:D}=r,$=sr(),H=typeof P=="number"?String(P):P;S.useEffect(()=>{$(hve({shared:N,trigger:O,axisId:D,active:i,defaultIndex:H}))},[$,N,O,D,i,H]);var q=Kv(),K=Q6(),U=sve(N),{activeIndex:z,isActive:V}=(t=Je(pe=>xxe(pe,U,O,H)))!==null&&t!==void 0?t:{},J=Je(pe=>vxe(pe,U,O,H)),Q=Je(pe=>g8(pe,U,O,H)),Y=Je(pe=>bxe(pe,U,O,H)),X=J,re=Gxe(),ue=(n=i??V)!==null&&n!==void 0?n:!1,[se,B]=Lfe([X,ue]),W=U==="axis"?Q:void 0;d_e(U,O,Y,W,z,ue);var ae=M??re;if(ae==null||q==null||U==null)return null;var Z=X??_I;ue||(Z=_I),f&&Z.length&&(Z=lfe(Z.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),g,p_e));var oe=Z.length>0,me=S.createElement(tpe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:h,active:ue,coordinate:Y,hasPayload:oe,offset:p,position:x,reverseDirection:w,useTranslate3d:_,viewBox:q,wrapperStyle:E,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!M},g_e(u,xI(xI({},r),{},{payload:Z,label:W,active:ue,activeIndex:z,coordinate:Y,accessibilityLayer:K})));return S.createElement(S.Fragment,null,tf.createPortal(me,ae),ue&&S.createElement(Hxe,{cursor:T,tooltipEventType:U,coordinate:Y,payload:Z,index:z}))}function v_e(e,t,n){return(t=x_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_e(e){var t=__e(e,"string");return typeof t=="symbol"?t:t+""}function __e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class w_e{constructor(t){v_e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){E_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E_e(e,t,n){return(t=k_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_e(e){var t=A_e(e,"string");return typeof t=="symbol"?t:t+""}function A_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T_e={cacheSize:2e3,enableCache:!0},_8=S_e({},T_e),SI=new w_e(_8.cacheSize),O_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EI="recharts_measurement_span";function j_e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var kI=(e,t)=>{try{var n=document.getElementById(EI);n||(n=document.createElement("span"),n.setAttribute("id",EI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,O_e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},dm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ff.isSsr)return{width:0,height:0};if(!_8.enableCache)return kI(t,n);var r=j_e(t,n),i=SI.get(r);if(i)return i;var a=kI(t,n);return SI.set(r,a),a},AI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,N_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,C_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,w8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},M_e=Object.keys(w8),wd="NaN";function P_e(e,t){return e*w8[t]}class ri{static parse(t){var n,[,r,i]=(n=C_e.exec(t))!==null&&n!==void 0?n:[];return new ri(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ga(t)&&(this.unit=""),n!==""&&!N_e.test(n)&&(this.num=NaN,this.unit=""),M_e.includes(n)&&(this.num=P_e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ri(NaN,""):new ri(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ri(NaN,""):new ri(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ri(NaN,""):new ri(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ri(NaN,""):new ri(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ga(this.num)}}function S8(e){if(e.includes(wd))return wd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=AI.exec(t))!==null&&n!==void 0?n:[],o=ri.parse(r??""),c=ri.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return wd;t=t.replace(AI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=TI.exec(t))!==null&&f!==void 0?f:[],x=ri.parse(h??""),w=ri.parse(g??""),_=p==="+"?x.add(w):x.subtract(w);if(_.isNaN())return wd;t=t.replace(TI,_.toString())}return t}var OI=/\(([^()]*)\)/;function D_e(e){for(var t=e,n;(n=OI.exec(t))!=null;){var[,r]=n;t=t.replace(OI,S8(r))}return t}function R_e(e){var t=e.replace(/\s+/g,"");return t=D_e(t),t=S8(t),t}function L_e(e){try{return R_e(e)}catch{return wd}}function AS(e){var t=L_e(e.slice(5,-1));return t===wd?"":t}var I_e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$_e=["dx","dy","angle","className","breakAll"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ck.apply(null,arguments)}function jI(e,t){if(e==null)return{};var n,r,i=B_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var E8=/[ \f\n\r\t\v\u2028\u2029]+/,k8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];br(t)||(n?i=t.toString().split(""):i=t.toString().split(E8));var a=i.map(c=>({word:c,width:dm(c,r).width})),o=n?0:dm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function z_e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var A8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),T8=e=>e.reduce((t,n)=>t.width>n.width?t:n),U_e="",NI=(e,t,n,r,i,a,o,c)=>{var u=e.slice(0,t),f=k8({breakAll:n,style:r,children:u+U_e});if(!f)return[!1,[]];var h=A8(f.wordsWithComputedWidth,a,o,c),p=h.length>i||T8(h).width>Number(a);return[p,h]},F_e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=e,f=We(a),h=String(o),p=A8(t,r,n,i);if(!f||i)return p;var g=p.length>a||T8(p).width>Number(r);if(!g)return p;for(var x=0,w=h.length-1,_=0,E;x<=w&&_<=h.length-1;){var T=Math.floor((x+w)/2),N=T-1,[O,P]=NI(h,N,u,c,a,r,n,i),[M]=NI(h,T,u,c,a,r,n,i);if(!O&&!M&&(x=T+1),O&&M&&(w=T-1),!O&&M){E=P;break}_++}return E||p},CI=e=>{var t=br(e)?[]:e.toString().split(E8);return[{words:t,width:void 0}]},H_e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!ff.isSsr){var c,u,f=k8({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;c=h,u=p}else return CI(r);return F_e({breakAll:a,children:r,maxLines:o,style:i},c,u,t,!!n)}return CI(r)},O8="#808080",G_e={angle:0,breakAll:!1,capHeight:"0.71em",fill:O8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},NT=S.forwardRef((e,t)=>{var n=Hi(e,G_e),{x:r,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=jI(n,I_e),g=S.useMemo(()=>H_e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:w,angle:_,className:E,breakAll:T}=p,N=jI(p,$_e);if(!Eo(r)||!Eo(i)||g.length===0)return null;var O=Number(r)+(We(x)?x:0),P=Number(i)+(We(w)?w:0);if(!xn(O)||!xn(P))return null;var M;switch(h){case"start":M=AS("calc(".concat(o,")"));break;case"middle":M=AS("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=AS("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(u){var $=g[0].width,{width:H}=p;D.push("scale(".concat(We(H)&&We($)?H/$:1,")"))}return _&&D.push("rotate(".concat(_,", ").concat(O,", ").concat(P,")")),D.length&&(N.transform=D.join(" ")),S.createElement("text",Ck({},ha(N),{ref:t,x:O,y:P,className:Qt("recharts-text",E),textAnchor:f,fill:c.includes("url")?O8:c}),g.map((q,K)=>{var U=q.words.join(T?"":" ");return S.createElement("tspan",{x:O,dy:K===0?M:a,key:"".concat(U,"-").concat(K)},U)}))});NT.displayName="Text";var q_e=["labelRef"];function Y_e(e,t){if(e==null)return{};var n,r,i=K_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){W_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W_e(e,t,n){return(t=V_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_e(e){var t=Z_e(e,"string");return typeof t=="symbol"?t:t+""}function Z_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(null,arguments)}var j8=S.createContext(null),X_e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:c}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return S.createElement(j8.Provider,{value:u},c)},N8=()=>{var e=S.useContext(j8),t=Kv();return e||F6(t)},J_e=S.createContext(null),Q_e=()=>{var e=S.useContext(J_e),t=Je(lz);return e||t},ewe=e=>{var{value:t,formatter:n}=e,r=br(e.children)?t:e.children;return typeof n=="function"?n(r):r},CT=e=>e!=null&&typeof e=="function",twe=(e,t)=>{var n=la(t-e),r=Math.min(Math.abs(t-e),360);return n*r},nwe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:c,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:x}=i,w=(f+h)/2,_=twe(p,g),E=_>=0?1:-1,T,N;switch(t){case"insideStart":T=p+E*a,N=x;break;case"insideEnd":T=g-E*a,N=!x;break;case"end":T=g+E*a,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=_<=0?N:!N;var O=yr(c,u,w,T),P=yr(c,u,w,T+(N?1:-1)*359),M="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),D=br(e.id)?Tm("recharts-radial-line-"):e.id;return S.createElement("text",os({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:D,d:M})),S.createElement("textPath",{xlinkHref:"#".concat(D)},n))},rwe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=e,f=(c+u)/2;if(n==="outside"){var{x:h,y:p}=yr(r,i,o+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x,y:w}=yr(r,i,g,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Mk=e=>"cx"in e&&We(e.cx),iwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Mk(n)&&(a=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:h}=t,p=o,g=o+(u-f)/2,x=(p+g)/2,w=(u+f)/2,_=p+u/2,E=h>=0?1:-1,T=E*r,N=E>0?"end":"start",O=E>0?"start":"end",P=u>=0?1:-1,M=P*r,D=P>0?"end":"start",$=P>0?"start":"end";if(i==="top"){var H={x:p+u/2,y:c-T,textAnchor:"middle",verticalAnchor:N};return En(En({},H),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var q={x:g+f/2,y:c+h+T,textAnchor:"middle",verticalAnchor:O};return En(En({},q),a?{height:Math.max(a.y+a.height-(c+h),0),width:f}:{})}if(i==="left"){var K={x:x-M,y:c+h/2,textAnchor:D,verticalAnchor:"middle"};return En(En({},K),a?{width:Math.max(K.x-a.x,0),height:h}:{})}if(i==="right"){var U={x:x+w+M,y:c+h/2,textAnchor:$,verticalAnchor:"middle"};return En(En({},U),a?{width:Math.max(a.x+a.width-U.x,0),height:h}:{})}var z=a?{width:w,height:h}:{};return i==="insideLeft"?En({x:x+M,y:c+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?En({x:x+w-M,y:c+h/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?En({x:p+u/2,y:c+T,textAnchor:"middle",verticalAnchor:O},z):i==="insideBottom"?En({x:g+f/2,y:c+h-T,textAnchor:"middle",verticalAnchor:N},z):i==="insideTopLeft"?En({x:p+M,y:c+T,textAnchor:$,verticalAnchor:O},z):i==="insideTopRight"?En({x:p+u-M,y:c+T,textAnchor:D,verticalAnchor:O},z):i==="insideBottomLeft"?En({x:g+M,y:c+h-T,textAnchor:$,verticalAnchor:N},z):i==="insideBottomRight"?En({x:g+f-M,y:c+h-T,textAnchor:D,verticalAnchor:N},z):i&&typeof i=="object"&&(We(i.x)||gs(i.x))&&(We(i.y)||gs(i.y))?En({x:o+Nl(i.x,w),y:c+Nl(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):En({x:_,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},awe={angle:0,offset:5,zIndex:Ir.label,position:"middle",textBreakAll:!1};function yl(e){var t=Hi(e,awe),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:f}=t,h=Q_e(),p=N8(),g=r==="center"?p:h??p,x,w,_;if(n==null?x=g:Mk(n)?x=n:x=F6(n),!x||br(i)&&br(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var E=En(En({},t),{},{viewBox:x});if(S.isValidElement(o)){var{labelRef:T}=E,N=Y_e(E,q_e);return S.cloneElement(o,N)}if(typeof o=="function"){if(w=S.createElement(o,E),S.isValidElement(w))return w}else w=ewe(t);var O=ha(t);if(Mk(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return nwe(t,r,w,O,x);_=rwe(x,t.offset,t.position)}else _=iwe(t,x);return S.createElement(Ns,{zIndex:t.zIndex},S.createElement(NT,os({ref:f,className:Qt("recharts-label",c)},O,_,{textAnchor:z_e(O.textAnchor)?O.textAnchor:_.textAnchor,breakAll:u}),w))}yl.displayName="Label";var owe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(yl,os({key:"label-implicit"},r)):Eo(e)?S.createElement(yl,os({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===yl?S.cloneElement(e,En({key:"label-implicit"},r)):S.createElement(yl,os({key:"label-implicit",content:e},r)):CT(e)?S.createElement(yl,os({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(yl,os({},e,{key:"label-implicit"},r)):null};function swe(e){var{label:t,labelRef:n}=e,r=N8();return owe(t,r,n)||null}var TS={},OS={},PI;function lwe(){return PI||(PI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(OS)),OS}var jS={},DI;function cwe(){return DI||(DI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(jS)),jS}var RI;function uwe(){return RI||(RI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lwe(),n=cwe(),r=vA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(TS)),TS}var NS,LI;function dwe(){return LI||(LI=1,NS=uwe().last),NS}var fwe=dwe();const hwe=di(fwe);var mwe=["valueAccessor"],pwe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(null,arguments)}function II(e,t){if(e==null)return{};var n,r,i=gwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ywe=e=>Array.isArray(e.value)?hwe(e.value):e.value,C8=S.createContext(void 0),bwe=C8.Provider,M8=S.createContext(void 0);M8.Provider;function vwe(){return S.useContext(C8)}function xwe(){return S.useContext(M8)}function xy(e){var{valueAccessor:t=ywe}=e,n=II(e,mwe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:c}=n,u=II(n,pwe),f=vwe(),h=xwe(),p=f||h;return!p||!p.length?null:S.createElement(Ns,{zIndex:c??Ir.label},S.createElement(So,{className:"recharts-label-list"},p.map((g,x)=>{var w,_=br(r)?t(g,x):Tr(g&&g.payload,r),E=br(a)?{}:{id:"".concat(a,"-").concat(x)};return S.createElement(yl,Bb({key:"label-".concat(x)},ha(g),u,E,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:o,viewBox:g.viewBox,index:x,zIndex:0}))})))}xy.displayName="LabelList";function _we(e){var{label:t}=e;return t?t===!0?S.createElement(xy,{key:"labelList-implicit"}):S.isValidElement(t)||CT(t)?S.createElement(xy,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(xy,Bb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pk.apply(null,arguments)}var P8=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qt("recharts-dot",i);return We(t)&&We(n)&&We(r)?S.createElement("circle",Pk({},Ha(e),bA(e),{className:a,cx:t,cy:n,r})):null},wwe={radiusAxis:{},angleAxis:{}},D8=fi({name:"polarAxis",initialState:wwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:WOe,removeRadiusAxis:VOe,addAngleAxis:ZOe,removeAngleAxis:XOe}=D8.actions,Swe=D8.reducer,CS={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I;function Ewe(){if($I)return Ct;$I=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,T=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function O(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case t:switch(M=M.type,M){case u:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case c:case h:case w:case x:case o:return M;default:return D}}case n:return D}}}function P(M){return O(M)===f}return Ct.AsyncMode=u,Ct.ConcurrentMode=f,Ct.ContextConsumer=c,Ct.ContextProvider=o,Ct.Element=t,Ct.ForwardRef=h,Ct.Fragment=r,Ct.Lazy=w,Ct.Memo=x,Ct.Portal=n,Ct.Profiler=a,Ct.StrictMode=i,Ct.Suspense=p,Ct.isAsyncMode=function(M){return P(M)||O(M)===u},Ct.isConcurrentMode=P,Ct.isContextConsumer=function(M){return O(M)===c},Ct.isContextProvider=function(M){return O(M)===o},Ct.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ct.isForwardRef=function(M){return O(M)===h},Ct.isFragment=function(M){return O(M)===r},Ct.isLazy=function(M){return O(M)===w},Ct.isMemo=function(M){return O(M)===x},Ct.isPortal=function(M){return O(M)===n},Ct.isProfiler=function(M){return O(M)===a},Ct.isStrictMode=function(M){return O(M)===i},Ct.isSuspense=function(M){return O(M)===p},Ct.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===w||M.$$typeof===x||M.$$typeof===o||M.$$typeof===c||M.$$typeof===h||M.$$typeof===E||M.$$typeof===T||M.$$typeof===N||M.$$typeof===_)},Ct.typeOf=O,Ct}var BI;function kwe(){return BI||(BI=1,CS.exports=Ewe()),CS.exports}kwe();var R8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Awe(e){var{tooltipEntrySettings:t}=e,n=sr(),r=hi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(uve(t)):i.current!==t&&n(dve({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(fve(i.current)),i.current=null)},[n]),null}function Twe(e){var{legendPayload:t}=e,n=sr(),r=hi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(zme(t)):i.current!==t&&n(Ume({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(Fme(i.current)),i.current=null)},[n]),null}var MS,Owe=()=>{var[e]=S.useState(()=>Tm("uid-"));return e},jwe=(MS=cH.useId)!==null&&MS!==void 0?MS:Owe;function L8(e,t){var n=jwe();return t||(e?"".concat(e,"-").concat(n):n)}var Nwe=S.createContext(void 0),Cwe=e=>{var{id:t,type:n,children:r}=e,i=L8("recharts-".concat(n),t);return S.createElement(Nwe.Provider,{value:i},r(i))},Mwe={cartesianItems:[],polarItems:[]},I8=fi({name:"graphicalItems",initialState:Mwe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=za(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var n=za(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var n=za(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:an()}}}),{addCartesianGraphicalItem:Pwe,replaceCartesianGraphicalItem:Dwe,removeCartesianGraphicalItem:Rwe,addPolarGraphicalItem:JOe,removePolarGraphicalItem:QOe}=I8.actions,Lwe=I8.reducer,Iwe=e=>{var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(Pwe(e)):n.current!==e&&t(Dwe({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(Rwe(n.current)),n.current=null)},[t]),null},$we=S.memo(Iwe),Bwe=["points"];function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){zwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zwe(e,t,n){return(t=Uwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uwe(e){var t=Fwe(e,"string");return typeof t=="symbol"?t:t+""}function Fwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zb.apply(null,arguments)}function Hwe(e,t){if(e==null)return{};var n,r,i=Gwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qwe(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,c=Hwe(a,Bwe);return S.createElement(P8,zb({},c,{className:i}))}function Ywe(e,t){return e==null?!1:t?!0:e.length===1}function Kwe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:f=Ir.scatter}=e;if(!Ywe(t,n))return null;var h=R8(n),p=nde(n),g=t.map((w,_)=>{var E,T,N=PS(PS(PS({r:3},o),p),{},{index:_,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(T=w.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:w.value,payload:w.payload,points:t});return S.createElement(qwe,{key:"dot-".concat(_),option:n,dotProps:N,className:i})}),x={};return c&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),S.createElement(Ns,{zIndex:f},S.createElement(So,zb({className:r},x),g))}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){Wwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wwe(e,t,n){return(t=Vwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vwe(e){var t=Zwe(e,"string");return typeof t=="symbol"?t:t+""}function Zwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xwe={xAxis:{},yAxis:{},zAxis:{}},$8=fi({name:"cartesianAxis",initialState:Xwe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=FI(FI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Jwe,replaceXAxis:Qwe,removeXAxis:e1e,addYAxis:t1e,replaceYAxis:n1e,removeYAxis:r1e,addZAxis:eje,replaceZAxis:tje,removeZAxis:nje,updateYAxisWidth:i1e}=$8.actions,a1e=$8.reducer,o1e=we([xr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),s1e=we([o1e,Es,ks],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),MT=()=>Je(s1e),l1e=()=>Je(ixe);function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){c1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c1e(e,t,n){return(t=u1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1e(e){var t=d1e(e,"string");return typeof t=="symbol"?t:t+""}function d1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=DS(DS(DS({},c),Nv(i)),bA(i)),f;return S.isValidElement(i)?f=S.cloneElement(i,u):typeof i=="function"?f=i(u):f=S.createElement(P8,u),S.createElement(So,{className:"recharts-active-dot",clipPath:o},f)};function GI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ir.activeDot}=e,c=Je(zm),u=l1e();if(t==null||u==null)return null;var f=t.find(h=>u.includes(h.payload));return br(f)?null:S.createElement(Ns,{zIndex:o},S.createElement(f1e,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var h1e={},B8=fi({name:"errorBars",initialState:h1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:rje,replaceErrorBar:ije,removeErrorBar:aje}=B8.actions,m1e=B8.reducer;function z8(e,t){var n,r,i=Je(f=>Ts(f,e)),a=Je(f=>Os(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function p1e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=MT(),{needClipX:a,needClipY:o,needClip:c}=z8(t,n);if(!c||!i)return null;var{x:u,y:f,width:h,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}var g1e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function y1e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function PT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(g1e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!fy(e[r],t[r]))return!1}else if(!y1e(e[r],t[r]))return!1;return!0}var b1e=e=>{var{chartData:t}=e,n=sr(),r=hi();return S.useEffect(()=>r?()=>{}:(n(yI(t)),()=>{n(yI(void 0))}),[t,n,r]),null},qI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},U8=fi({name:"brush",initialState:qI,reducers:{setBrushSettings(e,t){return t.payload==null?qI:t.payload}}}),{setBrushSettings:oje}=U8.actions,v1e=U8.reducer;function x1e(e,t,n){return(t=_1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _1e(e){var t=w1e(e,"string");return typeof t=="symbol"?t:t+""}function w1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DT{static create(t){return new DT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}x1e(DT,"EPS",1e-4);function S1e(e){return(e%180+180)%180}var E1e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=S1e(i),o=a*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},k1e={dots:[],areas:[],lines:[]},F8=fi({name:"referenceElements",initialState:k1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=za(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=za(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=za(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:sje,removeDot:lje,addArea:cje,removeArea:uje,addLine:dje,removeLine:fje}=F8.actions,A1e=F8.reducer,T1e=S.createContext(void 0),O1e=e=>{var{children:t}=e,[n]=S.useState("".concat(Tm("recharts"),"-clip")),r=MT();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return S.createElement(T1e.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:c,width:o}))),t)};function H8(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function j1e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return E1e(r,n)}function N1e(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:c}=e;return t===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function Ub(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function C1e(e,t){return H8(e,t+1)}function M1e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=t,u=0,f=1,h=o,p=function(){var w=r?.[u];if(w===void 0)return{v:H8(r,f)};var _=u,E,T=()=>(E===void 0&&(E=n(w,_)),E),N=w.coordinate,O=u===0||Ub(e,N,T,h,c);O||(u=0,h=o,f+=1),O&&(h=N+e*(T()/2+i),u+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){P1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P1e(e,t,n){return(t=D1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D1e(e){var t=R1e(e,"string");return typeof t=="symbol"?t:t+""}function R1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L1e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=t,{end:u}=t,f=function(g){var x=a[g],w,_=()=>(w===void 0&&(w=n(x,g)),w);if(g===o-1){var E=e*(x.coordinate+e*_()/2-u);a[g]=x=kr(kr({},x),{},{tickCoord:E>0?x.coordinate-E*e:x.coordinate})}else a[g]=x=kr(kr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=Ub(e,x.tickCoord,_,c,u);T&&(u=x.tickCoord-e*(_()/2+i),a[g]=kr(kr({},x),{},{isShow:!0}))}},h=o-1;h>=0;h--)f(h);return a}function I1e(e,t,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=t;if(a){var h=r[c-1],p=n(h,c-1),g=e*(h.coordinate+e*p/2-f);if(o[c-1]=h=kr(kr({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var x=Ub(e,h.tickCoord,()=>p,u,f);x&&(f=h.tickCoord-e*(p/2+i),o[c-1]=kr(kr({},h),{},{isShow:!0}))}}for(var w=a?c-1:c,_=function(N){var O=o[N],P,M=()=>(P===void 0&&(P=n(O,N)),P);if(N===0){var D=e*(O.coordinate-e*M()/2-u);o[N]=O=kr(kr({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else o[N]=O=kr(kr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=Ub(e,O.tickCoord,M,u,f);$&&(u=O.tickCoord+e*(M()/2+i),o[N]=kr(kr({},O),{},{isShow:!0}))}},E=0;E<w;E++)_(E);return o}function RT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(We(u)||ff.isSsr){var g;return(g=C1e(i,We(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],w=c==="top"||c==="bottom"?"width":"height",_=h&&w==="width"?dm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(O,P)=>{var M=typeof f=="function"?f(O.value,P):O.value;return w==="width"?j1e(dm(M,{fontSize:t,letterSpacing:n}),_,p):dm(M,{fontSize:t,letterSpacing:n})[w]},T=i.length>=2?la(i[1].coordinate-i[0].coordinate):1,N=N1e(a,T,w);return u==="equidistantPreserveStart"?M1e(T,N,E,i,o):(u==="preserveStart"||u==="preserveStartEnd"?x=I1e(T,N,E,i,o,u==="preserveStartEnd"):x=L1e(T,N,E,i,o),x.filter(O=>O.isShow))}var $1e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+c+(n?r:0);return Math.round(f)}return 0},B1e=["axisLine","width","height","className","hide","ticks","axisType"];function z1e(e,t){if(e==null)return{};var n,r,i=U1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(null,arguments)}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){F1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F1e(e,t,n){return(t=H1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H1e(e){var t=G1e(e,"string");return typeof t=="symbol"?t:t+""}function G1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ir.axis};function q1e(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var f=Dn(Dn(Dn({},u),Ha(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=Dn(Dn({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Dn(Dn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return S.createElement("line",nu({},f,{className:Qt("recharts-cartesian-axis-line",Pv(c,"className"))}))}function Y1e(e,t,n,r,i,a,o,c,u){var f,h,p,g,x,w,_=c?-1:1,E=e.tickSize||o,T=We(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,g=n+ +!c*i,p=g-_*E,w=p-_*u,x=T;break;case"left":p=g=e.coordinate,h=t+ +!c*r,f=h-_*E,x=f-_*u,w=T;break;case"right":p=g=e.coordinate,h=t+ +c*r,f=h+_*E,x=f+_*u,w=T;break;default:f=h=e.coordinate,g=n+ +c*i,p=g+_*E,w=p+_*u,x=T;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x,y:w}}}function K1e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function W1e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function V1e(e){var{option:t,tickProps:n,value:r}=e,i,a=Qt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Dn(Dn({},n),{},{className:a}));else if(typeof t=="function")i=t(Dn(Dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qt(o,t?.className)),i=S.createElement(NT,nu({},n,{className:o}),r)}return i}var Z1e=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:h,mirror:p,x:g,y:x,width:w,height:_,tickSize:E,tickMargin:T,fontSize:N,letterSpacing:O,getTicksConfig:P,events:M,axisType:D}=e,$=RT(Dn(Dn({},P),{},{ticks:n}),N,O),H=K1e(h,p),q=W1e(h,p),K=Ha(P),U=Nv(r),z={};typeof i=="object"&&(z=i);var V=Dn(Dn({},K),{},{fill:"none"},z),J=$.map(X=>Dn({entry:X},Y1e(X,g,x,w,_,h,E,p,T))),Q=J.map(X=>{var{entry:re,line:ue}=X;return S.createElement(So,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&S.createElement("line",nu({},V,ue,{className:Qt("recharts-cartesian-axis-tick-line",Pv(i,"className"))})))}),Y=J.map((X,re)=>{var{entry:ue,tick:se}=X,B=Dn(Dn(Dn(Dn({textAnchor:H,verticalAnchor:q},K),{},{stroke:"none",fill:a},U),se),{},{index:re,payload:ue,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return S.createElement(So,nu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},$de(M,ue,re)),r&&S.createElement(V1e,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(ue.value,re):ue.value).concat(c||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},Y.length>0&&S.createElement(Ns,{zIndex:Ir.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},Y)),Q.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},Q))}),X1e=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c,axisType:u}=e,f=z1e(e,B1e),[h,p]=S.useState(""),[g,x]=S.useState(""),w=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return $1e({ticks:w.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=S.useCallback(E=>{if(E){var T=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=T;var N=T[0];if(N){var O=window.getComputedStyle(N),P=O.fontSize,M=O.letterSpacing;(P!==h||M!==g)&&(p(P),x(M))}}},[h,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Ns,{zIndex:e.zIndex},S.createElement(So,{className:Qt("recharts-cartesian-axis",a)},S.createElement(q1e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ha(e)}),S.createElement(Z1e,{ref:_,axisType:u,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(X_e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(swe,{label:e.label,labelRef:e.labelRef}),e.children)))}),LT=S.forwardRef((e,t)=>{var n=Hi(e,fs);return S.createElement(X1e,nu({},n,{ref:t}))});LT.displayName="CartesianAxis";var J1e=["x1","y1","x2","y2","key"],Q1e=["offset"],eSe=["xAxisId","yAxisId"],tSe=["xAxisId","yAxisId"];function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){nSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nSe(e,t,n){return(t=rSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rSe(e){var t=iSe(e,"string");return typeof t=="symbol"?t:t+""}function iSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(null,arguments)}function Fb(e,t){if(e==null)return{};var n,r,i=aSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=e;return S.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function G8(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:c,y2:u,key:f}=n,h=Fb(n,J1e),p=(i=Ha(h))!==null&&i!==void 0?i:{},{offset:g}=p,x=Fb(p,Q1e);r=S.createElement("line",Gc({},x,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function sSe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Fb(e,eSe),u=i.map((f,h)=>{var p=Ar(Ar({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return S.createElement(G8,{key:"line-".concat(h),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function lSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Fb(e,tSe),u=i.map((f,h)=>{var p=Ar(Ar({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return S.createElement(G8,{option:r,lineItemProps:p,key:"line-".concat(h)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function cSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],w=x?i+o-p:f[g+1]-p;if(w<=0)return null;var _=g%t.length;return S.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:w,width:a,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function uSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],w=x?i+o-p:f[g+1]-p;if(w<=0)return null;var _=g%n.length;return S.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:w,height:c,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var dSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return D6(RT(Ar(Ar(Ar({},fs),n),{},{ticks:R6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},fSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return D6(RT(Ar(Ar(Ar({},fs),n),{},{ticks:R6(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},hSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ir.grid};function q8(e){var t=G6(),n=q6(),r=H6(),i=Ar(Ar({},Hi(e,hSe)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:x}=i,w=hi(),_=Je(q=>aI(q,"xAxis",a,w)),E=Je(q=>aI(q,"yAxis",o,w));if(!ko(f)||!ko(h)||!We(c)||!We(u))return null;var T=i.verticalCoordinatesGenerator||dSe,N=i.horizontalCoordinatesGenerator||fSe,{horizontalPoints:O,verticalPoints:P}=i;if((!O||!O.length)&&typeof N=="function"){var M=g&&g.length,D=N({yAxis:E?Ar(Ar({},E),{},{ticks:M?g:E.ticks}):void 0,width:t??f,height:n??h,offset:r},M?!0:p);yb(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}if((!P||!P.length)&&typeof T=="function"){var $=x&&x.length,H=T({xAxis:_?Ar(Ar({},_),{},{ticks:$?x:_.ticks}):void 0,width:t??f,height:n??h,offset:r},$?!0:p);yb(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(P=H)}return S.createElement(Ns,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(oSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(cSe,Gc({},i,{horizontalPoints:O})),S.createElement(uSe,Gc({},i,{verticalPoints:P})),S.createElement(sSe,Gc({},i,{offset:r,horizontalPoints:O,xAxis:_,yAxis:E})),S.createElement(lSe,Gc({},i,{offset:r,verticalPoints:P,xAxis:_,yAxis:E}))))}q8.displayName="CartesianGrid";function mSe(e){var t=Nv(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var Y8=(e,t,n,r)=>Yz(e,"xAxis",t,r),K8=(e,t,n,r)=>qz(e,"xAxis",t,r),W8=(e,t,n,r)=>Yz(e,"yAxis",n,r),V8=(e,t,n,r)=>qz(e,"yAxis",n,r),pSe=we([Vt,Y8,W8,K8,V8],(e,t,n,r,i)=>Ss(e,"xAxis")?gb(t,r,!1):gb(n,i,!1)),gSe=(e,t,n,r,i)=>i,Z8=we([mz,gSe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),ySe=(e,t,n,r,i)=>{var a,o=Z8(e,t,n,r,i);if(o!=null){var c=Vt(e),u=Ss(c,"xAxis"),f;if(u?f=Ak(e,"yAxis",n,r):f=Ak(e,"xAxis",t,r),f!=null){var{stackId:h}=o,p=cT(o);if(!(h==null||p==null)){var g=(a=f[h])===null||a===void 0?void 0:a.stackedData;return g?.find(x=>x.key===p)}}}},bSe=we([Vt,Y8,W8,K8,V8,ySe,eT,pSe,Z8,tbe],(e,t,n,r,i,a,o,c,u,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:x}=u,w;if(x&&x.length>0?w=x:w=h?.slice(p,g+1),w!=null)return ISe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:f,bandSize:c})}}),vSe=["id"],xSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vc.apply(null,arguments)}function X8(e,t){if(e==null)return{};var n,r,i=_Se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){wSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wSe(e,t,n){return(t=SSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SSe(e){var t=ESe(e,"string");return typeof t=="symbol"?t:t+""}function ESe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hb(e,t){return e&&e!=="none"?e:t}var kSe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Hb(r,i),value:L6(n,t),payload:e}]},ASe=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:u,tooltipType:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:L6(o,t),hide:c,type:f,color:Hb(r,a),unit:u}};return S.createElement(Awe,{tooltipEntrySettings:h})});function TSe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,c=Ha(r);return S.createElement(Kwe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:i,clipPathId:t})}function OSe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,c,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Sd(Sd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(bwe,{value:t?i:void 0},n)}function ZI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:c,stroke:u,connectNulls:f,isRange:h}=a,{id:p}=a,g=X8(a,vSe),x=Ha(g),w=ha(g);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(So,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(by,Vc({},w,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(by,Vc({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),u!=="none"&&h&&S.createElement(by,Vc({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),S.createElement(TSe,{points:t,props:g,clipPathId:i}))}function jSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!xn(a)||!xn(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),We(u)?S.createElement("rect",{x:0,y:a<o?a:a-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function NSe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!xn(a)||!xn(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return We(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),We(u)?S.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function CSe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?S.createElement(jSe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):S.createElement(NSe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function MSe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:g,onAnimationEnd:x}=r,w=S.useMemo(()=>({points:o,baseLine:c}),[o,c]),_=i9(w,"recharts-area-"),E=Ame(),[T,N]=S.useState(!1),O=!T,P=S.useCallback(()=>{typeof x=="function"&&x(),N(!1)},[x]),M=S.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]);if(E==null)return null;var D=i.current,$=a.current;return S.createElement(OSe,{showLabels:O,points:o},r.children,S.createElement(r9,{animationId:_,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:M,key:_},H=>{if(D){var q=D.length/o.length,K=H===1?o:o.map((z,V)=>{var J=Math.floor(V*q);if(D[J]){var Q=D[J];return Sd(Sd({},z),{},{x:yo(Q.x,z.x,H),y:yo(Q.y,z.y,H)})}return z}),U;return We(c)?U=yo($,c,H):br(c)||Ga(c)?U=yo($,0,H):U=c.map((z,V)=>{var J=Math.floor(V*q);if(Array.isArray($)&&$[J]){var Q=$[J];return Sd(Sd({},z),{},{x:yo(Q.x,z.x,H),y:yo(Q.y,z.y,H)})}return z}),H>0&&(i.current=K,a.current=U),S.createElement(ZI,{points:K,baseLine:U,needClip:t,clipPathId:n,props:r})}return H>0&&(i.current=o,a.current=c),S.createElement(So,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(CSe,{alpha:H,points:o,baseLine:c,layout:E,strokeWidth:r.strokeWidth}))),S.createElement(So,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(ZI,{points:o,baseLine:c,needClip:t,clipPathId:n,props:r})))}),S.createElement(_we,{label:r.label}))}function PSe(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),a=S.useRef();return S.createElement(MSe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class DSe extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:c,xAxisId:u,yAxisId:f,width:h,height:p,id:g,baseLine:x,zIndex:w}=this.props;if(t)return null;var _=Qt("recharts-area",i),E=g,{r:T,strokeWidth:N}=mSe(n),O=R8(n),P=T*2+N,M=c?"url(#clipPath-".concat(O?"":"dots-").concat(E,")"):void 0;return S.createElement(Ns,{zIndex:w},S.createElement(So,{className:_},c&&S.createElement("defs",null,S.createElement(p1e,{clipPathId:E,xAxisId:u,yAxisId:f}),!O&&S.createElement("clipPath",{id:"clipPath-dots-".concat(E)},S.createElement("rect",{x:o-P/2,y:a-P/2,width:h+P,height:p+P}))),S.createElement(PSe,{needClip:c,clipPathId:E,props:this.props})),S.createElement(GI,{points:r,mainColor:Hb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(x)&&S.createElement(GI,{points:x,mainColor:Hb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var J8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ir.area};function RSe(e){var t,n=Hi(e,J8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,fill:f,fillOpacity:h,hide:p,isAnimationActive:g,legendType:x,stroke:w,xAxisId:_,yAxisId:E}=n,T=X8(n,xSe),N=dp(),O=h8(),{needClip:P}=z8(_,E),M=hi(),{points:D,isRange:$,baseLine:H}=(t=Je(J=>bSe(J,_,E,M,e.id)))!==null&&t!==void 0?t:{},q=MT();if(N!=="horizontal"&&N!=="vertical"||q==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:K,width:U,x:z,y:V}=q;return!D||!D.length?null:S.createElement(DSe,Vc({},T,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:c,dot:u,fill:f,fillOpacity:h,height:K,hide:p,layout:N,isAnimationActive:g==="auto"?!ff.isSsr:g,isRange:$,legendType:x,needClip:P,points:D,stroke:w,width:U,left:z,top:V,xAxisId:_,yAxisId:E}))}var LSe=(e,t,n,r,i)=>{var a=n??t;if(We(a))return a;var o=e==="horizontal"?i:r,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function ISe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:g,bandSize:x}=e,w=i&&i.length,_=LSe(a,o,n,c,u),E=a==="horizontal",T=!1,N=f.map((P,M)=>{var D;w?D=i[h+M]:(D=Tr(P,r),Array.isArray(D)?T=!0:D=[_,D]);var $=D[1]==null||w&&!t&&Tr(P,r)==null;return E?{x:OR({axis:c,ticks:p,bandSize:x,entry:P,index:M}),y:$?null:u.scale(D[1]),value:D,payload:P}:{x:$?null:c.scale(D[1]),y:OR({axis:u,ticks:g,bandSize:x,entry:P,index:M}),value:D,payload:P}}),O;return w||T?O=N.map(P=>{var M=Array.isArray(P.value)?P.value[0]:null;return E?{x:P.x,y:M!=null&&P.y!=null?u.scale(M):null,payload:P.payload}:{x:M!=null?c.scale(M):null,y:P.y,payload:P.payload}}):O=E?u.scale(_):c.scale(_),{points:N,baseLine:O,isRange:T}}function $Se(e){var t=Hi(e,J8),n=hi();return S.createElement(Cwe,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(Twe,{legendPayload:kSe(t)}),S.createElement(ASe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement($we,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Fhe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(RSe,Vc({},t,{id:r}))))}var Q8=S.memo($Se,PT);Q8.displayName="Area";var BSe=["domain","range"],zSe=["domain","range"];function XI(e,t){if(e==null)return{};var n,r,i=USe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function USe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function eU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=XI(e,BSe),{domain:a,range:o}=t,c=XI(t,zSe);return!JI(n,a)||!JI(r,o)?!1:PT(i,c)}var FSe=["dangerouslySetInnerHTML","ticks"],HSe=["id"];function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dk.apply(null,arguments)}function QI(e,t){if(e==null)return{};var n,r,i=GSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qSe(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(Jwe(e)):n.current!==e&&t(Qwe({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(e1e(n.current)),n.current=null)},[t]),null}var YSe=e=>{var{xAxisId:t,className:n}=e,r=Je($6),i=hi(),a="xAxis",o=Je(E=>bf(E,a,t,i)),c=Je(E=>Gz(E,a,t,i)),u=Je(E=>Kbe(E,t)),f=Je(E=>Qbe(E,t)),h=Je(E=>uz(E,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,x=QI(e,FSe),{id:w}=h,_=QI(h,HSe);return S.createElement(LT,Dk({},x,_,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Qt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},KSe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:fs.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:tr.type,xAxisId:0},WSe=e=>{var t=Hi(e,KSe);return S.createElement(S.Fragment,null,S.createElement(qSe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(YSe,t))},tU=S.memo(WSe,eU);tU.displayName="XAxis";var VSe=["dangerouslySetInnerHTML","ticks"],ZSe=["id"];function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rk.apply(null,arguments)}function e3(e,t){if(e==null)return{};var n,r,i=XSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JSe(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(t1e(e)):n.current!==e&&t(n1e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(r1e(n.current)),n.current=null)},[t]),null}var QSe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),o=S.useRef(null),c=Je($6),u=hi(),f=sr(),h="yAxis",p=Je(M=>bf(M,h,t,u)),g=Je(M=>nve(M,t)),x=Je(M=>tve(M,t)),w=Je(M=>Gz(M,h,t,u)),_=Je(M=>dz(M,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!g||CT(i)||S.isValidElement(i)||_==null)){var M=a.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&f(i1e({id:t,width:D}))}}},[w,g,f,i,t,r,_]),g==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:T}=e,N=e3(e,VSe),{id:O}=_,P=e3(_,ZSe);return S.createElement(LT,Rk({},N,P,{ref:a,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Qt("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:w,axisType:h}))},eEe={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:fs.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:fs.tickLine,tickSize:fs.tickSize,type:nr.type,width:nr.width,yAxisId:0},tEe=e=>{var t=Hi(e,eEe);return S.createElement(S.Fragment,null,S.createElement(JSe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(QSe,t))},nU=S.memo(tEe,eU);nU.displayName="YAxis";var nEe=(e,t)=>t,IT=we([nEe,Vt,lz,Wn,s8,js,gxe,xr],Sxe),$T=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},rU=ma("mouseClick"),iU=cp();iU.startListening({actionCreator:rU,effect:(e,t)=>{var n=e.payload,r=IT(t.getState(),$T(n));r?.activeIndex!=null&&t.dispatch(pve({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Lk=ma("mouseMove"),aU=cp(),X0=null;aU.startListening({actionCreator:Lk,effect:(e,t)=>{var n=e.payload;X0!==null&&cancelAnimationFrame(X0);var r=$T(n);X0=requestAnimationFrame(()=>{var i=t.getState(),a=xT(i,i.tooltip.settings.shared);if(a==="axis"){var o=IT(i,r);o?.activeIndex!=null?t.dispatch(Qz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Jz())}X0=null})}});var t3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},oU=fi({name:"rootProps",initialState:t3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:t3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rEe=oU.reducer,{updateOptions:iEe}=oU.actions,sU=fi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hje}=sU.actions,aEe=sU.reducer,lU=ma("keyDown"),cU=ma("focus"),BT=cp();BT.startListening({actionCreator:lU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=_T(i,xf(n),vp(n),Ep(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=js(n);if(a==="Enter"){var f=$b(n,"axis","hover",String(i.index));t.dispatch(Ok({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=ove(n),p=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,x=c+g*p;if(!(u==null||x>=u.length||x<0)){var w=$b(n,"axis","hover",String(x));t.dispatch(Ok({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});BT.startListening({actionCreator:cU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=$b(n,"axis","hover",String(a));t.dispatch(Ok({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ra=ma("externalEvent"),uU=cp(),RS=new Map;uU.startListening({actionCreator:ra,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=RS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:txe(c),activeDataKey:Qve(c),activeIndex:zm(c),activeLabel:u8(c),activeTooltipIndex:zm(c),isTooltipActive:nxe(c)};n(u,r)}finally{RS.delete(i)}});RS.set(i,o)}}});var oEe=we([vf],e=>e.tooltipItemPayloads),sEe=we([oEe,wp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),dU=ma("touchMove"),fU=cp();fU.startListening({actionCreator:dU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=xT(r,r.tooltip.settings.shared);if(i==="axis"){var a=IT(r,$T({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(Qz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Vhe),h=(o=u.getAttribute(Zhe))!==null&&o!==void 0?o:void 0,p=sEe(t.getState(),f,h);t.dispatch(mve({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var lEe=$B({brush:v1e,cartesianAxis:a1e,chartData:t_e,errorBars:m1e,graphicalItems:Lwe,layout:Mhe,legend:Hme,options:Zxe,polarAxis:Swe,polarOptions:aEe,referenceElements:A1e,rootProps:rEe,tooltip:gve,zIndex:Ixe}),cEe=function(t){return rhe({reducer:lEe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([iU.middleware,aU.middleware,BT.middleware,uU.middleware,fU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(x6({type:"raf"}))},devTools:ff.devToolsEnabled})};function uEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=hi(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=cEe(t));var o=xA;return S.createElement(KB,{context:o,store:a.current},n)}function dEe(e){var{layout:t,margin:n}=e,r=sr(),i=hi();return S.useEffect(()=>{i||(r(jhe(t)),r(Ohe(n)))},[r,i,t,n]),null}var fEe=S.memo(dEe,PT);function hEe(e){var t=sr();return S.useEffect(()=>{t(iEe(e))},[t,e]),null}function n3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=L8("".concat(r).concat(t)),a=sr();return S.useLayoutEffect(()=>(a(Rxe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Lxe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function r3(e){var{children:t,isPanorama:n}=e,r=Je(kxe);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(n3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>S.createElement(n3,{key:o,zIndex:o,isPanorama:n})))}var mEe=["children"];function pEe(e,t){if(e==null)return{};var n,r,i=gEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}var yEe={width:"100%",height:"100%",display:"block"},bEe=S.forwardRef((e,t)=>{var n=G6(),r=q6(),i=Q6();if(!ko(n)||!ko(r))return null;var{children:a,otherAttributes:o,title:c,desc:u}=e,f,h;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),S.createElement(j7,Gb({},o,{title:c,desc:u,role:h,tabIndex:f,width:n,height:r,style:yEe,ref:t}),a)}),vEe=e=>{var{children:t}=e,n=Je(Yv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(j7,{width:r,height:i,x:o,y:a},t)},i3=S.forwardRef((e,t)=>{var{children:n}=e,r=pEe(e,mEe),i=hi();return i?S.createElement(vEe,null,S.createElement(r3,{isPanorama:!0},n)):S.createElement(bEe,Gb({ref:t},r),S.createElement(r3,{isPanorama:!1},n))});function xEe(){var e=sr(),[t,n]=S.useState(null),r=Je(Whe);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;xn(a)&&a!==r&&e(Che(a))}},[t,e,r]),n}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){wEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wEe(e,t,n){return(t=SEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SEe(e){var t=EEe(e,"string");return typeof t=="symbol"?t:t+""}function EEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(null,arguments)}var kEe=()=>(u_e(),null);function qb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var AEe=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:qb((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:qb((r=e.style)===null||r===void 0?void 0:r.height)}),c=S.useCallback((f,h)=>{o(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=S.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();c(h,p);var g=w=>{var{width:_,height:E}=w[0].contentRect;c(_,E)},x=new ResizeObserver(g);x.observe(f),i.current=x}},[t,c]);return S.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),S.createElement(S.Fragment,null,S.createElement(Wv,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",ru({ref:u},e)))}),TEe=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:qb(n),containerHeight:qb(r)}),o=S.useCallback((u,f)=>{a(h=>{var p=Math.round(u),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),c=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();o(f,h)}},[t,o]);return S.createElement(S.Fragment,null,S.createElement(Wv,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",ru({ref:c},e)))}),OEe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(Wv,{width:n,height:r}),S.createElement("div",ru({ref:t},e)))}),jEe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return gs(n)||gs(r)?S.createElement(TEe,ru({},e,{ref:t})):S.createElement(OEe,ru({},e,{ref:t}))});function NEe(e){return e===!0?AEe:jEe}var CEe=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:x,onTouchMove:w,onTouchStart:_,style:E,width:T,responsive:N,dispatchTouchEvents:O=!0}=e,P=S.useRef(null),M=sr(),[D,$]=S.useState(null),[H,q]=S.useState(null),K=xEe(),U=OA(),z=U?.width>0?U.width:T,V=U?.height>0?U.height:i,J=S.useCallback(ne=>{K(ne),typeof t=="function"&&t(ne),$(ne),q(ne),ne!=null&&(P.current=ne)},[K,t,$,q]),Q=S.useCallback(ne=>{M(rU(ne)),M(ra({handler:a,reactEvent:ne}))},[M,a]),Y=S.useCallback(ne=>{M(Lk(ne)),M(ra({handler:f,reactEvent:ne}))},[M,f]),X=S.useCallback(ne=>{M(Jz()),M(ra({handler:h,reactEvent:ne}))},[M,h]),re=S.useCallback(ne=>{M(Lk(ne)),M(ra({handler:p,reactEvent:ne}))},[M,p]),ue=S.useCallback(()=>{M(cU())},[M]),se=S.useCallback(ne=>{M(lU(ne.key))},[M]),B=S.useCallback(ne=>{M(ra({handler:o,reactEvent:ne}))},[M,o]),W=S.useCallback(ne=>{M(ra({handler:c,reactEvent:ne}))},[M,c]),ae=S.useCallback(ne=>{M(ra({handler:u,reactEvent:ne}))},[M,u]),Z=S.useCallback(ne=>{M(ra({handler:g,reactEvent:ne}))},[M,g]),oe=S.useCallback(ne=>{M(ra({handler:_,reactEvent:ne}))},[M,_]),me=S.useCallback(ne=>{O&&M(dU(ne)),M(ra({handler:w,reactEvent:ne}))},[M,O,w]),pe=S.useCallback(ne=>{M(ra({handler:x,reactEvent:ne}))},[M,x]),be=NEe(N);return S.createElement(b8.Provider,{value:D},S.createElement(cde.Provider,{value:H},S.createElement(be,{width:z??E?.width,height:V??E?.height,className:Qt("recharts-wrapper",r),style:_Ee({position:"relative",cursor:"default",width:z,height:V},E),onClick:Q,onContextMenu:B,onDoubleClick:W,onFocus:ue,onKeyDown:se,onMouseDown:ae,onMouseEnter:Y,onMouseLeave:X,onMouseMove:re,onMouseUp:Z,onTouchEnd:pe,onTouchMove:me,onTouchStart:oe,ref:J},S.createElement(kEe,null),n)))}),MEe=["width","height","responsive","children","className","style","compact","title","desc"];function PEe(e,t){if(e==null)return{};var n,r,i=DEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var REe=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:c,compact:u,title:f,desc:h}=e,p=PEe(e,MEe),g=Ha(p);return u?S.createElement(S.Fragment,null,S.createElement(Wv,{width:n,height:r}),S.createElement(i3,{otherAttributes:g,title:f,desc:h},a)):S.createElement(CEe,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(i3,{otherAttributes:g,title:f,desc:h,ref:t},S.createElement(O1e,null,a)))});function Ik(){return Ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ik.apply(null,arguments)}var LEe={top:5,right:5,bottom:5,left:5},IEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:LEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},$Ee=S.forwardRef(function(t,n){var r,i=Hi(t.categoricalChartProps,IEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(uEe,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},S.createElement(b1e,{chartData:f.data}),S.createElement(fEe,{layout:i.layout,margin:i.margin}),S.createElement(hEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(REe,Ik({},i,{ref:n})))}),BEe=["axis"],zEe=S.forwardRef((e,t)=>S.createElement($Ee,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BEe,tooltipPayloadSearcher:Wxe,categoricalChartProps:e,ref:t}));function o3(){const[e,t]=S.useState(0),[n,r]=S.useState(0),[i,a]=S.useState(0),[o,c]=S.useState(0),[u,f]=S.useState([]),[h,p]=S.useState([]),g=S.useMemo(()=>{const E=new Date;return E.setHours(0,0,0,0),E},[]),x=S.useCallback(async()=>{const{count:E}=await Le.from("profiles").select("*",{count:"exact",head:!0});t(E||0);const{count:T}=await Le.from("myeongsik").select("*",{count:"exact",head:!0});r(T||0);const{count:N}=await Le.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());a(N||0);const{count:O}=await Le.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());c(O||0)},[g]),w=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:T}=await Le.from("profiles").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);N[M]=(N[M]||0)+1});const O=Object.entries(N).map(([P,M])=>({day:P,count:M}));f(O)},[]),_=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:T}=await Le.from("myeongsik").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),N={};(T||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);N[M]=(N[M]||0)+1});const O=Object.entries(N).map(([P,M])=>({day:P,count:M}));p(O)},[]);return S.useEffect(()=>{x(),w(),_()},[x,w,_]),v.jsx(Jue,{allow:["admin","operator","viewer"],children:v.jsxs("div",{className:"p-6 text-white",children:[v.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[v.jsx(J0,{label:" ",value:e}),v.jsx(J0,{label:"  ",value:n}),v.jsx(J0,{label:" ",value:i}),v.jsx(J0,{label:"  ",value:o})]}),v.jsxs("section",{className:"mb-10",children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),v.jsx(s3,{data:u})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),v.jsx(s3,{data:h})]})]})})}function J0({label:e,value:t}){return v.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[v.jsx("div",{className:"text-neutral-400 text-sm",children:e}),v.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function s3({data:e}){return v.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:v.jsx(Eme,{width:"100%",height:"100%",children:v.jsxs(zEe,{data:e,children:[v.jsx(q8,{strokeDasharray:"3 3",stroke:"#333"}),v.jsx(tU,{dataKey:"day",stroke:"#bbb"}),v.jsx(nU,{stroke:"#bbb"}),v.jsx(b_e,{}),v.jsx(Q8,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}function UEe(){const[e,t]=S.useState(""),[n,r]=S.useState(1),[i,a]=S.useState({});return{search:e,setSearch:t,page:n,setPage:r,draftByUser:i,setDraftByUser:a,setDraft:(c,u)=>{a(f=>{const h=f[c]??{plan:"FREE",startDate:"",endDate:"",saving:!1};return{...f,[c]:{...h,...u}}})}}}const hU=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function FEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function HEe(e){return typeof e!="string"?null:bd(e)}function l3(e){return String(e).padStart(2,"0")}function Yb(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),r=l3(t.getMonth()+1),i=l3(t.getDate());return`${n}-${r}-${i}`}const Wh=e=>e<10?`0${e}`:`${e}`,GEe=e=>String(e).padStart(3,"0");function c3(e,t){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error("Invalid date input");const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=t?23:0,c=t?59:0,u=t?59:0,f=t?999:0;return`${r}-${Wh(i)}-${Wh(a)}T${Wh(o)}:${Wh(c)}:${Wh(u)}.${GEe(f)}+09:00`}function qEe(e){const t=Yy(e),n=t.maxMyeongsik===null?9999:t.maxMyeongsik;return{plan:e,max_myeongsik:n,can_manage_myeongsik:t.canManageMyeongsik,can_use_luck_tabs:t.canUseLuckTabs,can_use_multi_mode:t.canUseMultiMode,can_use_all_prompts:t.canUseAllPrompts}}function YEe(e){const t=e??"FREE";return hU.find(n=>n.value===t)?.label??String(t)}function KEe(e){const t=e?.starts_at?Yb(e.starts_at):"",n=e?.expires_at?Yb(e.expires_at):"";return!t&&!n?" ":t&&!n?`${t} ~ ()`:!t&&n?`( ) ~ ${n}`:`${t} ~ ${n}`}const $k=20;function WEe(e,t){const n=(t-1)*$k;return e.slice(n,n+$k)}function VEe(e){return Math.max(1,Math.ceil(e.length/$k))}function ZEe(e){return typeof e=="boolean"?e:null}function XEe(e){const{userIds:t,profiles:n,myeongsikRows:r,entRows:i,activityRows:a}=e,o=new Map;for(const h of a)o.set(h.user_id,h);const c={};for(const h of n){const p=h.user_id||h.id;p&&(c[p]=h)}const u={};for(const h of i){const p=HEe(h.plan);u[h.user_id]={user_id:h.user_id,plan:p,starts_at:h.starts_at??null,expires_at:h.expires_at??null,can_use_myo_viewer:ZEe(h.can_use_myo_viewer)}}const f={};for(const h of t){const p=o.get(h)??null;f[h]={user_id:h,profile:c[h]||null,myeongsikCount:0,lastCreatedAt:null,ent:u[h]||null,lastSeenAt:p?.last_seen_at??null,lastSeenPath:p?.last_path??null,totalActiveMs:p?.total_active_ms??null}}for(const h of r){const p=f[h.user_id];if(!p)continue;p.myeongsikCount+=1;const g=p.lastCreatedAt,x=h.created_at??null;if(!x)continue;if(!g){p.lastCreatedAt=x;continue}const w=Date.parse(g),_=Date.parse(x);Number.isFinite(_)&&(!Number.isFinite(w)||_>w)&&(p.lastCreatedAt=x)}return t.map(h=>f[h])}function JEe(e,t){const n={...e};for(const r of t){const i=r.ent,a=i?.plan??"FREE",o=Yb(i?.starts_at??null),c=Yb(i?.expires_at??null),u=i?.can_use_myo_viewer===!0?"ON":"OFF",f=n[r.user_id];if(!f){n[r.user_id]={plan:a,startDate:o,endDate:c,saving:!1,myoViewer:u};continue}f.saving||(f.plan!==a||f.startDate!==o||f.endDate!==c||f.myoViewer!==u)&&(n[r.user_id]={...f,plan:a,startDate:o,endDate:c,myoViewer:u})}return n}async function QEe(e){const t=e.trim(),n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t),r=`%${t}%`,i=new Set;if(!t){const[a,o]=await Promise.all([Le.from("profiles").select("user_id").limit(1e3),Le.from("user_entitlements").select("user_id").limit(1e3)]);if(a.error)throw new Error(a.error.message);if(o.error)throw new Error(o.error.message);return(a.data??[]).forEach(c=>c.user_id&&i.add(c.user_id)),(o.data??[]).forEach(c=>c.user_id&&i.add(c.user_id)),Array.from(i)}{let a=Le.from("profiles").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},nickname.ilike.${r},email.ilike.${r}`);const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Le.from("user_entitlements").select("user_id").limit(1e3);n&&(a=a.eq("user_id",t));const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}{let a=Le.from("myeongsik").select("user_id").limit(1e3);n?a=a.eq("user_id",t):a=a.or(`name.ilike.${r},birth_json->>birthDay.ilike.${r}`);const{data:o,error:c}=await a;if(c)throw new Error(c.message);(o??[]).forEach(u=>u.user_id&&i.add(u.user_id))}return Array.from(i)}async function eke(e){const{data:t,error:n}=await Le.from("profiles").select("id,user_id,name,nickname,email").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function tke(e){const{data:t,error:n}=await Le.from("myeongsik").select("user_id, created_at").in("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t||[]}async function nke(e){const{data:t,error:n}=await Le.from("user_entitlements").select("user_id,plan,starts_at,expires_at,can_use_myo_viewer").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function rke(e){const{error:t}=await Le.from("user_entitlements").upsert(e,{onConflict:"user_id"});if(t)throw t}async function ike(e){if(!e.length)return[];const{data:t,error:n}=await Le.from("user_activity").select("user_id,last_seen_at,last_path,total_active_ms").in("user_id",e);if(n)throw n;return t??[]}function ake(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState(!1),[o,c]=S.useState(null),u=S.useCallback(async(p,g)=>{a(!0),c(null);try{const x=await QEe(p);t(x),g()}catch(x){c(x instanceof Error?x.message:"Unknown error")}finally{a(!1)}},[]),f=S.useCallback(async p=>{if(!p.length){r([]);return}a(!0),c(null);try{const g=p.length?p:["__NO_MATCH__"],[x,w,_,E]=await Promise.all([eke(g),tke(g),nke(g),ike(g)]),T=XEe({userIds:g,profiles:x,myeongsikRows:w,entRows:_,activityRows:E});r(T)}catch(g){c(g instanceof Error?g.message:"Error")}finally{a(!1)}},[]),h=S.useCallback(async(p,g,x,w)=>{if(g){x(p,{saving:!0});try{const _=qEe(g.plan),E=g.startDate?c3(g.startDate,!1):null,T=g.endDate?c3(g.endDate,!0):null,N=g.myoViewer==="ON",O={user_id:p,..._,starts_at:E,expires_at:T,can_use_myo_viewer:N};await rke(O),x(p,{saving:!1,lastSavedAt:Date.now()}),await w()}catch(_){x(p,{saving:!1}),c(_ instanceof Error?_.message:" ")}}},[]);return{userIds:e,summaries:n,loading:i,error:o,setError:c,fetchUserIdList:u,fetchSummaries:f,saveEntitlements:h}}function oke(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function u3(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function ske(){const e=UEe(),{search:t,setSearch:n,page:r,setPage:i,draftByUser:a,setDraftByUser:o,setDraft:c}=e,{userIds:u,summaries:f,loading:h,error:p,fetchUserIdList:g,fetchSummaries:x,saveEntitlements:w}=ake(),_=S.useMemo(()=>WEe(u,r),[u,r]),E=S.useMemo(()=>VEe(u),[u]);return S.useEffect(()=>{g(t,()=>i(1))},[g,t,i]),S.useEffect(()=>{x(_)},[x,_]),S.useEffect(()=>{o(T=>JEe(T,f))},[f,o]),v.jsxs("div",{className:"p-6 text-white",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),v.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:t,onChange:T=>n(T.target.value)}),p&&v.jsx("div",{className:"text-red-400 mb-2",children:p}),h&&v.jsx("div",{children:"Loading..."}),v.jsx("div",{className:"space-y-3",children:f.map(T=>{const N=T.profile?.name||T.profile?.nickname||"(no profile)",O=T.profile?.email||"",P=a[T.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},M=Date.now(),D=(T.ent?.starts_at?Date.parse(T.ent.starts_at)<=M:!0)&&(T.ent?.expires_at?Date.parse(T.ent.expires_at)>M:!0),$=D?T.ent?.plan:"FREE",H=T.ent?.can_use_myo_viewer===!0?"ON":"OFF",q=T.lastSeenAt??null,K=q?Date.parse(q):NaN,U=Number.isFinite(K)&&M-K<120*1e3,z=T.totalActiveMs??null;return v.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[v.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[v.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[v.jsx("span",{className:"text-nowrap mr-1",children:N}),O?v.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",O,")"]}):null,v.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${U?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:q?new Date(q).toLocaleString():" ",children:[U?"":"","  ",oke(q)]}),v.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",u3(z)]})]}),v.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:T.user_id})]}),v.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",T.myeongsikCount,"",q?v.jsxs(v.Fragment,{children:["    ",new Date(q).toLocaleString()]}):v.jsx(v.Fragment,{children:"     "}),v.jsxs(v.Fragment,{children:["   ",u3(z)]})]}),v.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",YEe($),"  ",KEe(T.ent),"    ",H,!D&&T.ent?.plan&&T.ent.plan!=="FREE"?" ()":""]}),v.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("label",{className:"text-xs text-neutral-400",children:""}),v.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:V=>c(T.user_id,{startDate:V.target.value})}),v.jsx("span",{className:"text-neutral-500",children:"~"}),v.jsx("label",{className:"text-xs text-neutral-400",children:""}),v.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:V=>c(T.user_id,{endDate:V.target.value})}),v.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:V=>{const J=V.target.value;FEe(J)&&c(T.user_id,{plan:J})},children:hU.map(V=>v.jsx("option",{value:V.value,children:V.label},V.value))}),v.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:V=>{const J=V.target.value==="OFF"?"OFF":"ON";c(T.user_id,{myoViewer:J})},children:[v.jsx("option",{value:"ON",children:"  ON"}),v.jsx("option",{value:"OFF",children:"  OFF"})]}),v.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void w(T.user_id,P,e.setDraft,()=>x(_)),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),v.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${T.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?v.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},T.user_id)})}),v.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[v.jsx("button",{disabled:r<=1,onClick:()=>i(T=>T-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),v.jsxs("span",{children:[r," / ",E]}),v.jsx("button",{disabled:r>=E,onClick:()=>i(T=>T+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function lke(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function cke(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function zT({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Le.auth.getSession()).data.session?.user?.id;a&&await Le.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const uke=async e=>{const{data:t}=await Le.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},dke=async e=>{const{data:t}=await Le.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},fke=async e=>{await Le.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},hke=async(e,t)=>{await Le.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},mke=async(e,t)=>{await Le.from("profiles").update({disabled_at:t}).eq("user_id",e)},pke=async e=>{await Le.from("profiles").update({disabled_at:null}).eq("user_id",e),await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await zT({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},gke=async e=>{await Le.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await zT({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},yke=async(e,t,n)=>{await Le.from("myeongsik").update({deleted_at:n}).eq("id",t),await zT({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function bke({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=S.useCallback(async()=>{const _=await uke(e);n(_)},[e,n]),o=S.useCallback(async()=>{const _=await dke(e);r(_)},[e,r]);S.useEffect(()=>{a(),o()},[a,o]);const c=S.useCallback(async()=>{i(!0),await fke(e),i(!1),await a()},[e,i,a]),u=S.useCallback(async()=>{t&&(i(!0),await hke(e,t),i(!1),await a())},[t,e,i,a]),f=S.useCallback(async()=>{if(!t)return;const _=t.disabled_at?null:new Date().toISOString();await mke(e,_),await a()},[t,e,a]),h=S.useCallback(async()=>{i(!0),await pke(e),i(!1),await a(),await o()},[e,i,a,o]),p=S.useCallback(async()=>{i(!0),await gke(e),i(!1),await o()},[e,i,o]),g=S.useCallback(_=>{const E=typeof window<"u"?window.location.origin:"",T=_?`${E}/impersonate?userId=${e}&myeongsikId=${_}`:`${E}/impersonate?userId=${e}`;window.open(T,"_blank")},[e]),x=S.useCallback(async(_,E)=>{const T=E?null:new Date().toISOString();await yke(e,_,T),await o()},[e,o]),w=S.useCallback(_=>{window.location.href=_},[]);return{handleCreateProfile:c,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleViewAsUser:g,toggleDeleteMyeongsik:x,goTo:w}}function vke({params:e}){const t=e.userId,n=lke(),r=cke(n.profile),i=bke({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return v.jsxs("div",{className:"p-6 text-white",children:[v.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),v.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),v.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-3",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("h2",{className:"text-xl font-semibold",children:""}),v.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&v.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{children:""}),v.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{children:""}),v.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Email"}),v.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{children:" "}),v.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&v.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" "}),v.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),v.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold",children:" "}),v.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>v.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),v.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-","  ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>i.handleViewAsUser(a.id),children:"  ( )"}),v.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>i.goTo(`/admin/myeongsik/${a.id}`),children:""}),v.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${a.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>i.toggleDeleteMyeongsik(a.id,a.deleted_at),children:a.deleted_at?"":""})]})]})},a.id)),n.myeongsikList.length===0&&v.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function xke({open:e,onClose:t,children:n}){return e?v.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:v.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[v.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),v.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const d3=50;function _ke(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,c]=S.useState(1),[u,f]=S.useState("all"),[h,p]=S.useState("all"),[g,x]=S.useState("30"),[w,_]=S.useState(""),[E,T]=S.useState(!1),N=S.useCallback(async P=>{await Le.from("audit_logs").delete().eq("id",P),a(M=>M.filter(D=>D.id!==P))},[]),O=S.useCallback(async()=>{T(!0);const P=new Date;g!=="all"&&P.setDate(P.getDate()-Number(g));let M=Le.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*d3,o*d3-1);g!=="all"&&(M=M.gte("created_at",P.toISOString())),u!=="all"&&(M=M.eq("action",u)),h!=="all"&&(M=M.eq("actor_admin_id",h));const{data:D}=await M;let $=D||[];if(w.trim()!==""){const H=w.toLowerCase();$=$.filter(q=>(JSON.stringify(q).toLowerCase()+(q.payload?JSON.stringify(q.payload).toLowerCase():"")).includes(H))}a($),T(!1)},[o,u,h,g,w]);return S.useEffect(()=>{O()},[O]),v.jsxs("div",{className:"p-6 text-white",children:[v.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[v.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:P=>f(P.target.value),children:[v.jsx("option",{value:"all",children:" Action"}),v.jsx("option",{value:"delete_myeongsik",children:" "}),v.jsx("option",{value:"restore_myeongsik",children:" "}),v.jsx("option",{value:"update_profile",children:" "}),v.jsx("option",{value:"impersonate_user",children:""})]}),v.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:P=>p(P.target.value),children:[v.jsx("option",{value:"all",children:" "}),v.jsx("option",{value:"",children:""}),v.jsx("option",{value:"system",children:"System"})]}),v.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:g,onChange:P=>x(P.target.value),children:[v.jsx("option",{value:"1",children:"24"}),v.jsx("option",{value:"7",children:"7"}),v.jsx("option",{value:"30",children:"30"}),v.jsx("option",{value:"all",children:""})]}),v.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:w,onChange:P=>_(P.target.value)})]}),E?v.jsx("div",{children:"Loading..."}):i.map(P=>v.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(P),r(!0)},children:[v.jsxs("div",{className:"flex items-center justify-between gap-3",children:[v.jsx("div",{className:"font-semibold text-lg",children:P.action}),v.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),N(P.id)},children:""})]}),v.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[v.jsxs("div",{children:["Actor: ",P.actor_admin_id]}),v.jsxs("div",{children:["Target User: ",P.target_user_id||"-"]}),v.jsxs("div",{children:["Target Record: ",P.target_record_id||"-"]}),v.jsxs("div",{children:["Time: ",new Date(P.created_at).toLocaleString()]})]}),P.payload&&v.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(P.payload,null,2)})]},P.id)),v.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[v.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>c(P=>P-1),children:" "}),v.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),v.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>c(P=>P+1),children:" "})]}),v.jsx(xke,{open:n,onClose:()=>r(!1),children:e&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),v.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[v.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),v.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),v.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),v.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),v.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const wke="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function mU(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1);if(S.useEffect(()=>{(async()=>{const{data:c}=await Le.auth.getUser(),u=c.user?.id;r(!!u&&wke.includes(u)),t(!0)})()},[]),!e)return v.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return v.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=v.jsx(o3,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=v.jsx(vke,{params:{userId:o}})}else i.startsWith("/admin/user")?a=v.jsx(ske,{}):i.startsWith("/admin/logs")?a=v.jsx(_ke,{}):i.startsWith("/admin/dashboard")&&(a=v.jsx(o3,{}));return v.jsx(Zue,{children:a})}function Ske({pillarsA:e,pillarsB:t}){const n=Kne(e,t);return v.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[v.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?v.jsxs("div",{className:"flex gap-2 text-xs",children:[v.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),v.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>v.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const Eke=["","","","","","","","","",""],kke=["","","","","","","","","",""],Ake=["","","","","","","","","","","",""],Tke=["","","","","","","","","","","",""],Oke=new Set([...Eke,...kke]),jke=new Set([...Ake,...Tke]);function Nke(e){return typeof e=="object"&&e!==null}function f3(e){return typeof e=="string"&&e.length>=2&&Oke.has(e[0])&&jke.has(e[1])}function rn(e,...t){if(f3(e))return e;for(const n of t)if(f3(n))return n;return""}function Q0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function Cke(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function h3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,c=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(c.getTime())?null:c}function Kb(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function Mke(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function hx(e){const{y:t,m:n,d:r,hh:i,mm:a}=Mke(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),c=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Ui(t,n,r,c,u):new Date(t,n-1,r,c,u)}function Pke(e){const t=hx(e);return`${Kb(e)}-${t.toISOString()}`}function cd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:Pke(e)}function Dke(e){return Nke(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Rke(e){const t=m4;return Dke(t)?e==="classic"?t.Classic:t.Modern:e}function Lke(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const LS="people_picker_order_v1";function Ike(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function m3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=S.useState("");S.useEffect(()=>{e||a("")},[e]);const o=S.useMemo(()=>t.map(cd),[t]),c=S.useMemo(()=>new Set(o),[o]),[u,f]=S.useState([]);S.useEffect(()=>{const _=localStorage.getItem(LS),E=_?JSON.parse(_):[],T=E.filter(O=>c.has(O)),N=[...T,...o.filter(O=>!T.includes(O))];f(N),JSON.stringify(N)!==JSON.stringify(E)&&localStorage.setItem(LS,JSON.stringify(N))},[o,c]);const h=_=>{f(_),localStorage.setItem(LS,JSON.stringify(_))},p=S.useMemo(()=>{const _=new Map(t.map(O=>[cd(O),O])),E=[];for(const O of u){const P=_.get(O);P&&E.push(P)}_.forEach((O,P)=>{u.includes(P)||E.push(O)});const T=[],N=[];for(const O of E)(typeof O.relationship=="string"?O.relationship.trim():"")===""?T.push(O):N.push(O);return[...T,...N]},[t,u]),g=S.useMemo(()=>{const _=i.trim().toLowerCase();return _?p.filter(E=>{const T=typeof E.relationship=="string"?E.relationship.trim():"";return`${Kb(E)} ${T}`.toLowerCase().includes(_)}):p},[p,i]),x=i.trim()==="",w=_=>{const{destination:E,source:T}=_;if(!E||!x||E.index===T.index)return;const N=g.map(cd),O=Ike(N,T.index,E.index),M=p.map(cd).filter($=>!N.includes($)),D=[...O,...M].filter(($,H,q)=>q.indexOf($)===H);h(D)};return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),v.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),v.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),v.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("input",{value:i,onChange:_=>a(_.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),v.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),v.jsx(Jm,{onDragEnd:w,children:v.jsx(cf,{droppableId:"people-picker",children:_=>v.jsxs("ul",{className:"space-y-2",ref:_.innerRef,..._.droppableProps,children:[g.map((E,T)=>{const N=hx(E),O=typeof E.relationship=="string"?E.relationship.trim():"",P=O||" ",M=Kb(E),D=O&&M===" "?O:M;return v.jsx(lf,{draggableId:cd(E),index:T,isDragDisabled:!x,children:$=>v.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:v.jsxs("button",{onClick:()=>n(E),className:"flex-1 text-left cursor-pointer",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[v.jsx("span",{children:D}),v.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${O?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:P})]}),v.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:cm(N)})]})})},cd(E))}),_.placeholder]})})})]})]})}function IS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:c,sinsalMode:u,sinsalBloom:f}){const h=_=>{const E=o.showSibiUnseong?Oo(a,_):"",T=o.showSibiSinsal?jo({baseBranch:c,targetBranch:_,era:Rke(u),gaehwa:!!f}):"";return{unseongText:E||void 0,shinsalText:T||void 0}},p=rn(t).charAt(1),g=rn(n).charAt(1),x=rn(r).charAt(1),w=rn(i).charAt(1);return v.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[v.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),v.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",rn(t),p],["",rn(n),g],["",rn(r),x],["",rn(i),w]].map(([_,E,T])=>{const{unseongText:N,shinsalText:O}=h(T);return v.jsx(gd,{label:_,gz:E,dayStem:a,settings:qn.getState().settings,unseongText:N,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${_}`)})})]})}function ud({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=qn(D=>D.settings),o=S.useMemo(()=>t?hx(t):null,[t]),c="/",u=rn(o?Ua(o,c):void 0),f=rn(o?gt(o,c):void 0),h=rn(o?kt(o):void 0),p=rn(o?at(o):void 0),g=S.useMemo(()=>f.charAt(0)||"",[f]),x=o,w=S.useMemo(()=>{const D=t?.birthPlace;return!D||D.name===""||!D.lon?127.5:D.lon},[t]),_=t?.mingSikType??c,E=S.useMemo(()=>{const D=x?gt(x,_).charAt(1):f.charAt(1)||"",$=x?at(x,w).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?D:$},[a.sinsalBase,x,_,w,f,p]),T=S.useMemo(()=>{if(n!==""||!o||!t)return null;try{const D=g4(o,u,t.dir,120,t.mingSikType),$=b4(D,f,t.dir,t.DayChangeRule),H=rp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),q=v4(H,p,t.dir,t.DayChangeRule,o),K=r;return{si:rn(Q0(D.events,K)?.gz,u),il:rn(Q0($.events,K)?.gz,f),wl:rn(Q0(H.events,K)?.gz,h),yn:rn(Q0(q.events,K)?.gz,p)}}catch{return null}},[n,o,u,f,h,p,r,t]),N=S.useMemo(()=>{if(n!=="")return null;const D=r;return{si:rn(Ua(D,c)),il:rn(gt(D,c)),wl:rn(kt(D)),yn:rn(at(D))}},[n,r]),O=t?Kb(t):"",P=o?cm(o):"",M=t?Lke(t):"";return t?v.jsxs("div",{className:"space-y-2",children:[v.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),v.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[v.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),v.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:O}),M&&v.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),P&&v.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:P})]}),n===""&&v.jsx(IS,{label:"",gzHour:u,gzDay:f,gzMonth:h,gzYear:p,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&T&&v.jsx(IS,{label:"",gzHour:T.si,gzDay:T.il,gzMonth:T.wl,gzYear:T.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&N&&v.jsx(IS,{label:"",gzHour:N.si,gzDay:N.il,gzMonth:N.wl,gzYear:N.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):v.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:v.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function $ke({people:e=[]}){const[t,n]=S.useState(),[r,i]=S.useState(),[a,o]=S.useState(!1),[c,u]=S.useState(!1),f=S.useRef(new Date),[h,p]=S.useState(()=>Cke(f.current)),g=S.useRef(h3(h)??f.current),x=S.useMemo(()=>{const O=h3(h);return O&&(g.current=O),g.current},[h]),[w,_]=S.useState(!1),[E,T]=S.useState(!1);function N(O){if(!O)return["","","",""];try{const P=hx(O),M="/",D={hour:rn(Ua(P,M)),day:rn(gt(P,M)),month:rn(kt(P)),year:rn(at(P))};return[D.year,D.month,D.day,D.hour]}catch{return["","","",""]}}return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[v.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[v.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[v.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:a,onChange:O=>o(O.target.checked),className:"accent-indigo-500"})," "]}),v.jsx("button",{onClick:()=>u(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?" ":" "})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[v.jsx(ud,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),v.jsx(ud,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),a&&t&&v.jsx(ud,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),a&&r&&v.jsx(ud,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)}),c&&t&&v.jsx(ud,{label:" A",data:t,mode:"",effectiveDate:x,onPick:()=>_(!0)}),c&&r&&v.jsx(ud,{label:" B",data:r,mode:"",effectiveDate:x,onPick:()=>T(!0)})]}),t&&r&&v.jsx("div",{className:"mt-4",children:v.jsx(Ske,{pillarsA:N(t),pillarsB:N(r)})}),v.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[v.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),v.jsx("input",{type:"datetime-local",value:h,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),v.jsx(m3,{open:w,list:e||[],onSelect:O=>{n(O),_(!1)},onClose:()=>_(!1)}),v.jsx(m3,{open:E,list:e||[],onSelect:O=>{i(O),T(!1)},onClose:()=>T(!1)})]})}function Bke(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=async()=>{try{const{data:{user:a}}=await Le.auth.getUser();if(!a){alert("  .");return}const o=a.id,c=new Date().toISOString();await Le.from("profiles").update({disabled_at:c}).eq("id",o),await Le.from("myeongsik").update({deleted_at:c}).eq("user_id",o),await Le.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return v.jsxs(v.Fragment,{children:[v.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[v.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),v.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[v.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),v.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:v.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[v.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),v.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[v.jsx("p",{className:"mb-2",children:"     ,    ."}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),v.jsxs("p",{className:"mb-2",children:["   (, )",v.jsx("br",{}),"       ( ,  )"]}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),v.jsxs("p",{className:"mb-2",children:["     ",v.jsx("br",{}),"    /  ",v.jsx("br",{}),"      "]}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),v.jsxs("p",{className:"mb-2",children:["     ",v.jsx("br",{}),"         "]}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),v.jsx("p",{className:"mb-2",children:"   3  ."}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),v.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),v.jsx("p",{children:"   : unique950318@gmail.com"})]}),v.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:v.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[v.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),v.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",v.jsx("br",{}),"    ."]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),v.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function zke(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function p3(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);return!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12||o<1||o>31?null:{y:i,m:a,d:o}}function pU({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=S.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),a=S.useMemo(()=>zke(i),[i]),[o,c]=S.useState(a);S.useEffect(()=>{c(a)},[a]);const u=S.useRef(null),f=g=>{c(g);const x=p3(g);if(!x)return;const{y:w,m:_,d:E}=x,T=new Date(w,_,0).getDate(),N=Math.min(E,T),O=i.getHours(),P=i.getMinutes(),M=i.getSeconds(),D=i.getMilliseconds(),$=new Date(w,_-1,N,O,P,M,D);Number.isNaN($.getTime())||t($)},h=g=>{if(!g)return;c(g);const x=p3(g);if(!x)return;const{y:w,m:_,d:E}=x,T=i.getHours(),N=i.getMinutes(),O=i.getSeconds(),P=i.getMilliseconds(),M=new Date(w,_-1,E,T,N,O,P);Number.isNaN(M.getTime())||t(M)},p=()=>{const g=u.current;if(g){if(typeof g.showPicker=="function"){g.showPicker();return}g.focus(),g.click()}};return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",value:o,onChange:g=>f(g.target.value),className:"w-[140px] h-30 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-base desk:text-sm","aria-label":"()"}),v.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:""}),v.jsx("input",{ref:u,type:"date",value:o,onChange:g=>h(g.target.value),min:n,max:r,className:"sr-only","aria-hidden":"true",tabIndex:-1})]})}function Uke({ms:e}){const{date:t,setDate:n}=ui(),r=S.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",h=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,h].filter(Boolean).join("|")},[e]);S.useEffect(()=>{n(new Date)},[r]);const i=H2(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=S.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,h=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,g=[f,h,p].filter(Boolean).join(" ");return[u,g].filter(Boolean).join(" + ")},[e.ganji,i]),c=u=>{n(u)};return v.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&v.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),v.jsx("div",{className:"grid grid-cols-1 gap-3",children:v.jsxs("label",{className:"w-full flex justify-center items-center",children:[v.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),v.jsx(pU,{date:a,onChange:c,min:"1900-01-01",max:"2100-12-31"})]})})]})}function Fke(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),[u,f]=S.useState(!1);S.useEffect(()=>{document.title=" - //";const x=window.setTimeout(()=>t(!0),50),w=window.setTimeout(()=>r(!0),250),_=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(x),window.clearTimeout(w),window.clearTimeout(_)}},[]);const h=()=>u?!0:(kd.error(`   
  .`),!1),p=async()=>{if(!h())return;const{error:x}=await Le.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Google Login Error:",x),kd.error("   ."))},g=async()=>{if(!h())return;const{error:x}=await Le.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/`}});x&&(console.error("Kakao Login Error:",x),kd.error("   ."))};return v.jsxs("main",{className:`relative flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[v.jsxs("header",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-14 text-center max-w-[680px] px-4`,children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),v.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",v.jsx("br",{}),"   /     "]}),v.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:"( / )         URL   ."})]}),v.jsxs("section",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[v.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),v.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",v.jsx("br",{}),"       "]}),v.jsx("div",{className:"mb-5 space-y-2",children:v.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),v.jsxs("span",{children:["  .",v.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[v.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),v.jsx("span",{children:"  "})]}),v.jsxs("button",{type:"button",onClick:g,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[v.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),v.jsx("span",{children:" "})]})]}),v.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[v.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),v.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[v.jsx("li",{children:" /  "}),v.jsx("li",{children:"    "}),v.jsx("li",{children:"/ (  )"})]}),v.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com"})]})]}),v.jsx(l$,{position:"top-center",toastOptions:{duration:2e3}}),o&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:v.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:x=>x.stopPropagation(),children:[v.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),v.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[v.jsx("p",{className:"mb-2",children:"( )     ,      ."}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),v.jsxs("p",{className:"mb-2",children:["   ,  (,  )",v.jsx("br",{}),"       ( ,  )"]}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),v.jsxs("p",{className:"mb-2",children:["     ",v.jsx("br",{}),"      ",v.jsx("br",{}),"      "]}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),v.jsxs("p",{className:"mb-2",children:["     ",v.jsx("br",{}),"           "]}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),v.jsx("p",{className:"mb-2",children:"          ."}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),v.jsx("p",{className:"mb-2",children:" Supabase        ."}),v.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),v.jsx("p",{children:"   : unique950318@gmail.com"})]}),v.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function Hke({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:c}){return v.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium mb-2",children:"/"}),v.jsxs("span",{className:"mr-3 chkContainer",children:[v.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),v.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),v.jsxs("span",{className:"chkContainer",children:[v.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),v.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium mb-2",children:" "}),v.jsxs("span",{className:"mr-3 chkContainer",children:[v.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),v.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),v.jsxs("span",{className:"chkContainer",children:[v.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),v.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium mb-2",children:""}),v.jsxs("span",{className:"mr-3 chkContainer",children:[v.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>c("male")}),v.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),v.jsxs("span",{className:"chkContainer",children:[v.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>c("female")}),v.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function Gke({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return v.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),c=t===i;return v.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",c?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,v.jsx("br",{}),v.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function qke({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?v.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):v.jsxs("table",{className:"w-full text-xs",children:[v.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-1 text-center",children:""}),v.jsx("th",{className:"p-1 text-center",children:""}),v.jsx("th",{className:"p-1 text-center",children:""}),v.jsx("th",{className:"p-1 text-center",children:""}),v.jsx("th",{className:"p-1 text-center",children:""}),v.jsx("th",{className:"p-1 text-center",children:""}),v.jsx("th",{className:"p-1 text-center",children:""})]})}),v.jsx("tbody",{children:e.map((i,a)=>v.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[v.jsx("td",{className:"p-1 text-center",children:v.jsxs("span",{className:"chkContainer",children:[v.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),v.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),v.jsx("td",{className:"p-1 text-center",children:i.date}),v.jsx("td",{className:"p-1 text-center",children:i.year}),v.jsx("td",{className:"p-1 text-center",children:i.month}),v.jsx("td",{className:"p-1 text-center",children:i.day}),v.jsx("td",{className:"p-1 text-center",children:v.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,c)=>v.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:v.jsx("b",{children:o.branch})},c))})}),v.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):v.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function Yke({toast:e,showToast4:t,searchToast:n,error:r}){return v.jsxs(v.Fragment,{children:[e&&v.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:v.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&v.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:v.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&v.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:v.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",v.jsx("br",{}),"   ."]})}),r&&v.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function Kke({choices:e,onChoose:t}){return!e||e.length===0?null:v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-sm mb-1",children:"  ."}),v.jsx("div",{className:"flex gap-2",children:e.map(n=>v.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const UT=["","","","","","","","","",""],Ap=["","","","","","","","","","","",""],Wke={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},gU=["","","","","","","","","","","",""],Vke=Ap,Zke=gU,Xke=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],Jke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qke={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Fm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Wke[n],i=gU.indexOf(t),a=(r+(i>=0?i:0))%10;return UT[a]}function mx(e,t){const n=t===""?Vke:Zke,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Ap.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=UT[(r+a)%10],c=n[a];i[c]=`${o}${c}`}return i}const e2e={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function t2e(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function n2e({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?v.jsxs("div",{className:"w-full",children:[n&&v.jsxs("div",{children:[v.jsx("p",{className:"font-medium mb-2",children:""}),v.jsx("div",{className:"grid grid-cols-5 gap-2",children:UT.map(o=>v.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Bi(o,"stem",a)}`,children:o},o))})]}),r&&v.jsxs("div",{children:[v.jsx("p",{className:"font-medium mb-2",children:""}),v.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ap.filter(o=>{const c=t2e(e),u=t[c];return u?Qke[o]===Jke[u]:!0}).map(o=>v.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Bi(o,"branch",a)}`,children:o},o))})]})]}):v.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function r2e(){const[e,t]=S.useState({}),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState(!0),[u,f]=S.useState(!0),[h,p]=S.useState(""),[g,x]=S.useState("male"),[w,_]=S.useState(null),[E,T]=S.useState(!1),[N,O]=S.useState(null),[P,M]=S.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[D,$]=S.useState(!1),[H,q]=S.useState(null),[K,U]=S.useState(null),[z,V]=S.useState(!1),[J,Q]=S.useState(!1),Y=X=>{U(X),setTimeout(()=>U(null),1800)};return S.useEffect(()=>{if(!z)return;const X=setTimeout(()=>V(!1),2e3);return()=>clearTimeout(X)},[z]),S.useEffect(()=>{if(!J)return;const X=setTimeout(()=>Q(!1),2e3);return()=>clearTimeout(X)},[J]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,gender:g,setGender:x,results:w,setResults:_,searching:E,setSearching:T,selectedRow:N,setSelectedRow:O,form:P,setForm:M,unknownPlace:D,setUnknownPlace:$,error:H,setError:q,toast:K,showToast4:z,setShowToast:V,searchToast:J,setSearchToast:Q,showToast:Y}}function yU(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function g3(e,t){return Ap.filter(n=>Fm(e,n)===t)}function y3(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=g3(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=Fm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=g3(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=Fm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function i2e(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=mx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),c=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=c(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=c(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function a2e(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?Fm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function o2e(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=mx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function $S(e,t,n){const i=mx(e,t)[n];return i?i.slice(0,1):null}function s2e({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:h,setHourRule:p,setResults:g,setError:x,showToast:w}){const _=o||u,E=!!(e.yearStem&&e.yearBranch),T=!!(e.dayStem&&e.dayBranch),N=!_||E||T,O=!!n&&n.endsWith("Stem"),P=!!n&&n.endsWith("Branch"),M=S.useMemo(()=>yU(e),[e]);return S.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=$S(e.dayStem,h,e.hourBranch);z&&t(V=>({...V,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:_,canEnterOthers:N,activeIsStem:O,activeIsBranch:P,filledAll:M,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!N&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){x("/      ."),setTimeout(()=>x(null),1500);return}let J={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const X=y3(J,n,o);J=X.next,a(X.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(J=i2e(J,n,u,h));let Q=!1;a2e(J,o)&&(c(!1),Q=!0),o2e(J,u,h)&&(f(!1),Q=!0),Q&&w("/  .  ."),t(J),g(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const X={...J};if(X.yearStem&&X.yearBranch&&!X.monthStem){r("monthStem");return}if(X.monthStem&&X.monthBranch&&!X.dayStem){r("dayStem");return}if(X.dayStem&&X.dayBranch&&!X.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let V={...e,monthBranch:z};a(null),V=y3(V,"monthBranch",o).next,t(V),r("dayStem")},clearAll:()=>{t({}),g(null),x(null),r(null),a(null)},onToggleWoldu:z=>{g(null),z&&t(V=>{const J={...V};return J.yearStem&&J.monthBranch&&(J.monthStem=Fm(J.yearStem,J.monthBranch)),J}),c(z)},onToggleSiju:z=>{g(null),z&&t(V=>{const J={...V};if(J.dayStem&&J.hourBranch){const Q=$S(J.dayStem,h,J.hourBranch);Q&&(J.hourStem=Q)}return J}),f(z)},onChangeHourRule:z=>{if(g(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const V=$S(e.dayStem,z,e.hourBranch);V&&t(J=>({...J,hourStem:V}))}}}}function l2e(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,c=t!==null?n?.filter((K,U)=>U===t)??[]:[];if(c.length===0)return{error:"  ."};const u=c[0],f=i===""?"/":"",[h,p,g]=u.date.split("-").map(Number);let x=0,w=0;if(u.hourSlots.length>0){const K=u.hourSlots[0].branch,U=e2e[K];U&&(x=U.hh,w=U.mi)}const _=new Date(h,p-1,g,x,w),E=_,T="",N=r==="male"?"":"",O=c2e(u.year.charAt(0),N),P=at(E,127.5),M=kt(E,127.5),D=gt(E,f),$=Ua(E,f),H=[`: ${P} ${M} ${D}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:u4(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}`,birthTime:`${String(x).padStart(2,"0")}${String(w).padStart(2,"0")}`,gender:N,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:qc(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:H,dayStem:u.day.charAt(0),dateObj:_,corrected:E,correctedLocal:T,dir:O,favorite:!1}}}function c2e(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function u2e(e){zr.getState().add(e)}function d2e(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,c=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=h.getTime();p+=24*3600*1e3){const g=new Date(p),x=at(g);if(x!==i)continue;const w=kt(g);if(w!==a)continue;const _=gt(g,n);if(_!==o)continue;const E=mx(e.dayStem,t),T=[];for(let N=0;N<12;N++){const O=Ap[N];E[O]===c&&T.push({branch:O,time:Xke[N]})}if(T.length!==0&&(u.push({date:`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,year:x,month:w,day:_,hour:c,hourSlots:T}),u.length>=r))break}return u}function f2e({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:c,setSearching:u,setError:f,setSearchToast:h,setForm:p,setUnknownPlace:g,showToast:x,onSave:w,onClose:_}){return{doSearch:()=>{if(c(null),f(null),!yU(e)){f(" 4  .");return}u(!0);try{const O=d2e(e,t,t===""?"/":"");O.length===0&&f("  . (: 1900~2100)"),c(O)}catch(N){N instanceof Error?f(N.message):f(String(N))}finally{u(!1)}},handleSave:()=>{const N=l2e({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in N){h(!0);return}tf.flushSync(()=>{u2e(N.payload)}),w(N.payload),x(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),g(!1),_()}}}function h2e({open:e,onClose:t,onSave:n}){const{settings:r}=qn(),i=r2e(),a=s2e({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=f2e({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?v.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[v.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:v.jsx(x7,{size:20})}),v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),v.jsx(Hke,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&v.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",v.jsx("br",{}),v.jsx("b",{children:""}),"  ",v.jsx("b",{children:""})," ."]}),v.jsx(Gke,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),v.jsx(Kke,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),v.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:v.jsx(n2e,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),v.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[v.jsx("span",{children:v.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),v.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),v.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:v.jsx(qke,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),v.jsx(Yke,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function m2e({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const c=i?" ":"";return v.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[v.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),v.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[v.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":c}`}),v.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":c}`})]})]})}function p2e({sections:e,toggleSection:t}){return v.jsxs("div",{className:"mt-3 border-t pt-2",children:[v.jsx("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"   "}),v.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function g2e({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return v.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[v.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),v.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(c=>v.jsx("button",{type:"button",onClick:()=>n(c),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===c?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[c].label},c))}),v.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),v.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),v.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function y2e({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>v.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&v.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>v.jsx("option",{value:o.key,children:o.label},o.key))})]})}function b2e({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?v.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-semibold",children:" "}),v.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[v.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),v.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("span",{className:"font-semibold",children:"  "}),v.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[v.jsx("option",{value:"",children:" "}),a.map(o=>v.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function v2e({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),v.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function x2e({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[v.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const c=!a&&o!=="",u=!c&&t===o;return v.jsxs("button",{type:"button",onClick:()=>{c||n(o)},disabled:c,title:c?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",c?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":c?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",c?"":""]},o)})}),v.jsx(pU,{date:r,onChange:i})]}),v.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[v.jsx("p",{children:"      ."}),v.jsx("p",{children:"     ."}),v.jsx("p",{children:"      ."})]})]})}function _2e({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:c,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:h,seYearsCount:p,wolStartDate:g,wolEndDate:x,onWolStartChange:w,onWolEndChange:_,onWolStartBlur:E,onWolEndBlur:T,wolMonthsCount:N,ilStartDate:O,ilEndDate:P,onIlStartChange:M,onIlEndChange:D,onIlStartBlur:$,onIlEndBlur:H,ilDaysCount:q}){return v.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[v.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(K=>v.jsx("button",{type:"button",onClick:()=>t(K),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===K?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:K},K))}),e===""&&v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),v.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((K,U)=>v.jsxs("button",{type:"button",onClick:()=>i(U),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(U)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[v.jsx("div",{className:"font-mono",children:K.gz}),v.jsxs("div",{className:"text-[10px] opacity-80",children:[K.age," (",K.startYear,"~",K.endYear,")"]})]},U))})]}),e===""&&v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("input",{type:"number",value:a,onChange:K=>c(Number(K.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),v.jsx("span",{className:"text-xs",children:"~"}),v.jsx("input",{type:"number",value:o,onChange:K=>u(Number(K.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("input",{type:"month",value:g,onChange:K=>w(K.target.value),onBlur:E,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),v.jsx("span",{className:"text-xs",children:"~"}),v.jsx("input",{type:"month",value:x,onChange:K=>_(K.target.value),onBlur:T,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",N,""]})]}),e===""&&v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsx("input",{type:"date",value:O,onChange:K=>M(K.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),v.jsx("span",{className:"text-xs",children:"~"}),v.jsx("input",{type:"date",value:P,onChange:K=>D(K.target.value),onBlur:H,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),v.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",q,""]})]}),v.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[v.jsxs("p",{children:[" ",e,"   ."]}),v.jsx("p",{children:"    ."})]})]})}function w2e({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:c}){const u=c?" ":"";return v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between gap-2",children:[v.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&v.jsx("button",{type:"button",onClick:i,disabled:o,title:o?c:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),v.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?c:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),v.jsxs("div",{className:"mb-4 text-center",children:[v.jsx("button",{type:"button",onClick:n,disabled:o,title:o?c:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&v.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&v.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,h)=>v.jsxs("li",{className:"flex gap-1 items-start",children:[v.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),v.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),v.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?c:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function S2e({value:e,lockSelection:t=!1}){return t?v.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):v.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const E2e={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},k2e=["","","","",""],A2e={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},b3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function T2e(){const[e,t]=S.useState(null);return S.useEffect(()=>{let n=!0;return Le.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const O2e={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Wb=ou(e=>({sections:O2e,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),BS=1e3*60*60*24;function zS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function ey(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function ty(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function v3(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function x3(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function j2e(){const e=new Date().getFullYear(),[t,n]=S.useState(e),[r,i]=S.useState(e),[a,o]=S.useState(()=>x3()),[c,u]=S.useState(()=>x3()),[f,h]=S.useState(()=>v3()),[p,g]=S.useState(()=>v3()),x=Q=>{n(Q)},w=Q=>{i(Q)},_=()=>{const Q=t;let Y=r;Y<Q&&(Y=Q),Y-Q>9&&(Y=Q+9),i(Y)},E=()=>{let Q=t;const Y=r;Y<Q&&(Q=Y),Y-Q>9&&(Q=Y-9),n(Q)},T=S.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Q=r-t+1;return Q>0?Q:0},[t,r]),N=S.useMemo(()=>{const Q=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Q;for(let Y=t;Y<=r&&Q.length<10;Y++)Q.push(Y);return Q},[t,r]),O=Q=>{o(Q)},P=Q=>{u(Q)},M=()=>{const[Q,Y]=a.split("-").map(Number),[X,re]=c.split("-").map(Number),ue=new Date(Q,Y-1),se=new Date(X,re-1);if(se<ue){u(ey(ue));return}if(zS(ue,se)>11){const W=new Date(ue);W.setMonth(ue.getMonth()+11),u(ey(W))}},D=()=>{const[Q,Y]=a.split("-").map(Number),[X,re]=c.split("-").map(Number),ue=new Date(Q,Y-1),se=new Date(X,re-1);if(se<ue){o(ey(se));return}if(zS(ue,se)>11){const W=new Date(se);W.setMonth(se.getMonth()-11),o(ey(W))}},$=S.useMemo(()=>{const[Q,Y]=(a||"").split("-").map(Number),[X,re]=(c||"").split("-").map(Number);if(!Number.isFinite(Q)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(re))return 0;const ue=new Date(Q,Y-1,1),se=new Date(X,re-1,1),B=zS(ue,se)+1;return B>0?B:0},[a,c]),H=S.useMemo(()=>{const Q=[],[Y,X]=a.split("-").map(Number),[re,ue]=c.split("-").map(Number),se=new Date(Y,X-1),B=new Date(re,ue-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return Q;for(;se<=B&&Q.length<12;)Q.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return Q},[a,c]),q=Q=>{h(Q)},K=Q=>{g(Q)},U=()=>{if(!f||!p)return;const[Q,Y,X]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(Q,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(W<B){g(ty(B));return}if(Math.floor((W.getTime()-B.getTime())/BS)>7){const Z=new Date(B);Z.setDate(B.getDate()+6),g(ty(Z))}},z=()=>{if(!f||!p)return;const[Q,Y,X]=f.split("-").map(Number),[re,ue,se]=p.split("-").map(Number),B=new Date(Q,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0);if(B>W){h(ty(W));return}if(Math.floor((W.getTime()-B.getTime())/BS)>7){const Z=new Date(W);Z.setDate(W.getDate()-6),h(ty(Z))}},V=S.useMemo(()=>{const[Q,Y,X]=(f||"").split("-").map(Number),[re,ue,se]=(p||"").split("-").map(Number);if(!Number.isFinite(Q)||!Number.isFinite(Y)||!Number.isFinite(X)||!Number.isFinite(re)||!Number.isFinite(ue)||!Number.isFinite(se))return 0;const B=new Date(Q,Y-1,X,4,0,0),W=new Date(re,ue-1,se,4,0,0),ae=Math.floor((W.getTime()-B.getTime())/BS)+1;return ae>0?ae:0},[f,p]),J=S.useMemo(()=>{const Q=[],[Y,X,re]=f.split("-").map(Number),[ue,se,B]=p.split("-").map(Number),W=new Date(Y,X-1,re,4,0,0),ae=new Date(ue,se-1,B,4,0,0);if(Number.isNaN(W.getTime())||Number.isNaN(ae.getTime()))return Q;const Z=new Date(W);for(;Z<=ae&&Q.length<31;){const oe=Z.getFullYear(),me=String(Z.getMonth()+1).padStart(2,"0"),pe=String(Z.getDate()).padStart(2,"0");Q.push(`${oe}-${me}-${pe}`),Z.setDate(Z.getDate()+1)}return Q},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:c,ilStartDate:f,ilEndDate:p,onSeStartChange:x,onSeEndChange:w,onSeStartBlur:_,onSeEndBlur:E,onWolStartChange:O,onWolEndChange:P,onWolStartBlur:M,onWolEndBlur:D,onIlStartChange:q,onIlEndChange:K,onIlStartBlur:U,onIlEndBlur:z,seYearsCount:T,wolMonthsCount:$,ilDaysCount:V,seYearsList:N,wolMonthsList:H,ilDaysList:J}}function N2e({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Wb(se=>se.sections),i=Wb(se=>se.toggleSection),[a,o]=S.useState("analysis"),[c,u]=S.useState(!1),[f,h]=S.useState(!1),[p,g]=S.useState(""),[x,w]=S.useState("personality"),[_,E]=S.useState("overview"),[T,N]=S.useState("solo"),[O,P]=S.useState(""),[M,D]=S.useState(!1),[$,H]=S.useState(""),[q,K]=S.useState([]),[U,z]=S.useState(""),[V,J]=S.useState([]),Q=j2e();S.useEffect(()=>{x!=="love"&&x!=="compat"&&(N("solo"),g(""))},[x]),S.useEffect(()=>{!t&&M&&D(!1)},[t,M]),S.useEffect(()=>{!n&&O!==""&&P("")},[n,O]),S.useEffect(()=>{$!==""&&K([])},[$]),S.useEffect(()=>{z(""),J([])},[e]);function Y(){const se=U.trim();se&&(J(B=>[...B,se]),z(""))}function X(se){J(B=>B.filter((W,ae)=>ae!==se))}function re(){J([])}function ue(se){K(B=>B.includes(se)?B.filter(W=>W!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:c,setFriendMode:u,teacherMode:f,setTeacherMode:h,partnerId:p,setPartnerId:g,mainCategory:x,setMainCategory:w,subCategory:_,setSubCategory:E,relationMode:T,setRelationMode:N,activeTab:O,setActiveTab:P,isMultiMode:M,setIsMultiMode:D,multiTab:$,setMultiTab:H,selectedDaeIdx:q,setSelectedDaeIdx:K,handleToggleDae:ue,rangeControls:Q,questionDraft:U,setQuestionDraft:z,extraQuestions:V,setExtraQuestions:J,handleAddQuestion:Y,handleRemoveQuestion:X,handleClearQuestions:re}}const bU=ou(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function FT(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Ui(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Qm(c,u,i),h=e.mingSikType??"/",p=at(f,u),g=kt(f,u),x=gt(f,h),w=i?null:Ua(f,h),_=De(p),E=De(g),T=De(x),N=w?De(w):"";return[_,E,T,N]}function vU(e){const t=new Date(e.corrected),n=FT(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",c=o&&a||!o&&!a?"forward":"backward",u=rp(t,n[1],c,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const h=[];let p=De(u.events[0]?.gz??n[1]);for(let g=0;g<10;g++){const x=new Date(f);if(x.setFullYear(x.getFullYear()+g*10),g>0){const w=u.events[g];w&&(p=De(w.gz))}h.push(`${x.getFullYear()} ${String(x.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const C2e=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],M2e=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function P2e(e,t){e.push("### ()");const n=t?M2e:C2e;e.push(...n)}function D2e(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function R2e(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...c)=>e.push(...c);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function L2e(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function I2e(e,t){R2e(e,t)||L2e(e,t)}function $2e(e){return e==="multi"?"multi":"single"}function xU(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const c=$2e(r),u=[],f=o===!0;return P2e(u,f),t==="etc"||(D2e(u,{mode:c,tab:i,isStudyTone:f}),I2e(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const B2e=!1,_3=e=>e<10?`0${e}`:`${e}`;function z2e(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Ui(i,a,o,0,0),u=`${c.getFullYear()}${_3(c.getMonth()+1)}${_3(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const nm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},rm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},iu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ny={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},U2e=["","","","",""];function w3(e){return U2e.includes(e)}const _U={:"",:"",:"",:"",:""},wU={:"",:"",:"",:"",:""},SU={:"",:"",:"",:"",:""},EU={:"",:"",:"",:"",:""};function Bk(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(nm[t])return nm[t];if(["","","","","","","","","","","",""].includes(t))return ny[t]??null;if(rm[t])return ny[rm[t]]??null;const n=t.charAt(0);return nm[n]?nm[n]:["","","","","","","","","",""].includes(n)?n:rm[n]?ny[rm[n]]??null:["","","","","","","","","","","",""].includes(n)?ny[n]??null:null}function F2e(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Bk(n);i&&(t[i]=(t[i]??0)+r)}return t}function H2e(e){if(!e)return[];const t=Bk(e.charAt(0)),n=Bk(e.charAt(1));return[t,n].filter(Boolean)}function ry(e){const t=H2e(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function G2e(e,t){const n=iu[e],r=iu[t];if(!n||!r)return"";let i;r===n?i="":r===_U[n]?i="":r===wU[n]?i="":r===SU[n]?i="":r===EU[n]?i="":i="";const a=w3(e)===w3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function kU(e,t){return t===e?"":t===_U[e]?"":t===wU[e]?"":t===SU[e]?"":t===EU[e]?"":""}function AU(e){const t=Object.entries(e),n=t.reduce((f,[,h])=>f+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,h])=>[f,(h>0?h:0)*100/n]),i=r.map(([f,h])=>[f,Math.floor(h)]);let a=i.reduce((f,[,h])=>f+h,0);const o=r.map(([f,h])=>[f,h-Math.floor(h)]).sort((f,h)=>h[1]-f[1]),c=Object.fromEntries(i.map(([f,h])=>[f,h]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}const q2e={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},Y2e=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=nm[t]??t,i=rm[n]??n;return`${r}${i}`},HT=e=>{const t=Y2e(e),n=q2e[t];return n?{...n,code:t}:null};function TU(e,t){const n=z2e(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let c="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");c=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${c}`}function K2e(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=iu[n];i&&(t[i]+=r)}return t}function W2e(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=G2e(t,r);n[a]+=i}return n}function V2e(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const Z2e={natal:50,dae:30,se:20,wol:7,il:3};function X2e(e){const t={};for(const{kind:r,bare:i}of e){const a=Z2e[r]??0;if(a<=0)continue;const o=AU(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function OU(e,t,n){const r=F2e(e.perStemElementScaled),i=t!==""&&n?.dae?ry(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?ry(n.se):{},o=(t===""||t==="")&&n?.wol?ry(n.wol):{},c=t===""&&n?.il?ry(n.il):{},u=X2e([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:c}]),f=AU(u),h=K2e(f),p=W2e(f,e.dayStem),g=V2e(p);return{perStemAugBare:f,elementPercent:h,totalsSub:p,totalsMain:g}}function jU(e){return!e.birthTime||e.birthTime===""}function NU(e,t){return t[3]?["","","",""]:["","",""]}function J2e(e,t){return e.map((n,r)=>t[r]??"")}const Q2e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Vb(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Vb(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(Q2e(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Vb(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function eAe(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function tAe(e,t){const n=Vb(e);if(n===void 0)return"";const r=eAe(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function CU(e,t,n){const r=tAe(t,n);return r.trim()?`## ${e}
${r}`:""}const Fn=(e,t)=>CU(e,t,"plain"),Pr=(e,t)=>CU(e,t,"fenced"),nAe=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const u={};for(const[f,h]of Object.entries(c)){if(!Array.isArray(h))continue;const p=h.filter(g=>typeof g=="string"&&g.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},rAe=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function zk(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${kU(t,n)})`,r]))}function iAe(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let c=0;c<r.length;c++){const u=n[c]??"";u&&a.push({kind:"natal",pos:r[c],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function aAe(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${De(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${De(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${De(t.wol)}`),e===""&&t.il&&n.push(`:${De(t.il)}`),n.length>0?n.join(" / "):"()"}function MU(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:c,category:u,topic:f,subTopic:h,relationMode:p,teacherMode:g,sections:x}=e,w=x?.tenGod??!0,_=x?.twelveUnseong??!0,E=x?.twelveShinsal??!0,T=x?.shinsal??!0,N=x?.nabeum??!0,O=jU(t),P=De(n[3]??""),M=!!P,D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),P],$=vU(t).slice(0,10),H=_l({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),q=Ud({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:K,shinsalGaehwa:U,shinsalBase:z}=bU.getState(),V=z===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",J=OU(o,a,r),Q=J.elementPercent,Y=J.totalsSub,{flags:X}=u7(D,o.elementScoreRaw),re=`${u} (${c.toFixed(1)}%)  ${[` ${X..||X..||X..||X..?"":""}`,` ${X..||X..||X..||X..?"":""}`,` ${X..||X..?"":""}`].join(", ")}`,ue=NU(t,D),se=o.dayStem,B=iu[se]??iu[o.dayStem]??"",W=[` : ${t.name??""} (${TU(t,O)}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(M?` ${D[3]}`:""),`: ${aAe(a,r)}`].join(`
`),ae=[];ae.push(Pr("  (10)",$)),ae.push(Pr("",re)),ae.push(Pr("(  )",zk(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Pr(`(=${a})`,zk(Q,B))),w&&(ae.push(Pr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Pr(` ( 10=${a} 100)`,Y)));const Z=iAe({tab:a,natal:D,posLabels:ue,chain:r});if(_){const ne=Z.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,unseong:Oo(D[2]?.charAt(0)??"",Ce.charAt(1))}));ae.push(Pr("(+ )",ne))}if(E){const ne=Z.map(({pos:Oe,gz:Ce})=>({pos:Oe,gz:Ce,shinsal:jo({baseBranch:V,targetBranch:Ce.charAt(1),era:K,gaehwa:U})}));ae.push(Pr("(+  )",ne))}if(N){const ne=[];for(const Oe of Z){const Ce=HT(Oe.gz);if(!Ce){Oe.kind==="natal"&&ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:null});continue}ne.push({pos:Oe.pos,gz:Oe.gz,nabeum:Ce.name,element:Ce.element,code:Ce.code})}ae.push(Pr("(+ )",ne))}if(ae.push(Pr("()",nA(ue.map((ne,Oe)=>D[Oe]??"")))),ae.push(Pr("( :  )",H)),T)if(a===""){const ne=Ud({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Pr("( )",{good:ne.good,bad:ne.bad,meta:ne.meta}))}else ae.push(Pr(`( =${a})`,q));const oe=ae.filter(ne=>ne&&ne.trim().length>0).join(`

`),me=xU({topic:f,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:g}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];me&&pe.push("","  ( )",me);const be=pe.join(`
`);return{header:W,body:oe,guide:be}}function oAe(e){const{header:t,body:n,guide:r}=MU(e);return[t,n,r].join(`

`)}function xo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:c,unified:u,dayEl:f,baseDayStem:h,show:p,shinsalSettings:g,harmonyMode:x="scope",includeBasicInfo:w=!0}=e,_=OU(u,t,i),E=_l({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),T=p.shinsal?Ud({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:c}):null,N=p.nabeum?HT(r):null,O=p.twelveUnseong?Oo(h,r.charAt(1)):null,P=p.twelveShinsal?jo({baseBranch:g.baseBranch,targetBranch:r.charAt(1),era:g.era,gaehwa:g.gaehwa}):null,M=x==="full"?E:rAe(E,t);return{...w?{:n,:r}:{},:zk(_.elementPercent,f),...p.tenGod?{:_.totalsSub}:{},:M,...p.shinsal?{:nAe(T,t)}:{},...p.nabeum?{:N?{gz:r,nabeum:N.name,element:N.element,code:N.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:O}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:P}}:{}}}function sAe(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const g={dae:p.gz,se:null,wol:null,il:null},x=xo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:g,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});h.push(Fn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,x))}return h.filter(p=>p.trim().length>0)}function GT(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function PU(e,t){const n=e[t],r=e[t+1];return r?GT(r):new Date(n.endYear+1,0,1)}function DU(e,t,n,r){return e<r&&t>n}function RU(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=GT(c),f=PU(e,o);DU(u,f,r,i)&&(a.some(h=>h.gz===c.gz&&h.startYear===c.startYear)||a.push(c))}return a}function LU(e,t){return RU(e,t,t)}function Zb(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=GT(c),f=PU(e,o);DU(u,f,r,i)&&(a.some(h=>h.gz===c.gz&&h.startYear===c.startYear)||a.push(c))}return a}function IU(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function Xb(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=IU(e),o=at(new Date(e-1,5,15)),c=at(new Date(e,5,15)),u=at(new Date(e+1,5,15));if(i<=a)o&&n.push(De(o));else if(r>=a)c&&n.push(De(c));else if(o&&n.push(De(o)),c){const f=De(c);n.includes(f)||n.push(f)}if(t===12&&u){const f=De(u);n.includes(f)||n.push(f)}return n}function lAe(e,t){const n=IU(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function cAe(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=t[0],g=t[t.length-1],x=RU(n,p,g);if(x.length>0){const w=p,_=at(new Date(w,5,15)),E=De(_||""),T={:x.map(N=>{const O={dae:N.gz,se:E||null,wol:null,il:null};return xo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:E||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Fn("",T))}for(const w of t){const _=at(new Date(w,5,15)),E=LU(n,w),T=E.length>0?E[0]:null,N=De(_||""),O={dae:T?T.gz:null,se:N||null,wol:null,il:null},P=xo({scope:"",infoText:`${w} ${N}`,gz:N,chain:O,natal:r,relationArgs:{daewoon:T?.gz,sewoon:N||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});h.push(Fn(` ${w}`,{:P}))}return h.filter(w=>w.trim().length>0)}function uAe(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const h=[],p=[],g=new Map;for(const T of t){const[N,O]=T.split("-").map(Number),P=Zb(n,N,O);for(const $ of P)p.some(H=>H.gz===$.gz&&H.startYear===$.startYear)||p.push($);const M=lAe(N,O);Xb(N,O).forEach(($,H)=>{const q=M[H]??M[M.length-1];g.has($)||g.set($,{year:q,month:O})})}const[x]=t[0].split("-").map(Number),w=at(new Date(x,5,15)),_=De(w||"");if(p.length>0){const T={:p.map(N=>{const O={dae:N.gz,se:_||null,wol:null,il:null};return xo({scope:"",infoText:`${N.age} ${N.gz} (${N.startYear}~${N.endYear})`,gz:N.gz,chain:O,natal:r,relationArgs:{daewoon:N.gz,sewoon:_||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Fn("",T))}const E=Array.from(g.keys());if(E.length>0){const T={:E.map(N=>{const P=g.get(N).year,D=LU(n,P)[0]??p[0]??null,$={dae:D?D.gz:null,se:N,wol:null,il:null};return xo({scope:"",infoText:`${P} ${N}`,gz:N,chain:$,natal:r,relationArgs:{daewoon:D?.gz,sewoon:N,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Fn("",T))}for(const T of t){const[N,O]=T.split("-").map(Number),P=new Date(N,O-1,15),M=kt(P),D=Zb(n,N,O),$=D.length>0?D[0]:null,H=Xb(N,O),q=H.length>0?H[H.length-1]:"",K=De(M||""),U={dae:$?$.gz:null,se:q||null,wol:K,il:null},z=xo({scope:"",infoText:`${T} ${K}`,gz:K,chain:U,natal:r,relationArgs:{daewoon:$?.gz,sewoon:q||void 0,wolwoon:K,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});h.push(Fn(` ${T}`,{:z}))}return h.filter(T=>T.trim().length>0)}function dAe(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[g,x,w]=t[0].split("-").map(Number),_=new Date(g,x-1,w,4,0);if(!Number.isNaN(_.getTime())){const E=Zb(n,g,x),T=E.length>0?E[0]:null,N=Xb(g,x),O=N.length>0?N[N.length-1]:"",P=kt(new Date(g,x-1,15)),M=gt(_,h),D=De(P||""),$=De(O||""),H=De(M||"");if(T){const q={dae:T.gz,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${T.age} ${T.gz} (${T.startYear}~${T.endYear})`,gz:T.gz,chain:q,natal:r,relationArgs:{daewoon:T.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}if($){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${g} ${$}`,gz:$,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}if(D){const q={dae:T?T.gz:null,se:$,wol:D,il:H},K=xo({scope:"",infoText:`${g}-${String(x).padStart(2,"0")} ${D}`,gz:D,chain:q,natal:r,relationArgs:{daewoon:T?.gz,sewoon:$,wolwoon:D,ilwoon:H},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn("",K))}}for(const E of t){const[T,N,O]=E.split("-").map(Number),P=new Date(T,N-1,O,4,0);if(Number.isNaN(P.getTime()))continue;const M=Zb(n,T,N),D=M.length>0?M[0]:null,$=Xb(T,N),H=$.length>0?$[$.length-1]:"",q=kt(new Date(T,N-1,15)),K=gt(P,h),U=De(q||""),z=De(H||""),V=De(K||""),J={dae:D?D.gz:null,se:z||null,wol:U,il:V},Q=xo({scope:"",infoText:`${E} ${V}`,gz:V,chain:J,natal:r,relationArgs:{daewoon:D?.gz,sewoon:z||void 0,wolwoon:U||void 0,ilwoon:V||void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Fn(` ${E}`,{:Q}))}return p.filter(E=>E.trim().length>0)}function $U(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:c,selectedDaeList:u,daeList:f,seYears:h,wolMonths:p,ilDays:g,topic:x,subTopic:w,timeMode:_,teacherMode:E,sections:T}=e,N=jU(t),O=De(n[3]??""),P=!!O,M=t.mingSikType??"/",D=[De(n[0]??""),De(n[1]??""),De(n[2]??""),O],$=NU(t,D),H=D[2]?.charAt(0)??"",q=iu[H]??iu[a.dayStem]??"",K=!!i&&(T?.tenGod??!0),U=T?.twelveUnseong??!0,z=T?.twelveShinsal??!0,V=T?.shinsal??!0,J=T?.nabeum??!0,{shinsalBase:Q,shinsalEra:Y,shinsalGaehwa:X}=bU.getState(),re=Q===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",ue=TU(t,N),se=[` : ${t.name??""} (${ue}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(P?` ${D[3]}`:"")].join(`
`),B=[],{flags:W}=u7(D,a.elementScoreRaw),ae=`${c} (${o.toFixed(1)}%)  ${[` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`,` ${W..||W..||W..||W..?"":""}`].join("  ")}`;if(B.push(Fn("",ae)),B.push(Fn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,be])=>[`${pe}(${kU(q,pe)})`,be])))),K&&B.push(Fn(" ( 10 100)",a.natalFixed.totalsSub)),U){const pe=Object.fromEntries($.map((be,ne)=>[be,Oo(H,(D[ne]??"").charAt(1))]));B.push(Fn("()",pe))}if(z){const pe=Object.fromEntries($.map((be,ne)=>[be,jo({baseBranch:re,targetBranch:(D[ne]??"").charAt(1),era:Y,gaehwa:X})]));B.push(Fn("()",pe))}B.push(Fn("//",W));const Z=nA(J2e($,D));if(B.push(Fn("()",Z)),V){const pe=Ud({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Fn("()",pe))}if(J){const pe=Object.fromEntries($.map((be,ne)=>{const Oe=D[ne]??"",Ce=HT(Oe);return[be,Ce?{gz:Oe,nabeum:Ce.name,element:Ce.element,code:Ce.code}:null]}));B.push(Fn("()",pe))}f.length>0&&u.length>0&&B.push(...sAe({selectedDaeList:u,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),h.length>0&&B.push(...cAe({seYears:h,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),p.length>0&&B.push(...uAe({wolMonths:p,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X}})),g.length>0&&B.push(...dAe({ilDays:g,daeList:f,natal:D,basis:r,unified:a,dayEl:q,baseDayStem:H,show:{tenGod:K,twelveUnseong:U,twelveShinsal:z,shinsal:V,nabeum:J},shinsalSettings:{baseBranch:re,era:Y,gaehwa:X},dayBoundaryRule:M}));const oe=xU({topic:x,subTopic:w,timeMode:_,teacherMode:E}),me=(Vb(B.join(`

`))??"").toString();return{header:se,body:me,guide:oe}}function fAe(e){const{header:t,body:n,guide:r}=$U(e);return[t,"",n,"",r].join(`
`)}function qT(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),c=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${c}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const c=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=c.slice(0,2),f=c.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function hAe(e){const{header:t,body:n}=MU(e),r=e.relationMode==="couple"?qT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function mAe(e){const{header:t,body:n}=$U(e),r=e.relationMode==="couple"?qT(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function pAe(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function gAe(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function yAe(e){return e?`    .
`:""}function bAe(e,t){if(e!=="couple")return"";const n=qT(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Dd(e){return De(e)}function vAe(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function S3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=De(n??"");return i||(r<=2?"--":"")})}function xAe(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Dd(at(t)||""),i=Dd(kt(t)||""),a=Dd(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function _Ae(e,t){const n=S3(e),r=S3(t);return{solarKo:n,lunarKo:r}}function Uk(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function wAe(e,t,n){return e?"solar":t?"lunar":"solar"}function SAe(e,t,n,r,i,a,o,c){return Uk(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,c)}function EAe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Dd(at(a)||""),c=Dd(kt(a)||""),u=Dd(gt(a,t)||"");return[o,c,u,""]}function kAe(e,t){return t&&e?e.stem+e.branch:""}function AAe(e,t,n){const i=[...FT(e)];return n&&t&&t.length===2&&(i[3]=t),i}function TAe(e){const t=m7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=aA(t);return{percent:n,category:Y4(n)}}function OAe(e){const t=vU(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,c=a?Number(a[2]):1,u=1,f=a?a[3]:"",h=n>0?CAe(n,o):i*10;return{gz:f,age:h,startYear:o,startMonth:c,startDay:u,endYear:o+10}})}function jAe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function NAe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function E3(e){return vAe(e)}function CAe(e,t){return t-e+1}function MAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:c,input:u}){const{tone:f,friendMode:h,teacherMode:p,partnerId:g,mainCategory:x,subCategory:w,relationMode:_,activeTab:E,isMultiMode:T,multiTab:N,selectedDaeIdx:O,rangeControls:P,extraQuestions:M,sections:D}=u,$=zr(qt=>qt.list),{date:H,setDate:q}=ui();S.useEffect(()=>{q(new Date)},[e.id,q]);const K=S.useMemo(()=>g?$.find(qt=>qt.id===g)??null:null,[g,$]),U=e.mingSikType??"/",z=S.useMemo(()=>H??new Date,[H]),V=S.useMemo(()=>xAe(r,z,U),[r,z,U]),J=S.useMemo(()=>c?V:{dae:null,se:null,wol:null,il:null},[c,V]),Q=Vm(qt=>qt.manualHour),Y=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:X,lunarKo:re}=S.useMemo(()=>_Ae(t,n),[t,n]),ue=S.useMemo(()=>Uk(X,Q,Y),[X,Q,Y]),se=S.useMemo(()=>Uk(re,Q,Y),[re,Q,Y]),B=S.useMemo(()=>EAe(e,U),[e,U]),W=E3(ue),ae=E3(se),Z=wAe(W,ae),oe=S.useMemo(()=>SAe(Z,W,ae,ue,se,B,Q,Y),[Z,W,ae,ue,se,B,Q,Y]),me=S.useMemo(()=>Y&&Q?Q.stem+Q.branch:oe[3]||"",[Q,oe,Y]),pe=kAe(Q,Y),be=S.useMemo(()=>AAe(e,pe,Y),[e,pe,Y]),ne=c?E:"",Oe=x==="love"||x==="compat",ve=Oe&&_==="couple"?K??null:null,Ze=Oe?_:void 0,Ne=S.useMemo(()=>Av({natal:be,tab:ne,chain:J,hourKey:me}),[be,ne,J,me]),{percent:_e,category:je}=S.useMemo(()=>TAe(be),[be]),Ie=S.useMemo(()=>OAe(e),[e]),Ve=S.useMemo(()=>jAe($??[],e.id),[$,e.id]),bt=S.useMemo(()=>O.map(qt=>Ie[qt]).filter(qt=>!!qt),[O,Ie]),xt=S.useMemo(()=>N===""?P.seYearsList:[],[N,P.seYearsList]),Pt=S.useMemo(()=>N===""?P.wolMonthsList:[],[N,P.wolMonthsList]),fe=S.useMemo(()=>N===""?P.ilDaysList:[],[N,P.ilDaysList]),Me=S.useMemo(()=>e?oAe({ms:e,natal:be,chain:J,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:x,subTopic:w,relationMode:_,teacherMode:p,sections:D}):"",[e,i,a,ne,J,Ne,_e,je,be,x,w,_,ve,p,D]),Be=S.useMemo(()=>!e||!T||!o?"":fAe({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:x,subTopic:w,timeMode:"multi",teacherMode:p,sections:D}),[e,T,o,xt,bt,Ie,Pt,fe,be,i,a,Ne,_e,je,x,w,Ze,ve,p,h,D]),lt=S.useMemo(()=>bAe(_,K),[_,K]),jt=T?Be:Me,yt=S.useMemo(()=>gAe(f),[f]),Zn=S.useMemo(()=>yAe(h),[h]),mi=S.useMemo(()=>jt||lt?`${jt}${lt}
${yt}${Zn}`:"",[yt,Zn,jt,lt]),pi=S.useMemo(()=>NAe(mi,M),[mi,M]),Cs=S.useMemo(()=>e?T?mAe({ms:e,natal:be,basis:i,includeTenGod:a,unified:Ne,percent:_e,category:je,selectedDaeList:bt,daeList:Ie,seYears:xt,wolMonths:Pt,ilDays:fe,topic:x,subTopic:w,timeMode:"multi",relationMode:Ze,partnerMs:ve,teacherMode:p,sections:D}):hAe({ms:e,natal:be,chain:J,basis:i,tab:ne,unified:Ne,percent:_e,category:je,topic:x,subTopic:w,relationMode:_,partnerMs:ve,teacherMode:p,sections:D}):"",[e,T,be,i,a,Ne,_e,je,bt,Ie,xt,Pt,fe,x,w,_,Ze,ve,p,h,D,J,ne]),Ms=S.useMemo(()=>{const qt=Cs.trim();if(qt)return qt;const hn=pAe(jt).trim();return hn||jt.trim()},[Cs,jt]);return{date:H,setDate:q,partnerMs:K,partnerOptions:Ve,daeList:Ie,tabForLogic:ne,baseText:jt,basePrompt:mi,finalText:pi,infoOnlyText:Ms,allowManualHour:Y,activePillars:oe}}function k3(e,t=1200){const[n,r]=S.useState(!1),i=!!(e&&e.trim().length>0),a=S.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function PAe(e,t){const{copied:n,canCopy:r,onCopy:i}=k3(e),{copied:a,canCopy:o,onCopy:c}=k3(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:c}}function DAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=zr(K=>K._rtUserId),u=T2e()??o??null,f=Br(K=>K.loaded),h=Br(K=>K.userId),p=Br(K=>K.plan),g=S.useMemo(()=>bd(!u||!f||h!==u?"FREE":p??null),[u,f,h,p]),x=S.useMemo(()=>Yy(g),[g]),w=x.canUseMultiMode,_=x.canUseLuckTabs,E=x.canUseAllPrompts?"full":"locked",T=N2e({msId:e.id,canUseMultiMode:w,canUseLuckTabs:_}),N=MAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:w,canUseLuckTabs:_,input:T}),{copiedAll:O,copiedInfo:P,canCopyAll:M,canCopyInfo:D,onCopyAll:$,onCopyInfoOnly:H}=PAe(N.finalText,N.infoOnlyText);function q(K,U){T.setMainCategory(K),T.setSubCategory(U?.[0]?.key??"overview")}return{sections:T.sections,toggleSection:T.toggleSection,tone:T.tone,setTone:T.setTone,friendMode:T.friendMode,setFriendMode:T.setFriendMode,teacherMode:T.teacherMode,setTeacherMode:T.setTeacherMode,date:N.date,setDate:N.setDate,planTier:g,promptAccess:E,canUseMultiMode:w,canUseLuckTabs:_,partnerId:T.partnerId,setPartnerId:T.setPartnerId,partnerMs:N.partnerMs,mainCategory:T.mainCategory,subCategory:T.subCategory,setSubCategory:T.setSubCategory,relationMode:T.relationMode,setRelationMode:T.setRelationMode,activeTab:T.activeTab,setActiveTab:T.setActiveTab,isMultiMode:T.isMultiMode,setIsMultiMode:T.setIsMultiMode,multiTab:T.multiTab,setMultiTab:T.setMultiTab,selectedDaeIdx:T.selectedDaeIdx,handleToggleDae:T.handleToggleDae,rangeControls:T.rangeControls,partnerOptions:N.partnerOptions,daeList:N.daeList,tabForLogic:N.tabForLogic,baseText:N.baseText,basePrompt:N.basePrompt,finalText:N.finalText,infoOnlyText:N.infoOnlyText,copiedAll:O,copiedInfo:P,canCopyAll:E==="full"&&M,canCopyInfo:E==="full"&&D,onCopyAll:$,onCopyInfoOnly:H,handleMainCategoryChange:q,setQuestionDraft:T.setQuestionDraft,questionDraft:T.questionDraft,extraQuestions:T.extraQuestions,setExtraQuestions:T.setExtraQuestions,handleAddQuestion:T.handleAddQuestion,handleRemoveQuestion:T.handleRemoveQuestion,handleClearQuestions:T.handleClearQuestions,allowManualHour:N.allowManualHour,activePillars:N.activePillars}}function RAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=DAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),c=b3[o.mainCategory];if(!e)return v.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",f=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return v.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[u?v.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[v.jsx("div",{className:"text-lg font-semibold",children:"  "}),v.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",v.jsx("br",{}),"    100   !"]})]})}):null,v.jsx(m2e,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:h,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),v.jsx(p2e,{sections:o.sections,toggleSection:o.toggleSection}),v.jsx(g2e,{tone:o.tone,toneMeta:E2e,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:g=>o.setFriendMode(g.target.checked),teacherMode:o.teacherMode,setTeacherMode:g=>o.setTeacherMode(g.target.checked)}),v.jsx(y2e,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:A2e,currentSubList:c,onMainCategoryChange:g=>o.handleMainCategoryChange(g,b3[g]),onSubCategoryChange:o.setSubCategory}),v.jsx(b2e,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),v.jsx(v2e,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:g=>{!o.canUseMultiMode&&g||o.setIsMultiMode(g)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?v.jsx(_2e,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(g=>({gz:g.gz,age:g.age,startYear:g.startYear,endYear:g.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):v.jsx(x2e,{tabs:k2e,activeTab:o.tabForLogic,setActiveTab:g=>{!o.canUseLuckTabs&&g!==""||o.setActiveTab(g)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),v.jsx(w2e,{questionDraft:o.questionDraft,onChangeDraft:g=>o.setQuestionDraft(g.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),v.jsx(S2e,{value:o.finalText,lockSelection:u})]})}function LAe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o]=S.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function IAe(){const e=zr(r=>r.loading),t=qn(r=>r.loaded),n=Br(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const A3="app_session_started_at_ms",$Ae=7200*1e3;function BAe(){const e=sessionStorage.getItem(A3),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(A3,String(n)),n}return t}function zAe(e=Date.now()){const t=BAe();return Math.max(0,e-t)}function UAe(e,t=Date.now()){return zAe(t)>=e}async function FAe(e,t){const{data:n,error:r}=await Le.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function HAe(e,t,n){const{error:r}=await Le.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const GAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Ed(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Ed).join(",")}]`:GAe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Ed(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function qAe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function YAe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Ed(t.select(t.store.getState()));const o=qAe(async p=>{try{await HAe(e,t.dbKey,p),a=Ed(p)}catch(g){console.error(`[settings] save failed key=${t.dbKey}`,g)}},n),c=p=>{r=!0;try{t.apply(p),a=Ed(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||c(p)},f=async()=>{const p=await FAe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const g=t.select(p);Ed(g)!==a&&o(g)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:h}}function KAe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function US(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function WAe(e){S.useEffect(()=>{if(!e)return;const t=[];t.push(YAe(e,{dbKey:"promptCopy.sections",store:Wb,select:o=>o.sections,apply:o=>Wb.setState({sections:o}),validate:KAe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,c,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const h=window.setTimeout(()=>{r.delete(o),u()},c);r.set(o,h)},a=Le.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},c=>{if(UAe($Ae)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!US(c))return;const u=c.new,f=c.old,h=_=>US(_)&&typeof _.setting_key=="string"?_.setting_key:null,p=_=>US(_)?_.value:null,g=h(u)??h(f);if(!g)return;const x=t.find(_=>_.dbKey===g);if(!x)return;const w=typeof c.eventType=="string"?c.eventType:"";if(w==="INSERT"||w==="UPDATE"){x.applyRemote(p(u));return}x.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(c)):o.onChange(c)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Le.removeChannel(a)}},[e])}function VAe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){S.useEffect(()=>{const r=Le;(async()=>{const{data:o,error:c}=await r.auth.getSession();if(c){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,c)=>{const u=c?.user?.id??null;t(!!c),e(u),n(!0),c||zr.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function ZAe(e){VAe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),WAe(e.userId);const t=zr(a=>a.migrateLocalToServer),n=zr(a=>a.loadFromServer),r=qn(a=>a.loadFromServer),i=Br(a=>a.loadFromServer);S.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),S.useEffect(()=>{e.isLoggedIn&&(async()=>(await t(),await n(),await r()))()},[e.isLoggedIn,t,n,r])}function XAe(e){const[t,n]=S.useState(()=>e.length>0?e[0].id:""),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[c,u]=S.useState(null),[f,h]=S.useState(!0),[p,g]=S.useState(!1),[x,w]=S.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:c,setEditing:u,showToday:f,setShowToday:h,showCouple:p,setShowCouple:g,openCustom:x,setOpenCustom:w}}function JAe(e){const t=ui(i=>i.date),n=ui(i=>i.rule),r=su(e);return S.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=wv(r,t),a=i>=0?r[i]?.gz??null:null,o=at(t),c=kt(t),u=gt(t,n);return{dae:a,se:o,wol:c,il:u}},[e,r,t,n])}const QAe=e=>typeof e=="string"&&e.length>=2,eTe=e=>Array.isArray(e)&&e.length===4&&e.every(QAe);function tTe({list:e,currentId:t,settings:n,emptyMs:r}){const i=S.useMemo(()=>e.find(g=>g.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,c=S.useMemo(()=>FT(o),[o]),u=JAe(o),f=Br(g=>g.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:c,chain:u,isValidPillars:eTe,canAdd:f,voidBasis:h,samjaeBasis:p}}function nTe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:c,setShowCouple:u,setCurrentId:f,setEditing:h}){const{settings:p,saveToServer:g,loaded:x}=qn();S.useEffect(()=>{!r||!x||g()},[r,x,p,g]);const w=S.useCallback(()=>{if(!e){kn.error("   1   .");return}i(!0)},[e,i]),_=S.useCallback(()=>{if(!e){kn.error("   1   .");return}a(!0)},[e,a]),E=S.useCallback(M=>{f(M.id),o(!1),c(!1),u(!1);const D=new Date;D.setHours(12,0,0,0),ui.getState().setDate(D),t&&n?.id===M.id&&(c(!1),u(!1),o(!1))},[n,t,f,o,c,u]),T=S.useCallback(M=>{h(M),f(M.id),o(!1),c(!1),u(!1)},[h,f,o,c,u]),N=S.useCallback(()=>{const M=zr.getState().list[0]?.id??"";f(M),c(!0),u(!1)},[f,c,u]),O=S.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,c,u,o,i]),P=S.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1)},[f,c,u,o]);return{openAdd:w,openCustomModal:_,handleSidebarView:E,handleSidebarEdit:T,handleSidebarDeleteView:N,handleWizardSave:O,handleCustomSave:P}}const BU="https://t1.daumcdn.net/kas/static/ba.min.js",rTe="//t1.daumcdn.net/kas/static/ba.min.js";let Vh=null,Zh=null;function zU(){return typeof window<"u"&&typeof document<"u"}function T3(e){return typeof e=="object"&&e!==null}function UU(){if(!zU())return!1;const e=window;if(!T3(e))return!1;const t=e.adfit;return T3(t)?typeof t.destroy=="function":!1}function FU(){return Array.from(document.querySelectorAll(`script[src="${BU}"], script[src="${rTe}"]`))}function HU(e){return e.getAttribute("data-adfit-scan")==="1"}function iTe(){const t=FU().filter(n=>!HU(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function O3(){return document.body??document.head??document.documentElement}function FS(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",f)},o=()=>{i||(i=!0,a(),n())},c=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),f=()=>c();e.addEventListener("load",u),e.addEventListener("error",f),window.setTimeout(()=>{UU(),o()},t)})}function j3(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=BU,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function Fk(e){return zU()?(e?.mode??"boot")==="boot"?Vh||(Vh=(async()=>{if(iTe(),UU())return{inserted:!1};const r=FU().filter(a=>!HU(a))[0];if(r)return await FS(r,2500),{inserted:!1};const i=j3(!1);return O3().appendChild(i),await FS(i,4e3),{inserted:!0}})().finally(()=>{Vh=null}),Vh):Zh||(Zh=(async()=>{const n=j3(!0);O3().appendChild(n);try{return await FS(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{Zh=null}),Zh):Promise.resolve({inserted:!1})}function aTe({enabled:e}){return S.useEffect(()=>{e&&Fk({mode:"boot"})},[e]),null}function N3(e){return typeof e=="object"&&e!==null}function oTe(e){const t=window;if(!N3(t))return;const n=t.adfit;if(!N3(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function Ic({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:c=!0}){const u=S.useRef(!1),f=S.useRef(!1),h=S.useMemo(()=>({...c?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,c,o]);return S.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await Fk({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),S.useEffect(()=>{if(!r||!i||f.current)return;f.current=!0;let p=!1;return(async()=>{try{if(await Fk({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),S.useEffect(()=>()=>{oTe(e),u.current=!1,f.current=!1},[e]),r?v.jsx("div",{className:a,style:h,children:v.jsx("div",{style:c?{width:t,height:n}:void 0,children:v.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function C3(){return Date.now()}function sTe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function lTe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function cTe({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,hideForHours:a=3,rightPx:o=16,topPx:c=120,breakpointClassName:u="hidden desk:block"}){const f=S.useMemo(()=>`adfit_side_hide_until:${t}`,[t]),[h,p]=S.useState(!1),[g,x]=S.useState(!1),[w,_]=S.useState(!1);if(S.useEffect(()=>{if(!e){p(!1),x(!1),_(!1);return}if(sTe(f)>C3()){_(!0),p(!1),x(!1);return}_(!1),x(!0);let N=0;const O=()=>{N||(N=window.requestAnimationFrame(()=>{N=0;const P=window.scrollY||0;p(P>=i)}))};return O(),window.addEventListener("scroll",O,{passive:!0}),()=>{N&&window.cancelAnimationFrame(N),window.removeEventListener("scroll",O)}},[e,i,f]),!e||w)return null;const E=()=>{lTe(f,C3()+a*60*60*1e3),_(!0),p(!1),x(!1)};return v.jsx("div",{className:u,style:{position:"fixed",right:o,top:c,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:v.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:v.jsxs("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:[v.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:v.jsx("button",{type:"button",onClick:E,"aria-label":" ",style:{border:0,background:"transparent",cursor:"pointer",fontSize:14,padding:"6px 8px"},children:""})}),v.jsx(Ic,{enabled:g,isVisible:h,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})]})})})}const M3="DAN-GW4jrUdfiXklZ12U",P3="DAN-CeRuC0yKzSAs5Gju",uTe="DAN-G16gewnPhZou1D9y",dTe="DAN-rdKe9ZODmrZR4hho",fTe="DAN-INfSKh1pW2cEtWNu",hTe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function D3(e){return typeof e=="object"&&e!==null}function mTe(e){return D3(e)?typeof e.plan=="string"?e.plan:D3(e.ent)&&typeof e.ent.plan=="string"?e.ent.plan:null:null}function pTe(){const e=LAe();ZAe(e);const t=IAe();return e.authChecked?e.isLoggedIn?e.adminMode?v.jsx(mU,{}):t.entLoaded?t.settingsLoaded?t.loading?v.jsx("main",{className:"flex min-h-screen items-center justify-center",children:v.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):v.jsx(gTe,{isLoggedIn:e.isLoggedIn}):v.jsx("main",{className:"flex min-h-screen items-center justify-center",children:v.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):v.jsx("main",{className:"flex min-h-screen items-center justify-center",children:v.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):v.jsx(Fke,{}):v.jsx("main",{className:"flex min-h-screen items-center justify-center",children:v.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function gTe({isLoggedIn:e}){const{list:t}=zr(),n=qn(h=>h.settings),r=XAe(t),i=tTe({list:t,currentId:r.currentId,settings:n,emptyMs:hTe}),a=nTe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing}),o=Br(h=>h),u=mTe(o)!=="PRO",f=i.hasCurrent&&!r.showToday&&!r.showCouple&&!r.wizardOpen&&!r.editing;return v.jsxs("div",{className:"min-h-screen pb-16",children:[v.jsx(aTe,{enabled:u}),v.jsx("div",{className:"hidden desk:block",children:v.jsx(cTe,{enabled:u,adUnit:fTe,width:160,height:600,showAfterScrollY:0,hideForHours:24,rightPx:16,topPx:120,breakpointClassName:"hidden xl:block"})}),v.jsx(Wce,{onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),v.jsx(h2e,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),v.jsx(l$,{position:"top-center"}),v.jsx(Due,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView}),r.showToday&&v.jsx(DW,{}),r.wizardOpen&&v.jsxs(v.Fragment,{children:[v.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),v.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:v.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:v.jsx(Ote,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"pt-18 pb-4",children:v.jsx(Hie,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),v.jsx("div",{children:v.jsx(bce,{data:i.current})}),v.jsx(Uke,{ms:i.current}),u&&f&&n.showPromptBox&&v.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:[v.jsx("div",{className:"hidden md:block",children:v.jsx(Ic,{enabled:!0,adUnit:P3,width:728,height:90})}),v.jsx("div",{className:"md:hidden",children:v.jsx(Ic,{enabled:!0,adUnit:M3,width:320,height:50})})]}),n.showPromptBox&&v.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:v.jsx(RAe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),u&&f&&v.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[v.jsx("div",{className:"hidden md:block",children:v.jsx(Ic,{enabled:!0,adUnit:dTe,width:728,height:90})}),v.jsx("div",{className:"md:hidden",children:v.jsx(Ic,{enabled:!0,adUnit:uTe,width:320,height:50})})]})]}),r.showCouple&&v.jsx("div",{className:"pt-18 pb-4",children:v.jsx($ke,{people:t})}),u&&!f&&v.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[v.jsx("div",{className:"hidden md:block",children:v.jsx(Ic,{enabled:!0,adUnit:P3,width:728,height:90})}),v.jsx("div",{className:"md:hidden",children:v.jsx(Ic,{enabled:!0,adUnit:M3,width:320,height:50})})]}),r.editing&&v.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:v.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:v.jsx(Vue,{item:r.editing,onClose:()=>r.setEditing(null)})})}),v.jsx(rue,{onShowToday:()=>{r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{r.setShowCouple(!0),r.setShowToday(!1)}}),v.jsx(Bke,{})]})}function yTe(){const e=ya(),[t,n]=S.useState(null),[r,i]=S.useState(null);return S.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),v.jsxs("div",{className:"p-4 text-white",children:[v.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),v.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),v.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function bTe(){const e=ya(),t=Kk(),[n,r]=S.useState("  ...");return S.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),c=a.get("error_description");if(o){r(` : ${decodeURIComponent(c??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:f}=await Le.auth.exchangeCodeForSession(u);if(f){r(`  : ${f.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),v.jsx("main",{className:"min-h-screen flex items-center justify-center",children:v.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function vTe(e){return typeof e=="object"&&e!==null}function xTe(e){if(!vTe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function _Te({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r}){const i=S.useRef(null),a=S.useRef(!1),o=S.useRef(""),c=S.useRef(!1);return S.useEffect(()=>{o.current=n??""},[n]),S.useEffect(()=>{if(!e)return;const u=async()=>{if(!a.current){a.current=!0;try{const{data:h}=await Le.auth.getSession();if(!h.session?.user?.id)return;const g=o.current||null,{data:x,error:w}=await Le.rpc("ping_activity",{p_last_path:g});if(w)return;const _=xTe(x);if(!_)return;_.upgraded_to_basic===!0&&!c.current&&(c.current=!0,r?.())}finally{a.current=!1}}};u(),i.current=window.setInterval(()=>void u(),t);const f=()=>{document.visibilityState==="visible"&&u()};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f),i.current&&window.clearInterval(i.current),i.current=null}},[e,t,r]),null}function wTe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function STe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function ETe(e){return e<=0?0:Math.floor(Math.random()*e)}function kTe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["  ~_~","    !","  ","    !"," .",",  ."," , ,  !"],hideHintHours:r=3,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const c=S.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,f]=S.useState(!1),[h,p]=S.useState(()=>ETe(n.length)),g=S.useRef(null),x=S.useCallback(E=>{if(typeof document>"u")return;const T=`${Math.max(0,Math.floor(E))}px`;document.documentElement.style.setProperty(o,T)},[o]);if(S.useEffect(()=>{if(n.length<=0){p(0);return}p(E=>E%n.length)},[n.length]),S.useEffect(()=>{if(!e){f(!1);return}const E=wTe(c),T=Date.now();if(E>T){f(!1);return}const N=window.setTimeout(()=>f(!0),900);return()=>window.clearTimeout(N)},[e,c]),S.useEffect(()=>{if(!e||!u||n.length<=1)return;const E=window.setInterval(()=>{p(T=>T+1>=n.length?0:T+1)},i);return()=>window.clearInterval(E)},[e,u,n.length,i]),S.useEffect(()=>{if(!e||!u){x(0);return}const E=g.current;if(!E){x(0);return}const T=()=>{const N=Math.ceil(E.getBoundingClientRect().height);x(N)};if(T(),typeof ResizeObserver<"u"){const N=new ResizeObserver(T);return N.observe(E),()=>{N.disconnect(),x(0)}}return window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T),x(0)}},[e,u,x]),!e)return null;const w=()=>{STe(c,Date.now()+r*60*60*1e3),f(!1),x(0)},_=n[h]??"";return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?v.jsx("div",{ref:g,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[999] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:v.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[v.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:_,children:_}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[v.jsx("button",{type:"button",onClick:w,"aria-label":" ",title:"",className:"w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:""}),v.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-6 h-6 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 20",fill:"none","aria-hidden":"true",children:[v.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),v.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,v.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&v.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:v.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[_,v.jsx("button",{type:"button",onClick:w,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700","aria-label":" ",title:"",children:""}),v.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),v.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:v.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[v.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),v.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function ATe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function TTe({open:e,onClose:t}){const n=S.useMemo(()=>ATe(48),[]);return S.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?v.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[v.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),v.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>v.jsx("span",{style:{position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`}},i))}),v.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-3xl mb-2",children:""}),v.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),v.jsxs("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:[" 100  ",v.jsx("b",{children:"BASIC"}),"    "]})]}),v.jsx("div",{className:"mt-4 flex justify-center gap-2",children:v.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800",children:""})})]})]}):null}function OTe(){const e=ya(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=S.useState(!1),a=S.useCallback(()=>{Br.getState().loadFromServer(),i(!0)},[]);return v.jsxs(v.Fragment,{children:[v.jsx(_Te,{enabled:n,path:t,onBasicUnlocked:a}),v.jsx(kTe,{enabled:n}),v.jsx(TTe,{open:r,onClose:()=>i(!1)})]})}pH.createRoot(document.getElementById("root")).render(v.jsx(S.StrictMode,{children:v.jsxs(CG,{children:[v.jsx(OTe,{}),v.jsxs(lG,{children:[v.jsx(dd,{path:"/auth/callback",element:v.jsx(bTe,{})}),v.jsx(dd,{path:"/",element:v.jsx(pTe,{})}),v.jsx(dd,{path:"/admin",element:v.jsx(mU,{})}),v.jsx(dd,{path:"/impersonate",element:v.jsx(yTe,{})}),v.jsx(dd,{path:"*",element:v.jsx(oG,{to:"/",replace:!0})})]})]})}));
