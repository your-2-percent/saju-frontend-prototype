function Ek(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var X_={exports:{}},ph={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function gH(){if(mC)return ph;mC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ph.Fragment=t,ph.jsx=n,ph.jsxs=n,ph}var pC;function yH(){return pC||(pC=1,X_.exports=gH()),X_.exports}var x=yH();const XI="harim.theme",AS="harim.settings.v1";function JI(){try{const e=localStorage.getItem(XI);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(AS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function QI(e){try{localStorage.setItem(XI,e);const t=localStorage.getItem(AS),n=t?JSON.parse(t):{};localStorage.setItem(AS,JSON.stringify({...n,theme:e}))}catch{}}function e3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=JI()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");e3(e)}catch{}})();var J_={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function vH(){if(gC)return nt;gC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function A(B,K,ae){this.props=B,this.context=K,this.refs=E,this.updater=ae||_}A.prototype.isReactComponent={},A.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=A.prototype;function j(B,K,ae){this.props=B,this.context=K,this.refs=E,this.updater=ae||_}var P=j.prototype=new C;P.constructor=j,w(P,A.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function D(){}var $={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function Y(B,K,ae){var V=ae.ref;return{$$typeof:e,type:B,key:K,ref:V!==void 0?V:null,props:ae}}function W(B,K){return Y(B.type,K,B.props)}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function G(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ae){return K[ae]})}var Z=/\/+/g;function X(B,K){return typeof B=="object"&&B!==null&&B.key!=null?G(""+B.key):K.toString(36)}function Q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(D,D):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,K,ae,V,oe){var pe=typeof B;(pe==="undefined"||pe==="boolean")&&(B=null);var ye=!1;if(B===null)ye=!0;else switch(pe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(B.$$typeof){case e:case t:ye=!0;break;case m:return ye=B._init,q(ye(B._payload),K,ae,V,oe)}}if(ye)return oe=oe(B),ye=V===""?"."+X(B,0):V,M(oe)?(ae="",ye!=null&&(ae=ye.replace(Z,"$&/")+"/"),q(oe,K,ae,"",function(Se){return Se})):oe!=null&&(H(oe)&&(oe=W(oe,ae+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(Z,"$&/")+"/")+ye)),K.push(oe)),1;ye=0;var ue=V===""?".":V+":";if(M(B))for(var te=0;te<B.length;te++)V=B[te],pe=ue+X(V,te),ye+=q(V,K,ae,pe,oe);else if(te=b(B),typeof te=="function")for(B=te.call(B),te=0;!(V=B.next()).done;)V=V.value,pe=ue+X(V,te++),ye+=q(V,K,ae,pe,oe);else if(pe==="object"){if(typeof B.then=="function")return q(Q(B),K,ae,V,oe);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(B,K,ae){if(B==null)return B;var V=[],oe=0;return q(B,V,"","",function(pe){return K.call(ae,pe,oe++)}),V}function ie(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(ae){(B._status===0||B._status===-1)&&(B._status=1,B._result=ae)},function(ae){(B._status===0||B._status===-1)&&(B._status=2,B._result=ae)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var fe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},se={map:J,forEach:function(B,K,ae){J(B,function(){K.apply(this,arguments)},ae)},count:function(B){var K=0;return J(B,function(){K++}),K},toArray:function(B){return J(B,function(K){return K})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return nt.Activity=p,nt.Children=se,nt.Component=A,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=j,nt.StrictMode=r,nt.Suspense=u,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,nt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},nt.cache=function(B){return function(){return B.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(B,K,ae){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var V=w({},B.props),oe=B.key;if(K!=null)for(pe in K.key!==void 0&&(oe=""+K.key),K)!U.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(V[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)V.children=ae;else if(1<pe){for(var ye=Array(pe),ue=0;ue<pe;ue++)ye[ue]=arguments[ue+2];V.children=ye}return Y(B.type,oe,V)},nt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},nt.createElement=function(B,K,ae){var V,oe={},pe=null;if(K!=null)for(V in K.key!==void 0&&(pe=""+K.key),K)U.call(K,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(oe[V]=K[V]);var ye=arguments.length-2;if(ye===1)oe.children=ae;else if(1<ye){for(var ue=Array(ye),te=0;te<ye;te++)ue[te]=arguments[te+2];oe.children=ue}if(B&&B.defaultProps)for(V in ye=B.defaultProps,ye)oe[V]===void 0&&(oe[V]=ye[V]);return Y(B,pe,oe)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(B){return{$$typeof:c,render:B}},nt.isValidElement=H,nt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:ie}},nt.memo=function(B,K){return{$$typeof:f,type:B,compare:K===void 0?null:K}},nt.startTransition=function(B){var K=$.T,ae={};$.T=ae;try{var V=B(),oe=$.S;oe!==null&&oe(ae,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(D,fe)}catch(pe){fe(pe)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),$.T=K}},nt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},nt.use=function(B){return $.H.use(B)},nt.useActionState=function(B,K,ae){return $.H.useActionState(B,K,ae)},nt.useCallback=function(B,K){return $.H.useCallback(B,K)},nt.useContext=function(B){return $.H.useContext(B)},nt.useDebugValue=function(){},nt.useDeferredValue=function(B,K){return $.H.useDeferredValue(B,K)},nt.useEffect=function(B,K){return $.H.useEffect(B,K)},nt.useEffectEvent=function(B){return $.H.useEffectEvent(B)},nt.useId=function(){return $.H.useId()},nt.useImperativeHandle=function(B,K,ae){return $.H.useImperativeHandle(B,K,ae)},nt.useInsertionEffect=function(B,K){return $.H.useInsertionEffect(B,K)},nt.useLayoutEffect=function(B,K){return $.H.useLayoutEffect(B,K)},nt.useMemo=function(B,K){return $.H.useMemo(B,K)},nt.useOptimistic=function(B,K){return $.H.useOptimistic(B,K)},nt.useReducer=function(B,K,ae){return $.H.useReducer(B,K,ae)},nt.useRef=function(B){return $.H.useRef(B)},nt.useState=function(B){return $.H.useState(B)},nt.useSyncExternalStore=function(B,K,ae){return $.H.useSyncExternalStore(B,K,ae)},nt.useTransition=function(){return $.H.useTransition()},nt.version="19.2.1",nt}var yC;function qd(){return yC||(yC=1,J_.exports=vH()),J_.exports}var S=qd();const Yt=ui(S),bH=Ek({__proto__:null,default:Yt},[S]);var Q_={exports:{}},gh={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function xH(){return vC||(vC=1,(function(e){function t(q,J){var ie=q.length;q.push(J);e:for(;0<ie;){var fe=ie-1>>>1,se=q[fe];if(0<i(se,J))q[fe]=J,q[ie]=se,ie=fe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],ie=q.pop();if(ie!==J){q[0]=ie;e:for(var fe=0,se=q.length,B=se>>>1;fe<B;){var K=2*(fe+1)-1,ae=q[K],V=K+1,oe=q[V];if(0>i(ae,ie))V<se&&0>i(oe,ae)?(q[fe]=oe,q[V]=ie,fe=V):(q[fe]=ae,q[K]=ie,fe=K);else if(V<se&&0>i(oe,ie))q[fe]=oe,q[V]=ie,fe=V;else break e}}return J}function i(q,J){var ie=q.sortIndex-J.sortIndex;return ie!==0?ie:q.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],m=1,p=null,g=3,b=!1,_=!1,w=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function P(q){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=q)r(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(f)}}function M(q){if(w=!1,P(q),!_)if(n(u)!==null)_=!0,D||(D=!0,G());else{var J=n(f);J!==null&&Q(M,J.startTime-q)}}var D=!1,$=-1,U=5,Y=-1;function W(){return E?!0:!(e.unstable_now()-Y<U)}function H(){if(E=!1,D){var q=e.unstable_now();Y=q;var J=!0;try{e:{_=!1,w&&(w=!1,C($),$=-1),b=!0;var ie=g;try{t:{for(P(q),p=n(u);p!==null&&!(p.expirationTime>q&&W());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,g=p.priorityLevel;var se=fe(p.expirationTime<=q);if(q=e.unstable_now(),typeof se=="function"){p.callback=se,P(q),J=!0;break t}p===n(u)&&r(u),P(q)}else r(u);p=n(u)}if(p!==null)J=!0;else{var B=n(f);B!==null&&Q(M,B.startTime-q),J=!1}}break e}finally{p=null,g=ie,b=!1}J=void 0}}finally{J?G():D=!1}}}var G;if(typeof j=="function")G=function(){j(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,X=Z.port2;Z.port1.onmessage=H,G=function(){X.postMessage(null)}}else G=function(){A(H,0)};function Q(q,J){$=A(function(){q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(q){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var ie=g;g=J;try{return q()}finally{g=ie}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=g;g=q;try{return J()}finally{g=ie}},e.unstable_scheduleCallback=function(q,J,ie){var fe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?fe+ie:fe):ie=fe,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ie+se,q={id:m++,callback:J,priorityLevel:q,startTime:ie,expirationTime:se,sortIndex:-1},ie>fe?(q.sortIndex=ie,t(f,q),n(u)===null&&q===n(f)&&(w?(C($),$=-1):w=!0,Q(M,ie-fe))):(q.sortIndex=se,t(u,q),_||b||(_=!0,D||(D=!0,G()))),q},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(q){var J=g;return function(){var ie=g;g=J;try{return q.apply(this,arguments)}finally{g=ie}}}})(tw)),tw}var bC;function _H(){return bC||(bC=1,ew.exports=xH()),ew.exports}var nw={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function wH(){if(xC)return Sr;xC=1;var e=qd();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,m)},Sr.flushSync=function(u){var f=o.T,m=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=m,r.d.f()}},Sr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Sr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Sr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):m==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Sr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Sr.requestFormReset=function(u){r.d.r(u)},Sr.unstable_batchedUpdates=function(u,f){return u(f)},Sr.useFormState=function(u,f,m){return o.H.useFormState(u,f,m)},Sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sr.version="19.2.1",Sr}var _C;function t3(){if(_C)return nw.exports;_C=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nw.exports=wH(),nw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wC;function SH(){if(wC)return gh;wC=1;var e=_H(),t=qd(),n=t3();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,v=l;;){var T=h.return;if(T===null)break;var O=T.alternate;if(O===null){if(v=T.return,v!==null){h=v;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===h)return u(T),s;if(O===v)return u(T),l;O=O.sibling}throw Error(r(188))}if(h.return!==v.return)h=T,v=O;else{for(var I=!1,F=T.child;F;){if(F===h){I=!0,h=T,v=O;break}if(F===v){I=!0,v=T,h=O;break}F=F.sibling}if(!I){for(F=O.child;F;){if(F===h){I=!0,h=O,v=T;break}if(F===v){I=!0,v=O,h=T;break}F=F.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case j:return s.displayName||"Context";case C:return(s._context.displayName||"Context")+".Consumer";case P:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return l=s.displayName||null,l!==null?l:X(s.type)||"Memo";case U:l=s._payload,s=s._init;try{return X(s(l))}catch{}}return null}var Q=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},fe=[],se=-1;function B(s){return{current:s}}function K(s){0>se||(s.current=fe[se],fe[se]=null,se--)}function ae(s,l){se++,fe[se]=s.current,s.current=l}var V=B(null),oe=B(null),pe=B(null),ye=B(null);function ue(s,l){switch(ae(pe,l),ae(oe,s),ae(V,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Ij(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Ij(l),s=$j(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(V),ae(V,s)}function te(){K(V),K(oe),K(pe)}function Se(s){s.memoizedState!==null&&ae(ye,s);var l=V.current,h=$j(l,s.type);l!==h&&(ae(oe,s),ae(V,h))}function je(s){oe.current===s&&(K(V),K(oe)),ye.current===s&&(K(ye),dh._currentValue=ie)}var de,Le;function Oe(s){if(de===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",Le=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+s+Le}var Ce=!1;function Pe(s,l){if(!s||Ce)return"";Ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(xe){var be=xe}Reflect.construct(s,[],Ae)}else{try{Ae.call()}catch(xe){be=xe}s.call(Ae.prototype)}}else{try{throw Error()}catch(xe){be=xe}(Ae=s())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(xe){if(xe&&be&&typeof xe.stack=="string")return[xe.stack,be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),I=O[0],F=O[1];if(I&&F){var ne=I.split(`
`),me=F.split(`
`);for(T=v=0;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(v===ne.length||T===me.length)for(v=ne.length-1,T=me.length-1;1<=v&&0<=T&&ne[v]!==me[T];)T--;for(;1<=v&&0<=T;v--,T--)if(ne[v]!==me[T]){if(v!==1||T!==1)do if(v--,T--,0>T||ne[v]!==me[T]){var Ee=`
`+ne[v].replace(" at new "," at ");return s.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",s.displayName)),Ee}while(1<=v&&0<=T);break}}}finally{Ce=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Oe(h):""}function Qe(s,l){switch(s.tag){case 26:case 27:case 5:return Oe(s.type);case 16:return Oe("Lazy");case 13:return s.child!==l&&l!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Pe(s.type,!1);case 11:return Pe(s.type.render,!1);case 1:return Pe(s.type,!0);case 31:return Oe("Activity");default:return""}}function st(s){try{var l="",h=null;do l+=Qe(s,h),h=s,s=s.return;while(s);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ht=Object.prototype.hasOwnProperty,hn=e.unstable_scheduleCallback,on=e.unstable_cancelCallback,ge=e.unstable_shouldYield,De=e.unstable_requestPaint,Xe=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,At=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,hi=e.unstable_LowPriority,mi=e.unstable_IdlePriority,js=e.log,Cs=e.unstable_setDisableYieldValue,Ft=null,mn=null;function pi(s){if(typeof js=="function"&&Cs(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Ft,s)}catch{}}var Or=Math.clz32?Math.clz32:rx,Rl=Math.log,nx=Math.LN2;function rx(s){return s>>>=0,s===0?32:31-(Rl(s)/nx|0)|0}var Ll=256,Il=262144,$l=4194304;function To(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function su(s,l,h){var v=s.pendingLanes;if(v===0)return 0;var T=0,O=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var F=v&134217727;return F!==0?(v=F&~O,v!==0?T=To(v):(I&=F,I!==0?T=To(I):h||(h=F&~s,h!==0&&(T=To(h))))):(F=v&~O,F!==0?T=To(F):I!==0?T=To(I):h||(h=v&~s,h!==0&&(T=To(h)))),T===0?0:l!==0&&l!==T&&(l&O)===0&&(O=T&-T,h=l&-l,O>=h||O===32&&(h&4194048)!==0)?l:T}function Bl(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function ix(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gp(){var s=$l;return $l<<=1,($l&62914560)===0&&($l=4194304),s}function hf(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Ao(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ax(s,l,h,v,T,O){var I=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var F=s.entanglements,ne=s.expirationTimes,me=s.hiddenUpdates;for(h=I&~h;0<h;){var Ee=31-Or(h),Ae=1<<Ee;F[Ee]=0,ne[Ee]=-1;var be=me[Ee];if(be!==null)for(me[Ee]=null,Ee=0;Ee<be.length;Ee++){var xe=be[Ee];xe!==null&&(xe.lane&=-536870913)}h&=~Ae}v!==0&&yp(s,v,0),O!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=O&~(I&~l))}function yp(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var v=31-Or(l);s.entangledLanes|=l,s.entanglements[v]=s.entanglements[v]|1073741824|h&261930}function vp(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-Or(h),T=1<<v;T&l|s[v]&l&&(s[v]|=l),h&=~T}}function bp(s,l){var h=l&-l;return h=(h&42)!==0?1:Hr(h),(h&(s.suspendedLanes|l))!==0?0:h}function Hr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function He(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function mf(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:sC(s.type))}function pf(s,l){var h=J.p;try{return J.p=s,l()}finally{J.p=h}}var ya=Math.random().toString(36).slice(2),Tn="__reactFiber$"+ya,Xn="__reactProps$"+ya,Oo="__reactContainer$"+ya,qa="__reactEvents$"+ya,xp="__reactListeners$"+ya,ox="__reactHandles$"+ya,_p="__reactResources$"+ya,zl="__reactMarker$"+ya;function gf(s){delete s[Tn],delete s[Xn],delete s[qa],delete s[xp],delete s[ox]}function jo(s){var l=s[Tn];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Oo]||h[Tn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=qj(s);s!==null;){if(h=s[Tn])return h;s=qj(s)}return l}s=h,h=s.parentNode}return null}function Ns(s){if(s=s[Tn]||s[Oo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Ya(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Ms(s){var l=s[_p];return l||(l=s[_p]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function An(s){s[zl]=!0}var wp=new Set,Sp={};function Co(s,l){Ka(s,l),Ka(s+"Capture",l)}function Ka(s,l){for(Sp[s]=l,s=0;s<l.length;s++)wp.add(l[s])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yf={},vf={};function Hl(s){return Ht.call(vf,s)?!0:Ht.call(yf,s)?!1:Ul.test(s)?vf[s]=!0:(yf[s]=!0,!1)}function ct(s,l,h){if(Hl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function Dt(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Fr(s,l,h,v){if(v===null)s.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+v)}}function In(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function No(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function bf(s,l,h){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,O=v.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(I){h=""+I,O.call(this,I)}}),Object.defineProperty(s,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function tt(s){if(!s._valueTracker){var l=No(s)?"checked":"value";s._valueTracker=bf(s,l,""+s[l])}}function Jt(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=No(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function Ps(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var lu=/[\n"\\]/g;function Wt(s){return s.replace(lu,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xf(s,l,h,v,T,O,I,F){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+In(l)):s.value!==""+In(l)&&(s.value=""+In(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?va(s,I,In(l)):h!=null?va(s,I,In(h)):v!=null&&s.removeAttribute("value"),T==null&&O!=null&&(s.defaultChecked=!!O),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+In(F):s.removeAttribute("name")}function Fl(s,l,h,v,T,O,I,F){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),l!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||l!=null)){tt(s);return}h=h!=null?""+In(h):"",l=l!=null?""+In(l):h,F||l===s.value||(s.value=l),s.defaultValue=l}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=F?s.checked:!!v,s.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),tt(s)}function va(s,l,h){l==="number"&&Ps(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function $t(s,l,h,v){if(s=s.options,l){l={};for(var T=0;T<h.length;T++)l["$"+h[T]]=!0;for(h=0;h<s.length;h++)T=l.hasOwnProperty("$"+s[h].value),s[h].selected!==T&&(s[h].selected=T),T&&v&&(s[h].defaultSelected=!0)}else{for(h=""+In(h),l=null,T=0;T<s.length;T++){if(s[T].value===h){s[T].selected=!0,v&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function Wa(s,l,h){if(l!=null&&(l=""+In(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+In(h):""}function Ds(s,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(r(92));if(Q(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=In(l),s.defaultValue=h,v=s.textContent,v===h&&v!==""&&v!==null&&(s.value=v),tt(s)}function Hi(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rs(s,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":v?s.setProperty(l,h):typeof h!="number"||h===0||_f.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function cu(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var T in l)v=l[T],l.hasOwnProperty(T)&&h[T]!==v&&Rs(s,T,v)}else for(var O in l)l.hasOwnProperty(O)&&Rs(s,O,l[O])}function Gl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(s){return wf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Gr(){}var du=null;function ql(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Is=null,et=null;function gi(s){var l=Ns(s);if(l&&(s=l.stateNode)){var h=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if(xf(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Wt(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var T=v[Xn]||null;if(!T)throw Error(r(90));xf(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===s.form&&Jt(v)}break e;case"textarea":Wa(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&$t(s,!!h.multiple,l,!1)}}}var Ot=!1;function Sf(s,l,h){if(Ot)return s(l,h);Ot=!0;try{var v=s(l);return v}finally{if(Ot=!1,(Is!==null||et!==null)&&(bg(),Is&&(l=Is,s=et,et=Is=null,gi(l),s)))for(l=0;l<s.length;l++)gi(s[l])}}function Mo(s,l){var h=s.stateNode;if(h===null)return null;var v=h[Xn]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(yi)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Yl=!1}var Fi=null,Po=null,pn=null;function Va(){if(pn)return pn;var s,l=Po,h=l.length,v,T="value"in Fi?Fi.value:Fi.textContent,O=T.length;for(s=0;s<h&&l[s]===T[s];s++);var I=h-s;for(v=1;v<=I&&l[h-v]===T[O-v];v++);return pn=T.slice(s,1<v?1-v:void 0)}function Kl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Wl(){return!0}function Ep(){return!1}function cr(s){function l(h,v,T,O,I){this._reactName=h,this._targetInst=T,this.type=v,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(h=s[F],this[F]=h?h(O):O[F]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Wl:Ep,this.isPropagationStopped=Ep,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),l}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=cr(ba),$s=p({},ba,{view:0,detail:0}),ht=cr($s),Ef,jr,xa,Vl=p({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xa&&(xa&&s.type==="mousemove"?(Ef=s.screenX-xa.screenX,jr=s.screenY-xa.screenY):jr=Ef=0,xa=s),Ef)},movementY:function(s){return"movementY"in s?s.movementY:jr}}),kp=cr(Vl),kf=p({},Vl,{dataTransfer:0}),sx=cr(kf),Tp=p({},$s,{relatedTarget:0}),Tf=cr(Tp),lx=p({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Af=cr(lx),cx=p({},ba,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gi=cr(cx),ux=p({},ba,{data:0}),Of=cr(ux),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Op[s])?!!l[s]:!1}function Cf(){return jf}var jp=p({},$s,{key:function(s){if(s.key){var l=Za[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Kl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ap[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(s){return s.type==="keypress"?Kl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Kl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Cp=cr(jp),dx=p({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=cr(dx),Nf=p({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),fx=cr(Nf),Mp=p({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pp=cr(Mp),hu=p({},Vl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Do=cr(hu),hx=p({},ba,{newState:0,oldState:0}),Zl=cr(hx),qr=[9,13,27,32],mu=yi&&"CompositionEvent"in window,Bs=null;yi&&"documentMode"in document&&(Bs=document.documentMode);var mx=yi&&"TextEvent"in window&&!Bs,pu=yi&&(!mu||Bs&&8<Bs&&11>=Bs),gu=" ",Dp=!1;function Rp(s,l){switch(s){case"keyup":return qr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zs=!1;function bi(s,l){switch(s){case"compositionend":return Mf(l);case"keypress":return l.which!==32?null:(Dp=!0,gu);case"textInput":return s=l.data,s===gu&&Dp?null:s;default:return null}}function Us(s,l){if(zs)return s==="compositionend"||!mu&&Rp(s,l)?(s=Va(),pn=Po=Fi=null,zs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return pu&&l.locale!=="ko"?null:l.data;default:return null}}var px={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qi(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!px[s.type]:l==="textarea"}function Lp(s,l,h,v){Is?et?et.push(v):et=[v]:Is=v,l=Tg(l,"onChange"),0<l.length&&(h=new fu("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var Yi=null,Xl=null;function Jl(s){Nj(s,0)}function Ql(s){var l=Ya(s);if(Jt(l))return s}function ec(s,l){if(s==="change")return l}var Ip=!1;if(yi){var Ki;if(yi){var Hs="oninput"in document;if(!Hs){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),Hs=typeof $p.oninput=="function"}Ki=Hs}else Ki=!1;Ip=Ki&&(!document.documentMode||9<document.documentMode)}function yu(){Yi&&(Yi.detachEvent("onpropertychange",Bp),Xl=Yi=null)}function Bp(s){if(s.propertyName==="value"&&Ql(Xl)){var l=[];Lp(l,Xl,s,ql(s)),Sf(Jl,l)}}function _a(s,l,h){s==="focusin"?(yu(),Yi=l,Xl=h,Yi.attachEvent("onpropertychange",Bp)):s==="focusout"&&yu()}function gx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ql(Xl)}function Fs(s,l){if(s==="click")return Ql(l)}function yx(s,l){if(s==="input"||s==="change")return Ql(l)}function wa(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Jn=typeof Object.is=="function"?Object.is:wa;function Gs(s,l){if(Jn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var T=h[v];if(!Ht.call(l,T)||!Jn(s[T],l[T]))return!1}return!0}function vu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tc(s,l){var h=vu(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=vu(h)}}function bu(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?bu(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function nc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ps(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Ps(s.document)}return l}function Xa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var xu=yi&&"documentMode"in document&&11>=document.documentMode,Ja=null,_u=null,rc=null,qs=!1;function zp(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;qs||Ja==null||Ja!==Ps(v)||(v=Ja,"selectionStart"in v&&Xa(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),rc&&Gs(rc,v)||(rc=v,v=Tg(_u,"onSelect"),0<v.length&&(l=new fu("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=Ja)))}function Qa(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Ys={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},wu={},Up={};yi&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Qn(s){if(wu[s])return wu[s];if(!Ys[s])return s;var l=Ys[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Up)return wu[s]=l[h];return s}var ic=Qn("animationend"),Hp=Qn("animationiteration"),ac=Qn("animationstart"),vx=Qn("transitionrun"),Fp=Qn("transitionstart"),bx=Qn("transitioncancel"),Ks=Qn("transitionend"),Gp=new Map,eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eo.push("scrollEnd");function Yr(s,l){Gp.set(s,l),Co(l,[s])}var oc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Kr=[],_r=0,Su=0;function sc(){for(var s=_r,l=Su=_r=0;l<s;){var h=Kr[l];Kr[l++]=null;var v=Kr[l];Kr[l++]=null;var T=Kr[l];Kr[l++]=null;var O=Kr[l];if(Kr[l++]=null,v!==null&&T!==null){var I=v.pending;I===null?T.next=T:(T.next=I.next,I.next=T),v.pending=T}O!==0&&Ws(h,T,O)}}function to(s,l,h,v){Kr[_r++]=s,Kr[_r++]=l,Kr[_r++]=h,Kr[_r++]=v,Su|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function Pf(s,l,h,v){return to(s,l,h,v),lc(s)}function Wi(s,l){return to(s,null,null,l),lc(s)}function Ws(s,l,h){s.lanes|=h;var v=s.alternate;v!==null&&(v.lanes|=h);for(var T=!1,O=s.return;O!==null;)O.childLanes|=h,v=O.alternate,v!==null&&(v.childLanes|=h),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(T=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,T&&l!==null&&(T=31-Or(h),s=O.hiddenUpdates,v=s[T],v===null?s[T]=[l]:v.push(l),l.lane=h|536870912),O):null}function lc(s){if(50<ih)throw ih=0,__=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ro={};function xx(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,l,h,v){return new xx(s,l,h,v)}function Eu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Vi(s,l){var h=s.alternate;return h===null?(h=wr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Df(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function cc(s,l,h,v,T,O){var I=0;if(v=s,typeof s=="function")Eu(s)&&(I=1);else if(typeof s=="string")I=iH(s,h,V.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=wr(31,h,l,T),s.elementType=Y,s.lanes=O,s;case w:return Lo(h.children,T,O,l);case E:I=8,T|=24;break;case A:return s=wr(12,h,l,T|2),s.elementType=A,s.lanes=O,s;case M:return s=wr(13,h,l,T),s.elementType=M,s.lanes=O,s;case D:return s=wr(19,h,l,T),s.elementType=D,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:I=10;break e;case C:I=9;break e;case P:I=11;break e;case $:I=14;break e;case U:I=16,v=null;break e}I=29,h=Error(r(130,s===null?"null":typeof s,"")),v=null}return l=wr(I,h,l,T),l.elementType=s,l.type=v,l.lanes=O,l}function Lo(s,l,h,v){return s=wr(7,s,v,l),s.lanes=h,s}function ku(s,l,h){return s=wr(6,s,null,l),s.lanes=h,s}function Rf(s){var l=wr(18,null,null,0);return l.stateNode=s,l}function Lf(s,l,h){return l=wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var d=new WeakMap;function y(s,l){if(typeof s=="object"&&s!==null){var h=d.get(s);return h!==void 0?h:(l={value:s,source:l,stack:st(l)},d.set(s,l),l)}return{value:s,source:l,stack:st(l)}}var k=[],N=0,R=null,z=0,ee=[],ce=0,ve=null,Te=1,Me="";function Ge(s,l){k[N++]=z,k[N++]=R,R=s,z=l}function it(s,l,h){ee[ce++]=Te,ee[ce++]=Me,ee[ce++]=ve,ve=s;var v=Te;s=Me;var T=32-Or(v)-1;v&=~(1<<T),h+=1;var O=32-Or(l)+T;if(30<O){var I=T-T%5;O=(v&(1<<I)-1).toString(32),v>>=I,T-=I,Te=1<<32-Or(l)+T|h<<T|v,Me=O+s}else Te=1<<O|h<<T|v,Me=s}function $n(s){s.return!==null&&(Ge(s,1),it(s,1,0))}function gn(s){for(;s===R;)R=k[--N],k[N]=null,z=k[--N],k[N]=null;for(;s===ve;)ve=ee[--ce],ee[ce]=null,Me=ee[--ce],ee[ce]=null,Te=ee[--ce],ee[ce]=null}function Cr(s,l){ee[ce++]=Te,ee[ce++]=Me,ee[ce++]=ve,Te=l.id,Me=l.overflow,ve=s}var bt=null,xt=null,ut=!1,no=null,Wr=!1,Tu=Error(r(519));function ro(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(y(l,s)),Tu}function If(s){var l=s.stateNode,h=s.type,v=s.memoizedProps;switch(l[Tn]=s,l[Xn]=v,h){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(h=0;h<oh.length;h++)ft(oh[h],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),Fl(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),Ds(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||Rj(l.textContent,h)?(v.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),v.onScroll!=null&&ft("scroll",l),v.onScrollEnd!=null&&ft("scrollend",l),v.onClick!=null&&(l.onclick=Gr),l=!0):l=!1,l||ro(s,!0)}function sn(s){for(bt=s.return;bt;)switch(bt.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:bt=bt.return}}function Sa(s){if(s!==bt)return!1;if(!ut)return sn(s),ut=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||L_(s.type,s.memoizedProps)),h=!h),h&&xt&&ro(s),sn(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));xt=Gj(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));xt=Gj(s)}else l===27?(l=xt,ll(s.type)?(s=U_,U_=null,xt=s):xt=l):xt=bt?Xi(s.stateNode.nextSibling):null;return!0}function Io(){xt=bt=null,ut=!1}function $f(){var s=no;return s!==null&&(Jr===null?Jr=s:Jr.push.apply(Jr,s),no=null),s}function uc(s){no===null?no=[s]:no.push(s)}var dc=B(null),io=null,Ea=null;function Vs(s,l,h){ae(dc,l._currentValue),l._currentValue=h}function $o(s){s._currentValue=dc.current,K(dc)}function _x(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function wx(s,l,h,v){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var O=T.dependencies;if(O!==null){var I=T.child;O=O.firstContext;e:for(;O!==null;){var F=O;O=T;for(var ne=0;ne<l.length;ne++)if(F.context===l[ne]){O.lanes|=h,F=O.alternate,F!==null&&(F.lanes|=h),_x(O.return,h,s),v||(I=null);break e}O=F.next}}else if(T.tag===18){if(I=T.return,I===null)throw Error(r(341));I.lanes|=h,O=I.alternate,O!==null&&(O.lanes|=h),_x(I,h,s),I=null}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===s){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}}function Au(s,l,h,v){s=null;for(var T=l,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var I=T.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var F=T.type;Jn(T.pendingProps.value,I.value)||(s!==null?s.push(F):s=[F])}}else if(T===ye.current){if(I=T.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(dh):s=[dh])}T=T.return}s!==null&&wx(l,s,h,v),l.flags|=262144}function qp(s){for(s=s.firstContext;s!==null;){if(!Jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function fc(s){io=s,Ea=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ur(s){return x2(io,s)}function Yp(s,l){return io===null&&fc(s),x2(s,l)}function x2(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ea===null){if(s===null)throw Error(r(308));Ea=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ea=Ea.next=l;return h}var eU=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,v){s.push(v)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},tU=e.unstable_scheduleCallback,nU=e.unstable_NormalPriority,On={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sx(){return{controller:new eU,data:new Map,refCount:0}}function Bf(s){s.refCount--,s.refCount===0&&tU(nU,function(){s.controller.abort()})}var zf=null,Ex=0,Ou=0,ju=null;function rU(s,l){if(zf===null){var h=zf=[];Ex=0,Ou=A_(),ju={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Ex++,l.then(_2,_2),l}function _2(){if(--Ex===0&&zf!==null){ju!==null&&(ju.status="fulfilled");var s=zf;zf=null,Ou=0,ju=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function iU(s,l){var h=[],v={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return s.then(function(){v.status="fulfilled",v.value=l;for(var T=0;T<h.length;T++)(0,h[T])(l)},function(T){for(v.status="rejected",v.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),v}var w2=q.S;q.S=function(s,l){aj=Xe(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&rU(s,l),w2!==null&&w2(s,l)};var hc=B(null);function kx(){var s=hc.current;return s!==null?s:Bt.pooledCache}function Kp(s,l){l===null?ae(hc,hc.current):ae(hc,l.pool)}function S2(){var s=kx();return s===null?null:{parent:On._currentValue,pool:s}}var Cu=Error(r(460)),Tx=Error(r(474)),Wp=Error(r(542)),Vp={then:function(){}};function E2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function k2(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Gr,Gr),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,A2(s),s;default:if(typeof l.status=="string")l.then(Gr,Gr);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(v){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=v}},function(v){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,A2(s),s}throw pc=l,Cu}}function mc(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(pc=h,Cu):h}}var pc=null;function T2(){if(pc===null)throw Error(r(459));var s=pc;return pc=null,s}function A2(s){if(s===Cu||s===Wp)throw Error(r(483))}var Nu=null,Uf=0;function Zp(s){var l=Uf;return Uf+=1,Nu===null&&(Nu=[]),k2(Nu,s,l)}function Hf(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Xp(s,l){throw l.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function O2(s){function l(le,re){if(s){var he=le.deletions;he===null?(le.deletions=[re],le.flags|=16):he.push(re)}}function h(le,re){if(!s)return null;for(;re!==null;)l(le,re),re=re.sibling;return null}function v(le){for(var re=new Map;le!==null;)le.key!==null?re.set(le.key,le):re.set(le.index,le),le=le.sibling;return re}function T(le,re){return le=Vi(le,re),le.index=0,le.sibling=null,le}function O(le,re,he){return le.index=he,s?(he=le.alternate,he!==null?(he=he.index,he<re?(le.flags|=67108866,re):he):(le.flags|=67108866,re)):(le.flags|=1048576,re)}function I(le){return s&&le.alternate===null&&(le.flags|=67108866),le}function F(le,re,he,ke){return re===null||re.tag!==6?(re=ku(he,le.mode,ke),re.return=le,re):(re=T(re,he),re.return=le,re)}function ne(le,re,he,ke){var We=he.type;return We===w?Ee(le,re,he.props.children,ke,he.key):re!==null&&(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===U&&mc(We)===re.type)?(re=T(re,he.props),Hf(re,he),re.return=le,re):(re=cc(he.type,he.key,he.props,null,le.mode,ke),Hf(re,he),re.return=le,re)}function me(le,re,he,ke){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=Lf(he,le.mode,ke),re.return=le,re):(re=T(re,he.children||[]),re.return=le,re)}function Ee(le,re,he,ke,We){return re===null||re.tag!==7?(re=Lo(he,le.mode,ke,We),re.return=le,re):(re=T(re,he),re.return=le,re)}function Ae(le,re,he){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=ku(""+re,le.mode,he),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return he=cc(re.type,re.key,re.props,null,le.mode,he),Hf(he,re),he.return=le,he;case _:return re=Lf(re,le.mode,he),re.return=le,re;case U:return re=mc(re),Ae(le,re,he)}if(Q(re)||G(re))return re=Lo(re,le.mode,he,null),re.return=le,re;if(typeof re.then=="function")return Ae(le,Zp(re),he);if(re.$$typeof===j)return Ae(le,Yp(le,re),he);Xp(le,re)}return null}function be(le,re,he,ke){var We=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return We!==null?null:F(le,re,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return he.key===We?ne(le,re,he,ke):null;case _:return he.key===We?me(le,re,he,ke):null;case U:return he=mc(he),be(le,re,he,ke)}if(Q(he)||G(he))return We!==null?null:Ee(le,re,he,ke,null);if(typeof he.then=="function")return be(le,re,Zp(he),ke);if(he.$$typeof===j)return be(le,re,Yp(le,he),ke);Xp(le,he)}return null}function xe(le,re,he,ke,We){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return le=le.get(he)||null,F(re,le,""+ke,We);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:return le=le.get(ke.key===null?he:ke.key)||null,ne(re,le,ke,We);case _:return le=le.get(ke.key===null?he:ke.key)||null,me(re,le,ke,We);case U:return ke=mc(ke),xe(le,re,he,ke,We)}if(Q(ke)||G(ke))return le=le.get(he)||null,Ee(re,le,ke,We,null);if(typeof ke.then=="function")return xe(le,re,he,Zp(ke),We);if(ke.$$typeof===j)return xe(le,re,he,Yp(re,ke),We);Xp(re,ke)}return null}function Be(le,re,he,ke){for(var We=null,_t=null,Ue=re,at=re=0,pt=null;Ue!==null&&at<he.length;at++){Ue.index>at?(pt=Ue,Ue=null):pt=Ue.sibling;var wt=be(le,Ue,he[at],ke);if(wt===null){Ue===null&&(Ue=pt);break}s&&Ue&&wt.alternate===null&&l(le,Ue),re=O(wt,re,at),_t===null?We=wt:_t.sibling=wt,_t=wt,Ue=pt}if(at===he.length)return h(le,Ue),ut&&Ge(le,at),We;if(Ue===null){for(;at<he.length;at++)Ue=Ae(le,he[at],ke),Ue!==null&&(re=O(Ue,re,at),_t===null?We=Ue:_t.sibling=Ue,_t=Ue);return ut&&Ge(le,at),We}for(Ue=v(Ue);at<he.length;at++)pt=xe(Ue,le,at,he[at],ke),pt!==null&&(s&&pt.alternate!==null&&Ue.delete(pt.key===null?at:pt.key),re=O(pt,re,at),_t===null?We=pt:_t.sibling=pt,_t=pt);return s&&Ue.forEach(function(hl){return l(le,hl)}),ut&&Ge(le,at),We}function Ze(le,re,he,ke){if(he==null)throw Error(r(151));for(var We=null,_t=null,Ue=re,at=re=0,pt=null,wt=he.next();Ue!==null&&!wt.done;at++,wt=he.next()){Ue.index>at?(pt=Ue,Ue=null):pt=Ue.sibling;var hl=be(le,Ue,wt.value,ke);if(hl===null){Ue===null&&(Ue=pt);break}s&&Ue&&hl.alternate===null&&l(le,Ue),re=O(hl,re,at),_t===null?We=hl:_t.sibling=hl,_t=hl,Ue=pt}if(wt.done)return h(le,Ue),ut&&Ge(le,at),We;if(Ue===null){for(;!wt.done;at++,wt=he.next())wt=Ae(le,wt.value,ke),wt!==null&&(re=O(wt,re,at),_t===null?We=wt:_t.sibling=wt,_t=wt);return ut&&Ge(le,at),We}for(Ue=v(Ue);!wt.done;at++,wt=he.next())wt=xe(Ue,le,at,wt.value,ke),wt!==null&&(s&&wt.alternate!==null&&Ue.delete(wt.key===null?at:wt.key),re=O(wt,re,at),_t===null?We=wt:_t.sibling=wt,_t=wt);return s&&Ue.forEach(function(pH){return l(le,pH)}),ut&&Ge(le,at),We}function It(le,re,he,ke){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case b:e:{for(var We=he.key;re!==null;){if(re.key===We){if(We=he.type,We===w){if(re.tag===7){h(le,re.sibling),ke=T(re,he.props.children),ke.return=le,le=ke;break e}}else if(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===U&&mc(We)===re.type){h(le,re.sibling),ke=T(re,he.props),Hf(ke,he),ke.return=le,le=ke;break e}h(le,re);break}else l(le,re);re=re.sibling}he.type===w?(ke=Lo(he.props.children,le.mode,ke,he.key),ke.return=le,le=ke):(ke=cc(he.type,he.key,he.props,null,le.mode,ke),Hf(ke,he),ke.return=le,le=ke)}return I(le);case _:e:{for(We=he.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){h(le,re.sibling),ke=T(re,he.children||[]),ke.return=le,le=ke;break e}else{h(le,re);break}else l(le,re);re=re.sibling}ke=Lf(he,le.mode,ke),ke.return=le,le=ke}return I(le);case U:return he=mc(he),It(le,re,he,ke)}if(Q(he))return Be(le,re,he,ke);if(G(he)){if(We=G(he),typeof We!="function")throw Error(r(150));return he=We.call(he),Ze(le,re,he,ke)}if(typeof he.then=="function")return It(le,re,Zp(he),ke);if(he.$$typeof===j)return It(le,re,Yp(le,he),ke);Xp(le,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,re!==null&&re.tag===6?(h(le,re.sibling),ke=T(re,he),ke.return=le,le=ke):(h(le,re),ke=ku(he,le.mode,ke),ke.return=le,le=ke),I(le)):h(le,re)}return function(le,re,he,ke){try{Uf=0;var We=It(le,re,he,ke);return Nu=null,We}catch(Ue){if(Ue===Cu||Ue===Wp)throw Ue;var _t=wr(29,Ue,null,le.mode);return _t.lanes=ke,_t.return=le,_t}finally{}}}var gc=O2(!0),j2=O2(!1),Zs=!1;function Ax(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ox(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Js(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(kt&2)!==0){var T=v.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),v.pending=l,l=lc(s),Ws(s,null,h),l}return to(s,v,l,h),lc(s)}function Ff(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,vp(s,h)}}function jx(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var T=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?T=O=I:O=O.next=I,h=h.next}while(h!==null);O===null?T=O=l:O=O.next=l}else T=O=l;h={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var Cx=!1;function Gf(){if(Cx){var s=ju;if(s!==null)throw s}}function qf(s,l,h,v){Cx=!1;var T=s.updateQueue;Zs=!1;var O=T.firstBaseUpdate,I=T.lastBaseUpdate,F=T.shared.pending;if(F!==null){T.shared.pending=null;var ne=F,me=ne.next;ne.next=null,I===null?O=me:I.next=me,I=ne;var Ee=s.alternate;Ee!==null&&(Ee=Ee.updateQueue,F=Ee.lastBaseUpdate,F!==I&&(F===null?Ee.firstBaseUpdate=me:F.next=me,Ee.lastBaseUpdate=ne))}if(O!==null){var Ae=T.baseState;I=0,Ee=me=ne=null,F=O;do{var be=F.lane&-536870913,xe=be!==F.lane;if(xe?(mt&be)===be:(v&be)===be){be!==0&&be===Ou&&(Cx=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Be=s,Ze=F;be=l;var It=h;switch(Ze.tag){case 1:if(Be=Ze.payload,typeof Be=="function"){Ae=Be.call(It,Ae,be);break e}Ae=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ze.payload,be=typeof Be=="function"?Be.call(It,Ae,be):Be,be==null)break e;Ae=p({},Ae,be);break e;case 2:Zs=!0}}be=F.callback,be!==null&&(s.flags|=64,xe&&(s.flags|=8192),xe=T.callbacks,xe===null?T.callbacks=[be]:xe.push(be))}else xe={lane:be,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Ee===null?(me=Ee=xe,ne=Ae):Ee=Ee.next=xe,I|=be;if(F=F.next,F===null){if(F=T.shared.pending,F===null)break;xe=F,F=xe.next,xe.next=null,T.lastBaseUpdate=xe,T.shared.pending=null}}while(!0);Ee===null&&(ne=Ae),T.baseState=ne,T.firstBaseUpdate=me,T.lastBaseUpdate=Ee,O===null&&(T.shared.lanes=0),rl|=I,s.lanes=I,s.memoizedState=Ae}}function C2(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function N2(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)C2(h[s],l)}var Mu=B(null),Jp=B(0);function M2(s,l){s=Ko,ae(Jp,s),ae(Mu,l),Ko=s|l.baseLanes}function Nx(){ae(Jp,Ko),ae(Mu,Mu.current)}function Mx(){Ko=Jp.current,K(Mu),K(Jp)}var xi=B(null),Zi=null;function Qs(s){var l=s.alternate;ae(wn,wn.current&1),ae(xi,s),Zi===null&&(l===null||Mu.current!==null||l.memoizedState!==null)&&(Zi=s)}function Px(s){ae(wn,wn.current),ae(xi,s),Zi===null&&(Zi=s)}function P2(s){s.tag===22?(ae(wn,wn.current),ae(xi,s),Zi===null&&(Zi=s)):el()}function el(){ae(wn,wn.current),ae(xi,xi.current)}function _i(s){K(xi),Zi===s&&(Zi=null),K(wn)}var wn=B(0);function Qp(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||B_(h)||z_(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Bo=0,rt=null,Rt=null,jn=null,eg=!1,Pu=!1,yc=!1,tg=0,Yf=0,Du=null,aU=0;function yn(){throw Error(r(321))}function Dx(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Jn(s[h],l[h]))return!1;return!0}function Rx(s,l,h,v,T,O){return Bo=O,rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=s===null||s.memoizedState===null?gO:Zx,yc=!1,O=h(v,T),yc=!1,Pu&&(O=R2(l,h,v,T)),D2(s),O}function D2(s){q.H=Vf;var l=Rt!==null&&Rt.next!==null;if(Bo=0,jn=Rt=rt=null,eg=!1,Yf=0,Du=null,l)throw Error(r(300));s===null||Cn||(s=s.dependencies,s!==null&&qp(s)&&(Cn=!0))}function R2(s,l,h,v){rt=s;var T=0;do{if(Pu&&(Du=null),Yf=0,Pu=!1,25<=T)throw Error(r(301));if(T+=1,jn=Rt=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}q.H=yO,O=l(h,v)}while(Pu);return O}function oU(){var s=q.H,l=s.useState()[0];return l=typeof l.then=="function"?Kf(l):l,s=s.useState()[0],(Rt!==null?Rt.memoizedState:null)!==s&&(rt.flags|=1024),l}function Lx(){var s=tg!==0;return tg=0,s}function Ix(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function $x(s){if(eg){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}eg=!1}Bo=0,jn=Rt=rt=null,Pu=!1,Yf=tg=0,Du=null}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?rt.memoizedState=jn=s:jn=jn.next=s,jn}function Sn(){if(Rt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var l=jn===null?rt.memoizedState:jn.next;if(l!==null)jn=l,Rt=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},jn===null?rt.memoizedState=jn=s:jn=jn.next=s}return jn}function ng(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kf(s){var l=Yf;return Yf+=1,Du===null&&(Du=[]),s=k2(Du,s,l),l=rt,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?gO:Zx),s}function rg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Kf(s);if(s.$$typeof===j)return ur(s)}throw Error(r(438,String(s)))}function Bx(s){var l=null,h=rt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=rt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=ng(),rt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),v=0;v<s;v++)h[v]=W;return l.index++,h}function zo(s,l){return typeof l=="function"?l(s):l}function ig(s){var l=Sn();return zx(l,Rt,s)}function zx(s,l,h){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var T=s.baseQueue,O=v.pending;if(O!==null){if(T!==null){var I=T.next;T.next=O.next,O.next=I}l.baseQueue=T=O,v.pending=null}if(O=s.baseState,T===null)s.memoizedState=O;else{l=T.next;var F=I=null,ne=null,me=l,Ee=!1;do{var Ae=me.lane&-536870913;if(Ae!==me.lane?(mt&Ae)===Ae:(Bo&Ae)===Ae){var be=me.revertLane;if(be===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Ae===Ou&&(Ee=!0);else if((Bo&be)===be){me=me.next,be===Ou&&(Ee=!0);continue}else Ae={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=Ae,I=O):ne=ne.next=Ae,rt.lanes|=be,rl|=be;Ae=me.action,yc&&h(O,Ae),O=me.hasEagerState?me.eagerState:h(O,Ae)}else be={lane:Ae,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(F=ne=be,I=O):ne=ne.next=be,rt.lanes|=Ae,rl|=Ae;me=me.next}while(me!==null&&me!==l);if(ne===null?I=O:ne.next=F,!Jn(O,s.memoizedState)&&(Cn=!0,Ee&&(h=ju,h!==null)))throw h;s.memoizedState=O,s.baseState=I,s.baseQueue=ne,v.lastRenderedState=O}return T===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function Ux(s){var l=Sn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,T=h.pending,O=l.memoizedState;if(T!==null){h.pending=null;var I=T=T.next;do O=s(O,I.action),I=I.next;while(I!==T);Jn(O,l.memoizedState)||(Cn=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),h.lastRenderedState=O}return[O,v]}function L2(s,l,h){var v=rt,T=Sn(),O=ut;if(O){if(h===void 0)throw Error(r(407));h=h()}else h=l();var I=!Jn((Rt||T).memoizedState,h);if(I&&(T.memoizedState=h,Cn=!0),T=T.queue,Gx(B2.bind(null,v,T,s),[s]),T.getSnapshot!==l||I||jn!==null&&jn.memoizedState.tag&1){if(v.flags|=2048,Ru(9,{destroy:void 0},$2.bind(null,v,T,h,l),null),Bt===null)throw Error(r(349));O||(Bo&127)!==0||I2(v,l,h)}return h}function I2(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=rt.updateQueue,l===null?(l=ng(),rt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function $2(s,l,h,v){l.value=h,l.getSnapshot=v,z2(l)&&U2(s)}function B2(s,l,h){return h(function(){z2(l)&&U2(s)})}function z2(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Jn(s,h)}catch{return!0}}function U2(s){var l=Wi(s,2);l!==null&&Qr(l,s,2)}function Hx(s){var l=Nr();if(typeof s=="function"){var h=s;if(s=h(),yc){pi(!0);try{h()}finally{pi(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},l}function H2(s,l,h,v){return s.baseState=h,zx(s,Rt,typeof v=="function"?v:zo)}function sU(s,l,h,v,T){if(sg(s))throw Error(r(485));if(s=l.action,s!==null){var O={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){O.listeners.push(I)}};q.T!==null?h(!0):O.isTransition=!1,v(O),h=l.pending,h===null?(O.next=l.pending=O,F2(l,O)):(O.next=h.next,l.pending=h.next=O)}}function F2(s,l){var h=l.action,v=l.payload,T=s.state;if(l.isTransition){var O=q.T,I={};q.T=I;try{var F=h(T,v),ne=q.S;ne!==null&&ne(I,F),G2(s,l,F)}catch(me){Fx(s,l,me)}finally{O!==null&&I.types!==null&&(O.types=I.types),q.T=O}}else try{O=h(T,v),G2(s,l,O)}catch(me){Fx(s,l,me)}}function G2(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){q2(s,l,v)},function(v){return Fx(s,l,v)}):q2(s,l,h)}function q2(s,l,h){l.status="fulfilled",l.value=h,Y2(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,F2(s,h)))}function Fx(s,l,h){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,Y2(l),l=l.next;while(l!==v)}s.action=null}function Y2(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function K2(s,l){return l}function W2(s,l){if(ut){var h=Bt.formState;if(h!==null){e:{var v=rt;if(ut){if(xt){t:{for(var T=xt,O=Wr;T.nodeType!==8;){if(!O){T=null;break t}if(T=Xi(T.nextSibling),T===null){T=null;break t}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){xt=Xi(T.nextSibling),v=T.data==="F!";break e}}ro(v)}v=!1}v&&(l=h[0])}}return h=Nr(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K2,lastRenderedState:l},h.queue=v,h=hO.bind(null,rt,v),v.dispatch=h,v=Hx(!1),O=Vx.bind(null,rt,!1,v.queue),v=Nr(),T={state:l,dispatch:null,action:s,pending:null},v.queue=T,h=sU.bind(null,rt,T,O,h),T.dispatch=h,v.memoizedState=s,[l,h,!1]}function V2(s){var l=Sn();return Z2(l,Rt,s)}function Z2(s,l,h){if(l=zx(s,l,K2)[0],s=ig(zo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Kf(l)}catch(I){throw I===Cu?Wp:I}else v=l;l=Sn();var T=l.queue,O=T.dispatch;return h!==l.memoizedState&&(rt.flags|=2048,Ru(9,{destroy:void 0},lU.bind(null,T,h),null)),[v,O,s]}function lU(s,l){s.action=l}function X2(s){var l=Sn(),h=Rt;if(h!==null)return Z2(l,h,s);Sn(),l=l.memoizedState,h=Sn();var v=h.queue.dispatch;return h.memoizedState=s,[l,v,!1]}function Ru(s,l,h,v){return s={tag:s,create:h,deps:v,inst:l,next:null},l=rt.updateQueue,l===null&&(l=ng(),rt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s),s}function J2(){return Sn().memoizedState}function ag(s,l,h,v){var T=Nr();rt.flags|=s,T.memoizedState=Ru(1|l,{destroy:void 0},h,v===void 0?null:v)}function og(s,l,h,v){var T=Sn();v=v===void 0?null:v;var O=T.memoizedState.inst;Rt!==null&&v!==null&&Dx(v,Rt.memoizedState.deps)?T.memoizedState=Ru(l,O,h,v):(rt.flags|=s,T.memoizedState=Ru(1|l,O,h,v))}function Q2(s,l){ag(8390656,8,s,l)}function Gx(s,l){og(2048,8,s,l)}function cU(s){rt.flags|=4;var l=rt.updateQueue;if(l===null)l=ng(),rt.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function eO(s){var l=Sn().memoizedState;return cU({ref:l,nextImpl:s}),function(){if((kt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function tO(s,l){return og(4,2,s,l)}function nO(s,l){return og(4,4,s,l)}function rO(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function iO(s,l,h){h=h!=null?h.concat([s]):null,og(4,4,rO.bind(null,l,s),h)}function qx(){}function aO(s,l){var h=Sn();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&Dx(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function oO(s,l){var h=Sn();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&Dx(l,v[1]))return v[0];if(v=s(),yc){pi(!0);try{s()}finally{pi(!1)}}return h.memoizedState=[v,l],v}function Yx(s,l,h){return h===void 0||(Bo&1073741824)!==0&&(mt&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=sj(),rt.lanes|=s,rl|=s,h)}function sO(s,l,h,v){return Jn(h,l)?h:Mu.current!==null?(s=Yx(s,h,v),Jn(s,l)||(Cn=!0),s):(Bo&42)===0||(Bo&1073741824)!==0&&(mt&261930)===0?(Cn=!0,s.memoizedState=h):(s=sj(),rt.lanes|=s,rl|=s,l)}function lO(s,l,h,v,T){var O=J.p;J.p=O!==0&&8>O?O:8;var I=q.T,F={};q.T=F,Vx(s,!1,l,h);try{var ne=T(),me=q.S;if(me!==null&&me(F,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ee=iU(ne,v);Wf(s,l,Ee,Ei(s))}else Wf(s,l,v,Ei(s))}catch(Ae){Wf(s,l,{then:function(){},status:"rejected",reason:Ae},Ei())}finally{J.p=O,I!==null&&F.types!==null&&(I.types=F.types),q.T=I}}function uU(){}function Kx(s,l,h,v){if(s.tag!==5)throw Error(r(476));var T=cO(s).queue;lO(s,T,l,ie,h===null?uU:function(){return uO(s),h(v)})}function cO(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:ie},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function uO(s){var l=cO(s);l.next===null&&(l=s.alternate.memoizedState),Wf(s,l.next.queue,{},Ei())}function Wx(){return ur(dh)}function dO(){return Sn().memoizedState}function fO(){return Sn().memoizedState}function dU(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ei();s=Xs(h);var v=Js(l,s,h);v!==null&&(Qr(v,l,h),Ff(v,l,h)),l={cache:Sx()},s.payload=l;return}l=l.return}}function fU(s,l,h){var v=Ei();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},sg(s)?mO(l,h):(h=Pf(s,l,h,v),h!==null&&(Qr(h,s,v),pO(h,l,v)))}function hO(s,l,h){var v=Ei();Wf(s,l,h,v)}function Wf(s,l,h,v){var T={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(sg(s))mO(l,T);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var I=l.lastRenderedState,F=O(I,h);if(T.hasEagerState=!0,T.eagerState=F,Jn(F,I))return to(s,l,T,0),Bt===null&&sc(),!1}catch{}finally{}if(h=Pf(s,l,T,v),h!==null)return Qr(h,s,v),pO(h,l,v),!0}return!1}function Vx(s,l,h,v){if(v={lane:2,revertLane:A_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},sg(s)){if(l)throw Error(r(479))}else l=Pf(s,h,v,2),l!==null&&Qr(l,s,2)}function sg(s){var l=s.alternate;return s===rt||l!==null&&l===rt}function mO(s,l){Pu=eg=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function pO(s,l,h){if((h&4194048)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,vp(s,h)}}var Vf={readContext:ur,use:rg,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};Vf.useEffectEvent=yn;var gO={readContext:ur,use:rg,useCallback:function(s,l){return Nr().memoizedState=[s,l===void 0?null:l],s},useContext:ur,useEffect:Q2,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,ag(4194308,4,rO.bind(null,l,s),h)},useLayoutEffect:function(s,l){return ag(4194308,4,s,l)},useInsertionEffect:function(s,l){ag(4,2,s,l)},useMemo:function(s,l){var h=Nr();l=l===void 0?null:l;var v=s();if(yc){pi(!0);try{s()}finally{pi(!1)}}return h.memoizedState=[v,l],v},useReducer:function(s,l,h){var v=Nr();if(h!==void 0){var T=h(l);if(yc){pi(!0);try{h(l)}finally{pi(!1)}}}else T=l;return v.memoizedState=v.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},v.queue=s,s=s.dispatch=fU.bind(null,rt,s),[v.memoizedState,s]},useRef:function(s){var l=Nr();return s={current:s},l.memoizedState=s},useState:function(s){s=Hx(s);var l=s.queue,h=hO.bind(null,rt,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:qx,useDeferredValue:function(s,l){var h=Nr();return Yx(h,s,l)},useTransition:function(){var s=Hx(!1);return s=lO.bind(null,rt,s.queue,!0,!1),Nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var v=rt,T=Nr();if(ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Bt===null)throw Error(r(349));(mt&127)!==0||I2(v,l,h)}T.memoizedState=h;var O={value:h,getSnapshot:l};return T.queue=O,Q2(B2.bind(null,v,O,s),[s]),v.flags|=2048,Ru(9,{destroy:void 0},$2.bind(null,v,O,h,l),null),h},useId:function(){var s=Nr(),l=Bt.identifierPrefix;if(ut){var h=Me,v=Te;h=(v&~(1<<32-Or(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=tg++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=aU++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Wx,useFormState:W2,useActionState:W2,useOptimistic:function(s){var l=Nr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Vx.bind(null,rt,!0,h),h.dispatch=l,[s,l]},useMemoCache:Bx,useCacheRefresh:function(){return Nr().memoizedState=dU.bind(null,rt)},useEffectEvent:function(s){var l=Nr(),h={impl:s};return l.memoizedState=h,function(){if((kt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Zx={readContext:ur,use:rg,useCallback:aO,useContext:ur,useEffect:Gx,useImperativeHandle:iO,useInsertionEffect:tO,useLayoutEffect:nO,useMemo:oO,useReducer:ig,useRef:J2,useState:function(){return ig(zo)},useDebugValue:qx,useDeferredValue:function(s,l){var h=Sn();return sO(h,Rt.memoizedState,s,l)},useTransition:function(){var s=ig(zo)[0],l=Sn().memoizedState;return[typeof s=="boolean"?s:Kf(s),l]},useSyncExternalStore:L2,useId:dO,useHostTransitionStatus:Wx,useFormState:V2,useActionState:V2,useOptimistic:function(s,l){var h=Sn();return H2(h,Rt,s,l)},useMemoCache:Bx,useCacheRefresh:fO};Zx.useEffectEvent=eO;var yO={readContext:ur,use:rg,useCallback:aO,useContext:ur,useEffect:Gx,useImperativeHandle:iO,useInsertionEffect:tO,useLayoutEffect:nO,useMemo:oO,useReducer:Ux,useRef:J2,useState:function(){return Ux(zo)},useDebugValue:qx,useDeferredValue:function(s,l){var h=Sn();return Rt===null?Yx(h,s,l):sO(h,Rt.memoizedState,s,l)},useTransition:function(){var s=Ux(zo)[0],l=Sn().memoizedState;return[typeof s=="boolean"?s:Kf(s),l]},useSyncExternalStore:L2,useId:dO,useHostTransitionStatus:Wx,useFormState:X2,useActionState:X2,useOptimistic:function(s,l){var h=Sn();return Rt!==null?H2(h,Rt,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Bx,useCacheRefresh:fO};yO.useEffectEvent=eO;function Xx(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:p({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Jx={enqueueSetState:function(s,l,h){s=s._reactInternals;var v=Ei(),T=Xs(v);T.payload=l,h!=null&&(T.callback=h),l=Js(s,T,v),l!==null&&(Qr(l,s,v),Ff(l,s,v))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=Ei(),T=Xs(v);T.tag=1,T.payload=l,h!=null&&(T.callback=h),l=Js(s,T,v),l!==null&&(Qr(l,s,v),Ff(l,s,v))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Ei(),v=Xs(h);v.tag=2,l!=null&&(v.callback=l),l=Js(s,v,h),l!==null&&(Qr(l,s,h),Ff(l,s,h))}};function vO(s,l,h,v,T,O,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,O,I):l.prototype&&l.prototype.isPureReactComponent?!Gs(h,v)||!Gs(T,O):!0}function bO(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&Jx.enqueueReplaceState(l,l.state,null)}function vc(s,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(s=s.defaultProps){h===l&&(h=p({},h));for(var T in s)h[T]===void 0&&(h[T]=s[T])}return h}function xO(s){oc(s)}function _O(s){console.error(s)}function wO(s){oc(s)}function lg(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function SO(s,l,h){try{var v=s.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Qx(s,l,h){return h=Xs(h),h.tag=3,h.payload={element:null},h.callback=function(){lg(s,l)},h}function EO(s){return s=Xs(s),s.tag=3,s}function kO(s,l,h,v){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var O=v.value;s.payload=function(){return T(O)},s.callback=function(){SO(l,h,v)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){SO(l,h,v),typeof T!="function"&&(il===null?il=new Set([this]):il.add(this));var F=v.stack;this.componentDidCatch(v.value,{componentStack:F!==null?F:""})})}function hU(s,l,h,v,T){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&Au(l,h,T,!0),h=xi.current,h!==null){switch(h.tag){case 31:case 13:return Zi===null?xg():h.alternate===null&&vn===0&&(vn=3),h.flags&=-257,h.flags|=65536,h.lanes=T,v===Vp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),E_(s,v,T)),!1;case 22:return h.flags|=65536,v===Vp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),E_(s,v,T)),!1}throw Error(r(435,h.tag))}return E_(s,v,T),xg(),!1}if(ut)return l=xi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,v!==Tu&&(s=Error(r(422),{cause:v}),uc(y(s,h)))):(v!==Tu&&(l=Error(r(423),{cause:v}),uc(y(l,h))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,v=y(v,h),T=Qx(s.stateNode,v,T),jx(s,T),vn!==4&&(vn=2)),!1;var O=Error(r(520),{cause:v});if(O=y(O,h),rh===null?rh=[O]:rh.push(O),vn!==4&&(vn=2),l===null)return!0;v=y(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=T&-T,h.lanes|=s,s=Qx(h.stateNode,v,s),jx(h,s),!1;case 1:if(l=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(il===null||!il.has(O))))return h.flags|=65536,T&=-T,h.lanes|=T,T=EO(T),kO(T,s,h,v),jx(h,T),!1}h=h.return}while(h!==null);return!1}var e_=Error(r(461)),Cn=!1;function dr(s,l,h,v){l.child=s===null?j2(l,null,h,v):gc(l,s.child,h,v)}function TO(s,l,h,v,T){h=h.render;var O=l.ref;if("ref"in v){var I={};for(var F in v)F!=="ref"&&(I[F]=v[F])}else I=v;return fc(l),v=Rx(s,l,h,I,O,T),F=Lx(),s!==null&&!Cn?(Ix(s,l,T),Uo(s,l,T)):(ut&&F&&$n(l),l.flags|=1,dr(s,l,v,T),l.child)}function AO(s,l,h,v,T){if(s===null){var O=h.type;return typeof O=="function"&&!Eu(O)&&O.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=O,OO(s,l,O,v,T)):(s=cc(h.type,null,v,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(O=s.child,!l_(s,T)){var I=O.memoizedProps;if(h=h.compare,h=h!==null?h:Gs,h(I,v)&&s.ref===l.ref)return Uo(s,l,T)}return l.flags|=1,s=Vi(O,v),s.ref=l.ref,s.return=l,l.child=s}function OO(s,l,h,v,T){if(s!==null){var O=s.memoizedProps;if(Gs(O,v)&&s.ref===l.ref)if(Cn=!1,l.pendingProps=v=O,l_(s,T))(s.flags&131072)!==0&&(Cn=!0);else return l.lanes=s.lanes,Uo(s,l,T)}return t_(s,l,h,v,T)}function jO(s,l,h,v){var T=v.children,O=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(O=O!==null?O.baseLanes|h:h,s!==null){for(v=l.child=s.child,T=0;v!==null;)T=T|v.lanes|v.childLanes,v=v.sibling;v=T&~O}else v=0,l.child=null;return CO(s,l,O,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Kp(l,O!==null?O.cachePool:null),O!==null?M2(l,O):Nx(),P2(l);else return v=l.lanes=536870912,CO(s,l,O!==null?O.baseLanes|h:h,h,v)}else O!==null?(Kp(l,O.cachePool),M2(l,O),el(),l.memoizedState=null):(s!==null&&Kp(l,null),Nx(),el());return dr(s,l,T,h),l.child}function Zf(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function CO(s,l,h,v,T){var O=kx();return O=O===null?null:{parent:On._currentValue,pool:O},l.memoizedState={baseLanes:h,cachePool:O},s!==null&&Kp(l,null),Nx(),P2(l),s!==null&&Au(s,l,v,!0),l.childLanes=T,null}function cg(s,l){return l=dg({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function NO(s,l,h){return gc(l,s.child,null,h),s=cg(l,l.pendingProps),s.flags|=2,_i(l),l.memoizedState=null,s}function mU(s,l,h){var v=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ut){if(v.mode==="hidden")return s=cg(l,v),l.lanes=536870912,Zf(null,s);if(Px(l),(s=xt)?(s=Fj(s,Wr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ve!==null?{id:Te,overflow:Me}:null,retryLane:536870912,hydrationErrors:null},h=Rf(s),h.return=l,l.child=h,bt=l,xt=null)):s=null,s===null)throw ro(l);return l.lanes=536870912,null}return cg(l,v)}var O=s.memoizedState;if(O!==null){var I=O.dehydrated;if(Px(l),T)if(l.flags&256)l.flags&=-257,l=NO(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Cn||Au(s,l,h,!1),T=(h&s.childLanes)!==0,Cn||T){if(v=Bt,v!==null&&(I=bp(v,h),I!==0&&I!==O.retryLane))throw O.retryLane=I,Wi(s,I),Qr(v,s,I),e_;xg(),l=NO(s,l,h)}else s=O.treeContext,xt=Xi(I.nextSibling),bt=l,ut=!0,no=null,Wr=!1,s!==null&&Cr(l,s),l=cg(l,v),l.flags|=4096;return l}return s=Vi(s.child,{mode:v.mode,children:v.children}),s.ref=l.ref,l.child=s,s.return=l,s}function ug(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function t_(s,l,h,v,T){return fc(l),h=Rx(s,l,h,v,void 0,T),v=Lx(),s!==null&&!Cn?(Ix(s,l,T),Uo(s,l,T)):(ut&&v&&$n(l),l.flags|=1,dr(s,l,h,T),l.child)}function MO(s,l,h,v,T,O){return fc(l),l.updateQueue=null,h=R2(l,v,h,T),D2(s),v=Lx(),s!==null&&!Cn?(Ix(s,l,O),Uo(s,l,O)):(ut&&v&&$n(l),l.flags|=1,dr(s,l,h,O),l.child)}function PO(s,l,h,v,T){if(fc(l),l.stateNode===null){var O=Ro,I=h.contextType;typeof I=="object"&&I!==null&&(O=ur(I)),O=new h(v,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Jx,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=v,O.state=l.memoizedState,O.refs={},Ax(l),I=h.contextType,O.context=typeof I=="object"&&I!==null?ur(I):Ro,O.state=l.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(Xx(l,h,I,v),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(I=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),I!==O.state&&Jx.enqueueReplaceState(O,O.state,null),qf(l,v,O,T),Gf(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(s===null){O=l.stateNode;var F=l.memoizedProps,ne=vc(h,F);O.props=ne;var me=O.context,Ee=h.contextType;I=Ro,typeof Ee=="object"&&Ee!==null&&(I=ur(Ee));var Ae=h.getDerivedStateFromProps;Ee=typeof Ae=="function"||typeof O.getSnapshotBeforeUpdate=="function",F=l.pendingProps!==F,Ee||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(F||me!==I)&&bO(l,O,v,I),Zs=!1;var be=l.memoizedState;O.state=be,qf(l,v,O,T),Gf(),me=l.memoizedState,F||be!==me||Zs?(typeof Ae=="function"&&(Xx(l,h,Ae,v),me=l.memoizedState),(ne=Zs||vO(l,h,ne,v,be,me,I))?(Ee||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=me),O.props=v,O.state=me,O.context=I,v=ne):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{O=l.stateNode,Ox(s,l),I=l.memoizedProps,Ee=vc(h,I),O.props=Ee,Ae=l.pendingProps,be=O.context,me=h.contextType,ne=Ro,typeof me=="object"&&me!==null&&(ne=ur(me)),F=h.getDerivedStateFromProps,(me=typeof F=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(I!==Ae||be!==ne)&&bO(l,O,v,ne),Zs=!1,be=l.memoizedState,O.state=be,qf(l,v,O,T),Gf();var xe=l.memoizedState;I!==Ae||be!==xe||Zs||s!==null&&s.dependencies!==null&&qp(s.dependencies)?(typeof F=="function"&&(Xx(l,h,F,v),xe=l.memoizedState),(Ee=Zs||vO(l,h,Ee,v,be,xe,ne)||s!==null&&s.dependencies!==null&&qp(s.dependencies))?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,xe,ne),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,xe,ne)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=xe),O.props=v,O.state=xe,O.context=ne,v=Ee):(typeof O.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(l.flags|=1024),v=!1)}return O=v,ug(s,l),v=(l.flags&128)!==0,O||v?(O=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,s!==null&&v?(l.child=gc(l,s.child,null,T),l.child=gc(l,null,h,T)):dr(s,l,h,T),l.memoizedState=O.state,s=l.child):s=Uo(s,l,T),s}function DO(s,l,h,v){return Io(),l.flags|=256,dr(s,l,h,v),l.child}var n_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r_(s){return{baseLanes:s,cachePool:S2()}}function i_(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Si),s}function RO(s,l,h){var v=l.pendingProps,T=!1,O=(l.flags&128)!==0,I;if((I=O)||(I=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),I&&(T=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(ut){if(T?Qs(l):el(),(s=xt)?(s=Fj(s,Wr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:ve!==null?{id:Te,overflow:Me}:null,retryLane:536870912,hydrationErrors:null},h=Rf(s),h.return=l,l.child=h,bt=l,xt=null)):s=null,s===null)throw ro(l);return z_(s)?l.lanes=32:l.lanes=536870912,null}var F=v.children;return v=v.fallback,T?(el(),T=l.mode,F=dg({mode:"hidden",children:F},T),v=Lo(v,T,h,null),F.return=l,v.return=l,F.sibling=v,l.child=F,v=l.child,v.memoizedState=r_(h),v.childLanes=i_(s,I,h),l.memoizedState=n_,Zf(null,v)):(Qs(l),a_(l,F))}var ne=s.memoizedState;if(ne!==null&&(F=ne.dehydrated,F!==null)){if(O)l.flags&256?(Qs(l),l.flags&=-257,l=o_(s,l,h)):l.memoizedState!==null?(el(),l.child=s.child,l.flags|=128,l=null):(el(),F=v.fallback,T=l.mode,v=dg({mode:"visible",children:v.children},T),F=Lo(F,T,h,null),F.flags|=2,v.return=l,F.return=l,v.sibling=F,l.child=v,gc(l,s.child,null,h),v=l.child,v.memoizedState=r_(h),v.childLanes=i_(s,I,h),l.memoizedState=n_,l=Zf(null,v));else if(Qs(l),z_(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var me=I.dgst;I=me,v=Error(r(419)),v.stack="",v.digest=I,uc({value:v,source:null,stack:null}),l=o_(s,l,h)}else if(Cn||Au(s,l,h,!1),I=(h&s.childLanes)!==0,Cn||I){if(I=Bt,I!==null&&(v=bp(I,h),v!==0&&v!==ne.retryLane))throw ne.retryLane=v,Wi(s,v),Qr(I,s,v),e_;B_(F)||xg(),l=o_(s,l,h)}else B_(F)?(l.flags|=192,l.child=s.child,l=null):(s=ne.treeContext,xt=Xi(F.nextSibling),bt=l,ut=!0,no=null,Wr=!1,s!==null&&Cr(l,s),l=a_(l,v.children),l.flags|=4096);return l}return T?(el(),F=v.fallback,T=l.mode,ne=s.child,me=ne.sibling,v=Vi(ne,{mode:"hidden",children:v.children}),v.subtreeFlags=ne.subtreeFlags&65011712,me!==null?F=Vi(me,F):(F=Lo(F,T,h,null),F.flags|=2),F.return=l,v.return=l,v.sibling=F,l.child=v,Zf(null,v),v=l.child,F=s.child.memoizedState,F===null?F=r_(h):(T=F.cachePool,T!==null?(ne=On._currentValue,T=T.parent!==ne?{parent:ne,pool:ne}:T):T=S2(),F={baseLanes:F.baseLanes|h,cachePool:T}),v.memoizedState=F,v.childLanes=i_(s,I,h),l.memoizedState=n_,Zf(s.child,v)):(Qs(l),h=s.child,s=h.sibling,h=Vi(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=h,l.memoizedState=null,h)}function a_(s,l){return l=dg({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function dg(s,l){return s=wr(22,s,null,l),s.lanes=0,s}function o_(s,l,h){return gc(l,s.child,null,h),s=a_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function LO(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),_x(s.return,l,h)}function s_(s,l,h,v,T,O){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:T,treeForkCount:O}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=h,I.tailMode=T,I.treeForkCount=O)}function IO(s,l,h){var v=l.pendingProps,T=v.revealOrder,O=v.tail;v=v.children;var I=wn.current,F=(I&2)!==0;if(F?(I=I&1|2,l.flags|=128):I&=1,ae(wn,I),dr(s,l,v,h),v=ut?z:0,!F&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&LO(s,h,l);else if(s.tag===19)LO(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(h=l.child,T=null;h!==null;)s=h.alternate,s!==null&&Qp(s)===null&&(T=h),h=h.sibling;h=T,h===null?(T=l.child,l.child=null):(T=h.sibling,h.sibling=null),s_(l,!1,T,h,O,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&Qp(s)===null){l.child=T;break}s=T.sibling,T.sibling=h,h=T,T=s}s_(l,!0,h,null,O,v);break;case"together":s_(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function Uo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),rl|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(Au(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Vi(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Vi(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function l_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&qp(s)))}function pU(s,l,h){switch(l.tag){case 3:ue(l,l.stateNode.containerInfo),Vs(l,On,s.memoizedState.cache),Io();break;case 27:case 5:Se(l);break;case 4:ue(l,l.stateNode.containerInfo);break;case 10:Vs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Px(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(Qs(l),l.flags|=128,null):(h&l.child.childLanes)!==0?RO(s,l,h):(Qs(l),s=Uo(s,l,h),s!==null?s.sibling:null);Qs(l);break;case 19:var T=(s.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(Au(s,l,h,!1),v=(h&l.childLanes)!==0),T){if(v)return IO(s,l,h);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ae(wn,wn.current),v)break;return null;case 22:return l.lanes=0,jO(s,l,h,l.pendingProps);case 24:Vs(l,On,s.memoizedState.cache)}return Uo(s,l,h)}function $O(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Cn=!0;else{if(!l_(s,h)&&(l.flags&128)===0)return Cn=!1,pU(s,l,h);Cn=(s.flags&131072)!==0}else Cn=!1,ut&&(l.flags&1048576)!==0&&it(l,z,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(s=mc(l.elementType),l.type=s,typeof s=="function")Eu(s)?(v=vc(s,v),l.tag=1,l=PO(null,l,s,v,h)):(l.tag=0,l=t_(null,l,s,v,h));else{if(s!=null){var T=s.$$typeof;if(T===P){l.tag=11,l=TO(null,l,s,v,h);break e}else if(T===$){l.tag=14,l=AO(null,l,s,v,h);break e}}throw l=X(s)||s,Error(r(306,l,""))}}return l;case 0:return t_(s,l,l.type,l.pendingProps,h);case 1:return v=l.type,T=vc(v,l.pendingProps),PO(s,l,v,T,h);case 3:e:{if(ue(l,l.stateNode.containerInfo),s===null)throw Error(r(387));v=l.pendingProps;var O=l.memoizedState;T=O.element,Ox(s,l),qf(l,v,null,h);var I=l.memoizedState;if(v=I.cache,Vs(l,On,v),v!==O.cache&&wx(l,[On],h,!0),Gf(),v=I.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=DO(s,l,v,h);break e}else if(v!==T){T=y(Error(r(424)),l),uc(T),l=DO(s,l,v,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(xt=Xi(s.firstChild),bt=l,ut=!0,no=null,Wr=!0,h=j2(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Io(),v===T){l=Uo(s,l,h);break e}dr(s,l,v,h)}l=l.child}return l;case 26:return ug(s,l),s===null?(h=Vj(l.type,null,l.pendingProps,null))?l.memoizedState=h:ut||(h=l.type,s=l.pendingProps,v=Ag(pe.current).createElement(h),v[Tn]=l,v[Xn]=s,fr(v,h,s),An(v),l.stateNode=v):l.memoizedState=Vj(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Se(l),s===null&&ut&&(v=l.stateNode=Yj(l.type,l.pendingProps,pe.current),bt=l,Wr=!0,T=xt,ll(l.type)?(U_=T,xt=Xi(v.firstChild)):xt=T),dr(s,l,l.pendingProps.children,h),ug(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ut&&((T=v=xt)&&(v=qU(v,l.type,l.pendingProps,Wr),v!==null?(l.stateNode=v,bt=l,xt=Xi(v.firstChild),Wr=!1,T=!0):T=!1),T||ro(l)),Se(l),T=l.type,O=l.pendingProps,I=s!==null?s.memoizedProps:null,v=O.children,L_(T,O)?v=null:I!==null&&L_(T,I)&&(l.flags|=32),l.memoizedState!==null&&(T=Rx(s,l,oU,null,null,h),dh._currentValue=T),ug(s,l),dr(s,l,v,h),l.child;case 6:return s===null&&ut&&((s=h=xt)&&(h=YU(h,l.pendingProps,Wr),h!==null?(l.stateNode=h,bt=l,xt=null,s=!0):s=!1),s||ro(l)),null;case 13:return RO(s,l,h);case 4:return ue(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=gc(l,null,v,h):dr(s,l,v,h),l.child;case 11:return TO(s,l,l.type,l.pendingProps,h);case 7:return dr(s,l,l.pendingProps,h),l.child;case 8:return dr(s,l,l.pendingProps.children,h),l.child;case 12:return dr(s,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,Vs(l,l.type,v.value),dr(s,l,v.children,h),l.child;case 9:return T=l.type._context,v=l.pendingProps.children,fc(l),T=ur(T),v=v(T),l.flags|=1,dr(s,l,v,h),l.child;case 14:return AO(s,l,l.type,l.pendingProps,h);case 15:return OO(s,l,l.type,l.pendingProps,h);case 19:return IO(s,l,h);case 31:return mU(s,l,h);case 22:return jO(s,l,h,l.pendingProps);case 24:return fc(l),v=ur(On),s===null?(T=kx(),T===null&&(T=Bt,O=Sx(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=h),T=O),l.memoizedState={parent:v,cache:T},Ax(l),Vs(l,On,T)):((s.lanes&h)!==0&&(Ox(s,l),qf(l,null,null,h),Gf()),T=s.memoizedState,O=l.memoizedState,T.parent!==v?(T={parent:v,cache:v},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),Vs(l,On,v)):(v=O.cache,Vs(l,On,v),v!==T.cache&&wx(l,[On],h,!0))),dr(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ho(s){s.flags|=4}function c_(s,l,h,v,T){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(dj())s.flags|=8192;else throw pc=Vp,Tx}else s.flags&=-16777217}function BO(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eC(l))if(dj())s.flags|=8192;else throw pc=Vp,Tx}function fg(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?gp():536870912,s.lanes|=l,Bu|=l)}function Xf(s,l){if(!ut)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Vt(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var T=s.child;T!==null;)h|=T.lanes|T.childLanes,v|=T.subtreeFlags&65011712,v|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)h|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function gU(s,l,h){var v=l.pendingProps;switch(gn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(l),null;case 1:return Vt(l),null;case 3:return h=l.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),$o(On),te(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Sa(l)?Ho(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$f())),Vt(l),null;case 26:var T=l.type,O=l.memoizedState;return s===null?(Ho(l),O!==null?(Vt(l),BO(l,O)):(Vt(l),c_(l,T,null,v,h))):O?O!==s.memoizedState?(Ho(l),Vt(l),BO(l,O)):(Vt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==v&&Ho(l),Vt(l),c_(l,T,s,v,h)),null;case 27:if(je(l),h=pe.current,T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&Ho(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Vt(l),null}s=V.current,Sa(l)?If(l):(s=Yj(T,v,h),l.stateNode=s,Ho(l))}return Vt(l),null;case 5:if(je(l),T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&Ho(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Vt(l),null}if(O=V.current,Sa(l))If(l);else{var I=Ag(pe.current);switch(O){case 1:O=I.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:O=I.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":O=I.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":O=I.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":O=I.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?O.multiple=!0:v.size&&(O.size=v.size);break;default:O=typeof v.is=="string"?I.createElement(T,{is:v.is}):I.createElement(T)}}O[Tn]=l,O[Xn]=v;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)O.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=O;e:switch(fr(O,T,v),T){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Ho(l)}}return Vt(l),c_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==v&&Ho(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(s=pe.current,Sa(l)){if(s=l.stateNode,h=l.memoizedProps,v=null,T=bt,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}s[Tn]=l,s=!!(s.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||Rj(s.nodeValue,h)),s||ro(l,!0)}else s=Ag(s).createTextNode(v),s[Tn]=l,l.stateNode=s}return Vt(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(v=Sa(l),h!==null){if(s===null){if(!v)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Tn]=l}else Io(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vt(l),s=!1}else h=$f(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(_i(l),l):(_i(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Vt(l),null;case 13:if(v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Sa(l),v!==null&&v.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Tn]=l}else Io(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vt(l),T=!1}else T=$f(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(_i(l),l):(_i(l),null)}return _i(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,s=s!==null&&s.memoizedState!==null,h&&(v=l.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==T&&(v.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),fg(l,l.updateQueue),Vt(l),null);case 4:return te(),s===null&&N_(l.stateNode.containerInfo),Vt(l),null;case 10:return $o(l.type),Vt(l),null;case 19:if(K(wn),v=l.memoizedState,v===null)return Vt(l),null;if(T=(l.flags&128)!==0,O=v.rendering,O===null)if(T)Xf(v,!1);else{if(vn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(O=Qp(s),O!==null){for(l.flags|=128,Xf(v,!1),s=O.updateQueue,l.updateQueue=s,fg(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)Df(h,s),h=h.sibling;return ae(wn,wn.current&1|2),ut&&Ge(l,v.treeForkCount),l.child}s=s.sibling}v.tail!==null&&Xe()>yg&&(l.flags|=128,T=!0,Xf(v,!1),l.lanes=4194304)}else{if(!T)if(s=Qp(O),s!==null){if(l.flags|=128,T=!0,s=s.updateQueue,l.updateQueue=s,fg(l,s),Xf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!O.alternate&&!ut)return Vt(l),null}else 2*Xe()-v.renderingStartTime>yg&&h!==536870912&&(l.flags|=128,T=!0,Xf(v,!1),l.lanes=4194304);v.isBackwards?(O.sibling=l.child,l.child=O):(s=v.last,s!==null?s.sibling=O:l.child=O,v.last=O)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Xe(),s.sibling=null,h=wn.current,ae(wn,T?h&1|2:h&1),ut&&Ge(l,v.treeForkCount),s):(Vt(l),null);case 22:case 23:return _i(l),Mx(),v=l.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(Vt(l),l.subtreeFlags&6&&(l.flags|=8192)):Vt(l),h=l.updateQueue,h!==null&&fg(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),s!==null&&K(hc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),$o(On),Vt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function yU(s,l){switch(gn(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return $o(On),te(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 31:if(l.memoizedState!==null){if(_i(l),l.alternate===null)throw Error(r(340));Io()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(_i(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Io()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return K(wn),null;case 4:return te(),null;case 10:return $o(l.type),null;case 22:case 23:return _i(l),Mx(),s!==null&&K(hc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return $o(On),null;case 25:return null;default:return null}}function zO(s,l){switch(gn(l),l.tag){case 3:$o(On),te();break;case 26:case 27:case 5:je(l);break;case 4:te();break;case 31:l.memoizedState!==null&&_i(l);break;case 13:_i(l);break;case 19:K(wn);break;case 10:$o(l.type);break;case 22:case 23:_i(l),Mx(),s!==null&&K(hc);break;case 24:$o(On)}}function Jf(s,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var T=v.next;h=T;do{if((h.tag&s)===s){v=void 0;var O=h.create,I=h.inst;v=O(),I.destroy=v}h=h.next}while(h!==T)}}catch(F){Mt(l,l.return,F)}}function tl(s,l,h){try{var v=l.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var O=T.next;v=O;do{if((v.tag&s)===s){var I=v.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,T=l;var ne=h,me=F;try{me()}catch(Ee){Mt(T,ne,Ee)}}}v=v.next}while(v!==O)}}catch(Ee){Mt(l,l.return,Ee)}}function UO(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{N2(l,h)}catch(v){Mt(s,s.return,v)}}}function HO(s,l,h){h.props=vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(v){Mt(s,l,v)}}function Qf(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof h=="function"?s.refCleanup=h(v):h.current=v}}catch(T){Mt(s,l,T)}}function ao(s,l){var h=s.ref,v=s.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(T){Mt(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){Mt(s,l,T)}else h.current=null}function FO(s){var l=s.type,h=s.memoizedProps,v=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(T){Mt(s,s.return,T)}}function u_(s,l,h){try{var v=s.stateNode;BU(v,s.type,h,l),v[Xn]=l}catch(T){Mt(s,s.return,T)}}function GO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ll(s.type)||s.tag===4}function d_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||GO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ll(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function f_(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Gr));else if(v!==4&&(v===27&&ll(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(f_(s,l,h),s=s.sibling;s!==null;)f_(s,l,h),s=s.sibling}function hg(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(v===27&&ll(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(hg(s,l,h),s=s.sibling;s!==null;)hg(s,l,h),s=s.sibling}function qO(s){var l=s.stateNode,h=s.memoizedProps;try{for(var v=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);fr(l,v,h),l[Tn]=s,l[Xn]=h}catch(O){Mt(s,s.return,O)}}var Fo=!1,Nn=!1,h_=!1,YO=typeof WeakSet=="function"?WeakSet:Set,er=null;function vU(s,l){if(s=s.containerInfo,D_=Dg,s=nc(s),Xa(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var T=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var I=0,F=-1,ne=-1,me=0,Ee=0,Ae=s,be=null;t:for(;;){for(var xe;Ae!==h||T!==0&&Ae.nodeType!==3||(F=I+T),Ae!==O||v!==0&&Ae.nodeType!==3||(ne=I+v),Ae.nodeType===3&&(I+=Ae.nodeValue.length),(xe=Ae.firstChild)!==null;)be=Ae,Ae=xe;for(;;){if(Ae===s)break t;if(be===h&&++me===T&&(F=I),be===O&&++Ee===v&&(ne=I),(xe=Ae.nextSibling)!==null)break;Ae=be,be=Ae.parentNode}Ae=xe}h=F===-1||ne===-1?null:{start:F,end:ne}}else h=null}h=h||{start:0,end:0}}else h=null;for(R_={focusedElem:s,selectionRange:h},Dg=!1,er=l;er!==null;)if(l=er,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,er=s;else for(;er!==null;){switch(l=er,O=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)T=s[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,h=l,T=O.memoizedProps,O=O.memoizedState,v=h.stateNode;try{var Be=vc(h.type,T);s=v.getSnapshotBeforeUpdate(Be,O),v.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Mt(h,h.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)$_(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,er=s;break}er=l.return}}function KO(s,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:qo(s,h),v&4&&Jf(5,h);break;case 1:if(qo(s,h),v&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(I){Mt(h,h.return,I)}else{var T=vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Mt(h,h.return,I)}}v&64&&UO(h),v&512&&Qf(h,h.return);break;case 3:if(qo(s,h),v&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{N2(s,l)}catch(I){Mt(h,h.return,I)}}break;case 27:l===null&&v&4&&qO(h);case 26:case 5:qo(s,h),l===null&&v&4&&FO(h),v&512&&Qf(h,h.return);break;case 12:qo(s,h);break;case 31:qo(s,h),v&4&&ZO(s,h);break;case 13:qo(s,h),v&4&&XO(s,h),v&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=AU.bind(null,h),KU(s,h))));break;case 22:if(v=h.memoizedState!==null||Fo,!v){l=l!==null&&l.memoizedState!==null||Nn,T=Fo;var O=Nn;Fo=v,(Nn=l)&&!O?Yo(s,h,(h.subtreeFlags&8772)!==0):qo(s,h),Fo=T,Nn=O}break;case 30:break;default:qo(s,h)}}function WO(s){var l=s.alternate;l!==null&&(s.alternate=null,WO(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&gf(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qt=null,Vr=!1;function Go(s,l,h){for(h=h.child;h!==null;)VO(s,l,h),h=h.sibling}function VO(s,l,h){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ft,h)}catch{}switch(h.tag){case 26:Nn||ao(h,l),Go(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Nn||ao(h,l);var v=Qt,T=Vr;ll(h.type)&&(Qt=h.stateNode,Vr=!1),Go(s,l,h),lh(h.stateNode),Qt=v,Vr=T;break;case 5:Nn||ao(h,l);case 6:if(v=Qt,T=Vr,Qt=null,Go(s,l,h),Qt=v,Vr=T,Qt!==null)if(Vr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(h.stateNode)}catch(O){Mt(h,l,O)}else try{Qt.removeChild(h.stateNode)}catch(O){Mt(h,l,O)}break;case 18:Qt!==null&&(Vr?(s=Qt,Uj(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Ku(s)):Uj(Qt,h.stateNode));break;case 4:v=Qt,T=Vr,Qt=h.stateNode.containerInfo,Vr=!0,Go(s,l,h),Qt=v,Vr=T;break;case 0:case 11:case 14:case 15:tl(2,h,l),Nn||tl(4,h,l),Go(s,l,h);break;case 1:Nn||(ao(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&HO(h,l,v)),Go(s,l,h);break;case 21:Go(s,l,h);break;case 22:Nn=(v=Nn)||h.memoizedState!==null,Go(s,l,h),Nn=v;break;default:Go(s,l,h)}}function ZO(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ku(s)}catch(h){Mt(l,l.return,h)}}}function XO(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ku(s)}catch(h){Mt(l,l.return,h)}}function bU(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new YO),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new YO),l;default:throw Error(r(435,s.tag))}}function mg(s,l){var h=bU(s);l.forEach(function(v){if(!h.has(v)){h.add(v);var T=OU.bind(null,s,v);v.then(T,T)}})}function Zr(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var T=h[v],O=s,I=l,F=I;e:for(;F!==null;){switch(F.tag){case 27:if(ll(F.type)){Qt=F.stateNode,Vr=!1;break e}break;case 5:Qt=F.stateNode,Vr=!1;break e;case 3:case 4:Qt=F.stateNode.containerInfo,Vr=!0;break e}F=F.return}if(Qt===null)throw Error(r(160));VO(O,I,T),Qt=null,Vr=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)JO(l,s),l=l.sibling}var ka=null;function JO(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zr(l,s),Xr(s),v&4&&(tl(3,s,s.return),Jf(3,s),tl(5,s,s.return));break;case 1:Zr(l,s),Xr(s),v&512&&(Nn||h===null||ao(h,h.return)),v&64&&Fo&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var T=ka;if(Zr(l,s),Xr(s),v&512&&(Nn||h===null||ao(h,h.return)),v&4){var O=h!==null?h.memoizedState:null;if(v=s.memoizedState,h===null)if(v===null)if(s.stateNode===null){e:{v=s.type,h=s.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":O=T.getElementsByTagName("title")[0],(!O||O[zl]||O[Tn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(v),T.head.insertBefore(O,T.querySelector("head > title"))),fr(O,v,h),O[Tn]=s,An(O),v=O;break e;case"link":var I=Jj("link","href",T).get(v+(h.href||""));if(I){for(var F=0;F<I.length;F++)if(O=I[F],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(F,1);break t}}O=T.createElement(v),fr(O,v,h),T.head.appendChild(O);break;case"meta":if(I=Jj("meta","content",T).get(v+(h.content||""))){for(F=0;F<I.length;F++)if(O=I[F],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(F,1);break t}}O=T.createElement(v),fr(O,v,h),T.head.appendChild(O);break;default:throw Error(r(468,v))}O[Tn]=s,An(O),v=O}s.stateNode=v}else Qj(T,s.type,s.stateNode);else s.stateNode=Xj(T,v,s.memoizedProps);else O!==v?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,v===null?Qj(T,s.type,s.stateNode):Xj(T,v,s.memoizedProps)):v===null&&s.stateNode!==null&&u_(s,s.memoizedProps,h.memoizedProps)}break;case 27:Zr(l,s),Xr(s),v&512&&(Nn||h===null||ao(h,h.return)),h!==null&&v&4&&u_(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Zr(l,s),Xr(s),v&512&&(Nn||h===null||ao(h,h.return)),s.flags&32){T=s.stateNode;try{Hi(T,"")}catch(Be){Mt(s,s.return,Be)}}v&4&&s.stateNode!=null&&(T=s.memoizedProps,u_(s,T,h!==null?h.memoizedProps:T)),v&1024&&(h_=!0);break;case 6:if(Zr(l,s),Xr(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,h=s.stateNode;try{h.nodeValue=v}catch(Be){Mt(s,s.return,Be)}}break;case 3:if(Cg=null,T=ka,ka=Og(l.containerInfo),Zr(l,s),ka=T,Xr(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Ku(l.containerInfo)}catch(Be){Mt(s,s.return,Be)}h_&&(h_=!1,QO(s));break;case 4:v=ka,ka=Og(s.stateNode.containerInfo),Zr(l,s),Xr(s),ka=v;break;case 12:Zr(l,s),Xr(s);break;case 31:Zr(l,s),Xr(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,mg(s,v)));break;case 13:Zr(l,s),Xr(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(gg=Xe()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,mg(s,v)));break;case 22:T=s.memoizedState!==null;var ne=h!==null&&h.memoizedState!==null,me=Fo,Ee=Nn;if(Fo=me||T,Nn=Ee||ne,Zr(l,s),Nn=Ee,Fo=me,Xr(s),v&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(h===null||ne||Fo||Nn||bc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){ne=h=l;try{if(O=ne.stateNode,T)I=O.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=ne.stateNode;var Ae=ne.memoizedProps.style,be=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;F.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Be){Mt(ne,ne.return,Be)}}}else if(l.tag===6){if(h===null){ne=l;try{ne.stateNode.nodeValue=T?"":ne.memoizedProps}catch(Be){Mt(ne,ne.return,Be)}}}else if(l.tag===18){if(h===null){ne=l;try{var xe=ne.stateNode;T?Hj(xe,!0):Hj(ne.stateNode,!1)}catch(Be){Mt(ne,ne.return,Be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=s.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,mg(s,h))));break;case 19:Zr(l,s),Xr(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,mg(s,v)));break;case 30:break;case 21:break;default:Zr(l,s),Xr(s)}}function Xr(s){var l=s.flags;if(l&2){try{for(var h,v=s.return;v!==null;){if(GO(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var T=h.stateNode,O=d_(s);hg(s,O,T);break;case 5:var I=h.stateNode;h.flags&32&&(Hi(I,""),h.flags&=-33);var F=d_(s);hg(s,F,I);break;case 3:case 4:var ne=h.stateNode.containerInfo,me=d_(s);f_(s,me,ne);break;default:throw Error(r(161))}}catch(Ee){Mt(s,s.return,Ee)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function QO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;QO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function qo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)KO(s,l.alternate,l),l=l.sibling}function bc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:tl(4,l,l.return),bc(l);break;case 1:ao(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&HO(l,l.return,h),bc(l);break;case 27:lh(l.stateNode);case 26:case 5:ao(l,l.return),bc(l);break;case 22:l.memoizedState===null&&bc(l);break;case 30:bc(l);break;default:bc(l)}s=s.sibling}}function Yo(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,T=s,O=l,I=O.flags;switch(O.tag){case 0:case 11:case 15:Yo(T,O,h),Jf(4,O);break;case 1:if(Yo(T,O,h),v=O,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){Mt(v,v.return,me)}if(v=O,T=v.updateQueue,T!==null){var F=v.stateNode;try{var ne=T.shared.hiddenCallbacks;if(ne!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ne.length;T++)C2(ne[T],F)}catch(me){Mt(v,v.return,me)}}h&&I&64&&UO(O),Qf(O,O.return);break;case 27:qO(O);case 26:case 5:Yo(T,O,h),h&&v===null&&I&4&&FO(O),Qf(O,O.return);break;case 12:Yo(T,O,h);break;case 31:Yo(T,O,h),h&&I&4&&ZO(T,O);break;case 13:Yo(T,O,h),h&&I&4&&XO(T,O);break;case 22:O.memoizedState===null&&Yo(T,O,h),Qf(O,O.return);break;case 30:break;default:Yo(T,O,h)}l=l.sibling}}function m_(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Bf(h))}function p_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Bf(s))}function Ta(s,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ej(s,l,h,v),l=l.sibling}function ej(s,l,h,v){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Ta(s,l,h,v),T&2048&&Jf(9,l);break;case 1:Ta(s,l,h,v);break;case 3:Ta(s,l,h,v),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Bf(s)));break;case 12:if(T&2048){Ta(s,l,h,v),s=l.stateNode;try{var O=l.memoizedProps,I=O.id,F=O.onPostCommit;typeof F=="function"&&F(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ne){Mt(l,l.return,ne)}}else Ta(s,l,h,v);break;case 31:Ta(s,l,h,v);break;case 13:Ta(s,l,h,v);break;case 23:break;case 22:O=l.stateNode,I=l.alternate,l.memoizedState!==null?O._visibility&2?Ta(s,l,h,v):eh(s,l):O._visibility&2?Ta(s,l,h,v):(O._visibility|=2,Lu(s,l,h,v,(l.subtreeFlags&10256)!==0||!1)),T&2048&&m_(I,l);break;case 24:Ta(s,l,h,v),T&2048&&p_(l.alternate,l);break;default:Ta(s,l,h,v)}}function Lu(s,l,h,v,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var O=s,I=l,F=h,ne=v,me=I.flags;switch(I.tag){case 0:case 11:case 15:Lu(O,I,F,ne,T),Jf(8,I);break;case 23:break;case 22:var Ee=I.stateNode;I.memoizedState!==null?Ee._visibility&2?Lu(O,I,F,ne,T):eh(O,I):(Ee._visibility|=2,Lu(O,I,F,ne,T)),T&&me&2048&&m_(I.alternate,I);break;case 24:Lu(O,I,F,ne,T),T&&me&2048&&p_(I.alternate,I);break;default:Lu(O,I,F,ne,T)}l=l.sibling}}function eh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,v=l,T=v.flags;switch(v.tag){case 22:eh(h,v),T&2048&&m_(v.alternate,v);break;case 24:eh(h,v),T&2048&&p_(v.alternate,v);break;default:eh(h,v)}l=l.sibling}}var th=8192;function Iu(s,l,h){if(s.subtreeFlags&th)for(s=s.child;s!==null;)tj(s,l,h),s=s.sibling}function tj(s,l,h){switch(s.tag){case 26:Iu(s,l,h),s.flags&th&&s.memoizedState!==null&&aH(h,ka,s.memoizedState,s.memoizedProps);break;case 5:Iu(s,l,h);break;case 3:case 4:var v=ka;ka=Og(s.stateNode.containerInfo),Iu(s,l,h),ka=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=th,th=16777216,Iu(s,l,h),th=v):Iu(s,l,h));break;default:Iu(s,l,h)}}function nj(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function nh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];er=v,ij(v,s)}nj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rj(s),s=s.sibling}function rj(s){switch(s.tag){case 0:case 11:case 15:nh(s),s.flags&2048&&tl(9,s,s.return);break;case 3:nh(s);break;case 12:nh(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,pg(s)):nh(s);break;default:nh(s)}}function pg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];er=v,ij(v,s)}nj(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:tl(8,l,l.return),pg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,pg(l));break;default:pg(l)}s=s.sibling}}function ij(s,l){for(;er!==null;){var h=er;switch(h.tag){case 0:case 11:case 15:tl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Bf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,er=v;else e:for(h=s;er!==null;){v=er;var T=v.sibling,O=v.return;if(WO(v),v===h){er=null;break e}if(T!==null){T.return=O,er=T;break e}er=O}}}var xU={getCacheForType:function(s){var l=ur(On),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return ur(On).controller.signal}},_U=typeof WeakMap=="function"?WeakMap:Map,kt=0,Bt=null,dt=null,mt=0,Nt=0,wi=null,nl=!1,$u=!1,g_=!1,Ko=0,vn=0,rl=0,xc=0,y_=0,Si=0,Bu=0,rh=null,Jr=null,v_=!1,gg=0,aj=0,yg=1/0,vg=null,il=null,Bn=0,al=null,zu=null,Wo=0,b_=0,x_=null,oj=null,ih=0,__=null;function Ei(){return(kt&2)!==0&&mt!==0?mt&-mt:q.T!==null?A_():mf()}function sj(){if(Si===0)if((mt&536870912)===0||ut){var s=Il;Il<<=1,(Il&3932160)===0&&(Il=262144),Si=s}else Si=536870912;return s=xi.current,s!==null&&(s.flags|=32),Si}function Qr(s,l,h){(s===Bt&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)&&(Uu(s,0),ol(s,mt,Si,!1)),Ao(s,h),((kt&2)===0||s!==Bt)&&(s===Bt&&((kt&2)===0&&(xc|=h),vn===4&&ol(s,mt,Si,!1)),oo(s))}function lj(s,l,h){if((kt&6)!==0)throw Error(r(327));var v=!h&&(l&127)===0&&(l&s.expiredLanes)===0||Bl(s,l),T=v?EU(s,l):S_(s,l,!0),O=v;do{if(T===0){$u&&!v&&ol(s,l,0,!1);break}else{if(h=s.current.alternate,O&&!wU(h)){T=S_(s,l,!1),O=!1;continue}if(T===2){if(O=l,s.errorRecoveryDisabledLanes&O)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var F=s;T=rh;var ne=F.current.memoizedState.isDehydrated;if(ne&&(Uu(F,I).flags|=256),I=S_(F,I,!1),I!==2){if(g_&&!ne){F.errorRecoveryDisabledLanes|=O,xc|=O,T=4;break e}O=Jr,Jr=T,O!==null&&(Jr===null?Jr=O:Jr.push.apply(Jr,O))}T=I}if(O=!1,T!==2)continue}}if(T===1){Uu(s,0),ol(s,l,0,!0);break}e:{switch(v=s,O=T,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ol(v,l,Si,!nl);break e;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=gg+300-Xe(),10<T)){if(ol(v,l,Si,!nl),su(v,0,!0)!==0)break e;Wo=l,v.timeoutHandle=Bj(cj.bind(null,v,h,Jr,vg,v_,l,Si,xc,Bu,nl,O,"Throttled",-0,0),T);break e}cj(v,h,Jr,vg,v_,l,Si,xc,Bu,nl,O,null,-0,0)}}break}while(!0);oo(s)}function cj(s,l,h,v,T,O,I,F,ne,me,Ee,Ae,be,xe){if(s.timeoutHandle=-1,Ae=l.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gr},tj(l,O,Ae);var Be=(O&62914560)===O?gg-Xe():(O&4194048)===O?aj-Xe():0;if(Be=oH(Ae,Be),Be!==null){Wo=O,s.cancelPendingCommit=Be(yj.bind(null,s,l,O,h,v,T,I,F,ne,Ee,Ae,null,be,xe)),ol(s,O,I,!me);return}}yj(s,l,O,h,v,T,I,F,ne)}function wU(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var T=h[v],O=T.getSnapshot;T=T.value;try{if(!Jn(O(),T))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ol(s,l,h,v){l&=~y_,l&=~xc,s.suspendedLanes|=l,s.pingedLanes&=~l,v&&(s.warmLanes|=l),v=s.expirationTimes;for(var T=l;0<T;){var O=31-Or(T),I=1<<O;v[O]=-1,T&=~I}h!==0&&yp(s,h,l)}function bg(){return(kt&6)===0?(ah(0),!1):!0}function w_(){if(dt!==null){if(Nt===0)var s=dt.return;else s=dt,Ea=io=null,$x(s),Nu=null,Uf=0,s=dt;for(;s!==null;)zO(s.alternate,s),s=s.return;dt=null}}function Uu(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,HU(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Wo=0,w_(),Bt=s,dt=h=Vi(s.current,null),mt=l,Nt=0,wi=null,nl=!1,$u=Bl(s,l),g_=!1,Bu=Si=y_=xc=rl=vn=0,Jr=rh=null,v_=!1,(l&8)!==0&&(l|=l&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=l;0<v;){var T=31-Or(v),O=1<<T;l|=s[T],v&=~O}return Ko=l,sc(),h}function uj(s,l){rt=null,q.H=Vf,l===Cu||l===Wp?(l=T2(),Nt=3):l===Tx?(l=T2(),Nt=4):Nt=l===e_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wi=l,dt===null&&(vn=1,lg(s,y(l,s.current)))}function dj(){var s=xi.current;return s===null?!0:(mt&4194048)===mt?Zi===null:(mt&62914560)===mt||(mt&536870912)!==0?s===Zi:!1}function fj(){var s=q.H;return q.H=Vf,s===null?Vf:s}function hj(){var s=q.A;return q.A=xU,s}function xg(){vn=4,nl||(mt&4194048)!==mt&&xi.current!==null||($u=!0),(rl&134217727)===0&&(xc&134217727)===0||Bt===null||ol(Bt,mt,Si,!1)}function S_(s,l,h){var v=kt;kt|=2;var T=fj(),O=hj();(Bt!==s||mt!==l)&&(vg=null,Uu(s,l)),l=!1;var I=vn;e:do try{if(Nt!==0&&dt!==null){var F=dt,ne=wi;switch(Nt){case 8:w_(),I=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(l=!0);var me=Nt;if(Nt=0,wi=null,Hu(s,F,ne,me),h&&$u){I=0;break e}break;default:me=Nt,Nt=0,wi=null,Hu(s,F,ne,me)}}SU(),I=vn;break}catch(Ee){uj(s,Ee)}while(!0);return l&&s.shellSuspendCounter++,Ea=io=null,kt=v,q.H=T,q.A=O,dt===null&&(Bt=null,mt=0,sc()),I}function SU(){for(;dt!==null;)mj(dt)}function EU(s,l){var h=kt;kt|=2;var v=fj(),T=hj();Bt!==s||mt!==l?(vg=null,yg=Xe()+500,Uu(s,l)):$u=Bl(s,l);e:do try{if(Nt!==0&&dt!==null){l=dt;var O=wi;t:switch(Nt){case 1:Nt=0,wi=null,Hu(s,l,O,1);break;case 2:case 9:if(E2(O)){Nt=0,wi=null,pj(l);break}l=function(){Nt!==2&&Nt!==9||Bt!==s||(Nt=7),oo(s)},O.then(l,l);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:E2(O)?(Nt=0,wi=null,pj(l)):(Nt=0,wi=null,Hu(s,l,O,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var F=dt;if(I?eC(I):F.stateNode.complete){Nt=0,wi=null;var ne=F.sibling;if(ne!==null)dt=ne;else{var me=F.return;me!==null?(dt=me,_g(me)):dt=null}break t}}Nt=0,wi=null,Hu(s,l,O,5);break;case 6:Nt=0,wi=null,Hu(s,l,O,6);break;case 8:w_(),vn=6;break e;default:throw Error(r(462))}}kU();break}catch(Ee){uj(s,Ee)}while(!0);return Ea=io=null,q.H=v,q.A=T,kt=h,dt!==null?0:(Bt=null,mt=0,sc(),vn)}function kU(){for(;dt!==null&&!ge();)mj(dt)}function mj(s){var l=$O(s.alternate,s,Ko);s.memoizedProps=s.pendingProps,l===null?_g(s):dt=l}function pj(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=MO(h,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=MO(h,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:$x(l);default:zO(h,l),l=dt=Df(l,Ko),l=$O(h,l,Ko)}s.memoizedProps=s.pendingProps,l===null?_g(s):dt=l}function Hu(s,l,h,v){Ea=io=null,$x(l),Nu=null,Uf=0;var T=l.return;try{if(hU(s,T,l,h,mt)){vn=1,lg(s,y(h,s.current)),dt=null;return}}catch(O){if(T!==null)throw dt=T,O;vn=1,lg(s,y(h,s.current)),dt=null;return}l.flags&32768?(ut||v===1?s=!0:$u||(mt&536870912)!==0?s=!1:(nl=s=!0,(v===2||v===9||v===3||v===6)&&(v=xi.current,v!==null&&v.tag===13&&(v.flags|=16384))),gj(l,s)):_g(l)}function _g(s){var l=s;do{if((l.flags&32768)!==0){gj(l,nl);return}s=l.return;var h=gU(l.alternate,l,Ko);if(h!==null){dt=h;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=s}while(l!==null);vn===0&&(vn=5)}function gj(s,l){do{var h=yU(s.alternate,s);if(h!==null){h.flags&=32767,dt=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){dt=s;return}dt=s=h}while(s!==null);vn=6,dt=null}function yj(s,l,h,v,T,O,I,F,ne){s.cancelPendingCommit=null;do wg();while(Bn!==0);if((kt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(O=l.lanes|l.childLanes,O|=Su,ax(s,h,O,I,F,ne),s===Bt&&(dt=Bt=null,mt=0),zu=l,al=s,Wo=h,b_=O,x_=T,oj=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jU(Zn,function(){return wj(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=q.T,q.T=null,T=J.p,J.p=2,I=kt,kt|=4;try{vU(s,l,h)}finally{kt=I,J.p=T,q.T=v}}Bn=1,vj(),bj(),xj()}}function vj(){if(Bn===1){Bn=0;var s=al,l=zu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=q.T,q.T=null;var v=J.p;J.p=2;var T=kt;kt|=4;try{JO(l,s);var O=R_,I=nc(s.containerInfo),F=O.focusedElem,ne=O.selectionRange;if(I!==F&&F&&F.ownerDocument&&bu(F.ownerDocument.documentElement,F)){if(ne!==null&&Xa(F)){var me=ne.start,Ee=ne.end;if(Ee===void 0&&(Ee=me),"selectionStart"in F)F.selectionStart=me,F.selectionEnd=Math.min(Ee,F.value.length);else{var Ae=F.ownerDocument||document,be=Ae&&Ae.defaultView||window;if(be.getSelection){var xe=be.getSelection(),Be=F.textContent.length,Ze=Math.min(ne.start,Be),It=ne.end===void 0?Ze:Math.min(ne.end,Be);!xe.extend&&Ze>It&&(I=It,It=Ze,Ze=I);var le=tc(F,Ze),re=tc(F,It);if(le&&re&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==re.node||xe.focusOffset!==re.offset)){var he=Ae.createRange();he.setStart(le.node,le.offset),xe.removeAllRanges(),Ze>It?(xe.addRange(he),xe.extend(re.node,re.offset)):(he.setEnd(re.node,re.offset),xe.addRange(he))}}}}for(Ae=[],xe=F;xe=xe.parentNode;)xe.nodeType===1&&Ae.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ae.length;F++){var ke=Ae[F];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Dg=!!D_,R_=D_=null}finally{kt=T,J.p=v,q.T=h}}s.current=l,Bn=2}}function bj(){if(Bn===2){Bn=0;var s=al,l=zu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=q.T,q.T=null;var v=J.p;J.p=2;var T=kt;kt|=4;try{KO(s,l.alternate,l)}finally{kt=T,J.p=v,q.T=h}}Bn=3}}function xj(){if(Bn===4||Bn===3){Bn=0,De();var s=al,l=zu,h=Wo,v=oj;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,zu=al=null,_j(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(il=null),He(h),l=l.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ft,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=q.T,T=J.p,J.p=2,q.T=null;try{for(var O=s.onRecoverableError,I=0;I<v.length;I++){var F=v[I];O(F.value,{componentStack:F.stack})}}finally{q.T=l,J.p=T}}(Wo&3)!==0&&wg(),oo(s),T=s.pendingLanes,(h&261930)!==0&&(T&42)!==0?s===__?ih++:(ih=0,__=s):ih=0,ah(0)}}function _j(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Bf(l)))}function wg(){return vj(),bj(),xj(),wj()}function wj(){if(Bn!==5)return!1;var s=al,l=b_;b_=0;var h=He(Wo),v=q.T,T=J.p;try{J.p=32>h?32:h,q.T=null,h=x_,x_=null;var O=al,I=Wo;if(Bn=0,zu=al=null,Wo=0,(kt&6)!==0)throw Error(r(331));var F=kt;if(kt|=4,rj(O.current),ej(O,O.current,I,h),kt=F,ah(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ft,O)}catch{}return!0}finally{J.p=T,q.T=v,_j(s,l)}}function Sj(s,l,h){l=y(h,l),l=Qx(s.stateNode,l,2),s=Js(s,l,2),s!==null&&(Ao(s,2),oo(s))}function Mt(s,l,h){if(s.tag===3)Sj(s,s,h);else for(;l!==null;){if(l.tag===3){Sj(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(il===null||!il.has(v))){s=y(h,s),h=EO(2),v=Js(l,h,2),v!==null&&(kO(h,v,l,s),Ao(v,2),oo(v));break}}l=l.return}}function E_(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new _U;var T=new Set;v.set(l,T)}else T=v.get(l),T===void 0&&(T=new Set,v.set(l,T));T.has(h)||(g_=!0,T.add(h),s=TU.bind(null,s,l,h),l.then(s,s))}function TU(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,Bt===s&&(mt&h)===h&&(vn===4||vn===3&&(mt&62914560)===mt&&300>Xe()-gg?(kt&2)===0&&Uu(s,0):y_|=h,Bu===mt&&(Bu=0)),oo(s)}function Ej(s,l){l===0&&(l=gp()),s=Wi(s,l),s!==null&&(Ao(s,l),oo(s))}function AU(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),Ej(s,h)}function OU(s,l){var h=0;switch(s.tag){case 31:case 13:var v=s.stateNode,T=s.memoizedState;T!==null&&(h=T.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),Ej(s,h)}function jU(s,l){return hn(s,l)}var Sg=null,Fu=null,k_=!1,Eg=!1,T_=!1,sl=0;function oo(s){s!==Fu&&s.next===null&&(Fu===null?Sg=Fu=s:Fu=Fu.next=s),Eg=!0,k_||(k_=!0,NU())}function ah(s,l){if(!T_&&Eg){T_=!0;do for(var h=!1,v=Sg;v!==null;){if(s!==0){var T=v.pendingLanes;if(T===0)var O=0;else{var I=v.suspendedLanes,F=v.pingedLanes;O=(1<<31-Or(42|s)+1)-1,O&=T&~(I&~F),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,Oj(v,O))}else O=mt,O=su(v,v===Bt?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||Bl(v,O)||(h=!0,Oj(v,O));v=v.next}while(h);T_=!1}}function CU(){kj()}function kj(){Eg=k_=!1;var s=0;sl!==0&&UU()&&(s=sl);for(var l=Xe(),h=null,v=Sg;v!==null;){var T=v.next,O=Tj(v,l);O===0?(v.next=null,h===null?Sg=T:h.next=T,T===null&&(Fu=h)):(h=v,(s!==0||(O&3)!==0)&&(Eg=!0)),v=T}Bn!==0&&Bn!==5||ah(s),sl!==0&&(sl=0)}function Tj(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,T=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var I=31-Or(O),F=1<<I,ne=T[I];ne===-1?((F&h)===0||(F&v)!==0)&&(T[I]=ix(F,l)):ne<=l&&(s.expiredLanes|=F),O&=~F}if(l=Bt,h=mt,h=su(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,h===0||s===l&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&on(v),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Bl(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(v!==null&&on(v),He(h)){case 2:case 8:h=yt;break;case 32:h=Zn;break;case 268435456:h=mi;break;default:h=Zn}return v=Aj.bind(null,s),h=hn(h,v),s.callbackPriority=l,s.callbackNode=h,l}return v!==null&&v!==null&&on(v),s.callbackPriority=2,s.callbackNode=null,2}function Aj(s,l){if(Bn!==0&&Bn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(wg()&&s.callbackNode!==h)return null;var v=mt;return v=su(s,s===Bt?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(lj(s,v,l),Tj(s,Xe()),s.callbackNode!=null&&s.callbackNode===h?Aj.bind(null,s):null)}function Oj(s,l){if(wg())return null;lj(s,l,!0)}function NU(){FU(function(){(kt&6)!==0?hn(At,CU):kj()})}function A_(){if(sl===0){var s=Ou;s===0&&(s=Ll,Ll<<=1,(Ll&261888)===0&&(Ll=256)),sl=s}return sl}function jj(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ls(""+s)}function Cj(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function MU(s,l,h,v,T){if(l==="submit"&&h&&h.stateNode===T){var O=jj((T[Xn]||null).action),I=v.submitter;I&&(l=(l=I[Xn]||null)?jj(l.formAction):I.getAttribute("formAction"),l!==null&&(O=l,I=null));var F=new fu("action","action",null,v,T);s.push({event:F,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(sl!==0){var ne=I?Cj(T,I):new FormData(T);Kx(h,{pending:!0,data:ne,method:T.method,action:O},null,ne)}}else typeof O=="function"&&(F.preventDefault(),ne=I?Cj(T,I):new FormData(T),Kx(h,{pending:!0,data:ne,method:T.method,action:O},O,ne))},currentTarget:T}]})}}for(var O_=0;O_<eo.length;O_++){var j_=eo[O_],PU=j_.toLowerCase(),DU=j_[0].toUpperCase()+j_.slice(1);Yr(PU,"on"+DU)}Yr(ic,"onAnimationEnd"),Yr(Hp,"onAnimationIteration"),Yr(ac,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(vx,"onTransitionRun"),Yr(Fp,"onTransitionStart"),Yr(bx,"onTransitionCancel"),Yr(Ks,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Co("onBeforeInput",["compositionend","keypress","textInput","paste"]),Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oh));function Nj(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],T=v.event;v=v.listeners;e:{var O=void 0;if(l)for(var I=v.length-1;0<=I;I--){var F=v[I],ne=F.instance,me=F.currentTarget;if(F=F.listener,ne!==O&&T.isPropagationStopped())break e;O=F,T.currentTarget=me;try{O(T)}catch(Ee){oc(Ee)}T.currentTarget=null,O=ne}else for(I=0;I<v.length;I++){if(F=v[I],ne=F.instance,me=F.currentTarget,F=F.listener,ne!==O&&T.isPropagationStopped())break e;O=F,T.currentTarget=me;try{O(T)}catch(Ee){oc(Ee)}T.currentTarget=null,O=ne}}}}function ft(s,l){var h=l[qa];h===void 0&&(h=l[qa]=new Set);var v=s+"__bubble";h.has(v)||(Mj(l,s,2,!1),h.add(v))}function C_(s,l,h){var v=0;l&&(v|=4),Mj(h,s,v,l)}var kg="_reactListening"+Math.random().toString(36).slice(2);function N_(s){if(!s[kg]){s[kg]=!0,wp.forEach(function(h){h!=="selectionchange"&&(RU.has(h)||C_(h,!1,s),C_(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[kg]||(l[kg]=!0,C_("selectionchange",!1,l))}}function Mj(s,l,h,v){switch(sC(l)){case 2:var T=cH;break;case 8:T=uH;break;default:T=Y_}h=T.bind(null,l,h,s),T=void 0,!Yl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),v?T!==void 0?s.addEventListener(l,h,{capture:!0,passive:T}):s.addEventListener(l,h,!0):T!==void 0?s.addEventListener(l,h,{passive:T}):s.addEventListener(l,h,!1)}function M_(s,l,h,v,T){var O=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var F=v.stateNode.containerInfo;if(F===T)break;if(I===4)for(I=v.return;I!==null;){var ne=I.tag;if((ne===3||ne===4)&&I.stateNode.containerInfo===T)return;I=I.return}for(;F!==null;){if(I=jo(F),I===null)return;if(ne=I.tag,ne===5||ne===6||ne===26||ne===27){v=O=I;continue e}F=F.parentNode}}v=v.return}Sf(function(){var me=O,Ee=ql(h),Ae=[];e:{var be=Gp.get(s);if(be!==void 0){var xe=fu,Be=s;switch(s){case"keypress":if(Kl(h)===0)break e;case"keydown":case"keyup":xe=Cp;break;case"focusin":Be="focus",xe=Tf;break;case"focusout":Be="blur",xe=Tf;break;case"beforeblur":case"afterblur":xe=Tf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=fx;break;case ic:case Hp:case ac:xe=Af;break;case Ks:xe=Pp;break;case"scroll":case"scrollend":xe=ht;break;case"wheel":xe=Do;break;case"copy":case"cut":case"paste":xe=Gi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Np;break;case"toggle":case"beforetoggle":xe=Zl}var Ze=(l&4)!==0,It=!Ze&&(s==="scroll"||s==="scrollend"),le=Ze?be!==null?be+"Capture":null:be;Ze=[];for(var re=me,he;re!==null;){var ke=re;if(he=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||he===null||le===null||(ke=Mo(re,le),ke!=null&&Ze.push(sh(re,ke,he))),It)break;re=re.return}0<Ze.length&&(be=new xe(be,Be,null,h,Ee),Ae.push({event:be,listeners:Ze}))}}if((l&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",be&&h!==du&&(Be=h.relatedTarget||h.fromElement)&&(jo(Be)||Be[Oo]))break e;if((xe||be)&&(be=Ee.window===Ee?Ee:(be=Ee.ownerDocument)?be.defaultView||be.parentWindow:window,xe?(Be=h.relatedTarget||h.toElement,xe=me,Be=Be?jo(Be):null,Be!==null&&(It=a(Be),Ze=Be.tag,Be!==It||Ze!==5&&Ze!==27&&Ze!==6)&&(Be=null)):(xe=null,Be=me),xe!==Be)){if(Ze=kp,ke="onMouseLeave",le="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=Np,ke="onPointerLeave",le="onPointerEnter",re="pointer"),It=xe==null?be:Ya(xe),he=Be==null?be:Ya(Be),be=new Ze(ke,re+"leave",xe,h,Ee),be.target=It,be.relatedTarget=he,ke=null,jo(Ee)===me&&(Ze=new Ze(le,re+"enter",Be,h,Ee),Ze.target=he,Ze.relatedTarget=It,ke=Ze),It=ke,xe&&Be)t:{for(Ze=LU,le=xe,re=Be,he=0,ke=le;ke;ke=Ze(ke))he++;ke=0;for(var We=re;We;We=Ze(We))ke++;for(;0<he-ke;)le=Ze(le),he--;for(;0<ke-he;)re=Ze(re),ke--;for(;he--;){if(le===re||re!==null&&le===re.alternate){Ze=le;break t}le=Ze(le),re=Ze(re)}Ze=null}else Ze=null;xe!==null&&Pj(Ae,be,xe,Ze,!1),Be!==null&&It!==null&&Pj(Ae,It,Be,Ze,!0)}}e:{if(be=me?Ya(me):window,xe=be.nodeName&&be.nodeName.toLowerCase(),xe==="select"||xe==="input"&&be.type==="file")var _t=ec;else if(qi(be))if(Ip)_t=yx;else{_t=gx;var Ue=_a}else xe=be.nodeName,!xe||xe.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&Gl(me.elementType)&&(_t=ec):_t=Fs;if(_t&&(_t=_t(s,me))){Lp(Ae,_t,h,Ee);break e}Ue&&Ue(s,be,me),s==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&va(be,"number",be.value)}switch(Ue=me?Ya(me):window,s){case"focusin":(qi(Ue)||Ue.contentEditable==="true")&&(Ja=Ue,_u=me,rc=null);break;case"focusout":rc=_u=Ja=null;break;case"mousedown":qs=!0;break;case"contextmenu":case"mouseup":case"dragend":qs=!1,zp(Ae,h,Ee);break;case"selectionchange":if(xu)break;case"keydown":case"keyup":zp(Ae,h,Ee)}var at;if(mu)e:{switch(s){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else zs?Rp(s,h)&&(pt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(pt="onCompositionStart");pt&&(pu&&h.locale!=="ko"&&(zs||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&zs&&(at=Va()):(Fi=Ee,Po="value"in Fi?Fi.value:Fi.textContent,zs=!0)),Ue=Tg(me,pt),0<Ue.length&&(pt=new Of(pt,s,null,h,Ee),Ae.push({event:pt,listeners:Ue}),at?pt.data=at:(at=Mf(h),at!==null&&(pt.data=at)))),(at=mx?bi(s,h):Us(s,h))&&(pt=Tg(me,"onBeforeInput"),0<pt.length&&(Ue=new Of("onBeforeInput","beforeinput",null,h,Ee),Ae.push({event:Ue,listeners:pt}),Ue.data=at)),MU(Ae,s,me,h,Ee)}Nj(Ae,l)})}function sh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Tg(s,l){for(var h=l+"Capture",v=[];s!==null;){var T=s,O=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=Mo(s,h),T!=null&&v.unshift(sh(s,T,O)),T=Mo(s,l),T!=null&&v.push(sh(s,T,O))),s.tag===3)return v;s=s.return}return[]}function LU(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Pj(s,l,h,v,T){for(var O=l._reactName,I=[];h!==null&&h!==v;){var F=h,ne=F.alternate,me=F.stateNode;if(F=F.tag,ne!==null&&ne===v)break;F!==5&&F!==26&&F!==27||me===null||(ne=me,T?(me=Mo(h,O),me!=null&&I.unshift(sh(h,me,ne))):T||(me=Mo(h,O),me!=null&&I.push(sh(h,me,ne)))),h=h.return}I.length!==0&&s.push({event:l,listeners:I})}var IU=/\r\n?/g,$U=/\u0000|\uFFFD/g;function Dj(s){return(typeof s=="string"?s:""+s).replace(IU,`
`).replace($U,"")}function Rj(s,l){return l=Dj(l),Dj(s)===l}function Lt(s,l,h,v,T,O){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||Hi(s,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&Hi(s,""+v);break;case"className":Dt(s,"class",v);break;case"tabIndex":Dt(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Dt(s,h,v);break;case"style":cu(s,v,O);break;case"data":if(l!=="object"){Dt(s,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=Ls(""+v),s.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(l!=="input"&&Lt(s,l,"name",T.name,T,null),Lt(s,l,"formEncType",T.formEncType,T,null),Lt(s,l,"formMethod",T.formMethod,T,null),Lt(s,l,"formTarget",T.formTarget,T,null)):(Lt(s,l,"encType",T.encType,T,null),Lt(s,l,"method",T.method,T,null),Lt(s,l,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=Ls(""+v),s.setAttribute(h,v);break;case"onClick":v!=null&&(s.onclick=Gr);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}h=Ls(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""+v):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":v===!0?s.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,v):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(h,v):s.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(h):s.setAttribute(h,v);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ct(s,"popover",v);break;case"xlinkActuate":Fr(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Fr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Fr(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Fr(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Fr(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Fr(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Fr(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ct(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=uu.get(h)||h,ct(s,h,v))}}function P_(s,l,h,v,T,O){switch(h){case"style":cu(s,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof v=="string"?Hi(s,v):(typeof v=="number"||typeof v=="bigint")&&Hi(s,""+v);break;case"onScroll":v!=null&&ft("scroll",s);break;case"onScrollEnd":v!=null&&ft("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),l=h.slice(2,T?h.length-7:void 0),O=s[Xn]||null,O=O!=null?O[h]:null,typeof O=="function"&&s.removeEventListener(l,O,T),typeof v=="function")){typeof O!="function"&&O!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,v,T);break e}h in s?s[h]=v:v===!0?s.setAttribute(h,""):ct(s,h,v)}}}function fr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var v=!1,T=!1,O;for(O in h)if(h.hasOwnProperty(O)){var I=h[O];if(I!=null)switch(O){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Lt(s,l,O,I,h,null)}}T&&Lt(s,l,"srcSet",h.srcSet,h,null),v&&Lt(s,l,"src",h.src,h,null);return;case"input":ft("invalid",s);var F=O=I=T=null,ne=null,me=null;for(v in h)if(h.hasOwnProperty(v)){var Ee=h[v];if(Ee!=null)switch(v){case"name":T=Ee;break;case"type":I=Ee;break;case"checked":ne=Ee;break;case"defaultChecked":me=Ee;break;case"value":O=Ee;break;case"defaultValue":F=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:Lt(s,l,v,Ee,h,null)}}Fl(s,O,F,ne,me,I,T,!1);return;case"select":ft("invalid",s),v=I=O=null;for(T in h)if(h.hasOwnProperty(T)&&(F=h[T],F!=null))switch(T){case"value":O=F;break;case"defaultValue":I=F;break;case"multiple":v=F;default:Lt(s,l,T,F,h,null)}l=O,h=I,s.multiple=!!v,l!=null?$t(s,!!v,l,!1):h!=null&&$t(s,!!v,h,!0);return;case"textarea":ft("invalid",s),O=T=v=null;for(I in h)if(h.hasOwnProperty(I)&&(F=h[I],F!=null))switch(I){case"value":v=F;break;case"defaultValue":T=F;break;case"children":O=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Lt(s,l,I,F,h,null)}Ds(s,v,T,O);return;case"option":for(ne in h)if(h.hasOwnProperty(ne)&&(v=h[ne],v!=null))switch(ne){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Lt(s,l,ne,v,h,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(v=0;v<oh.length;v++)ft(oh[v],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in h)if(h.hasOwnProperty(me)&&(v=h[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Lt(s,l,me,v,h,null)}return;default:if(Gl(l)){for(Ee in h)h.hasOwnProperty(Ee)&&(v=h[Ee],v!==void 0&&P_(s,l,Ee,v,h,void 0));return}}for(F in h)h.hasOwnProperty(F)&&(v=h[F],v!=null&&Lt(s,l,F,v,h,null))}function BU(s,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,I=null,F=null,ne=null,me=null,Ee=null;for(xe in h){var Ae=h[xe];if(h.hasOwnProperty(xe)&&Ae!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":ne=Ae;default:v.hasOwnProperty(xe)||Lt(s,l,xe,null,v,Ae)}}for(var be in v){var xe=v[be];if(Ae=h[be],v.hasOwnProperty(be)&&(xe!=null||Ae!=null))switch(be){case"type":O=xe;break;case"name":T=xe;break;case"checked":me=xe;break;case"defaultChecked":Ee=xe;break;case"value":I=xe;break;case"defaultValue":F=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:xe!==Ae&&Lt(s,l,be,xe,v,Ae)}}xf(s,I,F,ne,me,Ee,O,T);return;case"select":xe=I=F=be=null;for(O in h)if(ne=h[O],h.hasOwnProperty(O)&&ne!=null)switch(O){case"value":break;case"multiple":xe=ne;default:v.hasOwnProperty(O)||Lt(s,l,O,null,v,ne)}for(T in v)if(O=v[T],ne=h[T],v.hasOwnProperty(T)&&(O!=null||ne!=null))switch(T){case"value":be=O;break;case"defaultValue":F=O;break;case"multiple":I=O;default:O!==ne&&Lt(s,l,T,O,v,ne)}l=F,h=I,v=xe,be!=null?$t(s,!!h,be,!1):!!v!=!!h&&(l!=null?$t(s,!!h,l,!0):$t(s,!!h,h?[]:"",!1));return;case"textarea":xe=be=null;for(F in h)if(T=h[F],h.hasOwnProperty(F)&&T!=null&&!v.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Lt(s,l,F,null,v,T)}for(I in v)if(T=v[I],O=h[I],v.hasOwnProperty(I)&&(T!=null||O!=null))switch(I){case"value":be=T;break;case"defaultValue":xe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==O&&Lt(s,l,I,T,v,O)}Wa(s,be,xe);return;case"option":for(var Be in h)if(be=h[Be],h.hasOwnProperty(Be)&&be!=null&&!v.hasOwnProperty(Be))switch(Be){case"selected":s.selected=!1;break;default:Lt(s,l,Be,null,v,be)}for(ne in v)if(be=v[ne],xe=h[ne],v.hasOwnProperty(ne)&&be!==xe&&(be!=null||xe!=null))switch(ne){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Lt(s,l,ne,be,v,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in h)be=h[Ze],h.hasOwnProperty(Ze)&&be!=null&&!v.hasOwnProperty(Ze)&&Lt(s,l,Ze,null,v,be);for(me in v)if(be=v[me],xe=h[me],v.hasOwnProperty(me)&&be!==xe&&(be!=null||xe!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:Lt(s,l,me,be,v,xe)}return;default:if(Gl(l)){for(var It in h)be=h[It],h.hasOwnProperty(It)&&be!==void 0&&!v.hasOwnProperty(It)&&P_(s,l,It,void 0,v,be);for(Ee in v)be=v[Ee],xe=h[Ee],!v.hasOwnProperty(Ee)||be===xe||be===void 0&&xe===void 0||P_(s,l,Ee,be,v,xe);return}}for(var le in h)be=h[le],h.hasOwnProperty(le)&&be!=null&&!v.hasOwnProperty(le)&&Lt(s,l,le,null,v,be);for(Ae in v)be=v[Ae],xe=h[Ae],!v.hasOwnProperty(Ae)||be===xe||be==null&&xe==null||Lt(s,l,Ae,be,v,xe)}function Lj(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zU(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var T=h[v],O=T.transferSize,I=T.initiatorType,F=T.duration;if(O&&F&&Lj(I)){for(I=0,F=T.responseEnd,v+=1;v<h.length;v++){var ne=h[v],me=ne.startTime;if(me>F)break;var Ee=ne.transferSize,Ae=ne.initiatorType;Ee&&Lj(Ae)&&(ne=ne.responseEnd,I+=Ee*(ne<F?1:(F-me)/(ne-me)))}if(--v,l+=8*(O+I)/(T.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var D_=null,R_=null;function Ag(s){return s.nodeType===9?s:s.ownerDocument}function Ij(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $j(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function L_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var I_=null;function UU(){var s=window.event;return s&&s.type==="popstate"?s===I_?!1:(I_=s,!0):(I_=null,!1)}var Bj=typeof setTimeout=="function"?setTimeout:void 0,HU=typeof clearTimeout=="function"?clearTimeout:void 0,zj=typeof Promise=="function"?Promise:void 0,FU=typeof queueMicrotask=="function"?queueMicrotask:typeof zj<"u"?function(s){return zj.resolve(null).then(s).catch(GU)}:Bj;function GU(s){setTimeout(function(){throw s})}function ll(s){return s==="head"}function Uj(s,l){var h=l,v=0;do{var T=h.nextSibling;if(s.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(v===0){s.removeChild(T),Ku(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")lh(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,lh(h);for(var O=h.firstChild;O;){var I=O.nextSibling,F=O.nodeName;O[zl]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=I}}else h==="body"&&lh(s.ownerDocument.body);h=T}while(h);Ku(l)}function Hj(s,l){var h=s;s=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=v}while(h)}function $_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":$_(h),gf(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function qU(s,l,h,v){for(;s.nodeType===1;){var T=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[zl])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=Xi(s.nextSibling),s===null)break}return null}function YU(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Xi(s.nextSibling),s===null))return null;return s}function Fj(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Xi(s.nextSibling),s===null))return null;return s}function B_(s){return s.data==="$?"||s.data==="$~"}function z_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function KU(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function Xi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var U_=null;function Gj(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return Xi(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function qj(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function Yj(s,l,h){switch(l=Ag(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lh(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);gf(s)}var Ji=new Map,Kj=new Set;function Og(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vo=J.d;J.d={f:WU,r:VU,D:ZU,C:XU,L:JU,m:QU,X:tH,S:eH,M:nH};function WU(){var s=Vo.f(),l=bg();return s||l}function VU(s){var l=Ns(s);l!==null&&l.tag===5&&l.type==="form"?uO(l):Vo.r(s)}var Gu=typeof document>"u"?null:document;function Wj(s,l,h){var v=Gu;if(v&&typeof l=="string"&&l){var T=Wt(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),Kj.has(T)||(Kj.add(T),s={rel:s,crossOrigin:h,href:l},v.querySelector(T)===null&&(l=v.createElement("link"),fr(l,"link",s),An(l),v.head.appendChild(l)))}}function ZU(s){Vo.D(s),Wj("dns-prefetch",s,null)}function XU(s,l){Vo.C(s,l),Wj("preconnect",s,l)}function JU(s,l,h){Vo.L(s,l,h);var v=Gu;if(v&&s&&l){var T='link[rel="preload"][as="'+Wt(l)+'"]';l==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+Wt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+Wt(h.imageSizes)+'"]')):T+='[href="'+Wt(s)+'"]';var O=T;switch(l){case"style":O=qu(s);break;case"script":O=Yu(s)}Ji.has(O)||(s=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),Ji.set(O,s),v.querySelector(T)!==null||l==="style"&&v.querySelector(ch(O))||l==="script"&&v.querySelector(uh(O))||(l=v.createElement("link"),fr(l,"link",s),An(l),v.head.appendChild(l)))}}function QU(s,l){Vo.m(s,l);var h=Gu;if(h&&s){var v=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Wt(v)+'"][href="'+Wt(s)+'"]',O=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Yu(s)}if(!Ji.has(O)&&(s=p({rel:"modulepreload",href:s},l),Ji.set(O,s),h.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(uh(O)))return}v=h.createElement("link"),fr(v,"link",s),An(v),h.head.appendChild(v)}}}function eH(s,l,h){Vo.S(s,l,h);var v=Gu;if(v&&s){var T=Ms(v).hoistableStyles,O=qu(s);l=l||"default";var I=T.get(O);if(!I){var F={loading:0,preload:null};if(I=v.querySelector(ch(O)))F.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":l},h),(h=Ji.get(O))&&H_(s,h);var ne=I=v.createElement("link");An(ne),fr(ne,"link",s),ne._p=new Promise(function(me,Ee){ne.onload=me,ne.onerror=Ee}),ne.addEventListener("load",function(){F.loading|=1}),ne.addEventListener("error",function(){F.loading|=2}),F.loading|=4,jg(I,l,v)}I={type:"stylesheet",instance:I,count:1,state:F},T.set(O,I)}}}function tH(s,l){Vo.X(s,l);var h=Gu;if(h&&s){var v=Ms(h).hoistableScripts,T=Yu(s),O=v.get(T);O||(O=h.querySelector(uh(T)),O||(s=p({src:s,async:!0},l),(l=Ji.get(T))&&F_(s,l),O=h.createElement("script"),An(O),fr(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(T,O))}}function nH(s,l){Vo.M(s,l);var h=Gu;if(h&&s){var v=Ms(h).hoistableScripts,T=Yu(s),O=v.get(T);O||(O=h.querySelector(uh(T)),O||(s=p({src:s,async:!0,type:"module"},l),(l=Ji.get(T))&&F_(s,l),O=h.createElement("script"),An(O),fr(O,"link",s),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(T,O))}}function Vj(s,l,h,v){var T=(T=pe.current)?Og(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=qu(h.href),h=Ms(T).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=qu(h.href);var O=Ms(T).hoistableStyles,I=O.get(s);if(I||(T=T.ownerDocument||T,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,I),(O=T.querySelector(ch(s)))&&!O._p&&(I.instance=O,I.state.loading=5),Ji.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ji.set(s,h),O||rH(T,s,h,I.state))),l&&v===null)throw Error(r(528,""));return I}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Yu(h),h=Ms(T).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function qu(s){return'href="'+Wt(s)+'"'}function ch(s){return'link[rel="stylesheet"]['+s+"]"}function Zj(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function rH(s,l,h,v){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=s.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),fr(l,"link",h),An(l),s.head.appendChild(l))}function Yu(s){return'[src="'+Wt(s)+'"]'}function uh(s){return"script[async]"+s}function Xj(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=s.querySelector('style[data-href~="'+Wt(h.href)+'"]');if(v)return l.instance=v,An(v),v;var T=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),An(v),fr(v,"style",T),jg(v,h.precedence,s),l.instance=v;case"stylesheet":T=qu(h.href);var O=s.querySelector(ch(T));if(O)return l.state.loading|=4,l.instance=O,An(O),O;v=Zj(h),(T=Ji.get(T))&&H_(v,T),O=(s.ownerDocument||s).createElement("link"),An(O);var I=O;return I._p=new Promise(function(F,ne){I.onload=F,I.onerror=ne}),fr(O,"link",v),l.state.loading|=4,jg(O,h.precedence,s),l.instance=O;case"script":return O=Yu(h.src),(T=s.querySelector(uh(O)))?(l.instance=T,An(T),T):(v=h,(T=Ji.get(O))&&(v=p({},h),F_(v,T)),s=s.ownerDocument||s,T=s.createElement("script"),An(T),fr(T,"link",v),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,jg(v,h.precedence,s));return l.instance}function jg(s,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,O=T,I=0;I<v.length;I++){var F=v[I];if(F.dataset.precedence===l)O=F;else if(O!==T)break}O?O.parentNode.insertBefore(s,O.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function H_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function F_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Cg=null;function Jj(s,l,h){if(Cg===null){var v=new Map,T=Cg=new Map;T.set(h,v)}else T=Cg,v=T.get(h),v||(v=new Map,T.set(h,v));if(v.has(s))return v;for(v.set(s,null),h=h.getElementsByTagName(s),T=0;T<h.length;T++){var O=h[T];if(!(O[zl]||O[Tn]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var I=O.getAttribute(l)||"";I=s+I;var F=v.get(I);F?F.push(O):v.set(I,[O])}}return v}function Qj(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function iH(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function eC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aH(s,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=qu(v.href),O=l.querySelector(ch(T));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Ng.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=O,An(O);return}O=l.ownerDocument||l,v=Zj(v),(T=Ji.get(T))&&H_(v,T),O=O.createElement("link"),An(O);var I=O;I._p=new Promise(function(F,ne){I.onload=F,I.onerror=ne}),fr(O,"link",v),h.instance=O}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Ng.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var G_=0;function oH(s,l){return s.stylesheets&&s.count===0&&Pg(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var v=setTimeout(function(){if(s.stylesheets&&Pg(s,s.stylesheets),s.unsuspend){var O=s.unsuspend;s.unsuspend=null,O()}},6e4+l);0<s.imgBytes&&G_===0&&(G_=62500*zU());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Pg(s,s.stylesheets),s.unsuspend)){var O=s.unsuspend;s.unsuspend=null,O()}},(s.imgBytes>G_?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(T)}}:null}function Ng(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mg=null;function Pg(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mg=new Map,l.forEach(sH,s),Mg=null,Ng.call(s))}function sH(s,l){if(!(l.state.loading&4)){var h=Mg.get(s);if(h)var v=h.get(null);else{h=new Map,Mg.set(s,h);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var I=T[O];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),v=I)}v&&h.set(null,v)}T=l.instance,I=T.getAttribute("data-precedence"),O=h.get(I)||v,O===v&&h.set(null,T),h.set(I,T),this.count++,v=Ng.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),O?O.parentNode.insertBefore(T,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var dh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function lH(s,l,h,v,T,O,I,F,ne){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.hiddenUpdates=hf(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function tC(s,l,h,v,T,O,I,F,ne,me,Ee,Ae){return s=new lH(s,l,h,I,ne,me,Ee,Ae,F),l=1,O===!0&&(l|=24),O=wr(3,null,null,l),s.current=O,O.stateNode=s,l=Sx(),l.refCount++,s.pooledCache=l,l.refCount++,O.memoizedState={element:v,isDehydrated:h,cache:l},Ax(O),s}function nC(s){return s?(s=Ro,s):Ro}function rC(s,l,h,v,T,O){T=nC(T),v.context===null?v.context=T:v.pendingContext=T,v=Xs(l),v.payload={element:h},O=O===void 0?null:O,O!==null&&(v.callback=O),h=Js(s,v,l),h!==null&&(Qr(h,s,l),Ff(h,s,l))}function iC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function q_(s,l){iC(s,l),(s=s.alternate)&&iC(s,l)}function aC(s){if(s.tag===13||s.tag===31){var l=Wi(s,67108864);l!==null&&Qr(l,s,67108864),q_(s,67108864)}}function oC(s){if(s.tag===13||s.tag===31){var l=Ei();l=Hr(l);var h=Wi(s,l);h!==null&&Qr(h,s,l),q_(s,l)}}var Dg=!0;function cH(s,l,h,v){var T=q.T;q.T=null;var O=J.p;try{J.p=2,Y_(s,l,h,v)}finally{J.p=O,q.T=T}}function uH(s,l,h,v){var T=q.T;q.T=null;var O=J.p;try{J.p=8,Y_(s,l,h,v)}finally{J.p=O,q.T=T}}function Y_(s,l,h,v){if(Dg){var T=K_(v);if(T===null)M_(s,l,v,Rg,h),lC(s,v);else if(fH(T,s,l,h,v))v.stopPropagation();else if(lC(s,v),l&4&&-1<dH.indexOf(s)){for(;T!==null;){var O=Ns(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var I=To(O.pendingLanes);if(I!==0){var F=O;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var ne=1<<31-Or(I);F.entanglements[1]|=ne,I&=~ne}oo(O),(kt&6)===0&&(yg=Xe()+500,ah(0))}}break;case 31:case 13:F=Wi(O,2),F!==null&&Qr(F,O,2),bg(),q_(O,2)}if(O=K_(v),O===null&&M_(s,l,v,Rg,h),O===T)break;T=O}T!==null&&v.stopPropagation()}else M_(s,l,v,null,h)}}function K_(s){return s=ql(s),W_(s)}var Rg=null;function W_(s){if(Rg=null,s=jo(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Rg=s,null}function sC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case At:return 2;case yt:return 8;case Zn:case hi:return 32;case mi:return 268435456;default:return 32}default:return 32}}var V_=!1,cl=null,ul=null,dl=null,fh=new Map,hh=new Map,fl=[],dH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lC(s,l){switch(s){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":fh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(l.pointerId)}}function mh(s,l,h,v,T,O){return s===null||s.nativeEvent!==O?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:O,targetContainers:[T]},l!==null&&(l=Ns(l),l!==null&&aC(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function fH(s,l,h,v,T){switch(l){case"focusin":return cl=mh(cl,s,l,h,v,T),!0;case"dragenter":return ul=mh(ul,s,l,h,v,T),!0;case"mouseover":return dl=mh(dl,s,l,h,v,T),!0;case"pointerover":var O=T.pointerId;return fh.set(O,mh(fh.get(O)||null,s,l,h,v,T)),!0;case"gotpointercapture":return O=T.pointerId,hh.set(O,mh(hh.get(O)||null,s,l,h,v,T)),!0}return!1}function cC(s){var l=jo(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,pf(s.priority,function(){oC(h)});return}}else if(l===31){if(l=c(h),l!==null){s.blockedOn=l,pf(s.priority,function(){oC(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=K_(s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);du=v,h.target.dispatchEvent(v),du=null}else return l=Ns(h),l!==null&&aC(l),s.blockedOn=h,!1;l.shift()}return!0}function uC(s,l,h){Lg(s)&&h.delete(l)}function hH(){V_=!1,cl!==null&&Lg(cl)&&(cl=null),ul!==null&&Lg(ul)&&(ul=null),dl!==null&&Lg(dl)&&(dl=null),fh.forEach(uC),hh.forEach(uC)}function Ig(s,l){s.blockedOn===l&&(s.blockedOn=null,V_||(V_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hH)))}var $g=null;function dC(s){$g!==s&&($g=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$g===s&&($g=null);for(var l=0;l<s.length;l+=3){var h=s[l],v=s[l+1],T=s[l+2];if(typeof v!="function"){if(W_(v||h)===null)continue;break}var O=Ns(h);O!==null&&(s.splice(l,3),l-=3,Kx(O,{pending:!0,data:T,method:h.method,action:v},v,T))}}))}function Ku(s){function l(ne){return Ig(ne,s)}cl!==null&&Ig(cl,s),ul!==null&&Ig(ul,s),dl!==null&&Ig(dl,s),fh.forEach(l),hh.forEach(l);for(var h=0;h<fl.length;h++){var v=fl[h];v.blockedOn===s&&(v.blockedOn=null)}for(;0<fl.length&&(h=fl[0],h.blockedOn===null);)cC(h),h.blockedOn===null&&fl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var T=h[v],O=h[v+1],I=T[Xn]||null;if(typeof O=="function")I||dC(h);else if(I){var F=null;if(O&&O.hasAttribute("formAction")){if(T=O,I=O[Xn]||null)F=I.formAction;else if(W_(T)!==null)continue}else F=I.action;typeof F=="function"?h[v+1]=F:(h.splice(v,3),v-=3),dC(h)}}}function fC(){function s(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(I){return T=I})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function Z_(s){this._internalRoot=s}Bg.prototype.render=Z_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,v=Ei();rC(h,v,s,l,null,null)},Bg.prototype.unmount=Z_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;rC(s.current,2,null,s,null,null),bg(),l[Oo]=null}};function Bg(s){this._internalRoot=s}Bg.prototype.unstable_scheduleHydration=function(s){if(s){var l=mf();s={blockedOn:null,target:s,priority:l};for(var h=0;h<fl.length&&l!==0&&l<fl[h].priority;h++);fl.splice(h,0,s),h===0&&cC(s)}};var hC=t.version;if(hC!=="19.2.1")throw Error(r(527,hC,"19.2.1"));J.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var mH={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{Ft=zg.inject(mH),mn=zg}catch{}}return gh.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,v="",T=xO,O=_O,I=wO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=tC(s,1,!1,null,null,h,v,null,T,O,I,fC),s[Oo]=l.current,N_(s),new Z_(l)},gh.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var v=!1,T="",O=xO,I=_O,F=wO,ne=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(F=h.onRecoverableError),h.formState!==void 0&&(ne=h.formState)),l=tC(s,1,!0,l,h??null,v,T,ne,O,I,F,fC),l.context=nC(null),h=l.current,v=Ei(),v=Hr(v),T=Xs(v),T.callback=null,Js(h,T,v),h=v,l.current.lanes=h,Ao(l,h),oo(l),s[Oo]=l.current,N_(s),new Bg(l)},gh.version="19.2.1",gh}var SC;function EH(){if(SC)return Q_.exports;SC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Q_.exports=SH(),Q_.exports}var kH=EH();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EC="popstate";function TH(e={}){function t(i,a){let{pathname:o="/",search:c="",hash:u=""}=ru(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),OS("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof a=="string"?a:Qh(a))}function r(i,a){ua(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return OH(t,n,r,e)}function dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ua(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AH(){return Math.random().toString(36).substring(2,10)}function kC(e,t){return{usr:e.state,key:e.key,idx:t}}function OS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ru(t):t,state:n,key:t&&t.key||r||AH()}}function Qh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ru(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function OH(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let E=m(),A=E==null?null:E-f;f=E,u&&u({action:c,location:w.location,delta:A})}function g(E,A){c="PUSH";let C=OS(w.location,E,A);n&&n(C,E),f=m()+1;let j=kC(C,f),P=w.createHref(C);try{o.pushState(j,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}a&&u&&u({action:c,location:w.location,delta:1})}function b(E,A){c="REPLACE";let C=OS(w.location,E,A);n&&n(C,E),f=m();let j=kC(C,f),P=w.createHref(C);o.replaceState(j,"",P),a&&u&&u({action:c,location:w.location,delta:0})}function _(E){return jH(E)}let w={get action(){return c},get location(){return e(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(EC,p),u=E,()=>{i.removeEventListener(EC,p),u=null}},createHref(E){return t(i,E)},createURL:_,encodeLocation(E){let A=_(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:b,go(E){return o.go(E)}};return w}function jH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Qh(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function n3(e,t,n="/"){return CH(e,t,n,!1)}function CH(e,t,n,r){let i=typeof t=="string"?ru(t):t,a=cs(i.pathname||"/",n);if(a==null)return null;let o=r3(e);NH(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=HH(a);c=zH(o[u],f,r)}return c}function r3(e,t=[],n=[],r="",i=!1){let a=(o,c,u=i,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;dn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=os([r,m.relativePath]),g=n.concat(m);o.children&&o.children.length>0&&(dn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),r3(o.children,t,g,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:$H(p,o.index),routesMeta:g})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of i3(o.path))a(o,c,!0,u)}),t}function i3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=i3(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function NH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MH=/^:[\w-]+$/,PH=3,DH=2,RH=1,LH=10,IH=-2,TC=e=>e==="*";function $H(e,t){let n=e.split("/"),r=n.length;return n.some(TC)&&(r+=IH),t&&(r+=DH),n.filter(i=>!TC(i)).reduce((i,a)=>i+(MH.test(a)?PH:a===""?RH:LH),r)}function BH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function zH(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=ly({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=ly({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:os([a,p.pathname]),pathnameBase:KH(os([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=os([a,p.pathnameBase]))}return o}function ly(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=UH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},g)=>{if(m==="*"){let _=c[g]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=c[g];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function UH(e,t=!1,n=!0){ua(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function HH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ua(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var FH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GH=e=>FH.test(e);function qH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ru(e):e,a;if(n)if(GH(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ua(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=AC(n.substring(1),"/"):a=AC(n,t)}else a=t;return{pathname:a,search:WH(r),hash:VH(i)}}function AC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a3(e){let t=YH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function o3(e,t,n,r=!1){let i;typeof e=="string"?i=ru(e):(i={...e},dn(!i.pathname||!i.pathname.includes("?"),rw("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),rw("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),rw("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?t[p]:"/"}let u=qH(i,c),f=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var os=e=>e.join("/").replace(/\/\/+/g,"/"),KH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function XH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var s3=["POST","PUT","PATCH","DELETE"];new Set(s3);var JH=["GET",...s3];new Set(JH);var Yd=S.createContext(null);Yd.displayName="DataRouter";var zv=S.createContext(null);zv.displayName="DataRouterState";S.createContext(!1);var l3=S.createContext({isTransitioning:!1});l3.displayName="ViewTransition";var QH=S.createContext(new Map);QH.displayName="Fetchers";var eF=S.createContext(null);eF.displayName="Await";var Fa=S.createContext(null);Fa.displayName="Navigation";var Nm=S.createContext(null);Nm.displayName="Location";var vs=S.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var kk=S.createContext(null);kk.displayName="RouteError";function tF(e,{relative:t}={}){dn(Mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Fa),{hash:i,pathname:a,search:o}=Pm(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:os([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Mm(){return S.useContext(Nm)!=null}function Cl(){return dn(Mm(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Nm).location}var c3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u3(e){S.useContext(Fa).static||S.useLayoutEffect(e)}function nF(){let{isDataRoute:e}=S.useContext(vs);return e?pF():rF()}function rF(){dn(Mm(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Yd),{basename:t,navigator:n}=S.useContext(Fa),{matches:r}=S.useContext(vs),{pathname:i}=Cl(),a=JSON.stringify(a3(r)),o=S.useRef(!1);return u3(()=>{o.current=!0}),S.useCallback((u,f={})=>{if(ua(o.current,c3),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=o3(u,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:os([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}S.createContext(null);function Pm(e,{relative:t}={}){let{matches:n}=S.useContext(vs),{pathname:r}=Cl(),i=JSON.stringify(a3(n));return S.useMemo(()=>o3(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function iF(e,t){return d3(e,t)}function d3(e,t,n,r,i){dn(Mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Fa),{matches:o}=S.useContext(vs),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let C=p&&p.path||"";f3(f,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Cl(),b;if(t){let C=typeof t=="string"?ru(t):t;dn(m==="/"||C.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=g;let _=b.pathname||"/",w=_;if(m!=="/"){let C=m.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=n3(e,{pathname:w});ua(p||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ua(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=cF(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:os([m,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:os([m,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,i);return t&&A?S.createElement(Nm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function aF(){let e=mF(),t=ZH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}var oF=S.createElement(aF,null),sF=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(vs.Provider,{value:this.props.routeContext},S.createElement(kk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lF({routeContext:e,match:t,children:n}){let r=S.useContext(Yd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(vs.Provider,{value:e},n)}function cF(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);dn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:g,errors:b}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:XH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,g)=>{let b,_=!1,w=null,E=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||oF,c&&(u<0&&g===0?(f3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):u===g&&(_=!0,E=p.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,g+1)),C=()=>{let j;return b?j=w:_?j=E:p.route.Component?j=S.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,S.createElement(lF,{match:p,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(sF,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):C()},null)}function Tk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uF(e){let t=S.useContext(Yd);return dn(t,Tk(e)),t}function dF(e){let t=S.useContext(zv);return dn(t,Tk(e)),t}function fF(e){let t=S.useContext(vs);return dn(t,Tk(e)),t}function Ak(e){let t=fF(e),n=t.matches[t.matches.length-1];return dn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hF(){return Ak("useRouteId")}function mF(){let e=S.useContext(kk),t=dF("useRouteError"),n=Ak("useRouteError");return e!==void 0?e:t.errors?.[n]}function pF(){let{router:e}=uF("useNavigate"),t=Ak("useNavigate"),n=S.useRef(!1);return u3(()=>{n.current=!0}),S.useCallback(async(i,a={})=>{ua(n.current,c3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var OC={};function f3(e,t,n){!t&&!OC[e]&&(OC[e]=!0,ua(!1,n))}S.memo(gF);function gF({routes:e,future:t,state:n,unstable_onError:r}){return d3(e,void 0,n,r,t)}function G0(e){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yF({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){dn(!Mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof n=="string"&&(n=ru(n));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:b="default"}=n,_=S.useMemo(()=>{let w=cs(f,c);return w==null?null:{location:{pathname:w,search:m,hash:p,state:g,key:b},navigationType:r}},[c,f,m,p,g,b,r]);return ua(_!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(Fa.Provider,{value:u},S.createElement(Nm.Provider,{children:t,value:_}))}function vF({children:e,location:t}){return iF(jS(e),t)}function jS(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,jS(r.props.children,a));return}dn(r.type===G0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jS(r.props.children,a)),n.push(o)}),n}var q0="get",Y0="application/x-www-form-urlencoded";function Uv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function bF(e){return Uv(e)&&e.tagName.toLowerCase()==="button"}function xF(e){return Uv(e)&&e.tagName.toLowerCase()==="form"}function _F(e){return Uv(e)&&e.tagName.toLowerCase()==="input"}function wF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SF(e,t){return e.button===0&&(!t||t==="_self")&&!wF(e)}var Ug=null;function EF(){if(Ug===null)try{new FormData(document.createElement("form"),0),Ug=!1}catch{Ug=!0}return Ug}var kF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iw(e){return e!=null&&!kF.has(e)?(ua(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Y0}"`),null):e}function TF(e,t){let n,r,i,a,o;if(xF(e)){let c=e.getAttribute("action");r=c?cs(c,t):null,n=e.getAttribute("method")||q0,i=iw(e.getAttribute("enctype"))||Y0,a=new FormData(e)}else if(bF(e)||_F(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?cs(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||q0,i=iw(e.getAttribute("formenctype"))||iw(c.getAttribute("enctype"))||Y0,a=new FormData(c,e),!EF()){let{name:f,type:m,value:p}=e;if(m==="image"){let g=f?`${f}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else f&&a.append(f,p)}}else{if(Uv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=q0,r=null,i=Y0,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ok(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AF(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&cs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OF(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CF(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await OF(a,n);return o.links?o.links():[]}return[]}));return DF(r.flat(1).filter(jF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jC(e,t,n,r,i,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?t.filter((u,f)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function NF(e,t,{includeHydrateFallback:n}={}){return MF(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function MF(e){return[...new Set(e)]}function PF(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function DF(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(PF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function h3(){let e=S.useContext(Yd);return Ok(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RF(){let e=S.useContext(zv);return Ok(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jk=S.createContext(void 0);jk.displayName="FrameworkContext";function m3(){let e=S.useContext(jk);return Ok(e,"You must render this element inside a <HydratedRouter> element"),e}function LF(e,t){let n=S.useContext(jk),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,g=S.useRef(null);S.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=A=>{A.forEach(C=>{o(C.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:yh(c,b),onBlur:yh(u,_),onMouseEnter:yh(f,b),onMouseLeave:yh(m,_),onTouchStart:yh(p,b)}]:[!1,g,{}]}function yh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function IF({page:e,...t}){let{router:n}=h3(),r=S.useMemo(()=>n3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(BF,{page:e,matches:r,...t}):null}function $F(e){let{manifest:t,routeModules:n}=m3(),[r,i]=S.useState([]);return S.useEffect(()=>{let a=!1;return CF(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function BF({page:e,matches:t,...n}){let r=Cl(),{manifest:i,routeModules:a}=m3(),{basename:o}=h3(),{loaderData:c,matches:u}=RF(),f=S.useMemo(()=>jC(e,t,u,i,r,"data"),[e,t,u,i,r]),m=S.useMemo(()=>jC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,w=!1;if(t.forEach(A=>{let C=i.routes[A.route.id];!C||!C.hasLoader||(!f.some(j=>j.route.id===A.route.id)&&A.route.id in c&&a[A.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:_.add(A.route.id))}),_.size===0)return[];let E=AF(e,o,"data");return w&&_.size>0&&E.searchParams.set("_routes",t.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[o,c,r,i,f,t,e,a]),g=S.useMemo(()=>NF(m,i),[m,i]),b=$F(m);return S.createElement(S.Fragment,null,p.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),g.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:w})=>S.createElement("link",{key:_,nonce:n.nonce,...w})))}function zF(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var p3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p3&&(window.__reactRouterVersion="7.10.1")}catch{}function UF({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current==null&&(i.current=TH({window:r,v5Compat:!0}));let a=i.current,[o,c]=S.useState({action:a.action,location:a.location}),u=S.useCallback(f=>{n===!1?c(f):S.startTransition(()=>c(f))},[n]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.createElement(yF,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y3=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:m,viewTransition:p,...g},b){let{basename:_,unstable_useTransitions:w}=S.useContext(Fa),E=typeof f=="string"&&g3.test(f),A,C=!1;if(typeof f=="string"&&E&&(A=f,p3))try{let W=new URL(window.location.href),H=f.startsWith("//")?new URL(W.protocol+f):new URL(f),G=cs(H.pathname,_);H.origin===W.origin&&G!=null?f=G+H.search+H.hash:C=!0}catch{ua(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=tF(f,{relative:i}),[P,M,D]=LF(r,g),$=qF(f,{replace:o,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:w});function U(W){t&&t(W),W.defaultPrevented||$(W)}let Y=S.createElement("a",{...g,...D,href:A||j,onClick:C||a?t:U,ref:zF(b,M),target:u,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?S.createElement(S.Fragment,null,Y,S.createElement(IF,{page:j})):Y});y3.displayName="Link";var HF=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...f},m){let p=Pm(o,{relative:f.relative}),g=Cl(),b=S.useContext(zv),{navigator:_,basename:w}=S.useContext(Fa),E=b!=null&&ZF(p)&&c===!0,A=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,C=g.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&w&&(j=cs(j,w)||j);const P=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=C===A||!i&&C.startsWith(A)&&C.charAt(P)==="/",D=j!=null&&(j===A||!i&&j.startsWith(A)&&j.charAt(A.length)==="/"),$={isActive:M,isPending:D,isTransitioning:E},U=M?t:void 0,Y;typeof r=="function"?Y=r($):Y=[r,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a($):a;return S.createElement(y3,{...f,"aria-current":U,className:Y,ref:m,style:W,to:o,viewTransition:c},typeof u=="function"?u($):u)});HF.displayName="NavLink";var FF=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=q0,action:c,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:p,...g},b)=>{let{unstable_useTransitions:_}=S.useContext(Fa),w=WF(),E=VF(c,{relative:f}),A=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&g3.test(c),j=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,D=M?.getAttribute("formmethod")||o,$=()=>w(M||P.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});_&&n!==!1?S.startTransition(()=>$()):$()};return S.createElement("form",{ref:b,method:A,action:E,onSubmit:r?u:j,...g,"data-discover":!C&&e==="render"?"true":void 0})});FF.displayName="Form";function GF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v3(e){let t=S.useContext(Yd);return dn(t,GF(e)),t}function qF(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:c}={}){let u=nF(),f=Cl(),m=Pm(e,{relative:a});return S.useCallback(p=>{if(SF(p,t)){p.preventDefault();let g=n!==void 0?n:Qh(f)===Qh(m),b=()=>u(e,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:o});c?S.startTransition(()=>b()):b()}},[f,u,m,n,r,t,e,i,a,o,c])}var YF=0,KF=()=>`__${String(++YF)}__`;function WF(){let{router:e}=v3("useSubmit"),{basename:t}=S.useContext(Fa),n=hF(),r=e.fetch,i=e.navigate;return S.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:m,body:p}=TF(a,t);if(o.navigate===!1){let g=o.fetcherKey||KF();await r(g,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function VF(e,{relative:t}={}){let{basename:n}=S.useContext(Fa),r=S.useContext(vs);dn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Pm(e||".",{relative:t})},o=Cl();if(e==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:os([n,a.pathname])),Qh(a)}function ZF(e,{relative:t}={}){let n=S.useContext(l3);dn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=v3("useViewTransitionState"),i=Pm(e,{relative:t});if(!n.isTransitioning)return!1;let a=cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ly(i.pathname,o)!=null||ly(i.pathname,a)!=null}var Kd=t3();const XF=ui(Kd);let JF={data:""},QF=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||JF,eG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tG=/\/\*[^]*?\*\/|  +/g,CC=/\n+/g,gl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?gl(o,a):a+"{"+gl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=gl(o,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=gl.p?gl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Zo={},b3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+b3(e[n]);return t}return e},nG=(e,t,n,r,i)=>{let a=b3(e),o=Zo[a]||(Zo[a]=(u=>{let f=0,m=11;for(;f<u.length;)m=101*m+u.charCodeAt(f++)>>>0;return"go"+m})(a));if(!Zo[o]){let u=a!==e?e:(f=>{let m,p,g=[{}];for(;m=eG.exec(f.replace(tG,""));)m[4]?g.shift():m[3]?(p=m[3].replace(CC," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(CC," ").trim();return g[0]})(e);Zo[o]=gl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let c=n&&Zo.g?Zo.g:null;return n&&(Zo.g=Zo[o]),((u,f,m,p)=>{p?f.data=f.data.replace(p,u):f.data.indexOf(u)===-1&&(f.data=m?u+f.data:f.data+u)})(Zo[o],t,r,c),o},rG=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let c=o(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":gl(c,""):c===!1?"":c}return r+i+(o??"")},"");function Hv(e){let t=this||{},n=e.call?e(t.p):e;return nG(n.unshift?n.raw?rG(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,QF(t.target),t.g,t.o,t.k)}let x3,CS,NS;Hv.bind({g:1});let us=Hv.bind({k:1});function iG(e,t,n,r){gl.p=t,x3=e,CS=n,NS=r}function Nl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let c=Object.assign({},a),u=c.className||i.className;n.p=Object.assign({theme:CS&&CS()},c),n.o=/ *go\d+/.test(u),c.className=Hv.apply(n,r)+(u?" "+u:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),NS&&f[0]&&NS(c),x3(f,c)}return i}}var aG=e=>typeof e=="function",cy=(e,t)=>aG(e)?e(t):e,oG=(()=>{let e=0;return()=>(++e).toString()})(),_3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),sG=20,Ck="default",w3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return w3(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},K0=[],S3={toasts:[],pausedAt:void 0,settings:{toastLimit:sG}},po={},E3=(e,t=Ck)=>{po[t]=w3(po[t]||S3,e),K0.forEach(([n,r])=>{n===t&&r(po[t])})},k3=e=>Object.keys(po).forEach(t=>E3(e,t)),lG=e=>Object.keys(po).find(t=>po[t].toasts.some(n=>n.id===e)),Fv=(e=Ck)=>t=>{E3(t,e)},cG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uG=(e={},t=Ck)=>{let[n,r]=S.useState(po[t]||S3),i=S.useRef(po[t]);S.useEffect(()=>(i.current!==po[t]&&r(po[t]),K0.push([t,r]),()=>{let o=K0.findIndex(([c])=>c===t);o>-1&&K0.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var c,u,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((c=e[o.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||cG[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:a}},dG=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||oG()}),Dm=e=>(t,n)=>{let r=dG(t,e,n);return Fv(r.toasterId||lG(r.id))({type:2,toast:r}),r.id},un=(e,t)=>Dm("blank")(e,t);un.error=Dm("error");un.success=Dm("success");un.loading=Dm("loading");un.custom=Dm("custom");un.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Fv(t)(n):k3(n)};un.dismissAll=e=>un.dismiss(void 0,e);un.remove=(e,t)=>{let n={type:4,toastId:e};t?Fv(t)(n):k3(n)};un.removeAll=e=>un.remove(void 0,e);un.promise=(e,t,n)=>{let r=un.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?cy(t.success,i):void 0;return a?un.success(a,{id:r,...n,...n?.success}):un.dismiss(r),i}).catch(i=>{let a=t.error?cy(t.error,i):void 0;a?un.error(a,{id:r,...n,...n?.error}):un.dismiss(r)}),e};var fG=1e3,hG=(e,t="default")=>{let{toasts:n,pausedAt:r}=uG(e,t),i=S.useRef(new Map).current,a=S.useCallback((p,g=fG)=>{if(i.has(p))return;let b=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,b)},[]);S.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(b=>{if(b.duration===1/0)return;let _=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(_<0){b.visible&&un.dismiss(b.id);return}return setTimeout(()=>un.dismiss(b.id,t),_)});return()=>{g.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let o=S.useCallback(Fv(t),[t]),c=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=S.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),f=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=S.useCallback((p,g)=>{let{reverseOrder:b=!1,gutter:_=8,defaultPosition:w}=g||{},E=n.filter(j=>(j.position||w)===(p.position||w)&&j.height),A=E.findIndex(j=>j.id===p.id),C=E.filter((j,P)=>P<A&&j.visible).length;return E.filter(j=>j.visible).slice(...b?[C+1]:[0,C]).reduce((j,P)=>j+(P.height||0)+_,0)},[n]);return S.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:f,calculateOffset:m}}},mG=us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pG=us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gG=us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yG=Nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vG=us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bG=Nl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${vG} 1s linear infinite;
`,xG=us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_G=us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wG=Nl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_G} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SG=Nl("div")`
  position: absolute;
`,EG=Nl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kG=us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TG=Nl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kG} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AG=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(TG,null,t):t:n==="blank"?null:S.createElement(EG,null,S.createElement(bG,{...r}),n!=="loading"&&S.createElement(SG,null,n==="error"?S.createElement(yG,{...r}):S.createElement(wG,{...r})))},OG=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jG=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CG="0%{opacity:0;} 100%{opacity:1;}",NG="0%{opacity:1;} 100%{opacity:0;}",MG=Nl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,PG=Nl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DG=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=_3()?[CG,NG]:[OG(n),jG(n)];return{animation:t?`${us(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${us(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RG=S.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?DG(e.position||t||"top-center",e.visible):{opacity:0},a=S.createElement(AG,{toast:e}),o=S.createElement(PG,{...e.ariaProps},cy(e.message,e));return S.createElement(MG,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):S.createElement(S.Fragment,null,a,o))});iG(S.createElement);var LG=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=S.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;r(e,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:a,className:t,style:n},i)},IG=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},$G=Hv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hg=16,T3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:f}=hG(n,a);return S.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Hg,left:Hg,right:Hg,bottom:Hg,pointerEvents:"none",...o},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(m=>{let p=m.position||t,g=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=IG(p,g);return S.createElement(LG,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?$G:"",style:b},m.type==="custom"?cy(m.message,m):i?i(m):S.createElement(RG,{toast:m,position:p}))}))},uy=un;function BG(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+o-1524.5}const zG=864e5;function UG(e){const t=(e-24405875e-1)*zG;return new Date(t)}function HG(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function FG(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),c=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,u]}const qh=Math.PI,Lc=qh/180,GG=180/qh,qG=86400;function YG(e){return e%=360,e<0?e+360:e}function KG(e,t){return(e-t+540)%360-180}function NC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function WG(e){const[t,n]=FG(e);return e+HG(t,Math.round(n))/qG}function MC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,c,u]of e[i])a+=o*Math.cos(c+u*t);n+=a*r,r*=t}return n*1e-8}function VG(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*Lc,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*Lc,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*Lc,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*Lc,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*Lc,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,f=0;for(const[m,p,g,b,_,w,E,A,C]of c){const j=m*n+p*r+g*i+b*a+_*o;u+=(w+E*t)*Math.sin(j),f+=(A+C*t)*Math.cos(j)}return u*=1e-4,f*=1e-4,{dpsi:u,deps:f}}function Fg(e){const t=WG(e),n=(t-2451545)/365250,r=MC(PC.L,n),i=MC(PC.R,n);let a=r+qh;a>2*qh&&(a-=2*qh);const{dpsi:o}=VG(t),c=o/3600*Lc,u=20.4898/(3600*i),f=a+c-u*Lc;return YG(f*GG)}function Un(e,t,n){const r=(t%360+360)%360,i=BG(e,1,1),a=Fg(i);let o=r-a;o<0&&(o+=360);let c=i+o/.98564736;const u=1e-6,f=5e-6;for(let g=0;g<25;g++){const b=Fg(c),_=KG(r,b);if(Math.abs(_)<u)break;const w=Fg(c+f),E=Fg(c-f),A=NC(w,b),C=NC(E,b),j=(A-C)/(2*f);c+=_/j}const m=UG(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const g=n/15-9;if(Math.abs(g)>1e-12)return new Date(p.getTime()+g*36e5)}return p}const PC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},ZG=(e,t)=>(e%t+t)%t,A3=(e,t)=>(e%t+t)%t,O3=e=>e instanceof Date&&!Number.isNaN(e.getTime()),DC=new Map;function j3(e,t=127.5){const n=`${e}@${t}`,r=DC.get(n);if(r)return r;const i=Un(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return DC.set(n,i),i}function C3(e,t=127.5){if(!O3(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=j3(n,t),i=e<r?n-1:n,a=ZG(i-4,60);return{useYear:i,index60Num:a}}const $r=["","","","","","","","","",""],si=["","","","","","","","","","","",""],MS={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},Ga={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},XG=["","","","","","","","","",""],JG=["","","","","","","","","","","",""],QG=["","","","","","","","","","","","","","","","","","","",""],eq=["","","","","","","","","","","","","","","","","","","","","","","",""],jd=new Set($r),em=new Set(si),Rn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Nk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dy=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],tq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},nq={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function ot(e,t=127.5){const{index60Num:n}=C3(e,t);return Nk[n]}function rq(e,t=127.5){return(ot(e,t)||"").charAt(0)}const iq=[2,4,6,8,0,2,4,6,8,0];function aq(e,t=127.5){const n=new Array(12);return n[0]=j3(e,t),n[1]=Un(e,345,t),n[2]=Un(e,15,t),n[3]=Un(e,45,t),n[4]=Un(e,75,t),n[5]=Un(e,105,t),n[6]=Un(e,135,t),n[7]=Un(e,165,t),n[8]=Un(e,195,t),n[9]=Un(e,225,t),n[10]=Un(e,255,t),n[11]=Un(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function oq(e,t=127.5){const{useYear:n}=C3(e,t),r=aq(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function sq(e,t=127.5){const n=rq(e,t),r=MS..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return iq[r]}function lq(e,t,n=127.5){return(sq(e,n)+(t-1))%10}function St(e,t=127.5){if(!O3(e))return"";const{monthIndex:n}=oq(e,t),r=(2+(n-1))%12,i=MS.[r],a=lq(e,n,t);return MS.[a]+i}const fy={JDN:2445731,idx:0};function N3(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),c=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+c-1524.5}function cq(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=fq(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function uq(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function gt(e,t){const n=cq(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=N3(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=A3(a-fy.JDN+fy.idx,60),c=Nk[o];if(!c)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return c}function dq(e,t){const n=new Date(e),r=uq(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=N3(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),c=A3(o-fy.JDN+fy.idx,60),u=Nk[c];if(!u)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${o}, jd=${a})`);return u}function fq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<dy.length;n+=1){const{branch:r,start:i,end:a}=dy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function hq(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<dy.length;n+=1){const{branch:r,start:i,end:a}=dy[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function mq(e,t,n,r){const i=$r.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),$r[a]}function $a(e,t,n){e instanceof Date||(e=new Date(e));const r=hq(e),i=si.indexOf(r),o=(n??gt(e,t)).charAt(0);return mq(e,o,i,t)+r}const RC=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,g))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,i,c);return c},pq=(e=>e?RC(e):RC),gq=e=>e;function yq(e,t=gq){const n=Yt.useSyncExternalStore(e.subscribe,Yt.useCallback(()=>t(e.getState()),[e,t]),Yt.useCallback(()=>t(e.getInitialState()),[e,t]));return Yt.useDebugValue(n),n}const LC=e=>{const t=pq(e),n=r=>yq(t,r);return Object.assign(n,t),n},iu=(e=>e?LC(e):LC);function vq(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const PS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return PS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return PS(r)(n)}}}},bq=(e,t)=>(n,r,i)=>{let a={storage:vq(()=>localStorage),partialize:w=>w,version:0,merge:(w,E)=>({...E,...w}),...t},o=!1;const c=new Set,u=new Set;let f=a.storage;if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const m=()=>{const w=a.partialize({...r()});return f.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,E)=>(p(w,E),m());const g=e((...w)=>(n(...w),m()),r,i);i.getInitialState=()=>g;let b;const _=()=>{var w,E;if(!f)return;o=!1,c.forEach(C=>{var j;return C((j=r())!=null?j:g)});const A=((E=a.onRehydrateStorage)==null?void 0:E.call(a,(w=r())!=null?w:g))||void 0;return PS(f.getItem.bind(f))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const j=a.migrate(C.state,C.version);return j instanceof Promise?j.then(P=>[!0,P]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var j;const[P,M]=C;if(b=a.merge(M,(j=r())!=null?j:g),n(b,!0),P)return m()}).then(()=>{A?.(b,void 0),b=r(),o=!0,u.forEach(C=>C(b))}).catch(C=>{A?.(void 0,C)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(f=w.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:w=>(c.add(w),()=>{c.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||_(),b||g},M3=bq;var Xo={},Gg={},DS=function(e,t){return DS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},DS(e,t)};function P3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");DS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hy=function(){return hy=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hy.apply(this,arguments)};function Wd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function D3(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function R3(e,t){return function(n,r){t(n,r,e)}}function L3(e,t,n,r,i,a){function o(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,g=!1,b=n.length-1;b>=0;b--){var _={};for(var w in r)_[w]=w==="access"?{}:r[w];for(var w in r.access)_.access[w]=r.access[w];_.addInitializer=function(A){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(A||null))};var E=(0,n[b])(c==="accessor"?{get:m.get,set:m.set}:m[u],_);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=o(E.get))&&(m.get=p),(p=o(E.set))&&(m.set=p),(p=o(E.init))&&i.unshift(p)}else(p=o(E))&&(c==="field"?i.unshift(p):m[u]=p)}f&&Object.defineProperty(f,r.name,m),g=!0}function I3(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function $3(e){return typeof e=="symbol"?e:"".concat(e)}function B3(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function z3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ze(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(m){try{f(r.next(m))}catch(p){o(p)}}function u(m){try{f(r.throw(m))}catch(p){o(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,u)}f((r=r.apply(e,t||[])).next())})}function U3(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Gv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function H3(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Gv(t,e,n)}function my(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mk(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function F3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mk(arguments[t]));return e}function G3(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r}function q3(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Cd(e){return this instanceof Cd?(this.v=e,this):new Cd(e)}function Y3(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(_){return Promise.resolve(_).then(b,p)}}function c(b,_){r[b]&&(i[b]=function(w){return new Promise(function(E,A){a.push([b,w,E,A])>1||u(b,w)})},_&&(i[b]=_(i[b])))}function u(b,_){try{f(r[b](_))}catch(w){g(a[0][3],w)}}function f(b){b.value instanceof Cd?Promise.resolve(b.value.v).then(m,p):g(a[0][2],b)}function m(b){u("next",b)}function p(b){u("throw",b)}function g(b,_){b(_),a.shift(),a.length&&u(a[0][0],a[0][1])}}function K3(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Cd(e[i](o)),done:!1}:a?a(o):o}:a}}function W3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof my=="function"?my(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(c,u){o=e[a](o),i(c,u,o.done,o.value)})}}function i(a,o,c,u){Promise.resolve(u).then(function(f){a({value:f,done:c})},o)}}function V3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var xq=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},RS=function(e){return RS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},RS(e)};function Z3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=RS(e),r=0;r<n.length;r++)n[r]!=="default"&&Gv(t,e,n[r]);return xq(t,e),t}function X3(e){return e&&e.__esModule?e:{default:e}}function J3(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Q3(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function e$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function t$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var _q=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function n$(e){function t(a){e.error=e.hasError?new _q(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function r$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const wq={__extends:P3,__assign:hy,__rest:Wd,__decorate:D3,__param:R3,__esDecorate:L3,__runInitializers:I3,__propKey:$3,__setFunctionName:B3,__metadata:z3,__awaiter:ze,__generator:U3,__createBinding:Gv,__exportStar:H3,__values:my,__read:Mk,__spread:F3,__spreadArrays:G3,__spreadArray:q3,__await:Cd,__asyncGenerator:Y3,__asyncDelegator:K3,__asyncValues:W3,__makeTemplateObject:V3,__importStar:Z3,__importDefault:X3,__classPrivateFieldGet:J3,__classPrivateFieldSet:Q3,__classPrivateFieldIn:e$,__addDisposableResource:t$,__disposeResources:n$,__rewriteRelativeImportExtension:r$},Sq=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:t$,get __assign(){return hy},__asyncDelegator:K3,__asyncGenerator:Y3,__asyncValues:W3,__await:Cd,__awaiter:ze,__classPrivateFieldGet:J3,__classPrivateFieldIn:e$,__classPrivateFieldSet:Q3,__createBinding:Gv,__decorate:D3,__disposeResources:n$,__esDecorate:L3,__exportStar:H3,__extends:P3,__generator:U3,__importDefault:X3,__importStar:Z3,__makeTemplateObject:V3,__metadata:z3,__param:R3,__propKey:$3,__read:Mk,__rest:Wd,__rewriteRelativeImportExtension:r$,__runInitializers:I3,__setFunctionName:B3,__spread:F3,__spreadArray:q3,__spreadArrays:G3,__values:my,default:wq},Symbol.toStringTag,{value:"Module"})),Eq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let qv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},i$=class extends qv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},LS=class extends qv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},IS=class extends qv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var py;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(py||(py={}));class kq{constructor(t,{headers:n={},customFetch:r,region:i=py.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Eq(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ze(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:c,method:u,body:f,signal:m,timeout:p}=r;let g={},{region:b}=r;b||(b=this.region);const _=new URL(`${this.url}/${n}`);b&&b!=="any"&&(g["x-region"]=b,_.searchParams.set("forceFunctionRegion",b));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(g["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(g["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let E=m;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),m?(E=o.signal,m.addEventListener("abort",()=>o.abort())):E=o.signal);const A=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:w,signal:E}).catch(M=>{throw new i$(M)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new LS(A);if(!A.ok)throw new IS(A);let j=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return j==="application/json"?P=yield A.json():j==="application/octet-stream"||j==="application/pdf"?P=yield A.blob():j==="text/event-stream"?P=A:j==="multipart/form-data"?P=yield A.formData():P=yield A.text(),{data:P,error:null,response:A}}catch(c){return{data:null,error:c,response:c instanceof IS||c instanceof LS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const Tq=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return py},FunctionsClient:kq,FunctionsError:qv,FunctionsFetchError:i$,FunctionsHttpError:IS,FunctionsRelayError:LS},Symbol.toStringTag,{value:"Module"})),a$=Cm(Tq);var Er={};const Vd=Cm(Sq);var qg={},Yg={},Kg={},Wg={},Vg={},Zg={},IC;function o$(){if(IC)return Zg;IC=1,Object.defineProperty(Zg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Zg.default=e,Zg}var $C;function s$(){if($C)return Vg;$C=1,Object.defineProperty(Vg,"__esModule",{value:!0});const t=Vd.__importDefault(o$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,m,p,g;let b=null,_=null,w=null,E=u.status,A=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?_=M:_=JSON.parse(M))}const j=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,E=406,A="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const j=await u.text();try{b=JSON.parse(j),Array.isArray(b)&&u.status===404&&(_=[],b=null,E=200,A="OK")}catch{u.status===404&&j===""?(E=204,A="No Content"):b={message:j}}if(b&&this.isMaybeSingle&&(!((g=b?.details)===null||g===void 0)&&g.includes("0 rows"))&&(b=null,E=200,A="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:_,count:w,status:E,statusText:A}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,m,p,g,b,_;let w="";const E=u?.cause;if(E){const A=(f=E?.message)!==null&&f!==void 0?f:"",C=(m=E?.code)!==null&&m!==void 0?m:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(g=E?.name)!==null&&g!==void 0?g:"Error"}: ${A}`,C&&(w+=` (${C})`),E?.stack&&(w+=`
${E.stack}`)}else w=(b=u?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return Vg.default=n,Vg}var BC;function l$(){if(BC)return Wg;BC=1,Object.defineProperty(Wg,"__esModule",{value:!0});const t=Vd.__importDefault(s$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Wg.default=n,Wg}var zC;function Pk(){if(zC)return Kg;zC=1,Object.defineProperty(Kg,"__esModule",{value:!0});const t=Vd.__importDefault(l$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}};return Kg.default=r,Kg}var UC;function c$(){if(UC)return Yg;UC=1,Object.defineProperty(Yg,"__esModule",{value:!0});const t=Vd.__importDefault(Pk());let n=class{constructor(i,{headers:a={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=c}select(i,a){const{head:o=!1,count:c}=a??{},u=o?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(p.length>0){const g=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var o;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Yg.default=n,Yg}var HC;function Aq(){if(HC)return qg;HC=1,Object.defineProperty(qg,"__esModule",{value:!0});const e=Vd,t=e.__importDefault(c$()),n=e.__importDefault(Pk());let r=class u${constructor(a,{headers:o={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new u$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:c=!1,get:u=!1,count:f}={}){var m;let p;const g=new URL(`${this.url}/rpc/${a}`);let b;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{g.searchParams.append(w,E)})):(p="POST",b=o);const _=new Headers(this.headers);return f&&_.set("Prefer",`count=${f}`),new n.default({method:p,url:g,headers:_,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return qg.default=r,qg}var FC;function d$(){if(FC)return Er;FC=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const e=Vd,t=e.__importDefault(Aq());Er.PostgrestClient=t.default;const n=e.__importDefault(c$());Er.PostgrestQueryBuilder=n.default;const r=e.__importDefault(Pk());Er.PostgrestFilterBuilder=r.default;const i=e.__importDefault(l$());Er.PostgrestTransformBuilder=i.default;const a=e.__importDefault(s$());Er.PostgrestBuilder=a.default;const o=e.__importDefault(o$());return Er.PostgrestError=o.default,Er.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Er}class f${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Oq="2.86.2",jq=`realtime-js/${Oq}`,h$="1.0.0",Cq="2.0.0",GC=h$,$S=1e4,Nq=1e3,Mq=100;var Ic;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ic||(Ic={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var Ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ca||(Ca={}));var BS;(function(e){e.websocket="websocket"})(BS||(BS={}));var $c;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($c||($c={}));class Pq{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let _=new DataView(b),w=0;_.setUint8(w++,this.KINDS.userBroadcastPush),_.setUint8(w++,u.length),_.setUint8(w++,c.length),_.setUint8(w++,o.length),_.setUint8(w++,f.length),_.setUint8(w++,p.length),_.setUint8(w++,n),Array.from(u,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(c,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(o,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(f,A=>_.setUint8(w++,A.charCodeAt(0))),Array.from(p,A=>_.setUint8(w++,A.charCodeAt(0)));var E=new Uint8Array(b.byteLength+r.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(r),b.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,c,u]=r;return n({join_ref:i,ref:a,topic:o,event:c,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),c=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+i));u=u+i;const m=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,_={type:this.BROADCAST_EVENT,event:m,payload:b};return o>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class m${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Gt||(Gt={}));const qC=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Dq(o,e,t,i),a),{}):{}},Dq=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?p$(a,o):zS(o)},p$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $q(t,n)}switch(e){case Gt.bool:return Rq(t);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return Lq(t);case Gt.json:case Gt.jsonb:return Iq(t);case Gt.timestamp:return Bq(t);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return zS(t);default:return zS(t)}},zS=e=>e,Rq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Iq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$q=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>p$(t,c))}return e},Bq=e=>typeof e=="string"?e.replace(" ","T"):e,g$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class aw{constructor(t,n,r={},i=$S){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var US;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(US||(US={}));let y$=class W0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=W0.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=W0.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=W0.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),c={},u={};return this.map(a,(f,m)=>{o[f]||(u[f]=m)}),this.map(o,(f,m)=>{const p=a[f];if(p){const g=m.map(E=>E.presence_ref),b=p.map(E=>E.presence_ref),_=m.filter(E=>b.indexOf(E.presence_ref)<0),w=p.filter(E=>g.indexOf(E.presence_ref)<0);_.length>0&&(c[f]=_),w.length>0&&(u[f]=w)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(u),m.length>0){const p=t[c].map(b=>b.presence_ref),g=m.filter(b=>p.indexOf(b.presence_ref)<0);t[c].unshift(...g)}r(c,m,u)}),this.map(o,(c,u)=>{let f=t[c];if(!f)return;const m=u.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,u),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var HS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(HS||(HS={}));var xd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xd||(xd={}));var uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));const zq=Mn;let v$=class b${constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new aw(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new m$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new y$(this),this.broadcastEndpointURL=g$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[xd.PRESENCE]&&this.bindings[xd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(uo.CHANNEL_ERROR,b)),this._onClose(()=>t?.(uo.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var _;if(this.socket.setAuth(),b===void 0){t?.(uo.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(_=w?.length)!==null&&_!==void 0?_:0,A=[];for(let C=0;C<E;C++){const j=w[C],{filter:{event:P,schema:M,table:D,filter:$}}=j,U=b&&b[C];if(U&&U.event===P&&U.schema===M&&U.table===D&&U.filter===$)A.push(Object.assign(Object.assign({},j),{id:U.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(uo.SUBSCRIBED);return}}).receive("error",b=>{this.state=Mn.errored,t?.(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mn.joined&&t===xd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const f=await c.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new aw(this,Ca.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new aw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mq){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:f,join:m}=Ca;if(r&&[c,u,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var _,w,E;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(w=b.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(b=>b.callback(g,r)):(a=this.bindings[o])===null||a===void 0||a.filter(b=>{var _,w,E,A,C,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const P=b.id,M=(_=b.filter)===null||_===void 0?void 0:_.event;return P&&((w=n.ids)===null||w===void 0?void 0:w.includes(P))&&(M==="*"||M?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const P=(C=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((j=n?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:w,table:E,commit_timestamp:A,type:C,errors:j}=_;g=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:A,eventType:C,new:{},old:{},errors:j}),this._getPayloadRecords(_))}b.callback(g,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&b$.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ca.close,{},t)}_onError(t){this._on(Ca.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qC(t.columns,t.old_record)),n}};const ow=()=>{},Xg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Uq=[1e3,2e3,5e3,1e4],Hq=1e4,Fq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Gq=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$S,this.transport=null,this.heartbeatIntervalMs=Xg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ow,this.ref=0,this.reconnectTimer=null,this.vsn=GC,this.logger=ow,this.conn=null,this.sendBuffer=[],this.serializer=new Pq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${BS.websocket}`,this.httpEndpoint=g$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ic.connecting:return $c.Connecting;case Ic.open:return $c.Open;case Ic.closing:return $c.Closing;default:return $c.Closed}}isConnected(){return this.connectionState()===$c.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new v$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Nq,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ic.open||this.conn.readyState===Ic.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ca.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Fq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:jq};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ca.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new m$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,c,u,f,m,p,g,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:$S,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Xg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:ow,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:GC,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(_=>Uq[_-1]||Hq),this.vsn){case h$:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((_,w)=>w(JSON.stringify(_))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((_,w)=>w(JSON.parse(_)));break;case Cq:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const qq=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:zq,get REALTIME_LISTEN_TYPES(){return xd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return HS},get REALTIME_PRESENCE_LISTEN_EVENTS(){return US},get REALTIME_SUBSCRIBE_STATES(){return uo},RealtimeChannel:v$,RealtimeClient:Gq,RealtimePresence:y$,WebSocketFactory:f$},Symbol.toStringTag,{value:"Module"})),x$=Cm(qq);class Rm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function en(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _$ extends Rm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gy extends Rm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Dk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yq=()=>Response,FS=e=>{if(Array.isArray(e))return e.map(n=>FS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=FS(r)}),t},Kq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wq=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),sw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Vq=(e,t,n)=>ze(void 0,void 0,void 0,function*(){const r=yield Yq();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new _$(sw(i),a,o))}).catch(i=>{t(new gy(sw(i),i))}):t(new gy(sw(e),e))}),Zq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Kq(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Lm(e,t,n,r,i,a){return ze(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,Zq(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Vq(u,c,r))})})}function tm(e,t,n,r){return ze(this,void 0,void 0,function*(){return Lm(e,"GET",t,n,r)})}function ja(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return Lm(e,"POST",t,r,i,n)})}function GS(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return Lm(e,"PUT",t,r,i,n)})}function Xq(e,t,n,r){return ze(this,void 0,void 0,function*(){return Lm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Rk(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return Lm(e,"DELETE",t,r,i,n)})}class Jq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ze(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}}var w$;class Qq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[w$]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jq(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ze(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}}w$=Symbol.toStringTag;const eY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},YC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tY{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Dk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return ze(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},YC),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?GS:ja)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}})}upload(t,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ze(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:YC.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",f.cacheControl)):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield GS(this.fetch,c.toString(),u,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(en(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ja(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new Rm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}update(t,n,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ze(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield ja(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ze(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ja(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ze(this,void 0,void 0,function*(){try{const i=yield ja(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",c=this._getFinalPath(t),u=()=>tm(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new Qq(u,this.shouldThrowOnError)}info(t){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield tm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:FS(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}exists(t){return ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Xq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r)&&r instanceof gy){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Rk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}list(t,n,r){return ze(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eY),n),{prefix:t||""});return{data:yield ja(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}listV2(t,n){return ze(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ja(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const S$="2.86.2",E$={"X-Client-Info":`storage-js/${S$}`};class nY{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E$),n),this.fetch=Dk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ze(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield tm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}getBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}createBucket(t){return ze(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ze(this,void 0,void 0,function*(){try{return{data:yield GS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Rk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var nm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rY(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function iY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function aY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const c=rY(e.baseUrl,r,i),u=await iY(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?g:void 0,_=b?.error;throw new nm(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:b})}return{status:f.status,headers:f.headers,data:g}}}}function Jg(e){return e.join("")}var oY=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Jg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`}),!0}catch(t){if(t instanceof nm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof nm&&n.status===409)return;throw n}}};function Wu(e){return e.join("")}var sY=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof nm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof nm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},lY=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=aY({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new oY(this.client,t),this.tableOps=new sY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class k${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E$),n),this.fetch=Dk(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}listBuckets(t){return ze(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield tm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Rk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}})}from(t){if(!Wq(t))throw new Rm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new lY({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ze(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Lk={"X-Client-Info":`storage-js/${S$}`,"Content-Type":"application/json"};class Ik extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ii(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class V0 extends Ik{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class T$ extends Ik{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var qS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qS||(qS={}));const Yv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cY=()=>Response,A$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uY=e=>Array.from(new Float32Array(e)),dY=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},KC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fY=(e,t,n)=>ze(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new V0(KC(o),i,c))}).catch(()=>{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new V0(c,i,o))});else{const o=i+"",c=a.statusText||`HTTP ${i} error`;t(new V0(c,i,o))}}else t(new T$(KC(e),e))}),hY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(A$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function mY(e,t,n,r,i,a){return ze(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,hY(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>fY(u,c,r))})})}function Ci(e,t,n,r,i){return ze(this,void 0,void 0,function*(){return mY(e,"POST",t,r,i,n)})}class O${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lk),n),this.fetch=Yv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ze(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listIndexes(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ze(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}}class j${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lk),n),this.fetch=Yv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ci(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getVectors(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ci(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}queryVectors(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ze(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ci(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class C${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lk),n),this.fetch=Yv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}getBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}listBuckets(){return ze(this,arguments,void 0,function*(t={}){try{return{data:yield Ci(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ze(this,void 0,void 0,function*(){try{return{data:(yield Ci(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}}class N$ extends C${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new M$(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ze(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ze(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ze(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ze(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class M$ extends O${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ze(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ze(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ze(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ze(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new P$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class P$ extends j${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ze(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ze(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ze(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ze(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ze(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class pY extends nY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new tY(this.url,this.headers,t,this.fetch)}get vectors(){return new N$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new k$(this.url+"/iceberg",this.headers,this.fetch)}}const gY=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:k$,StorageApiError:_$,StorageClient:pY,StorageError:Rm,StorageUnknownError:gy,StorageVectorsApiError:V0,StorageVectorsClient:N$,StorageVectorsError:Ik,get StorageVectorsErrorCode(){return qS},StorageVectorsUnknownError:T$,VectorBucketApi:C$,VectorBucketScope:M$,VectorDataApi:j$,VectorIndexApi:O$,VectorIndexScope:P$,isPlainObject:A$,isStorageError:en,isStorageVectorsError:ii,normalizeToFloat32:uY,resolveFetch:Yv,resolveResponse:cY,validateVectorDimension:dY},Symbol.toStringTag,{value:"Module"})),yY=Cm(gY);var lw={},vh={},WC;function vY(){return WC||(WC=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.version=void 0,vh.version="2.86.2"),vh}var VC;function bY(){return VC||(VC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=vY();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(lw)),lw}var cw={},ZC;function xY(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const c=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const g=(p=await a())!==null&&p!==void 0?p:i;let b=new u(m?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${g}`),c(f,Object.assign(Object.assign({},m),{headers:b}))}};e.fetchWithAuth=r})(cw)),cw}var Jo={},XC;function _Y(){if(XC)return Jo;XC=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.isBrowser=void 0,Jo.uuid=e,Jo.ensureTrailingSlash=t,Jo.applySettingDefaults=r,Jo.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,c=a=="x"?o:o&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";Jo.isBrowser=n;function r(a,o){var c,u;const{db:f,auth:m,realtime:p,global:g}=a,{db:b,auth:_,realtime:w,global:E}=o,A={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},_),m),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},E),g),{headers:Object.assign(Object.assign({},(c=E?.headers)!==null&&c!==void 0?c:{}),(u=g?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?A.accessToken=a.accessToken:delete A.accessToken,A}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Jo}var bh={};const D$="2.86.2",ld=30*1e3,YS=3,uw=YS*ld,wY="http://localhost:9999",SY="supabase.auth.token",EY={"X-Client-Info":`gotrue-js/${D$}`},KS="X-Supabase-Api-Version",R$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TY=600*1e3;let Nd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let L$=class extends Nd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function I$(e){return Fe(e)&&e.name==="AuthApiError"}let yl=class extends Nd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},bs=class extends Nd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ei=class extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function $$(e){return Fe(e)&&e.name==="AuthSessionMissingError"}let jc=class extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$h=class extends bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Bh=class extends bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function B$(e){return Fe(e)&&e.name==="AuthImplicitGrantRedirectError"}let WS=class extends bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},yy=class extends bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Z0(e){return Fe(e)&&e.name==="AuthRetryableFetchError"}let VS=class extends bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function AY(e){return Fe(e)&&e.name==="AuthWeakPasswordError"}let vy=class extends bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const by="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),JC=` 	
\r=`.split(""),OY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<JC.length;t+=1)e[JC[t].charCodeAt(0)]=-2;for(let t=0;t<by.length;t+=1)e[by[t].charCodeAt(0)]=t;return e})();function QC(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(by[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(by[r]),t.queuedBits-=6}}function z$(e,t,n){const r=OY[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eN(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{NY(o,r,n)};for(let o=0;o<e.length;o+=1)z$(e.charCodeAt(o),i,a);return t.join("")}function jY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CY(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}jY(r,t)}}function NY(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _d(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)z$(e.charCodeAt(i),n,r);return new Uint8Array(t)}function MY(e){const t=[];return CY(e,n=>t.push(n)),new Uint8Array(t)}function Bc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>QC(i,n,r)),QC(null,n,r),t.join("")}function PY(e){return Math.round(Date.now()/1e3)+e}function DY(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",_c={tested:!1,writable:!1},U$=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_c.tested)return _c.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_c.tested=!0,_c.writable=!0}catch{_c.tested=!0,_c.writable=!1}return _c.writable};function RY(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const H$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},wc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hr=async(e,t)=>{await e.removeItem(t)};class Kv{constructor(){this.promise=new Kv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Kv.promiseConstructor=Promise;function dw(e){const t=e.split(".");if(t.length!==3)throw new vy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!kY.test(t[r]))throw new vy("JWT not in base64url format");return{header:JSON.parse(eN(t[0])),payload:JSON.parse(eN(t[1])),signature:_d(t[2]),raw:{header:t[0],payload:t[1]}}}async function IY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $Y(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function BY(e){return("0"+e.toString(16)).substr(-2)}function zY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,BY).join("")}async function UY(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function HY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UY(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vu(e,t,n=!1){const r=zY();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await cd(e,`${t}-code-verifier`,i);const a=await HY(r);return[a,r===a?"plain":"s256"]}const FY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GY(e){const t=e.headers.get(KS);if(!t||!t.match(FY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function YY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zu(e){if(!KY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WY(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function tN(e){return JSON.parse(JSON.stringify(e))}const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VY=[502,503,504];async function nN(e){var t;if(!LY(e))throw new yy(Cc(e),0);if(VY.includes(e.status))throw new yy(Cc(e),e.status);let n;try{n=await e.json()}catch(a){throw new yl(Cc(a),a)}let r;const i=GY(e);if(i&&i.getTime()>=R$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new VS(Cc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new VS(Cc(n),e.status,n.weak_password.reasons);throw new L$(Cc(n),e.status||500,r)}const ZY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Je(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[KS]||(a[KS]=R$["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await XY(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function XY(e,t,n,r,i,a){const o=ZY(t,r,i,a);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new yy(Cc(u),0)}if(c.ok||await nN(c),r?.noResolveJson)return c;try{return await c.json()}catch(u){await nN(u)}}function Oa(e){var t;let n=null;eK(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=PY(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function rN(e){const t=Oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JY(e){return{data:e,error:null}}function QY(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Wd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function iN(e){return e}function eK(e){return e.access_token&&e.refresh_token&&e.expires_in}const X0=["global","local","others"];let $k=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=H$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=X0[0]){if(X0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X0.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vl})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Wd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:QY,redirectTo:n?.redirectTo})}catch(n){if(Fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vl})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:iN});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Fe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Zu(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vl})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Zu(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vl})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Zu(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vl})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Zu(t.userId);try{const{data:n,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Zu(t.userId),Zu(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},m=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:iN});if(m.error)throw m.error;const p=await m.json(),g=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(u=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);f[`${E}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Fe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}};function aN(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Nc={debug:!!(globalThis&&U$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let F$=class extends Bk{};class tK extends Bk{}async function G$(e,t,n){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const oN={};async function nK(e,t,n){var r;const i=(r=oN[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,c)=>{setTimeout(()=>{c(new tK(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return oN[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function rK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function q$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function iK(e){return parseInt(e,16)}function aK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function oK(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:f,scheme:m,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=q$(e.address),_=m?`${m}://${r}`:r,w=e.statement?`${e.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${b}

${w}`;let A=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),c&&(A+=`
Not Before: ${c.toISOString()}`),u&&(A+=`
Request ID: ${u}`),f){let C=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);C+=`
- ${j}`}A+=C}return`${E}
${A}`}class Pn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class xy extends Pn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function sK({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Y$(o)){if(a.rp.id!==o)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Y$(r)){if(n.rpId!==r)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uK=new cK;function dK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Wd(e,["challenge","user","excludeCredentials"]),a=_d(t).buffer,o=Object.assign(Object.assign({},n),{id:_d(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:_d(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function fK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Wd(e,["challenge","allowCredentials"]),i=_d(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:_d(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function hK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Bc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Bc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Bc(new Uint8Array(i.authenticatorData)),clientDataJSON:Bc(new Uint8Array(i.clientDataJSON)),signature:Bc(new Uint8Array(i.signature)),userHandle:i.userHandle?Bc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Y$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function sN(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xy("Browser returned unexpected credential type",t)}:{data:null,error:new xy("Empty credential response",t)}}catch(t){return{data:null,error:sK({error:t,options:e})}}}async function gK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xy("Browser returned unexpected credential type",t)}:{data:null,error:new xy("Empty credential response",t)}}catch(t){return{data:null,error:lK({error:t,options:e})}}}const yK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _y(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const c=r[a];t(c)?r[a]=_y(c,o):r[a]=_y(o)}else r[a]=o}return r}function bK(e,t){return _y(yK,e,t||{})}function xK(e,t){return _y(vK,e,t||{})}class _K{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:c};const u=i??uK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=bK(o.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await pK({publicKey:f,signal:u});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=xK(o.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await gK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return Fe(o)?{data:null,error:o}:{data:null,error:new yl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Nd("rpId is required for WebAuthn authentication")};try{if(!sN())return{data:null,error:new yl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Fe(o)?{data:null,error:o}:{data:null,error:new yl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Nd("rpId is required for WebAuthn registration")};try{if(!sN())return{data:null,error:new yl("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:u,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(o){return Fe(o)?{data:null,error:o}:{data:null,error:new yl("Unexpected error in register",o)}}}}rK();const wK={url:wY,storageKey:SY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lN(e,t,n){return await n()}const Xu={};let zk=class ZS{get jwks(){var t,n;return(n=(t=Xu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},wK),t);if(this.storageKey=a.storageKey,this.instanceID=(n=ZS.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ZS.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&pr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $k({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=H$(a.fetch),this.lock=a.lock||lN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:pr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=G$:this.lock=lN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _K(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:U$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=aN(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pr()&&(n=RY(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),B$(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Fe(n)?this._returnResult({error:n}):this._returnResult({error:new yl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Oa}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(Fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:g}=t;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await Vu(this.storage,this.storageKey)),a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:m,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:_},xform:Oa})}else if("phone"in t){const{phone:m,password:p,options:g}=t;a=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Oa})}else throw new $h("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:c}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:rN})}else if("phone"in t){const{phone:a,password:o,options:c}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:rN})}else throw new $h("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new jc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,c,u,f,m,p,g;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:w,wallet:E,statement:A,options:C}=t;let j;if(pr())if(typeof E=="object")j=E;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")j=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const P=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),M=await j.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=q$(M[0]);let $=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Y=await j.request({method:"eth_chainId"});$=iK(Y)}const U={domain:P.host,address:D,statement:A,uri:P.href,version:"1",chainId:$,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=oK(U),_=await j.request({method:"personal_sign",params:[aK(b),D]})}try{const{data:w,error:E}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:_},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Oa});if(E)throw E;if(!w||!w.session||!w.user){const A=new jc;return this._returnResult({data:{user:null,session:null},error:A})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(Fe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,c,u,f,m,p,g,b;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:E,wallet:A,statement:C,options:j}=t;let P;if(pr())if(typeof A=="object")P=A;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const M=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),w=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${M.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(r=j?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((p=(m=j?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...j.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:E,error:A}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Bc(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Oa});if(A)throw A;if(!E||!E.session||!E.user){const C=new jc;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(Fe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await wc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Oa});if(await hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new jc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,c=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Oa}),{data:u,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new jc;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:c,options:u}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Vu(this.storage,this.storageKey));const{error:p}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:u}=t,{data:f,error:m}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new $h("You must provide either an email or phone number.")}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Oa});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(Fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Vu(this.storage,this.storageKey));const f=await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:JY});return!((a=f.data)===null||a===void 0)&&a.url&&pr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ei;const{error:i}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Fe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:c}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new $h("You must provide either an email or phone number and a type")}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await wc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<uw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await wc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=fw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=WY(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vl})})}catch(n){if(Fe(n))return $$(n)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ei;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Vu(this.storage,this.storageKey));const{data:f,error:m}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:vl});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=dw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ei;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pr())throw new Bh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new WS("No code detected.");const{data:C,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=t;if(!a||!c||!o||!f)throw new Bh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let g=m+p;u&&(g=parseInt(u));const b=g-m;b*1e3<=ld&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const _=g-p;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,m);const{data:w,error:E}=await this._getUser(a);if(E)throw E;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:g,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await wc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(I$(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=DY(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Vu(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,c,u,f,m;const{data:p,error:g}=a;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return pr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:c,token:u,access_token:f,nonce:m}=t,p=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Oa}),{data:g,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new jc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:b}))}catch(i){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $Y(async i=>(i>0&&await IY(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Oa})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Z0(a)&&Date.now()+o-r<ld})}catch(r){if(this._debug(n,"error",r),Fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await wc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await wc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await cd(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:fw()}else if(i&&!i.user&&!i.user){const o=await wc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await hr(this.storage,this.storageKey+"-user"),await cd(this.storage,this.storageKey,i)):i.user=fw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uw;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${uw}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Z0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Fe(a)){const o={data:null,error:a};return Z0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await cd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=tN(i);await cd(this.storage,this.storageKey,a)}else{const i=tN(n);await cd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ld);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ld);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ld}ms, refresh threshold is ${YS} ticks`),i<=YS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Vu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hK(t.webauthn.credential_response):mK(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:dK(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:fK(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=dw(r.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ei})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const o=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&pr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ei})})}catch(t){if(Fe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+TY>i)return r;const{data:a,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:_}=await this.getSession();if(_||!b.session)return this._returnResult({data:null,error:_});r=b.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=dw(r);n?.allowExpired||qY(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:o},error:null}}const m=YY(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,MY(`${c}.${u}`)))throw new vy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}};zk.nextInstanceID={};const SK=$k,EK=zk,kK=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:SK,AuthApiError:L$,AuthClient:EK,AuthError:Nd,AuthImplicitGrantRedirectError:Bh,AuthInvalidCredentialsError:$h,AuthInvalidJwtError:vy,AuthInvalidTokenResponseError:jc,AuthPKCEGrantCodeExchangeError:WS,AuthRetryableFetchError:yy,AuthSessionMissingError:ei,AuthUnknownError:yl,AuthWeakPasswordError:VS,CustomAuthError:bs,GoTrueAdminApi:$k,GoTrueClient:zk,NavigatorLockAcquireTimeoutError:F$,SIGN_OUT_SCOPES:X0,isAuthApiError:I$,isAuthError:Fe,isAuthImplicitGrantRedirectError:B$,isAuthRetryableFetchError:Z0,isAuthSessionMissingError:$$,isAuthWeakPasswordError:AY,lockInternals:Nc,navigatorLock:G$,processLock:nK},Symbol.toStringTag,{value:"Module"})),K$=Cm(kK);var cN;function TK(){if(cN)return bh;cN=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.SupabaseAuthClient=void 0;const e=K$;let t=class extends e.AuthClient{constructor(r){super(r)}};return bh.SupabaseAuthClient=t,bh}var uN;function dN(){if(uN)return Gg;uN=1,Object.defineProperty(Gg,"__esModule",{value:!0});const e=a$,t=d$(),n=x$,r=yY,i=bY(),a=xY(),o=_Y(),c=TK();class u{constructor(m,p,g){var b,_,w;this.supabaseUrl=m,this.supabaseKey=p;const E=(0,o.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const A=`sb-${E.hostname.split(".")[0]}-auth-token`,C={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:A}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,o.applySettingDefaults)(g??{},C);this.storageKey=(b=j.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(_=j.global.headers)!==null&&_!==void 0?_:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(P,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=j.auth)!==null&&w!==void 0?w:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,g?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},g={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,g)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:g}=await this.auth.getSession();return(p=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:b,userStorage:_,storageKey:w,flowType:E,lock:A,debug:C,throwOnError:j},P,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),P),storageKey:w,autoRefreshToken:m,persistSession:p,detectSessionInUrl:g,storage:b,userStorage:_,flowType:E,lock:A,debug:C,throwOnError:j,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,g)=>{this._handleTokenChanged(p,"CLIENT",g?.access_token)})}_handleTokenChanged(m,p,g){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==g?(this.changedAccessToken=g,this.realtime.setAuth(g)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Gg.default=u,Gg}var fN;function AK(){return fN||(fN=1,(function(e){var t=Xo&&Xo.__createBinding||(Object.create?(function(m,p,g,b){b===void 0&&(b=g);var _=Object.getOwnPropertyDescriptor(p,g);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(m,b,_)}):(function(m,p,g,b){b===void 0&&(b=g),m[b]=p[g]})),n=Xo&&Xo.__exportStar||function(m,p){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&t(p,m,g)},r=Xo&&Xo.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(dN());n(K$,e);var a=d$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=a$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(x$,e);var c=dN();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const u=(m,p,g)=>new i.default(m,p,g);e.createClient=u;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Xo)),Xo}var W$=AK();const V$=ui(W$),OK=Ek({__proto__:null,default:V$},[W$]),{PostgrestError:rAe,FunctionsHttpError:iAe,FunctionsFetchError:aAe,FunctionsRelayError:oAe,FunctionsError:sAe,FunctionRegion:lAe,SupabaseClient:cAe,createClient:jK,GoTrueAdminApi:uAe,GoTrueClient:dAe,AuthAdminApi:fAe,AuthClient:hAe,navigatorLock:mAe,NavigatorLockAcquireTimeoutError:pAe,lockInternals:gAe,processLock:yAe,SIGN_OUT_SCOPES:vAe,AuthError:bAe,AuthApiError:xAe,AuthUnknownError:_Ae,CustomAuthError:wAe,AuthSessionMissingError:SAe,AuthInvalidTokenResponseError:EAe,AuthInvalidCredentialsError:kAe,AuthImplicitGrantRedirectError:TAe,AuthPKCEGrantCodeExchangeError:AAe,AuthRetryableFetchError:OAe,AuthWeakPasswordError:jAe,AuthInvalidJwtError:CAe,isAuthError:NAe,isAuthApiError:MAe,isAuthSessionMissingError:PAe,isAuthImplicitGrantRedirectError:DAe,isAuthRetryableFetchError:RAe,isAuthWeakPasswordError:LAe,RealtimePresence:IAe,RealtimeChannel:$Ae,RealtimeClient:BAe,REALTIME_LISTEN_TYPES:zAe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:UAe,REALTIME_PRESENCE_LISTEN_EVENTS:HAe,REALTIME_SUBSCRIBE_STATES:FAe,REALTIME_CHANNEL_STATES:GAe}=V$||OK,Ie=jK("https://jouhybyquybxbnqztxum.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),Z$="settings_v1",XS=()=>{try{typeof window<"u"&&window.localStorage.removeItem(Z$)}catch{}},rm={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},hN=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],CK=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&hN.includes(r)):[],n=hN.filter(r=>!t.includes(r));return[...t,...n]},wd=e=>({...rm,...e,sectionOrder:CK(e.sectionOrder)}),NK=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return wd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return wd(n.settings)}}return wd(e??{})},MK=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};XS();const qn=iu()(M3((e,t)=>({settings:rm,syncing:!1,loaded:!1,setSettings:n=>e({settings:wd(n)}),setKey:(n,r)=>e({settings:wd({...t().settings,[n]:r})}),reset:()=>e({settings:rm}),loadFromServer:async()=>{try{e({syncing:!0}),XS();const{data:{user:n},error:r}=await Ie.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Ie.from("user_settings").select("payload").eq("user_id",n.id).single();if(a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const o=NK(i.payload);e({settings:o,syncing:!1,loaded:!0}),MK(i.payload)&&await Ie.from("user_settings").upsert({user_id:n.id,payload:o,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),XS();const{data:{user:r},error:i}=await Ie.auth.getUser();if(i||!r){e({syncing:!1});return}const a=wd(t().settings),{error:o}=await Ie.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});o&&console.error("saveToServer(settings) error:",o),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:Z$,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function JS(e){const t=$r.indexOf(e);if(t!==-1)return $r[t];const n=Ga..indexOf(e);return n!==-1?$r[n]:null}function X$(e){const t=si.indexOf(e);if(t!==-1)return si[t];const n=Ga..indexOf(e);return n!==-1?si[n]:null}function mN(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Ii(e,t,n){if(t==="stem"){const r=JS(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=$r.indexOf(r),a=i>=0?XG[i]:void 0;return mN(a,n)}else{const r=X$(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=si.indexOf(r),a=i>=0?JG[i]:void 0;return mN(a,n)}}function da(e,t){const n=JS(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=JS(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return tq[n][r]}if(t.branch){const r=X$(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return nq[n][r]}throw new Error("getSipSin: stem or branch required")}const Wv={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Vv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function J$({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?Vv:Wv)[e]??[],c=n==="main"?[o[2]]:o,u=i==="white",f=u?"text-white":"text-neutral-800 dark:text-white",m=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return x.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((g,b)=>g==="(-)"||a?x.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},b):x.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||b===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[g," (",da(t,{stem:g}),")"]},b))})}const Im=iu(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),Q$=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),eB=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),PK=new Set(Object.keys(Rn)),DK=new Set(Object.keys(Gn)),RK=new Set(["","","","","","","","","",""]),LK=new Set(["","","","","","","","","","","",""]);function li(e,t,n){return n===""?t==="stem"?Rn[e]??e:Gn[e]??e:t==="stem"?Q$[e]??e:eB[e]??e}function pN(e){const t=Q$[e]??e;return PK.has(t)?t:""}function IK(e){const t=eB[e]??e;return DK.has(t)?t:""}function Zv(e){if(jd.has(e))return e;const t=Rn[e]??e;return jd.has(t)?t:""}function Uk(e){if(em.has(e))return e;const t=Gn[e]??e;return em.has(t)?t:""}function Ba(e,t){return t==="stem"?RK.has(e):LK.has(e)}function fd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:c=!1,size:u="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Im(),g=m&&!p,b=t.charAt(0),_=t.charAt(1),w=li(b,"stem",r.charType),E=li(_,"branch",r.charType),A=pN(b),C=IK(_),j=pN(n),P=Uk(_),M=Zv(n),D=r.showSipSin?da(j,{stem:A}):null,$=!o&&r.showSipSin?da(j,{branch:C}):null,U=r.thinEum&&Ba(b,"stem")?"font-thin":"font-bold",Y=r.thinEum&&Ba(_,"branch")?"font-thin":"font-bold",W={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!c&&!!r.hiddenStem,G=r.hiddenStem==="regular"?"main":"all",Z=r.hiddenStemMode==="hgc"?"hgc":"classic",X=f==="white",Q=X?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=X?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=X?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ie=X?"text-neutral-500":"text-neutral-400",fe=X?"text-neutral-500":"text-neutral-400",{settings:se}=qn(),B=g?`bg-white ${J}`:`${Ii(A,"stem",se)} ${J}`,K=g?`bg-white ${J}`:`${Ii(C,"branch",se)} ${J}`,ae=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white",V=g?"text-black":se.difficultyMode?se.theme==="light"?"text-neutral-900":"text-black":"text-white";return x.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${Q}`,children:[x.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),x.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[D&&x.jsx("div",{className:`text-[10px] desk:text-xs ${ie} text-nowrap`,children:m&&!p?"-":D}),x.jsx("div",{className:`${W[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${ae} ${U}`,children:g?"-":w})}),x.jsx("div",{className:`${W[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${K}`,children:x.jsx("span",{className:`text-2xl md:text-3xl ${V} ${Y}`,children:g?"-":E})}),H&&x.jsx(J$,{branch:P,dayStem:M,mode:G,mapping:Z,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&x.jsx("div",{className:`text-[10px] desk:text-xs ${fe}`,children:m&&!p?"-":$}),r.showSibiUnseong&&x.jsx("div",{className:`text-[10px] desk:text-xs ${fe} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&x.jsx("div",{className:`text-[10px] desk:text-xs ${fe} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const $K=new Set(Ga.);function BK(e){return jd.has(e)?e:$K.has(e)?Rn[e]:""}function zK({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return x.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[x.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),x.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),x.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:x.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&x.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,f)=>x.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&x.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function UK(){const e=qn(_=>_.settings),[t,n]=S.useState(new Date),[r,i]=S.useState(!0),[a,o]=S.useState("/"),[c,u]=S.useState(!1);S.useEffect(()=>{if(!r)return;const _=setInterval(()=>n(new Date),1e3);return()=>clearInterval(_)},[r]);const f=ot(t),m=St(t),p=gt(t,a),g=$a(t,"/"),b=BK(p.charAt(0));return x.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:x.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[x.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",GK(t)]})]}),x.jsxs("div",{className:"flex gap-2 items-center",children:[x.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[x.jsx("option",{value:"",children:" ( 23)"}),x.jsx("option",{value:"/",children:"/ ()"}),x.jsx("option",{value:"",children:" ( 3)"})]}),x.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?x.jsx(zK,{label:"",settings:e,hideBranchSipSin:!0}):x.jsx(fd,{label:"",gz:g,dayStem:b,settings:e,hideBranchSipSin:!0}),x.jsx(fd,{label:"",gz:p,dayStem:b,settings:e,hideBranchSipSin:!0}),x.jsx(fd,{label:"",gz:m,dayStem:b,settings:e,hideBranchSipSin:!0}),x.jsx(fd,{label:"",gz:f,dayStem:b,settings:e,hideBranchSipSin:!0})]}),x.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[x.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),x.jsx("input",{type:"datetime-local",value:HK(t),disabled:r,onChange:_=>{const w=FK(_.target.value);w&&n(w)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),x.jsx("button",{onClick:()=>u(_=>!_),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function HK(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function FK(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,c]=n.split(":").map(Number),u=new Date(r,i-1,a,o,c);return Number.isNaN(u.getTime())?null:u}function GK(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function qK({placeholderText:e,value:t}){const[n,r]=S.useState(e),[i,a]=S.useState(!1),[o,c]=S.useState(t??""),u=S.useRef(null),f=S.useRef(null),m=S.useRef(null),p=S.useRef(null);return S.useEffect(()=>{t!==void 0&&c(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:c,nameRef:u,latRef:f,lonRef:m,triggerBtnRef:p}}var zh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var YK=zh.exports,gN;function KK(){return gN||(gN=1,(function(e,t){(function(n,r){r(t)})(YK,(function(n){var r="1.9.4";function i(d){var y,k,N,R;for(k=1,N=arguments.length;k<N;k++){R=arguments[k];for(y in R)d[y]=R[y]}return d}var a=Object.create||(function(){function d(){}return function(y){return d.prototype=y,new d}})();function o(d,y){var k=Array.prototype.slice;if(d.bind)return d.bind.apply(d,k.call(arguments,1));var N=k.call(arguments,2);return function(){return d.apply(y,N.length?N.concat(k.call(arguments)):arguments)}}var c=0;function u(d){return"_leaflet_id"in d||(d._leaflet_id=++c),d._leaflet_id}function f(d,y,k){var N,R,z,ee;return ee=function(){N=!1,R&&(z.apply(k,R),R=!1)},z=function(){N?R=arguments:(d.apply(k,arguments),setTimeout(ee,y),N=!0)},z}function m(d,y,k){var N=y[1],R=y[0],z=N-R;return d===N&&k?d:((d-R)%z+z)%z+R}function p(){return!1}function g(d,y){if(y===!1)return d;var k=Math.pow(10,y===void 0?6:y);return Math.round(d*k)/k}function b(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _(d){return b(d).split(/\s+/)}function w(d,y){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var k in y)d.options[k]=y[k];return d.options}function E(d,y,k){var N=[];for(var R in d)N.push(encodeURIComponent(k?R.toUpperCase():R)+"="+encodeURIComponent(d[R]));return(!y||y.indexOf("?")===-1?"?":"&")+N.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function C(d,y){return d.replace(A,function(k,N){var R=y[N];if(R===void 0)throw new Error("No value provided for variable "+k);return typeof R=="function"&&(R=R(y)),R})}var j=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,y){for(var k=0;k<d.length;k++)if(d[k]===y)return k;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var $=0;function U(d){var y=+new Date,k=Math.max(0,16-(y-$));return $=y+k,window.setTimeout(d,k)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||U,W=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function H(d,y,k){if(k&&Y===U)d.call(y);else return Y.call(window,o(d,y))}function G(d){d&&W.call(window,d)}var Z={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:u,throttle:f,wrapNum:m,falseFn:p,formatNum:g,trim:b,splitWords:_,setOptions:w,getParamString:E,template:C,isArray:j,indexOf:P,emptyImageUrl:M,requestFn:Y,cancelFn:W,requestAnimFrame:H,cancelAnimFrame:G};function X(){}X.extend=function(d){var y=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=y.__super__=this.prototype,N=a(k);N.constructor=y,y.prototype=N;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(y[R]=this[R]);return d.statics&&i(y,d.statics),d.includes&&(Q(d.includes),i.apply(null,[N].concat(d.includes))),i(N,d),delete N.statics,delete N.includes,N.options&&(N.options=k.options?a(k.options):{},i(N.options,d.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var z=0,ee=N._initHooks.length;z<ee;z++)N._initHooks[z].call(this)}},y},X.include=function(d){var y=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=y,this.mergeOptions(d.options)),this},X.mergeOptions=function(d){return i(this.prototype.options,d),this},X.addInitHook=function(d){var y=Array.prototype.slice.call(arguments,1),k=typeof d=="function"?d:function(){this[d].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function Q(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=j(d)?d:[d];for(var y=0;y<d.length;y++)d[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(d,y,k){if(typeof d=="object")for(var N in d)this._on(N,d[N],y);else{d=_(d);for(var R=0,z=d.length;R<z;R++)this._on(d[R],y,k)}return this},off:function(d,y,k){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var N in d)this._off(N,d[N],y);else{d=_(d);for(var R=arguments.length===1,z=0,ee=d.length;z<ee;z++)R?this._off(d[z]):this._off(d[z],y,k)}return this},_on:function(d,y,k,N){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(d,y,k)===!1){k===this&&(k=void 0);var R={fn:y,ctx:k};N&&(R.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(R)}},_off:function(d,y,k){var N,R,z;if(this._events&&(N=this._events[d],!!N)){if(arguments.length===1){if(this._firingCount)for(R=0,z=N.length;R<z;R++)N[R].fn=p;delete this._events[d];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ee=this._listens(d,y,k);if(ee!==!1){var ce=N[ee];this._firingCount&&(ce.fn=p,this._events[d]=N=N.slice()),N.splice(ee,1)}}},fire:function(d,y,k){if(!this.listens(d,k))return this;var N=i({},y,{type:d,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var R=this._events[d];if(R){this._firingCount=this._firingCount+1||1;for(var z=0,ee=R.length;z<ee;z++){var ce=R[z],ve=ce.fn;ce.once&&this.off(d,ve,ce.ctx),ve.call(ce.ctx||this,N)}this._firingCount--}}return k&&this._propagateEvent(N),this},listens:function(d,y,k,N){typeof d!="string"&&console.warn('"string" type argument expected');var R=y;typeof y!="function"&&(N=!!y,R=void 0,k=void 0);var z=this._events&&this._events[d];if(z&&z.length&&this._listens(d,R,k)!==!1)return!0;if(N){for(var ee in this._eventParents)if(this._eventParents[ee].listens(d,y,k,N))return!0}return!1},_listens:function(d,y,k){if(!this._events)return!1;var N=this._events[d]||[];if(!y)return!!N.length;k===this&&(k=void 0);for(var R=0,z=N.length;R<z;R++)if(N[R].fn===y&&N[R].ctx===k)return R;return!1},once:function(d,y,k){if(typeof d=="object")for(var N in d)this._on(N,d[N],y,!0);else{d=_(d);for(var R=0,z=d.length;R<z;R++)this._on(d[R],y,k,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[u(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[u(d)],this},_propagateEvent:function(d){for(var y in this._eventParents)this._eventParents[y].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var J=X.extend(q);function ie(d,y,k){this.x=k?Math.round(d):d,this.y=k?Math.round(y):y}var fe=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(d){return this.clone()._add(se(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(se(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new ie(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new ie(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(d){d=se(d);var y=d.x-this.x,k=d.y-this.y;return Math.sqrt(y*y+k*k)},equals:function(d){return d=se(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=se(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(d,y,k){return d instanceof ie?d:j(d)?new ie(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new ie(d.x,d.y):new ie(d,y,k)}function B(d,y){if(d)for(var k=y?[d,y]:d,N=0,R=k.length;N<R;N++)this.extend(k[N])}B.prototype={extend:function(d){var y,k;if(!d)return this;if(d instanceof ie||typeof d[0]=="number"||"x"in d)y=k=se(d);else if(d=K(d),y=d.min,k=d.max,!y||!k)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=k.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(d){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var y,k;return typeof d[0]=="number"||d instanceof ie?d=se(d):d=K(d),d instanceof B?(y=d.min,k=d.max):y=k=d,y.x>=this.min.x&&k.x<=this.max.x&&y.y>=this.min.y&&k.y<=this.max.y},intersects:function(d){d=K(d);var y=this.min,k=this.max,N=d.min,R=d.max,z=R.x>=y.x&&N.x<=k.x,ee=R.y>=y.y&&N.y<=k.y;return z&&ee},overlaps:function(d){d=K(d);var y=this.min,k=this.max,N=d.min,R=d.max,z=R.x>y.x&&N.x<k.x,ee=R.y>y.y&&N.y<k.y;return z&&ee},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var y=this.min,k=this.max,N=Math.abs(y.x-k.x)*d,R=Math.abs(y.y-k.y)*d;return K(se(y.x-N,y.y-R),se(k.x+N,k.y+R))},equals:function(d){return d?(d=K(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function K(d,y){return!d||d instanceof B?d:new B(d,y)}function ae(d,y){if(d)for(var k=y?[d,y]:d,N=0,R=k.length;N<R;N++)this.extend(k[N])}ae.prototype={extend:function(d){var y=this._southWest,k=this._northEast,N,R;if(d instanceof oe)N=d,R=d;else if(d instanceof ae){if(N=d._southWest,R=d._northEast,!N||!R)return this}else return d?this.extend(pe(d)||V(d)):this;return!y&&!k?(this._southWest=new oe(N.lat,N.lng),this._northEast=new oe(R.lat,R.lng)):(y.lat=Math.min(N.lat,y.lat),y.lng=Math.min(N.lng,y.lng),k.lat=Math.max(R.lat,k.lat),k.lng=Math.max(R.lng,k.lng)),this},pad:function(d){var y=this._southWest,k=this._northEast,N=Math.abs(y.lat-k.lat)*d,R=Math.abs(y.lng-k.lng)*d;return new ae(new oe(y.lat-N,y.lng-R),new oe(k.lat+N,k.lng+R))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof oe||"lat"in d?d=pe(d):d=V(d);var y=this._southWest,k=this._northEast,N,R;return d instanceof ae?(N=d.getSouthWest(),R=d.getNorthEast()):N=R=d,N.lat>=y.lat&&R.lat<=k.lat&&N.lng>=y.lng&&R.lng<=k.lng},intersects:function(d){d=V(d);var y=this._southWest,k=this._northEast,N=d.getSouthWest(),R=d.getNorthEast(),z=R.lat>=y.lat&&N.lat<=k.lat,ee=R.lng>=y.lng&&N.lng<=k.lng;return z&&ee},overlaps:function(d){d=V(d);var y=this._southWest,k=this._northEast,N=d.getSouthWest(),R=d.getNorthEast(),z=R.lat>y.lat&&N.lat<k.lat,ee=R.lng>y.lng&&N.lng<k.lng;return z&&ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,y){return d?(d=V(d),this._southWest.equals(d.getSouthWest(),y)&&this._northEast.equals(d.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(d,y){return d instanceof ae?d:new ae(d,y)}function oe(d,y,k){if(isNaN(d)||isNaN(y))throw new Error("Invalid LatLng object: ("+d+", "+y+")");this.lat=+d,this.lng=+y,k!==void 0&&(this.alt=+k)}oe.prototype={equals:function(d,y){if(!d)return!1;d=pe(d);var k=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return k<=(y===void 0?1e-9:y)},toString:function(d){return"LatLng("+g(this.lat,d)+", "+g(this.lng,d)+")"},distanceTo:function(d){return ue.distance(this,pe(d))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(d){var y=180*d/40075017,k=y/Math.cos(Math.PI/180*this.lat);return V([this.lat-y,this.lng-k],[this.lat+y,this.lng+k])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function pe(d,y,k){return d instanceof oe?d:j(d)&&typeof d[0]!="object"?d.length===3?new oe(d[0],d[1],d[2]):d.length===2?new oe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new oe(d.lat,"lng"in d?d.lng:d.lon,d.alt):y===void 0?null:new oe(d,y,k)}var ye={latLngToPoint:function(d,y){var k=this.projection.project(d),N=this.scale(y);return this.transformation._transform(k,N)},pointToLatLng:function(d,y){var k=this.scale(y),N=this.transformation.untransform(d,k);return this.projection.unproject(N)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var y=this.projection.bounds,k=this.scale(d),N=this.transformation.transform(y.min,k),R=this.transformation.transform(y.max,k);return new B(N,R)},infinite:!1,wrapLatLng:function(d){var y=this.wrapLng?m(d.lng,this.wrapLng,!0):d.lng,k=this.wrapLat?m(d.lat,this.wrapLat,!0):d.lat,N=d.alt;return new oe(k,y,N)},wrapLatLngBounds:function(d){var y=d.getCenter(),k=this.wrapLatLng(y),N=y.lat-k.lat,R=y.lng-k.lng;if(N===0&&R===0)return d;var z=d.getSouthWest(),ee=d.getNorthEast(),ce=new oe(z.lat-N,z.lng-R),ve=new oe(ee.lat-N,ee.lng-R);return new ae(ce,ve)}},ue=i({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(d,y){var k=Math.PI/180,N=d.lat*k,R=y.lat*k,z=Math.sin((y.lat-d.lat)*k/2),ee=Math.sin((y.lng-d.lng)*k/2),ce=z*z+Math.cos(N)*Math.cos(R)*ee*ee,ve=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ve}}),te=6378137,Se={R:te,MAX_LATITUDE:85.0511287798,project:function(d){var y=Math.PI/180,k=this.MAX_LATITUDE,N=Math.max(Math.min(k,d.lat),-k),R=Math.sin(N*y);return new ie(this.R*d.lng*y,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(d){var y=180/Math.PI;return new oe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*y,d.x*y/this.R)},bounds:(function(){var d=te*Math.PI;return new B([-d,-d],[d,d])})()};function je(d,y,k,N){if(j(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=y,this._c=k,this._d=N}je.prototype={transform:function(d,y){return this._transform(d.clone(),y)},_transform:function(d,y){return y=y||1,d.x=y*(this._a*d.x+this._b),d.y=y*(this._c*d.y+this._d),d},untransform:function(d,y){return y=y||1,new ie((d.x/y-this._b)/this._a,(d.y/y-this._d)/this._c)}};function de(d,y,k,N){return new je(d,y,k,N)}var Le=i({},ue,{code:"EPSG:3857",projection:Se,transformation:(function(){var d=.5/(Math.PI*Se.R);return de(d,.5,-d,.5)})()}),Oe=i({},Le,{code:"EPSG:900913"});function Ce(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Pe(d,y){var k="",N,R,z,ee,ce,ve;for(N=0,z=d.length;N<z;N++){for(ce=d[N],R=0,ee=ce.length;R<ee;R++)ve=ce[R],k+=(R?"L":"M")+ve.x+" "+ve.y;k+=y?He.svg?"z":"x":""}return k||"M0 0"}var Qe=document.documentElement.style,st="ActiveXObject"in window,Ht=st&&!document.addEventListener,hn="msLaunchUri"in navigator&&!("documentMode"in document),on=Hr("webkit"),ge=Hr("android"),De=Hr("android 2")||Hr("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=ge&&Hr("Google")&&Xe<537&&!("AudioNode"in window),At=!!window.opera,yt=!hn&&Hr("chrome"),Zn=Hr("gecko")&&!on&&!At&&!st,hi=!yt&&Hr("safari"),mi=Hr("phantom"),js="OTransition"in Qe,Cs=navigator.platform.indexOf("Win")===0,Ft=st&&"transition"in Qe,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!De,pi="MozPerspective"in Qe,Or=!window.L_DISABLE_3D&&(Ft||mn||pi)&&!js&&!mi,Rl=typeof orientation<"u"||Hr("mobile"),nx=Rl&&on,rx=Rl&&mn,Ll=!window.PointerEvent&&window.MSPointerEvent,Il=!!(window.PointerEvent||Ll),$l="ontouchstart"in window||!!window.TouchEvent,To=!window.L_NO_TOUCH&&($l||Il),su=Rl&&At,Bl=Rl&&Zn,ix=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gp=(function(){var d=!1;try{var y=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return d})(),hf=(function(){return!!document.createElement("canvas").getContext})(),Ao=!!(document.createElementNS&&Ce("svg").createSVGRect),ax=!!Ao&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),yp=!Ao&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var y=d.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),vp=navigator.platform.indexOf("Mac")===0,bp=navigator.platform.indexOf("Linux")===0;function Hr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var He={ie:st,ielt9:Ht,edge:hn,webkit:on,android:ge,android23:De,androidStock:lt,opera:At,chrome:yt,gecko:Zn,safari:hi,phantom:mi,opera12:js,win:Cs,ie3d:Ft,webkit3d:mn,gecko3d:pi,any3d:Or,mobile:Rl,mobileWebkit:nx,mobileWebkit3d:rx,msPointer:Ll,pointer:Il,touch:To,touchNative:$l,mobileOpera:su,mobileGecko:Bl,retina:ix,passiveEvents:gp,canvas:hf,svg:Ao,vml:yp,inlineSvg:ax,mac:vp,linux:bp},mf=He.msPointer?"MSPointerDown":"pointerdown",pf=He.msPointer?"MSPointerMove":"pointermove",ya=He.msPointer?"MSPointerUp":"pointerup",Tn=He.msPointer?"MSPointerCancel":"pointercancel",Xn={touchstart:mf,touchmove:pf,touchend:ya,touchcancel:Tn},Oo={touchstart:Ms,touchmove:Ya,touchend:Ya,touchcancel:Ya},qa={},xp=!1;function ox(d,y,k){return y==="touchstart"&&Ns(),Oo[y]?(k=Oo[y].bind(this,k),d.addEventListener(Xn[y],k,!1),k):(console.warn("wrong event specified:",y),p)}function _p(d,y,k){if(!Xn[y]){console.warn("wrong event specified:",y);return}d.removeEventListener(Xn[y],k,!1)}function zl(d){qa[d.pointerId]=d}function gf(d){qa[d.pointerId]&&(qa[d.pointerId]=d)}function jo(d){delete qa[d.pointerId]}function Ns(){xp||(document.addEventListener(mf,zl,!0),document.addEventListener(pf,gf,!0),document.addEventListener(ya,jo,!0),document.addEventListener(Tn,jo,!0),xp=!0)}function Ya(d,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var k in qa)y.touches.push(qa[k]);y.changedTouches=[y],d(y)}}function Ms(d,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&pn(y),Ya(d,y)}function An(d){var y={},k,N;for(N in d)k=d[N],y[N]=k&&k.bind?k.bind(d):k;return d=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var wp=200;function Sp(d,y){d.addEventListener("dblclick",y);var k=0,N;function R(z){if(z.detail!==1){N=z.detail;return}if(!(z.pointerType==="mouse"||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents)){var ee=Kl(z);if(!(ee.some(function(ve){return ve instanceof HTMLLabelElement&&ve.attributes.for})&&!ee.some(function(ve){return ve instanceof HTMLInputElement||ve instanceof HTMLSelectElement}))){var ce=Date.now();ce-k<=wp?(N++,N===2&&y(An(z))):N=1,k=ce}}}return d.addEventListener("click",R),{dblclick:y,simDblclick:R}}function Co(d,y){d.removeEventListener("dblclick",y.dblclick),d.removeEventListener("click",y.simDblclick)}var Ka=Fl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ul=Fl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yf=Ul==="webkitTransition"||Ul==="OTransition"?Ul+"End":"transitionend";function vf(d){return typeof d=="string"?document.getElementById(d):d}function Hl(d,y){var k=d.style[y]||d.currentStyle&&d.currentStyle[y];if((!k||k==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(d,null);k=N?N[y]:null}return k==="auto"?null:k}function ct(d,y,k){var N=document.createElement(d);return N.className=y||"",k&&k.appendChild(N),N}function Dt(d){var y=d.parentNode;y&&y.removeChild(d)}function Fr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function In(d){var y=d.parentNode;y&&y.lastChild!==d&&y.appendChild(d)}function No(d){var y=d.parentNode;y&&y.firstChild!==d&&y.insertBefore(d,y.firstChild)}function bf(d,y){if(d.classList!==void 0)return d.classList.contains(y);var k=lu(d);return k.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(k)}function tt(d,y){if(d.classList!==void 0)for(var k=_(y),N=0,R=k.length;N<R;N++)d.classList.add(k[N]);else if(!bf(d,y)){var z=lu(d);Ps(d,(z?z+" ":"")+y)}}function Jt(d,y){d.classList!==void 0?d.classList.remove(y):Ps(d,b((" "+lu(d)+" ").replace(" "+y+" "," ")))}function Ps(d,y){d.className.baseVal===void 0?d.className=y:d.className.baseVal=y}function lu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Wt(d,y){"opacity"in d.style?d.style.opacity=y:"filter"in d.style&&xf(d,y)}function xf(d,y){var k=!1,N="DXImageTransform.Microsoft.Alpha";try{k=d.filters.item(N)}catch{if(y===1)return}y=Math.round(y*100),k?(k.Enabled=y!==100,k.Opacity=y):d.style.filter+=" progid:"+N+"(opacity="+y+")"}function Fl(d){for(var y=document.documentElement.style,k=0;k<d.length;k++)if(d[k]in y)return d[k];return!1}function va(d,y,k){var N=y||new ie(0,0);d.style[Ka]=(He.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(k?" scale("+k+")":"")}function $t(d,y){d._leaflet_pos=y,He.any3d?va(d,y):(d.style.left=y.x+"px",d.style.top=y.y+"px")}function Wa(d){return d._leaflet_pos||new ie(0,0)}var Ds,Hi,_f;if("onselectstart"in document)Ds=function(){et(window,"selectstart",pn)},Hi=function(){Ot(window,"selectstart",pn)};else{var Rs=Fl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ds=function(){if(Rs){var d=document.documentElement.style;_f=d[Rs],d[Rs]="none"}},Hi=function(){Rs&&(document.documentElement.style[Rs]=_f,_f=void 0)}}function cu(){et(window,"dragstart",pn)}function Gl(){Ot(window,"dragstart",pn)}var uu,wf;function Ls(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Gr(),uu=d,wf=d.style.outlineStyle,d.style.outlineStyle="none",et(window,"keydown",Gr))}function Gr(){uu&&(uu.style.outlineStyle=wf,uu=void 0,wf=void 0,Ot(window,"keydown",Gr))}function du(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function ql(d){var y=d.getBoundingClientRect();return{x:y.width/d.offsetWidth||1,y:y.height/d.offsetHeight||1,boundingClientRect:y}}var Is={__proto__:null,TRANSFORM:Ka,TRANSITION:Ul,TRANSITION_END:yf,get:vf,getStyle:Hl,create:ct,remove:Dt,empty:Fr,toFront:In,toBack:No,hasClass:bf,addClass:tt,removeClass:Jt,setClass:Ps,getClass:lu,setOpacity:Wt,testProp:Fl,setTransform:va,setPosition:$t,getPosition:Wa,get disableTextSelection(){return Ds},get enableTextSelection(){return Hi},disableImageDrag:cu,enableImageDrag:Gl,preventOutline:Ls,restoreOutline:Gr,getSizedParentNode:du,getScale:ql};function et(d,y,k,N){if(y&&typeof y=="object")for(var R in y)yi(d,R,y[R],k);else{y=_(y);for(var z=0,ee=y.length;z<ee;z++)yi(d,y[z],k,N)}return this}var gi="_leaflet_events";function Ot(d,y,k,N){if(arguments.length===1)Sf(d),delete d[gi];else if(y&&typeof y=="object")for(var R in y)Yl(d,R,y[R],k);else if(y=_(y),arguments.length===2)Sf(d,function(ce){return P(y,ce)!==-1});else for(var z=0,ee=y.length;z<ee;z++)Yl(d,y[z],k,N);return this}function Sf(d,y){for(var k in d[gi]){var N=k.split(/\d/)[0];(!y||y(N))&&Yl(d,N,null,null,k)}}var Mo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yi(d,y,k,N){var R=y+u(k)+(N?"_"+u(N):"");if(d[gi]&&d[gi][R])return this;var z=function(ce){return k.call(N||d,ce||window.event)},ee=z;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?z=ox(d,y,z):He.touch&&y==="dblclick"?z=Sp(d,z):"addEventListener"in d?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?d.addEventListener(Mo[y]||y,z,He.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(z=function(ce){ce=ce||window.event,ba(d,ce)&&ee(ce)},d.addEventListener(Mo[y],z,!1)):d.addEventListener(y,ee,!1):d.attachEvent("on"+y,z),d[gi]=d[gi]||{},d[gi][R]=z}function Yl(d,y,k,N,R){R=R||y+u(k)+(N?"_"+u(N):"");var z=d[gi]&&d[gi][R];if(!z)return this;!He.touchNative&&He.pointer&&y.indexOf("touch")===0?_p(d,y,z):He.touch&&y==="dblclick"?Co(d,z):"removeEventListener"in d?d.removeEventListener(Mo[y]||y,z,!1):d.detachEvent("on"+y,z),d[gi][R]=null}function vi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Fi(d){return yi(d,"wheel",vi),this}function Po(d){return et(d,"mousedown touchstart dblclick contextmenu",vi),d._leaflet_disable_click=!0,this}function pn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Va(d){return pn(d),vi(d),this}function Kl(d){if(d.composedPath)return d.composedPath();for(var y=[],k=d.target;k;)y.push(k),k=k.parentNode;return y}function Wl(d,y){if(!y)return new ie(d.clientX,d.clientY);var k=ql(y),N=k.boundingClientRect;return new ie((d.clientX-N.left)/k.x-y.clientLeft,(d.clientY-N.top)/k.y-y.clientTop)}var Ep=He.linux&&He.chrome?window.devicePixelRatio:He.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cr(d){return He.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Ep:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function ba(d,y){var k=y.relatedTarget;if(!k)return!0;try{for(;k&&k!==d;)k=k.parentNode}catch{return!1}return k!==d}var fu={__proto__:null,on:et,off:Ot,stopPropagation:vi,disableScrollPropagation:Fi,disableClickPropagation:Po,preventDefault:pn,stop:Va,getPropagationPath:Kl,getMousePosition:Wl,getWheelDelta:cr,isExternalTarget:ba,addListener:et,removeListener:Ot},$s=J.extend({run:function(d,y,k,N){this.stop(),this._el=d,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=Wa(d),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(d){var y=+new Date-this._startTime,k=this._duration*1e3;y<k?this._runFrame(this._easeOut(y/k),d):(this._runFrame(1),this._complete())},_runFrame:function(d,y){var k=this._startPos.add(this._offset.multiplyBy(d));y&&k._round(),$t(this._el,k),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ht=J.extend({options:{crs:Le,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,y){y=w(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(pe(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ul&&He.any3d&&!He.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,yf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,y,k){if(y=y===void 0?this._zoom:this._limitZoom(y),d=this._limitCenter(pe(d),y,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var N=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,y,k.zoom):this._tryAnimatedPan(d,k.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(d,y,k.pan&&k.pan.noMoveStart),this},setZoom:function(d,y){return this._loaded?this.setView(this.getCenter(),d,{zoom:y}):(this._zoom=d,this)},zoomIn:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,y)},zoomOut:function(d,y){return d=d||(He.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,y)},setZoomAround:function(d,y,k){var N=this.getZoomScale(y),R=this.getSize().divideBy(2),z=d instanceof ie?d:this.latLngToContainerPoint(d),ee=z.subtract(R).multiplyBy(1-1/N),ce=this.containerPointToLatLng(R.add(ee));return this.setView(ce,y,{zoom:k})},_getBoundsCenterZoom:function(d,y){y=y||{},d=d.getBounds?d.getBounds():V(d);var k=se(y.paddingTopLeft||y.padding||[0,0]),N=se(y.paddingBottomRight||y.padding||[0,0]),R=this.getBoundsZoom(d,!1,k.add(N));if(R=typeof y.maxZoom=="number"?Math.min(y.maxZoom,R):R,R===1/0)return{center:d.getCenter(),zoom:R};var z=N.subtract(k).divideBy(2),ee=this.project(d.getSouthWest(),R),ce=this.project(d.getNorthEast(),R),ve=this.unproject(ee.add(ce).divideBy(2).add(z),R);return{center:ve,zoom:R}},fitBounds:function(d,y){if(d=V(d),!d.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(d,y);return this.setView(k.center,k.zoom,y)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,y){return this.setView(d,this._zoom,{pan:y})},panBy:function(d,y){if(d=se(d).round(),y=y||{},!d.x&&!d.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $s,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){tt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,k,y.duration||.25,y.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,y,k){if(k=k||{},k.animate===!1||!He.any3d)return this.setView(d,y,k);this._stop();var N=this.project(this.getCenter()),R=this.project(d),z=this.getSize(),ee=this._zoom;d=pe(d),y=y===void 0?ee:y;var ce=Math.max(z.x,z.y),ve=ce*this.getZoomScale(ee,y),Te=R.distanceTo(N)||1,Me=1.42,Ge=Me*Me;function it(sn){var Sa=sn?-1:1,Io=sn?ve:ce,$f=ve*ve-ce*ce+Sa*Ge*Ge*Te*Te,uc=2*Io*Ge*Te,dc=$f/uc,io=Math.sqrt(dc*dc+1)-dc,Ea=io<1e-9?-18:Math.log(io);return Ea}function $n(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function gn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function Cr(sn){return $n(sn)/gn(sn)}var bt=it(0);function xt(sn){return ce*(gn(bt)/gn(bt+Me*sn))}function ut(sn){return ce*(gn(bt)*Cr(bt+Me*sn)-$n(bt))/Ge}function no(sn){return 1-Math.pow(1-sn,1.5)}var Wr=Date.now(),Tu=(it(1)-bt)/Me,ro=k.duration?1e3*k.duration:1e3*Tu*.8;function If(){var sn=(Date.now()-Wr)/ro,Sa=no(sn)*Tu;sn<=1?(this._flyToFrame=H(If,this),this._move(this.unproject(N.add(R.subtract(N).multiplyBy(ut(Sa)/Te)),ee),this.getScaleZoom(ce/xt(Sa),ee),{flyTo:!0})):this._move(d,y)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),If.call(this),this},flyToBounds:function(d,y){var k=this._getBoundsCenterZoom(d,y);return this.flyTo(k.center,k.zoom,y)},setMaxBounds:function(d){return d=V(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var y=this.options.minZoom;return this.options.minZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var y=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&y!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,y){this._enforcingBounds=!0;var k=this.getCenter(),N=this._limitCenter(k,this._zoom,V(d));return k.equals(N)||this.panTo(N,y),this._enforcingBounds=!1,this},panInside:function(d,y){y=y||{};var k=se(y.paddingTopLeft||y.padding||[0,0]),N=se(y.paddingBottomRight||y.padding||[0,0]),R=this.project(this.getCenter()),z=this.project(d),ee=this.getPixelBounds(),ce=K([ee.min.add(k),ee.max.subtract(N)]),ve=ce.getSize();if(!ce.contains(z)){this._enforcingBounds=!0;var Te=z.subtract(ce.getCenter()),Me=ce.extend(z).getSize().subtract(ve);R.x+=Te.x<0?-Me.x:Me.x,R.y+=Te.y<0?-Me.y:Me.y,this.panTo(this.unproject(R),y),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),N=y.divideBy(2).round(),R=k.divideBy(2).round(),z=N.subtract(R);return!z.x&&!z.y?this:(d.animate&&d.pan?this.panBy(z):(d.pan&&this._rawPanBy(z),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,k,d):navigator.geolocation.getCurrentPosition(y,k,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var y=d.code,k=d.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var y=d.coords.latitude,k=d.coords.longitude,N=new oe(y,k),R=N.toBounds(d.coords.accuracy*2),z=this._locateOptions;if(z.setView){var ee=this.getBoundsZoom(R);this.setView(N,z.maxZoom?Math.min(ee,z.maxZoom):ee)}var ce={latlng:N,bounds:R,timestamp:d.timestamp};for(var ve in d.coords)typeof d.coords[ve]=="number"&&(ce[ve]=d.coords[ve]);this.fire("locationfound",ce)}},addHandler:function(d,y){if(!y)return this;var k=this[d]=new y(this);return this._handlers.push(k),this.options[d]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)Dt(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,y){var k="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),N=ct("div",k,y||this._mapPane);return d&&(this._panes[d]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),y=this.unproject(d.getBottomLeft()),k=this.unproject(d.getTopRight());return new ae(y,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,y,k){d=V(d),k=se(k||[0,0]);var N=this.getZoom()||0,R=this.getMinZoom(),z=this.getMaxZoom(),ee=d.getNorthWest(),ce=d.getSouthEast(),ve=this.getSize().subtract(k),Te=K(this.project(ce,N),this.project(ee,N)).getSize(),Me=He.any3d?this.options.zoomSnap:1,Ge=ve.x/Te.x,it=ve.y/Te.y,$n=y?Math.max(Ge,it):Math.min(Ge,it);return N=this.getScaleZoom($n,N),Me&&(N=Math.round(N/(Me/100))*(Me/100),N=y?Math.ceil(N/Me)*Me:Math.floor(N/Me)*Me),Math.max(R,Math.min(z,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,y){var k=this._getTopLeftPoint(d,y);return new B(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,y){var k=this.options.crs;return y=y===void 0?this._zoom:y,k.scale(d)/k.scale(y)},getScaleZoom:function(d,y){var k=this.options.crs;y=y===void 0?this._zoom:y;var N=k.zoom(d*k.scale(y));return isNaN(N)?1/0:N},project:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(pe(d),y)},unproject:function(d,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(se(d),y)},layerPointToLatLng:function(d){var y=se(d).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(d){var y=this.project(pe(d))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(pe(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(V(d))},distance:function(d,y){return this.options.crs.distance(pe(d),pe(y))},containerPointToLayerPoint:function(d){return se(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return se(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var y=this.containerPointToLayerPoint(se(d));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(d)))},mouseEventToContainerPoint:function(d){return Wl(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var y=this._container=vf(d);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(y,"scroll",this._onScroll,this),this._containerId=u(y)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&He.any3d,tt(d,"leaflet-container"+(He.touch?" leaflet-touch":"")+(He.retina?" leaflet-retina":"")+(He.ielt9?" leaflet-oldie":"")+(He.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=Hl(d,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$t(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(tt(d.markerPane,"leaflet-zoom-hide"),tt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,y,k){$t(this._mapPane,new ie(0,0));var N=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var R=this._zoom!==y;this._moveStart(R,k)._move(d,y)._moveEnd(R),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(d,y){return d&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(d,y,k,N){y===void 0&&(y=this._zoom);var R=this._zoom!==y;return this._zoom=y,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),N?k&&k.pinch&&this.fire("zoom",k):((R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){$t(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[u(this._container)]=this;var y=d?Ot:et;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),He.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,y){for(var k=[],N,R=y==="mouseout"||y==="mouseover",z=d.target||d.srcElement,ee=!1;z;){if(N=this._targets[u(z)],N&&(y==="click"||y==="preclick")&&this._draggableMoved(N)){ee=!0;break}if(N&&N.listens(y,!0)&&(R&&!ba(z,d)||(k.push(N),R))||z===this._container)break;z=z.parentNode}return!k.length&&!ee&&!R&&this.listens(y,!0)&&(k=[this]),k},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var y=d.target||d.srcElement;if(!(!this._loaded||y._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(y))){var k=d.type;k==="mousedown"&&Ls(y),this._fireDOMEvent(d,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,y,k){if(d.type==="click"){var N=i({},d);N.type="preclick",this._fireDOMEvent(N,N.type,k)}var R=this._findEventTargets(d,y);if(k){for(var z=[],ee=0;ee<k.length;ee++)k[ee].listens(y,!0)&&z.push(k[ee]);R=z.concat(R)}if(R.length){y==="contextmenu"&&pn(d);var ce=R[0],ve={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Te=ce.getLatLng&&(!ce._radius||ce._radius<=10);ve.containerPoint=Te?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(d),ve.layerPoint=this.containerPointToLayerPoint(ve.containerPoint),ve.latlng=Te?ce.getLatLng():this.layerPointToLatLng(ve.layerPoint)}for(ee=0;ee<R.length;ee++)if(R[ee].fire(y,ve,!0),ve.originalEvent._stopped||R[ee].options.bubblingMouseEvents===!1&&P(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,y=this._handlers.length;d<y;d++)this._handlers[d].disable()},whenReady:function(d,y){return this._loaded?d.call(y||this,{target:this}):this.on("load",d,y),this},_getMapPanePos:function(){return Wa(this._mapPane)||new ie(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,y){var k=d&&y!==void 0?this._getNewPixelOrigin(d,y):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,y){var k=this.getSize()._divideBy(2);return this.project(d,y)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,y,k){var N=this._getNewPixelOrigin(k,y);return this.project(d,y)._subtract(N)},_latLngBoundsToNewLayerBounds:function(d,y,k){var N=this._getNewPixelOrigin(k,y);return K([this.project(d.getSouthWest(),y)._subtract(N),this.project(d.getNorthWest(),y)._subtract(N),this.project(d.getSouthEast(),y)._subtract(N),this.project(d.getNorthEast(),y)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,y,k){if(!k)return d;var N=this.project(d,y),R=this.getSize().divideBy(2),z=new B(N.subtract(R),N.add(R)),ee=this._getBoundsOffset(z,k,y);return Math.abs(ee.x)<=1&&Math.abs(ee.y)<=1?d:this.unproject(N.add(ee),y)},_limitOffset:function(d,y){if(!y)return d;var k=this.getPixelBounds(),N=new B(k.min.add(d),k.max.add(d));return d.add(this._getBoundsOffset(N,y))},_getBoundsOffset:function(d,y,k){var N=K(this.project(y.getNorthEast(),k),this.project(y.getSouthWest(),k)),R=N.min.subtract(d.min),z=N.max.subtract(d.max),ee=this._rebound(R.x,-z.x),ce=this._rebound(R.y,-z.y);return new ie(ee,ce)},_rebound:function(d,y){return d+y>0?Math.round(d-y)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(y))},_limitZoom:function(d){var y=this.getMinZoom(),k=this.getMaxZoom(),N=He.any3d?this.options.zoomSnap:1;return N&&(d=Math.round(d/N)*N),Math.max(y,Math.min(k,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,y){var k=this._getCenterOffset(d)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,y),!0)},_createAnimProxy:function(){var d=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(y){var k=Ka,N=this._proxy.style[k];va(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),N===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),y=this.getZoom();va(this._proxy,this.project(d,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,y,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(y),R=this._getCenterOffset(d)._divideBy(1-1/N);return k.animate!==!0&&!this.getSize().contains(R)?!1:(H(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(d,y,!0)},this),!0)},_animateZoom:function(d,y,k,N){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=y,tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:y,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ef(d,y){return new ht(d,y)}var jr=X.extend({options:{position:"topright"},initialize:function(d){w(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var y=this._map;return y&&y.removeControl(this),this.options.position=d,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var y=this._container=this.onAdd(d),k=this.getPosition(),N=d._controlCorners[k];return tt(y,"leaflet-control"),k.indexOf("bottom")!==-1?N.insertBefore(y,N.firstChild):N.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),xa=function(d){return new jr(d)};ht.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},y="leaflet-",k=this._controlContainer=ct("div",y+"control-container",this._container);function N(R,z){var ee=y+R+" "+y+z;d[R+z]=ct("div",ee,k)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)Dt(this._controlCorners[d]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vl=jr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,y,k,N){return k<N?-1:N<k?1:0}},initialize:function(d,y,k){w(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in d)this._addLayer(d[N],N);for(N in y)this._addLayer(y[N],N,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return jr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,y){return this._addLayer(d,y),this._map?this._update():this},addOverlay:function(d,y){return this._addLayer(d,y,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var y=this._getLayer(u(d));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",y=this._container=ct("div",d),k=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Po(y),Fi(y);var N=this._section=ct("section",d+"-list");k&&(this._map.on("click",this.collapse,this),et(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=ct("a",d+"-toggle",y);R.href="#",R.title="Layers",R.setAttribute("role","button"),et(R,{keydown:function(z){z.keyCode===13&&this._expandSafely()},click:function(z){pn(z),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=ct("div",d+"-base",N),this._separator=ct("div",d+"-separator",N),this._overlaysList=ct("div",d+"-overlays",N),y.appendChild(N)},_getLayer:function(d){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&u(this._layers[y].layer)===d)return this._layers[y]},_addLayer:function(d,y,k){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:y,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(N,R){return this.options.sortFunction(N.layer,R.layer,N.name,R.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fr(this._baseLayersList),Fr(this._overlaysList),this._layerControlInputs=[];var d,y,k,N,R=0;for(k=0;k<this._layers.length;k++)N=this._layers[k],this._addItem(N),y=y||N.overlay,d=d||!N.overlay,R+=N.overlay?0:1;return this.options.hideSingleBase&&(d=d&&R>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=y&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var y=this._getLayer(u(d.target)),k=y.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;k&&this._map.fire(k,y)},_createRadioElement:function(d,y){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(y?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=k,N.firstChild},_addItem:function(d){var y=document.createElement("label"),k=this._map.hasLayer(d.layer),N;d.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=k):N=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(N),N.layerId=u(d.layer),et(N,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+d.name;var z=document.createElement("span");y.appendChild(z),z.appendChild(N),z.appendChild(R);var ee=d.overlay?this._overlaysList:this._baseLayersList;return ee.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,y,k,N=[],R=[];this._handlingClick=!0;for(var z=d.length-1;z>=0;z--)y=d[z],k=this._getLayer(y.layerId).layer,y.checked?N.push(k):y.checked||R.push(k);for(z=0;z<R.length;z++)this._map.hasLayer(R[z])&&this._map.removeLayer(R[z]);for(z=0;z<N.length;z++)this._map.hasLayer(N[z])||this._map.addLayer(N[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,y,k,N=this._map.getZoom(),R=d.length-1;R>=0;R--)y=d[R],k=this._getLayer(y.layerId).layer,y.disabled=k.options.minZoom!==void 0&&N<k.options.minZoom||k.options.maxZoom!==void 0&&N>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,et(d,"click",pn),this.expand();var y=this;setTimeout(function(){Ot(d,"click",pn),y._preventClick=!1})}}),kp=function(d,y,k){return new Vl(d,y,k)},kf=jr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var y="leaflet-control-zoom",k=ct("div",y+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,y+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,y+"-out",k,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,y,k,N,R){var z=ct("a",k,N);return z.innerHTML=d,z.href="#",z.title=y,z.setAttribute("role","button"),z.setAttribute("aria-label",y),Po(z),et(z,"click",Va),et(z,"click",R,this),et(z,"click",this._refocusOnMap,this),z},_updateDisabled:function(){var d=this._map,y="leaflet-disabled";Jt(this._zoomInButton,y),Jt(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(tt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(tt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new kf,this.addControl(this.zoomControl))});var sx=function(d){return new kf(d)},Tp=jr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var y="leaflet-control-scale",k=ct("div",y),N=this.options;return this._addScales(N,y+"-line",k),d.on(N.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),k},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,y,k){d.metric&&(this._mScale=ct("div",y,k)),d.imperial&&(this._iScale=ct("div",y,k))},_update:function(){var d=this._map,y=d.getSize().y/2,k=d.distance(d.containerPointToLatLng([0,y]),d.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(k)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var y=this._getRoundNum(d),k=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,k,y/d)},_updateImperial:function(d){var y=d*3.2808399,k,N,R;y>5280?(k=y/5280,N=this._getRoundNum(k),this._updateScale(this._iScale,N+" mi",N/k)):(R=this._getRoundNum(y),this._updateScale(this._iScale,R+" ft",R/y))},_updateScale:function(d,y,k){d.style.width=Math.round(this.options.maxWidth*k)+"px",d.innerHTML=y},_getRoundNum:function(d){var y=Math.pow(10,(Math.floor(d)+"").length-1),k=d/y;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,y*k}}),Tf=function(d){return new Tp(d)},lx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Af=jr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(He.inlineSvg?lx+" ":"")+"Leaflet</a>"},initialize:function(d){w(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),Po(this._container);for(var y in d._layers)d._layers[y].getAttribution&&this.addAttribution(d._layers[y].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var y in this._attributions)this._attributions[y]&&d.push(y);var k=[];this.options.prefix&&k.push(this.options.prefix),d.length&&k.push(d.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Af().addTo(this)});var cx=function(d){return new Af(d)};jr.Layers=Vl,jr.Zoom=kf,jr.Scale=Tp,jr.Attribution=Af,xa.layers=kp,xa.zoom=sx,xa.scale=Tf,xa.attribution=cx;var Gi=X.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gi.addTo=function(d,y){return d.addHandler(y,this),this};var ux={Events:q},Of=He.touch?"touchstart mousedown":"mousedown",Za=J.extend({options:{clickTolerance:3},initialize:function(d,y,k,N){w(this,N),this._element=d,this._dragStartTarget=y||d,this._preventOutline=k},enable:function(){this._enabled||(et(this._dragStartTarget,Of,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Za._dragging===this&&this.finishDrag(!0),Ot(this._dragStartTarget,Of,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!bf(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Za._dragging===this&&this.finishDrag();return}if(!(Za._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Za._dragging=this,this._preventOutline&&Ls(this._element),cu(),Ds(),!this._moving)){this.fire("down");var y=d.touches?d.touches[0]:d,k=du(this._element);this._startPoint=new ie(y.clientX,y.clientY),this._startPos=Wa(this._element),this._parentScale=ql(k);var N=d.type==="mousedown";et(document,N?"mousemove":"touchmove",this._onMove,this),et(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var y=d.touches&&d.touches.length===1?d.touches[0]:d,k=new ie(y.clientX,y.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,pn(d),this._moved||(this.fire("dragstart"),this._moved=!0,tt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),$t(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ot(document,"mousemove touchmove",this._onMove,this),Ot(document,"mouseup touchend touchcancel",this._onUp,this),Gl(),Hi();var y=this._moved&&this._moving;this._moving=!1,Za._dragging=!1,y&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Ap(d,y,k){var N,R=[1,4,2,8],z,ee,ce,ve,Te,Me,Ge,it;for(z=0,Me=d.length;z<Me;z++)d[z]._code=Do(d[z],y);for(ce=0;ce<4;ce++){for(Ge=R[ce],N=[],z=0,Me=d.length,ee=Me-1;z<Me;ee=z++)ve=d[z],Te=d[ee],ve._code&Ge?Te._code&Ge||(it=hu(Te,ve,Ge,y,k),it._code=Do(it,y),N.push(it)):(Te._code&Ge&&(it=hu(Te,ve,Ge,y,k),it._code=Do(it,y),N.push(it)),N.push(ve));d=N}return d}function Op(d,y){var k,N,R,z,ee,ce,ve,Te,Me;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ge=pe([0,0]),it=V(d),$n=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());$n<1700&&(Ge=jf(d));var gn=d.length,Cr=[];for(k=0;k<gn;k++){var bt=pe(d[k]);Cr.push(y.project(pe([bt.lat-Ge.lat,bt.lng-Ge.lng])))}for(ce=ve=Te=0,k=0,N=gn-1;k<gn;N=k++)R=Cr[k],z=Cr[N],ee=R.y*z.x-z.y*R.x,ve+=(R.x+z.x)*ee,Te+=(R.y+z.y)*ee,ce+=ee*3;ce===0?Me=Cr[0]:Me=[ve/ce,Te/ce];var xt=y.unproject(se(Me));return pe([xt.lat+Ge.lat,xt.lng+Ge.lng])}function jf(d){for(var y=0,k=0,N=0,R=0;R<d.length;R++){var z=pe(d[R]);y+=z.lat,k+=z.lng,N++}return pe([y/N,k/N])}var Cf={__proto__:null,clipPolygon:Ap,polygonCenter:Op,centroid:jf};function jp(d,y){if(!y||!d.length)return d.slice();var k=y*y;return d=fx(d,k),d=Np(d,k),d}function Cp(d,y,k){return Math.sqrt(Zl(d,y,k,!0))}function dx(d,y,k){return Zl(d,y,k)}function Np(d,y){var k=d.length,N=typeof Uint8Array<"u"?Uint8Array:Array,R=new N(k);R[0]=R[k-1]=1,Nf(d,R,y,0,k-1);var z,ee=[];for(z=0;z<k;z++)R[z]&&ee.push(d[z]);return ee}function Nf(d,y,k,N,R){var z=0,ee,ce,ve;for(ce=N+1;ce<=R-1;ce++)ve=Zl(d[ce],d[N],d[R],!0),ve>z&&(ee=ce,z=ve);z>k&&(y[ee]=1,Nf(d,y,k,N,ee),Nf(d,y,k,ee,R))}function fx(d,y){for(var k=[d[0]],N=1,R=0,z=d.length;N<z;N++)hx(d[N],d[R])>y&&(k.push(d[N]),R=N);return R<z-1&&k.push(d[z-1]),k}var Mp;function Pp(d,y,k,N,R){var z=N?Mp:Do(d,k),ee=Do(y,k),ce,ve,Te;for(Mp=ee;;){if(!(z|ee))return[d,y];if(z&ee)return!1;ce=z||ee,ve=hu(d,y,ce,k,R),Te=Do(ve,k),ce===z?(d=ve,z=Te):(y=ve,ee=Te)}}function hu(d,y,k,N,R){var z=y.x-d.x,ee=y.y-d.y,ce=N.min,ve=N.max,Te,Me;return k&8?(Te=d.x+z*(ve.y-d.y)/ee,Me=ve.y):k&4?(Te=d.x+z*(ce.y-d.y)/ee,Me=ce.y):k&2?(Te=ve.x,Me=d.y+ee*(ve.x-d.x)/z):k&1&&(Te=ce.x,Me=d.y+ee*(ce.x-d.x)/z),new ie(Te,Me,R)}function Do(d,y){var k=0;return d.x<y.min.x?k|=1:d.x>y.max.x&&(k|=2),d.y<y.min.y?k|=4:d.y>y.max.y&&(k|=8),k}function hx(d,y){var k=y.x-d.x,N=y.y-d.y;return k*k+N*N}function Zl(d,y,k,N){var R=y.x,z=y.y,ee=k.x-R,ce=k.y-z,ve=ee*ee+ce*ce,Te;return ve>0&&(Te=((d.x-R)*ee+(d.y-z)*ce)/ve,Te>1?(R=k.x,z=k.y):Te>0&&(R+=ee*Te,z+=ce*Te)),ee=d.x-R,ce=d.y-z,N?ee*ee+ce*ce:new ie(R,z)}function qr(d){return!j(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function mu(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qr(d)}function Bs(d,y){var k,N,R,z,ee,ce,ve,Te;if(!d||d.length===0)throw new Error("latlngs not passed");qr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Me=pe([0,0]),Ge=V(d),it=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());it<1700&&(Me=jf(d));var $n=d.length,gn=[];for(k=0;k<$n;k++){var Cr=pe(d[k]);gn.push(y.project(pe([Cr.lat-Me.lat,Cr.lng-Me.lng])))}for(k=0,N=0;k<$n-1;k++)N+=gn[k].distanceTo(gn[k+1])/2;if(N===0)Te=gn[0];else for(k=0,z=0;k<$n-1;k++)if(ee=gn[k],ce=gn[k+1],R=ee.distanceTo(ce),z+=R,z>N){ve=(z-N)/R,Te=[ce.x-ve*(ce.x-ee.x),ce.y-ve*(ce.y-ee.y)];break}var bt=y.unproject(se(Te));return pe([bt.lat+Me.lat,bt.lng+Me.lng])}var mx={__proto__:null,simplify:jp,pointToSegmentDistance:Cp,closestPointOnSegment:dx,clipSegment:Pp,_getEdgeIntersection:hu,_getBitCode:Do,_sqClosestPointOnSegment:Zl,isFlat:qr,_flat:mu,polylineCenter:Bs},pu={project:function(d){return new ie(d.lng,d.lat)},unproject:function(d){return new oe(d.y,d.x)},bounds:new B([-180,-90],[180,90])},gu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var y=Math.PI/180,k=this.R,N=d.lat*y,R=this.R_MINOR/k,z=Math.sqrt(1-R*R),ee=z*Math.sin(N),ce=Math.tan(Math.PI/4-N/2)/Math.pow((1-ee)/(1+ee),z/2);return N=-k*Math.log(Math.max(ce,1e-10)),new ie(d.lng*y*k,N)},unproject:function(d){for(var y=180/Math.PI,k=this.R,N=this.R_MINOR/k,R=Math.sqrt(1-N*N),z=Math.exp(-d.y/k),ee=Math.PI/2-2*Math.atan(z),ce=0,ve=.1,Te;ce<15&&Math.abs(ve)>1e-7;ce++)Te=R*Math.sin(ee),Te=Math.pow((1-Te)/(1+Te),R/2),ve=Math.PI/2-2*Math.atan(z*Te)-ee,ee+=ve;return new oe(ee*y,d.x*y/k)}},Dp={__proto__:null,LonLat:pu,Mercator:gu,SphericalMercator:Se},Rp=i({},ue,{code:"EPSG:3395",projection:gu,transformation:(function(){var d=.5/(Math.PI*gu.R);return de(d,.5,-d,.5)})()}),Mf=i({},ue,{code:"EPSG:4326",projection:pu,transformation:de(1/180,1,-1/180,.5)}),zs=i({},ye,{projection:pu,transformation:de(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,y){var k=y.lng-d.lng,N=y.lat-d.lat;return Math.sqrt(k*k+N*N)},infinite:!0});ye.Earth=ue,ye.EPSG3395=Rp,ye.EPSG3857=Le,ye.EPSG900913=Oe,ye.EPSG4326=Mf,ye.Simple=zs;var bi=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[u(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[u(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var y=d.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var k=this.getEvents();y.on(k,this),this.once("remove",function(){y.off(k,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var y=u(d);return this._layers[y]?this:(this._layers[y]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var y=u(d);return this._layers[y]?(this._loaded&&d.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return u(d)in this._layers},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},_addLayers:function(d){d=d?j(d)?d:[d]:[];for(var y=0,k=d.length;y<k;y++)this.addLayer(d[y])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[u(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var y=u(d);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,y=-1/0,k=this._getZoomSpan();for(var N in this._zoomBoundLayers){var R=this._zoomBoundLayers[N].options;d=R.minZoom===void 0?d:Math.min(d,R.minZoom),y=R.maxZoom===void 0?y:Math.max(y,R.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=d===1/0?void 0:d,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Us=bi.extend({initialize:function(d,y){w(this,y),this._layers={};var k,N;if(d)for(k=0,N=d.length;k<N;k++)this.addLayer(d[k])},addLayer:function(d){var y=this.getLayerId(d);return this._layers[y]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var y=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(d){var y=typeof d=="number"?d:this.getLayerId(d);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var y=Array.prototype.slice.call(arguments,1),k,N;for(k in this._layers)N=this._layers[k],N[d]&&N[d].apply(N,y);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,y){for(var k in this._layers)d.call(y,this._layers[k]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return u(d)}}),px=function(d,y){return new Us(d,y)},qi=Us.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Us.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Us.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ae;for(var y in this._layers){var k=this._layers[y];d.extend(k.getBounds?k.getBounds():k.getLatLng())}return d}}),Lp=function(d,y){return new qi(d,y)},Yi=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){w(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,y){var k=this._getIconUrl(d);if(!k){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(k,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(N,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(d,y){var k=this.options,N=k[y+"Size"];typeof N=="number"&&(N=[N,N]);var R=se(N),z=se(y==="shadow"&&k.shadowAnchor||k.iconAnchor||R&&R.divideBy(2,!0));d.className="leaflet-marker-"+y+" "+(k.className||""),z&&(d.style.marginLeft=-z.x+"px",d.style.marginTop=-z.y+"px"),R&&(d.style.width=R.x+"px",d.style.height=R.y+"px")},_createImg:function(d,y){return y=y||document.createElement("img"),y.src=d,y},_getIconUrl:function(d){return He.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Xl(d){return new Yi(d)}var Jl=Yi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Jl.imagePath!="string"&&(Jl.imagePath=this._detectIconPath()),(this.options.imagePath||Jl.imagePath)+Yi.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var y=function(k,N,R){var z=N.exec(k);return z&&z[R]};return d=y(d,/^url\((['"])?(.+)\1\)$/,2),d&&y(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=ct("div","leaflet-default-icon-path",document.body),y=Hl(d,"background-image")||Hl(d,"backgroundImage");if(document.body.removeChild(d),y=this._stripUrl(y),y)return y;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),Ql=Gi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Za(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),tt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var y=this._marker,k=y._map,N=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,z=Wa(y._icon),ee=k.getPixelBounds(),ce=k.getPixelOrigin(),ve=K(ee.min._subtract(ce).add(R),ee.max._subtract(ce).subtract(R));if(!ve.contains(z)){var Te=se((Math.max(ve.max.x,z.x)-ve.max.x)/(ee.max.x-ve.max.x)-(Math.min(ve.min.x,z.x)-ve.min.x)/(ee.min.x-ve.min.x),(Math.max(ve.max.y,z.y)-ve.max.y)/(ee.max.y-ve.max.y)-(Math.min(ve.min.y,z.y)-ve.min.y)/(ee.min.y-ve.min.y)).multiplyBy(N);k.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),$t(y._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=H(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,d)))},_onDrag:function(d){var y=this._marker,k=y._shadow,N=Wa(y._icon),R=y._map.layerPointToLatLng(N);k&&$t(k,N),y._latlng=R,d.latlng=R,d.oldLatLng=this._oldLatLng,y.fire("move",d).fire("drag",d)},_onDragEnd:function(d){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),ec=bi.extend({options:{icon:new Jl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,y){w(this,y),this._latlng=pe(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var y=this._latlng;return this._latlng=pe(d),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=d.icon.createIcon(this._icon),N=!1;k!==this._icon&&(this._icon&&this._removeIcon(),N=!0,d.title&&(k.title=d.title),k.tagName==="IMG"&&(k.alt=d.alt||"")),tt(k,y),d.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(k,"focus",this._panOnFocus,this);var R=d.icon.createShadow(this._shadow),z=!1;R!==this._shadow&&(this._removeShadow(),z=!0),R&&(tt(R,y),R.alt=""),this._shadow=R,d.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&z&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&$t(this._icon,d),this._shadow&&$t(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ql)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ql(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Wt(this._icon,d),this._shadow&&Wt(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var y=this.options.icon.options,k=y.iconSize?se(y.iconSize):se(0,0),N=y.iconAnchor?se(y.iconAnchor):se(0,0);d.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:k.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ip(d,y){return new ec(d,y)}var Ki=bi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return w(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hs=Ki.extend({options:{fill:!0,radius:10},initialize:function(d,y){w(this,y),this._latlng=pe(d),this._radius=this.options.radius},setLatLng:function(d){var y=this._latlng;return this._latlng=pe(d),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var y=d&&d.radius||this._radius;return Ki.prototype.setStyle.call(this,d),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,y=this._radiusY||d,k=this._clickTolerance(),N=[d+k,y+k];this._pxBounds=new B(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $p(d,y){return new Hs(d,y)}var yu=Hs.extend({initialize:function(d,y,k){if(typeof y=="number"&&(y=i({},k,{radius:y})),w(this,y),this._latlng=pe(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Ki.prototype.setStyle,_project:function(){var d=this._latlng.lng,y=this._latlng.lat,k=this._map,N=k.options.crs;if(N.distance===ue.distance){var R=Math.PI/180,z=this._mRadius/ue.R/R,ee=k.project([y+z,d]),ce=k.project([y-z,d]),ve=ee.add(ce).divideBy(2),Te=k.unproject(ve).lat,Me=Math.acos((Math.cos(z*R)-Math.sin(y*R)*Math.sin(Te*R))/(Math.cos(y*R)*Math.cos(Te*R)))/R;(isNaN(Me)||Me===0)&&(Me=z/Math.cos(Math.PI/180*y)),this._point=ve.subtract(k.getPixelOrigin()),this._radius=isNaN(Me)?0:ve.x-k.project([Te,d-Me]).x,this._radiusY=ve.y-ee.y}else{var Ge=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(Ge).x}this._updateBounds()}});function Bp(d,y,k){return new yu(d,y,k)}var _a=Ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,y){w(this,y),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var y=1/0,k=null,N=Zl,R,z,ee=0,ce=this._parts.length;ee<ce;ee++)for(var ve=this._parts[ee],Te=1,Me=ve.length;Te<Me;Te++){R=ve[Te-1],z=ve[Te];var Ge=N(d,R,z,!0);Ge<y&&(y=Ge,k=N(d,R,z))}return k&&(k.distance=Math.sqrt(y)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,y){return y=y||this._defaultShape(),d=pe(d),y.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ae,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return qr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var y=[],k=qr(d),N=0,R=d.length;N<R;N++)k?(y[N]=pe(d[N]),this._bounds.extend(y[N])):y[N]=this._convertLatLngs(d[N]);return y},_project:function(){var d=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),y=new ie(d,d);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(d,y,k){var N=d[0]instanceof oe,R=d.length,z,ee;if(N){for(ee=[],z=0;z<R;z++)ee[z]=this._map.latLngToLayerPoint(d[z]),k.extend(ee[z]);y.push(ee)}else for(z=0;z<R;z++)this._projectLatlngs(d[z],y,k)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,k,N,R,z,ee,ce,ve;for(k=0,R=0,z=this._rings.length;k<z;k++)for(ve=this._rings[k],N=0,ee=ve.length;N<ee-1;N++)ce=Pp(ve[N],ve[N+1],d,N,!0),ce&&(y[R]=y[R]||[],y[R].push(ce[0]),(ce[1]!==ve[N+1]||N===ee-2)&&(y[R].push(ce[1]),R++))}},_simplifyPoints:function(){for(var d=this._parts,y=this.options.smoothFactor,k=0,N=d.length;k<N;k++)d[k]=jp(d[k],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,y){var k,N,R,z,ee,ce,ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(k=0,z=this._parts.length;k<z;k++)for(ce=this._parts[k],N=0,ee=ce.length,R=ee-1;N<ee;R=N++)if(!(!y&&N===0)&&Cp(d,ce[R],ce[N])<=ve)return!0;return!1}});function gx(d,y){return new _a(d,y)}_a._flat=mu;var Fs=_a.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Op(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var y=_a.prototype._convertLatLngs.call(this,d),k=y.length;return k>=2&&y[0]instanceof oe&&y[0].equals(y[k-1])&&y.pop(),y},_setLatLngs:function(d){_a.prototype._setLatLngs.call(this,d),qr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,y=this.options.weight,k=new ie(y,y);if(d=new B(d.min.subtract(k),d.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,R=this._rings.length,z;N<R;N++)z=Ap(this._rings[N],d,!0),z.length&&this._parts.push(z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var y=!1,k,N,R,z,ee,ce,ve,Te;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(z=0,ve=this._parts.length;z<ve;z++)for(k=this._parts[z],ee=0,Te=k.length,ce=Te-1;ee<Te;ce=ee++)N=k[ee],R=k[ce],N.y>d.y!=R.y>d.y&&d.x<(R.x-N.x)*(d.y-N.y)/(R.y-N.y)+N.x&&(y=!y);return y||_a.prototype._containsPoint.call(this,d,!0)}});function yx(d,y){return new Fs(d,y)}var wa=qi.extend({initialize:function(d,y){w(this,y),this._layers={},d&&this.addData(d)},addData:function(d){var y=j(d)?d:d.features,k,N,R;if(y){for(k=0,N=y.length;k<N;k++)R=y[k],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var z=this.options;if(z.filter&&!z.filter(d))return this;var ee=Jn(d,z);return ee?(ee.feature=xu(d),ee.defaultOptions=ee.options,this.resetStyle(ee),z.onEachFeature&&z.onEachFeature(d,ee),this.addLayer(ee)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(y){this._setLayerStyle(y,d)},this)},_setLayerStyle:function(d,y){d.setStyle&&(typeof y=="function"&&(y=y(d.feature)),d.setStyle(y))}});function Jn(d,y){var k=d.type==="Feature"?d.geometry:d,N=k?k.coordinates:null,R=[],z=y&&y.pointToLayer,ee=y&&y.coordsToLatLng||vu,ce,ve,Te,Me;if(!N&&!k)return null;switch(k.type){case"Point":return ce=ee(N),Gs(z,d,ce,y);case"MultiPoint":for(Te=0,Me=N.length;Te<Me;Te++)ce=ee(N[Te]),R.push(Gs(z,d,ce,y));return new qi(R);case"LineString":case"MultiLineString":return ve=tc(N,k.type==="LineString"?0:1,ee),new _a(ve,y);case"Polygon":case"MultiPolygon":return ve=tc(N,k.type==="Polygon"?1:2,ee),new Fs(ve,y);case"GeometryCollection":for(Te=0,Me=k.geometries.length;Te<Me;Te++){var Ge=Jn({geometry:k.geometries[Te],type:"Feature",properties:d.properties},y);Ge&&R.push(Ge)}return new qi(R);case"FeatureCollection":for(Te=0,Me=k.features.length;Te<Me;Te++){var it=Jn(k.features[Te],y);it&&R.push(it)}return new qi(R);default:throw new Error("Invalid GeoJSON object.")}}function Gs(d,y,k,N){return d?d(y,k):new ec(k,N&&N.markersInheritOptions&&N)}function vu(d){return new oe(d[1],d[0],d[2])}function tc(d,y,k){for(var N=[],R=0,z=d.length,ee;R<z;R++)ee=y?tc(d[R],y-1,k):(k||vu)(d[R]),N.push(ee);return N}function bu(d,y){return d=pe(d),d.alt!==void 0?[g(d.lng,y),g(d.lat,y),g(d.alt,y)]:[g(d.lng,y),g(d.lat,y)]}function nc(d,y,k,N){for(var R=[],z=0,ee=d.length;z<ee;z++)R.push(y?nc(d[z],qr(d[z])?0:y-1,k,N):bu(d[z],N));return!y&&k&&R.length>0&&R.push(R[0].slice()),R}function Xa(d,y){return d.feature?i({},d.feature,{geometry:y}):xu(y)}function xu(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Ja={toGeoJSON:function(d){return Xa(this,{type:"Point",coordinates:bu(this.getLatLng(),d)})}};ec.include(Ja),yu.include(Ja),Hs.include(Ja),_a.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=nc(this._latlngs,y?1:0,!1,d);return Xa(this,{type:(y?"Multi":"")+"LineString",coordinates:k})}}),Fs.include({toGeoJSON:function(d){var y=!qr(this._latlngs),k=y&&!qr(this._latlngs[0]),N=nc(this._latlngs,k?2:y?1:0,!0,d);return y||(N=[N]),Xa(this,{type:(k?"Multi":"")+"Polygon",coordinates:N})}}),Us.include({toMultiPoint:function(d){var y=[];return this.eachLayer(function(k){y.push(k.toGeoJSON(d).geometry.coordinates)}),Xa(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(d){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(d);var k=y==="GeometryCollection",N=[];return this.eachLayer(function(R){if(R.toGeoJSON){var z=R.toGeoJSON(d);if(k)N.push(z.geometry);else{var ee=xu(z);ee.type==="FeatureCollection"?N.push.apply(N,ee.features):N.push(ee)}}}),k?Xa(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function _u(d,y){return new wa(d,y)}var rc=_u,qs=bi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,y,k){this._url=d,this._bounds=V(y),w(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&In(this._image),this},bringToBack:function(){return this._map&&No(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=V(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",y=this._image=d?this._url:ct("img");if(tt(y,"leaflet-image-layer"),this._zoomAnimated&&tt(y,"leaflet-zoom-animated"),this.options.className&&tt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(d){var y=this._map.getZoomScale(d.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;va(this._image,k,y)},_reset:function(){var d=this._image,y=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=y.getSize();$t(d,y.min),d.style.width=k.x+"px",d.style.height=k.y+"px"},_updateOpacity:function(){Wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),zp=function(d,y,k){return new qs(d,y,k)},Qa=qs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",y=this._image=d?this._url:ct("video");if(tt(y,"leaflet-image-layer"),this._zoomAnimated&&tt(y,"leaflet-zoom-animated"),this.options.className&&tt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),d){for(var k=y.getElementsByTagName("source"),N=[],R=0;R<k.length;R++)N.push(k[R].src);this._url=k.length>0?N:[y.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var ee=ct("source");ee.src=this._url[z],y.appendChild(ee)}}});function Ys(d,y,k){return new Qa(d,y,k)}var wu=qs.extend({_initImage:function(){var d=this._image=this._url;tt(d,"leaflet-image-layer"),this._zoomAnimated&&tt(d,"leaflet-zoom-animated"),this.options.className&&tt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Up(d,y,k){return new wu(d,y,k)}var Qn=bi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,y){d&&(d instanceof oe||j(d))?(this._latlng=pe(d),w(this,y)):(w(this,d),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Wt(this._container,1),this.bringToFront(),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Wt(this._container,0),this._removeTimeout=setTimeout(o(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=pe(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&In(this._container),this},bringToBack:function(){return this._map&&No(this._container),this},_prepareOpen:function(d){var y=this._source;if(!y._map)return!1;if(y instanceof qi){y=null;var k=this._source._layers;for(var N in k)if(k[N]._map){y=k[N];break}if(!y)return!1;this._source=y}if(!d)if(y.getCenter)d=y.getCenter();else if(y.getLatLng)d=y.getLatLng();else if(y.getBounds)d=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")d.innerHTML=y;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),y=se(this.options.offset),k=this._getAnchor();this._zoomAnimated?$t(this._container,d.add(k)):y=y.add(d).add(k);var N=this._containerBottom=-y.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=N+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(d,y,k,N){var R=y;return R instanceof d||(R=new d(N).setContent(y)),k&&R.setLatLng(k),R}}),bi.include({_initOverlay:function(d,y,k,N){var R=k;return R instanceof d?(w(R,N),R._source=this):(R=y&&!N?y:new d(N,this),R.setContent(k)),R}});var ic=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Qn.prototype.openOn.call(this,d)},onAdd:function(d){Qn.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ki||this._source.on("preclick",vi))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ki||this._source.off("preclick",vi))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",y=this._container=ct("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=ct("div",d+"-content-wrapper",y);if(this._contentNode=ct("div",d+"-content",k),Po(y),Fi(this._contentNode),et(y,"contextmenu",vi),this._tipContainer=ct("div",d+"-tip-container",y),this._tip=ct("div",d+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=ct("a",d+"-close-button",y);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',et(N,"click",function(R){pn(R),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,y=d.style;y.width="",y.whiteSpace="nowrap";var k=d.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),y.width=k+1+"px",y.whiteSpace="",y.height="";var N=d.offsetHeight,R=this.options.maxHeight,z="leaflet-popup-scrolled";R&&N>R?(y.height=R+"px",tt(d,z)):Jt(d,z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),k=this._getAnchor();$t(this._container,y.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,y=parseInt(Hl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+y,N=this._containerWidth,R=new ie(this._containerLeft,-k-this._containerBottom);R._add(Wa(this._container));var z=d.layerPointToContainerPoint(R),ee=se(this.options.autoPanPadding),ce=se(this.options.autoPanPaddingTopLeft||ee),ve=se(this.options.autoPanPaddingBottomRight||ee),Te=d.getSize(),Me=0,Ge=0;z.x+N+ve.x>Te.x&&(Me=z.x+N-Te.x+ve.x),z.x-Me-ce.x<0&&(Me=z.x-ce.x),z.y+k+ve.y>Te.y&&(Ge=z.y+k-Te.y+ve.y),z.y-Ge-ce.y<0&&(Ge=z.y-ce.y),(Me||Ge)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Me,Ge]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hp=function(d,y){return new ic(d,y)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(d,y,k){return this._initOverlay(ic,d,y,k).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),bi.include({bindPopup:function(d,y){return this._popup=this._initOverlay(ic,this._popup,d,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof qi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Va(d);var y=d.layer||d.target;if(this._popup._source===y&&!(y instanceof Ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=y,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var ac=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Qn.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Qn.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Qn.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",y=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ct("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var y,k,N=this._map,R=this._container,z=N.latLngToContainerPoint(N.getCenter()),ee=N.layerPointToContainerPoint(d),ce=this.options.direction,ve=R.offsetWidth,Te=R.offsetHeight,Me=se(this.options.offset),Ge=this._getAnchor();ce==="top"?(y=ve/2,k=Te):ce==="bottom"?(y=ve/2,k=0):ce==="center"?(y=ve/2,k=Te/2):ce==="right"?(y=0,k=Te/2):ce==="left"?(y=ve,k=Te/2):ee.x<z.x?(ce="right",y=0,k=Te/2):(ce="left",y=ve+(Me.x+Ge.x)*2,k=Te/2),d=d.subtract(se(y,k,!0)).add(Me).add(Ge),Jt(R,"leaflet-tooltip-right"),Jt(R,"leaflet-tooltip-left"),Jt(R,"leaflet-tooltip-top"),Jt(R,"leaflet-tooltip-bottom"),tt(R,"leaflet-tooltip-"+ce),$t(R,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Wt(this._container,d)},_animateZoom:function(d){var y=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(y)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vx=function(d,y){return new ac(d,y)};ht.include({openTooltip:function(d,y,k){return this._initOverlay(ac,d,y,k).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),bi.include({bindTooltip:function(d,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ac,this._tooltip,d,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var y=d?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[y](k),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof qi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&(et(y,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),et(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var y=typeof d.getElement=="function"&&d.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var y=d.latlng,k,N;this._tooltip.options.sticky&&d.originalEvent&&(k=this._map.mouseEventToContainerPoint(d.originalEvent),N=this._map.containerPointToLayerPoint(k),y=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(y)}});var Fp=Yi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var y=d&&d.tagName==="DIV"?d:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Fr(y),y.appendChild(k.html)):y.innerHTML=k.html!==!1?k.html:"",k.bgPos){var N=se(k.bgPos);y.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function bx(d){return new Fp(d)}Yi.Default=Jl;var Ks=bi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:He.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){w(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),Dt(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(No(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof ie?d:new ie(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var y=this.getPane().children,k=-d(-1/0,1/0),N=0,R=y.length,z;N<R;N++)z=y[N].style.zIndex,y[N]!==this._container&&z&&(k=d(k,+z));isFinite(k)&&(this.options.zIndex=k+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!He.ielt9){Wt(this._container,this.options.opacity);var d=+new Date,y=!1,k=!1;for(var N in this._tiles){var R=this._tiles[N];if(!(!R.current||!R.loaded)){var z=Math.min(1,(d-R.loaded)/200);Wt(R.el,z),z<1?y=!0:(R.active?k=!0:this._onOpaqueTile(R),R.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),y&&(G(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,y=this.options.maxZoom;if(d!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===d?(this._levels[k].el.style.zIndex=y-Math.abs(d-k),this._onUpdateLevel(k)):(Dt(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var N=this._levels[d],R=this._map;return N||(N=this._levels[d]={},N.el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=y,N.origin=R.project(R.unproject(R.getPixelOrigin()),d).round(),N.zoom=d,this._setZoomTransform(N,R.getCenter(),R.getZoom()),p(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,y,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)y=this._tiles[d],y.retain=y.current;for(d in this._tiles)if(y=this._tiles[d],y.current&&!y.active){var N=y.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var y in this._tiles)this._tiles[y].coords.z===d&&this._removeTile(y)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)Dt(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,y,k,N){var R=Math.floor(d/2),z=Math.floor(y/2),ee=k-1,ce=new ie(+R,+z);ce.z=+ee;var ve=this._tileCoordsToKey(ce),Te=this._tiles[ve];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),ee>N?this._retainParent(R,z,ee,N):!1)},_retainChildren:function(d,y,k,N){for(var R=2*d;R<2*d+2;R++)for(var z=2*y;z<2*y+2;z++){var ee=new ie(R,z);ee.z=k+1;var ce=this._tileCoordsToKey(ee),ve=this._tiles[ce];if(ve&&ve.active){ve.retain=!0;continue}else ve&&ve.loaded&&(ve.retain=!0);k+1<N&&this._retainChildren(R,z,k+1,N)}},_resetView:function(d){var y=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var y=this.options;return y.minNativeZoom!==void 0&&d<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<d?y.maxNativeZoom:d},_setView:function(d,y,k,N){var R=Math.round(y);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var z=this.options.updateWhenZooming&&R!==this._tileZoom;(!N||z)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(d),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(d,y)},_setZoomTransforms:function(d,y){for(var k in this._levels)this._setZoomTransform(this._levels[k],d,y)},_setZoomTransform:function(d,y,k){var N=this._map.getZoomScale(k,d.zoom),R=d.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(y,k)).round();He.any3d?va(d.el,R,N):$t(d.el,R)},_resetGrid:function(){var d=this._map,y=d.options.crs,k=this._tileSize=this.getTileSize(),N=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,y.wrapLng[0]],N).x/k.x),Math.ceil(d.project([0,y.wrapLng[1]],N).x/k.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([y.wrapLat[0],0],N).y/k.x),Math.ceil(d.project([y.wrapLat[1],0],N).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var y=this._map,k=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),N=y.getZoomScale(k,this._tileZoom),R=y.project(d,this._tileZoom).floor(),z=y.getSize().divideBy(N*2);return new B(R.subtract(z),R.add(z))},_update:function(d){var y=this._map;if(y){var k=this._clampZoom(y.getZoom());if(d===void 0&&(d=y.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(d),R=this._pxBoundsToTileRange(N),z=R.getCenter(),ee=[],ce=this.options.keepBuffer,ve=new B(R.getBottomLeft().subtract([ce,-ce]),R.getTopRight().add([ce,-ce]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Me=this._tiles[Te].coords;(Me.z!==this._tileZoom||!ve.contains(new ie(Me.x,Me.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(d,k);return}for(var Ge=R.min.y;Ge<=R.max.y;Ge++)for(var it=R.min.x;it<=R.max.x;it++){var $n=new ie(it,Ge);if($n.z=this._tileZoom,!!this._isValidTile($n)){var gn=this._tiles[this._tileCoordsToKey($n)];gn?gn.current=!0:ee.push($n)}}if(ee.sort(function(bt,xt){return bt.distanceTo(z)-xt.distanceTo(z)}),ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cr=document.createDocumentFragment();for(it=0;it<ee.length;it++)this._addTile(ee[it],Cr);this._level.el.appendChild(Cr)}}}},_isValidTile:function(d){var y=this._map.options.crs;if(!y.infinite){var k=this._globalTileRange;if(!y.wrapLng&&(d.x<k.min.x||d.x>k.max.x)||!y.wrapLat&&(d.y<k.min.y||d.y>k.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(d);return V(this.options.bounds).overlaps(N)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var y=this._map,k=this.getTileSize(),N=d.scaleBy(k),R=N.add(k),z=y.unproject(N,d.z),ee=y.unproject(R,d.z);return[z,ee]},_tileCoordsToBounds:function(d){var y=this._tileCoordsToNwSe(d),k=new ae(y[0],y[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var y=d.split(":"),k=new ie(+y[0],+y[1]);return k.z=+y[2],k},_removeTile:function(d){var y=this._tiles[d];y&&(Dt(y.el),delete this._tiles[d],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){tt(d,"leaflet-tile");var y=this.getTileSize();d.style.width=y.x+"px",d.style.height=y.y+"px",d.onselectstart=p,d.onmousemove=p,He.ielt9&&this.options.opacity<1&&Wt(d,this.options.opacity)},_addTile:function(d,y){var k=this._getTilePos(d),N=this._tileCoordsToKey(d),R=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(R),this.createTile.length<2&&H(o(this._tileReady,this,d,null,R)),$t(R,k),this._tiles[N]={el:R,coords:d,current:!0},y.appendChild(R),this.fire("tileloadstart",{tile:R,coords:d})},_tileReady:function(d,y,k){y&&this.fire("tileerror",{error:y,tile:k,coords:d});var N=this._tileCoordsToKey(d);k=this._tiles[N],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Wt(k.el,0),G(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),y||(tt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),He.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var y=new ie(this._wrapX?m(d.x,this._wrapX):d.x,this._wrapY?m(d.y,this._wrapY):d.y);return y.z=d.z,y},_pxBoundsToTileRange:function(d){var y=this.getTileSize();return new B(d.min.unscaleBy(y).floor(),d.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Gp(d){return new Ks(d)}var eo=Ks.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,y){this._url=d,y=w(this,y),y.detectRetina&&He.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,y){return this._url===d&&y===void 0&&(y=!0),this._url=d,y||this.redraw(),this},createTile:function(d,y){var k=document.createElement("img");return et(k,"load",o(this._tileOnLoad,this,y,k)),et(k,"error",o(this._tileOnError,this,y,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(d),k},getTileUrl:function(d){var y={r:He.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-d.y;this.options.tms&&(y.y=k),y["-y"]=k}return C(this._url,i(y,this.options))},_tileOnLoad:function(d,y){He.ielt9?setTimeout(o(d,this,null,y),0):d(null,y)},_tileOnError:function(d,y,k){var N=this.options.errorTileUrl;N&&y.getAttribute("src")!==N&&(y.src=N),d(k,y)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,y=this.options.maxZoom,k=this.options.zoomReverse,N=this.options.zoomOffset;return k&&(d=y-d),d+N},_getSubdomain:function(d){var y=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var d,y;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(y=this._tiles[d].el,y.onload=p,y.onerror=p,!y.complete)){y.src=M;var k=this._tiles[d].coords;Dt(y),delete this._tiles[d],this.fire("tileabort",{tile:y,coords:k})}},_removeTile:function(d){var y=this._tiles[d];if(y)return y.el.setAttribute("src",M),Ks.prototype._removeTile.call(this,d)},_tileReady:function(d,y,k){if(!(!this._map||k&&k.getAttribute("src")===M))return Ks.prototype._tileReady.call(this,d,y,k)}});function Yr(d,y){return new eo(d,y)}var oc=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,y){this._url=d;var k=i({},this.defaultWmsParams);for(var N in y)N in this.options||(k[N]=y[N]);y=w(this,y);var R=y.detectRetina&&He.retina?2:1,z=this.getTileSize();k.width=z.x*R,k.height=z.y*R,this.wmsParams=k},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,eo.prototype.onAdd.call(this,d)},getTileUrl:function(d){var y=this._tileCoordsToNwSe(d),k=this._crs,N=K(k.project(y[0]),k.project(y[1])),R=N.min,z=N.max,ee=(this._wmsVersion>=1.3&&this._crs===Mf?[R.y,R.x,z.y,z.x]:[R.x,R.y,z.x,z.y]).join(","),ce=eo.prototype.getTileUrl.call(this,d);return ce+E(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ee},setParams:function(d,y){return i(this.wmsParams,d),y||this.redraw(),this}});function Kr(d,y){return new oc(d,y)}eo.WMS=oc,Yr.wms=Kr;var _r=bi.extend({options:{padding:.1},initialize:function(d){w(this,d),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,y){var k=this._map.getZoomScale(y,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,y),z=N.multiplyBy(-k).add(R).subtract(this._map._getNewPixelOrigin(d,y));He.any3d?va(this._container,z,k):$t(this._container,z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,y=this._map.getSize(),k=this._map.containerPointToLayerPoint(y.multiplyBy(-d)).round();this._bounds=new B(k,k.add(y.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Su=_r.extend({options:{tolerance:0},getEvents:function(){var d=_r.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_r.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");et(d,"mousemove",this._onMouseMove,this),et(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Dt(this._container),Ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var y in this._layers)d=this._layers[y],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=this._container,k=d.getSize(),N=He.retina?2:1;$t(y,d.min),y.width=N*k.x,y.height=N*k.y,y.style.width=k.x+"px",y.style.height=k.y+"px",He.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){_r.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[u(d)]=d;var y=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var y=d._order,k=y.next,N=y.prev;k?k.prev=N:this._drawLast=N,N?N.next=k:this._drawFirst=k,delete d._order,delete this._layers[u(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var y=d.options.dashArray.split(/[, ]+/),k=[],N,R;for(R=0;R<y.length;R++){if(N=Number(y[R]),isNaN(N))return;k.push(N)}d.options._dashArray=k}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var y=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(d._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(d._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var y=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,y=this._redrawBounds;if(this._ctx.save(),y){var k=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)d=N.layer,(!y||d._pxBounds&&d._pxBounds.intersects(y))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,y){if(this._drawing){var k,N,R,z,ee=d._parts,ce=ee.length,ve=this._ctx;if(ce){for(ve.beginPath(),k=0;k<ce;k++){for(N=0,R=ee[k].length;N<R;N++)z=ee[k][N],ve[N?"lineTo":"moveTo"](z.x,z.y);y&&ve.closePath()}this._fillStroke(ve,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var y=d._point,k=this._ctx,N=Math.max(Math.round(d._radius),1),R=(Math.max(Math.round(d._radiusY),1)||N)/N;R!==1&&(k.save(),k.scale(1,R)),k.beginPath(),k.arc(y.x,y.y/R,N,0,Math.PI*2,!1),R!==1&&k.restore(),this._fillStroke(k,d)}},_fillStroke:function(d,y){var k=y.options;k.fill&&(d.globalAlpha=k.fillOpacity,d.fillStyle=k.fillColor||k.color,d.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(d.setLineDash&&d.setLineDash(y.options&&y.options._dashArray||[]),d.globalAlpha=k.opacity,d.lineWidth=k.weight,d.strokeStyle=k.color,d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.stroke())},_onClick:function(d){for(var y=this._map.mouseEventToLayerPoint(d),k,N,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(k))&&(N=k);this._fireEvent(N?[N]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,y)}},_handleMouseOut:function(d){var y=this._hoveredLayer;y&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([y],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,y){if(!this._mouseHoverThrottled){for(var k,N,R=this._drawFirst;R;R=R.next)k=R.layer,k.options.interactive&&k._containsPoint(y)&&(N=k);N!==this._hoveredLayer&&(this._handleMouseOut(d),N&&(tt(this._container,"leaflet-interactive"),this._fireEvent([N],d,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,y,k){this._map._fireDOMEvent(y,k||y.type,d)},_bringToFront:function(d){var y=d._order;if(y){var k=y.next,N=y.prev;if(k)k.prev=N;else return;N?N.next=k:k&&(this._drawFirst=k),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(d)}},_bringToBack:function(d){var y=d._order;if(y){var k=y.next,N=y.prev;if(N)N.next=k;else return;k?k.prev=N:N&&(this._drawLast=N),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(d)}}});function sc(d){return He.canvas?new Su(d):null}var to=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Pf={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_r.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var y=d._container=to("shape");tt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",d._path=to("path"),y.appendChild(d._path),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){var y=d._container;this._container.appendChild(y),d.options.interactive&&d.addInteractiveTarget(y)},_removePath:function(d){var y=d._container;Dt(y),d.removeInteractiveTarget(y),delete this._layers[u(d)]},_updateStyle:function(d){var y=d._stroke,k=d._fill,N=d.options,R=d._container;R.stroked=!!N.stroke,R.filled=!!N.fill,N.stroke?(y||(y=d._stroke=to("stroke")),R.appendChild(y),y.weight=N.weight+"px",y.color=N.color,y.opacity=N.opacity,N.dashArray?y.dashStyle=j(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=N.lineCap.replace("butt","flat"),y.joinstyle=N.lineJoin):y&&(R.removeChild(y),d._stroke=null),N.fill?(k||(k=d._fill=to("fill")),R.appendChild(k),k.color=N.fillColor||N.color,k.opacity=N.fillOpacity):k&&(R.removeChild(k),d._fill=null)},_updateCircle:function(d){var y=d._point.round(),k=Math.round(d._radius),N=Math.round(d._radiusY||k);this._setPath(d,d._empty()?"M0 0":"AL "+y.x+","+y.y+" "+k+","+N+" 0,"+65535*360)},_setPath:function(d,y){d._path.v=y},_bringToFront:function(d){In(d._container)},_bringToBack:function(d){No(d._container)}},Wi=He.vml?to:Ce,Ws=_r.extend({_initContainer:function(){this._container=Wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),Ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var d=this._bounds,y=d.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,k.setAttribute("width",y.x),k.setAttribute("height",y.y)),$t(k,d.min),k.setAttribute("viewBox",[d.min.x,d.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(d){var y=d._path=Wi("path");d.options.className&&tt(y,d.options.className),d.options.interactive&&tt(y,"leaflet-interactive"),this._updateStyle(d),this._layers[u(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){Dt(d._path),d.removeInteractiveTarget(d._path),delete this._layers[u(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var y=d._path,k=d.options;y&&(k.stroke?(y.setAttribute("stroke",k.color),y.setAttribute("stroke-opacity",k.opacity),y.setAttribute("stroke-width",k.weight),y.setAttribute("stroke-linecap",k.lineCap),y.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?y.setAttribute("stroke-dasharray",k.dashArray):y.removeAttribute("stroke-dasharray"),k.dashOffset?y.setAttribute("stroke-dashoffset",k.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),k.fill?(y.setAttribute("fill",k.fillColor||k.color),y.setAttribute("fill-opacity",k.fillOpacity),y.setAttribute("fill-rule",k.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(d,y){this._setPath(d,Pe(d._parts,y))},_updateCircle:function(d){var y=d._point,k=Math.max(Math.round(d._radius),1),N=Math.max(Math.round(d._radiusY),1)||k,R="a"+k+","+N+" 0 1,0 ",z=d._empty()?"M0 0":"M"+(y.x-k)+","+y.y+R+k*2+",0 "+R+-k*2+",0 ";this._setPath(d,z)},_setPath:function(d,y){d._path.setAttribute("d",y)},_bringToFront:function(d){In(d._path)},_bringToBack:function(d){No(d._path)}});He.vml&&Ws.include(Pf);function lc(d){return He.svg||He.vml?new Ws(d):null}ht.include({getRenderer:function(d){var y=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var y=this._paneRenderers[d];return y===void 0&&(y=this._createRenderer({pane:d}),this._paneRenderers[d]=y),y},_createRenderer:function(d){return this.options.preferCanvas&&sc(d)||lc(d)}});var Ro=Fs.extend({initialize:function(d,y){Fs.prototype.initialize.call(this,this._boundsToLatLngs(d),y)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=V(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function xx(d,y){return new Ro(d,y)}Ws.create=Wi,Ws.pointsToPath=Pe,wa.geometryToLayer=Jn,wa.coordsToLatLng=vu,wa.coordsToLatLngs=tc,wa.latLngToCoords=bu,wa.latLngsToCoords=nc,wa.getFeature=Xa,wa.asFeature=xu,ht.mergeOptions({boxZoom:!0});var wr=Gi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ds(),cu(),this._startPoint=this._map.mouseEventToContainerPoint(d),et(document,{contextmenu:Va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var y=new B(this._point,this._startPoint),k=y.getSize();$t(this._box,y.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(Dt(this._box),Jt(this._container,"leaflet-crosshair")),Hi(),Gl(),Ot(document,{contextmenu:Va,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",wr),ht.mergeOptions({doubleClickZoom:!0});var Eu=Gi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var y=this._map,k=y.getZoom(),N=y.options.zoomDelta,R=d.originalEvent.shiftKey?k-N:k+N;y.options.doubleClickZoom==="center"?y.setZoom(R):y.setZoomAround(d.containerPoint,R)}});ht.addInitHook("addHandler","doubleClickZoom",Eu),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vi=Gi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Za(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=V(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var y=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(y),this._prunePositions(y)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,y){return d-(d-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;d.x<y.min.x&&(d.x=this._viscousLimit(d.x,y.min.x)),d.y<y.min.y&&(d.y=this._viscousLimit(d.y,y.min.y)),d.x>y.max.x&&(d.x=this._viscousLimit(d.x,y.max.x)),d.y>y.max.y&&(d.y=this._viscousLimit(d.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,y=Math.round(d/2),k=this._initialWorldOffset,N=this._draggable._newPos.x,R=(N-y+k)%d+y-k,z=(N+y+k)%d-y-k,ee=Math.abs(R+k)<Math.abs(z+k)?R:z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ee},_onDragEnd:function(d){var y=this._map,k=y.options,N=!k.inertia||d.noInertia||this._times.length<2;if(y.fire("dragend",d),N)y.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),z=(this._lastTime-this._times[0])/1e3,ee=k.easeLinearity,ce=R.multiplyBy(ee/z),ve=ce.distanceTo([0,0]),Te=Math.min(k.inertiaMaxSpeed,ve),Me=ce.multiplyBy(Te/ve),Ge=Te/(k.inertiaDeceleration*ee),it=Me.multiplyBy(-Ge/2).round();!it.x&&!it.y?y.fire("moveend"):(it=y._limitOffset(it,y.options.maxBounds),H(function(){y.panBy(it,{duration:Ge,easeLinearity:ee,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Vi),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Df=Gi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),et(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,y=document.documentElement,k=d.scrollTop||y.scrollTop,N=d.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(N,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var y=this._panKeys={},k=this.keyCodes,N,R;for(N=0,R=k.left.length;N<R;N++)y[k.left[N]]=[-1*d,0];for(N=0,R=k.right.length;N<R;N++)y[k.right[N]]=[d,0];for(N=0,R=k.down.length;N<R;N++)y[k.down[N]]=[0,d];for(N=0,R=k.up.length;N<R;N++)y[k.up[N]]=[0,-1*d]},_setZoomDelta:function(d){var y=this._zoomKeys={},k=this.keyCodes,N,R;for(N=0,R=k.zoomIn.length;N<R;N++)y[k.zoomIn[N]]=d;for(N=0,R=k.zoomOut.length;N<R;N++)y[k.zoomOut[N]]=-d},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var y=d.keyCode,k=this._map,N;if(y in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(N=this._panKeys[y],d.shiftKey&&(N=se(N).multiplyBy(3)),k.options.maxBounds&&(N=k._limitOffset(se(N),k.options.maxBounds)),k.options.worldCopyJump){var R=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(N)));k.panTo(R)}else k.panBy(N)}else if(y in this._zoomKeys)k.setZoom(k.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Va(d)}}});ht.addInitHook("addHandler","keyboard",Df),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cc=Gi.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var y=cr(d),k=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var N=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),N),Va(d)},_performZoom:function(){var d=this._map,y=d.getZoom(),k=this._map.options.zoomSnap||0;d._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,z=k?Math.ceil(R/k)*k:R,ee=d._limitZoom(y+(this._delta>0?z:-z))-y;this._delta=0,this._startTime=null,ee&&(d.options.scrollWheelZoom==="center"?d.setZoom(y+ee):d.setZoomAround(this._lastMousePos,y+ee))}});ht.addInitHook("addHandler","scrollWheelZoom",cc);var Lo=600;ht.mergeOptions({tapHold:He.touchNative&&He.safari&&He.mobile,tapTolerance:15});var ku=Gi.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var y=d.touches[0];this._startPos=this._newPos=new ie(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",pn),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Lo),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Ot(document,"touchend",pn),Ot(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)},_onMove:function(d){var y=d.touches[0];this._newPos=new ie(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,y){var k=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});k._simulated=!0,y.target.dispatchEvent(k)}});ht.addInitHook("addHandler","tapHold",ku),ht.mergeOptions({touchZoom:He.touch,bounceAtZoomLimits:!0});var Rf=Gi.extend({addHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var y=this._map;if(!(!d.touches||d.touches.length!==2||y._animatingZoom||this._zooming)){var k=y.mouseEventToContainerPoint(d.touches[0]),N=y.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(k.add(N)._divideBy(2))),this._startDist=k.distanceTo(N),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),pn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var y=this._map,k=y.mouseEventToContainerPoint(d.touches[0]),N=y.mouseEventToContainerPoint(d.touches[1]),R=k.distanceTo(N)/this._startDist;if(this._zoom=y.getScaleZoom(R,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&R<1||this._zoom>y.getMaxZoom()&&R>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var z=k._add(N)._divideBy(2)._subtract(this._centerPoint);if(R===1&&z.x===0&&z.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(z),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var ee=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ee,this,!0),pn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Rf),ht.BoxZoom=wr,ht.DoubleClickZoom=Eu,ht.Drag=Vi,ht.Keyboard=Df,ht.ScrollWheelZoom=cc,ht.TapHold=ku,ht.TouchZoom=Rf,n.Bounds=B,n.Browser=He,n.CRS=ye,n.Canvas=Su,n.Circle=yu,n.CircleMarker=Hs,n.Class=X,n.Control=jr,n.DivIcon=Fp,n.DivOverlay=Qn,n.DomEvent=fu,n.DomUtil=Is,n.Draggable=Za,n.Evented=J,n.FeatureGroup=qi,n.GeoJSON=wa,n.GridLayer=Ks,n.Handler=Gi,n.Icon=Yi,n.ImageOverlay=qs,n.LatLng=oe,n.LatLngBounds=ae,n.Layer=bi,n.LayerGroup=Us,n.LineUtil=mx,n.Map=ht,n.Marker=ec,n.Mixin=ux,n.Path=Ki,n.Point=ie,n.PolyUtil=Cf,n.Polygon=Fs,n.Polyline=_a,n.Popup=ic,n.PosAnimation=$s,n.Projection=Dp,n.Rectangle=Ro,n.Renderer=_r,n.SVG=Ws,n.SVGOverlay=wu,n.TileLayer=eo,n.Tooltip=ac,n.Transformation=je,n.Util=Z,n.VideoOverlay=Qa,n.bind=o,n.bounds=K,n.canvas=sc,n.circle=Bp,n.circleMarker=$p,n.control=xa,n.divIcon=bx,n.extend=i,n.featureGroup=Lp,n.geoJSON=_u,n.geoJson=rc,n.gridLayer=Gp,n.icon=Xl,n.imageOverlay=zp,n.latLng=pe,n.latLngBounds=V,n.layerGroup=px,n.map=Ef,n.marker=Ip,n.point=se,n.polygon=yx,n.polyline=gx,n.popup=Hp,n.rectangle=xx,n.setOptions=w,n.stamp=u,n.svg=lc,n.svgOverlay=Up,n.tileLayer=Yr,n.tooltip=vx,n.transformation=de,n.version=r,n.videoOverlay=Ys;var Lf=window.L;n.noConflict=function(){return window.L=Lf,this},window.L=n}))})(zh,zh.exports)),zh.exports}var WK=KK();const hw=ui(WK),Qg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Sc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function VK(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:c,mapId:u}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Sc(n),p=Sc(t),g=Sc(r),b=Sc(a),_=Sc(o),w=Sc(c),E=i?Sc(i):null;let A=null,C=null,j=null;const P=G=>G.code==="Space"||G.key===" "||G.key==="Spacebar"||G.key==="Space",M=G=>{P(G)&&document.activeElement!==_&&(G.preventDefault(),G.stopPropagation(),_.focus())},D=()=>{g.style.display="flex",A?setTimeout(()=>A?.invalidateSize(),200):setTimeout(()=>{A=hw.map(u,{keyboard:!1}).setView([f.lat,f.lon],11),hw.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(A),A.invalidateSize()},0),g.addEventListener("keydown",M,!0),g.addEventListener("keyup",M,!0),_.focus()},$=()=>{g.style.display="none",_.value="",w.innerHTML="",j&&(window.clearTimeout(j),j=null),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0)},U=G=>{const Z=G.dataset.name??"",X=Number(G.dataset.lat??""),Q=Number(G.dataset.lon??"");!Number.isFinite(X)||!Number.isFinite(Q)||!A||(C?C.setLatLng([X,Q]):C=hw.marker([X,Q]).addTo(A),A.flyTo([X,Q],14,{duration:.5}),m.value=Z,m.dataset.lat=String(X),m.dataset.lon=String(Q),e.onSelected?.({name:Z,lat:X,lon:Q}),w.innerHTML="",$())},Y=()=>{j&&window.clearTimeout(j);const G=_.value.trim();if(!G){w.innerHTML="";return}j=window.setTimeout(async()=>{try{const Z="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(G),X=await fetch(Z,{headers:{Accept:"application/json"}});if(!X.ok)throw new Error(`HTTP ${X.status}`);const Q=await X.json();if(!Array.isArray(Q)||Q.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const q=Q.slice(0,12).map((J,ie)=>{const fe=J.display_name.split(",").slice(0,3).map(K=>K.trim()).join("  "),se="padding:8px;cursor:pointer;outline:none;",B=ie===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Qg(fe)}"
                    data-lat="${Qg(J.lat)}"
                    data-lon="${Qg(J.lon)}"
                    data-active="${ie===0?"1":"0"}"
                    style="${se}${B}"
                  >${Qg(fe)}</li>`}).join("");w.innerHTML=q}catch(Z){console.error(Z),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},W=G=>{const Z=G.target;Z.tagName==="LI"&&U(Z)},H=G=>{if(G.key==="Enter"){const Z=w.querySelector('li[data-active="1"]')??w.querySelector("li");Z&&U(Z)}};return p.addEventListener("click",D),b.addEventListener("click",$),E&&E.addEventListener("click",$),_.addEventListener("input",Y),_.addEventListener("keydown",H),w.addEventListener("click",W),()=>{p.removeEventListener("click",D),b.removeEventListener("click",$),E&&E.removeEventListener("click",$),_.removeEventListener("input",Y),_.removeEventListener("keydown",H),w.removeEventListener("click",W),g.removeEventListener("keydown",M,!0),g.removeEventListener("keyup",M,!0),j&&(window.clearTimeout(j),j=null),A&&(A.remove(),A=null)}}function Ju(){return document.getElementById("suggestions")}function J0(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function mw(e,t){const n=J0(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const ZK='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function XK({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:c,onSelect:u}){S.useEffect(()=>{if(!e)return;const f=VK({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:j=>{n(""),r(j.name),i.current&&(i.current.value=j.name),a.current&&(a.current.value=String(j.lat)),o.current&&(o.current.value=String(j.lon)),u?.(j),t(!1)}}),m=document.getElementById("inputBirthPlaceBtn");m&&m.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const g=document.getElementById("searchBox"),b=Ju();setTimeout(()=>g?.focus(),0);const _=j=>{if(j.key==="Escape"){j.preventDefault(),t(!1);return}if(j.key!=="Tab")return;const P=Ju();if(P&&P.contains(document.activeElement))return;const M=Array.from(p.querySelectorAll(ZK)).filter(Y=>!Y.hasAttribute("disabled")&&Y.tabIndex!==-1);if(M.length===0)return;const D=M[0],$=M[M.length-1],U=document.activeElement;j.shiftKey?(U===D||!p.contains(U))&&(j.preventDefault(),$.focus()):(U===$||!p.contains(U))&&(j.preventDefault(),D.focus())};p.addEventListener("keydown",_);const w=j=>{if(j.key!=="ArrowDown")return;const P=Ju();!P||J0(P).length===0||j.preventDefault()};g?.addEventListener("keydown",w);const E=j=>{if(j.target.value.trim()===""){const M=Ju();M&&(M.innerHTML="")}};g?.addEventListener("input",E);const A=j=>{const P=Ju();if(!P)return;const M=J0(P);if(M.length===0)return;const D=document.activeElement,$=D?M.indexOf(D):-1;if($===-1)return;const U=Y=>{j.preventDefault(),mw(P,$+Y)};switch(j.key){case"Tab":j.preventDefault(),U(j.shiftKey?-1:1);break;case"ArrowDown":j.preventDefault(),U(1);break;case"ArrowUp":j.preventDefault(),U(-1);break;case"Home":j.preventDefault(),mw(P,0);break;case"End":j.preventDefault(),mw(P,M.length-1);break;case"Enter":case" ":j.preventDefault(),D.click();break;case"Backspace":j.preventDefault(),P.innerHTML="",g?.focus();break}j.stopPropagation()};let C=null;return b&&(b.addEventListener("keydown",A),C=new MutationObserver(()=>{const j=Ju();!j||J0(j).length}),C.observe(b,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",_),g?.removeEventListener("keydown",w),g?.removeEventListener("input",E),b&&b.removeEventListener("keydown",A),C?.disconnect(),f?.()}},[e,u,n,r,t,i,a,o]),S.useEffect(()=>{e||setTimeout(()=>c.current?.focus(),0)},[e,c])}function tB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=qK({placeholderText:t,value:r});return XK({...i,onSelect:e}),x.jsxs("li",{className:"flex items-center gap-2",children:[x.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),x.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),x.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),x.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),x.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&x.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:x.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),x.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),x.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),x.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),x.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:x.jsx("div",{id:"map",className:"h-full w-full"})}),x.jsxs("div",{className:"gap-2 p-3",children:[x.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[x.jsxs("p",{className:"flex mb-1",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"   ."})]}),x.jsxs("p",{className:"flex",children:[x.jsx("span",{className:"mr-1",children:"*"}),x.jsx("span",{children:"       ."})]})]}),x.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JK=typeof Symbol=="function"&&Symbol.observable||"@@observable",yN=JK,pw=()=>Math.random().toString(36).substring(7).split("").join("."),QK={INIT:`@@redux/INIT${pw()}`,REPLACE:`@@redux/REPLACE${pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pw()}`},wy=QK;function Hk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Fk(e,t,n){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rr(1));return n(Fk)(e,t)}let r=e,i=t,a=new Map,o=a,c=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((E,A)=>{o.set(A,E)}))}function m(){if(u)throw new Error(rr(3));return i}function p(E){if(typeof E!="function")throw new Error(rr(4));if(u)throw new Error(rr(5));let A=!0;f();const C=c++;return o.set(C,E),function(){if(A){if(u)throw new Error(rr(6));A=!1,f(),o.delete(C),a=null}}}function g(E){if(!Hk(E))throw new Error(rr(7));if(typeof E.type>"u")throw new Error(rr(8));if(typeof E.type!="string")throw new Error(rr(17));if(u)throw new Error(rr(9));try{u=!0,i=r(i,E)}finally{u=!1}return(a=o).forEach(C=>{C()}),E}function b(E){if(typeof E!="function")throw new Error(rr(10));r=E,g({type:wy.REPLACE})}function _(){const E=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(rr(11));function C(){const P=A;P.next&&P.next(m())}return C(),{unsubscribe:E(C)}},[yN](){return this}}}return g({type:wy.INIT}),{dispatch:g,subscribe:p,getState:m,replaceReducer:b,[yN]:_}}function eW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:wy.INIT})>"u")throw new Error(rr(12));if(typeof n(void 0,{type:wy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function nB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{eW(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],g=n[p],b=o[p],_=g(b,c);if(typeof _>"u")throw c&&c.type,new Error(rr(14));f[p]=_,u=u||_!==b}return u=u||r.length!==Object.keys(o).length,u?f:o}}function vN(e,t){return function(...n){return t(e.apply(this,n))}}function bN(e,t){if(typeof e=="function")return vN(e,t);if(typeof e!="object"||e===null)throw new Error(rr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=vN(i,t))}return n}function im(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function rB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(rr(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},c=e.map(u=>u(o));return a=im(...c)(i.dispatch),{...i,dispatch:a}}}function iB(e){return Hk(e)&&"type"in e&&typeof e.type=="string"}var gw={exports:{}},yw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function tW(){if(xN)return yw;xN=1;var e=qd();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return yw.useSyncExternalStoreWithSelector=function(u,f,m,p,g){var b=i(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=o(function(){function E(M){if(!A){if(A=!0,C=M,M=p(M),g!==void 0&&_.hasValue){var D=_.value;if(g(D,M))return j=D}return j=M}if(D=j,n(C,M))return D;var $=p(M);return g!==void 0&&g(D,$)?(C=M,D):(C=M,j=$)}var A=!1,C,j,P=m===void 0?null:m;return[function(){return E(f())},P===null?void 0:function(){return E(P())}]},[f,m,p,g]);var w=r(u,b[0],b[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),c(w),w},yw}var _N;function nW(){return _N||(_N=1,gw.exports=tW()),gw.exports}nW();var rW=S.version.startsWith("19"),iW=Symbol.for(rW?"react.transitional.element":"react.element"),aW=Symbol.for("react.portal"),oW=Symbol.for("react.fragment"),sW=Symbol.for("react.strict_mode"),lW=Symbol.for("react.profiler"),cW=Symbol.for("react.consumer"),uW=Symbol.for("react.context"),aB=Symbol.for("react.forward_ref"),dW=Symbol.for("react.suspense"),fW=Symbol.for("react.suspense_list"),Gk=Symbol.for("react.memo"),hW=Symbol.for("react.lazy"),mW=aB,pW=Gk;function gW(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case iW:switch(e=e.type,e){case oW:case lW:case sW:case dW:case fW:return e;default:switch(e=e&&e.$$typeof,e){case uW:case aB:case hW:case Gk:return e;case cW:return e;default:return t}}case aW:return t}}}function yW(e){return gW(e)===Gk}function vW(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let c=!1,u,f,m,p,g;function b(C,j){return u=C,f=j,m=e(u,f),p=t(r,f),g=n(m,p,f),c=!0,g}function _(){return m=e(u,f),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function w(){return e.dependsOnOwnProps&&(m=e(u,f)),t.dependsOnOwnProps&&(p=t(r,f)),g=n(m,p,f),g}function E(){const C=e(u,f),j=!o(C,m);return m=C,j&&(g=n(m,p,f)),g}function A(C,j){const P=!a(j,f),M=!i(C,u,j,f);return u=C,f=j,P&&M?_():P?w():M?E():g}return function(j,P){return c?A(j,P):b(j,P)}}function bW(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),c=r(e,i);return vW(a,o,c,e,i)}function xW(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function QS(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function wN(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function oB(e,t){return function(r,{displayName:i}){const a=function(c,u){return a.dependsOnOwnProps?a.mapToProps(c,u):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,u){a.mapToProps=e,a.dependsOnOwnProps=wN(e);let f=a(c,u);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=wN(f),f=a(c,u)),f},a}}function qk(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function _W(e){return e&&typeof e=="object"?QS(t=>xW(e,t)):e?typeof e=="function"?oB(e):qk(e,"mapDispatchToProps"):QS(t=>({dispatch:t}))}function wW(e){return e?typeof e=="function"?oB(e):qk(e,"mapStateToProps"):QS(()=>({}))}function SW(e,t,n){return{...n,...e,...t}}function EW(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,f,m){const p=e(u,f,m);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function kW(e){return e?typeof e=="function"?EW(e):qk(e,"mergeProps"):()=>SW}function TW(e){e()}function AW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TW(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SN={notify(){},get:()=>[]};function sB(e,t){let n,r=SN,i=0,a=!1;function o(w){m();const E=r.subscribe(w);let A=!1;return()=>{A||(A=!0,E(),p())}}function c(){r.notify()}function u(){_.onStateChange&&_.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=AW())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SN)}function g(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return _}var OW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jW=OW(),CW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NW=CW(),MW=()=>jW||NW?S.useLayoutEffect:S.useEffect,Sy=MW();function EN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Q0(e,t){if(EN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!EN(e[n[i]],t[n[i]]))return!1;return!0}var PW={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},DW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LW={[mW]:RW,[pW]:lB};function kN(e){return yW(e)?lB:LW[e.$$typeof]||PW}var IW=Object.defineProperty,$W=Object.getOwnPropertyNames,TN=Object.getOwnPropertySymbols,BW=Object.getOwnPropertyDescriptor,zW=Object.getPrototypeOf,AN=Object.prototype;function eE(e,t){if(typeof t!="string"){if(AN){const a=zW(t);a&&a!==AN&&eE(e,a)}let n=$W(t);TN&&(n=n.concat(TN(t)));const r=kN(e),i=kN(t);for(let a=0;a<n.length;++a){const o=n[a];if(!DW[o]&&!(i&&i[o])&&!(r&&r[o])){const c=BW(t,o);try{IW(e,o,c)}catch{}}}}return e}var UW=Symbol.for("react-redux-context"),HW=typeof globalThis<"u"?globalThis:{};function FW(){if(!S.createContext)return{};const e=HW[UW]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var cB=FW(),GW=[null,null];function qW(e,t,n){Sy(()=>e(...t),n)}function YW(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function KW(e,t,n,r,i,a,o,c,u,f,m){if(!e)return()=>{};let p=!1,g=null;const b=()=>{if(p||!c.current)return;const w=t.getState();let E,A;try{E=r(w,i.current)}catch(C){A=C,g=C}A||(g=null),E===a.current?o.current||f():(a.current=E,u.current=E,o.current=!0,m())};return n.onStateChange=b,n.trySubscribe(),b(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function WW(e,t){return e===t}function VW(e,t,n,{pure:r,areStatesEqual:i=WW,areOwnPropsEqual:a=Q0,areStatePropsEqual:o=Q0,areMergedPropsEqual:c=Q0,forwardRef:u=!1,context:f=cB}={}){const m=f,p=wW(e),g=_W(t),b=kW(n),_=!!e;return E=>{const A=E.displayName||E.name||"Component",C=`Connect(${A})`,j={shouldHandleStateChanges:_,displayName:C,wrappedComponentName:A,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:b,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:c};function P($){const[U,Y,W]=S.useMemo(()=>{const{reactReduxForwardedRef:de,...Le}=$;return[$.context,de,Le]},[$]),H=S.useMemo(()=>{let de=m;return U?.Consumer,de},[U,m]),G=S.useContext(H),Z=!!$.store&&!!$.store.getState&&!!$.store.dispatch,X=!!G&&!!G.store,Q=Z?$.store:G.store,q=X?G.getServerState:Q.getState,J=S.useMemo(()=>bW(Q.dispatch,j),[Q]),[ie,fe]=S.useMemo(()=>{if(!_)return GW;const de=sB(Q,Z?void 0:G.subscription),Le=de.notifyNestedSubs.bind(de);return[de,Le]},[Q,Z,G]),se=S.useMemo(()=>Z?G:{...G,subscription:ie},[Z,G,ie]),B=S.useRef(void 0),K=S.useRef(W),ae=S.useRef(void 0),V=S.useRef(!1),oe=S.useRef(!1),pe=S.useRef(void 0);Sy(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const ye=S.useMemo(()=>()=>ae.current&&W===K.current?ae.current:J(Q.getState(),W),[Q,W]),ue=S.useMemo(()=>Le=>ie?KW(_,Q,ie,J,K,B,V,oe,ae,fe,Le):()=>{},[ie]);qW(YW,[K,B,V,W,ae,fe]);let te;try{te=S.useSyncExternalStore(ue,ye,q?()=>J(q(),W):ye)}catch(de){throw pe.current&&(de.message+=`
The error may be correlated with this previous error:
${pe.current.stack}

`),de}Sy(()=>{pe.current=void 0,ae.current=void 0,B.current=te});const Se=S.useMemo(()=>S.createElement(E,{...te,ref:Y}),[Y,E,te]);return S.useMemo(()=>_?S.createElement(H.Provider,{value:se},Se):Se,[H,Se,se])}const D=S.memo(P);if(D.WrappedComponent=E,D.displayName=P.displayName=C,u){const U=S.forwardRef(function(W,H){return S.createElement(D,{...W,reactReduxForwardedRef:H})});return U.displayName=C,U.WrappedComponent=E,eE(U,E)}return eE(D,E)}}var uB=VW;function ZW(e){const{children:t,context:n,serverState:r,store:i}=e,a=S.useMemo(()=>{const u=sB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=S.useMemo(()=>i.getState(),[i]);Sy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=n||cB;return S.createElement(c.Provider,{value:a},t)}var dB=ZW,XW="Invariant failed";function JW(e,t){throw new Error(XW)}var La=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,c=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},Yk=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ON=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},QW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},vw={top:0,right:0,bottom:0,left:0},Kk=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?vw:r,a=t.border,o=a===void 0?vw:a,c=t.padding,u=c===void 0?vw:c,f=La(Yk(n,i)),m=La(ON(n,o)),p=La(ON(m,u));return{marginBox:f,borderBox:La(n),paddingBox:m,contentBox:p,margin:i,border:o,padding:u}},Qi=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&JW(),i},eV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ey=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,c=QW(r,n);return Kk({borderBox:c,border:i,margin:a,padding:o})},ky=function(t,n){return n===void 0&&(n=eV()),Ey(t,n)},fB=function(t,n){var r={top:Qi(n.marginTop),right:Qi(n.marginRight),bottom:Qi(n.marginBottom),left:Qi(n.marginLeft)},i={top:Qi(n.paddingTop),right:Qi(n.paddingRight),bottom:Qi(n.paddingBottom),left:Qi(n.paddingLeft)},a={top:Qi(n.borderTopWidth),right:Qi(n.borderRightWidth),bottom:Qi(n.borderBottomWidth),left:Qi(n.borderLeftWidth)};return Kk({borderBox:t,margin:r,padding:i,border:a})},hB=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return fB(n,r)},am=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}function mB(e,t){}mB.bind(null,"warn");mB.bind(null,"error");function _l(){}function tV(e,t){return{...e,...t}}function ra(e,t,n){const r=t.map(i=>{const a=tV(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const nV="Invariant failed";class Ay extends Error{}Ay.prototype.toString=function(){return this.message};function Ne(e,t){throw new Ay(nV)}class rV extends Yt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=_l,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ay&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ra(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ay){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const iV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Oy=e=>e+1,aV=e=>`
  You have lifted an item in position ${Oy(e.source.index)}
`,pB=(e,t)=>{const n=e.droppableId===t.droppableId,r=Oy(e.index),i=Oy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},gB=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,oV=e=>{const t=e.destination;if(t)return pB(e.source,t);const n=e.combine;return n?gB(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},jN=e=>`
  The item has returned to its starting position
  of ${Oy(e.index)}
`,sV=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${jN(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${pB(e.source,t)}
    `:n?`
      You have dropped the item.
      ${gB(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${jN(e.source)}
  `},ey={dragHandleUsageInstructions:iV,onDragStart:aV,onDragUpdate:oV,onDragEnd:sV};function lV(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function yB(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!lV(e[n],t[n]))return!1;return!0}function vt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),o=r.current||!!(t&&i.current.inputs&&yB(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Ye(e,t){return vt(()=>e,t)}const or={x:0,y:0},gr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Mi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),wl=(e,t)=>e.x===t.x&&e.y===t.y,Zd=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Wc=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},om=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),CN=(e,t)=>Math.min(...t.map(n=>om(e,n))),vB=e=>t=>({x:e(t.x),y:e(t.y)});var cV=(e,t)=>{const n=La({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const $m=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),NN=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],uV={top:0,right:0,bottom:0,left:0},dV=(e,t)=>t?$m(e,t.scroll.diff.displacement):e,fV=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,hV=(e,t)=>t&&t.shouldClipSubject?cV(t.pageMarginBox,e):La(e);var Md=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=dV(e.marginBox,r),a=fV(i,n,t),o=hV(a,r);return{page:e,withPlaceholder:t,active:o}},Wk=(e,t)=>{e.frame||Ne();const n=e.frame,r=Mi(t,n.scroll.initial),i=Zd(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Md({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function ar(e,t=yB){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const bB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),xB=ar(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Xv=ar(e=>Object.values(e)),mV=ar(e=>Object.values(e));var Xd=ar((e,t)=>mV(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Vk(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Jv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Qv=ar((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),pV=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Vk(i))return null;function o(b){const _={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return{...i,at:_}}const c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?o(u):null;const f=Qv(t,r);if(!u){if(!f.length)return null;const b=f[f.length-1];return o(b.descriptor.id)}const m=f.findIndex(b=>b.descriptor.id===u);m===-1&&Ne();const p=m-1;if(p<0)return null;const g=f[p];return o(g.descriptor.id)},Jd=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const _B={point:or,value:0},sm={invisible:{},visible:{},all:[]},gV={displaced:sm,displacedBy:_B,at:null};var la=(e,t)=>n=>e<=n&&n<=t,wB=e=>{const t=la(e.top,e.bottom),n=la(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return u&&f?!0:u&&o||f&&a}},yV=e=>{const t=la(e.top,e.bottom),n=la(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Zk={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},SB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var vV=e=>t=>{const n=la(t.top,t.bottom),r=la(t.left,t.right);return i=>e===Zk?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const bV=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:or;return $m(e,n)},xV=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,_V=(e,t,n)=>n(t)(e),Xk=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?bV(e,t):e;return xV(a,t,i)&&_V(a,n,i)},wV=e=>Xk({...e,isVisibleThroughFrameFn:wB}),EB=e=>Xk({...e,isVisibleThroughFrameFn:yV}),SV=e=>Xk({...e,isVisibleThroughFrameFn:vV(e.destination.axis)}),EV=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function kV(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return La(Yk(n,r))}function lm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,u){const f=kV(u,n),m=u.descriptor.id;if(c.all.push(m),!wV({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[u.descriptor.id]=!0,c;const g=EV(m,a,i),b={draggableId:m,shouldAnimate:g};return c.visible[m]=b,c},{all:[],visible:{},invisible:{}})}function TV(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function MN({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=TV(e,{inHomeList:t});return{displaced:sm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function jy({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:c}){const u=Jd(e,n);if(o==null)return MN({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=t.find(_=>_.descriptor.index===o);if(!f)return MN({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const m=Qv(e,t),p=t.indexOf(f),g=m.slice(p);return{displaced:lm({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function El(e,t){return!!t.effected[e]}var AV=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return El(a,i)?e?c:c-1:e?c+1:c},OV=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=t?c:c+1;return a<o||a>u?null:a},jV=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:c,afterCritical:u})=>{const f=o.at;if(f||Ne(),f.type==="REORDER"){const p=OV({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:jy({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}const m=AV({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:f.combine,afterCritical:u});return m==null?null:jy({draggable:n,insideDestination:a,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:m})},CV=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return El(n,t)?i?or:Zd(r.point):i?r.point:or},NV=({afterCritical:e,impact:t,draggables:n})=>{const r=Jv(t);r||Ne();const i=r.draggableId,a=n[i].page.borderBox.center,o=CV({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return gr(a,o)};const kB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,MV=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Jk=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,PN=({axis:e,moveRelativeTo:t,isMoving:n})=>Wc(e.line,t.marginBox[e.end]+kB(e,n),Jk(e,t.marginBox,n)),DN=({axis:e,moveRelativeTo:t,isMoving:n})=>Wc(e.line,t.marginBox[e.start]-MV(e,n),Jk(e,t.marginBox,n)),PV=({axis:e,moveInto:t,isMoving:n})=>Wc(e.line,t.contentBox[e.start]+kB(e,n),Jk(e,t.contentBox,n));var DV=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=Xd(r.descriptor.id,n),o=t.page,c=r.axis;if(!a.length)return PV({axis:c,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:f}=e,m=u.all[0];if(m){const g=n[m];if(El(m,i))return DN({axis:c,moveRelativeTo:g.page,isMoving:o});const b=Ey(g.page,f.point);return DN({axis:c,moveRelativeTo:b,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(El(p.descriptor.id,i)){const g=Ey(p.page,Zd(i.displacedBy.point));return PN({axis:c,moveRelativeTo:g,isMoving:o})}return PN({axis:c,moveRelativeTo:p.page,isMoving:o})},tE=(e,t)=>{const n=e.frame;return n?gr(t,n.scroll.diff.displacement):t};const RV=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?DV({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):NV({impact:e,draggables:r,afterCritical:i})};var eb=e=>{const t=RV(e),n=e.droppable;return n?tE(n,t):t},TB=(e,t)=>{const n=Mi(t,e.scroll.initial),r=Zd(n);return{frame:La({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function RN(e,t){return e.map(n=>t[n])}function LV(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var IV=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=TB(t,gr(t.scroll.current,i)),o=n.frame?Wk(n,gr(n.frame.scroll.current,i)):n,c=e.displaced,u=lm({afterDragging:RN(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=lm({afterDragging:RN(c.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},g=[c,u,f];return c.all.forEach(_=>{const w=LV(_,g);if(w){p[_]=w;return}m[_]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},$V=(e,t)=>gr(e.scroll.diff.displacement,t),Qk=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=$V(n,e),i=Mi(r,t.page.borderBox.center);return gr(t.client.borderBox.center,i)},AB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Mi(n,e.page.borderBox.center),u={target:$m(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?SV(u):EB(u)},BV=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:c,afterCritical:u})=>{if(!n.isEnabled)return null;const f=Xd(n.descriptor.id,r),m=Jd(t,n),p=pV({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||jV({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const g=eb({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(AB({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Qk({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const _=Mi(g,o),w=IV({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:_});return{clientSelection:c,impact:w,scrollJumpRequest:_}};const Mr=e=>{const t=e.subject.active;return t||Ne(),t};var zV=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,c=la(a[o.start],a[o.end]),u=Xv(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>wB(i.frame)(Mr(m))).filter(m=>{const p=Mr(m);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(m=>{const p=Mr(m),g=la(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||g(a[o.start])||g(a[o.end])}).sort((m,p)=>{const g=Mr(m)[o.crossAxisStart],b=Mr(p)[o.crossAxisStart];return e?g-b:b-g}).filter((m,p,g)=>Mr(m)[o.crossAxisStart]===Mr(g[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const f=u.filter(m=>la(Mr(m)[o.start],Mr(m)[o.end])(t[o.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>Mr(m)[o.start]-Mr(p)[o.start])[0]:u.sort((m,p)=>{const g=CN(t,NN(Mr(m))),b=CN(t,NN(Mr(p)));return g!==b?g-b:Mr(m)[o.start]-Mr(p)[o.start]})[0]};const LN=(e,t)=>{const n=e.page.borderBox.center;return El(e.descriptor.id,t)?Mi(n,t.displacedBy.point):n},UV=(e,t)=>{const n=e.page.borderBox;return El(e.descriptor.id,t)?$m(n,Zd(t.displacedBy.point)):n};var HV=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>EB({target:UV(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,c)=>{const u=om(e,tE(n,LN(o,i))),f=om(e,tE(n,LN(c,i)));return u<f?-1:f<u?1:o.descriptor.index-c.descriptor.index})[0]||null,Bm=ar(function(t,n){const r=n[t.line];return{value:r,point:Wc(t.line,r)}});const FV=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Wc(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Xd(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Wc(r.line,u)},OB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),jB=(e,t,n)=>{const r=e.frame;Jd(t,e)&&Ne(),e.subject.withPlaceholder&&Ne();const i=Bm(e.axis,t.displaceBy).point,a=FV(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Md({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?gr(r.scroll.max,a):r.scroll.max,u=OB(r,c),f=Md({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:f,frame:u}},GV=e=>{const t=e.subject.withPlaceholder;t||Ne();const n=e.frame;if(!n){const o=Md({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Ne();const i=OB(n,r),a=Md({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var qV=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:sm,displacedBy:_B,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=eb({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),b=Jd(r,a)?a:jB(a,r,i);return AB({draggable:r,destination:b,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),m=Bm(a.axis,r.displaceBy);return jy({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:m,last:sm,index:f})},YV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:c})=>{const u=zV({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const f=Xd(u.descriptor.id,i),m=HV({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:f,afterCritical:c}),p=qV({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:o,afterCritical:c});if(!p)return null;const g=eb({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c});return{clientSelection:Qk({pageBorderBoxCenter:g,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Di=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const KV=(e,t)=>{const n=Di(e);return n?t[n]:null};var WV=({state:e,type:t})=>{const n=KV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,c=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return c?BV({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):YV({isMovingForward:u,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Mc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function CB(e){const t=la(e.top,e.bottom),n=la(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function VV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function ZV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,c=Wc(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:om(r,c)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function XV({pageBorderBox:e,draggable:t,droppables:n}){const r=Xv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!VV(e,a))return!1;if(CB(a)(e.center))return!0;const o=i.axis,c=a.center[o.crossAxisLine],u=e[o.crossAxisStart],f=e[o.crossAxisEnd],m=la(a[o.crossAxisStart],a[o.crossAxisEnd]),p=m(u),g=m(f);return!p&&!g?!0:p?u<c:f>c});return r.length?r.length===1?r[0].descriptor.id:ZV({pageBorderBox:e,draggable:t,candidates:r}):null}const NB=(e,t)=>La($m(e,t));var JV=(e,t)=>{const n=e.frame;return n?NB(t,n.scroll.diff.value):t};function MB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function QV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var eZ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const c=n.axis,u=Bm(n.axis,t.displaceBy),f=u.value,m=e[c.start],p=e[c.end],b=Qv(t,r).find(w=>{const E=w.descriptor.id,A=w.page.borderBox.center[c.line],C=El(E,o),j=MB({displaced:i,id:E});return C?j?p<=A:m<A-f:j?p<=A+f:m<A})||null,_=QV({draggable:t,closest:b,inHomeList:Jd(t,n)});return jy({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:_})};const tZ=4;var nZ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,c=Bm(r.axis,e.displaceBy),u=c.value,f=t[o.start],m=t[o.end],g=Qv(e,i).find(_=>{const w=_.descriptor.id,E=_.page.borderBox,C=E[o.size]/tZ,j=El(w,a),P=MB({displaced:n.displaced,id:w});return j?P?m>E[o.start]+C&&m<E[o.end]-C:f>E[o.start]-u+C&&f<E[o.end]-u-C:P?m>E[o.start]+u+C&&m<E[o.end]+u-C:f>E[o.start]+C&&f<E[o.end]-C});return g?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},PB=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const c=NB(t.page.borderBox,e),u=XV({pageBorderBox:c,draggable:t,droppables:r});if(!u)return gV;const f=r[u],m=Xd(f.descriptor.id,n),p=JV(f,c);return nZ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:o})||eZ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:o})},eT=(e,t)=>({...e,[t.descriptor.id]:t});const rZ=({previousImpact:e,impact:t,droppables:n})=>{const r=Di(e),i=Di(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=GV(a);return eT(n,o)};var iZ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=rZ({previousImpact:r,impact:i,droppables:n}),o=Di(i);if(!o)return a;const c=n[o];if(Jd(e,c)||c.subject.withPlaceholder)return a;const u=jB(c,e,t);return eT(a,u)},Yh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,c=n||e.dimensions,u=t||e.current.client.selection,f=Mi(u,e.initial.client.selection),m={offset:f,selection:u,borderBoxCenter:gr(e.initial.client.borderBoxCenter,f)},p={selection:gr(m.selection,o.scroll.current),borderBoxCenter:gr(m.borderBoxCenter,o.scroll.current),offset:gr(m.offset,o.scroll.diff.value)},g={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:o,current:g};const b=c.draggables[e.critical.draggable.id],_=i||PB({pageOffset:p.offset,draggable:b,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=iZ({draggable:b,impact:_,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:g,dimensions:{draggables:c.draggables,droppables:w},impact:_,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function aZ(e,t){return e.map(n=>t[n])}var DB=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=aZ(a.all,n),c=lm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},RB=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=eb({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return Qk({pageBorderBoxCenter:o,draggable:t,viewport:i})},LB=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Ne();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:c}=a,u=o[e.critical.draggable.id],f=Di(r);f||Ne();const m=c[f],p=DB({impact:r,viewport:i,destination:m,draggables:o}),g=RB({impact:p,draggable:u,droppable:m,draggables:o,viewport:i,afterCritical:e.afterCritical});return Yh({impact:p,clientSelection:g,state:e,dimensions:a,viewport:i})},oZ=e=>({index:e.index,droppableId:e.droppableId}),IB=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Bm(t.axis,e.displaceBy),a=Xd(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Ne();const c=a.slice(o+1),u=c.reduce((g,b)=>(g[b.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:lm({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:oZ(e.descriptor)}},afterCritical:f}},sZ=(e,t)=>({draggables:e.draggables,droppables:eT(e.droppables,t)}),lZ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Ey(e.client,t),i=ky(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},cZ=e=>{const t=e.frame;return t||Ne(),t},uZ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=cZ(o).scroll.diff.value,f=gr(r,u);return lZ({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},dZ=({state:e,published:t})=>{const n=t.modified.map(A=>{const C=e.dimensions.droppables[A.droppableId];return Wk(C,A.scroll)}),r={...e.dimensions.droppables,...bB(n)},i=xB(uZ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(A=>{delete a[A]});const o={droppables:r,draggables:a},c=Di(e.impact),u=c?o.droppables[c]:null,f=o.draggables[e.critical.draggable.id],m=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=IB({draggable:f,home:m,draggables:a,viewport:e.viewport}),b=u&&u.isCombineEnabled?e.impact:p,_=PB({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:b,viewport:e.viewport,afterCritical:g}),w={...e,phase:"DRAGGING",impact:_,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const nE=e=>e.movementMode==="SNAP",bw=(e,t,n)=>{const r=sZ(e.dimensions,t);return!nE(e)||n?Yh({state:e,dimensions:r}):LB({state:e,dimensions:r})};function xw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const IN={phase:"IDLE",completed:null,shouldFlush:!1};var fZ=(e=IN,t)=>{if(t.type==="FLUSH")return{...IN,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:or},m={client:f,page:{selection:gr(f.selection,i.scroll.initial),borderBoxCenter:gr(f.selection,i.scroll.initial),offset:gr(f.selection,i.scroll.diff.value)}},p=Xv(a.droppables).every(w=>!w.isFixedOnPage),{impact:g,afterCritical:b}=IB({draggable:c,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:g,afterCritical:b,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ne(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),dZ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Mc(e)||Ne();const{client:n}=t.payload;return wl(n,e.current.client.selection)?e:Yh({state:e,clientSelection:n,impact:nE(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return xw(e);Mc(e)||Ne();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=Wk(i,r);return bw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mc(e)||Ne();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Ne(),i.isEnabled===r&&Ne();const a={...i,isEnabled:r};return bw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mc(e)||Ne();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Ne(),i.isCombineEnabled===r&&Ne();const a={...i,isCombineEnabled:r};return bw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Mc(e)||Ne(),e.isWindowScrollAllowed||Ne();const n=t.payload.newScroll;if(wl(e.viewport.scroll.current,n))return xw(e);const r=TB(e.viewport,n);return nE(e)?LB({state:e,viewport:r}):Yh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mc(e))return e;const n=t.payload.maxScroll;if(wl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();const n=WV({state:e,type:t.type});return n?Yh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Ne(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ct(e,t){return e instanceof Object&&"type"in e&&e.type===t}const hZ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),mZ=e=>({type:"LIFT",payload:e}),pZ=e=>({type:"INITIAL_PUBLISH",payload:e}),gZ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),yZ=()=>({type:"COLLECTION_STARTING",payload:null}),vZ=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),bZ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),xZ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),$B=e=>({type:"MOVE",payload:e}),_Z=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),wZ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),SZ=()=>({type:"MOVE_UP",payload:null}),EZ=()=>({type:"MOVE_DOWN",payload:null}),kZ=()=>({type:"MOVE_RIGHT",payload:null}),TZ=()=>({type:"MOVE_LEFT",payload:null}),tT=()=>({type:"FLUSH",payload:null}),AZ=e=>({type:"DROP_ANIMATE",payload:e}),nT=e=>({type:"DROP_COMPLETE",payload:e}),BB=e=>({type:"DROP",payload:e}),OZ=e=>({type:"DROP_PENDING",payload:e}),zB=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var jZ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Ct(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:c}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(nT({completed:u.completed})),t().phase!=="IDLE"&&Ne(),n(tT()),n(hZ({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:g,viewport:b}=e.startPublishing(m);n(pZ({critical:p,dimensions:g,clientSelection:o,movementMode:c,viewport:b}))},CZ=e=>()=>t=>n=>{Ct(n,"INITIAL_PUBLISH")&&e.dragging(),Ct(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ct(n,"FLUSH")||Ct(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const rT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},cm={opacity:{drop:0,combining:.7},scale:{drop:.75}},UB={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ec=`${UB.outOfTheWay}s ${rT.outOfTheWay}`,Kh={fluid:`opacity ${Ec}`,snap:`transform ${Ec}, opacity ${Ec}`,drop:e=>{const t=`${e}s ${rT.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ec}`,placeholder:`height ${Ec}, width ${Ec}, margin ${Ec}`},$N=e=>wl(e,or)?void 0:`translate(${e.x}px, ${e.y}px)`,rE={moveTo:$N,drop:(e,t)=>{const n=$N(e);if(n)return t?`${n} scale(${cm.scale.drop})`:n}},{minDropTime:iE,maxDropTime:HB}=UB,NZ=HB-iE,BN=1500,MZ=.6;var PZ=({current:e,destination:t,reason:n})=>{const r=om(e,t);if(r<=0)return iE;if(r>=BN)return HB;const i=r/BN,a=iE+NZ*i,o=n==="CANCEL"?a*MZ:a;return Number(o.toFixed(2))},DZ=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,c=Di(e),u=c?o[c]:null,f=o[t.descriptor.droppableId],m=RB({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||f,viewport:r});return Mi(m,t.client.borderBox.center)},RZ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:DB({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:sm},didDropInsideDroppable:!0};const LZ=({getState:e,dispatch:t})=>n=>r=>{if(!Ct(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(OZ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Ne(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Ne();const c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=RZ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?Vk(m):null,b=p?Jv(m):null,_={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:_,reason:a,mode:i.movementMode,destination:g,combine:b},E=DZ({impact:m,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),A={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:m};if(!(!wl(i.current.client.offset,E)||!!w.combine)){t(nT({completed:A}));return}const j=PZ({current:i.current.client.offset,destination:E,reason:a});t(AZ({newHomeClientOffset:E,dropDuration:j,completed:A}))};var FB=()=>({x:window.pageXOffset,y:window.pageYOffset});function IZ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function $Z({onWindowScroll:e}){function t(){e(FB())}const n=am(t),r=IZ(n);let i=_l;function a(){return i!==_l}function o(){a()&&Ne(),i=ra(window,[r])}function c(){a()||Ne(),n.cancel(),i(),i=_l}return{start:o,stop:c,isActive:a}}const BZ=e=>Ct(e,"DROP_COMPLETE")||Ct(e,"DROP_ANIMATE")||Ct(e,"FLUSH"),zZ=e=>{const t=$Z({onWindowScroll:n=>{e.dispatch(_Z({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ct(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&BZ(r)&&t.stop(),n(r)}};var UZ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},HZ=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Ne();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const FZ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,GZ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,qZ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},xh=(e,t)=>{t()},e0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function _w(e,t,n,r){if(!e){n(r(t));return}const i=UZ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var YZ=(e,t)=>{const n=HZ();let r=null;const i=(p,g)=>{r&&Ne(),xh("onBeforeCapture",()=>{const b=e().onBeforeCapture;b&&b({draggableId:p,mode:g})})},a=(p,g)=>{r&&Ne(),xh("onBeforeDragStart",()=>{const b=e().onBeforeDragStart;b&&b(e0(p,g))})},o=(p,g)=>{r&&Ne();const b=e0(p,g);r={mode:g,lastCritical:p,lastLocation:b.source,lastCombine:null},n.add(()=>{xh("onDragStart",()=>_w(e().onDragStart,b,t,ey.onDragStart))})},c=(p,g)=>{const b=Vk(g),_=Jv(g);r||Ne();const w=!qZ(p,r.lastCritical);w&&(r.lastCritical=p);const E=!FZ(r.lastLocation,b);E&&(r.lastLocation=b);const A=!GZ(r.lastCombine,_);if(A&&(r.lastCombine=_),!w&&!E&&!A)return;const C={...e0(p,r.mode),combine:_,destination:b};n.add(()=>{xh("onDragUpdate",()=>_w(e().onDragUpdate,C,t,ey.onDragUpdate))})},u=()=>{r||Ne(),n.flush()},f=p=>{r||Ne(),r=null,xh("onDragEnd",()=>_w(e().onDragEnd,p,t,ey.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:c,flush:u,drop:f,abort:()=>{if(!r)return;const p={...e0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},KZ=(e,t)=>{const n=YZ(e,t);return r=>i=>a=>{if(Ct(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ct(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Ct(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Ct(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const WZ=e=>t=>n=>{if(!Ct(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(nT({completed:r.completed}))},VZ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Ct(a,"FLUSH")||Ct(a,"DROP_COMPLETE")||Ct(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Ct(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(zB())}};n=requestAnimationFrame(()=>{n=null,t=ra(window,[o])})}};var ZZ=e=>()=>t=>n=>{(Ct(n,"DROP_COMPLETE")||Ct(n,"FLUSH")||Ct(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},XZ=e=>{let t=!1;return()=>n=>r=>{if(Ct(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ct(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ct(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const JZ=e=>Ct(e,"DROP_COMPLETE")||Ct(e,"DROP_ANIMATE")||Ct(e,"FLUSH");var QZ=e=>t=>n=>r=>{if(JZ(r)){e.stop(),n(r);return}if(Ct(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Ne(),e.start(i);return}n(r),e.scroll(t.getState())};const eX=e=>t=>n=>{if(t(n),!Ct(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(BB({reason:r.reason})))},tX=im;var nX=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>Fk(fZ,tX(rB(CZ(n),ZZ(e),jZ(e),LZ,WZ,VZ,eX,QZ(a),zZ,XZ(t),KZ(r,i))));const ww=()=>({additions:{},removals:{},modified:{}});function rX({registry:e,callbacks:t}){let n=ww(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:f,modified:m}=n,p=Object.keys(u).map(_=>e.draggable.getById(_).getDimension(or)).sort((_,w)=>_.descriptor.index-w.descriptor.index),g=Object.keys(m).map(_=>{const E=e.droppable.getById(_).callbacks.getScrollWhileDragging();return{droppableId:_,scroll:E}}),b={additions:p,removals:Object.keys(f),modified:g};n=ww(),t.publish(b)}))};return{add:u=>{const f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:u=>{const f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=ww())}}}var GB=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Mi({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},qB=()=>{const e=document.documentElement;return e||Ne(),e},YB=()=>{const e=qB();return GB({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},iX=()=>{const e=FB(),t=YB(),n=e.y,r=e.x,i=qB(),a=i.clientWidth,o=i.clientHeight,c=r+a,u=n+o;return{frame:La({top:n,left:r,right:c,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:or,displacement:or}}}},aX=({critical:e,scrollOptions:t,registry:n})=>{const r=iX(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:xB(c),droppables:bB(o)},critical:e,viewport:r}};function zN(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var oX=(e,t)=>{let n=null;const r=rX({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,b)=>{e.droppable.exists(g)||Ne(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:b})},a=(g,b)=>{n&&(e.droppable.exists(g)||Ne(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:b}))},o=(g,b)=>{n&&(e.droppable.exists(g)||Ne(),t.updateDroppableScroll({id:g,newScroll:b}))},c=(g,b)=>{n&&e.droppable.getById(g).callbacks.scroll(b)},u=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(b=>b.callbacks.dragStopped()),n.unsubscribe(),n=null},f=g=>{n||Ne();const b=n.critical.draggable;g.type==="ADDITION"&&zN(e,b,g.value)&&r.add(g.value),g.type==="REMOVAL"&&zN(e,b,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:o,startPublishing:g=>{n&&Ne();const b=e.draggable.getById(g.draggableId),_=e.droppable.getById(b.descriptor.droppableId),w={draggable:b.descriptor,droppable:_.descriptor},E=e.subscribe(f);return n={critical:w,unsubscribe:E},aX({critical:w,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:u}},KB=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",sX=e=>{window.scrollBy(e.x,e.y)};const lX=ar(e=>Xv(e).filter(t=>!(!t.isEnabled||!t.frame))),cX=(e,t)=>lX(t).find(r=>(r.frame||Ne(),CB(r.frame.pageMarginBox)(e)))||null;var uX=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return cX(e,n)};const um={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var dX=(e,t,n=()=>um)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},WB=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},iT=1,fX=(e,t,n=()=>um)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return iT;const a=1-WB({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},hX=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,c=a,f=Date.now()-o;if(f>=a)return e;if(f<i)return iT;const m=WB({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},UN=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=fX(e,t,i);return a===0?0:r?Math.max(hX(a,n,i),iT):a},HN=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=dX(e,r,a);return t[r.end]<t[r.start]?UN({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*UN({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},mX=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const pX=vB(e=>e===0?0:e);var VB=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=HN({container:t,distanceToEdges:o,dragStartTime:e,axis:Zk,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=HN({container:t,distanceToEdges:o,dragStartTime:e,axis:SB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=pX({x:u,y:c});if(wl(f,or))return null;const m=mX({container:t,subject:n,proposedScroll:f});return m?wl(m,or)?null:m:null};const gX=vB(e=>e===0?0:e>0?1:-1),aT=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=gr(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return wl(a,or)?null:a}})(),ZB=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=gX(n),a=aT({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},oT=(e,t)=>ZB({current:e.scroll.current,max:e.scroll.max,change:t}),yX=(e,t)=>{if(!oT(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return aT({current:r,max:n,change:t})},sT=(e,t)=>{const n=e.frame;return n?ZB({current:n.scroll.current,max:n.scroll.max,change:t}):!1},vX=(e,t)=>{const n=e.frame;return!n||!sT(e,t)?null:aT({current:n.scroll.current,max:n.scroll.max,change:t})};var bX=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=VB({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&oT(e,o)?o:null},xX=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const c=VB({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&sT(e,c)?c:null},FN=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=bX({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const f=uX({center:o,destination:Di(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=xX({dragStartTime:t,droppable:f,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},_X=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>um})=>{const r=am(e),i=am(t);let a=null;const o=f=>{a||Ne();const{shouldUseTimeDampening:m,dragStartTime:p}=a;FN({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Ne();const m=Date.now();let p=!1;const g=()=>{p=!0};FN({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&o(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},wX=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,u)=>{const f=gr(c.current.client.selection,u);e({client:f})},i=(c,u)=>{if(!sT(c,u))return u;const f=vX(c,u);if(!f)return t(c.descriptor.id,u),null;const m=Mi(u,f);return t(c.descriptor.id,m),Mi(u,m)},a=(c,u,f)=>{if(!c||!oT(u,f))return f;const m=yX(u,f);if(!m)return n(f),null;const p=Mi(f,m);return n(p),Mi(f,p)};return c=>{const u=c.scrollJumpRequest;if(!u)return;const f=Di(c.impact);f||Ne();const m=i(c.dimensions.droppables[f],u);if(!m)return;const p=c.viewport,g=a(c.isWindowScrollAllowed,p,m);g&&r(c,g)}},SX=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=_X({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=wX({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Pd="data-rfd",Dd=(()=>{const e=`${Pd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),aE=(()=>{const e=`${Pd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),EX=(()=>{const e=`${Pd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),GN={contextId:`${Pd}-scroll-container-context-id`},kX=e=>t=>`[${t}="${e}"]`,_h=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),TX="pointer-events: none;";var AX=e=>{const t=kX(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:TX,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${Kh.outOfTheWay};
    `;return{selector:t(aE.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(EX.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_h(o,"always"),resting:_h(o,"resting"),dragging:_h(o,"dragging"),dropAnimating:_h(o,"dropAnimating"),userCancel:_h(o,"userCancel")}};const Ri=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Sw=()=>{const e=document.querySelector("head");return e||Ne(),e},qN=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function OX(e,t){const n=vt(()=>AX(e),[e]),r=S.useRef(null),i=S.useRef(null),a=Ye(ar(p=>{const g=i.current;g||Ne(),g.textContent=p}),[]),o=Ye(p=>{const g=r.current;g||Ne(),g.textContent=p},[]);Ri(()=>{!r.current&&!i.current||Ne();const p=qN(t),g=qN(t);return r.current=p,i.current=g,p.setAttribute(`${Pd}-always`,e),g.setAttribute(`${Pd}-dynamic`,e),Sw().appendChild(p),Sw().appendChild(g),o(n.always),a(n.resting),()=>{const b=_=>{const w=_.current;w||Ne(),Sw().removeChild(w),_.current=null};b(r),b(i)}},[t,o,a,n.always,n.resting,e]);const c=Ye(()=>a(n.dragging),[a,n.dragging]),u=Ye(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=Ye(()=>{i.current&&a(n.resting)},[a,n.resting]);return vt(()=>({dragging:c,dropping:u,resting:f}),[c,u,f])}function XB(e,t){return Array.from(e.querySelectorAll(t))}var JB=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function tb(e){return e instanceof JB(e).HTMLElement}function jX(e,t){const n=`[${Dd.contextId}="${e}"]`,r=XB(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Dd.draggableId)===t);return!i||!tb(i)?null:i}function CX(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),a=Ye(function(g,b){const _={id:g,focus:b};return t.current[g]=_,function(){const E=t.current;E[g]!==_&&delete E[g]}},[]),o=Ye(function(g){const b=jX(e,g);b&&b!==document.activeElement&&b.focus()},[e]),c=Ye(function(g,b){n.current===g&&(n.current=b)},[]),u=Ye(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&o(g)}))},[o]),f=Ye(function(g){n.current=null;const b=document.activeElement;b&&b.getAttribute(Dd.draggableId)===g&&(n.current=g)},[]);return Ri(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),vt(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:u,tryShiftRecord:c}),[a,f,u,c])}function NX(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const b=t.indexOf(p);b!==-1&&t.splice(b,1)}}function r(p){t.length&&t.forEach(g=>g(p))}function i(p){return e.draggables[p]||null}function a(p){const g=i(p);return g||Ne(),g}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const b=e.draggables[g.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,b=i(g);b&&p.uniqueId===b.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function c(p){return e.droppables[p]||null}function u(p){const g=c(p);return g||Ne(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=c(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:f,subscribe:n,clean:m}}function MX(){const e=vt(NX,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var lT=Yt.createContext(null),Cy=()=>{const e=document.body;return e||Ne(),e};const PX={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},DX=e=>`rfd-announcement-${e}`;function RX(e){const t=vt(()=>DX(e),[e]),n=S.useRef(null);return S.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ty(a.style,PX),Cy().appendChild(a),function(){setTimeout(function(){const u=Cy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ye(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const LX={separator:"::"};function cT(e,t=LX){const n=Yt.useId();return vt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function IX({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function $X({contextId:e,text:t}){const n=cT("hidden-text",{separator:"-"}),r=vt(()=>IX({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Cy().appendChild(a),function(){const c=Cy();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var nb=Yt.createContext(null);function QB(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function BX(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Ne();const c={abandon:o};return e=c,c}function i(){e||Ne(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function dm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const zX=9,UX=13,uT=27,e5=32,HX=33,FX=34,GX=35,qX=36,YX=37,KX=38,WX=39,VX=40,ZX={[UX]:!0,[zX]:!0};var t5=e=>{ZX[e.keyCode]&&e.preventDefault()};const rb=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),n5=0,YN=5;function XX(e,t){return Math.abs(t.x-e.x)>=YN||Math.abs(t.y-e.y)>=YN}const KN={type:"IDLE"};function JX({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:c}=i;if(a!==n5)return;const u={x:o,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&Ne();const m=f.point;if(!XX(m,u))return;i.preventDefault();const p=f.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===uT){i.preventDefault(),e();return}t5(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Ne(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:rb,fn:e}]}function QX(e){const t=S.useRef(KN),n=S.useRef(_l),r=vt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==n5||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const b=e.tryGetLock(g,o,{sourceEvent:p});if(!b)return;p.preventDefault();const _={x:p.clientX,y:p.clientY};n.current(),f(b,_)}}),[e]),i=vt(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=Ye(function(){const p={passive:!1,capture:!0};n.current=ra(window,[i,r],p)},[i,r]),o=Ye(()=>{t.current.type!=="IDLE"&&(t.current=KN,n.current(),a())},[a]),c=Ye(()=>{const m=t.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),u=Ye(function(){const p={capture:!0,passive:!1},g=JX({cancel:c,completed:o,getPhase:()=>t.current,setPhase:b=>{t.current=b}});n.current=ra(window,g,p)},[c,o]),f=Ye(function(p,g){t.current.type!=="IDLE"&&Ne(),t.current={type:"PENDING",point:g,actions:p},u()},[u]);Ri(function(){return a(),function(){n.current()}},[a])}function eJ(){}const tJ={[FX]:!0,[HX]:!0,[qX]:!0,[GX]:!0};function nJ(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===uT){i.preventDefault(),n();return}if(i.keyCode===e5){i.preventDefault(),r();return}if(i.keyCode===VX){i.preventDefault(),e.moveDown();return}if(i.keyCode===KX){i.preventDefault(),e.moveUp();return}if(i.keyCode===WX){i.preventDefault(),e.moveRight();return}if(i.keyCode===YX){i.preventDefault(),e.moveLeft();return}if(tJ[i.keyCode]){i.preventDefault();return}t5(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:rb,fn:n}]}function rJ(e){const t=S.useRef(eJ),n=vt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==e5)return;const o=e.findClosestDraggableId(a);if(!o)return;const c=e.tryGetLock(o,m,{sourceEvent:a});if(!c)return;a.preventDefault();let u=!0;const f=c.snapLift();t.current();function m(){u||Ne(),u=!1,t.current(),r()}t.current=ra(window,nJ(f,m),{capture:!0,passive:!1})}}),[e]),r=Ye(function(){const a={passive:!1,capture:!0};t.current=ra(window,[n],a)},[n]);Ri(function(){return r(),function(){t.current()}},[r])}const Ew={type:"IDLE"},iJ=120,aJ=.15;function oJ({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===uT&&n.preventDefault(),e()}},{eventName:rb,fn:e}]}function sJ({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],c={x:a,y:o};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Ne();const a=r.touches[0];if(!a||!(a.force>=aJ))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:rb,fn:e}]}function lJ(e){const t=S.useRef(Ew),n=S.useRef(_l),r=Ye(function(){return t.current},[]),i=Ye(function(b){t.current=b},[]),a=vt(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const _=e.findClosestDraggableId(b);if(!_)return;const w=e.tryGetLock(_,c,{sourceEvent:b});if(!w)return;const E=b.touches[0],{clientX:A,clientY:C}=E,j={x:A,y:C};n.current(),p(w,j)}}),[e]),o=Ye(function(){const b={capture:!0,passive:!1};n.current=ra(window,[a],b)},[a]),c=Ye(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Ew),n.current(),o())},[o,i]),u=Ye(()=>{const g=t.current;c(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[c]),f=Ye(function(){const b={capture:!0,passive:!1},_={cancel:u,completed:c,getPhase:r},w=ra(window,sJ(_),b),E=ra(window,oJ(_),b);n.current=function(){w(),E()}},[u,r,c]),m=Ye(function(){const b=r();b.type!=="PENDING"&&Ne();const _=b.actions.fluidLift(b.point);i({type:"DRAGGING",actions:_,hasMoved:!1})},[r,i]),p=Ye(function(b,_){r().type!=="IDLE"&&Ne();const w=setTimeout(m,iJ);i({type:"PENDING",point:_,actions:b,longPressTimerId:w}),f()},[f,r,i,m]);Ri(function(){return o(),function(){n.current();const _=r();_.type==="PENDING"&&(clearTimeout(_.longPressTimerId),i(Ew))}},[r,o,i]),Ri(function(){return ra(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const cJ=["input","button","textarea","select","option","optgroup","video","audio"];function r5(e,t){if(t==null)return!1;if(cJ.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:r5(e,t.parentElement)}function uJ(e,t){const n=t.target;return tb(n)?r5(e,n):!1}var dJ=e=>La(e.getBoundingClientRect()).center;function fJ(e){return e instanceof JB(e).Element}const hJ=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function i5(e,t){return e==null?null:e[hJ](t)?e:i5(e.parentElement,t)}function mJ(e,t){return e.closest?e.closest(t):i5(e,t)}function pJ(e){return`[${Dd.contextId}="${e}"]`}function gJ(e,t){const n=t.target;if(!fJ(n))return null;const r=pJ(e),i=mJ(n,r);return!i||!tb(i)?null:i}function yJ(e,t){const n=gJ(e,t);return n?n.getAttribute(Dd.draggableId):null}function vJ(e,t){const n=`[${aE.contextId}="${e}"]`,i=XB(document,n).find(a=>a.getAttribute(aE.id)===t);return!i||!tb(i)?null:i}function bJ(e){e.preventDefault()}function t0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function a5({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!KB(t.getState(),r))}function xJ({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!a5({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),f=vJ(t,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&uJ(f,o))return null;const m=e.claim(a||_l);let p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function b(){return e.isActive(m)}function _(M,D){t0({expected:M,phase:p,isLockActive:b,shouldWarn:!0})&&n.dispatch(D())}const w=_.bind(null,"DRAGGING");function E(M){function D(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(D(),Ne()),n.dispatch(mZ(M.liftActionArgs)),p="DRAGGING";function $(U,Y={shouldBlockNextClick:!1}){if(M.cleanup(),Y.shouldBlockNextClick){const W=ra(window,[{eventName:"click",fn:bJ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}D(),n.dispatch(BB({reason:U}))}return{isActive:()=>t0({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:g,drop:U=>$("DROP",U),cancel:U=>$("CANCEL",U),...M.actions}}function A(M){const D=am(U=>{w(()=>$B({client:U}))});return{...E({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function C(){const M={moveUp:()=>w(SZ),moveRight:()=>w(kZ),moveDown:()=>w(EZ),moveLeft:()=>w(TZ)};return E({liftActionArgs:{id:i,clientSelection:dJ(f),movementMode:"SNAP"},cleanup:_l,actions:M})}function j(){t0({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&e.release()}return{isActive:()=>t0({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:A,snapLift:C,abort:j}}const _J=[QX,rJ,lJ];function wJ({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?_J:[],...r||[]],o=S.useState(()=>BX())[0],c=Ye(function(E,A){dm(E)&&!dm(A)&&o.tryAbandon()},[o]);Ri(function(){let E=t.getState();return t.subscribe(()=>{const C=t.getState();c(E,C),E=C})},[o,t,c]),Ri(()=>o.tryAbandon,[o.tryAbandon]);const u=Ye(w=>a5({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),f=Ye((w,E,A)=>xJ({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:E||null,sourceEvent:A&&A.sourceEvent?A.sourceEvent:null}),[e,o,n,t]),m=Ye(w=>yJ(e,w),[e]),p=Ye(w=>{const E=n.draggable.findById(w);return E?E.options:null},[n.draggable]),g=Ye(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(tT()))},[o,t]),b=Ye(()=>o.isClaimed(),[o]),_=vt(()=>({canGetLock:u,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:b}),[u,f,m,p,g,b]);for(let w=0;w<a.length;w++)a[w](_)}const SJ=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Kd.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),EJ=e=>({...um,...e.autoScrollerOptions,durationDampening:{...um.durationDampening,...e.autoScrollerOptions}});function wh(e){return e.current||Ne(),e.current}function kJ(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=S.useRef(null),c=QB(e),u=Ye(()=>SJ(c.current),[c]),f=Ye(()=>EJ(c.current),[c]),m=RX(t),p=$X({contextId:t,text:a}),g=OX(t,i),b=Ye(W=>{wh(o).dispatch(W)},[]),_=vt(()=>bN({publishWhileDragging:gZ,updateDroppableScroll:vZ,updateDroppableIsEnabled:bZ,updateDroppableIsCombineEnabled:xZ,collectionStarting:yZ},b),[b]),w=MX(),E=vt(()=>oX(w,_),[w,_]),A=vt(()=>SX({scrollWindow:sX,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:f,...bN({move:$B},b)}),[E.scrollDroppable,b,f]),C=CX(t),j=vt(()=>nX({announce:m,autoScroller:A,dimensionMarshal:E,focusMarshal:C,getResponders:u,styleMarshal:g}),[m,A,E,C,u,g]);o.current=j;const P=Ye(()=>{const W=wh(o);W.getState().phase!=="IDLE"&&W.dispatch(tT())},[]),M=Ye(()=>{const W=wh(o).getState();return W.phase==="DROP_ANIMATING"?!0:W.phase==="IDLE"?!1:W.isDragging},[]),D=vt(()=>({isDragging:M,tryAbort:P}),[M,P]);n(D);const $=Ye(W=>KB(wh(o).getState(),W),[]),U=Ye(()=>Mc(wh(o).getState()),[]),Y=vt(()=>({marshal:E,focus:C,contextId:t,canLift:$,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:w}),[t,E,p,C,$,U,w]);return wJ({contextId:t,store:j,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>P,[P]),Yt.createElement(nb.Provider,{value:Y},Yt.createElement(dB,{context:lT,store:j},e.children))}function TJ(){return Yt.useId()}function zm(e){const t=TJ(),n=e.dragHandleUsageInstructions||ey.dragHandleUsageInstructions;return Yt.createElement(rV,null,r=>Yt.createElement(kJ,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const WN={dragging:5e3,dropAnimating:4500},AJ=(e,t)=>t?Kh.drop(t.duration):e?Kh.snap:Kh.fluid,OJ=(e,t)=>{if(e)return t?cm.opacity.drop:cm.opacity.combining},jJ=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function CJ(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,c=jJ(e),u=!!a,f=u?rE.drop(r,o):rE.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:AJ(c,a),transform:f,opacity:OJ(o,u),zIndex:u?WN.dropAnimating:WN.dragging,pointerEvents:"none"}}function NJ(e){return{transform:rE.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function MJ(e){return e.type==="DRAGGING"?CJ(e):NJ(e)}function PJ(e,t,n=or){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=fB(i,r),o=ky(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:u,client:a,page:o}}function DJ(e){const t=cT("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}=e,u=vt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:c}),[a,c,o]),f=Ye(b=>{const _=i();return _||Ne(),PJ(n,_,b)},[n,i]),m=vt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:f}),[n,f,u,t]),p=S.useRef(m),g=S.useRef(!0);Ri(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Ri(()=>{if(g.current){g.current=!1;return}const b=p.current;p.current=m,r.draggable.update(m,b)},[m,r.draggable])}var dT=Yt.createContext(null);function Ny(e){const t=S.useContext(e);return t||Ne(),t}function RJ(e){e.preventDefault()}const LJ=e=>{const t=S.useRef(null),n=Ye((D=null)=>{t.current=D},[]),r=Ye(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=Ny(nb),{type:c,droppableId:u}=Ny(dT),f=vt(()=>({id:e.draggableId,index:e.index,type:c,droppableId:u}),[e.draggableId,e.index,c,u]),{children:m,draggableId:p,isEnabled:g,shouldRespectForcePress:b,canDragInteractiveElements:_,isClone:w,mapped:E,dropAnimationFinished:A}=e;if(!w){const D=vt(()=>({descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:b,isEnabled:g}),[f,o,r,_,b,g]);DJ(D)}const C=vt(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:RJ}:null,[i,a,p,g]),j=Ye(D=>{E.type==="DRAGGING"&&E.dropping&&D.propertyName==="transform"&&Kd.flushSync(A)},[A,E]),P=vt(()=>{const D=MJ(E),$=E.type==="DRAGGING"&&E.dropping?j:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:D,onTransitionEnd:$},dragHandleProps:C}},[i,C,p,E,j,n]),M=vt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Yt.createElement(Yt.Fragment,null,m(P,E.snapshot,M))};var o5=(e,t)=>e===t,s5=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const IJ=e=>e.combine?e.combine.draggableId:null,$J=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function BJ(){const e=ar((i,a)=>({x:i,y:a})),t=ar((i,a,o=null,c=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:c,combineTargetFor:null})),n=ar((i,a,o,c,u=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:f,mode:a,offset:i,dimension:o,forceShouldAnimate:m,snapshot:t(a,c,u,f,null)}}));return(i,a)=>{if(dm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],u=Di(i.impact),f=$J(i.impact),m=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,c,a.isClone,u,f,m)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const c=a.isClone,u=i.dimensions.draggables[a.draggableId],f=o.result,m=f.mode,p=s5(f),g=IJ(f),_={duration:i.dropDuration,curve:rT.drop,moveTo:i.newHomeClientOffset,opacity:g?cm.opacity.drop:null,scale:g?cm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:_,draggingOver:p,combineWith:g,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,g,_)}}}return null}}function l5(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const zJ={mapped:{type:"SECONDARY",offset:or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:l5(null)}};function UJ(){const e=ar((o,c)=>({x:o,y:c})),t=ar(l5),n=ar((o,c=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:c,shouldAnimateDisplacement:u,snapshot:t(c)}})),r=o=>o?n(or,o,!0):null,i=(o,c,u,f)=>{const m=u.displaced.visible[o],p=!!(f.inVirtualList&&f.effected[o]),g=Jv(u),b=g&&g.draggableId===o?c:null;if(!m){if(!p)return r(b);if(u.displaced.invisible[o])return null;const E=Zd(f.displacedBy.point),A=e(E.x,E.y);return n(A,b,!0)}if(p)return r(b);const _=u.displacedBy.point,w=e(_.x,_.y);return n(w,b,m.shouldAnimate)};return(o,c)=>{if(dm(o))return o.critical.draggable.id===c.draggableId?null:i(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const HJ=()=>{const e=BJ(),t=UJ();return(r,i)=>e(r,i)||t(r,i)||zJ},FJ={dropAnimationFinished:zB},GJ=uB(HJ,FJ,null,{context:lT,areStatePropsEqual:o5})(LJ);function c5(e){return Ny(dT).isUsingCloneFor===e.draggableId&&!e.isClone?null:Yt.createElement(GJ,e)}function Qd(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Yt.createElement(c5,Ty({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const u5=e=>t=>e===t,qJ=u5("scroll"),YJ=u5("auto"),VN=(e,t)=>t(e.overflowX)||t(e.overflowY),KJ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return VN(n,qJ)||VN(n,YJ)},WJ=()=>!1,d5=e=>e==null?null:e===document.body?WJ()?e:null:e===document.documentElement?null:KJ(e)?e:d5(e.parentElement);var oE=e=>({x:e.scrollLeft,y:e.scrollTop});const f5=e=>e?window.getComputedStyle(e).position==="fixed"?!0:f5(e.parentElement):!1;var VJ=e=>{const t=d5(e),n=f5(e);return{closestScrollable:t,isFixedOnPage:n}},ZJ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:c})=>{const u=(()=>{if(!c)return null;const{scrollSize:g,client:b}=c,_=GB({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:b,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:_,diff:{value:or,displacement:or}}}})(),f=i==="vertical"?Zk:SB,m=Md({page:o,withPlaceholder:null,axis:f,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:o,frame:u,subject:m}};const XJ=(e,t)=>{const n=hB(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=Yk({top:r,right:o,bottom:a,left:i},n.border);return Kk({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var JJ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:c})=>{const u=n.closestScrollable,f=XJ(e,u),m=ky(f,r),p=(()=>{if(!u)return null;const b=hB(u),_={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:b,page:ky(b,r),scroll:oE(u),scrollSize:_,shouldClipSubject:c}})();return ZJ({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const QJ={passive:!1},eQ={passive:!0};var ZN=e=>e.shouldPublishImmediately?QJ:eQ;const n0=e=>e&&e.env.closestScrollable||null;function tQ(e){const t=S.useRef(null),n=Ny(nb),r=cT("droppable"),{registry:i,marshal:a}=n,o=QB(e),c=vt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(c),f=vt(()=>ar((P,M)=>{t.current||Ne();const D={x:P,y:M};a.updateDroppableScroll(c.id,D)}),[c.id,a]),m=Ye(()=>{const P=t.current;return!P||!P.env.closestScrollable?or:oE(P.env.closestScrollable)},[]),p=Ye(()=>{const P=m();f(P.x,P.y)},[m,f]),g=vt(()=>am(p),[p]),b=Ye(()=>{const P=t.current,M=n0(P);if(P&&M||Ne(),P.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),_=Ye((P,M)=>{t.current&&Ne();const D=o.current,$=D.getDroppableRef();$||Ne();const U=VJ($),Y={ref:$,descriptor:c,env:U,scrollOptions:M};t.current=Y;const W=JJ({ref:$,descriptor:c,env:U,windowScroll:P,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),H=U.closestScrollable;return H&&(H.setAttribute(GN.contextId,n.contextId),H.addEventListener("scroll",b,ZN(Y.scrollOptions))),W},[n.contextId,c,b,o]),w=Ye(()=>{const P=t.current,M=n0(P);return P&&M||Ne(),oE(M)},[]),E=Ye(()=>{const P=t.current;P||Ne();const M=n0(P);t.current=null,M&&(g.cancel(),M.removeAttribute(GN.contextId),M.removeEventListener("scroll",b,ZN(P.scrollOptions)))},[b,g]),A=Ye(P=>{const M=t.current;M||Ne();const D=n0(M);D||Ne(),D.scrollTop+=P.y,D.scrollLeft+=P.x},[]),C=vt(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:w,dragStopped:E,scroll:A}),[E,_,w,A]),j=vt(()=>({uniqueId:r,descriptor:c,callbacks:C}),[C,c,r]);Ri(()=>(u.current=j.descriptor,i.droppable.register(j),()=>{t.current&&E(),i.droppable.unregister(j)}),[C,c,E,j,a,i.droppable]),Ri(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Ri(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function kw(){}const XN={width:0,height:0,margin:uV},nQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?XN:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},rQ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=nQ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Kh.placeholder:null}},iQ=e=>{const t=S.useRef(null),n=Ye(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[c,u]=S.useState(e.animate==="open");S.useEffect(()=>c?r!=="open"?(n(),u(!1),kw):t.current?kw:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):kw,[r,c,n]);const f=Ye(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=rQ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Yt.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})};var aQ=Yt.memo(iQ);class oQ extends Yt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const sQ=e=>{const t=S.useContext(nb);t||Ne();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),a=S.useRef(null),{children:o,droppableId:c,type:u,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:b,snapshot:_,useClone:w,updateViewportMaxScroll:E,getContainerForClone:A}=e,C=Ye(()=>i.current,[]),j=Ye((H=null)=>{i.current=H},[]);Ye(()=>a.current,[]);const P=Ye((H=null)=>{a.current=H},[]),M=Ye(()=>{r()&&E({maxScroll:YB()})},[r,E]);tQ({droppableId:c,type:u,mode:f,direction:m,isDropDisabled:g,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:C});const D=vt(()=>Yt.createElement(oQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:G,animate:Z})=>Yt.createElement(aQ,{placeholder:G,onClose:H,innerRef:P,animate:Z,contextId:n,onTransitionEnd:M})),[n,M,e.placeholder,e.shouldAnimatePlaceholder,P]),$=vt(()=>({innerRef:j,placeholder:D,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,D,j]),U=w?w.dragging.draggableId:null,Y=vt(()=>({droppableId:c,type:u,isUsingCloneFor:U}),[c,U,u]);function W(){if(!w)return null;const{dragging:H,render:G}=w,Z=Yt.createElement(c5,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,Q)=>G(X,Q,H));return XF.createPortal(Z,A())}return Yt.createElement(dT.Provider,{value:Y},o($,_),W())};function lQ(){return document.body||Ne(),document.body}const JN={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:lQ},h5=e=>{let t={...e},n;for(n in JN)e[n]===void 0&&(t={...t,[n]:JN[n]});return t},Tw=(e,t)=>e===t.droppable.type,QN=(e,t)=>t.draggables[e.draggable.id],cQ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ar(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ar((a,o,c,u,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const _=m?{render:m,dragging:n(f.descriptor)}:null,w={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:_}}if(!o)return t;if(!u)return e;const b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(a,o)=>{const c=h5(o),u=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(dm(a)){const g=a.critical;if(!Tw(f,g))return t;const b=QN(g,a.dimensions),_=Di(a.impact)===u;return r(u,m,_,_,b,p)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!Tw(f,g.critical))return t;const b=QN(g.critical,a.dimensions);return r(u,m,s5(g.result)===u,Di(g.impact)===u,b,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!Tw(f,g.critical))return t;const b=Di(g.impact)===u,_=!!(g.impact.at&&g.impact.at.type==="COMBINE"),w=g.critical.droppable.id===u;return b?_?e:t:w?e:t}return t}},uQ={updateViewportMaxScroll:wZ},ef=uB(cQ,uQ,(e,t,n)=>({...h5(n),...e,...t}),{context:lT,areStatePropsEqual:o5})(sQ),dQ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function My(e,t,n){const r=dQ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function fQ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),u=(a-12)/24+o/1440+c/86400,f=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function hQ(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Um(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=hQ(i),o=4*(i-a),c=fQ(r);return new Date(r.getTime()+(o+c)*60*1e3)}function m5(e){return e.replace(/\D/g,"")}function mQ(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function pQ(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function Hm(e){const t=m5(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return mQ(n,r,i)?{y:n,m:r,d:i}:null}function ib(e){const t=e.trim();if(!t||t==="")return null;const n=m5(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return pQ(r,i)?{hh:r,mm:i}:null}function ab(e){const t=e.trim(),n=Hm(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function ob(e){const t=e.trim();if(t==="")return"";const n=ib(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var ty={exports:{}},gQ=ty.exports,eM;function yQ(){return eM||(eM=1,(function(e,t){(function(n,r){e.exports=r()})(gQ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,c){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),c=a(o),u=i(3),f=a(u),m=i(4),p=a(m),g=i(5),b=a(g),_=i(6),w=a(_),E=i(7),A=a(E),C=i(8),j=a(C),P=i(9),M=a(P),D=i(10),$=a(D),U=i(11),Y=a(U),W=i(12),H=a(W),G={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:b.default,animals:w.default,lunarTerm:A.default,lTermInfo:j.default,nStr1:M.default,nStr2:$.default,nStr3:Y.default,nStr4:H.default,lYearDays:function(Z){var X,Q=348;for(X=32768;X>8;X>>=1)Q+=G.lunarInfo[Z-1900]&X?1:0;return Q+G.leapDays(Z)},leapMonth:function(Z){return 15&G.lunarInfo[Z-1900]},leapDays:function(Z){return G.leapMonth(Z)?65536&G.lunarInfo[Z-1900]?30:29:0},monthDays:function(Z,X){return X>12||X<1?-1:G.lunarInfo[Z-1900]&65536>>X?30:29},solarDays:function(Z,X){if(X>12||X<1)return-1;var Q=X-1;return Q==1?Z%4==0&&Z%100!=0||Z%400==0?29:28:G.solarMonth[Q]},toGanZhi:function(Z){return G.gan[Z%10]+G.zhi[Z%12]},getTerm:function(Z,X){if(Z<1900||Z>2100||X<1||X>24)return-1;var Q=G.lTermInfo[Z-1900],q=[parseInt("0x"+Q.substr(0,5)).toString(),parseInt("0x"+Q.substr(5,5)).toString(),parseInt("0x"+Q.substr(10,5)).toString(),parseInt("0x"+Q.substr(15,5)).toString(),parseInt("0x"+Q.substr(20,5)).toString(),parseInt("0x"+Q.substr(25,5)).toString()],J=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(J[X-1])},toChinaYear:function(Z){var X=parseInt(Z/1e3),Q=parseInt(Z%1e3/100),q=parseInt(Z%100/10),J=Z%10;return G.nStr4[X]+G.nStr4[Q]+G.nStr4[q]+G.nStr4[J]+""},toChinaMonth:function(Z){if(Z>12||Z<1)return-1;var X=G.nStr3[Z-1];return X+=""},toChinaDay:function(Z){var X;switch(Z){case 10:X="";break;case 20:X="";break;case 30:X="";break;default:X=G.nStr2[Math.floor(Z/10)],X+=G.nStr1[Z%10]}return X},getAnimal:function(Z){return G.animals[(Z-4)%12]},solar2lunar:function(fe,se,B){if(fe<1900||fe>2100||fe==1900&&se==1&&B<31)return-1;if(fe)var q=new Date(fe,parseInt(se)-1,B);else var q=new Date;var J,ue=0,ie=0,fe=q.getFullYear(),se=q.getMonth()+1,B=q.getDate(),K=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&K>0;J++)ie=G.lYearDays(J),K-=ie;K<0&&(K+=ie,J--);var ae=new Date,V=!1;ae.getFullYear()==fe&&ae.getMonth()+1==se&&ae.getDate()==B&&(V=!0);var oe=q.getDay(),pe=G.nStr1[oe];oe==0&&(oe=7);var ye=J,ue=G.leapMonth(J),te=!1;for(J=1;J<13&&K>0;J++)ue>0&&J==ue+1&&te==0?(--J,te=!0,ie=G.leapDays(ye)):ie=G.monthDays(ye,J),te==1&&J==ue+1&&(te=!1),K-=ie;K==0&&ue>0&&J==ue+1&&(te?te=!1:(te=!0,--J)),K<0&&(K+=ie,--J);var Se=J,je=K+1,de=se-1,Le=G.getTerm(fe,3),Oe=G.toGanZhi(fe-4),Ce=new Date(fe,1,Le).getTime();new Date(fe,de,B).getTime()<Ce&&(Oe=G.toGanZhi(fe-5));var Pe=G.getTerm(fe,2*se-1),Qe=G.getTerm(fe,2*se),st=G.toGanZhi(12*(fe-1900)+se+11);B>=Pe&&(st=G.toGanZhi(12*(fe-1900)+se+12));var Ht=!1,hn="";Pe==B&&(Ht=!0,hn=G.lunarTerm[2*se-2]),Qe==B&&(Ht=!0,hn=G.lunarTerm[2*se-1]);var on=Date.UTC(fe,de,1,0,0,0,0)/864e5+25567+10,ge=G.toGanZhi(on+B-1);return{lYear:ye,lMonth:Se,lDay:je,animal:G.getAnimal(ye),yearCn:G.toChinaYear(ye),monthCn:(te&&ue===Se?"":"")+G.toChinaMonth(Se),dayCn:G.toChinaDay(je),cYear:fe,cMonth:se,cDay:B,gzYear:Oe,gzMonth:st,gzDay:ge,isToday:V,isLeap:te,nWeek:oe,ncWeek:""+pe,isTerm:Ht,term:hn}},lunar2solar:function(Z,X,Q,q){var J=G.leapMonth(Z);if(G.leapDays(Z),q&&J!=X||Z==2100&&X==12&&Q>1||Z==1900&&X==1&&Q<31)return-1;var ie=G.monthDays(Z,X);if(Z<1900||Z>2100||Q>ie)return-1;for(var fe=0,se=1900;se<Z;se++)fe+=G.lYearDays(se);for(var B=0,K=!1,se=1;se<X;se++)B=G.leapMonth(Z),K||B<=se&&B>0&&(fe+=G.leapDays(Z),K=!0),fe+=G.monthDays(Z,se);q&&(fe+=ie);var ae=Date.UTC(1900,1,30,0,0,0),V=new Date(864e5*(fe+Q-31)+ae),oe=V.getUTCFullYear(),pe=V.getUTCMonth()+1,ye=V.getUTCDate();return G.solar2lunar(oe,pe,ye)}};r.default=G,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(ty)),ty.exports}var p5=yQ();const vQ=ui(p5),bQ=Ek({__proto__:null,default:vQ},[p5]);function fT(e){return typeof e=="object"&&e!==null}function xQ(e){return fT(e)&&"default"in e}function _Q(e){return fT(e)&&typeof e.lunar2solar=="function"}function wQ(e){if(!fT(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function SQ(e){const t=xQ(e)?e.default:e;if(!_Q(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const c=t.lunar2solar(r,i,a,o);return wQ(c)}}}const EQ=SQ(bQ);function Bi(e,t,n,r=4,i=0){const a=EQ.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const tM=e=>e<10?`0${e}`:`${e}`;function Fm(e){if(e.calendarType!=="lunar")return e;const t=Hm(e.birthDay??"");if(!t)return e;try{const n=Bi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${tM(i)}${tM(a)}`,calendarType:"solar"}}catch{return e}}function hT(e){const t=e.mingSikType??"/",n=Hm(e.birthDay??"");if(!n){const P=e.corrected instanceof Date?e.corrected:new Date(NaN),M=typeof e.ganji=="string"?e.ganji:"",D=typeof e.ganjiText=="string"?e.ganjiText:M,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:P,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:M,ganjiText:D,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const P=Bi(r,i,a,0,0);r=P.getFullYear(),i=P.getMonth()+1,a=P.getDate()}catch{}const o=ib(e.birthTime??""),c=!e.birthTime||e.birthTime===""||!o,u=c?4:o.hh,f=c?30:o.mm,m=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,f,0,0),g=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",b=Um(p,m,g),_=c?"":b.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=ot(b,m),E=St(b,m),A=gt(b,t),C=c?null:$a(b,t),j=[` : ${w} ${E} ${A}`,C?`${C}`:null].filter(Boolean).join(" ");return{corrected:b,correctedLocal:_,ganji:j,ganjiText:j,dayStem:A.charAt(0)}}function nM(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function Gm(e){return(typeof e=="string"?e.trim():"")===""?"":""}function rM(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function kQ(e){const t=rM(e.ganjiText)??rM(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=Gm(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Py(e){const t={...e,birthDay:ab(e.birthDay??""),birthTime:e.birthTime===""?"":ob(e.birthTime??""),gender:Gm(e.gender),dateObj:nM(e.dateObj,new Date),corrected:nM(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=hT(t),r={...t,...n};return{...r,dir:kQ(r)}}function TQ(e){return e===""||e==="/"||e===""?e:"/"}function AQ(e){return e==="lunar"?"lunar":"solar"}function OQ(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function jQ(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function mT(e,t){const r=ab(typeof e=="string"?e:""),i=Hm(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Bi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function pT(e,t){if(t)return{ok:!0,value:""};const r=ob(typeof e=="string"?e:"");return ib(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function g5(e,t){const n=t?.requireName??!1,r=jQ(e.name,n);if(!r.ok)return r;const i=AQ(e.calendarType),a=mT(e.birthDay,i);if(!a.ok)return a;const o=pT(e.birthTime,e.unknownTime);if(!o.ok)return o;const c=TQ(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:Gm(e.gender),sortOrder:e.sortOrder,birthPlace:OQ(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:c,DayChangeRule:c===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Py(u)}}function kl(e){const t=Fm(e),n=Hm(t.birthDay??"");if(!n)throw new Error(`Invalid date: ${e.birthDay}`);const r=ib(t.birthTime??""),i=r?r.hh:0,a=r?r.mm:0,o=new Date(n.y,n.m-1,n.d,i,a,0,0);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="",u=t.birthPlace?.lon??127.5;return Um(o,u,c)}function CQ(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ud(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),c=a.localeCompare(o);return c!==0?c:t.id.localeCompare(n.id)})}function sE(e){if(!CQ(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function y5(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:ab(e.birth_day??""),birthTime:ob(e.birth_time??""),gender:Gm(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Py(i)}function NQ(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function iM(e,t){const n=ab(e.birthDay??""),r=ob(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:Gm(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const lE="hm_session_started_at_ms",MQ=7200*1e3;function v5(){return typeof window>"u"?null:window.localStorage}function PQ(){const e=v5();if(!e)return Date.now();const t=e.getItem(lE),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(lE,String(r)),r}function DQ(e=Date.now()){const t=v5();if(t)try{t.setItem(lE,String(e))}catch{}}function RQ(e=Date.now()){const t=PQ();return e-t>=MQ}const r0="myeongsik-list";function LQ(e){try{return JSON.parse(e)}catch{return null}}async function IQ(e){if(typeof window>"u")return;const t=window.localStorage.getItem(r0);if(!t)return;const n=LQ(t);if(!n){window.localStorage.removeItem(r0);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(r0);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),c=new Set(o.map(f=>f.id)),u=i.filter(f=>!!f&&typeof f.id=="string"&&f.id.trim()!==""&&!c.has(f.id));for(const f of u)await e.upsertOne(a.id,f);window.localStorage.removeItem(r0)}const $Q=250;function BQ(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function zQ(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function UQ(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const c=n;if(n=null,c.key&&c.key===i){c.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),c.resolve();continue}await e.upsertOrderPatch(u.id,c.list),i=c.key,c.resolve()}}finally{r=!1}}}zQ(()=>{a()});function o(c,u){const f=BQ(c);if(f&&f===i&&!n)return Promise.resolve();if(n)n.key=f,n.list=c;else{let m;const p=new Promise(g=>{m=g});n={key:f,list:c,promise:p,resolve:m}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},$Q),n.promise)}return{queue:o,flushNow:a}}const ai="__UNASSIGNED__",HQ=[" ",""],Sd=e=>typeof e=="string"?e.trim():"",FQ=e=>HQ.includes(e);function hd(e,t){const n=[],r=[];for(const i of e){const a=Sd(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function gT(e,t){const n=new Set(t.map(o=>Sd(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,c)=>{i[o]||(i[o]=[]),i[o].push(c)};for(const o of e){const c=String(o.id??"");if(!c||r.has(c))continue;r.add(c);const u=Sd(o.folder),f=!u||FQ(u)?ai:n.has(u)?u:ai;a(f,o)}i[ai]||(i[ai]=[]);for(const o of t){const c=Sd(o);c&&(i[c]||(i[c]=[]))}return i}function b5(e,t){const n=[];for(const i of t){const a=Sd(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[ai];return Array.isArray(r)&&r.length&&n.push(...r),n}function GQ(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=gT(t,n),o=r.droppableId===ai?ai:r.droppableId,c=i.droppableId===ai?ai:i.droppableId,u=[...a[o]??[]],f=o===c?u:[...a[c]??[]],m=u[r.index];if(!m)return{nextList:t,changedIds:[]};u.splice(r.index,1);const p=Math.max(0,Math.min(i.index,f.length));o===c?u.splice(p,0,m):f.splice(p,0,m);const g=String(m.id),b=new Set([g]),_={...m,folder:c===ai?"":c};return a[o]=u,a[c]=o===c?u:f,a[c]=(a[c]??[]).map(w=>String(w.id)===g?_:w),{nextList:b5(a,n),changedIds:Array.from(b)}}function qQ(e){const{list:t,targetId:n,orderedFolders:r}=e,i=gT(t,r);let a=null,o=null;const c=[...r.map(b=>Sd(b)),ai].filter(Boolean);for(const b of c){const _=i[b]??[],w=_.findIndex(E=>String(E.id)===n);if(w>=0){a=b,o=_[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],f=u.findIndex(b=>String(b.id)===n);if(f<0)return{nextList:t,nextItem:null};const m=u[f],p=!m.favorite,g={...m,favorite:p};return u.splice(f,1),p?u.unshift(g):u.push(g),i[a]=u,{nextList:b5(i,r),nextItem:g}}function YQ(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[];return{nextList:t.map(o=>(o.folder??"").trim()!==r?o:(i.push(String(o.id)),{...o,folder:""})),changedIds:i}}function x5(e){return e.trim().length>0}const Sh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),KQ=e=>e.replace(/\D/g,""),WQ=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=KQ(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},VQ=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},ZQ=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},aM=(e,t,n)=>{const r=Sh(t);if(!r)return!0;const i=Sh(typeof e.name=="string"?e.name:""),a=WQ(e).map(Sh),o=VQ(e).map(Sh),c=ZQ(e).map(Sh),u=m=>m.includes(r),f=m=>m.some(u);switch(n){case"name":return u(i);case"birth":return f(a);case"ganji":return f(o);case"memo":return f(c);case"all":default:return u(i)||f(a)||f(o)||f(c)}};function XQ(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!x5(t)){const f={};for(const m of r){const p=typeof m=="string"?m.trim():"";p&&(f[p]=i[p]??[])}return{filteredGrouped:f,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((m,p)=>m+(i[p]?.length??0),0)}}const o={};let c=0;for(const f of r){const m=typeof f=="string"?f.trim():"";if(!m)continue;const g=(i[m]??[]).filter(b=>aM(b,t,n));o[m]=g,c+=g.length}const u=(a??[]).filter(f=>aM(f,t,n));return c+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:c}}function JQ(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??ai).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??ai).toString(),index:e.destinationIndex}}}function QQ(e,t){const n=String(t.eventType??""),r=sE(t.new),i=sE(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(f=>f.id!==a.id);const o=y5(a),u=e.some(f=>f.id===o.id)?e.map(f=>f.id===o.id?o:f):[...e,o];return ud(u)}async function eee(e){if(!e)return;const t=Ie;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function tee(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function nee(){return{async getUser(){const{data:e,error:t}=await Ie.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Ie.from("myeongsik").select(tee()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>sE(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=iM(t,e),{error:r}=await Ie.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=iM(n,e),{error:i}=await Ie.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Ie.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>NQ(i,e)),{error:r}=await Ie.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Ie.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await eee(r)}}}}}function ree(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function yT(e){if(!e)return"PROMPT_LOCKED";const t=ree(e);return t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"?"PROMPT_HIDDEN":t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"PROMPT_LOCKED":t==="prompt_full"||t==="full"?"PROMPT_FULL":"PROMPT_LOCKED"}function Dy(e){switch(e){case"PROMPT_HIDDEN":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!1,canUseMultiMode:!1,canUseAllPrompts:!1,promptAccess:"hidden"};case"PROMPT_LOCKED":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!1,canUseMultiMode:!1,canUseAllPrompts:!1,promptAccess:"locked"};case"PROMPT_FULL":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,promptAccess:"full"}}}const iee="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean),aee="".split(",").map(e=>e.trim()).filter(Boolean);function oee(e){return e?iee.includes(e)||aee.includes(e):!1}const Eh={plan:"PROMPT_LOCKED",maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,startsAt:null,expiresAt:null};function see(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function oM(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}const xs=iu((e,t)=>({loaded:!1,loading:!1,userId:null,...Eh,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Eh})},loadFromServer:async()=>{e({loading:!0});try{const{data:n,error:r}=await Ie.auth.getUser();if(r){e({loaded:!0,loading:!1,userId:null,...Eh});return}const i=n.user?.id??null;if(!i){e({loaded:!0,loading:!1,userId:null,...Eh});return}if(oee(i)){const b=Dy("PROMPT_FULL");e({loaded:!0,loading:!1,userId:i,plan:"PROMPT_FULL",maxMyeongsik:9999,canManageMyeongsik:b.canManageMyeongsik,canUseLuckTabs:b.canUseLuckTabs,canUseMultiMode:b.canUseMultiMode,canUseAllPrompts:b.canUseAllPrompts,startsAt:null,expiresAt:null});return}const{data:a,error:o}=await Ie.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at").eq("user_id",i).maybeSingle();if(o||!a){e({loaded:!0,loading:!1,userId:i,...Eh});return}const c=a,u=yT(c.plan??null),f=Dy(u),m=f.maxMyeongsik===null?9999:f.maxMyeongsik,p=see(c.max_myeongsik,m),g=Math.max(1,Math.max(p,m));e({loaded:!0,loading:!1,userId:i,plan:u,maxMyeongsik:g,canManageMyeongsik:f.canManageMyeongsik,canUseLuckTabs:f.canUseLuckTabs,canUseMultiMode:f.canUseMultiMode,canUseAllPrompts:f.canUseAllPrompts,startsAt:oM(c.starts_at??null),expiresAt:oM(c.expires_at??null)})}finally{e({loading:!1})}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t(),i=Date.now();return!(n&&n.getTime()>i||r&&r.getTime()<=i)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,c=Math.floor(a/60),u=c%24,f=Math.floor(c/24),m=[];return f>0&&m.push(`${f}`),u>0&&m.push(`${u}`),f===0&&o>0&&m.push(`${o}`),m.length===0&&m.push(`${i}`),m.join(" ")},canAddMyeongsik:n=>{const r=t();return r.loaded?r.isActiveNow()?n>=r.maxMyeongsik?{ok:!1,message:`   ${r.maxMyeongsik}. `}:{ok:!0}:{ok:!1,message:"  "}:{ok:!1,message:"  "}},canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts}})),Ti=nee(),lee=UQ(Ti);function Qu(){const t=xs.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function cee(e){const n=xs.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}const Br=iu((e,t)=>({loading:!1,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(RQ()){DQ(Date.now()),window.location.reload();return}const n=await Ti.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await Ti.subscribe(n.id,i=>{e(a=>({list:QQ(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{e({loading:!0});try{const n=await Ti.getUser();if(!n){e({list:[],currentId:null}),await t().stopRealtime();return}const r=await Ti.fetchRows(n.id),i=ud(r.map(y5)),a=t().currentId,o=a&&i.some(c=>c.id===a)?a:i[0]?.id??null;e({list:i,currentId:o}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}},migrateLocalToServer:async()=>{try{await IQ(Ti)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await Ti.getUser();if(!r)return;const i=t().list.length;if(!cee(i))return;const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},c=Py(o);e(u=>({list:ud([...u.list,c]),currentId:u.currentId??c.id})),await Ti.upsertOne(r.id,c)},update:async(n,r)=>{if(!Qu())return;const i=t().list.find(c=>c.id===n);if(!i)return;const a=Py({...i,...r});e(c=>({list:ud(c.list.map(u=>u.id===n?a:u))}));const o=await Ti.getUser();o&&await Ti.updateOne(o.id,n,a)},remove:async n=>{Qu()&&(e(r=>{const i=r.list.filter(o=>o.id!==n),a=r.currentId===n?i[0]?.id??null:r.currentId;return{list:i,currentId:a}}),await Ti.softDelete(n))},moveItemByDnD:async n=>{if(!Qu())return;const{list:r}=t(),i=JQ(n),o=GQ({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o}),await t().reorder(o)},toggleFavoriteWithReorder:async(n,r)=>{if(!Qu())return;const{list:i}=t(),o=qQ({list:i,targetId:n,orderedFolders:r}).nextList;e({list:o}),await t().reorder(o)},unsetFolderForFolder:async n=>{if(!Qu())return;const r=(n??"").trim();if(!r)return;const i=t().list,a=YQ({list:i,folderName:r}),o=ud(a.nextList),c=new Set(a.changedIds);if(c.size===0)return;e({list:o});const u=await Ti.getUser();if(!u)return;const f=o.filter(m=>c.has(m.id));await Ti.upsertOrderPatch(u.id,f)},reorder:async n=>{if(!Qu())return;const r=n.map((a,o)=>({...a,sortOrder:o+1})),i=ud(r);e({list:i}),await lee.queue(i)},clear:()=>{e({currentId:null,list:[]})}})),sM="__custom__",lM=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],_5=({value:e,onChange:t})=>{const[n,r]=S.useState(lM),[i,a]=S.useState(""),[o,c]=S.useState(!1),[u,f]=S.useState(""),[m,p]=S.useState(!1),{list:g}=Br(),_=(e??i??"").trim()==="",E=g.some(M=>(M.relationship??"").trim()==="")&&!_?n.filter(M=>M.value!==""):n;S.useEffect(()=>{e!==void 0&&a(e)},[e]);const A=M=>{const D=M.target.value;D===sM?(c(!0),a(""),t?.("")):(c(!1),f(""),a(D),t?.(D))};S.useEffect(()=>{const M=localStorage.getItem("relationshipOptions");M&&r(JSON.parse(M))},[]),S.useEffect(()=>{(async()=>{const{data:{user:D},error:$}=await Ie.auth.getUser();if($||!D)return;const{data:U,error:Y}=await Ie.from("user_settings").select("payload").eq("user_id",D.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const W=U?.payload?.relationshipOptions;if(!Array.isArray(W))return;const H=W.map(G=>G&&typeof G=="object"&&typeof G.value=="string"&&typeof G.label=="string"?{value:G.value,label:G.label}:typeof G=="string"?{value:G,label:G}:null).filter(G=>!!G);H.length&&r(G=>{const Z=new Set,X=[...H,...G,...lM].filter(Q=>Z.has(Q.value)?!1:(Z.add(Q.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(X)),X})})()},[]),S.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:D},error:$}=await Ie.auth.getUser();if($||!D)return;const{data:U,error:Y}=await Ie.from("user_settings").select("payload").eq("user_id",D.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const W={...U?.payload??{},relationshipOptions:n},{error:H}=await Ie.from("user_settings").upsert({user_id:D.id,payload:W,updated_at:new Date().toISOString()});H&&console.error("save relationships settings error",H.message)})()},[n]);const C=()=>{const M=u.trim();if(!M)return;const D={value:M,label:M};r($=>[...$,D]),a(M),t?.(M),f(""),c(!1)},j=M=>{r(n.filter(D=>D.value!==M)),i===M&&a("")},P=M=>{if(!M.destination)return;const D=Array.from(n),[$]=D.splice(M.source.index,1);D.splice(M.destination.index,0,$),r(D)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"rel_set flex items-center gap-2",children:[x.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:A,children:[x.jsx("option",{value:"",hidden:!0,children:""}),E.map(M=>x.jsx("option",{value:M.value,children:M.label},M.value)),x.jsx("option",{value:sM,children:" "})]}),x.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),o&&!m&&x.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[x.jsx("input",{type:"text",placeholder:" ",value:u,onChange:M=>f(M.target.value)}),x.jsx("button",{type:"button",onClick:C,className:"btn_style",children:""})]}),m&&x.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2",children:" "}),x.jsx(zm,{onDragEnd:P,children:x.jsx(ef,{droppableId:"relList",children:M=>x.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[n.map((D,$)=>x.jsx(Qd,{draggableId:D.value,index:$,children:U=>x.jsxs("li",{ref:U.innerRef,...U.draggableProps,...U.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[x.jsx("span",{className:"cursor-grab mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:D.label}),x.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(D.value),children:""})]})},D.value)),M.placeholder]})})}),x.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},cn=" ",w5=["","","","","",""],S5="ms_folders",E5="ms_folder_order",cM="ms_folder_favs",cE="ms_disabled_presets",Tl="myeoun:folder-updated";function Fc(e){if(e!==cn)return e||void 0}function sb(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function vT(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function uee(){const e=sb(cE);return w5.filter(t=>!e.includes(t))}function bT(){return sb(S5)}function xT(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];vT(S5,t),typeof window<"u"&&window.dispatchEvent(new Event(Tl))}function Ry(){const e=uee(),t=bT(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function dee(){return[cn,...Ry()]}function k5(e){const t=e.trim();if(!t||t===cn)return;const n=bT();if(n.includes(t))return;const r=[...n,t];xT(r)}function fee(e){const t=bT(),n=t.filter(r=>r!==e);n.length!==t.length&&xT(n)}function hee(e){const t=sb(cE);if(t.includes(e))return;const n=[...t,e];vT(cE,n),typeof window<"u"&&window.dispatchEvent(new Event(Tl))}function Ly(){return sb(E5)}function md(e){vT(E5,e),typeof window<"u"&&window.dispatchEvent(new Event(Tl))}function Wh(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function mee(e){return Array.from(new Set(e))}function i0(e){const t=e.filter(n=>n!==cn);return{rest:t,withUnassigned:[cn,...t]}}function pee(e,t){return Wh(t,e)}function gee({value:e,onChange:t}){const[n,r]=S.useState([cn]),[i,a]=S.useState(!1),[o,c]=S.useState(""),[u,f]=S.useState(!1),m=S.useCallback(async E=>{const{data:{user:A},error:C}=await Ie.auth.getUser();if(C||!A)return;const j=E.map((M,D)=>({user_id:A.id,folder_name:M,sort_order:D+1,updated_at:new Date().toISOString()})),{error:P}=await Ie.from("user_folder_order").upsert(j,{onConflict:"user_id,folder_name"});P&&console.error("save folder order error",P.message)},[]),p=S.useCallback(()=>{if(typeof window>"u")return;const E=mee(dee()),A=E.includes(cn)?E:[cn,...E],{rest:C}=i0(A),j=Ly(),P=pee(j,C),M=[cn,...P];r(M),j.length===P.length&&j.every(($,U)=>$===P[U])||(md(P),m(P))},[m]);S.useEffect(()=>{if(p(),typeof window<"u"){const E=()=>p();return window.addEventListener(Tl,E),()=>window.removeEventListener(Tl,E)}},[p]);const g=S.useMemo(()=>e||cn,[e]),b=E=>{const{rest:A}=i0(E);md(A),m(A)},_=E=>{const{source:A,destination:C}=E;if(!C||C.index===A.index)return;const{rest:j}=i0(n),P=Array.from(j),[M]=P.splice(A.index,1);P.splice(C.index,0,M);const D=[cn,...P];r(D),b(D)},w=E=>{const A=Fc(E);A&&(k5(A),p())};return x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":g,onChange:E=>{const A=E.target.value;if(A==="__custom__"){a(!0),t(void 0);return}a(!1),t(Fc(A))},children:[n.map(E=>x.jsx("option",{value:E,children:E},E)),x.jsx("option",{value:"__custom__",children:"+   "})]}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(E=>!E),children:u?" ":" "})]}),i&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),x.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const E=o.trim();E&&(w(E),t(Fc(E)),a(!1),c(""))},children:""})]}),u&&x.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[x.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),x.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[x.jsx("span",{className:"opacity-60 select-none",children:""}),x.jsxs("span",{className:"flex-1 px-2",children:[cn," ()"]})]}),x.jsx(zm,{onDragEnd:_,children:x.jsx(ef,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:E=>x.jsxs("ul",{ref:E.innerRef,...E.droppableProps,className:"space-y-1",children:[i0(n).rest.map((A,C)=>x.jsx(Qd,{draggableId:A,index:C,children:j=>x.jsxs("li",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[x.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),x.jsx("span",{className:"flex-1 pr-1",children:A})]})},A)),E.placeholder]})})})]}),x.jsxs("p",{className:"text-xs text-gray-500",children:['   "',cn,'" .      .']})]})}function T5({message:e,onClose:t,ms:n=2e3}){return S.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),x.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const uM=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],yee=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],vee=["","/",""],bee=["",""],A5={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function xee(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function _ee(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function wee(){const[e,t]=S.useState(0),[n,r]=S.useState({...A5}),[i,a]=S.useState(null),[o,c]=S.useState(!1),[u,f]=S.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f}}function See({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){S.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Eee(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Bi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function kee(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):cn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Tee({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=uM[r],a=S.useMemo(()=>Eee(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:uM,currentStep:i,lunarPreview:a,displayValue:c=>kee(c,e,t,n),CALENDAR_OPTIONS:yee,MING_OPTIONS:vee,GENDER_OPTIONS:bee,nextIndex:xee,focusById:_ee,isDST:My}}function Aee(){return{add:Br(t=>t.add)}}const mr=[];for(let e=0;e<256;++e)mr.push((e+256).toString(16).slice(1));function Oee(e,t=0){return(mr[e[t+0]]+mr[e[t+1]]+mr[e[t+2]]+mr[e[t+3]]+"-"+mr[e[t+4]]+mr[e[t+5]]+"-"+mr[e[t+6]]+mr[e[t+7]]+"-"+mr[e[t+8]]+mr[e[t+9]]+"-"+mr[e[t+10]]+mr[e[t+11]]+mr[e[t+12]]+mr[e[t+13]]+mr[e[t+14]]+mr[e[t+15]]).toLowerCase()}let Aw;const jee=new Uint8Array(16);function Cee(){if(!Aw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Aw=crypto.getRandomValues.bind(crypto)}return Aw(jee)}const Nee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dM={randomUUID:Nee};function O5(e,t,n){if(dM.randomUUID&&!e)return dM.randomUUID();e=e||{};const r=e.random??e.rng?.()??Cee();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Oee(r)}function Mee(e,t,n){const r=Fc(e.folder);return g5({id:O5(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function Pee(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=mT(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=pT(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Dee({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:c,unknownPlace:u,setUnknownPlace:f,setToast:m,onSave:p}){const{add:g}=Aee(),b=S.useCallback(()=>{const w=Pee(a,e,o,u);if(!w.ok){m(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&m(w.message)),n<i-1){r(n+1);return}const E=Mee(e,o,u);if(!E.ok){m(E.message);return}const A=E.value;g(A),p(A),m(" !"),t({...A5}),c(!1),f(!1),r(0)},[a,e,o,u,m,t,n,i,r,g,p,c,f]),_=S.useCallback(w=>{if(w.key!=="Enter")return;const E=w.target,A=E.getAttribute("role");if(A==="radio"||A==="checkbox")return;const C=document.getElementById("mapModal");if(C&&C.contains(E))return;const j=E.tagName.toLowerCase(),P=E instanceof HTMLInputElement?E.type:"";if(j==="textarea"){if(w.shiftKey)return;w.preventDefault(),b();return}if(P==="radio"||P==="checkbox"){w.preventDefault(),E instanceof HTMLInputElement&&E.click();return}j==="button"&&E.type!=="submit"||(w.preventDefault(),b())},[b]);return{handleNext:b,handleFormKeyDown:_}}function Ree({onSave:e}){const t=wee(),n=Tee({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});See({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Dee({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Lee({onSave:e,onClose:t}){const n=Ree({onSave:e});return x.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&x.jsx(T5,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>x.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[x.jsx("span",{className:"font-semibold",children:r.label}),x.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),x.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:x.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[x.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex gap-1 items-center",children:[x.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:c=>{if(c.stopPropagation(),c.key===" "||c.key==="Enter"){c.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(c.key))return;c.preventDefault();const f=n.CALENDAR_OPTIONS.findIndex(g=>g.value===n.form.calendarType),m=n.nextIndex(f<0?0:f,n.CALENDAR_OPTIONS.length,c.key),p=n.CALENDAR_OPTIONS[m].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[m].id}_lbl`)},onClick:c=>{c.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&x.jsx("div",{className:"flex items-center justify-end",children:x.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?x.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&x.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),x.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",f=n.MING_OPTIONS.indexOf(u),m=n.nextIndex(f,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[m];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&x.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),x.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",f=n.GENDER_OPTIONS.indexOf(u),m=n.nextIndex(f,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[m];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(tB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),x.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&x.jsx(_5,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&x.jsx(gee,{value:Fc(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&x.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),x.jsxs("div",{className:"flex justify-between gap-2",children:[x.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),x.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var a0={},fM;function Iee(){if(fM)return a0;fM=1,a0.match=a,a0.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return o(m).some(function(g){var b=g.inverse,_=g.type==="all"||p.type===g.type;if(_&&b||!(_||b))return!1;var w=g.expressions.every(function(E){var A=E.feature,C=E.modifier,j=E.value,P=p[A];if(!P)return!1;switch(A){case"orientation":case"scan":return P.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=f(j),P=f(P);break;case"resolution":j=u(j),P=u(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=c(j),P=c(P);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,P=parseInt(P,10)||0;break}switch(C){case"min":return P>=j;case"max":return P<=j;default:return P===j}});return w&&!b||!w&&b})}function o(m){return m.split(",").map(function(p){p=p.trim();var g=p.match(e),b=g[1],_=g[2],w=g[3]||"",E={};return E.inverse=!!b&&b.toLowerCase()==="not",E.type=_?_.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],E.expressions=w.map(function(A){var C=A.match(t),j=C[1].toLowerCase().match(n);return{modifier:j[1],feature:j[2],value:C[2]}}),E})}function c(m){var p=Number(m),g;return p||(g=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=g[1]/g[2]),p}function u(m){var p=parseFloat(m),g=String(m).match(i)[1];switch(g){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),g=String(m).match(r)[1];switch(g){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return a0}var Ow,hM;function $ee(){if(hM)return Ow;hM=1;var e=Iee().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var c=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=g;function f(b){u&&u.addListener(b)}function m(b){u&&u.removeListener(b)}function p(b){c.matches=b.matches,c.media=b.media}function g(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return Ow=r,Ow}var Bee=$ee();const zee=ui(Bee);var Uee=/[A-Z]/g,Hee=/^ms-/,jw={};function Fee(e){return"-"+e.toLowerCase()}function j5(e){if(jw.hasOwnProperty(e))return jw[e];var t=e.replace(Uee,Fee);return jw[e]=Hee.test(t)?"-"+t:t}function Gee(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var Cw={exports:{}},Nw,mM;function qee(){if(mM)return Nw;mM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nw=e,Nw}var Mw,pM;function Yee(){if(pM)return Mw;pM=1;var e=qee();function t(){}function n(){}return n.resetWarningCache=t,Mw=function(){function r(o,c,u,f,m,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Mw}var gM;function Kee(){return gM||(gM=1,Cw.exports=Yee()()),Cw.exports}var Wee=Kee();const Tt=ui(Wee),Dr=Tt.oneOfType([Tt.string,Tt.number]),C5={all:Tt.bool,grid:Tt.bool,aural:Tt.bool,braille:Tt.bool,handheld:Tt.bool,print:Tt.bool,projection:Tt.bool,screen:Tt.bool,tty:Tt.bool,tv:Tt.bool,embossed:Tt.bool},Vee={orientation:Tt.oneOf(["portrait","landscape"]),scan:Tt.oneOf(["progressive","interlace"]),aspectRatio:Tt.string,deviceAspectRatio:Tt.string,height:Dr,deviceHeight:Dr,width:Dr,deviceWidth:Dr,color:Tt.bool,colorIndex:Tt.bool,monochrome:Tt.bool,resolution:Dr,type:Object.keys(C5)},{type:qAe,...Zee}=Vee,Xee={minAspectRatio:Tt.string,maxAspectRatio:Tt.string,minDeviceAspectRatio:Tt.string,maxDeviceAspectRatio:Tt.string,minHeight:Dr,maxHeight:Dr,minDeviceHeight:Dr,maxDeviceHeight:Dr,minWidth:Dr,maxWidth:Dr,minDeviceWidth:Dr,maxDeviceWidth:Dr,minColor:Tt.number,maxColor:Tt.number,minColorIndex:Tt.number,maxColorIndex:Tt.number,minMonochrome:Tt.number,maxMonochrome:Tt.number,minResolution:Dr,maxResolution:Dr,...Zee},Jee={...C5,...Xee};var Qee={all:Jee};const ete=e=>`not ${e}`,tte=(e,t)=>{const n=j5(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?ete(n):`(${n}: ${t})`},nte=e=>e.join(" and "),rte=e=>{const t=[];return Object.keys(Qee.all).forEach(n=>{const r=e[n];r!=null&&t.push(tte(n,r))}),nte(t)},ite=S.createContext(void 0),ate=e=>e.query||rte(e),yM=e=>e?Object.keys(e).reduce((n,r)=>(n[j5(r)]=e[r],n),{}):void 0,N5=()=>{const e=S.useRef(!1);return S.useEffect(()=>{e.current=!0},[]),e.current},ote=e=>{const t=S.useContext(ite),n=()=>yM(e)||yM(t),[r,i]=S.useState(n);return S.useEffect(()=>{const a=n();Gee(r,a)||i(a)},[e,t]),r},ste=e=>{const t=()=>ate(e),[n,r]=S.useState(t);return S.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},lte=(e,t)=>{const n=()=>zee(e,t||{},!!t),[r,i]=S.useState(n),a=N5();return S.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},cte=e=>{const[t,n]=S.useState(e.matches);return S.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},ute=(e,t,n)=>{const r=ote(t),i=ste(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=lte(i,r),o=cte(a);return N5(),S.useEffect(()=>{},[o]),S.useEffect(()=>()=>{a&&a.dispose()},[]),o},M5={Classic:"",Modern:""};function Eo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function dte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function fte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function hte(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function mte(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function ko(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?dte(t,n):fte(t,n):i?hte(t,n):mte(t,n)}const ci=iu()(M3((e,t)=>{const n=new Date,r="/",i=127.5,a=i,o=ot(n,a),c=St(n,a),u=gt(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:o,monthGZ:c,dayGZ:u,setDate:f=>{const{rule:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({date:f,yearGZ:ot(f,g),monthGZ:St(f,g),dayGZ:gt(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,g=typeof m=="number"?m:void 0;e({date:p,yearGZ:ot(p,g),monthGZ:St(p,g),dayGZ:gt(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:St(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),g=typeof p=="number"?p:void 0;e({rule:f,yearGZ:ot(m,g),monthGZ:St(m,g),dayGZ:gt(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),g=typeof f=="number"?f:void 0;e({lon:f,yearGZ:ot(m,g),monthGZ:St(m,g),dayGZ:gt(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:g}=t(),b=typeof g=="number"?g:void 0;e({date:f.at,scope:m,yearGZ:ot(f.at,b),monthGZ:St(f.at,b),dayGZ:gt(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),pte=60*1e3,gte=60*pte,yte=24*gte,vte=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},uE=e=>{const t=new Date(e);return t.setSeconds(0,0),t},bte={DAY:yte},ca=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:Un(t,c.deg)})).concat([{name:r.name,date:Un(t+1,r.deg)},{name:"",date:Un(t+1,285)}]),a=Un(t,315),o=Un(t+1,315);return i.filter(c=>c.date>=a&&c.date<o).sort((c,u)=>c.date.getTime()-u.date.getTime())},P5=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),xte=e=>{const t=P5.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},Iy=(e,t,n=1)=>{const r=xte(e),i=t==="forward"?n:-n;return P5[(r+i+60*1e3)%60]},_te=(e,t,n)=>{const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const o=new Date(a);o.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),u=o.getTime()-e.getTime();return t==="backward"?c:u},D5=(e,t,n,r=120,i="/")=>{const a=uE(e),o=_te(a,n,i),c=uE(new Date(a.getTime()+o*120)),u=vte(e,r).getTime(),f=[];let m=Iy(t,n,1);for(let p=c.getTime();p<=u;p+=10*bte.DAY)f.push({at:new Date(p),gz:m}),m=Iy(m,n,1);return{firstChange:c,events:f}},R5=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},L5=(e,t,n,r)=>{const i=R5(r,n);let a=t;const o=[];for(const c of e.events){const u=c.gz.charAt(1);i(u)&&(a=Iy(a,n,1),o.push({at:c.at,gz:a}))}return{events:o}},wte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ste={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Ete=e=>wte[e]??("".includes(e)?e:null),kte=e=>Ste[e]??("".includes(e)?e:null),vM=e=>{const t=Ete(e[0]),n=kte(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`},Tte=e=>Math.floor((e.getHours()+1)%24/2),Pw=e=>["","","","","","","","","","","",""][Tte(e)],Ate=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=$r.indexOf(r),o=si.indexOf(i),c=t==="forward"?n:-n,u=(a+c%10+10)%10,f=(o+c%12+12)%12;return $r[u]+si[f]},qm=(e,t,n,r=120,i)=>{const a=ca(e).sort((w,E)=>w.date.getTime()-E.date.getTime());let o;if(n==="forward"){const w=a.findIndex(E=>E.date>=e);w>=0&&(o=a[w].date)}else{const w=a.filter(E=>E.date<=e);w.length&&(o=w[w.length-1].date)}const c=(w,E)=>{const A=Pw(w),C={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},j=C[A],P=(j+2)%24,M=new Date(w);if(M.setSeconds(0,0),n==="backward"&&E){const $=Pw(E),U=C[$],Y=new Date(E);return Y.setHours(U,0,0,0),Y}if(n==="forward"&&E){const $=Pw(E),U=C[$],Y=new Date(E);if(Y.setHours(U,0,0,0),Y>M)return Y}const D=new Date(M);return n==="forward"?(D.setHours(P,0,0,0),D<=M&&D.setDate(D.getDate()+1)):(D.setHours(j,0,0,0),D>=M&&D.setDate(D.getDate()-1)),D},u=vM(St(e,127.5)),f=c(e,o),m=Math.floor(n==="forward"?(f.getTime()-e.getTime())/6e4:(e.getTime()-f.getTime())/6e4),p=Math.round(m/120*(14400*60*1e3));let g=new Date(e.getTime()+p);try{const w=vM(St(e,i));(n==="forward"&&u!==w||n==="backward"&&u!==w)&&(g=new Date(e.getTime()+6e4))}catch{}const b=r/10,_=[];for(let w=0;w<b;w+=1){const E=new Date(g);E.setFullYear(E.getFullYear()+w*10),E.setSeconds(0,0);const A=Ate(t,n,w+1);_.push({at:E,gz:A})}return{natalMonthPillar:t,firstChange:g,mPillars:[],events:_}},Ote=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},I5=(e,t,n,r,i)=>{const a=R5(r,n);let o=t;const c=[];for(const u of e.events){const f=u.gz.charAt(1);a(f)&&(o=Iy(o,n,1),c.push({at:u.at,gz:o,age:Ote(i,u.at)}))}return{events:c}},jte=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},lb=e=>{const t=jte(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Um(t,e.birthPlace?.lon??null,n);return uE(r)},_T=(e,t)=>{const n=e.birthPlace?.lon??127.5,r=lb(e),i=gt(r,t),a=$a(r,t,i.charAt(0));return{year:ot(r,n),month:St(r,n),day:i,hour:a}},Cte=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${$r[t%10]}${si[t%12]}`);return e})(),Nte=e=>Cte.indexOf(e),Dw=e=>{if(Nte(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Mte(e,t="/"){const n=S.useMemo(()=>Fm(e),[e]),r=S.useMemo(()=>lb(n),[n]),i=S.useMemo(()=>_T(n,t),[n,t]);return S.useMemo(()=>{const a=qm(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),o=new Date;function c(j,P){let M=null;const D=P.getTime();for(const $ of j)if($.at.getTime()<=D)M=$;else break;return M}const u=c(a.events,o)?.gz??i.month,f=Dw(u),m=o.getFullYear(),p=Un(m,315),b=p&&o>=p?m:m-1,_=ot(new Date(b,1,10,0,0,0),127.5),w=Dw(_),E=St(o,127.5),A=Dw(E),C=[];return A&&C.push({key:"wolun",label:"",data:A}),w&&C.push({key:"seun",label:"",data:w}),f&&C.push({key:"daeun",label:"",data:f}),C},[r,n.dir,i.month,n.birthPlace?.lon])}function Ym(e,t="/",n=100){const r=S.useMemo(()=>Fm(e),[e]),i=S.useMemo(()=>lb(r),[r]),a=S.useMemo(()=>_T(r,t),[r,t]),o=(c,u)=>{const f=u.getFullYear()-c.getFullYear(),m=u.getMonth()-c.getMonth(),p=u.getDate()-c.getDate(),g=m<0||m===0&&p<0?f-1:f;return Math.max(0,g)};return S.useMemo(()=>qm(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(u=>({...u,age:o(i,u.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function Rw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Pte(e,t){if(!Array.isArray(e)||e.length===0||!Rw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],c=n[a+1];if(!Rw(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!c||Rw(c.at)&&t.getTime()<c.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function wT(e,t,n){const{date:r,rule:i,lon:a}=ci(),o=S.useMemo(()=>n??r??new Date,[n,r]),c=Ym(e,e?.mingSikType),{gz:u}=Pte(c,o);return S.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:u,at:o},se:{gz:ot(o,f),at:o},wol:{gz:St(o,f),at:o},il:{gz:gt(o,m),at:o}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[o,i,a,e,t,u])}const ln=["","","",""],ri={year:0,month:1,day:2,hour:3},bM=["","","",""],Ed="",Km=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],$5=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],xM=[{name:"",members:["","",""]},{name:"",members:["","",""]}],Dte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Re(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=Dte[r[1]]??r[1],a=dE[r[2]]??r[2];return`${i}${a}`}return""}const $y=e=>e&&e.length>=1?e[0]:"",Oi=e=>e&&e.length>=2?e[1]:"",ST=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],ET=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],kT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],TT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],AT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],OT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],jT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],CT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],NT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],MT=[{pair:["",""],label:""}],PT=new Set(["","","",""]),By=new Set(["","","",""]),DT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],B5=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function ti(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function qt(e,t){e.includes(t)||e.push(t)}const Rte=e=>[...e].sort((t,n)=>t-n).map(t=>ln[t]).join("X"),_M=(e,t)=>e===0&&t===3||e===3&&t===0;function Lte(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Ite(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const z5=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function $te(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Bte=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function zte(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function U5(e){for(const t of Bte){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!$te(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=zte(e.jijiHyeong),e}function Ute(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function Hte(e,t){for(const n of Km)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function wM(e,t,n){const r=Ute(e,n);if(r<0){qt(e,t);return}const a=(e[r]??"").includes(Ed),o=t.includes(Ed);a&&!o&&(e[r]=t)}function RT(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(g=>$y(g)),c=i.map(g=>Oi(g));function u(g,b){if(g===b)return;const _=o[g],w=o[b];if(!_||!w)return;const E=ti(ST,_,w);E&&qt(a.cheonganHap,`#${ln[g]}X${ln[b]}_${E}`);const A=ti(ET,_,w);A&&qt(a.cheonganChung,`#${ln[g]}X${ln[b]}_${A}`)}u(ri.year,ri.month),u(ri.month,ri.day),u(ri.day,ri.hour);function f(g,b,_,w,E=!0){const A=[],C=[];for(let P=0;P<4;P++)c[P]===g&&A.push(P),c[P]===b&&C.push(P);const j=Lte(A,C);for(const[P,M]of j){const D=_M(P,M),$=`#${ln[P]}X${ln[M]}_${_}${D?Ed:""}`;if(D){qt(w,$);continue}E?wM(w,$,_):qt(w,$)}}const m=(g,b)=>{for(const{pair:[_,w],label:E}of g)f(_,w,E,b)};m(kT,a.jijiYukhap),m(TT,a.jijiChung),m(AT,a.jijiPa),m(OT,a.jijiHae),m(jT,a.jijiWonjin),m(CT,a.jijiGwimun);for(const g of Km){if(!g.members.every(A=>c.includes(A)))continue;const _=[];for(let A=0;A<4;A++)g.members.includes(c[A])&&_.push(A);const w=_.includes(ri.year)&&_.includes(ri.hour),E=Rte(_);qt(a.jijiSamhap,`#${E}_${g.name}${w?Ed:""}`)}for(const{pair:[g,b],label:_}of B5)Hte(g,b)&&f(g,b,_,a.jijiBanhap,!1);for(const{pair:[g,b],label:_}of NT)f(g,b,_,a.jijiHyeong);for(const{pair:[g,b],label:_}of MT)f(g,b,_,a.jijiHyeong);for(const g of PT){const b=c.map((_,w)=>_===g?w:-1).filter(_=>_>=0);if(!(b.length<2))for(const[_,w]of Ite(b)){const E=_M(_,w),A=`#${ln[_]}X${ln[w]}_${g}${E?Ed:""}`;wM(a.jijiHyeong,A,`${g}`)}}for(const{pair:[g,b],label:_}of DT)f(g,b,_,a.amhap);if(n)for(let g=0;g<4;g++){const b=i[g]??"";if(b.length<2)continue;const _=`${b[0]}${b[1]}`;By.has(_)&&qt(a.ganjiAmhap,`#${z5(ln[g])}_${_}`)}const p=U5(a);if(r)for(const g of Object.keys(p)){if(g==="title")continue;const b=p[g];Array.isArray(b)&&b.length===0&&(p[g]=["#"])}return p}function Fte(e,t){return e===ri.year&&t===ri.hour||e===ri.hour&&t===ri.year}function Gte(e,t){for(const n of Km)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function qte(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),c=Math.max(i,a),u=`${o}-${c}`;r.has(u)||(r.add(u),n.push([o,c]))}return n}function bl(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Re(e.natal[0]??""),Re(e.natal[1]??""),Re(e.natal[2]??""),Re(e.natal[3]??"")],a=[Re(e.daewoon??""),Re(e.sewoon??""),Re(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},c=r.map(p=>{const g=Oi(p??"");return dE[g]??g});for(const{pair:[p,g],label:b}of B5){if(!Gte(p,g))continue;const _=[],w=[];for(let A=0;A<4;A++)c[A]===p&&_.push(A),c[A]===g&&w.push(A);const E=qte(_,w);for(const[A,C]of E){const j=Fte(A,C),P=`#${ln[A]}X${ln[C]}_${b}${j?Ed:""}`;qt(o.jijiBanhap,P)}}if(n&&a)for(let p=0;p<4;p++){const g=r[p]??"";if(g.length<2)continue;const b=`${g[0]}${g[1]}`;By.has(b)&&qt(o.ganjiAmhap,`#${z5(ln[p])}_${b}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let f=!1,m=!1;for(const[p,g]of u){if(!g)continue;const b=Re(g);if(!b||b.length<2)continue;const _=$y(b),w=Oi(b);{const A=`${_}${w}`;By.has(A)&&qt(o.ganjiAmhap,`#${p}_${A}`)}for(let A=0;A<4;A++){const C=r[A]??"";if(C.length<2)continue;const j=ln[A],P=$y(C),M=Oi(C),D=ti(ST,_,P);D&&qt(o.cheonganHap,`#${p}X${j}_${D}`);const $=ti(ET,_,P);$&&qt(o.cheonganChung,`#${p}X${j}_${$}`);const U=ti(kT,w,M);U&&qt(o.jijiYukhap,`#${p}X${j}_${U}`);const Y=ti(TT,w,M);Y&&qt(o.jijiChung,`#${p}X${j}_${Y}`);const W=ti(AT,w,M);W&&qt(o.jijiPa,`#${p}X${j}_${W}`);const H=ti(OT,w,M);H&&qt(o.jijiHae,`#${p}X${j}_${H}`);const G=ti(jT,w,M);G&&qt(o.jijiWonjin,`#${p}X${j}_${G}`);const Z=ti(CT,w,M);Z&&qt(o.jijiGwimun,`#${p}X${j}_${Z}`);const X=ti(NT,w,M);if(X)qt(o.jijiHyeong,`#${p}X${j}_${X}`);else{const q=ti(MT,w,M);q?qt(o.jijiHyeong,`#${p}X${j}_${q}`):w===M&&PT.has(w)&&qt(o.jijiHyeong,`#${p}X${j}_${w}${M}`)}const Q=ti(DT,w,M);Q&&qt(o.amhap,`#${p}X${j}_${Q}`)}for(const A of Km){if(!A.members.includes(w))continue;const C=A.members.filter(P=>P!==w),j=c.map((P,M)=>({b:P,pos:ln[M]})).filter(P=>P.b&&C.includes(P.b));if(new Set(j.map(P=>P.b)).size===2){const[P,M]=j.map(D=>D.pos).sort((D,$)=>ln.indexOf(D)-ln.indexOf($));qt(o.jijiSamhap,`#${p}X${P}X${M}_(${A.name})`)}}for(const A of xM){if(!A.members.includes(w))continue;const C=A.members.filter(P=>P!==w),j=c.map((P,M)=>({b:P,pos:ln[M]})).filter(P=>P.b&&C.includes(P.b));if(new Set(j.map(P=>P.b)).size===2){const[P,M]=j.map(D=>D.pos).sort((D,$)=>ln.indexOf(D)-ln.indexOf($));qt(o.jijiHyeong,`#${p}X${P}X${M}_${A.name}`),A.name===""&&(f=!0),A.name===""&&(m=!0)}}const E=[...r.map((A,C)=>({b:dE[Oi(A)]??Oi(A),pos:ln[C]}))];for(const A of $5){const C=E.filter(j=>A.members.includes(j.b));if(new Set(C.map(j=>j.b)).size===3){const j=C.map(P=>P.pos).join("X");qt(o.jijiBanghap,`#${j}_(${A.name})`)}}}{const p=[],g=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[b,_]of g){const w=Re(_??"");w.length>=2&&p.push({kind:b,b:Oi(w)})}if(p.length>=2){const b=r.map((_,w)=>({pos:ln[w],b:Oi(_)}));for(const _ of xM)for(let w=0;w<p.length;w++)for(let E=w+1;E<p.length;E++){const A=p[w],C=p[E];for(const j of b){const P=new Set([j.b,A.b,C.b]);if(P.size===3&&_.members.every(M=>P.has(M))){const M=[A.kind,C.kind].sort(($,U)=>bM.indexOf($)-bM.indexOf(U)).join("X"),D=`${j.pos}X${M}`;qt(o.jijiHyeong,`#${D}_${_.name}`),_.name===""&&(f=!0),_.name===""&&(m=!0)}}}}}return(f||m)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(f&&/(||)/.test(p)||m&&/(||)/.test(p)))),U5(Yte(o))}function Yte(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Kte={:"",:"",:"",:"",:""},SM={:"",:"",:"",:"",:""},Wte={:"",:"",:"",:"",:""},Vte={:"",:"",:"",:"",:""},Zte={:.15,:.1,:-.15,:-.2,:-.25};function Xte(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function Jte(e){const t=e.includes(ri.month),n=Xte(ri.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function Qte(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function ene(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],o=a.map(m=>Oi(m)).filter(Boolean),c=[],u={...t},f=(m,p)=>{const g=[];for(let A=0;A<a.length;A++){const C=Oi(a[A]??"");p.members.includes(C)&&g.push(A)}if(!p.members.every(A=>o.includes(A)))return;const _=Jte(g),w=p.out,E=SM[w];Qte(u,E,w,_),c.push({type:m,name:p.name,out:p.out,strength:_})};if(i)for(const m of Km)f("",m);if(r)for(const m of $5)f("",m);return{applied:c,score:u,strengthAdj:Zte,shengNext:Kte,shengPrev:SM,ke:Wte,keInv:Vte}}function zy(e){return ln[e]}function EM(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Re(e[r]??""),a=$y(i),o=Oi(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function kh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${zy(i)}X${zy(a)}_${e}`);return r}function tne(e,t){const n=EM(e),r=EM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(c,u)=>{c.includes(u)||c.push(u)};for(const{pair:[c,u],label:f}of ST){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of kh(f,m,p))a(i.,g)}for(const{pair:[c,u],label:f}of ET){const m=[...n.stemPos.get(c)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(c)??[],...r.stemPos.get(u)??[]];if(m.length&&p.length)for(const g of kh(f,m,p))a(i.,g)}const o=(c,u)=>{const f=Array.from(n.branchPos.keys()),m=Array.from(r.branchPos.keys());for(const p of f)for(const g of m){const b=ti(u,p,g);if(!b)continue;const _=n.branchPos.get(p)??[],w=r.branchPos.get(g)??[];for(const E of kh(b,_,w))a(i[c],E)}};o("",kT),o("",TT),o("",AT),o("",OT),o("",jT),o("",CT),o("",NT),o("",MT);for(const c of PT){const u=n.branchPos.get(c)??[],f=r.branchPos.get(c)??[];if(!(!u.length||!f.length))for(const m of kh(`${c}`,u,f))a(i.,m)}for(const{label:c,pair:[u,f]}of DT){const m=[...n.branchPos.get(u)??[],...n.branchPos.get(f)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(f)??[]];if(!(!m.length||!p.length))for(const g of kh(c,m,p))a(i.,g)}{const c=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const f of c)for(const m of u){const p=n.stemPos.get(f)??[],g=r.stemPos.get(m)??[];for(const b of p){const _=Oi(Re(e[b]??"")),w=`${f}${_}`;if(By.has(w))for(const E of g){const A=Oi(Re(t[E]??""));`${m}${A}`===w&&a(i.,`#${zy(b)}X${zy(E)}_${w}`)}}}}return i}const H5=new Set(Object.keys(Rn)),F5=new Set(Object.keys(Gn)),nne=e=>e.slice(0,1),rne=e=>e.slice(-1);function rs(e){return jd.has(e)?e:H5.has(e)?Rn[e]??e:e}function br(e){return em.has(e)?e:F5.has(e)?Gn[e]??e:e}function fo(e){return rs(nne(e))}function zt(e){return br(rne(e))}function ine(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(jd.has(i)||H5.has(i))&&(n=rs(i)),(em.has(i)||F5.has(i))&&(r=br(i));return n&&r?{stem:n,branch:r}:null}function ane(e){return e.map(zt)}function o0(e,t,n="classic"){const r=fo(t),i=zt(t),a=(n==="hgc"?Vv:Wv)[i]??[];return[r,...a].includes(e)}const fE=[["",""],["",""],["",""],["",""],["",""],["",""]],hE=[["",""],["",""],["",""],["",""],["",""],["",""]],one=new Set(["","","",""]),G5=[["",""],["",""]],sne=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Vh(e,t,n){const r=br(t),i=br(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function kM(e,t,n){const r=br(t),i=br(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function Uy(e){for(const t of sne)if(t.set.has(e))return t.voids;return null}function mE(e){const t=br(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const zn={2:4,1:3,3:2,0:1},pd={1:4,2:3,0:2,3:1},we={year:0,month:1,day:2,hour:3};function lne(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const Vc=e=>e===0?"":e===1?"":e===2?"":"",tf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",cne=(e,t)=>`#X${Vc(t)}_${e}`,kd=(e,t,n)=>t===we.month&&n===we.day?`#X_${e}`:t===we.year&&n===we.month?`#X_${e}`:t===we.year&&n===we.day?`#X_${e}`:t===we.month&&n===we.hour?`#X_${e}`:t===we.day&&n===we.hour?`#X_${e}`:`#${Vc(t)}X${Vc(n)}_${e}`,s0=(e,t)=>`#${Vc(t)}_${e}`,q5=(e,t)=>`#X${Vc(t)}_${e}`,une=(e,t)=>`#(${e==="day"?"":""})X${Vc(t)}_`,ed=e=>`#_${e}`,td=(e,t)=>`#X${tf(t)}_${e}`,Th=(e,t)=>`#X${tf(t)}_${e}`,Lw=(e,t,n)=>`#${Vc(n)}X${tf(t)}_${e}`,dne=(e,t)=>`#(${t==="day"?"":""})_${tf(e)}_`,fne=(e,t)=>`#(${t==="day"?"":""})X${tf(e)}_`,TM=(e,t)=>`#X${tf(e)}_${t}`;function pE(e,t){const n=br(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(zt(t[i])===n)return{pos:i,weight:zn[i]??0};return null}function LT(e,t,n){return zt(t[n])===br(e)?{pos:n,weight:zn[n]}:null}function hne(e,t){const n=rs(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(fo(t[i])===n)return{pos:i,weight:zn[i]??0};return null}const mne=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>br(t.trim())).filter(Boolean),an=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[rs(t),mne(n)])),pne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Y5=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),gne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),K5=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ene=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),W5=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ane=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),AM=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),One=an({:"",:"",:"",:""}),jne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),OM=an({:"",:"",:""}),jM=an({:"",:"",:""}),Cne=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),V5=an({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Z5=an({:"",:"",:"",:"",:"",:"",:""}),Nne=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>br(t.trim())).filter(Boolean),pa=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[br(t),(Array.isArray(n)?n:[n]).map(r=>br(r))])),cb=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[br(t),Nne(n)])),X5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},J5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Q5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},e4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Mne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),CM=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Pne=cb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Dne=cb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rne=cb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lne=cb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ine=pa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),$ne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Une=pa({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),t4=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qne=pa({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[br(t),(Array.isArray(n)?n:[n]).map(r=>br(r))])),Yne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),n4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),r4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ere=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),i4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ire=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),a4=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=i4,lre=n4,cre=a4,ure=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dre=r4,fre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),mre=fn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Wm(e,t){e.push(t)}function Iw(e,t,n,r,i=0){const a=pd[n]>=pd[r]?n:r;e.push({name:kd(t,n,r),weight:zn[a]+i,pos:a})}function pre(e,t,n,r,i){const a=zt(e[we.year]),o=t[a];if(!o)return;const c=n==="MONTH"?[we.month]:n==="DAY"?[we.day]:n==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const f of c){const m=LT(u,e,f);m&&Wm(i,{name:kd(r,we.year,f),weight:m.weight,pos:f})}}function gre(e,t,n,r){const i=zt(e[we.month]),a=t[i];if(!a)return;const o=rs(a),c=hne(o,e);c&&Wm(r,{name:q5(n,c.pos),weight:c.weight,pos:c.pos})}function NM(e,t,n,r,i="ALL"){const a=zt(e[we.month]),o=t[a];if(!o)return;const c=i==="YEAR"?[we.year]:i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:i==="DAY_HOUR"?[we.day,we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const f of c){const m=LT(u,e,f);if(!m)continue;const p=f===we.month?`#_${n}`:q5(n,f);Wm(r,{name:p,weight:m.weight,pos:f})}}function MM(e,t,n,r){const i=zt(e[we.month]),a=t[i];if(!a)return;const o=e[we.day];a.includes(o)&&Wm(r,{name:kd(n,we.month,we.day),weight:zn[we.day],pos:we.day})}function PM(e,t,n,r,i){const a=fo(e[we.day]),o=t[a];if(!o)return;const c=i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const f of c){const m=LT(u,e,f);m&&Wm(r,{name:cne(n,f),weight:m.weight,pos:f})}}function yre({natal:e,daewoon:t,basis:n}){const r=fo(e[we.day]),i=zt(e[we.day]),a=zt(e[we.month]),o=zt(e[we.year]),c=ane(e),u=[],f=[],m=[[Yne,"MONTH",""],[n4,"DAY",""],[Wne,"MONTH",""],[Vne,"MONTH",""],[Zne,"ALL",""],[Xne,"HOUR",""],[Jne,"ALL",""],[Qne,"ALL",""],[ere,"ALL",""],[i4,"ALL",""],[tre,"ALL",""],[nre,"ALL",""],[rre,"ALL",""],[ire,"ALL",""],[are,"ALL",""],[ore,"ALL",""],[a4,"ALL",""],[sre,"ALL",""],[lre,"ALL",""],[cre,"ALL",""],[ure,"ALL",""],[dre,"ALL",""],[fre,"ALL",""],[hre,"ALL",""],[mre,"ALL",""]];for(const[P,M,D]of m)pre(e,P,M,D,f);const p=[[X5,""],[J5,""],[Q5,""],[e4,""]];for(const[P,M]of p)gre(e,P,M,u);const g=[[Mne,"","ALL"],[CM,"","YEAR"],[CM,"","DAY"],[Ine,"","ALL"],[$ne,"","ALL"],[Bne,"","ALL"],[zne,"","ALL"],[Une,"","ALL"]];for(const[P,M,D]of g)NM(e,P,M,f,D);const b=[[t4,"","ALL"],[Hne,"","DAY_HOUR"],[Fne,"","DAY_HOUR"],[Gne,"","ALL"],[qne,"","ALL"]];for(const[P,M,D]of b)NM(e,P,M,u,D);const _=[[Pne,""],[Lne,""]];for(const[P,M]of _)MM(e,P,M,u);const w=[[Dne,""],[Rne,""]];for(const[P,M]of w)MM(e,P,M,f);const E=[[pne,"","ALL"],[Y5,"","ALL"],[gne,"","ALL"],[yne,"","ALL"],[vne,"","ALL"],[bne,"","ALL"],[xne,"","ALL"],[K5,"","ALL"],[_ne,"","ALL"],[wne,"","ALL"],[Sne,"","ALL"],[Ene,"","ALL"],[kne,"","ALL"],[Cne,"","ALL"]];for(const[P,M,D]of E)PM(e,P,M,u,D);const A=[[W5,"","ALL"],[Tne,"","ALL"],[Ane,"","ALL"],[AM,"","DAY"],[AM,"","HOUR"],[OM,"","DAY"],[OM,"","HOUR"],[jM,"","DAY"],[jM,"","HOUR"],[One,"","DAY"],[jne,"","ALL"],[V5,"","ALL"]];for(const[P,M,D]of A)PM(e,P,M,f,D);if(new Set(["","","",""]).has(e[we.day])){f.push({name:ed(""),weight:zn[we.day],pos:we.day});for(const M of[we.year,we.month,we.hour])e[M]===e[we.day]&&f.push({name:s0("",M),weight:zn[M],pos:M})}{const P=Z5[r];if(P)for(const M of[we.year,we.month,we.day,we.hour]){const D=fo(e[M]),$=zt(e[M]);D===r&&P.includes($)&&f.push({name:s0("",M),weight:zn[M],pos:M})}}for(const[P,M]of G5){const D=pE(P,e),$=pE(M,e);D&&$&&Iw(f,"",D.pos,$.pos)}{const P=new Set(["",""]),M=new Set(["","","",""]);for(let D=0;D<=3;D++){const $=fo(e[D]),U=zt(e[D]);(P.has($)||M.has(U))&&f.push({name:s0("",D),weight:zn[D],pos:D})}}{const P=e[we.hour],M=($,U)=>$.includes(r)&&U.includes(P);(M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""])||M(["",""],["",""]))&&f.push({name:ed(""),weight:zn[we.hour],pos:we.hour})}["","","",""].every(P=>c.includes(P))&&u.push({name:ed(""),weight:zn[we.day],pos:we.day});{const P=e[we.day],M=e[we.hour];(P===""&&M===""||P===""&&M==="")&&f.push({name:kd("",we.day,we.hour),weight:zn[we.hour],pos:we.hour})}{const P=zt(e[we.year]),M=new Set(c.slice(1)),D=(U,Y)=>U.every(W=>M.has(W))&&P===Y;(D(["","",""],"")||D(["","",""],"")||D(["","",""],"")||D(["","",""],""))&&u.push({name:ed(""),weight:zn[we.day],pos:we.day})}(e[we.day]===""||e[we.day]==="")&&u.push({name:ed(""),weight:zn[we.day],pos:we.day});{const M={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];M&&e.some($=>zt($)===M.rok)&&fo(e[we.hour])===M.maStem&&u.push({name:kd("",we.day,we.hour),weight:zn[we.hour],pos:we.hour})}{const P=zt(e[we.hour]),D={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(D){const $=i===D.rok,U=P===D.ma,Y=o0(D.rokStem,e[we.day],"classic")||o0(D.rokStem,e[we.hour],"classic"),W=o0(D.maStem,e[we.day],"classic")||o0(D.maStem,e[we.hour],"classic");$&&U&&(Y||W)&&u.push({name:kd("",we.day,we.hour),weight:zn[we.hour],pos:we.hour})}}{const P=new Set(["","","","","",""]),M=e.map(fo),D=e.map(zt),$=M.concat(D).filter(H=>P.has(H)).length,U=t?fo(t):"",Y=t?zt(t):"",W=P.has(U)||P.has(Y);($>=4||$===3&&W)&&f.push({name:ed(""),weight:zn[we.day],pos:we.day})}{const P=new Set(["",""]),M=new Set(["",""]);for(let D=0;D<=3;D++){const $=fo(e[D]),U=zt(e[D]);(P.has($)||M.has(U))&&f.push({name:s0("",D),weight:zn[D],pos:D})}}{const P=[[we.year,we.month],[we.year,we.day],[we.month,we.day],[we.month,we.hour],[we.day,we.hour]];for(const[M,D]of P){const $=zt(e[M]),U=zt(e[D]);if(Vh(fE,$,U)){const Y=kM(fE,$,U);Iw(f,`${Y}`,M,D)}}}{const P=[[we.year,we.month,0],[we.month,we.day,1],[we.month,we.hour,0],[we.day,we.hour,0]];for(const[M,D,$]of P){const U=zt(e[M]),Y=zt(e[D]);if(Vh(hE,U,Y)){const W=kM(hE,U,Y),H=($?1:0)+(one.has(U+Y)?1:0);Iw(f,`${W}`,M,D,H)}}}const C=Uy(e[we.day]),j=Uy(e[we.year]);{const P=(n?.voidBasis??"day")==="day"?C:j;if(P){const[M,D]=P.map(br);for(const $ of[we.year,we.month,we.day,we.hour]){const U=zt(e[$]);(U===M||U===D)&&f.push({name:une(n?.voidBasis??"day",$),weight:zn[$],pos:$})}}}return{goodPos:u,badPos:f,dayVoid:C,yearVoid:j,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c}}function l0({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:c,dayVoid:u,yearVoid:f,basis:m}){const p=[],g=[],b=(C,j)=>{C.includes(j)||C.push(j)},_=ine(t??null);if(!_)return{good:p,bad:g};const w=_.branch,E=_.stem;rs(X5[a]??"")===E&&b(p,Th("",e)),rs(J5[a]??"")===E&&b(p,Th("",e)),rs(Q5[a]??"")===E&&b(p,Th("",e)),rs(e4[a]??"")===E&&b(p,Th("",e)),t4[a]?.includes(w)&&b(p,Th("",e)),Y5[r]?.includes(w)&&b(p,td("",e)),K5[r]?.includes(w)&&b(p,td("",e)),W5[r]?.includes(w)&&b(g,td("",e)),V5[r]?.includes(w)&&b(g,td("",e)),Z5[r]?.includes(w)&&b(g,td("",e)),e==="se"&&(Kne[o]?.includes(w)&&b(g,TM(e,"")),r4[o]?.includes(w)&&b(g,TM(e,"")));for(const C of c)if(Vh(G5,w,C)){const j=pE(C,n)?.pos;j!==void 0&&b(g,Lw("",e,j));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&b(g,td("",e));const A=(m?.voidBasis??"day")==="day"?u:f;A&&(w===A[0]||w===A[1])&&b(g,dne(e,m?.voidBasis??"day"));for(let C=0;C<=3;C++){const j=zt(n[C]);Vh(fE,w,j)&&b(g,Lw("",e,C)),Vh(hE,w,j)&&b(g,Lw("",e,C))}if(e==="se"){const C=(m?.samjaeBasis??"day")==="day"?i:o,j=C?mE(C):null;j&&j.includes(w)&&b(g,fne(e,m?.samjaeBasis??"day"))}return{good:p,bad:g}}const vre=/^#(|||)X\1_/,bre=e=>vre.test(e);function DM(e){const t=new Map;for(const n of e){if(bre(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function xre(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const _re=new Set(["",""]);function wre(e){return _re.has(e)?!0:e.endsWith("")||e.endsWith("")}function RM(e){const t=new Map;for(const r of e){const i=xre(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(wre(r))n.push(...i);else{const a=i.sort((o,c)=>pd[o.pos]!==pd[c.pos]?pd[c.pos]-pd[o.pos]:c.weight-o.weight)[0];n.push(a)}return n}function LM(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=lne;for(const i of e)n[r(i.pos)].push(i.name);return n}function Rd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:c,dayVoid:u,yearVoid:f,dStem:m,dBranch:p,mBranch:g,yBranch:b,branches:_}=yre({natal:e,daewoon:t,basis:a}),w=RM(DM(o)),E=RM(DM(c)),A=LM(w),C=LM(E),j=l0({src:"dae",luck:t??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:b,branches:_,dayVoid:u,yearVoid:f,basis:a}),P=l0({src:"se",luck:n??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:b,branches:_,dayVoid:u,yearVoid:f,basis:a}),M=l0({src:"wol",luck:r??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:b,branches:_,dayVoid:u,yearVoid:f,basis:a}),D=l0({src:"il",luck:i??null,natal:e,dStem:m,dBranch:p,mBranch:g,yBranch:b,branches:_,dayVoid:u,yearVoid:f,basis:a});return{good:{...A,dae:j.good,se:P.good,wolun:M.good,ilun:D.good},bad:{...C,dae:j.bad,se:P.bad,wolun:M.bad,ilun:D.bad},meta:{voidPair:{day:Uy(e[we.day])??void 0,year:Uy(e[we.year])??void 0},samjaeYears:{day:mE(zt(e[we.day]))??void 0,year:mE(zt(e[we.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Sre(e){return typeof e=="object"&&e!==null}function nf(e){const t=M5;return Sre(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const IM=["","","","","","","","","",""],Ere=["","","","","","","","","","","",""],kre=["","","","","","","","","","","",""];function Tre(e){const t=Zv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Are(e,t){const n=Tre(e);return(t?kre:Ere).map((i,a)=>`${IM[(n+a)%10]??IM[0]}${i}`)}function Zh(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function $M(e){return e<10?`0${e}`:`${e}`}function o4(e){return`${$M(e.getHours())}:${$M(e.getMinutes())}`}function IT(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function BM(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||IT(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Ore(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":o4(i)}const zM=["","/",""],jre="/";function s4(e,t){return e&&zM.includes(e)?e:t&&zM.includes(t)?t:jre}function UM(e){return e===""}function Cre(e){return e===""?"":""}function Nre(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Mre=e=>e instanceof Date&&!Number.isNaN(e.getTime());function HM(e,t){const n=IT(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Bi(r,i,a);r=j.getFullYear(),i=j.getMonth()+1,a=j.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),c=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,c,0,0),f=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,m=f?127.5:e.birthPlace.lon,p=Mre(e.corrected);let g;p?g=e.corrected:f?g=u:g=Um(u,m,n);const b=t?new Date(g.getTime()-3600*1e3):g,_=s4(e.mingSikType),w=ot(b,m),E=St(b,m),A=gt(b,_),C=n?null:$a(b,_);return{corrected:b,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:E.charAt(0),branch:E.charAt(1)},day:{stem:A.charAt(0),branch:A.charAt(1)},hour:C?{stem:C.charAt(0),branch:C.charAt(1)}:null}}const Pre=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Dre=(()=>{const e={};for(const t of Pre){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Rre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Lre(e,t){const n=`${Zv(e)}${Uk(t)}`;return Dre[n]??null}function Ire(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function $re(e){switch(Rre[Uk(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Bre({stem:e,branch:t}){const n=Lre(e,t);if(!n)return null;const r=Ire(n.elem);return x.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function FM({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=qn(),o=Ii(e,t,a),c=li(e,t,n),u=Ba(e,t),f=r&&u?"font-thin":"font-bold",m=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return x.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${m}`,children:x.jsx("span",{className:`text-[24px] md:text-2xl ${f} `,children:c})})}function l4({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:b="regular",highlightedStem:_=!1,highlightedBranch:w=!1}){const E=b==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",A=b==="compact"?"py-2":"p-2";return x.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:`${E} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),x.jsx("div",{className:`${A} flex flex-col items-center gap-1`,children:t?x.jsxs(x.Fragment,{children:[a&&x.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:da(n,{stem:t.stem})}),x.jsx(FM,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:_}),x.jsx(FM,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),x.jsx(J$,{branch:t.branch,dayStem:n,mode:f,mapping:m}),(o||c||u)&&x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&x.jsx("div",{children:p(t.branch)}),c&&x.jsx("div",{children:g(t.branch)}),u&&x.jsx(Bre,{stem:t.stem,branch:t.branch})]})]}):x.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const zre=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Ure({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,daeGz:b,seGz:_,wolGz:w,highlightMap:E={}}){const A=t?"regular":"compact",C=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",j="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",P=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",M=t?`grid gap-2 p-3 ${C}`:`grid gap-1 p-0 ${C}`;return x.jsxs("div",{className:j,children:[x.jsx("div",{className:P,children:x.jsx("b",{children:""})}),x.jsx("div",{className:"pb-2",children:x.jsx("div",{className:M,children:e.map(D=>{const $=zre(D,b,_,w),U=E[D.key]??{stem:!1,branch:!1};return x.jsx(l4,{title:D.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:A,highlightedStem:U.stem,highlightedBranch:U.branch},D.key)})})})]})}function Hre({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,highlightMap:b={}}){const _=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",E=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return x.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[x.jsx("div",{className:w,children:x.jsx("b",{children:""})}),x.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:x.jsx("div",{className:E,children:e.map(A=>{const C=b[A.key]??{stem:!1,branch:!1};return x.jsx(l4,{title:A.label,data:A.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:c,showNabeum:u,hiddenMode:f,hiddenStemMode:m,calcUnseong:p,calcShinsal:g,size:_,highlightedStem:C.stem,highlightedBranch:C.branch},A.key)})})})]})}function Fre({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return x.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),x.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),x.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),c=a.charAt(1),u=r?.stem===o&&r?.branch===c;return x.jsx("button",{onClick:()=>i(o,c),className:`p-2 text-xs rounded border cursor-pointer ${u?$re(c):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Gre(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Ah={:{title:"()",kind:"",oneLine:"   .",bullets:["  ,  / ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:" : //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:" /   ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" /.   ."},:{title:"()",kind:"",oneLine:"  .   ."},:{title:"()",kind:"",oneLine:" /    ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /."},:{title:"",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" : ."}};function qre(e){const t=Gre(e),n=Ah[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Ah[r])return Ah[r]}else{const r=`${t}`;if(Ah[r])return Ah[r]}return{title:t||"",kind:"",oneLine:" "}}function Yre(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function so({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const c=gE(n,Hy),u=gE(r,Hy),f=i||c.length>0,m=i||u.length>0;return!i&&c.length===0&&u.length===0?null:x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[f&&x.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),x.jsx(GM,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),x.jsxs("div",{children:[m&&x.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),x.jsx(GM,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function GM({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=gE(e,Hy);return a.length===0?n?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:x.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,c)=>{const u=`${t}-${c}`;return x.jsx(Kre,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Kre({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=qre(e),o=a?Yre(a):"",c=Hy(e),u=S.useRef(null),f=S.useRef(null),[m,p]=S.useState("center");return S.useLayoutEffect(()=>{if(!i)return;const g=f.current;if(!g)return;const b=g.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),E=b.left,A=window.innerWidth-b.right;A<w/2&&E>A?p("right"):E<w/2&&A>E?p("left"):p("center")},[i]),S.useLayoutEffect(()=>{if(!i)return;const g=b=>{const _=b.target;!u.current||_&&u.current.contains(_)||r(null)};return document.addEventListener("mousedown",g),document.addEventListener("touchstart",g),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("touchstart",g)}},[i,r]),x.jsxs("div",{ref:u,className:"relative",children:[x.jsx("button",{ref:f,type:"button",onClick:()=>r(i?null:t),className:["px-1 desk:px-2 py-1 text-[10px] text-center desk:text-[11px] rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:c,children:c}),a&&i&&x.jsx("div",{className:["absolute top-full mt-2 z-50",m==="left"?"left-0":m==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:x.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Hy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function gE(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function Wre({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:c,etcShinsalGood:u,etcShinsalBad:f}){const[m,p]=S.useState(!0),[g,b]=S.useState(!0),[_,w]=S.useState(null);return x.jsxs(x.Fragment,{children:[o&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>p(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:m?"":""})]}),m&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"     ."}),n.length===0?x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(lo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&x.jsx(lo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&x.jsx(lo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&x.jsx(lo,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&x.jsx(lo,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&x.jsx(lo,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(lo,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),x.jsx(lo,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),x.jsx(lo,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),x.jsx(lo,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),c&&x.jsx("div",{className:"px-2 desk:px-0 py-2",children:x.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-2",children:[x.jsxs("button",{type:"button",onClick:()=>b(E=>!E),className:"w-full flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-300 mb-1 cursor-pointer",children:[x.jsx("span",{children:""}),x.jsx("span",{className:"text-[10px]",children:g?"":""})]}),g&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),qM(u)||qM(f)?x.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[x.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&x.jsx(so,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-wol"),t>=2&&x.jsx(so,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-se"),t>=1&&x.jsx(so,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-dae")]:[t>=1&&x.jsx(so,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:f.luck.dae,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-dae"),t>=2&&x.jsx(so,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:f.luck.se,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-se"),t>=3&&x.jsx(so,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:f.luck.wol,isDesktop:e,openTagKey:_,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),x.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[x.jsx(so,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:f.natal.hour,isDesktop:e,openTagKey:_,setOpenTagKey:w}),x.jsx(so,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:f.natal.day,isDesktop:e,openTagKey:_,setOpenTagKey:w}),x.jsx(so,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:f.natal.month,isDesktop:e,openTagKey:_,setOpenTagKey:w}),x.jsx(so,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:f.natal.year,isDesktop:e,openTagKey:_,setOpenTagKey:w})]})]}):x.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function lo({title:e,tags:t,activeTag:n,onToggle:r}){return x.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-1 desk:p-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?x.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):x.jsx("div",{className:"flex flex-row desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return x.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-1 desk:px-2 py-1 text-[10px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:Vre(i)},i)})})]})}function Vre(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function qM(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function YM(e){return String(e).padStart(2,"0")}function Zre(e,t,n){if(!e||e.length<8)return BM(e,t);const r=BM(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),c=Bi(i,a,o),u=`${c.getFullYear()}.${YM(c.getMonth()+1)}.${YM(c.getDate())}`;return` ${r}  ( ${u})`}catch{return` ${r}`}}function Xre({data:e,hourTable:t}){const{date:n}=ci(),r=qn(Oe=>Oe.settings),i=r.showNabeum??!0,a=r.showRelationBox??!0,o=r.showEtcShinsal??!0,c=s4(e.mingSikType,t),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:f,solarM:m,solarD:p}=S.useMemo(()=>{let Oe=Number(e.birthDay?.slice(0,4)??2e3),Ce=Number(e.birthDay?.slice(4,6)??1),Pe=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Qe=Bi(Oe,Ce,Pe);Oe=Qe.getFullYear(),Ce=Qe.getMonth()+1,Pe=Qe.getDate()}return{solarY:Oe,solarM:Ce,solarD:Pe}},[e.birthDay,e.calendarType]),[g,b]=S.useState(!1);S.useEffect(()=>{f&&m&&p&&b(My(f,m,p))},[f,m,p]);const _=IT(e.birthTime),[w,E]=S.useState(()=>HM(e,g));S.useEffect(()=>{E(HM(e,g))},[e,g]);const A=Ore(e.correctedLocal,w.corrected,_),C=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,j=w.day.stem,[P,M]=S.useState(null),[D,$]=S.useState(()=>UM(e.mingSikType));S.useEffect(()=>{M(null),$(UM(e.mingSikType))},[C,e.mingSikType]),S.useEffect(()=>{ye(null)},[C]);const U=S.useMemo(()=>Are(j,D),[D,j]),Y=P??w.hour,W=Im(Oe=>Oe.setManualHour),H=(Oe,Ce)=>{const Pe={stem:Oe,branch:Ce};M(Pe),W(Pe)},G=Cre(r.sinsalBase)===""?w.day.branch:w.year.branch,Z=Oe=>r.showSibiUnseong?Eo(j,Oe):null,X=Oe=>r.showSibiSinsal?ko({baseBranch:G,targetBranch:Oe,era:nf(r.sinsalMode),gaehwa:r.sinsalBloom}):null,Q=Mte(e,c),q=ute({query:"(min-width: 992px)"}),J=r.hiddenStem==="regular"?"main":"all",ie=Nre(r.exposure),fe=ie===0?[]:Q.filter(Oe=>(Oe.key==="daeun"?1:Oe.key==="seun"?2:3)<=ie),se=My(f,m,p),B=()=>b(Oe=>!Oe),K=wT(e,t,n),ae=K.dae.gz,V=K.se.gz,oe=K.wol.gz,[pe,ye]=S.useState(null),ue=S.useMemo(()=>{const Oe=Ce=>Ce?.stem&&Ce?.branch?`${Ce.stem}${Ce.branch}`:"";return bl({natal:[Oe(w.year),Oe(w.month),Oe(w.day),Oe(Y)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0})},[w,Y,ae,V,oe]),te=S.useMemo(()=>{const Oe=[...ue.cheonganHap,...ue.cheonganChung,...ue.jijiSamhap,...ue.jijiBanhap,...ue.jijiBanghap,...ue.jijiYukhap,...ue.jijiChung,...ue.jijiHyeong,...ue.jijiPa,...ue.jijiHae,...ue.amhap,...ue.ganjiAmhap].filter(Ce=>Ce&&Ce!=="#");return Array.from(new Set(Oe))},[ue]),Se=S.useMemo(()=>{const Oe=(Pe,Qe)=>{Pe.includes(Qe)||Pe.push(Qe)},Ce={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Pe of te){const st=(Pe.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);st.includes("")&&Oe(Ce.luck.wol,Pe),st.includes("")&&Oe(Ce.luck.se,Pe),st.includes("")&&Oe(Ce.luck.dae,Pe),st.includes("")&&Oe(Ce.natal.hour,Pe),st.includes("")&&Oe(Ce.natal.day,Pe),st.includes("")&&Oe(Ce.natal.month,Pe),st.includes("")&&Oe(Ce.natal.year,Pe)}return Ce},[te]),je=S.useMemo(()=>{const Oe=Qe=>Qe?.stem&&Qe?.branch?`${Qe.stem}${Qe.branch}`:"",Ce=Rd({natal:[Oe(w.year),Oe(w.month),Oe(w.day),Oe(Y)],daewoon:ae??void 0,sewoon:V??void 0,wolwoon:oe??void 0}),Pe=Qe=>Array.from(new Set(Qe.filter(st=>st&&st!=="#")));return{good:{natal:{hour:Pe(Ce.good.si??[]),day:Pe(Ce.good.il??[]),month:Pe(Ce.good.wol??[]),year:Pe(Ce.good.yeon??[])},luck:{dae:Pe(Ce.good.dae??[]),se:Pe(Ce.good.se??[]),wol:Pe(Ce.good.wolun??[])}},bad:{natal:{hour:Pe(Ce.bad.si??[]),day:Pe(Ce.bad.il??[]),month:Pe(Ce.bad.wol??[]),year:Pe(Ce.bad.yeon??[])},luck:{dae:Pe(Ce.bad.dae??[]),se:Pe(Ce.bad.se??[]),wol:Pe(Ce.bad.wolun??[])}}}},[w,Y,ae,V,oe]),de=S.useMemo(()=>{const Oe={},Ce=(Pe,Qe)=>{for(const st of Pe)Oe[st]=Qe};return Ce(ue.cheonganHap,"stem"),Ce(ue.cheonganChung,"stem"),Ce(ue.jijiSamhap,"branch"),Ce(ue.jijiBanhap,"branch"),Ce(ue.jijiBanghap,"branch"),Ce(ue.jijiYukhap,"branch"),Ce(ue.jijiChung,"branch"),Ce(ue.jijiHyeong,"branch"),Ce(ue.jijiPa,"branch"),Ce(ue.jijiHae,"branch"),Ce(ue.amhap,"branch"),Ce(ue.ganjiAmhap,"both"),Oe},[ue]),Le=S.useMemo(()=>{if(!pe)return{};const Oe=de[pe]??"branch",Pe=(pe.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),Qe={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},st={};for(const Ht of Pe){const hn=Qe[Ht];if(!hn)continue;const on=st[hn]??{stem:!1,branch:!1};Oe==="stem"?on.stem=!0:(Oe==="branch"||(on.stem=!0),on.branch=!0),st[hn]=on}return st},[pe,de]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"mb-1 gap-2 p-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",x.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),se&&x.jsxs("button",{onClick:B,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${g?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",g?"ON":"OFF"]})]}),x.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[Zre(e.birthDay,e.birthTime,e.calendarType)," : ",A]})]}),x.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",u.toFixed(2),"  ",c," "]})]}),x.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${fe.length===0?"grid-cols-1":fe.length===1?"grid-cols-[2fr_8fr]":fe.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[fe.length>0&&x.jsx(Ure,{cards:fe,isDesktop:q,dayStem:j,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:J,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:X,daeGz:ae,seGz:V,wolGz:oe,highlightMap:Le}),x.jsx(Hre,{isDesktop:q,dayStem:j,charType:r.charType,thinEum:r.thinEum,showSipSin:r.showSipSin,showUnseong:r.showSibiUnseong,showShinsal:r.showSibiSinsal,showNabeum:i,hiddenMode:J,hiddenStemMode:r.hiddenStemMode,calcUnseong:Z,calcShinsal:X,highlightMap:Le,pillars:[{key:"hour",label:"",data:Y},{key:"day",label:"",data:w.day},{key:"month",label:"",data:w.month},{key:"year",label:"",data:w.year}]})]}),x.jsx(Wre,{isDesktop:q,exposureLevel:ie,relationChips:te,relationByPillar:Se,activeRelationTag:pe,onToggleRelationTag:ye,showRelationBox:a,showEtcShinsalBox:o,etcShinsalGood:je.good,etcShinsalBad:je.bad}),_&&x.jsx(Fre,{hourCandidates:U,useInsi:D,onToggleRule:()=>$(Oe=>!Oe),manualHour:P,onSelectHour:H})]})}function ub(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const c=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=c&&a<u)return o}return 0}const Jre=!1,KM=e=>e<10?`0${e}`:`${e}`;function db(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){u=m;break}if(typeof m=="number"){u=m===1;break}if(typeof m=="string"){u=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Bi(i,a,o,0,0),m=`${f.getFullYear()}${KM(f.getMonth()+1)}${KM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Qre({data:e}){const t=Ym(e),n=S.useMemo(()=>{const M=db(e);return kl(M)},[e]),r=S.useMemo(()=>{const M=e.mingSikType??"/";return gt(n,M).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=ci(),o=S.useMemo(()=>ub(t,i),[t,i]),c=qn(M=>M.settings),{charType:u,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:g,sinsalBase:b,sinsalMode:_,sinsalBloom:w}=c,E=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,A=e.mingSikType??"/",C=b===""?gt(n,A).charAt(1):ot(n,E).charAt(1),j=M=>p?Eo(r,M):null,P=M=>g?ko({baseBranch:C,targetBranch:M,era:nf(_),gaehwa:!!w}):null;return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((M,D)=>{const $=M.gz.charAt(0),U=M.gz.charAt(1),Y=eie(n,M.at),W=D===o,H=li($,"stem",u),G=li(U,"branch",u),Z=Ba($,"stem"),X=Ba(U,"branch"),Q=f&&Z?"font-thin":"font-bold",q=f&&X?"font-thin":"font-bold",J=j(U),ie=P(U);return x.jsxs("div",{onClick:()=>a(M,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${W?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.gz}  ${M.at.toLocaleDateString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(r,{stem:$})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii($,"stem",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${Q}`,children:H})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii(U,"branch",c)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:G})}),m&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(r,{branch:U})}),(p||g)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&x.jsx("div",{children:J}),g&&x.jsx("div",{children:ie})]})]})]},`${M.gz}-${D}`)})})]})}function eie(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function fb(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}function $w(e){return new Date(e,6,2,12,0,0,0)}function tie(e,t){return t-e+1}function nie({data:e,list:t,onSelect:n}){const r=qn($=>$.settings),{date:i,setFromEvent:a}=ci(),[o,c]=S.useState(()=>t);S.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const u=kl(e),f=S.useMemo(()=>fb(e,u),[e,u]),m=S.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,g=S.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),U=$w($),Y=ot(U,p);return[{at:U,gz:Y}]},[i,p]),b=t.length>0?t:o.length>0?o:g,_=S.useMemo(()=>[...b].sort(($,U)=>$.at.getTime()-U.at.getTime()),[b]),w=S.useMemo(()=>{if(_.length===0)return 0;const $=ub(_,i);return $<0?0:$>=_.length?_.length-1:$},[_,i]),[E,A]=S.useState(null);S.useEffect(()=>{A(null)},[i,_]);const C=E??w,j=S.useMemo(()=>{const $=db(e);return kl($)},[e]),P=e.mingSikType??"/",M=S.useMemo(()=>gt(j,P).charAt(0),[j,P]),D=S.useMemo(()=>r.sinsalBase===""?gt(f,P).charAt(1):ot(f,p).charAt(1),[f,P,p,r.sinsalBase]);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:_.map(($,U)=>{const Y=$.at.getFullYear(),W=$w(Y),H=ot(W,p),G=H.charAt(0),Z=H.charAt(1),X=U===C,Q=li(G,"stem",r.charType),q=li(Z,"branch",r.charType),J=Ba(G,"stem"),ie=Ba(Z,"branch"),fe=r.thinEum&&J?"font-thin":"font-bold",se=r.thinEum&&ie?"font-thin":"font-bold",B=r.showSibiUnseong?Eo(M,Z):null,K=r.showSibiSinsal?ko({baseBranch:D,targetBranch:Z,era:nf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,ae=tie(m,Y);return x.jsxs("div",{onClick:()=>{if(U===0){A(U);return}A(U);const V=$w(Y),oe=ot(V,p);a({at:V,gz:oe},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(Y)):Promise.resolve().then(()=>n(Y)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${H}  ${$.at.toLocaleDateString()}  ${ae}`,children:[x.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[ae,""]}),x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(M,{stem:G})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ii(G,"stem",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${fe}`,children:Q})}),x.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Ii(Z,"branch",r)}`,children:x.jsx("span",{className:`text-[20px] md:text-xl ${se}`,children:q})}),r.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(M,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&B&&x.jsx("div",{children:B}),r.showSibiSinsal&&K&&x.jsx("div",{children:K})]})]})]},`${Y}-${$.gz||U}`)})})]})}const rie=new Set(["","","","","","","","","","","",""]);function iie(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...ca(new Date(n-1,5,15,12,0))??[],...ca(new Date(n,5,15,12,0))??[],...ca(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,f)=>u.date.getTime()-f.date.getTime()).filter(u=>rie.has(u.name));let a=i.findIndex((u,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const o=i[a],c=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:o,next:c}}const aie=new Set(["","","","","","","","","","","",""]);function oie(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function sie(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function Bw(e){return new Date(e,5,15,12,0,0,0)}function lie(e){const n=[...ca(Bw(e-1))??[],...ca(Bw(e))??[],...ca(Bw(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,u)=>c.date.getTime()-u.date.getTime()).filter(c=>aie.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const o=[];for(let c=0;c<12;c++){const u=n[a+c];if(!u)break;const f=new Date(u.date),m=oie(f);o.push({name:u.name,termAt:f,at00:m})}return o}function cie({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=qn(E=>E.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,o=kl(e),c=S.useMemo(()=>fb(e,o),[e,o]),u=S.useMemo(()=>{const E=db(e);return kl(E)},[e]),f=e.mingSikType??"/",m=S.useMemo(()=>gt(u,f).charAt(0),[u,f]),p=i.sinsalBase===""?gt(c,f).charAt(1):ot(c,a).charAt(1),g=S.useMemo(()=>t?lie(t).map(A=>{const C=A.termAt,j=new Date(A.termAt.getTime()+1860*1e3),P=St(j,a);return{at:C,gz:P,term:A.name,termAt:A.termAt}}):[],[t,a]),{date:b,setFromEvent:_}=ci(),w=ub(g,b);return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),x.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:g.map((E,A)=>{const C=E.gz.charAt(0),j=E.gz.charAt(1),P=`${sie(E.at)}`,M=A===w,D=li(C,"stem",i.charType),$=li(j,"branch",i.charType),U=Ba(C,"stem"),Y=Ba(j,"branch"),W=i.thinEum&&U?"font-thin":"font-bold",H=i.thinEum&&Y?"font-thin":"font-bold",G=i.showSibiUnseong?Eo(m,j):null,Z=i.showSibiSinsal?ko({baseBranch:p,targetBranch:j,era:nf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return x.jsxs("div",{onClick:()=>{r(E.at);const X=new Date(E.at),{start:Q}=iie(X);n?.(Q.getFullYear(),Q.getMonth()),_({at:X,gz:St(X,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${M?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${E.term}   ${E.gz}  ${E.termAt.toLocaleString()}`,children:[x.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:P}),x.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(m,{stem:C})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii(C,"stem",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${W}`,children:D})}),x.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Ii(j,"branch",i)}`,children:x.jsx("span",{className:`text-base md:text-xl ${H}`,children:$})}),i.showSipSin&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:da(m,{branch:j})}),(i.showSibiUnseong||i.showSibiSinsal)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&G&&x.jsx("div",{children:G}),i.showSibiSinsal&&Z&&x.jsx("div",{children:Z})]}),x.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:E.term})]})]},`${E.term}-${E.at.toISOString()}`)})})]})}function uie(){const e=qn(r=>r.settings),{date:t,setFromEvent:n}=ci();return{settings:e,pickedDate:t,setFromEvent:n}}const die=(e,t)=>new Date(e,t,15,12,0,0,0),yE=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},fie=new Set(["","","","","","","","","","","",""]),c4=e=>[...ca(new Date(e-1,5,15,12,0))??[],...ca(new Date(e,5,15,12,0))??[],...ca(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),hie=e=>{const t=c4(e.getFullYear()),n=t.filter(o=>fie.has(o.name));if(n.length<12){const o=t.findIndex(f=>f.date>e),c=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(c.date),end:new Date(u.date),cur:c,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},mie=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function pie({data:e,year:t,month:n,selectedMonth:r,settings:i,pickedDate:a}){const o=i.ilunRule||"/",c=S.useMemo(()=>{const U=db(e);return kl(U)},[e]),u=S.useMemo(()=>c?gt(c,o).charAt(0):void 0,[c,o]),f=S.useMemo(()=>e?kl(e):null,[e]),m=S.useMemo(()=>e&&f?fb(e,f):null,[e,f]),p=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,g=e&&m?i.sinsalBase===""?gt(m,o).charAt(1):ot(m,p).charAt(1):null,b=S.useMemo(()=>die(t,n),[t,n]),_=S.useMemo(()=>a?yE(new Date(a)):null,[a]),w=S.useMemo(()=>r?yE(r):null,[r]),E=S.useMemo(()=>_??w??b,[_,w,b]),{start:A,end:C,cur:j,next:P}=S.useMemo(()=>hie(E),[E]),M=S.useMemo(()=>{const U=[],Y=new Date(A);for(;Y<C;)U.push(new Date(Y)),Y.setDate(Y.getDate()+1);return U},[A,C]),D=S.useMemo(()=>{const U=c4(E.getFullYear()),Y=U.filter(H=>H.date>=A&&H.date<C),W=U.find(H=>H.date>=C);return W?[...Y,W]:Y},[E,A,C]),$=S.useMemo(()=>{const U=[];let Y=[];const W=new Date(A).getDay();for(let H=0;H<W;H+=1)Y.push(null);for(const H of M)Y.length===7&&(U.push(Y),Y=[]),Y.push(H);for(;Y.length<7;)Y.push(null);return U.push(Y),U},[M,A]);return{rule:o,dayStem:u,baseBranch:g,pickerNoon:_,termMarks:D,weeks:$,cur:j??null,next:P??null}}function gie({setFromEvent:e}){return{handleDayClick:S.useCallback(n=>{e({at:n},"")},[e])}}function yie({data:e,year:t,month:n,selectedMonth:r}){const i=uie(),a=pie({data:e,year:t,month:n,selectedMonth:r,settings:i.settings,pickedDate:i.pickedDate}),o=gie({setFromEvent:i.setFromEvent});return x.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[x.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:x.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[a.cur?.name?x.jsxs(x.Fragment,{children:[a.cur.name," "," ~ ",a.next?.name??""]}):`${t} ${n}`,a.termMarks.length>0&&x.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",a.termMarks.map((c,u)=>x.jsxs("span",{children:[c.name," ",mie(c.date),u<a.termMarks.length-1?"  ":""]},`${c.name}_${c.date.getTime()}_${u}`)),"]"]})]})}),x.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(c=>x.jsx("div",{className:"py-1",children:c},c))}),x.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:a.weeks.map((c,u)=>c.map((f,m)=>{if(!f)return x.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${u}-${m}`);const p=yE(f),g=new Date,b=p.getFullYear()===g.getFullYear()&&p.getMonth()===g.getMonth()&&p.getDate()===g.getDate(),w=!!a.pickerNoon&&p.getFullYear()===a.pickerNoon.getFullYear()&&p.getMonth()===a.pickerNoon.getMonth()&&p.getDate()===a.pickerNoon.getDate()||!a.pickerNoon&&b,E=dq(p,a.rule),A=E.charAt(0),C=E.charAt(1),j=li(A,"stem",i.settings.charType),P=li(C,"branch",i.settings.charType),M=i.settings.thinEum&&Ba(A,"stem")?"font-thin":"font-bold",D=i.settings.thinEum&&Ba(C,"branch")?"font-thin":"font-bold",$=!!a.dayStem&&i.settings.showSipSin,U=!!a.dayStem&&i.settings.showSibiUnseong,Y=!!a.dayStem&&a.baseBranch!=null&&i.settings.showSibiSinsal,W=$?da(a.dayStem,{stem:A}):"",H=$?da(a.dayStem,{branch:C}):"",G=U?Eo(a.dayStem,C):"",Z=Y?ko({baseBranch:a.baseBranch,targetBranch:C,era:nf(i.settings.sinsalMode),gaehwa:!!i.settings.sinsalBloom}):"",X=a.termMarks.find(Q=>Q.date.getFullYear()===p.getFullYear()&&Q.date.getMonth()===p.getMonth()&&Q.date.getDate()===p.getDate());return x.jsxs("div",{onClick:()=>o.handleDayClick(p),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${w?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${E} (${p.toLocaleDateString()})`,children:[x.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[x.jsx("span",{children:p.getDate()}),X&&x.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:X.name})]}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:W}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ii(A,"stem",i.settings)}`,children:x.jsx("span",{className:M,children:j})}),x.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Ii(C,"branch",i.settings)}`,children:x.jsx("span",{className:D,children:P})}),$&&x.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:H}),(U||Y)&&x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[U&&G&&x.jsx("div",{children:G}),Y&&Z&&x.jsx("div",{children:Z})]})]},f.toISOString())}))})]})}function WM(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=Un(a,315);let c=a;new Date<o&&(c=a-1);const f=ot(new Date(c,1,10));i.push({at:o,gz:f})}return i}function vie({data:e}){const t=Ym(e),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState("il"),[u,f]=S.useState(null);S.useEffect(()=>{if(!t.length)return;const _=new Date,w=t.findIndex((E,A)=>{const C=t[A+1]?.at;return _>=E.at&&(!C||_<C)});w!==-1&&r(w)},[t]),S.useEffect(()=>{if(n===null)return;const _=t[n],w=t[n+1];if(!_)return;const E=WM(_,w),A=new Date;E.findIndex((j,P)=>{const M=E[P+1]?.at;return A>=j.at&&(!M||A<M)})!==-1&&a({year:A.getFullYear(),month:A.getMonth()})},[n,t]);const m=wT(e),{date:p}=ci(),g=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),b=S.useMemo(()=>{if(!m?.dae?.gz)return[];const _=t.findIndex((A,C)=>{const j=t[C+1]?.at;return m.dae.at>=A.at&&(!j||m.dae.at<j)});if(_===-1)return[];const w=t[_],E=t[_+1];return WM(w,E)},[t,m?.dae]);return x.jsxs("div",{className:"w-full space-y-4",children:[x.jsx(Qre,{data:e}),o==="se"||o==="wol"||o==="il"?x.jsx(nie,{data:e,list:b,onSelect:()=>{c("wol")}}):null,o==="wol"||o==="il"?x.jsx(cie,{data:e,activeYear:g,onSelect:(_,w)=>{a({year:_,month:w}),c("il")},onSelectMonth:f}):null,o==="il"&&i&&x.jsx(yie,{data:e,year:i.year,month:i.month+1,selectedMonth:u})]})}const bie=new Set(QG),xie=new Set(eq);function VM(e){return typeof e=="string"&&e.length>=2&&bie.has(e[0])&&xie.has(e[1])}function ki(e,...t){if(VM(e))return e;for(const n of t)if(VM(n))return n;return""}const _ie={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function c0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function wie({data:e}){const t=qn(W=>W.settings),{manualHour:n}=Im(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:c}=t,{date:u}=ci(),f=S.useMemo(()=>Fm(e),[e]),m=S.useMemo(()=>lb(f),[f]),p=S.useMemo(()=>_T(f,"/"),[f]),g=S.useMemo(()=>Zv(p.day?.charAt(0)??""),[p.day]),b=!e.birthTime||e.birthTime==="",_=S.useMemo(()=>D5(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),w=S.useMemo(()=>L5(_,p.day,e.dir??"forward",""),[_,p.day,e.dir]),E=S.useMemo(()=>qm(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),A=S.useMemo(()=>I5(E,p.year,e.dir??"forward","",m),[E,p.year,e.dir,m]),C=S.useMemo(()=>{const W=_?.events?.[0];return W?{at:W.at,from:ki(p.hour),to:ki(W.gz)}:null},[_?.events,p.hour]),j=S.useMemo(()=>{const W=E?.events?.[0];return E?.firstChange?{at:E.firstChange,from:ki(p.month),to:ki(W?.gz??p.month)}:null},[E?.firstChange,E?.events,p.month]),P=S.useMemo(()=>{const W=b?n?n.stem+n.branch:"":ki(c0(_.events,u)?.gz,p.hour);let H;if(b&&n){const G=u.getFullYear(),Z=u.getMonth(),X=u.getDate(),Q=_ie[n.branch]??0,q=new Date(G,Z,X,Q,0),J=gt(q,e.mingSikType??"/");H=ki(J,p.day)}else H=ki(c0(w.events,u)?.gz,p.day);return{si:W,il:H,wl:ki(c0(E.events,u)?.gz,p.month),yn:ki(c0(A.events,u)?.gz,p.year)}},[u,_.events,w.events,E.events,A.events,p,b,n,e.mingSikType]),M=S.useMemo(()=>({si:ki($a(u,"/")),il:ki(gt(u,"/")),wl:ki(St(u)),yn:ki(ot(u))}),[u]),D=S.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=S.useMemo(()=>nf(o),[o]),U=W=>{if(!W)return{unseong:"",shinsal:""};const H=li(g,"stem",""),G=li(W.charAt(1),"branch",""),Z=li(D,"branch","");return{unseong:r&&Eo(H,G)||"",shinsal:i&&ko({baseBranch:Z,targetBranch:G,era:$,gaehwa:!!c})||""}},Y=(W,H,G="myoun")=>{const Z=H,{unseong:X,shinsal:Q}=H?U(H):{unseong:"",shinsal:""},q=G==="myoun"&&b&&(W===""||W==="");return x.jsx(fd,{label:W,gz:Z,dayStem:g,settings:t,unseongText:H?X:"",shinsalText:H?Q:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:q},`${G}-${W}`)};return x.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[x.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:x.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",x.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Zh(m),")"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",P.si,"myoun"),Y("",P.il,"myoun"),Y("",P.wl,"myoun"),Y("",P.yn,"myoun")]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[Y("",M.si,"live"),Y("",M.il,"live"),Y("",M.wl,"live"),Y("",M.yn,"live")]})]})]}),x.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[x.jsx("div",{className:"font-semibold",children:"  "}),x.jsxs("div",{children:[":"," ",C?`${Zh(C.at)} (${C.from}  ${C.to})`:" "]}),x.jsxs("div",{children:[":"," ",j?`${Zh(j.at)} (${j.from}  ${j.to})`:" "]})]})]})}const ZM=["","","","","","","","","",""],Sie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Eie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},kie={:"",:"",:"",:"",:""},Tie={:"",:"",:"",:"",:""},Aie={:"",:"",:"",:"",:""},Oie={:"",:"",:"",:"",:""};function jie(e,t){switch(e){case"":return t;case"":return kie[t];case"":return Aie[t];case"":return Oie[t];case"":return Tie[t];default:return t}}function Cie({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:o}){const c=i,u=a,f=c/2,m=u/2,p=Math.min(c,u)*.37,g=S.useMemo(()=>{const j=(r??"").charAt(0);return Eie[j]??null},[r]),b=j=>Math.PI/2+2*-Math.PI*j/5,_=S.useMemo(()=>e.map((j,P)=>({...j,x:f+p*Math.cos(b(P)),y:m-p*Math.sin(b(P))})),[e,f,m,p]),[w,E]=S.useState(0),A=S.useRef(""),C=S.useMemo(()=>{const j=e.map(D=>`${D.name}:${D.value}`).join(","),P=ZM.map(D=>`${D}:${t?.[D]??0}`).join(","),M=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[o??"",j,P,M,r??""].join("||")},[o,e,t,r,n]);return S.useEffect(()=>{C!==A.current&&(A.current=C,E(j=>j+1))},[C]),x.jsx("div",{className:"w-full",children:x.jsxs("svg",{width:c,height:u,className:"mx-auto pt-2",children:[_.map((j,P)=>{const M=_[(P+2)%5];return x.jsx("line",{x1:j.x,y1:j.y,x2:M.x,y2:M.y,stroke:"#94a3b8",strokeWidth:1},`line-${P}`)}),_.map((j,P)=>{const M=_[(P+1)%5],D=(j.x+M.x)/2,$=(j.y+M.y)/2,U=D-f,Y=$-m,W=1.5,H=f+U*W,G=m+Y*W;return x.jsx("path",{d:`M${j.x},${j.y} Q${H},${G} ${M.x},${M.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${P}`)}),x.jsx("defs",{children:x.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:x.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),_.map(j=>{const P=j.name,M=g?jie(P,g):null,D=M?ZM.filter($=>Sie[$]===M).map($=>[$,t?.[$]??0]):[];return x.jsxs("g",{transform:`translate(${j.x},${j.y})`,children:[x.jsx("circle",{r:33,fill:j.color??"#334155",opacity:j.value===0?.7:1}),x.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[j.name," ",j.value]}),D.map(([$,U],Y)=>x.jsxs("text",{textAnchor:"middle",dy:8+Y*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(U)]},$))]},`${j.name}-${j.value}`)})]},w)})}const Nie=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function $T(e){return Math.max(0,Math.min(100,e))}function u4(e){const t=$T(e);return Nie.find(r=>t>=r.min&&t<r.max)?.name??""}const Mie=[10,20,35,45,55,65,80];function Pie({value:e}){const t=S.useMemo(()=>$T(e),[e]),n=S.useMemo(()=>u4(t),[t]);return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:""}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[Mie.map(r=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}function Oh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ea({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],u=o?c.filter(p=>p!=="#"):c,m=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:m,children:e}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Oh(p,"natal"),children:p},`natal-${g}`)),n.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Oh(p,"dae"),children:p},`dae-${g}`)),r.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Oh(p,"se"),children:p},`se-${g}`)),i.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Oh(p,"wol"),children:p},`wol-${g}`)),a.map((p,g)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Oh(p,"il"),children:p},`il-${g}`))]})]})}function vE(e){return Array.isArray(e)?e:[]}function u0(e,t){const n=new Set(vE(e));return vE(t).filter(i=>!n.has(i))}function Die({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=RT(e),c=bl({natal:e}),u=t?bl({natal:e,daewoon:t}):c,f=n?bl({natal:e,daewoon:t,sewoon:n}):u,m=r?bl({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?bl({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,g=w=>({natal:vE(o[w]),dae:u0(c[w],u[w]),se:u0(u[w],f[w]),wol:u0(f[w],m[w]),il:u0(m[w],p[w])}),b={cheonganHap:g("cheonganHap"),cheonganChung:g("cheonganChung"),jijiSamhap:g("jijiSamhap"),jijiBanhap:g("jijiBanhap"),jijiBanghap:g("jijiBanghap"),jijiYukhap:g("jijiYukhap"),amhap:g("amhap"),ganjiAmhap:g("ganjiAmhap"),jijiChung:g("jijiChung"),jijiHyeong:g("jijiHyeong"),jijiPa:g("jijiPa"),jijiHae:g("jijiHae")},_=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:""}),x.jsx(ea,{label:"",..._(b.cheonganHap)}),x.jsx(ea,{label:"",..._(b.cheonganChung)}),x.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),x.jsx(ea,{label:"",..._(b.jijiSamhap)}),x.jsx(ea,{label:"",..._(b.jijiBanhap)}),x.jsx(ea,{label:"",..._(b.jijiBanghap)}),x.jsx(ea,{label:"",..._(b.jijiYukhap)}),x.jsx(ea,{label:"",..._(b.amhap)}),x.jsx(ea,{label:"",..._(b.ganjiAmhap)}),x.jsx(ea,{label:"",..._(b.jijiChung)}),x.jsx(ea,{label:"",..._(b.jijiHyeong)}),x.jsx(ea,{label:"",..._(b.jijiPa)}),x.jsx(ea,{label:"",..._(b.jijiHae)})]})}function Rie(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Lie({items:e,source:t}){const n=e.length>0?e:["#"];return x.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Rie(r,t),children:r},`${t}-${i}-${r}`))})}function XM({title:e,rows:t}){return x.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[x.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return x.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[x.jsx("div",{className:i,children:n.label}),x.jsx(Lie,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function Iie({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=qn(),[c,u]=S.useState(""),[f,m]=S.useState("");S.useEffect(()=>{o.sinsalBase===""?(u(""),m("")):(u(""),m(""))},[o.sinsalBase]);const p=S.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),g=S.useMemo(()=>Rd({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:b,bad:_,meta:w}=g,E=W=>W.map(H=>H==="#"?H:` ${H}`),A=(W,H)=>{const G=["natal"];return H===""&&G.push("natal"),H===""&&G.push("natal","dae"),H===""&&G.push("natal","dae","se"),H===""&&G.push("natal","dae","se","wol"),H===""&&G.push("natal","dae","se","wol","il"),W.filter(Z=>G.includes(Z.source))},C=[{label:"",items:E(b.si),source:"natal"},{label:"",items:E(b.il),source:"natal"},{label:"",items:E(b.wol),source:"natal"},{label:"",items:E(b.yeon),source:"natal"},{label:"",items:b.dae,source:"dae"},{label:"",items:b.se,source:"se"},{label:"",items:b.wolun,source:"wol"},{label:"",items:b.ilun,source:"il"}],j=[{label:"",items:E(_.si),source:"natal"},{label:"",items:E(_.il),source:"natal"},{label:"",items:E(_.wol),source:"natal"},{label:"",items:E(_.yeon),source:"natal"},{label:"",items:_.dae,source:"dae"},{label:"",items:_.se,source:"se"},{label:"",items:_.wolun,source:"wol"},{label:"",items:_.ilun,source:"il"}],P=A(C,a),M=A(j,a),D=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",$=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",U=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",Y=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:c,onChange:W=>u(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:D}),x.jsx("option",{value:"",children:$})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),x.jsxs("select",{value:f,onChange:W=>m(W.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:U}),x.jsx("option",{value:"",children:Y})]})]})]}),x.jsxs("div",{className:"desk:flex",children:[x.jsx(XM,{title:"()",rows:P}),x.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),x.jsx(XM,{title:"()",rows:M})]})]})}const ia={year:0,month:1,day:2,hour:3},d4={[ia.year]:.3,[ia.month]:.5,[ia.day]:.3,[ia.hour]:.3},f4={[ia.year]:.15,[ia.month]:.2,[ia.day]:0,[ia.hour]:.15},$ie=e=>em.has(e)?e:Gn[e]??e,Bie=e=>jd.has(e)?e:Rn[e]??e,zie=e=>typeof e=="string"&&e.length>=2?$ie(e.slice(-1)):"",Uie=e=>typeof e=="string"&&e.length>=1?Bie(e.slice(0,1)):"",bn=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Hie={:bn(2,0,.5,2),:bn(2,0,0,2),:bn(2,0,0,2),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,2,1,2),:bn(0,2,2,.5),:bn(0,2,2,0),:bn(0,2,2,1),:bn(2,0,0,2),:bn(2,0,0,2),:bn(2,0,1,1)},Fie={:bn(0,1,1,0),:bn(0,1,1,0),:bn(0,2,2,0),:bn(0,2,2,0),:bn(0,0,1,0),:bn(0,0,0,1),:bn(1,0,0,1),:bn(1,0,0,1),:bn(2,0,0,2),:bn(2,0,0,2)},JM=e=>Math.max(0,Math.min(100,e));function QM(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Gie(e){let t=0,n=0,r=0,i=0;return[ia.year,ia.month,ia.day,ia.hour].forEach(a=>{const o=Hie[zie(e[a])],c=Fie[Uie(e[a])],u=d4[a],f=f4[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function qie(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Yie(e){const t=qie(e);return S.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Gie(t),o=QM(n,r),c=QM(a,i);return{hanNanPct:JM(o),joSeupPct:JM(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:d4,stem:f4}}},[t])}function eP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=S.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),o=[10,20,35,45,55,65,80];return x.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[x.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[x.jsx("span",{children:n}),x.jsx("span",{children:r}),x.jsx("span",{children:i})]}),x.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[o.map(c=>x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),x.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),x.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),x.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Kie({natal:e}){const{hanNanPct:t,joSeupPct:n}=Yie(e);return x.jsxs("div",{className:"flex gap-2",children:[x.jsx(eP,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),x.jsx(eP,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Rr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Na={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Fy={:"",:"",:"",:"",:""},h4={:"",:"",:"",:"",:""},fm={:"",:"",:"",:"",:""},m4={:"",:"",:"",:"",:""},Vie={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},Zie={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},zw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},p4={:"",:"",:"",:"",:""},g4={:"",:"",:"",:""},Xie=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Jie=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],Qie={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},qe=(e,t)=>`${e}${t}`,Ai=(e,t,n)=>`${e}${t}${n}`,eae={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},tP={[qe("","")]:[""],[qe("","")]:["",""],[qe("","")]:["",""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:["",""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:["",""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""],[qe("","")]:[""]},nP={[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:[""],[Ai("","","")]:["",""]},tae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function aa(e){return["","","","",""].includes(e)}function nae(e){return["","","","","",""].includes(e)}const Uw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,na=e=>e&&e.length>=1?e.charAt(0):"",En=e=>e&&e.length>=2?e.charAt(1):"",rae=e=>Array.from(new Set(e));function iae(e,t){const n=Zie[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function aae(e){return Rr[e]??""}function Ma(e,t){const n=Rr[e],r=Rr[t];if(!n||!r)return"";let i;r===n?i="":r===Fy[n]?i="":r===fm[n]?i="":r===m4[n]?i="":r===h4[n]?i="":i="";const a=aa(e)===aa(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function oae(e,t){const n=Rr[e],r=Na[t];if(!n||!r)return"";let i;r===n?i="":r===Fy[n]?i="":r===fm[n]?i="":r===m4[n]?i="":r===h4[n]?i="":i="";const a=nae(t)===aa(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function sae(e){return{:"",:"",:"",:"",:""}[e]??""}function bE(e,t){const n=aae(e),r=aa(e);let i;t===n?i="":Fy[n]===t?i="":Fy[t]===n?i="":fm[n]===t?i="":fm[t]===n?i="":i="";const a=r===aa(sae(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const lae={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},cae=e=>/^(|||||||||)$/.test(e);function uae(e){return e?cae(e)?e:lae[e]??"":""}function d0(e){return uae(na(e))}function dae(e){return e?.charAt(0)??""}function fae(e){return e?.charAt(1)??""}function hae(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),c=ge=>(ge?.length??0)>=1?ge.charAt(0):"",u=ge=>(ge?.length??0)>=2?ge.charAt(1):"",f=[r,i,a,o].map(c).filter(Boolean),m=new Set(Object.keys(Na)),p=[r,i,a,o].map(u).filter(ge=>!!ge&&m.has(ge)),g=c(a),b=Qie[g]??!1,_=new Set,w=t==="classic"?Wv:Vv,E=new Set(["","","","","","","","","",""]),A=ge=>(w[ge]??[]).filter(De=>E.has(De)),C=(ge,De)=>{const Xe=Na[De];return Xe?bE(ge,Xe):null},j={:0,:0,:0,:0,:0};for(const ge of f){const De=Rr[ge];De&&(j[De]+=10)}const P=[];for(const ge of p){const De=Wie[ge];De&&P.push(De);const Xe=Na[ge];Xe&&(j[Xe]+=6)}const D=[...f,...P].map(ge=>Ma(g,ge)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},U=ge=>D.filter(De=>De===ge).length,Y=ge=>D.filter(De=>$[ge].includes(De)).length,W=p[1],H=!!g&&tae[g]===W,G=n.elementPercent100;G.>=20&&G.>=20&&G.>=15&&_.add("");const Z=[r,i,a,o].filter(Boolean),X=[];for(const ge of Z){const De=ge.charAt(0),Xe=ge.charAt(1);X.push(Ma(g,De)),X.push(C(g,Xe))}const Q=(ge,De)=>{const Xe=(lt,At)=>!!lt&&!!At&&ge.includes(lt)&&De.includes(At)||De.includes(lt)&&ge.includes(At);for(let lt=0;lt+1<X.length;lt+=2)if(Xe(X[lt],X[lt+1]))return!0;return!1},q=ge=>X.some(De=>!!De&&ge.includes(De)),J=U("")+U(""),ie=U(""),fe=Y(""),se=Y(""),B=Q(["",""],["",""]);if((ie>=1||J>=2)&&fe>=1&&J>fe&&se<=1&&B&&_.add(""),q($.)&&q($.)&&Q($.,$.)){const ge=D.includes("");_.add(ge?"":"")}Y("")>=2&&Y("")>=2&&Math.abs(Y("")-Y(""))<=1&&Y("")<=1&&Y("")<=1&&_.add("");const K=U(""),ae=U(""),V=U("")+U(""),oe=U("")+U(""),pe=Y("");ae>=2&&V>=1&&j.+j.>=20&&_.add(""),ae>=2&&oe>=1&&j.+j.>=20&&_.add(""),ae>=2&&oe>=1&&j.+j.>=20&&Q([""],["",""])&&pe<=1&&_.add(""),K>=2&&oe>=1&&j.+j.>=20&&Q([""],["",""])&&pe<=1&&_.add("");const ye=(ge,De)=>{const Xe=Rr[ge],lt=Na[De];return!!Xe&&!!lt&&Xe===lt},ue=[r,i,a,o].filter(Boolean),te=u(a),Se=ye(g,te),je=ue.map(ge=>ge.charAt(0)).filter(ge=>["",""].includes(Ma(g,ge)));let de=!1;for(const ge of ue){const De=ge.charAt(0),Xe=ge.charAt(1);if(je.includes(De)&&ye(De,Xe)){de=!0;break}}Se&&de&&_.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&_.add(""),Y("")>=3&&Y("")>=.5*(Y("")+Y("")+Y("")+Y(""))&&_.add(""),Y("")>=3&&Y("")>=1&&_.add(""),Y("")>=3&&Y("")+Y("")<=1&&_.add("");const Le=U("");Y("")+Y("")>=2&&Le===1&&Y("")>=1&&_.add(""),Le>=2&&V+Y("")>=3&&_.add("");const Oe=K+ae;(K>=2||Oe>=2)&&oe>=1&&Oe>oe&&_.add(""),ae>=2&&oe>=1&&Oe>oe&&_.add("");const Ce=U(""),Pe=U("");Ce>=2&&Le+Pe>=1&&_.add(""),Ce>=2&&Le+Pe===0&&_.add(""),b&&Ce>=2&&Le>=1&&_.add(""),!b&&Ce>=2&&Le>=1&&_.add(""),U("")>=2&&U("")>=1&&_.add(""),U("")>=1&&U("")>=1&&Q([""],[""])&&_.add(""),H&&Le>=1&&Y("")+Y("")>=2&&_.add("");const Qe=[u(r),u(i),u(a),u(o)].filter(Boolean),st=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),Ht=new Set(st.map(ge=>Ma(g,ge))),hn=new Set(Qe.flatMap(ge=>{const De=Na[ge];return De?[bE(g,De)]:[]})),on=new Set(Qe.flatMap(ge=>A(ge).map(De=>Ma(g,De))));return["","","","",""].forEach(ge=>{const De=$[ge],Xe=De.some(yt=>Ht.has(yt)),lt=De.some(yt=>hn.has(yt)),At=De.some(yt=>on.has(yt));!Xe&&!lt&&!At?_.add(`${ge}`):!Xe&&!lt&&At&&_.add(`${ge}`)}),Array.from(_)}const mae=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=na(n),i=En(n),a=Rr[r],o=Na[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function pae(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,c,u]=(t??[]).slice(0,4),f=[na(a),na(o),na(c),na(u)].filter(Boolean),m=[En(a),En(o),En(c),En(u)].filter(Boolean),p=Rr[n],g=f.map(ge=>Ma(n,ge)),b=[],_=ge=>f.filter(De=>De===ge).length,w=ge=>m.filter(De=>De===ge).length,E=ge=>ge.every(De=>m.includes(De)),A=ge=>g.some(De=>ge.includes(De)),C=na(o),j=ge=>aa(ge),P=()=>{const ge=f.map(De=>Rr[De]);return ge.length===4&&ge.every(De=>De===ge[0])},M=()=>{if(f.length!==4)return!1;const ge=f.map(j),De=ge[0]&&!ge[1]&&ge[2]&&!ge[3],Xe=!ge[0]&&ge[1]&&!ge[2]&&ge[3];return De||Xe};aa(n)&&p4[n]===r&&b.push("");const D=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[ge,De]of D)if(n===ge&&r===De){b.push("");break}!aa(n)&&g4[n]===r&&b.push("");const $=zw[n];$&&En(c)===$&&p===Na[En(c)]&&b.push(""),$&&En(u)===$&&p===Na[En(u)]&&b.push("");const U=[a,o,c,u].map(dae),Y=[a,o,c,u].map(fae);for(const ge of U);for(const ge of Y);const W=i==="hgc"?Vv:Wv;function H(ge){return(W[ge]??[]).filter(De=>["","","","","","","","","",""].includes(De))}const G=[a,o,c,u].filter(Boolean),X=G.flatMap(ge=>[ge.charAt(0),ge.charAt(1)]).flatMap(ge=>{try{if(["","","","","","","","","",""].includes(ge))return[Ma(n,ge)];if(["","","","","","","","","","","",""].includes(ge)){const De=oae(n,ge),Xe=H(ge).map(lt=>Ma(n,lt));return[De,...Xe]}return[]}catch{return[]}}),Q=ge=>X.some(De=>ge.includes(De)),q=(ge,De)=>{const Xe=[],lt=[];for(const yt of G){const Zn=yt.charAt(0),hi=yt.charAt(1);Xe.push(Ma(n,Zn));const mi=Na[hi];mi?lt.push(bE(n,mi)):lt.push(null)}const At=(yt,Zn)=>!!yt&&!!Zn&&(ge.includes(yt)&&De.includes(Zn)||De.includes(yt)&&ge.includes(Zn));for(let yt=0;yt<Xe.length;yt++)if(At(Xe[yt],lt[yt]))return!0;for(let yt=0;yt<Xe.length-1;yt++)if(At(Xe[yt],Xe[yt+1])||At(lt[yt],lt[yt+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};Q([...J.])&&Q([...J.])&&q([...J.],[...J.])&&b.push(""),Q([...J.])&&Q([...J.])&&q([...J.],[...J.])&&b.push("");const ie=ge=>g.filter(De=>ge.includes(De)).length,fe=ie(["",""]),se=ie([""]),B=ie([""]),K=ie(["",""]),ae=ie(["",""]),V=ie(["",""]);se>=1&&fe>=1&&fe>=se&&B<=se&&b.push("");const oe=ie([""]);oe>=1&&K>=1&&oe>=K&&b.push(""),g.includes("")&&K>=1&&b.push("");const ye=mae(t),ue=Object.entries(ye).sort((ge,De)=>De[1]-ge[1]),te=ue[0];if(te&&te[1]>=60&&b.push(`(${te[0]})`),ue.length>=2){const[ge,De]=ue[0],[,Xe]=ue[1];De>=75&&De-Xe>=12&&p!==ge&&b.push(`(${ge})`)}for(const ge of Xie){const De=f.includes(ge.a),Xe=f.includes(ge.b);if(!De||!Xe)continue;const lt=ge.to,At=ye[lt]??0,yt=Rr[ge.a],Zn=Rr[ge.b],hi=Math.max(ye[yt]??0,ye[Zn]??0),mi=Na[r]===lt,Cs=Object.entries(ye).sort((mn,pi)=>pi[1]-mn[1])[0]?.[0]===lt;let Ft=!1;At>=60&&(mi||Cs)&&hi<=20&&At-hi>=20&&(b.push(`(${lt})`),Ft=!0),!Ft&&At>=50&&(mi||Cs)&&hi<=25&&(b.push(`(${lt})`),Ft=!0),!Ft&&At>=35&&b.push(`(${lt})`)}const Se=`${na(u)}${En(u)}`;["",""].includes(n)&&["","",""].includes(Se)&&b.push(""),["","","",""].includes(En(u))&&b.push(""),["",""].includes(n)&&(En(c)===""||En(o)==="")&&!m.includes("")&&b.push("");const je=f.some(ge=>ge===""||ge===""),de=m.some(ge=>ge===""||ge==="");["",""].includes(En(c))&&!je&&!de&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push("");const Le=Object.values(ye).sort((ge,De)=>De-ge);Le.length>=3&&Le[0]-Le[2]<=8&&Le[0]+Le[1]+Le[2]>=80&&b.push(""),ae>=1&&V>=1&&Math.abs(ae-V)<=1&&b.push(""),E(["","","",""])&&b.push(""),E(["","","",""])&&b.push(""),E(["","","",""])&&b.push(""),m.length===4&&m.every(ge=>ge===m[0])&&b.push(""),f.length===4&&P()&&M()&&b.push(""),t.every(ge=>ge&&ge===t[0])&&b.push(""),f.length===4&&f.every(ge=>ge===f[0])&&m.length===4&&m.every(ge=>ge===m[0])&&b.push(""),fe>=1&&(En(c)===zw[n]||En(u)===zw[n])&&b.push(""),_("")>=3&&E(["","",""])&&["","",""].includes(En(c))&&b.push("");const Ce=n===""||n==="",Pe=[["","",""],["","",""]],Qe=[["","",""],["","",""]];Ce&&(Pe.some(ge=>E(ge))||Qe.some(ge=>E(ge)))&&b.push("");const st=new Set(["","","","","",""]),Ht=`${na(c)}${En(c)}`;if(st.has(Ht)&&w("")>=2&&(A(["",""])||m.includes("")||m.includes("")||A(["",""])||b.push("")),new Set(["","","","","",""]).has(Ht)&&w("")>=2&&m.includes("")&&b.push(""),n===""&&`${na(u)}${En(u)}`==""){const ge=Ma(n,C);!["","","",""].includes(ge)&&A(["",""])&&!m.includes("")&&!m.includes("")&&b.push("")}return new Set(["","",""]).has(Ht)&&`${na(u)}${En(u)}`==""&&!m.includes("")&&!A(["",""])&&b.push(""),Ht===""&&w("")+w("")>=2&&b.push(""),(Ht===""||Ht==="")&&w("")>=2&&!A(["",""])&&!m.includes("")&&b.push(""),n===""&&E(["","",""])&&b.push(""),Ht===""&&`${na(u)}${En(u)}`==""&&b.push(""),rae(b)}function gae(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function yae(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const vae=1e3*60*60*24;function rP(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function bae(e){let t=ca(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=ca(r)}return t}function xae(e){const t=eae[e];return Array.isArray(t)&&t.length>0?t[0]:null}function _ae(e,t){const n=xae(e);if(!n)return null;const i=bae(t).find(o=>o.name===n)?.date;if(!i)return null;const a=Math.floor((rP(t)-rP(i))/vae)+1;return a<1?1:a}function wae(e,t){const n=e.?.w??0,r=e.?.w??0;return e.&&t<=n?{stem:e..stem,from:""}:e.&&t<=n+r?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function Sae(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:c,mapping:u}=e,f=[],m=Vie[n];if(!m)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const p={:m.?{stem:Uw(m..stem),w:m..w}:void 0,:m.?{stem:Uw(m..stem),w:m..w}:void 0,:{stem:Uw(m..stem),w:m..w}},g=p..stem;let b=g;const _=_ae(n,r);if(["","","",""].includes(n)&&iae(n,o)&&p.)b=p..stem,f.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(_!=null){const W=wae(p,_);b=W.stem,f.push({kind:"BUNIL_PICK",from:W.from})}else b=g,f.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function w(W,H){if(!W)return!1;if(H.includes(W))return!0;const G=Rr[W];return G?H.some(Z=>Rr[Z]===G):!1}let E="";b&&w(b,a)&&!c?.(b)?(E=b,f.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):b&&c?.(b)&&f.push({kind:"NEUTRALIZED"});const A=E||g;let C="";const j=Rr[A];if(j){const W=Object.entries(fm).find(([,H])=>H===j)?.[0]??null;W&&(C=Object.entries(Rr).find(([G,Z])=>Z===W&&aa(G)===aa(A))?.[0]??"")}let P="-";const M=Ma(t,A),D=Jie.some(([W,H])=>W===t&&H===n),$=aa(t)&&p4[t]===n,U=!aa(t)&&g4[t]===n;M===""||M===""?D?(P="",f.push({kind:"EX_GEONLOK"})):$?(P="",f.push({kind:"EX_YANGIN"})):U?(P="",f.push({kind:"EX_WOLGEOP"})):f.push({kind:"EX_EXCLUDED_BIGEOP"}):P=yae(M);const Y=pae({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:g,:b,:E||"-",:A||"-",:C||"-",:P,:Y,reason:gae(f),reasonTokens:f}}function Eae(e){const[t,n,r,i]=e,a=d0(i),o=d0(r),c=d0(n),u=d0(t),f=[],m=[[a,o],[o,c],[c,u]];for(const[g,b]of m){if(!g||!b)continue;const _=qe(g,b),w=tP[_];w?.length&&f.push(...w);const E=qe(b,g);if(E!==_){const A=tP[E];A?.length&&f.push(...A)}}const p=[[a,o,c],[o,c,u]];for(const[g,b,_]of p){if(!g||!b||!_)continue;const w=Ai(g,b,_),E=nP[w];E?.length&&f.push(...E);const A=Ai(_,b,g);if(A!==w){const C=nP[A];C?.length&&f.push(...C)}}return Array.from(new Set(f))}const kae=["","","","",""];function Tae(e){return kae.includes(e)}function Aae(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function jh(e,t){if(!t)return e;const n=(Tae(t),t);return`${e}(${n})`}const Oae={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},jae={:e=>({title:jh("",e),short:"     ."}),:e=>({title:jh("",e),short:"   ."}),:e=>({title:jh("",e),short:"   ."}),:e=>({title:jh("",e),short:"    ."}),:e=>({title:jh("",e),short:"    ."})};function Cae(e){const{base:t,inner:n}=Aae(e);return t===""||t===""||t===""||t===""||t===""?jae[t](n):Oae[t]}function Nae(e){const t=Cae(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Mae=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),iP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Pae(e){if(Mae(iP,e))return iP[e]}const aP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Dae={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function Rae(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Lae(e,t){return e===""?{title:`${t}`,short:`${aP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${aP[t]}()     .`,hint:" X /  O"}}function Iae(e){const t=Rae(e);return t?Lae(t.kind,t.group):Dae[e]}function $ae(e){const t=Iae(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Bae={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function zae(e){return Bae[e]?.text}const Uae=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},Hae={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Fae={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Gae=e=>e.replace(/^\s*:\s*/,"").trim();function qae(e){const t=Gae(e);return Fae[t]}function Yae(e){const t=Hae[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Uae(e.from)})`}:t}function Kae(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:o,mapping:c,unified:u}=e,[f,m,p,g]=t,b=V=>V&&V.length>=1?V.charAt(0):"",_=V=>V&&V.length>=2?V.charAt(1):"",w=_(m),E=b(p),A=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,C=[b(f),b(m),b(p),b(g)].filter(V=>!!(V&&V.length===1)),j=[_(f),_(p),_(g)].filter(V=>!!(V&&V.length===1)),P=Sae({dayStem:E,monthBranch:w,date:A,pillars:t,emittedStems:i??C,otherBranches:a??j,isNeutralized:o,mapping:c}),M=P.reasonTokens??[],D=P.reason??[],$=[` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`,` : ${P.||"-"}`],U=[` : ${P.||"-"}`],Y=Array.isArray(P.)&&P..length>0?P..map(V=>` : ${V}`):[" : -"],W=Eae(t),H=[...W.length?W.map(V=>`${V}`):[]],Z=[...hae(t,c,u)],X=({text:V,color:oe})=>{const pe={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return x.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${pe[oe]}`,title:V,children:V})},Q=({children:V})=>x.jsx("li",{className:"!flex flex-wrap gap-1 p-1 rounded-sm",children:V}),[q,J]=S.useState(null),ie=({text:V})=>{const oe=V.replace(/^\s*:\s*/,"").trim(),pe=S.useMemo(()=>Nae(oe),[oe]),ye=`outer:${oe}`,ue=q===ye;return pe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>J(ue?null:ye),className:"inline-flex cursor-pointer",title:pe,children:x.jsx(X,{text:V,color:"blue"})}),ue&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:pe})]}):x.jsx(X,{text:V,color:"blue"})},fe=({text:V})=>{const oe=V.trim(),pe=S.useMemo(()=>Pae(oe),[oe]),ye=`mulsang:${oe}`,ue=q===ye;return pe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>J(ue?null:ye),className:"inline-flex cursor-pointer",title:pe,children:x.jsx(X,{text:V,color:"green"})}),ue&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:pe})]}):x.jsx(X,{text:V,color:"green"})},se=({text:V})=>{const oe=V.trim(),pe=S.useMemo(()=>$ae(oe),[oe]),ye=`structure:${oe}`,ue=q===ye;return pe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>J(ue?null:ye),className:"inline-flex cursor-pointer",title:pe,children:x.jsx(X,{text:V,color:"red"})}),ue&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:pe})]}):x.jsx(X,{text:V,color:"red"})},B=({text:V,color:oe})=>{const pe=V.trim(),ye=pe.split(":")[0]?.trim()??pe,ue=S.useMemo(()=>zae(ye),[ye]),te=`term:${ye}`,Se=q===te;return ue?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>J(Se?null:te),className:"inline-flex cursor-pointer",title:ue,children:x.jsx(X,{text:V,color:oe})}),Se&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[180px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:ue})]}):x.jsx(X,{text:V,color:oe})},K=({text:V})=>{const oe=S.useMemo(()=>qae(V),[V]),pe=`naegyeok:${V}`,ye=q===pe;return oe?x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>J(ye?null:pe),className:"inline-flex cursor-pointer",title:oe.text,children:x.jsx(X,{text:V,color:"amber"})}),ye&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:oe.text})]}):x.jsx(X,{text:V,color:"amber"})},ae=({token:V,fallback:oe,idx:pe})=>{const ye=Yae(V),ue=ye?.title??oe,te=ye?.text??oe,Se=`reason:${V.kind}:${"from"in V?V.from:""}:${pe}`,je=q===Se;return x.jsxs("span",{className:"relative inline-flex",children:[x.jsx("button",{type:"button",onClick:()=>J(je?null:Se),className:"inline-flex cursor-pointer",title:te,children:x.jsx(X,{text:ue,color:"amber"})}),je&&x.jsx("div",{className:"absolute z-10 left-0 top-full mt-1 w-[200px] text-[11px] leading-4 rounded-md border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 p-2 shadow text-center",children:te})]})};return x.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${$.join(",")}|${U.join(",")}|${Y.join(",")}`,children:[x.jsx("div",{className:"font-bold text-base",children:"   "}),x.jsx("div",{className:"text-xs text-amber-500 dark:text-amber-400 mb-2",children:"*        ."}),x.jsxs("ul",{className:"space-y-1",children:[x.jsx(Q,{children:$.map(V=>x.jsx(B,{text:V,color:"violet"},V))}),x.jsx(Q,{children:U.map(V=>x.jsx(K,{text:V},V))}),x.jsx(Q,{children:Y.map(V=>x.jsx(ie,{text:V},V))}),x.jsx(Q,{children:H.map(V=>x.jsx(fe,{text:V},V))}),x.jsx(Q,{children:Z.map(V=>x.jsx(se,{text:V},V))})]}),M.length>0?x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "}),x.jsx("div",{className:"mt-1",children:x.jsx(Q,{children:M.map((V,oe)=>x.jsx(ae,{token:V,fallback:D[oe]??V.kind,idx:oe},`${V.kind}-${oe}`))})})]}):P.reason.length>0?x.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[": ",P.reason.join(" / ")]}):null]})}const Wae=Object.fromEntries(Ga..map((e,t)=>[e,$r[t]])),Vae=Object.fromEntries($r.map((e,t)=>[e,Ga.[t]])),Zae=Object.fromEntries(Ga..map((e,t)=>[e,si[t]])),Xae=Object.fromEntries(si.map((e,t)=>[e,Ga.[t]])),Jae=e=>Wae[e]??e,Qae=e=>Zae[e]??e,eoe=e=>Vae[e]??e,toe=e=>Xae[e]??e;function noe(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Jae(n):eoe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function BT(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Qae(n):toe(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const roe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ioe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y4={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},aoe={...y4,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},oP=noe(roe),sP=BT(ioe);BT(y4);BT(aoe);const ooe=["","","","",""];function soe(){const[e,t]=S.useState("   "),[n,r]=S.useState(""),[i,a]=S.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const loe={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},coe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function v4(e){const t=coe[e]??"";return loe[t]}const uoe=Object.fromEntries(Ga..map((e,t)=>[e,$r[t]])),doe=Object.fromEntries($r.map((e,t)=>[e,Ga.[t]])),foe=Object.fromEntries(Ga..map((e,t)=>[e,si[t]])),hoe=Object.fromEntries(si.map((e,t)=>[e,Ga.[t]])),moe=e=>uoe[e]??e,poe=e=>foe[e]??e,goe=e=>doe[e]??e,yoe=e=>hoe[e]??e;function b4(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${moe(r)}${poe(i)}`:`${goe(r)}${yoe(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const x4={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},voe={...x4,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},boe=b4(x4),xoe=b4(voe),_oe={:"",:"",:"",:"",:""},woe={:"",:"",:"",:"",:""},Soe={:"",:"",:"",:"",:""},Eoe={:"",:"",:"",:"",:""},koe=e=>Rn[e]??e,Toe=e=>Gn[e]??e;function _4(e){return!e||e.length<2?"":`${koe(e[0])}${Toe(e[1])}`}const w4=e=>e&&e.length>=1?e[0]:"",S4=e=>e&&e.length>=2?e[1]:"";function E4(e){return{:e,:_oe[e],:woe[e],:Soe[e],:Eoe[e]}}const k4={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Aoe(e,t){const n=(e??[]).slice(0,4).map(_4);if(n.length!==4||n.some(g=>g.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=w4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(g=>S4(g)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=k4[r]??[],u=a[1];c.includes(u)&&(o..=!0,o..=!0);const f=a[2];c.includes(f)&&(o..=!0,o..=!0);const m=E4(i).,p=t[m]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function T4(e,t){const n=(e??[]).slice(0,4).map(_4);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const _={:!1,:!1,:!1};return{flags:{:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._},:{..._}},monthBranch:"",dayEl:""}}const r=w4(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(_=>S4(_)),o={:!1,:!1,:!1},c={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=k4[r]??[],f=a[1];u.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];u.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=E4(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const Ooe=Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e])),joe=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),Coe=e=>Rn[e]??e,Noe=e=>Gn[e]??e;function Moe(e){return!e||e.length<2?"":`${Coe(e[0])}${Noe(e[1])}`}function kc(e){return oP[e]??oP[Ooe[e]??""]}function Tc(e){return sP[e]??sP[joe[e]??""]}const Hw=["year","month","day","hour"],Poe={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Doe={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},Roe=new Set(["","","","",""]),Loe=new Set(["","","","","",""]),Ioe=new Set(["","","",""]),Fw=e=>Roe.has(e)?"":"",Gw=e=>{const t=Loe.has(e)?"":"";return Ioe.has(e)?t===""?"":"":t};function lP(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,u)=>c+u,0);if(i===0)return r;const a=n.map((c,u)=>({i:u,frac:c-Math.floor(c+.5)})).sort((c,u)=>u.frac-c.frac),o=r.slice();if(i>0)for(let c=0;c<i;c++)o[a[c].i]+=1;else for(let c=0;c<-i;c++)o[a[a.length-1-c].i]-=1;return o}function $oe(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const f0={:.15,:.1,:-.15,:-.2,:-.25},ds={:"",:"",:"",:"",:""},Zc={:"",:"",:"",:"",:""},bo={:"",:"",:"",:"",:""},hb={:"",:"",:"",:"",:""};function h0(e,t){return e===t?"":ds[t]===e?"":ds[e]===t?"":bo[e]===t?"":bo[t]===e?"":""}const Ac=e=>e&&e.length>=1?e[0]:"",Oc=e=>e&&e.length>=2?e[1]:"";function Boe(e,t){const n=e.reduce((u,f)=>u+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,f)=>u+f,0);const o=r.map((u,f)=>({i:f,frac:u-Math.floor(u)})).sort((u,f)=>f.frac-u.frac),c=i.slice();for(let u=0;u<o.length&&a>0;u++)c[o[u].i]+=1,a-=1;return c}function cP(e,t){switch(e){case"":return t;case"":return ds[t];case"":return bo[t];case"":return hb[t];case"":return Zc[t];default:return t}}const uP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zoe=["","","","",""],Uoe={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},dP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},Hoe={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Foe(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Goe(e){const t=zoe.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...dP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Uoe},PerTenGodSub:{...dP},elementScoreRaw:e,deukFlags:{...Hoe},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function qoe(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function xE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:c}=e,u=o==="modern"?Poe:Doe,f=r==="classic"?xoe:boe,m={:0,:0,:0,:0,:0},p={},g=(t??[]).slice(0,4).map(Moe);if(!Foe(g))return Goe(m);const{dayStem:b,dayEl:_}=qoe(g,n),w=[{val:0},{val:0},{val:0},{val:0}],E=[[],[],[],[]];for(const B of g){if(!B)continue;const K=B.charAt(0),ae=B.charAt(1);p[K]=(p[K]??0)+50;const V=uP[ae];V&&(p[V]=(p[V]??0)+50)}for(let B=0;B<4;B++){const K=g[B];if(!K||K.length<2)continue;const ae=Hw[B],V=Ac(K),oe=Oc(K),pe=u[ae],ye=kc(V);ye&&(m[ye]+=pe.stem,w[B]={stem:V,el:ye,pol:Fw(V),val:pe.stem});const ue=Tc(oe);ue&&(m[ue]+=pe.branch,E[B].push({el:ue,pol:Gw(oe),val:pe.branch}))}for(let B=0;B<4;B++){const K=g[B];if(!K||K.length<2)continue;const ae=Hw[B],V=f[K]??0;if(V===0)continue;const oe=Ac(K),pe=kc(oe);if(!pe)continue;const ye=u[ae].stem*V;m[pe]+=ye,w[B].val+=ye}for(let B=0;B<4;B++){const K=g[B];if(!K||K.length<2)continue;const ae=Oc(K),V=Tc(ae);if(!V)continue;const oe=u[Hw[B]].branch,pe=Gw(ae);let ye=0;const ue=[B];B-1>=0&&ue.push(B-1),B+1<=3&&ue.push(B+1),B-2>=0&&ue.push(B-2),B+2<=3&&ue.push(B+2);const te=Array.from(new Set(ue));for(const Se of te){if(!g[Se]||g[Se].length<2)continue;const je=Ac(g[Se]),de=kc(je);if(!de||de!==V)continue;const Le=Fw(je)===pe,Oe=Math.abs(Se-B),Ce=$oe(Oe,Le);ye+=oe*Ce}ye!==0&&(m[V]+=ye,E[B].push({el:V,pol:pe,val:ye}))}for(let B=0;B<4;B++){const K=g[B];if(!K||K.length<2)continue;const ae=Ac(K),V=kc(ae);if(!V)continue;let oe=0;const pe=Oc(g[B]),ye=Tc(pe);ye&&(oe+=f0[h0(V,ye)]);const ue=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Se of ue){const je=Ac(g[Se]),de=kc(je);de&&(oe+=f0[h0(V,de)])}const te=w[B].val;if(te!==0&&oe!==0){const Se=Math.round(te*(1+oe)*10)/10,je=Se-te;m[V]+=je,w[B].val=Se}}for(let B=0;B<4;B++){const K=g[B];if(!K||K.length<2)continue;const ae=Oc(K),V=Tc(ae);if(!V)continue;let oe=0;const pe=Ac(g[B]),ye=kc(pe);ye&&(oe+=f0[h0(V,ye)]);const ue=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Se of ue){if(!g[Se]||g[Se].length<2)continue;const je=Oc(g[Se]),de=Tc(je);de&&(oe+=f0[h0(V,de)])}const te=E[B].reduce((Se,je)=>Se+je.val,0);if(te!==0&&oe!==0){const je=Math.round(te*(1+oe)*10)/10-te;m[V]+=je,E[B].length>0&&(E[B][0].val+=je)}}a&&ene(g,m);const A={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},C=[];if(!(!c||c.tab==="")){let B=function(K,ae){const V=K?Re(K):"";if(!V||V.length<2)return;const oe=Ac(V),pe=Oc(V),ye=kc(oe),ue=Tc(pe),te=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),Se=A[ae];if(ye){const je=Math.round(te*Se.stem);m[ye]+=je,C.push({stem:oe,el:ye,pol:Fw(oe),val:je})}if(ue){const je=Math.round(te*Se.branch);m[ue]+=je,C.push({el:ue,pol:Gw(pe),val:je})}};B(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&B(c.se,"se"),(c.tab===""||c.tab==="")&&B(c.wol,"wol"),c.tab===""&&B(c.il,"il")}const j={:0,:0,:0,:0,:0};Object.entries(m).forEach(([B,K])=>{const ae=Y(B,_);j[ae]+=K});const P=["","","","",""],M=lP(P.map(B=>j[B])),D=v4(b),$=P.map((B,K)=>({name:B,value:M[K],color:D[B]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Y(B,K){return B===K?"":ds[K]===B?"":bo[K]===B?"":bo[B]===K?"":Zc[K]===B?"":""}function W(B,K){switch(Y(B,_)){case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break;case"":U.+=K*.5,U.+=K*.5;break}}Object.entries(m).forEach(([B,K])=>{K>0&&W(B,K)});const H={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of P){const K=$.find(ue=>ue.name===B)?.value??0,ae=H[B].a,V=H[B].b,oe=U[ae]??0,pe=U[V]??0,ye=oe+pe;if(ye>0){const ue=Math.floor(K*oe/ye+.5),te=K-ue;H[B].aVal=ue,H[B].bVal=te}else H[B].aVal=Math.floor(K/2+.5),H[B].bVal=K-H[B].aVal}const{flags:G}=Aoe(g,m),Z={};w.forEach(B=>{if(B.stem&&B.el&&B.val){const K=`${B.stem}${B.el}`;Z[K]=(Z[K]??0)+B.val}});for(let B=0;B<4;B++){const K=g[B];if(!K||K.length<2)continue;const ae=Oc(K),V=uP[ae],oe=Tc(ae);if(!V||!oe)continue;const pe=`${V}${oe}`,ye=E[B].reduce((ue,te)=>ue+te.val,0);Z[pe]=(Z[pe]??0)+ye}const X=["","","","","","","","","",""],Q={};X.forEach(B=>{Q[B]=0}),P.forEach(B=>{const K=$.find(te=>te.name===B)?.value??0,ae=cP(B,_),V=Object.entries(Z).filter(([te])=>te.endsWith(ae)),oe=V.map(([te])=>te),pe=V.map(([,te])=>te),ye=Math.max(0,Math.round(K*10)),ue=Boe(pe.length?pe:[1,1],ye);if(oe.length===2)Q[oe[0]]=(ue[0]??Math.round(ye/2))/10,Q[oe[1]]=(ue[1]??ye-(ue[0]??0))/10;else if(oe.length===1)Q[oe[0]]=ye/10;else{const te=ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:ae===""?["",""]:["",""],Se=Math.floor(ye/2),je=ye-Se;Q[te[0]]+=Se/10,Q[te[1]]+=je/10}});const q=["","","","",""],J={:0,:0,:0,:0,:0};for(const B of $){const K=cP(B.name,_);J[K]+=B.value}const ie=lP(q.map(B=>J[B])),fe={:ie[0],:ie[1],:ie[2],:ie[3],:ie[4]};return i&&console.log({elementScore:m,totals:$,perTenGod:H,perStemRaw:Z,perStemElementScaled:Q,elementPercent100:fe}),{overlay:{totalsSub:U,perStemAugBare:Z,perStemAugFull:Q},totals:$,perTenGod:H,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:m,deukFlags:G,perStemElement:Z,perStemElementScaled:Q,elementPercent100:fe}}const m0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Yoe=["","","","",""];function fP(e){return Yoe.includes(e)}const Koe={:"",:"",:"",:"",:""},Woe={:"",:"",:"",:"",:""},Voe={:"",:"",:"",:"",:""},Zoe={:"",:"",:"",:"",:""},_E={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xoe=["","","","","","","","","",""],Joe={natal:50,dae:30,se:20,wol:7,il:3};function Gy(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return m0[t]??null;if(Gn[t])return m0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?m0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?m0[n]??null:null}function Qoe(e,t){const n=_E[e],r=_E[t];if(!n||!r)return"";let i;r===n?i="":r===Koe[n]?i="":r===Woe[n]?i="":r===Voe[n]?i="":r===Zoe[n]?i="":i="";const a=fP(e)===fP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function qy(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function hP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Gy(r);if(!a)continue;const o=Qoe(t,a);n[o]+=i}return qy(n)}function ese(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function mP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Gy(n);i&&(t[i]=(t[i]??0)+r)}return t}function pP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Xoe){const i=_E[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function gP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function tse(e,t){const n=t?.dae?p0(t.dae):{},r=t?.se?p0(t.se):{},i=t?.wol?p0(t.wol):{},a=t?.il?p0(t.il):{},o={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=Joe[f];if(!m||Object.keys(m).length===0)continue;const g=qy(m);for(const[b,_]of Object.entries(g))o[b]=(o[b]??0)+_*p}const u=Object.values(o).reduce((f,m)=>f+m,0);if(u>0)for(const f of Object.keys(o))o[f]=o[f]/u*100;return o}function nse(e){if(!e)return[];const t=Gy(e.charAt(0)),n=Gy(e.charAt(1));return[t,n].filter(Boolean)}function p0(e){const t=nse(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function A4(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Re(t[0]??""),Re(t[1]??""),Re(t[2]??""),Re(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:u}=rm,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?Re(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Re(r.se):void 0,wol:(n===""||n==="")&&r.wol?Re(r.wol):void 0,il:n===""&&r.il?Re(r.il):void 0}:{tab:n},p=xE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),g=xE({pillars:a,dayStem:o,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),b=mP(p.perStemElementScaled),_=n===""?b:tse(b,r),w=qy(_),E=hP(_,o),A=ese(E),C=pP(w),j=mP(g.perStemElementScaled),P=hP(j,o),M=qy(j),D=pP(M);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:E,perTenGod:A,overlay:{totalsSub:E,perStemAugBare:_,perStemAugFull:C},natalFixed:{elementScoreRaw:gP(g.elementScoreRaw),elementPercent100:gP(g.elementPercent100),totalsSub:P,overlay:{totalsSub:P,perStemAugBare:j,perStemAugFull:D}}}}const ho=["","","","",""],Al={:0,:0,:0,:0,:0},rse=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],ise={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},qw=24,ase=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],Yy=20;Object.fromEntries(Object.entries(Rn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e]));const O4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ose={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function j4(e){return Math.max(0,Math.min(100,e))}function Ld(e,t,n){return Math.max(t,Math.min(n,e))}function sse(e){const t=j4(e);return rse.find(n=>t>=n.min&&t<n.max)?.name??""}function lse(e){const t=e?.[2]?.charAt(0)??"";return O4[t]??null}function cse(e){return(e?.[1]?.charAt(1)??"")||null}function C4(e){return hb[e]}function use(e){return e?{peer:e,resource:Zc[e],leak:ds[e],wealth:bo[e],officer:C4(e)}:null}function dse(e){const t={...Al};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=O4[r],o=ose[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function fse(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Al};return ho.forEach(r=>{n[r]=e[r]/t*100}),n}function hse(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return j4((n("")+n(""))/t*100)}function mse(e,t){return!e||!t?null:t===e?"":ds[e]===t?"":bo[e]===t?"":C4(e)===t?"":Zc[e]===t?"":null}function pse(e){for(const[t,n]of ase)if(e>=t)return n;return 1}const yP=(e,t)=>Ld((Yy-(t[e]??0))/Yy,0,1),vP=(e,t)=>Ld(((t[e]??0)-Yy)/Yy,0,1);function gse(e,t,n,r){const i=mse(e,n);if(!e||!i)return 0;const a=Ld((50-t)/50,0,1),o=Ld((t-50)/50,0,1),c=yP(n,r),u=vP(n,r),f=yP(e,r),m=vP(e,r),p=6.5;let g=0;if(a>0)switch(i){case"":g=+(.3+.4*f+.15*c)*a;break;case"":g=+(.18+.45*f)*a;break;case"":g=-(.08+.2*(1-c)+.1*m)*a;break;case"":g=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":g=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(o>0)switch(i){case"":g=-(.25+.25*(1-c)+.2*m)*o;break;case"":g=-(.28+.2*m)*o;break;case"":g=+(.18+.2*c+.15*m)*o;break;case"":g=+(.22+.25*c+.1*m)*o;break;case"":g=+(.2+.2*c)*o;break}else switch(i){case"":g=.08*(f+c);break;case"":g=.05*f-.03*m;break;case"":g=.02*c-.02*u;break;case"":g=.01*c-.06*u;break;case"":g=-.05*(1-c);break}return Math.round(p*g*10)/10}function yse(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Al};if(r){const o=ds[e],c=bo[e],u=hb[e];a[o]+=28,a[c]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(c)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=Zc[e],c=e;a[o]+=28,a[c]+=22,n.get(o)?.push(":     "),n.get(c)?.push(":     ")}return a}function bP(e,t){if(!e)return{...Al};const n=ise[e]??{temp:"mild",wet:"normal"},r={...Al};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function xP(e,t){const n={...Al};for(const r of ho){const i=bo[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=ds[r],c=Math.round(a*.35);c>0&&(n[o]+=c,t.get(o)?.push(`: ${r}${i} `))}return n}function _P(e,t){const n={...Al},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const g0=()=>new Map(ho.map(e=>[e,[]]));function wP(e,t){const n=lse(e),r=cse(e),i=dse(e),a=fse(i);let o=hse(t);if(o==null)if(!n)o=50;else{const H=n,G=Zc[n],Z=Object.values(i).reduce((X,Q)=>X+Q,0)||1;o=Math.min(100,Math.max(0,((i[H]??0)+(i[G]??0))/Z*100))}const c=sse(o),u={...Al},f=g0();if(n){const H=yse(n,c,f);ho.forEach(G=>{u[G]+=H[G]??0})}const m=bP(r,f);ho.forEach(H=>{u[H]+=m[H]??0});const p=xP(i,f);ho.forEach(H=>{u[H]+=p[H]??0});const g=_P(i,f);ho.forEach(H=>{u[H]+=g[H]??0});const b=use(n),_={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)_[H.name]=H.value;if(o>=45&&o<=55&&b){const H=_.>=30||_.>=Math.max(_.,_.,_.,_.)+5;o<=50?(u[b.resource]+=14,f.get(b.resource)?.push(": -"),u[b.peer]+=10,f.get(b.peer)?.push(": -"),u[b.leak]+=6,f.get(b.leak)?.push(": -"),u[b.wealth]+=3,f.get(b.wealth)?.push(": -"),H&&(u[b.officer]=Math.round(u[b.officer]*.8*10)/10,f.get(b.officer)?.push(":   "))):(u[b.leak]+=14,f.get(b.leak)?.push(": -"),u[b.wealth]+=10,f.get(b.wealth)?.push(": -"),u[b.officer]+=6,f.get(b.officer)?.push(": -"),u[b.resource]+=3,f.get(b.resource)?.push(": -"))}ho.forEach(H=>{const G=gse(n,o,H,a);u[H]=Ld(Math.round((u[H]+G)*10)/10,0,999)});const E=o<50;ho.forEach(H=>{const G=a[H]??0,Z=E&&n===H;if(G>=qw&&!Z){const X=pse(G);u[H]=Math.round(u[H]*X*10)/10;const Q=Math.min(14,Math.max(0,Math.ceil((G-qw)*.5)));Q>0&&(u[H]=Ld(u[H]-Q,0,999)),f.get(H)?.push(" ()")}});const A={:[],:[],:[],:[],:[]};if(n){const H=ds[n],G=bo[n],Z=hb[n],X=n,Q=Zc[n];A[H].push(""),A[G].push(""),A[Z].push(""),A[X].push(""),A[Q].push("")}const C={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},j=H=>{const G=a[H]??0;return G>=qw&&!(E&&n===H)?G>=55?4:G>=45?3:2:C[H]?0:1},P=bP(r,g0()),M=xP(i,g0()),D=_P(i,g0()),$=ho.map(H=>({element:H,score:Math.round(u[H]*10)/10,via:vse(H,P,M,D),reasons:(f.get(H)??[]).slice(),tenGodHints:A[H]})).sort((H,G)=>{const Z=j(H.element),X=j(G.element);return Z!==X?Z-X:G.score!==H.score?G.score-H.score:H.element.localeCompare(G.element)}),U=bse(c,P,M,D),Y={:0,:0,:0,:0,:0},W=t?t.reduce((H,G)=>(H[G.name]=G.value,H),{...Y}):void 0;return{chosenType:U,ordered:$,debug:{band:c,overallPct:o,elementScore:i,tenGodTotals:W,monthBranch:r??void 0}}}function vse(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function bse(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),o=a(t),c=a(n),u=a(r);return o>Math.max(c,u)?"":c>=u?"":""}function xse(e){const t=e.reduce((c,u)=>c+u,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,u)=>c+u,0);const o=n.map((c,u)=>({i:u,f:c-Math.round(c)})).sort((c,u)=>u.f-c.f);for(let c=0;c<o.length&&a>0;c++)r[o[c].i]+=1,a-=1;return r}const SP=["","","","",""];function _se(e,t){const n=[Re(e[0]??""),Re(e[1]??""),Re(e[2]??""),Re(e[3]??"")],{elementScoreRaw:r}=xE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=SP.map(c=>r[c]??0),a=xse(i),o={:0,:0,:0,:0,:0};return SP.forEach((c,u)=>{o[c]=a[u]}),o}function N4(e,t){const n=_se(e,t),r=Re(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},c=n[a]??0,u=n[o[a]]??0;return c+u*.7}const Id={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},M4={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},wse=["","","","",""];function EP(e){return wse.includes(e)}const Sse={:"",:"",:"",:"",:""},Ese={:"",:"",:"",:"",:""},kse={:"",:"",:"",:"",:""},Tse={:"",:"",:"",:"",:""};function hm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Rn[t])return Rn[t];if(["","","","","","","","","","","",""].includes(t))return y0[t]??null;if(Gn[t])return y0[Gn[t]]??null;const n=t.charAt(0);return Rn[n]?Rn[n]:["","","","","","","","","",""].includes(n)?n:Gn[n]?y0[Gn[n]]??null:["","","","","","","","","","","",""].includes(n)?y0[n]??null:null}function Ase(e,t){const n=Id[e],r=Id[t];if(!n||!r)return"";let i;r===n?i="":r===Sse[n]?i="":r===Ese[n]?i="":r===kse[n]?i="":r===Tse[n]?i="":i="";const a=EP(e)===EP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Ose(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function mb(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}function jse(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Id[hm(n)];i&&r>0&&(t[i]+=r)}return mb(t)}function Cse(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=hm(r);if(!a)continue;const o=Ase(t,a);n[o]+=i}return n}function Nse(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Ose(n);t[i]+=r}return mb(t)}function kP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function Mse(e,t){const n={:!1,:!1,:!1,:!1,:!1};for(const r of e){if(!r)continue;const i=Id[r.charAt(0)];i&&(n[i]=!0);{const a=M4[r.charAt(1)];a&&(n[a]=!0)}}return n}function Pse(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Id[n.charAt(0)],i=M4[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function Yw(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Dse=["","","","","","","","","",""];function Rse(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=hm(n);i&&(t[i]=(t[i]??0)+r)}return t}function Lse(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Dse){const i=Id[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const Ise={natal:50,dae:30,se:20,wol:7,il:3};function $se(e){const t={};for(const{kind:r,bare:i}of e){const a=Ise[r]??0;if(a<=0)continue;const o=mb(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function Bse(e){if(!e)return[];const t=hm(e.charAt(0)),n=hm(e.charAt(1));return[t,n].filter(Boolean)}function v0(e){const t=Bse(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function zse({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:c,monthGZ:u,dayGZ:f}=ci(),m=S.useMemo(()=>Re(c),[c]),p=S.useMemo(()=>Re(u),[u]),g=S.useMemo(()=>Re(f),[f]),b=Ym(e,e?.mingSikType),_=S.useMemo(()=>{if(!b?.length)return 0;const ue=b.findIndex((te,Se)=>{const je=b[Se+1]?.at;return o>=te.at&&(!je||o<je)});return ue!==-1?ue:o<b[0].at?0:b.length-1},[b,o]),w=S.useMemo(()=>{const ue=r??b?.[_]?.gz??"";return Re(ue)||null},[r,b,_]),{manualHour:E}=Im(),A=e.mingSikType??"/",C=S.useMemo(()=>kP(t),[t]),j=S.useMemo(()=>kP(n),[n]),P=S.useMemo(()=>{const ue=[...C];return(!ue[3]||ue[3]===""||ue[3]==="--")&&E&&(ue[3]=E.stem+E.branch),ue},[C,E]),M=S.useMemo(()=>{const ue=[...j];return(!ue[3]||ue[3]===""||ue[3]==="--")&&E&&(ue[3]=E.stem+E.branch),ue},[j,E]),D=S.useMemo(()=>{const ue=Number(e.birthDay?.slice(0,4)),te=Number(e.birthDay?.slice(4,6)),Se=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(ue)||!Number.isFinite(te)||!Number.isFinite(Se))return null;const je=new Date(ue,te-1,Se,12,0,0,0),de=Re(ot(je)||""),Le=Re(St(je)||""),Oe=Re(gt(je,A)||"");return[de,Le,Oe,""]},[e.birthDay,A]),$=Yw(P),U=Yw(M),W=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?U?"lunar":$?"solar":"lunar":$?"solar":U?"lunar":"solar",H=S.useMemo(()=>{const te=[...W==="lunar"?U?M:$?P:D??["","","",""]:$?P:U?M:D??["","","",""]];return(!te[3]||te[3]===""||te[3]==="--")&&E&&(te[3]=E.stem+E.branch),te[3]==="--"&&(te[3]=""),te},[W,$,U,P,M,D,E]),G=S.useMemo(()=>E?E.stem+E.branch:H[3]||"",[E,H]),Z=S.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?m??null:null,wol:i===""||i===""?p??null:null,il:i===""?g??null:null}),[i,w,m,p,g]),X=S.useMemo(()=>A4({natal:H,tab:i,chain:Z,hourKey:G}),[H,i,Z,G]),Q=S.useMemo(()=>{if(!X)return null;const ue=Rse(X.perStemElementScaled),te=Z.dae?v0(Z.dae):{},Se=Z.se?v0(Z.se):{},je=Z.wol?v0(Z.wol):{},de=Z.il?v0(Z.il):{},Le=$se([{kind:"natal",bare:ue},{kind:"dae",bare:te},{kind:"se",bare:Se},{kind:"wol",bare:je},{kind:"il",bare:de}]),Oe=mb(Le),Ce=Lse(Oe),Pe=Cse(Le,X.dayStem),Qe=Nse(Pe),st=jse(Le);return{perStemAugBare:Le,perStemAugFull:Ce,elemPct100:st,totalsMain:Qe,totalsSub:Pe}},[X,Z]),q=S.useMemo(()=>Mse(H),[H]),J=S.useMemo(()=>["","","","",""].some(ue=>!q[ue]),[q]),ie=Q?.elemPct100??X?.elementPercent100??Pse(H),fe=S.useMemo(()=>{if(!X||!Q)return[];const ue=v4(X.dayStem);return Object.entries(Q.totalsMain).map(([te,Se])=>({name:te,value:Se,color:ue[te]}))},[X,Q]),se=Q?.elemPct100??{:0,:0,:0,:0,:0},B=Q?.totalsSub??null,K=S.useMemo(()=>[i,w??"",m??"",p??"",g??"",o?.toISOString?.()??"",G].join("|"),[i,w,m,p,g,o,G]),ae=S.useMemo(()=>{const ue=B?Object.entries(B).sort(([Se],[je])=>Se.localeCompare(je)).map(([Se,je])=>`${Se}:${je}`).join(","):"none",te=fe.map(Se=>`${Se.name}:${Se.value}`).join(",");return`${K}||${H.join("")}||${te}||${ue}`},[K,H,fe,B]),V=typeof wP=="function"?wP(H,X?.totals):null,oe=S.useMemo(()=>{const te=(V?.ordered??[]).map(de=>{const Le=de.element??"",Oe=/||wood/i.test(Le)?"":/||fire/i.test(Le)?"":/||earth/i.test(Le)?"":/||metal/i.test(Le)?"":/||water/i.test(Le)?"":null,Ce=typeof de.score=="number"?de.score:Oe?ie[Oe]??0:0,Pe=Array.isArray(de.reasons)?de.reasons:[];return{element:Le,elNorm:Oe,score:Ce,reasons:Pe}}),Se=de=>de?q[de]:!1,je=a?te.map(de=>de.elNorm&&!Se(de.elNorm)?{...de,score:0,reasons:[...de.reasons,":    0"]}:de):te;return je.sort((de,Le)=>{const Oe=Se(de.elNorm)?1:0,Ce=Se(Le.elNorm)?1:0;return a&&Oe!==Ce?Ce-Oe:(Le.score??0)!==(de.score??0)?(Le.score??0)-(de.score??0):(de.elNorm??de.element).localeCompare(Le.elNorm??Le.element)}),je},[V,a,ie,q]),pe=S.useMemo(()=>Math.max(0,...oe.map(ue=>Number.isFinite(ue.score)?ue.score:0)),[oe]),ye=S.useMemo(()=>N4(H,{criteriaMode:"modern",useHarmonyOverlay:!0}),[H]);return{seGz:m,wolGz:p,ilGz:g,daewoonGz:w,activePillars:H,chain:Z,unified:X,overlay:Q,chartData:fe,elementPct:se,tenSubTotals100:B,hourKeyForUi:G,revKey:ae,yongshinList:oe,maxScore:pe,hasAbsent:J,dayElementPercent:ye,isValidActive:Yw(H)}}const TP=e=>e<10?`0${e}`:`${e}`;function Use(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Bi(i,a,o),u=`${c.getFullYear()}${TP(c.getMonth()+1)}${TP(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Hse(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}function Fse({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=qn(f=>f.settings),a=soe(),o=Use(e),c=Hse(o.birthDay)||void 0,u=zse({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent});return u.isValidActive?x.jsxs("div",{className:"space-y-4 mb-4",children:[x.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:ooe.map(f=>x.jsx("button",{onClick:()=>a.setBlendTab(f),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(a.blendTab===f?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:f},f))}),x.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["  ","   ","",""].map(f=>x.jsx("button",{onClick:()=>a.setBigTab(f),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(a.bigTab===f?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:f},f))}),a.bigTab===""&&x.jsx(Die,{pillars:u.activePillars,daewoon:u.daewoonGz||void 0,sewoon:u.seGz||void 0,wolwoon:u.wolGz||void 0,ilwoon:u.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${u.hourKeyForUi}`),a.bigTab==="   "&&x.jsxs("div",{className:"space-y-4",children:[x.jsx(Cie,{data:u.chartData,revKey:u.revKey,perStemElementScaled:u.overlay?.perStemAugFull,elementPercent:u.elementPct,dayStem:u.activePillars[2]?.charAt(0)??null},`pentagon-${u.revKey}`),x.jsx(Pie,{value:u.dayElementPercent}),x.jsx(Kie,{natal:u.activePillars}),x.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"text-sm font-bold",children:" "}),u.hasAbsent&&x.jsxs("button",{type:"button",onClick:()=>a.setDemoteAbsent(f=>!f),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${a.demoteAbsent?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":a.demoteAbsent,children:[": ",a.demoteAbsent?"ON":"OFF"]})]}),x.jsx("ul",{className:"space-y-2",children:u.yongshinList.map((f,m)=>x.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[m+1,""]}),x.jsx("span",{className:"text-sm font-semibold",children:f.element})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:x.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${u.maxScore>0?Math.max(2,Math.min(100,Math.round((f.score??0)/u.maxScore*100))):12}%`},title:` ${f.score}`})}),x.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(f.reasons??[]).map((p,g)=>x.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:p},g))})]})]},f.elNorm??f.element))})]})]}),a.bigTab===""&&x.jsx(Iie,{pillars:u.activePillars,daewoon:u.daewoonGz||void 0,sewoon:u.seGz||void 0,wolwoon:u.wolGz||void 0,ilwoon:u.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${u.hourKeyForUi}`),a.bigTab==="  "&&x.jsx(Kae,{unified:u.unified,pillars:u.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:c},`gyeok-${a.blendTab}-${u.hourKeyForUi}`)]}):x.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const b0=e=>typeof e=="string"&&e.length>=2,Gse=e=>!Array.isArray(e)||e.length!==4?!1:b0(e[0])&&b0(e[1])&&b0(e[2])&&(e[3]===""||b0(e[3]));function qse({data:e}){const[t,n]=S.useState("un"),r=S.useMemo(()=>{try{const c=Fm(e);return kl(c)}catch{return new Date}},[e]),i=S.useMemo(()=>fb(e,r),[e,r]),a=!e.birthTime||e.birthTime==="",o=S.useMemo(()=>{try{const c=ot(i,e.birthPlace?.lon),u=St(i,e.birthPlace?.lon),f=gt(i,e.mingSikType),m=a?"":$a(i,e.mingSikType);return[c,u,f,m]}catch{return[]}},[i,e?.mingSikType,e?.birthPlace?.lon,a]);return x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[x.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[x.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),x.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),x.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&x.jsx(vie,{data:e}),t==="myoun"&&x.jsx(wie,{data:e}),t==="report"&&x.jsx(Fse,{data:e,pillars:Gse(o)?o:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kse=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),AP=e=>{const t=Kse(e);return t.charAt(0).toUpperCase()+t.slice(1)},P4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Wse=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},u)=>S.createElement("svg",{ref:u,...Vse,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:P4("lucide",i),...!a&&!Wse(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>S.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(Zse,{ref:a,iconNode:t,className:P4(`lucide-${Yse(AP(e))}`,`lucide-${e}`,r),...i}));return n.displayName=AP(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jse=zi("chevron-down",Xse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ele=zi("chevron-up",Qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nle=zi("circle-x",tle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],ile=zi("heart-handshake",rle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ole=zi("house",ale);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lle=zi("log-out",sle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ule=zi("menu",cle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fle=zi("plus",dle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mle=zi("settings",hle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],gle=zi("square-user",ple);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],D4=zi("star",yle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ble=zi("user-plus",vle);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],R4=zi("x",xle);function _le({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){const r=Br(_=>_.list.length),a=xs(_=>_.canAddMyeongsik)(r),o=!a.ok,c=o?a.message:"",u=()=>{if(o){uy(c||"   ");return}t()},f=()=>{if(o){uy(c||"   ");return}n()},m="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",p="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",g="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",b="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return x.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:x.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[x.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:x.jsx(ule,{size:22})}),x.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{type:"button",onClick:u,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?b:p}`,children:[x.jsx(ble,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),x.jsxs("button",{type:"button",onClick:f,"aria-label":" ",disabled:o,title:c,className:`${m} ${o?b:g}`,children:[x.jsx(gle,{size:18}),o?x.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]})]})]})})}function wle(e){S.useEffect(()=>{const t=e??JI()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");e3(t),e&&QI(e)},[e])}const L4=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Sle(e){return typeof e=="string"&&L4.includes(e)}function wE(e){const t=Array.isArray(e)?e.filter(Sle):[],n=L4.filter(r=>!t.includes(r));return[...t,...n]}function SE(e){return{...rm,...e,sectionOrder:wE(e.sectionOrder)}}function Ele(e,t){return e.theme??t.theme??"dark"}function kle({open:e,settings:t}){const n=S.useMemo(()=>wE(t.sectionOrder),[t.sectionOrder]),r=S.useMemo(()=>SE(t),[t]),[i,a]=S.useState(n),[o,c]=S.useState(r),[u,f]=S.useState(null),[m,p]=S.useState(!1);return S.useEffect(()=>{if(!e||m)return;const b=wE(t.sectionOrder);c({...SE(t),sectionOrder:b}),a(b),p(!1)},[e,t,m]),{order:i,setOrder:a,localSettings:o,setLocalSettings:c,updateSetting:(b,_)=>{c(w=>{const E={...w,[b]:_};return p(!0),E})},toastMessage:u,setToastMessage:f,dirty:m,setDirty:p}}function Tle(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function I4(e){QI(e)}function Ale({setSettings:e,saveToServer:t}){return{applyChanges:S.useCallback(async(r,i,a)=>{const o={...SE(r),sectionOrder:i};Tle(),e(o),o.theme&&I4(o.theme),await t(!0),a()},[e,t])}}function Ole({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=qn(),a=kle({open:e,settings:n}),o=Ale({setSettings:r,saveToServer:i}),c=()=>a.setToastMessage(null),u=Ele(a.localSettings,n);wle(u),S.useEffect(()=>{I4(u)},[u]);const f=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},m=g=>{const{destination:b,source:_}=g;if(!b||b.index===_.index)return;const w=Array.from(a.order),[E]=w.splice(_.index,1);w.splice(b.index,0,E),a.setOrder(w)},p=g=>{switch(g){case"theme":return x.jsx(Aa,{title:"",children:x.jsx(jle,{value:a.localSettings.theme??"dark",onChange:b=>a.updateSetting("theme",b)})});case"hiddenStem":return x.jsx(Aa,{title:"  ",children:x.jsx(nd,{value:a.localSettings.hiddenStem,onChange:b=>a.updateSetting("hiddenStem",b),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return x.jsx(Aa,{title:" ",children:x.jsx(nd,{value:a.localSettings.hiddenStemMode,onChange:b=>a.updateSetting("hiddenStemMode",b),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return x.jsx(Aa,{title:"",children:x.jsx(nd,{value:a.localSettings.sinsalMode,onChange:b=>a.updateSetting("sinsalMode",b),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return x.jsx(Aa,{title:"",children:x.jsx(nd,{value:a.localSettings.sinsalBase,onChange:b=>a.updateSetting("sinsalBase",b),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return x.jsx(Aa,{title:" ",children:x.jsx(co,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:b=>a.updateSetting("sinsalBloom",b)})});case"exposure":return x.jsx(Aa,{title:" ",children:x.jsx(nd,{value:a.localSettings.exposure,onChange:b=>a.updateSetting("exposure",b),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return x.jsx(Aa,{title:" ",children:x.jsx(nd,{value:a.localSettings.charType,onChange:b=>a.updateSetting("charType",b),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return x.jsx(Aa,{title:" ",children:x.jsx(co,{label:" ",checked:!!a.localSettings.thinEum,onChange:b=>a.updateSetting("thinEum",b)})});case"visibility":return x.jsx(Aa,{title:" ",children:x.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[x.jsx(co,{label:" ",checked:!!a.localSettings.showSipSin,onChange:b=>a.updateSetting("showSipSin",b)}),x.jsx(co,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:b=>a.updateSetting("showSibiUnseong",b)}),x.jsx(co,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:b=>a.updateSetting("showSibiSinsal",b)}),x.jsx(co,{label:" ",checked:!!a.localSettings.showNabeum,onChange:b=>a.updateSetting("showNabeum",b)}),x.jsx(co,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:b=>a.updateSetting("showEtcShinsal",b)}),x.jsx(co,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:b=>a.updateSetting("showRelationBox",b)}),x.jsx(co,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:b=>a.updateSetting("showPromptBox",b)})]})});case"difficultyMode":return x.jsx(Aa,{title:" UP ver.",children:x.jsx(co,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:b=>a.updateSetting("difficultyMode",b)})});default:return null}};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[x.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h2",{className:"text-lg font-bold",children:""}),x.jsx("button",{onClick:f,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&x.jsx(zm,{onDragEnd:m,children:x.jsx(ef,{droppableId:"settings-sections",children:g=>x.jsxs("ul",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((b,_)=>x.jsx(Qd,{draggableId:b,index:_,children:w=>x.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[x.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),x.jsx("div",{className:"flex-1 min-w-0",children:p(b)})]})},b)),g.placeholder]})})})]}),a.toastMessage&&x.jsx(T5,{message:a.toastMessage,onClose:c,ms:1800})]})}function jle({value:e,onChange:t}){const n=e==="dark";return x.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[x.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),x.jsx("span",{children:n?"":""})]})}function Aa({title:e,children:t}){return x.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),x.jsx("div",{className:"flex justify-center",children:t})]})}function nd({value:e,onChange:t,options:n}){return x.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return x.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function co({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return x.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[x.jsx("span",{children:e}),x.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),x.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function Cle({onShowToday:e,onShowCouple:t}){const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),u=async()=>{if(!i){a(!0);try{await Ie.auth.signOut(),window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:x.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[x.jsx(x0,{icon:x.jsx(ole,{size:22}),label:" ",onClick:e}),x.jsx(x0,{icon:x.jsx(ile,{size:22}),label:"",onClick:t}),x.jsx(x0,{icon:x.jsx(mle,{size:22}),label:"",onClick:()=>r(!0)}),x.jsx(x0,{icon:x.jsx(lle,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),x.jsx(Ole,{open:n,onClose:()=>r(!1)}),o&&x.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),x.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),u()},children:""})]})]})})]})}function x0({icon:e,label:t,onClick:n,disabled:r}){return x.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,x.jsx("span",{className:"mt-1",children:t})]})}const $4=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),Ky=e=>$4(e).join(""),Nle=()=>{const[e,t]=S.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(cM);return u?JSON.parse(u):{}}catch{return{}}});S.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(cM,JSON.stringify(e))}catch{}},[e]);const[n,r]=S.useState({}),[i,a]=S.useState(""),[o,c]=S.useState(()=>{const u=Ry(),f=Ly(),m=f.length?Wh(u,f):u;return hd(m,e)});return S.useEffect(()=>{c(u=>{const f=hd(u,e);return Ky(f)===Ky(u)?u:f})},[e]),S.useEffect(()=>{r(u=>{const f={...u};for(const m of o)f[m]===void 0&&(f[m]=!0);return f})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:c}},Mle=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=S.useMemo(()=>{const i=gT(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[ai]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},Ch=async()=>{const{data:e,error:t}=await Ie.auth.getUser();return t||!e.user?null:e.user.id},Ple=async e=>{const{data:t,error:n}=await Ie.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Dle=async e=>{const{data:t,error:n}=await Ie.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Rle=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Ie.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Ie.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Lle=async(e,t)=>{const{error:n}=await Ie.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},Ile=async(e,t)=>{const{error:n}=await Ie.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},$le=async(e,t)=>{const{error:n}=await Ie.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Ble=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=S.useState(!1),o=S.useRef(e),c=S.useRef(!1),u=S.useRef(!1);S.useEffect(()=>{o.current=e},[e]),S.useEffect(()=>{(async()=>{if(i)return;const C=await Ch();if(!C)return;try{if(!u.current){const $=await Ple(C);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&xT($.data)}}catch($){console.error("load custom folders exception:",$)}const j=await Dle(C);if(j.error){console.error("load folder order from server error:",j.error),a(!0);return}const P=Ry(),M=j.data,D=M.length?Wh(P,M):Wh(P,Ly());n(hd(D,o.current)),M.length&&md(M),a(!0)})()},[i,n]);const f=S.useCallback(async A=>{const C=await Ch();if(!C)return;const j=await Rle(C,A);j.error&&console.error("save folder order to server error:",j.error)},[]),m=S.useRef(null),p=S.useRef(null),g=S.useRef(""),b=S.useCallback((A,C)=>{const j=$4(A),P=Ky(j);if(P&&P===g.current)return;m.current=j;const M=async()=>{const D=m.current;if(m.current=null,!D)return;const $=Ky(D);$&&$===g.current||(await f(D),g.current=$)};if(C?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),M();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,M()},300)},[f]);S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const A=m.current;m.current=null,A&&A.length&&f(A)},[f]),S.useEffect(()=>{if(typeof window>"u")return;const A=()=>{if(c.current){c.current=!1;return}const C=Ry(),j=Ly(),P=j.length?Wh(C,j):C;n(hd(P,o.current))};return window.addEventListener(Tl,A),()=>window.removeEventListener(Tl,A)},[n]);const _=S.useCallback(A=>{const{source:C,destination:j,type:P}=A;if(!j||P!=="FOLDER")return;const M=C.index,D=j.index;M!==D&&n($=>{if(!$.length)return $;const U=[...$],[Y]=U.splice(M,1);U.splice(D,0,Y);const W=hd(U,o.current);return c.current=!0,md(W),b(W),W})},[b,n]),w=S.useCallback(A=>{const C=A.trim();!C||C===cn||(k5(C),(async()=>{if(u.current)return;const j=await Ch();if(!j)return;const P=await Ile(j,C);P.disabled&&(u.current=!0),P.error&&console.error("save custom folder error:",P.error)})(),n(j=>{if(j.includes(C))return j;const P=[...j,C],M=hd(P,o.current);return md(M),b(M,{immediate:!0}),M}))},[b,n]),E=S.useCallback(A=>{r(A),t(C=>{const j={...C};return delete j[A],j}),n(C=>{const j=C.filter(P=>P!==A);return md(j),b(j,{immediate:!0}),(async()=>{const P=await Ch();if(!P)return;const M=await Lle(P,A);M.error&&console.error("delete folder order entry error:",M.error)})(),j}),w5.includes(A)?hee(A):(fee(A),(async()=>{if(u.current)return;const C=await Ch();if(!C)return;const j=await $le(C,A);j.disabled&&(u.current=!0),j.error&&console.error("delete custom folder error:",j.error)})())},[b,t,n,r]);return{handleDragEnd:_,createFolder:w,deleteFolder:E,UNASSIGNED_LABEL:cn}};function zle(e,t){const n=Nle(),r=Mle({list:e,orderedFolders:n.orderedFolders}),i=Ble({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Ule({onClose:e,onAddNew:t}){const n=Br(u=>u.list.length),i=xs(u=>u.canAddMyeongsik)(n),a=!i.ok,o=a?i.message:"",c=()=>{if(a){uy(o||"   ");return}t()};return x.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[x.jsx("h2",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:c,disabled:a,title:o,className:a?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[x.jsx(fle,{size:16}),"  ",a?"":""]}),x.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:x.jsx(R4,{size:22})})]})]})}function Hle({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return x.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[x.jsx("option",{value:"name",children:""}),x.jsx("option",{value:"ganji",children:""}),x.jsx("option",{value:"birth",children:""})]}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&x.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:x.jsx(nle,{size:16})})]}),i&&x.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function Fle({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[x.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:i=>i.stopPropagation()}),x.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:i=>{i.stopPropagation(),n()},children:""})]}),x.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:r?"   .":"/      ."})]})}function OP({droppableId:e,items:t,isDropDisabled:n,className:r}){return x.jsx(ef,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>x.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:x.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function Gle({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:c,onDelete:u,inner:f}){return x.jsx(Qd,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:m=>x.jsxs("div",{ref:m.innerRef,...m.draggableProps,...m.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[x.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?x.jsx(ele,{size:16}):x.jsx(Jse,{size:16}),x.jsx("span",{className:"text-sm font-semibold",children:e})]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),c()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:x.jsx(D4,{size:16,fill:r?"currentColor":"none"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),x.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?f:null]})},`folder-${e}`)}const qle=()=>({canManage:xs(t=>!t.loaded||!t.isActiveNow()?!1:t.canManageMyeongsik)}),pb="";function Yle(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===pb?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function Kle(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(c=>o.some(u=>c.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function Wle(e,t,n){if(n)return pb;const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":o4(i)}function jP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function Vle(e){const t=jP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!My(r,i,a)||!e.birthTime||e.birthTime===pb)return t;const o=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),u=o-1<0?23:o-1,f=String(u).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;const p=new Date(m.getTime()-3600*1e3),g=hT({...e,birthTime:f,corrected:p});return jP({...e,...g})}function Zle(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function Xle(e,t){return Number.isNaN(e)?0:t-e+1}function Jle(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function Qle(e){return e===""?"":e===""?"":e??""}function ece({m:e,memoOpen:t,isDragDisabled:n,canManage:r}){const i=" PRO  .",a=!r,o=n||a,c=`item:${e.id}`,u=Vle(e),f=Kle(e.birthPlace?.name),m=e.relationship?.trim()?e.relationship:" ",p=Qle(e.gender),g=!e.birthTime||e.birthTime===pb,b=Wle(e.correctedLocal,e.corrected,g),_=!!(f||b),w=Yle(e.birthDay,e.birthTime),E=e.calendarType==="lunar"?"":"",A=Zle(e.birthDay),C=Xle(A,new Date().getFullYear()),j=!!(e.memo&&e.memo.trim()!==""),P=t?" ":" ",M=e.mingSikType??"/",D=a?"":o?" ":"::",$=e.favorite?" ":"";return{keyId:c,locked:a,lockMsg:i,dragDisabled:o,dragHandleLabel:D,ganji:u,placeDisplay:f,relationshipLabel:m,genderLabel:p,birthDisplay:w,calendarLabel:E,correctedLabel:b,showMetaLine:_,showMemo:j,memoToggleLabel:P,age:C,mingSikTypeValue:M,favoriteLabel:$,editLabel:a?" ":"",deleteLabel:a?" ":"",getDragStyle:Jle}}const tce=({m:e,locked:t,lockMsg:n,unassignedLabel:r,onToggleMemo:i,onChangeFolder:a,onChangeMingSikType:o,onView:c,onEdit:u,onDelete:f,onToggleFavorite:m})=>{const p=S.useCallback(()=>t?(un.error(n),!0):!1,[t,n]),g=S.useCallback(P=>{P?.stopPropagation(),t&&un.error(n)},[t,n]),b=S.useCallback(P=>{P?.stopPropagation(),i(e.id)},[i,e.id]),_=S.useCallback(P=>{P?.stopPropagation(),c(e)},[c,e]),w=S.useCallback(P=>{P?.stopPropagation(),!p()&&u(e)},[p,u,e]),E=S.useCallback(P=>{P?.stopPropagation(),!p()&&f(e)},[p,f,e]),A=S.useCallback(P=>{P?.stopPropagation(),!p()&&m(e.id)},[p,m,e.id]),C=S.useCallback(P=>{if(p())return;const M=P===r?void 0:P;a(e.id,M)},[p,a,e.id,r]),j=S.useCallback(P=>{if(p())return;o(e,P)},[p,o,e]);return{handleLockClick:g,handleToggleMemo:b,handleView:_,handleEdit:w,handleDelete:E,handleToggleFavorite:A,handleFolderChange:C,handleMingSikTypeChange:j}};function CP({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,memoOpen:a,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g}){const{canManage:b}=qle(),_=ece({m:e,memoOpen:a,isDragDisabled:i,canManage:b}),w=tce({m:e,locked:_.locked,lockMsg:_.lockMsg,unassignedLabel:r,onToggleMemo:o,onChangeFolder:c,onChangeMingSikType:u,onView:f,onEdit:m,onDelete:p,onToggleFavorite:g});return x.jsx(Qd,{draggableId:_.keyId,index:t,isDragDisabled:_.dragDisabled,children:E=>x.jsx("li",{ref:E.innerRef,...E.draggableProps,...E.dragHandleProps,style:_.getDragStyle(E.draggableProps.style),className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${_.dragDisabled?"cursor-default":"cursor-grab active:cursor-grabbing"}`,children:x.jsxs("div",{className:"p-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",_.age," ",_.genderLabel,")"]}),x.jsx("span",{className:"opacity-40",children:""}),x.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:_.relationshipLabel}),x.jsx("span",{title:_.locked?_.lockMsg:"",onClick:w.handleLockClick,className:"ml-auto opacity-50 select-none",children:_.dragHandleLabel})]}),x.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[_.birthDisplay,", ",_.calendarLabel]}),_.showMetaLine&&x.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[_.placeDisplay,_.correctedLabel&&x.jsxs("span",{className:"opacity-70",children:["  ",_.correctedLabel]})]}),_.ganji&&x.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:_.ganji}),_.showMemo&&x.jsxs("div",{children:[x.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:w.handleToggleMemo,children:_.memoToggleLabel}),x.jsx("div",{className:a?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[x.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 ${_.locked?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,value:e.folder??r,disabled:_.locked,title:_.locked?_.lockMsg:"",onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),w.handleFolderChange(A.target.value)},children:[r,...n].map(A=>x.jsx("option",{value:A,children:A},A))}),x.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 ${_.locked?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,value:_.mingSikTypeValue,disabled:_.locked,title:_.locked?_.lockMsg:"",onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),w.handleMingSikTypeChange(A.target.value)},children:[x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"/",children:"/"}),x.jsx("option",{value:"",children:""})]})]}),x.jsxs("div",{className:"flex gap-2 mt-3",children:[x.jsx("button",{type:"button",onClick:w.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),x.jsx("button",{type:"button","aria-disabled":_.locked,title:_.locked?_.lockMsg:"",onClick:w.handleEdit,className:`px-3 py-1 rounded text-white text-sm ${_.locked?"bg-amber-600/40 cursor-not-allowed":"bg-amber-600 hover:bg-amber-500 cursor-pointer"}`,children:_.editLabel}),x.jsx("button",{type:"button","aria-disabled":_.locked,title:_.locked?_.lockMsg:"",onClick:w.handleDelete,className:`px-3 py-1 rounded text-white text-sm ${_.locked?"bg-red-600/40 cursor-not-allowed":"bg-red-600 hover:bg-red-500 cursor-pointer"}`,children:_.deleteLabel}),x.jsx("button",{type:"button","aria-disabled":_.locked,title:_.locked?_.lockMsg:_.favoriteLabel,onClick:w.handleToggleFavorite,className:`ml-auto p-1 rounded ${_.locked?"opacity-40 cursor-not-allowed":"cursor-pointer"} ${e.favorite?"text-yellow-400":"text-neutral-400"} ${_.locked?"":"hover:text-yellow-400"}`,"aria-label":_.favoriteLabel,children:_.locked?"":x.jsx(D4,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},_.keyId)}const nce="list:__unassigned__",rce=e=>`list:${e}`,NP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},ice=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=x5(e),{filteredUnassigned:o,filteredGrouped:c,totalMatches:u}=S.useMemo(()=>XQ({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:c,totalMatches:u}},ace=({list:e,orderedFolders:t})=>{const[n,r]=S.useState(""),[i,a]=S.useState("name"),[o,c]=S.useState({}),u=S.useRef(null),f=S.useRef(null);return S.useEffect(()=>{if(f.current==null)return;const g=u.current;g&&(g.scrollTop=f.current,f.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:g=>{c(b=>({...b,[g]:!b[g]}))},scrollRef:u,stashScrollTop:()=>{const g=u.current;g&&(f.current=g.scrollTop)}}},MP=()=>{typeof window>"u"||window.dispatchEvent(new Event(Tl))},oce=({orderedFolders:e,isFiltering:t,handleFolderDragEnd:n,moveItemByDnD:r,update:i,remove:a,onView:o,onClose:c,onDeleteView:u,folderFavMap:f,setFolderFavMap:m,setFolderOpenMap:p,createFolder:g,deleteFolder:b,newFolderName:_,setNewFolderName:w,stashScrollTop:E})=>{const A=S.useCallback((W,H)=>{i(W,{folder:H})},[i]),C=S.useCallback((W,H)=>{const G={...W,mingSikType:H},Z=hT(G);i(W.id,{mingSikType:H,...Z}),o({...G,...Z}),c()},[i,o,c]),j=S.useCallback(W=>{o(W),c()},[o,c]),P=S.useCallback(W=>{confirm(`'${W.name}'  ?`)&&(a(W.id),u&&u())},[a,u]),M=S.useCallback(()=>{const W=_.trim();W&&(g(W),w(""),MP())},[_,g,w]),D=S.useCallback(W=>{if(f[W]){alert(`'${W}'   .
   .`);return}confirm(`'${W}'  ?
(   )`)&&(b(W),MP())},[f,b]),$=S.useCallback(W=>{p(H=>({...H,[W]:!H[W]}))},[p]),U=S.useCallback(W=>{m(H=>({...H,[W]:!H[W]}))},[m]);return{handleDrop:S.useCallback(W=>{const{type:H,source:G,destination:Z,draggableId:X}=W;if(Z&&!t){if(E(),H==="FOLDER"){n(W);return}if(H==="ITEM"){if(!X.replace(/^item:/,""))return;const q=NP(G.droppableId),J=NP(Z.droppableId);r({orderedFolders:e,sourceFolder:q,sourceIndex:G.index,destinationFolder:J,destinationIndex:Z.index})}}},[t,E,n,r,e]),changeFolder:A,changeMingSikType:C,viewAndClose:j,requestDelete:P,createFolderAndNotify:M,requestDeleteFolder:D,toggleFolderOpen:$,toggleFolderFavorite:U}};function sce({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:o,remove:c,update:u,moveItemByDnD:f,toggleFavoriteWithReorder:m,unsetFolderForFolder:p}=Br(),{folderFavMap:g,setFolderFavMap:b,folderOpenMap:_,setFolderOpenMap:w,newFolderName:E,setNewFolderName:A,orderedFolders:C,grouped:j,unassignedItems:P,handleDragEnd:M,createFolder:D,deleteFolder:$,UNASSIGNED_LABEL:U}=zle(o,{unsetFolderForFolder:p}),Y=ace({list:o,orderedFolders:C}),{isFiltering:W,filteredUnassigned:H,filteredGrouped:G,totalMatches:Z}=ice({search:Y.search,searchMode:Y.searchMode,orderedFolders:C,unassignedItems:P,grouped:j}),X=oce({orderedFolders:C,isFiltering:W,handleFolderDragEnd:M,moveItemByDnD:f,update:u,remove:c,onView:n,onClose:t,onDeleteView:a,folderFavMap:g,setFolderFavMap:b,setFolderOpenMap:w,createFolder:D,deleteFolder:$,newFolderName:E,setNewFolderName:A,stashScrollTop:Y.stashScrollTop});return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),x.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[x.jsx(Ule,{onClose:t,onAddNew:()=>{r(),t()}}),x.jsx(zm,{onDragEnd:X.handleDrop,children:x.jsxs("div",{ref:Y.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[x.jsx(Hle,{search:Y.search,setSearch:Y.setSearch,searchMode:Y.searchMode,setSearchMode:Y.setSearchMode,isFiltering:W,totalMatches:Z}),x.jsx(Fle,{newFolderName:E,setNewFolderName:A,isFiltering:W,onCreate:X.createFolderAndNotify}),x.jsx(OP,{droppableId:nce,isDropDisabled:W,className:"mb-6",items:H.map((Q,q)=>x.jsx(CP,{m:Q,index:q,orderedFolders:C,unassignedLabel:U,isDragDisabled:W,memoOpen:!!Y.memoOpenMap[Q.id],onToggleMemo:Y.toggleMemo,onChangeFolder:X.changeFolder,onChangeMingSikType:X.changeMingSikType,onView:X.viewAndClose,onEdit:J=>i(J),onDelete:X.requestDelete,onToggleFavorite:J=>void m(J,C)},Q.id))}),x.jsx(ef,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:W,children:Q=>x.jsxs("div",{ref:Q.innerRef,...Q.droppableProps,children:[C.map((q,J)=>{const ie=rce(q),fe=G[q]||[],se=!!_[q],B=!!g[q];return x.jsx(Gle,{folderName:q,folderIndex:J,isOpen:se,isFavorite:B,itemCount:fe.length,isDragDisabled:W,onToggleOpen:()=>X.toggleFolderOpen(q),onToggleFavorite:()=>X.toggleFolderFavorite(q),onDelete:()=>X.requestDeleteFolder(q),inner:x.jsx(OP,{droppableId:ie,isDropDisabled:W,className:"mt-2",items:fe.map((K,ae)=>x.jsx(CP,{m:K,index:ae,orderedFolders:C,unassignedLabel:U,isDragDisabled:W,memoOpen:!!Y.memoOpenMap[K.id],onToggleMemo:Y.toggleMemo,onChangeFolder:X.changeFolder,onChangeMingSikType:X.changeMingSikType,onView:X.viewAndClose,onEdit:V=>i(V),onDelete:X.requestDelete,onToggleFavorite:V=>void m(V,C)},K.id))})},`folder-${q}`)}),Q.placeholder]})})]})})]})]})}function PP(e){return{...e,calendarType:e.calendarType??"solar"}}function DP(e){return!e.birthTime||e.birthTime===""}function RP(e){return!e.birthPlace||e.birthPlace.name===""}function lce(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Bi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${c}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const B4="ms_folders";function cce(){try{const e=JSON.parse(localStorage.getItem(B4)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function uce(e){localStorage.setItem(B4,JSON.stringify(e))}function dce(e){const[t,n]=S.useState(!1),[r,i]=S.useState(()=>PP(e)),[a,o]=S.useState(DP(e)),[c,u]=S.useState(RP(e)),[f,m]=S.useState([]);return S.useEffect(()=>{m(cce())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(b,_)=>{i(w=>({...w,[b]:_}))},unknownTime:a,setUnknownTime:o,unknownPlace:c,setUnknownPlace:u,customFolders:f,setCustomFolders:m,resetForm:()=>{i(PP(e)),o(DP(e)),u(RP(e))}}}const z4=["","","","","",""];function fce(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...z4,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[cn,...i]}function hce({list:e,customFolders:t,form:n}){const r=S.useMemo(()=>fce(e,t),[e,t]),i=S.useMemo(()=>lce(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function mce(e,t,n){if(!e.name||e.name.trim()==="")return" .";const r=mT(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=pT(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"   '' .":null:i.message}function pce({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:c,onClose:u,onSaved:f}){return{save:()=>{const g=mce(t,n,r);if(g){alert(g);return}const b=Fc(t.folder===cn?void 0:t.folder),_=g5({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:b,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!_.ok){alert(_.message);return}const w={...e,..._.value};if(w.folder&&!z4.includes(w.folder)&&!i.includes(w.folder)){const E=[...i,w.folder];a(E),uce(E)}o(e.id,w),f?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&c(e.id)}}}const Kw="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",gce="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",yce="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Qo="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",vce="text-xs text-neutral-500 dark:text-neutral-400",_0="accent-violet-600 dark:accent-violet-400",LP="accent-violet-600 dark:accent-violet-400",gb="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",bce=`${gb} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,xce=`${gb} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,IP=`${gb} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,_ce=`${gb} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function wce({item:e,onClose:t}){const{list:n,update:r,remove:i}=Br(),a=dce(e),o=hce({list:n,customFolders:a.customFolders,form:a.form}),c=pce({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?x.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[x.jsx("h3",{className:"text-lg font-bold",children:" "}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:""}),x.jsx("input",{className:Kw,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:" (YYYYMMDD)"}),x.jsx("input",{className:Kw,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),x.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:_0,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),x.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:_0,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),x.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&x.jsx("span",{className:vce,children:o.lunarPreview})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:"  (HHMM)"}),x.jsx("input",{className:`${Kw} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:LP,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),x.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:" "}),x.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const f=`editor_ming_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:_0,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:""}),x.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const f=`editor_gender_${u}`;return x.jsxs("span",{className:"inline-flex items-center gap-1",children:[x.jsx("input",{type:"radio",className:_0,name:"gender",value:u,checked:a.form.gender===u,onChange:m=>a.updateForm("gender",m.target.value),id:f}),x.jsx("label",{htmlFor:f,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:" "}),x.jsx(tB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),x.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",className:LP,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),x.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:""}),x.jsx(_5,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:""}),x.jsx("select",{className:gce,value:a.form.folder??cn,onChange:u=>{const f=u.target.value;f===cn?a.updateForm("folder",void 0):a.updateForm("folder",f)},children:o.folderOptions.map(u=>x.jsx("option",{value:u===cn?cn:u,children:u},u))})]}),x.jsxs("div",{children:[x.jsx("label",{className:Qo,children:""}),x.jsx("textarea",{className:yce,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),x.jsxs("div",{className:"flex gap-2 justify-end",children:[x.jsx("button",{className:IP,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),x.jsx("button",{className:_ce,onClick:c.save,children:""})]})]}):x.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:bce,onClick:()=>a.setIsEditing(!0),children:""}),x.jsx("button",{className:xce,onClick:c.removeThis,children:""}),t&&x.jsx("button",{className:IP,onClick:t,children:""})]})]}),x.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[x.jsxs("div",{children:[": ",e.gender]}),x.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),x.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),x.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),x.jsxs("div",{children:[": ",e.relationship||"-"]}),x.jsxs("div",{children:[": ",e.folder??cn]})]}),e.ganji&&x.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&x.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[x.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Sce({children:e}){const t=Cl(),[n,r]=S.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return x.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[x.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[x.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[x.jsx("span",{className:"desk:block hidden",children:""}),x.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),x.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return x.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),x.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[x.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[x.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),x.jsx("div",{className:"font-semibold",children:" "}),x.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/#/",children:" "})]}),x.jsx("div",{className:"flex-1",children:e})]})]})}function Ece(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);return S.useEffect(()=>{(async()=>{const{data:a}=await Ie.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:c}=await Ie.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function kce({allow:e,children:t}){const{role:n,loading:r}=Ece();return r?x.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?x.jsx("div",{className:"text-red-400 p-6",children:" ."}):x.jsx(x.Fragment,{children:t})}function U4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=U4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=U4(e))&&(r&&(r+=" "),r+=t);return r}var Tce=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zT(e){if(typeof e!="string")return!1;var t=Tce;return t.includes(e)}var Ace=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Oce=new Set(Ace);function H4(e){return typeof e!="string"?!1:Oce.has(e)}function F4(e){return typeof e=="string"&&e.startsWith("data-")}function za(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(H4(n)||F4(n))&&(t[n]=e[n]);return t}function yb(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return za(t)}return typeof e=="object"&&!Array.isArray(e)?za(e):null}function fa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(H4(n)||F4(n)||zT(n))&&(t[n]=e[n]);return t}function jce(e){return e==null?null:S.isValidElement(e)?fa(e.props):typeof e=="object"&&!Array.isArray(e)?fa(e):null}var Cce=["children","width","height","viewBox","className","style","title","desc"];function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(null,arguments)}function Nce(e,t){if(e==null)return{};var n,r,i=Mce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var G4=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:u,desc:f}=e,m=Nce(e,Cce),p=a||{width:r,height:i,x:0,y:0},g=Xt("recharts-surface",o);return S.createElement("svg",EE({},fa(m),{className:g,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,f),n)}),Pce=["children","className"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kE.apply(null,arguments)}function Dce(e,t){if(e==null)return{};var n,r,i=Rce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xo=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Dce(e,Pce),a=Xt("recharts-layer",r);return S.createElement("g",kE({className:a},fa(i),{ref:t}),n)}),Lce=S.createContext(null);function xn(e){return function(){return e}}const TE=Math.PI,AE=2*TE,Pc=1e-6,Ice=AE-Pc;function q4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $ce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Bce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q4:$ce(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=r-t,f=i-n,m=o-t,p=c-n,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Pc)if(!(Math.abs(p*u-f*m)>Pc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-o,_=i-c,w=u*u+f*f,E=b*b+_*_,A=Math.sqrt(w),C=Math.sqrt(g),j=a*Math.tan((TE-Math.acos((w+g-E)/(2*A*C)))/2),P=j/C,M=j/A;Math.abs(P-1)>Pc&&this._append`L${t+P*m},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*b>m*_)},${this._x1=t+M*u},${this._y1=n+M*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=t+c,m=n+u,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Pc||Math.abs(this._y1-m)>Pc)&&this._append`L${f},${m}`,r&&(g<0&&(g=g%AE+AE),g>Ice?this._append`A${r},${r},0,1,${p},${t-c},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:g>Pc&&this._append`A${r},${r},0,${+(g>=TE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Y4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Bce(t)}function UT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K4(e){this._context=e}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vb(e){return new K4(e)}function W4(e){return e[0]}function V4(e){return e[1]}function Z4(e,t){var n=xn(!0),r=null,i=vb,a=null,o=Y4(c);e=typeof e=="function"?e:e===void 0?W4:xn(e),t=typeof t=="function"?t:t===void 0?V4:xn(t);function c(u){var f,m=(u=UT(u)).length,p,g=!1,b;for(r==null&&(a=i(b=o())),f=0;f<=m;++f)!(f<m&&n(p=u[f],f,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,f,u),+t(p,f,u));if(b)return a=null,b+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:xn(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:xn(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xn(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),c):r},c}function w0(e,t,n){var r=null,i=xn(!0),a=null,o=vb,c=null,u=Y4(f);e=typeof e=="function"?e:e===void 0?W4:xn(+e),t=typeof t=="function"?t:xn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?V4:xn(+n);function f(p){var g,b,_,w=(p=UT(p)).length,E,A=!1,C,j=new Array(w),P=new Array(w);for(a==null&&(c=o(C=u())),g=0;g<=w;++g){if(!(g<w&&i(E=p[g],g,p))===A)if(A=!A)b=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=g-1;_>=b;--_)c.point(j[_],P[_]);c.lineEnd(),c.areaEnd()}A&&(j[g]=+e(E,g,p),P[g]=+t(E,g,p),c.point(r?+r(E,g,p):j[g],n?+n(E,g,p):P[g]))}if(C)return c=null,C+""||null}function m(){return Z4().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:xn(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xn(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:xn(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xn(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xn(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(c=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=c=null:c=o(a=p),f):a},f}class X4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function zce(e){return new X4(e,!0)}function Uce(e){return new X4(e,!1)}function Wy(){}function Vy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function J4(e){this._context=e}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hce(e){return new J4(e)}function Q4(e){this._context=e}Q4.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fce(e){return new Q4(e)}function e7(e){this._context=e}e7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gce(e){return new e7(e)}function t7(e){this._context=e}t7.prototype={areaStart:Wy,areaEnd:Wy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qce(e){return new t7(e)}function $P(e){return e<0?-1:1}function BP(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return($P(a)+$P(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function zP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ww(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,o-c*n,a,o)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ww(this,this._t0,zP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ww(this,zP(this,n=BP(this,e,t)),n);break;default:Ww(this,this._t0,n=BP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function n7(e){this._context=new r7(e)}(n7.prototype=Object.create(Zy.prototype)).point=function(e,t){Zy.prototype.point.call(this,t,e)};function r7(e){this._context=e}r7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Yce(e){return new Zy(e)}function Kce(e){return new n7(e)}function i7(e){this._context=e}i7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=UP(e),i=UP(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UP(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Wce(e){return new i7(e)}function bb(e,t){this._context=e,this._t=t}bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Vce(e){return new bb(e,.5)}function Zce(e){return new bb(e,0)}function Xce(e){return new bb(e,1)}function $d(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,c=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function OE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Jce(e,t){return e[t]}function Qce(e){const t=[];return t.key=e,t}function eue(){var e=xn([]),t=OE,n=$d,r=Jce;function i(a){var o=Array.from(e.apply(this,arguments),Qce),c,u=o.length,f=-1,m;for(const p of a)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(p,o[c].key,f,a)]).data=p;for(c=0,m=UT(t(o));c<u;++c)o[m[c]].index=c;return n(o,m),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?OE:typeof a=="function"?a:xn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??$d,i):n},i}function tue(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}$d(e,t)}}function nue(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}$d(e,t)}}function rue(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,u=0,f=0;c<o;++c){for(var m=e[t[c]],p=m[r][1]||0,g=m[r-1][1]||0,b=(p-g)/2,_=0;_<c;++_){var w=e[t[_]],E=w[r][1]||0,A=w[r-1][1]||0;b+=E-A}u+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,$d(e,t)}}var Vw={},Zw={},HP;function iue(){return HP||(HP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Zw)),Zw}var Xw={},FP;function a7(){return FP||(FP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Xw)),Xw}var Jw={},GP;function HT(){return GP||(GP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Jw)),Jw}var Qw={},e1={},qP;function aue(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(e1)),e1}var YP;function FT(){return YP||(YP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aue(),n=HT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const p=i[c];f?p==="\\"&&c+1<o?(c++,u+=i[c]):p===f?f="":u+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(u),u=""):u+=p:p==="["?(m=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,c++}return u&&a.push(u),a}e.toPath=r})(Qw)),Qw}var KP;function GT(){return KP||(KP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iue(),n=a7(),r=HT(),i=FT();function a(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?n.isDeepKey(u)?a(c,i.toPath(u),f):f:m}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const m=c[u];return m===void 0?f:m}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const m=c[u];return m===void 0?f:m}}}function o(c,u,f){if(u.length===0)return f;let m=c;for(let p=0;p<u.length;p++){if(m==null||t.isUnsafeProperty(u[p]))return f;m=m[u[p]]}return m===void 0?f:m}e.get=a})(Vw)),Vw}var t1,WP;function oue(){return WP||(WP=1,t1=GT().get),t1}var sue=oue();const xb=ui(sue);var oa=e=>e===0?0:e>0?1:-1,Ua=e=>typeof e=="number"&&e!=+e,fs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ke=e=>(typeof e=="number"||e instanceof Number)&&!Ua(e),_o=e=>Ke(e)||typeof e=="string",lue=0,mm=e=>{var t=++lue;return"".concat(e||"").concat(t)},Ol=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&typeof t!="string")return r;var a;if(fs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Ua(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},o7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function mo(e,t,n){return Ke(e)&&Ke(t)?e+n*(t-e):t}function s7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):xb(r,t))===n)}var vr=e=>e===null||typeof e>"u",qT=e=>vr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function cue(e){return e!=null}function Vm(){}var l7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,YT=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{zT(i)&&(r[i]=(a=>n[i](n,a)))}),r},uue=(e,t,n)=>r=>(e(t,n,r),null),due=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];zT(i)&&typeof a=="function"&&(r||(r={}),r[i]=uue(a,t,n))}),r};function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){hue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hue(e,t,n){return(t=mue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ui(e,t){var n=fue({},e),r=t,i=Object.keys(t),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}var n1={},r1={},ZP;function gue(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(r1)),r1}var i1={},XP;function c7(){return XP||(XP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(i1)),i1}var a1={},o1={},s1={},JP;function yue(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(s1)),s1}var QP;function KT(){return QP||(QP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yue();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(o1)),o1}var l1={},eD;function vue(){return eD||(eD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(l1)),l1}var tD;function bue(){return tD||(tD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),n=vue();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(a1)),a1}var c1={},u1={},nD;function xue(){return nD||(nD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT();function n(r){return function(i){return t.get(i,r)}}e.property=n})(u1)),u1}var d1={},f1={},h1={},m1={},rD;function u7(){return rD||(rD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(m1)),m1}var p1={},iD;function d7(){return iD||(iD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(p1)),p1}var g1={},aD;function f7(){return aD||(aD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(g1)),g1}var oD;function _ue(){return oD||(oD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7(),n=d7(),r=f7();function i(m,p,g){return typeof g!="function"?i(m,p,()=>{}):a(m,p,function b(_,w,E,A,C,j){const P=g(_,w,E,A,C,j);return P!==void 0?!!P:a(_,w,b,j)},new Map)}function a(m,p,g,b){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,g,b);case"function":return Object.keys(p).length>0?a(m,{...p},g,b):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function o(m,p,g,b){if(p==null)return!0;if(Array.isArray(p))return u(m,p,g,b);if(p instanceof Map)return c(m,p,g,b);if(p instanceof Set)return f(m,p,g,b);const _=Object.keys(p);if(m==null)return _.length===0;if(_.length===0)return!0;if(b?.has(p))return b.get(p)===m;b?.set(p,m);try{for(let w=0;w<_.length;w++){const E=_[w];if(!n.isPrimitive(m)&&!(E in m)||p[E]===void 0&&m[E]!==void 0||p[E]===null&&m[E]!==null||!g(m[E],p[E],E,m,p,b))return!1}return!0}finally{b?.delete(p)}}function c(m,p,g,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[_,w]of p.entries()){const E=m.get(_);if(g(E,w,_,m,p,b)===!1)return!1}return!0}function u(m,p,g,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const _=new Set;for(let w=0;w<p.length;w++){const E=p[w];let A=!1;for(let C=0;C<m.length;C++){if(_.has(C))continue;const j=m[C];let P=!1;if(g(j,E,w,m,p,b)&&(P=!0),P){_.add(C),A=!0;break}}if(!A)return!1}return!0}function f(m,p,g,b){return p.size===0?!0:m instanceof Set?u([...m],[...p],g,b):!1}e.isMatchWith=i,e.isSetMatch=f})(h1)),h1}var sD;function h7(){return sD||(sD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_ue();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(f1)),f1}var y1={},v1={},b1={},lD;function wue(){return lD||(lD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(b1)),b1}var x1={},cD;function m7(){return cD||(cD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(x1)),x1}var _1={},uD;function p7(){return uD||(uD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",g="[object ArrayBuffer]",b="[object Object]",_="[object Error]",w="[object DataView]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",j="[object Uint32Array]",P="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",U="[object BigInt64Array]",Y="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=w,e.dateTag=c,e.errorTag=_,e.float32ArrayTag=Y,e.float64ArrayTag=W,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=$,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=C,e.uint32ArrayTag=j,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=A})(_1)),_1}var w1={},dD;function Sue(){return dD||(dD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(w1)),w1}var fD;function g7(){return fD||(fD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wue(),n=m7(),r=p7(),i=d7(),a=Sue();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,g,b=new Map,_=void 0){const w=_?.(m,p,g,b);if(w!==void 0)return w;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const E=new Array(m.length);b.set(m,E);for(let A=0;A<m.length;A++)E[A]=c(m[A],A,g,b,_);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;b.set(m,E);for(const[A,C]of m)E.set(A,c(C,A,g,b,_));return E}if(m instanceof Set){const E=new Set;b.set(m,E);for(const A of m)E.add(c(A,void 0,g,b,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,E);for(let A=0;A<m.length;A++)E[A]=c(m[A],A,g,b,_);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,E),u(E,m,g,b,_),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return b.set(m,E),u(E,m,g,b,_),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return b.set(m,E),u(E,m,g,b,_),E}if(m instanceof Error){const E=new m.constructor;return b.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,u(E,m,g,b,_),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return b.set(m,E),u(E,m,g,b,_),E}if(m instanceof Number){const E=new Number(m.valueOf());return b.set(m,E),u(E,m,g,b,_),E}if(m instanceof String){const E=new String(m.valueOf());return b.set(m,E),u(E,m,g,b,_),E}if(typeof m=="object"&&f(m)){const E=Object.create(Object.getPrototypeOf(m));return b.set(m,E),u(E,m,g,b,_),E}return m}function u(m,p,g=m,b,_){const w=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<w.length;E++){const A=w[E],C=Object.getOwnPropertyDescriptor(m,A);(C==null||C.writable)&&(m[A]=c(p[A],A,g,b,_))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(v1)),v1}var hD;function Eue(){return hD||(hD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(y1)),y1}var mD;function kue(){return mD||(mD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7(),n=Eue();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(d1)),d1}var S1={},E1={},k1={},pD;function Tue(){return pD||(pD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7(),n=p7();function r(i,a){return t.cloneDeepWith(i,(o,c,u,f)=>{const m=a?.(o,c,u,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(k1)),k1}var gD;function Aue(){return gD||(gD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tue();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(E1)),E1}var T1={},A1={},yD;function y7(){return yD||(yD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(A1)),A1}var O1={},vD;function Oue(){return vD||(vD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(O1)),O1}var bD;function jue(){return bD||(bD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a7(),n=y7(),r=Oue(),i=FT();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let m=0;m<u.length;m++){const p=u[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(T1)),T1}var xD;function Cue(){return xD||(xD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7(),n=HT(),r=Aue(),i=GT(),a=jue();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=o})(S1)),S1}var _D;function Nue(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c7(),n=xue(),r=kue(),i=Cue();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(c1)),c1}var wD;function Mue(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gue(),n=c7(),r=bue(),i=Nue();function a(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=a})(n1)),n1}var j1,SD;function Pue(){return SD||(SD=1,j1=Mue().uniqBy),j1}var Due=Pue();const ED=ui(Due);function Rue(e,t,n){return t===!0?ED(e,n):typeof t=="function"?ED(e,t):e}var C1={exports:{}},N1={},M1={exports:{}},P1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD;function Lue(){if(kD)return P1;kD=1;var e=qd();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(p,g){var b=g(),_=r({inst:{value:b,getSnapshot:g}}),w=_[0].inst,E=_[1];return a(function(){w.value=b,w.getSnapshot=g,u(w)&&E({inst:w})},[p,b,g]),i(function(){return u(w)&&E({inst:w}),p(function(){u(w)&&E({inst:w})})},[p]),o(b),b}function u(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!n(p,b)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return P1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,P1}var TD;function Iue(){return TD||(TD=1,M1.exports=Lue()),M1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function $ue(){if(AD)return N1;AD=1;var e=qd(),t=Iue();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return N1.useSyncExternalStoreWithSelector=function(f,m,p,g,b){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=c(function(){function A(D){if(!C){if(C=!0,j=D,D=g(D),b!==void 0&&w.hasValue){var $=w.value;if(b($,D))return P=$}return P=D}if($=P,r(j,D))return $;var U=g(D);return b!==void 0&&b($,U)?(j=D,$):(j=D,P=U)}var C=!1,j,P,M=p===void 0?null:p;return[function(){return A(m())},M===null?void 0:function(){return A(M())}]},[m,p,g,b]);var E=i(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=E},[E]),u(E),E},N1}var OD;function Bue(){return OD||(OD=1,C1.exports=$ue()),C1.exports}var zue=Bue(),WT=S.createContext(null),Uue=e=>e,sr=()=>{var e=S.useContext(WT);return e?e.store.dispatch:Uue},ny=()=>{},Hue=()=>ny,Fue=(e,t)=>e===t;function Ve(e){var t=S.useContext(WT);return zue.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Hue,t?t.store.getState:ny,t?t.store.getState:ny,t?e:ny,Fue)}function Gue(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function que(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Yue(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var jD=e=>Array.isArray(e)?e:[e];function Kue(e){const t=Array.isArray(e[0])?e[0]:e;return Yue(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Wue(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Vue=class{constructor(e){this.value=e}deref(){return this.value}},Zue=typeof WeakRef<"u"?WeakRef:Vue,Xue=0,CD=1;function S0(){return{s:Xue,v:void 0,o:null,p:null}}function v7(e,t={}){let n=S0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let c=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let _=c.o;_===null&&(c.o=_=new WeakMap);const w=_.get(b);w===void 0?(c=S0(),_.set(b,c)):c=w}else{let _=c.p;_===null&&(c.p=_=new Map);const w=_.get(b);w===void 0?(c=S0(),_.set(b,c)):c=w}}const f=c;let m;if(c.s===CD)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Zue(m):m}return f.s=CD,f.v=m,m}return o.clearCache=()=>{n=S0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Jue(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),Gue(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:b=v7,argsMemoizeOptions:_=[]}=m,w=jD(g),E=jD(_),A=Kue(i),C=p(function(){return a++,f.apply(null,arguments)},...w),j=b(function(){o++;const M=Wue(A,arguments);return c=C.apply(null,M),c},...E);return Object.assign(j,{resultFunc:f,memoizedResultFunc:C,dependencies:A,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var _e=Jue(v7),Que=Object.assign((e,t=_e)=>{que(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>Que}),D1={},R1={},L1={},ND;function ede(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=n})(L1)),L1}var I1={},$1={},MD;function b7(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($1)),$1}var PD;function tde(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(I1)),I1}var DD;function nde(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ede(),n=tde(),r=FT();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const f=(b,_)=>{let w=b;for(let E=0;E<_.length&&w!=null;++E)w=w[_[E]];return w},m=(b,_)=>_==null||b==null?_:typeof b=="object"&&"key"in b?Object.hasOwn(_,b.key)?_[b.key]:f(_,b.path):typeof b=="function"?b(_):Array.isArray(b)?f(_,b):typeof _=="object"?_[b]:_,p=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(_=>m(_,b))})).slice().sort((b,_)=>{for(let w=0;w<p.length;w++){const E=t.compareValues(b.criteria[w],_.criteria[w],c[w]);if(E!==0)return E}return 0}).map(b=>b.original)}e.orderBy=i})(R1)),R1}var B1={},RD;function rde(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&u<a?o(m,u+1):i.push(m)}};return o(n,0),i}e.flatten=t})(B1)),B1}var z1={},LD;function x7(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7(),n=KT(),r=u7(),i=f7();function a(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=a})(z1)),z1}var ID;function ide(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nde(),n=rde(),r=x7();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(D1)),D1}var U1,$D;function ade(){return $D||($D=1,U1=ide().sortBy),U1}var ode=ade();const _b=ui(ode);var _7=e=>e.legend.settings,sde=e=>e.legend.size,lde=e=>e.legend.payload;_e([lde,_7],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?_b(r,n):r});var E0=1;function cde(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>E0||Math.abs(o.left-t.left)>E0||Math.abs(o.top-t.top)>E0||Math.abs(o.width-t.width)>E0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var w7=Symbol.for("immer-nothing"),BD=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function Pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pi=Object,Bd=Pi.getPrototypeOf,Xy="constructor",wb="prototype",jE="configurable",Jy="enumerable",ry="writable",pm="value",hs=e=>!!e&&!!e[zr];function Ha(e){return e?S7(e)||Sb(e)||!!e[BD]||!!e[Xy]?.[BD]||Eb(e)||kb(e):!1}var ude=Pi[wb][Xy].toString(),zD=new WeakMap;function S7(e){if(!e||!VT(e))return!1;const t=Bd(e);if(t===null||t===Pi[wb])return!0;const n=Pi.hasOwnProperty.call(t,Xy)&&t[Xy];if(n===Object)return!0;if(!dd(n))return!1;let r=zD.get(n);return r===void 0&&(r=Function.toString.call(n),zD.set(n,r)),r===ude}function Zm(e,t,n=!0){Xm(e)===0?(n?Reflect.ownKeys(e):Pi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Xm(e){const t=e[zr];return t?t.type_:Sb(e)?1:Eb(e)?2:kb(e)?3:0}var UD=(e,t,n=Xm(e))=>n===2?e.has(t):Pi[wb].hasOwnProperty.call(e,t),CE=(e,t,n=Xm(e))=>n===2?e.get(t):e[t],Qy=(e,t,n,r=Xm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function dde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Sb=Array.isArray,Eb=e=>e instanceof Map,kb=e=>e instanceof Set,VT=e=>typeof e=="object",dd=e=>typeof e=="function",H1=e=>typeof e=="boolean",es=e=>e.copy_||e.base_,ZT=e=>e.modified_?e.copy_:e.base_;function NE(e,t){if(Eb(e))return new Map(e);if(kb(e))return new Set(e);if(Sb(e))return Array[wb].slice.call(e);const n=S7(e);if(t===!0||t==="class_only"&&!n){const r=Pi.getOwnPropertyDescriptors(e);delete r[zr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c[ry]===!1&&(c[ry]=!0,c[jE]=!0),(c.get||c.set)&&(r[o]={[jE]:!0,[ry]:!0,[Jy]:c[Jy],[pm]:e[o]})}return Pi.create(Bd(e),r)}else{const r=Bd(e);if(r!==null&&n)return{...e};const i=Pi.create(r);return Pi.assign(i,e)}}function XT(e,t=!1){return Tb(e)||hs(e)||!Ha(e)||(Xm(e)>1&&Pi.defineProperties(e,{set:k0,add:k0,clear:k0,delete:k0}),Pi.freeze(e),t&&Zm(e,(n,r)=>{XT(r,!0)},!1)),e}function fde(){Pa(2)}var k0={[pm]:fde};function Tb(e){return e===null||!VT(e)?!0:Pi.isFrozen(e)}var ev="MapSet",ME="Patches",E7={};function zd(e){const t=E7[e];return t||Pa(0,e),t}var hde=e=>!!E7[e],gm,k7=()=>gm,mde=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hde(ev)?zd(ev):void 0});function HD(e,t){t&&(e.patchPlugin_=zd(ME),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function PE(e){DE(e),e.drafts_.forEach(pde),e.drafts_=null}function DE(e){e===gm&&(gm=e.parent_)}var FD=e=>gm=mde(gm,e);function pde(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function GD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[zr].modified_&&(PE(t),Pa(4)),Ha(e)&&(e=qD(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[zr].base_,e,t)}else e=qD(t,n);return gde(t,e,!0),PE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==w7?e:void 0}function qD(e,t){if(Tb(t))return t;const n=t[zr];if(!n)return JT(t,e.handledSet_,e);if(!Ab(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);O7(n,e)}return n.copy_}function gde(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XT(t,n)}function T7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ab=(e,t)=>e.scope_===t,yde=[];function A7(e,t,n,r){const i=es(e),a=e.type_;if(r!==void 0&&CE(i,r,a)===t){Qy(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Zm(i,(u,f)=>{if(hs(f)){const m=c.get(f)||[];m.push(u),c.set(f,m)}})}const o=e.draftLocations_.get(t)??yde;for(const c of o)Qy(i,c,n,a)}function vde(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Ab(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=ZT(a);A7(e,a.draft_??a,o,n),O7(a,i)})}function O7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}T7(e)}}function bde(e,t,n){const{scope_:r}=e;if(hs(n)){const i=n[zr];Ab(i,r)&&i.callbacks_.push(function(){iy(e);const o=ZT(i);A7(e,n,o,t)})}else Ha(n)&&e.callbacks_.push(function(){const a=es(e);CE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&JT(CE(e.copy_,t,e.type_),r.handledSet_,r)})}function JT(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||hs(e)||t.has(e)||!Ha(e)||Tb(e)||(t.add(e),Zm(e,(r,i)=>{if(hs(i)){const a=i[zr];if(Ab(a,n)){const o=ZT(a);Qy(e,r,o,e.type_),T7(a)}}else Ha(i)&&JT(i,t,n)})),e}function xde(e,t){const n=Sb(e),r={type_:n?1:0,scope_:t?t.scope_:k7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=QT;n&&(i=[r],a=ym);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,[c,r]}var QT={get(e,t){if(t===zr)return e;const n=es(e);if(!UD(n,t,e.type_))return _de(e,n,t);const r=n[t];if(e.finalized_||!Ha(r))return r;if(r===F1(e.base_,t)){iy(e);const i=e.type_===1?+t:t,a=LE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in es(e)},ownKeys(e){return Reflect.ownKeys(es(e))},set(e,t,n){const r=j7(es(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=F1(es(e),t),a=i?.[zr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(dde(n,i)&&(n!==void 0||UD(e.base_,t,e.type_)))return!0;iy(e),RE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),bde(e,t,n)),!0},deleteProperty(e,t){return iy(e),F1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),RE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=es(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ry]:!0,[jE]:e.type_!==1||t!=="length",[Jy]:r[Jy],[pm]:n[t]}},defineProperty(){Pa(11)},getPrototypeOf(e){return Bd(e.base_)},setPrototypeOf(){Pa(12)}},ym={};Zm(QT,(e,t)=>{ym[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});ym.deleteProperty=function(e,t){return ym.set.call(this,e,t,void 0)};ym.set=function(e,t,n){return QT.set.call(this,e[0],t,n,e[0])};function F1(e,t){const n=e[zr];return(n?es(n):e)[t]}function _de(e,t,n){const r=j7(t,n);return r?pm in r?r[pm]:r.get?.call(e.draft_):void 0}function j7(e,t){if(!(t in e))return;let n=Bd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bd(n)}}function RE(e){e.modified_||(e.modified_=!0,e.parent_&&RE(e.parent_))}function iy(e){e.copy_||(e.assigned_=new Map,e.copy_=NE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wde=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(dd(n)&&!dd(r)){const o=r;r=n;const c=this;return function(f=o,...m){return c.produce(f,p=>r.call(this,p,...m))}}dd(r)||Pa(6),i!==void 0&&!dd(i)&&Pa(7);let a;if(Ha(n)){const o=FD(this),c=LE(o,n,void 0);let u=!0;try{a=r(c),u=!1}finally{u?PE(o):DE(o)}return HD(o,i),GD(a,o)}else if(!n||!VT(n)){if(a=r(n),a===void 0&&(a=n),a===w7&&(a=void 0),this.autoFreeze_&&XT(a,!0),i){const o=[],c=[];zd(ME).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else Pa(1,n)},this.produceWithPatches=(n,r)=>{if(dd(n))return(c,...u)=>this.produceWithPatches(c,f=>n(f,...u));let i,a;return[this.produce(n,r,(c,u)=>{i=c,a=u}),i,a]},H1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),H1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),H1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ha(t)||Pa(8),hs(t)&&(t=Ia(t));const n=FD(this),r=LE(n,t,void 0);return r[zr].isManual_=!0,DE(n),r}finishDraft(t,n){const r=t&&t[zr];(!r||!r.isManual_)&&Pa(9);const{scope_:i}=r;return HD(i,n),GD(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=zd(ME).applyPatches_;return hs(t)?i(t,n):this.produce(t,a=>i(a,n))}};function LE(e,t,n,r){const[i,a]=Eb(t)?zd(ev).proxyMap_(t,n):kb(t)?zd(ev).proxySet_(t,n):xde(t,n);return(n?.scope_??k7()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?vde(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function Ia(e){return hs(e)||Pa(10,e),C7(e)}function C7(e){if(!Ha(e)||Tb(e))return e;const t=e[zr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=NE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=NE(e,!0);return Zm(n,(i,a)=>{Qy(n,i,C7(a))},r),t&&(t.finalized_=!1),n}var Sde=new wde,N7=Sde.produce;function M7(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Ede=M7(),kde=M7,Tde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?im:im.apply(null,arguments)};function ha(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Li(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>iB(r)&&r.type===e,n}var P7=class Uh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Uh.prototype)}static get[Symbol.species](){return Uh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Uh(...t[0].concat(this)):new Uh(...t.concat(this))}};function YD(e){return Ha(e)?N7(e,()=>{}):e}function T0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ade(e){return typeof e=="boolean"}var Ode=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new P7;return n&&(Ade(n)?o.push(Ede):o.push(kde(n.extraArgument))),o},D7="RTK_autoBatch",nn=()=>e=>({payload:e,meta:{[D7]:!0}}),KD=e=>t=>{setTimeout(t,e)},R7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KD(10):e.type==="callback"?e.queueNotification:KD(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),g=r.subscribe(p);return c.add(m),()=>{g(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[D7],a=!i,a&&(o||(o=!0,u(f))),r.dispatch(m)}finally{i=!0}}})},jde=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new P7(e);return r&&i.push(R7(typeof r=="object"?r:void 0)),i};function Cde(e){const t=Ode(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Hk(n))c=nB(n);else throw new Error(Li(1));let u;typeof r=="function"?u=r(t):u=t();let f=im;i&&(f=Tde({trace:!1,...typeof i=="object"&&i}));const m=rB(...u),p=jde(m);let g=typeof o=="function"?o(p):p();const b=f(...g);return Fk(c,a,b)}function L7(e){const t={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Li(28));if(c in t)throw new Error(Li(29));return t[c]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Nde(e){return typeof e=="function"}function Mde(e,t){let[n,r,i]=L7(t),a;if(Nde(e))a=()=>YD(e());else{const c=YD(e);a=()=>c}function o(c=a(),u){let f=[n[u.type],...r.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(hs(m)){const b=p(m,u);return b===void 0?m:b}else{if(Ha(m))return N7(m,g=>p(g,u));{const g=p(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},c)}return o.getInitialState=a,o}var Pde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Dde=(e=21)=>{let t="",n=e;for(;n--;)t+=Pde[Math.random()*64|0];return t},Rde=Symbol.for("rtk-slice-createasyncthunk");function Lde(e,t){return`${e}/${t}`}function Ide({creators:e}={}){const t=e?.asyncThunk?.[Rde];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Li(11));const o=(typeof r.reducers=="function"?r.reducers(Bde()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(j,P){const M=typeof j=="string"?j:j.type;if(!M)throw new Error(Li(12));if(M in u.sliceCaseReducersByType)throw new Error(Li(13));return u.sliceCaseReducersByType[M]=P,f},addMatcher(j,P){return u.sliceMatchers.push({matcher:j,reducer:P}),f},exposeAction(j,P){return u.actionCreators[j]=P,f},exposeCaseReducer(j,P){return u.sliceCaseReducersByName[j]=P,f}};c.forEach(j=>{const P=o[j],M={reducerName:j,type:Lde(i,j),createNotation:typeof r.reducers=="function"};Ude(P)?Fde(M,P,f,t):zde(M,P,f)});function m(){const[j={},P=[],M=void 0]=typeof r.extraReducers=="function"?L7(r.extraReducers):[r.extraReducers],D={...j,...u.sliceCaseReducersByType};return Mde(r.initialState,$=>{for(let U in D)$.addCase(U,D[U]);for(let U of u.sliceMatchers)$.addMatcher(U.matcher,U.reducer);for(let U of P)$.addMatcher(U.matcher,U.reducer);M&&$.addDefaultCase(M)})}const p=j=>j,g=new Map,b=new WeakMap;let _;function w(j,P){return _||(_=m()),_(j,P)}function E(){return _||(_=m()),_.getInitialState()}function A(j,P=!1){function M($){let U=$[j];return typeof U>"u"&&P&&(U=T0(b,M,E)),U}function D($=p){const U=T0(g,P,()=>new WeakMap);return T0(U,$,()=>{const Y={};for(const[W,H]of Object.entries(r.selectors??{}))Y[W]=$de(H,$,()=>T0(b,$,E),P);return Y})}return{reducerPath:j,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const C={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...A(a),injectInto(j,{reducerPath:P,...M}={}){const D=P??a;return j.inject({reducerPath:D,reducer:w},M),{...C,...A(D,!0)}}};return C}}function $de(e,t,n,r){function i(a,...o){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var di=Ide();function Bde(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function zde({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Hde(r))throw new Error(Li(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ha(e,o):ha(e))}function Ude(e){return e._reducerDefinitionType==="asyncThunk"}function Hde(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Fde({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Li(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),c&&r.addCase(p.pending,c),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||A0,pending:c||A0,rejected:u||A0,settled:f||A0})}function A0(){}var Gde="task",I7="listener",$7="completed",eA="cancelled",qde=`task-${eA}`,Yde=`task-${$7}`,IE=`${I7}-${eA}`,Kde=`${I7}-${$7}`,Ob=class{constructor(e){this.code=e,this.message=`${Gde} ${eA} (reason: ${e})`}name="TaskAbortError";message},tA=(e,t)=>{if(typeof e!="function")throw new TypeError(Li(32))},tv=()=>{},B7=(e,t=tv)=>(e.catch(t),e),z7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Gc=e=>{if(e.aborted)throw new Ob(e.reason)};function U7(e,t){let n=tv;return new Promise((r,i)=>{const a=()=>i(new Ob(e.reason));if(e.aborted){a();return}n=z7(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=tv})}var Wde=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ob?"cancelled":"rejected",error:n}}finally{t?.()}},nv=e=>t=>B7(U7(e,t).then(n=>(Gc(e),n))),H7=e=>{const t=nv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Td}=Object,WD={},jb="listenerMiddleware",Vde=(e,t)=>{const n=r=>z7(e,()=>r.abort(e.reason));return(r,i)=>{tA(r);const a=new AbortController;n(a);const o=Wde(async()=>{Gc(e),Gc(a.signal);const c=await r({pause:nv(a.signal),delay:H7(a.signal),signal:a.signal});return Gc(a.signal),c},()=>a.abort(Yde));return i?.autoJoin&&t.push(o.catch(tv)),{result:nv(e)(o),cancel(){a.abort(qde)}}}},Zde=(e,t)=>{const n=async(r,i)=>{Gc(t);let a=()=>{};const c=[new Promise((u,f)=>{let m=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await U7(t,Promise.race(c));return Gc(t),u}finally{a()}};return(r,i)=>B7(n(r,i))},F7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ha(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Li(21));return tA(a),{predicate:i,type:t,effect:a}},G7=Td(e=>{const{type:t,predicate:n,effect:r}=F7(e);return{id:Dde(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Li(22))}}},{withTypes:()=>G7}),VD=(e,t)=>{const{type:n,effect:r,predicate:i}=F7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},$E=e=>{e.pending.forEach(t=>{t.abort(IE)})},Xde=(e,t)=>()=>{for(const n of t.keys())$E(n);e.clear()},ZD=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},q7=Td(ha(`${jb}/add`),{withTypes:()=>q7}),Jde=ha(`${jb}/removeAll`),Y7=Td(ha(`${jb}/remove`),{withTypes:()=>Y7}),Qde=(...e)=>{console.error(`${jb}/error`,...e)},Jm=(e={})=>{const t=new Map,n=new Map,r=b=>{const _=n.get(b)??0;n.set(b,_+1)},i=b=>{const _=n.get(b)??1;_===1?n.delete(b):n.set(b,_-1)},{extra:a,onError:o=Qde}=e;tA(o);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),_=>{b.unsubscribe(),_?.cancelActive&&$E(b)}),u=b=>{const _=VD(t,b)??G7(b);return c(_)};Td(u,{withTypes:()=>u});const f=b=>{const _=VD(t,b);return _&&(_.unsubscribe(),b.cancelActive&&$E(_)),!!_};Td(f,{withTypes:()=>f});const m=async(b,_,w,E)=>{const A=new AbortController,C=Zde(u,A.signal),j=[];try{b.pending.add(A),r(b),await Promise.resolve(b.effect(_,Td({},w,{getOriginalState:E,condition:(P,M)=>C(P,M).then(Boolean),take:C,delay:H7(A.signal),pause:nv(A.signal),extra:a,signal:A.signal,fork:Vde(A.signal,j),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((P,M,D)=>{P!==A&&(P.abort(IE),D.delete(P))})},cancel:()=>{A.abort(IE),b.pending.delete(A)},throwIfCancelled:()=>{Gc(A.signal)}})))}catch(P){P instanceof Ob||ZD(o,P,{raisedBy:"effect"})}finally{await Promise.all(j),A.abort(Kde),i(b),b.pending.delete(A)}},p=Xde(t,n);return{middleware:b=>_=>w=>{if(!iB(w))return _(w);if(q7.match(w))return u(w.payload);if(Jde.match(w)){p();return}if(Y7.match(w))return f(w.payload);let E=b.getState();const A=()=>{if(E===WD)throw new Error(Li(23));return E};let C;try{if(C=_(w),t.size>0){const j=b.getState(),P=Array.from(t.values());for(const M of P){let D=!1;try{D=M.predicate(w,j,E)}catch($){D=!1,ZD(o,$,{raisedBy:"predicate"})}D&&m(M,w,b,A)}}}finally{E=WD}return C},startListening:u,stopListening:f,clearListeners:p}};function Li(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var efe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},K7=di({name:"chartLayout",initialState:efe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tfe,setLayout:nfe,setChartSize:rfe,setScale:ife}=K7.actions,afe=K7.reducer;function W7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function XD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(n),!0).forEach(function(r){ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ofe(e,t,n){return(t=sfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sfe(e){var t=lfe(e,"string");return typeof t=="symbol"?t:t+""}function lfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,n){return vr(e)||vr(t)?n:_o(t)?xb(e,t,n):typeof t=="function"?t(e):n}var cfe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&Ke(e[a]))return gd(gd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&Ke(e[o]))return gd(gd({},e),{},{[o]:e[o]+(i||0)})}return e},_s=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",V7=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(t),a||o.push(n),o},Z7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:g,axisType:b}=e;if(!o)return null;var _=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(w=b==="angleAxis"&&a&&a.length>=2?oa(a[0]-a[1])*2*w:w,p||g){var E=(p||g||[]).map((A,C)=>{var j=r?r.indexOf(A):A;return{coordinate:o(j)+w,value:A,offset:w,index:C}});return E.filter(A=>!Ua(A.coordinate))}return u&&f?f.map((A,C)=>({coordinate:o(A)+w,value:A,index:C,offset:w})):o.ticks&&m!=null?o.ticks(m).map((A,C)=>({coordinate:o(A)+w,value:A,offset:w,index:C})):o.domain().map((A,C)=>({coordinate:o(A)+w,value:r?r[A]:A,index:C,offset:w}))},JD=1e-4,ufe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-JD,a=Math.max(r[0],r[1])+JD,o=e(t[0]),c=e(t[n-1]);(o<i||o>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},dfe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var c=Ua(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},ffe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=Ua(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},hfe={sign:dfe,expand:tue,none:$d,silhouette:nue,wiggle:rue,positive:ffe},mfe=(e,t,n)=>{var r=hfe[n],i=eue().keys(t).value((a,o)=>Number(Ar(a,o,0))).order(OE).offset(r);return i(e)};function pfe(e){return e==null?void 0:String(e)}function QD(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vr(i[t.dataKey])){var c=s7(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Ar(i,vr(o)?t.dataKey:o);return vr(u)?null:t.scale(u)}var gfe=e=>{var t=e.flat(2).filter(Ke);return[Math.min(...t),Math.max(...t)]},yfe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vfe=(e,t,n)=>{if(e!=null)return yfe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,c=o.reduce((u,f)=>{var m=W7(f,t,n),p=gfe(m);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},eR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=_b(t,m=>m.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function nR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return gd(gd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function X7(e,t){if(e)return String(e);if(typeof t=="string")return t}var bfe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},xfe=(e,t)=>t==="centric"?e.angle:e.radius,ws=e=>e.layout.width,Ss=e=>e.layout.height,_fe=e=>e.layout.scale,J7=e=>e.layout.margin,Cb=_e(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Nb=_e(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wfe="data-recharts-item-index",Sfe="data-recharts-item-data-key",Qm=60;function rR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(n),!0).forEach(function(r){Efe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Efe(e,t,n){return(t=kfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kfe(e){var t=Tfe(e,"string");return typeof t=="symbol"?t:t+""}function Tfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Afe=e=>e.brush.height;function Ofe(e){var t=Nb(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Qm;return n+i}return n},0)}function jfe(e){var t=Nb(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Qm;return n+i}return n},0)}function Cfe(e){var t=Cb(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Nfe(e){var t=Cb(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xr=_e([ws,Ss,J7,Afe,Ofe,jfe,Cfe,Nfe,_7,sde],(e,t,n,r,i,a,o,c,u,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},g=O0(O0({},p),m),b=g.bottom;g.bottom+=r,g=cfe(g,u,f);var _=e-g.left-g.right,w=t-g.top-g.bottom;return O0(O0({brushBottom:b},g),{},{width:Math.max(_,0),height:Math.max(w,0)})}),Mfe=_e(xr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Q7=_e(ws,Ss,(e,t)=>({x:0,y:0,width:e,height:t})),Pfe=S.createContext(null),fi=()=>S.useContext(Pfe)!=null,Mb=e=>e.brush,Pb=_e([Mb,xr,J7],(e,t,n)=>({height:e.height,x:Ke(e.x)?e.x:t.left,y:Ke(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ke(e.width)?e.width:t.width})),G1={},q1={},Y1={},iR;function Dfe(){return iR||(iR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{f&&m(),w()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},_=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{_(),o=void 0,c=null},E=()=>{m()},A=function(...C){if(i?.aborted)return;o=this,c=C;const j=g==null;b(),u&&j&&m()};return A.schedule=b,A.cancel=w,A.flush=E,i?.addEventListener("abort",w,{once:!0}),A}e.debounce=t})(Y1)),Y1}var aR;function Rfe(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dfe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const g=t.debounce(function(...w){m=r.apply(this,w),p=null},i,{edges:f}),b=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(m=r.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,w),m)},_=()=>(g.flush(),m);return b.cancel=g.cancel,b.flush=_,b}e.debounce=n})(q1)),q1}var oR;function Lfe(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rfe();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(G1)),G1}var K1,sR;function Ife(){return sR||(sR=1,K1=Lfe().throttle),K1}var $fe=Ife();const Bfe=ui($fe);var iv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},e6=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,c=fs(r)?e:Number(r),u=fs(i)?t:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},zfe={width:0,height:0,overflow:"visible"},Ufe={width:0,overflowX:"visible"},Hfe={height:0,overflowY:"visible"},Ffe={},Gfe=e=>{var{width:t,height:n}=e,r=fs(t),i=fs(n);return r&&i?zfe:r?Ufe:i?Hfe:Ffe};function qfe(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function _n(e){return Number.isFinite(e)}function wo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BE.apply(null,arguments)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){Yfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yfe(e,t,n){return(t=Kfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kfe(e){var t=Wfe(e,"string");return typeof t=="symbol"?t:t+""}function Wfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t6=S.createContext({width:-1,height:-1});function Vfe(e){return wo(e.width)&&wo(e.height)}function n6(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return Vfe(i)?S.createElement(t6.Provider,{value:i},t):null}var nA=()=>S.useContext(t6),Zfe=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:m=0,id:p,className:g,onResize:b,style:_={}}=e,w=S.useRef(null),E=S.useRef();E.current=b,S.useImperativeHandle(t,()=>w.current);var[A,C]=S.useState({containerWidth:r.width,containerHeight:r.height}),j=S.useCallback((U,Y)=>{C(W=>{var H=Math.round(U),G=Math.round(Y);return W.containerWidth===H&&W.containerHeight===G?W:{containerWidth:H,containerHeight:G}})},[]);S.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Vm;var U=G=>{var Z,{width:X,height:Q}=G[0].contentRect;j(X,Q),(Z=E.current)===null||Z===void 0||Z.call(E,X,Q)};m>0&&(U=Bfe(U,m,{trailing:!0,leading:!1}));var Y=new ResizeObserver(U),{width:W,height:H}=w.current.getBoundingClientRect();return j(W,H),Y.observe(w.current),()=>{Y.disconnect()}},[j,m]);var{containerWidth:P,containerHeight:M}=A;iv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:$}=e6(P,M,{width:i,height:a,aspect:n,maxHeight:u});return iv(D!=null&&D>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,i,a,o,c,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Xt("recharts-responsive-container",g),style:cR(cR({},_),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:w},S.createElement("div",{style:Gfe({width:i,height:a})},S.createElement(n6,{width:D,height:$},f)))}),Xfe=S.forwardRef((e,t)=>{var n=nA();if(wo(n.width)&&wo(n.height))return e.children;var{width:r,height:i}=qfe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=e6(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ke(a)&&Ke(o)?S.createElement(n6,{width:a,height:o},e.children):S.createElement(Zfe,BE({},e,{width:r,height:i,ref:t}))});function r6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Db=()=>{var e,t=fi(),n=Ve(Mfe),r=Ve(Pb),i=(e=Ve(Mb))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Jfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},i6=()=>{var e;return(e=Ve(xr))!==null&&e!==void 0?e:Jfe},a6=()=>Ve(ws),o6=()=>Ve(Ss),Kt=e=>e.layout.layoutType,ep=()=>Ve(Kt),Qfe=()=>{var e=ep();if(e==="horizontal"||e==="vertical")return e},ehe=()=>{var e=ep();return e!==void 0},Rb=e=>{var t=sr(),n=fi(),{width:r,height:i}=e,a=nA(),o=r,c=i;return a&&(o=a.width>0?a.width:r,c=a.height>0?a.height:i),S.useEffect(()=>{!n&&wo(o)&&wo(c)&&t(rfe({width:o,height:c}))},[t,n,o,c]),null},s6=Symbol.for("immer-nothing"),uR=Symbol.for("immer-draftable"),$i=Symbol.for("immer-state");function Da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vm=Object.getPrototypeOf;function Ud(e){return!!e&&!!e[$i]}function Xc(e){return e?l6(e)||Array.isArray(e)||!!e[uR]||!!e.constructor?.[uR]||tp(e)||Ib(e):!1}var the=Object.prototype.constructor.toString(),dR=new WeakMap;function l6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dR.get(n);return r===void 0&&(r=Function.toString.call(n),dR.set(n,r)),r===the}function av(e,t,n=!0){Lb(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Lb(e){const t=e[$i];return t?t.type_:Array.isArray(e)?1:tp(e)?2:Ib(e)?3:0}function zE(e,t){return Lb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c6(e,t,n){const r=Lb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nhe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tp(e){return e instanceof Map}function Ib(e){return e instanceof Set}function Dc(e){return e.copy_||e.base_}function UE(e,t){if(tp(e))return new Map(e);if(Ib(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=l6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$i];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(vm(e),r)}else{const r=vm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function rA(e,t=!1){return $b(e)||Ud(e)||!Xc(e)||(Lb(e)>1&&Object.defineProperties(e,{set:j0,add:j0,clear:j0,delete:j0}),Object.freeze(e),t&&Object.values(e).forEach(n=>rA(n,!0))),e}function rhe(){Da(2)}var j0={value:rhe};function $b(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ihe={};function Jc(e){const t=ihe[e];return t||Da(0,e),t}var bm;function u6(){return bm}function ahe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fR(e,t){t&&(Jc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function HE(e){FE(e),e.drafts_.forEach(ohe),e.drafts_=null}function FE(e){e===bm&&(bm=e.parent_)}function hR(e){return bm=ahe(bm,e)}function ohe(e){const t=e[$i];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$i].modified_&&(HE(t),Da(4)),Xc(e)&&(e=ov(t,e),t.parent_||sv(t,e)),t.patches_&&Jc("Patches").generateReplacementPatches_(n[$i].base_,e,t.patches_,t.inversePatches_)):e=ov(t,n,[]),HE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==s6?e:void 0}function ov(e,t,n){if($b(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[$i];if(!i)return av(t,(a,o)=>pR(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return sv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),av(o,(u,f)=>pR(e,i,a,u,f,n,c),r),sv(e,a,!1),n&&e.patches_&&Jc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function pR(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=$b(i);if(!(c&&!o)){if(Ud(i)){const u=a&&t&&t.type_!==3&&!zE(t.assigned_,r)?a.concat(r):void 0,f=ov(e,i,u);if(c6(n,r,f),Ud(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Xc(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;ov(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(tp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sv(e,i)}}}function sv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rA(t,n)}function she(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:u6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=iA;n&&(i=[r],a=xm);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var iA={get(e,t){if(t===$i)return e;const n=Dc(e);if(!zE(n,t))return lhe(e,n,t);const r=n[t];return e.finalized_||!Xc(r)?r:r===W1(e.base_,t)?(V1(e),e.copy_[t]=qE(r,e)):r},has(e,t){return t in Dc(e)},ownKeys(e){return Reflect.ownKeys(Dc(e))},set(e,t,n){const r=d6(Dc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=W1(Dc(e),t),a=i?.[$i];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(nhe(n,i)&&(n!==void 0||zE(e.base_,t)))return!0;V1(e),GE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return W1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,V1(e),GE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Dc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Da(11)},getPrototypeOf(e){return vm(e.base_)},setPrototypeOf(){Da(12)}},xm={};av(iA,(e,t)=>{xm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xm.deleteProperty=function(e,t){return xm.set.call(this,e,t,void 0)};xm.set=function(e,t,n){return iA.set.call(this,e[0],t,n,e[0])};function W1(e,t){const n=e[$i];return(n?Dc(n):e)[t]}function lhe(e,t,n){const r=d6(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function d6(e,t){if(!(t in e))return;let n=vm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=vm(n)}}function GE(e){e.modified_||(e.modified_=!0,e.parent_&&GE(e.parent_))}function V1(e){e.copy_||(e.copy_=UE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var che=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,m=>n.call(this,m,...f))}}typeof n!="function"&&Da(6),r!==void 0&&typeof r!="function"&&Da(7);let i;if(Xc(t)){const a=hR(this),o=qE(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?HE(a):FE(a)}return fR(a,r),mR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===s6&&(i=void 0),this.autoFreeze_&&rA(i,!0),r){const a=[],o=[];Jc("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Da(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xc(e)||Da(8),Ud(e)&&(e=uhe(e));const t=hR(this),n=qE(e,void 0);return n[$i].isManual_=!0,FE(t),n}finishDraft(e,t){const n=e&&e[$i];(!n||!n.isManual_)&&Da(9);const{scope_:r}=n;return fR(r,t),mR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Jc("Patches").applyPatches_;return Ud(e)?r(e,t):this.produce(e,i=>r(i,t))}};function qE(e,t){const n=tp(e)?Jc("MapSet").proxyMap_(e,t):Ib(e)?Jc("MapSet").proxySet_(e,t):she(e,t);return(t?t.scope_:u6()).drafts_.push(n),n}function uhe(e){return Ud(e)||Da(10,e),f6(e)}function f6(e){if(!Xc(e)||$b(e))return e;const t=e[$i];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=UE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=UE(e,!0);return av(n,(i,a)=>{c6(n,i,f6(a))},r),t&&(t.finalized_=!1),n}var dhe=new che;dhe.produce;var fhe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},h6=di({name:"legend",initialState:fhe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ia(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:nn()},removeLegendPayload:{reducer(e,t){var n=Ia(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:nn()}}}),{setLegendSize:KAe,setLegendSettings:WAe,addLegendPayload:hhe,replaceLegendPayload:mhe,removeLegendPayload:phe}=h6.actions,ghe=h6.reducer;function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YE.apply(null,arguments)}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){yhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yhe(e,t,n){return(t=vhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vhe(e){var t=bhe(e,"string");return typeof t=="symbol"?t:t+""}function bhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xhe(e){return Array.isArray(e)&&_o(e[0])&&_o(e[1])?e.join(" ~ "):e}var _he=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:g=!1}=e,b=()=>{if(a&&a.length){var M={padding:0,margin:0},D=(c?_b(a,c):a).map(($,U)=>{if($.type==="none")return null;var Y=$.formatter||o||xhe,{value:W,name:H}=$,G=W,Z=H;if(Y){var X=Y(W,H,$,U,a);if(Array.isArray(X))[G,Z]=X;else if(X!=null)G=X;else return null}var Q=Z1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Q},_o(Z)?S.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,_o(Z)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},G),S.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},_=Z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Z1({margin:0},i),E=!vr(m),A=E?m:"",C=Xt("recharts-default-tooltip",u),j=Xt("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(A=p(m,a));var P=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",YE({className:C,style:_},P),S.createElement("p",{className:j,style:w},S.isValidElement(A)?A:"".concat(A)),b())},Nh="recharts-tooltip-wrapper",whe={visibility:"hidden"};function She(e){var{coordinate:t,translateX:n,translateY:r}=e;return Xt(Nh,{["".concat(Nh,"-right")]:Ke(n)&&t&&Ke(t.x)&&n>=t.x,["".concat(Nh,"-left")]:Ke(n)&&t&&Ke(t.x)&&n<t.x,["".concat(Nh,"-bottom")]:Ke(r)&&t&&Ke(t.y)&&r>=t.y,["".concat(Nh,"-top")]:Ke(r)&&t&&Ke(t.y)&&r<t.y})}function yR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=e;if(a&&Ke(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?m:p;var g=u[r];if(g==null)return 0;if(o[r]){var b=m,_=g;return b<_?Math.max(p,g):Math.max(m,g)}if(f==null)return 0;var w=p+c,E=g+f;return w>E?Math.max(m,g):Math.max(p,g)}function Ehe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function khe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,f,m,p;return o.height>0&&o.width>0&&n?(m=yR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=yR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=Ehe({translateX:m,translateY:p,useTranslate3d:c})):f=whe,{cssProperties:f,cssClasses:She({translateX:m,translateY:p,coordinate:n})}}function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(r){KE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KE(e,t,n){return(t=The(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function The(e){var t=Ahe(e,"string");return typeof t=="symbol"?t:t+""}function Ahe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ohe extends S.PureComponent{constructor(){super(...arguments),KE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),KE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:b,wrapperStyle:_,lastBoundingBox:w,innerRef:E,hasPortalFromProps:A}=this.props,{cssClasses:C,cssProperties:j}=khe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:b}),P=A?{}:C0(C0({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=C0(C0({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},_);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:M,ref:E},a)}}var m6=()=>{var e;return(e=Ve(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WE.apply(null,arguments)}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(n),!0).forEach(function(r){jhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jhe(e,t,n){return(t=Che(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Che(e){var t=Nhe(e,"string");return typeof t=="symbol"?t:t+""}function Nhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R={curveBasisClosed:Fce,curveBasisOpen:Gce,curveBasis:Hce,curveBumpX:zce,curveBumpY:Uce,curveLinearClosed:qce,curveLinear:vb,curveMonotoneX:Yce,curveMonotoneY:Kce,curveNatural:Wce,curveStep:Vce,curveStepAfter:Xce,curveStepBefore:Zce},lv=e=>_n(e.x)&&_n(e.y),wR=e=>e.base!=null&&lv(e.base)&&lv(e),Mh=e=>e.x,Ph=e=>e.y,Mhe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(qT(e));return(n==="curveMonotone"||n==="curveBump")&&t?_R["".concat(n).concat(t==="vertical"?"Y":"X")]:_R[n]||vb},Phe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Mhe(t,i),c=a?n.filter(lv):n,u;if(Array.isArray(r)){var f=n.map((b,_)=>xR(xR({},b),{},{base:r[_]}));i==="vertical"?u=w0().y(Ph).x1(Mh).x0(b=>b.base.x):u=w0().x(Mh).y1(Ph).y0(b=>b.base.y);var m=u.defined(wR).curve(o),p=a?f.filter(wR):f;return m(p)}i==="vertical"&&Ke(r)?u=w0().y(Ph).x1(Mh).x0(r):Ke(r)?u=w0().x(Mh).y1(Ph).y0(r):u=Z4().x(Mh).y(Ph);var g=u.defined(lv).curve(o);return g(c)},ay=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Phe(e):r;return S.createElement("path",WE({},za(e),YT(e),{className:Xt("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Dhe=["x","y","top","left","width","height","className"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(null,arguments)}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(r){Lhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lhe(e,t,n){return(t=Ihe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ihe(e){var t=$he(e,"string");return typeof t=="symbol"?t:t+""}function $he(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bhe(e,t){if(e==null)return{};var n,r,i=zhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uhe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Hhe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=e,u=Bhe(e,Dhe),f=Rhe({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Ke(t)||!Ke(n)||!Ke(a)||!Ke(o)||!Ke(r)||!Ke(i)?null:S.createElement("path",VE({},fa(f),{className:Xt("recharts-cross",c),d:Uhe(t,n,a,o,r,i)}))};function Fhe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){Ghe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ghe(e,t,n){return(t=qhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qhe(e){var t=Yhe(e,"string");return typeof t=="symbol"?t:t+""}function Yhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Khe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Whe=(e,t,n)=>e.map(r=>"".concat(Khe(r)," ").concat(t,"ms ").concat(n)).join(","),Vhe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),_m=(e,t)=>Object.keys(t).reduce((n,r)=>kR(kR({},n),{},{[r]:e(r,t[r])}),{});function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){Zhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zhe(e,t,n){return(t=Xhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xhe(e){var t=Jhe(e,"string");return typeof t=="symbol"?t:t+""}function Jhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cv=(e,t,n)=>e+(t-e)*n,ZE=e=>{var{from:t,to:n}=e;return t!==n},p6=(e,t,n)=>{var r=_m((i,a)=>{if(ZE(a)){var[o,c]=e(a.from,a.to,a.velocity);return Fn(Fn({},a),{},{from:o,velocity:c})}return a},t);return n<1?_m((i,a)=>ZE(a)?Fn(Fn({},a),{},{velocity:cv(a.velocity,r[i].velocity,n),from:cv(a.from,r[i].from,n)}):a,t):p6(e,r,n-1)};function Qhe(e,t,n,r,i,a){var o,c=r.reduce((g,b)=>Fn(Fn({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),u=()=>_m((g,b)=>b.from,c),f=()=>!Object.values(c).filter(ZE).length,m=null,p=g=>{o||(o=g);var b=g-o,_=b/n.dt;c=p6(n,c,_),i(Fn(Fn(Fn({},e),t),u())),o=g,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var g;(g=m)===null||g===void 0||g()})}function eme(e,t,n,r,i,a,o){var c=null,u=i.reduce((p,g)=>Fn(Fn({},p),{},{[g]:[e[g],t[g]]}),{}),f,m=p=>{f||(f=p);var g=(p-f)/r,b=_m((w,E)=>cv(...E,n(g)),u);if(a(Fn(Fn(Fn({},e),t),b)),g<1)c=o.setTimeout(m);else{var _=_m((w,E)=>cv(...E,n(1)),u);a(Fn(Fn(Fn({},e),t),_))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const tme=(e,t,n,r,i,a)=>{var o=Vhe(e,t);return n==null?()=>(i(Fn(Fn({},e),t)),()=>{}):n.isStepper===!0?Qhe(e,t,n,o,i,a):eme(e,t,n,r,o,i,a)};var uv=1e-4,g6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],y6=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),AR=(e,t)=>n=>{var r=g6(e,t);return y6(r,n)},nme=(e,t)=>n=>{var r=g6(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return y6(i,n)},rme=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},ime=(e,t,n,r)=>{var i=AR(e,n),a=AR(t,r),o=nme(e,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var m=f>1?1:f,p=m,g=0;g<8;++g){var b=i(p)-m,_=o(p);if(Math.abs(b-m)<uv||_<uv)return a(p);p=c(p-b/_)}return a(p)};return u.isStepper=!1,u},OR=function(){return ime(...rme(...arguments))},ame=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,c,u)=>{var f=-(o-c)*n,m=u*r,p=u+(f-m)*i/1e3,g=u*i/1e3+o;return Math.abs(g-c)<uv&&Math.abs(p)<uv?[c,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},ome=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OR(e);case"spring":return ame();default:if(e.split("(")[0]==="cubic-bezier")return OR(e)}return typeof e=="function"?e:null};function sme(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class lme{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function cme(){return sme(new lme)}var ume=S.createContext(cme);function dme(e,t){var n=S.useContext(ume);return S.useMemo(()=>t??n(e),[e,t,n])}var fme=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rf={devToolsEnabled:!1,isSsr:fme()},hme={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jR={t:0},X1={t:1};function v6(e){var t=Ui(e,hme),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=t,m=n==="auto"?!rf.isSsr:n,p=dme(t.animationId,t.animationManager),[g,b]=S.useState(m?jR:X1),_=S.useRef(null);return S.useEffect(()=>{m||b(X1)},[m]),S.useEffect(()=>{if(!m||!r)return Vm;var w=tme(jR,X1,ome(a),i,b,p.getTimeoutController()),E=()=>{_.current=w()};return p.start([u,o,E,i,c]),()=>{p.stop(),_.current&&_.current(),c()}},[m,r,i,a,o,u,c,p]),f(g.t)}function b6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(mm(t)),r=S.useRef(e);return r.current!==e&&(n.current=mm(t),r.current=e),n.current}var mme=["radius"],pme=["radius"];function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gme(e,t,n){return(t=yme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yme(e){var t=vme(e,"string");return typeof t=="symbol"?t:t+""}function vme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(null,arguments)}function MR(e,t){if(e==null)return{};var n,r,i=bme(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PR=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*m[1])),f+="L ".concat(e+n,",").concat(t+r-o*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);f="M ".concat(e,",").concat(t+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+n-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*b,`
            L `).concat(e+n,",").concat(t+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n-c*b,",").concat(t+r,`
            L `).concat(e+c*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*b," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},DR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xme=e=>{var t=Ui(e,DR),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:f,className:m}=t,{animationEasing:p,animationDuration:g,animationBegin:b,isAnimationActive:_,isUpdateAnimationActive:w}=t,E=S.useRef(c),A=S.useRef(u),C=S.useRef(a),j=S.useRef(o),P=S.useMemo(()=>({x:a,y:o,width:c,height:u,radius:f}),[a,o,c,u,f]),M=b6(P,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var D=Xt("recharts-rectangle",m);if(!w){var $=fa(t),{radius:U}=$,Y=MR($,mme);return S.createElement("path",dv({},Y,{radius:typeof f=="number"?f:void 0,className:D,d:PR(a,o,c,u,f)}))}var W=E.current,H=A.current,G=C.current,Z=j.current,X="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),q=Whe(["strokeDasharray"],g,typeof p=="string"?p:DR.animationEasing);return S.createElement(v6,{animationId:M,key:M,canBegin:r>0,duration:g,easing:p,isActive:w,begin:b},J=>{var ie=mo(W,c,J),fe=mo(H,u,J),se=mo(G,a,J),B=mo(Z,o,J);n.current&&(E.current=ie,A.current=fe,C.current=se,j.current=B);var K;_?J>0?K={transition:q,strokeDasharray:Q}:K={strokeDasharray:X}:K={strokeDasharray:Q};var ae=fa(t),{radius:V}=ae,oe=MR(ae,pme);return S.createElement("path",dv({},oe,{radius:typeof f=="number"?f:void 0,className:D,d:PR(se,B,ie,fe,f),ref:n,style:NR(NR({},K),t.style)}))})};function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(r){_me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _me(e,t,n){return(t=wme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wme(e){var t=Sme(e,"string");return typeof t=="symbol"?t:t+""}function Sme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fv=Math.PI/180,Eme=e=>e*180/Math.PI,yr=(e,t,n,r)=>({x:e+Math.cos(-fv*r)*n,y:t+Math.sin(-fv*r)*n}),kme=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Tme=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Ame=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Tme({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Eme(u),angleInRadian:u}},Ome=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},jme=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Cme=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Ame({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=Ome(t),m=a,p;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;p=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=u}return p?LR(LR({},t),{},{radius:i,angle:jme(m,t)}):null};function x6(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=yr(t,n,r,i),c=yr(t,n,r,a);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}var Nme=(e,t)=>{var n=oa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},N0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,f=c*(o?1:-1)+r,m=Math.asin(c/f)/fv,p=u?i:i+a*m,g=yr(t,n,f,p),b=yr(t,n,r,p),_=u?i-a*m:i,w=yr(t,n,f*Math.cos(m*fv),_);return{center:g,circleTangency:b,lineTangency:w,theta:m}},_6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,c=Nme(a,o),u=a+c,f=yr(t,n,i,a),m=yr(t,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var g=yr(t,n,r,a),b=yr(t,n,r,u);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Mme=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=e,m=oa(f-u),{circleTangency:p,lineTangency:g,theta:b}=N0({cx:t,cy:n,radius:i,angle:u,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:_,lineTangency:w,theta:E}=N0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),A=c?Math.abs(u-f):Math.abs(u-f)-b-E;if(A<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_6({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:P,theta:M}=N0({cx:t,cy:n,radius:r,angle:u,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:D,lineTangency:$,theta:U}=N0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),Y=c?Math.abs(u-f):Math.abs(u-f)-M-U;if(Y<0&&a===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},Pme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dme=e=>{var t=Ui(e,Pme),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var g=Xt("recharts-sector",p),b=a-i,_=Ol(o,b,0,!0),w;return _>0&&Math.abs(f-m)<360?w=Mme({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):w=_6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),S.createElement("path",XE({},fa(t),{className:g,d:w}))};function Rme(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(l7(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:c}=t,u=yr(r,i,a,c),f=yr(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return x6(t)}}var J1={},Q1={},eS={},IR;function Lme(){return IR||(IR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(eS)),eS}var $R;function Ime(){return $R||($R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lme();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Q1)),Q1}var BR;function $me(){return BR||(BR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),n=Ime();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}e.range=r})(J1)),J1}var tS,zR;function Bme(){return zR||(zR=1,tS=$me().range),tS}var zme=Bme();const w6=ui(zme);function Sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ume(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aA(e){let t,n,r;e.length!==2?(t=Sl,n=(c,u)=>Sl(e(c),u),r=(c,u)=>e(c)-u):(t=e===Sl||e===Ume?e:Hme,n=e,r=e);function i(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<0?f=p+1:m=p}while(f<m)}return f}function a(c,u,f=0,m=c.length){if(f<m){if(t(u,u)!==0)return m;do{const p=f+m>>>1;n(c[p],u)<=0?f=p+1:m=p}while(f<m)}return f}function o(c,u,f=0,m=c.length){const p=i(c,u,f,m-1);return p>f&&r(c[p-1],u)>-r(c[p],u)?p-1:p}return{left:i,center:o,right:a}}function Hme(){return 0}function S6(e){return e===null?NaN:+e}function*Fme(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Gme=aA(Sl),np=Gme.right;aA(S6).center;class UR extends Map{constructor(t,n=Kme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(HR(this,t))}has(t){return super.has(HR(this,t))}set(t,n){return super.set(qme(this,t),n)}delete(t){return super.delete(Yme(this,t))}}function HR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function qme({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Yme({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Kme(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Wme(e=Sl){if(e===Sl)return E6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function E6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Vme=Math.sqrt(50),Zme=Math.sqrt(10),Xme=Math.sqrt(2);function hv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Vme?10:a>=Zme?5:a>=Xme?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=n&&n<2?hv(e,t,n*2):[c,u,f]}function JE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?hv(t,e,n):hv(e,t,n);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(a-f)/-o;else for(let f=0;f<c;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function QE(e,t,n){return t=+t,e=+e,n=+n,hv(e,t,n)[2]}function ek(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?QE(t,e,n):QE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function FR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k6(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?E6:Wme(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,m=Math.log(u),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(u-p)/u)*(f-u/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/u+g)),_=Math.min(r,Math.floor(t+(u-f)*p/u+g));k6(e,t,b,_,i)}const a=e[t];let o=n,c=r;for(Dh(e,n,t),i(e[r],a)>0&&Dh(e,n,r);o<c;){for(Dh(e,o,c),++o,--c;i(e[o],a)<0;)++o;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Dh(e,n,c):(++c,Dh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Dh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Jme(e,t,n){if(e=Float64Array.from(Fme(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return GR(e);if(t>=1)return FR(e);var r,i=(r-1)*t,a=Math.floor(i),o=FR(k6(e,a).subarray(0,a+1)),c=GR(e.subarray(a+1));return o+(c-o)*(i-a)}}function Qme(e,t,n=S6){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return o+(c-o)*(i-a)}}function epe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tk=Symbol("implicit");function oA(){var e=new UR,t=[],n=[],r=tk;function i(a){let o=e.get(a);if(o===void 0){if(r!==tk)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new UR;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return oA(t,n).unknown(r)},ga.apply(i,arguments),i}function sA(){var e=oA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,c=!1,u=0,f=0,m=.5;delete e.unknown;function p(){var g=t().length,b=i<r,_=b?i:r,w=b?r:i;a=(w-_)/Math.max(1,g-u+f*2),c&&(a=Math.floor(a)),_+=(w-_-a*(g-u))*m,o=a*(1-u),c&&(_=Math.round(_),o=Math.round(o));var E=epe(g).map(function(A){return _+a*A});return n(b?E.reverse():E)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},e.copy=function(){return sA(t(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(m)},ga.apply(p(),arguments)}function T6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T6(t())},e}function tpe(){return T6(sA.apply(null,arguments).paddingInner(1))}function lA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function A6(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rp(){}var wm=.7,mv=1/wm,Ad="\\s*([+-]?\\d+)\\s*",Sm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",npe=/^#([0-9a-f]{3,8})$/,rpe=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),ipe=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),ape=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${Sm}\\)$`),ope=new RegExp(`^rgba\\(${vo},${vo},${vo},${Sm}\\)$`),spe=new RegExp(`^hsl\\(${Sm},${vo},${vo}\\)$`),lpe=new RegExp(`^hsla\\(${Sm},${vo},${vo},${Sm}\\)$`),qR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lA(rp,Em,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YR,formatHex:YR,formatHex8:cpe,formatHsl:upe,formatRgb:KR,toString:KR});function YR(){return this.rgb().formatHex()}function cpe(){return this.rgb().formatHex8()}function upe(){return O6(this).formatHsl()}function KR(){return this.rgb().formatRgb()}function Em(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=npe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?WR(t):n===3?new oi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?M0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?M0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rpe.exec(e))?new oi(t[1],t[2],t[3],1):(t=ipe.exec(e))?new oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ape.exec(e))?M0(t[1],t[2],t[3],t[4]):(t=ope.exec(e))?M0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=spe.exec(e))?XR(t[1],t[2]/100,t[3]/100,1):(t=lpe.exec(e))?XR(t[1],t[2]/100,t[3]/100,t[4]):qR.hasOwnProperty(e)?WR(qR[e]):e==="transparent"?new oi(NaN,NaN,NaN,0):null}function WR(e){return new oi(e>>16&255,e>>8&255,e&255,1)}function M0(e,t,n,r){return r<=0&&(e=t=n=NaN),new oi(e,t,n,r)}function dpe(e){return e instanceof rp||(e=Em(e)),e?(e=e.rgb(),new oi(e.r,e.g,e.b,e.opacity)):new oi}function nk(e,t,n,r){return arguments.length===1?dpe(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lA(oi,nk,A6(rp,{brighter(e){return e=e==null?mv:Math.pow(mv,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wm:Math.pow(wm,e),new oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oi(qc(this.r),qc(this.g),qc(this.b),pv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VR,formatHex:VR,formatHex8:fpe,formatRgb:ZR,toString:ZR}));function VR(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function fpe(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZR(){const e=pv(this.opacity);return`${e===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${e===1?")":`, ${e})`}`}function pv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zc(e){return e=qc(e),(e<16?"0":"")+e.toString(16)}function XR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ra(e,t,n,r)}function O6(e){if(e instanceof Ra)return new Ra(e.h,e.s,e.l,e.opacity);if(e instanceof rp||(e=Em(e)),!e)return new Ra;if(e instanceof Ra)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,c=a-i,u=(a+i)/2;return c?(t===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new Ra(o,c,u,e.opacity)}function hpe(e,t,n,r){return arguments.length===1?O6(e):new Ra(e,t,n,r??1)}function Ra(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lA(Ra,hpe,A6(rp,{brighter(e){return e=e==null?mv:Math.pow(mv,e),new Ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wm:Math.pow(wm,e),new Ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new oi(nS(e>=240?e-240:e+120,i,r),nS(e,i,r),nS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ra(JR(this.h),P0(this.s),P0(this.l),pv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pv(this.opacity);return`${e===1?"hsl(":"hsla("}${JR(this.h)}, ${P0(this.s)*100}%, ${P0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JR(e){return e=(e||0)%360,e<0?e+360:e}function P0(e){return Math.max(0,Math.min(1,e||0))}function nS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cA=e=>()=>e;function mpe(e,t){return function(n){return e+n*t}}function ppe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gpe(e){return(e=+e)==1?j6:function(t,n){return n-t?ppe(t,n,e):cA(isNaN(t)?n:t)}}function j6(e,t){var n=t-e;return n?mpe(e,n):cA(isNaN(e)?t:e)}const QR=(function e(t){var n=gpe(t);function r(i,a){var o=n((i=nk(i)).r,(a=nk(a)).r),c=n(i.g,a.g),u=n(i.b,a.b),f=j6(i.opacity,a.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=u(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function ype(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function vpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bpe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=af(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function xpe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _pe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=af(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var rk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rS=new RegExp(rk.source,"g");function wpe(e){return function(){return e}}function Spe(e){return function(t){return e(t)+""}}function Epe(e,t){var n=rk.lastIndex=rS.lastIndex=0,r,i,a,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=rk.exec(e))&&(i=rS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:gv(r,i)})),n=rS.lastIndex;return n<t.length&&(a=t.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?Spe(u[0].x):wpe(t):(t=u.length,function(f){for(var m=0,p;m<t;++m)c[(p=u[m]).i]=p.x(f);return c.join("")})}function af(e,t){var n=typeof t,r;return t==null||n==="boolean"?cA(t):(n==="number"?gv:n==="string"?(r=Em(t))?(t=r,QR):Epe:t instanceof Em?QR:t instanceof Date?xpe:vpe(t)?ype:Array.isArray(t)?bpe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_pe:gv)(e,t)}function uA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kpe(e,t){t===void 0&&(t=e,e=af);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function Tpe(e){return function(){return e}}function yv(e){return+e}var eL=[0,1];function Lr(e){return e}function ik(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Tpe(isNaN(t)?NaN:.5)}function Ape(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ope(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ik(i,r),a=n(o,a)):(r=ik(r,i),a=n(a,o)),function(c){return a(r(c))}}function jpe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ik(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(c){var u=np(e,c,1,r)-1;return a[u](i[u](c))}}function ip(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bb(){var e=eL,t=eL,n=af,r,i,a,o=Lr,c,u,f;function m(){var g=Math.min(e.length,t.length);return o!==Lr&&(o=Ape(e[0],e[g-1])),c=g>2?jpe:Ope,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?a:(u||(u=c(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((f||(f=c(t,e.map(r),gv)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,yv),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=uA,m()},p.clamp=function(g){return arguments.length?(o=g?!0:Lr,m()):o!==Lr},p.interpolate=function(g){return arguments.length?(n=g,m()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,b){return r=g,i=b,m()}}function dA(){return Bb()(Lr,Lr)}function Cpe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hd(e){return e=vv(Math.abs(e)),e?e[1]:NaN}function Npe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),a.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Mpe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ppe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function km(e){if(!(t=Ppe.exec(e)))throw new Error("invalid format: "+e);var t;return new fA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}km.prototype=fA.prototype;function fA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dpe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var C6;function Rpe(e,t){var n=vv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(C6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+vv(e,Math.max(0,t+a-1))[0]}function tL(e,t){var n=vv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cpe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tL(e*100,t),r:tL,s:Rpe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rL(e){return e}var iL=Array.prototype.map,aL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lpe(e){var t=e.grouping===void 0||e.thousands===void 0?rL:Npe(iL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?rL:Mpe(iL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=km(p);var g=p.fill,b=p.align,_=p.sign,w=p.symbol,E=p.zero,A=p.width,C=p.comma,j=p.precision,P=p.trim,M=p.type;M==="n"?(C=!0,M="g"):nL[M]||(j===void 0&&(j=12),P=!0,M="g"),(E||g==="0"&&b==="=")&&(E=!0,g="0",b="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=w==="$"?r:/[%p]/.test(M)?o:"",U=nL[M],Y=/[defgprs%]/.test(M);j=j===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function W(H){var G=D,Z=$,X,Q,q;if(M==="c")Z=U(H)+Z,H="";else{H=+H;var J=H<0||1/H<0;if(H=isNaN(H)?u:U(Math.abs(H),j),P&&(H=Dpe(H)),J&&+H==0&&_!=="+"&&(J=!1),G=(J?_==="("?_:c:_==="-"||_==="("?"":_)+G,Z=(M==="s"?aL[8+C6/3]:"")+Z+(J&&_==="("?")":""),Y){for(X=-1,Q=H.length;++X<Q;)if(q=H.charCodeAt(X),48>q||q>57){Z=(q===46?i+H.slice(X+1):H.slice(X))+Z,H=H.slice(0,X);break}}}C&&!E&&(H=t(H,1/0));var ie=G.length+H.length+Z.length,fe=ie<A?new Array(A-ie+1).join(g):"";switch(C&&E&&(H=t(fe+H,fe.length?A-Z.length:1/0),fe=""),b){case"<":H=G+H+Z+fe;break;case"=":H=G+fe+H+Z;break;case"^":H=fe.slice(0,ie=fe.length>>1)+G+H+Z+fe.slice(ie);break;default:H=fe+G+H+Z;break}return a(H)}return W.toString=function(){return p+""},W}function m(p,g){var b=f((p=km(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Hd(g)/3)))*3,w=Math.pow(10,-_),E=aL[8+_/3];return function(A){return b(w*A)+E}}return{format:f,formatPrefix:m}}var D0,hA,N6;Ipe({thousands:",",grouping:[3],currency:["$",""]});function Ipe(e){return D0=Lpe(e),hA=D0.format,N6=D0.formatPrefix,D0}function $pe(e){return Math.max(0,-Hd(Math.abs(e)))}function Bpe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hd(t)/3)))*3-Hd(Math.abs(e)))}function zpe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hd(t)-Hd(e))+1}function M6(e,t,n,r){var i=ek(e,t,n),a;switch(r=km(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Bpe(i,o))&&(r.precision=a),N6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zpe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$pe(i))&&(r.precision=a-(r.type==="%")*2);break}}return hA(r)}function Ml(e){var t=e.domain;return e.ticks=function(n){var r=t();return JE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return M6(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],c=r[a],u,f,m=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=QE(o,c,n),f===u)return r[i]=o,r[a]=c,t(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function P6(){var e=dA();return e.copy=function(){return ip(e,P6())},ga.apply(e,arguments),Ml(e)}function D6(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return D6(e).unknown(t)},e=arguments.length?Array.from(e,yv):[0,1],Ml(n)}function R6(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function oL(e){return Math.log(e)}function sL(e){return Math.exp(e)}function Upe(e){return-Math.log(-e)}function Hpe(e){return-Math.exp(-e)}function Fpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Gpe(e){return e===10?Fpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qpe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lL(e){return(t,n)=>-e(-t,n)}function mA(e){const t=e(oL,sL),n=t.domain;let r=10,i,a;function o(){return i=qpe(r),a=Gpe(r),n()[0]<0?(i=lL(i),a=lL(a),e(Upe,Hpe)):e(oL,sL),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let f=u[0],m=u[u.length-1];const p=m<f;p&&([f,m]=[m,f]);let g=i(f),b=i(m),_,w;const E=c==null?10:+c;let A=[];if(!(r%1)&&b-g<E){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(_=1;_<r;++_)if(w=g<0?_/a(-g):_*a(g),!(w<f)){if(w>m)break;A.push(w)}}else for(;g<=b;++g)for(_=r-1;_>=1;--_)if(w=g>0?_/a(-g):_*a(g),!(w<f)){if(w>m)break;A.push(w)}A.length*2<E&&(A=JE(f,m,E))}else A=JE(g,b,Math.min(b-g,E)).map(a);return p?A.reverse():A},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=km(u)).precision==null&&(u.trim=!0),u=hA(u)),c===1/0)return u;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?u(m):""}},t.nice=()=>n(R6(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function L6(){const e=mA(Bb()).domain([1,10]);return e.copy=()=>ip(e,L6()).base(e.base()),ga.apply(e,arguments),e}function cL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pA(e){var t=1,n=e(cL(t),uL(t));return n.constant=function(r){return arguments.length?e(cL(t=+r),uL(t)):t},Ml(n)}function I6(){var e=pA(Bb());return e.copy=function(){return ip(e,I6()).constant(e.constant())},ga.apply(e,arguments)}function dL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ype(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kpe(e){return e<0?-e*e:e*e}function gA(e){var t=e(Lr,Lr),n=1;function r(){return n===1?e(Lr,Lr):n===.5?e(Ype,Kpe):e(dL(n),dL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ml(t)}function yA(){var e=gA(Bb());return e.copy=function(){return ip(e,yA()).exponent(e.exponent())},ga.apply(e,arguments),e}function Wpe(){return yA.apply(null,arguments).exponent(.5)}function fL(e){return Math.sign(e)*e*e}function Vpe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $6(){var e=dA(),t=[0,1],n=!1,r;function i(a){var o=Vpe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(fL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,yv)).map(fL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $6(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ga.apply(i,arguments),Ml(i)}function B6(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=Qme(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:t[np(n,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Sl),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return B6().domain(e).range(t).unknown(r)},ga.apply(a,arguments)}function z6(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[np(r,u,0,n)]:a}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return z6().domain([e,t]).range(i).unknown(a)},ga.apply(Ml(o),arguments)}function U6(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[np(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return U6().domain(e).range(t).unknown(n)},ga.apply(i,arguments)}const iS=new Date,aS=new Date;function Yn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let f;do u.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return u},i.filter=a=>Yn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(iS.setTime(+a),aS.setTime(+o),e(iS),e(aS),Math.floor(n(iS,aS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const bv=Yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bv);bv.range;const is=1e3,sa=is*60,as=sa*60,ms=as*24,vA=ms*7,hL=ms*30,oS=ms*365,Uc=Yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCSeconds());Uc.range;const bA=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());bA.range;const xA=Yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());xA.range;const _A=Yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getHours());_A.range;const wA=Yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getUTCHours());wA.range;const ap=Yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/ms,e=>e.getDate()-1);ap.range;const zb=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ms,e=>e.getUTCDate()-1);zb.range;const H6=Yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ms,e=>Math.floor(e/ms));H6.range;function au(e){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*sa)/vA)}const Ub=au(0),xv=au(1),Zpe=au(2),Xpe=au(3),Fd=au(4),Jpe=au(5),Qpe=au(6);Ub.range;xv.range;Zpe.range;Xpe.range;Fd.range;Jpe.range;Qpe.range;function ou(e){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vA)}const Hb=ou(0),_v=ou(1),ege=ou(2),tge=ou(3),Gd=ou(4),nge=ou(5),rge=ou(6);Hb.range;_v.range;ege.range;tge.range;Gd.range;nge.range;rge.range;const SA=Yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SA.range;const EA=Yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());EA.range;const ps=Yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ps.range;const gs=Yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});gs.range;function F6(e,t,n,r,i,a){const o=[[Uc,1,is],[Uc,5,5*is],[Uc,15,15*is],[Uc,30,30*is],[a,1,sa],[a,5,5*sa],[a,15,15*sa],[a,30,30*sa],[i,1,as],[i,3,3*as],[i,6,6*as],[i,12,12*as],[r,1,ms],[r,2,2*ms],[n,1,vA],[t,1,hL],[t,3,3*hL],[e,1,oS]];function c(f,m,p){const g=m<f;g&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:u(f,m,p),_=b?b.range(f,+m+1):[];return g?_.reverse():_}function u(f,m,p){const g=Math.abs(m-f)/p,b=aA(([,,E])=>E).right(o,g);if(b===o.length)return e.every(ek(f/oS,m/oS,p));if(b===0)return bv.every(Math.max(ek(f,m,p),1));const[_,w]=o[g/o[b-1][2]<o[b][2]/g?b-1:b];return _.every(w)}return[c,u]}const[ige,age]=F6(gs,EA,Hb,H6,wA,xA),[oge,sge]=F6(ps,SA,Ub,ap,_A,bA);function sS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function lge(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=Lh(i),m=Ih(i),p=Lh(a),g=Ih(a),b=Lh(o),_=Ih(o),w=Lh(c),E=Ih(c),A=Lh(u),C=Ih(u),j={a:J,A:ie,b:fe,B:se,c:null,d:bL,e:bL,f:Nge,g:Uge,G:Fge,H:Oge,I:jge,j:Cge,L:G6,m:Mge,M:Pge,p:B,q:K,Q:wL,s:SL,S:Dge,u:Rge,U:Lge,V:Ige,w:$ge,W:Bge,x:null,X:null,y:zge,Y:Hge,Z:Gge,"%":_L},P={a:ae,A:V,b:oe,B:pe,c:null,d:xL,e:xL,f:Wge,g:i0e,G:o0e,H:qge,I:Yge,j:Kge,L:Y6,m:Vge,M:Zge,p:ye,q:ue,Q:wL,s:SL,S:Xge,u:Jge,U:Qge,V:e0e,w:t0e,W:n0e,x:null,X:null,y:r0e,Y:a0e,Z:s0e,"%":_L},M={a:W,A:H,b:G,B:Z,c:X,d:yL,e:yL,f:Ege,g:gL,G:pL,H:vL,I:vL,j:xge,L:Sge,m:bge,M:_ge,p:Y,q:vge,Q:Tge,s:Age,S:wge,u:hge,U:mge,V:pge,w:fge,W:gge,x:Q,X:q,y:gL,Y:pL,Z:yge,"%":kge};j.x=D(n,j),j.X=D(r,j),j.c=D(t,j),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(te,Se){return function(je){var de=[],Le=-1,Oe=0,Ce=te.length,Pe,Qe,st;for(je instanceof Date||(je=new Date(+je));++Le<Ce;)te.charCodeAt(Le)===37&&(de.push(te.slice(Oe,Le)),(Qe=mL[Pe=te.charAt(++Le)])!=null?Pe=te.charAt(++Le):Qe=Pe==="e"?" ":"0",(st=Se[Pe])&&(Pe=st(je,Qe)),de.push(Pe),Oe=Le+1);return de.push(te.slice(Oe,Le)),de.join("")}}function $(te,Se){return function(je){var de=Rh(1900,void 0,1),Le=U(de,te,je+="",0),Oe,Ce;if(Le!=je.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Se&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Oe=lS(Rh(de.y,0,1)),Ce=Oe.getUTCDay(),Oe=Ce>4||Ce===0?_v.ceil(Oe):_v(Oe),Oe=zb.offset(Oe,(de.V-1)*7),de.y=Oe.getUTCFullYear(),de.m=Oe.getUTCMonth(),de.d=Oe.getUTCDate()+(de.w+6)%7):(Oe=sS(Rh(de.y,0,1)),Ce=Oe.getDay(),Oe=Ce>4||Ce===0?xv.ceil(Oe):xv(Oe),Oe=ap.offset(Oe,(de.V-1)*7),de.y=Oe.getFullYear(),de.m=Oe.getMonth(),de.d=Oe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Ce="Z"in de?lS(Rh(de.y,0,1)).getUTCDay():sS(Rh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Ce+5)%7:de.w+de.U*7-(Ce+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,lS(de)):sS(de)}}function U(te,Se,je,de){for(var Le=0,Oe=Se.length,Ce=je.length,Pe,Qe;Le<Oe;){if(de>=Ce)return-1;if(Pe=Se.charCodeAt(Le++),Pe===37){if(Pe=Se.charAt(Le++),Qe=M[Pe in mL?Se.charAt(Le++):Pe],!Qe||(de=Qe(te,je,de))<0)return-1}else if(Pe!=je.charCodeAt(de++))return-1}return de}function Y(te,Se,je){var de=f.exec(Se.slice(je));return de?(te.p=m.get(de[0].toLowerCase()),je+de[0].length):-1}function W(te,Se,je){var de=b.exec(Se.slice(je));return de?(te.w=_.get(de[0].toLowerCase()),je+de[0].length):-1}function H(te,Se,je){var de=p.exec(Se.slice(je));return de?(te.w=g.get(de[0].toLowerCase()),je+de[0].length):-1}function G(te,Se,je){var de=A.exec(Se.slice(je));return de?(te.m=C.get(de[0].toLowerCase()),je+de[0].length):-1}function Z(te,Se,je){var de=w.exec(Se.slice(je));return de?(te.m=E.get(de[0].toLowerCase()),je+de[0].length):-1}function X(te,Se,je){return U(te,t,Se,je)}function Q(te,Se,je){return U(te,n,Se,je)}function q(te,Se,je){return U(te,r,Se,je)}function J(te){return o[te.getDay()]}function ie(te){return a[te.getDay()]}function fe(te){return u[te.getMonth()]}function se(te){return c[te.getMonth()]}function B(te){return i[+(te.getHours()>=12)]}function K(te){return 1+~~(te.getMonth()/3)}function ae(te){return o[te.getUTCDay()]}function V(te){return a[te.getUTCDay()]}function oe(te){return u[te.getUTCMonth()]}function pe(te){return c[te.getUTCMonth()]}function ye(te){return i[+(te.getUTCHours()>=12)]}function ue(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Se=D(te+="",j);return Se.toString=function(){return te},Se},parse:function(te){var Se=$(te+="",!1);return Se.toString=function(){return te},Se},utcFormat:function(te){var Se=D(te+="",P);return Se.toString=function(){return te},Se},utcParse:function(te){var Se=$(te+="",!0);return Se.toString=function(){return te},Se}}}var mL={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,cge=/^%/,uge=/[\\^$*+?|[\]().{}]/g;function Et(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function dge(e){return e.replace(uge,"\\$&")}function Lh(e){return new RegExp("^(?:"+e.map(dge).join("|")+")","i")}function Ih(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function fge(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function hge(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function mge(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pge(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gge(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pL(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yge(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vge(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function bge(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function xge(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function vL(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _ge(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function wge(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Sge(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ege(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kge(e,t,n){var r=cge.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Tge(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Age(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bL(e,t){return Et(e.getDate(),t,2)}function Oge(e,t){return Et(e.getHours(),t,2)}function jge(e,t){return Et(e.getHours()%12||12,t,2)}function Cge(e,t){return Et(1+ap.count(ps(e),e),t,3)}function G6(e,t){return Et(e.getMilliseconds(),t,3)}function Nge(e,t){return G6(e,t)+"000"}function Mge(e,t){return Et(e.getMonth()+1,t,2)}function Pge(e,t){return Et(e.getMinutes(),t,2)}function Dge(e,t){return Et(e.getSeconds(),t,2)}function Rge(e){var t=e.getDay();return t===0?7:t}function Lge(e,t){return Et(Ub.count(ps(e)-1,e),t,2)}function q6(e){var t=e.getDay();return t>=4||t===0?Fd(e):Fd.ceil(e)}function Ige(e,t){return e=q6(e),Et(Fd.count(ps(e),e)+(ps(e).getDay()===4),t,2)}function $ge(e){return e.getDay()}function Bge(e,t){return Et(xv.count(ps(e)-1,e),t,2)}function zge(e,t){return Et(e.getFullYear()%100,t,2)}function Uge(e,t){return e=q6(e),Et(e.getFullYear()%100,t,2)}function Hge(e,t){return Et(e.getFullYear()%1e4,t,4)}function Fge(e,t){var n=e.getDay();return e=n>=4||n===0?Fd(e):Fd.ceil(e),Et(e.getFullYear()%1e4,t,4)}function Gge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function xL(e,t){return Et(e.getUTCDate(),t,2)}function qge(e,t){return Et(e.getUTCHours(),t,2)}function Yge(e,t){return Et(e.getUTCHours()%12||12,t,2)}function Kge(e,t){return Et(1+zb.count(gs(e),e),t,3)}function Y6(e,t){return Et(e.getUTCMilliseconds(),t,3)}function Wge(e,t){return Y6(e,t)+"000"}function Vge(e,t){return Et(e.getUTCMonth()+1,t,2)}function Zge(e,t){return Et(e.getUTCMinutes(),t,2)}function Xge(e,t){return Et(e.getUTCSeconds(),t,2)}function Jge(e){var t=e.getUTCDay();return t===0?7:t}function Qge(e,t){return Et(Hb.count(gs(e)-1,e),t,2)}function K6(e){var t=e.getUTCDay();return t>=4||t===0?Gd(e):Gd.ceil(e)}function e0e(e,t){return e=K6(e),Et(Gd.count(gs(e),e)+(gs(e).getUTCDay()===4),t,2)}function t0e(e){return e.getUTCDay()}function n0e(e,t){return Et(_v.count(gs(e)-1,e),t,2)}function r0e(e,t){return Et(e.getUTCFullYear()%100,t,2)}function i0e(e,t){return e=K6(e),Et(e.getUTCFullYear()%100,t,2)}function a0e(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function o0e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Gd(e):Gd.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function s0e(){return"+0000"}function _L(){return"%"}function wL(e){return+e}function SL(e){return Math.floor(+e/1e3)}var rd,W6,V6;l0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l0e(e){return rd=lge(e),W6=rd.format,rd.parse,V6=rd.utcFormat,rd.utcParse,rd}function c0e(e){return new Date(e)}function u0e(e){return e instanceof Date?+e:+new Date(+e)}function kA(e,t,n,r,i,a,o,c,u,f){var m=dA(),p=m.invert,g=m.domain,b=f(".%L"),_=f(":%S"),w=f("%I:%M"),E=f("%I %p"),A=f("%a %d"),C=f("%b %d"),j=f("%B"),P=f("%Y");function M(D){return(u(D)<D?b:c(D)<D?_:o(D)<D?w:a(D)<D?E:r(D)<D?i(D)<D?A:C:n(D)<D?j:P)(D)}return m.invert=function(D){return new Date(p(D))},m.domain=function(D){return arguments.length?g(Array.from(D,u0e)):g().map(c0e)},m.ticks=function(D){var $=g();return e($[0],$[$.length-1],D??10)},m.tickFormat=function(D,$){return $==null?M:f($)},m.nice=function(D){var $=g();return(!D||typeof D.range!="function")&&(D=t($[0],$[$.length-1],D??10)),D?g(R6($,D)):m},m.copy=function(){return ip(m,kA(e,t,n,r,i,a,o,c,u,f))},m}function d0e(){return ga.apply(kA(oge,sge,ps,SA,Ub,ap,_A,bA,Uc,W6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f0e(){return ga.apply(kA(ige,age,gs,EA,Hb,zb,wA,xA,Uc,V6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fb(){var e=0,t=1,n,r,i,a,o=Lr,c=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(g){var b,_;return arguments.length?([b,_]=g,o=p(b,_),f):[o(0),o(1)]}}return f.range=m(af),f.rangeRound=m(uA),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Z6(){var e=Ml(Fb()(Lr));return e.copy=function(){return Pl(e,Z6())},Es.apply(e,arguments)}function X6(){var e=mA(Fb()).domain([1,10]);return e.copy=function(){return Pl(e,X6()).base(e.base())},Es.apply(e,arguments)}function J6(){var e=pA(Fb());return e.copy=function(){return Pl(e,J6()).constant(e.constant())},Es.apply(e,arguments)}function TA(){var e=gA(Fb());return e.copy=function(){return Pl(e,TA()).exponent(e.exponent())},Es.apply(e,arguments)}function h0e(){return TA.apply(null,arguments).exponent(.5)}function Q6(){var e=[],t=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((np(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Jme(e,a/r))},n.copy=function(){return Q6(t).domain(e)},Es.apply(n,arguments)}function Gb(){var e=0,t=.5,n=1,r=1,i,a,o,c,u,f=Lr,m,p=!1,g;function b(w){return isNaN(w=+w)?g:(w=.5+((w=+m(w))-a)*(r*w<r*a?c:u),f(p?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,n]=w,i=m(e=+e),a=m(t=+t),o=m(n=+n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(w){return arguments.length?(p=!!w,b):p},b.interpolator=function(w){return arguments.length?(f=w,b):f};function _(w){return function(E){var A,C,j;return arguments.length?([A,C,j]=E,f=kpe(w,[A,C,j]),b):[f(0),f(.5),f(1)]}}return b.range=_(af),b.rangeRound=_(uA),b.unknown=function(w){return arguments.length?(g=w,b):g},function(w){return m=w,i=w(e),a=w(t),o=w(n),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,b}}function e9(){var e=Ml(Gb()(Lr));return e.copy=function(){return Pl(e,e9())},Es.apply(e,arguments)}function t9(){var e=mA(Gb()).domain([.1,1,10]);return e.copy=function(){return Pl(e,t9()).base(e.base())},Es.apply(e,arguments)}function n9(){var e=pA(Gb());return e.copy=function(){return Pl(e,n9()).constant(e.constant())},Es.apply(e,arguments)}function AA(){var e=gA(Gb());return e.copy=function(){return Pl(e,AA()).exponent(e.exponent())},Es.apply(e,arguments)}function m0e(){return AA.apply(null,arguments).exponent(.5)}const Hh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sA,scaleDiverging:e9,scaleDivergingLog:t9,scaleDivergingPow:AA,scaleDivergingSqrt:m0e,scaleDivergingSymlog:n9,scaleIdentity:D6,scaleImplicit:tk,scaleLinear:P6,scaleLog:L6,scaleOrdinal:oA,scalePoint:tpe,scalePow:yA,scaleQuantile:B6,scaleQuantize:z6,scaleRadial:$6,scaleSequential:Z6,scaleSequentialLog:X6,scaleSequentialPow:TA,scaleSequentialQuantile:Q6,scaleSequentialSqrt:h0e,scaleSequentialSymlog:J6,scaleSqrt:Wpe,scaleSymlog:I6,scaleThreshold:U6,scaleTime:d0e,scaleUtc:f0e,tickFormat:M6},Symbol.toStringTag,{value:"Module"}));var Dl=e=>e.chartData,p0e=_e([Dl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),OA=(e,t,n,r)=>r?p0e(e):Dl(e);function jl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(_n(t)&&_n(n))return!0}return!1}function EL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function r9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(_n(n))i=n;else if(typeof n=="function")return;if(_n(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(jl(o))return o}}function g0e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(jl(r))return EL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Ke(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&eR.test(i)){var u=eR.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Ke(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&tR.test(a)){var m=tR.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var g=[o,c];if(jl(g))return t==null?g:EL(g,t,n)}}}var of=1e9,y0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CA,rn=!0,ma="[DecimalError] ",Yc=ma+"Invalid argument: ",jA=ma+"Exponent out of range: ",sf=Math.floor,Rc=Math.pow,v0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ni,ir=1e7,Zt=7,i9=9007199254740991,wv=sf(i9/Zt),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return ss(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return Ut(ss(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Ln(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ni))throw Error(ma+"NaN");if(n.s<1)throw Error(ma+(n.s?"NaN":"-Infinity"));return n.eq(Ni)?new r(0):(rn=!1,t=ss(Tm(n,a),Tm(e,a),a),rn=!0,Ut(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s9(t,e):a9(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ma+"NaN");return n.s?(rn=!1,t=ss(n,e,0,1).times(e),rn=!0,n.minus(t)):Ut(new r(n),i)};$e.naturalExponential=$e.exp=function(){return o9(this)};$e.naturalLogarithm=$e.ln=function(){return Tm(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a9(t,e):s9(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yc+e);if(t=Ln(i)+1,r=i.d.length-1,n=r*Zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(ma+"NaN")}for(e=Ln(c),rn=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=go(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=sf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(ss(c,a,o+2)).times(.5),go(a.d).slice(0,o)===(t=go(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ut(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;o+=4}return rn=!0,Ut(r,n)};$e.times=$e.mul=function(e){var t,n,r,i,a,o,c,u,f,m=this,p=m.constructor,g=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,u=g.length,f=b.length,u<f&&(a=g,g=b,b=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)c=a[i]+b[r]*g[i-r-1]+t,a[i--]=c%ir|0,t=c/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,rn?Ut(e,p.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(So(e,0,of),t===void 0?t=r.rounding:So(t,0,8),Ut(n,e+Ln(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Qc(r,!0):(So(e,0,of),t===void 0?t=i.rounding:So(t,0,8),r=Ut(new i(r),e+1,t),n=Qc(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Qc(i):(So(e,0,of),t===void 0?t=a.rounding:So(t,0,8),r=Ut(new a(i),e+Ln(i)+1,t),n=Qc(r.abs(),!1,e+Ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Ut(new t(e),Ln(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,i,a,o,c=this,u=c.constructor,f=12,m=+(e=new u(e));if(!e.s)return new u(Ni);if(c=new u(c),!c.s){if(e.s<1)throw Error(ma+"Infinity");return c}if(c.eq(Ni))return c;if(r=u.precision,e.eq(Ni))return Ut(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=m<0?-m:m)<=i9){for(i=new u(Ni),t=Math.ceil(r/Zt+4),rn=!1;n%2&&(i=i.times(c),TL(i.d,t)),n=sf(n/2),n!==0;)c=c.times(c),TL(c.d,t);return rn=!0,e.s<0?new u(Ni).div(i):Ut(i,r)}}else if(a<0)throw Error(ma+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,rn=!1,i=e.times(Tm(c,r+f)),rn=!0,i=o9(i),i.s=a,i};$e.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ln(i),r=Qc(i,n<=a.toExpNeg||n>=a.toExpPos)):(So(e,1,of),t===void 0?t=a.rounding:So(t,0,8),i=Ut(new a(i),e,t),n=Ln(i),r=Qc(i,e<=n||n<=a.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(So(e,1,of),t===void 0?t=r.rounding:So(t,0,8)),Ut(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),n=e.constructor;return Qc(e,t<=n.toExpNeg||t>=n.toExpPos)};function a9(e,t){var n,r,i,a,o,c,u,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),rn?Ut(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(p/Zt),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=u.length,a=f.length,c-a<0&&(a=c,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ir|0,u[a]%=ir;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,rn?Ut(t,p):t}function So(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Yc+e)}function go(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Zt-r.length,n&&(a+=ml(n)),a+=r;o=e[t],r=o+"",n=Zt-r.length,n&&(a+=ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ss=(function(){function e(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%ir|0,o=a/ir|0;return o&&r.unshift(o),r}function t(r,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ir+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,u,f,m,p,g,b,_,w,E,A,C,j,P,M,D,$,U,Y=r.constructor,W=r.s==i.s?1:-1,H=r.d,G=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(ma+"Division by zero");for(u=r.e-i.e,$=G.length,M=H.length,b=new Y(W),_=b.d=[],f=0;G[f]==(H[f]||0);)++f;if(G[f]>(H[f]||0)&&--u,a==null?C=a=Y.precision:o?C=a+(Ln(r)-Ln(i))+1:C=a,C<0)return new Y(0);if(C=C/Zt+2|0,f=0,$==1)for(m=0,G=G[0],C++;(f<M||m)&&C--;f++)j=m*ir+(H[f]||0),_[f]=j/G|0,m=j%G|0;else{for(m=ir/(G[0]+1)|0,m>1&&(G=e(G,m),H=e(H,m),$=G.length,M=H.length),P=$,w=H.slice(0,$),E=w.length;E<$;)w[E++]=0;U=G.slice(),U.unshift(0),D=G[0],G[1]>=ir/2&&++D;do m=0,c=t(G,w,$,E),c<0?(A=w[0],$!=E&&(A=A*ir+(w[1]||0)),m=A/D|0,m>1?(m>=ir&&(m=ir-1),p=e(G,m),g=p.length,E=w.length,c=t(p,w,g,E),c==1&&(m--,n(p,$<g?U:G,g))):(m==0&&(c=m=1),p=G.slice()),g=p.length,g<E&&p.unshift(0),n(w,p,E),c==-1&&(E=w.length,c=t(G,w,$,E),c<1&&(m++,n(w,$<E?U:G,E))),E=w.length):c===0&&(m++,w=[0]),_[f++]=m,c&&w[0]?w[E++]=H[P]||0:(w=[H[P]],E=1);while((P++<M||w[0]!==void 0)&&C--)}return _[0]||_.shift(),b.e=u,Ut(b,o?a+Ln(b)+1:a)}})();function o9(e,t){var n,r,i,a,o,c,u=0,f=0,m=e.constructor,p=m.precision;if(Ln(e)>16)throw Error(jA+Ln(e));if(!e.s)return new m(Ni);for(rn=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Rc(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(Ni),m.precision=c;;){if(i=Ut(i.times(e),c),n=n.times(++u),o=a.plus(ss(i,n,c)),go(o.d).slice(0,c)===go(a.d).slice(0,c)){for(;f--;)a=Ut(a.times(a),c);return m.precision=p,t==null?(rn=!0,Ut(a,p)):a}a=o}}function Ln(e){for(var t=e.e*Zt,n=e.d[0];n>=10;n/=10)t++;return t}function cS(e,t,n){if(t>e.LN10.sd())throw rn=!0,n&&(e.precision=n),Error(ma+"LN10 precision limit exceeded");return Ut(new e(e.LN10),t)}function ml(e){for(var t="";e--;)t+="0";return t}function Tm(e,t){var n,r,i,a,o,c,u,f,m,p=1,g=10,b=e,_=b.d,w=b.constructor,E=w.precision;if(b.s<1)throw Error(ma+(b.s?"NaN":"-Infinity"));if(b.eq(Ni))return new w(0);if(t==null?(rn=!1,f=E):f=t,b.eq(10))return t==null&&(rn=!0),cS(w,f);if(f+=g,w.precision=f,n=go(_),r=n.charAt(0),a=Ln(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=go(b.d),r=n.charAt(0),p++;a=Ln(b),r>1?(b=new w("0."+n),a++):b=new w(r+"."+n.slice(1))}else return u=cS(w,f+2,E).times(a+""),b=Tm(new w(r+"."+n.slice(1)),f-g).plus(u),w.precision=E,t==null?(rn=!0,Ut(b,E)):b;for(c=o=b=ss(b.minus(Ni),b.plus(Ni),f),m=Ut(b.times(b),f),i=3;;){if(o=Ut(o.times(m),f),u=c.plus(ss(o,new w(i),f)),go(u.d).slice(0,f)===go(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(cS(w,f+2,E).times(a+""))),c=ss(c,new w(p),f),w.precision=E,t==null?(rn=!0,Ut(c,E)):c;c=u,i+=2}}function kL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=sf(n/Zt),e.d=[],r=(n+1)%Zt,n<0&&(r+=Zt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Zt;r<i;)e.d.push(+t.slice(r,r+=Zt));t=t.slice(r),r=Zt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),rn&&(e.e>wv||e.e<-wv))throw Error(jA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ut(e,t,n){var r,i,a,o,c,u,f,m,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Zt,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/Zt),a=p.length,m>=a)return e;for(f=a=p[m],o=1;a>=10;a/=10)o++;r%=Zt,i=r-Zt+o}if(n!==void 0&&(a=Rc(10,o-i-1),c=f/a%10|0,u=t<0||p[m+1]!==void 0||f%a,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/Rc(10,o-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=Ln(e),p.length=1,t=t-a-1,p[0]=Rc(10,(Zt-t%Zt)%Zt),e.e=sf(-t/Zt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=Rc(10,Zt-r),p[m]=i>0?(f/Rc(10,o-i)%Rc(10,i)|0)*a:0),u)for(;;)if(m==0){(p[0]+=a)==ir&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=ir)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(rn&&(e.e>wv||e.e<-wv))throw Error(jA+Ln(e));return e}function s9(e,t){var n,r,i,a,o,c,u,f,m,p,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),rn?Ut(t,b):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(m=o<0,m?(n=u,o=-o,c=p.length):(n=p,r=f,c=u.length),i=Math.max(Math.ceil(b/Zt),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(u[i]!=p[i]){m=u[i]<p[i];break}o=0}for(m&&(n=u,u=p,p=n,t.s=-t.s),c=u.length,i=p.length-c;i>0;--i)u[c++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ir-1;--u[a],u[i]+=ir}u[i]-=p[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,rn?Ut(t,b):t):new g(0)}function Qc(e,t,n){var r,i=Ln(e),a=go(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ml(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ml(-i-1)+a,n&&(r=n-o)>0&&(a+=ml(r))):i>=o?(a+=ml(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ml(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ml(r))),e.s<0?"-"+a:a}function TL(e,t){if(e.length>t)return e.length=t,!0}function l9(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Yc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return kL(o,a.toString())}else if(typeof a!="string")throw Error(Yc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,v0e.test(a))kL(o,a);else throw Error(Yc+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=l9,i.config=i.set=b0e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function b0e(e){if(!e||typeof e!="object")throw Error(ma+"Object expected");var t,n,r,i=["precision",1,of,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(sf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Yc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Yc+n+": "+r);return this}var CA=l9(y0e);Ni=new CA(1);const Pt=CA;var x0e=e=>e,c9={},u9=e=>e===c9,AL=e=>function t(){return arguments.length===0||arguments.length===1&&u9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},d9=(e,t)=>e===1?t:AL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==c9).length;return a>=e?t(...r):d9(e-a,AL(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(m=>u9(m)?c.shift():m);return t(...f,...c)}))}),_0e=e=>d9(e.length,e),ak=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},w0e=_0e((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),S0e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return x0e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),a(...arguments))}},ok=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function f9(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function h9(e,t,n){for(var r=new Pt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var m9=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},p9=(e,t,n)=>{if(e.lte(0))return new Pt(0);var r=f9(e.toNumber()),i=new Pt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,c=new Pt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Pt(u.toNumber()):new Pt(Math.ceil(u.toNumber()))},E0e=(e,t,n)=>{var r=new Pt(1),i=new Pt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Pt(10).pow(f9(e)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pt(Math.floor(e)))}else e===0?i=new Pt(Math.floor((t-1)/2)):n||(i=new Pt(Math.floor(e)));var o=Math.floor((t-1)/2),c=S0e(w0e(u=>i.add(new Pt(u-o).mul(r)).toNumber()),ak);return c(0,t)},g9=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var o=p9(new Pt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Pt(0):(c=new Pt(t).add(n).div(2),c=c.sub(new Pt(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Pt(n).sub(c).div(o).toNumber()),m=u+f+1;return m>r?g9(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,u=n>0?u:u+(r-m)),{step:o,tickMin:c.sub(new Pt(u).mul(o)),tickMax:c.add(new Pt(f).mul(o))})},k0e=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=m9([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...ak(0,i-1).map(()=>1/0)]:[...ak(0,i-1).map(()=>-1/0),u];return n>r?ok(f):f}if(c===u)return E0e(c,i,a);var{step:m,tickMin:p,tickMax:g}=g9(c,u,o,a,0),b=h9(p,g.add(new Pt(.1).mul(m)),m);return n>r?ok(b):b},T0e=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=m9([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=p9(new Pt(c).sub(o).div(u-1),a,0),m=[...h9(new Pt(o),new Pt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?ok(m):m},A0e=e=>e.rootProps.barCategoryGap,qb=e=>e.rootProps.stackOffset,y9=e=>e.rootProps.reverseStackOrder,NA=e=>e.options.chartName,MA=e=>e.rootProps.syncId,v9=e=>e.rootProps.syncMethod,PA=e=>e.options.eventEmitter,O0e=e=>e.rootProps.baseValue,Ir={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Yb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},j0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ts.angleAxisId,includeHidden:!1,name:void 0,reversed:ts.reversed,scale:ts.scale,tick:ts.tick,tickCount:void 0,ticks:void 0,type:ts.type,unit:void 0},C0e={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},N0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ts.scale,tick:ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},M0e={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},DA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?N0e:j0e,RA=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?M0e:C0e,Kb=e=>e.polarOptions,LA=_e([ws,Ss,xr],kme),b9=_e([Kb,LA],(e,t)=>{if(e!=null)return Ol(e.innerRadius,t,0)}),x9=_e([Kb,LA],(e,t)=>{if(e!=null)return Ol(e.outerRadius,t,t*.8)}),P0e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},_9=_e([Kb],P0e);_e([DA,_9],Yb);var w9=_e([LA,b9,x9],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});_e([RA,w9],Yb);var S9=_e([Kt,Kb,b9,x9,ws,Ss],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=t;return{cx:Ol(o,i,i/2),cy:Ol(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Kn=(e,t)=>t,Wb=(e,t,n)=>n;function IA(e){return e?.id}function E9(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var m=IA(c);f.forEach((p,g)=>{var b=a==null||i?g:String(Ar(p,a,null)),_=Ar(p,c.dataKey,0),w;o.has(b)?w=o.get(b):w={},Object.assign(w,{[m]:_}),o.set(b,w)})}}),Array.from(o.values())}function $A(e){return e.stackId!=null&&e.dataKey!=null}var Vb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function D0e(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wn=e=>{var t=Kt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lf=e=>e.tooltip.settings.axisId;function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){R0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R0e(e,t,n){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sk=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},k9=(e,t)=>e.cartesianAxis.xAxis[t],ks=(e,t)=>{var n=k9(e,t);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qm},T9=(e,t)=>e.cartesianAxis.yAxis[t],Ts=(e,t)=>{var n=T9(e,t);return n??nr},$0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BA=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??$0e},Ur=(e,t,n)=>{switch(t){case"xAxis":return ks(e,n);case"yAxis":return Ts(e,n);case"zAxis":return BA(e,n);case"angleAxis":return DA(e,n);case"radiusAxis":return RA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},B0e=(e,t,n)=>{switch(t){case"xAxis":return ks(e,n);case"yAxis":return Ts(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},op=(e,t,n)=>{switch(t){case"xAxis":return ks(e,n);case"yAxis":return Ts(e,n);case"angleAxis":return DA(e,n);case"radiusAxis":return RA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},A9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function O9(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var j9=e=>e.graphicalItems.cartesianItems,z0e=_e([Kn,Wb],O9),C9=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),sp=_e([j9,Ur,z0e],C9,{memoizeOptions:{resultEqualityCheck:Zb}}),N9=_e([sp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($A)),M9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),U0e=_e([sp],M9),P9=e=>e.map(t=>t.data).filter(Boolean).flat(1),H0e=_e([sp],P9,{memoizeOptions:{resultEqualityCheck:Zb}}),D9=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},zA=_e([H0e,OA],D9),R9=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ar(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ar(i,r)}))):e.map(r=>({value:r})),Xb=_e([zA,Ur,sp],R9);function L9(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function oy(e){if(_o(e)||e instanceof Date){var t=Number(e);if(_n(t))return t}}function jL(e){if(Array.isArray(e)){var t=[oy(e[0]),oy(e[1])];return jl(t)?t:void 0}var n=oy(e);if(n!=null)return[n,n]}function ys(e){return e.map(oy).filter(cue)}function F0e(e,t,n){return!n||typeof t!="number"||Ua(t)?[]:n.length?ys(n.flatMap(r=>{var i=Ar(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!_n(a)||!_n(o)))return[t-a,t+o]})):[]}var Vn=e=>{var t=Wn(e),n=lf(e);return op(e,t,n)},lp=_e([Vn],e=>e?.dataKey),G0e=_e([N9,OA,Vn],E9),I9=(e,t,n,r)=>{var i={},a=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,m=f.map(IA);return[c,{stackedData:mfe(e,m,n),graphicalItems:f}]}))},lk=_e([G0e,N9,qb,y9],I9),$9=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=vfe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},q0e=_e([Ur],e=>e.allowDataOverflow),UA=e=>{var t;if(e==null||!("domain"in e))return sk;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ys(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:sk},B9=_e([Ur],UA),z9=_e([B9,q0e],r9),Y0e=_e([lk,Dl,Kn,z9],$9,{memoizeOptions:{resultEqualityCheck:Vb}}),HA=e=>e.errorBars,K0e=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>L9(n,r)),Ev=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},U9=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var f,m,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(A=>L9(i,A)),g=Ar(c,(m=t.dataKey)!==null&&m!==void 0?m:u.dataKey),b=F0e(c,g,p);if(b.length>=2){var _=Math.min(...b),w=Math.max(...b);(a==null||_<a)&&(a=_),(o==null||w>o)&&(o=w)}var E=jL(g);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var u=jL(Ar(c,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),_n(a)&&_n(o))return[a,o]},W0e=_e([zA,Ur,U0e,HA,Kn],U9,{memoizeOptions:{resultEqualityCheck:Vb}});function V0e(e){var{value:t}=e;if(_o(t)||t instanceof Date)return t}var Z0e=(e,t,n)=>{var r=e.map(V0e).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&o7(r))?w6(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},H9=e=>e.referenceElements.dots,cf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),X0e=_e([H9,Kn,Wb],cf),F9=e=>e.referenceElements.areas,J0e=_e([F9,Kn,Wb],cf),G9=e=>e.referenceElements.lines,Q0e=_e([G9,Kn,Wb],cf),q9=(e,t)=>{var n=ys(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eye=_e(X0e,Kn,q9),Y9=(e,t)=>{var n=ys(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tye=_e([J0e,Kn],Y9);function nye(e){var t;if(e.x!=null)return ys([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ys(n)}function rye(e){var t;if(e.y!=null)return ys([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ys(n)}var K9=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?nye(r):rye(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},iye=_e([Q0e,Kn],K9),aye=_e(eye,iye,tye,(e,t,n)=>Ev(e,n,t)),W9=(e,t,n,r,i,a,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?Ev(r,a,i):Ev(a,i);return g0e(t,f,e.allowDataOverflow)},oye=_e([Ur,B9,z9,Y0e,W0e,aye,Kt,Kn],W9,{memoizeOptions:{resultEqualityCheck:Vb}}),sye=[0,1],V9=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,f=_s(t,a);if(f&&c==null){var m;return w6(0,(m=n?.length)!==null&&m!==void 0?m:0)}return u==="category"?Z0e(r,e,f):i==="expand"?sye:o}},FA=_e([Ur,Kt,zA,Xb,qb,Kn,oye],V9),Z9=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(qT(a));return c in Hh?c:"point"}}},cp=_e([Ur,Kt,A9,NA,Kn],Z9);function lye(e){if(e!=null){if(e in Hh)return Hh[e]();var t="scale".concat(qT(e));if(t in Hh)return Hh[t]()}}function GA(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=lye(t);if(i!=null){var a=i.domain(n).range(r);return ufe(a),a}}}var X9=(e,t,n)=>{var r=UA(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&jl(e))return k0e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&jl(e))return T0e(e,t.tickCount,t.allowDecimals)}},qA=_e([FA,op,cp],X9),J9=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&jl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return t},cye=_e([Ur,FA,qA,Kn],J9),uye=_e(Xb,Ur,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ys(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),Q9=_e(uye,Kt,A0e,xr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!_n(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ol(n,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),dye=(e,t)=>{var n=ks(e,t);return n==null||typeof n.padding!="string"?0:Q9(e,"xAxis",t,n.padding)},fye=(e,t)=>{var n=Ts(e,t);return n==null||typeof n.padding!="string"?0:Q9(e,"yAxis",t,n.padding)},hye=_e(ks,dye,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),mye=_e(Ts,fye,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),pye=_e([xr,hye,Pb,Mb,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),gye=_e([xr,Kt,mye,Pb,Mb,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),up=(e,t,n,r)=>{var i;switch(t){case"xAxis":return pye(e,n,r);case"yAxis":return gye(e,n,r);case"zAxis":return(i=BA(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _9(e);case"radiusAxis":return w9(e,n);default:return}},ez=_e([Ur,up],Yb),uf=_e([Ur,cp,cye,ez],GA);_e([sp,HA,Kn],K0e);function tz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Jb=(e,t)=>t,Qb=(e,t,n)=>n,yye=_e(Cb,Jb,Qb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(tz)),vye=_e(Nb,Jb,Qb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(tz)),nz=(e,t)=>({width:e.width,height:t.height}),bye=(e,t)=>{var n=typeof t.width=="number"?t.width:Qm;return{width:n,height:e.height}},xye=_e(xr,ks,nz),_ye=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},wye=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Sye=_e(Ss,xr,yye,Jb,Qb,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=nz(t,c);o==null&&(o=_ye(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),Eye=_e(ws,xr,vye,Jb,Qb,(e,t,n,r,i)=>{var a={},o;return n.forEach(c=>{var u=bye(t,c);o==null&&(o=wye(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),kye=(e,t)=>{var n=ks(e,t);if(n!=null)return Sye(e,n.orientation,n.mirror)},Tye=_e([xr,ks,kye,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Aye=(e,t)=>{var n=Ts(e,t);if(n!=null)return Eye(e,n.orientation,n.mirror)},Oye=_e([xr,Ts,Aye,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),jye=_e(xr,Ts,(e,t)=>{var n=typeof t.width=="number"?t.width:Qm;return{width:n,height:e.height}}),rz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=_s(e,r),u=t.map(f=>f.value);if(o&&c&&a==="category"&&i&&o7(u))return u}},YA=_e([Kt,Xb,Ur,Kn],rz),iz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=_s(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},KA=_e([Kt,Xb,op,Kn],iz),CL=_e([Kt,B0e,cp,uf,YA,KA,up,qA,Kn],(e,t,n,r,i,a,o,c,u)=>{if(t!=null){var f=_s(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),Cye=(e,t,n,r,i,a,o,c,u)=>{if(!(t==null||r==null)){var f=_s(e,u),{type:m,ticks:p,tickCount:g}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=m==="category"&&r.bandwidth?r.bandwidth()/b:0;_=u==="angleAxis"&&a!=null&&a.length>=2?oa(a[0]-a[1])*2*_:_;var w=p||i;if(w){var E=w.map((A,C)=>{var j=o?o.indexOf(A):A;return{index:C,coordinate:r(j)+_,value:A,offset:_}});return E.filter(A=>_n(A.coordinate))}return f&&c?c.map((A,C)=>({coordinate:r(A)+_,value:A,index:C,offset:_})).filter(A=>_n(A.coordinate)):r.ticks?r.ticks(g).map(A=>({coordinate:r(A)+_,value:A,offset:_})):r.domain().map((A,C)=>({coordinate:r(A)+_,value:o?o[A]:A,index:C,offset:_}))}},az=_e([Kt,op,cp,uf,qA,up,YA,KA,Kn],Cye),Nye=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=_s(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&r?.length>=2?oa(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(u).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},oz=_e([Kt,op,uf,up,YA,KA,Kn],Nye),sz=_e(Ur,uf,(e,t)=>{if(!(e==null||t==null))return Sv(Sv({},e),{},{scale:t})}),Mye=_e([Ur,cp,FA,ez],GA);_e((e,t,n)=>BA(e,n),Mye,(e,t)=>{if(!(e==null||t==null))return Sv(Sv({},e),{},{scale:t})});var Pye=_e([Kt,Cb,Nb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lz=e=>e.options.defaultTooltipEventType,cz=e=>e.options.validateTooltipEventTypes;function uz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function WA(e,t){var n=lz(e),r=cz(e);return uz(t,n,r)}function Dye(e){return Ve(t=>WA(t,e))}var dz=(e,t)=>{var n,r=Number(t);if(!(Ua(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Rye=e=>e.tooltip.settings,xl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Lye={itemInteraction:{click:xl,hover:xl},axisInteraction:{click:xl,hover:xl},keyboardInteraction:xl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fz=di({name:"tooltip",initialState:Lye,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ia(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:nn()},removeTooltipEntrySettings:{reducer(e,t){var n=Ia(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:nn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Iye,replaceTooltipEntrySettings:$ye,removeTooltipEntrySettings:Bye,setTooltipSettingsState:zye,setActiveMouseOverItemIndex:Uye,mouseLeaveItem:VAe,mouseLeaveChart:hz,setActiveClickItemIndex:ZAe,setMouseOverAxisIndex:mz,setMouseClickAxisIndex:Hye,setSyncInteraction:ck,setKeyboardInteraction:uk}=fz.actions,Fye=fz.reducer;function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(n),!0).forEach(function(r){Gye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gye(e,t,n){return(t=qye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qye(e){var t=Yye(e,"string");return typeof t=="symbol"?t:t+""}function Yye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kye(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Wye(e){return e.index!=null}var pz=(e,t,n,r)=>{if(t==null)return xl;var i=Kye(e,t,n);if(i==null)return xl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Wye(i)){if(a)return R0(R0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return R0(R0({},xl),{},{coordinate:i.coordinate})};function Vye(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Zye(e,t){var n=Vye(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function Xye(e,t,n){if(n==null||t==null)return!0;var r=Ar(e,t);return r==null||!jl(n)?!0:Zye(r,n)}var VA=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!_n(a))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(a,c)),f=t[u];return f==null||Xye(f,n,r)?String(u):null},gz=(e,t,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},yz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},dp=e=>e.options.tooltipPayloadSearcher,df=e=>e.tooltip;function ML(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(n),!0).forEach(function(r){Jye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jye(e,t,n){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qye(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tve(e,t){return e??t}var vz=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((g,b)=>{var _,{dataDefinedOnItem:w,settings:E}=b,A=tve(w,c),C=Array.isArray(A)?W7(A,f,m):A,j=(_=E?.dataKey)!==null&&_!==void 0?_:r,P=E?.nameKey,M;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?M=s7(C,r,i):M=a(C,t,u,P),Array.isArray(M))M.forEach($=>{var U=PL(PL({},E),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});g.push(nR({tooltipEntrySettings:U,dataKey:$.dataKey,payload:$.payload,value:Ar($.payload,$.dataKey),name:$.name}))});else{var D;g.push(nR({tooltipEntrySettings:E,dataKey:j,payload:M,value:Ar(M,j),name:(D=Ar(M,P))!==null&&D!==void 0?D:E?.name}))}return g},p)}},ZA=_e([Vn,Kt,A9,NA,Wn],Z9),nve=_e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rve=_e([Wn,lf],O9),fp=_e([nve,Vn,rve],C9,{memoizeOptions:{resultEqualityCheck:Zb}}),ive=_e([fp],e=>e.filter($A)),ave=_e([fp],P9,{memoizeOptions:{resultEqualityCheck:Zb}}),ff=_e([ave,Dl],D9),ove=_e([ive,Dl,Vn],E9),XA=_e([ff,Vn,fp],R9),bz=_e([Vn],UA),sve=_e([Vn],e=>e.allowDataOverflow),xz=_e([bz,sve],r9),lve=_e([fp],e=>e.filter($A)),cve=_e([ove,lve,qb,y9],I9),uve=_e([cve,Dl,Wn,xz],$9),dve=_e([fp],M9),fve=_e([ff,Vn,dve,HA,Wn],U9,{memoizeOptions:{resultEqualityCheck:Vb}}),hve=_e([H9,Wn,lf],cf),mve=_e([hve,Wn],q9),pve=_e([F9,Wn,lf],cf),gve=_e([pve,Wn],Y9),yve=_e([G9,Wn,lf],cf),vve=_e([yve,Wn],K9),bve=_e([mve,vve,gve],Ev),xve=_e([Vn,bz,xz,uve,fve,bve,Kt,Wn],W9),hp=_e([Vn,Kt,ff,XA,qb,Wn,xve],V9),_ve=_e([hp,Vn,ZA],X9),wve=_e([Vn,hp,_ve,Wn],J9),_z=e=>{var t=Wn(e),n=lf(e),r=!1;return up(e,t,n,r)},wz=_e([Vn,_z],Yb),Sz=_e([Vn,ZA,wve,wz],GA),Sve=_e([Kt,XA,Vn,Wn],rz),Eve=_e([Kt,XA,Vn,Wn],iz),kve=(e,t,n,r,i,a,o,c)=>{if(t){var{type:u}=t,f=_s(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?oa(i[0]-i[1])*2*p:p,f&&o?o.map((g,b)=>({coordinate:r(g)+p,value:g,index:b,offset:p})):r.domain().map((g,b)=>({coordinate:r(g)+p,value:a?a[g]:g,index:b,offset:p}))}}},As=_e([Kt,Vn,ZA,Sz,_z,Sve,Eve,Wn],kve),JA=_e([lz,cz,Rye],(e,t,n)=>uz(n.shared,e,t)),Ez=e=>e.tooltip.settings.trigger,QA=e=>e.tooltip.settings.defaultIndex,mp=_e([df,JA,Ez,QA],pz),Am=_e([mp,ff,lp,hp],VA),kz=_e([As,Am],dz),Tve=_e([mp],e=>{if(e)return e.dataKey});_e([mp],e=>{if(e)return e.graphicalItemId});var Tz=_e([df,JA,Ez,QA],yz),Ave=_e([ws,Ss,Kt,xr,As,QA,Tz,dp],gz),Ove=_e([mp,Ave],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jve=_e([mp],e=>e.active),Cve=_e([Tz,Am,Dl,lp,kz,dp,JA],vz),Nve=_e([Cve],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(n),!0).forEach(function(r){Mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mve(e,t,n){return(t=Pve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pve(e){var t=Dve(e,"string");return typeof t=="symbol"?t:t+""}function Dve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rve=()=>Ve(Vn),Lve=()=>{var e=Rve(),t=Ve(As),n=Ve(Sz);return rv(!e||!n?void 0:RL(RL({},e),{},{scale:n}),t)};function LL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(n),!0).forEach(function(r){Ive(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ive(e,t,n){return(t=$ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ve(e){var t=Bve(e,"string");return typeof t=="symbol"?t:t+""}function Bve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zve=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Uve=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return id(id(id({},r),yr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=r;return id(id(id({},r),yr(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Hve(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Az=(e,t,n,r,i)=>{var a,o=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,m=n[u].coordinate,p=u>=c-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(oa(m-f)!==oa(p-m)){var b=[];if(oa(p-m)===oa(i[1]-i[0])){g=p;var _=m+i[1]-i[0];b[0]=Math.min(_,(_+f)/2),b[1]=Math.max(_,(_+f)/2)}else{g=f;var w=p+i[1]-i[0];b[0]=Math.min(m,(w+m)/2),b[1]=Math.max(m,(w+m)/2)}var E=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(e>E[0]&&e<=E[1]||e>=b[0]&&e<=b[1]){({index:o}=n[u]);break}}else{var A=Math.min(f,p),C=Math.max(f,p);if(e>(A+m)/2&&e<=(C+m)/2){({index:o}=n[u]);break}}}else if(t){for(var j=0;j<c;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===c-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},Oz=()=>Ve(NA),e2=(e,t)=>t,jz=(e,t,n)=>n,t2=(e,t,n,r)=>r,Fve=_e(As,e=>_b(e,t=>t.coordinate)),n2=_e([df,e2,jz,t2],pz),r2=_e([n2,ff,lp,hp],VA),Gve=(e,t,n)=>{if(t!=null){var r=df(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Cz=_e([df,e2,jz,t2],yz),kv=_e([ws,Ss,Kt,xr,As,t2,Cz,dp],gz),qve=_e([n2,kv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Nz=_e([As,r2],dz),Yve=_e([Cz,r2,Dl,lp,Nz,dp,e2],vz),Kve=_e([n2,r2],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Wve=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Hve(e,o)){var c=bfe(e,t),u=Az(c,a,i,n,r),f=zve(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},Vve=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var c=Cme(e,n);if(c){var u=xfe(c,t),f=Az(u,o,a,r,i),m=Uve(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Zve=(e,t,n,r,i,a,o,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Wve(e,t,r,i,a,o,c):Vve(e,t,n,r,i,a,o)},Xve=_e(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Jve=_e(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ir)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:D0e}});function IL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(n),!0).forEach(function(r){Qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qve(e,t,n){return(t=ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ebe(e){var t=tbe(e,"string");return typeof t=="symbol"?t:t+""}function tbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nbe={},rbe={zIndexMap:Object.values(Ir).reduce((e,t)=>$L($L({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),nbe)},ibe=new Set(Object.values(Ir));function abe(e){return ibe.has(e)}var Mz=di({name:"zIndex",initialState:rbe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:nn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!abe(n)&&delete e.zIndexMap[n])},prepare:nn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:nn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:nn()}}}),{registerZIndexPortal:obe,unregisterZIndexPortal:sbe,registerZIndexPortalId:lbe,unregisterZIndexPortalId:cbe}=Mz.actions,ube=Mz.reducer;function Os(e){var{zIndex:t,children:n}=e,r=ehe(),i=r&&t!==void 0&&t!==0,a=fi(),o=sr();S.useLayoutEffect(()=>i?(o(obe({zIndex:t})),()=>{o(sbe({zIndex:t}))}):Vm,[o,t,i]);var c=Ve(f=>Xve(f,t,a));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?Kd.createPortal(n,u):null}function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dk.apply(null,arguments)}function BL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(n),!0).forEach(function(r){dbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dbe(e,t,n){return(t=fbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fbe(e){var t=hbe(e,"string");return typeof t=="symbol"?t:t+""}function hbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mbe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function pbe(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:m}=e,p=n,g=r,b=i;if(!u||!p||m!=="ScatterChart"&&f!=="axis")return null;var _,w,E;if(m==="ScatterChart")_=p,w=Hhe,E=Ir.cursorLine;else if(m==="BarChart")_=Fhe(c,p,a,o),w=xme,E=Ir.cursorRectangle;else if(c==="radial"&&l7(p)){var{cx:A,cy:C,radius:j,startAngle:P,endAngle:M}=x6(p);_={cx:A,cy:C,startAngle:P,endAngle:M,innerRadius:j,outerRadius:j},w=Dme,E=Ir.cursorLine}else _={points:Rme(c,p,a)},w=ay,E=Ir.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,$=L0(L0(L0(L0({stroke:"#ccc",pointerEvents:"none"},a),_),yb(u)),{},{payload:g,payloadIndex:b,className:Xt("recharts-tooltip-cursor",D)});return S.createElement(Os,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},S.createElement(mbe,{cursor:u,cursorComp:w,cursorProps:$}))}function gbe(e){var t=Lve(),n=i6(),r=ep(),i=Oz();return t==null||n==null||r==null||i==null?null:S.createElement(pbe,dk({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Pz=S.createContext(null),ybe=()=>S.useContext(Pz),uS={exports:{}},zL;function vbe(){return zL||(zL=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,m){this.fn=u,this.context=f,this.once=m||!1}function a(u,f,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||u,g),_=n?n+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],b]:u._events[_].push(b):(u._events[_]=b,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,_=new Array(b);g<b;g++)_[g]=p[g].fn;return _},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,g,b,_){var w=n?n+f:f;if(!this._events[w])return!1;var E=this._events[w],A=arguments.length,C,j;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,p),!0;case 4:return E.fn.call(E.context,m,p,g),!0;case 5:return E.fn.call(E.context,m,p,g,b),!0;case 6:return E.fn.call(E.context,m,p,g,b,_),!0}for(j=1,C=new Array(A-1);j<A;j++)C[j-1]=arguments[j];E.fn.apply(E.context,C)}else{var P=E.length,M;for(j=0;j<P;j++)switch(E[j].once&&this.removeListener(f,E[j].fn,void 0,!0),A){case 1:E[j].fn.call(E[j].context);break;case 2:E[j].fn.call(E[j].context,m);break;case 3:E[j].fn.call(E[j].context,m,p);break;case 4:E[j].fn.call(E[j].context,m,p,g);break;default:if(!C)for(M=1,C=new Array(A-1);M<A;M++)C[M-1]=arguments[M];E[j].fn.apply(E[j].context,C)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,g){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return o(this,b),this;var _=this._events[b];if(_.fn)_.fn===m&&(!g||_.once)&&(!p||_.context===p)&&o(this,b);else{for(var w=0,E=[],A=_.length;w<A;w++)(_[w].fn!==m||g&&!_[w].once||p&&_[w].context!==p)&&E.push(_[w]);E.length?this._events[b]=E.length===1?E[0]:E:o(this,b)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(uS)),uS.exports}var bbe=vbe();const xbe=ui(bbe);var Om=new xbe,fk="recharts.syncEvent.tooltip",UL="recharts.syncEvent.brush";function _be(e,t){if(t){var n=Number.parseInt(t,10);if(!Ua(n))return e?.[n]}}var wbe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Dz=di({name:"options",initialState:wbe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sbe=Dz.reducer,{createEventEmitter:Ebe}=Dz.actions;function kbe(e){return e.tooltip.syncInteraction}var Tbe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Rz=di({name:"chartData",initialState:Tbe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:HL,setDataStartEndIndexes:Abe,setComputedData:XAe}=Rz.actions,Obe=Rz.reducer,jbe=["x","y"];function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(r){Cbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cbe(e,t,n){return(t=Nbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nbe(e){var t=Mbe(e,"string");return typeof t=="symbol"?t:t+""}function Mbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pbe(e,t){if(e==null)return{};var n,r,i=Dbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rbe(){var e=Ve(MA),t=Ve(PA),n=sr(),r=Ve(v9),i=Ve(As),a=ep(),o=Db(),c=Ve(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return Vm;var u=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(o&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:_,y:w}=b,E=Pbe(b,jbe),{x:A,y:C,width:j,height:P}=m.payload.sourceViewBox,M=ad(ad({},E),{},{x:o.x+(j?(_-A)/j:0)*o.width,y:o.y+(P?(w-C)/P:0)*o.height});n(ad(ad({},m),{},{payload:ad(ad({},m.payload),{},{coordinate:M})}))}else n(m);return}if(i!=null){var D;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},U=r(i,$);D=i[U]}else r==="value"&&(D=i.find(q=>String(q.value)===m.payload.label));var{coordinate:Y}=m.payload;if(D==null||m.payload.active===!1||Y==null||o==null){n(ck({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:H}=Y,G=Math.min(W,o.x+o.width),Z=Math.min(H,o.y+o.height),X={x:a==="horizontal"?D.coordinate:G,y:a==="horizontal"?Z:D.coordinate},Q=ck({active:m.payload.active,coordinate:X,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Q)}}};return Om.on(fk,u),()=>{Om.off(fk,u)}},[c,n,t,e,r,i,a,o])}function Lbe(){var e=Ve(MA),t=Ve(PA),n=sr();S.useEffect(()=>{if(e==null)return Vm;var r=(i,a,o)=>{t!==o&&e===i&&n(Abe(a))};return Om.on(UL,r),()=>{Om.off(UL,r)}},[n,t,e])}function Ibe(){var e=sr();S.useEffect(()=>{e(Ebe())},[e]),Rbe(),Lbe()}function $be(e,t,n,r,i,a){var o=Ve(b=>Gve(b,e,t)),c=Ve(PA),u=Ve(MA),f=Ve(v9),m=Ve(kbe),p=m?.active,g=Db();S.useEffect(()=>{if(!p&&u!=null&&c!=null){var b=ck({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});Om.emit(fk,u,b,c)}},[p,n,o,i,r,c,u,f,a,g])}function GL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(n),!0).forEach(function(r){Bbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bbe(e,t,n){return(t=zbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zbe(e){var t=Ube(e,"string");return typeof t=="symbol"?t:t+""}function Ube(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hbe(e){return e.dataKey}function Fbe(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(_he,t)}var YL=[],Gbe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qbe(e){var t,n,r=Ui(e,Gbe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:g,position:b,reverseDirection:_,useTranslate3d:w,wrapperStyle:E,cursor:A,shared:C,trigger:j,defaultIndex:P,portal:M,axisId:D}=r,$=sr(),U=typeof P=="number"?String(P):P;S.useEffect(()=>{$(zye({shared:C,trigger:j,axisId:D,active:i,defaultIndex:U}))},[$,C,j,D,i,U]);var Y=Db(),W=m6(),H=Dye(C),{activeIndex:G,isActive:Z}=(t=Ve(ye=>Kve(ye,H,j,U)))!==null&&t!==void 0?t:{},X=Ve(ye=>Yve(ye,H,j,U)),Q=Ve(ye=>Nz(ye,H,j,U)),q=Ve(ye=>qve(ye,H,j,U)),J=X,ie=ybe(),fe=(n=i??Z)!==null&&n!==void 0?n:!1,[se,B]=cde([J,fe]),K=H==="axis"?Q:void 0;$be(H,j,q,K,G,fe);var ae=M??ie;if(ae==null||Y==null||H==null)return null;var V=J??YL;fe||(V=YL),f&&V.length&&(V=Rue(V.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),g,Hbe));var oe=V.length>0,pe=S.createElement(Ohe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:m,active:fe,coordinate:q,hasPayload:oe,offset:p,position:b,reverseDirection:_,useTranslate3d:w,viewBox:Y,wrapperStyle:E,lastBoundingBox:se,innerRef:B,hasPortalFromProps:!!M},Fbe(u,qL(qL({},r),{},{payload:V,label:K,active:fe,activeIndex:G,coordinate:q,accessibilityLayer:W})));return S.createElement(S.Fragment,null,Kd.createPortal(pe,ae),fe&&S.createElement(gbe,{cursor:A,tooltipEventType:H,coordinate:q,payload:V,index:G}))}function Ybe(e,t,n){return(t=Kbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e){var t=Wbe(e,"string");return typeof t=="symbol"?t:t+""}function Wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vbe{constructor(t){Ybe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){Xbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xbe(e,t,n){return(t=Jbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jbe(e){var t=Qbe(e,"string");return typeof t=="symbol"?t:t+""}function Qbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var exe={cacheSize:2e3,enableCache:!0},Lz=Zbe({},exe),WL=new Vbe(Lz.cacheSize),txe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VL="recharts_measurement_span";function nxe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var ZL=(e,t)=>{try{var n=document.getElementById(VL);n||(n=document.createElement("span"),n.setAttribute("id",VL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,txe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rf.isSsr)return{width:0,height:0};if(!Lz.enableCache)return ZL(t,n);var r=nxe(t,n),i=WL.get(r);if(i)return i;var a=ZL(t,n);return WL.set(r,a),a},XL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ixe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Iz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},axe=Object.keys(Iz),yd="NaN";function oxe(e,t){return e*Iz[t]}class ni{static parse(t){var n,[,r,i]=(n=ixe.exec(t))!==null&&n!==void 0?n:[];return new ni(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ua(t)&&(this.unit=""),n!==""&&!rxe.test(n)&&(this.num=NaN,this.unit=""),axe.includes(n)&&(this.num=oxe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ni(NaN,""):new ni(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ni(NaN,""):new ni(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ua(this.num)}}function $z(e){if(e.includes(yd))return yd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=XL.exec(t))!==null&&n!==void 0?n:[],o=ni.parse(r??""),c=ni.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return yd;t=t.replace(XL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,g]=(f=JL.exec(t))!==null&&f!==void 0?f:[],b=ni.parse(m??""),_=ni.parse(g??""),w=p==="+"?b.add(_):b.subtract(_);if(w.isNaN())return yd;t=t.replace(JL,w.toString())}return t}var QL=/\(([^()]*)\)/;function sxe(e){for(var t=e,n;(n=QL.exec(t))!=null;){var[,r]=n;t=t.replace(QL,$z(r))}return t}function lxe(e){var t=e.replace(/\s+/g,"");return t=sxe(t),t=$z(t),t}function cxe(e){try{return lxe(e)}catch{return yd}}function dS(e){var t=cxe(e.slice(5,-1));return t===yd?"":t}var uxe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dxe=["dx","dy","angle","className","breakAll"];function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hk.apply(null,arguments)}function eI(e,t){if(e==null)return{};var n,r,i=fxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bz=/[ \f\n\r\t\v\u2028\u2029]+/,zz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];vr(t)||(n?i=t.toString().split(""):i=t.toString().split(Bz));var a=i.map(c=>({word:c,width:Xh(c,r).width})),o=n?0:Xh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function hxe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Uz=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),Hz=e=>e.reduce((t,n)=>t.width>n.width?t:n),mxe="",tI=(e,t,n,r,i,a,o,c)=>{var u=e.slice(0,t),f=zz({breakAll:n,style:r,children:u+mxe});if(!f)return[!1,[]];var m=Uz(f.wordsWithComputedWidth,a,o,c),p=m.length>i||Hz(m).width>Number(a);return[p,m]},pxe=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=e,f=Ke(a),m=String(o),p=Uz(t,r,n,i);if(!f||i)return p;var g=p.length>a||Hz(p).width>Number(r);if(!g)return p;for(var b=0,_=m.length-1,w=0,E;b<=_&&w<=m.length-1;){var A=Math.floor((b+_)/2),C=A-1,[j,P]=tI(m,C,u,c,a,r,n,i),[M]=tI(m,A,u,c,a,r,n,i);if(!j&&!M&&(b=A+1),j&&M&&(_=A-1),!j&&M){E=P;break}w++}return E||p},nI=e=>{var t=vr(e)?[]:e.toString().split(Bz);return[{words:t,width:void 0}]},gxe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!rf.isSsr){var c,u,f=zz({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,u=p}else return nI(r);return pxe({breakAll:a,children:r,maxLines:o,style:i},c,u,t,!!n)}return nI(r)},Fz="#808080",yxe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Fz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},i2=S.forwardRef((e,t)=>{var n=Ui(e,yxe),{x:r,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:m}=n,p=eI(n,uxe),g=S.useMemo(()=>gxe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:b,dy:_,angle:w,className:E,breakAll:A}=p,C=eI(p,dxe);if(!_o(r)||!_o(i)||g.length===0)return null;var j=Number(r)+(Ke(b)?b:0),P=Number(i)+(Ke(_)?_:0);if(!_n(j)||!_n(P))return null;var M;switch(m){case"start":M=dS("calc(".concat(o,")"));break;case"middle":M=dS("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=dS("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(u){var $=g[0].width,{width:U}=p;D.push("scale(".concat(Ke(U)&&Ke($)?U/$:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(j,", ").concat(P,")")),D.length&&(C.transform=D.join(" ")),S.createElement("text",hk({},fa(C),{ref:t,x:j,y:P,className:Xt("recharts-text",E),textAnchor:f,fill:c.includes("url")?Fz:c}),g.map((Y,W)=>{var H=Y.words.join(A?"":" ");return S.createElement("tspan",{x:j,dy:W===0?M:a,key:"".concat(H,"-").concat(W)},H)}))});i2.displayName="Text";var vxe=["labelRef"];function bxe(e,t){if(e==null)return{};var n,r,i=xxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){_xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _xe(e,t,n){return(t=wxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wxe(e){var t=Sxe(e,"string");return typeof t=="symbol"?t:t+""}function Sxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(null,arguments)}var Gz=S.createContext(null),Exe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:c}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return S.createElement(Gz.Provider,{value:u},c)},qz=()=>{var e=S.useContext(Gz),t=Db();return e||r6(t)},kxe=S.createContext(null),Txe=()=>{var e=S.useContext(kxe),t=Ve(S9);return e||t},Axe=e=>{var{value:t,formatter:n}=e,r=vr(e.children)?t:e.children;return typeof n=="function"?n(r):r},a2=e=>e!=null&&typeof e=="function",Oxe=(e,t)=>{var n=oa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},jxe=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:c,cy:u,innerRadius:f,outerRadius:m,startAngle:p,endAngle:g,clockWise:b}=i,_=(f+m)/2,w=Oxe(p,g),E=w>=0?1:-1,A,C;switch(t){case"insideStart":A=p+E*a,C=b;break;case"insideEnd":A=g-E*a,C=!b;break;case"end":A=g+E*a,C=b;break;default:throw new Error("Unsupported position ".concat(t))}C=w<=0?C:!C;var j=yr(c,u,_,A),P=yr(c,u,_,A+(C?1:-1)*359),M="M".concat(j.x,",").concat(j.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),D=vr(e.id)?mm("recharts-radial-line-"):e.id;return S.createElement("text",ns({},r,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",o)}),S.createElement("defs",null,S.createElement("path",{id:D,d:M})),S.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Cxe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=e,f=(c+u)/2;if(n==="outside"){var{x:m,y:p}=yr(r,i,o+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+o)/2,{x:b,y:_}=yr(r,i,g,f);return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},mk=e=>"cx"in e&&Ke(e.cx),Nxe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!mk(n)&&(a=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:m}=t,p=o,g=o+(u-f)/2,b=(p+g)/2,_=(u+f)/2,w=p+u/2,E=m>=0?1:-1,A=E*r,C=E>0?"end":"start",j=E>0?"start":"end",P=u>=0?1:-1,M=P*r,D=P>0?"end":"start",$=P>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:c-A,textAnchor:"middle",verticalAnchor:C};return kn(kn({},U),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var Y={x:g+f/2,y:c+m+A,textAnchor:"middle",verticalAnchor:j};return kn(kn({},Y),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var W={x:b-M,y:c+m/2,textAnchor:D,verticalAnchor:"middle"};return kn(kn({},W),a?{width:Math.max(W.x-a.x,0),height:m}:{})}if(i==="right"){var H={x:b+_+M,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return kn(kn({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:m}:{})}var G=a?{width:_,height:m}:{};return i==="insideLeft"?kn({x:b+M,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},G):i==="insideRight"?kn({x:b+_-M,y:c+m/2,textAnchor:D,verticalAnchor:"middle"},G):i==="insideTop"?kn({x:p+u/2,y:c+A,textAnchor:"middle",verticalAnchor:j},G):i==="insideBottom"?kn({x:g+f/2,y:c+m-A,textAnchor:"middle",verticalAnchor:C},G):i==="insideTopLeft"?kn({x:p+M,y:c+A,textAnchor:$,verticalAnchor:j},G):i==="insideTopRight"?kn({x:p+u-M,y:c+A,textAnchor:D,verticalAnchor:j},G):i==="insideBottomLeft"?kn({x:g+M,y:c+m-A,textAnchor:$,verticalAnchor:C},G):i==="insideBottomRight"?kn({x:g+f-M,y:c+m-A,textAnchor:D,verticalAnchor:C},G):i&&typeof i=="object"&&(Ke(i.x)||fs(i.x))&&(Ke(i.y)||fs(i.y))?kn({x:o+Ol(i.x,_),y:c+Ol(i.y,m),textAnchor:"end",verticalAnchor:"end"},G):kn({x:w,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},G)},Mxe={angle:0,offset:5,zIndex:Ir.label,position:"middle",textBreakAll:!1};function pl(e){var t=Ui(e,Mxe),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:u,labelRef:f}=t,m=Txe(),p=qz(),g=r==="center"?p:m??p,b,_,w;if(n==null?b=g:mk(n)?b=n:b=r6(n),!b||vr(i)&&vr(a)&&!S.isValidElement(o)&&typeof o!="function")return null;var E=kn(kn({},t),{},{viewBox:b});if(S.isValidElement(o)){var{labelRef:A}=E,C=bxe(E,vxe);return S.cloneElement(o,C)}if(typeof o=="function"){if(_=S.createElement(o,E),S.isValidElement(_))return _}else _=Axe(t);var j=fa(t);if(mk(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return jxe(t,r,_,j,b);w=Cxe(b,t.offset,t.position)}else w=Nxe(t,b);return S.createElement(Os,{zIndex:t.zIndex},S.createElement(i2,ns({ref:f,className:Xt("recharts-label",c)},j,w,{textAnchor:hxe(j.textAnchor)?j.textAnchor:w.textAnchor,breakAll:u}),_))}pl.displayName="Label";var Pxe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(pl,ns({key:"label-implicit"},r)):_o(e)?S.createElement(pl,ns({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===pl?S.cloneElement(e,kn({key:"label-implicit"},r)):S.createElement(pl,ns({key:"label-implicit",content:e},r)):a2(e)?S.createElement(pl,ns({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(pl,ns({},e,{key:"label-implicit"},r)):null};function Dxe(e){var{label:t,labelRef:n}=e,r=qz();return Pxe(t,r,n)||null}var fS={},hS={},iI;function Rxe(){return iI||(iI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(hS)),hS}var mS={},aI;function Lxe(){return aI||(aI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(mS)),mS}var oI;function Ixe(){return oI||(oI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rxe(),n=Lxe(),r=KT();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(fS)),fS}var pS,sI;function $xe(){return sI||(sI=1,pS=Ixe().last),pS}var Bxe=$xe();const zxe=ui(Bxe);var Uxe=["valueAccessor"],Hxe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(null,arguments)}function lI(e,t){if(e==null)return{};var n,r,i=Fxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gxe=e=>Array.isArray(e.value)?zxe(e.value):e.value,Yz=S.createContext(void 0),qxe=Yz.Provider,Kz=S.createContext(void 0);Kz.Provider;function Yxe(){return S.useContext(Yz)}function Kxe(){return S.useContext(Kz)}function sy(e){var{valueAccessor:t=Gxe}=e,n=lI(e,Uxe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:c}=n,u=lI(n,Hxe),f=Yxe(),m=Kxe(),p=f||m;return!p||!p.length?null:S.createElement(Os,{zIndex:c??Ir.label},S.createElement(xo,{className:"recharts-label-list"},p.map((g,b)=>{var _,w=vr(r)?t(g,b):Ar(g&&g.payload,r),E=vr(a)?{}:{id:"".concat(a,"-").concat(b)};return S.createElement(pl,Tv({key:"label-".concat(b)},fa(g),u,E,{fill:(_=n.fill)!==null&&_!==void 0?_:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:o,viewBox:g.viewBox,index:b,zIndex:0}))})))}sy.displayName="LabelList";function Wxe(e){var{label:t}=e;return t?t===!0?S.createElement(sy,{key:"labelList-implicit"}):S.isValidElement(t)||a2(t)?S.createElement(sy,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(sy,Tv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(null,arguments)}var Wz=e=>{var{cx:t,cy:n,r,className:i}=e,a=Xt("recharts-dot",i);return Ke(t)&&Ke(n)&&Ke(r)?S.createElement("circle",pk({},za(e),YT(e),{className:a,cx:t,cy:n,r})):null},Vxe={radiusAxis:{},angleAxis:{}},Vz=di({name:"polarAxis",initialState:Vxe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:JAe,removeRadiusAxis:QAe,addAngleAxis:e2e,removeAngleAxis:t2e}=Vz.actions,Zxe=Vz.reducer,gS={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function Xxe(){if(cI)return jt;cI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,_=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,A=e?Symbol.for("react.responder"):60118,C=e?Symbol.for("react.scope"):60119;function j(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case t:switch(M=M.type,M){case u:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case c:case m:case _:case b:case o:return M;default:return D}}case n:return D}}}function P(M){return j(M)===f}return jt.AsyncMode=u,jt.ConcurrentMode=f,jt.ContextConsumer=c,jt.ContextProvider=o,jt.Element=t,jt.ForwardRef=m,jt.Fragment=r,jt.Lazy=_,jt.Memo=b,jt.Portal=n,jt.Profiler=a,jt.StrictMode=i,jt.Suspense=p,jt.isAsyncMode=function(M){return P(M)||j(M)===u},jt.isConcurrentMode=P,jt.isContextConsumer=function(M){return j(M)===c},jt.isContextProvider=function(M){return j(M)===o},jt.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},jt.isForwardRef=function(M){return j(M)===m},jt.isFragment=function(M){return j(M)===r},jt.isLazy=function(M){return j(M)===_},jt.isMemo=function(M){return j(M)===b},jt.isPortal=function(M){return j(M)===n},jt.isProfiler=function(M){return j(M)===a},jt.isStrictMode=function(M){return j(M)===i},jt.isSuspense=function(M){return j(M)===p},jt.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===_||M.$$typeof===b||M.$$typeof===o||M.$$typeof===c||M.$$typeof===m||M.$$typeof===E||M.$$typeof===A||M.$$typeof===C||M.$$typeof===w)},jt.typeOf=j,jt}var uI;function Jxe(){return uI||(uI=1,gS.exports=Xxe()),gS.exports}Jxe();var Zz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Qxe(e){var{tooltipEntrySettings:t}=e,n=sr(),r=fi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Iye(t)):i.current!==t&&n($ye({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(Bye(i.current)),i.current=null)},[n]),null}function e_e(e){var{legendPayload:t}=e,n=sr(),r=fi(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(hhe(t)):i.current!==t&&n(mhe({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(phe(i.current)),i.current=null)},[n]),null}var yS,t_e=()=>{var[e]=S.useState(()=>mm("uid-"));return e},n_e=(yS=bH.useId)!==null&&yS!==void 0?yS:t_e;function Xz(e,t){var n=n_e();return t||(e?"".concat(e,"-").concat(n):n)}var r_e=S.createContext(void 0),i_e=e=>{var{id:t,type:n,children:r}=e,i=Xz("recharts-".concat(n),t);return S.createElement(r_e.Provider,{value:i},r(i))},a_e={cartesianItems:[],polarItems:[]},Jz=di({name:"graphicalItems",initialState:a_e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ia(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:nn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ia(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:nn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nn()},removePolarGraphicalItem:{reducer(e,t){var n=Ia(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:nn()}}}),{addCartesianGraphicalItem:o_e,replaceCartesianGraphicalItem:s_e,removeCartesianGraphicalItem:l_e,addPolarGraphicalItem:n2e,removePolarGraphicalItem:r2e}=Jz.actions,c_e=Jz.reducer,u_e=e=>{var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(o_e(e)):n.current!==e&&t(s_e({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(l_e(n.current)),n.current=null)},[t]),null},d_e=S.memo(u_e),f_e=["points"];function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){h_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h_e(e,t,n){return(t=m_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_e(e){var t=p_e(e,"string");return typeof t=="symbol"?t:t+""}function p_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}function g_e(e,t){if(e==null)return{};var n,r,i=y_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function v_e(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Xt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,c=g_e(a,f_e);return S.createElement(Wz,Av({},c,{className:i}))}function b_e(e,t){return e==null?!1:t?!0:e.length===1}function x_e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:f=Ir.scatter}=e;if(!b_e(t,n))return null;var m=Zz(n),p=jce(n),g=t.map((_,w)=>{var E,A,C=vS(vS(vS({r:3},o),p),{},{index:w,cx:(E=_.x)!==null&&E!==void 0?E:void 0,cy:(A=_.y)!==null&&A!==void 0?A:void 0,dataKey:a,value:_.value,payload:_.payload,points:t});return S.createElement(v_e,{key:"dot-".concat(w),option:n,dotProps:C,className:i})}),b={};return c&&u!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),S.createElement(Os,{zIndex:f},S.createElement(xo,Av({className:r},b),g))}function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){__e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function __e(e,t,n){return(t=w_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w_e(e){var t=S_e(e,"string");return typeof t=="symbol"?t:t+""}function S_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E_e={xAxis:{},yAxis:{},zAxis:{}},Qz=di({name:"cartesianAxis",initialState:E_e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:nn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:nn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:nn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=hI(hI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:k_e,replaceXAxis:T_e,removeXAxis:A_e,addYAxis:O_e,replaceYAxis:j_e,removeYAxis:C_e,addZAxis:i2e,replaceZAxis:a2e,removeZAxis:o2e,updateYAxisWidth:N_e}=Qz.actions,M_e=Qz.reducer,P_e=_e([xr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),D_e=_e([P_e,ws,Ss],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),o2=()=>Ve(D_e),R_e=()=>Ve(Nve);function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){L_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L_e(e,t,n){return(t=I_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=$_e(e,"string");return typeof t=="symbol"?t:t+""}function $_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=bS(bS(bS({},c),yb(i)),YT(i)),f;return S.isValidElement(i)?f=S.cloneElement(i,u):typeof i=="function"?f=i(u):f=S.createElement(Wz,u),S.createElement(xo,{className:"recharts-active-dot",clipPath:o},f)};function pI(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Ir.activeDot}=e,c=Ve(Am),u=R_e();if(t==null||u==null)return null;var f=t.find(m=>u.includes(m.payload));return vr(f)?null:S.createElement(Os,{zIndex:o},S.createElement(B_e,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var z_e={},e8=di({name:"errorBars",initialState:z_e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:s2e,replaceErrorBar:l2e,removeErrorBar:c2e}=e8.actions,U_e=e8.reducer;function t8(e,t){var n,r,i=Ve(f=>ks(f,e)),a=Ve(f=>Ts(f,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function H_e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=o2(),{needClipX:a,needClipY:o,needClip:c}=t8(t,n);if(!c||!i)return null;var{x:u,y:f,width:m,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:a?u:u-m/2,y:o?f:f-p/2,width:a?m:m*2,height:o?p:p*2}))}var F_e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function G_e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function s2(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(F_e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Q0(e[r],t[r]))return!1}else if(!G_e(e[r],t[r]))return!1;return!0}var q_e=e=>{var{chartData:t}=e,n=sr(),r=fi();return S.useEffect(()=>r?()=>{}:(n(HL(t)),()=>{n(HL(void 0))}),[t,n,r]),null},gI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},n8=di({name:"brush",initialState:gI,reducers:{setBrushSettings(e,t){return t.payload==null?gI:t.payload}}}),{setBrushSettings:u2e}=n8.actions,Y_e=n8.reducer;function K_e(e,t,n){return(t=W_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=V_e(e,"string");return typeof t=="symbol"?t:t+""}function V_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class l2{static create(t){return new l2(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}K_e(l2,"EPS",1e-4);function Z_e(e){return(e%180+180)%180}var X_e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Z_e(i),o=a*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},J_e={dots:[],areas:[],lines:[]},r8=di({name:"referenceElements",initialState:J_e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ia(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ia(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ia(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:d2e,removeDot:f2e,addArea:h2e,removeArea:m2e,addLine:p2e,removeLine:g2e}=r8.actions,Q_e=r8.reducer,ewe=S.createContext(void 0),twe=e=>{var{children:t}=e,[n]=S.useState("".concat(mm("recharts"),"-clip")),r=o2();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return S.createElement(ewe.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:a,height:c,width:o}))),t)};function i8(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function nwe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return X_e(r,n)}function rwe(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:c}=e;return t===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function Ov(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function iwe(e,t){return i8(e,t+1)}function awe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=t,u=0,f=1,m=o,p=function(){var _=r?.[u];if(_===void 0)return{v:i8(r,f)};var w=u,E,A=()=>(E===void 0&&(E=n(_,w)),E),C=_.coordinate,j=u===0||Ov(e,C,A,m,c);j||(u=0,m=o,f+=1),j&&(m=C+e*(A()/2+i),u+=f)},g;f<=a.length;)if(g=p(),g)return g.v;return[]}function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){owe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function owe(e,t,n){return(t=swe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function swe(e){var t=lwe(e,"string");return typeof t=="symbol"?t:t+""}function lwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cwe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=t,{end:u}=t,f=function(g){var b=a[g],_,w=()=>(_===void 0&&(_=n(b,g)),_);if(g===o-1){var E=e*(b.coordinate+e*w()/2-u);a[g]=b=kr(kr({},b),{},{tickCoord:E>0?b.coordinate-E*e:b.coordinate})}else a[g]=b=kr(kr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var A=Ov(e,b.tickCoord,w,c,u);A&&(u=b.tickCoord-e*(w()/2+i),a[g]=kr(kr({},b),{},{isShow:!0}))}},m=o-1;m>=0;m--)f(m);return a}function uwe(e,t,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),g=e*(m.coordinate+e*p/2-f);if(o[c-1]=m=kr(kr({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var b=Ov(e,m.tickCoord,()=>p,u,f);b&&(f=m.tickCoord-e*(p/2+i),o[c-1]=kr(kr({},m),{},{isShow:!0}))}}for(var _=a?c-1:c,w=function(C){var j=o[C],P,M=()=>(P===void 0&&(P=n(j,C)),P);if(C===0){var D=e*(j.coordinate-e*M()/2-u);o[C]=j=kr(kr({},j),{},{tickCoord:D<0?j.coordinate-D*e:j.coordinate})}else o[C]=j=kr(kr({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var $=Ov(e,j.tickCoord,M,u,f);$&&(u=j.tickCoord+e*(M()/2+i),o[C]=kr(kr({},j),{},{isShow:!0}))}},E=0;E<_;E++)w(E);return o}function c2(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(Ke(u)||rf.isSsr){var g;return(g=iwe(i,Ke(u)?u:0))!==null&&g!==void 0?g:[]}var b=[],_=c==="top"||c==="bottom"?"width":"height",w=m&&_==="width"?Xh(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(j,P)=>{var M=typeof f=="function"?f(j.value,P):j.value;return _==="width"?nwe(Xh(M,{fontSize:t,letterSpacing:n}),w,p):Xh(M,{fontSize:t,letterSpacing:n})[_]},A=i.length>=2?oa(i[1].coordinate-i[0].coordinate):1,C=rwe(a,A,_);return u==="equidistantPreserveStart"?awe(A,C,E,i,o):(u==="preserveStart"||u==="preserveStartEnd"?b=uwe(A,C,E,i,o,u==="preserveStartEnd"):b=cwe(A,C,E,i,o),b.filter(j=>j.isShow))}var dwe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+c+(n?r:0);return Math.round(f)}return 0},fwe=["axisLine","width","height","className","hide","ticks","axisType"];function hwe(e,t){if(e==null)return{};var n,r,i=mwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(null,arguments)}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pwe(e,t,n){return(t=gwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gwe(e){var t=ywe(e,"string");return typeof t=="symbol"?t:t+""}function ywe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ls={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ir.axis};function vwe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var f=Dn(Dn(Dn({},u),za(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!o||a==="bottom"&&o);f=Dn(Dn({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=Dn(Dn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return S.createElement("line",eu({},f,{className:Xt("recharts-cartesian-axis-line",xb(c,"className"))}))}function bwe(e,t,n,r,i,a,o,c,u){var f,m,p,g,b,_,w=c?-1:1,E=e.tickSize||o,A=Ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,g=n+ +!c*i,p=g-w*E,_=p-w*u,b=A;break;case"left":p=g=e.coordinate,m=t+ +!c*r,f=m-w*E,b=f-w*u,_=A;break;case"right":p=g=e.coordinate,m=t+ +c*r,f=m+w*E,b=f+w*u,_=A;break;default:f=m=e.coordinate,g=n+ +c*i,p=g+w*E,_=p+w*u,b=A;break}return{line:{x1:f,y1:p,x2:m,y2:g},tick:{x:b,y:_}}}function xwe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function _we(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function wwe(e){var{option:t,tickProps:n,value:r}=e,i,a=Xt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Dn(Dn({},n),{},{className:a}));else if(typeof t=="function")i=t(Dn(Dn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Xt(o,t?.className)),i=S.createElement(i2,eu({},n,{className:o}),r)}return i}var Swe=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:m,mirror:p,x:g,y:b,width:_,height:w,tickSize:E,tickMargin:A,fontSize:C,letterSpacing:j,getTicksConfig:P,events:M,axisType:D}=e,$=c2(Dn(Dn({},P),{},{ticks:n}),C,j),U=xwe(m,p),Y=_we(m,p),W=za(P),H=yb(r),G={};typeof i=="object"&&(G=i);var Z=Dn(Dn({},W),{},{fill:"none"},G),X=$.map(J=>Dn({entry:J},bwe(J,g,b,_,w,m,E,p,A))),Q=X.map(J=>{var{entry:ie,line:fe}=J;return S.createElement(xo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&S.createElement("line",eu({},Z,fe,{className:Xt("recharts-cartesian-axis-tick-line",xb(i,"className"))})))}),q=X.map((J,ie)=>{var{entry:fe,tick:se}=J,B=Dn(Dn(Dn(Dn({textAnchor:U,verticalAnchor:Y},W),{},{stroke:"none",fill:a},H),se),{},{index:ie,payload:fe,visibleTicksCount:$.length,tickFormatter:o,padding:u},f);return S.createElement(xo,eu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},due(M,fe,ie)),r&&S.createElement(wwe,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(fe.value,ie):fe.value).concat(c||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},q.length>0&&S.createElement(Os,{zIndex:Ir.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},q)),Q.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},Q))}),Ewe=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c,axisType:u}=e,f=hwe(e,fwe),[m,p]=S.useState(""),[g,b]=S.useState(""),_=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return dwe({ticks:_.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=S.useCallback(E=>{if(E){var A=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=A;var C=A[0];if(C){var j=window.getComputedStyle(C),P=j.fontSize,M=j.letterSpacing;(P!==m||M!==g)&&(p(P),b(M))}}},[m,g]);return o||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Os,{zIndex:e.zIndex},S.createElement(xo,{className:Xt("recharts-cartesian-axis",a)},S.createElement(vwe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:za(e)}),S.createElement(Swe,{ref:w,axisType:u,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(Exe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(Dxe,{label:e.label,labelRef:e.labelRef}),e.children)))}),u2=S.forwardRef((e,t)=>{var n=Ui(e,ls);return S.createElement(Ewe,eu({},n,{ref:t}))});u2.displayName="CartesianAxis";var kwe=["x1","y1","x2","y2","key"],Twe=["offset"],Awe=["xAxisId","yAxisId"],Owe=["xAxisId","yAxisId"];function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){jwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jwe(e,t,n){return(t=Cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cwe(e){var t=Nwe(e,"string");return typeof t=="symbol"?t:t+""}function Nwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(null,arguments)}function jv(e,t){if(e==null)return{};var n,r,i=Mwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pwe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=e;return S.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function a8(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:c,y2:u,key:f}=n,m=jv(n,kwe),p=(i=za(m))!==null&&i!==void 0?i:{},{offset:g}=p,b=jv(p,Twe);r=S.createElement("line",Hc({},b,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function Dwe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=jv(e,Awe),u=i.map((f,m)=>{var p=Tr(Tr({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return S.createElement(a8,{key:"line-".concat(m),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Rwe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,c=jv(e,Owe),u=i.map((f,m)=>{var p=Tr(Tr({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return S.createElement(a8,{option:r,lineItemProps:p,key:"line-".concat(m)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Lwe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var b=!f[g+1],_=b?i+o-p:f[g+1]-p;if(_<=0)return null;var w=g%t.length;return S.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:_,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Iwe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var m=f.map((p,g)=>{var b=!f[g+1],_=b?i+o-p:f[g+1]-p;if(_<=0)return null;var w=g%n.length;return S.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:_,height:c,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var $we=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return V7(c2(Tr(Tr(Tr({},ls),n),{},{ticks:Z7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Bwe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return V7(c2(Tr(Tr(Tr({},ls),n),{},{ticks:Z7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},zwe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ir.grid};function o8(e){var t=a6(),n=o6(),r=i6(),i=Tr(Tr({},Ui(e,zwe)),{},{x:Ke(e.x)?e.x:r.left,y:Ke(e.y)?e.y:r.top,width:Ke(e.width)?e.width:r.width,height:Ke(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:f,height:m,syncWithTicks:p,horizontalValues:g,verticalValues:b}=i,_=fi(),w=Ve(Y=>CL(Y,"xAxis",a,_)),E=Ve(Y=>CL(Y,"yAxis",o,_));if(!wo(f)||!wo(m)||!Ke(c)||!Ke(u))return null;var A=i.verticalCoordinatesGenerator||$we,C=i.horizontalCoordinatesGenerator||Bwe,{horizontalPoints:j,verticalPoints:P}=i;if((!j||!j.length)&&typeof C=="function"){var M=g&&g.length,D=C({yAxis:E?Tr(Tr({},E),{},{ticks:M?g:E.ticks}):void 0,width:t??f,height:n??m,offset:r},M?!0:p);iv(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(j=D)}if((!P||!P.length)&&typeof A=="function"){var $=b&&b.length,U=A({xAxis:w?Tr(Tr({},w),{},{ticks:$?b:w.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);iv(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(P=U)}return S.createElement(Os,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Pwe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(Lwe,Hc({},i,{horizontalPoints:j})),S.createElement(Iwe,Hc({},i,{verticalPoints:P})),S.createElement(Dwe,Hc({},i,{offset:r,horizontalPoints:j,xAxis:w,yAxis:E})),S.createElement(Rwe,Hc({},i,{offset:r,verticalPoints:P,xAxis:w,yAxis:E}))))}o8.displayName="CartesianGrid";function Uwe(e){var t=yb(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=r),{r:o,strokeWidth:c}}return{r:n,strokeWidth:r}}var s8=(e,t,n,r)=>sz(e,"xAxis",t,r),l8=(e,t,n,r)=>oz(e,"xAxis",t,r),c8=(e,t,n,r)=>sz(e,"yAxis",n,r),u8=(e,t,n,r)=>oz(e,"yAxis",n,r),Hwe=_e([Kt,s8,c8,l8,u8],(e,t,n,r,i)=>_s(e,"xAxis")?rv(t,r,!1):rv(n,i,!1)),Fwe=(e,t,n,r,i)=>i,d8=_e([j9,Fwe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),Gwe=(e,t,n,r,i)=>{var a,o=d8(e,t,n,r,i);if(o!=null){var c=Kt(e),u=_s(c,"xAxis"),f;if(u?f=lk(e,"yAxis",n,r):f=lk(e,"xAxis",t,r),f!=null){var{stackId:m}=o,p=IA(o);if(!(m==null||p==null)){var g=(a=f[m])===null||a===void 0?void 0:a.stackedData;return g?.find(b=>b.key===p)}}}},qwe=_e([Kt,s8,c8,l8,u8,Gwe,OA,Hwe,d8,O0e],(e,t,n,r,i,a,o,c,u,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:b}=u,_;if(b&&b.length>0?_=b:_=m?.slice(p,g+1),_!=null)return u1e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:_,chartBaseValue:f,bandSize:c})}}),Ywe=["id"],Kwe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(null,arguments)}function f8(e,t){if(e==null)return{};var n,r,i=Wwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){Vwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vwe(e,t,n){return(t=Zwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zwe(e){var t=Xwe(e,"string");return typeof t=="symbol"?t:t+""}function Xwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cv(e,t){return e&&e!=="none"?e:t}var Jwe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Cv(r,i),value:X7(n,t),payload:e}]},Qwe=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:u,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:X7(o,t),hide:c,type:f,color:Cv(r,a),unit:u}};return S.createElement(Qxe,{tooltipEntrySettings:m})});function e1e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,c=za(r);return S.createElement(x_e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:i,clipPathId:t})}function t1e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,c,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return vd(vd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(qxe,{value:t?i:void 0},n)}function _I(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:c,stroke:u,connectNulls:f,isRange:m}=a,{id:p}=a,g=f8(a,Ywe),b=za(g),_=fa(g);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(xo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(ay,Kc({},_,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(ay,Kc({},b,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),u!=="none"&&m&&S.createElement(ay,Kc({},b,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),S.createElement(e1e,{points:t,props:g,clipPathId:i}))}function n1e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!_n(a)||!_n(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.x||0));return Ke(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),Ke(u)?S.createElement("rect",{x:0,y:a<o?a:a-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function r1e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!_n(a)||!_n(o))return null;var c=t*Math.abs(a-o),u=Math.max(...r.map(f=>f.y||0));return Ke(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),Ke(u)?S.createElement("rect",{x:a<o?a:a-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function i1e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?S.createElement(n1e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):S.createElement(r1e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function a1e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:u,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:g,onAnimationEnd:b}=r,_=S.useMemo(()=>({points:o,baseLine:c}),[o,c]),w=b6(_,"recharts-area-"),E=Qfe(),[A,C]=S.useState(!1),j=!A,P=S.useCallback(()=>{typeof b=="function"&&b(),C(!1)},[b]),M=S.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);if(E==null)return null;var D=i.current,$=a.current;return S.createElement(t1e,{showLabels:j,points:o},r.children,S.createElement(v6,{animationId:w,begin:f,duration:m,isActive:u,easing:p,onAnimationEnd:P,onAnimationStart:M,key:w},U=>{if(D){var Y=D.length/o.length,W=U===1?o:o.map((G,Z)=>{var X=Math.floor(Z*Y);if(D[X]){var Q=D[X];return vd(vd({},G),{},{x:mo(Q.x,G.x,U),y:mo(Q.y,G.y,U)})}return G}),H;return Ke(c)?H=mo($,c,U):vr(c)||Ua(c)?H=mo($,0,U):H=c.map((G,Z)=>{var X=Math.floor(Z*Y);if(Array.isArray($)&&$[X]){var Q=$[X];return vd(vd({},G),{},{x:mo(Q.x,G.x,U),y:mo(Q.y,G.y,U)})}return G}),U>0&&(i.current=W,a.current=H),S.createElement(_I,{points:W,baseLine:H,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=c),S.createElement(xo,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(i1e,{alpha:U,points:o,baseLine:c,layout:E,strokeWidth:r.strokeWidth}))),S.createElement(xo,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(_I,{points:o,baseLine:c,needClip:t,clipPathId:n,props:r})))}),S.createElement(Wxe,{label:r.label}))}function o1e(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),a=S.useRef();return S.createElement(a1e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class s1e extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:c,xAxisId:u,yAxisId:f,width:m,height:p,id:g,baseLine:b,zIndex:_}=this.props;if(t)return null;var w=Xt("recharts-area",i),E=g,{r:A,strokeWidth:C}=Uwe(n),j=Zz(n),P=A*2+C,M=c?"url(#clipPath-".concat(j?"":"dots-").concat(E,")"):void 0;return S.createElement(Os,{zIndex:_},S.createElement(xo,{className:w},c&&S.createElement("defs",null,S.createElement(H_e,{clipPathId:E,xAxisId:u,yAxisId:f}),!j&&S.createElement("clipPath",{id:"clipPath-dots-".concat(E)},S.createElement("rect",{x:o-P/2,y:a-P/2,width:m+P,height:p+P}))),S.createElement(o1e,{needClip:c,clipPathId:E,props:this.props})),S.createElement(pI,{points:r,mainColor:Cv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(b)&&S.createElement(pI,{points:b,mainColor:Cv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var h8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ir.area};function l1e(e){var t,n=Ui(e,h8),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:u,fill:f,fillOpacity:m,hide:p,isAnimationActive:g,legendType:b,stroke:_,xAxisId:w,yAxisId:E}=n,A=f8(n,Kwe),C=ep(),j=Oz(),{needClip:P}=t8(w,E),M=fi(),{points:D,isRange:$,baseLine:U}=(t=Ve(X=>qwe(X,w,E,M,e.id)))!==null&&t!==void 0?t:{},Y=o2();if(C!=="horizontal"&&C!=="vertical"||Y==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:W,width:H,x:G,y:Z}=Y;return!D||!D.length?null:S.createElement(s1e,Kc({},A,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:c,dot:u,fill:f,fillOpacity:m,height:W,hide:p,layout:C,isAnimationActive:g==="auto"?!rf.isSsr:g,isRange:$,legendType:b,needClip:P,points:D,stroke:_,width:H,left:G,top:Z,xAxisId:w,yAxisId:E}))}var c1e=(e,t,n,r,i)=>{var a=n??t;if(Ke(a))return a;var o=e==="horizontal"?i:r,c=o.scale.domain();if(o.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function u1e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:c,yAxis:u,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:g,bandSize:b}=e,_=i&&i.length,w=c1e(a,o,n,c,u),E=a==="horizontal",A=!1,C=f.map((P,M)=>{var D;_?D=i[m+M]:(D=Ar(P,r),Array.isArray(D)?A=!0:D=[w,D]);var $=D[1]==null||_&&!t&&Ar(P,r)==null;return E?{x:QD({axis:c,ticks:p,bandSize:b,entry:P,index:M}),y:$?null:u.scale(D[1]),value:D,payload:P}:{x:$?null:c.scale(D[1]),y:QD({axis:u,ticks:g,bandSize:b,entry:P,index:M}),value:D,payload:P}}),j;return _||A?j=C.map(P=>{var M=Array.isArray(P.value)?P.value[0]:null;return E?{x:P.x,y:M!=null&&P.y!=null?u.scale(M):null,payload:P.payload}:{x:M!=null?c.scale(M):null,y:P.y,payload:P.payload}}):j=E?u.scale(w):c.scale(w),{points:C,baseLine:j,isRange:A}}function d1e(e){var t=Ui(e,h8),n=fi();return S.createElement(i_e,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(e_e,{legendPayload:Jwe(t)}),S.createElement(Qwe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),S.createElement(d_e,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:pfe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(l1e,Kc({},t,{id:r}))))}var m8=S.memo(d1e,s2);m8.displayName="Area";var f1e=["domain","range"],h1e=["domain","range"];function wI(e,t){if(e==null)return{};var n,r,i=m1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function p8(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=wI(e,f1e),{domain:a,range:o}=t,c=wI(t,h1e);return!SI(n,a)||!SI(r,o)?!1:s2(i,c)}var p1e=["dangerouslySetInnerHTML","ticks"],g1e=["id"];function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gk.apply(null,arguments)}function EI(e,t){if(e==null)return{};var n,r,i=y1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function v1e(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(k_e(e)):n.current!==e&&t(T_e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(A_e(n.current)),n.current=null)},[t]),null}var b1e=e=>{var{xAxisId:t,className:n}=e,r=Ve(Q7),i=fi(),a="xAxis",o=Ve(E=>uf(E,a,t,i)),c=Ve(E=>az(E,a,t,i)),u=Ve(E=>xye(E,t)),f=Ve(E=>Tye(E,t)),m=Ve(E=>k9(E,t));if(u==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,b=EI(e,p1e),{id:_}=m,w=EI(m,g1e);return S.createElement(u2,gk({},b,w,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:Xt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},x1e={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:ls.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:ls.tickLine,tickSize:ls.tickSize,type:tr.type,xAxisId:0},_1e=e=>{var t=Ui(e,x1e);return S.createElement(S.Fragment,null,S.createElement(v1e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(b1e,t))},g8=S.memo(_1e,p8);g8.displayName="XAxis";var w1e=["dangerouslySetInnerHTML","ticks"],S1e=["id"];function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yk.apply(null,arguments)}function kI(e,t){if(e==null)return{};var n,r,i=E1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function k1e(e){var t=sr(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(O_e(e)):n.current!==e&&t(j_e({prev:n.current,next:e})),n.current=e},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(C_e(n.current)),n.current=null)},[t]),null}var T1e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=S.useRef(null),o=S.useRef(null),c=Ve(Q7),u=fi(),f=sr(),m="yAxis",p=Ve(M=>uf(M,m,t,u)),g=Ve(M=>jye(M,t)),b=Ve(M=>Oye(M,t)),_=Ve(M=>az(M,m,t,u)),w=Ve(M=>T9(M,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!g||a2(i)||S.isValidElement(i)||w==null)){var M=a.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&f(N_e({id:t,width:D}))}}},[_,g,f,i,t,r,w]),g==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:A}=e,C=kI(e,w1e),{id:j}=w,P=kI(w,S1e);return S.createElement(u2,yk({},C,P,{ref:a,labelRef:o,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Xt("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:_,axisType:m}))},A1e={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:ls.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:ls.tickLine,tickSize:ls.tickSize,type:nr.type,width:nr.width,yAxisId:0},O1e=e=>{var t=Ui(e,A1e);return S.createElement(S.Fragment,null,S.createElement(k1e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(T1e,t))},y8=S.memo(O1e,p8);y8.displayName="YAxis";var j1e=(e,t)=>t,d2=_e([j1e,Kt,S9,Wn,wz,As,Fve,xr],Zve),f2=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},v8=ha("mouseClick"),b8=Jm();b8.startListening({actionCreator:v8,effect:(e,t)=>{var n=e.payload,r=d2(t.getState(),f2(n));r?.activeIndex!=null&&t.dispatch(Hye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vk=ha("mouseMove"),x8=Jm(),I0=null;x8.startListening({actionCreator:vk,effect:(e,t)=>{var n=e.payload;I0!==null&&cancelAnimationFrame(I0);var r=f2(n);I0=requestAnimationFrame(()=>{var i=t.getState(),a=WA(i,i.tooltip.settings.shared);if(a==="axis"){var o=d2(i,r);o?.activeIndex!=null?t.dispatch(mz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(hz())}I0=null})}});var TI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_8=di({name:"rootProps",initialState:TI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:TI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),C1e=_8.reducer,{updateOptions:N1e}=_8.actions,w8=di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:y2e}=w8.actions,M1e=w8.reducer,S8=ha("keyDown"),E8=ha("focus"),h2=Jm();h2.startListening({actionCreator:S8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=VA(i,ff(n),lp(n),hp(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=As(n);if(a==="Enter"){var f=kv(n,"axis","hover",String(i.index));t.dispatch(uk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=Pye(n),p=m==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,b=c+g*p;if(!(u==null||b>=u.length||b<0)){var _=kv(n,"axis","hover",String(b));t.dispatch(uk({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});h2.startListening({actionCreator:E8,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=kv(n,"axis","hover",String(a));t.dispatch(uk({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ta=ha("externalEvent"),k8=Jm(),xS=new Map;k8.startListening({actionCreator:ta,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=xS.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:Ove(c),activeDataKey:Tve(c),activeIndex:Am(c),activeLabel:kz(c),activeTooltipIndex:Am(c),isTooltipActive:jve(c)};n(u,r)}finally{xS.delete(i)}});xS.set(i,o)}}});var P1e=_e([df],e=>e.tooltipItemPayloads),D1e=_e([P1e,dp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),T8=ha("touchMove"),A8=Jm();A8.startListening({actionCreator:T8,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=WA(r,r.tooltip.settings.shared);if(i==="axis"){var a=d2(r,f2({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(mz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(wfe),m=(o=u.getAttribute(Sfe))!==null&&o!==void 0?o:void 0,p=D1e(t.getState(),f,m);t.dispatch(Uye({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var R1e=nB({brush:Y_e,cartesianAxis:M_e,chartData:Obe,errorBars:U_e,graphicalItems:c_e,layout:afe,legend:ghe,options:Sbe,polarAxis:Zxe,polarOptions:M1e,referenceElements:Q_e,rootProps:C1e,tooltip:Fye,zIndex:ube}),L1e=function(t){return Cde({reducer:R1e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([b8.middleware,x8.middleware,h2.middleware,k8.middleware,A8.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(R7({type:"raf"}))},devTools:rf.devToolsEnabled})};function I1e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=fi(),a=S.useRef(null);if(i)return n;a.current==null&&(a.current=L1e(t));var o=WT;return S.createElement(dB,{context:o,store:a.current},n)}function $1e(e){var{layout:t,margin:n}=e,r=sr(),i=fi();return S.useEffect(()=>{i||(r(nfe(t)),r(tfe(n)))},[r,i,t,n]),null}var B1e=S.memo($1e,s2);function z1e(e){var t=sr();return S.useEffect(()=>{t(N1e(e))},[t,e]),null}function AI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Xz("".concat(r).concat(t)),a=sr();return S.useLayoutEffect(()=>(a(lbe({zIndex:t,elementId:i,isPanorama:n})),()=>{a(cbe({zIndex:t,isPanorama:n}))}),[a,t,i,n]),S.createElement("g",{tabIndex:-1,id:i})}function OI(e){var{children:t,isPanorama:n}=e,r=Ve(Jve);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return S.createElement(S.Fragment,null,i.map(o=>S.createElement(AI,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>S.createElement(AI,{key:o,zIndex:o,isPanorama:n})))}var U1e=["children"];function H1e(e,t){if(e==null)return{};var n,r,i=F1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(null,arguments)}var G1e={width:"100%",height:"100%",display:"block"},q1e=S.forwardRef((e,t)=>{var n=a6(),r=o6(),i=m6();if(!wo(n)||!wo(r))return null;var{children:a,otherAttributes:o,title:c,desc:u}=e,f,m;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0),S.createElement(G4,Nv({},o,{title:c,desc:u,role:m,tabIndex:f,width:n,height:r,style:G1e,ref:t}),a)}),Y1e=e=>{var{children:t}=e,n=Ve(Pb);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return S.createElement(G4,{width:r,height:i,x:o,y:a},t)},jI=S.forwardRef((e,t)=>{var{children:n}=e,r=H1e(e,U1e),i=fi();return i?S.createElement(Y1e,null,S.createElement(OI,{isPanorama:!0},n)):S.createElement(q1e,Nv({ref:t},r),S.createElement(OI,{isPanorama:!1},n))});function K1e(){var e=sr(),[t,n]=S.useState(null),r=Ve(_fe);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;_n(a)&&a!==r&&e(ife(a))}},[t,e,r]),n}function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){V1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V1e(e,t,n){return(t=Z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z1e(e){var t=X1e(e,"string");return typeof t=="symbol"?t:t+""}function X1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}var J1e=()=>(Ibe(),null);function Mv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Q1e=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[a,o]=S.useState({containerWidth:Mv((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Mv((r=e.style)===null||r===void 0?void 0:r.height)}),c=S.useCallback((f,m)=>{o(p=>{var g=Math.round(f),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=S.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var g=_=>{var{width:w,height:E}=_[0].contentRect;c(w,E)},b=new ResizeObserver(g);b.observe(f),i.current=b}},[t,c]);return S.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),S.createElement(S.Fragment,null,S.createElement(Rb,{width:a.containerWidth,height:a.containerHeight}),S.createElement("div",tu({ref:u},e)))}),eSe=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=S.useState({containerWidth:Mv(n),containerHeight:Mv(r)}),o=S.useCallback((u,f)=>{a(m=>{var p=Math.round(u),g=Math.round(f);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),c=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:m}=u.getBoundingClientRect();o(f,m)}},[t,o]);return S.createElement(S.Fragment,null,S.createElement(Rb,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",tu({ref:c},e)))}),tSe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(Rb,{width:n,height:r}),S.createElement("div",tu({ref:t},e)))}),nSe=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return fs(n)||fs(r)?S.createElement(eSe,tu({},e,{ref:t})):S.createElement(tSe,tu({},e,{ref:t}))});function rSe(e){return e===!0?Q1e:nSe}var iSe=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:g,onTouchEnd:b,onTouchMove:_,onTouchStart:w,style:E,width:A,responsive:C,dispatchTouchEvents:j=!0}=e,P=S.useRef(null),M=sr(),[D,$]=S.useState(null),[U,Y]=S.useState(null),W=K1e(),H=nA(),G=H?.width>0?H.width:A,Z=H?.height>0?H.height:i,X=S.useCallback(te=>{W(te),typeof t=="function"&&t(te),$(te),Y(te),te!=null&&(P.current=te)},[W,t,$,Y]),Q=S.useCallback(te=>{M(v8(te)),M(ta({handler:a,reactEvent:te}))},[M,a]),q=S.useCallback(te=>{M(vk(te)),M(ta({handler:f,reactEvent:te}))},[M,f]),J=S.useCallback(te=>{M(hz()),M(ta({handler:m,reactEvent:te}))},[M,m]),ie=S.useCallback(te=>{M(vk(te)),M(ta({handler:p,reactEvent:te}))},[M,p]),fe=S.useCallback(()=>{M(E8())},[M]),se=S.useCallback(te=>{M(S8(te.key))},[M]),B=S.useCallback(te=>{M(ta({handler:o,reactEvent:te}))},[M,o]),K=S.useCallback(te=>{M(ta({handler:c,reactEvent:te}))},[M,c]),ae=S.useCallback(te=>{M(ta({handler:u,reactEvent:te}))},[M,u]),V=S.useCallback(te=>{M(ta({handler:g,reactEvent:te}))},[M,g]),oe=S.useCallback(te=>{M(ta({handler:w,reactEvent:te}))},[M,w]),pe=S.useCallback(te=>{j&&M(T8(te)),M(ta({handler:_,reactEvent:te}))},[M,j,_]),ye=S.useCallback(te=>{M(ta({handler:b,reactEvent:te}))},[M,b]),ue=rSe(C);return S.createElement(Pz.Provider,{value:D},S.createElement(Lce.Provider,{value:U},S.createElement(ue,{width:G??E?.width,height:Z??E?.height,className:Xt("recharts-wrapper",r),style:W1e({position:"relative",cursor:"default",width:G,height:Z},E),onClick:Q,onContextMenu:B,onDoubleClick:K,onFocus:fe,onKeyDown:se,onMouseDown:ae,onMouseEnter:q,onMouseLeave:J,onMouseMove:ie,onMouseUp:V,onTouchEnd:ye,onTouchMove:pe,onTouchStart:oe,ref:X},S.createElement(J1e,null),n)))}),aSe=["width","height","responsive","children","className","style","compact","title","desc"];function oSe(e,t){if(e==null)return{};var n,r,i=sSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lSe=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:c,compact:u,title:f,desc:m}=e,p=oSe(e,aSe),g=za(p);return u?S.createElement(S.Fragment,null,S.createElement(Rb,{width:n,height:r}),S.createElement(jI,{otherAttributes:g,title:f,desc:m},a)):S.createElement(iSe,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(jI,{otherAttributes:g,title:f,desc:m,ref:t},S.createElement(twe,null,a)))});function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bk.apply(null,arguments)}var cSe={top:5,right:5,bottom:5,left:5},uSe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:cSe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},dSe=S.forwardRef(function(t,n){var r,i=Ui(t.categoricalChartProps,uSe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(I1e,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},S.createElement(q_e,{chartData:f.data}),S.createElement(B1e,{layout:i.layout,margin:i.margin}),S.createElement(z1e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(lSe,bk({},i,{ref:n})))}),fSe=["axis"],hSe=S.forwardRef((e,t)=>S.createElement(dSe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fSe,tooltipPayloadSearcher:_be,categoricalChartProps:e,ref:t}));function NI(){const[e,t]=S.useState(0),[n,r]=S.useState(0),[i,a]=S.useState(0),[o,c]=S.useState(0),[u,f]=S.useState([]),[m,p]=S.useState([]),g=S.useMemo(()=>{const E=new Date;return E.setHours(0,0,0,0),E},[]),b=S.useCallback(async()=>{const{count:E}=await Ie.from("profiles").select("*",{count:"exact",head:!0});t(E||0);const{count:A}=await Ie.from("myeongsik").select("*",{count:"exact",head:!0});r(A||0);const{count:C}=await Ie.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());a(C||0);const{count:j}=await Ie.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",g.toISOString());c(j||0)},[g]),_=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:A}=await Ie.from("profiles").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),C={};(A||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);C[M]=(C[M]||0)+1});const j=Object.entries(C).map(([P,M])=>({day:P,count:M}));f(j)},[]),w=S.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:A}=await Ie.from("myeongsik").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),C={};(A||[]).forEach(P=>{const M=new Date(P.created_at).toISOString().slice(0,10);C[M]=(C[M]||0)+1});const j=Object.entries(C).map(([P,M])=>({day:P,count:M}));p(j)},[]);return S.useEffect(()=>{b(),_(),w()},[b,_,w]),x.jsx(kce,{allow:["admin","operator","viewer"],children:x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[x.jsx($0,{label:" ",value:e}),x.jsx($0,{label:"  ",value:n}),x.jsx($0,{label:" ",value:i}),x.jsx($0,{label:"  ",value:o})]}),x.jsxs("section",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(MI,{data:u})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),x.jsx(MI,{data:m})]})]})})}function $0({label:e,value:t}){return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsx("div",{className:"text-neutral-400 text-sm",children:e}),x.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function MI({data:e}){return x.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:x.jsx(Xfe,{width:"100%",height:"100%",children:x.jsxs(hSe,{data:e,children:[x.jsx(o8,{strokeDasharray:"3 3",stroke:"#333"}),x.jsx(g8,{dataKey:"day",stroke:"#bbb"}),x.jsx(y8,{stroke:"#bbb"}),x.jsx(qbe,{}),x.jsx(m8,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}function mSe(){const[e,t]=S.useState(""),[n,r]=S.useState(1),[i,a]=S.useState({});return{search:e,setSearch:t,page:n,setPage:r,draftByUser:i,setDraftByUser:a,setDraft:(c,u)=>{a(f=>{const m=f[c]??{plan:"PROMPT_LOCKED",startDate:"",endDate:"",saving:!1};return{...f,[c]:{...m,...u}}})}}}const O8=[{value:"PROMPT_HIDDEN",label:" "},{value:"PROMPT_LOCKED",label:" ()"},{value:"PROMPT_FULL",label:"  "}];function pSe(e){return e==="PROMPT_HIDDEN"||e==="PROMPT_LOCKED"||e==="PROMPT_FULL"}function gSe(e){return typeof e!="string"?null:yT(e)}function PI(e){return String(e).padStart(2,"0")}function Pv(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const n=t.getFullYear(),r=PI(t.getMonth()+1),i=PI(t.getDate());return`${n}-${r}-${i}`}function DI(e,t){const n=(e??"").trim();return/^\d{4}-\d{2}-\d{2}$/.test(n)?t?`${n}T23:59:59+09:00`:`${n}T00:00:00+09:00`:null}function ySe(e){const t=Dy(e),n=t.maxMyeongsik===null?9999:t.maxMyeongsik;return{plan:e,max_myeongsik:n,can_manage_myeongsik:t.canManageMyeongsik,can_use_luck_tabs:t.canUseLuckTabs,can_use_multi_mode:t.canUseMultiMode,can_use_all_prompts:t.canUseAllPrompts}}function vSe(e){const t=e??"PROMPT_LOCKED";return O8.find(n=>n.value===t)?.label??String(t)}function bSe(e){const t=e?.starts_at?Pv(e.starts_at):"",n=e?.expires_at?Pv(e.expires_at):"";return!t&&!n?" ":t&&!n?`${t} ~ ()`:!t&&n?`( ) ~ ${n}`:`${t} ~ ${n}`}const xk=20;function xSe(e,t){const n=(t-1)*xk;return e.slice(n,n+xk)}function _Se(e){return Math.max(1,Math.ceil(e.length/xk))}function wSe(e){const{userIds:t,profiles:n,myeongsikRows:r,entRows:i}=e,a={};n.forEach(u=>{const f=u.user_id||u.id;f&&(a[f]=u)});const o={};i.forEach(u=>{const f=gSe(u.plan);o[u.user_id]={user_id:u.user_id,plan:f,starts_at:u.starts_at??null,expires_at:u.expires_at??null}});const c={};return t.forEach(u=>{c[u]={user_id:u,profile:a[u]||null,myeongsikCount:0,lastCreatedAt:null,ent:o[u]||null}}),r.forEach(u=>{c[u.user_id].myeongsikCount++,c[u.user_id].lastCreatedAt||(c[u.user_id].lastCreatedAt=u.created_at)}),Object.values(c)}function SSe(e,t){const n={...e};return t.forEach(r=>{const i=r.ent,a=i?.plan??"PROMPT_LOCKED",o=Pv(i?.starts_at??null),c=Pv(i?.expires_at??null),u=n[r.user_id];if(!u){n[r.user_id]={plan:a,startDate:o,endDate:c,saving:!1};return}u.saving||(u.plan!==a||u.startDate!==o||u.endDate!==c)&&(n[r.user_id]={...u,plan:a,startDate:o,endDate:c})}),n}async function ESe(e){let t=Ie.from("myeongsik").select("user_id,name");if(e.trim()){const i=`%${e.trim()}%`;t=t.or(`name.ilike.${i},user_id.ilike.${i},birth_json->>birthDay.ilike.${i}`)}const{data:n,error:r}=await t;if(r)throw new Error(r.message);return Array.from(new Set((n||[]).map(i=>i.user_id).filter(Boolean)))}async function kSe(e){const{data:t,error:n}=await Ie.from("profiles").select("id,user_id,name,nickname,email").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function TSe(e){const{data:t,error:n}=await Ie.from("myeongsik").select("user_id, created_at").in("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t||[]}async function ASe(e){const{data:t,error:n}=await Ie.from("user_entitlements").select("user_id,plan,starts_at,expires_at").in("user_id",e);if(n)throw new Error(n.message);return t||[]}async function OSe(e){const{error:t}=await Ie.from("user_entitlements").upsert(e);if(t)throw new Error(t.message)}function jSe(){const[e,t]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState(!1),[o,c]=S.useState(null),u=S.useCallback(async(p,g)=>{a(!0),c(null);try{const b=await ESe(p);t(b),g()}catch(b){c(b instanceof Error?b.message:"Unknown error")}a(!1)},[]),f=S.useCallback(async p=>{if(!p.length){r([]);return}a(!0),c(null);try{const g=p.length?p:["__NO_MATCH__"],[b,_,w]=await Promise.all([kSe(g),TSe(g),ASe(g)]),E=wSe({userIds:g,profiles:b,myeongsikRows:_,entRows:w});r(E)}catch(g){c(g instanceof Error?g.message:"Error")}a(!1)},[]),m=S.useCallback(async(p,g,b,_)=>{if(g){b(p,{saving:!0});try{const w=ySe(g.plan),E=g.startDate?DI(g.startDate,!1):null,A=g.endDate?DI(g.endDate,!0):null,C={user_id:p,...w,starts_at:E,expires_at:A};await OSe(C),b(p,{saving:!1,lastSavedAt:Date.now()}),await _()}catch(w){b(p,{saving:!1}),c(w instanceof Error?w.message:" ")}}},[]);return{userIds:e,summaries:n,loading:i,error:o,setError:c,fetchUserIdList:u,fetchSummaries:f,saveEntitlements:m}}function CSe(){const e=mSe(),{search:t,setSearch:n,page:r,setPage:i,draftByUser:a,setDraftByUser:o,setDraft:c}=e,{userIds:u,summaries:f,loading:m,error:p,fetchUserIdList:g,fetchSummaries:b,saveEntitlements:_}=jSe(),w=S.useMemo(()=>xSe(u,r),[u,r]),E=S.useMemo(()=>_Se(u),[u]);return S.useEffect(()=>{g(t,()=>i(1))},[g,t,i]),S.useEffect(()=>{b(w)},[b,w]),S.useEffect(()=>{o(A=>SSe(A,f))},[f,o]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),x.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:t,onChange:A=>n(A.target.value)}),p&&x.jsx("div",{className:"text-red-400 mb-2",children:p}),m&&x.jsx("div",{children:"Loading..."}),x.jsx("div",{className:"space-y-3",children:f.map(A=>{const C=A.profile?.name||A.profile?.nickname||"(no profile)",j=A.profile?.email||"",P=a[A.user_id]??{plan:"PROMPT_LOCKED",startDate:"",endDate:"",saving:!1};return x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[x.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between gap-3",children:[x.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[x.jsx("span",{className:"text-nowrap mr-1",children:C}),j?x.jsxs("span",{className:"text-sm text-neutral-400 truncate",children:["(",j,")"]}):null]}),x.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:A.user_id})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",A.myeongsikCount,"",A.lastCreatedAt&&x.jsxs(x.Fragment,{children:["    ",new Date(A.lastCreatedAt).toLocaleString()]})]}),x.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",vSe(A.ent?.plan),"  ",bSe(A.ent)]}),x.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:M=>c(A.user_id,{startDate:M.target.value})}),x.jsx("span",{className:"text-neutral-500",children:"~"}),x.jsx("label",{className:"text-xs text-neutral-400",children:""}),x.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:M=>c(A.user_id,{endDate:M.target.value})}),x.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:M=>{const D=M.target.value;pSe(D)&&c(A.user_id,{plan:D})},children:O8.map(M=>x.jsx("option",{value:M.value,children:M.label},M.value))}),x.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void _(A.user_id,P,e.setDraft,()=>b(w)),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),x.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${A.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt?x.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},A.user_id)})}),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{disabled:r<=1,onClick:()=>i(A=>A-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),x.jsxs("span",{children:[r," / ",E]}),x.jsx("button",{disabled:r>=E,onClick:()=>i(A=>A+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function NSe(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function MSe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function m2({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Ie.auth.getSession()).data.session?.user?.id;a&&await Ie.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const PSe=async e=>{const{data:t}=await Ie.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},DSe=async e=>{const{data:t}=await Ie.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},RSe=async e=>{await Ie.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},LSe=async(e,t)=>{await Ie.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},ISe=async(e,t)=>{await Ie.from("profiles").update({disabled_at:t}).eq("user_id",e)},$Se=async e=>{await Ie.from("profiles").update({disabled_at:null}).eq("user_id",e),await Ie.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await m2({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},BSe=async e=>{await Ie.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await m2({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},zSe=async(e,t,n)=>{await Ie.from("myeongsik").update({deleted_at:n}).eq("id",t),await m2({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function USe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=S.useCallback(async()=>{const w=await PSe(e);n(w)},[e,n]),o=S.useCallback(async()=>{const w=await DSe(e);r(w)},[e,r]);S.useEffect(()=>{a(),o()},[a,o]);const c=S.useCallback(async()=>{i(!0),await RSe(e),i(!1),await a()},[e,i,a]),u=S.useCallback(async()=>{t&&(i(!0),await LSe(e,t),i(!1),await a())},[t,e,i,a]),f=S.useCallback(async()=>{if(!t)return;const w=t.disabled_at?null:new Date().toISOString();await ISe(e,w),await a()},[t,e,a]),m=S.useCallback(async()=>{i(!0),await $Se(e),i(!1),await a(),await o()},[e,i,a,o]),p=S.useCallback(async()=>{i(!0),await BSe(e),i(!1),await o()},[e,i,o]),g=S.useCallback(w=>{const E=typeof window<"u"?window.location.origin:"",A=w?`${E}/#/impersonate?userId=${e}&myeongsikId=${w}`:`${E}/#/impersonate?userId=${e}`;window.open(A,"_blank")},[e]),b=S.useCallback(async(w,E)=>{const A=E?null:new Date().toISOString();await zSe(e,w,A),await o()},[e,o]),_=S.useCallback(w=>{window.location.href=w},[]);return{handleCreateProfile:c,handleSaveProfile:u,toggleDisable:f,handleRestoreAccount:m,handleRestoreAllMyeongsik:p,handleViewAsUser:g,toggleDeleteMyeongsik:b,goTo:_}}function HSe({params:e}){const t=e.userId,n=NSe(),r=MSe(n.profile),i=USe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),x.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[x.jsx("div",{className:"flex items-center justify-between mb-3",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:""}),x.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&x.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:""}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:"Email"}),x.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{children:" "}),x.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&x.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" "}),x.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:" "}),x.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>x.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-","  ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>i.handleViewAsUser(a.id),children:"  ( )"}),x.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>i.goTo(`/admin/myeongsik/${a.id}`),children:""}),x.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${a.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>i.toggleDeleteMyeongsik(a.id,a.deleted_at),children:a.deleted_at?"":""})]})]})},a.id)),n.myeongsikList.length===0&&x.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function FSe({open:e,onClose:t,children:n}){return e?x.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[x.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),x.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const RI=50;function GSe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState([]),[o,c]=S.useState(1),[u,f]=S.useState("all"),[m,p]=S.useState("all"),[g,b]=S.useState("30"),[_,w]=S.useState(""),[E,A]=S.useState(!1),C=S.useCallback(async P=>{await Ie.from("audit_logs").delete().eq("id",P),a(M=>M.filter(D=>D.id!==P))},[]),j=S.useCallback(async()=>{A(!0);const P=new Date;g!=="all"&&P.setDate(P.getDate()-Number(g));let M=Ie.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*RI,o*RI-1);g!=="all"&&(M=M.gte("created_at",P.toISOString())),u!=="all"&&(M=M.eq("action",u)),m!=="all"&&(M=M.eq("actor_admin_id",m));const{data:D}=await M;let $=D||[];if(_.trim()!==""){const U=_.toLowerCase();$=$.filter(Y=>(JSON.stringify(Y).toLowerCase()+(Y.payload?JSON.stringify(Y.payload).toLowerCase():"")).includes(U))}a($),A(!1)},[o,u,m,g,_]);return S.useEffect(()=>{j()},[j]),x.jsxs("div",{className:"p-6 text-white",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),x.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:P=>f(P.target.value),children:[x.jsx("option",{value:"all",children:" Action"}),x.jsx("option",{value:"delete_myeongsik",children:" "}),x.jsx("option",{value:"restore_myeongsik",children:" "}),x.jsx("option",{value:"update_profile",children:" "}),x.jsx("option",{value:"impersonate_user",children:""})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:P=>p(P.target.value),children:[x.jsx("option",{value:"all",children:" "}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"system",children:"System"})]}),x.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:g,onChange:P=>b(P.target.value),children:[x.jsx("option",{value:"1",children:"24"}),x.jsx("option",{value:"7",children:"7"}),x.jsx("option",{value:"30",children:"30"}),x.jsx("option",{value:"all",children:""})]}),x.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:_,onChange:P=>w(P.target.value)})]}),E?x.jsx("div",{children:"Loading..."}):i.map(P=>x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(P),r(!0)},children:[x.jsxs("div",{className:"flex items-center justify-between gap-3",children:[x.jsx("div",{className:"font-semibold text-lg",children:P.action}),x.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:M=>{M.stopPropagation(),C(P.id)},children:""})]}),x.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[x.jsxs("div",{children:["Actor: ",P.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",P.target_user_id||"-"]}),x.jsxs("div",{children:["Target Record: ",P.target_record_id||"-"]}),x.jsxs("div",{children:["Time: ",new Date(P.created_at).toLocaleString()]})]}),P.payload&&x.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(P.payload,null,2)})]},P.id)),x.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40",disabled:o===1,onClick:()=>c(P=>P-1),children:" "}),x.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),x.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded",onClick:()=>c(P=>P+1),children:" "})]}),x.jsx(FSe,{open:n,onClose:()=>r(!1),children:e&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),x.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[x.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),x.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),x.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),x.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),x.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),x.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const qSe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function j8(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1);if(S.useEffect(()=>{(async()=>{const{data:c}=await Ie.auth.getUser(),u=c.user?.id;r(!!u&&qSe.includes(u)),t(!0)})()},[]),!e)return x.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return x.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=x.jsx(NI,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=x.jsx(HSe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=x.jsx(CSe,{}):i.startsWith("/admin/logs")?a=x.jsx(GSe,{}):i.startsWith("/admin/dashboard")&&(a=x.jsx(NI,{}));return x.jsx(Sce,{children:a})}function YSe({pillarsA:e,pillarsB:t}){const n=tne(e,t);return x.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[x.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?x.jsxs("div",{className:"flex gap-2 text-xs",children:[x.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),x.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>x.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const KSe=["","","","","","","","","",""],WSe=["","","","","","","","","",""],VSe=["","","","","","","","","","","",""],ZSe=["","","","","","","","","","","",""],XSe=new Set([...KSe,...WSe]),JSe=new Set([...VSe,...ZSe]);function QSe(e){return typeof e=="object"&&e!==null}function LI(e){return typeof e=="string"&&e.length>=2&&XSe.has(e[0])&&JSe.has(e[1])}function tn(e,...t){if(LI(e))return e;for(const n of t)if(LI(n))return n;return""}function B0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function eEe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function II(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,c=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(c.getTime())?null:c}function Dv(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function tEe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function ex(e){const{y:t,m:n,d:r,hh:i,mm:a}=tEe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),c=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Bi(t,n,r,c,u):new Date(t,n-1,r,c,u)}function nEe(e){const t=ex(e);return`${Dv(e)}-${t.toISOString()}`}function od(e){const t=e;return typeof t.id=="string"&&t.id?t.id:nEe(e)}function rEe(e){return QSe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function iEe(e){const t=M5;return rEe(t)?e==="classic"?t.Classic:t.Modern:e}function aEe(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const _S="people_picker_order_v1";function oEe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function $I({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=S.useState("");S.useEffect(()=>{e||a("")},[e]);const o=S.useMemo(()=>t.map(od),[t]),c=S.useMemo(()=>new Set(o),[o]),[u,f]=S.useState([]);S.useEffect(()=>{const w=localStorage.getItem(_S),E=w?JSON.parse(w):[],A=E.filter(j=>c.has(j)),C=[...A,...o.filter(j=>!A.includes(j))];f(C),JSON.stringify(C)!==JSON.stringify(E)&&localStorage.setItem(_S,JSON.stringify(C))},[o,c]);const m=w=>{f(w),localStorage.setItem(_S,JSON.stringify(w))},p=S.useMemo(()=>{const w=new Map(t.map(j=>[od(j),j])),E=[];for(const j of u){const P=w.get(j);P&&E.push(P)}w.forEach((j,P)=>{u.includes(P)||E.push(j)});const A=[],C=[];for(const j of E)(typeof j.relationship=="string"?j.relationship.trim():"")===""?A.push(j):C.push(j);return[...A,...C]},[t,u]),g=S.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(E=>{const A=typeof E.relationship=="string"?E.relationship.trim():"";return`${Dv(E)} ${A}`.toLowerCase().includes(w)}):p},[p,i]),b=i.trim()==="",_=w=>{const{destination:E,source:A}=w;if(!E||!b||E.index===A.index)return;const C=g.map(od),j=oEe(C,A.index,E.index),M=p.map(od).filter($=>!C.includes($)),D=[...j,...M].filter(($,U,Y)=>Y.indexOf($)===U);m(D)};return x.jsxs(x.Fragment,{children:[x.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),x.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),x.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),x.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),x.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),x.jsx(zm,{onDragEnd:_,children:x.jsx(ef,{droppableId:"people-picker",children:w=>x.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[g.map((E,A)=>{const C=ex(E),j=typeof E.relationship=="string"?E.relationship.trim():"",P=j||" ",M=Dv(E),D=j&&M===" "?j:M;return x.jsx(Qd,{draggableId:od(E),index:A,isDragDisabled:!b,children:$=>x.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:x.jsxs("button",{onClick:()=>n(E),className:"flex-1 text-left cursor-pointer",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[x.jsx("span",{children:D}),x.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${j?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:P})]}),x.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Zh(C)})]})})},od(E))}),w.placeholder]})})})]})]})}function wS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:c,sinsalMode:u,sinsalBloom:f}){const m=w=>{const E=o.showSibiUnseong?Eo(a,w):"",A=o.showSibiSinsal?ko({baseBranch:c,targetBranch:w,era:iEe(u),gaehwa:!!f}):"";return{unseongText:E||void 0,shinsalText:A||void 0}},p=tn(t).charAt(1),g=tn(n).charAt(1),b=tn(r).charAt(1),_=tn(i).charAt(1);return x.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[x.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),x.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",tn(t),p],["",tn(n),g],["",tn(r),b],["",tn(i),_]].map(([w,E,A])=>{const{unseongText:C,shinsalText:j}=m(A);return x.jsx(fd,{label:w,gz:E,dayStem:a,settings:qn.getState().settings,unseongText:C,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function sd({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=qn(D=>D.settings),o=S.useMemo(()=>t?ex(t):null,[t]),c="/",u=tn(o?$a(o,c):void 0),f=tn(o?gt(o,c):void 0),m=tn(o?St(o):void 0),p=tn(o?ot(o):void 0),g=S.useMemo(()=>f.charAt(0)||"",[f]),b=o,_=S.useMemo(()=>{const D=t?.birthPlace;return!D||D.name===""||!D.lon?127.5:D.lon},[t]),w=t?.mingSikType??c,E=S.useMemo(()=>{const D=b?gt(b,w).charAt(1):f.charAt(1)||"",$=b?ot(b,_).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?D:$},[a.sinsalBase,b,w,_,f,p]),A=S.useMemo(()=>{if(n!==""||!o||!t)return null;try{const D=D5(o,u,t.dir,120,t.mingSikType),$=L5(D,f,t.dir,t.DayChangeRule),U=qm(o,m,t.dir,120,t?.birthPlace?.lon??127.5),Y=I5(U,p,t.dir,t.DayChangeRule,o),W=r;return{si:tn(B0(D.events,W)?.gz,u),il:tn(B0($.events,W)?.gz,f),wl:tn(B0(U.events,W)?.gz,m),yn:tn(B0(Y.events,W)?.gz,p)}}catch{return null}},[n,o,u,f,m,p,r,t]),C=S.useMemo(()=>{if(n!=="")return null;const D=r;return{si:tn($a(D,c)),il:tn(gt(D,c)),wl:tn(St(D)),yn:tn(ot(D))}},[n,r]),j=t?Dv(t):"",P=o?Zh(o):"",M=t?aEe(t):"";return t?x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),x.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[x.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),x.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:j}),M&&x.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),P&&x.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:P})]}),n===""&&x.jsx(wS,{label:"",gzHour:u,gzDay:f,gzMonth:m,gzYear:p,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&A&&x.jsx(wS,{label:"",gzHour:A.si,gzDay:A.il,gzMonth:A.wl,gzYear:A.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&C&&x.jsx(wS,{label:"",gzHour:C.si,gzDay:C.il,gzMonth:C.wl,gzYear:C.yn,dayStem:g,cardSettings:a,sinsalBaseBranch:E,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):x.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:x.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function sEe({people:e=[]}){const[t,n]=S.useState(),[r,i]=S.useState(),[a,o]=S.useState(!1),[c,u]=S.useState(!1),f=S.useRef(new Date),[m,p]=S.useState(()=>eEe(f.current)),g=S.useRef(II(m)??f.current),b=S.useMemo(()=>{const j=II(m);return j&&(g.current=j),g.current},[m]),[_,w]=S.useState(!1),[E,A]=S.useState(!1);function C(j){if(!j)return["","","",""];try{const P=ex(j),M="/",D={hour:tn($a(P,M)),day:tn(gt(P,M)),month:tn(St(P)),year:tn(ot(P))};return[D.year,D.month,D.day,D.hour]}catch{return["","","",""]}}return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[x.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[x.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[x.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:a,onChange:j=>o(j.target.checked),className:"accent-indigo-500"})," "]}),x.jsx("button",{onClick:()=>u(j=>!j),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?" ":" "})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[x.jsx(sd,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>w(!0)}),x.jsx(sd,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>A(!0)}),a&&t&&x.jsx(sd,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>w(!0)}),a&&r&&x.jsx(sd,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>A(!0)}),c&&t&&x.jsx(sd,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>w(!0)}),c&&r&&x.jsx(sd,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>A(!0)})]}),t&&r&&x.jsx("div",{className:"mt-4",children:x.jsx(YSe,{pillarsA:C(t),pillarsB:C(r)})}),x.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[x.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),x.jsx("input",{type:"datetime-local",value:m,onChange:j=>p(j.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),x.jsx($I,{open:_,list:e||[],onSelect:j=>{n(j),w(!1)},onClose:()=>w(!1)}),x.jsx($I,{open:E,list:e||[],onSelect:j=>{i(j),A(!1)},onClose:()=>A(!1)})]})}function lEe(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),i=async()=>{try{const{data:{user:a}}=await Ie.auth.getUser();if(!a){alert("  .");return}const o=a.id,c=new Date().toISOString();await Ie.from("profiles").update({disabled_at:c}).eq("id",o),await Ie.from("myeongsik").update({deleted_at:c}).eq("user_id",o),await Ie.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return x.jsxs(x.Fragment,{children:[x.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[x.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),x.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[x.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),x.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"     ,    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsxs("p",{className:"mb-2",children:["   (, )",x.jsx("br",{}),"       ( ,  )"]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"    /  ",x.jsx("br",{}),"      "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsxs("p",{className:"mb-2",children:["     ",x.jsx("br",{}),"         "]}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"   3  ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:x.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),x.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",x.jsx("br",{}),"    ."]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),x.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function cEe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function BI(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);return!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12||o<1||o>31?null:{y:i,m:a,d:o}}function C8({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=S.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),a=S.useMemo(()=>cEe(i),[i]),[o,c]=S.useState(a);S.useEffect(()=>{c(a)},[a]);const u=S.useRef(null),f=g=>{c(g);const b=BI(g);if(!b)return;const{y:_,m:w,d:E}=b,A=new Date(_,w,0).getDate(),C=Math.min(E,A),j=i.getHours(),P=i.getMinutes(),M=i.getSeconds(),D=i.getMilliseconds(),$=new Date(_,w-1,C,j,P,M,D);Number.isNaN($.getTime())||t($)},m=g=>{if(!g)return;c(g);const b=BI(g);if(!b)return;const{y:_,m:w,d:E}=b,A=i.getHours(),C=i.getMinutes(),j=i.getSeconds(),P=i.getMilliseconds(),M=new Date(_,w-1,E,A,C,j,P);Number.isNaN(M.getTime())||t(M)},p=()=>{const g=u.current;if(g){if(typeof g.showPicker=="function"){g.showPicker();return}g.focus(),g.click()}};return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",value:o,onChange:g=>f(g.target.value),className:"w-[140px] h-30 rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-base desk:text-sm","aria-label":"()"}),x.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:""}),x.jsx("input",{ref:u,type:"date",value:o,onChange:g=>m(g.target.value),min:n,max:r,className:"sr-only","aria-hidden":"true",tabIndex:-1})]})}function uEe({ms:e}){const{date:t,setDate:n}=ci(),r=S.useMemo(()=>{const u=typeof e.id=="string"?e.id:"";if(u)return u;const f=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",m=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",f,m].filter(Boolean).join("|")},[e]);S.useEffect(()=>{n(new Date)},[r]);const i=wT(e),a=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,o=S.useMemo(()=>{const u=typeof e.ganji=="string"?e.ganji:"",f=i?.dae?.gz?`${i.dae.gz}`:null,m=i?.se?.gz?`${i.se.gz}`:null,p=i?.wol?.gz?`${i.wol.gz}`:null,g=[f,m,p].filter(Boolean).join(" ");return[u,g].filter(Boolean).join(" + ")},[e.ganji,i]),c=u=>{n(u)};return x.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[o&&x.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:o}),x.jsx("div",{className:"grid grid-cols-1 gap-3",children:x.jsxs("label",{className:"w-full flex justify-center items-center",children:[x.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),x.jsx(C8,{date:a,onChange:c,min:"1900-01-01",max:"2100-12-31"})]})})]})}function dEe(){const[e,t]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o,c]=S.useState(!1),[u,f]=S.useState(!1);S.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=async()=>{if(!u){uy.error(`   
  .`);return}const{error:p}=await Ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});p&&(console.error("Google Login Error:",p),alert("   ."))};return x.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[x.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),x.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),x.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[x.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),x.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",x.jsx("br",{}),"     "]}),x.jsx("div",{className:"mb-5 space-y-2",children:x.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"mt-[2px]"}),x.jsxs("span",{children:["  .",x.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),x.jsxs("button",{type:"button",onClick:m,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
            ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-pointer"}`,children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),x.jsx("span",{children:"  "})]})]}),x.jsx(T3,{position:"top-center",toastOptions:{duration:2e3}}),o&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:x.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:p=>p.stopPropagation(),children:[x.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),x.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[x.jsx("p",{className:"mb-2",children:"( )     ,      ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),x.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),x.jsx("p",{className:"mb-2",children:"                   "}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),x.jsx("p",{className:"mb-2",children:"                 "}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),x.jsx("p",{className:"mb-2",children:"          ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),x.jsx("p",{className:"mb-2",children:" Supabase        ."}),x.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),x.jsx("p",{children:"   : unique950318@gmail.com"})]}),x.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})})]})}function fEe({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:c}){return x.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:"/"}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),x.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),x.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:" "}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),x.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsxs("span",{className:"mr-3 chkContainer",children:[x.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>c("male")}),x.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>c("female")}),x.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function hEe({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return x.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),c=t===i;return x.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",c?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,x.jsx("br",{}),x.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function mEe({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?x.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):x.jsxs("table",{className:"w-full text-xs",children:[x.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""}),x.jsx("th",{className:"p-1 text-center",children:""})]})}),x.jsx("tbody",{children:e.map((i,a)=>x.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[x.jsx("td",{className:"p-1 text-center",children:x.jsxs("span",{className:"chkContainer",children:[x.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),x.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),x.jsx("td",{className:"p-1 text-center",children:i.date}),x.jsx("td",{className:"p-1 text-center",children:i.year}),x.jsx("td",{className:"p-1 text-center",children:i.month}),x.jsx("td",{className:"p-1 text-center",children:i.day}),x.jsx("td",{className:"p-1 text-center",children:x.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,c)=>x.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:x.jsx("b",{children:o.branch})},c))})}),x.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):x.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function pEe({toast:e,showToast4:t,searchToast:n,error:r}){return x.jsxs(x.Fragment,{children:[e&&x.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:x.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:x.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",x.jsx("br",{}),"   ."]})}),r&&x.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function gEe({choices:e,onChoose:t}){return!e||e.length===0?null:x.jsxs("div",{className:"mb-3",children:[x.jsx("p",{className:"text-sm mb-1",children:"  ."}),x.jsx("div",{className:"flex gap-2",children:e.map(n=>x.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const p2=["","","","","","","","","",""],pp=["","","","","","","","","","","",""],yEe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},N8=["","","","","","","","","","","",""],vEe=pp,bEe=N8,xEe=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],_Ee={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},wEe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function jm(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=yEe[n],i=N8.indexOf(t),a=(r+(i>=0?i:0))%10;return p2[a]}function tx(e,t){const n=t===""?vEe:bEe,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=pp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=p2[(r+a)%10],c=n[a];i[c]=`${o}${c}`}return i}const SEe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function EEe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function kEe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?x.jsxs("div",{className:"w-full",children:[n&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-5 gap-2",children:p2.map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ii(o,"stem",a)}`,children:o},o))})]}),r&&x.jsxs("div",{children:[x.jsx("p",{className:"font-medium mb-2",children:""}),x.jsx("div",{className:"grid grid-cols-6 gap-2",children:pp.filter(o=>{const c=EEe(e),u=t[c];return u?wEe[o]===_Ee[u]:!0}).map(o=>x.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Ii(o,"branch",a)}`,children:o},o))})]})]}):x.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function TEe(){const[e,t]=S.useState({}),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState(!0),[u,f]=S.useState(!0),[m,p]=S.useState(""),[g,b]=S.useState("male"),[_,w]=S.useState(null),[E,A]=S.useState(!1),[C,j]=S.useState(null),[P,M]=S.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[D,$]=S.useState(!1),[U,Y]=S.useState(null),[W,H]=S.useState(null),[G,Z]=S.useState(!1),[X,Q]=S.useState(!1),q=J=>{H(J),setTimeout(()=>H(null),1800)};return S.useEffect(()=>{if(!G)return;const J=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(J)},[G]),S.useEffect(()=>{if(!X)return;const J=setTimeout(()=>Q(!1),2e3);return()=>clearTimeout(J)},[X]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,gender:g,setGender:b,results:_,setResults:w,searching:E,setSearching:A,selectedRow:C,setSelectedRow:j,form:P,setForm:M,unknownPlace:D,setUnknownPlace:$,error:U,setError:Y,toast:W,showToast4:G,setShowToast:Z,searchToast:X,setSearchToast:Q,showToast:q}}function M8(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function zI(e,t){return pp.filter(n=>jm(e,n)===t)}function UI(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=zI(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=jm(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=zI(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=jm(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function AEe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=tx(i.dayStem,r),o=u=>Object.entries(a).find(([,f])=>f.startsWith(u)),c=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=c(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=c(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function OEe(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?jm(e.yearStem,e.monthBranch)!==e.monthStem:!1}function jEe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=tx(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function SS(e,t,n){const i=tx(e,t)[n];return i?i.slice(0,1):null}function CEe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:c,useSiju:u,setUseSiju:f,hourRule:m,setHourRule:p,setResults:g,setError:b,showToast:_}){const w=o||u,E=!!(e.yearStem&&e.yearBranch),A=!!(e.dayStem&&e.dayBranch),C=!w||E||A,j=!!n&&n.endsWith("Stem"),P=!!n&&n.endsWith("Branch"),M=S.useMemo(()=>M8(e),[e]);return S.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const G=SS(e.dayStem,m,e.hourBranch);G&&t(Z=>({...Z,hourStem:G}))}},[m,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:C,activeIsStem:j,activeIsBranch:P,filledAll:M,monthBranchChoices:i,handleSelect:G=>{if(!n)return;if(!C&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){b("/      ."),setTimeout(()=>b(null),1500);return}let X={...e,[n]:G};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=UI(X,n,o);X=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(X=AEe(X,n,u,m));let Q=!1;OEe(X,o)&&(c(!1),Q=!0),jEe(X,u,m)&&(f(!1),Q=!0),Q&&_("/  .  ."),t(X),g(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...X};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:G=>{let Z={...e,monthBranch:G};a(null),Z=UI(Z,"monthBranch",o).next,t(Z),r("dayStem")},clearAll:()=>{t({}),g(null),b(null),r(null),a(null)},onToggleWoldu:G=>{g(null),G&&t(Z=>{const X={...Z};return X.yearStem&&X.monthBranch&&(X.monthStem=jm(X.yearStem,X.monthBranch)),X}),c(G)},onToggleSiju:G=>{g(null),G&&t(Z=>{const X={...Z};if(X.dayStem&&X.hourBranch){const Q=SS(X.dayStem,m,X.hourBranch);Q&&(X.hourStem=Q)}return X}),f(G)},onChangeHourRule:G=>{if(g(null),p(G),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const Z=SS(e.dayStem,G,e.hourBranch);Z&&t(X=>({...X,hourStem:Z}))}}}}function NEe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,c=t!==null?n?.filter((W,H)=>H===t)??[]:[];if(c.length===0)return{error:"  ."};const u=c[0],f=i===""?"/":"",[m,p,g]=u.date.split("-").map(Number);let b=0,_=0;if(u.hourSlots.length>0){const W=u.hourSlots[0].branch,H=SEe[W];H&&(b=H.hh,_=H.mi)}const w=new Date(m,p-1,g,b,_),E=w,A="",C=r==="male"?"":"",j=MEe(u.year.charAt(0),C),P=ot(E,127.5),M=St(E,127.5),D=gt(E,f),$=$a(E,f),U=[`: ${P} ${M} ${D}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:O5(),name:"",birthDay:`${m}${String(p).padStart(2,"0")}${String(g).padStart(2,"0")}`,birthTime:`${String(b).padStart(2,"0")}${String(_).padStart(2,"0")}`,gender:C,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:Fc(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:w,corrected:E,correctedLocal:A,dir:j,favorite:!1}}}function MEe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function PEe(e){Br.getState().add(e)}function DEe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,c=`${e.hourStem}${e.hourBranch}`,u=[],f=new Date(1900,0,1,12,0,0),m=new Date(2100,11,31,12,0,0);for(let p=f.getTime();p<=m.getTime();p+=24*3600*1e3){const g=new Date(p),b=ot(g);if(b!==i)continue;const _=St(g);if(_!==a)continue;const w=gt(g,n);if(w!==o)continue;const E=tx(e.dayStem,t),A=[];for(let C=0;C<12;C++){const j=pp[C];E[j]===c&&A.push({branch:j,time:xEe[C]})}if(A.length!==0&&(u.push({date:`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,year:b,month:_,day:w,hour:c,hourSlots:A}),u.length>=r))break}return u}function REe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:c,setSearching:u,setError:f,setSearchToast:m,setForm:p,setUnknownPlace:g,showToast:b,onSave:_,onClose:w}){return{doSearch:()=>{if(c(null),f(null),!M8(e)){f(" 4  .");return}u(!0);try{const j=DEe(e,t,t===""?"/":"");j.length===0&&f("  . (: 1900~2100)"),c(j)}catch(C){C instanceof Error?f(C.message):f(String(C))}finally{u(!1)}},handleSave:()=>{const C=NEe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in C){m(!0);return}Kd.flushSync(()=>{PEe(C.payload)}),_(C.payload),b(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),g(!1),w()}}}function LEe({open:e,onClose:t,onSave:n}){const{settings:r}=qn(),i=TEe(),a=CEe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=REe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?x.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:x.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[x.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:x.jsx(R4,{size:20})}),x.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),x.jsx(fEe,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&x.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",x.jsx("br",{}),x.jsx("b",{children:""}),"  ",x.jsx("b",{children:""})," ."]}),x.jsx(hEe,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),x.jsx(gEe,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),x.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:x.jsx(kEe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),x.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[x.jsx("span",{children:x.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),x.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),x.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:x.jsx(mEe,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),x.jsx(pEe,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function IEe({copiedInfo:e,copiedAll:t,canCopyInfo:n,canCopyAll:r,lockTitle:i,onCopyInfoOnly:a,onCopyAll:o}){const c=i?" ":"";return x.jsxs("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "}),x.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[x.jsx("button",{type:"button",onClick:a,disabled:!n,title:n?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",n?"cursor-pointer":"cursor-not-allowed opacity-50",e?"bg-green-600 text-white border-green-600":n?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:e?"":`  ${n?"":c}`}),x.jsx("button",{type:"button",onClick:o,disabled:!r,title:r?void 0:i,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",r?"cursor-pointer":"cursor-not-allowed opacity-50",t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:t?"":`  ${r?"":c}`})]})]})}function $Ee({sections:e,toggleSection:t}){return x.jsxs("div",{className:"mt-3 border-t pt-2",children:[x.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:["   ",x.jsx("span",{className:"text-amber-500",children:"(TIP.     . - 2025/12 )"})]}),x.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function BEe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return x.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[x.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),x.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(c=>x.jsx("button",{type:"button",onClick:()=>n(c),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===c?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[c].label},c))}),x.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),x.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function zEe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>x.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&x.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>x.jsx("option",{value:o.key,children:o.label},o.key))})]})}function UEe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?x.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:" "}),x.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[x.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),x.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("span",{className:"font-semibold",children:"  "}),x.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[x.jsx("option",{value:"",children:" "}),a.map(o=>x.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function HEe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),x.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function FEe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[x.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const c=!a&&o!=="",u=!c&&t===o;return x.jsxs("button",{type:"button",onClick:()=>{c||n(o)},disabled:c,title:c?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",c?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":c?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",c?"":""]},o)})}),x.jsx(C8,{date:r,onChange:i})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsx("p",{children:"      ."}),x.jsx("p",{children:"     ."}),x.jsx("p",{children:"      ."})]})]})}function GEe({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:c,onSeEndChange:u,onSeStartBlur:f,onSeEndBlur:m,seYearsCount:p,wolStartDate:g,wolEndDate:b,onWolStartChange:_,onWolEndChange:w,onWolStartBlur:E,onWolEndBlur:A,wolMonthsCount:C,ilStartDate:j,ilEndDate:P,onIlStartChange:M,onIlEndChange:D,onIlStartBlur:$,onIlEndBlur:U,ilDaysCount:Y}){return x.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[x.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(W=>x.jsx("button",{type:"button",onClick:()=>t(W),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===W?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:W},W))}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),x.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((W,H)=>x.jsxs("button",{type:"button",onClick:()=>i(H),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(H)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[x.jsx("div",{className:"font-mono",children:W.gz}),x.jsxs("div",{className:"text-[10px] opacity-80",children:[W.age," (",W.startYear,"~",W.endYear,")"]})]},H))})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"number",value:a,onChange:W=>c(Number(W.target.value)),onBlur:f,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"number",value:o,onChange:W=>u(Number(W.target.value)),onBlur:m,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"month",value:g,onChange:W=>_(W.target.value),onBlur:E,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"month",value:b,onChange:W=>w(W.target.value),onBlur:A,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",C,""]})]}),e===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 30)"}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("input",{type:"date",value:j,onChange:W=>M(W.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),x.jsx("span",{className:"text-xs",children:"~"}),x.jsx("input",{type:"date",value:P,onChange:W=>D(W.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),x.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",Y,""]})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[x.jsxs("p",{children:[" ",e,"   ."]}),x.jsx("p",{children:"    ."})]})]})}function qEe({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:c}){const u=c?" ":"";return x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&x.jsx("button",{type:"button",onClick:i,disabled:o,title:o?c:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),x.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?c:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),x.jsxs("div",{className:"mb-4 text-center",children:[x.jsx("button",{type:"button",onClick:n,disabled:o,title:o?c:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&x.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&x.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((f,m)=>x.jsxs("li",{className:"flex gap-1 items-start",children:[x.jsxs("span",{className:"shrink-0",children:[m+1,"."]}),x.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:f}),x.jsx("button",{type:"button",onClick:()=>a(m),disabled:o,title:o?c:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},m))})]})}function YEe({value:e,lockSelection:t=!1}){return t?x.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:" ,  ."}):x.jsx("textarea",{readOnly:!0,value:e,placeholder:"   .",className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 overflow-y-auto resize-none"})}const KEe={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},WEe=["","","","",""],VEe={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},HI={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function ZEe(e){if(!e)return"PROMPT_LOCKED";const t=xs.getState();return t.loaded?t.userId!==e?(console.warn("[plan] user mismatch",t.userId,e),"PROMPT_LOCKED"):yT(t.plan??null):(console.warn("[plan] entitlements not loaded yet"),"PROMPT_LOCKED")}function XEe(){const[e,t]=S.useState(null);return S.useEffect(()=>{let n=!0;return Ie.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const JEe={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},Rv=iu(e=>({sections:JEe,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),ES=1e3*60*60*24;function kS(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function z0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function U0(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function FI(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function GI(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function QEe(){const e=new Date().getFullYear(),[t,n]=S.useState(e),[r,i]=S.useState(e),[a,o]=S.useState(()=>GI()),[c,u]=S.useState(()=>GI()),[f,m]=S.useState(()=>FI()),[p,g]=S.useState(()=>FI()),b=Q=>{n(Q)},_=Q=>{i(Q)},w=()=>{const Q=t;let q=r;q<Q&&(q=Q),q-Q>9&&(q=Q+9),i(q)},E=()=>{let Q=t;const q=r;q<Q&&(Q=q),q-Q>9&&(Q=q-9),n(Q)},A=S.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const Q=r-t+1;return Q>0?Q:0},[t,r]),C=S.useMemo(()=>{const Q=[];if(!Number.isFinite(t)||!Number.isFinite(r))return Q;for(let q=t;q<=r&&Q.length<10;q++)Q.push(q);return Q},[t,r]),j=Q=>{o(Q)},P=Q=>{u(Q)},M=()=>{const[Q,q]=a.split("-").map(Number),[J,ie]=c.split("-").map(Number),fe=new Date(Q,q-1),se=new Date(J,ie-1);if(se<fe){u(z0(fe));return}if(kS(fe,se)>11){const K=new Date(fe);K.setMonth(fe.getMonth()+11),u(z0(K))}},D=()=>{const[Q,q]=a.split("-").map(Number),[J,ie]=c.split("-").map(Number),fe=new Date(Q,q-1),se=new Date(J,ie-1);if(se<fe){o(z0(se));return}if(kS(fe,se)>11){const K=new Date(se);K.setMonth(se.getMonth()-11),o(z0(K))}},$=S.useMemo(()=>{const[Q,q]=(a||"").split("-").map(Number),[J,ie]=(c||"").split("-").map(Number);if(!Number.isFinite(Q)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(ie))return 0;const fe=new Date(Q,q-1,1),se=new Date(J,ie-1,1),B=kS(fe,se)+1;return B>0?B:0},[a,c]),U=S.useMemo(()=>{const Q=[],[q,J]=a.split("-").map(Number),[ie,fe]=c.split("-").map(Number),se=new Date(q,J-1),B=new Date(ie,fe-1);if(Number.isNaN(se.getTime())||Number.isNaN(B.getTime()))return Q;for(;se<=B&&Q.length<12;)Q.push(`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`),se.setMonth(se.getMonth()+1);return Q},[a,c]),Y=Q=>{m(Q)},W=Q=>{g(Q)},H=()=>{if(!f||!p)return;const[Q,q,J]=f.split("-").map(Number),[ie,fe,se]=p.split("-").map(Number),B=new Date(Q,q-1,J,4,0,0),K=new Date(ie,fe-1,se,4,0,0);if(K<B){g(U0(B));return}if(Math.floor((K.getTime()-B.getTime())/ES)>7){const V=new Date(B);V.setDate(B.getDate()+6),g(U0(V))}},G=()=>{if(!f||!p)return;const[Q,q,J]=f.split("-").map(Number),[ie,fe,se]=p.split("-").map(Number),B=new Date(Q,q-1,J,4,0,0),K=new Date(ie,fe-1,se,4,0,0);if(B>K){m(U0(K));return}if(Math.floor((K.getTime()-B.getTime())/ES)>7){const V=new Date(K);V.setDate(K.getDate()-6),m(U0(V))}},Z=S.useMemo(()=>{const[Q,q,J]=(f||"").split("-").map(Number),[ie,fe,se]=(p||"").split("-").map(Number);if(!Number.isFinite(Q)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(ie)||!Number.isFinite(fe)||!Number.isFinite(se))return 0;const B=new Date(Q,q-1,J,4,0,0),K=new Date(ie,fe-1,se,4,0,0),ae=Math.floor((K.getTime()-B.getTime())/ES)+1;return ae>0?ae:0},[f,p]),X=S.useMemo(()=>{const Q=[],[q,J,ie]=f.split("-").map(Number),[fe,se,B]=p.split("-").map(Number),K=new Date(q,J-1,ie,4,0,0),ae=new Date(fe,se-1,B,4,0,0);if(Number.isNaN(K.getTime())||Number.isNaN(ae.getTime()))return Q;const V=new Date(K);for(;V<=ae&&Q.length<31;){const oe=V.getFullYear(),pe=String(V.getMonth()+1).padStart(2,"0"),ye=String(V.getDate()).padStart(2,"0");Q.push(`${oe}-${pe}-${ye}`),V.setDate(V.getDate()+1)}return Q},[f,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:c,ilStartDate:f,ilEndDate:p,onSeStartChange:b,onSeEndChange:_,onSeStartBlur:w,onSeEndBlur:E,onWolStartChange:j,onWolEndChange:P,onWolStartBlur:M,onWolEndBlur:D,onIlStartChange:Y,onIlEndChange:W,onIlStartBlur:H,onIlEndBlur:G,seYearsCount:A,wolMonthsCount:$,ilDaysCount:Z,seYearsList:C,wolMonthsList:U,ilDaysList:X}}function eke({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=Rv(se=>se.sections),i=Rv(se=>se.toggleSection),[a,o]=S.useState("analysis"),[c,u]=S.useState(!1),[f,m]=S.useState(!1),[p,g]=S.useState(""),[b,_]=S.useState("personality"),[w,E]=S.useState("overview"),[A,C]=S.useState("solo"),[j,P]=S.useState(""),[M,D]=S.useState(!1),[$,U]=S.useState(""),[Y,W]=S.useState([]),[H,G]=S.useState(""),[Z,X]=S.useState([]),Q=QEe();S.useEffect(()=>{b!=="love"&&b!=="compat"&&(C("solo"),g(""))},[b]),S.useEffect(()=>{!t&&M&&D(!1)},[t,M]),S.useEffect(()=>{!n&&j!==""&&P("")},[n,j]),S.useEffect(()=>{$!==""&&W([])},[$]),S.useEffect(()=>{G(""),X([])},[e]);function q(){const se=H.trim();se&&(X(B=>[...B,se]),G(""))}function J(se){X(B=>B.filter((K,ae)=>ae!==se))}function ie(){X([])}function fe(se){W(B=>B.includes(se)?B.filter(K=>K!==se):[...B,se])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:c,setFriendMode:u,teacherMode:f,setTeacherMode:m,partnerId:p,setPartnerId:g,mainCategory:b,setMainCategory:_,subCategory:w,setSubCategory:E,relationMode:A,setRelationMode:C,activeTab:j,setActiveTab:P,isMultiMode:M,setIsMultiMode:D,multiTab:$,setMultiTab:U,selectedDaeIdx:Y,setSelectedDaeIdx:W,handleToggleDae:fe,rangeControls:Q,questionDraft:H,setQuestionDraft:G,extraQuestions:Z,setExtraQuestions:X,handleAddQuestion:q,handleRemoveQuestion:J,handleClearQuestions:ie}}const P8=iu(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function g2(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const j=Bi(t,n,r);t=j.getFullYear(),n=j.getMonth()+1,r=j.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Um(c,u,i),m=e.mingSikType??"/",p=ot(f,u),g=St(f,u),b=gt(f,m),_=i?null:$a(f,m),w=Re(p),E=Re(g),A=Re(b),C=_?Re(_):"";return[w,E,A,C]}function D8(e){const t=new Date(e.corrected),n=g2(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",c=o&&a||!o&&!a?"forward":"backward",u=qm(t,n[1],c,120,e.birthPlace?.lon??127.5),f=u.firstChange;if(!f)return[];const m=[];let p=Re(u.events[0]?.gz??n[1]);for(let g=0;g<10;g++){const b=new Date(f);if(b.setFullYear(b.getFullYear()+g*10),g>0){const _=u.events[g];_&&(p=Re(_.gz))}m.push(`${b.getFullYear()} ${String(b.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const tke=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."],nke=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function rke(e,t){e.push("### ()");const n=t?nke:tke;e.push(...n)}function ike(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function ake(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...c)=>e.push(...c);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   ."):o("","## ()","-  /  .","-         ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function oke(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function ske(e,t){ake(e,t)||oke(e,t)}function lke(e){return e==="multi"?"multi":"single"}function R8(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const c=lke(r),u=[],f=o===!0;return rke(u,f),t==="etc"||(ike(u,{mode:c,tab:i,isStudyTone:f}),ske(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:f})),u.join(`
`)}const cke=!1,qI=e=>e<10?`0${e}`:`${e}`;function uke(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const c=Bi(i,a,o,0,0),u=`${c.getFullYear()}${qI(c.getMonth()+1)}${qI(c.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const Fh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Gh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nu={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},H0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dke=["","","","",""];function YI(e){return dke.includes(e)}const L8={:"",:"",:"",:"",:""},I8={:"",:"",:"",:"",:""},$8={:"",:"",:"",:"",:""},B8={:"",:"",:"",:"",:""};function _k(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Fh[t])return Fh[t];if(["","","","","","","","","","","",""].includes(t))return H0[t]??null;if(Gh[t])return H0[Gh[t]]??null;const n=t.charAt(0);return Fh[n]?Fh[n]:["","","","","","","","","",""].includes(n)?n:Gh[n]?H0[Gh[n]]??null:["","","","","","","","","","","",""].includes(n)?H0[n]??null:null}function fke(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=_k(n);i&&(t[i]=(t[i]??0)+r)}return t}function hke(e){if(!e)return[];const t=_k(e.charAt(0)),n=_k(e.charAt(1));return[t,n].filter(Boolean)}function F0(e){const t=hke(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function mke(e,t){const n=nu[e],r=nu[t];if(!n||!r)return"";let i;r===n?i="":r===L8[n]?i="":r===I8[n]?i="":r===$8[n]?i="":r===B8[n]?i="":i="";const a=YI(e)===YI(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function z8(e,t){return t===e?"":t===L8[e]?"":t===I8[e]?"":t===$8[e]?"":t===B8[e]?"":""}function U8(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const o=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let u=0;for(;a<100&&u<o.length;)c[o[u][0]]+=1,a+=1,u+=1;return c}const pke={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},gke=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Fh[t]??t,i=Gh[n]??n;return`${r}${i}`},y2=e=>{const t=gke(e),n=pke[t];return n?{...n,code:t}:null};function H8(e,t){const n=uke(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let c="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),f=String(n.corrected.getMinutes()).padStart(2,"0");c=t?"":`${u}:${f}`}return`${i} ${a} ${o}  ${c}`}function yke(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=nu[n];i&&(t[i]+=r)}return t}function vke(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=mke(t,r);n[a]+=i}return n}function bke(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const xke={natal:50,dae:30,se:20,wol:7,il:3};function _ke(e){const t={};for(const{kind:r,bare:i}of e){const a=xke[r]??0;if(a<=0)continue;const o=U8(i);for(const[c,u]of Object.entries(o))t[c]=(t[c]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function F8(e,t,n){const r=fke(e.perStemElementScaled),i=t!==""&&n?.dae?F0(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?F0(n.se):{},o=(t===""||t==="")&&n?.wol?F0(n.wol):{},c=t===""&&n?.il?F0(n.il):{},u=_ke([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:c}]),f=U8(u),m=yke(f),p=vke(f,e.dayStem),g=bke(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:g}}function G8(e){return!e.birthTime||e.birthTime===""}function q8(e,t){return t[3]?["","","",""]:["","",""]}function wke(e,t){return e.map((n,r)=>t[r]??"")}const Ske=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Lv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>Lv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(Ske(e)){const t={};for(const[n,r]of Object.entries(e)){const i=Lv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function Eke(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function kke(e,t){const n=Lv(e);if(n===void 0)return"";const r=Eke(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function Y8(e,t,n){const r=kke(t,n);return r.trim()?`## ${e}
${r}`:""}const Hn=(e,t)=>Y8(e,t,"plain"),Pr=(e,t)=>Y8(e,t,"fenced"),Tke=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const u={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(g=>typeof g=="string"&&g.includes(n));p.length>0&&(u[f]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},Ake=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function wk(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${z8(t,n)})`,r]))}function Oke(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let c=0;c<r.length;c++){const u=n[c]??"";u&&a.push({kind:"natal",pos:r[c],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function jke(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Re(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Re(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Re(t.wol)}`),e===""&&t.il&&n.push(`:${Re(t.il)}`),n.length>0?n.join(" / "):"()"}function K8(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:c,category:u,topic:f,subTopic:m,relationMode:p,teacherMode:g,sections:b}=e,_=b?.tenGod??!0,w=b?.twelveUnseong??!0,E=b?.twelveShinsal??!0,A=b?.shinsal??!0,C=b?.nabeum??!0,j=G8(t),P=Re(n[3]??""),M=!!P,D=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),P],$=D8(t).slice(0,10),U=bl({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),Y=Rd({natal:D,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:W,shinsalGaehwa:H,shinsalBase:G}=P8.getState(),Z=G===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",X=F8(o,a,r),Q=X.elementPercent,q=X.totalsSub,{flags:J}=T4(D,o.elementScoreRaw),ie=`${u} (${c.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join(", ")}`,fe=q8(t,D),se=o.dayStem,B=nu[se]??nu[o.dayStem]??"",K=[` : ${t.name??""} (${H8(t,j)}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(M?` ${D[3]}`:""),`: ${jke(a,r)}`].join(`
`),ae=[];ae.push(Pr("  (10)",$)),ae.push(Pr("",ie)),ae.push(Pr("(  )",wk(o.natalFixed.elementPercent100,B))),a!==""&&ae.push(Pr(`(=${a})`,wk(Q,B))),_&&(ae.push(Pr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ae.push(Pr(` ( 10=${a} 100)`,q)));const V=Oke({tab:a,natal:D,posLabels:fe,chain:r});if(w){const te=V.map(({pos:Se,gz:je})=>({pos:Se,gz:je,unseong:Eo(D[2]?.charAt(0)??"",je.charAt(1))}));ae.push(Pr("(+ )",te))}if(E){const te=V.map(({pos:Se,gz:je})=>({pos:Se,gz:je,shinsal:ko({baseBranch:Z,targetBranch:je.charAt(1),era:W,gaehwa:H})}));ae.push(Pr("(+  )",te))}if(C){const te=[];for(const Se of V){const je=y2(Se.gz);if(!je){Se.kind==="natal"&&te.push({pos:Se.pos,gz:Se.gz,nabeum:null});continue}te.push({pos:Se.pos,gz:Se.gz,nabeum:je.name,element:je.element,code:je.code})}ae.push(Pr("(+ )",te))}if(ae.push(Pr("()",RT(fe.map((te,Se)=>D[Se]??"")))),ae.push(Pr("( :  )",U)),A)if(a===""){const te=Rd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Pr("( )",{good:te.good,bad:te.bad,meta:te.meta}))}else ae.push(Pr(`( =${a})`,Y));const oe=ae.filter(te=>te&&te.trim().length>0).join(`

`),pe=R8({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:g}),ye=["-----","  ","","1.       (////)  .","2.  ,        ."];pe&&ye.push("","  ( )",pe);const ue=ye.join(`
`);return{header:K,body:oe,guide:ue}}function Cke(e){const{header:t,body:n,guide:r}=K8(e);return[t,n,r].join(`

`)}function yo(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:c,unified:u,dayEl:f,baseDayStem:m,show:p,shinsalSettings:g,harmonyMode:b="scope",includeBasicInfo:_=!0}=e,w=F8(u,t,i),E=bl({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),A=p.shinsal?Rd({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:c}):null,C=p.nabeum?y2(r):null,j=p.twelveUnseong?Eo(m,r.charAt(1)):null,P=p.twelveShinsal?ko({baseBranch:g.baseBranch,targetBranch:r.charAt(1),era:g.era,gaehwa:g.gaehwa}):null,M=b==="full"?E:Ake(E,t);return{..._?{:n,:r}:{},:wk(w.elementPercent,f),...p.tenGod?{:w.totalsSub}:{},:M,...p.shinsal?{:Tke(A,t)}:{},...p.nabeum?{:C?{gz:r,nabeum:C.name,element:C.element,code:C.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:j}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:P}}:{}}}function Nke(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(n.length===0||t.length===0)return[];const m=[];for(const p of t){const g={dae:p.gz,se:null,wol:null,il:null},b=yo({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:g,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"full",includeBasicInfo:!1});m.push(Hn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,b))}return m.filter(p=>p.trim().length>0)}function v2(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function W8(e,t){const n=e[t],r=e[t+1];return r?v2(r):new Date(n.endYear+1,0,1)}function V8(e,t,n,r){return e<r&&t>n}function Z8(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=v2(c),f=W8(e,o);V8(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function X8(e,t){return Z8(e,t,t)}function Iv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const c=e[o],u=v2(c),f=W8(e,o);V8(u,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function J8(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function $v(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=J8(e),o=ot(new Date(e-1,5,15)),c=ot(new Date(e,5,15)),u=ot(new Date(e+1,5,15));if(i<=a)o&&n.push(Re(o));else if(r>=a)c&&n.push(Re(c));else if(o&&n.push(Re(o)),c){const f=Re(c);n.includes(f)||n.push(f)}if(t===12&&u){const f=Re(u);n.includes(f)||n.push(f)}return n}function Mke(e,t){const n=J8(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}function Pke(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=t[0],g=t[t.length-1],b=Z8(n,p,g);if(b.length>0){const _=p,w=ot(new Date(_,5,15)),E=Re(w||""),A={:b.map(C=>{const j={dae:C.gz,se:E||null,wol:null,il:null};return yo({scope:"",infoText:`${C.age} ${C.gz} (${C.startYear}~${C.endYear})`,gz:C.gz,chain:j,natal:r,relationArgs:{daewoon:C.gz,sewoon:E||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Hn("",A))}for(const _ of t){const w=ot(new Date(_,5,15)),E=X8(n,_),A=E.length>0?E[0]:null,C=Re(w||""),j={dae:A?A.gz:null,se:C||null,wol:null,il:null},P=yo({scope:"",infoText:`${_} ${C}`,gz:C,chain:j,natal:r,relationArgs:{daewoon:A?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Hn(` ${_}`,{:P}))}return m.filter(_=>_.trim().length>0)}function Dke(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f}=e;if(t.length===0)return[];const m=[],p=[],g=new Map;for(const A of t){const[C,j]=A.split("-").map(Number),P=Iv(n,C,j);for(const $ of P)p.some(U=>U.gz===$.gz&&U.startYear===$.startYear)||p.push($);const M=Mke(C,j);$v(C,j).forEach(($,U)=>{const Y=M[U]??M[M.length-1];g.has($)||g.set($,{year:Y,month:j})})}const[b]=t[0].split("-").map(Number),_=ot(new Date(b,5,15)),w=Re(_||"");if(p.length>0){const A={:p.map(C=>{const j={dae:C.gz,se:w||null,wol:null,il:null};return yo({scope:"",infoText:`${C.age} ${C.gz} (${C.startYear}~${C.endYear})`,gz:C.gz,chain:j,natal:r,relationArgs:{daewoon:C.gz,sewoon:w||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Hn("",A))}const E=Array.from(g.keys());if(E.length>0){const A={:E.map(C=>{const P=g.get(C).year,D=X8(n,P)[0]??p[0]??null,$={dae:D?D.gz:null,se:C,wol:null,il:null};return yo({scope:"",infoText:`${P} ${C}`,gz:C,chain:$,natal:r,relationArgs:{daewoon:D?.gz,sewoon:C,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0})})};m.push(Hn("",A))}for(const A of t){const[C,j]=A.split("-").map(Number),P=new Date(C,j-1,15),M=St(P),D=Iv(n,C,j),$=D.length>0?D[0]:null,U=$v(C,j),Y=U.length>0?U[U.length-1]:"",W=Re(M||""),H={dae:$?$.gz:null,se:Y||null,wol:W,il:null},G=yo({scope:"",infoText:`${A} ${W}`,gz:W,chain:H,natal:r,relationArgs:{daewoon:$?.gz,sewoon:Y||void 0,wolwoon:W,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});m.push(Hn(` ${A}`,{:G}))}return m.filter(A=>A.trim().length>0)}function Rke(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,dayBoundaryRule:m}=e;if(t.length===0)return[];const p=[],[g,b,_]=t[0].split("-").map(Number),w=new Date(g,b-1,_,4,0);if(!Number.isNaN(w.getTime())){const E=Iv(n,g,b),A=E.length>0?E[0]:null,C=$v(g,b),j=C.length>0?C[C.length-1]:"",P=St(new Date(g,b-1,15)),M=gt(w,m),D=Re(P||""),$=Re(j||""),U=Re(M||"");if(A){const Y={dae:A.gz,se:$,wol:D,il:U},W=yo({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:Y,natal:r,relationArgs:{daewoon:A.gz,sewoon:$,wolwoon:D,ilwoon:U},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",W))}if($){const Y={dae:A?A.gz:null,se:$,wol:D,il:U},W=yo({scope:"",infoText:`${g} ${$}`,gz:$,chain:Y,natal:r,relationArgs:{daewoon:A?.gz,sewoon:$,wolwoon:D,ilwoon:U},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",W))}if(D){const Y={dae:A?A.gz:null,se:$,wol:D,il:U},W=yo({scope:"",infoText:`${g}-${String(b).padStart(2,"0")} ${D}`,gz:D,chain:Y,natal:r,relationArgs:{daewoon:A?.gz,sewoon:$,wolwoon:D,ilwoon:U},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn("",W))}}for(const E of t){const[A,C,j]=E.split("-").map(Number),P=new Date(A,C-1,j,4,0);if(Number.isNaN(P.getTime()))continue;const M=Iv(n,A,C),D=M.length>0?M[0]:null,$=$v(A,C),U=$.length>0?$[$.length-1]:"",Y=St(new Date(A,C-1,15)),W=gt(P,m),H=Re(Y||""),G=Re(U||""),Z=Re(W||""),X={dae:D?D.gz:null,se:G||null,wol:H,il:Z},Q=yo({scope:"",infoText:`${E} ${Z}`,gz:Z,chain:X,natal:r,relationArgs:{daewoon:D?.gz,sewoon:G||void 0,wolwoon:H||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:c,show:u,shinsalSettings:f,harmonyMode:"scope",includeBasicInfo:!0});p.push(Hn(` ${E}`,{:Q}))}return p.filter(E=>E.trim().length>0)}function Q8(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:c,selectedDaeList:u,daeList:f,seYears:m,wolMonths:p,ilDays:g,topic:b,subTopic:_,timeMode:w,teacherMode:E,sections:A}=e,C=G8(t),j=Re(n[3]??""),P=!!j,M=t.mingSikType??"/",D=[Re(n[0]??""),Re(n[1]??""),Re(n[2]??""),j],$=q8(t,D),U=D[2]?.charAt(0)??"",Y=nu[U]??nu[a.dayStem]??"",W=!!i&&(A?.tenGod??!0),H=A?.twelveUnseong??!0,G=A?.twelveShinsal??!0,Z=A?.shinsal??!0,X=A?.nabeum??!0,{shinsalBase:Q,shinsalEra:q,shinsalGaehwa:J}=P8.getState(),ie=Q===""?D[0]?.charAt(1)??"":D[2]?.charAt(1)??"",fe=H8(t,C),se=[` : ${t.name??""} (${fe}) : ${t.gender}`,` ${D[0]} ${D[1]} ${D[2]}`+(P?` ${D[3]}`:"")].join(`
`),B=[],{flags:K}=T4(D,a.elementScoreRaw),ae=`${c} (${o.toFixed(1)}%)  ${[` ${K..||K..||K..||K..?"":""}`,` ${K..||K..||K..||K..?"":""}`,` ${K..||K..||K..||K..?"":""}`].join("  ")}`;if(B.push(Hn("",ae)),B.push(Hn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([ye,ue])=>[`${ye}(${z8(Y,ye)})`,ue])))),W&&B.push(Hn(" ( 10 100)",a.natalFixed.totalsSub)),H){const ye=Object.fromEntries($.map((ue,te)=>[ue,Eo(U,(D[te]??"").charAt(1))]));B.push(Hn("()",ye))}if(G){const ye=Object.fromEntries($.map((ue,te)=>[ue,ko({baseBranch:ie,targetBranch:(D[te]??"").charAt(1),era:q,gaehwa:J})]));B.push(Hn("()",ye))}B.push(Hn("//",K));const V=RT(wke($,D));if(B.push(Hn("()",V)),Z){const ye=Rd({natal:D,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Hn("()",ye))}if(X){const ye=Object.fromEntries($.map((ue,te)=>{const Se=D[te]??"",je=y2(Se);return[ue,je?{gz:Se,nabeum:je.name,element:je.element,code:je.code}:null]}));B.push(Hn("()",ye))}f.length>0&&u.length>0&&B.push(...Nke({selectedDaeList:u,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:G,shinsal:Z,nabeum:X},shinsalSettings:{baseBranch:ie,era:q,gaehwa:J}})),m.length>0&&B.push(...Pke({seYears:m,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:G,shinsal:Z,nabeum:X},shinsalSettings:{baseBranch:ie,era:q,gaehwa:J}})),p.length>0&&B.push(...Dke({wolMonths:p,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:G,shinsal:Z,nabeum:X},shinsalSettings:{baseBranch:ie,era:q,gaehwa:J}})),g.length>0&&B.push(...Rke({ilDays:g,daeList:f,natal:D,basis:r,unified:a,dayEl:Y,baseDayStem:U,show:{tenGod:W,twelveUnseong:H,twelveShinsal:G,shinsal:Z,nabeum:X},shinsalSettings:{baseBranch:ie,era:q,gaehwa:J},dayBoundaryRule:M}));const oe=R8({topic:b,subTopic:_,timeMode:w,teacherMode:E}),pe=(Lv(B.join(`

`))??"").toString();return{header:se,body:pe,guide:oe}}function Lke(e){const{header:t,body:n,guide:r}=Q8(e);return[t,"",n,"",r].join(`
`)}function b2(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),c=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${c}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const c=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=c.slice(0,2),f=c.slice(2,4);r=`${u}:${f}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function Ike(e){const{header:t,body:n}=K8(e),r=e.relationMode==="couple"?b2(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function $ke(e){const{header:t,body:n}=Q8(e),r=e.relationMode==="couple"?b2(e.partnerMs??null):null,i=r?Pr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function Bke(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function zke(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function Uke(e){return e?`    .
`:""}function Hke(e,t){if(e!=="couple")return"";const n=b2(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Od(e){return Re(e)}function Fke(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function KI(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Re(n??"");return i||(r<=2?"--":"")})}function Gke(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Od(ot(t)||""),i=Od(St(t)||""),a=Od(gt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function qke(e,t){const n=KI(e),r=KI(t);return{solarKo:n,lunarKo:r}}function Sk(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function Yke(e,t,n){return e?"solar":t?"lunar":"solar"}function Kke(e,t,n,r,i,a,o,c){return Sk(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,c)}function Wke(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Od(ot(a)||""),c=Od(St(a)||""),u=Od(gt(a,t)||"");return[o,c,u,""]}function Vke(e,t){return t&&e?e.stem+e.branch:""}function Zke(e,t,n){const i=[...g2(e)];return n&&t&&t.length===2&&(i[3]=t),i}function Xke(e){const t=N4(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=$T(t);return{percent:n,category:u4(n)}}function Jke(e){const t=D8(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,c=a?Number(a[2]):1,u=1,f=a?a[3]:"",m=n>0?tTe(n,o):i*10;return{gz:f,age:m,startYear:o,startMonth:c,startDay:u,endYear:o+10}})}function Qke(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function eTe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function WI(e){return Fke(e)}function tTe(e,t){return t-e+1}function nTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:c,input:u}){const{tone:f,friendMode:m,teacherMode:p,partnerId:g,mainCategory:b,subCategory:_,relationMode:w,activeTab:E,isMultiMode:A,multiTab:C,selectedDaeIdx:j,rangeControls:P,extraQuestions:M,sections:D}=u,$=Br(Ft=>Ft.list),{date:U,setDate:Y}=ci();S.useEffect(()=>{Y(new Date)},[e.id,Y]);const W=S.useMemo(()=>g?$.find(Ft=>Ft.id===g)??null:null,[g,$]),H=e.mingSikType??"/",G=S.useMemo(()=>U??new Date,[U]),Z=S.useMemo(()=>Gke(r,G,H),[r,G,H]),X=S.useMemo(()=>c?Z:{dae:null,se:null,wol:null,il:null},[c,Z]),Q=Im(Ft=>Ft.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:J,lunarKo:ie}=S.useMemo(()=>qke(t,n),[t,n]),fe=S.useMemo(()=>Sk(J,Q,q),[J,Q,q]),se=S.useMemo(()=>Sk(ie,Q,q),[ie,Q,q]),B=S.useMemo(()=>Wke(e,H),[e,H]),K=WI(fe),ae=WI(se),V=Yke(K,ae),oe=S.useMemo(()=>Kke(V,K,ae,fe,se,B,Q,q),[V,K,ae,fe,se,B,Q,q]),pe=S.useMemo(()=>q&&Q?Q.stem+Q.branch:oe[3]||"",[Q,oe,q]),ye=Vke(Q,q),ue=S.useMemo(()=>Zke(e,ye,q),[e,ye,q]),te=c?E:"",Se=b==="love"||b==="compat",de=Se&&w==="couple"?W??null:null,Le=Se?w:void 0,Oe=S.useMemo(()=>A4({natal:ue,tab:te,chain:X,hourKey:pe}),[ue,te,X,pe]),{percent:Ce,category:Pe}=S.useMemo(()=>Xke(ue),[ue]),Qe=S.useMemo(()=>Jke(e),[e]),st=S.useMemo(()=>Qke($??[],e.id),[$,e.id]),Ht=S.useMemo(()=>j.map(Ft=>Qe[Ft]).filter(Ft=>!!Ft),[j,Qe]),hn=S.useMemo(()=>C===""?P.seYearsList:[],[C,P.seYearsList]),on=S.useMemo(()=>C===""?P.wolMonthsList:[],[C,P.wolMonthsList]),ge=S.useMemo(()=>C===""?P.ilDaysList:[],[C,P.ilDaysList]),De=S.useMemo(()=>e?Cke({ms:e,natal:ue,chain:X,basis:i,tab:te,unified:Oe,percent:Ce,category:Pe,topic:b,subTopic:_,relationMode:w,teacherMode:p,sections:D}):"",[e,i,a,te,X,Oe,Ce,Pe,ue,b,_,w,de,p,D]),Xe=S.useMemo(()=>!e||!A||!o?"":Lke({ms:e,natal:ue,basis:i,includeTenGod:a,unified:Oe,percent:Ce,category:Pe,selectedDaeList:Ht,daeList:Qe,seYears:hn,wolMonths:on,ilDays:ge,topic:b,subTopic:_,timeMode:"multi",teacherMode:p,sections:D}),[e,A,o,hn,Ht,Qe,on,ge,ue,i,a,Oe,Ce,Pe,b,_,Le,de,p,m,D]),lt=S.useMemo(()=>Hke(w,W),[w,W]),At=A?Xe:De,yt=S.useMemo(()=>zke(f),[f]),Zn=S.useMemo(()=>Uke(m),[m]),hi=S.useMemo(()=>At||lt?`${At}${lt}
${yt}${Zn}`:"",[yt,Zn,At,lt]),mi=S.useMemo(()=>eTe(hi,M),[hi,M]),js=S.useMemo(()=>e?A?$ke({ms:e,natal:ue,basis:i,includeTenGod:a,unified:Oe,percent:Ce,category:Pe,selectedDaeList:Ht,daeList:Qe,seYears:hn,wolMonths:on,ilDays:ge,topic:b,subTopic:_,timeMode:"multi",relationMode:Le,partnerMs:de,teacherMode:p,sections:D}):Ike({ms:e,natal:ue,chain:X,basis:i,tab:te,unified:Oe,percent:Ce,category:Pe,topic:b,subTopic:_,relationMode:w,partnerMs:de,teacherMode:p,sections:D}):"",[e,A,ue,i,a,Oe,Ce,Pe,Ht,Qe,hn,on,ge,b,_,w,Le,de,p,m,D,X,te]),Cs=S.useMemo(()=>{const Ft=js.trim();if(Ft)return Ft;const mn=Bke(At).trim();return mn||At.trim()},[js,At]);return{date:U,setDate:Y,partnerMs:W,partnerOptions:st,daeList:Qe,tabForLogic:te,baseText:At,basePrompt:hi,finalText:mi,infoOnlyText:Cs,allowManualHour:q,activePillars:oe}}function VI(e,t=1200){const[n,r]=S.useState(!1),i=!!(e&&e.trim().length>0),a=S.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function rTe(e,t){const{copied:n,canCopy:r,onCopy:i}=VI(e),{copied:a,canCopy:o,onCopy:c}=VI(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:c}}function iTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=Br(D=>D._rtUserId),u=XEe()??o??null,f=S.useMemo(()=>ZEe(u),[u]),m=S.useMemo(()=>Dy(f),[f]),p=m.canUseMultiMode,g=m.canUseLuckTabs,b=eke({msId:e.id,canUseMultiMode:p,canUseLuckTabs:g}),_=nTe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:p,canUseLuckTabs:g,input:b}),{copiedAll:w,copiedInfo:E,canCopyAll:A,canCopyInfo:C,onCopyAll:j,onCopyInfoOnly:P}=rTe(_.finalText,_.infoOnlyText);function M(D,$){b.setMainCategory(D),b.setSubCategory($?.[0]?.key??"overview")}return{sections:b.sections,toggleSection:b.toggleSection,tone:b.tone,setTone:b.setTone,friendMode:b.friendMode,setFriendMode:b.setFriendMode,teacherMode:b.teacherMode,setTeacherMode:b.setTeacherMode,date:_.date,setDate:_.setDate,planTier:f,promptAccess:m.promptAccess,canUseMultiMode:p,canUseLuckTabs:g,partnerId:b.partnerId,setPartnerId:b.setPartnerId,partnerMs:_.partnerMs,mainCategory:b.mainCategory,subCategory:b.subCategory,setSubCategory:b.setSubCategory,relationMode:b.relationMode,setRelationMode:b.setRelationMode,activeTab:b.activeTab,setActiveTab:b.setActiveTab,isMultiMode:b.isMultiMode,setIsMultiMode:b.setIsMultiMode,multiTab:b.multiTab,setMultiTab:b.setMultiTab,selectedDaeIdx:b.selectedDaeIdx,handleToggleDae:b.handleToggleDae,rangeControls:b.rangeControls,partnerOptions:_.partnerOptions,daeList:_.daeList,tabForLogic:_.tabForLogic,baseText:_.baseText,basePrompt:_.basePrompt,finalText:_.finalText,infoOnlyText:_.infoOnlyText,copiedAll:w,copiedInfo:E,canCopyAll:A,canCopyInfo:C,onCopyAll:j,onCopyInfoOnly:P,handleMainCategoryChange:M,setQuestionDraft:b.setQuestionDraft,questionDraft:b.questionDraft,extraQuestions:b.extraQuestions,setExtraQuestions:b.setExtraQuestions,handleAddQuestion:b.handleAddQuestion,handleRemoveQuestion:b.handleRemoveQuestion,handleClearQuestions:b.handleClearQuestions,allowManualHour:_.allowManualHour,activePillars:_.activePillars}}function aTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=iTe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),c=HI[o.mainCategory];if(o.promptAccess==="hidden")return null;if(!e)return x.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess==="locked",f=u?" .":void 0,m=o.promptAccess==="full"&&o.canCopyInfo,p=o.promptAccess==="full"&&o.canCopyAll;return x.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[x.jsx(IEe,{copiedInfo:o.copiedInfo,copiedAll:o.copiedAll,canCopyInfo:m,canCopyAll:p,lockTitle:f,onCopyInfoOnly:o.onCopyInfoOnly,onCopyAll:o.onCopyAll}),x.jsx($Ee,{sections:o.sections,toggleSection:o.toggleSection}),x.jsx(BEe,{tone:o.tone,toneMeta:KEe,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:g=>o.setFriendMode(g.target.checked),teacherMode:o.teacherMode,setTeacherMode:g=>o.setTeacherMode(g.target.checked)}),x.jsx(zEe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:VEe,currentSubList:c,onMainCategoryChange:g=>o.handleMainCategoryChange(g,HI[g]),onSubCategoryChange:o.setSubCategory}),x.jsx(UEe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),x.jsx(HEe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:g=>{!o.canUseMultiMode&&g||o.setIsMultiMode(g)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?x.jsx(GEe,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(g=>({gz:g.gz,age:g.age,startYear:g.startYear,endYear:g.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):x.jsx(FEe,{tabs:WEe,activeTab:o.tabForLogic,setActiveTab:g=>{!o.canUseLuckTabs&&g!==""||o.setActiveTab(g)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),x.jsx(qEe,{questionDraft:o.questionDraft,onChangeDraft:g=>o.setQuestionDraft(g.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:f}),x.jsx(YEe,{value:o.finalText,lockSelection:u})]})}function oTe(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1),[o]=S.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function sTe(){const e=Br(r=>r.loading),t=qn(r=>r.loaded),n=xs(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const ZI="app_session_started_at_ms",lTe=7200*1e3;function cTe(){const e=sessionStorage.getItem(ZI),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(ZI,String(n)),n}return t}function uTe(e=Date.now()){const t=cTe();return Math.max(0,e-t)}function dTe(e,t=Date.now()){return uTe(t)>=e}async function fTe(e,t){const{data:n,error:r}=await Ie.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function hTe(e,t,n){const{error:r}=await Ie.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const mTe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function bd(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(bd).join(",")}]`:mTe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${bd(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function pTe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function gTe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=bd(t.select(t.store.getState()));const o=pTe(async p=>{try{await hTe(e,t.dbKey,p),a=bd(p)}catch(g){console.error(`[settings] save failed key=${t.dbKey}`,g)}},n),c=p=>{r=!0;try{t.apply(p),a=bd(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||c(p)},f=async()=>{const p=await fTe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const g=t.select(p);bd(g)!==a&&o(g)});const m=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:f,applyRemote:u,stop:m}}function yTe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function TS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function vTe(e){S.useEffect(()=>{if(!e)return;const t=[];t.push(gTe(e,{dbKey:"promptCopy.sections",store:Rv,select:o=>o.sections,apply:o=>Rv.setState({sections:o}),validate:yTe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,c,u)=>{const f=r.get(o);f&&window.clearTimeout(f);const m=window.setTimeout(()=>{r.delete(o),u()},c);r.set(o,m)},a=Ie.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},c=>{if(dTe(lTe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!TS(c))return;const u=c.new,f=c.old,m=w=>TS(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>TS(w)?w.value:null,g=m(u)??m(f);if(!g)return;const b=t.find(w=>w.dbKey===g);if(!b)return;const _=typeof c.eventType=="string"?c.eventType:"";if(_==="INSERT"||_==="UPDATE"){b.applyRemote(p(u));return}b.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(c)):o.onChange(c)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Ie.removeChannel(a)}},[e])}function bTe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){S.useEffect(()=>{const r=Ie;(async()=>{const{data:o,error:c}=await r.auth.getSession();if(c){t(!1),e(null),n(!0);return}const u=o.session?.user?.id??null;t(!!o.session),e(u),n(!0)})();const{data:{subscription:a}}=r.auth.onAuthStateChange((o,c)=>{const u=c?.user?.id??null;t(!!c),e(u),n(!0),c||Br.getState().stopRealtime()});return()=>{a.unsubscribe()}},[n,t,e])}function xTe(e){bTe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),vTe(e.userId);const t=Br(a=>a.migrateLocalToServer),n=Br(a=>a.loadFromServer),r=qn(a=>a.loadFromServer),i=xs(a=>a.loadFromServer);S.useEffect(()=>{e.isLoggedIn&&i()},[e.isLoggedIn,i]),S.useEffect(()=>{e.isLoggedIn&&(async()=>(await t(),await n(),await r()))()},[e.isLoggedIn,t,n,r])}function _Te(e){const[t,n]=S.useState(()=>e.length>0?e[0].id:""),[r,i]=S.useState(!1),[a,o]=S.useState(!1),[c,u]=S.useState(null),[f,m]=S.useState(!0),[p,g]=S.useState(!1),[b,_]=S.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:c,setEditing:u,showToday:f,setShowToday:m,showCouple:p,setShowCouple:g,openCustom:b,setOpenCustom:_}}function wTe(e){const t=ci(i=>i.date),n=ci(i=>i.rule),r=Ym(e);return S.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=ub(r,t),a=i>=0?r[i]?.gz??null:null,o=ot(t),c=St(t),u=gt(t,n);return{dae:a,se:o,wol:c,il:u}},[e,r,t,n])}const STe=e=>typeof e=="string"&&e.length>=2,ETe=e=>Array.isArray(e)&&e.length===4&&e.every(STe);function kTe({list:e,currentId:t,settings:n,emptyMs:r}){const i=S.useMemo(()=>e.find(g=>g.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,c=S.useMemo(()=>g2(o),[o]),u=wTe(o),f=xs(g=>g.canAddMyeongsik(e.length).ok),m=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:c,chain:u,isValidPillars:ETe,canAdd:f,voidBasis:m,samjaeBasis:p}}function TTe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:c,setShowCouple:u,setCurrentId:f,setEditing:m}){const{settings:p,saveToServer:g,loaded:b}=qn();S.useEffect(()=>{!r||!b||g()},[r,b,p,g]);const _=S.useCallback(()=>{if(!e){un.error("   1   .");return}i(!0)},[e,i]),w=S.useCallback(()=>{if(!e){un.error("   1   .");return}a(!0)},[e,a]),E=S.useCallback(M=>{f(M.id),o(!1),c(!1),u(!1);const D=new Date;D.setHours(12,0,0,0),ci.getState().setDate(D),t&&n?.id===M.id&&(c(!1),u(!1),o(!1))},[n,t,f,o,c,u]),A=S.useCallback(M=>{m(M),f(M.id),o(!1),c(!1),u(!1)},[m,f,o,c,u]),C=S.useCallback(()=>{const M=Br.getState().list[0]?.id??"";f(M),c(!0),u(!1)},[f,c,u]),j=S.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[f,c,u,o,i]),P=S.useCallback(M=>{f(M.id),c(!1),u(!1),o(!1)},[f,c,u,o]);return{openAdd:_,openCustomModal:w,handleSidebarView:E,handleSidebarEdit:A,handleSidebarDeleteView:C,handleWizardSave:j,handleCustomSave:P}}const ATe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function OTe(){const e=oTe();xTe(e);const t=sTe();return e.authChecked?t.entLoaded?e.isLoggedIn?e.adminMode?x.jsx(j8,{}):t.settingsLoaded?t.loading?x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(jTe,{isLoggedIn:e.isLoggedIn}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx(dEe,{}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"  ..."})}):x.jsx("main",{className:"flex min-h-screen items-center justify-center",children:x.jsx("p",{className:"text-sm text-neutral-500",children:"   ..."})})}function jTe({isLoggedIn:e}){const{list:t}=Br(),n=qn(o=>o.settings),r=_Te(t),i=kTe({list:t,currentId:r.currentId,settings:n,emptyMs:ATe}),a=TTe({canAdd:i.canAdd,hasCurrent:i.hasCurrent,current:i.current,isLoggedIn:e,setWizardOpen:r.setWizardOpen,setOpenCustom:r.setOpenCustom,setShowSidebar:r.setShowSidebar,setShowToday:r.setShowToday,setShowCouple:r.setShowCouple,setCurrentId:r.setCurrentId,setEditing:r.setEditing});return x.jsxs("div",{className:"min-h-screen pb-16",children:[x.jsx(_le,{onOpenSidebar:()=>r.setShowSidebar(!0),onAddNew:a.openAdd,onOpenCustom:a.openCustomModal}),x.jsx(LEe,{open:r.openCustom,onClose:()=>r.setOpenCustom(!1),onSave:a.handleCustomSave}),x.jsx(T3,{position:"top-center"}),x.jsx(sce,{open:r.showSidebar,onClose:()=>r.setShowSidebar(!1),onView:a.handleSidebarView,onAddNew:a.openAdd,onEdit:a.handleSidebarEdit,onDeleteView:a.handleSidebarDeleteView}),r.showToday&&x.jsx(UK,{}),r.wizardOpen&&x.jsxs(x.Fragment,{children:[x.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),x.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:x.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:x.jsx(Lee,{onSave:a.handleWizardSave,onClose:()=>r.setWizardOpen(!1)})})})]}),i.hasCurrent&&!r.showToday&&!r.showCouple&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(Xre,{data:i.current,hourTable:i.current?.mingSikType??"/"})}),x.jsx("div",{children:x.jsx(qse,{data:i.current})}),x.jsx(uEe,{ms:i.current}),n.showPromptBox&&x.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:x.jsx(aTe,{ms:i.current,natal:i.isValidPillars(i.natal)?i.natal:[],chain:i.chain,basis:{voidBasis:i.voidBasis,samjaeBasis:i.samjaeBasis},includeTenGod:!0,lunarPillars:[]})})]}),r.showCouple&&x.jsx("div",{className:"pt-18 pb-4",children:x.jsx(sEe,{people:t})}),r.editing&&x.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:x.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:x.jsx(wce,{item:r.editing,onClose:()=>r.setEditing(null)})})}),x.jsx(Cle,{onShowToday:()=>{r.setShowToday(!0),r.setShowCouple(!1)},onShowCouple:()=>{r.setShowCouple(!0),r.setShowToday(!1)}}),x.jsx(lEe,{})]})}const Bv={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw"};var Jh={};const CTe=()=>{const e=typeof import.meta<"u"&&typeof Bv<"u"?Bv:void 0,t=typeof process<"u"?Jh.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||Jh.NEXT_PUBLIC_IMPERSONATE_API||Jh.VITE_IMPERSONATE_API:void 0;return e?.VITE_IMPERSONATE_API||e?.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||e?.NEXT_PUBLIC_IMPERSONATE_API||t||null},NTe=()=>{const e=typeof import.meta<"u"&&typeof Bv<"u"?Bv:void 0,t=typeof process<"u"?Jh.NEXT_PUBLIC_SUPABASE_ANON_KEY||Jh.VITE_SUPABASE_ANON_KEY:void 0;return e?.VITE_SUPABASE_ANON_KEY||e?.NEXT_PUBLIC_SUPABASE_ANON_KEY||t||null};function MTe(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,a]=S.useState(null),[o,c]=S.useState([]),[u,f]=S.useState(!1),[m,p]=S.useState(null),g=CTe(),b=NTe();return S.useEffect(()=>{if(typeof window<"u"){const _=window.location.hash?.startsWith("#")?window.location.hash.slice(1):window.location.hash||"",E=new URL(_||"/",window.location.origin).searchParams;t(E.get("userId")),r(E.get("myeongsikId"))}},[]),S.useEffect(()=>{if(!g){p(" API URL   . VITE_IMPERSONATE_API .env.local .");return}if(!e){p("userId .");return}const _=g.startsWith("http");(async()=>{f(!0),p(null);try{const E=new URLSearchParams({userId:e});n&&E.set("myeongsikId",n);const A=_&&b?{Authorization:`Bearer ${b}`,apikey:b}:void 0,C=await fetch(`${g}?${E.toString()}`,{cache:"no-store",headers:A});if(!C.ok){const P=await C.text();throw new Error(P||"fetch error")}const j=await C.json();a(j.profile),c(Array.isArray(j.myeongsik)?j.myeongsik:[])}catch(E){p(E instanceof Error?E.message:String(E))}finally{f(!1)}})()},[e,n,g,b]),u?x.jsx("div",{className:"p-6 text-white",children:"Loading..."}):m?x.jsxs("div",{className:"p-6 text-white",children:["Error: ",m]}):e?x.jsxs("div",{className:"p-6 text-white space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"  "}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["userId: ",e]})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3",children:""}),i?x.jsxs("div",{className:"space-y-1 text-sm text-neutral-200",children:[x.jsxs("div",{children:[": ",i.name??"-"]}),x.jsxs("div",{children:[": ",i.nickname??"-"]}),x.jsxs("div",{children:["Email: ",i.email??"-"]}),x.jsxs("div",{children:[" : ",i.mgr_memo??"-"]}),x.jsxs("div",{children:[": ",i.disabled_at?i.disabled_at:""]})]}):x.jsx("div",{className:"text-neutral-400 text-sm",children:" ."})]}),x.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h2",{className:"text-xl font-semibold",children:" "}),n&&x.jsxs("div",{className:"text-xs text-neutral-400",children:["myeongsikId: ",n]})]}),o.length===0?x.jsx("div",{className:"text-neutral-400 text-sm",children:" ."}):x.jsx("div",{className:"space-y-3",children:o.map(_=>x.jsxs("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"font-semibold",children:_.name||"(no name)"}),_.deleted_at&&x.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-700 text-white",children:"deleted"})]}),x.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",_.birth_json?.birthDay??"-"," "," ",_.created_at?new Date(_.created_at).toLocaleString():"-"]}),_.mgr_memo&&x.jsxs("div",{className:"text-sm text-neutral-300 whitespace-pre-wrap mt-1",children:[": ",_.mgr_memo]})]},_.id))})]})]}):x.jsx("div",{className:"p-6 text-white",children:"userId ."})}kH.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(UF,{children:x.jsxs(vF,{children:[x.jsx(G0,{path:"/",element:x.jsx(OTe,{})}),x.jsx(G0,{path:"/admin",element:x.jsx(j8,{})}),x.jsx(G0,{path:"/impersonate",element:x.jsx(MTe,{})})]})})}));
