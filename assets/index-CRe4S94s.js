function qS(t,i){for(var o=0;o<i.length;o++){const s=i[o];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(s,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lm={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function VS(){if(xy)return rc;xy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(s,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:s,key:h,ref:u!==void 0?u:null,props:d}}return rc.Fragment=i,rc.jsx=o,rc.jsxs=o,rc}var _y;function FS(){return _y||(_y=1,Lm.exports=VS()),Lm.exports}var g=FS();const t_="harim.theme",j0="harim.settings.v1";function e_(){try{const t=localStorage.getItem(t_);if(t==="dark"||t==="light")return t;const i=localStorage.getItem(j0);if(i){const s=JSON.parse(i)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function k0(t){try{localStorage.setItem(t_,t);const i=localStorage.getItem(j0),o=i?JSON.parse(i):{};localStorage.setItem(j0,JSON.stringify({...o,theme:t}))}catch{}}function n_(t){const i=document.documentElement;i.classList.toggle("dark",t==="dark"),i.style.setProperty("color-scheme",t)}(function(){try{const t=e_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n_(t)}catch{}})();var Bm={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function KS(){if(Sy)return Wt;Sy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function j(D,k,Y){this.props=D,this.context=k,this.refs=A,this.updater=Y||T}j.prototype.isReactComponent={},j.prototype.setState=function(D,k){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,k,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=j.prototype;function I(D,k,Y){this.props=D,this.context=k,this.refs=A,this.updater=Y||T}var B=I.prototype=new H;B.constructor=I,M(B,j.prototype),B.isPureReactComponent=!0;var z=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function Q(D,k,Y,Z,$,tt){return Y=tt.ref,{$$typeof:t,type:D,key:k,ref:Y!==void 0?Y:null,props:tt}}function J(D,k){return Q(D.type,k,void 0,void 0,void 0,D.props)}function rt(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function nt(D){var k={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return k[Y]})}var F=/\/+/g;function U(D,k){return typeof D=="object"&&D!==null&&D.key!=null?nt(""+D.key):k.toString(36)}function W(){}function ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(W,W):(D.status="pending",D.then(function(k){D.status==="pending"&&(D.status="fulfilled",D.value=k)},function(k){D.status==="pending"&&(D.status="rejected",D.reason=k)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function pt(D,k,Y,Z,$){var tt=typeof D;(tt==="undefined"||tt==="boolean")&&(D=null);var X=!1;if(D===null)X=!0;else switch(tt){case"bigint":case"string":case"number":X=!0;break;case"object":switch(D.$$typeof){case t:case i:X=!0;break;case w:return X=D._init,pt(X(D._payload),k,Y,Z,$)}}if(X)return $=$(D),X=Z===""?"."+U(D,0):Z,z($)?(Y="",X!=null&&(Y=X.replace(F,"$&/")+"/"),pt($,k,Y,"",function(vt){return vt})):$!=null&&(rt($)&&($=J($,Y+($.key==null||D&&D.key===$.key?"":(""+$.key).replace(F,"$&/")+"/")+X)),k.push($)),1;X=0;var ut=Z===""?".":Z+":";if(z(D))for(var yt=0;yt<D.length;yt++)Z=D[yt],tt=ut+U(Z,yt),X+=pt(Z,k,Y,tt,$);else if(yt=_(D),typeof yt=="function")for(D=yt.call(D),yt=0;!(Z=D.next()).done;)Z=Z.value,tt=ut+U(Z,yt++),X+=pt(Z,k,Y,tt,$);else if(tt==="object"){if(typeof D.then=="function")return pt(ft(D),k,Y,Z,$);throw k=String(D),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return X}function K(D,k,Y){if(D==null)return D;var Z=[],$=0;return pt(D,Z,"","",function(tt){return k.call(Y,tt,$++)}),Z}function st(D){if(D._status===-1){var k=D._result;k=k(),k.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=k)}if(D._status===1)return D._result.default;throw D._result}var at=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function bt(){}return Wt.Children={map:K,forEach:function(D,k,Y){K(D,function(){k.apply(this,arguments)},Y)},count:function(D){var k=0;return K(D,function(){k++}),k},toArray:function(D){return K(D,function(k){return k})||[]},only:function(D){if(!rt(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Wt.Component=j,Wt.Fragment=o,Wt.Profiler=u,Wt.PureComponent=I,Wt.StrictMode=s,Wt.Suspense=b,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},Wt.cache=function(D){return function(){return D.apply(null,arguments)}},Wt.cloneElement=function(D,k,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=M({},D.props),$=D.key,tt=void 0;if(k!=null)for(X in k.ref!==void 0&&(tt=void 0),k.key!==void 0&&($=""+k.key),k)!G.call(k,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&k.ref===void 0||(Z[X]=k[X]);var X=arguments.length-2;if(X===1)Z.children=Y;else if(1<X){for(var ut=Array(X),yt=0;yt<X;yt++)ut[yt]=arguments[yt+2];Z.children=ut}return Q(D.type,$,void 0,void 0,tt,Z)},Wt.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:d,_context:D},D},Wt.createElement=function(D,k,Y){var Z,$={},tt=null;if(k!=null)for(Z in k.key!==void 0&&(tt=""+k.key),k)G.call(k,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&($[Z]=k[Z]);var X=arguments.length-2;if(X===1)$.children=Y;else if(1<X){for(var ut=Array(X),yt=0;yt<X;yt++)ut[yt]=arguments[yt+2];$.children=ut}if(D&&D.defaultProps)for(Z in X=D.defaultProps,X)$[Z]===void 0&&($[Z]=X[Z]);return Q(D,tt,void 0,void 0,null,$)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(D){return{$$typeof:p,render:D}},Wt.isValidElement=rt,Wt.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:st}},Wt.memo=function(D,k){return{$$typeof:v,type:D,compare:k===void 0?null:k}},Wt.startTransition=function(D){var k=R.T,Y={};R.T=Y;try{var Z=D(),$=R.S;$!==null&&$(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(bt,at)}catch(tt){at(tt)}finally{R.T=k}},Wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Wt.use=function(D){return R.H.use(D)},Wt.useActionState=function(D,k,Y){return R.H.useActionState(D,k,Y)},Wt.useCallback=function(D,k){return R.H.useCallback(D,k)},Wt.useContext=function(D){return R.H.useContext(D)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(D,k){return R.H.useDeferredValue(D,k)},Wt.useEffect=function(D,k,Y){var Z=R.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,k)},Wt.useId=function(){return R.H.useId()},Wt.useImperativeHandle=function(D,k,Y){return R.H.useImperativeHandle(D,k,Y)},Wt.useInsertionEffect=function(D,k){return R.H.useInsertionEffect(D,k)},Wt.useLayoutEffect=function(D,k){return R.H.useLayoutEffect(D,k)},Wt.useMemo=function(D,k){return R.H.useMemo(D,k)},Wt.useOptimistic=function(D,k){return R.H.useOptimistic(D,k)},Wt.useReducer=function(D,k,Y){return R.H.useReducer(D,k,Y)},Wt.useRef=function(D){return R.H.useRef(D)},Wt.useState=function(D){return R.H.useState(D)},Wt.useSyncExternalStore=function(D,k,Y){return R.H.useSyncExternalStore(D,k,Y)},Wt.useTransition=function(){return R.H.useTransition()},Wt.version="19.1.1",Wt}var wy;function vf(){return wy||(wy=1,Bm.exports=KS()),Bm.exports}var O=vf();const Ce=Vs(O);var Rm={exports:{}},ic={},Pm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function XS(){return Ty||(Ty=1,(function(t){function i(K,st){var at=K.length;K.push(st);t:for(;0<at;){var bt=at-1>>>1,D=K[bt];if(0<u(D,st))K[bt]=st,K[at]=D,at=bt;else break t}}function o(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],at=K.pop();if(at!==st){K[0]=at;t:for(var bt=0,D=K.length,k=D>>>1;bt<k;){var Y=2*(bt+1)-1,Z=K[Y],$=Y+1,tt=K[$];if(0>u(Z,at))$<D&&0>u(tt,Z)?(K[bt]=tt,K[$]=at,bt=$):(K[bt]=Z,K[Y]=at,bt=Y);else if($<D&&0>u(tt,at))K[bt]=tt,K[$]=at,bt=$;else break t}}return st}function u(K,st){var at=K.sortIndex-st.sortIndex;return at!==0?at:K.id-st.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var b=[],v=[],w=1,S=null,_=3,T=!1,M=!1,A=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var st=o(v);st!==null;){if(st.callback===null)s(v);else if(st.startTime<=K)s(v),st.sortIndex=st.expirationTime,i(b,st);else break;st=o(v)}}function R(K){if(A=!1,z(K),!M)if(o(b)!==null)M=!0,G||(G=!0,U());else{var st=o(v);st!==null&&pt(R,st.startTime-K)}}var G=!1,Q=-1,J=5,rt=-1;function nt(){return j?!0:!(t.unstable_now()-rt<J)}function F(){if(j=!1,G){var K=t.unstable_now();rt=K;var st=!0;try{t:{M=!1,A&&(A=!1,I(Q),Q=-1),T=!0;var at=_;try{e:{for(z(K),S=o(b);S!==null&&!(S.expirationTime>K&&nt());){var bt=S.callback;if(typeof bt=="function"){S.callback=null,_=S.priorityLevel;var D=bt(S.expirationTime<=K);if(K=t.unstable_now(),typeof D=="function"){S.callback=D,z(K),st=!0;break e}S===o(b)&&s(b),z(K)}else s(b);S=o(b)}if(S!==null)st=!0;else{var k=o(v);k!==null&&pt(R,k.startTime-K),st=!1}}break t}finally{S=null,_=at,T=!1}st=void 0}}finally{st?U():G=!1}}}var U;if(typeof B=="function")U=function(){B(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ft=W.port2;W.port1.onmessage=F,U=function(){ft.postMessage(null)}}else U=function(){H(F,0)};function pt(K,st){Q=H(function(){K(t.unstable_now())},st)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var st=3;break;default:st=_}var at=_;_=st;try{return K()}finally{_=at}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var at=_;_=K;try{return st()}finally{_=at}},t.unstable_scheduleCallback=function(K,st,at){var bt=t.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?bt+at:bt):at=bt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=at+D,K={id:w++,callback:st,priorityLevel:K,startTime:at,expirationTime:D,sortIndex:-1},at>bt?(K.sortIndex=at,i(v,K),o(b)===null&&K===o(v)&&(A?(I(Q),Q=-1):A=!0,pt(R,at-bt))):(K.sortIndex=D,i(b,K),M||T||(M=!0,G||(G=!0,U()))),K},t.unstable_shouldYield=nt,t.unstable_wrapCallback=function(K){var st=_;return function(){var at=_;_=st;try{return K.apply(this,arguments)}finally{_=at}}}})(zm)),zm}var Ey;function WS(){return Ey||(Ey=1,Pm.exports=XS()),Pm.exports}var Hm={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function QS(){if(Ny)return Mn;Ny=1;var t=vf();function i(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,v,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:b,containerInfo:v,implementation:w}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Mn.createPortal=function(b,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(b,v,null,w)},Mn.flushSync=function(b){var v=h.T,w=s.p;try{if(h.T=null,s.p=2,b)return b()}finally{h.T=v,s.p=w,s.d.f()}},Mn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(b,v))},Mn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},Mn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var w=v.as,S=p(w,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:T}):w==="script"&&s.d.X(b,{crossOrigin:S,integrity:_,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Mn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);s.d.M(b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(b)},Mn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,S=p(w,v.crossOrigin);s.d.L(b,w,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Mn.preloadModule=function(b,v){if(typeof b=="string")if(v){var w=p(v.as,v.crossOrigin);s.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(b)},Mn.requestFormReset=function(b){s.d.r(b)},Mn.unstable_batchedUpdates=function(b,v){return b(v)},Mn.useFormState=function(b,v,w){return h.H.useFormState(b,v,w)},Mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mn.version="19.1.1",Mn}var My;function r_(){if(My)return Hm.exports;My=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Hm.exports=QS(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function JS(){if(Dy)return ic;Dy=1;var t=WS(),i=vf(),o=r_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(s(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,c=n;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return p(m),e;if(y===c)return p(m),n;y=y.sibling}throw Error(s(188))}if(a.return!==c.return)a=m,c=y;else{for(var N=!1,P=m.child;P;){if(P===a){N=!0,a=m,c=y;break}if(P===c){N=!0,c=m,a=y;break}P=P.sibling}if(!N){for(P=y.child;P;){if(P===a){N=!0,a=y,c=m;break}if(P===c){N=!0,c=y,a=m;break}P=P.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),rt=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case G:return"SuspenseList";case rt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case B:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var pt=Array.isArray,K=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},bt=[],D=-1;function k(e){return{current:e}}function Y(e){0>D||(e.current=bt[D],bt[D]=null,D--)}function Z(e,n){D++,bt[D]=e.current,e.current=n}var $=k(null),tt=k(null),X=k(null),ut=k(null);function yt(e,n){switch(Z(X,n),Z(tt,e),Z($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Fb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Fb(n),e=Kb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y($),Z($,e)}function vt(){Y($),Y(tt),Y(X)}function jt(e){e.memoizedState!==null&&Z(ut,e);var n=$.current,a=Kb(n,e.type);n!==a&&(Z(tt,e),Z($,a))}function Ft(e){tt.current===e&&(Y($),Y(tt)),ut.current===e&&(Y(ut),Ql._currentValue=at)}var Gt=Object.prototype.hasOwnProperty,ie=t.unstable_scheduleCallback,ce=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,Oe=t.unstable_requestPaint,he=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,wt=t.unstable_ImmediatePriority,Lt=t.unstable_UserBlockingPriority,_t=t.unstable_NormalPriority,Et=t.unstable_LowPriority,It=t.unstable_IdlePriority,Ht=t.log,Dt=t.unstable_setDisableYieldValue,Bt=null,Zt=null;function Xt(e){if(typeof Ht=="function"&&Dt(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Bt,e)}catch{}}var ae=Math.clz32?Math.clz32:Wi,Jn=Math.log,ei=Math.LN2;function Wi(e){return e>>>=0,e===0?32:31-(Jn(e)/ei|0)|0}var zr=256,$n=4194304;function mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hr(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var m=0,y=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var P=c&134217727;return P!==0?(c=P&~y,c!==0?m=mn(c):(N&=P,N!==0?m=mn(N):a||(a=P&~e,a!==0&&(m=mn(a))))):(P=c&~y,P!==0?m=mn(P):N!==0?m=mn(N):a||(a=c&~e,a!==0&&(m=mn(a)))),m===0?0:n!==0&&n!==m&&(n&y)===0&&(y=m&-m,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:m}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function el(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qa(){var e=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),e}function Ir(){var e=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),e}function Gn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nl(e,n,a,c,m,y){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var P=e.entanglements,V=e.expirationTimes,ct=e.hiddenUpdates;for(a=N&~a;0<a;){var gt=31-ae(a),St=1<<gt;P[gt]=0,V[gt]=-1;var dt=ct[gt];if(dt!==null)for(ct[gt]=null,gt=0;gt<dt.length;gt++){var ht=dt[gt];ht!==null&&(ht.lane&=-536870913)}a&=~St}c!==0&&Ja(e,c,0),y!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=y&~(N&~n))}function Ja(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-ae(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function qc(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-ae(a),m=1<<c;m&n|e[c]&n&&(e[c]|=n),a&=~m}}function rl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function il(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vc(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:my(e.type))}function al(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var ni=Math.random().toString(36).slice(2),an="__reactFiber$"+ni,wn="__reactProps$"+ni,Qi="__reactContainer$"+ni,Zn="__reactEvents$"+ni,Rt="__reactListeners$"+ni,Fc="__reactHandles$"+ni,ol="__reactResources$"+ni,Ji="__reactMarker$"+ni;function $o(e){delete e[an],delete e[wn],delete e[Zn],delete e[Rt],delete e[Fc]}function ri(e){var n=e[an];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Qi]||a[an]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Jb(e);e!==null;){if(a=e[an])return a;e=Jb(e)}return n}e=a,a=e.parentNode}return null}function bi(e){if(e=e[an]||e[Qi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function vr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function yi(e){var n=e[ol];return n||(n=e[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(e){e[Ji]=!0}var Kc=new Set,Xc={};function vi(e,n){xi(e,n),xi(e+"Capture",n)}function xi(e,n){for(Xc[e]=n,e=0;e<n.length;e++)Kc.add(n[e])}var Zf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},Wc={};function Yf(e){return Gt.call(Wc,e)?!0:Gt.call(to,e)?!1:Zf.test(e)?Wc[e]=!0:(to[e]=!0,!1)}function Uo(e,n,a){if(Yf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Go(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function $r(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var eo,ta;function _i(e){if(eo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);eo=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+e+ta}var Zo=!1;function Si(e,n){if(!e||Zo)return"";Zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(ht){var dt=ht}Reflect.construct(e,[],St)}else{try{St.call()}catch(ht){dt=ht}e.call(St.prototype)}}else{try{throw Error()}catch(ht){dt=ht}(St=e())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(ht){if(ht&&dt&&typeof ht.stack=="string")return[ht.stack,dt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),N=y[0],P=y[1];if(N&&P){var V=N.split(`
`),ct=P.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ct.length&&!ct[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===ct.length)for(c=V.length-1,m=ct.length-1;1<=c&&0<=m&&V[c]!==ct[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==ct[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==ct[m]){var gt=`
`+V[c].replace(" at new "," at ");return e.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",e.displayName)),gt}while(1<=c&&0<=m);break}}}finally{Zo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function oe(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Si(e.type,!1);case 11:return Si(e.type.render,!1);case 1:return Si(e.type,!0);case 31:return _i("Activity");default:return""}}function Ne(e){try{var n="";do n+=oe(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ea(e){var n=wi(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){c=""+N,y.call(this,N)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function na(e){e._valueTracker||(e._valueTracker=ea(e))}function Kt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=wi(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function Me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sl=/[\n"\\]/g;function gn(e){return e.replace(sl,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(e,n,a,c,m,y,N,P){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?ra(e,N,pn(n)):a!=null?ra(e,N,pn(a)):c!=null&&e.removeAttribute("value"),m==null&&y!=null&&(e.defaultChecked=!!y),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.name=""+pn(P):e.removeAttribute("name")}function Qc(e,n,a,c,m,y,N,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+pn(a):"",n=n!=null?""+pn(n):a,P||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=P?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function ra(e,n,a){n==="number"&&Me(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yn(e,n,a,c){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&c&&(e[a].defaultSelected=!0)}else{for(a=""+pn(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function He(e,n,a){if(n!=null&&(n=""+pn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+pn(a):""}function ii(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(s(92));if(pt(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=pn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function xr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||no.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ia(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&a[m]!==c&&Yo(e,m,c)}else for(var y in n)n.hasOwnProperty(y)&&Yo(e,y,n[y])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return qo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var io=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,ai=null;function Jc(e){var n=bi(e);if(n&&(e=n.stateNode)){var a=e[wn]||null;t:switch(e=n.stateNode,n.type){case"input":if(Tn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var m=c[wn]||null;if(!m)throw Error(s(90));Tn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Kt(c)}break t;case"textarea":He(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yn(e,!!a.multiple,n,!1)}}}var Vt=!1;function tr(e,n,a){if(Vt)return e(n,a);Vt=!0;try{var c=e(n);return c}finally{if(Vt=!1,(Ti!==null||ai!==null)&&(Vu(),Ti&&(n=Ti,e=ai,ai=Ti=null,Jc(n),e)))for(n=0;n<e.length;n++)Jc(e[n])}}function de(e,n){var a=e.stateNode;if(a===null)return null;var c=a[wn]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(_r)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{ao=!1}var Sr=null,Ur=null,sa=null;function la(){if(sa)return sa;var e,n=Ur,a=n.length,c,m="value"in Sr?Sr.value:Sr.textContent,y=m.length;for(e=0;e<a&&n[e]===m[e];e++);var N=a-e;for(c=1;c<=N&&n[a-c]===m[y-c];c++);return sa=m.slice(e,1<c?1-c:void 0)}function Ze(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wr(){return!0}function cl(){return!1}function bn(e){function n(a,c,m,y,N){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(a=e[P],this[P]=a?a(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wr:cl,this.isPropagationStopped=cl,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=bn(Ni),Mi=w({},Ni,{view:0,detail:0}),qf=bn(Mi),Vo,Jt,so,En=w({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Vo=e.screenX-so.screenX,Jt=e.screenY-so.screenY):Jt=Vo=0,so=e),Vo)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),ca=bn(En),tu=w({},En,{dataTransfer:0}),Vf=bn(tu),ul=w({},Mi,{relatedTarget:0}),dl=bn(ul),eu=w({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=bn(eu),Kf=w({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fl=bn(Kf),Xf=w({},Ni,{data:0}),er=bn(Xf),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=oi[e])?!!n[e]:!1}function Fo(){return ru}var hl=w({},Mi,{key:function(e){if(e.key){var n=Wf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ze(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(e){return e.type==="keypress"?Ze(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ze(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qf=bn(hl),iu=w({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=bn(iu),Jf=w({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),th=bn(Jf),pl=w({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=bn(pl),au=w({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ou=bn(au),Ko=w({},Ni,{newState:0,oldState:0}),Di=bn(Ko),nh=[9,13,27,32],Ai=_r&&"CompositionEvent"in window,on=null;_r&&"documentMode"in document&&(on=document.documentMode);var su=_r&&"TextEvent"in window&&!on,gl=_r&&(!Ai||on&&8<on&&11>=on),lu=" ",Xo=!1;function Wo(e,n){switch(e){case"keyup":return nh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function uu(e,n){switch(e){case"compositionend":return cu(n);case"keypress":return n.which!==32?null:(Xo=!0,lu);case"textInput":return e=n.data,e===lu&&Xo?null:e;default:return null}}function rh(e,n){if(ua)return e==="compositionend"||!Ai&&Wo(e,n)?(e=la(),sa=Ur=Sr=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gl&&n.locale!=="ko"?null:n.data;default:return null}}var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ji(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!nr[e.type]:n==="textarea"}function du(e,n,a,c){Ti?ai?ai.push(c):ai=[c]:Ti=c,n=Ju(n,"onChange"),0<n.length&&(a=new oo("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var jn=null,lo=null;function da(e){Gb(e,0)}function Qo(e){var n=vr(e);if(Kt(n))return e}function fa(e,n){if(e==="change")return n}var bl=!1;if(_r){var ha;if(_r){var yl="oninput"in document;if(!yl){var Gr=document.createElement("div");Gr.setAttribute("oninput","return;"),yl=typeof Gr.oninput=="function"}ha=yl}else ha=!1;bl=ha&&(!document.documentMode||9<document.documentMode)}function co(){jn&&(jn.detachEvent("onpropertychange",fu),lo=jn=null)}function fu(e){if(e.propertyName==="value"&&Qo(lo)){var n=[];du(n,lo,e,oa(e)),tr(da,n)}}function vl(e,n,a){e==="focusin"?(co(),jn=n,lo=a,jn.attachEvent("onpropertychange",fu)):e==="focusout"&&co()}function ih(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(lo)}function Zr(e,n){if(e==="click")return Qo(n)}function ah(e,n){if(e==="input"||e==="change")return Qo(n)}function ma(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:ma;function Cn(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Gt.call(n,m)||!kn(e[m],n[m]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xl(e,n){var a=uo(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uo(a)}}function Jo(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jo(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function fo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Me(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Me(e.document)}return n}function ho(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ts=_r&&"documentMode"in document&&11>=document.documentMode,rr=null,pa=null,ki=null,es=!1;function hu(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;es||rr==null||rr!==Me(c)||(c=rr,"selectionStart"in c&&ho(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ki&&Cn(ki,c)||(ki=c,c=Ju(pa,"onSelect"),0<c.length&&(n=new oo("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=rr)))}function Tr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},ns={},mu={};_r&&(mu=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function si(e){if(ns[e])return ns[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in mu)return ns[e]=n[a];return e}var pu=si("animationend"),ir=si("animationiteration"),mo=si("animationstart"),oh=si("transitionrun"),rs=si("transitionstart"),sh=si("transitioncancel"),_l=si("transitionend"),gu=new Map,Ci="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ci.push("scrollEnd");function ar(e,n){gu.set(e,n),vi(n,[e])}var Oi=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=Oi.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ne(n)},Oi.set(e,n),n)}return{value:e,source:n,stack:Ne(n)}}var Ln=[],ba=0,or=0;function po(){for(var e=ba,n=or=ba=0;n<e;){var a=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var m=Ln[n];Ln[n++]=null;var y=Ln[n];if(Ln[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}y!==0&&bo(a,m,y)}}function go(e,n,a,c){Ln[ba++]=e,Ln[ba++]=n,Ln[ba++]=a,Ln[ba++]=c,or|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Li(e,n,a,c){return go(e,n,a,c),li(e)}function ya(e,n){return go(e,null,null,n),li(e)}function bo(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var m=!1,y=e.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(m=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,m&&n!==null&&(m=31-ae(a),e=y.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=a|536870912),y):null}function li(e){if(50<Zl)throw Zl=0,im=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Bi={};function bu(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,n,a,c){return new bu(e,n,a,c)}function is(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Er(e,n){var a=e.alternate;return a===null?(a=Bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sl(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function yo(e,n,a,c,m,y){var N=0;if(c=e,typeof e=="function")is(e)&&(N=1);else if(typeof e=="string")N=OS(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case rt:return e=Bn(31,a,n,m),e.elementType=rt,e.lanes=y,e;case M:return ci(a.children,m,y,n);case A:N=8,m|=24;break;case j:return e=Bn(12,a,n,m|2),e.elementType=j,e.lanes=y,e;case R:return e=Bn(13,a,n,m),e.elementType=R,e.lanes=y,e;case G:return e=Bn(19,a,n,m),e.elementType=G,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:case B:N=10;break t;case I:N=9;break t;case z:N=11;break t;case Q:N=14;break t;case J:N=16,c=null;break t}N=29,a=Error(s(130,e===null?"null":typeof e,"")),c=null}return n=Bn(N,a,n,m),n.elementType=e,n.type=c,n.lanes=y,n}function ci(e,n,a,c){return e=Bn(7,e,c,n),e.lanes=a,e}function wl(e,n,a){return e=Bn(6,e,null,n),e.lanes=a,e}function as(e,n,a){return n=Bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ri=[],va=0,r=null,l=0,f=[],x=0,E=null,C=1,q="";function ot(e,n){Ri[va++]=l,Ri[va++]=r,r=e,l=n}function mt(e,n,a){f[x++]=C,f[x++]=q,f[x++]=E,E=e;var c=C;e=q;var m=32-ae(c)-1;c&=~(1<<m),a+=1;var y=32-ae(n)+m;if(30<y){var N=m-m%5;y=(c&(1<<N)-1).toString(32),c>>=N,m-=N,C=1<<32-ae(n)+m|a<<m|c,q=y+e}else C=1<<y|a<<m|c,q=e}function Tt(e){e.return!==null&&(ot(e,1),mt(e,1,0))}function At(e){for(;e===r;)r=Ri[--va],Ri[va]=null,l=Ri[--va],Ri[va]=null;for(;e===E;)E=f[--x],f[x]=null,q=f[--x],f[x]=null,C=f[--x],f[x]=null}var kt=null,Ot=null,qt=!1,De=null,Ie=!1,sn=Error(s(519));function qn(e){var n=Error(s(418,""));throw _a(On(n,e)),sn}function yu(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[an]=e,n[wn]=c,a){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)ne(ql[a],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":ne("invalid",n),Qc(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),na(n);break;case"select":ne("invalid",n);break;case"textarea":ne("invalid",n),ii(n,c.value,c.defaultValue,c.children),na(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||Vb(n.textContent,a)?(c.popover!=null&&(ne("beforetoggle",n),ne("toggle",n)),c.onScroll!=null&&ne("scroll",n),c.onScrollEnd!=null&&ne("scrollend",n),c.onClick!=null&&(n.onclick=td),n=!0):n=!1,n||qn(e)}function vu(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 13:Ie=!1;return;case 27:case 3:Ie=!0;return;default:kt=kt.return}}function vo(e){if(e!==kt)return!1;if(!qt)return vu(e),qt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xm(e.type,e.memoizedProps)),a=!a),a&&Ot&&qn(e),vu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Ot=Fr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Ot=null}}else n===27?(n=Ot,Ra(e.type)?(e=Tm,Tm=null,Ot=e):Ot=n):Ot=kt?Fr(e.stateNode.nextSibling):null;return!0}function xa(){Ot=kt=null,qt=!1}function xu(){var e=De;return e!==null&&(Kn===null?Kn=e:Kn.push.apply(Kn,e),De=null),e}function _a(e){De===null?De=[e]:De.push(e)}var Le=k(null),Nr=null,Yr=null;function ui(e,n,a){Z(Le,n._currentValue),n._currentValue=a}function qr(e){e._currentValue=Le.current,Y(Le)}function xo(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function os(e,n,a,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var y=m.dependencies;if(y!==null){var N=m.child;y=y.firstContext;t:for(;y!==null;){var P=y;y=m;for(var V=0;V<n.length;V++)if(P.context===n[V]){y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),xo(y.return,a,e),c||(N=null);break t}y=P.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(s(341));N.lanes|=a,y=N.alternate,y!==null&&(y.lanes|=a),xo(N,a,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function _o(e,n,a,c){e=null;for(var m=n,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var P=m.type;kn(m.pendingProps.value,N.value)||(e!==null?e.push(P):e=[P])}}else if(m===ut.current){if(N=m.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}m=m.return}e!==null&&os(n,e,a,c),n.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){Nr=e,Yr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nn(e){return Op(Nr,e)}function Su(e,n){return Nr===null&&So(e),Op(e,n)}function Op(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Yr===null){if(e===null)throw Error(s(308));Yr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yr=Yr.next=n;return a}var C2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},O2=t.unstable_scheduleCallback,L2=t.unstable_NormalPriority,Je={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new C2,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&O2(L2,function(){e.controller.abort()})}var El=null,ch=0,ss=0,ls=null;function B2(e,n){if(El===null){var a=El=[];ch=0,ss=dm(),ls={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ch++,n.then(Lp,Lp),n}function Lp(){if(--ch===0&&El!==null){ls!==null&&(ls.status="fulfilled");var e=El;El=null,ss=0,ls=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function R2(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var Bp=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&B2(e,n),Bp!==null&&Bp(e,n)};var wo=k(null);function uh(){var e=wo.current;return e!==null?e:Ae.pooledCache}function wu(e,n){n===null?Z(wo,wo.current):Z(wo,n.pool)}function Rp(){var e=uh();return e===null?null:{parent:Je._currentValue,pool:e}}var Nl=Error(s(460)),Pp=Error(s(474)),Tu=Error(s(542)),dh={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eu(){}function Hp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Eu,Eu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e;default:if(typeof n.status=="string")n.then(Eu,Eu);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e}throw Ml=n,Nl}}var Ml=null;function Ip(){if(Ml===null)throw Error(s(459));var e=Ml;return Ml=null,e}function $p(e){if(e===Nl||e===Tu)throw Error(s(483))}var Sa=!1;function fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=li(e),bo(e,null,a),n}return go(e,c,n,a),li(e)}function Dl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,qc(e,a)}}function mh(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=N:y=y.next=N,a=a.next}while(a!==null);y===null?m=y=n:y=y.next=n}else m=y=n;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ph=!1;function Al(){if(ph){var e=ls;if(e!==null)throw e}}function jl(e,n,a,c){ph=!1;var m=e.updateQueue;Sa=!1;var y=m.firstBaseUpdate,N=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var V=P,ct=V.next;V.next=null,N===null?y=ct:N.next=ct,N=V;var gt=e.alternate;gt!==null&&(gt=gt.updateQueue,P=gt.lastBaseUpdate,P!==N&&(P===null?gt.firstBaseUpdate=ct:P.next=ct,gt.lastBaseUpdate=V))}if(y!==null){var St=m.baseState;N=0,gt=ct=V=null,P=y;do{var dt=P.lane&-536870913,ht=dt!==P.lane;if(ht?(se&dt)===dt:(c&dt)===dt){dt!==0&&dt===ss&&(ph=!0),gt!==null&&(gt=gt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Yt=e,$t=P;dt=n;var xe=a;switch($t.tag){case 1:if(Yt=$t.payload,typeof Yt=="function"){St=Yt.call(xe,St,dt);break t}St=Yt;break t;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=$t.payload,dt=typeof Yt=="function"?Yt.call(xe,St,dt):Yt,dt==null)break t;St=w({},St,dt);break t;case 2:Sa=!0}}dt=P.callback,dt!==null&&(e.flags|=64,ht&&(e.flags|=8192),ht=m.callbacks,ht===null?m.callbacks=[dt]:ht.push(dt))}else ht={lane:dt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},gt===null?(ct=gt=ht,V=St):gt=gt.next=ht,N|=dt;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ht=P,P=ht.next,ht.next=null,m.lastBaseUpdate=ht,m.shared.pending=null}}while(!0);gt===null&&(V=St),m.baseState=V,m.firstBaseUpdate=ct,m.lastBaseUpdate=gt,y===null&&(m.shared.lanes=0),Ca|=N,e.lanes=N,e.memoizedState=St}}function Up(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Gp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Up(a[e],n)}var cs=k(null),Nu=k(0);function Zp(e,n){e=Gi,Z(Nu,e),Z(cs,n),Gi=e|n.baseLanes}function gh(){Z(Nu,Gi),Z(cs,cs.current)}function bh(){Gi=Nu.current,Y(cs),Y(Nu)}var Ea=0,Qt=null,ye=null,Xe=null,Mu=!1,us=!1,To=!1,Du=0,kl=0,ds=null,P2=0;function Ve(){throw Error(s(321))}function yh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!kn(e[a],n[a]))return!1;return!0}function vh(e,n,a,c,m,y){return Ea=y,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?Mg:Dg,To=!1,y=a(c,m),To=!1,us&&(y=qp(n,a,c,m)),Yp(e),y}function Yp(e){K.H=Lu;var n=ye!==null&&ye.next!==null;if(Ea=0,Xe=ye=Qt=null,Mu=!1,kl=0,ds=null,n)throw Error(s(300));e===null||ln||(e=e.dependencies,e!==null&&_u(e)&&(ln=!0))}function qp(e,n,a,c){Qt=e;var m=0;do{if(us&&(ds=null),kl=0,us=!1,25<=m)throw Error(s(301));if(m+=1,Xe=ye=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=Z2,y=n(a,c)}while(us);return y}function z2(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(Qt.flags|=1024),n}function xh(){var e=Du!==0;return Du=0,e}function _h(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Sh(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Ea=0,Xe=ye=Qt=null,us=!1,kl=Du=0,ds=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Qt.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function We(){if(ye===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=Xe===null?Qt.memoizedState:Xe.next;if(n!==null)Xe=n,ye=e;else{if(e===null)throw Qt.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Xe===null?Qt.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=kl;return kl+=1,ds===null&&(ds=[]),e=Hp(ds,e,n),n=Qt,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Mg:Dg),e}function Au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===B)return Nn(e)}throw Error(s(438,String(e)))}function Th(e){var n=null,a=Qt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Qt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=wh(),Qt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=nt;return n.index++,a}function Pi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=We();return Eh(n,ye,e)}function Eh(e,n,a){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var m=e.baseQueue,y=c.pending;if(y!==null){if(m!==null){var N=m.next;m.next=y.next,y.next=N}n.baseQueue=m=y,c.pending=null}if(y=e.baseState,m===null)e.memoizedState=y;else{n=m.next;var P=N=null,V=null,ct=n,gt=!1;do{var St=ct.lane&-536870913;if(St!==ct.lane?(se&St)===St:(Ea&St)===St){var dt=ct.revertLane;if(dt===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),St===ss&&(gt=!0);else if((Ea&dt)===dt){ct=ct.next,dt===ss&&(gt=!0);continue}else St={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},V===null?(P=V=St,N=y):V=V.next=St,Qt.lanes|=dt,Ca|=dt;St=ct.action,To&&a(y,St),y=ct.hasEagerState?ct.eagerState:a(y,St)}else dt={lane:St,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},V===null?(P=V=dt,N=y):V=V.next=dt,Qt.lanes|=St,Ca|=St;ct=ct.next}while(ct!==null&&ct!==n);if(V===null?N=y:V.next=P,!kn(y,e.memoizedState)&&(ln=!0,gt&&(a=ls,a!==null)))throw a;e.memoizedState=y,e.baseState=N,e.baseQueue=V,c.lastRenderedState=y}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Nh(e){var n=We(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,m=a.pending,y=n.memoizedState;if(m!==null){a.pending=null;var N=m=m.next;do y=e(y,N.action),N=N.next;while(N!==m);kn(y,n.memoizedState)||(ln=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,c]}function Vp(e,n,a){var c=Qt,m=We(),y=qt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=n();var N=!kn((ye||m).memoizedState,a);N&&(m.memoizedState=a,ln=!0),m=m.queue;var P=Xp.bind(null,c,m,e);if(Ol(2048,8,P,[e]),m.getSnapshot!==n||N||Xe!==null&&Xe.memoizedState.tag&1){if(c.flags|=2048,fs(9,ku(),Kp.bind(null,c,m,a,n),null),Ae===null)throw Error(s(349));y||(Ea&124)!==0||Fp(c,n,a)}return a}function Fp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Qt.updateQueue,n===null?(n=wh(),Qt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Kp(e,n,a,c){n.value=a,n.getSnapshot=c,Wp(n)&&Qp(e)}function Xp(e,n,a){return a(function(){Wp(n)&&Qp(e)})}function Wp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!kn(e,a)}catch{return!0}}function Qp(e){var n=ya(e,2);n!==null&&dr(n,e,2)}function Mh(e){var n=Vn();if(typeof e=="function"){var a=e;if(e=a(),To){Xt(!0);try{a()}finally{Xt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function Jp(e,n,a,c){return e.baseState=a,Eh(e,ye,typeof c=="function"?c:Pi)}function H2(e,n,a,c,m){if(Ou(e))throw Error(s(485));if(e=n.action,e!==null){var y={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};K.T!==null?a(!0):y.isTransition=!1,c(y),a=n.pending,a===null?(y.next=n.pending=y,tg(n,y)):(y.next=a.next,n.pending=a.next=y)}}function tg(e,n){var a=n.action,c=n.payload,m=e.state;if(n.isTransition){var y=K.T,N={};K.T=N;try{var P=a(m,c),V=K.S;V!==null&&V(N,P),eg(e,n,P)}catch(ct){Dh(e,n,ct)}finally{K.T=y}}else try{y=a(m,c),eg(e,n,y)}catch(ct){Dh(e,n,ct)}}function eg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){ng(e,n,c)},function(c){return Dh(e,n,c)}):ng(e,n,a)}function ng(e,n,a){n.status="fulfilled",n.value=a,rg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,tg(e,a)))}function Dh(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,rg(n),n=n.next;while(n!==c)}e.action=null}function rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ig(e,n){return n}function ag(e,n){if(qt){var a=Ae.formState;if(a!==null){t:{var c=Qt;if(qt){if(Ot){e:{for(var m=Ot,y=Ie;m.nodeType!==8;){if(!y){m=null;break e}if(m=Fr(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ot=Fr(m.nextSibling),c=m.data==="F!";break t}}qn(c)}c=!1}c&&(n=a[0])}}return a=Vn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ig,lastRenderedState:n},a.queue=c,a=Tg.bind(null,Qt,c),c.dispatch=a,c=Mh(!1),y=Oh.bind(null,Qt,!1,c.queue),c=Vn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,a=H2.bind(null,Qt,m,y,a),m.dispatch=a,c.memoizedState=e,[n,a,!1]}function og(e){var n=We();return sg(n,ye,e)}function sg(e,n,a){if(n=Eh(e,n,ig)[0],e=ju(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Cl(n)}catch(N){throw N===Nl?Tu:N}else c=n;n=We();var m=n.queue,y=m.dispatch;return a!==n.memoizedState&&(Qt.flags|=2048,fs(9,ku(),I2.bind(null,m,a),null)),[c,y,e]}function I2(e,n){e.action=n}function lg(e){var n=We(),a=ye;if(a!==null)return sg(n,a,e);We(),n=n.memoizedState,a=We();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function fs(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Qt.updateQueue,n===null&&(n=wh(),Qt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function ku(){return{destroy:void 0,resource:void 0}}function cg(){return We().memoizedState}function Cu(e,n,a,c){var m=Vn();c=c===void 0?null:c,Qt.flags|=e,m.memoizedState=fs(1|n,ku(),a,c)}function Ol(e,n,a,c){var m=We();c=c===void 0?null:c;var y=m.memoizedState.inst;ye!==null&&c!==null&&yh(c,ye.memoizedState.deps)?m.memoizedState=fs(n,y,a,c):(Qt.flags|=e,m.memoizedState=fs(1|n,y,a,c))}function ug(e,n){Cu(8390656,8,e,n)}function dg(e,n){Ol(2048,8,e,n)}function fg(e,n){return Ol(4,2,e,n)}function hg(e,n){return Ol(4,4,e,n)}function mg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pg(e,n,a){a=a!=null?a.concat([e]):null,Ol(4,4,mg.bind(null,n,e),a)}function Ah(){}function gg(e,n){var a=We();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&yh(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function bg(e,n){var a=We();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&yh(n,c[1]))return c[0];if(c=e(),To){Xt(!0);try{e()}finally{Xt(!1)}}return a.memoizedState=[c,n],c}function jh(e,n,a){return a===void 0||(Ea&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=xb(),Qt.lanes|=e,Ca|=e,a)}function yg(e,n,a,c){return kn(a,n)?a:cs.current!==null?(e=jh(e,a,c),kn(e,n)||(ln=!0),e):(Ea&42)===0?(ln=!0,e.memoizedState=a):(e=xb(),Qt.lanes|=e,Ca|=e,n)}function vg(e,n,a,c,m){var y=st.p;st.p=y!==0&&8>y?y:8;var N=K.T,P={};K.T=P,Oh(e,!1,n,a);try{var V=m(),ct=K.S;if(ct!==null&&ct(P,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var gt=R2(V,c);Ll(e,n,gt,ur(e))}else Ll(e,n,c,ur(e))}catch(St){Ll(e,n,{then:function(){},status:"rejected",reason:St},ur())}finally{st.p=y,K.T=N}}function $2(){}function kh(e,n,a,c){if(e.tag!==5)throw Error(s(476));var m=xg(e).queue;vg(e,m,n,at,a===null?$2:function(){return _g(e),a(c)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:at},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _g(e){var n=xg(e).next.queue;Ll(e,n,{},ur())}function Ch(){return Nn(Ql)}function Sg(){return We().memoizedState}function wg(){return We().memoizedState}function U2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ur();e=wa(a);var c=Ta(n,e,a);c!==null&&(dr(c,n,a),Dl(c,n,a)),n={cache:lh()},e.payload=n;return}n=n.return}}function G2(e,n,a){var c=ur();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(e)?Eg(n,a):(a=Li(e,n,a,c),a!==null&&(dr(a,e,c),Ng(a,n,c)))}function Tg(e,n,a){var c=ur();Ll(e,n,a,c)}function Ll(e,n,a,c){var m={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))Eg(n,m);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var N=n.lastRenderedState,P=y(N,a);if(m.hasEagerState=!0,m.eagerState=P,kn(P,N))return go(e,n,m,0),Ae===null&&po(),!1}catch{}finally{}if(a=Li(e,n,m,c),a!==null)return dr(a,e,c),Ng(a,n,c),!0}return!1}function Oh(e,n,a,c){if(c={lane:2,revertLane:dm(),action:c,hasEagerState:!1,eagerState:null,next:null},Ou(e)){if(n)throw Error(s(479))}else n=Li(e,a,c,2),n!==null&&dr(n,e,2)}function Ou(e){var n=e.alternate;return e===Qt||n!==null&&n===Qt}function Eg(e,n){us=Mu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Ng(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,qc(e,a)}}var Lu={readContext:Nn,use:Au,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},Mg={readContext:Nn,use:Au,useCallback:function(e,n){return Vn().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:ug,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,mg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var a=Vn();n=n===void 0?null:n;var c=e();if(To){Xt(!0);try{e()}finally{Xt(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=Vn();if(a!==void 0){var m=a(n);if(To){Xt(!0);try{a(n)}finally{Xt(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=G2.bind(null,Qt,e),[c.memoizedState,e]},useRef:function(e){var n=Vn();return e={current:e},n.memoizedState=e},useState:function(e){e=Mh(e);var n=e.queue,a=Tg.bind(null,Qt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(e,n){var a=Vn();return jh(a,e,n)},useTransition:function(){var e=Mh(!1);return e=vg.bind(null,Qt,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Qt,m=Vn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Ae===null)throw Error(s(349));(se&124)!==0||Fp(c,n,a)}m.memoizedState=a;var y={value:a,getSnapshot:n};return m.queue=y,ug(Xp.bind(null,c,y,e),[e]),c.flags|=2048,fs(9,ku(),Kp.bind(null,c,y,a,n),null),a},useId:function(){var e=Vn(),n=Ae.identifierPrefix;if(qt){var a=q,c=C;a=(c&~(1<<32-ae(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=Du++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=P2++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Ch,useFormState:ag,useActionState:ag,useOptimistic:function(e){var n=Vn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Oh.bind(null,Qt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Th,useCacheRefresh:function(){return Vn().memoizedState=U2.bind(null,Qt)}},Dg={readContext:Nn,use:Au,useCallback:gg,useContext:Nn,useEffect:dg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:hg,useMemo:bg,useReducer:ju,useRef:cg,useState:function(){return ju(Pi)},useDebugValue:Ah,useDeferredValue:function(e,n){var a=We();return yg(a,ye.memoizedState,e,n)},useTransition:function(){var e=ju(Pi)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:Vp,useId:Sg,useHostTransitionStatus:Ch,useFormState:og,useActionState:og,useOptimistic:function(e,n){var a=We();return Jp(a,ye,e,n)},useMemoCache:Th,useCacheRefresh:wg},Z2={readContext:Nn,use:Au,useCallback:gg,useContext:Nn,useEffect:dg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:hg,useMemo:bg,useReducer:Nh,useRef:cg,useState:function(){return Nh(Pi)},useDebugValue:Ah,useDeferredValue:function(e,n){var a=We();return ye===null?jh(a,e,n):yg(a,ye.memoizedState,e,n)},useTransition:function(){var e=Nh(Pi)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:Vp,useId:Sg,useHostTransitionStatus:Ch,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var a=We();return ye!==null?Jp(a,ye,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Th,useCacheRefresh:wg},hs=null,Bl=0;function Bu(e){var n=Bl;return Bl+=1,hs===null&&(hs=[]),Hp(hs,e,n)}function Rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ag(e){var n=e._init;return n(e._payload)}function jg(e){function n(it,et){if(e){var lt=it.deletions;lt===null?(it.deletions=[et],it.flags|=16):lt.push(et)}}function a(it,et){if(!e)return null;for(;et!==null;)n(it,et),et=et.sibling;return null}function c(it){for(var et=new Map;it!==null;)it.key!==null?et.set(it.key,it):et.set(it.index,it),it=it.sibling;return et}function m(it,et){return it=Er(it,et),it.index=0,it.sibling=null,it}function y(it,et,lt){return it.index=lt,e?(lt=it.alternate,lt!==null?(lt=lt.index,lt<et?(it.flags|=67108866,et):lt):(it.flags|=67108866,et)):(it.flags|=1048576,et)}function N(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function P(it,et,lt,xt){return et===null||et.tag!==6?(et=wl(lt,it.mode,xt),et.return=it,et):(et=m(et,lt),et.return=it,et)}function V(it,et,lt,xt){var Ct=lt.type;return Ct===M?gt(it,et,lt.props.children,xt,lt.key):et!==null&&(et.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===J&&Ag(Ct)===et.type)?(et=m(et,lt.props),Rl(et,lt),et.return=it,et):(et=yo(lt.type,lt.key,lt.props,null,it.mode,xt),Rl(et,lt),et.return=it,et)}function ct(it,et,lt,xt){return et===null||et.tag!==4||et.stateNode.containerInfo!==lt.containerInfo||et.stateNode.implementation!==lt.implementation?(et=as(lt,it.mode,xt),et.return=it,et):(et=m(et,lt.children||[]),et.return=it,et)}function gt(it,et,lt,xt,Ct){return et===null||et.tag!==7?(et=ci(lt,it.mode,xt,Ct),et.return=it,et):(et=m(et,lt),et.return=it,et)}function St(it,et,lt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=wl(""+et,it.mode,lt),et.return=it,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case _:return lt=yo(et.type,et.key,et.props,null,it.mode,lt),Rl(lt,et),lt.return=it,lt;case T:return et=as(et,it.mode,lt),et.return=it,et;case J:var xt=et._init;return et=xt(et._payload),St(it,et,lt)}if(pt(et)||U(et))return et=ci(et,it.mode,lt,null),et.return=it,et;if(typeof et.then=="function")return St(it,Bu(et),lt);if(et.$$typeof===B)return St(it,Su(it,et),lt);Ru(it,et)}return null}function dt(it,et,lt,xt){var Ct=et!==null?et.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ct!==null?null:P(it,et,""+lt,xt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case _:return lt.key===Ct?V(it,et,lt,xt):null;case T:return lt.key===Ct?ct(it,et,lt,xt):null;case J:return Ct=lt._init,lt=Ct(lt._payload),dt(it,et,lt,xt)}if(pt(lt)||U(lt))return Ct!==null?null:gt(it,et,lt,xt,null);if(typeof lt.then=="function")return dt(it,et,Bu(lt),xt);if(lt.$$typeof===B)return dt(it,et,Su(it,lt),xt);Ru(it,lt)}return null}function ht(it,et,lt,xt,Ct){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return it=it.get(lt)||null,P(et,it,""+xt,Ct);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case _:return it=it.get(xt.key===null?lt:xt.key)||null,V(et,it,xt,Ct);case T:return it=it.get(xt.key===null?lt:xt.key)||null,ct(et,it,xt,Ct);case J:var te=xt._init;return xt=te(xt._payload),ht(it,et,lt,xt,Ct)}if(pt(xt)||U(xt))return it=it.get(lt)||null,gt(et,it,xt,Ct,null);if(typeof xt.then=="function")return ht(it,et,lt,Bu(xt),Ct);if(xt.$$typeof===B)return ht(it,et,lt,Su(et,xt),Ct);Ru(et,xt)}return null}function Yt(it,et,lt,xt){for(var Ct=null,te=null,Pt=et,Ut=et=0,un=null;Pt!==null&&Ut<lt.length;Ut++){Pt.index>Ut?(un=Pt,Pt=null):un=Pt.sibling;var fe=dt(it,Pt,lt[Ut],xt);if(fe===null){Pt===null&&(Pt=un);break}e&&Pt&&fe.alternate===null&&n(it,Pt),et=y(fe,et,Ut),te===null?Ct=fe:te.sibling=fe,te=fe,Pt=un}if(Ut===lt.length)return a(it,Pt),qt&&ot(it,Ut),Ct;if(Pt===null){for(;Ut<lt.length;Ut++)Pt=St(it,lt[Ut],xt),Pt!==null&&(et=y(Pt,et,Ut),te===null?Ct=Pt:te.sibling=Pt,te=Pt);return qt&&ot(it,Ut),Ct}for(Pt=c(Pt);Ut<lt.length;Ut++)un=ht(Pt,it,Ut,lt[Ut],xt),un!==null&&(e&&un.alternate!==null&&Pt.delete(un.key===null?Ut:un.key),et=y(un,et,Ut),te===null?Ct=un:te.sibling=un,te=un);return e&&Pt.forEach(function($a){return n(it,$a)}),qt&&ot(it,Ut),Ct}function $t(it,et,lt,xt){if(lt==null)throw Error(s(151));for(var Ct=null,te=null,Pt=et,Ut=et=0,un=null,fe=lt.next();Pt!==null&&!fe.done;Ut++,fe=lt.next()){Pt.index>Ut?(un=Pt,Pt=null):un=Pt.sibling;var $a=dt(it,Pt,fe.value,xt);if($a===null){Pt===null&&(Pt=un);break}e&&Pt&&$a.alternate===null&&n(it,Pt),et=y($a,et,Ut),te===null?Ct=$a:te.sibling=$a,te=$a,Pt=un}if(fe.done)return a(it,Pt),qt&&ot(it,Ut),Ct;if(Pt===null){for(;!fe.done;Ut++,fe=lt.next())fe=St(it,fe.value,xt),fe!==null&&(et=y(fe,et,Ut),te===null?Ct=fe:te.sibling=fe,te=fe);return qt&&ot(it,Ut),Ct}for(Pt=c(Pt);!fe.done;Ut++,fe=lt.next())fe=ht(Pt,it,Ut,fe.value,xt),fe!==null&&(e&&fe.alternate!==null&&Pt.delete(fe.key===null?Ut:fe.key),et=y(fe,et,Ut),te===null?Ct=fe:te.sibling=fe,te=fe);return e&&Pt.forEach(function(YS){return n(it,YS)}),qt&&ot(it,Ut),Ct}function xe(it,et,lt,xt){if(typeof lt=="object"&&lt!==null&&lt.type===M&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case _:t:{for(var Ct=lt.key;et!==null;){if(et.key===Ct){if(Ct=lt.type,Ct===M){if(et.tag===7){a(it,et.sibling),xt=m(et,lt.props.children),xt.return=it,it=xt;break t}}else if(et.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===J&&Ag(Ct)===et.type){a(it,et.sibling),xt=m(et,lt.props),Rl(xt,lt),xt.return=it,it=xt;break t}a(it,et);break}else n(it,et);et=et.sibling}lt.type===M?(xt=ci(lt.props.children,it.mode,xt,lt.key),xt.return=it,it=xt):(xt=yo(lt.type,lt.key,lt.props,null,it.mode,xt),Rl(xt,lt),xt.return=it,it=xt)}return N(it);case T:t:{for(Ct=lt.key;et!==null;){if(et.key===Ct)if(et.tag===4&&et.stateNode.containerInfo===lt.containerInfo&&et.stateNode.implementation===lt.implementation){a(it,et.sibling),xt=m(et,lt.children||[]),xt.return=it,it=xt;break t}else{a(it,et);break}else n(it,et);et=et.sibling}xt=as(lt,it.mode,xt),xt.return=it,it=xt}return N(it);case J:return Ct=lt._init,lt=Ct(lt._payload),xe(it,et,lt,xt)}if(pt(lt))return Yt(it,et,lt,xt);if(U(lt)){if(Ct=U(lt),typeof Ct!="function")throw Error(s(150));return lt=Ct.call(lt),$t(it,et,lt,xt)}if(typeof lt.then=="function")return xe(it,et,Bu(lt),xt);if(lt.$$typeof===B)return xe(it,et,Su(it,lt),xt);Ru(it,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,et!==null&&et.tag===6?(a(it,et.sibling),xt=m(et,lt),xt.return=it,it=xt):(a(it,et),xt=wl(lt,it.mode,xt),xt.return=it,it=xt),N(it)):a(it,et)}return function(it,et,lt,xt){try{Bl=0;var Ct=xe(it,et,lt,xt);return hs=null,Ct}catch(Pt){if(Pt===Nl||Pt===Tu)throw Pt;var te=Bn(29,Pt,null,it.mode);return te.lanes=xt,te.return=it,te}finally{}}}var ms=jg(!0),kg=jg(!1),Mr=k(null),di=null;function Na(e){var n=e.alternate;Z(tn,tn.current&1),Z(Mr,e),di===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(di=e)}function Cg(e){if(e.tag===22){if(Z(tn,tn.current),Z(Mr,e),di===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(di=e)}}else Ma()}function Ma(){Z(tn,tn.current),Z(Mr,Mr.current)}function zi(e){Y(Mr),di===e&&(di=null),Y(tn)}var tn=k(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wm(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Lh(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bh={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=ur(),m=wa(c);m.payload=n,a!=null&&(m.callback=a),n=Ta(e,m,c),n!==null&&(dr(n,e,c),Dl(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=ur(),m=wa(c);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Ta(e,m,c),n!==null&&(dr(n,e,c),Dl(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ur(),c=wa(a);c.tag=2,n!=null&&(c.callback=n),n=Ta(e,c,a),n!==null&&(dr(n,e,a),Dl(n,e,a))}};function Og(e,n,a,c,m,y,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,y,N):n.prototype&&n.prototype.isPureReactComponent?!Cn(a,c)||!Cn(m,y):!0}function Lg(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Bh.enqueueReplaceState(n,n.state,null)}function Eo(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Bg(e){zu(e)}function Rg(e){console.error(e)}function Pg(e){zu(e)}function Hu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function zg(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rh(e,n,a){return a=wa(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(e,n)},a}function Hg(e){return e=wa(e),e.tag=3,e}function Ig(e,n,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;e.payload=function(){return m(y)},e.callback=function(){zg(n,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){zg(n,a,c),typeof m!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function Y2(e,n,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&_o(n,a,m,!0),a=Mr.current,a!==null){switch(a.tag){case 13:return di===null?om():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===dh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),lm(e,c,m)),!1;case 22:return a.flags|=65536,c===dh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),lm(e,c,m)),!1}throw Error(s(435,a.tag))}return lm(e,c,m),om(),!1}if(qt)return n=Mr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==sn&&(e=Error(s(422),{cause:c}),_a(On(e,a)))):(c!==sn&&(n=Error(s(423),{cause:c}),_a(On(n,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=On(c,a),m=Rh(e.stateNode,c,m),mh(e,m),Ye!==4&&(Ye=2)),!1;var y=Error(s(520),{cause:c});if(y=On(y,a),Gl===null?Gl=[y]:Gl.push(y),Ye!==4&&(Ye=2),n===null)return!0;c=On(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Rh(a.stateNode,c,e),mh(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Hg(m),Ig(m,e,a,c),mh(a,m),!1}a=a.return}while(a!==null);return!1}var $g=Error(s(461)),ln=!1;function yn(e,n,a,c){n.child=e===null?kg(n,null,a,c):ms(n,e.child,a,c)}function Ug(e,n,a,c,m){a=a.render;var y=n.ref;if("ref"in c){var N={};for(var P in c)P!=="ref"&&(N[P]=c[P])}else N=c;return So(n),c=vh(e,n,a,N,y,m),P=xh(),e!==null&&!ln?(_h(e,n,m),Hi(e,n,m)):(qt&&P&&Tt(n),n.flags|=1,yn(e,n,c,m),n.child)}function Gg(e,n,a,c,m){if(e===null){var y=a.type;return typeof y=="function"&&!is(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,Zg(e,n,y,c,m)):(e=yo(a.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!Zh(e,m)){var N=y.memoizedProps;if(a=a.compare,a=a!==null?a:Cn,a(N,c)&&e.ref===n.ref)return Hi(e,n,m)}return n.flags|=1,e=Er(y,c),e.ref=n.ref,e.return=n,n.child=e}function Zg(e,n,a,c,m){if(e!==null){var y=e.memoizedProps;if(Cn(y,c)&&e.ref===n.ref)if(ln=!1,n.pendingProps=c=y,Zh(e,m))(e.flags&131072)!==0&&(ln=!0);else return n.lanes=e.lanes,Hi(e,n,m)}return Ph(e,n,a,c,m)}function Yg(e,n,a){var c=n.pendingProps,m=c.children,y=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=y!==null?y.baseLanes|a:a,e!==null){for(m=n.child=e.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;n.childLanes=y&~c}else n.childLanes=0,n.child=null;return qg(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,y!==null?y.cachePool:null),y!==null?Zp(n,y):gh(),Cg(n);else return n.lanes=n.childLanes=536870912,qg(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(wu(n,y.cachePool),Zp(n,y),Ma(),n.memoizedState=null):(e!==null&&wu(n,null),gh(),Ma());return yn(e,n,m,a),n.child}function qg(e,n,a,c){var m=uh();return m=m===null?null:{parent:Je._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&wu(n,null),gh(),Cg(n),e!==null&&_o(e,n,c,!0),null}function Iu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Ph(e,n,a,c,m){return So(n),a=vh(e,n,a,c,void 0,m),c=xh(),e!==null&&!ln?(_h(e,n,m),Hi(e,n,m)):(qt&&c&&Tt(n),n.flags|=1,yn(e,n,a,m),n.child)}function Vg(e,n,a,c,m,y){return So(n),n.updateQueue=null,a=qp(n,c,a,m),Yp(e),c=xh(),e!==null&&!ln?(_h(e,n,y),Hi(e,n,y)):(qt&&c&&Tt(n),n.flags|=1,yn(e,n,a,y),n.child)}function Fg(e,n,a,c,m){if(So(n),n.stateNode===null){var y=Bi,N=a.contextType;typeof N=="object"&&N!==null&&(y=Nn(N)),y=new a(c,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bh,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=c,y.state=n.memoizedState,y.refs={},fh(n),N=a.contextType,y.context=typeof N=="object"&&N!==null?Nn(N):Bi,y.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(Lh(n,a,N,c),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&Bh.enqueueReplaceState(y,y.state,null),jl(n,c,y,m),Al(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){y=n.stateNode;var P=n.memoizedProps,V=Eo(a,P);y.props=V;var ct=y.context,gt=a.contextType;N=Bi,typeof gt=="object"&&gt!==null&&(N=Nn(gt));var St=a.getDerivedStateFromProps;gt=typeof St=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=n.pendingProps!==P,gt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||ct!==N)&&Lg(n,y,c,N),Sa=!1;var dt=n.memoizedState;y.state=dt,jl(n,c,y,m),Al(),ct=n.memoizedState,P||dt!==ct||Sa?(typeof St=="function"&&(Lh(n,a,St,c),ct=n.memoizedState),(V=Sa||Og(n,a,V,c,dt,ct,N))?(gt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ct),y.props=c,y.state=ct,y.context=N,c=V):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{y=n.stateNode,hh(e,n),N=n.memoizedProps,gt=Eo(a,N),y.props=gt,St=n.pendingProps,dt=y.context,ct=a.contextType,V=Bi,typeof ct=="object"&&ct!==null&&(V=Nn(ct)),P=a.getDerivedStateFromProps,(ct=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==St||dt!==V)&&Lg(n,y,c,V),Sa=!1,dt=n.memoizedState,y.state=dt,jl(n,c,y,m),Al();var ht=n.memoizedState;N!==St||dt!==ht||Sa||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof P=="function"&&(Lh(n,a,P,c),ht=n.memoizedState),(gt=Sa||Og(n,a,gt,c,dt,ht,V)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(ct||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ht,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ht,V)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ht),y.props=c,y.state=ht,y.context=V,c=gt):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&dt===e.memoizedState||(n.flags|=1024),c=!1)}return y=c,Iu(e,n),c=(n.flags&128)!==0,y||c?(y=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&c?(n.child=ms(n,e.child,null,m),n.child=ms(n,null,a,m)):yn(e,n,a,m),n.memoizedState=y.state,e=n.child):e=Hi(e,n,m),e}function Kg(e,n,a,c){return xa(),n.flags|=256,yn(e,n,a,c),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(e){return{baseLanes:e,cachePool:Rp()}}function Ih(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dr),e}function Xg(e,n,a){var c=n.pendingProps,m=!1,y=(n.flags&128)!==0,N;if((N=y)||(N=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(m?Na(n):Ma(),qt){var P=Ot,V;if(V=P){t:{for(V=P,P=Ie;V.nodeType!==8;){if(!P){P=null;break t}if(V=Fr(V.nextSibling),V===null){P=null;break t}}P=V}P!==null?(n.memoizedState={dehydrated:P,treeContext:E!==null?{id:C,overflow:q}:null,retryLane:536870912,hydrationErrors:null},V=Bn(18,null,null,0),V.stateNode=P,V.return=n,n.child=V,kt=n,Ot=null,V=!0):V=!1}V||qn(n)}if(P=n.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return wm(P)?n.lanes=32:n.lanes=536870912,null;zi(n)}return P=c.children,c=c.fallback,m?(Ma(),m=n.mode,P=$u({mode:"hidden",children:P},m),c=ci(c,m,a,null),P.return=n,c.return=n,P.sibling=c,n.child=P,m=n.child,m.memoizedState=Hh(a),m.childLanes=Ih(e,N,a),n.memoizedState=zh,c):(Na(n),$h(n,P))}if(V=e.memoizedState,V!==null&&(P=V.dehydrated,P!==null)){if(y)n.flags&256?(Na(n),n.flags&=-257,n=Uh(e,n,a)):n.memoizedState!==null?(Ma(),n.child=e.child,n.flags|=128,n=null):(Ma(),m=c.fallback,P=n.mode,c=$u({mode:"visible",children:c.children},P),m=ci(m,P,a,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,ms(n,e.child,null,a),c=n.child,c.memoizedState=Hh(a),c.childLanes=Ih(e,N,a),n.memoizedState=zh,n=m);else if(Na(n),wm(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var ct=N.dgst;N=ct,c=Error(s(419)),c.stack="",c.digest=N,_a({value:c,source:null,stack:null}),n=Uh(e,n,a)}else if(ln||_o(e,n,a,!1),N=(a&e.childLanes)!==0,ln||N){if(N=Ae,N!==null&&(c=a&-a,c=(c&42)!==0?1:rl(c),c=(c&(N.suspendedLanes|a))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,ya(e,c),dr(N,e,c),$g;P.data==="$?"||om(),n=Uh(e,n,a)}else P.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=V.treeContext,Ot=Fr(P.nextSibling),kt=n,qt=!0,De=null,Ie=!1,e!==null&&(f[x++]=C,f[x++]=q,f[x++]=E,C=e.id,q=e.overflow,E=n),n=$h(n,c.children),n.flags|=4096);return n}return m?(Ma(),m=c.fallback,P=n.mode,V=e.child,ct=V.sibling,c=Er(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,ct!==null?m=Er(ct,m):(m=ci(m,P,a,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,P=e.child.memoizedState,P===null?P=Hh(a):(V=P.cachePool,V!==null?(ct=Je._currentValue,V=V.parent!==ct?{parent:ct,pool:ct}:V):V=Rp(),P={baseLanes:P.baseLanes|a,cachePool:V}),m.memoizedState=P,m.childLanes=Ih(e,N,a),n.memoizedState=zh,c):(Na(n),a=e.child,e=a.sibling,a=Er(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=a,n.memoizedState=null,a)}function $h(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=Bn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uh(e,n,a){return ms(n,e.child,null,a),e=$h(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wg(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),xo(e.return,n,a)}function Gh(e,n,a,c,m){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=m)}function Qg(e,n,a){var c=n.pendingProps,m=c.revealOrder,y=c.tail;if(yn(e,n,c.children,a),c=tn.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,a,n);else if(e.tag===19)Wg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Z(tn,c),m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Gh(n,!1,m,a,y);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Pu(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Gh(n,!0,a,null,y);break;case"together":Gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ca|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_o(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Er(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Er(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Zh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function q2(e,n,a){switch(n.tag){case 3:yt(n,n.stateNode.containerInfo),ui(n,Je,e.memoizedState.cache),xa();break;case 27:case 5:jt(n);break;case 4:yt(n,n.stateNode.containerInfo);break;case 10:ui(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Na(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xg(e,n,a):(Na(n),e=Hi(e,n,a),e!==null?e.sibling:null);Na(n);break;case 19:var m=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(_o(e,n,a,!1),c=(a&n.childLanes)!==0),m){if(c)return Qg(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(tn,tn.current),c)break;return null;case 22:case 23:return n.lanes=0,Yg(e,n,a);case 24:ui(n,Je,e.memoizedState.cache)}return Hi(e,n,a)}function Jg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ln=!0;else{if(!Zh(e,a)&&(n.flags&128)===0)return ln=!1,q2(e,n,a);ln=(e.flags&131072)!==0}else ln=!1,qt&&(n.flags&1048576)!==0&&mt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")is(c)?(e=Eo(c,e),n.tag=1,n=Fg(null,n,c,e,a)):(n.tag=0,n=Ph(null,n,c,e,a));else{if(c!=null){if(m=c.$$typeof,m===z){n.tag=11,n=Ug(null,n,c,e,a);break t}else if(m===Q){n.tag=14,n=Gg(null,n,c,e,a);break t}}throw n=ft(c)||c,Error(s(306,n,""))}}return n;case 0:return Ph(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,m=Eo(c,n.pendingProps),Fg(e,n,c,m,a);case 3:t:{if(yt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));c=n.pendingProps;var y=n.memoizedState;m=y.element,hh(e,n),jl(n,c,null,a);var N=n.memoizedState;if(c=N.cache,ui(n,Je,c),c!==y.cache&&os(n,[Je],a,!0),Al(),c=N.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Kg(e,n,c,a);break t}else if(c!==m){m=On(Error(s(424)),n),_a(m),n=Kg(e,n,c,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=Fr(e.firstChild),kt=n,qt=!0,De=null,Ie=!0,a=kg(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xa(),c===m){n=Hi(e,n,a);break t}yn(e,n,c,a)}n=n.child}return n;case 26:return Iu(e,n),e===null?(a=ry(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,e=n.pendingProps,c=ed(X.current).createElement(a),c[an]=n,c[wn]=e,xn(c,a,e),Ke(c),n.stateNode=c):n.memoizedState=ry(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jt(n),e===null&&qt&&(c=n.stateNode=ty(n.type,n.pendingProps,X.current),kt=n,Ie=!0,m=Ot,Ra(n.type)?(Tm=m,Ot=Fr(c.firstChild)):Ot=m),yn(e,n,n.pendingProps.children,a),Iu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((m=c=Ot)&&(c=xS(c,n.type,n.pendingProps,Ie),c!==null?(n.stateNode=c,kt=n,Ot=Fr(c.firstChild),Ie=!1,m=!0):m=!1),m||qn(n)),jt(n),m=n.type,y=n.pendingProps,N=e!==null?e.memoizedProps:null,c=y.children,xm(m,y)?c=null:N!==null&&xm(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=vh(e,n,z2,null,null,a),Ql._currentValue=m),Iu(e,n),yn(e,n,c,a),n.child;case 6:return e===null&&qt&&((e=a=Ot)&&(a=_S(a,n.pendingProps,Ie),a!==null?(n.stateNode=a,kt=n,Ot=null,e=!0):e=!1),e||qn(n)),null;case 13:return Xg(e,n,a);case 4:return yt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ms(n,null,c,a):yn(e,n,c,a),n.child;case 11:return Ug(e,n,n.type,n.pendingProps,a);case 7:return yn(e,n,n.pendingProps,a),n.child;case 8:return yn(e,n,n.pendingProps.children,a),n.child;case 12:return yn(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,ui(n,n.type,c.value),yn(e,n,c.children,a),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,So(n),m=Nn(m),c=c(m),n.flags|=1,yn(e,n,c,a),n.child;case 14:return Gg(e,n,n.type,n.pendingProps,a);case 15:return Zg(e,n,n.type,n.pendingProps,a);case 19:return Qg(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=$u(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Er(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Yg(e,n,a);case 24:return So(n),c=Nn(Je),e===null?(m=uh(),m===null&&(m=Ae,y=lh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),n.memoizedState={parent:c,cache:m},fh(n),ui(n,Je,m)):((e.lanes&a)!==0&&(hh(e,n),jl(n,null,null,a),Al()),m=e.memoizedState,y=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),ui(n,Je,c)):(c=y.cache,ui(n,Je,c),c!==m.cache&&os(n,[Je],a,!0))),yn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(e){e.flags|=4}function tb(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ly(n)){if(n=Mr.current,n!==null&&((se&4194048)===se?di!==null:(se&62914560)!==se&&(se&536870912)===0||n!==di))throw Ml=dh,Pp;e.flags|=8192}}function Uu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ir():536870912,e.lanes|=n,ys|=n)}function Pl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function $e(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function V2(e,n,a){var c=n.pendingProps;switch(At(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(n),null;case 1:return $e(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),qr(Je),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vo(n)?Ii(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xu())),$e(n),null;case 26:return a=n.memoizedState,e===null?(Ii(n),a!==null?($e(n),tb(n,a)):($e(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ii(n),$e(n),tb(n,a)):($e(n),n.flags&=-16777217):(e.memoizedProps!==c&&Ii(n),$e(n),n.flags&=-16777217),null;case 27:Ft(n),a=X.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ii(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return $e(n),null}e=$.current,vo(n)?yu(n):(e=ty(m,c,a),n.stateNode=e,Ii(n))}return $e(n),null;case 5:if(Ft(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ii(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return $e(n),null}if(e=$.current,vo(n))yu(n);else{switch(m=ed(X.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(a,{is:c.is}):m.createElement(a)}}e[an]=n,e[wn]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(xn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ii(n)}}return $e(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Ii(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(e=X.current,vo(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,m=kt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[an]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Vb(e.nodeValue,a)),e||qn(n)}else e=ed(e).createTextNode(c),e[an]=n,n.stateNode=e}return $e(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=vo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[an]=n}else xa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$e(n),m=!1}else m=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(zi(n),n):(zi(n),null)}if(zi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Uu(n,n.updateQueue),$e(n),null;case 4:return vt(),e===null&&pm(n.stateNode.containerInfo),$e(n),null;case 10:return qr(n.type),$e(n),null;case 19:if(Y(tn),m=n.memoizedState,m===null)return $e(n),null;if(c=(n.flags&128)!==0,y=m.rendering,y===null)if(c)Pl(m,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Pu(e),y!==null){for(n.flags|=128,Pl(m,!1),e=y.updateQueue,n.updateQueue=e,Uu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Sl(a,e),a=a.sibling;return Z(tn,tn.current&1|2),n.child}e=e.sibling}m.tail!==null&&he()>Yu&&(n.flags|=128,c=!0,Pl(m,!1),n.lanes=4194304)}else{if(!c)if(e=Pu(y),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Uu(n,e),Pl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!qt)return $e(n),null}else 2*he()-m.renderingStartTime>Yu&&a!==536870912&&(n.flags|=128,c=!0,Pl(m,!1),n.lanes=4194304);m.isBackwards?(y.sibling=n.child,n.child=y):(e=m.last,e!==null?e.sibling=y:n.child=y,m.last=y)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=he(),n.sibling=null,e=tn.current,Z(tn,c?e&1|2:e&1),n):($e(n),null);case 22:case 23:return zi(n),bh(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&($e(n),n.subtreeFlags&6&&(n.flags|=8192)):$e(n),a=n.updateQueue,a!==null&&Uu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&Y(wo),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qr(Je),$e(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function F2(e,n){switch(At(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qr(Je),vt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ft(n),null;case 13:if(zi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(tn),null;case 4:return vt(),null;case 10:return qr(n.type),null;case 22:case 23:return zi(n),bh(),e!==null&&Y(wo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qr(Je),null;case 25:return null;default:return null}}function eb(e,n){switch(At(n),n.tag){case 3:qr(Je),vt();break;case 26:case 27:case 5:Ft(n);break;case 4:vt();break;case 13:zi(n);break;case 19:Y(tn);break;case 10:qr(n.type);break;case 22:case 23:zi(n),bh(),e!==null&&Y(wo);break;case 24:qr(Je)}}function zl(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&e)===e){c=void 0;var y=a.create,N=a.inst;c=y(),N.destroy=c}a=a.next}while(a!==m)}}catch(P){we(n,n.return,P)}}function Da(e,n,a){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&e)===e){var N=c.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,m=n;var V=a,ct=P;try{ct()}catch(gt){we(m,V,gt)}}}c=c.next}while(c!==y)}}catch(gt){we(n,n.return,gt)}}function nb(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Gp(n,a)}catch(c){we(e,e.return,c)}}}function rb(e,n,a){a.props=Eo(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){we(e,n,c)}}function Hl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(m){we(e,n,m)}}function fi(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){we(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){we(e,n,m)}else a.current=null}function ib(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){we(e,e.return,m)}}function Yh(e,n,a){try{var c=e.stateNode;pS(c,e.type,a,n),c[wn]=n}catch(m){we(e,e.return,m)}}function ab(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function qh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ab(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vh(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=td));else if(c!==4&&(c===27&&Ra(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Vh(e,n,a),e=e.sibling;e!==null;)Vh(e,n,a),e=e.sibling}function Gu(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&Ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gu(e,n,a),e=e.sibling;e!==null;)Gu(e,n,a),e=e.sibling}function ob(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);xn(n,c,a),n[an]=e,n[wn]=a}catch(y){we(e,e.return,y)}}var $i=!1,Fe=!1,Fh=!1,sb=typeof WeakSet=="function"?WeakSet:Set,cn=null;function K2(e,n){if(e=e.containerInfo,ym=sd,e=fo(e),ho(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var N=0,P=-1,V=-1,ct=0,gt=0,St=e,dt=null;e:for(;;){for(var ht;St!==a||m!==0&&St.nodeType!==3||(P=N+m),St!==y||c!==0&&St.nodeType!==3||(V=N+c),St.nodeType===3&&(N+=St.nodeValue.length),(ht=St.firstChild)!==null;)dt=St,St=ht;for(;;){if(St===e)break e;if(dt===a&&++ct===m&&(P=N),dt===y&&++gt===c&&(V=N),(ht=St.nextSibling)!==null)break;St=dt,dt=St.parentNode}St=ht}a=P===-1||V===-1?null:{start:P,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:e,selectionRange:a},sd=!1,cn=n;cn!==null;)if(n=cn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,cn=e;else for(;cn!==null;){switch(n=cn,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,m=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var Yt=Eo(a.type,m,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Yt,y),c.__reactInternalSnapshotBeforeUpdate=e}catch($t){we(a,a.return,$t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Sm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,cn=e;break}cn=n.return}}function lb(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Aa(e,a),c&4&&zl(5,a);break;case 1:if(Aa(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(N){we(a,a.return,N)}else{var m=Eo(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){we(a,a.return,N)}}c&64&&nb(a),c&512&&Hl(a,a.return);break;case 3:if(Aa(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Gp(e,n)}catch(N){we(a,a.return,N)}}break;case 27:n===null&&c&4&&ob(a);case 26:case 5:Aa(e,a),n===null&&c&4&&ib(a),c&512&&Hl(a,a.return);break;case 12:Aa(e,a);break;case 13:Aa(e,a),c&4&&db(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=iS.bind(null,a),SS(e,a))));break;case 22:if(c=a.memoizedState!==null||$i,!c){n=n!==null&&n.memoizedState!==null||Fe,m=$i;var y=Fe;$i=c,(Fe=n)&&!y?ja(e,a,(a.subtreeFlags&8772)!==0):Aa(e,a),$i=m,Fe=y}break;case 30:break;default:Aa(e,a)}}function cb(e){var n=e.alternate;n!==null&&(e.alternate=null,cb(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$o(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,Fn=!1;function Ui(e,n,a){for(a=a.child;a!==null;)ub(e,n,a),a=a.sibling}function ub(e,n,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Bt,a)}catch{}switch(a.tag){case 26:Fe||fi(a,n),Ui(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||fi(a,n);var c=Be,m=Fn;Ra(a.type)&&(Be=a.stateNode,Fn=!1),Ui(e,n,a),Fl(a.stateNode),Be=c,Fn=m;break;case 5:Fe||fi(a,n);case 6:if(c=Be,m=Fn,Be=null,Ui(e,n,a),Be=c,Fn=m,Be!==null)if(Fn)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(y){we(a,n,y)}else try{Be.removeChild(a.stateNode)}catch(y){we(a,n,y)}break;case 18:Be!==null&&(Fn?(e=Be,Qb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),nc(e)):Qb(Be,a.stateNode));break;case 4:c=Be,m=Fn,Be=a.stateNode.containerInfo,Fn=!0,Ui(e,n,a),Be=c,Fn=m;break;case 0:case 11:case 14:case 15:Fe||Da(2,a,n),Fe||Da(4,a,n),Ui(e,n,a);break;case 1:Fe||(fi(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&rb(a,n,c)),Ui(e,n,a);break;case 21:Ui(e,n,a);break;case 22:Fe=(c=Fe)||a.memoizedState!==null,Ui(e,n,a),Fe=c;break;default:Ui(e,n,a)}}function db(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nc(e)}catch(a){we(n,n.return,a)}}function X2(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sb),n;default:throw Error(s(435,e.tag))}}function Kh(e,n){var a=X2(e);n.forEach(function(c){var m=aS.bind(null,e,c);a.has(c)||(a.add(c),c.then(m,m))})}function sr(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],y=e,N=n,P=N;t:for(;P!==null;){switch(P.tag){case 27:if(Ra(P.type)){Be=P.stateNode,Fn=!1;break t}break;case 5:Be=P.stateNode,Fn=!1;break t;case 3:case 4:Be=P.stateNode.containerInfo,Fn=!0;break t}P=P.return}if(Be===null)throw Error(s(160));ub(y,N,m),Be=null,Fn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)fb(n,e),n=n.sibling}var Vr=null;function fb(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sr(n,e),lr(e),c&4&&(Da(3,e,e.return),zl(3,e),Da(5,e,e.return));break;case 1:sr(n,e),lr(e),c&512&&(Fe||a===null||fi(a,a.return)),c&64&&$i&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=Vr;if(sr(n,e),lr(e),c&512&&(Fe||a===null||fi(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ji]||y[an]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),xn(y,c,a),y[an]=e,Ke(y),c=y;break t;case"link":var N=oy("link","href",m).get(c+(a.href||""));if(N){for(var P=0;P<N.length;P++)if(y=N[P],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(P,1);break e}}y=m.createElement(c),xn(y,c,a),m.head.appendChild(y);break;case"meta":if(N=oy("meta","content",m).get(c+(a.content||""))){for(P=0;P<N.length;P++)if(y=N[P],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(P,1);break e}}y=m.createElement(c),xn(y,c,a),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[an]=e,Ke(y),c=y}e.stateNode=c}else sy(m,e.type,e.stateNode);else e.stateNode=ay(m,c,e.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?sy(m,e.type,e.stateNode):ay(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Yh(e,e.memoizedProps,a.memoizedProps)}break;case 27:sr(n,e),lr(e),c&512&&(Fe||a===null||fi(a,a.return)),a!==null&&c&4&&Yh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(sr(n,e),lr(e),c&512&&(Fe||a===null||fi(a,a.return)),e.flags&32){m=e.stateNode;try{xr(m,"")}catch(ht){we(e,e.return,ht)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Yh(e,m,a!==null?a.memoizedProps:m)),c&1024&&(Fh=!0);break;case 6:if(sr(n,e),lr(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ht){we(e,e.return,ht)}}break;case 3:if(id=null,m=Vr,Vr=nd(n.containerInfo),sr(n,e),Vr=m,lr(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{nc(n.containerInfo)}catch(ht){we(e,e.return,ht)}Fh&&(Fh=!1,hb(e));break;case 4:c=Vr,Vr=nd(e.stateNode.containerInfo),sr(n,e),lr(e),Vr=c;break;case 12:sr(n,e),lr(e);break;case 13:sr(n,e),lr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(em=he()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Kh(e,c)));break;case 22:m=e.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,ct=$i,gt=Fe;if($i=ct||m,Fe=gt||V,sr(n,e),Fe=gt,$i=ct,lr(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||V||$i||Fe||No(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){V=a=n;try{if(y=V.stateNode,m)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=V.stateNode;var St=V.memoizedProps.style,dt=St!=null&&St.hasOwnProperty("display")?St.display:null;P.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(ht){we(V,V.return,ht)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ht){we(V,V.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Kh(e,a))));break;case 19:sr(n,e),lr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Kh(e,c)));break;case 30:break;case 21:break;default:sr(n,e),lr(e)}}function lr(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(ab(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,y=qh(e);Gu(e,y,m);break;case 5:var N=a.stateNode;a.flags&32&&(xr(N,""),a.flags&=-33);var P=qh(e);Gu(e,P,N);break;case 3:case 4:var V=a.stateNode.containerInfo,ct=qh(e);Vh(e,ct,V);break;default:throw Error(s(161))}}catch(gt){we(e,e.return,gt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Aa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lb(e,n.alternate,n),n=n.sibling}function No(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Da(4,n,n.return),No(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&rb(n,n.return,a),No(n);break;case 27:Fl(n.stateNode);case 26:case 5:fi(n,n.return),No(n);break;case 22:n.memoizedState===null&&No(n);break;case 30:No(n);break;default:No(n)}e=e.sibling}}function ja(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,y=n,N=y.flags;switch(y.tag){case 0:case 11:case 15:ja(m,y,a),zl(4,y);break;case 1:if(ja(m,y,a),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ct){we(c,c.return,ct)}if(c=y,m=c.updateQueue,m!==null){var P=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Up(V[m],P)}catch(ct){we(c,c.return,ct)}}a&&N&64&&nb(y),Hl(y,y.return);break;case 27:ob(y);case 26:case 5:ja(m,y,a),a&&c===null&&N&4&&ib(y),Hl(y,y.return);break;case 12:ja(m,y,a);break;case 13:ja(m,y,a),a&&N&4&&db(m,y);break;case 22:y.memoizedState===null&&ja(m,y,a),Hl(y,y.return);break;case 30:break;default:ja(m,y,a)}n=n.sibling}}function Xh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Tl(a))}function Wh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tl(e))}function hi(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mb(e,n,a,c),n=n.sibling}function mb(e,n,a,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:hi(e,n,a,c),m&2048&&zl(9,n);break;case 1:hi(e,n,a,c);break;case 3:hi(e,n,a,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tl(e)));break;case 12:if(m&2048){hi(e,n,a,c),e=n.stateNode;try{var y=n.memoizedProps,N=y.id,P=y.onPostCommit;typeof P=="function"&&P(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){we(n,n.return,V)}}else hi(e,n,a,c);break;case 13:hi(e,n,a,c);break;case 23:break;case 22:y=n.stateNode,N=n.alternate,n.memoizedState!==null?y._visibility&2?hi(e,n,a,c):Il(e,n):y._visibility&2?hi(e,n,a,c):(y._visibility|=2,ps(e,n,a,c,(n.subtreeFlags&10256)!==0)),m&2048&&Xh(N,n);break;case 24:hi(e,n,a,c),m&2048&&Wh(n.alternate,n);break;default:hi(e,n,a,c)}}function ps(e,n,a,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,N=n,P=a,V=c,ct=N.flags;switch(N.tag){case 0:case 11:case 15:ps(y,N,P,V,m),zl(8,N);break;case 23:break;case 22:var gt=N.stateNode;N.memoizedState!==null?gt._visibility&2?ps(y,N,P,V,m):Il(y,N):(gt._visibility|=2,ps(y,N,P,V,m)),m&&ct&2048&&Xh(N.alternate,N);break;case 24:ps(y,N,P,V,m),m&&ct&2048&&Wh(N.alternate,N);break;default:ps(y,N,P,V,m)}n=n.sibling}}function Il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,m=c.flags;switch(c.tag){case 22:Il(a,c),m&2048&&Xh(c.alternate,c);break;case 24:Il(a,c),m&2048&&Wh(c.alternate,c);break;default:Il(a,c)}n=n.sibling}}var $l=8192;function gs(e){if(e.subtreeFlags&$l)for(e=e.child;e!==null;)pb(e),e=e.sibling}function pb(e){switch(e.tag){case 26:gs(e),e.flags&$l&&e.memoizedState!==null&&BS(Vr,e.memoizedState,e.memoizedProps);break;case 5:gs(e);break;case 3:case 4:var n=Vr;Vr=nd(e.stateNode.containerInfo),gs(e),Vr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=$l,$l=16777216,gs(e),$l=n):gs(e));break;default:gs(e)}}function gb(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];cn=c,yb(c,e)}gb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bb(e),e=e.sibling}function bb(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&Da(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):Ul(e);break;default:Ul(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];cn=c,yb(c,e)}gb(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Da(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function yb(e,n){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:Da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,cn=c;else t:for(a=e;cn!==null;){c=cn;var m=c.sibling,y=c.return;if(cb(c),c===a){cn=null;break t}if(m!==null){m.return=y,cn=m;break t}cn=y}}}var W2={getCacheForType:function(e){var n=Nn(Je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Q2=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ae=null,ee=null,se=0,be=0,cr=null,ka=!1,bs=!1,Qh=!1,Gi=0,Ye=0,Ca=0,Mo=0,Jh=0,Dr=0,ys=0,Gl=null,Kn=null,tm=!1,em=0,Yu=1/0,qu=null,Oa=null,vn=0,La=null,vs=null,xs=0,nm=0,rm=null,vb=null,Zl=0,im=null;function ur(){if((ge&2)!==0&&se!==0)return se&-se;if(K.T!==null){var e=ss;return e!==0?e:dm()}return Vc()}function xb(){Dr===0&&(Dr=(se&536870912)===0||qt?Qa():536870912);var e=Mr.current;return e!==null&&(e.flags|=32),Dr}function dr(e,n,a){(e===Ae&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(_s(e,0),Ba(e,se,Dr,!1)),gi(e,a),((ge&2)===0||e!==Ae)&&(e===Ae&&((ge&2)===0&&(Mo|=a),Ye===4&&Ba(e,se,Dr,!1)),mi(e))}function _b(e,n,a){if((ge&6)!==0)throw Error(s(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Un(e,n),m=c?eS(e,n):sm(e,n,!0),y=c;do{if(m===0){bs&&!c&&Ba(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!J2(a)){m=sm(e,n,!1),y=!1;continue}if(m===2){if(y=n,e.errorRecoveryDisabledLanes&y)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var P=e;m=Gl;var V=P.current.memoizedState.isDehydrated;if(V&&(_s(P,N).flags|=256),N=sm(P,N,!1),N!==2){if(Qh&&!V){P.errorRecoveryDisabledLanes|=y,Mo|=y,m=4;break t}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=N}if(y=!1,m!==2)continue}}if(m===1){_s(e,0),Ba(e,n,0,!0);break}t:{switch(c=e,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ba(c,n,Dr,!ka);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(m=em+300-he(),10<m)){if(Ba(c,n,Dr,!ka),Hr(c,0,!0)!==0)break t;c.timeoutHandle=Xb(Sb.bind(null,c,a,Kn,qu,tm,n,Dr,Mo,ys,ka,y,2,-0,0),m);break t}Sb(c,a,Kn,qu,tm,n,Dr,Mo,ys,ka,y,0,-0,0)}}break}while(!0);mi(e)}function Sb(e,n,a,c,m,y,N,P,V,ct,gt,St,dt,ht){if(e.timeoutHandle=-1,St=n.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:LS},pb(n),St=RS(),St!==null)){e.cancelPendingCommit=St(Ab.bind(null,e,n,y,a,c,m,N,P,V,gt,1,dt,ht)),Ba(e,y,N,!ct);return}Ab(e,n,y,a,c,m,N,P,V)}function J2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],y=m.getSnapshot;m=m.value;try{if(!kn(y(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ba(e,n,a,c){n&=~Jh,n&=~Mo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var y=31-ae(m),N=1<<y;c[y]=-1,m&=~N}a!==0&&Ja(e,a,n)}function Vu(){return(ge&6)===0?(Yl(0),!1):!0}function am(){if(ee!==null){if(be===0)var e=ee.return;else e=ee,Yr=Nr=null,Sh(e),hs=null,Bl=0,e=ee;for(;e!==null;)eb(e.alternate,e),e=e.return;ee=null}}function _s(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),am(),Ae=e,ee=a=Er(e.current,null),se=n,be=0,cr=null,ka=!1,bs=Un(e,n),Qh=!1,ys=Dr=Jh=Mo=Ca=Ye=0,Kn=Gl=null,tm=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-ae(c),y=1<<m;n|=e[m],c&=~y}return Gi=n,po(),a}function wb(e,n){Qt=null,K.H=Lu,n===Nl||n===Tu?(n=Ip(),be=3):n===Pp?(n=Ip(),be=4):be=n===$g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cr=n,ee===null&&(Ye=1,Hu(e,On(n,e.current)))}function Tb(){var e=K.H;return K.H=Lu,e===null?Lu:e}function Eb(){var e=K.A;return K.A=W2,e}function om(){Ye=4,ka||(se&4194048)!==se&&Mr.current!==null||(bs=!0),(Ca&134217727)===0&&(Mo&134217727)===0||Ae===null||Ba(Ae,se,Dr,!1)}function sm(e,n,a){var c=ge;ge|=2;var m=Tb(),y=Eb();(Ae!==e||se!==n)&&(qu=null,_s(e,n)),n=!1;var N=Ye;t:do try{if(be!==0&&ee!==null){var P=ee,V=cr;switch(be){case 8:am(),N=6;break t;case 3:case 2:case 9:case 6:Mr.current===null&&(n=!0);var ct=be;if(be=0,cr=null,Ss(e,P,V,ct),a&&bs){N=0;break t}break;default:ct=be,be=0,cr=null,Ss(e,P,V,ct)}}tS(),N=Ye;break}catch(gt){wb(e,gt)}while(!0);return n&&e.shellSuspendCounter++,Yr=Nr=null,ge=c,K.H=m,K.A=y,ee===null&&(Ae=null,se=0,po()),N}function tS(){for(;ee!==null;)Nb(ee)}function eS(e,n){var a=ge;ge|=2;var c=Tb(),m=Eb();Ae!==e||se!==n?(qu=null,Yu=he()+500,_s(e,n)):bs=Un(e,n);t:do try{if(be!==0&&ee!==null){n=ee;var y=cr;e:switch(be){case 1:be=0,cr=null,Ss(e,n,y,1);break;case 2:case 9:if(zp(y)){be=0,cr=null,Mb(n);break}n=function(){be!==2&&be!==9||Ae!==e||(be=7),mi(e)},y.then(n,n);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:zp(y)?(be=0,cr=null,Mb(n)):(be=0,cr=null,Ss(e,n,y,7));break;case 5:var N=null;switch(ee.tag){case 26:N=ee.memoizedState;case 5:case 27:var P=ee;if(!N||ly(N)){be=0,cr=null;var V=P.sibling;if(V!==null)ee=V;else{var ct=P.return;ct!==null?(ee=ct,Fu(ct)):ee=null}break e}}be=0,cr=null,Ss(e,n,y,5);break;case 6:be=0,cr=null,Ss(e,n,y,6);break;case 8:am(),Ye=6;break t;default:throw Error(s(462))}}nS();break}catch(gt){wb(e,gt)}while(!0);return Yr=Nr=null,K.H=c,K.A=m,ge=a,ee!==null?0:(Ae=null,se=0,po(),Ye)}function nS(){for(;ee!==null&&!Pe();)Nb(ee)}function Nb(e){var n=Jg(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Fu(e):ee=n}function Mb(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Vg(a,n,n.pendingProps,n.type,void 0,se);break;case 11:n=Vg(a,n,n.pendingProps,n.type.render,n.ref,se);break;case 5:Sh(n);default:eb(a,n),n=ee=Sl(n,Gi),n=Jg(a,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Fu(e):ee=n}function Ss(e,n,a,c){Yr=Nr=null,Sh(n),hs=null,Bl=0;var m=n.return;try{if(Y2(e,m,n,a,se)){Ye=1,Hu(e,On(a,e.current)),ee=null;return}}catch(y){if(m!==null)throw ee=m,y;Ye=1,Hu(e,On(a,e.current)),ee=null;return}n.flags&32768?(qt||c===1?e=!0:bs||(se&536870912)!==0?e=!1:(ka=e=!0,(c===2||c===9||c===3||c===6)&&(c=Mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Db(n,e)):Fu(n)}function Fu(e){var n=e;do{if((n.flags&32768)!==0){Db(n,ka);return}e=n.return;var a=V2(n.alternate,n,Gi);if(a!==null){ee=a;return}if(n=n.sibling,n!==null){ee=n;return}ee=n=e}while(n!==null);Ye===0&&(Ye=5)}function Db(e,n){do{var a=F2(e.alternate,e);if(a!==null){a.flags&=32767,ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ee=e;return}ee=e=a}while(e!==null);Ye=6,ee=null}function Ab(e,n,a,c,m,y,N,P,V){e.cancelPendingCommit=null;do Ku();while(vn!==0);if((ge&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(y=n.lanes|n.childLanes,y|=or,nl(e,a,y,N,P,V),e===Ae&&(ee=Ae=null,se=0),vs=n,La=e,xs=a,nm=y,rm=m,vb=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oS(_t,function(){return Lb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,m=st.p,st.p=2,N=ge,ge|=4;try{K2(e,n,a)}finally{ge=N,st.p=m,K.T=c}}vn=1,jb(),kb(),Cb()}}function jb(){if(vn===1){vn=0;var e=La,n=vs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var c=st.p;st.p=2;var m=ge;ge|=4;try{fb(n,e);var y=vm,N=fo(e.containerInfo),P=y.focusedElem,V=y.selectionRange;if(N!==P&&P&&P.ownerDocument&&Jo(P.ownerDocument.documentElement,P)){if(V!==null&&ho(P)){var ct=V.start,gt=V.end;if(gt===void 0&&(gt=ct),"selectionStart"in P)P.selectionStart=ct,P.selectionEnd=Math.min(gt,P.value.length);else{var St=P.ownerDocument||document,dt=St&&St.defaultView||window;if(dt.getSelection){var ht=dt.getSelection(),Yt=P.textContent.length,$t=Math.min(V.start,Yt),xe=V.end===void 0?$t:Math.min(V.end,Yt);!ht.extend&&$t>xe&&(N=xe,xe=$t,$t=N);var it=xl(P,$t),et=xl(P,xe);if(it&&et&&(ht.rangeCount!==1||ht.anchorNode!==it.node||ht.anchorOffset!==it.offset||ht.focusNode!==et.node||ht.focusOffset!==et.offset)){var lt=St.createRange();lt.setStart(it.node,it.offset),ht.removeAllRanges(),$t>xe?(ht.addRange(lt),ht.extend(et.node,et.offset)):(lt.setEnd(et.node,et.offset),ht.addRange(lt))}}}}for(St=[],ht=P;ht=ht.parentNode;)ht.nodeType===1&&St.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<St.length;P++){var xt=St[P];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}sd=!!ym,vm=ym=null}finally{ge=m,st.p=c,K.T=a}}e.current=n,vn=2}}function kb(){if(vn===2){vn=0;var e=La,n=vs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var c=st.p;st.p=2;var m=ge;ge|=4;try{lb(e,n.alternate,n)}finally{ge=m,st.p=c,K.T=a}}vn=3}}function Cb(){if(vn===4||vn===3){vn=0,Oe();var e=La,n=vs,a=xs,c=vb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,vs=La=null,Ob(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Oa=null),il(a),n=n.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Bt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=K.T,m=st.p,st.p=2,K.T=null;try{for(var y=e.onRecoverableError,N=0;N<c.length;N++){var P=c[N];y(P.value,{componentStack:P.stack})}}finally{K.T=n,st.p=m}}(xs&3)!==0&&Ku(),mi(e),m=e.pendingLanes,(a&4194090)!==0&&(m&42)!==0?e===im?Zl++:(Zl=0,im=e):Zl=0,Yl(0)}}function Ob(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Tl(n)))}function Ku(e){return jb(),kb(),Cb(),Lb()}function Lb(){if(vn!==5)return!1;var e=La,n=nm;nm=0;var a=il(xs),c=K.T,m=st.p;try{st.p=32>a?32:a,K.T=null,a=rm,rm=null;var y=La,N=xs;if(vn=0,vs=La=null,xs=0,(ge&6)!==0)throw Error(s(331));var P=ge;if(ge|=4,bb(y.current),mb(y,y.current,N,a),ge=P,Yl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Bt,y)}catch{}return!0}finally{st.p=m,K.T=c,Ob(e,n)}}function Bb(e,n,a){n=On(a,n),n=Rh(e.stateNode,n,2),e=Ta(e,n,2),e!==null&&(gi(e,2),mi(e))}function we(e,n,a){if(e.tag===3)Bb(e,e,a);else for(;n!==null;){if(n.tag===3){Bb(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Oa===null||!Oa.has(c))){e=On(a,e),a=Hg(2),c=Ta(n,a,2),c!==null&&(Ig(a,c,n,e),gi(c,2),mi(c));break}}n=n.return}}function lm(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Q2;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(a)||(Qh=!0,m.add(a),e=rS.bind(null,e,n,a),n.then(e,e))}function rS(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ae===e&&(se&a)===a&&(Ye===4||Ye===3&&(se&62914560)===se&&300>he()-em?(ge&2)===0&&_s(e,0):Jh|=a,ys===se&&(ys=0)),mi(e)}function Rb(e,n){n===0&&(n=Ir()),e=ya(e,n),e!==null&&(gi(e,n),mi(e))}function iS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Rb(e,a)}function aS(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),Rb(e,a)}function oS(e,n){return ie(e,n)}var Xu=null,ws=null,cm=!1,Wu=!1,um=!1,Do=0;function mi(e){e!==ws&&e.next===null&&(ws===null?Xu=ws=e:ws=ws.next=e),Wu=!0,cm||(cm=!0,lS())}function Yl(e,n){if(!um&&Wu){um=!0;do for(var a=!1,c=Xu;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var N=c.suspendedLanes,P=c.pingedLanes;y=(1<<31-ae(42|e)+1)-1,y&=m&~(N&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Ib(c,y))}else y=se,y=Hr(c,c===Ae?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Un(c,y)||(a=!0,Ib(c,y));c=c.next}while(a);um=!1}}function sS(){Pb()}function Pb(){Wu=cm=!1;var e=0;Do!==0&&(gS()&&(e=Do),Do=0);for(var n=he(),a=null,c=Xu;c!==null;){var m=c.next,y=zb(c,n);y===0?(c.next=null,a===null?Xu=m:a.next=m,m===null&&(ws=a)):(a=c,(e!==0||(y&3)!==0)&&(Wu=!0)),c=m}Yl(e)}function zb(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var N=31-ae(y),P=1<<N,V=m[N];V===-1?((P&a)===0||(P&c)!==0)&&(m[N]=el(P,n)):V<=n&&(e.expiredLanes|=P),y&=~P}if(n=Ae,a=se,a=Hr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ce(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Un(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&ce(c),il(a)){case 2:case 8:a=Lt;break;case 32:a=_t;break;case 268435456:a=It;break;default:a=_t}return c=Hb.bind(null,e),a=ie(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&ce(c),e.callbackPriority=2,e.callbackNode=null,2}function Hb(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ku()&&e.callbackNode!==a)return null;var c=se;return c=Hr(e,e===Ae?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(_b(e,c,n),zb(e,he()),e.callbackNode!=null&&e.callbackNode===a?Hb.bind(null,e):null)}function Ib(e,n){if(Ku())return null;_b(e,n,!0)}function lS(){yS(function(){(ge&6)!==0?ie(wt,sS):Pb()})}function dm(){return Do===0&&(Do=Qa()),Do}function $b(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Ub(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function cS(e,n,a,c,m){if(n==="submit"&&a&&a.stateNode===m){var y=$b((m[wn]||null).action),N=c.submitter;N&&(n=(n=N[wn]||null)?$b(n.formAction):N.getAttribute("formAction"),n!==null&&(y=n,N=null));var P=new oo("action","action",null,c,m);e.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Do!==0){var V=N?Ub(m,N):new FormData(m);kh(a,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(P.preventDefault(),V=N?Ub(m,N):new FormData(m),kh(a,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var fm=0;fm<Ci.length;fm++){var hm=Ci[fm],uS=hm.toLowerCase(),dS=hm[0].toUpperCase()+hm.slice(1);ar(uS,"on"+dS)}ar(pu,"onAnimationEnd"),ar(ir,"onAnimationIteration"),ar(mo,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(oh,"onTransitionRun"),ar(rs,"onTransitionStart"),ar(sh,"onTransitionCancel"),ar(_l,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Gb(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],m=c.event;c=c.listeners;t:{var y=void 0;if(n)for(var N=c.length-1;0<=N;N--){var P=c[N],V=P.instance,ct=P.currentTarget;if(P=P.listener,V!==y&&m.isPropagationStopped())break t;y=P,m.currentTarget=ct;try{y(m)}catch(gt){zu(gt)}m.currentTarget=null,y=V}else for(N=0;N<c.length;N++){if(P=c[N],V=P.instance,ct=P.currentTarget,P=P.listener,V!==y&&m.isPropagationStopped())break t;y=P,m.currentTarget=ct;try{y(m)}catch(gt){zu(gt)}m.currentTarget=null,y=V}}}}function ne(e,n){var a=n[Zn];a===void 0&&(a=n[Zn]=new Set);var c=e+"__bubble";a.has(c)||(Zb(n,e,2,!1),a.add(c))}function mm(e,n,a){var c=0;n&&(c|=4),Zb(a,e,c,n)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function pm(e){if(!e[Qu]){e[Qu]=!0,Kc.forEach(function(a){a!=="selectionchange"&&(fS.has(a)||mm(a,!1,e),mm(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Qu]||(n[Qu]=!0,mm("selectionchange",!1,n))}}function Zb(e,n,a,c){switch(my(n)){case 2:var m=HS;break;case 8:m=IS;break;default:m=Am}a=m.bind(null,n,a,e),m=void 0,!ao||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function gm(e,n,a,c,m){var y=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var P=c.stateNode.containerInfo;if(P===m)break;if(N===4)for(N=c.return;N!==null;){var V=N.tag;if((V===3||V===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;P!==null;){if(N=ri(P),N===null)return;if(V=N.tag,V===5||V===6||V===26||V===27){c=y=N;continue t}P=P.parentNode}}c=c.return}tr(function(){var ct=y,gt=oa(a),St=[];t:{var dt=gu.get(e);if(dt!==void 0){var ht=oo,Yt=e;switch(e){case"keypress":if(Ze(a)===0)break t;case"keydown":case"keyup":ht=Qf;break;case"focusin":Yt="focus",ht=dl;break;case"focusout":Yt="blur",ht=dl;break;case"beforeblur":case"afterblur":ht=dl;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=th;break;case pu:case ir:case mo:ht=Ff;break;case _l:ht=eh;break;case"scroll":case"scrollend":ht=qf;break;case"wheel":ht=ou;break;case"copy":case"cut":case"paste":ht=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=ml;break;case"toggle":case"beforetoggle":ht=Di}var $t=(n&4)!==0,xe=!$t&&(e==="scroll"||e==="scrollend"),it=$t?dt!==null?dt+"Capture":null:dt;$t=[];for(var et=ct,lt;et!==null;){var xt=et;if(lt=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||lt===null||it===null||(xt=de(et,it),xt!=null&&$t.push(Vl(et,xt,lt))),xe)break;et=et.return}0<$t.length&&(dt=new ht(dt,Yt,null,a,gt),St.push({event:dt,listeners:$t}))}}if((n&7)===0){t:{if(dt=e==="mouseover"||e==="pointerover",ht=e==="mouseout"||e==="pointerout",dt&&a!==io&&(Yt=a.relatedTarget||a.fromElement)&&(ri(Yt)||Yt[Qi]))break t;if((ht||dt)&&(dt=gt.window===gt?gt:(dt=gt.ownerDocument)?dt.defaultView||dt.parentWindow:window,ht?(Yt=a.relatedTarget||a.toElement,ht=ct,Yt=Yt?ri(Yt):null,Yt!==null&&(xe=d(Yt),$t=Yt.tag,Yt!==xe||$t!==5&&$t!==27&&$t!==6)&&(Yt=null)):(ht=null,Yt=ct),ht!==Yt)){if($t=ca,xt="onMouseLeave",it="onMouseEnter",et="mouse",(e==="pointerout"||e==="pointerover")&&($t=ml,xt="onPointerLeave",it="onPointerEnter",et="pointer"),xe=ht==null?dt:vr(ht),lt=Yt==null?dt:vr(Yt),dt=new $t(xt,et+"leave",ht,a,gt),dt.target=xe,dt.relatedTarget=lt,xt=null,ri(gt)===ct&&($t=new $t(it,et+"enter",Yt,a,gt),$t.target=lt,$t.relatedTarget=xe,xt=$t),xe=xt,ht&&Yt)e:{for($t=ht,it=Yt,et=0,lt=$t;lt;lt=Ts(lt))et++;for(lt=0,xt=it;xt;xt=Ts(xt))lt++;for(;0<et-lt;)$t=Ts($t),et--;for(;0<lt-et;)it=Ts(it),lt--;for(;et--;){if($t===it||it!==null&&$t===it.alternate)break e;$t=Ts($t),it=Ts(it)}$t=null}else $t=null;ht!==null&&Yb(St,dt,ht,$t,!1),Yt!==null&&xe!==null&&Yb(St,xe,Yt,$t,!0)}}t:{if(dt=ct?vr(ct):window,ht=dt.nodeName&&dt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&dt.type==="file")var Ct=fa;else if(ji(dt))if(bl)Ct=ah;else{Ct=ih;var te=vl}else ht=dt.nodeName,!ht||ht.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ct&&ro(ct.elementType)&&(Ct=fa):Ct=Zr;if(Ct&&(Ct=Ct(e,ct))){du(St,Ct,a,gt);break t}te&&te(e,dt,ct),e==="focusout"&&ct&&dt.type==="number"&&ct.memoizedProps.value!=null&&ra(dt,"number",dt.value)}switch(te=ct?vr(ct):window,e){case"focusin":(ji(te)||te.contentEditable==="true")&&(rr=te,pa=ct,ki=null);break;case"focusout":ki=pa=rr=null;break;case"mousedown":es=!0;break;case"contextmenu":case"mouseup":case"dragend":es=!1,hu(St,a,gt);break;case"selectionchange":if(ts)break;case"keydown":case"keyup":hu(St,a,gt)}var Pt;if(Ai)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ua?Wo(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(gl&&a.locale!=="ko"&&(ua||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ua&&(Pt=la()):(Sr=gt,Ur="value"in Sr?Sr.value:Sr.textContent,ua=!0)),te=Ju(ct,Ut),0<te.length&&(Ut=new er(Ut,e,null,a,gt),St.push({event:Ut,listeners:te}),Pt?Ut.data=Pt:(Pt=cu(a),Pt!==null&&(Ut.data=Pt)))),(Pt=su?uu(e,a):rh(e,a))&&(Ut=Ju(ct,"onBeforeInput"),0<Ut.length&&(te=new er("onBeforeInput","beforeinput",null,a,gt),St.push({event:te,listeners:Ut}),te.data=Pt)),cS(St,e,ct,a,gt)}Gb(St,n)})}function Vl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ju(e,n){for(var a=n+"Capture",c=[];e!==null;){var m=e,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=de(e,a),m!=null&&c.unshift(Vl(e,m,y)),m=de(e,n),m!=null&&c.push(Vl(e,m,y))),e.tag===3)return c;e=e.return}return[]}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yb(e,n,a,c,m){for(var y=n._reactName,N=[];a!==null&&a!==c;){var P=a,V=P.alternate,ct=P.stateNode;if(P=P.tag,V!==null&&V===c)break;P!==5&&P!==26&&P!==27||ct===null||(V=ct,m?(ct=de(a,y),ct!=null&&N.unshift(Vl(a,ct,V))):m||(ct=de(a,y),ct!=null&&N.push(Vl(a,ct,V)))),a=a.return}N.length!==0&&e.push({event:n,listeners:N})}var hS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function qb(e){return(typeof e=="string"?e:""+e).replace(hS,`
`).replace(mS,"")}function Vb(e,n){return n=qb(n),qb(e)===n}function td(){}function ve(e,n,a,c,m,y){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||xr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&xr(e,""+c);break;case"className":Go(e,"class",c);break;case"tabIndex":Go(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Go(e,a,c);break;case"style":ia(e,c,y);break;case"data":if(n!=="object"){Go(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=aa(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&ve(e,n,"name",m.name,m,null),ve(e,n,"formEncType",m.formEncType,m,null),ve(e,n,"formMethod",m.formMethod,m,null),ve(e,n,"formTarget",m.formTarget,m,null)):(ve(e,n,"encType",m.encType,m,null),ve(e,n,"method",m.method,m,null),ve(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=aa(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=td);break;case"onScroll":c!=null&&ne("scroll",e);break;case"onScrollEnd":c!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":ne("beforetoggle",e),ne("toggle",e),Uo(e,"popover",c);break;case"xlinkActuate":$r(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":$r(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":$r(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":$r(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":$r(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":$r(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":$r(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":$r(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":$r(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Uo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ll.get(a)||a,Uo(e,a,c))}}function bm(e,n,a,c,m,y){switch(a){case"style":ia(e,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof c=="string"?xr(e,c):(typeof c=="number"||typeof c=="bigint")&&xr(e,""+c);break;case"onScroll":c!=null&&ne("scroll",e);break;case"onScrollEnd":c!=null&&ne("scrollend",e);break;case"onClick":c!=null&&(e.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),y=e[wn]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,m);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Uo(e,a,c)}}}function xn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var c=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var N=a[y];if(N!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,y,N,a,null)}}m&&ve(e,n,"srcSet",a.srcSet,a,null),c&&ve(e,n,"src",a.src,a,null);return;case"input":ne("invalid",e);var P=y=N=m=null,V=null,ct=null;for(c in a)if(a.hasOwnProperty(c)){var gt=a[c];if(gt!=null)switch(c){case"name":m=gt;break;case"type":N=gt;break;case"checked":V=gt;break;case"defaultChecked":ct=gt;break;case"value":y=gt;break;case"defaultValue":P=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(s(137,n));break;default:ve(e,n,c,gt,a,null)}}Qc(e,y,P,V,ct,N,m,!1),na(e);return;case"select":ne("invalid",e),c=N=y=null;for(m in a)if(a.hasOwnProperty(m)&&(P=a[m],P!=null))switch(m){case"value":y=P;break;case"defaultValue":N=P;break;case"multiple":c=P;default:ve(e,n,m,P,a,null)}n=y,a=N,e.multiple=!!c,n!=null?Yn(e,!!c,n,!1):a!=null&&Yn(e,!!c,a,!0);return;case"textarea":ne("invalid",e),y=m=c=null;for(N in a)if(a.hasOwnProperty(N)&&(P=a[N],P!=null))switch(N){case"value":c=P;break;case"defaultValue":m=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:ve(e,n,N,P,a,null)}ii(e,c,m,y),na(e);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(c=a[V],c!=null))switch(V){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ve(e,n,V,c,a,null)}return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(c=0;c<ql.length;c++)ne(ql[c],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in a)if(a.hasOwnProperty(ct)&&(c=a[ct],c!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,ct,c,a,null)}return;default:if(ro(n)){for(gt in a)a.hasOwnProperty(gt)&&(c=a[gt],c!==void 0&&bm(e,n,gt,c,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(c=a[P],c!=null&&ve(e,n,P,c,a,null))}function pS(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,N=null,P=null,V=null,ct=null,gt=null;for(ht in a){var St=a[ht];if(a.hasOwnProperty(ht)&&St!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":V=St;default:c.hasOwnProperty(ht)||ve(e,n,ht,null,c,St)}}for(var dt in c){var ht=c[dt];if(St=a[dt],c.hasOwnProperty(dt)&&(ht!=null||St!=null))switch(dt){case"type":y=ht;break;case"name":m=ht;break;case"checked":ct=ht;break;case"defaultChecked":gt=ht;break;case"value":N=ht;break;case"defaultValue":P=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(s(137,n));break;default:ht!==St&&ve(e,n,dt,ht,c,St)}}Tn(e,N,P,V,ct,gt,y,m);return;case"select":ht=N=P=dt=null;for(y in a)if(V=a[y],a.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":ht=V;default:c.hasOwnProperty(y)||ve(e,n,y,null,c,V)}for(m in c)if(y=c[m],V=a[m],c.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":dt=y;break;case"defaultValue":P=y;break;case"multiple":N=y;default:y!==V&&ve(e,n,m,y,c,V)}n=P,a=N,c=ht,dt!=null?Yn(e,!!a,dt,!1):!!c!=!!a&&(n!=null?Yn(e,!!a,n,!0):Yn(e,!!a,a?[]:"",!1));return;case"textarea":ht=dt=null;for(P in a)if(m=a[P],a.hasOwnProperty(P)&&m!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ve(e,n,P,null,c,m)}for(N in c)if(m=c[N],y=a[N],c.hasOwnProperty(N)&&(m!=null||y!=null))switch(N){case"value":dt=m;break;case"defaultValue":ht=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&ve(e,n,N,m,c,y)}He(e,dt,ht);return;case"option":for(var Yt in a)if(dt=a[Yt],a.hasOwnProperty(Yt)&&dt!=null&&!c.hasOwnProperty(Yt))switch(Yt){case"selected":e.selected=!1;break;default:ve(e,n,Yt,null,c,dt)}for(V in c)if(dt=c[V],ht=a[V],c.hasOwnProperty(V)&&dt!==ht&&(dt!=null||ht!=null))switch(V){case"selected":e.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:ve(e,n,V,dt,c,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in a)dt=a[$t],a.hasOwnProperty($t)&&dt!=null&&!c.hasOwnProperty($t)&&ve(e,n,$t,null,c,dt);for(ct in c)if(dt=c[ct],ht=a[ct],c.hasOwnProperty(ct)&&dt!==ht&&(dt!=null||ht!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(s(137,n));break;default:ve(e,n,ct,dt,c,ht)}return;default:if(ro(n)){for(var xe in a)dt=a[xe],a.hasOwnProperty(xe)&&dt!==void 0&&!c.hasOwnProperty(xe)&&bm(e,n,xe,void 0,c,dt);for(gt in c)dt=c[gt],ht=a[gt],!c.hasOwnProperty(gt)||dt===ht||dt===void 0&&ht===void 0||bm(e,n,gt,dt,c,ht);return}}for(var it in a)dt=a[it],a.hasOwnProperty(it)&&dt!=null&&!c.hasOwnProperty(it)&&ve(e,n,it,null,c,dt);for(St in c)dt=c[St],ht=a[St],!c.hasOwnProperty(St)||dt===ht||dt==null&&ht==null||ve(e,n,St,dt,c,ht)}var ym=null,vm=null;function ed(e){return e.nodeType===9?e:e.ownerDocument}function Fb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function xm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _m=null;function gS(){var e=window.event;return e&&e.type==="popstate"?e===_m?!1:(_m=e,!0):(_m=null,!1)}var Xb=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(e){return Wb.resolve(null).then(e).catch(vS)}:Xb;function vS(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function Qb(e,n){var a=n,c=0,m=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<c&&8>c){a=c;var N=e.ownerDocument;if(a&1&&Fl(N.documentElement),a&2&&Fl(N.body),a&4)for(a=N.head,Fl(a),N=a.firstChild;N;){var P=N.nextSibling,V=N.nodeName;N[Ji]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=P}}if(m===0){e.removeChild(y),nc(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:c=a.charCodeAt(0)-48;else c=0;a=y}while(a);nc(n)}function Sm(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),$o(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xS(e,n,a,c){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Fr(e.nextSibling),e===null)break}return null}function _S(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fr(e.nextSibling),e===null))return null;return e}function wm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function SS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Fr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Tm=null;function Jb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function ty(e,n,a){switch(n=ed(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$o(e)}var Ar=new Map,ey=new Set;function nd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=st.d;st.d={f:wS,r:TS,D:ES,C:NS,L:MS,m:DS,X:jS,S:AS,M:kS};function wS(){var e=Zi.f(),n=Vu();return e||n}function TS(e){var n=bi(e);n!==null&&n.tag===5&&n.type==="form"?_g(n):Zi.r(e)}var Es=typeof document>"u"?null:document;function ny(e,n,a){var c=Es;if(c&&typeof n=="string"&&n){var m=gn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),ey.has(m)||(ey.add(m),e={rel:e,crossOrigin:a,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),xn(n,"link",e),Ke(n),c.head.appendChild(n)))}}function ES(e){Zi.D(e),ny("dns-prefetch",e,null)}function NS(e,n){Zi.C(e,n),ny("preconnect",e,n)}function MS(e,n,a){Zi.L(e,n,a);var c=Es;if(c&&e&&n){var m='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+gn(a.imageSizes)+'"]')):m+='[href="'+gn(e)+'"]';var y=m;switch(n){case"style":y=Ns(e);break;case"script":y=Ms(e)}Ar.has(y)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ar.set(y,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(Kl(y))||n==="script"&&c.querySelector(Xl(y))||(n=c.createElement("link"),xn(n,"link",e),Ke(n),c.head.appendChild(n)))}}function DS(e,n){Zi.m(e,n);var a=Es;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(e)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ms(e)}if(!Ar.has(y)&&(e=w({rel:"modulepreload",href:e},n),Ar.set(y,e),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(y)))return}c=a.createElement("link"),xn(c,"link",e),Ke(c),a.head.appendChild(c)}}}function AS(e,n,a){Zi.S(e,n,a);var c=Es;if(c&&e){var m=yi(c).hoistableStyles,y=Ns(e);n=n||"default";var N=m.get(y);if(!N){var P={loading:0,preload:null};if(N=c.querySelector(Kl(y)))P.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ar.get(y))&&Em(e,a);var V=N=c.createElement("link");Ke(V),xn(V,"link",e),V._p=new Promise(function(ct,gt){V.onload=ct,V.onerror=gt}),V.addEventListener("load",function(){P.loading|=1}),V.addEventListener("error",function(){P.loading|=2}),P.loading|=4,rd(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:P},m.set(y,N)}}}function jS(e,n){Zi.X(e,n);var a=Es;if(a&&e){var c=yi(a).hoistableScripts,m=Ms(e),y=c.get(m);y||(y=a.querySelector(Xl(m)),y||(e=w({src:e,async:!0},n),(n=Ar.get(m))&&Nm(e,n),y=a.createElement("script"),Ke(y),xn(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function kS(e,n){Zi.M(e,n);var a=Es;if(a&&e){var c=yi(a).hoistableScripts,m=Ms(e),y=c.get(m);y||(y=a.querySelector(Xl(m)),y||(e=w({src:e,async:!0,type:"module"},n),(n=Ar.get(m))&&Nm(e,n),y=a.createElement("script"),Ke(y),xn(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function ry(e,n,a,c){var m=(m=X.current)?nd(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ns(a.href),a=yi(m).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ns(a.href);var y=yi(m).hoistableStyles,N=y.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,N),(y=m.querySelector(Kl(e)))&&!y._p&&(N.instance=y,N.state.loading=5),Ar.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ar.set(e,a),y||CS(m,e,a,N.state))),n&&c===null)throw Error(s(528,""));return N}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ms(a),a=yi(m).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ns(e){return'href="'+gn(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function iy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function CS(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),xn(n,"link",a),Ke(n),e.head.appendChild(n))}function Ms(e){return'[src="'+gn(e)+'"]'}function Xl(e){return"script[async]"+e}function ay(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(c)return n.instance=c,Ke(c),c;var m=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ke(c),xn(c,"style",m),rd(c,a.precedence,e),n.instance=c;case"stylesheet":m=Ns(a.href);var y=e.querySelector(Kl(m));if(y)return n.state.loading|=4,n.instance=y,Ke(y),y;c=iy(a),(m=Ar.get(m))&&Em(c,m),y=(e.ownerDocument||e).createElement("link"),Ke(y);var N=y;return N._p=new Promise(function(P,V){N.onload=P,N.onerror=V}),xn(y,"link",c),n.state.loading|=4,rd(y,a.precedence,e),n.instance=y;case"script":return y=Ms(a.src),(m=e.querySelector(Xl(y)))?(n.instance=m,Ke(m),m):(c=a,(m=Ar.get(y))&&(c=w({},a),Nm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ke(m),xn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,rd(c,a.precedence,e));return n.instance}function rd(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,N=0;N<c.length;N++){var P=c[N];if(P.dataset.precedence===n)y=P;else if(y!==m)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Em(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var id=null;function oy(e,n,a){if(id===null){var c=new Map,m=id=new Map;m.set(a,c)}else m=id,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var y=a[m];if(!(y[Ji]||y[an]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(n)||"";N=e+N;var P=c.get(N);P?P.push(y):c.set(N,[y])}}return c}function sy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function OS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Wl=null;function LS(){}function BS(e,n,a){if(Wl===null)throw Error(s(475));var c=Wl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Ns(a.href),y=e.querySelector(Kl(m));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=ad.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=y,Ke(y);return}y=e.ownerDocument||e,a=iy(a),(m=Ar.get(m))&&Em(a,m),y=y.createElement("link"),Ke(y);var N=y;N._p=new Promise(function(P,V){N.onload=P,N.onerror=V}),xn(y,"link",a),n.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=ad.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function RS(){if(Wl===null)throw Error(s(475));var e=Wl;return e.stylesheets&&e.count===0&&Mm(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Mm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var od=null;function Mm(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,od=new Map,n.forEach(PS,e),od=null,ad.call(e))}function PS(e,n){if(!(n.state.loading&4)){var a=od.get(e);if(a)var c=a.get(null);else{a=new Map,od.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var N=m[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),y=a.get(N)||c,y===c&&a.set(null,m),a.set(N,m),this.count++,c=ad.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Ql={$$typeof:B,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function zS(e,n,a,c,m,y,N,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function cy(e,n,a,c,m,y,N,P,V,ct,gt,St){return e=new zS(e,n,a,N,P,V,ct,St),n=1,y===!0&&(n|=24),y=Bn(3,null,null,n),e.current=y,y.stateNode=e,n=lh(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:n},fh(y),e}function uy(e){return e?(e=Bi,e):Bi}function dy(e,n,a,c,m,y){m=uy(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(n),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=Ta(e,c,n),a!==null&&(dr(a,e,n),Dl(a,e,n))}function fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Dm(e,n){fy(e,n),(e=e.alternate)&&fy(e,n)}function hy(e){if(e.tag===13){var n=ya(e,67108864);n!==null&&dr(n,e,67108864),Dm(e,67108864)}}var sd=!0;function HS(e,n,a,c){var m=K.T;K.T=null;var y=st.p;try{st.p=2,Am(e,n,a,c)}finally{st.p=y,K.T=m}}function IS(e,n,a,c){var m=K.T;K.T=null;var y=st.p;try{st.p=8,Am(e,n,a,c)}finally{st.p=y,K.T=m}}function Am(e,n,a,c){if(sd){var m=jm(c);if(m===null)gm(e,n,c,ld,a),py(e,c);else if(US(m,e,n,a,c))c.stopPropagation();else if(py(e,c),n&4&&-1<$S.indexOf(e)){for(;m!==null;){var y=bi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=mn(y.pendingLanes);if(N!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var V=1<<31-ae(N);P.entanglements[1]|=V,N&=~V}mi(y),(ge&6)===0&&(Yu=he()+500,Yl(0))}}break;case 13:P=ya(y,2),P!==null&&dr(P,y,2),Vu(),Dm(y,2)}if(y=jm(c),y===null&&gm(e,n,c,ld,a),y===m)break;m=y}m!==null&&c.stopPropagation()}else gm(e,n,c,null,a)}}function jm(e){return e=oa(e),km(e)}var ld=null;function km(e){if(ld=null,e=ri(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ld=e,null}function my(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case wt:return 2;case Lt:return 8;case _t:case Et:return 32;case It:return 268435456;default:return 32}default:return 32}}var Cm=!1,Pa=null,za=null,Ha=null,Jl=new Map,tc=new Map,Ia=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(e,n){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(n.pointerId)}}function ec(e,n,a,c,m,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},n!==null&&(n=bi(n),n!==null&&hy(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function US(e,n,a,c,m){switch(n){case"focusin":return Pa=ec(Pa,e,n,a,c,m),!0;case"dragenter":return za=ec(za,e,n,a,c,m),!0;case"mouseover":return Ha=ec(Ha,e,n,a,c,m),!0;case"pointerover":var y=m.pointerId;return Jl.set(y,ec(Jl.get(y)||null,e,n,a,c,m)),!0;case"gotpointercapture":return y=m.pointerId,tc.set(y,ec(tc.get(y)||null,e,n,a,c,m)),!0}return!1}function gy(e){var n=ri(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,al(e.priority,function(){if(a.tag===13){var c=ur();c=rl(c);var m=ya(a,c);m!==null&&dr(m,a,c),Dm(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=jm(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);io=c,a.target.dispatchEvent(c),io=null}else return n=bi(a),n!==null&&hy(n),e.blockedOn=a,!1;n.shift()}return!0}function by(e,n,a){cd(e)&&a.delete(n)}function GS(){Cm=!1,Pa!==null&&cd(Pa)&&(Pa=null),za!==null&&cd(za)&&(za=null),Ha!==null&&cd(Ha)&&(Ha=null),Jl.forEach(by),tc.forEach(by)}function ud(e,n){e.blockedOn===n&&(e.blockedOn=null,Cm||(Cm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GS)))}var dd=null;function yy(e){dd!==e&&(dd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dd===e&&(dd=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(km(c||a)===null)continue;break}var y=bi(a);y!==null&&(e.splice(n,3),n-=3,kh(y,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function nc(e){function n(V){return ud(V,e)}Pa!==null&&ud(Pa,e),za!==null&&ud(za,e),Ha!==null&&ud(Ha,e),Jl.forEach(n),tc.forEach(n);for(var a=0;a<Ia.length;a++){var c=Ia[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)gy(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],y=a[c+1],N=m[wn]||null;if(typeof y=="function")N||yy(a);else if(N){var P=null;if(y&&y.hasAttribute("formAction")){if(m=y,N=y[wn]||null)P=N.formAction;else if(km(m)!==null)continue}else P=N.action;typeof P=="function"?a[c+1]=P:(a.splice(c,3),c-=3),yy(a)}}}function Om(e){this._internalRoot=e}fd.prototype.render=Om.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,c=ur();dy(a,c,e,n,null,null)},fd.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;dy(e.current,2,null,e,null,null),Vu(),n[Qi]=null}};function fd(e){this._internalRoot=e}fd.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ia.length&&n!==0&&n<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&gy(e)}};var vy=i.version;if(vy!=="19.1.1")throw Error(s(527,vy,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=b(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ZS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Bt=hd.inject(ZS),Zt=hd}catch{}}return ic.createRoot=function(e,n){if(!u(e))throw Error(s(299));var a=!1,c="",m=Bg,y=Rg,N=Pg,P=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks)),n=cy(e,1,!1,null,null,a,c,m,y,N,P,null),e[Qi]=n.current,pm(e),new Om(n)},ic.hydrateRoot=function(e,n,a){if(!u(e))throw Error(s(299));var c=!1,m="",y=Bg,N=Rg,P=Pg,V=null,ct=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(ct=a.formState)),n=cy(e,1,!0,n,a??null,c,m,y,N,P,V,ct),n.context=uy(null),a=n.current,c=ur(),c=rl(c),m=wa(c),m.callback=null,Ta(a,m,c),a=c,n.current.lanes=a,gi(n,a),mi(n),e[Qi]=n.current,pm(e),new fd(n)},ic.version="19.1.1",ic}var Ay;function tw(){if(Ay)return Rm.exports;Ay=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Rm.exports=JS(),Rm.exports}var ew=tw();let nw={data:""},rw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nw,iw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aw=/\/\*[^]*?\*\/|  +/g,jy=/\n+/g,Ya=(t,i)=>{let o="",s="",u="";for(let d in t){let h=t[d];d[0]=="@"?d[1]=="i"?o=d+" "+h+";":s+=d[1]=="f"?Ya(h,d):d+"{"+Ya(h,d[1]=="k"?"":i)+"}":typeof h=="object"?s+=Ya(h,i?i.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):h!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Ya.p?Ya.p(d,h):d+":"+h+";")}return o+(i&&u?i+"{"+u+"}":u)+s},Yi={},i_=t=>{if(typeof t=="object"){let i="";for(let o in t)i+=o+i_(t[o]);return i}return t},ow=(t,i,o,s,u)=>{let d=i_(t),h=Yi[d]||(Yi[d]=(b=>{let v=0,w=11;for(;v<b.length;)w=101*w+b.charCodeAt(v++)>>>0;return"go"+w})(d));if(!Yi[h]){let b=d!==t?t:(v=>{let w,S,_=[{}];for(;w=iw.exec(v.replace(aw,""));)w[4]?_.shift():w[3]?(S=w[3].replace(jy," ").trim(),_.unshift(_[0][S]=_[0][S]||{})):_[0][w[1]]=w[2].replace(jy," ").trim();return _[0]})(t);Yi[h]=Ya(u?{["@keyframes "+h]:b}:b,o?"":"."+h)}let p=o&&Yi.g?Yi.g:null;return o&&(Yi.g=Yi[h]),((b,v,w,S)=>{S?v.data=v.data.replace(S,b):v.data.indexOf(b)===-1&&(v.data=w?b+v.data:v.data+b)})(Yi[h],i,s,p),h},sw=(t,i,o)=>t.reduce((s,u,d)=>{let h=i[d];if(h&&h.call){let p=h(o),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=b?"."+b:p&&typeof p=="object"?p.props?"":Ya(p,""):p===!1?"":p}return s+u+(h??"")},"");function xf(t){let i=this||{},o=t.call?t(i.p):t;return ow(o.unshift?o.raw?sw(o,[].slice.call(arguments,1),i.p):o.reduce((s,u)=>Object.assign(s,u&&u.call?u(i.p):u),{}):o,rw(i.target),i.g,i.o,i.k)}let a_,C0,O0;xf.bind({g:1});let Xi=xf.bind({k:1});function lw(t,i,o,s){Ya.p=i,a_=t,C0=o,O0=s}function Wa(t,i){let o=this||{};return function(){let s=arguments;function u(d,h){let p=Object.assign({},d),b=p.className||u.className;o.p=Object.assign({theme:C0&&C0()},p),o.o=/ *go\d+/.test(b),p.className=xf.apply(o,s)+(b?" "+b:"");let v=t;return t[0]&&(v=p.as||t,delete p.as),O0&&v[0]&&O0(p),a_(v,p)}return u}}var cw=t=>typeof t=="function",Yd=(t,i)=>cw(t)?t(i):t,uw=(()=>{let t=0;return()=>(++t).toString()})(),o_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),dw=20,F0="default",s_=(t,i)=>{let{toastLimit:o}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,o)};case 1:return{...t,toasts:t.toasts.map(h=>h.id===i.toast.id?{...h,...i.toast}:h)};case 2:let{toast:s}=i;return s_(t,{type:t.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(h=>h.id===u||u===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(h=>h.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let d=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+d}))}}},Id=[],l_={toasts:[],pausedAt:void 0,settings:{toastLimit:dw}},pi={},c_=(t,i=F0)=>{pi[i]=s_(pi[i]||l_,t),Id.forEach(([o,s])=>{o===i&&s(pi[i])})},u_=t=>Object.keys(pi).forEach(i=>c_(t,i)),fw=t=>Object.keys(pi).find(i=>pi[i].toasts.some(o=>o.id===t)),_f=(t=F0)=>i=>{c_(i,t)},hw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mw=(t={},i=F0)=>{let[o,s]=O.useState(pi[i]||l_),u=O.useRef(pi[i]);O.useEffect(()=>(u.current!==pi[i]&&s(pi[i]),Id.push([i,s]),()=>{let h=Id.findIndex(([p])=>p===i);h>-1&&Id.splice(h,1)}),[i]);let d=o.toasts.map(h=>{var p,b,v;return{...t,...t[h.type],...h,removeDelay:h.removeDelay||((p=t[h.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:h.duration||((b=t[h.type])==null?void 0:b.duration)||t?.duration||hw[h.type],style:{...t.style,...(v=t[h.type])==null?void 0:v.style,...h.style}}});return{...o,toasts:d}},pw=(t,i="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...o,id:o?.id||uw()}),Pc=t=>(i,o)=>{let s=pw(i,t,o);return _f(s.toasterId||fw(s.id))({type:2,toast:s}),s.id},rn=(t,i)=>Pc("blank")(t,i);rn.error=Pc("error");rn.success=Pc("success");rn.loading=Pc("loading");rn.custom=Pc("custom");rn.dismiss=(t,i)=>{let o={type:3,toastId:t};i?_f(i)(o):u_(o)};rn.dismissAll=t=>rn.dismiss(void 0,t);rn.remove=(t,i)=>{let o={type:4,toastId:t};i?_f(i)(o):u_(o)};rn.removeAll=t=>rn.remove(void 0,t);rn.promise=(t,i,o)=>{let s=rn.loading(i.loading,{...o,...o?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=i.success?Yd(i.success,u):void 0;return d?rn.success(d,{id:s,...o,...o?.success}):rn.dismiss(s),u}).catch(u=>{let d=i.error?Yd(i.error,u):void 0;d?rn.error(d,{id:s,...o,...o?.error}):rn.dismiss(s)}),t};var gw=1e3,bw=(t,i="default")=>{let{toasts:o,pausedAt:s}=mw(t,i),u=O.useRef(new Map).current,d=O.useCallback((S,_=gw)=>{if(u.has(S))return;let T=setTimeout(()=>{u.delete(S),h({type:4,toastId:S})},_);u.set(S,T)},[]);O.useEffect(()=>{if(s)return;let S=Date.now(),_=o.map(T=>{if(T.duration===1/0)return;let M=(T.duration||0)+T.pauseDuration-(S-T.createdAt);if(M<0){T.visible&&rn.dismiss(T.id);return}return setTimeout(()=>rn.dismiss(T.id,i),M)});return()=>{_.forEach(T=>T&&clearTimeout(T))}},[o,s,i]);let h=O.useCallback(_f(i),[i]),p=O.useCallback(()=>{h({type:5,time:Date.now()})},[h]),b=O.useCallback((S,_)=>{h({type:1,toast:{id:S,height:_}})},[h]),v=O.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),w=O.useCallback((S,_)=>{let{reverseOrder:T=!1,gutter:M=8,defaultPosition:A}=_||{},j=o.filter(B=>(B.position||A)===(S.position||A)&&B.height),H=j.findIndex(B=>B.id===S.id),I=j.filter((B,z)=>z<H&&B.visible).length;return j.filter(B=>B.visible).slice(...T?[I+1]:[0,I]).reduce((B,z)=>B+(z.height||0)+M,0)},[o]);return O.useEffect(()=>{o.forEach(S=>{if(S.dismissed)d(S.id,S.removeDelay);else{let _=u.get(S.id);_&&(clearTimeout(_),u.delete(S.id))}})},[o,d]),{toasts:o,handlers:{updateHeight:b,startPause:p,endPause:v,calculateOffset:w}}},yw=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vw=Xi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xw=Xi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_w=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sw=Xi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ww=Wa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Sw} 1s linear infinite;
`,Tw=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ew=Xi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Nw=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ew} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mw=Wa("div")`
  position: absolute;
`,Dw=Wa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Aw=Xi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jw=Wa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Aw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kw=({toast:t})=>{let{icon:i,type:o,iconTheme:s}=t;return i!==void 0?typeof i=="string"?O.createElement(jw,null,i):i:o==="blank"?null:O.createElement(Dw,null,O.createElement(ww,{...s}),o!=="loading"&&O.createElement(Mw,null,o==="error"?O.createElement(_w,{...s}):O.createElement(Nw,{...s})))},Cw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ow=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Lw="0%{opacity:0;} 100%{opacity:1;}",Bw="0%{opacity:1;} 100%{opacity:0;}",Rw=Wa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pw=Wa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zw=(t,i)=>{let o=t.includes("top")?1:-1,[s,u]=o_()?[Lw,Bw]:[Cw(o),Ow(o)];return{animation:i?`${Xi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xi(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Hw=O.memo(({toast:t,position:i,style:o,children:s})=>{let u=t.height?zw(t.position||i||"top-center",t.visible):{opacity:0},d=O.createElement(kw,{toast:t}),h=O.createElement(Pw,{...t.ariaProps},Yd(t.message,t));return O.createElement(Rw,{className:t.className,style:{...u,...o,...t.style}},typeof s=="function"?s({icon:d,message:h}):O.createElement(O.Fragment,null,d,h))});lw(O.createElement);var Iw=({id:t,className:i,style:o,onHeightUpdate:s,children:u})=>{let d=O.useCallback(h=>{if(h){let p=()=>{let b=h.getBoundingClientRect().height;s(t,b)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return O.createElement("div",{ref:d,className:i,style:o},u)},$w=(t,i)=>{let o=t.includes("top"),s=o?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:o_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(o?1:-1)}px)`,...s,...u}},Uw=xf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,md=16,Gw=({reverseOrder:t,position:i="top-center",toastOptions:o,gutter:s,children:u,toasterId:d,containerStyle:h,containerClassName:p})=>{let{toasts:b,handlers:v}=bw(o,d);return O.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:md,left:md,right:md,bottom:md,pointerEvents:"none",...h},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},b.map(w=>{let S=w.position||i,_=v.calculateOffset(w,{reverseOrder:t,gutter:s,defaultPosition:i}),T=$w(S,_);return O.createElement(Iw,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?Uw:"",style:T},w.type==="custom"?Yd(w.message,w):u?u(w):O.createElement(Hw,{toast:w,position:S}))}))},Im=rn;function Zw(t,i,o,s=0,u=0){i<=2&&(t-=1,i+=12);const d=Math.floor(t/100),h=2-d+Math.floor(d/4),p=o+(s+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+p+h-1524.5}const Yw=864e5;function qw(t){const i=(t-24405875e-1)*Yw;return new Date(i)}function Vw(t,i=7){const o=t+(i-.5)/12;if(o>=1986&&o<2005){const u=o-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(o>=2005&&o<2050){const u=o-2e3;return 62.92+.32217*u+.005589*u*u}if(o>=2050&&o<=2150){const u=(o-1820)/100;return-20+32*u*u-.5628*(2150-o)}if(o>=1900&&o<1986)return-2.79+1.494119*(o-1900)-.0598939*(o-1900)**2+.0061966*(o-1900)**3-197e-6*(o-1900)**4;if(o>=1800&&o<1900){const u=(o-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const s=(o-1820)/100;return-20+32*s*s}function Fw(t){const i=Math.floor(t+.5),o=t+.5-i;let s=i;if(i>=2299161){const S=Math.floor((i-186721625e-2)/36524.25);s=i+1+S-Math.floor(S/4)}const u=s+1524,d=Math.floor((u-122.1)/365.25),h=Math.floor(365.25*d),p=Math.floor((u-h)/30.6001),b=u-h-Math.floor(30.6001*p)+o;let v=p-1;v>12&&(v-=12);let w=d-4715;return v>2&&(w-=1),[w,v,b]}const Sc=Math.PI,Ro=Sc/180,Kw=180/Sc,Xw=86400;function Ww(t){return t%=360,t<0?t+360:t}function Qw(t,i){return(t-i+540)%360-180}function ky(t,i){for(;t-i>180;)t-=360;for(;t-i<-180;)t+=360;return t}function Jw(t){const[i,o]=Fw(t);return t+Vw(i,Math.round(o))/Xw}function Cy(t,i){let o=0,s=1;for(let u=0;u<t.length;u++){let d=0;for(const[h,p,b]of t[u])d+=h*Math.cos(p+b*i);o+=d*s,s*=i}return o*1e-8}function tT(t){const i=(t-2451545)/36525,o=(297.85036+445267.11148*i-.0019142*i*i+i*i*i/189474)*Ro,s=(357.52772+35999.05034*i-1603e-7*i*i-i*i*i/3e5)*Ro,u=(134.96298+477198.867398*i+.0086972*i*i+i*i*i/56250)*Ro,d=(93.27191+483202.017538*i-.0036825*i*i+i*i*i/327270)*Ro,h=(125.04452-1934.136261*i+.0020708*i*i+i*i*i/45e4)*Ro,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,v=0;for(const[w,S,_,T,M,A,j,H,I]of p){const B=w*o+S*s+_*u+T*d+M*h;b+=(A+j*i)*Math.sin(B),v+=(H+I*i)*Math.cos(B)}return b*=1e-4,v*=1e-4,{dpsi:b,deps:v}}function pd(t){const i=Jw(t),o=(i-2451545)/365250,s=Cy(Oy.L,o),u=Cy(Oy.R,o);let d=s+Sc;d>2*Sc&&(d-=2*Sc);const{dpsi:h}=tT(i),p=h/3600*Ro,b=20.4898/(3600*u),v=d+p-b*Ro;return Ww(v*Kw)}function nn(t,i,o){const s=(i%360+360)%360,u=Zw(t,1,1),d=pd(u);let h=s-d;h<0&&(h+=360);let p=u+h/.98564736;const b=1e-6,v=5e-6;for(let _=0;_<25;_++){const T=pd(p),M=Qw(s,T);if(Math.abs(M)<b)break;const A=pd(p+v),j=pd(p-v),H=ky(A,T),I=ky(j,T),B=(H-I)/(2*v);p+=M/B}const w=qw(p),S=new Date(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),0,0);if(Number.isFinite(o)){const _=o/15-9;if(Math.abs(_)>1e-12)return new Date(S.getTime()+_*36e5)}return S}const Oy={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},In=["갑","을","병","정","무","기","경","신","임","계"],Wn=["자","축","인","묘","진","사","오","미","신","유","술","해"],Br={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},yr={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},eT=["목","목","화","화","토","토","금","금","수","수"],nT=["수","토","목","목","토","화","화","토","금","금","토","수"],rT=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],iT=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Sf=new Set(In),K0=new Set(Wn),wf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},X0={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},d_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],W0={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},f_={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},Ly=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],aT={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},oT={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function sT(t,i=127.5){return(Ee(t,i)||"").charAt(0)}const By=new Map;function h_(t,i=127.5){const o=`${t}@${i}`,s=By.get(o);if(s)return s;const u=nn(t,315,i);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${i}`);return By.set(o,u),u}const lT=(t,i)=>(t%i+i)%i,m_=t=>t instanceof Date&&!Number.isNaN(t.getTime());function p_(t,i=127.5){if(!m_(t))throw new Error("resolveYearIndex: invalid date");const o=t.getFullYear(),s=h_(o,i),u=t<s?o-1:o,d=lT(u-4,60);return{useYear:u,index60Num:d}}function Ee(t,i=127.5){const{index60Num:o}=p_(t,i);return d_[o]}const cT=[2,4,6,8,0,2,4,6,8,0];function uT(t,i=127.5){const o=new Array(12);return o[0]=h_(t,i),o[1]=nn(t,345,i),o[2]=nn(t,15,i),o[3]=nn(t,45,i),o[4]=nn(t,75,i),o[5]=nn(t,105,i),o[6]=nn(t,135,i),o[7]=nn(t,165,i),o[8]=nn(t,195,i),o[9]=nn(t,225,i),o[10]=nn(t,255,i),o[11]=nn(t+1,285,i),o.map(s=>new Date(s.getTime()+1800*1e3))}function dT(t,i=127.5){const{useYear:o}=p_(t,i),s=uT(o,i);let u=0;for(let h=0;h<12;h++)t>=s[h]&&(u=h);return{monthIndex:u+1,useYear:o,boundaries:s}}function fT(t,i=127.5){const o=sT(t,i),s=Br.천간.indexOf(o);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${o}"`);return cT[s]}function hT(t,i,o=127.5){return(fT(t,o)+(i-1))%10}function Qe(t,i=127.5){if(!m_(t))return"";const{monthIndex:o}=dT(t,i),s=(2+(o-1))%12,u=Br.지지[s],d=hT(t,o,i);return Br.천간[d]+u}const mT=(t,i)=>(t%i+i)%i;function pT(t,i,o,s=0,u=0,d=0){i<=2&&(t-=1,i+=12);const h=Math.floor(t/100),p=2-h+Math.floor(h/4),b=(s+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+o+b+p-1524.5}function gT(t,i){const o=t.getHours(),s=t.getMinutes(),u=o*60+s,d=g_(t);return i==="야자시"&&d==="자"?u>=1380?1:0:i==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const Ry={JDN:2445731,idx:0};function Se(t,i){const o=gT(t,i),s=new Date(t.getTime());s.setDate(s.getDate()+o);const u=pT(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(u+.5),h=mT(d-Ry.JDN+Ry.idx,60),p=d_[h];if(!p)throw new Error(`getDayGanZhi: idx=${h} out of range (jdn=${d}, jd=${u})`);return p}function g_(t){t instanceof Date||(t=new Date(t));const i=t.getHours()*60+t.getMinutes();for(let o=0;o<Ly.length;o++){const{branch:s,start:u,end:d}=Ly[o];if(u<d){if(i>=u&&i<d)return s}else if(i>=u||i<d)return s}return"자"}function bT(t,i,o,s){const u=In.indexOf(i);if(u<0)return"";let d=(u%5*2+o)%10;const h=t.getHours();return(s==="인시"||s==="조자시"&&h>=3)&&(o===0||o===1)&&(d=(d+2)%10),In[d]}function Qr(t,i,o){t instanceof Date||(t=new Date(t));const s=g_(t),u=Wn.indexOf(s),h=(o??Se(t,i)).charAt(0);return bT(t,h,u,i)+s}const Py=t=>{let i;const o=new Set,s=(v,w)=>{const S=typeof v=="function"?v(i):v;if(!Object.is(S,i)){const _=i;i=w??(typeof S!="object"||S===null)?S:Object.assign({},i,S),o.forEach(T=>T(i,_))}},u=()=>i,p={setState:s,getState:u,getInitialState:()=>b,subscribe:v=>(o.add(v),()=>o.delete(v))},b=i=t(s,u,p);return p},yT=(t=>t?Py(t):Py),vT=t=>t;function xT(t,i=vT){const o=Ce.useSyncExternalStore(t.subscribe,Ce.useCallback(()=>i(t.getState()),[t,i]),Ce.useCallback(()=>i(t.getInitialState()),[t,i]));return Ce.useDebugValue(o),o}const zy=t=>{const i=yT(t),o=s=>xT(i,s);return Object.assign(o,i),o},Tf=(t=>t?zy(t):zy);function _T(t,i){let o;try{o=t()}catch{return}return{getItem:u=>{var d;const h=b=>b===null?null:JSON.parse(b,void 0),p=(d=o.getItem(u))!=null?d:null;return p instanceof Promise?p.then(h):h(p)},setItem:(u,d)=>o.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>o.removeItem(u)}}const L0=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(s){return L0(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return L0(s)(o)}}}},ST=(t,i)=>(o,s,u)=>{let d={storage:_T(()=>localStorage),partialize:A=>A,version:0,merge:(A,j)=>({...j,...A}),...i},h=!1;const p=new Set,b=new Set;let v=d.storage;if(!v)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...A)},s,u);const w=()=>{const A=d.partialize({...s()});return v.setItem(d.name,{state:A,version:d.version})},S=u.setState;u.setState=(A,j)=>(S(A,j),w());const _=t((...A)=>(o(...A),w()),s,u);u.getInitialState=()=>_;let T;const M=()=>{var A,j;if(!v)return;h=!1,p.forEach(I=>{var B;return I((B=s())!=null?B:_)});const H=((j=d.onRehydrateStorage)==null?void 0:j.call(d,(A=s())!=null?A:_))||void 0;return L0(v.getItem.bind(v))(d.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==d.version){if(d.migrate){const B=d.migrate(I.state,I.version);return B instanceof Promise?B.then(z=>[!0,z]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var B;const[z,R]=I;if(T=d.merge(R,(B=s())!=null?B:_),o(T,!0),z)return w()}).then(()=>{H?.(T,void 0),T=s(),h=!0,b.forEach(I=>I(T))}).catch(I=>{H?.(void 0,I)})};return u.persist={setOptions:A=>{d={...d,...A},A.storage&&(v=A.storage)},clearStorage:()=>{v?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>M(),hasHydrated:()=>h,onHydrate:A=>(p.add(A),()=>{p.delete(A)}),onFinishHydration:A=>(b.add(A),()=>{b.delete(A)})},d.skipHydration||M(),T||_},Q0=ST,Hy={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},Qn=Tf()(Q0((t,i)=>({settings:Hy,setSettings:o=>t({settings:o}),setKey:(o,s)=>t({settings:{...i().settings,[o]:s}}),reset:()=>t({settings:Hy})}),{name:"settings_v1"}));function B0(t){const i=In.indexOf(t);if(i!==-1)return In[i];const o=yr.천간.indexOf(t);return o!==-1?In[o]:null}function b_(t){const i=Wn.indexOf(t);if(i!==-1)return Wn[i];const o=yr.지지.indexOf(t);return o!==-1?Wn[o]:null}function Iy(t,i){if(i?.difficultyMode)return i?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function br(t,i,o){if(i==="stem"){const s=B0(t);if(!s)return console.warn("Invalid stem:",t),"bg-neutral-700";const u=In.indexOf(s),d=u>=0?eT[u]:void 0;return Iy(d,o)}else{const s=b_(t);if(!s)return console.warn("Invalid branch:",t),"bg-neutral-700";const u=Wn.indexOf(s),d=u>=0?nT[u]:void 0;return Iy(d,o)}}function Hn(t,i){const o=B0(t);if(!o)throw new Error(`getSipSin: invalid dayStem ${t}`);if(i.stem){const s=B0(i.stem);if(!s)throw new Error(`getSipSin: invalid stem ${i.stem}`);return aT[o][s]}if(i.branch){const s=b_(i.branch);if(!s)throw new Error(`getSipSin: invalid branch ${i.branch}`);return oT[o][s]}throw new Error("getSipSin: stem or branch required")}const wT={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},TT={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function xc({branch:t,dayStem:i,mode:o="all",mapping:s="classic",variant:u="auto",isUnknownTime:d=!1}){const h=(s==="hgc"?TT:wT)[t]??[],p=o==="main"?[h[2]]:h,b=u==="white",v=b?"text-white":"text-neutral-800 dark:text-white",w=b?"border-white":"border-neutral-800 dark: border-neutral-200",S=b?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:p.map((_,T)=>_==="(-)"||d?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${w} ${v} rounded text-center text-nowrap`,children:"(-) (없음)"},T):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${w} ${v} rounded text-center text-nowrap 
            ${o==="main"||T===2?`jeonggi bg-neutral-500/50 ${S} font-bold`:""}`,children:[_," (",Hn(i,{stem:_}),")"]},T))})}const Ef=Tf(t=>({manualHour:null,setManualHour:i=>t({manualHour:i}),clearManualHour:()=>t({manualHour:null})})),J0={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},y_=Object.fromEntries(Object.entries(J0).map(([t,i])=>[i,t])),tp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},v_=Object.fromEntries(Object.entries(tp).map(([t,i])=>[i,t]));function $y(t){return Br.천간.includes(t)}function Uy(t){return Br.지지.includes(t)}function ET(t){return yr.천간.includes(t)}function NT(t){return yr.지지.includes(t)}function Gy(t,i,o){return o==="한글"?i==="stem"?J0[t]??t:tp[t]??t:i==="stem"?y_[t]??t:v_[t]??t}function Zy(t){const i=y_[t]??t;return ET(i)?i:"갑"}function MT(t){const i=v_[t]??t;return NT(i)?i:"자"}function DT(t){if($y(t))return t;const i=J0[t]??t;return $y(i)?i:"갑"}function AT(t){if(Uy(t))return t;const i=tp[t]??t;return Uy(i)?i:"자"}const jT=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),kT=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),CT=t=>jT.has(t),OT=t=>kT.has(t);function Rs({label:t,gz:i,dayStem:o,settings:s,unseongText:u,shinsalText:d,hideBranchSipSin:h=!0,hideHiddenStems:p=!1,size:b="sm",variant:v="auto",isUnknownTime:w=!1}){const{manualHour:S}=Ef(),_=w&&!S,T=i.charAt(0),M=i.charAt(1),A=Gy(T,"stem",s.charType),j=Gy(M,"branch",s.charType),H=Zy(T),I=MT(M),B=Zy(o),z=AT(M),R=DT(o),G=s.showSipSin?Hn(B,{stem:H}):null,Q=!h&&s.showSipSin?Hn(B,{branch:I}):null,J=s.thinEum&&CT(T)?"font-thin":"font-bold",rt=s.thinEum&&OT(M)?"font-thin":"font-bold",nt={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!p&&!!s.hiddenStem,U=s.hiddenStem==="regular"?"main":"all",W=s.hiddenStemMode==="hgc"?"hgc":"classic",ft=v==="white",pt=ft?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",K=ft?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",st=ft?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",at=ft?"text-neutral-500":"text-neutral-400",bt=ft?"text-neutral-500":"text-neutral-400",{settings:D}=Qn(),k=_?`bg-white ${st}`:`${br(H,"stem",D)} ${st}`,Y=_?`bg-white ${st}`:`${br(I,"branch",D)} ${st}`,Z=_?"text-black":D.difficultyMode?D.theme==="light"?"text-neutral-900":"text-black":"text-white",$=_?"text-black":D.difficultyMode?D.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${pt}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${K} text-nowrap`,children:t}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[G&&g.jsx("div",{className:`text-[10px] desk:text-xs ${at} text-nowrap`,children:w&&!S?"-":G}),g.jsx("div",{className:`${nt[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${k}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${Z} ${J}`,children:_?"-":A})}),g.jsx("div",{className:`${nt[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${Y}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${$} ${rt}`,children:_?"-":j})}),F&&g.jsx(xc,{branch:z,dayStem:R,mode:U,mapping:W,isUnknownTime:w&&!S&&(t==="시주"||t==="일주")}),Q&&g.jsx("div",{className:`text-[10px] desk:text-xs ${bt}`,children:w&&!S?"-":Q}),s.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${bt} text-nowrap`,children:w&&!S?"-":u||""}),s.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${bt} text-nowrap`,children:w&&!S?"-":d||""})]})]})}const LT=new Set(yr.천간);function BT(t){return Sf.has(t)?t:LT.has(t)?wf[t]:"갑"}function RT({label:t,settings:i,hideBranchSipSin:o=!0}){const s=i.showSipSin,u=!!i.hiddenStem,h=(i.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=i.showSipSin&&!o;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:h}).map((b,v)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},v))}),p&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function PT(){const t=Qn(M=>M.settings),[i,o]=O.useState(new Date),[s,u]=O.useState(!0),[d,h]=O.useState("조자시"),[p,b]=O.useState(!1);O.useEffect(()=>{if(!s)return;const M=setInterval(()=>o(new Date),1e3);return()=>clearInterval(M)},[s]);const v=Ee(i),w=Qe(i),S=Se(i,d),_=Qr(i,"조자시"),T=BT(S.charAt(0));return g.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",IT(i)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:d,onChange:M=>h(M.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),g.jsx("option",{value:"조자시",children:"조자시 (자정)"}),g.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),g.jsx("button",{onClick:()=>u(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?g.jsx(RT,{label:"시주",settings:t,hideBranchSipSin:!0}):g.jsx(Rs,{label:"시주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"일주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"월주",gz:w,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Rs,{label:"연주",gz:v,dayStem:T,settings:t,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:zT(i),disabled:s,onChange:M=>{const A=HT(M.target.value);A&&o(A)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>b(M=>!M),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function zT(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function HT(t){if(!t)return null;const[i,o]=t.split("T");if(!i||!o)return null;const[s,u,d]=i.split("-").map(Number),[h,p]=o.split(":").map(Number),b=new Date(s,u-1,d,h,p);return Number.isNaN(b.getTime())?null:b}function IT(t){const i=o=>o.toString().padStart(2,"0");return`${i(t.getHours())}:${i(t.getMinutes())}:${i(t.getSeconds())}`}const _n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function $T(t,i=0){return(_n[t[i+0]]+_n[t[i+1]]+_n[t[i+2]]+_n[t[i+3]]+"-"+_n[t[i+4]]+_n[t[i+5]]+"-"+_n[t[i+6]]+_n[t[i+7]]+"-"+_n[t[i+8]]+_n[t[i+9]]+"-"+_n[t[i+10]]+_n[t[i+11]]+_n[t[i+12]]+_n[t[i+13]]+_n[t[i+14]]+_n[t[i+15]]).toLowerCase()}let $m;const UT=new Uint8Array(16);function GT(){if(!$m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$m=crypto.getRandomValues.bind(crypto)}return $m(UT)}const ZT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yy={randomUUID:ZT};function x_(t,i,o){if(Yy.randomUUID&&!t)return Yy.randomUUID();t=t||{};const s=t.random??t.rng?.()??GT();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,$T(s)}var _c={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var YT=_c.exports,qy;function qT(){return qy||(qy=1,(function(t,i){(function(o,s){s(i)})(YT,(function(o){var s="1.9.4";function u(r){var l,f,x,E;for(f=1,x=arguments.length;f<x;f++){E=arguments[f];for(l in E)r[l]=E[l]}return r}var d=Object.create||(function(){function r(){}return function(l){return r.prototype=l,new r}})();function h(r,l){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var x=f.call(arguments,2);return function(){return r.apply(l,x.length?x.concat(f.call(arguments)):arguments)}}var p=0;function b(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function v(r,l,f){var x,E,C,q;return q=function(){x=!1,E&&(C.apply(f,E),E=!1)},C=function(){x?E=arguments:(r.apply(f,arguments),setTimeout(q,l),x=!0)},C}function w(r,l,f){var x=l[1],E=l[0],C=x-E;return r===x&&f?r:((r-E)%C+C)%C+E}function S(){return!1}function _(r,l){if(l===!1)return r;var f=Math.pow(10,l===void 0?6:l);return Math.round(r*f)/f}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function M(r){return T(r).split(/\s+/)}function A(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in l)r.options[f]=l[f];return r.options}function j(r,l,f){var x=[];for(var E in r)x.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function I(r,l){return r.replace(H,function(f,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(l)),E})}var B=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function z(r,l){for(var f=0;f<r.length;f++)if(r[f]===l)return f;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Q=0;function J(r){var l=+new Date,f=Math.max(0,16-(l-Q));return Q=l+f,window.setTimeout(r,f)}var rt=window.requestAnimationFrame||G("RequestAnimationFrame")||J,nt=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function F(r,l,f){if(f&&rt===J)r.call(l);else return rt.call(window,h(r,l))}function U(r){r&&nt.call(window,r)}var W={__proto__:null,extend:u,create:d,bind:h,get lastId(){return p},stamp:b,throttle:v,wrapNum:w,falseFn:S,formatNum:_,trim:T,splitWords:M,setOptions:A,getParamString:j,template:I,isArray:B,indexOf:z,emptyImageUrl:R,requestFn:rt,cancelFn:nt,requestAnimFrame:F,cancelAnimFrame:U};function ft(){}ft.extend=function(r){var l=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,x=d(f);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return r.statics&&u(l,r.statics),r.includes&&(pt(r.includes),u.apply(null,[x].concat(r.includes))),u(x,r),delete x.statics,delete x.includes,x.options&&(x.options=f.options?d(f.options):{},u(x.options,r.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,q=x._initHooks.length;C<q;C++)x._initHooks[C].call(this)}},l},ft.include=function(r){var l=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},ft.mergeOptions=function(r){return u(this.prototype.options,r),this},ft.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function pt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=B(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(r,l,f){if(typeof r=="object")for(var x in r)this._on(x,r[x],l);else{r=M(r);for(var E=0,C=r.length;E<C;E++)this._on(r[E],l,f)}return this},off:function(r,l,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var x in r)this._off(x,r[x],l);else{r=M(r);for(var E=arguments.length===1,C=0,q=r.length;C<q;C++)E?this._off(r[C]):this._off(r[C],l,f)}return this},_on:function(r,l,f,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,f)===!1){f===this&&(f=void 0);var E={fn:l,ctx:f};x&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,l,f){var x,E,C;if(this._events&&(x=this._events[r],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,C=x.length;E<C;E++)x[E].fn=S;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var q=this._listens(r,l,f);if(q!==!1){var ot=x[q];this._firingCount&&(ot.fn=S,this._events[r]=x=x.slice()),x.splice(q,1)}}},fire:function(r,l,f){if(!this.listens(r,f))return this;var x=u({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var C=0,q=E.length;C<q;C++){var ot=E[C],mt=ot.fn;ot.once&&this.off(r,mt,ot.ctx),mt.call(ot.ctx||this,x)}this._firingCount--}}return f&&this._propagateEvent(x),this},listens:function(r,l,f,x){typeof r!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,f=void 0);var C=this._events&&this._events[r];if(C&&C.length&&this._listens(r,E,f)!==!1)return!0;if(x){for(var q in this._eventParents)if(this._eventParents[q].listens(r,l,f,x))return!0}return!1},_listens:function(r,l,f){if(!this._events)return!1;var x=this._events[r]||[];if(!l)return!!x.length;f===this&&(f=void 0);for(var E=0,C=x.length;E<C;E++)if(x[E].fn===l&&x[E].ctx===f)return E;return!1},once:function(r,l,f){if(typeof r=="object")for(var x in r)this._on(x,r[x],l,!0);else{r=M(r);for(var E=0,C=r.length;E<C;E++)this._on(r[E],l,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[b(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[b(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var st=ft.extend(K);function at(r,l,f){this.x=f?Math.round(r):r,this.y=f?Math.round(l):l}var bt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};at.prototype={clone:function(){return new at(this.x,this.y)},add:function(r){return this.clone()._add(D(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(D(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new at(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new at(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=bt(this.x),this.y=bt(this.y),this},distanceTo:function(r){r=D(r);var l=r.x-this.x,f=r.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(r){return r=D(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=D(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function D(r,l,f){return r instanceof at?r:B(r)?new at(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new at(r.x,r.y):new at(r,l,f)}function k(r,l){if(r)for(var f=l?[r,l]:r,x=0,E=f.length;x<E;x++)this.extend(f[x])}k.prototype={extend:function(r){var l,f;if(!r)return this;if(r instanceof at||typeof r[0]=="number"||"x"in r)l=f=D(r);else if(r=Y(r),l=r.min,f=r.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,f;return typeof r[0]=="number"||r instanceof at?r=D(r):r=Y(r),r instanceof k?(l=r.min,f=r.max):l=f=r,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=Y(r);var l=this.min,f=this.max,x=r.min,E=r.max,C=E.x>=l.x&&x.x<=f.x,q=E.y>=l.y&&x.y<=f.y;return C&&q},overlaps:function(r){r=Y(r);var l=this.min,f=this.max,x=r.min,E=r.max,C=E.x>l.x&&x.x<f.x,q=E.y>l.y&&x.y<f.y;return C&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,f=this.max,x=Math.abs(l.x-f.x)*r,E=Math.abs(l.y-f.y)*r;return Y(D(l.x-x,l.y-E),D(f.x+x,f.y+E))},equals:function(r){return r?(r=Y(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Y(r,l){return!r||r instanceof k?r:new k(r,l)}function Z(r,l){if(r)for(var f=l?[r,l]:r,x=0,E=f.length;x<E;x++)this.extend(f[x])}Z.prototype={extend:function(r){var l=this._southWest,f=this._northEast,x,E;if(r instanceof tt)x=r,E=r;else if(r instanceof Z){if(x=r._southWest,E=r._northEast,!x||!E)return this}else return r?this.extend(X(r)||$(r)):this;return!l&&!f?(this._southWest=new tt(x.lat,x.lng),this._northEast=new tt(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(r){var l=this._southWest,f=this._northEast,x=Math.abs(l.lat-f.lat)*r,E=Math.abs(l.lng-f.lng)*r;return new Z(new tt(l.lat-x,l.lng-E),new tt(f.lat+x,f.lng+E))},getCenter:function(){return new tt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new tt(this.getNorth(),this.getWest())},getSouthEast:function(){return new tt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof tt||"lat"in r?r=X(r):r=$(r);var l=this._southWest,f=this._northEast,x,E;return r instanceof Z?(x=r.getSouthWest(),E=r.getNorthEast()):x=E=r,x.lat>=l.lat&&E.lat<=f.lat&&x.lng>=l.lng&&E.lng<=f.lng},intersects:function(r){r=$(r);var l=this._southWest,f=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),C=E.lat>=l.lat&&x.lat<=f.lat,q=E.lng>=l.lng&&x.lng<=f.lng;return C&&q},overlaps:function(r){r=$(r);var l=this._southWest,f=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),C=E.lat>l.lat&&x.lat<f.lat,q=E.lng>l.lng&&x.lng<f.lng;return C&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=$(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $(r,l){return r instanceof Z?r:new Z(r,l)}function tt(r,l,f){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,f!==void 0&&(this.alt=+f)}tt.prototype={equals:function(r,l){if(!r)return!1;r=X(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+_(this.lat,r)+", "+_(this.lng,r)+")"},distanceTo:function(r){return yt.distance(this,X(r))},wrap:function(){return yt.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return $([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new tt(this.lat,this.lng,this.alt)}};function X(r,l,f){return r instanceof tt?r:B(r)&&typeof r[0]!="object"?r.length===3?new tt(r[0],r[1],r[2]):r.length===2?new tt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new tt(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new tt(r,l,f)}var ut={latLngToPoint:function(r,l){var f=this.projection.project(r),x=this.scale(l);return this.transformation._transform(f,x)},pointToLatLng:function(r,l){var f=this.scale(l),x=this.transformation.untransform(r,f);return this.projection.unproject(x)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(r),x=this.transformation.transform(l.min,f),E=this.transformation.transform(l.max,f);return new k(x,E)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,x=r.alt;return new tt(f,l,x)},wrapLatLngBounds:function(r){var l=r.getCenter(),f=this.wrapLatLng(l),x=l.lat-f.lat,E=l.lng-f.lng;if(x===0&&E===0)return r;var C=r.getSouthWest(),q=r.getNorthEast(),ot=new tt(C.lat-x,C.lng-E),mt=new tt(q.lat-x,q.lng-E);return new Z(ot,mt)}},yt=u({},ut,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var f=Math.PI/180,x=r.lat*f,E=l.lat*f,C=Math.sin((l.lat-r.lat)*f/2),q=Math.sin((l.lng-r.lng)*f/2),ot=C*C+Math.cos(x)*Math.cos(E)*q*q,mt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*mt}}),vt=6378137,jt={R:vt,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,f=this.MAX_LATITUDE,x=Math.max(Math.min(f,r.lat),-f),E=Math.sin(x*l);return new at(this.R*r.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var l=180/Math.PI;return new tt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:(function(){var r=vt*Math.PI;return new k([-r,-r],[r,r])})()};function Ft(r,l,f,x){if(B(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=f,this._d=x}Ft.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new at((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Gt(r,l,f,x){return new Ft(r,l,f,x)}var ie=u({},yt,{code:"EPSG:3857",projection:jt,transformation:(function(){var r=.5/(Math.PI*jt.R);return Gt(r,.5,-r,.5)})()}),ce=u({},ie,{code:"EPSG:900913"});function Pe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Oe(r,l){var f="",x,E,C,q,ot,mt;for(x=0,C=r.length;x<C;x++){for(ot=r[x],E=0,q=ot.length;E<q;E++)mt=ot[E],f+=(E?"L":"M")+mt.x+" "+mt.y;f+=l?Rt.svg?"z":"x":""}return f||"M0 0"}var he=document.documentElement.style,ze="ActiveXObject"in window,wt=ze&&!document.addEventListener,Lt="msLaunchUri"in navigator&&!("documentMode"in document),_t=Zn("webkit"),Et=Zn("android"),It=Zn("android 2")||Zn("android 3"),Ht=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dt=Et&&Zn("Google")&&Ht<537&&!("AudioNode"in window),Bt=!!window.opera,Zt=!Lt&&Zn("chrome"),Xt=Zn("gecko")&&!_t&&!Bt&&!ze,ae=!Zt&&Zn("safari"),Jn=Zn("phantom"),ei="OTransition"in he,Wi=navigator.platform.indexOf("Win")===0,zr=ze&&"transition"in he,$n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!It,mn="MozPerspective"in he,Hr=!window.L_DISABLE_3D&&(zr||$n||mn)&&!ei&&!Jn,Un=typeof orientation<"u"||Zn("mobile"),el=Un&&_t,Qa=Un&&$n,Ir=!window.PointerEvent&&window.MSPointerEvent,Gn=!!(window.PointerEvent||Ir),gi="ontouchstart"in window||!!window.TouchEvent,nl=!window.L_NO_TOUCH&&(gi||Gn),Ja=Un&&Bt,qc=Un&&Xt,rl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,il=(function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",S,l),window.removeEventListener("testPassiveEventSupport",S,l)}catch{}return r})(),Vc=(function(){return!!document.createElement("canvas").getContext})(),al=!!(document.createElementNS&&Pe("svg").createSVGRect),ni=!!al&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),an=!al&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),wn=navigator.platform.indexOf("Mac")===0,Qi=navigator.platform.indexOf("Linux")===0;function Zn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Rt={ie:ze,ielt9:wt,edge:Lt,webkit:_t,android:Et,android23:It,androidStock:Dt,opera:Bt,chrome:Zt,gecko:Xt,safari:ae,phantom:Jn,opera12:ei,win:Wi,ie3d:zr,webkit3d:$n,gecko3d:mn,any3d:Hr,mobile:Un,mobileWebkit:el,mobileWebkit3d:Qa,msPointer:Ir,pointer:Gn,touch:nl,touchNative:gi,mobileOpera:Ja,mobileGecko:qc,retina:rl,passiveEvents:il,canvas:Vc,svg:al,vml:an,inlineSvg:ni,mac:wn,linux:Qi},Fc=Rt.msPointer?"MSPointerDown":"pointerdown",ol=Rt.msPointer?"MSPointerMove":"pointermove",Ji=Rt.msPointer?"MSPointerUp":"pointerup",$o=Rt.msPointer?"MSPointerCancel":"pointercancel",ri={touchstart:Fc,touchmove:ol,touchend:Ji,touchcancel:$o},bi={touchstart:Wc,touchmove:to,touchend:to,touchcancel:to},vr={},yi=!1;function Ke(r,l,f){return l==="touchstart"&&Zf(),bi[l]?(f=bi[l].bind(this,f),r.addEventListener(ri[l],f,!1),f):(console.warn("wrong event specified:",l),S)}function Kc(r,l,f){if(!ri[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(ri[l],f,!1)}function Xc(r){vr[r.pointerId]=r}function vi(r){vr[r.pointerId]&&(vr[r.pointerId]=r)}function xi(r){delete vr[r.pointerId]}function Zf(){yi||(document.addEventListener(Fc,Xc,!0),document.addEventListener(ol,vi,!0),document.addEventListener(Ji,xi,!0),document.addEventListener($o,xi,!0),yi=!0)}function to(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in vr)l.touches.push(vr[f]);l.changedTouches=[l],r(l)}}function Wc(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ze(l),to(r,l)}function Yf(r){var l={},f,x;for(x in r)f=r[x],l[x]=f&&f.bind?f.bind(r):f;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Uo=200;function Go(r,l){r.addEventListener("dblclick",l);var f=0,x;function E(C){if(C.detail!==1){x=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var q=cl(C);if(!(q.some(function(mt){return mt instanceof HTMLLabelElement&&mt.attributes.for})&&!q.some(function(mt){return mt instanceof HTMLInputElement||mt instanceof HTMLSelectElement}))){var ot=Date.now();ot-f<=Uo?(x++,x===2&&l(Yf(C))):x=1,f=ot}}}return r.addEventListener("click",E),{dblclick:l,simDblclick:E}}function $r(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var eo=ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ta=ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_i=ta==="webkitTransition"||ta==="OTransition"?ta+"End":"transitionend";function Zo(r){return typeof r=="string"?document.getElementById(r):r}function Si(r,l){var f=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(r,null);f=x?x[l]:null}return f==="auto"?null:f}function oe(r,l,f){var x=document.createElement(r);return x.className=l||"",f&&f.appendChild(x),x}function Ne(r){var l=r.parentNode;l&&l.removeChild(r)}function pn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function wi(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function ea(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function na(r,l){if(r.classList!==void 0)return r.classList.contains(l);var f=gn(r);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Kt(r,l){if(r.classList!==void 0)for(var f=M(l),x=0,E=f.length;x<E;x++)r.classList.add(f[x]);else if(!na(r,l)){var C=gn(r);sl(r,(C?C+" ":"")+l)}}function Me(r,l){r.classList!==void 0?r.classList.remove(l):sl(r,T((" "+gn(r)+" ").replace(" "+l+" "," ")))}function sl(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function gn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Tn(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Qc(r,l)}function Qc(r,l){var f=!1,x="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):r.style.filter+=" progid:"+x+"(opacity="+l+")"}function ra(r){for(var l=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in l)return r[f];return!1}function Yn(r,l,f){var x=l||new at(0,0);r.style[eo]=(Rt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(f?" scale("+f+")":"")}function He(r,l){r._leaflet_pos=l,Rt.any3d?Yn(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function ii(r){return r._leaflet_pos||new at(0,0)}var xr,no,Yo;if("onselectstart"in document)xr=function(){Vt(window,"selectstart",Ze)},no=function(){de(window,"selectstart",Ze)};else{var ia=ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xr=function(){if(ia){var r=document.documentElement.style;Yo=r[ia],r[ia]="none"}},no=function(){ia&&(document.documentElement.style[ia]=Yo,Yo=void 0)}}function ro(){Vt(window,"dragstart",Ze)}function ll(){de(window,"dragstart",Ze)}var qo,aa;function io(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(oa(),qo=r,aa=r.style.outlineStyle,r.style.outlineStyle="none",Vt(window,"keydown",oa))}function oa(){qo&&(qo.style.outlineStyle=aa,qo=void 0,aa=void 0,de(window,"keydown",oa))}function Ti(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ai(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Jc={__proto__:null,TRANSFORM:eo,TRANSITION:ta,TRANSITION_END:_i,get:Zo,getStyle:Si,create:oe,remove:Ne,empty:pn,toFront:wi,toBack:ea,hasClass:na,addClass:Kt,removeClass:Me,setClass:sl,getClass:gn,setOpacity:Tn,testProp:ra,setTransform:Yn,setPosition:He,getPosition:ii,get disableTextSelection(){return xr},get enableTextSelection(){return no},disableImageDrag:ro,enableImageDrag:ll,preventOutline:io,restoreOutline:oa,getSizedParentNode:Ti,getScale:ai};function Vt(r,l,f,x){if(l&&typeof l=="object")for(var E in l)Ei(r,E,l[E],f);else{l=M(l);for(var C=0,q=l.length;C<q;C++)Ei(r,l[C],f,x)}return this}var tr="_leaflet_events";function de(r,l,f,x){if(arguments.length===1)_r(r),delete r[tr];else if(l&&typeof l=="object")for(var E in l)Sr(r,E,l[E],f);else if(l=M(l),arguments.length===2)_r(r,function(ot){return z(l,ot)!==-1});else for(var C=0,q=l.length;C<q;C++)Sr(r,l[C],f,x);return this}function _r(r,l){for(var f in r[tr]){var x=f.split(/\d/)[0];(!l||l(x))&&Sr(r,x,null,null,f)}}var ao={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ei(r,l,f,x){var E=l+b(f)+(x?"_"+b(x):"");if(r[tr]&&r[tr][E])return this;var C=function(ot){return f.call(x||r,ot||window.event)},q=C;!Rt.touchNative&&Rt.pointer&&l.indexOf("touch")===0?C=Ke(r,l,C):Rt.touch&&l==="dblclick"?C=Go(r,C):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(ao[l]||l,C,Rt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(C=function(ot){ot=ot||window.event,Mi(r,ot)&&q(ot)},r.addEventListener(ao[l],C,!1)):r.addEventListener(l,q,!1):r.attachEvent("on"+l,C),r[tr]=r[tr]||{},r[tr][E]=C}function Sr(r,l,f,x,E){E=E||l+b(f)+(x?"_"+b(x):"");var C=r[tr]&&r[tr][E];if(!C)return this;!Rt.touchNative&&Rt.pointer&&l.indexOf("touch")===0?Kc(r,l,C):Rt.touch&&l==="dblclick"?$r(r,C):"removeEventListener"in r?r.removeEventListener(ao[l]||l,C,!1):r.detachEvent("on"+l,C),r[tr][E]=null}function Ur(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function sa(r){return Ei(r,"wheel",Ur),this}function la(r){return Vt(r,"mousedown touchstart dblclick contextmenu",Ur),r._leaflet_disable_click=!0,this}function Ze(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function wr(r){return Ze(r),Ur(r),this}function cl(r){if(r.composedPath)return r.composedPath();for(var l=[],f=r.target;f;)l.push(f),f=f.parentNode;return l}function bn(r,l){if(!l)return new at(r.clientX,r.clientY);var f=ai(l),x=f.boundingClientRect;return new at((r.clientX-x.left)/f.x-l.clientLeft,(r.clientY-x.top)/f.y-l.clientTop)}var Ni=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function oo(r){return Rt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ni:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Mi(r,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var qf={__proto__:null,on:Vt,off:de,stopPropagation:Ur,disableScrollPropagation:sa,disableClickPropagation:la,preventDefault:Ze,stop:wr,getPropagationPath:cl,getMousePosition:bn,getWheelDelta:oo,isExternalTarget:Mi,addListener:Vt,removeListener:de},Vo=st.extend({run:function(r,l,f,x){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ii(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var f=this._startPos.add(this._offset.multiplyBy(r));l&&f._round(),He(this._el,f),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Jt=st.extend({options:{crs:ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=A(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(X(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ta&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,_i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(X(r),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=u({animate:f.animate},f.zoom),f.pan=u({animate:f.animate,duration:f.duration},f.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,f.zoom):this._tryAnimatedPan(r,f.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,f){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),C=r instanceof at?r:this.latLngToContainerPoint(r),q=C.subtract(E).multiplyBy(1-1/x),ot=this.containerPointToLatLng(E.add(q));return this.setView(ot,l,{zoom:f})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():$(r);var f=D(l.paddingTopLeft||l.padding||[0,0]),x=D(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(r,!1,f.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var C=x.subtract(f).divideBy(2),q=this.project(r.getSouthWest(),E),ot=this.project(r.getNorthEast(),E),mt=this.unproject(q.add(ot).divideBy(2).add(C),E);return{center:mt,zoom:E}},fitBounds:function(r,l){if(r=$(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=D(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,f){if(f=f||{},f.animate===!1||!Rt.any3d)return this.setView(r,l,f);this._stop();var x=this.project(this.getCenter()),E=this.project(r),C=this.getSize(),q=this._zoom;r=X(r),l=l===void 0?q:l;var ot=Math.max(C.x,C.y),mt=ot*this.getZoomScale(q,l),Tt=E.distanceTo(x)||1,At=1.42,kt=At*At;function Ot(Le){var Nr=Le?-1:1,Yr=Le?mt:ot,ui=mt*mt-ot*ot+Nr*kt*kt*Tt*Tt,qr=2*Yr*kt*Tt,xo=ui/qr,os=Math.sqrt(xo*xo+1)-xo,_o=os<1e-9?-18:Math.log(os);return _o}function qt(Le){return(Math.exp(Le)-Math.exp(-Le))/2}function De(Le){return(Math.exp(Le)+Math.exp(-Le))/2}function Ie(Le){return qt(Le)/De(Le)}var sn=Ot(0);function qn(Le){return ot*(De(sn)/De(sn+At*Le))}function yu(Le){return ot*(De(sn)*Ie(sn+At*Le)-qt(sn))/kt}function vu(Le){return 1-Math.pow(1-Le,1.5)}var vo=Date.now(),xa=(Ot(1)-sn)/At,xu=f.duration?1e3*f.duration:1e3*xa*.8;function _a(){var Le=(Date.now()-vo)/xu,Nr=vu(Le)*xa;Le<=1?(this._flyToFrame=F(_a,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(yu(Nr)/Tt)),q),this.getScaleZoom(ot/qn(Nr),q),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),_a.call(this),this},flyToBounds:function(r,l){var f=this._getBoundsCenterZoom(r,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(r){return r=$(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var f=this.getCenter(),x=this._limitCenter(f,this._zoom,$(r));return f.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var f=D(l.paddingTopLeft||l.padding||[0,0]),x=D(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),C=this.project(r),q=this.getPixelBounds(),ot=Y([q.min.add(f),q.max.subtract(x)]),mt=ot.getSize();if(!ot.contains(C)){this._enforcingBounds=!0;var Tt=C.subtract(ot.getCenter()),At=ot.extend(C).getSize().subtract(mt);E.x+=Tt.x<0?-At.x:At.x,E.y+=Tt.y<0?-At.y:At.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),x=l.divideBy(2).round(),E=f.divideBy(2).round(),C=x.subtract(E);return!C.x&&!C.y?this:(r.animate&&r.pan?this.panBy(C):(r.pan&&this._rawPanBy(C),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=h(this._handleGeolocationResponse,this),f=h(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,r):navigator.geolocation.getCurrentPosition(l,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,f=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,f=r.coords.longitude,x=new tt(l,f),E=x.toBounds(r.coords.accuracy*2),C=this._locateOptions;if(C.setView){var q=this.getBoundsZoom(E);this.setView(x,C.maxZoom?Math.min(q,C.maxZoom):q)}var ot={latlng:x,bounds:E,timestamp:r.timestamp};for(var mt in r.coords)typeof r.coords[mt]=="number"&&(ot[mt]=r.coords[mt]);this.fire("locationfound",ot)}},addHandler:function(r,l){if(!l)return this;var f=this[r]=new l(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ne(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),x=oe("div",f,l||this._mapPane);return r&&(this._panes[r]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new Z(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,f){r=$(r),f=D(f||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),C=this.getMaxZoom(),q=r.getNorthWest(),ot=r.getSouthEast(),mt=this.getSize().subtract(f),Tt=Y(this.project(ot,x),this.project(q,x)).getSize(),At=Rt.any3d?this.options.zoomSnap:1,kt=mt.x/Tt.x,Ot=mt.y/Tt.y,qt=l?Math.max(kt,Ot):Math.min(kt,Ot);return x=this.getScaleZoom(qt,x),At&&(x=Math.round(x/(At/100))*(At/100),x=l?Math.ceil(x/At)*At:Math.floor(x/At)*At),Math.max(E,Math.min(C,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new at(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var f=this._getTopLeftPoint(r,l);return new k(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(r)/f.scale(l)},getScaleZoom:function(r,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var x=f.zoom(r*f.scale(l));return isNaN(x)?1/0:x},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(X(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(D(r),l)},layerPointToLatLng:function(r){var l=D(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(X(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(X(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds($(r))},distance:function(r,l){return this.options.crs.distance(X(r),X(l))},containerPointToLayerPoint:function(r){return D(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return D(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(D(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(r)))},mouseEventToContainerPoint:function(r){return bn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Zo(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(l,"scroll",this._onScroll,this),this._containerId=b(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,Kt(r,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Si(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),He(this._mapPane,new at(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(r.markerPane,"leaflet-zoom-hide"),Kt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,f){He(this._mapPane,new at(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,f)._move(r,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,f,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),x?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){He(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[b(this._container)]=this;var l=r?de:Vt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var f=[],x,E=l==="mouseout"||l==="mouseover",C=r.target||r.srcElement,q=!1;C;){if(x=this._targets[b(C)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){q=!0;break}if(x&&x.listens(l,!0)&&(E&&!Mi(C,r)||(f.push(x),E))||C===this._container)break;C=C.parentNode}return!f.length&&!q&&!E&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var f=r.type;f==="mousedown"&&io(l),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,f){if(r.type==="click"){var x=u({},r);x.type="preclick",this._fireDOMEvent(x,x.type,f)}var E=this._findEventTargets(r,l);if(f){for(var C=[],q=0;q<f.length;q++)f[q].listens(l,!0)&&C.push(f[q]);E=C.concat(E)}if(E.length){l==="contextmenu"&&Ze(r);var ot=E[0],mt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Tt=ot.getLatLng&&(!ot._radius||ot._radius<=10);mt.containerPoint=Tt?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(r),mt.layerPoint=this.containerPointToLayerPoint(mt.containerPoint),mt.latlng=Tt?ot.getLatLng():this.layerPointToLatLng(mt.layerPoint)}for(q=0;q<E.length;q++)if(E[q].fire(l,mt,!0),mt.originalEvent._stopped||E[q].options.bubblingMouseEvents===!1&&z(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return ii(this._mapPane)||new at(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var f=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var f=this.getSize()._divideBy(2);return this.project(r,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,f){var x=this._getNewPixelOrigin(f,l);return this.project(r,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(r,l,f){var x=this._getNewPixelOrigin(f,l);return Y([this.project(r.getSouthWest(),l)._subtract(x),this.project(r.getNorthWest(),l)._subtract(x),this.project(r.getSouthEast(),l)._subtract(x),this.project(r.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,f){if(!f)return r;var x=this.project(r,l),E=this.getSize().divideBy(2),C=new k(x.subtract(E),x.add(E)),q=this._getBoundsOffset(C,f,l);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(x.add(q),l)},_limitOffset:function(r,l){if(!l)return r;var f=this.getPixelBounds(),x=new k(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(r,l,f){var x=Y(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),E=x.min.subtract(r.min),C=x.max.subtract(r.max),q=this._rebound(E.x,-C.x),ot=this._rebound(E.y,-C.y);return new at(q,ot)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),f=this.getMaxZoom(),x=Rt.any3d?this.options.zoomSnap:1;return x&&(r=Math.round(r/x)*x),Math.max(l,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var f=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var r=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var f=eo,x=this._proxy.style[f];Yn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();Yn(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(r)._divideBy(1-1/x);return f.animate!==!0&&!this.getSize().contains(E)?!1:(F(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,f,x){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function so(r,l){return new Jt(r,l)}var En=ft.extend({options:{position:"topright"},initialize:function(r){A(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),f=this.getPosition(),x=r._controlCorners[f];return Kt(l,"leaflet-control"),f.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ca=function(r){return new En(r)};Jt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",f=this._controlContainer=oe("div",l+"control-container",this._container);function x(E,C){var q=l+E+" "+l+C;r[E+C]=oe("div",q,f)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ne(this._controlCorners[r]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tu=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,f,x){return f<x?-1:x<f?1:0}},initialize:function(r,l,f){A(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in r)this._addLayer(r[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return En.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(b(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=oe("div",r),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),la(l),sa(l);var x=this._section=oe("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Vt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=oe("a",r+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Vt(E,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Ze(C),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=oe("div",r+"-base",x),this._separator=oe("div",r+"-separator",x),this._overlaysList=oe("div",r+"-overlays",x),l.appendChild(x)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&b(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(h(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var r,l,f,x,E=0;for(f=0;f<this._layers.length;f++)x=this._layers[f],this._addItem(x),l=l||x.overlay,r=r||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(b(r.target)),f=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(r,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=f,x.firstChild},_addItem:function(r){var l=document.createElement("label"),f=this._map.hasLayer(r.layer),x;r.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=f):x=this._createRadioElement("leaflet-base-layers_"+b(this),f),this._layerControlInputs.push(x),x.layerId=b(r.layer),Vt(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var C=document.createElement("span");l.appendChild(C),C.appendChild(x),C.appendChild(E);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,f,x=[],E=[];this._handlingClick=!0;for(var C=r.length-1;C>=0;C--)l=r[C],f=this._getLayer(l.layerId).layer,l.checked?x.push(f):l.checked||E.push(f);for(C=0;C<E.length;C++)this._map.hasLayer(E[C])&&this._map.removeLayer(E[C]);for(C=0;C<x.length;C++)this._map.hasLayer(x[C])||this._map.addLayer(x[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,f,x=this._map.getZoom(),E=r.length-1;E>=0;E--)l=r[E],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&x<f.options.minZoom||f.options.maxZoom!==void 0&&x>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Vt(r,"click",Ze),this.expand();var l=this;setTimeout(function(){de(r,"click",Ze),l._preventClick=!1})}}),Vf=function(r,l,f){return new tu(r,l,f)},ul=En.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",f=oe("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,f,x,E){var C=oe("a",f,x);return C.innerHTML=r,C.href="#",C.title=l,C.setAttribute("role","button"),C.setAttribute("aria-label",l),la(C),Vt(C,"click",wr),Vt(C,"click",E,this),Vt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Me(this._zoomInButton,l),Me(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Kt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Kt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ul,this.addControl(this.zoomControl))});var dl=function(r){return new ul(r)},eu=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",f=oe("div",l),x=this.options;return this._addScales(x,l+"-line",f),r.on(x.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,f){r.metric&&(this._mScale=oe("div",l,f)),r.imperial&&(this._iScale=oe("div",l,f))},_update:function(){var r=this._map,l=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/r)},_updateImperial:function(r){var l=r*3.2808399,f,x,E;l>5280?(f=l/5280,x=this._getRoundNum(f),this._updateScale(this._iScale,x+" mi",x/f)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(r,l,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),f=r/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),Ff=function(r){return new eu(r)},Kf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fl=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?Kf+" ":"")+"Leaflet</a>"},initialize:function(r){A(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),la(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&new fl().addTo(this)});var Xf=function(r){return new fl(r)};En.Layers=tu,En.Zoom=ul,En.Scale=eu,En.Attribution=fl,ca.layers=Vf,ca.zoom=dl,ca.scale=Ff,ca.attribution=Xf;var er=ft.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});er.addTo=function(r,l){return r.addHandler(l,this),this};var Wf={Events:K},nu=Rt.touch?"touchstart mousedown":"mousedown",oi=st.extend({options:{clickTolerance:3},initialize:function(r,l,f,x){A(this,x),this._element=r,this._dragStartTarget=l||r,this._preventOutline=f},enable:function(){this._enabled||(Vt(this._dragStartTarget,nu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oi._dragging===this&&this.finishDrag(!0),de(this._dragStartTarget,nu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!na(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){oi._dragging===this&&this.finishDrag();return}if(!(oi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(oi._dragging=this,this._preventOutline&&io(this._element),ro(),xr(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,f=Ti(this._element);this._startPoint=new at(l.clientX,l.clientY),this._startPos=ii(this._element),this._parentScale=ai(f);var x=r.type==="mousedown";Vt(document,x?"mousemove":"touchmove",this._onMove,this),Vt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,f=new at(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ze(r),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),He(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Me(document.body,"leaflet-dragging"),this._lastTarget&&(Me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),de(document,"mousemove touchmove",this._onMove,this),de(document,"mouseup touchend touchcancel",this._onUp,this),ll(),no();var l=this._moved&&this._moving;this._moving=!1,oi._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ru(r,l,f){var x,E=[1,4,2,8],C,q,ot,mt,Tt,At,kt,Ot;for(C=0,At=r.length;C<At;C++)r[C]._code=Di(r[C],l);for(ot=0;ot<4;ot++){for(kt=E[ot],x=[],C=0,At=r.length,q=At-1;C<At;q=C++)mt=r[C],Tt=r[q],mt._code&kt?Tt._code&kt||(Ot=Ko(Tt,mt,kt,l,f),Ot._code=Di(Ot,l),x.push(Ot)):(Tt._code&kt&&(Ot=Ko(Tt,mt,kt,l,f),Ot._code=Di(Ot,l),x.push(Ot)),x.push(mt));r=x}return r}function Fo(r,l){var f,x,E,C,q,ot,mt,Tt,At;if(!r||r.length===0)throw new Error("latlngs not passed");on(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var kt=X([0,0]),Ot=$(r),qt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());qt<1700&&(kt=hl(r));var De=r.length,Ie=[];for(f=0;f<De;f++){var sn=X(r[f]);Ie.push(l.project(X([sn.lat-kt.lat,sn.lng-kt.lng])))}for(ot=mt=Tt=0,f=0,x=De-1;f<De;x=f++)E=Ie[f],C=Ie[x],q=E.y*C.x-C.y*E.x,mt+=(E.x+C.x)*q,Tt+=(E.y+C.y)*q,ot+=q*3;ot===0?At=Ie[0]:At=[mt/ot,Tt/ot];var qn=l.unproject(D(At));return X([qn.lat+kt.lat,qn.lng+kt.lng])}function hl(r){for(var l=0,f=0,x=0,E=0;E<r.length;E++){var C=X(r[E]);l+=C.lat,f+=C.lng,x++}return X([l/x,f/x])}var Qf={__proto__:null,clipPolygon:ru,polygonCenter:Fo,centroid:hl};function iu(r,l){if(!l||!r.length)return r.slice();var f=l*l;return r=eh(r,f),r=th(r,f),r}function ml(r,l,f){return Math.sqrt(Ai(r,l,f,!0))}function Jf(r,l,f){return Ai(r,l,f)}function th(r,l){var f=r.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(f);E[0]=E[f-1]=1,pl(r,E,l,0,f-1);var C,q=[];for(C=0;C<f;C++)E[C]&&q.push(r[C]);return q}function pl(r,l,f,x,E){var C=0,q,ot,mt;for(ot=x+1;ot<=E-1;ot++)mt=Ai(r[ot],r[x],r[E],!0),mt>C&&(q=ot,C=mt);C>f&&(l[q]=1,pl(r,l,f,x,q),pl(r,l,f,q,E))}function eh(r,l){for(var f=[r[0]],x=1,E=0,C=r.length;x<C;x++)nh(r[x],r[E])>l&&(f.push(r[x]),E=x);return E<C-1&&f.push(r[C-1]),f}var au;function ou(r,l,f,x,E){var C=x?au:Di(r,f),q=Di(l,f),ot,mt,Tt;for(au=q;;){if(!(C|q))return[r,l];if(C&q)return!1;ot=C||q,mt=Ko(r,l,ot,f,E),Tt=Di(mt,f),ot===C?(r=mt,C=Tt):(l=mt,q=Tt)}}function Ko(r,l,f,x,E){var C=l.x-r.x,q=l.y-r.y,ot=x.min,mt=x.max,Tt,At;return f&8?(Tt=r.x+C*(mt.y-r.y)/q,At=mt.y):f&4?(Tt=r.x+C*(ot.y-r.y)/q,At=ot.y):f&2?(Tt=mt.x,At=r.y+q*(mt.x-r.x)/C):f&1&&(Tt=ot.x,At=r.y+q*(ot.x-r.x)/C),new at(Tt,At,E)}function Di(r,l){var f=0;return r.x<l.min.x?f|=1:r.x>l.max.x&&(f|=2),r.y<l.min.y?f|=4:r.y>l.max.y&&(f|=8),f}function nh(r,l){var f=l.x-r.x,x=l.y-r.y;return f*f+x*x}function Ai(r,l,f,x){var E=l.x,C=l.y,q=f.x-E,ot=f.y-C,mt=q*q+ot*ot,Tt;return mt>0&&(Tt=((r.x-E)*q+(r.y-C)*ot)/mt,Tt>1?(E=f.x,C=f.y):Tt>0&&(E+=q*Tt,C+=ot*Tt)),q=r.x-E,ot=r.y-C,x?q*q+ot*ot:new at(E,C)}function on(r){return!B(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function su(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),on(r)}function gl(r,l){var f,x,E,C,q,ot,mt,Tt;if(!r||r.length===0)throw new Error("latlngs not passed");on(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var At=X([0,0]),kt=$(r),Ot=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Ot<1700&&(At=hl(r));var qt=r.length,De=[];for(f=0;f<qt;f++){var Ie=X(r[f]);De.push(l.project(X([Ie.lat-At.lat,Ie.lng-At.lng])))}for(f=0,x=0;f<qt-1;f++)x+=De[f].distanceTo(De[f+1])/2;if(x===0)Tt=De[0];else for(f=0,C=0;f<qt-1;f++)if(q=De[f],ot=De[f+1],E=q.distanceTo(ot),C+=E,C>x){mt=(C-x)/E,Tt=[ot.x-mt*(ot.x-q.x),ot.y-mt*(ot.y-q.y)];break}var sn=l.unproject(D(Tt));return X([sn.lat+At.lat,sn.lng+At.lng])}var lu={__proto__:null,simplify:iu,pointToSegmentDistance:ml,closestPointOnSegment:Jf,clipSegment:ou,_getEdgeIntersection:Ko,_getBitCode:Di,_sqClosestPointOnSegment:Ai,isFlat:on,_flat:su,polylineCenter:gl},Xo={project:function(r){return new at(r.lng,r.lat)},unproject:function(r){return new tt(r.y,r.x)},bounds:new k([-180,-90],[180,90])},Wo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,f=this.R,x=r.lat*l,E=this.R_MINOR/f,C=Math.sqrt(1-E*E),q=C*Math.sin(x),ot=Math.tan(Math.PI/4-x/2)/Math.pow((1-q)/(1+q),C/2);return x=-f*Math.log(Math.max(ot,1e-10)),new at(r.lng*l*f,x)},unproject:function(r){for(var l=180/Math.PI,f=this.R,x=this.R_MINOR/f,E=Math.sqrt(1-x*x),C=Math.exp(-r.y/f),q=Math.PI/2-2*Math.atan(C),ot=0,mt=.1,Tt;ot<15&&Math.abs(mt)>1e-7;ot++)Tt=E*Math.sin(q),Tt=Math.pow((1-Tt)/(1+Tt),E/2),mt=Math.PI/2-2*Math.atan(C*Tt)-q,q+=mt;return new tt(q*l,r.x*l/f)}},cu={__proto__:null,LonLat:Xo,Mercator:Wo,SphericalMercator:jt},ua=u({},yt,{code:"EPSG:3395",projection:Wo,transformation:(function(){var r=.5/(Math.PI*Wo.R);return Gt(r,.5,-r,.5)})()}),uu=u({},yt,{code:"EPSG:4326",projection:Xo,transformation:Gt(1/180,1,-1/180,.5)}),rh=u({},ut,{projection:Xo,transformation:Gt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var f=l.lng-r.lng,x=l.lat-r.lat;return Math.sqrt(f*f+x*x)},infinite:!0});ut.Earth=yt,ut.EPSG3395=ua,ut.EPSG3857=ie,ut.EPSG900913=ce,ut.EPSG4326=uu,ut.Simple=rh;var nr=st.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[b(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[b(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=b(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=b(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return b(r)in this._layers},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},_addLayers:function(r){r=r?B(r)?r:[r]:[];for(var l=0,f=r.length;l<f;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[b(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=b(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,f=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ji=nr.extend({initialize:function(r,l){A(this,l),this._layers={};var f,x;if(r)for(f=0,x=r.length;f<x;f++)this.addLayer(r[f])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),f,x;for(f in this._layers)x=this._layers[f],x[r]&&x[r].apply(x,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return b(r)}}),du=function(r,l){return new ji(r,l)},jn=ji.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ji.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ji.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Z;for(var l in this._layers){var f=this._layers[l];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),lo=function(r,l){return new jn(r,l)},da=ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){A(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(r,l){var f=this.options,x=f[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=D(x),C=D(l==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(f.className||""),C&&(r.style.marginLeft=-C.x+"px",r.style.marginTop=-C.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Rt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Qo(r){return new da(r)}var fa=da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof fa.imagePath!="string"&&(fa.imagePath=this._detectIconPath()),(this.options.imagePath||fa.imagePath)+da.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(f,x,E){var C=x.exec(f);return C&&C[E]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=oe("div","leaflet-default-icon-path",document.body),l=Si(r,"background-image")||Si(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),bl=er.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new oi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,f=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,C=ii(l._icon),q=f.getPixelBounds(),ot=f.getPixelOrigin(),mt=Y(q.min._subtract(ot).add(E),q.max._subtract(ot).subtract(E));if(!mt.contains(C)){var Tt=D((Math.max(mt.max.x,C.x)-mt.max.x)/(q.max.x-mt.max.x)-(Math.min(mt.min.x,C.x)-mt.min.x)/(q.min.x-mt.min.x),(Math.max(mt.max.y,C.y)-mt.max.y)/(q.max.y-mt.max.y)-(Math.min(mt.min.y,C.y)-mt.min.y)/(q.min.y-mt.min.y)).multiplyBy(x);f.panBy(Tt,{animate:!1}),this._draggable._newPos._add(Tt),this._draggable._startPos._add(Tt),He(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=F(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,f=l._shadow,x=ii(l._icon),E=l._map.layerPointToLatLng(x);f&&He(f,x),l._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ha=nr.extend({options:{icon:new fa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){A(this,l),this._latlng=X(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=X(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),x=!1;f!==this._icon&&(this._icon&&this._removeIcon(),x=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Kt(f,l),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(f,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),C=!1;E!==this._shadow&&(this._removeShadow(),C=!0),E&&(Kt(E,l),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&C&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&He(this._icon,r),this._shadow&&He(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Tn(this._icon,r),this._shadow&&Tn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,f=l.iconSize?D(l.iconSize):D(0,0),x=l.iconAnchor?D(l.iconAnchor):D(0,0);r.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:f.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yl(r,l){return new ha(r,l)}var Gr=nr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return A(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),co=Gr.extend({options:{fill:!0,radius:10},initialize:function(r,l){A(this,l),this._latlng=X(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=X(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Gr.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,f=this._clickTolerance(),x=[r+f,l+f];this._pxBounds=new k(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fu(r,l){return new co(r,l)}var vl=co.extend({initialize:function(r,l,f){if(typeof l=="number"&&(l=u({},f,{radius:l})),A(this,l),this._latlng=X(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Gr.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,f=this._map,x=f.options.crs;if(x.distance===yt.distance){var E=Math.PI/180,C=this._mRadius/yt.R/E,q=f.project([l+C,r]),ot=f.project([l-C,r]),mt=q.add(ot).divideBy(2),Tt=f.unproject(mt).lat,At=Math.acos((Math.cos(C*E)-Math.sin(l*E)*Math.sin(Tt*E))/(Math.cos(l*E)*Math.cos(Tt*E)))/E;(isNaN(At)||At===0)&&(At=C/Math.cos(Math.PI/180*l)),this._point=mt.subtract(f.getPixelOrigin()),this._radius=isNaN(At)?0:mt.x-f.project([Tt,r-At]).x,this._radiusY=mt.y-q.y}else{var kt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(kt).x}this._updateBounds()}});function ih(r,l,f){return new vl(r,l,f)}var Zr=Gr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){A(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,f=null,x=Ai,E,C,q=0,ot=this._parts.length;q<ot;q++)for(var mt=this._parts[q],Tt=1,At=mt.length;Tt<At;Tt++){E=mt[Tt-1],C=mt[Tt];var kt=x(r,E,C,!0);kt<l&&(l=kt,f=x(r,E,C))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=X(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Z,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return on(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],f=on(r),x=0,E=r.length;x<E;x++)f?(l[x]=X(r[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(r[x]);return l},_project:function(){var r=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new at(r,r);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,f){var x=r[0]instanceof tt,E=r.length,C,q;if(x){for(q=[],C=0;C<E;C++)q[C]=this._map.latLngToLayerPoint(r[C]),f.extend(q[C]);l.push(q)}else for(C=0;C<E;C++)this._projectLatlngs(r[C],l,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,x,E,C,q,ot,mt;for(f=0,E=0,C=this._rings.length;f<C;f++)for(mt=this._rings[f],x=0,q=mt.length;x<q-1;x++)ot=ou(mt[x],mt[x+1],r,x,!0),ot&&(l[E]=l[E]||[],l[E].push(ot[0]),(ot[1]!==mt[x+1]||x===q-2)&&(l[E].push(ot[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,f=0,x=r.length;f<x;f++)r[f]=iu(r[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var f,x,E,C,q,ot,mt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,C=this._parts.length;f<C;f++)for(ot=this._parts[f],x=0,q=ot.length,E=q-1;x<q;E=x++)if(!(!l&&x===0)&&ml(r,ot[E],ot[x])<=mt)return!0;return!1}});function ah(r,l){return new Zr(r,l)}Zr._flat=su;var ma=Zr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Zr.prototype._convertLatLngs.call(this,r),f=l.length;return f>=2&&l[0]instanceof tt&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(r){Zr.prototype._setLatLngs.call(this,r),on(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return on(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,f=new at(l,l);if(r=new k(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,C;x<E;x++)C=ru(this._rings[x],r,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,f,x,E,C,q,ot,mt,Tt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(C=0,mt=this._parts.length;C<mt;C++)for(f=this._parts[C],q=0,Tt=f.length,ot=Tt-1;q<Tt;ot=q++)x=f[q],E=f[ot],x.y>r.y!=E.y>r.y&&r.x<(E.x-x.x)*(r.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||Zr.prototype._containsPoint.call(this,r,!0)}});function kn(r,l){return new ma(r,l)}var Cn=jn.extend({initialize:function(r,l){A(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=B(r)?r:r.features,f,x,E;if(l){for(f=0,x=l.length;f<x;f++)E=l[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var C=this.options;if(C.filter&&!C.filter(r))return this;var q=uo(r,C);return q?(q.feature=pa(r),q.defaultOptions=q.options,this.resetStyle(q),C.onEachFeature&&C.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function uo(r,l){var f=r.type==="Feature"?r.geometry:r,x=f?f.coordinates:null,E=[],C=l&&l.pointToLayer,q=l&&l.coordsToLatLng||Jo,ot,mt,Tt,At;if(!x&&!f)return null;switch(f.type){case"Point":return ot=q(x),xl(C,r,ot,l);case"MultiPoint":for(Tt=0,At=x.length;Tt<At;Tt++)ot=q(x[Tt]),E.push(xl(C,r,ot,l));return new jn(E);case"LineString":case"MultiLineString":return mt=fo(x,f.type==="LineString"?0:1,q),new Zr(mt,l);case"Polygon":case"MultiPolygon":return mt=fo(x,f.type==="Polygon"?1:2,q),new ma(mt,l);case"GeometryCollection":for(Tt=0,At=f.geometries.length;Tt<At;Tt++){var kt=uo({geometry:f.geometries[Tt],type:"Feature",properties:r.properties},l);kt&&E.push(kt)}return new jn(E);case"FeatureCollection":for(Tt=0,At=f.features.length;Tt<At;Tt++){var Ot=uo(f.features[Tt],l);Ot&&E.push(Ot)}return new jn(E);default:throw new Error("Invalid GeoJSON object.")}}function xl(r,l,f,x){return r?r(l,f):new ha(f,x&&x.markersInheritOptions&&x)}function Jo(r){return new tt(r[1],r[0],r[2])}function fo(r,l,f){for(var x=[],E=0,C=r.length,q;E<C;E++)q=l?fo(r[E],l-1,f):(f||Jo)(r[E]),x.push(q);return x}function ho(r,l){return r=X(r),r.alt!==void 0?[_(r.lng,l),_(r.lat,l),_(r.alt,l)]:[_(r.lng,l),_(r.lat,l)]}function ts(r,l,f,x){for(var E=[],C=0,q=r.length;C<q;C++)E.push(l?ts(r[C],on(r[C])?0:l-1,f,x):ho(r[C],x));return!l&&f&&E.length>0&&E.push(E[0].slice()),E}function rr(r,l){return r.feature?u({},r.feature,{geometry:l}):pa(l)}function pa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ki={toGeoJSON:function(r){return rr(this,{type:"Point",coordinates:ho(this.getLatLng(),r)})}};ha.include(ki),vl.include(ki),co.include(ki),Zr.include({toGeoJSON:function(r){var l=!on(this._latlngs),f=ts(this._latlngs,l?1:0,!1,r);return rr(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),ma.include({toGeoJSON:function(r){var l=!on(this._latlngs),f=l&&!on(this._latlngs[0]),x=ts(this._latlngs,f?2:l?1:0,!0,r);return l||(x=[x]),rr(this,{type:(f?"Multi":"")+"Polygon",coordinates:x})}}),ji.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(r).geometry.coordinates)}),rr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var f=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var C=E.toGeoJSON(r);if(f)x.push(C.geometry);else{var q=pa(C);q.type==="FeatureCollection"?x.push.apply(x,q.features):x.push(q)}}}),f?rr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function es(r,l){return new Cn(r,l)}var hu=es,Tr=nr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,f){this._url=r,this._bounds=$(l),A(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&ea(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=$(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:oe("img");if(Kt(l,"leaflet-image-layer"),this._zoomAnimated&&Kt(l,"leaflet-zoom-animated"),this.options.className&&Kt(l,this.options.className),l.onselectstart=S,l.onmousemove=S,l.onload=h(this.fire,this,"load"),l.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Yn(this._image,f,l)},_reset:function(){var r=this._image,l=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();He(r,l.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ga=function(r,l,f){return new Tr(r,l,f)},ns=Tr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:oe("video");if(Kt(l,"leaflet-image-layer"),this._zoomAnimated&&Kt(l,"leaflet-zoom-animated"),this.options.className&&Kt(l,this.options.className),l.onselectstart=S,l.onmousemove=S,l.onloadeddata=h(this.fire,this,"load"),r){for(var f=l.getElementsByTagName("source"),x=[],E=0;E<f.length;E++)x.push(f[E].src);this._url=f.length>0?x:[l.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var q=oe("source");q.src=this._url[C],l.appendChild(q)}}});function mu(r,l,f){return new ns(r,l,f)}var si=Tr.extend({_initImage:function(){var r=this._image=this._url;Kt(r,"leaflet-image-layer"),this._zoomAnimated&&Kt(r,"leaflet-zoom-animated"),this.options.className&&Kt(r,this.options.className),r.onselectstart=S,r.onmousemove=S}});function pu(r,l,f){return new si(r,l,f)}var ir=nr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof tt||B(r))?(this._latlng=X(r),A(this,l)):(A(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Tn(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Tn(this._container,0),this._removeTimeout=setTimeout(h(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=X(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&ea(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof jn){l=null;var f=this._source._layers;for(var x in f)if(f[x]._map){l=f[x];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=D(this.options.offset),f=this._getAnchor();this._zoomAnimated?He(this._container,r.add(f)):l=l.add(r).add(f);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(r,l,f,x){var E=l;return E instanceof r||(E=new r(x).setContent(l)),f&&E.setLatLng(f),E}}),nr.include({_initOverlay:function(r,l,f,x){var E=f;return E instanceof r?(A(E,x),E._source=this):(E=l&&!x?l:new r(x,this),E.setContent(f)),E}});var mo=ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,ir.prototype.openOn.call(this,r)},onAdd:function(r){ir.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gr||this._source.on("preclick",Ur))},onRemove:function(r){ir.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gr||this._source.off("preclick",Ur))},getEvents:function(){var r=ir.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=oe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=oe("div",r+"-content-wrapper",l);if(this._contentNode=oe("div",r+"-content",f),la(l),sa(this._contentNode),Vt(l,"contextmenu",Ur),this._tipContainer=oe("div",r+"-tip-container",l),this._tip=oe("div",r+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=oe("a",r+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(x,"click",function(E){Ze(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var x=r.offsetHeight,E=this.options.maxHeight,C="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",Kt(r,C)):Me(r,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();He(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Si(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,x=this._containerWidth,E=new at(this._containerLeft,-f-this._containerBottom);E._add(ii(this._container));var C=r.layerPointToContainerPoint(E),q=D(this.options.autoPanPadding),ot=D(this.options.autoPanPaddingTopLeft||q),mt=D(this.options.autoPanPaddingBottomRight||q),Tt=r.getSize(),At=0,kt=0;C.x+x+mt.x>Tt.x&&(At=C.x+x-Tt.x+mt.x),C.x-At-ot.x<0&&(At=C.x-ot.x),C.y+f+mt.y>Tt.y&&(kt=C.y+f-Tt.y+mt.y),C.y-kt-ot.y<0&&(kt=C.y-ot.y),(At||kt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([At,kt]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),oh=function(r,l){return new mo(r,l)};Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(r,l,f){return this._initOverlay(mo,r,l,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),nr.include({bindPopup:function(r,l){return this._popup=this._initOverlay(mo,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof jn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){wr(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Gr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var rs=ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){ir.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){ir.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=ir.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,f,x=this._map,E=this._container,C=x.latLngToContainerPoint(x.getCenter()),q=x.layerPointToContainerPoint(r),ot=this.options.direction,mt=E.offsetWidth,Tt=E.offsetHeight,At=D(this.options.offset),kt=this._getAnchor();ot==="top"?(l=mt/2,f=Tt):ot==="bottom"?(l=mt/2,f=0):ot==="center"?(l=mt/2,f=Tt/2):ot==="right"?(l=0,f=Tt/2):ot==="left"?(l=mt,f=Tt/2):q.x<C.x?(ot="right",l=0,f=Tt/2):(ot="left",l=mt+(At.x+kt.x)*2,f=Tt/2),r=r.subtract(D(l,f,!0)).add(At).add(kt),Me(E,"leaflet-tooltip-right"),Me(E,"leaflet-tooltip-left"),Me(E,"leaflet-tooltip-top"),Me(E,"leaflet-tooltip-bottom"),Kt(E,"leaflet-tooltip-"+ot),He(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Tn(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sh=function(r,l){return new rs(r,l)};Jt.include({openTooltip:function(r,l,f){return this._initOverlay(rs,r,l,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),nr.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rs,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof jn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Vt(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Vt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,f,x;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),x=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var _l=da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(pn(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var x=D(f.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function gu(r){return new _l(r)}da.Default=fa;var Ci=nr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){A(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ne(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ea(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof at?r:new at(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,f=-r(-1/0,1/0),x=0,E=l.length,C;x<E;x++)C=l[x].style.zIndex,l[x]!==this._container&&C&&(f=r(f,+C));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt.ielt9){Tn(this._container,this.options.opacity);var r=+new Date,l=!1,f=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var C=Math.min(1,(r-E.loaded)/200);Tn(E.el,C),C<1?l=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=l-Math.abs(r-f),this._onUpdateLevel(f)):(Ne(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var x=this._levels[r],E=this._map;return x||(x=this._levels[r]={},x.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),x.zoom=r,this._setZoomTransform(x,E.getCenter(),E.getZoom()),S(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var r,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ne(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,f,x){var E=Math.floor(r/2),C=Math.floor(l/2),q=f-1,ot=new at(+E,+C);ot.z=+q;var mt=this._tileCoordsToKey(ot),Tt=this._tiles[mt];return Tt&&Tt.active?(Tt.retain=!0,!0):(Tt&&Tt.loaded&&(Tt.retain=!0),q>x?this._retainParent(E,C,q,x):!1)},_retainChildren:function(r,l,f,x){for(var E=2*r;E<2*r+2;E++)for(var C=2*l;C<2*l+2;C++){var q=new at(E,C);q.z=f+1;var ot=this._tileCoordsToKey(q),mt=this._tiles[ot];if(mt&&mt.active){mt.retain=!0;continue}else mt&&mt.loaded&&(mt.retain=!0);f+1<x&&this._retainChildren(E,C,f+1,x)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,f,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var C=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||C)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,l)},_setZoomTransform:function(r,l,f){var x=this._map.getZoomScale(f,r.zoom),E=r.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,f)).round();Rt.any3d?Yn(r.el,E,x):He(r.el,E)},_resetGrid:function(){var r=this._map,l=r.options.crs,f=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],x).x/f.x),Math.ceil(r.project([0,l.wrapLng[1]],x).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],x).y/f.x),Math.ceil(r.project([l.wrapLat[1],0],x).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(f,this._tileZoom),E=l.project(r,this._tileZoom).floor(),C=l.getSize().divideBy(x*2);return new k(E.subtract(C),E.add(C))},_update:function(r){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(x),C=E.getCenter(),q=[],ot=this.options.keepBuffer,mt=new k(E.getBottomLeft().subtract([ot,-ot]),E.getTopRight().add([ot,-ot]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Tt in this._tiles){var At=this._tiles[Tt].coords;(At.z!==this._tileZoom||!mt.contains(new at(At.x,At.y)))&&(this._tiles[Tt].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var kt=E.min.y;kt<=E.max.y;kt++)for(var Ot=E.min.x;Ot<=E.max.x;Ot++){var qt=new at(Ot,kt);if(qt.z=this._tileZoom,!!this._isValidTile(qt)){var De=this._tiles[this._tileCoordsToKey(qt)];De?De.current=!0:q.push(qt)}}if(q.sort(function(sn,qn){return sn.distanceTo(C)-qn.distanceTo(C)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(Ot=0;Ot<q.length;Ot++)this._addTile(q[Ot],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!l.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(r);return $(this.options.bounds).overlaps(x)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,f=this.getTileSize(),x=r.scaleBy(f),E=x.add(f),C=l.unproject(x,r.z),q=l.unproject(E,r.z);return[C,q]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),f=new Z(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),f=new at(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(r){var l=this._tiles[r];l&&(Ne(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Kt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=S,r.onmousemove=S,Rt.ielt9&&this.options.opacity<1&&Tn(r,this.options.opacity)},_addTile:function(r,l){var f=this._getTilePos(r),x=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),h(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&F(h(this._tileReady,this,r,null,E)),He(E,f),this._tiles[x]={el:E,coords:r,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:r});var x=this._tileCoordsToKey(r);f=this._tiles[x],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Tn(f.el,0),U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Kt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new at(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new k(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function ar(r){return new Ci(r)}var Oi=Ci.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=A(this,l),l.detectRetina&&Rt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var f=document.createElement("img");return Vt(f,"load",h(this._tileOnLoad,this,l,f)),Vt(f,"error",h(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var l={r:Rt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=f),l["-y"]=f}return I(this._url,u(l,this.options))},_tileOnLoad:function(r,l){Rt.ielt9?setTimeout(h(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,f){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),r(f,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,x=this.options.zoomOffset;return f&&(r=l-r),r+x},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=S,l.onerror=S,!l.complete)){l.src=R;var f=this._tiles[r].coords;Ne(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",R),Ci.prototype._removeTile.call(this,r)},_tileReady:function(r,l,f){if(!(!this._map||f&&f.getAttribute("src")===R))return Ci.prototype._tileReady.call(this,r,l,f)}});function On(r,l){return new Oi(r,l)}var Ln=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var f=u({},this.defaultWmsParams);for(var x in l)x in this.options||(f[x]=l[x]);l=A(this,l);var E=l.detectRetina&&Rt.retina?2:1,C=this.getTileSize();f.width=C.x*E,f.height=C.y*E,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Oi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),f=this._crs,x=Y(f.project(l[0]),f.project(l[1])),E=x.min,C=x.max,q=(this._wmsVersion>=1.3&&this._crs===uu?[E.y,E.x,C.y,C.x]:[E.x,E.y,C.x,C.y]).join(","),ot=Oi.prototype.getTileUrl.call(this,r);return ot+j(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,l){return u(this.wmsParams,r),l||this.redraw(),this}});function ba(r,l){return new Ln(r,l)}Oi.WMS=Ln,On.wms=ba;var or=nr.extend({options:{padding:.1},initialize:function(r){A(this,r),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var f=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),C=x.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(r,l));Rt.any3d?Yn(this._container,C,f):He(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new k(f,f.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),po=or.extend({options:{tolerance:0},getEvents:function(){var r=or.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){or.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Vt(r,"mousemove",this._onMouseMove,this),Vt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Ne(this._container),de(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){or.prototype._update.call(this);var r=this._bounds,l=this._container,f=r.getSize(),x=Rt.retina?2:1;He(l,r.min),l.width=x*f.x,l.height=x*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){or.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[b(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,f=l.next,x=l.prev;f?f.prev=x:this._drawLast=x,x?x.next=f:this._drawFirst=f,delete r._order,delete this._layers[b(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),f=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;f.push(x)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)r=x.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var f,x,E,C,q=r._parts,ot=q.length,mt=this._ctx;if(ot){for(mt.beginPath(),f=0;f<ot;f++){for(x=0,E=q[f].length;x<E;x++)C=q[f][x],mt[x?"lineTo":"moveTo"](C.x,C.y);l&&mt.closePath()}this._fillStroke(mt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,f=this._ctx,x=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||x)/x;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,l){var f=l.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),f,x,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(x=f);this._fireEvent(x?[x]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Me(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var f,x,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(l)&&(x=f);x!==this._hoveredLayer&&(this._handleMouseOut(r),x&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([x],r,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,f){this._map._fireDOMEvent(l,f||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var f=l.next,x=l.prev;if(f)f.prev=x;else return;x?x.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var f=l.next,x=l.prev;if(x)x.next=f;else return;f?f.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function go(r){return Rt.canvas?new po(r):null}var Li=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ya={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(or.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Li("shape");Kt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Li("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Ne(l),r.removeInteractiveTarget(l),delete this._layers[b(r)]},_updateStyle:function(r){var l=r._stroke,f=r._fill,x=r.options,E=r._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=r._stroke=Li("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=B(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),r._stroke=null),x.fill?(f||(f=r._fill=Li("fill")),E.appendChild(f),f.color=x.fillColor||x.color,f.opacity=x.fillOpacity):f&&(E.removeChild(f),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),f=Math.round(r._radius),x=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+x+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){wi(r._container)},_bringToBack:function(r){ea(r._container)}},bo=Rt.vml?Li:Pe,li=or.extend({_initContainer:function(){this._container=bo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),de(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){or.prototype._update.call(this);var r=this._bounds,l=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),He(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=bo("path");r.options.className&&Kt(l,r.options.className),r.options.interactive&&Kt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ne(r._path),r.removeInteractiveTarget(r._path),delete this._layers[b(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,f=r.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Oe(r._parts,l))},_updateCircle:function(r){var l=r._point,f=Math.max(Math.round(r._radius),1),x=Math.max(Math.round(r._radiusY),1)||f,E="a"+f+","+x+" 0 1,0 ",C=r._empty()?"M0 0":"M"+(l.x-f)+","+l.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(r,C)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){wi(r._path)},_bringToBack:function(r){ea(r._path)}});Rt.vml&&li.include(ya);function Bi(r){return Rt.svg||Rt.vml?new li(r):null}Jt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&go(r)||Bi(r)}});var bu=ma.extend({initialize:function(r,l){ma.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=$(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Bn(r,l){return new bu(r,l)}li.create=bo,li.pointsToPath=Oe,Cn.geometryToLayer=uo,Cn.coordsToLatLng=Jo,Cn.coordsToLatLngs=fo,Cn.latLngToCoords=ho,Cn.latLngsToCoords=ts,Cn.getFeature=rr,Cn.asFeature=pa,Jt.mergeOptions({boxZoom:!0});var is=er.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xr(),ro(),this._startPoint=this._map.mouseEventToContainerPoint(r),Vt(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new k(this._point,this._startPoint),f=l.getSize();He(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Ne(this._box),Me(this._container,"leaflet-crosshair")),no(),ll(),de(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var l=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",is),Jt.mergeOptions({doubleClickZoom:!0});var Er=er.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,f=l.getZoom(),x=l.options.zoomDelta,E=r.originalEvent.shiftKey?f-x:f+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(r.containerPoint,E)}});Jt.addInitHook("addHandler","doubleClickZoom",Er),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Sl=er.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new oi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Me(this._map._container,"leaflet-grab"),Me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=$(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),f=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+f)%r+l-f,C=(x+l+f)%r-l-f,q=Math.abs(E+f)<Math.abs(C+f)?E:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var l=this._map,f=l.options,x=!f.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,q=f.easeLinearity,ot=E.multiplyBy(q/C),mt=ot.distanceTo([0,0]),Tt=Math.min(f.inertiaMaxSpeed,mt),At=ot.multiplyBy(Tt/mt),kt=Tt/(f.inertiaDeceleration*q),Ot=At.multiplyBy(-kt/2).round();!Ot.x&&!Ot.y?l.fire("moveend"):(Ot=l._limitOffset(Ot,l.options.maxBounds),F(function(){l.panBy(Ot,{duration:kt,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Jt.addInitHook("addHandler","dragging",Sl),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yo=er.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Vt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),de(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,f=r.scrollTop||l.scrollTop,x=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},f=this.keyCodes,x,E;for(x=0,E=f.left.length;x<E;x++)l[f.left[x]]=[-1*r,0];for(x=0,E=f.right.length;x<E;x++)l[f.right[x]]=[r,0];for(x=0,E=f.down.length;x<E;x++)l[f.down[x]]=[0,r];for(x=0,E=f.up.length;x<E;x++)l[f.up[x]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},f=this.keyCodes,x,E;for(x=0,E=f.zoomIn.length;x<E;x++)l[f.zoomIn[x]]=r;for(x=0,E=f.zoomOut.length;x<E;x++)l[f.zoomOut[x]]=-r},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){de(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,f=this._map,x;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(x=this._panKeys[l],r.shiftKey&&(x=D(x).multiplyBy(3)),f.options.maxBounds&&(x=f._limitOffset(D(x),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(x)));f.panTo(E)}else f.panBy(x)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;wr(r)}}});Jt.addInitHook("addHandler","keyboard",yo),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ci=er.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=oo(r),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var x=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),x),wr(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,C=f?Math.ceil(E/f)*f:E,q=r._limitZoom(l+(this._delta>0?C:-C))-l;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+q):r.setZoomAround(this._lastMousePos,l+q))}});Jt.addInitHook("addHandler","scrollWheelZoom",ci);var wl=600;Jt.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var as=er.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new at(l.clientX,l.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",Ze),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),wl),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){de(document,"touchend",Ze),de(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new at(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Jt.addInitHook("addHandler","tapHold",as),Jt.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var Ri=er.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(r.touches[0]),x=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(x)._divideBy(2))),this._startDist=f.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),Ze(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(r.touches[0]),x=l.mouseEventToContainerPoint(r.touches[1]),E=f.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var C=f._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&C.x===0&&C.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var q=h(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(q,this,!0),Ze(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jt.addInitHook("addHandler","touchZoom",Ri),Jt.BoxZoom=is,Jt.DoubleClickZoom=Er,Jt.Drag=Sl,Jt.Keyboard=yo,Jt.ScrollWheelZoom=ci,Jt.TapHold=as,Jt.TouchZoom=Ri,o.Bounds=k,o.Browser=Rt,o.CRS=ut,o.Canvas=po,o.Circle=vl,o.CircleMarker=co,o.Class=ft,o.Control=En,o.DivIcon=_l,o.DivOverlay=ir,o.DomEvent=qf,o.DomUtil=Jc,o.Draggable=oi,o.Evented=st,o.FeatureGroup=jn,o.GeoJSON=Cn,o.GridLayer=Ci,o.Handler=er,o.Icon=da,o.ImageOverlay=Tr,o.LatLng=tt,o.LatLngBounds=Z,o.Layer=nr,o.LayerGroup=ji,o.LineUtil=lu,o.Map=Jt,o.Marker=ha,o.Mixin=Wf,o.Path=Gr,o.Point=at,o.PolyUtil=Qf,o.Polygon=ma,o.Polyline=Zr,o.Popup=mo,o.PosAnimation=Vo,o.Projection=cu,o.Rectangle=bu,o.Renderer=or,o.SVG=li,o.SVGOverlay=si,o.TileLayer=Oi,o.Tooltip=rs,o.Transformation=Ft,o.Util=W,o.VideoOverlay=ns,o.bind=h,o.bounds=Y,o.canvas=go,o.circle=ih,o.circleMarker=fu,o.control=ca,o.divIcon=gu,o.extend=u,o.featureGroup=lo,o.geoJSON=es,o.geoJson=hu,o.gridLayer=ar,o.icon=Qo,o.imageOverlay=ga,o.latLng=X,o.latLngBounds=$,o.layerGroup=du,o.map=so,o.marker=yl,o.point=D,o.polygon=kn,o.polyline=ah,o.popup=oh,o.rectangle=Bn,o.setOptions=A,o.stamp=b,o.svg=Bi,o.svgOverlay=pu,o.tileLayer=On,o.tooltip=sh,o.transformation=Gt,o.version=s,o.videoOverlay=mu;var va=window.L;o.noConflict=function(){return window.L=va,this},window.L=o}))})(_c,_c.exports)),_c.exports}var VT=qT();const Um=Vs(VT),gd=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ao(t){const i=document.getElementById(t);if(!i)throw new Error(`#${t} not found`);return i}function FT(t){const{buttonId:i,buttonInputId:o,modalId:s,closeMapId:u,mapCloseBtnId:d,searchBoxId:h,suggestionsId:p,mapId:b}=t.ids,v=t.initialCenter??{lat:37.5665,lon:126.978},w=Ao(o),S=Ao(i),_=Ao(s),T=Ao(d),M=Ao(h),A=Ao(p),j=u?Ao(u):null;let H=null,I=null,B=null;const z=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",R=U=>{z(U)&&document.activeElement!==M&&(U.preventDefault(),U.stopPropagation(),M.focus())},G=()=>{_.style.display="flex",H?setTimeout(()=>H?.invalidateSize(),200):setTimeout(()=>{H=Um.map(b,{keyboard:!1}).setView([v.lat,v.lon],11),Um.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo(H),H.invalidateSize()},0),_.addEventListener("keydown",R,!0),_.addEventListener("keyup",R,!0),M.focus()},Q=()=>{_.style.display="none",M.value="",A.innerHTML="",B&&(window.clearTimeout(B),B=null),_.removeEventListener("keydown",R,!0),_.removeEventListener("keyup",R,!0)},J=U=>{const W=U.dataset.name??"",ft=Number(U.dataset.lat??""),pt=Number(U.dataset.lon??"");!Number.isFinite(ft)||!Number.isFinite(pt)||!H||(I?I.setLatLng([ft,pt]):I=Um.marker([ft,pt]).addTo(H),H.flyTo([ft,pt],14,{duration:.5}),w.value=W,w.dataset.lat=String(ft),w.dataset.lon=String(pt),t.onSelected?.({name:W,lat:ft,lon:pt}),A.innerHTML="",Q())},rt=()=>{B&&window.clearTimeout(B);const U=M.value.trim();if(!U){A.innerHTML="";return}B=window.setTimeout(async()=>{try{const W="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),ft=await fetch(W,{headers:{Accept:"application/json"}});if(!ft.ok)throw new Error(`HTTP ${ft.status}`);const pt=await ft.json();if(!Array.isArray(pt)||pt.length===0){A.innerHTML='<li style="padding:8px">결과 없음</li>';return}const K=pt.slice(0,12).map((st,at)=>{const bt=st.display_name.split(",").slice(0,3).map(Y=>Y.trim()).join(" · "),D="padding:8px;cursor:pointer;outline:none;",k=at===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${gd(bt)}"
                    data-lat="${gd(st.lat)}"
                    data-lon="${gd(st.lon)}"
                    data-active="${at===0?"1":"0"}"
                    style="${D}${k}"
                  >${gd(bt)}</li>`}).join("");A.innerHTML=K}catch(W){console.error(W),A.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},nt=U=>{const W=U.target;W.tagName==="LI"&&J(W)},F=U=>{if(U.key==="Enter"){const W=A.querySelector('li[data-active="1"]')??A.querySelector("li");W&&J(W)}};return S.addEventListener("click",G),T.addEventListener("click",Q),j&&j.addEventListener("click",Q),M.addEventListener("input",rt),M.addEventListener("keydown",F),A.addEventListener("click",nt),()=>{S.removeEventListener("click",G),T.removeEventListener("click",Q),j&&j.removeEventListener("click",Q),M.removeEventListener("input",rt),M.removeEventListener("keydown",F),A.removeEventListener("click",nt),_.removeEventListener("keydown",R,!0),_.removeEventListener("keyup",R,!0),B&&(window.clearTimeout(B),B=null),H&&(H.remove(),H=null)}}function Ds(){return document.getElementById("suggestions")}function $d(t){const i=Array.from(t.querySelectorAll('li, [role="option"]'));return i.forEach((o,s)=>{o.getAttribute("role")||o.setAttribute("role","option"),o.setAttribute("aria-selected",o===document.activeElement?"true":"false"),o.tabIndex=-1,o.id||(o.id=`suggestion-item-${s}`)}),i}function ac(t,i){const o=$d(t);if(o.length===0)return;const s=o.length;let u=i;u<0&&(u=s-1),u>=s&&(u=0),o.forEach(h=>{h.tabIndex=-1,h.setAttribute("aria-selected","false")});const d=o[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function __({onSelect:t,placeholderText:i="출생지선택",buttonStyle:o,value:s}){const[u,d]=O.useState(i),[h,p]=O.useState(!1),[b,v]=O.useState(s??""),w=O.useRef(null),S=O.useRef(null),_=O.useRef(null),T=O.useRef(null);return O.useEffect(()=>{s!==void 0&&v(s)},[s]),O.useEffect(()=>{if(!h)return;const M=FT({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:rt=>{d("선택완료"),v(rt.name),w.current&&(w.current.value=rt.name),S.current&&(S.current.value=String(rt.lat)),_.current&&(_.current.value=String(rt.lon)),t?.(rt),p(!1)}}),A=document.getElementById("inputBirthPlaceBtn");A&&A.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const j=document.getElementById("mapModal"),H=document.getElementById("searchBox"),I=Ds();setTimeout(()=>H?.focus(),0);const B='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',z=rt=>{if(rt.key==="Escape"){rt.preventDefault(),p(!1);return}if(rt.key!=="Tab")return;const nt=Ds();if(nt&&nt.contains(document.activeElement))return;const F=Array.from(j.querySelectorAll(B)).filter(pt=>!pt.hasAttribute("disabled")&&pt.tabIndex!==-1);if(F.length===0)return;const U=F[0],W=F[F.length-1],ft=document.activeElement;rt.shiftKey?(ft===U||!j.contains(ft))&&(rt.preventDefault(),W.focus()):(ft===W||!j.contains(ft))&&(rt.preventDefault(),U.focus())};j.addEventListener("keydown",z);const R=rt=>{if(rt.key!=="ArrowDown")return;const nt=Ds();!nt||$d(nt).length===0||(rt.preventDefault(),ac(nt,0))};H?.addEventListener("keydown",R);const G=rt=>{if(rt.target.value.trim()===""){const F=Ds();F&&(F.innerHTML="")}};H?.addEventListener("input",G);const Q=rt=>{const nt=Ds();if(!nt)return;const F=$d(nt);if(F.length===0)return;const U=document.activeElement,W=U?F.indexOf(U):-1;if(W===-1)return;const ft=pt=>{rt.preventDefault(),ac(nt,W+pt)};switch(rt.key){case"Tab":rt.preventDefault(),ft(rt.shiftKey?-1:1);break;case"ArrowDown":rt.preventDefault(),ft(1);break;case"ArrowUp":rt.preventDefault(),ft(-1);break;case"Home":rt.preventDefault(),ac(nt,0);break;case"End":rt.preventDefault(),ac(nt,F.length-1);break;case"Enter":case" ":rt.preventDefault(),U.click();break;case"Backspace":rt.preventDefault(),nt.innerHTML="",H?.focus();break}rt.stopPropagation()};let J=null;return I&&(I.addEventListener("keydown",Q),J=new MutationObserver(()=>{const rt=Ds();!rt||$d(rt).length===0||ac(rt,0)}),J.observe(I,{childList:!0,subtree:!1})),()=>{j.removeEventListener("keydown",z),H?.removeEventListener("keydown",R),H?.removeEventListener("input",G),I&&I.removeEventListener("keydown",Q),J?.disconnect(),M?.()}},[h,t]),O.useEffect(()=>{h||setTimeout(()=>T.current?.focus(),0)},[h]),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:i}),g.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:o,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":h,"aria-controls":"mapModal",children:u}),g.jsx("input",{ref:w,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:_,type:"hidden",name:"birthPlace_lon",defaultValue:""}),h&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),g.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var zc=r_();const KT=Vs(zc);function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var XT=typeof Symbol=="function"&&Symbol.observable||"@@observable",Vy=XT,Fy=()=>Math.random().toString(36).substring(7).split("").join("."),WT={INIT:`@@redux/INIT${Fy()}`,REPLACE:`@@redux/REPLACE${Fy()}`},Ky=WT;function QT(t){if(typeof t!="object"||t===null)return!1;let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i||Object.getPrototypeOf(t)===null}function S_(t,i,o){if(typeof t!="function")throw new Error(Pn(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Pn(1));return o(S_)(t,i)}let s=t,u=i,d=new Map,h=d,p=0,b=!1;function v(){h===d&&(h=new Map,d.forEach((j,H)=>{h.set(H,j)}))}function w(){if(b)throw new Error(Pn(3));return u}function S(j){if(typeof j!="function")throw new Error(Pn(4));if(b)throw new Error(Pn(5));let H=!0;v();const I=p++;return h.set(I,j),function(){if(H){if(b)throw new Error(Pn(6));H=!1,v(),h.delete(I),d=null}}}function _(j){if(!QT(j))throw new Error(Pn(7));if(typeof j.type>"u")throw new Error(Pn(8));if(typeof j.type!="string")throw new Error(Pn(17));if(b)throw new Error(Pn(9));try{b=!0,u=s(u,j)}finally{b=!1}return(d=h).forEach(I=>{I()}),j}function T(j){if(typeof j!="function")throw new Error(Pn(10));s=j,_({type:Ky.REPLACE})}function M(){const j=S;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(Pn(11));function I(){const z=H;z.next&&z.next(w())}return I(),{unsubscribe:j(I)}},[Vy](){return this}}}return _({type:Ky.INIT}),{dispatch:_,subscribe:S,getState:w,replaceReducer:T,[Vy]:M}}function Xy(t,i){return function(...o){return i(t.apply(this,o))}}function Wy(t,i){if(typeof t=="function")return Xy(t,i);if(typeof t!="object"||t===null)throw new Error(Pn(16));const o={};for(const s in t){const u=t[s];typeof u=="function"&&(o[s]=Xy(u,i))}return o}function w_(...t){return t.length===0?i=>i:t.length===1?t[0]:t.reduce((i,o)=>(...s)=>i(o(...s)))}function JT(...t){return i=>(o,s)=>{const u=i(o,s);let d=()=>{throw new Error(Pn(15))};const h={getState:u.getState,dispatch:(b,...v)=>d(b,...v)},p=t.map(b=>b(h));return d=w_(...p)(u.dispatch),{...u,dispatch:d}}}var Gm={exports:{}},Zm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function tE(){if(Qy)return Zm;Qy=1;var t=vf();function i(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var o=typeof Object.is=="function"?Object.is:i,s=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,h=t.useMemo,p=t.useDebugValue;return Zm.useSyncExternalStoreWithSelector=function(b,v,w,S,_){var T=u(null);if(T.current===null){var M={hasValue:!1,value:null};T.current=M}else M=T.current;T=h(function(){function j(R){if(!H){if(H=!0,I=R,R=S(R),_!==void 0&&M.hasValue){var G=M.value;if(_(G,R))return B=G}return B=R}if(G=B,o(I,R))return G;var Q=S(R);return _!==void 0&&_(G,Q)?(I=R,G):(I=R,B=Q)}var H=!1,I,B,z=w===void 0?null:w;return[function(){return j(v())},z===null?void 0:function(){return j(z())}]},[v,w,S,_]);var A=s(b,T[0],T[1]);return d(function(){M.hasValue=!0,M.value=A},[A]),p(A),A},Zm}var Jy;function eE(){return Jy||(Jy=1,Gm.exports=tE()),Gm.exports}eE();var nE=O.version.startsWith("19"),rE=Symbol.for(nE?"react.transitional.element":"react.element"),iE=Symbol.for("react.portal"),aE=Symbol.for("react.fragment"),oE=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),lE=Symbol.for("react.consumer"),cE=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),uE=Symbol.for("react.suspense"),dE=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),fE=Symbol.for("react.lazy"),hE=T_,mE=ep;function pE(t){if(typeof t=="object"&&t!==null){const{$$typeof:i}=t;switch(i){case rE:switch(t=t.type,t){case aE:case sE:case oE:case uE:case dE:return t;default:switch(t=t&&t.$$typeof,t){case cE:case T_:case fE:case ep:return t;case lE:return t;default:return i}}case iE:return i}}}function gE(t){return pE(t)===ep}function bE(t,i,o,s,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}){let p=!1,b,v,w,S,_;function T(I,B){return b=I,v=B,w=t(b,v),S=i(s,v),_=o(w,S,v),p=!0,_}function M(){return w=t(b,v),i.dependsOnOwnProps&&(S=i(s,v)),_=o(w,S,v),_}function A(){return t.dependsOnOwnProps&&(w=t(b,v)),i.dependsOnOwnProps&&(S=i(s,v)),_=o(w,S,v),_}function j(){const I=t(b,v),B=!h(I,w);return w=I,B&&(_=o(w,S,v)),_}function H(I,B){const z=!d(B,v),R=!u(I,b,B,v);return b=I,v=B,z&&R?M():z?A():R?j():_}return function(B,z){return p?H(B,z):T(B,z)}}function yE(t,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:s,...u}){const d=i(t,u),h=o(t,u),p=s(t,u);return bE(d,h,p,t,u)}function vE(t,i){const o={};for(const s in t){const u=t[s];typeof u=="function"&&(o[s]=(...d)=>i(u(...d)))}return o}function R0(t){return function(o){const s=t(o);function u(){return s}return u.dependsOnOwnProps=!1,u}}function tv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function E_(t,i){return function(s,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=tv(t);let v=d(p,b);return typeof v=="function"&&(d.mapToProps=v,d.dependsOnOwnProps=tv(v),v=d(p,b)),v},d}}function np(t,i){return(o,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${i} argument when connecting component ${s.wrappedComponentName}.`)}}function xE(t){return t&&typeof t=="object"?R0(i=>vE(t,i)):t?typeof t=="function"?E_(t):np(t,"mapDispatchToProps"):R0(i=>({dispatch:i}))}function _E(t){return t?typeof t=="function"?E_(t):np(t,"mapStateToProps"):R0(()=>({}))}function SE(t,i,o){return{...o,...t,...i}}function wE(t){return function(o,{displayName:s,areMergedPropsEqual:u}){let d=!1,h;return function(b,v,w){const S=t(b,v,w);return d?u(S,h)||(h=S):(d=!0,h=S),h}}}function TE(t){return t?typeof t=="function"?wE(t):np(t,"mergeProps"):()=>SE}function EE(t){t()}function NE(){let t=null,i=null;return{clear(){t=null,i=null},notify(){EE(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let s=t;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0;const u=i={callback:o,next:null,prev:i};return u.prev?u.prev.next=u:t=u,function(){!s||t===null||(s=!1,u.next?u.next.prev=u.prev:i=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var ev={notify(){},get:()=>[]};function N_(t,i){let o,s=ev,u=0,d=!1;function h(A){w();const j=s.subscribe(A);let H=!1;return()=>{H||(H=!0,j(),S())}}function p(){s.notify()}function b(){M.onStateChange&&M.onStateChange()}function v(){return d}function w(){u++,o||(o=i?i.addNestedSub(b):t.subscribe(b),s=NE())}function S(){u--,o&&u===0&&(o(),o=void 0,s.clear(),s=ev)}function _(){d||(d=!0,w())}function T(){d&&(d=!1,S())}const M={addNestedSub:h,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:v,trySubscribe:_,tryUnsubscribe:T,getListeners:()=>s};return M}var ME=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DE=ME(),AE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jE=AE(),kE=()=>DE||jE?O.useLayoutEffect:O.useEffect,qd=kE();function nv(t,i){return t===i?t!==0||i!==0||1/t===1/i:t!==t&&i!==i}function Ym(t,i){if(nv(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;const o=Object.keys(t),s=Object.keys(i);if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!Object.prototype.hasOwnProperty.call(i,o[u])||!nv(t[o[u]],i[o[u]]))return!1;return!0}var CE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},OE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BE={[hE]:LE,[mE]:M_};function rv(t){return gE(t)?M_:BE[t.$$typeof]||CE}var RE=Object.defineProperty,PE=Object.getOwnPropertyNames,iv=Object.getOwnPropertySymbols,zE=Object.getOwnPropertyDescriptor,HE=Object.getPrototypeOf,av=Object.prototype;function P0(t,i){if(typeof i!="string"){if(av){const d=HE(i);d&&d!==av&&P0(t,d)}let o=PE(i);iv&&(o=o.concat(iv(i)));const s=rv(t),u=rv(i);for(let d=0;d<o.length;++d){const h=o[d];if(!OE[h]&&!(u&&u[h])&&!(s&&s[h])){const p=zE(i,h);try{RE(t,h,p)}catch{}}}}return t}var IE=Symbol.for("react-redux-context"),$E=typeof globalThis<"u"?globalThis:{};function UE(){if(!O.createContext)return{};const t=$E[IE]??=new Map;let i=t.get(O.createContext);return i||(i=O.createContext(null),t.set(O.createContext,i)),i}var D_=UE(),GE=[null,null];function ZE(t,i,o){qd(()=>t(...i),o)}function YE(t,i,o,s,u,d){t.current=s,o.current=!1,u.current&&(u.current=null,d())}function qE(t,i,o,s,u,d,h,p,b,v,w){if(!t)return()=>{};let S=!1,_=null;const T=()=>{if(S||!p.current)return;const A=i.getState();let j,H;try{j=s(A,u.current)}catch(I){H=I,_=I}H||(_=null),j===d.current?h.current||v():(d.current=j,b.current=j,h.current=!0,w())};return o.onStateChange=T,o.trySubscribe(),T(),()=>{if(S=!0,o.tryUnsubscribe(),o.onStateChange=null,_)throw _}}function VE(t,i){return t===i}function FE(t,i,o,{pure:s,areStatesEqual:u=VE,areOwnPropsEqual:d=Ym,areStatePropsEqual:h=Ym,areMergedPropsEqual:p=Ym,forwardRef:b=!1,context:v=D_}={}){const w=v,S=_E(t),_=xE(i),T=TE(o),M=!!t;return j=>{const H=j.displayName||j.name||"Component",I=`Connect(${H})`,B={shouldHandleStateChanges:M,displayName:I,wrappedComponentName:H,WrappedComponent:j,initMapStateToProps:S,initMapDispatchToProps:_,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:h,areOwnPropsEqual:d,areMergedPropsEqual:p};function z(Q){const[J,rt,nt]=O.useMemo(()=>{const{reactReduxForwardedRef:Gt,...ie}=Q;return[Q.context,Gt,ie]},[Q]),F=O.useMemo(()=>{let Gt=w;return J?.Consumer,Gt},[J,w]),U=O.useContext(F),W=!!Q.store&&!!Q.store.getState&&!!Q.store.dispatch,ft=!!U&&!!U.store,pt=W?Q.store:U.store,K=ft?U.getServerState:pt.getState,st=O.useMemo(()=>yE(pt.dispatch,B),[pt]),[at,bt]=O.useMemo(()=>{if(!M)return GE;const Gt=N_(pt,W?void 0:U.subscription),ie=Gt.notifyNestedSubs.bind(Gt);return[Gt,ie]},[pt,W,U]),D=O.useMemo(()=>W?U:{...U,subscription:at},[W,U,at]),k=O.useRef(void 0),Y=O.useRef(nt),Z=O.useRef(void 0),$=O.useRef(!1),tt=O.useRef(!1),X=O.useRef(void 0);qd(()=>(tt.current=!0,()=>{tt.current=!1}),[]);const ut=O.useMemo(()=>()=>Z.current&&nt===Y.current?Z.current:st(pt.getState(),nt),[pt,nt]),yt=O.useMemo(()=>ie=>at?qE(M,pt,at,st,Y,k,$,tt,Z,bt,ie):()=>{},[at]);ZE(YE,[Y,k,$,nt,Z,bt]);let vt;try{vt=O.useSyncExternalStore(yt,ut,K?()=>st(K(),nt):ut)}catch(Gt){throw X.current&&(Gt.message+=`
The error may be correlated with this previous error:
${X.current.stack}

`),Gt}qd(()=>{X.current=void 0,Z.current=void 0,k.current=vt});const jt=O.useMemo(()=>O.createElement(j,{...vt,ref:rt}),[rt,j,vt]);return O.useMemo(()=>M?O.createElement(F.Provider,{value:D},jt):jt,[F,jt,D])}const G=O.memo(z);if(G.WrappedComponent=j,G.displayName=z.displayName=I,b){const J=O.forwardRef(function(nt,F){return O.createElement(G,{...nt,reactReduxForwardedRef:F})});return J.displayName=I,J.WrappedComponent=j,P0(J,j)}return P0(G,j)}}var A_=FE;function KE(t){const{children:i,context:o,serverState:s,store:u}=t,d=O.useMemo(()=>{const b=N_(u);return{store:u,subscription:b,getServerState:s?()=>s:void 0}},[u,s]),h=O.useMemo(()=>u.getState(),[u]);qd(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),h!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,h]);const p=o||D_;return O.createElement(p.Provider,{value:d},i)}var XE=KE,WE="Invariant failed";function QE(t,i){throw new Error(WE)}var Xr=function(i){var o=i.top,s=i.right,u=i.bottom,d=i.left,h=s-d,p=u-o,b={top:o,right:s,bottom:u,left:d,width:h,height:p,x:d,y:o,center:{x:(s+d)/2,y:(u+o)/2}};return b},rp=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},ov=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},JE=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},qm={top:0,right:0,bottom:0,left:0},ip=function(i){var o=i.borderBox,s=i.margin,u=s===void 0?qm:s,d=i.border,h=d===void 0?qm:d,p=i.padding,b=p===void 0?qm:p,v=Xr(rp(o,u)),w=Xr(ov(o,h)),S=Xr(ov(w,b));return{marginBox:v,borderBox:Xr(o),paddingBox:w,contentBox:S,margin:u,border:h,padding:b}},jr=function(i){var o=i.slice(0,-2),s=i.slice(-2);if(s!=="px")return 0;var u=Number(o);return isNaN(u)&&QE(),u},t3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Vd=function(i,o){var s=i.borderBox,u=i.border,d=i.margin,h=i.padding,p=JE(s,o);return ip({borderBox:p,border:u,margin:d,padding:h})},Fd=function(i,o){return o===void 0&&(o=t3()),Vd(i,o)},j_=function(i,o){var s={top:jr(o.marginTop),right:jr(o.marginRight),bottom:jr(o.marginBottom),left:jr(o.marginLeft)},u={top:jr(o.paddingTop),right:jr(o.paddingRight),bottom:jr(o.paddingBottom),left:jr(o.paddingLeft)},d={top:jr(o.borderTopWidth),right:jr(o.borderRightWidth),bottom:jr(o.borderBottomWidth),left:jr(o.borderLeftWidth)};return ip({borderBox:i,margin:s,padding:u,border:d})},k_=function(i){var o=i.getBoundingClientRect(),s=window.getComputedStyle(i);return j_(o,s)},Dc=function(i){var o=[],s=null,u=function(){for(var h=arguments.length,p=new Array(h),b=0;b<h;b++)p[b]=arguments[b];o=p,!s&&(s=requestAnimationFrame(function(){s=null,i.apply(void 0,o)}))};return u.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},u};function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Kd.apply(null,arguments)}function C_(t,i){}C_.bind(null,"warn");C_.bind(null,"error");function Fa(){}function e3(t,i){return{...t,...i}}function Or(t,i,o){const s=i.map(u=>{const d=e3(o,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){s.forEach(d=>{d()})}}const n3="Invariant failed";class Xd extends Error{}Xd.prototype.toString=function(){return this.message};function Mt(t,i){throw new Xd(n3)}class r3 extends Ce.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=Fa,this.onWindowError=o=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),o.error instanceof Xd&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Or(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof Xd){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const i3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Wd=t=>t+1,a3=t=>`
  You have lifted an item in position ${Wd(t.source.index)}
`,O_=(t,i)=>{const o=t.droppableId===i.droppableId,s=Wd(t.index),u=Wd(i.index);return o?`
      You have moved the item from position ${s}
      to position ${u}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${i.droppableId}
    in position ${u}
  `},L_=(t,i,o)=>i.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,o3=t=>{const i=t.destination;if(i)return O_(t.source,i);const o=t.combine;return o?L_(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},sv=t=>`
  The item has returned to its starting position
  of ${Wd(t.index)}
`,s3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${sv(t.source)}
    `;const i=t.destination,o=t.combine;return i?`
      You have dropped the item.
      ${O_(t.source,i)}
    `:o?`
      You have dropped the item.
      ${L_(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${sv(t.source)}
  `},Ud={dragHandleUsageInstructions:i3,onDragStart:a3,onDragUpdate:o3,onDragEnd:s3};function l3(t,i){return!!(t===i||Number.isNaN(t)&&Number.isNaN(i))}function B_(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(!l3(t[o],i[o]))return!1;return!0}function le(t,i){const o=O.useState(()=>({inputs:i,result:t()}))[0],s=O.useRef(!0),u=O.useRef(o),h=s.current||!!(i&&u.current.inputs&&B_(i,u.current.inputs))?u.current:{inputs:i,result:t()};return O.useEffect(()=>{s.current=!1,u.current=h},[h]),h.result}function zt(t,i){return le(()=>t,i)}const hn={x:0,y:0},Sn=(t,i)=>({x:t.x+i.x,y:t.y+i.y}),mr=(t,i)=>({x:t.x-i.x,y:t.y-i.y}),Ka=(t,i)=>t.x===i.x&&t.y===i.y,Fs=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),zo=(t,i,o=0)=>t==="x"?{x:i,y:o}:{x:o,y:i},Ac=(t,i)=>Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2),lv=(t,i)=>Math.min(...i.map(o=>Ac(t,o))),R_=t=>i=>({x:t(i.x),y:t(i.y)});var c3=(t,i)=>{const o=Xr({top:Math.max(i.top,t.top),right:Math.min(i.right,t.right),bottom:Math.min(i.bottom,t.bottom),left:Math.max(i.left,t.left)});return o.width<=0||o.height<=0?null:o};const Hc=(t,i)=>({top:t.top+i.y,left:t.left+i.x,bottom:t.bottom+i.y,right:t.right+i.x}),cv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],u3={top:0,right:0,bottom:0,left:0},d3=(t,i)=>i?Hc(t,i.scroll.diff.displacement):t,f3=(t,i,o)=>o&&o.increasedBy?{...t,[i.end]:t[i.end]+o.increasedBy[i.line]}:t,h3=(t,i)=>i&&i.shouldClipSubject?c3(i.pageMarginBox,t):Xr(t);var $s=({page:t,withPlaceholder:i,axis:o,frame:s})=>{const u=d3(t.marginBox,s),d=f3(u,o,i),h=h3(d,s);return{page:t,withPlaceholder:i,active:h}},ap=(t,i)=>{t.frame||Mt();const o=t.frame,s=mr(i,o.scroll.initial),u=Fs(s),d={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:s,displacement:u},max:o.scroll.max}},h=$s({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:h}};function fn(t,i=B_){let o=null;function s(...u){if(o&&o.lastThis===this&&i(u,o.lastArgs))return o.lastResult;const d=t.apply(this,u);return o={lastResult:d,lastArgs:u,lastThis:this},d}return s.clear=function(){o=null},s}const P_=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),z_=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Nf=fn(t=>Object.values(t)),m3=fn(t=>Object.values(t));var Ks=fn((t,i)=>m3(i).filter(s=>t===s.descriptor.droppableId).sort((s,u)=>s.descriptor.index-u.descriptor.index));function op(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Mf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Df=fn((t,i)=>i.filter(o=>o.descriptor.id!==t.descriptor.id)),p3=({isMovingForward:t,draggable:i,destination:o,insideDestination:s,previousImpact:u})=>{if(!o.isCombineEnabled||!op(u))return null;function h(T){const M={type:"COMBINE",combine:{draggableId:T,droppableId:o.descriptor.id}};return{...u,at:M}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?h(b):null;const v=Df(i,s);if(!b){if(!v.length)return null;const T=v[v.length-1];return h(T.descriptor.id)}const w=v.findIndex(T=>T.descriptor.id===b);w===-1&&Mt();const S=w-1;if(S<0)return null;const _=v[S];return h(_.descriptor.id)},Xs=(t,i)=>t.descriptor.droppableId===i.descriptor.id;const H_={point:hn,value:0},jc={invisible:{},visible:{},all:[]},g3={displaced:jc,displacedBy:H_,at:null};var Rr=(t,i)=>o=>t<=o&&o<=i,I_=t=>{const i=Rr(t.top,t.bottom),o=Rr(t.left,t.right);return s=>{if(i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right))return!0;const d=i(s.top)||i(s.bottom),h=o(s.left)||o(s.right);if(d&&h)return!0;const b=s.top<t.top&&s.bottom>t.bottom,v=s.left<t.left&&s.right>t.right;return b&&v?!0:b&&h||v&&d}},b3=t=>{const i=Rr(t.top,t.bottom),o=Rr(t.left,t.right);return s=>i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right)};const sp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},$_={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var y3=t=>i=>{const o=Rr(i.top,i.bottom),s=Rr(i.left,i.right);return u=>t===sp?o(u.top)&&o(u.bottom):s(u.left)&&s(u.right)};const v3=(t,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:hn;return Hc(t,o)},x3=(t,i,o)=>i.subject.active?o(i.subject.active)(t):!1,_3=(t,i,o)=>o(i)(t),lp=({target:t,destination:i,viewport:o,withDroppableDisplacement:s,isVisibleThroughFrameFn:u})=>{const d=s?v3(t,i):t;return x3(d,i,u)&&_3(d,o,u)},S3=t=>lp({...t,isVisibleThroughFrameFn:I_}),U_=t=>lp({...t,isVisibleThroughFrameFn:b3}),w3=t=>lp({...t,isVisibleThroughFrameFn:y3(t.destination.axis)}),T3=(t,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:s,visible:u}=i;if(s[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function E3(t,i){const o=t.page.marginBox,s={top:i.point.y,right:0,bottom:0,left:i.point.x};return Xr(rp(o,s))}function kc({afterDragging:t,destination:i,displacedBy:o,viewport:s,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const v=E3(b,o),w=b.descriptor.id;if(p.all.push(w),!S3({target:v,destination:i,viewport:s,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const _=T3(w,d,u),T={draggableId:w,shouldAnimate:_};return p.visible[w]=T,p},{all:[],visible:{},invisible:{}})}function N3(t,i){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return i.inHomeList?o:o+1}function uv({insideDestination:t,inHomeList:i,displacedBy:o,destination:s}){const u=N3(t,{inHomeList:i});return{displaced:jc,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:u}}}}function Qd({draggable:t,insideDestination:i,destination:o,viewport:s,displacedBy:u,last:d,index:h,forceShouldAnimate:p}){const b=Xs(t,o);if(h==null)return uv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const v=i.find(M=>M.descriptor.index===h);if(!v)return uv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const w=Df(t,i),S=i.indexOf(v),_=w.slice(S);return{displaced:kc({afterDragging:_,destination:o,displacedBy:u,last:d,viewport:s.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:h}}}}function Xa(t,i){return!!i.effected[t]}var M3=({isMovingForward:t,destination:i,draggables:o,combine:s,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const d=s.draggableId,p=o[d].descriptor.index;return Xa(d,u)?t?p:p-1:t?p+1:p},D3=({isMovingForward:t,isInHomeList:i,insideDestination:o,location:s})=>{if(!o.length)return null;const u=s.index,d=t?u+1:u-1,h=o[0].descriptor.index,p=o[o.length-1].descriptor.index,b=i?p:p+1;return d<h||d>b?null:d},A3=({isMovingForward:t,isInHomeList:i,draggable:o,draggables:s,destination:u,insideDestination:d,previousImpact:h,viewport:p,afterCritical:b})=>{const v=h.at;if(v||Mt(),v.type==="REORDER"){const S=D3({isMovingForward:t,isInHomeList:i,location:v.destination,insideDestination:d});return S==null?null:Qd({draggable:o,insideDestination:d,destination:u,viewport:p,last:h.displaced,displacedBy:h.displacedBy,index:S})}const w=M3({isMovingForward:t,destination:u,displaced:h.displaced,draggables:s,combine:v.combine,afterCritical:b});return w==null?null:Qd({draggable:o,insideDestination:d,destination:u,viewport:p,last:h.displaced,displacedBy:h.displacedBy,index:w})},j3=({displaced:t,afterCritical:i,combineWith:o,displacedBy:s})=>{const u=!!(t.visible[o]||t.invisible[o]);return Xa(o,i)?u?hn:Fs(s.point):u?s.point:hn},k3=({afterCritical:t,impact:i,draggables:o})=>{const s=Mf(i);s||Mt();const u=s.draggableId,d=o[u].page.borderBox.center,h=j3({displaced:i.displaced,afterCritical:t,combineWith:u,displacedBy:i.displacedBy});return Sn(d,h)};const G_=(t,i)=>i.margin[t.start]+i.borderBox[t.size]/2,C3=(t,i)=>i.margin[t.end]+i.borderBox[t.size]/2,cp=(t,i,o)=>i[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,dv=({axis:t,moveRelativeTo:i,isMoving:o})=>zo(t.line,i.marginBox[t.end]+G_(t,o),cp(t,i.marginBox,o)),fv=({axis:t,moveRelativeTo:i,isMoving:o})=>zo(t.line,i.marginBox[t.start]-C3(t,o),cp(t,i.marginBox,o)),O3=({axis:t,moveInto:i,isMoving:o})=>zo(t.line,i.contentBox[t.start]+G_(t,o),cp(t,i.contentBox,o));var L3=({impact:t,draggable:i,draggables:o,droppable:s,afterCritical:u})=>{const d=Ks(s.descriptor.id,o),h=i.page,p=s.axis;if(!d.length)return O3({axis:p,moveInto:s.page,isMoving:h});const{displaced:b,displacedBy:v}=t,w=b.all[0];if(w){const _=o[w];if(Xa(w,u))return fv({axis:p,moveRelativeTo:_.page,isMoving:h});const T=Vd(_.page,v.point);return fv({axis:p,moveRelativeTo:T,isMoving:h})}const S=d[d.length-1];if(S.descriptor.id===i.descriptor.id)return h.borderBox.center;if(Xa(S.descriptor.id,u)){const _=Vd(S.page,Fs(u.displacedBy.point));return dv({axis:p,moveRelativeTo:_,isMoving:h})}return dv({axis:p,moveRelativeTo:S.page,isMoving:h})},z0=(t,i)=>{const o=t.frame;return o?Sn(i,o.scroll.diff.displacement):i};const B3=({impact:t,draggable:i,droppable:o,draggables:s,afterCritical:u})=>{const d=i.page.borderBox.center,h=t.at;return!o||!h?d:h.type==="REORDER"?L3({impact:t,draggable:i,draggables:s,droppable:o,afterCritical:u}):k3({impact:t,draggables:s,afterCritical:u})};var Af=t=>{const i=B3(t),o=t.droppable;return o?z0(o,i):i},Z_=(t,i)=>{const o=mr(i,t.scroll.initial),s=Fs(o);return{frame:Xr({top:i.y,bottom:i.y+t.frame.height,left:i.x,right:i.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:i,diff:{value:o,displacement:s}}}};function hv(t,i){return t.map(o=>i[o])}function R3(t,i){for(let o=0;o<i.length;o++){const s=i[o].visible[t];if(s)return s}return null}var P3=({impact:t,viewport:i,destination:o,draggables:s,maxScrollChange:u})=>{const d=Z_(i,Sn(i.scroll.current,u)),h=o.frame?ap(o,Sn(o.frame.scroll.current,u)):o,p=t.displaced,b=kc({afterDragging:hv(p.all,s),destination:o,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),v=kc({afterDragging:hv(p.all,s),destination:h,displacedBy:t.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),w={},S={},_=[p,b,v];return p.all.forEach(M=>{const A=R3(M,_);if(A){S[M]=A;return}w[M]=!0}),{...t,displaced:{all:p.all,invisible:w,visible:S}}},z3=(t,i)=>Sn(t.scroll.diff.displacement,i),up=({pageBorderBoxCenter:t,draggable:i,viewport:o})=>{const s=z3(o,t),u=mr(s,i.page.borderBox.center);return Sn(i.client.borderBox.center,u)},Y_=({draggable:t,destination:i,newPageBorderBoxCenter:o,viewport:s,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const h=mr(o,t.page.borderBox.center),b={target:Hc(t.page.borderBox,h),destination:i,withDroppableDisplacement:u,viewport:s};return d?w3(b):U_(b)},H3=({isMovingForward:t,draggable:i,destination:o,draggables:s,previousImpact:u,viewport:d,previousPageBorderBoxCenter:h,previousClientSelection:p,afterCritical:b})=>{if(!o.isEnabled)return null;const v=Ks(o.descriptor.id,s),w=Xs(i,o),S=p3({isMovingForward:t,draggable:i,destination:o,insideDestination:v,previousImpact:u})||A3({isMovingForward:t,isInHomeList:w,draggable:i,draggables:s,destination:o,insideDestination:v,previousImpact:u,viewport:d,afterCritical:b});if(!S)return null;const _=Af({impact:S,draggable:i,droppable:o,draggables:s,afterCritical:b});if(Y_({draggable:i,destination:o,newPageBorderBoxCenter:_,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:up({pageBorderBoxCenter:_,draggable:i,viewport:d}),impact:S,scrollJumpRequest:null};const M=mr(_,h),A=P3({impact:S,viewport:d,destination:o,draggables:s,maxScrollChange:M});return{clientSelection:p,impact:A,scrollJumpRequest:M}};const Rn=t=>{const i=t.subject.active;return i||Mt(),i};var I3=({isMovingForward:t,pageBorderBoxCenter:i,source:o,droppables:s,viewport:u})=>{const d=o.subject.active;if(!d)return null;const h=o.axis,p=Rr(d[h.start],d[h.end]),b=Nf(s).filter(w=>w!==o).filter(w=>w.isEnabled).filter(w=>!!w.subject.active).filter(w=>I_(u.frame)(Rn(w))).filter(w=>{const S=Rn(w);return t?d[h.crossAxisEnd]<S[h.crossAxisEnd]:S[h.crossAxisStart]<d[h.crossAxisStart]}).filter(w=>{const S=Rn(w),_=Rr(S[h.start],S[h.end]);return p(S[h.start])||p(S[h.end])||_(d[h.start])||_(d[h.end])}).sort((w,S)=>{const _=Rn(w)[h.crossAxisStart],T=Rn(S)[h.crossAxisStart];return t?_-T:T-_}).filter((w,S,_)=>Rn(w)[h.crossAxisStart]===Rn(_[0])[h.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const v=b.filter(w=>Rr(Rn(w)[h.start],Rn(w)[h.end])(i[h.line]));return v.length===1?v[0]:v.length>1?v.sort((w,S)=>Rn(w)[h.start]-Rn(S)[h.start])[0]:b.sort((w,S)=>{const _=lv(i,cv(Rn(w))),T=lv(i,cv(Rn(S)));return _!==T?_-T:Rn(w)[h.start]-Rn(S)[h.start]})[0]};const mv=(t,i)=>{const o=t.page.borderBox.center;return Xa(t.descriptor.id,i)?mr(o,i.displacedBy.point):o},$3=(t,i)=>{const o=t.page.borderBox;return Xa(t.descriptor.id,i)?Hc(o,Fs(i.displacedBy.point)):o};var U3=({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:s,afterCritical:u})=>s.filter(h=>U_({target:$3(h,u),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((h,p)=>{const b=Ac(t,z0(o,mv(h,u))),v=Ac(t,z0(o,mv(p,u)));return b<v?-1:v<b?1:h.descriptor.index-p.descriptor.index})[0]||null,Ic=fn(function(i,o){const s=o[i.line];return{value:s,point:zo(i.line,s)}});const G3=(t,i,o)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return zo(s.line,i[s.line]);const u=t.subject.page.contentBox[s.size],b=Ks(t.descriptor.id,o).reduce((v,w)=>v+w.client.marginBox[s.size],0)+i[s.line]-u;return b<=0?null:zo(s.line,b)},q_=(t,i)=>({...t,scroll:{...t.scroll,max:i}}),V_=(t,i,o)=>{const s=t.frame;Xs(i,t)&&Mt(),t.subject.withPlaceholder&&Mt();const u=Ic(t.axis,i.displaceBy).point,d=G3(t,u,o),h={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const w=$s({page:t.subject.page,withPlaceholder:h,axis:t.axis,frame:t.frame});return{...t,subject:w}}const p=d?Sn(s.scroll.max,d):s.scroll.max,b=q_(s,p),v=$s({page:t.subject.page,withPlaceholder:h,axis:t.axis,frame:b});return{...t,subject:v,frame:b}},Z3=t=>{const i=t.subject.withPlaceholder;i||Mt();const o=t.frame;if(!o){const h=$s({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:h}}const s=i.oldFrameMaxScroll;s||Mt();const u=q_(o,s),d=$s({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var Y3=({previousPageBorderBoxCenter:t,moveRelativeTo:i,insideDestination:o,draggable:s,draggables:u,destination:d,viewport:h,afterCritical:p})=>{if(!i){if(o.length)return null;const S={displaced:jc,displacedBy:H_,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},_=Af({impact:S,draggable:s,droppable:d,draggables:u,afterCritical:p}),T=Xs(s,d)?d:V_(d,s,u);return Y_({draggable:s,destination:T,newPageBorderBoxCenter:_,viewport:h.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?S:null}const b=t[d.axis.line]<=i.page.borderBox.center[d.axis.line],v=(()=>{const S=i.descriptor.index;return i.descriptor.id===s.descriptor.id||b?S:S+1})(),w=Ic(d.axis,s.displaceBy);return Qd({draggable:s,insideDestination:o,destination:d,viewport:h,displacedBy:w,last:jc,index:v})},q3=({isMovingForward:t,previousPageBorderBoxCenter:i,draggable:o,isOver:s,draggables:u,droppables:d,viewport:h,afterCritical:p})=>{const b=I3({isMovingForward:t,pageBorderBoxCenter:i,source:s,droppables:d,viewport:h});if(!b)return null;const v=Ks(b.descriptor.id,u),w=U3({pageBorderBoxCenter:i,viewport:h,destination:b,insideDestination:v,afterCritical:p}),S=Y3({previousPageBorderBoxCenter:i,destination:b,draggable:o,draggables:u,moveRelativeTo:w,insideDestination:v,viewport:h,afterCritical:p});if(!S)return null;const _=Af({impact:S,draggable:o,droppable:b,draggables:u,afterCritical:p});return{clientSelection:up({pageBorderBoxCenter:_,draggable:o,viewport:h}),impact:S,scrollJumpRequest:null}},pr=t=>{const i=t.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const V3=(t,i)=>{const o=pr(t);return o?i[o]:null};var F3=({state:t,type:i})=>{const o=V3(t.impact,t.dimensions.droppables),s=!!o,u=t.dimensions.droppables[t.critical.droppable.id],d=o||u,h=d.axis.direction,p=h==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||h==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!s)return null;const b=i==="MOVE_DOWN"||i==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],w=t.current.page.borderBoxCenter,{draggables:S,droppables:_}=t.dimensions;return p?H3({isMovingForward:b,previousPageBorderBoxCenter:w,draggable:v,destination:d,draggables:S,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):q3({isMovingForward:b,previousPageBorderBoxCenter:w,draggable:v,isOver:d,draggables:S,droppables:_,viewport:t.viewport,afterCritical:t.afterCritical})};function Bo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function F_(t){const i=Rr(t.top,t.bottom),o=Rr(t.left,t.right);return function(u){return i(u.y)&&o(u.x)}}function K3(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top}function X3({pageBorderBox:t,draggable:i,candidates:o}){const s=i.page.borderBox.center,u=o.map(d=>{const h=d.axis,p=zo(d.axis.line,t.center[h.line],d.page.borderBox.center[h.crossAxisLine]);return{id:d.descriptor.id,distance:Ac(s,p)}}).sort((d,h)=>h.distance-d.distance);return u[0]?u[0].id:null}function W3({pageBorderBox:t,draggable:i,droppables:o}){const s=Nf(o).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!K3(t,d))return!1;if(F_(d)(t.center))return!0;const h=u.axis,p=d.center[h.crossAxisLine],b=t[h.crossAxisStart],v=t[h.crossAxisEnd],w=Rr(d[h.crossAxisStart],d[h.crossAxisEnd]),S=w(b),_=w(v);return!S&&!_?!0:S?b<p:v>p});return s.length?s.length===1?s[0].descriptor.id:X3({pageBorderBox:t,draggable:i,candidates:s}):null}const K_=(t,i)=>Xr(Hc(t,i));var Q3=(t,i)=>{const o=t.frame;return o?K_(i,o.scroll.diff.value):i};function X_({displaced:t,id:i}){return!!(t.visible[i]||t.invisible[i])}function J3({draggable:t,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>t.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var tN=({pageBorderBoxWithDroppableScroll:t,draggable:i,destination:o,insideDestination:s,last:u,viewport:d,afterCritical:h})=>{const p=o.axis,b=Ic(o.axis,i.displaceBy),v=b.value,w=t[p.start],S=t[p.end],T=Df(i,s).find(A=>{const j=A.descriptor.id,H=A.page.borderBox.center[p.line],I=Xa(j,h),B=X_({displaced:u,id:j});return I?B?S<=H:w<H-v:B?S<=H+v:w<H})||null,M=J3({draggable:i,closest:T,inHomeList:Xs(i,o)});return Qd({draggable:i,insideDestination:s,destination:o,viewport:d,last:u,displacedBy:b,index:M})};const eN=4;var nN=({draggable:t,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:s,insideDestination:u,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const h=s.axis,p=Ic(s.axis,t.displaceBy),b=p.value,v=i[h.start],w=i[h.end],_=Df(t,u).find(M=>{const A=M.descriptor.id,j=M.page.borderBox,I=j[h.size]/eN,B=Xa(A,d),z=X_({displaced:o.displaced,id:A});return B?z?w>j[h.start]+I&&w<j[h.end]-I:v>j[h.start]-b+I&&v<j[h.end]-b-I:z?w>j[h.start]+b+I&&w<j[h.end]+b-I:v>j[h.start]+I&&v<j[h.end]-I});return _?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:s.descriptor.id}}}:null},W_=({pageOffset:t,draggable:i,draggables:o,droppables:s,previousImpact:u,viewport:d,afterCritical:h})=>{const p=K_(i.page.borderBox,t),b=W3({pageBorderBox:p,draggable:i,droppables:s});if(!b)return g3;const v=s[b],w=Ks(v.descriptor.id,o),S=Q3(v,p);return nN({pageBorderBoxWithDroppableScroll:S,draggable:i,previousImpact:u,destination:v,insideDestination:w,afterCritical:h})||tN({pageBorderBoxWithDroppableScroll:S,draggable:i,destination:v,insideDestination:w,last:u.displaced,viewport:d,afterCritical:h})},dp=(t,i)=>({...t,[i.descriptor.id]:i});const rN=({previousImpact:t,impact:i,droppables:o})=>{const s=pr(t),u=pr(i);if(!s||s===u)return o;const d=o[s];if(!d.subject.withPlaceholder)return o;const h=Z3(d);return dp(o,h)};var iN=({draggable:t,draggables:i,droppables:o,previousImpact:s,impact:u})=>{const d=rN({previousImpact:s,impact:u,droppables:o}),h=pr(u);if(!h)return d;const p=o[h];if(Xs(t,p)||p.subject.withPlaceholder)return d;const b=V_(p,t,i);return dp(d,b)},wc=({state:t,clientSelection:i,dimensions:o,viewport:s,impact:u,scrollJumpRequest:d})=>{const h=s||t.viewport,p=o||t.dimensions,b=i||t.current.client.selection,v=mr(b,t.initial.client.selection),w={offset:v,selection:b,borderBoxCenter:Sn(t.initial.client.borderBoxCenter,v)},S={selection:Sn(w.selection,h.scroll.current),borderBoxCenter:Sn(w.borderBoxCenter,h.scroll.current),offset:Sn(w.offset,h.scroll.diff.value)},_={client:w,page:S};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:h,current:_};const T=p.draggables[t.critical.draggable.id],M=u||W_({pageOffset:S.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:h,afterCritical:t.afterCritical}),A=iN({draggable:T,impact:M,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:_,dimensions:{draggables:p.draggables,droppables:A},impact:M,viewport:h,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function aN(t,i){return t.map(o=>i[o])}var Q_=({impact:t,viewport:i,draggables:o,destination:s,forceShouldAnimate:u})=>{const d=t.displaced,h=aN(d.all,o),p=kc({afterDragging:h,destination:s,displacedBy:t.displacedBy,viewport:i.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},J_=({impact:t,draggable:i,droppable:o,draggables:s,viewport:u,afterCritical:d})=>{const h=Af({impact:t,draggable:i,draggables:s,droppable:o,afterCritical:d});return up({pageBorderBoxCenter:h,draggable:i,viewport:u})},t1=({state:t,dimensions:i,viewport:o})=>{t.movementMode!=="SNAP"&&Mt();const s=t.impact,u=o||t.viewport,d=i||t.dimensions,{draggables:h,droppables:p}=d,b=h[t.critical.draggable.id],v=pr(s);v||Mt();const w=p[v],S=Q_({impact:s,viewport:u,destination:w,draggables:h}),_=J_({impact:S,draggable:b,droppable:w,draggables:h,viewport:u,afterCritical:t.afterCritical});return wc({impact:S,clientSelection:_,state:t,dimensions:d,viewport:u})},oN=t=>({index:t.index,droppableId:t.droppableId}),e1=({draggable:t,home:i,draggables:o,viewport:s})=>{const u=Ic(i.axis,t.displaceBy),d=Ks(i.descriptor.id,o),h=d.indexOf(t);h===-1&&Mt();const p=d.slice(h+1),b=p.reduce((_,T)=>(_[T.descriptor.id]=!0,_),{}),v={inVirtualList:i.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:kc({afterDragging:p,destination:i,displacedBy:u,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:oN(t.descriptor)}},afterCritical:v}},sN=(t,i)=>({draggables:t.draggables,droppables:dp(t.droppables,i)}),lN=({draggable:t,offset:i,initialWindowScroll:o})=>{const s=Vd(t.client,i),u=Fd(s,o);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:u}},cN=t=>{const i=t.frame;return i||Mt(),i},uN=({additions:t,updatedDroppables:i,viewport:o})=>{const s=o.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,h=i[d],b=cN(h).scroll.diff.value,v=Sn(s,b);return lN({draggable:u,offset:v,initialWindowScroll:o.scroll.initial})})},dN=({state:t,published:i})=>{const o=i.modified.map(H=>{const I=t.dimensions.droppables[H.droppableId];return ap(I,H.scroll)}),s={...t.dimensions.droppables,...P_(o)},u=z_(uN({additions:i.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...u};i.removals.forEach(H=>{delete d[H]});const h={droppables:s,draggables:d},p=pr(t.impact),b=p?h.droppables[p]:null,v=h.draggables[t.critical.draggable.id],w=h.droppables[t.critical.droppable.id],{impact:S,afterCritical:_}=e1({draggable:v,home:w,draggables:d,viewport:t.viewport}),T=b&&b.isCombineEnabled?t.impact:S,M=W_({pageOffset:t.current.page.offset,draggable:h.draggables[t.critical.draggable.id],draggables:h.draggables,droppables:h.droppables,previousImpact:T,viewport:t.viewport,afterCritical:_}),A={...t,phase:"DRAGGING",impact:M,onLiftImpact:S,dimensions:h,afterCritical:_,forceShouldAnimate:!1};return t.phase==="COLLECTING"?A:{...A,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const H0=t=>t.movementMode==="SNAP",Vm=(t,i,o)=>{const s=sN(t.dimensions,i);return!H0(t)||o?wc({state:t,dimensions:s}):t1({state:t,dimensions:s})};function Fm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const pv={phase:"IDLE",completed:null,shouldFlush:!1};var fN=(t=pv,i)=>{if(i.type==="FLUSH")return{...pv,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Mt();const{critical:o,clientSelection:s,viewport:u,dimensions:d,movementMode:h}=i.payload,p=d.draggables[o.draggable.id],b=d.droppables[o.droppable.id],v={selection:s,borderBoxCenter:p.client.borderBox.center,offset:hn},w={client:v,page:{selection:Sn(v.selection,u.scroll.initial),borderBoxCenter:Sn(v.selection,u.scroll.initial),offset:Sn(v.selection,u.scroll.diff.value)}},S=Nf(d.droppables).every(A=>!A.isFixedOnPage),{impact:_,afterCritical:T}=e1({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:h,dimensions:d,initial:w,current:w,isWindowScrollAllowed:S,impact:_,afterCritical:T,onLiftImpact:_,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Mt(),{...t,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Mt(),dN({state:t,published:i.payload});if(i.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Bo(t)||Mt();const{client:o}=i.payload;return Ka(o,t.current.client.selection)?t:wc({state:t,clientSelection:o,impact:H0(t)?t.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Fm(t);Bo(t)||Mt();const{id:o,newScroll:s}=i.payload,u=t.dimensions.droppables[o];if(!u)return t;const d=ap(u,s);return Vm(t,d,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Bo(t)||Mt();const{id:o,isEnabled:s}=i.payload,u=t.dimensions.droppables[o];u||Mt(),u.isEnabled===s&&Mt();const d={...u,isEnabled:s};return Vm(t,d,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Bo(t)||Mt();const{id:o,isCombineEnabled:s}=i.payload,u=t.dimensions.droppables[o];u||Mt(),u.isCombineEnabled===s&&Mt();const d={...u,isCombineEnabled:s};return Vm(t,d,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Bo(t)||Mt(),t.isWindowScrollAllowed||Mt();const o=i.payload.newScroll;if(Ka(t.viewport.scroll.current,o))return Fm(t);const s=Z_(t.viewport,o);return H0(t)?t1({state:t,viewport:s}):wc({state:t,viewport:s})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bo(t))return t;const o=i.payload.maxScroll;if(Ka(o,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:s}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Mt();const o=F3({state:t,type:i.type});return o?wc({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return t.phase!=="COLLECTING"&&Mt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:s,newHomeClientOffset:u}=i.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Mt(),{phase:"DROP_ANIMATING",completed:o,dropDuration:s,newHomeClientOffset:u,dimensions:t.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function pe(t,i){return t instanceof Object&&"type"in t&&t.type===i}const hN=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),mN=t=>({type:"LIFT",payload:t}),pN=t=>({type:"INITIAL_PUBLISH",payload:t}),gN=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),bN=()=>({type:"COLLECTION_STARTING",payload:null}),yN=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),vN=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),xN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),n1=t=>({type:"MOVE",payload:t}),_N=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),SN=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),wN=()=>({type:"MOVE_UP",payload:null}),TN=()=>({type:"MOVE_DOWN",payload:null}),EN=()=>({type:"MOVE_RIGHT",payload:null}),NN=()=>({type:"MOVE_LEFT",payload:null}),fp=()=>({type:"FLUSH",payload:null}),MN=t=>({type:"DROP_ANIMATE",payload:t}),hp=t=>({type:"DROP_COMPLETE",payload:t}),r1=t=>({type:"DROP",payload:t}),DN=t=>({type:"DROP_PENDING",payload:t}),i1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var AN=t=>({getState:i,dispatch:o})=>s=>u=>{if(!pe(u,"LIFT")){s(u);return}const{id:d,clientSelection:h,movementMode:p}=u.payload,b=i();b.phase==="DROP_ANIMATING"&&o(hp({completed:b.completed})),i().phase!=="IDLE"&&Mt(),o(fp()),o(hN({draggableId:d,movementMode:p}));const w={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:S,dimensions:_,viewport:T}=t.startPublishing(w);o(pN({critical:S,dimensions:_,clientSelection:h,movementMode:p,viewport:T}))},jN=t=>()=>i=>o=>{pe(o,"INITIAL_PUBLISH")&&t.dragging(),pe(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(pe(o,"FLUSH")||pe(o,"DROP_COMPLETE"))&&t.resting(),i(o)};const mp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Cc={opacity:{drop:0,combining:.7},scale:{drop:.75}},a1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jo=`${a1.outOfTheWay}s ${mp.outOfTheWay}`,Tc={fluid:`opacity ${jo}`,snap:`transform ${jo}, opacity ${jo}`,drop:t=>{const i=`${t}s ${mp.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${jo}`,placeholder:`height ${jo}, width ${jo}, margin ${jo}`},gv=t=>Ka(t,hn)?void 0:`translate(${t.x}px, ${t.y}px)`,I0={moveTo:gv,drop:(t,i)=>{const o=gv(t);if(o)return i?`${o} scale(${Cc.scale.drop})`:o}},{minDropTime:$0,maxDropTime:o1}=a1,kN=o1-$0,bv=1500,CN=.6;var ON=({current:t,destination:i,reason:o})=>{const s=Ac(t,i);if(s<=0)return $0;if(s>=bv)return o1;const u=s/bv,d=$0+kN*u,h=o==="CANCEL"?d*CN:d;return Number(h.toFixed(2))},LN=({impact:t,draggable:i,dimensions:o,viewport:s,afterCritical:u})=>{const{draggables:d,droppables:h}=o,p=pr(t),b=p?h[p]:null,v=h[i.descriptor.droppableId],w=J_({impact:t,draggable:i,draggables:d,afterCritical:u,droppable:b||v,viewport:s});return mr(w,i.client.borderBox.center)},BN=({draggables:t,reason:i,lastImpact:o,home:s,viewport:u,onLiftImpact:d})=>!o.at||i!=="DROP"?{impact:Q_({draggables:t,impact:d,destination:s,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:jc},didDropInsideDroppable:!0};const RN=({getState:t,dispatch:i})=>o=>s=>{if(!pe(s,"DROP")){o(s);return}const u=t(),d=s.payload.reason;if(u.phase==="COLLECTING"){i(DN({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&Mt(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||Mt();const p=u.critical,b=u.dimensions,v=b.draggables[u.critical.draggable.id],{impact:w,didDropInsideDroppable:S}=BN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),_=S?op(w):null,T=S?Mf(w):null,M={index:p.draggable.index,droppableId:p.droppable.id},A={draggableId:v.descriptor.id,type:v.descriptor.type,source:M,reason:d,mode:u.movementMode,destination:_,combine:T},j=LN({impact:w,draggable:v,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),H={critical:u.critical,afterCritical:u.afterCritical,result:A,impact:w};if(!(!Ka(u.current.client.offset,j)||!!A.combine)){i(hp({completed:H}));return}const B=ON({current:u.current.client.offset,destination:j,reason:d});i(MN({newHomeClientOffset:j,dropDuration:B,completed:H}))};var s1=()=>({x:window.pageXOffset,y:window.pageYOffset});function PN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||t()}}}function zN({onWindowScroll:t}){function i(){t(s1())}const o=Dc(i),s=PN(o);let u=Fa;function d(){return u!==Fa}function h(){d()&&Mt(),u=Or(window,[s])}function p(){d()||Mt(),o.cancel(),u(),u=Fa}return{start:h,stop:p,isActive:d}}const HN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH"),IN=t=>{const i=zN({onWindowScroll:o=>{t.dispatch(_N({newScroll:o}))}});return o=>s=>{!i.isActive()&&pe(s,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&HN(s)&&i.stop(),o(s)}};var $N=t=>{let i=!1,o=!1;const s=setTimeout(()=>{o=!0}),u=d=>{i||o||(i=!0,t(d),clearTimeout(s))};return u.wasCalled=()=>i,u},UN=()=>{const t=[],i=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&Mt();const[h]=t.splice(d,1);h.callback()};return{add:u=>{const d=setTimeout(()=>i(d)),h={timerId:d,callback:u};t.push(h)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const GN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.droppableId===i.droppableId&&t.index===i.index,ZN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.draggableId===i.draggableId&&t.droppableId===i.droppableId,YN=(t,i)=>{if(t===i)return!0;const o=t.draggable.id===i.draggable.id&&t.draggable.droppableId===i.draggable.droppableId&&t.draggable.type===i.draggable.type&&t.draggable.index===i.draggable.index,s=t.droppable.id===i.droppable.id&&t.droppable.type===i.droppable.type;return o&&s},oc=(t,i)=>{i()},bd=(t,i)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:i});function Km(t,i,o,s){if(!t){o(s(i));return}const u=$N(o);t(i,{announce:u}),u.wasCalled()||o(s(i))}var qN=(t,i)=>{const o=UN();let s=null;const u=(S,_)=>{s&&Mt(),oc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:S,mode:_})})},d=(S,_)=>{s&&Mt(),oc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(bd(S,_))})},h=(S,_)=>{s&&Mt();const T=bd(S,_);s={mode:_,lastCritical:S,lastLocation:T.source,lastCombine:null},o.add(()=>{oc("onDragStart",()=>Km(t().onDragStart,T,i,Ud.onDragStart))})},p=(S,_)=>{const T=op(_),M=Mf(_);s||Mt();const A=!YN(S,s.lastCritical);A&&(s.lastCritical=S);const j=!GN(s.lastLocation,T);j&&(s.lastLocation=T);const H=!ZN(s.lastCombine,M);if(H&&(s.lastCombine=M),!A&&!j&&!H)return;const I={...bd(S,s.mode),combine:M,destination:T};o.add(()=>{oc("onDragUpdate",()=>Km(t().onDragUpdate,I,i,Ud.onDragUpdate))})},b=()=>{s||Mt(),o.flush()},v=S=>{s||Mt(),s=null,oc("onDragEnd",()=>Km(t().onDragEnd,S,i,Ud.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:h,update:p,flush:b,drop:v,abort:()=>{if(!s)return;const S={...bd(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};v(S)}}},VN=(t,i)=>{const o=qN(t,i);return s=>u=>d=>{if(pe(d,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(pe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;o.beforeStart(p,d.payload.movementMode),u(d),o.start(p,d.payload.movementMode);return}if(pe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;o.flush(),u(d),o.drop(p);return}if(u(d),pe(d,"FLUSH")){o.abort();return}const h=s.getState();h.phase==="DRAGGING"&&o.update(h.critical,h.impact)}};const FN=t=>i=>o=>{if(!pe(o,"DROP_ANIMATION_FINISHED")){i(o);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&Mt(),t.dispatch(hp({completed:s.completed}))},KN=t=>{let i=null,o=null;function s(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return u=>d=>{if((pe(d,"FLUSH")||pe(d,"DROP_COMPLETE")||pe(d,"DROP_ANIMATION_FINISHED"))&&s(),u(d),!pe(d,"DROP_ANIMATE"))return;const h={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(i1())}};o=requestAnimationFrame(()=>{o=null,i=Or(window,[h])})}};var XN=t=>()=>i=>o=>{(pe(o,"DROP_COMPLETE")||pe(o,"FLUSH")||pe(o,"DROP_ANIMATE"))&&t.stopPublishing(),i(o)},WN=t=>{let i=!1;return()=>o=>s=>{if(pe(s,"INITIAL_PUBLISH")){i=!0,t.tryRecordFocus(s.payload.critical.draggable.id),o(s),t.tryRestoreFocusRecorded();return}if(o(s),!!i){if(pe(s,"FLUSH")){i=!1,t.tryRestoreFocusRecorded();return}if(pe(s,"DROP_COMPLETE")){i=!1;const u=s.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const QN=t=>pe(t,"DROP_COMPLETE")||pe(t,"DROP_ANIMATE")||pe(t,"FLUSH");var JN=t=>i=>o=>s=>{if(QN(s)){t.stop(),o(s);return}if(pe(s,"INITIAL_PUBLISH")){o(s);const u=i.getState();u.phase!=="DRAGGING"&&Mt(),t.start(u);return}o(s),t.scroll(i.getState())};const tM=t=>i=>o=>{if(i(o),!pe(o,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(r1({reason:s.reason})))},eM=w_;var nM=({dimensionMarshal:t,focusMarshal:i,styleMarshal:o,getResponders:s,announce:u,autoScroller:d})=>S_(fN,eM(JT(jN(o),XN(t),AN(t),RN,FN,KN,tM,JN(d),IN,WN(i),VN(s,u))));const Xm=()=>({additions:{},removals:{},modified:{}});function rM({registry:t,callbacks:i}){let o=Xm(),s=null;const u=()=>{s||(i.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:b,removals:v,modified:w}=o,S=Object.keys(b).map(M=>t.draggable.getById(M).getDimension(hn)).sort((M,A)=>M.descriptor.index-A.descriptor.index),_=Object.keys(w).map(M=>{const j=t.droppable.getById(M).callbacks.getScrollWhileDragging();return{droppableId:M,scroll:j}}),T={additions:S,removals:Object.keys(v),modified:_};o=Xm(),i.publish(T)}))};return{add:b=>{const v=b.descriptor.id;o.additions[v]=b,o.modified[b.descriptor.droppableId]=!0,o.removals[v]&&delete o.removals[v],u()},remove:b=>{const v=b.descriptor;o.removals[v.id]=!0,o.modified[v.droppableId]=!0,o.additions[v.id]&&delete o.additions[v.id],u()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,o=Xm())}}}var l1=({scrollHeight:t,scrollWidth:i,height:o,width:s})=>{const u=mr({x:i,y:t},{x:s,y:o});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},c1=()=>{const t=document.documentElement;return t||Mt(),t},u1=()=>{const t=c1();return l1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},iM=()=>{const t=s1(),i=u1(),o=t.y,s=t.x,u=c1(),d=u.clientWidth,h=u.clientHeight,p=s+d,b=o+h;return{frame:Xr({top:o,left:s,right:p,bottom:b}),scroll:{initial:t,current:t,max:i,diff:{value:hn,displacement:hn}}}},aM=({critical:t,scrollOptions:i,registry:o})=>{const s=iM(),u=s.scroll.current,d=t.droppable,h=o.droppable.getAllByType(d.type).map(w=>w.callbacks.getDimensionAndWatchScroll(u,i)),p=o.draggable.getAllByType(t.draggable.type).map(w=>w.getDimension(u));return{dimensions:{draggables:z_(p),droppables:P_(h)},critical:t,viewport:s}};function yv(t,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var oM=(t,i)=>{let o=null;const s=rM({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:t}),u=(_,T)=>{t.droppable.exists(_)||Mt(),o&&i.updateDroppableIsEnabled({id:_,isEnabled:T})},d=(_,T)=>{o&&(t.droppable.exists(_)||Mt(),i.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:T}))},h=(_,T)=>{o&&(t.droppable.exists(_)||Mt(),i.updateDroppableScroll({id:_,newScroll:T}))},p=(_,T)=>{o&&t.droppable.getById(_).callbacks.scroll(T)},b=()=>{if(!o)return;s.stop();const _=o.critical.droppable;t.droppable.getAllByType(_.type).forEach(T=>T.callbacks.dragStopped()),o.unsubscribe(),o=null},v=_=>{o||Mt();const T=o.critical.draggable;_.type==="ADDITION"&&yv(t,T,_.value)&&s.add(_.value),_.type==="REMOVAL"&&yv(t,T,_.value)&&s.remove(_.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:h,startPublishing:_=>{o&&Mt();const T=t.draggable.getById(_.draggableId),M=t.droppable.getById(T.descriptor.droppableId),A={draggable:T.descriptor,droppable:M.descriptor},j=t.subscribe(v);return o={critical:A,unsubscribe:j},aM({critical:A,registry:t,scrollOptions:_.scrollOptions})},stopPublishing:b}},d1=(t,i)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===i?!1:t.completed.result.reason==="DROP",sM=t=>{window.scrollBy(t.x,t.y)};const lM=fn(t=>Nf(t).filter(i=>!(!i.isEnabled||!i.frame))),cM=(t,i)=>lM(i).find(s=>(s.frame||Mt(),F_(s.frame.pageMarginBox)(t)))||null;var uM=({center:t,destination:i,droppables:o})=>{if(i){const u=o[i];return u.frame?u:null}return cM(t,o)};const Oc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var dM=(t,i,o=()=>Oc)=>{const s=o(),u=t[i.size]*s.startFromPercentage,d=t[i.size]*s.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},f1=({startOfRange:t,endOfRange:i,current:o})=>{const s=i-t;return s===0?0:(o-t)/s},pp=1,fM=(t,i,o=()=>Oc)=>{const s=o();if(t>i.startScrollingFrom)return 0;if(t<=i.maxScrollValueAt)return s.maxPixelScroll;if(t===i.startScrollingFrom)return pp;const d=1-f1({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:t}),h=s.maxPixelScroll*s.ease(d);return Math.ceil(h)},hM=(t,i,o)=>{const s=o(),u=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,h=i,p=d,v=Date.now()-h;if(v>=d)return t;if(v<u)return pp;const w=f1({startOfRange:u,endOfRange:p,current:v}),S=t*s.ease(w);return Math.ceil(S)},vv=({distanceToEdge:t,thresholds:i,dragStartTime:o,shouldUseTimeDampening:s,getAutoScrollerOptions:u})=>{const d=fM(t,i,u);return d===0?0:s?Math.max(hM(d,o,u),pp):d},xv=({container:t,distanceToEdges:i,dragStartTime:o,axis:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=dM(t,s,d);return i[s.end]<i[s.start]?vv({distanceToEdge:i[s.end],thresholds:h,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*vv({distanceToEdge:i[s.start],thresholds:h,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},mM=({container:t,subject:i,proposedScroll:o})=>{const s=i.height>t.height,u=i.width>t.width;return!u&&!s?o:u&&s?null:{x:u?0:o.x,y:s?0:o.y}};const pM=R_(t=>t===0?0:t);var h1=({dragStartTime:t,container:i,subject:o,center:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h={top:s.y-i.top,right:i.right-s.x,bottom:i.bottom-s.y,left:s.x-i.left},p=xv({container:i,distanceToEdges:h,dragStartTime:t,axis:sp,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=xv({container:i,distanceToEdges:h,dragStartTime:t,axis:$_,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),v=pM({x:b,y:p});if(Ka(v,hn))return null;const w=mM({container:i,subject:o,proposedScroll:v});return w?Ka(w,hn)?null:w:null};const gM=R_(t=>t===0?0:t>0?1:-1),gp=(()=>{const t=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:s})=>{const u=Sn(i,s),d={x:t(u.x,o.x),y:t(u.y,o.y)};return Ka(d,hn)?null:d}})(),m1=({max:t,current:i,change:o})=>{const s={x:Math.max(i.x,t.x),y:Math.max(i.y,t.y)},u=gM(o),d=gp({max:s,current:i,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},bp=(t,i)=>m1({current:t.scroll.current,max:t.scroll.max,change:i}),bM=(t,i)=>{if(!bp(t,i))return null;const o=t.scroll.max,s=t.scroll.current;return gp({current:s,max:o,change:i})},yp=(t,i)=>{const o=t.frame;return o?m1({current:o.scroll.current,max:o.scroll.max,change:i}):!1},yM=(t,i)=>{const o=t.frame;return!o||!yp(t,i)?null:gp({current:o.scroll.current,max:o.scroll.max,change:i})};var vM=({viewport:t,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=h1({dragStartTime:s,container:t.frame,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return h&&bp(t,h)?h:null},xM=({droppable:t,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=t.frame;if(!h)return null;const p=h1({dragStartTime:s,container:h.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&yp(t,p)?p:null},_v=({state:t,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:s,scrollDroppable:u,getAutoScrollerOptions:d})=>{const h=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const S=t.viewport,_=vM({dragStartTime:i,viewport:S,subject:b,center:h,shouldUseTimeDampening:o,getAutoScrollerOptions:d});if(_){s(_);return}}const v=uM({center:h,destination:pr(t.impact),droppables:t.dimensions.droppables});if(!v)return;const w=xM({dragStartTime:i,droppable:v,subject:b,center:h,shouldUseTimeDampening:o,getAutoScrollerOptions:d});w&&u(v.descriptor.id,w)},_M=({scrollWindow:t,scrollDroppable:i,getAutoScrollerOptions:o=()=>Oc})=>{const s=Dc(t),u=Dc(i);let d=null;const h=v=>{d||Mt();const{shouldUseTimeDampening:w,dragStartTime:S}=d;_v({state:v,scrollWindow:s,scrollDroppable:u,dragStartTime:S,shouldUseTimeDampening:w,getAutoScrollerOptions:o})};return{start:v=>{d&&Mt();const w=Date.now();let S=!1;const _=()=>{S=!0};_v({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:o}),d={dragStartTime:w,shouldUseTimeDampening:S},S&&h(v)},stop:()=>{d&&(s.cancel(),u.cancel(),d=null)},scroll:h}},SM=({move:t,scrollDroppable:i,scrollWindow:o})=>{const s=(p,b)=>{const v=Sn(p.current.client.selection,b);t({client:v})},u=(p,b)=>{if(!yp(p,b))return b;const v=yM(p,b);if(!v)return i(p.descriptor.id,b),null;const w=mr(b,v);return i(p.descriptor.id,w),mr(b,w)},d=(p,b,v)=>{if(!p||!bp(b,v))return v;const w=bM(b,v);if(!w)return o(v),null;const S=mr(v,w);return o(S),mr(v,S)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const v=pr(p.impact);v||Mt();const w=u(p.dimensions.droppables[v],b);if(!w)return;const S=p.viewport,_=d(p.isWindowScrollAllowed,S,w);_&&s(p,_)}},wM=({scrollDroppable:t,scrollWindow:i,move:o,getAutoScrollerOptions:s})=>{const u=_M({scrollWindow:i,scrollDroppable:t,getAutoScrollerOptions:s}),d=SM({move:o,scrollWindow:i,scrollDroppable:t});return{scroll:b=>{if(!(s().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const Us="data-rfd",Gs=(()=>{const t=`${Us}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),U0=(()=>{const t=`${Us}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),TM=(()=>{const t=`${Us}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Sv={contextId:`${Us}-scroll-container-context-id`},EM=t=>i=>`[${i}="${t}"]`,sc=(t,i)=>t.map(o=>{const s=o.styles[i];return s?`${o.selector} { ${s} }`:""}).join(" "),NM="pointer-events: none;";var MM=t=>{const i=EM(t),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Gs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:NM,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${Tc.outOfTheWay};
    `;return{selector:i(U0.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:i(TM.contextId),styles:{always:"overflow-anchor: none;"}},h=[s,o,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:sc(h,"always"),resting:sc(h,"resting"),dragging:sc(h,"dragging"),dropAnimating:sc(h,"dropAnimating"),userCancel:sc(h,"userCancel")}};const gr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,Wm=()=>{const t=document.querySelector("head");return t||Mt(),t},wv=t=>{const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.type="text/css",i};function DM(t,i){const o=le(()=>MM(t),[t]),s=O.useRef(null),u=O.useRef(null),d=zt(fn(S=>{const _=u.current;_||Mt(),_.textContent=S}),[]),h=zt(S=>{const _=s.current;_||Mt(),_.textContent=S},[]);gr(()=>{!s.current&&!u.current||Mt();const S=wv(i),_=wv(i);return s.current=S,u.current=_,S.setAttribute(`${Us}-always`,t),_.setAttribute(`${Us}-dynamic`,t),Wm().appendChild(S),Wm().appendChild(_),h(o.always),d(o.resting),()=>{const T=M=>{const A=M.current;A||Mt(),Wm().removeChild(A),M.current=null};T(s),T(u)}},[i,h,d,o.always,o.resting,t]);const p=zt(()=>d(o.dragging),[d,o.dragging]),b=zt(S=>{if(S==="DROP"){d(o.dropAnimating);return}d(o.userCancel)},[d,o.dropAnimating,o.userCancel]),v=zt(()=>{u.current&&d(o.resting)},[d,o.resting]);return le(()=>({dragging:p,dropping:b,resting:v}),[p,b,v])}function p1(t,i){return Array.from(t.querySelectorAll(i))}var g1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function jf(t){return t instanceof g1(t).HTMLElement}function AM(t,i){const o=`[${Gs.contextId}="${t}"]`,s=p1(document,o);if(!s.length)return null;const u=s.find(d=>d.getAttribute(Gs.draggableId)===i);return!u||!jf(u)?null:u}function jM(t){const i=O.useRef({}),o=O.useRef(null),s=O.useRef(null),u=O.useRef(!1),d=zt(function(_,T){const M={id:_,focus:T};return i.current[_]=M,function(){const j=i.current;j[_]!==M&&delete j[_]}},[]),h=zt(function(_){const T=AM(t,_);T&&T!==document.activeElement&&T.focus()},[t]),p=zt(function(_,T){o.current===_&&(o.current=T)},[]),b=zt(function(){s.current||u.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const _=o.current;_&&h(_)}))},[h]),v=zt(function(_){o.current=null;const T=document.activeElement;T&&T.getAttribute(Gs.draggableId)===_&&(o.current=_)},[]);return gr(()=>(u.current=!0,function(){u.current=!1;const _=s.current;_&&cancelAnimationFrame(_)}),[]),le(()=>({register:d,tryRecordFocus:v,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,v,b,p])}function kM(){const t={draggables:{},droppables:{}},i=[];function o(S){return i.push(S),function(){const T=i.indexOf(S);T!==-1&&i.splice(T,1)}}function s(S){i.length&&i.forEach(_=>_(S))}function u(S){return t.draggables[S]||null}function d(S){const _=u(S);return _||Mt(),_}const h={register:S=>{t.draggables[S.descriptor.id]=S,s({type:"ADDITION",value:S})},update:(S,_)=>{const T=t.draggables[_.descriptor.id];T&&T.uniqueId===S.uniqueId&&(delete t.draggables[_.descriptor.id],t.draggables[S.descriptor.id]=S)},unregister:S=>{const _=S.descriptor.id,T=u(_);T&&S.uniqueId===T.uniqueId&&(delete t.draggables[_],t.droppables[S.descriptor.droppableId]&&s({type:"REMOVAL",value:S}))},getById:d,findById:u,exists:S=>!!u(S),getAllByType:S=>Object.values(t.draggables).filter(_=>_.descriptor.type===S)};function p(S){return t.droppables[S]||null}function b(S){const _=p(S);return _||Mt(),_}const v={register:S=>{t.droppables[S.descriptor.id]=S},unregister:S=>{const _=p(S.descriptor.id);_&&S.uniqueId===_.uniqueId&&delete t.droppables[S.descriptor.id]},getById:b,findById:p,exists:S=>!!p(S),getAllByType:S=>Object.values(t.droppables).filter(_=>_.descriptor.type===S)};function w(){t.draggables={},t.droppables={},i.length=0}return{draggable:h,droppable:v,subscribe:o,clean:w}}function CM(){const t=le(kM,[]);return O.useEffect(()=>function(){t.clean()},[t]),t}var vp=Ce.createContext(null),Jd=()=>{const t=document.body;return t||Mt(),t};const OM={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},LM=t=>`rfd-announcement-${t}`;function BM(t){const i=le(()=>LM(t),[t]),o=O.useRef(null);return O.useEffect(function(){const d=document.createElement("div");return o.current=d,d.id=i,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),Kd(d.style,OM),Jd().appendChild(d),function(){setTimeout(function(){const b=Jd();b.contains(d)&&b.removeChild(d),d===o.current&&(o.current=null)})}},[i]),zt(u=>{const d=o.current;if(d){d.textContent=u;return}},[])}const RM={separator:"::"};function xp(t,i=RM){const o=Ce.useId();return le(()=>`${t}${i.separator}${o}`,[i.separator,t,o])}function PM({contextId:t,uniqueId:i}){return`rfd-hidden-text-${t}-${i}`}function zM({contextId:t,text:i}){const o=xp("hidden-text",{separator:"-"}),s=le(()=>PM({contextId:t,uniqueId:o}),[o,t]);return O.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=i,d.style.display="none",Jd().appendChild(d),function(){const p=Jd();p.contains(d)&&p.removeChild(d)}},[s,i]),s}var kf=Ce.createContext(null);function b1(t){const i=O.useRef(t);return O.useEffect(()=>{i.current=t}),i}function HM(){let t=null;function i(){return!!t}function o(h){return h===t}function s(h){t&&Mt();const p={abandon:h};return t=p,p}function u(){t||Mt(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:i,isActive:o,claim:s,release:u,tryAbandon:d}}function Lc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const IM=9,$M=13,_p=27,y1=32,UM=33,GM=34,ZM=35,YM=36,qM=37,VM=38,FM=39,KM=40,XM={[$M]:!0,[IM]:!0};var v1=t=>{XM[t.keyCode]&&t.preventDefault()};const Cf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),x1=0,Tv=5;function WM(t,i){return Math.abs(i.x-t.x)>=Tv||Math.abs(i.y-t.y)>=Tv}const Ev={type:"IDLE"};function QM({cancel:t,completed:i,getPhase:o,setPhase:s}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:h,clientY:p}=u;if(d!==x1)return;const b={x:h,y:p},v=o();if(v.type==="DRAGGING"){u.preventDefault(),v.actions.move(b);return}v.type!=="PENDING"&&Mt();const w=v.point;if(!WM(w,b))return;u.preventDefault();const S=v.actions.fluidLift(b);s({type:"DRAGGING",actions:S})}},{eventName:"mouseup",fn:u=>{const d=o();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:u=>{o().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(o().type==="PENDING"){t();return}if(u.keyCode===_p){u.preventDefault(),t();return}v1(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=o();if(d.type==="IDLE"&&Mt(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:Cf,fn:t}]}function JM(t){const i=O.useRef(Ev),o=O.useRef(Fa),s=le(()=>({eventName:"mousedown",fn:function(S){if(S.defaultPrevented||S.button!==x1||S.ctrlKey||S.metaKey||S.shiftKey||S.altKey)return;const _=t.findClosestDraggableId(S);if(!_)return;const T=t.tryGetLock(_,h,{sourceEvent:S});if(!T)return;S.preventDefault();const M={x:S.clientX,y:S.clientY};o.current(),v(T,M)}}),[t]),u=le(()=>({eventName:"webkitmouseforcewillbegin",fn:w=>{if(w.defaultPrevented)return;const S=t.findClosestDraggableId(w);if(!S)return;const _=t.findOptionsForDraggable(S);_&&(_.shouldRespectForcePress||t.canGetLock(S)&&w.preventDefault())}}),[t]),d=zt(function(){const S={passive:!1,capture:!0};o.current=Or(window,[u,s],S)},[u,s]),h=zt(()=>{i.current.type!=="IDLE"&&(i.current=Ev,o.current(),d())},[d]),p=zt(()=>{const w=i.current;h(),w.type==="DRAGGING"&&w.actions.cancel({shouldBlockNextClick:!0}),w.type==="PENDING"&&w.actions.abort()},[h]),b=zt(function(){const S={capture:!0,passive:!1},_=QM({cancel:p,completed:h,getPhase:()=>i.current,setPhase:T=>{i.current=T}});o.current=Or(window,_,S)},[p,h]),v=zt(function(S,_){i.current.type!=="IDLE"&&Mt(),i.current={type:"PENDING",point:_,actions:S},b()},[b]);gr(function(){return d(),function(){o.current()}},[d])}function tD(){}const eD={[GM]:!0,[UM]:!0,[YM]:!0,[ZM]:!0};function nD(t,i){function o(){i(),t.cancel()}function s(){i(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===_p){u.preventDefault(),o();return}if(u.keyCode===y1){u.preventDefault(),s();return}if(u.keyCode===KM){u.preventDefault(),t.moveDown();return}if(u.keyCode===VM){u.preventDefault(),t.moveUp();return}if(u.keyCode===FM){u.preventDefault(),t.moveRight();return}if(u.keyCode===qM){u.preventDefault(),t.moveLeft();return}if(eD[u.keyCode]){u.preventDefault();return}v1(u)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Cf,fn:o}]}function rD(t){const i=O.useRef(tD),o=le(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==y1)return;const h=t.findClosestDraggableId(d);if(!h)return;const p=t.tryGetLock(h,w,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const v=p.snapLift();i.current();function w(){b||Mt(),b=!1,i.current(),s()}i.current=Or(window,nD(v,w),{capture:!0,passive:!1})}}),[t]),s=zt(function(){const d={passive:!1,capture:!0};i.current=Or(window,[o],d)},[o]);gr(function(){return s(),function(){i.current()}},[s])}const Qm={type:"IDLE"},iD=120,aD=.15;function oD({cancel:t,getPhase:i}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){t();return}o.keyCode===_p&&o.preventDefault(),t()}},{eventName:Cf,fn:t}]}function sD({cancel:t,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const u=o();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:h}=s.touches[0],p={x:d,y:h};s.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:s=>{const u=o();if(u.type!=="DRAGGING"){t();return}s.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:s=>{if(o().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const u=o();u.type==="IDLE"&&Mt();const d=s.touches[0];if(!d||!(d.force>=aD))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:Cf,fn:t}]}function lD(t){const i=O.useRef(Qm),o=O.useRef(Fa),s=zt(function(){return i.current},[]),u=zt(function(T){i.current=T},[]),d=le(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const M=t.findClosestDraggableId(T);if(!M)return;const A=t.tryGetLock(M,p,{sourceEvent:T});if(!A)return;const j=T.touches[0],{clientX:H,clientY:I}=j,B={x:H,y:I};o.current(),S(A,B)}}),[t]),h=zt(function(){const T={capture:!0,passive:!1};o.current=Or(window,[d],T)},[d]),p=zt(()=>{const _=i.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),u(Qm),o.current(),h())},[h,u]),b=zt(()=>{const _=i.current;p(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[p]),v=zt(function(){const T={capture:!0,passive:!1},M={cancel:b,completed:p,getPhase:s},A=Or(window,sD(M),T),j=Or(window,oD(M),T);o.current=function(){A(),j()}},[b,s,p]),w=zt(function(){const T=s();T.type!=="PENDING"&&Mt();const M=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:M,hasMoved:!1})},[s,u]),S=zt(function(T,M){s().type!=="IDLE"&&Mt();const A=setTimeout(w,iD);u({type:"PENDING",point:M,actions:T,longPressTimerId:A}),v()},[v,s,u,w]);gr(function(){return h(),function(){o.current();const M=s();M.type==="PENDING"&&(clearTimeout(M.longPressTimerId),u(Qm))}},[s,h,u]),gr(function(){return Or(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const cD=["input","button","textarea","select","option","optgroup","video","audio"];function _1(t,i){if(i==null)return!1;if(cD.includes(i.tagName.toLowerCase()))return!0;const s=i.getAttribute("contenteditable");return s==="true"||s===""?!0:i===t?!1:_1(t,i.parentElement)}function uD(t,i){const o=i.target;return jf(o)?_1(t,o):!1}var dD=t=>Xr(t.getBoundingClientRect()).center;function fD(t){return t instanceof g1(t).Element}const hD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function S1(t,i){return t==null?null:t[hD](i)?t:S1(t.parentElement,i)}function mD(t,i){return t.closest?t.closest(i):S1(t,i)}function pD(t){return`[${Gs.contextId}="${t}"]`}function gD(t,i){const o=i.target;if(!fD(o))return null;const s=pD(t),u=mD(o,s);return!u||!jf(u)?null:u}function bD(t,i){const o=gD(t,i);return o?o.getAttribute(Gs.draggableId):null}function yD(t,i){const o=`[${U0.contextId}="${t}"]`,u=p1(document,o).find(d=>d.getAttribute(U0.id)===i);return!u||!jf(u)?null:u}function vD(t){t.preventDefault()}function yd({expected:t,phase:i,isLockActive:o,shouldWarn:s}){return!(!o()||t!==i)}function w1({lockAPI:t,store:i,registry:o,draggableId:s}){if(t.isClaimed())return!1;const u=o.draggable.findById(s);return!(!u||!u.options.isEnabled||!d1(i.getState(),s))}function xD({lockAPI:t,contextId:i,store:o,registry:s,draggableId:u,forceSensorStop:d,sourceEvent:h}){if(!w1({lockAPI:t,store:o,registry:s,draggableId:u}))return null;const b=s.draggable.getById(u),v=yD(i,b.descriptor.id);if(!v||h&&!b.options.canDragInteractiveElements&&uD(v,h))return null;const w=t.claim(d||Fa);let S="PRE_DRAG";function _(){return b.options.shouldRespectForcePress}function T(){return t.isActive(w)}function M(R,G){yd({expected:R,phase:S,isLockActive:T,shouldWarn:!0})&&o.dispatch(G())}const A=M.bind(null,"DRAGGING");function j(R){function G(){t.release(),S="COMPLETED"}S!=="PRE_DRAG"&&(G(),Mt()),o.dispatch(mN(R.liftActionArgs)),S="DRAGGING";function Q(J,rt={shouldBlockNextClick:!1}){if(R.cleanup(),rt.shouldBlockNextClick){const nt=Or(window,[{eventName:"click",fn:vD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(nt)}G(),o.dispatch(r1({reason:J}))}return{isActive:()=>yd({expected:"DRAGGING",phase:S,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:_,drop:J=>Q("DROP",J),cancel:J=>Q("CANCEL",J),...R.actions}}function H(R){const G=Dc(J=>{A(()=>n1({client:J}))});return{...j({liftActionArgs:{id:u,clientSelection:R,movementMode:"FLUID"},cleanup:()=>G.cancel(),actions:{move:G}}),move:G}}function I(){const R={moveUp:()=>A(wN),moveRight:()=>A(EN),moveDown:()=>A(TN),moveLeft:()=>A(NN)};return j({liftActionArgs:{id:u,clientSelection:dD(v),movementMode:"SNAP"},cleanup:Fa,actions:R})}function B(){yd({expected:"PRE_DRAG",phase:S,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>yd({expected:"PRE_DRAG",phase:S,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:H,snapLift:I,abort:B}}const _D=[JM,rD,lD];function SD({contextId:t,store:i,registry:o,customSensors:s,enableDefaultSensors:u}){const d=[...u?_D:[],...s||[]],h=O.useState(()=>HM())[0],p=zt(function(j,H){Lc(j)&&!Lc(H)&&h.tryAbandon()},[h]);gr(function(){let j=i.getState();return i.subscribe(()=>{const I=i.getState();p(j,I),j=I})},[h,i,p]),gr(()=>h.tryAbandon,[h.tryAbandon]);const b=zt(A=>w1({lockAPI:h,registry:o,store:i,draggableId:A}),[h,o,i]),v=zt((A,j,H)=>xD({lockAPI:h,registry:o,contextId:t,store:i,draggableId:A,forceSensorStop:j||null,sourceEvent:H&&H.sourceEvent?H.sourceEvent:null}),[t,h,o,i]),w=zt(A=>bD(t,A),[t]),S=zt(A=>{const j=o.draggable.findById(A);return j?j.options:null},[o.draggable]),_=zt(function(){h.isClaimed()&&(h.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(fp()))},[h,i]),T=zt(()=>h.isClaimed(),[h]),M=le(()=>({canGetLock:b,tryGetLock:v,findClosestDraggableId:w,findOptionsForDraggable:S,tryReleaseLock:_,isLockClaimed:T}),[b,v,w,S,_,T]);for(let A=0;A<d.length;A++)d[A](M)}const wD=t=>({onBeforeCapture:i=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(i)};zc.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),TD=t=>({...Oc,...t.autoScrollerOptions,durationDampening:{...Oc.durationDampening,...t.autoScrollerOptions}});function lc(t){return t.current||Mt(),t.current}function ED(t){const{contextId:i,setCallbacks:o,sensors:s,nonce:u,dragHandleUsageInstructions:d}=t,h=O.useRef(null),p=b1(t),b=zt(()=>wD(p.current),[p]),v=zt(()=>TD(p.current),[p]),w=BM(i),S=zM({contextId:i,text:d}),_=DM(i,u),T=zt(nt=>{lc(h).dispatch(nt)},[]),M=le(()=>Wy({publishWhileDragging:gN,updateDroppableScroll:yN,updateDroppableIsEnabled:vN,updateDroppableIsCombineEnabled:xN,collectionStarting:bN},T),[T]),A=CM(),j=le(()=>oM(A,M),[A,M]),H=le(()=>wM({scrollWindow:sM,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:v,...Wy({move:n1},T)}),[j.scrollDroppable,T,v]),I=jM(i),B=le(()=>nM({announce:w,autoScroller:H,dimensionMarshal:j,focusMarshal:I,getResponders:b,styleMarshal:_}),[w,H,j,I,b,_]);h.current=B;const z=zt(()=>{const nt=lc(h);nt.getState().phase!=="IDLE"&&nt.dispatch(fp())},[]),R=zt(()=>{const nt=lc(h).getState();return nt.phase==="DROP_ANIMATING"?!0:nt.phase==="IDLE"?!1:nt.isDragging},[]),G=le(()=>({isDragging:R,tryAbort:z}),[R,z]);o(G);const Q=zt(nt=>d1(lc(h).getState(),nt),[]),J=zt(()=>Bo(lc(h).getState()),[]),rt=le(()=>({marshal:j,focus:I,contextId:i,canLift:Q,isMovementAllowed:J,dragHandleUsageInstructionsId:S,registry:A}),[i,j,S,I,Q,J,A]);return SD({contextId:i,store:B,registry:A,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),O.useEffect(()=>z,[z]),Ce.createElement(kf.Provider,{value:rt},Ce.createElement(XE,{context:vp,store:B},t.children))}function ND(){return Ce.useId()}function $c(t){const i=ND(),o=t.dragHandleUsageInstructions||Ud.dragHandleUsageInstructions;return Ce.createElement(r3,null,s=>Ce.createElement(ED,{nonce:t.nonce,contextId:i,setCallbacks:s,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Nv={dragging:5e3,dropAnimating:4500},MD=(t,i)=>i?Tc.drop(i.duration):t?Tc.snap:Tc.fluid,DD=(t,i)=>{if(t)return i?Cc.opacity.drop:Cc.opacity.combining},AD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function jD(t){const o=t.dimension.client,{offset:s,combineWith:u,dropping:d}=t,h=!!u,p=AD(t),b=!!d,v=b?I0.drop(s,h):I0.moveTo(s);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:MD(p,d),transform:v,opacity:DD(h,b),zIndex:b?Nv.dropAnimating:Nv.dragging,pointerEvents:"none"}}function kD(t){return{transform:I0.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function CD(t){return t.type==="DRAGGING"?jD(t):kD(t)}function OD(t,i,o=hn){const s=window.getComputedStyle(i),u=i.getBoundingClientRect(),d=j_(u,s),h=Fd(d,o),p={client:d,tagName:i.tagName.toLowerCase(),display:s.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:h}}function LD(t){const i=xp("draggable"),{descriptor:o,registry:s,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:h,isEnabled:p}=t,b=le(()=>({canDragInteractiveElements:d,shouldRespectForcePress:h,isEnabled:p}),[d,p,h]),v=zt(T=>{const M=u();return M||Mt(),OD(o,M,T)},[o,u]),w=le(()=>({uniqueId:i,descriptor:o,options:b,getDimension:v}),[o,v,b,i]),S=O.useRef(w),_=O.useRef(!0);gr(()=>(s.draggable.register(S.current),()=>s.draggable.unregister(S.current)),[s.draggable]),gr(()=>{if(_.current){_.current=!1;return}const T=S.current;S.current=w,s.draggable.update(w,T)},[w,s.draggable])}var Sp=Ce.createContext(null);function tf(t){const i=O.useContext(t);return i||Mt(),i}function BD(t){t.preventDefault()}const RD=t=>{const i=O.useRef(null),o=zt((G=null)=>{i.current=G},[]),s=zt(()=>i.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:h}=tf(kf),{type:p,droppableId:b}=tf(Sp),v=le(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:w,draggableId:S,isEnabled:_,shouldRespectForcePress:T,canDragInteractiveElements:M,isClone:A,mapped:j,dropAnimationFinished:H}=t;if(!A){const G=le(()=>({descriptor:v,registry:h,getDraggableRef:s,canDragInteractiveElements:M,shouldRespectForcePress:T,isEnabled:_}),[v,h,s,M,T,_]);LD(G)}const I=le(()=>_?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":S,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:BD}:null,[u,d,S,_]),B=zt(G=>{j.type==="DRAGGING"&&j.dropping&&G.propertyName==="transform"&&zc.flushSync(H)},[H,j]),z=le(()=>{const G=CD(j),Q=j.type==="DRAGGING"&&j.dropping?B:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":S,style:G,onTransitionEnd:Q},dragHandleProps:I}},[u,I,S,j,B,o]),R=le(()=>({draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}),[v.droppableId,v.id,v.index,v.type]);return Ce.createElement(Ce.Fragment,null,w(z,j.snapshot,R))};var T1=(t,i)=>t===i,E1=t=>{const{combine:i,destination:o}=t;return o?o.droppableId:i?i.droppableId:null};const PD=t=>t.combine?t.combine.draggableId:null,zD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function HD(){const t=fn((u,d)=>({x:u,y:d})),i=fn((u,d,h=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:h,combineWith:p,combineTargetFor:null})),o=fn((u,d,h,p,b=null,v=null,w=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:v,mode:d,offset:u,dimension:h,forceShouldAnimate:w,snapshot:i(d,p,b,v,null)}}));return(u,d)=>{if(Lc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const h=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=pr(u.impact),v=zD(u.impact),w=u.forceShouldAnimate;return o(t(h.x,h.y),u.movementMode,p,d.isClone,b,v,w)}if(u.phase==="DROP_ANIMATING"){const h=u.completed;if(h.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],v=h.result,w=v.mode,S=E1(v),_=PD(v),M={duration:u.dropDuration,curve:mp.drop,moveTo:u.newHomeClientOffset,opacity:_?Cc.opacity.drop:null,scale:_?Cc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:M,draggingOver:S,combineWith:_,mode:w,forceShouldAnimate:null,snapshot:i(w,p,S,_,M)}}}return null}}function N1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const ID={mapped:{type:"SECONDARY",offset:hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:N1(null)}};function $D(){const t=fn((h,p)=>({x:h,y:p})),i=fn(N1),o=fn((h,p=null,b)=>({mapped:{type:"SECONDARY",offset:h,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:i(p)}})),s=h=>h?o(hn,h,!0):null,u=(h,p,b,v)=>{const w=b.displaced.visible[h],S=!!(v.inVirtualList&&v.effected[h]),_=Mf(b),T=_&&_.draggableId===h?p:null;if(!w){if(!S)return s(T);if(b.displaced.invisible[h])return null;const j=Fs(v.displacedBy.point),H=t(j.x,j.y);return o(H,T,!0)}if(S)return s(T);const M=b.displacedBy.point,A=t(M.x,M.y);return o(A,T,w.shouldAnimate)};return(h,p)=>{if(Lc(h))return h.critical.draggable.id===p.draggableId?null:u(p.draggableId,h.critical.draggable.id,h.impact,h.afterCritical);if(h.phase==="DROP_ANIMATING"){const b=h.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const UD=()=>{const t=HD(),i=$D();return(s,u)=>t(s,u)||i(s,u)||ID},GD={dropAnimationFinished:i1},ZD=A_(UD,GD,null,{context:vp,areStatePropsEqual:T1})(RD);function M1(t){return tf(Sp).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ce.createElement(ZD,t)}function Zs(t){const i=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return Ce.createElement(M1,Kd({},t,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:s}))}const D1=t=>i=>t===i,YD=D1("scroll"),qD=D1("auto"),Mv=(t,i)=>i(t.overflowX)||i(t.overflowY),VD=t=>{const i=window.getComputedStyle(t),o={overflowX:i.overflowX,overflowY:i.overflowY};return Mv(o,YD)||Mv(o,qD)},FD=()=>!1,A1=t=>t==null?null:t===document.body?FD()?t:null:t===document.documentElement?null:VD(t)?t:A1(t.parentElement);var G0=t=>({x:t.scrollLeft,y:t.scrollTop});const j1=t=>t?window.getComputedStyle(t).position==="fixed"?!0:j1(t.parentElement):!1;var KD=t=>{const i=A1(t),o=j1(t);return{closestScrollable:i,isFixedOnPage:o}},XD=({descriptor:t,isEnabled:i,isCombineEnabled:o,isFixedOnPage:s,direction:u,client:d,page:h,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:_,client:T}=p,M=l1({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:_,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:M,diff:{value:hn,displacement:hn}}}})(),v=u==="vertical"?sp:$_,w=$s({page:h,withPlaceholder:null,axis:v,frame:b});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:s,axis:v,isEnabled:i,client:d,page:h,frame:b,subject:w}};const WD=(t,i)=>{const o=k_(t);if(!i||t!==i)return o;const s=o.paddingBox.top-i.scrollTop,u=o.paddingBox.left-i.scrollLeft,d=s+i.scrollHeight,h=u+i.scrollWidth,b=rp({top:s,right:h,bottom:d,left:u},o.border);return ip({borderBox:b,margin:o.margin,border:o.border,padding:o.padding})};var QD=({ref:t,descriptor:i,env:o,windowScroll:s,direction:u,isDropDisabled:d,isCombineEnabled:h,shouldClipSubject:p})=>{const b=o.closestScrollable,v=WD(t,b),w=Fd(v,s),S=(()=>{if(!b)return null;const T=k_(b),M={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:T,page:Fd(T,s),scroll:G0(b),scrollSize:M,shouldClipSubject:p}})();return XD({descriptor:i,isEnabled:!d,isCombineEnabled:h,isFixedOnPage:o.isFixedOnPage,direction:u,client:v,page:w,closest:S})};const JD={passive:!1},tA={passive:!0};var Dv=t=>t.shouldPublishImmediately?JD:tA;const vd=t=>t&&t.env.closestScrollable||null;function eA(t){const i=O.useRef(null),o=tf(kf),s=xp("droppable"),{registry:u,marshal:d}=o,h=b1(t),p=le(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=O.useRef(p),v=le(()=>fn((z,R)=>{i.current||Mt();const G={x:z,y:R};d.updateDroppableScroll(p.id,G)}),[p.id,d]),w=zt(()=>{const z=i.current;return!z||!z.env.closestScrollable?hn:G0(z.env.closestScrollable)},[]),S=zt(()=>{const z=w();v(z.x,z.y)},[w,v]),_=le(()=>Dc(S),[S]),T=zt(()=>{const z=i.current,R=vd(z);if(z&&R||Mt(),z.scrollOptions.shouldPublishImmediately){S();return}_()},[_,S]),M=zt((z,R)=>{i.current&&Mt();const G=h.current,Q=G.getDroppableRef();Q||Mt();const J=KD(Q),rt={ref:Q,descriptor:p,env:J,scrollOptions:R};i.current=rt;const nt=QD({ref:Q,descriptor:p,env:J,windowScroll:z,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),F=J.closestScrollable;return F&&(F.setAttribute(Sv.contextId,o.contextId),F.addEventListener("scroll",T,Dv(rt.scrollOptions))),nt},[o.contextId,p,T,h]),A=zt(()=>{const z=i.current,R=vd(z);return z&&R||Mt(),G0(R)},[]),j=zt(()=>{const z=i.current;z||Mt();const R=vd(z);i.current=null,R&&(_.cancel(),R.removeAttribute(Sv.contextId),R.removeEventListener("scroll",T,Dv(z.scrollOptions)))},[T,_]),H=zt(z=>{const R=i.current;R||Mt();const G=vd(R);G||Mt(),G.scrollTop+=z.y,G.scrollLeft+=z.x},[]),I=le(()=>({getDimensionAndWatchScroll:M,getScrollWhileDragging:A,dragStopped:j,scroll:H}),[j,M,A,H]),B=le(()=>({uniqueId:s,descriptor:p,callbacks:I}),[I,p,s]);gr(()=>(b.current=B.descriptor,u.droppable.register(B),()=>{i.current&&j(),u.droppable.unregister(B)}),[I,p,j,B,d,u.droppable]),gr(()=>{i.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),gr(()=>{i.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function Jm(){}const Av={width:0,height:0,margin:u3},nA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>t||o==="close"?Av:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},rA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>{const s=nA({isAnimatingOpenOnMount:t,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Tc.placeholder:null}},iA=t=>{const i=O.useRef(null),o=zt(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:s,onTransitionEnd:u,onClose:d,contextId:h}=t,[p,b]=O.useState(t.animate==="open");O.useEffect(()=>p?s!=="open"?(o(),b(!1),Jm):i.current?Jm:(i.current=setTimeout(()=>{i.current=null,b(!1)}),o):Jm,[s,p,o]);const v=zt(S=>{S.propertyName==="height"&&(u(),s==="close"&&d())},[s,d,u]),w=rA({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return Ce.createElement(t.placeholder.tagName,{style:w,"data-rfd-placeholder-context-id":h,onTransitionEnd:v,ref:t.innerRef})};var aA=Ce.memo(iA);class oA extends Ce.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const sA=t=>{const i=O.useContext(kf);i||Mt();const{contextId:o,isMovementAllowed:s}=i,u=O.useRef(null),d=O.useRef(null),{children:h,droppableId:p,type:b,mode:v,direction:w,ignoreContainerClipping:S,isDropDisabled:_,isCombineEnabled:T,snapshot:M,useClone:A,updateViewportMaxScroll:j,getContainerForClone:H}=t,I=zt(()=>u.current,[]),B=zt((F=null)=>{u.current=F},[]);zt(()=>d.current,[]);const z=zt((F=null)=>{d.current=F},[]),R=zt(()=>{s()&&j({maxScroll:u1()})},[s,j]);eA({droppableId:p,type:b,mode:v,direction:w,isDropDisabled:_,isCombineEnabled:T,ignoreContainerClipping:S,getDroppableRef:I});const G=le(()=>Ce.createElement(oA,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:F,data:U,animate:W})=>Ce.createElement(aA,{placeholder:U,onClose:F,innerRef:z,animate:W,contextId:o,onTransitionEnd:R})),[o,R,t.placeholder,t.shouldAnimatePlaceholder,z]),Q=le(()=>({innerRef:B,placeholder:G,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,G,B]),J=A?A.dragging.draggableId:null,rt=le(()=>({droppableId:p,type:b,isUsingCloneFor:J}),[p,J,b]);function nt(){if(!A)return null;const{dragging:F,render:U}=A,W=Ce.createElement(M1,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ft,pt)=>U(ft,pt,F));return KT.createPortal(W,H())}return Ce.createElement(Sp.Provider,{value:rt},h(Q,M),nt())};function lA(){return document.body||Mt(),document.body}const jv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:lA},k1=t=>{let i={...t},o;for(o in jv)t[o]===void 0&&(i={...i,[o]:jv[o]});return i},t0=(t,i)=>t===i.droppable.type,kv=(t,i)=>i.draggables[t.draggable.id],cA=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...t,shouldAnimatePlaceholder:!1},o=fn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=fn((d,h,p,b,v,w)=>{const S=v.descriptor.id;if(v.descriptor.droppableId===d){const M=w?{render:w,dragging:o(v.descriptor)}:null,A={isDraggingOver:p,draggingOverWith:p?S:null,draggingFromThisWith:S,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:A,useClone:M}}if(!h)return i;if(!b)return t;const T={isDraggingOver:p,draggingOverWith:S,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,h)=>{const p=k1(h),b=p.droppableId,v=p.type,w=!p.isDropDisabled,S=p.renderClone;if(Lc(d)){const _=d.critical;if(!t0(v,_))return i;const T=kv(_,d.dimensions),M=pr(d.impact)===b;return s(b,w,M,M,T,S)}if(d.phase==="DROP_ANIMATING"){const _=d.completed;if(!t0(v,_.critical))return i;const T=kv(_.critical,d.dimensions);return s(b,w,E1(_.result)===b,pr(_.impact)===b,T,S)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const _=d.completed;if(!t0(v,_.critical))return i;const T=pr(_.impact)===b,M=!!(_.impact.at&&_.impact.at.type==="COMBINE"),A=_.critical.droppable.id===b;return T?M?t:i:A?t:i}return i}},uA={updateViewportMaxScroll:SN},Po=A_(cA,uA,(t,i,o)=>({...k1(o),...t,...i}),{context:vp,areStatePropsEqual:T1})(sA),Ws=Tf()(Q0((t,i)=>({currentId:null,setCurrent:o=>t({currentId:o}),list:[],add:o=>t({list:[o,...i().list]}),remove:o=>t({list:i().list.filter(s=>s.id!==o)}),update:(o,s)=>t({list:i().list.map(u=>u.id===o?{...u,...s}:u)}),reorder:o=>t({list:o})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(i=>({...i,dir:i.dir??"forward"}))}),merge:(t,i)=>{const o=t,s=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...i,...o,list:Array.isArray(o.list)?o.list.map(s):[]}}})),dA=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],C1=({value:t,onChange:i})=>{const[o,s]=O.useState(dA),[u,d]=O.useState(""),[h,p]=O.useState(!1),[b,v]=O.useState(""),[w,S]=O.useState(!1),{list:_}=Ws(),M=_.some(B=>B.relationship==="본인")?o.filter(B=>B.value!=="본인"):o;O.useEffect(()=>{t!==void 0&&d(t)},[t]);const A=B=>{const z=B.target.value;d(z),i?.(z),z==="기타입력"?p(!0):(p(!1),v(""))};O.useEffect(()=>{const B=localStorage.getItem("relationshipOptions");B&&s(JSON.parse(B))},[]),O.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(o))},[o]);const j=()=>{if(!b.trim())return;const B={value:b,label:b};s([...o,B]),d(b),v(""),p(!1)},H=B=>{s(o.filter(z=>z.value!==B)),u===B&&d("")},I=B=>{if(!B.destination)return;const z=Array.from(o),[R]=z.splice(B.source.index,1);z.splice(B.destination.index,0,R),s(z)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:A,children:[g.jsx("option",{value:"",hidden:!0,children:"관계선택"}),M.map(B=>g.jsx("option",{value:B.value,children:B.label},B.value)),g.jsx("option",{value:"기타입력",children:"기타입력"})]}),g.jsx("button",{type:"button",onClick:()=>S(!0),className:"btn_style",children:"관계수정"})]}),h&&!w&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:B=>v(B.target.value)}),g.jsx("button",{type:"button",onClick:j,className:"btn_style",children:"관계추가"})]}),w&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),g.jsx($c,{onDragEnd:I,children:g.jsx(Po,{droppableId:"relList",children:B=>g.jsxs("ul",{ref:B.innerRef,...B.droppableProps,className:"space-y-1",children:[o.map((z,R)=>g.jsx(Zs,{draggableId:z.value,index:R,children:G=>g.jsxs("li",{ref:G.innerRef,...G.draggableProps,...G.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:z.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>H(z.value),children:"삭제"})]})},z.value)),B.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>S(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},fA={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function ef(t,i,o){const s=fA[t];if(!s)return!1;const u=new Date(t,i-1,o,0,0,0,0);return u>=s.start&&u<s.end}function hA(t){if(!isFinite(t.getTime()))return 0;const i=t.getUTCFullYear(),o=Date.UTC(i,0,1),u=Math.floor((t.getTime()-o)/864e5)+1,d=t.getUTCHours(),h=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+h/1440+p/86400,v=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(v)-.032077*Math.sin(v)-.014615*Math.cos(2*v)-.040849*Math.sin(2*v))}function mA(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Qs(t,i,o=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(o)return new Date(s.getTime()-1800*1e3);if(i==null||!isFinite(i))return s;let u=i;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=mA(u),h=4*(u-d),p=hA(s);return new Date(s.getTime()+(h+p)*60*1e3)}const Te="폴더 미지정",nf=["가족","친구","직장","지인","고객","기타"],rf="ms_folders",pA="ms_folder_order",gA="ms_folder_favs",O1="ms_disabled_presets";function bA(t){return!t||t==="미분류"?Te:t}function Ys(t){if(!(!t||t===Te||t==="미분류"))return t}function Cv(){try{const t=localStorage.getItem(rf),i=localStorage.getItem(O1),o=t?JSON.parse(t):[],s=i?JSON.parse(i):[],u=nf.filter(d=>!s.includes(d));return[Te,...u,...o]}catch{return[Te,...nf]}}function yA(t){const i=t.trim();if(!(!i||i===Te))try{const o=localStorage.getItem(rf),s=o?JSON.parse(o):[];if(!s.includes(i)){const u=[...s,i];localStorage.setItem(rf,JSON.stringify(u))}}catch{}}const xd="folder.order.v1";function e0(t){return Array.from(new Set(t))}function cc(t){const i=t.filter(o=>o!==Te);return{rest:i,withUnassigned:[Te,...i]}}function Ov(t,i){const o=new Set(i),s=t.filter(d=>o.has(d));return[...s,...i.filter(d=>!s.includes(d))]}function vA({value:t,onChange:i}){const[o,s]=O.useState([Te]),[u,d]=O.useState(!1),[h,p]=O.useState(""),[b,v]=O.useState(!1);O.useEffect(()=>{const M=e0(Cv()),A=M.includes(Te)?e0(M):[Te,...M],j=localStorage.getItem(xd),H=j?JSON.parse(j):[],{rest:I}=cc(A),B=Ov(H,I),z=[Te,...B];s(z),JSON.stringify(H)!==JSON.stringify(B)&&localStorage.setItem(xd,JSON.stringify(B))},[]);const w=O.useMemo(()=>t||Te,[t]),S=M=>{const{rest:A}=cc(M);localStorage.setItem(xd,JSON.stringify(A))},_=M=>{const{source:A,destination:j}=M;if(!j||j.index===A.index)return;const{rest:H}=cc(o),I=Array.from(H),[B]=I.splice(A.index,1);I.splice(j.index,0,B);const z=[Te,...I];s(z),S(z)},T=M=>{yA(M);const A=e0(Cv()),j=A.includes(Te)?A:[Te,...A],H=localStorage.getItem(xd),I=H?JSON.parse(H):[],{rest:B}=cc(j),z=Ov(I,B),R=[Te,...z];s(R),S(R)};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":w,onChange:M=>{const A=M.target.value;if(A==="__custom__"){d(!0),i(void 0);return}d(!1),i(Ys(A))},children:[o.map(M=>g.jsx("option",{value:M,children:M},M)),g.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>v(M=>!M),children:b?"순서수정 닫기":"폴더 순서수정"})]}),u&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:h,onChange:M=>p(M.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const M=h.trim();M&&(T(M),i(M),d(!1),p(""))},children:"추가"})]}),b&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),g.jsxs("span",{className:"flex-1 px-2",children:[Te," (고정)"]})]}),g.jsx($c,{onDragEnd:_,children:g.jsx(Po,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:M=>g.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[cc(o).rest.map((A,j)=>g.jsx(Zs,{draggableId:A,index:j,children:H=>g.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:A})]})},A)),M.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',Te,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function L1({message:t,onClose:i,ms:o=2e3}){return O.useEffect(()=>{const s=setTimeout(i,o);return()=>clearTimeout(s)},[i,o]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var Gd={exports:{}},xA=Gd.exports,Lv;function _A(){return Lv||(Lv=1,(function(t,i){(function(o,s){t.exports=s()})(xA,function(){return(function(o){function s(d){if(u[d])return u[d].exports;var h=u[d]={i:d,l:!1,exports:{}};return o[d].call(h.exports,h,h.exports,s),h.l=!0,h.exports}var u={};return s.m=o,s.c=u,s.d=function(d,h,p){s.o(d,h)||Object.defineProperty(d,h,{configurable:!1,enumerable:!0,get:p})},s.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(h,"a",h),h},s.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},s.p="",s(s.s=0)})([function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0});var d=u(1),h=(function(p){return p&&p.__esModule?p:{default:p}})(d);s.default=h.default,o.exports=s.default},function(o,s,u){function d(W){return W&&W.__esModule?W:{default:W}}Object.defineProperty(s,"__esModule",{value:!0});var h=u(2),p=d(h),b=u(3),v=d(b),w=u(4),S=d(w),_=u(5),T=d(_),M=u(6),A=d(M),j=u(7),H=d(j),I=u(8),B=d(I),z=u(9),R=d(z),G=u(10),Q=d(G),J=u(11),rt=d(J),nt=u(12),F=d(nt),U={lunarInfo:p.default,solarMonth:v.default,gan:S.default,zhi:T.default,animals:A.default,lunarTerm:H.default,lTermInfo:B.default,nStr1:R.default,nStr2:Q.default,nStr3:rt.default,nStr4:F.default,lYearDays:function(W){var ft,pt=348;for(ft=32768;ft>8;ft>>=1)pt+=U.lunarInfo[W-1900]&ft?1:0;return pt+U.leapDays(W)},leapMonth:function(W){return 15&U.lunarInfo[W-1900]},leapDays:function(W){return U.leapMonth(W)?65536&U.lunarInfo[W-1900]?30:29:0},monthDays:function(W,ft){return ft>12||ft<1?-1:U.lunarInfo[W-1900]&65536>>ft?30:29},solarDays:function(W,ft){if(ft>12||ft<1)return-1;var pt=ft-1;return pt==1?W%4==0&&W%100!=0||W%400==0?29:28:U.solarMonth[pt]},toGanZhi:function(W){return U.gan[W%10]+U.zhi[W%12]},getTerm:function(W,ft){if(W<1900||W>2100||ft<1||ft>24)return-1;var pt=U.lTermInfo[W-1900],K=[parseInt("0x"+pt.substr(0,5)).toString(),parseInt("0x"+pt.substr(5,5)).toString(),parseInt("0x"+pt.substr(10,5)).toString(),parseInt("0x"+pt.substr(15,5)).toString(),parseInt("0x"+pt.substr(20,5)).toString(),parseInt("0x"+pt.substr(25,5)).toString()],st=[K[0].substr(0,1),K[0].substr(1,2),K[0].substr(3,1),K[0].substr(4,2),K[1].substr(0,1),K[1].substr(1,2),K[1].substr(3,1),K[1].substr(4,2),K[2].substr(0,1),K[2].substr(1,2),K[2].substr(3,1),K[2].substr(4,2),K[3].substr(0,1),K[3].substr(1,2),K[3].substr(3,1),K[3].substr(4,2),K[4].substr(0,1),K[4].substr(1,2),K[4].substr(3,1),K[4].substr(4,2),K[5].substr(0,1),K[5].substr(1,2),K[5].substr(3,1),K[5].substr(4,2)];return parseInt(st[ft-1])},toChinaYear:function(W){var ft=parseInt(W/1e3),pt=parseInt(W%1e3/100),K=parseInt(W%100/10),st=W%10;return U.nStr4[ft]+U.nStr4[pt]+U.nStr4[K]+U.nStr4[st]+"年"},toChinaMonth:function(W){if(W>12||W<1)return-1;var ft=U.nStr3[W-1];return ft+="月"},toChinaDay:function(W){var ft;switch(W){case 10:ft="初十";break;case 20:ft="二十";break;case 30:ft="三十";break;default:ft=U.nStr2[Math.floor(W/10)],ft+=U.nStr1[W%10]}return ft},getAnimal:function(W){return U.animals[(W-4)%12]},solar2lunar:function(bt,D,k){if(bt<1900||bt>2100||bt==1900&&D==1&&k<31)return-1;if(bt)var K=new Date(bt,parseInt(D)-1,k);else var K=new Date;var st,yt=0,at=0,bt=K.getFullYear(),D=K.getMonth()+1,k=K.getDate(),Y=(Date.UTC(K.getFullYear(),K.getMonth(),K.getDate())-Date.UTC(1900,0,31))/864e5;for(st=1900;st<2101&&Y>0;st++)at=U.lYearDays(st),Y-=at;Y<0&&(Y+=at,st--);var Z=new Date,$=!1;Z.getFullYear()==bt&&Z.getMonth()+1==D&&Z.getDate()==k&&($=!0);var tt=K.getDay(),X=U.nStr1[tt];tt==0&&(tt=7);var ut=st,yt=U.leapMonth(st),vt=!1;for(st=1;st<13&&Y>0;st++)yt>0&&st==yt+1&&vt==0?(--st,vt=!0,at=U.leapDays(ut)):at=U.monthDays(ut,st),vt==1&&st==yt+1&&(vt=!1),Y-=at;Y==0&&yt>0&&st==yt+1&&(vt?vt=!1:(vt=!0,--st)),Y<0&&(Y+=at,--st);var jt=st,Ft=Y+1,Gt=D-1,ie=U.getTerm(bt,3),ce=U.toGanZhi(bt-4),Pe=new Date(bt,1,ie).getTime();new Date(bt,Gt,k).getTime()<Pe&&(ce=U.toGanZhi(bt-5));var Oe=U.getTerm(bt,2*D-1),he=U.getTerm(bt,2*D),ze=U.toGanZhi(12*(bt-1900)+D+11);k>=Oe&&(ze=U.toGanZhi(12*(bt-1900)+D+12));var wt=!1,Lt="";Oe==k&&(wt=!0,Lt=U.lunarTerm[2*D-2]),he==k&&(wt=!0,Lt=U.lunarTerm[2*D-1]);var _t=Date.UTC(bt,Gt,1,0,0,0,0)/864e5+25567+10,Et=U.toGanZhi(_t+k-1);return{lYear:ut,lMonth:jt,lDay:Ft,animal:U.getAnimal(ut),yearCn:U.toChinaYear(ut),monthCn:(vt&&yt===jt?"闰":"")+U.toChinaMonth(jt),dayCn:U.toChinaDay(Ft),cYear:bt,cMonth:D,cDay:k,gzYear:ce,gzMonth:ze,gzDay:Et,isToday:$,isLeap:vt,nWeek:tt,ncWeek:"星期"+X,isTerm:wt,term:Lt}},lunar2solar:function(W,ft,pt,K){var st=U.leapMonth(W);if(U.leapDays(W),K&&st!=ft||W==2100&&ft==12&&pt>1||W==1900&&ft==1&&pt<31)return-1;var at=U.monthDays(W,ft);if(W<1900||W>2100||pt>at)return-1;for(var bt=0,D=1900;D<W;D++)bt+=U.lYearDays(D);for(var k=0,Y=!1,D=1;D<ft;D++)k=U.leapMonth(W),Y||k<=D&&k>0&&(bt+=U.leapDays(W),Y=!0),bt+=U.monthDays(W,D);K&&(bt+=at);var Z=Date.UTC(1900,1,30,0,0,0),$=new Date(864e5*(bt+pt-31)+Z),tt=$.getUTCFullYear(),X=$.getUTCMonth()+1,ut=$.getUTCDate();return U.solar2lunar(tt,X,ut)}};s.default=U,o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],o.exports=s.default},function(o,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],o.exports=s.default}])})})(Gd)),Gd.exports}var B1=_A();const SA=Vs(B1),wp=qS({__proto__:null,default:SA},[B1]);function Of(t){return typeof t=="object"&&t!==null}function wA(t){return Of(t)&&"default"in t}function TA(t){return Of(t)&&typeof t.lunar2solar=="function"}function EA(t){if(!Of(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function NA(t){const i=wA(t)?t.default:t;if(!TA(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,h);return EA(p)}}}const MA=NA(wp);function Wr(t,i,o,s=4,u=0){const d=MA.lunar2solar(t,i,o,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,s,u)}const uc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],dc=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],_d=["야자시","조자시","인시"],Sd=["남자","여자"];function n0(t,i,o){return o==="ArrowRight"||o==="ArrowDown"?(t+1)%i:o==="ArrowLeft"||o==="ArrowUp"?(t-1+i)%i:o==="Home"?0:o==="End"?i-1:t}function r0(t){const i=document.getElementById(t);i instanceof HTMLElement&&i.focus()}function DA({onSave:t,onClose:i}){const{add:o}=Ws(),[s,u]=O.useState(0),[d,h]=O.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=O.useState(null),[v,w]=O.useState(!1),[S,_]=O.useState(!1),T=uc[s],M=z=>b(z);O.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const R=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(R){R.focus();return}}if(T.key==="mingSikType"){const R=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(R){R.focus();return}}if(T.key==="gender"){const R=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(R){R.focus();return}}if(d.birthPlace||S){const R=()=>{const G=document.querySelector(".current-step form button[type='submit']");G&&G.focus()};R(),setTimeout(R,0)}else{const R=document.getElementById("inputBirthPlaceBtn");R&&R.focus()}if(T.key==="relationship"){setTimeout(()=>{const R=document.querySelector(".current-step select");R&&R.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const R=document.querySelector(".current-step select");R&&R.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[S,s,T.key,d.birthPlace]);const A=O.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const z=Number(d.birthDay.slice(0,4)),R=Number(d.birthDay.slice(4,6)),G=Number(d.birthDay.slice(6,8)),Q=Wr(z,R,G);return`→ 양력 ${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}-${String(Q.getDate()).padStart(2,"0")}`}catch(z){const R=z instanceof Error?z.message:void 0;return`→ 변환 실패${R?`: ${R}`:""}`}},[d.calendarType,d.birthDay]),j=()=>{const z=uc[s];if(z.key==="name"&&(d.name||(h({...d,name:"이름없음"}),M("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),z.key==="birthDay"){const R=/^\d{8}$/;if(!d.birthDay||!R.test(d.birthDay))return M("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const G=Number(d.birthDay.substring(0,4)),Q=Number(d.birthDay.substring(4,6)),J=Number(d.birthDay.substring(6,8));if(G<1900||G>2100)return M("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(Q<1||Q>12)return M("출생 월은 01~12 사이여야 합니다."),!1;if(J<1||J>31)return M("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const rt=new Date(G,Q-1,J);if(rt.getFullYear()!==G||rt.getMonth()+1!==Q||rt.getDate()!==J)return M("존재하지 않는 날짜입니다."),!1}else try{Wr(G,Q,J)}catch(rt){return M(rt instanceof Error?rt.message:"음력 날짜가 유효하지 않습니다."),!1}}if(z.key==="birthTime"){if(!d.birthTime&&!v)return M("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const R=Number(d.birthTime);if(Number.isNaN(R)||R<0||R>2359)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1;const G=Number(d.birthTime.slice(0,2)),Q=Number(d.birthTime.slice(2,4));if(G>23||Q>59)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return z.key==="birthPlace"&&!d.birthPlace&&!S?(M("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},H=()=>{if(!j())return;if(s<uc.length-1){u(s+1);return}const z=Ys(d.folder),R=!d.birthTime||d.birthTime==="모름",G=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let Q=Number(d.birthDay.slice(0,4)),J=Number(d.birthDay.slice(4,6)),rt=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const X=Wr(Q,J,rt);Q=X.getFullYear(),J=X.getMonth()+1,rt=X.getDate()}const nt=R?4:Number(d.birthTime.slice(0,2)),F=R?30:Number(d.birthTime.slice(2,4)),U=new Date(Q,J-1,rt,nt,F,0,0),W=S||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,ft=Qs(U,W,G),pt=d.mingSikType??"야자시",K=R?"":ft.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),st=Ee(ft,W),at=Qe(ft,W),bt=Se(ft,pt),D=R?null:Qr(ft,pt),k=[`원국 : ${st}년 ${at}월 ${bt}일`,D?`${D}시`:null].filter(Boolean).join(" ");function Y(X,ut){const vt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(X),jt=ut==="남자";return vt?jt?"forward":"backward":jt?"backward":"forward"}const Z=st.charAt(0),$=Y(Z,d.gender??"남자"),tt={id:x_(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:R?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:S?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:z,correctedLocal:K,ganji:k,calendarType:d.calendarType??"solar",dir:$,corrected:ft,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};o(tt),t(tt),b("저장 완료!"),h({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),w(!1),_(!1),u(0)},I=z=>{if(z.key!=="Enter")return;const R=z.target,G=R.getAttribute("role");if(G==="radio"||G==="checkbox")return;const Q=document.getElementById("mapModal");if(Q&&Q.contains(R))return;const J=R.tagName.toLowerCase(),rt=R instanceof HTMLInputElement?R.type:"";if(J==="textarea"){if(z.shiftKey)return;z.preventDefault(),H();return}if(rt==="radio"||rt==="checkbox"){z.preventDefault(),R instanceof HTMLInputElement&&R.click();return}J==="button"&&R.type!=="submit"||(z.preventDefault(),H())},B=z=>{switch(z){case"birthPlace":return S?"모름":d.birthPlace?.name||"";case"birthTime":return v?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):Te;default:{const G=d[z];return typeof G=="string"?G:G!=null?String(G):""}}};return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&g.jsx(L1,{message:p,onClose:()=>b(null)}),uc.slice(0,s).map((z,R)=>g.jsxs("button",{onClick:()=>u(R),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:z.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:B(z.key)})]},z.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:z=>{z.preventDefault(),H()},onKeyDown:I,children:[g.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:z=>h({...d,name:z.target.value})}),T.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:z=>{const R=z.target.value.replace(/\D/g,"");h({...d,birthDay:R.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:dc.map(({value:z,label:R,id:G})=>{const Q=d.calendarType===z;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:G,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:G,id:`${G}_lbl`,role:"radio","aria-checked":Q,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":Q?"true":"false",onKeyDown:J=>{if(J.stopPropagation(),J.key===" "||J.key==="Enter"){J.preventDefault(),h({...d,calendarType:z});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(J.key))return;J.preventDefault();const nt=dc.findIndex(W=>W.value===d.calendarType),F=n0(nt<0?0:nt,dc.length,J.key),U=dc[F].value;h({...d,calendarType:U}),r0(`${dc[F].id}_lbl`)},onClick:J=>{J.preventDefault(),h({...d,calendarType:z})},children:R})]},z)})})]}),d.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:A})}),d.birthDay&&d.birthDay.length===8&&(()=>{const z=Number(d.birthDay.slice(0,4)),R=Number(d.birthDay.slice(4,6)),G=Number(d.birthDay.slice(6,8));return ef(z,R,G)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:v?"":d.birthTime||"",onChange:z=>{const R=z.target.value.replace(/\D/g,"");h({...d,birthTime:R.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:v}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":v,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":v?"true":"false",onKeyDown:z=>{z.stopPropagation(),(z.key===" "||z.key==="Enter")&&(z.preventDefault(),w(!v))},onClick:z=>{z.preventDefault(),w(!v)},children:"모름"})]})]}),T.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:_d.map(z=>{const R=`ming_${z}`,G=(d.mingSikType??"야자시")===z;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:R,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:R,id:`${R}_lbl`,role:"radio","aria-checked":G,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":G?"true":"false",onKeyDown:Q=>{if(Q.stopPropagation(),Q.key===" "||Q.key==="Enter"){Q.preventDefault(),h({...d,mingSikType:z});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(Q.key))return;Q.preventDefault();const rt=d.mingSikType??"야자시",nt=_d.indexOf(rt),F=n0(nt,_d.length,Q.key),U=_d[F];h({...d,mingSikType:U}),r0(`ming_${U}_lbl`)},onClick:Q=>{Q.preventDefault(),h({...d,mingSikType:z})},children:[z,"명식"]})]},z)})}),T.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Sd.map(z=>{const R=`gender_${z}`,G=(d.gender??"남자")===z;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:R,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:R,id:`${R}_lbl`,role:"radio","aria-checked":G,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":G?"true":"false",onKeyDown:Q=>{if(Q.stopPropagation(),Q.key===" "||Q.key==="Enter"){Q.preventDefault(),h({...d,gender:z});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(Q.key))return;Q.preventDefault();const rt=d.gender??"남자",nt=Sd.indexOf(rt),F=n0(nt,Sd.length,Q.key),U=Sd[F];h({...d,gender:U}),r0(`gender_${U}_lbl`)},onClick:Q=>{Q.preventDefault(),h({...d,gender:z})},children:z})]},z)})}),T.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(__,{onSelect:z=>h({...d,birthPlace:z})}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":S,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":S?"true":"false",onKeyDown:z=>{z.stopPropagation(),(z.key===" "||z.key==="Enter")&&(z.preventDefault(),_(!S))},onClick:z=>{z.preventDefault(),_(!S)},children:"모름"})]})]}),T.key==="relationship"&&g.jsx(C1,{value:d.relationship||"",onChange:z=>h({...d,relationship:z})}),T.key==="folder"&&g.jsx(vA,{value:Ys(d.folder),onChange:z=>h({...d,folder:z})}),T.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:z=>h({...d,memo:z.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:i,children:"닫기"}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===uc.length-1?"저장하기":"확인"})]})]})})]})}var wd={},Bv;function AA(){if(Bv)return wd;Bv=1,wd.match=d,wd.parse=h;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(w,S){return h(w).some(function(_){var T=_.inverse,M=_.type==="all"||S.type===_.type;if(M&&T||!(M||T))return!1;var A=_.expressions.every(function(j){var H=j.feature,I=j.modifier,B=j.value,z=S[H];if(!z)return!1;switch(H){case"orientation":case"scan":return z.toLowerCase()===B.toLowerCase();case"width":case"height":case"device-width":case"device-height":B=v(B),z=v(z);break;case"resolution":B=b(B),z=b(z);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":B=p(B),z=p(z);break;case"grid":case"color":case"color-index":case"monochrome":B=parseInt(B,10)||1,z=parseInt(z,10)||0;break}switch(I){case"min":return z>=B;case"max":return z<=B;default:return z===B}});return A&&!T||!A&&T})}function h(w){return w.split(",").map(function(S){S=S.trim();var _=S.match(t),T=_[1],M=_[2],A=_[3]||"",j={};return j.inverse=!!T&&T.toLowerCase()==="not",j.type=M?M.toLowerCase():"all",A=A.match(/\([^\)]+\)/g)||[],j.expressions=A.map(function(H){var I=H.match(i),B=I[1].toLowerCase().match(o);return{modifier:B[1],feature:B[2],value:I[2]}}),j})}function p(w){var S=Number(w),_;return S||(_=w.match(/^(\d+)\s*\/\s*(\d+)$/),S=_[1]/_[2]),S}function b(w){var S=parseFloat(w),_=String(w).match(u)[1];switch(_){case"dpcm":return S/2.54;case"dppx":return S*96;default:return S}}function v(w){var S=parseFloat(w),_=String(w).match(s)[1];switch(_){case"em":return S*16;case"rem":return S*16;case"cm":return S*96/2.54;case"mm":return S*96/2.54/10;case"in":return S*96;case"pt":return S*72;case"pc":return S*72/12;default:return S}}return wd}var i0,Rv;function jA(){if(Rv)return i0;Rv=1;var t=AA().match,i=typeof window<"u"?window.matchMedia:null;function o(u,d,h){var p=this,b;i&&!h&&(b=i.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(S)):(this.matches=t(u,d),this.media=u),this.addListener=v,this.removeListener=w,this.dispose=_;function v(T){b&&b.addListener(T)}function w(T){b&&b.removeListener(T)}function S(T){p.matches=T.matches,p.media=T.media}function _(){b&&b.removeListener(S)}}function s(u,d,h){return new o(u,d,h)}return i0=s,i0}var kA=jA();const CA=Vs(kA);var OA=/[A-Z]/g,LA=/^ms-/,a0={};function BA(t){return"-"+t.toLowerCase()}function R1(t){if(a0.hasOwnProperty(t))return a0[t];var i=t.replace(OA,BA);return a0[t]=LA.test(i)?"-"+i:i}function RA(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),s=Object.keys(i),u=o.length;if(s.length!==u)return!1;for(let d=0;d<u;d++){const h=o[d];if(t[h]!==i[h]||!Object.prototype.hasOwnProperty.call(i,h))return!1}return!0}var o0={exports:{}},s0,Pv;function PA(){if(Pv)return s0;Pv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return s0=t,s0}var l0,zv;function zA(){if(zv)return l0;zv=1;var t=PA();function i(){}function o(){}return o.resetWarningCache=i,l0=function(){function s(h,p,b,v,w,S){if(S!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}s.isRequired=s;function u(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:u,element:s,elementType:s,instanceOf:u,node:s,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:i};return d.PropTypes=d,d},l0}var Hv;function HA(){return Hv||(Hv=1,o0.exports=zA()()),o0.exports}var IA=HA();const me=Vs(IA),zn=me.oneOfType([me.string,me.number]),P1={all:me.bool,grid:me.bool,aural:me.bool,braille:me.bool,handheld:me.bool,print:me.bool,projection:me.bool,screen:me.bool,tty:me.bool,tv:me.bool,embossed:me.bool},$A={orientation:me.oneOf(["portrait","landscape"]),scan:me.oneOf(["progressive","interlace"]),aspectRatio:me.string,deviceAspectRatio:me.string,height:zn,deviceHeight:zn,width:zn,deviceWidth:zn,color:me.bool,colorIndex:me.bool,monochrome:me.bool,resolution:zn,type:Object.keys(P1)},{type:kC,...UA}=$A,GA={minAspectRatio:me.string,maxAspectRatio:me.string,minDeviceAspectRatio:me.string,maxDeviceAspectRatio:me.string,minHeight:zn,maxHeight:zn,minDeviceHeight:zn,maxDeviceHeight:zn,minWidth:zn,maxWidth:zn,minDeviceWidth:zn,maxDeviceWidth:zn,minColor:me.number,maxColor:me.number,minColorIndex:me.number,maxColorIndex:me.number,minMonochrome:me.number,maxMonochrome:me.number,minResolution:zn,maxResolution:zn,...UA},ZA={...P1,...GA};var YA={all:ZA};const qA=t=>`not ${t}`,VA=(t,i)=>{const o=R1(t);return typeof i=="number"&&(i=`${i}px`),i===!0?o:i===!1?qA(o):`(${o}: ${i})`},FA=t=>t.join(" and "),KA=t=>{const i=[];return Object.keys(YA.all).forEach(o=>{const s=t[o];s!=null&&i.push(VA(o,s))}),FA(i)},XA=O.createContext(void 0),WA=t=>t.query||KA(t),Iv=t=>t?Object.keys(t).reduce((o,s)=>(o[R1(s)]=t[s],o),{}):void 0,z1=()=>{const t=O.useRef(!1);return O.useEffect(()=>{t.current=!0},[]),t.current},QA=t=>{const i=O.useContext(XA),o=()=>Iv(t)||Iv(i),[s,u]=O.useState(o);return O.useEffect(()=>{const d=o();RA(s,d)||u(d)},[t,i]),s},JA=t=>{const i=()=>WA(t),[o,s]=O.useState(i);return O.useEffect(()=>{const u=i();o!==u&&s(u)},[t]),o},t7=(t,i)=>{const o=()=>CA(t,i||{},!!i),[s,u]=O.useState(o),d=z1();return O.useEffect(()=>{if(d){const h=o();return u(h),()=>{h&&h.dispose()}}},[t,i]),s},e7=t=>{const[i,o]=O.useState(t.matches);return O.useEffect(()=>{const s=u=>{o(u.matches)};return t.addListener(s),o(t.matches),()=>{t.removeListener(s)}},[t]),i},n7=(t,i,o)=>{const s=QA(i),u=JA(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=t7(u,s),h=e7(d);return z1(),O.useEffect(()=>{},[h]),O.useEffect(()=>()=>{d&&d.dispose()},[]),h},H1=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${In[i%10]}${Wn[i%12]}`);return t})();function r7(t){const i=H1.indexOf(t);if(i<0)throw new Error(`Unknown 간지: ${t}`);return i}function af(t,i,o=1){const s=r7(t),u=i==="forward"?o:-o;return H1[(s+u+60*1e3)%60]}const i7=60*1e3,a7=60*i7,o7=24*a7;function s7(t,i){const o=new Date(t.getTime()),s=o.getFullYear()+i,u=o.getMonth(),d=o.getDate();return new Date(Date.UTC(s,u,d,o.getUTCHours(),o.getUTCMinutes()))}function Z0(t){const i=new Date(t);return i.setSeconds(0,0),i}function l7(t,i,o){const s=t.getHours(),u=o==="야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const h=new Date(d);h.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=h.getTime()-t.getTime();return i==="backward"?p:b}function I1(t,i,o,s=120,u="야자시"){const d=Z0(t),h=l7(d,o,u),p=Z0(new Date(d.getTime()+h*120)),b=s7(t,s).getTime(),v=[];let w=af(i,o,1);for(let S=p.getTime();S<=b;S+=10*o7)v.push({at:new Date(S),gz:w}),w=af(w,o,1);return{firstChange:p,events:v}}function $1(t,i){const o=i==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===o}function U1(t,i,o,s){const u=$1(s,o);let d=i;const h=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=af(d,o,1),h.push({at:p.at,gz:d}))}return{events:h}}function Ec(t){const i=t.getFullYear(),o=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},u=o.map(p=>({name:p.name,date:nn(i,p.deg)})).concat([{name:s.name,date:nn(i+1,s.deg)},{name:"소한",date:nn(i+1,285)}]),d=nn(i,315),h=nn(i+1,315);return u.filter(p=>p.date>=d&&p.date<h).sort((p,b)=>p.date.getTime()-b.date.getTime())}const c7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},u7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},d7=t=>c7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),f7=t=>u7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function $v(t){const i=d7(t[0]),o=f7(t[1]);if(!i||!o)throw new Error(`Invalid GZ: ${t}`);return`${i}${o}`}function Lf(t,i,o,s=120,u){function d(B){return B instanceof Date||(B=new Date(B)),Math.floor((B.getHours()+1)%24/2)}function h(B){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(B)]}function p(B,z,R){const G=B.charAt(0),Q=B.charAt(1),J=In.indexOf(G),rt=Wn.indexOf(Q),nt=z==="forward"?R:-R,F=(J+nt%10+10)%10,U=(rt+nt%12+12)%12;return In[F]+Wn[U]}const b=Ec(t).sort((B,z)=>B.date.getTime()-z.date.getTime());let v;if(o==="forward"){const B=b.findIndex(z=>z.date>=t);B>=0&&(v=b[B].date)}else{const B=b.filter(z=>z.date<=t);B.length&&(v=B[B.length-1].date)}function w(B,z){const R=h(B),G={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},Q=G[R],J=(Q+2)%24,rt=new Date(B);if(rt.setSeconds(0,0),o==="backward"&&z){const F=h(z),U=G[F],W=new Date(z);return W.setHours(U,0,0,0),W}if(o==="forward"&&z){const F=h(z),U=G[F],W=new Date(z);if(W.setHours(U,0,0,0),W>rt)return W}const nt=new Date(rt);return o==="forward"?(nt.setHours(J,0,0,0),nt<=rt&&nt.setDate(nt.getDate()+1)):(nt.setHours(Q,0,0,0),nt>=rt&&nt.setDate(nt.getDate()-1)),nt}new Date(t).setSeconds(0,0);const _=$v(Qe(t,127.5)),T=w(t,v),M=Math.floor(o==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),A=Math.round(M/120*(14400*60*1e3));let j=new Date(t.getTime()+A);try{const B=$v(Qe(t,u));(o==="forward"&&_!==B||o==="backward"&&_!==B)&&(j=new Date(t.getTime()+6e4))}catch{}const H=s/10,I=[];for(let B=0;B<H;B++){const z=new Date(j);z.setFullYear(z.getFullYear()+B*10),z.setSeconds(0,0);const R=p(i,o,B+1);I.push({at:z,gz:R})}return{natalMonthPillar:i,firstChange:j,mPillars:[],events:I}}function h7(t,i){const s=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function G1(t,i,o,s,u){const d=$1(s,o);let h=i;const p=[];for(const b of t.events){const v=b.gz.charAt(1);d(v)&&(h=af(h,o,1),p.push({at:b.at,gz:h,age:h7(u,b.at)}))}return{events:p}}function m7(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(i,o-1,s,u,d,0,0)}function Bf(t){const i=m7(t),o=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=Qs(i,t.birthPlace?.lon??null,o);return Z0(s)}function Tp(t,i){const o=t.birthPlace?.lon??127.5,s=Bf(t),u=Se(s,i),d=Qr(s,i,u.charAt(0));return{year:Ee(s,o),month:Qe(s,o),day:u,hour:d}}const p7=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${In[i%10]}${Wn[i%12]}`);return t})(),g7=t=>p7.indexOf(t),c0=t=>{if(g7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function Ep(t){return typeof t=="object"&&t!==null}function b7(t){return Ep(t)&&"default"in t}function y7(t){return Ep(t)&&typeof t.lunar2solar=="function"}function v7(t){if(!Ep(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,s=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:s,isLeap:typeof u=="boolean"?u:void 0}}function x7(t){const i=b7(t)?t.default:t;if(!y7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,u,d,h)=>{const p=i.lunar2solar(s,u,d,!!h);return v7(p)}}}const _7=x7(wp),Uv=t=>t<10?`0${t}`:`${t}`;function Np(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8||s!=="lunar")return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}try{const v=_7.lunar2solar(u,d,h,b),w=`${v.cYear}${Uv(v.cMonth)}${Uv(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}}function S7(t,i="야자시"){const o=O.useMemo(()=>Np(t),[t]),s=O.useMemo(()=>Bf(o),[o]),u=O.useMemo(()=>Tp(o,i),[o,i]);return O.useMemo(()=>{const d=Lf(s,u.month,o.dir,120,o?.birthPlace?.lon??127.5),h=new Date;function p(B,z){let R=null;const G=z.getTime();for(const Q of B)if(Q.at.getTime()<=G)R=Q;else break;return R}const b=p(d.events,h)?.gz??u.month,v=c0(b),w=h.getFullYear(),S=nn(w,315),T=S&&h>=S?w:w-1,M=Ee(new Date(T,1,10,0,0,0),127.5),A=c0(M),j=Qe(h,127.5),H=c0(j),I=[];return H&&I.push({key:"wolun",label:"월운",data:H}),A&&I.push({key:"seun",label:"세운",data:A}),v&&I.push({key:"daeun",label:"대운",data:v}),I},[s,o.dir,u.month,o.birthPlace?.lon])}function Nc(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}년 ${i(t.getMonth()+1)}월 ${i(t.getDate())}일 ${i(t.getHours())}시 ${i(t.getMinutes())}분`}function Ps(t){return t<10?`0${t}`:`${t}`}function w7(t){return`${Ps(t.getHours())}:${Ps(t.getMinutes())}`}function T7(t){return`${t.getFullYear()}-${Ps(t.getMonth()+1)}-${Ps(t.getDate())} ${Ps(t.getHours())}:${Ps(t.getMinutes())}`}function As(t,i,o){const s=typeof o=="number"?o:void 0,u=Ee(t,s),d=Qe(t,s),h=Se(t,i);return{yearGZ:u,monthGZ:d,dayGZ:h}}const Jr=Tf()(Q0((t,i)=>{const o=new Date,s="야자시",u=127.5,d=As(o,s,u);return{date:o,scope:"원국만",rule:s,lon:u,...d,setDate:h=>{const{rule:p,lon:b}=i(),v=As(h,p,b);t({date:h,...v})},resetDate:()=>{const{rule:h,lon:p}=i(),b=new Date,v=As(b,h,p);t({date:b,...v})},setScope:h=>t({scope:h}),setRule:h=>{const{date:p,lon:b}=i(),v=As(p,h,b);t({rule:h,...v})},setLon:h=>{const{date:p,rule:b}=i(),v=As(p,b,h);t({lon:h,...v})},setFromEvent:(h,p)=>{const{rule:b,lon:v}=i(),w=As(h.at,b,v);t({date:h.at,scope:p,...w})}}},{name:"luck-picker-v1",merge:(t,i)=>{const o=t;return o.date&&typeof o.date=="string"&&(o.date=new Date(o.date)),{...i,...o}}})),Io={Classic:"고전",Modern:"현대"};function Fi(t,i){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[i]??"":""}function E7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function N7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=o[t];return u&&s[u]?s[u][i]??"":""}function M7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function D7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=o[t];return u&&s[u]?s[u][i]??"":""}function Ki(t){const{baseBranch:i,targetBranch:o,era:s,gaehwa:u}=t;return!i||!o?"":s==="고전"?u?E7(i,o):N7(i,o):u?M7(i,o):D7(i,o)}function Rf(t,i="야자시",o=100){const s=O.useMemo(()=>Np(t),[t]),u=O.useMemo(()=>Bf(s),[s]),d=O.useMemo(()=>Tp(s,i),[s,i]),h=(p,b)=>{const v=b.getFullYear()-p.getFullYear(),w=b.getMonth()-p.getMonth(),S=b.getDate()-p.getDate(),_=w<0||w===0&&S<0?v-1:v;return Math.max(0,_)};return O.useMemo(()=>Lf(u,d.month,s.dir,o,s.birthPlace?.lon??127.5).events.map(b=>({...b,age:h(u,b.at)})),[u,d.month,s.dir,o,s.birthPlace?.lon])}function u0(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function A7(t,i){if(!Array.isArray(t)||t.length===0||!u0(i))return{gz:"",at:i,index:-1};const o=t;for(let d=0;d<o.length;d++){const h=o[d],p=o[d+1];if(!u0(h.at))continue;if(i.getTime()>=h.at.getTime()&&(!p||u0(p.at)&&i.getTime()<p.at.getTime()))return{gz:h.gz??"",at:h.at,index:d}}if(i.getTime()<o[0].at.getTime()){const d=o[0];return{gz:d.gz??"",at:d.at,index:0}}const s=o.length-1,u=o[s];return{gz:u.gz??"",at:u.at,index:s}}function Mp(t,i,o){const{date:s,rule:u,lon:d}=Jr(),h=O.useMemo(()=>o??s??new Date,[o,s]),p=Rf(t,t?.mingSikType),{gz:b}=A7(p,h);return O.useMemo(()=>{try{const v=d??t?.birthPlace?.lon??127.5,w=u??t?.mingSikType??i??"야자시";return{dae:{gz:b,at:h},se:{gz:Ee(h,v),at:h},wol:{gz:Qe(h,v),at:h},il:{gz:Se(h,w),at:h}}}catch{const v=new Date;return{dae:{gz:"",at:v},se:{gz:"",at:v},wol:{gz:"",at:v},il:{gz:"",at:v}}}},[h,u,d,t,i,b])}const Z1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Y1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},j7=Object.fromEntries(Object.entries(Z1).map(([t,i])=>[i,t])),k7=Object.fromEntries(Object.entries(Y1).map(([t,i])=>[i,t])),C7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),O7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function L7(t,i,o){return o==="한글"?i==="stem"?Z1[t]??t:Y1[t]??t:i==="stem"?j7[t]??t:k7[t]??t}function B7(t,i){return i==="stem"?C7.has(t):O7.has(t)}function R7(t){return Of(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function d0(t){const i=Io;return R7(i)?t==="classic"?i.Classic:i.Modern:t}const P7={대운:1,세운:2,월운:3};function z7(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}const H7={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function I7(t){switch(H7[t]){case"목":return"bg-green-600 text-white border-green-600";case"화":return"bg-red-600 text-white border-red-600";case"토":return"bg-yellow-500 text-white border-yellow-500";case"금":return"bg-gray-400 text-white border-gray-400";case"수":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function $7({data:t,hourTable:i}){const{date:o}=Jr(),s=Qn($=>$.settings),u=t.mingSikType??i??"야자시",d=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=O.useMemo(()=>{let $=Number(t.birthDay?.slice(0,4)??2e3),tt=Number(t.birthDay?.slice(4,6)??1),X=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const ut=Wr($,tt,X);$=ut.getFullYear(),tt=ut.getMonth()+1,X=ut.getDate()}return{solarY:$,solarM:tt,solarD:X}},[t.birthDay,t.calendarType]),[v,w]=O.useState(!1);O.useEffect(()=>{h&&p&&b&&w(ef(h,p,b))},[h,p,b]);const S=!t.birthTime||t.birthTime==="모름";function _($,tt){const X=!$.birthTime||$.birthTime==="모름";let ut=Number($.birthDay.slice(0,4)),yt=Number($.birthDay.slice(4,6)),vt=Number($.birthDay.slice(6,8));if($.calendarType==="lunar"){const _t=Wr(ut,yt,vt);ut=_t.getFullYear(),yt=_t.getMonth()+1,vt=_t.getDate()}const jt=X?4:Number($.birthTime.slice(0,2)),Ft=X?30:Number($.birthTime.slice(2,4)),Gt=new Date(ut,yt-1,vt,jt,Ft,0,0),ie=!$.birthPlace||$.birthPlace.lon===0?127.5:$.birthPlace.lon,ce=Qs(Gt,ie,X),Pe=tt?new Date(ce.getTime()-3600*1e3):ce,Oe=$.mingSikType??"야자시",he=Ee(Pe,ie),ze=Qe(Pe,ie),wt=Se(Pe,Oe),Lt=X?null:Qr(Pe,Oe);return{corrected:Pe,year:{stem:he.charAt(0),branch:he.charAt(1)},month:{stem:ze.charAt(0),branch:ze.charAt(1)},day:{stem:wt.charAt(0),branch:wt.charAt(1)},hour:Lt?{stem:Lt.charAt(0),branch:Lt.charAt(1)}:null}}const[T,M]=O.useState(()=>_(t,v));O.useEffect(()=>{M(_(t,v))},[t,v]);const A=t.id??`${t.birthDay}-${t.birthTime}-${t.name??""}`,j=O.useMemo(()=>{const $=Number(t.birthDay.slice(0,4)),tt=Number(t.birthDay.slice(4,6)),X=Number(t.birthDay.slice(6,8));let ut=new Date($,tt-1,X);return t.calendarType==="lunar"&&(ut=Wr($,tt,X)),(!t.birthTime||t.birthTime==="모름")&&ut.setDate(ut.getDate()),Se(ut,"야자시").charAt(0)},[t.birthDay,t.birthTime,t.calendarType]),[H,I]=O.useState(null),[B,z]=O.useState(()=>t.mingSikType==="인시");O.useEffect(()=>{I(null),z(t.mingSikType==="인시")},[A,t.mingSikType]);const R=O.useMemo(()=>(B?W0:f_)[j]??[],[B,j]),G=H??T.hour,Q=s.sinsalBase==="일지"?T.day.branch:T.year.branch,J=Ef($=>$.setManualHour),rt=($,tt)=>{const X={stem:$,branch:tt};I(X),J(X)},nt=$=>s.showSibiUnseong?Fi(j,$):null,F=$=>s.showSibiSinsal?Ki({baseBranch:Q,targetBranch:$,era:d0(s.sinsalMode),gaehwa:s.sinsalBloom}):null,U=S7(t,u),W=n7({query:"(min-width: 992px)"}),ft=s.hiddenStem==="regular"?"main":"all",pt=s.exposure,K=pt==="원국"?0:P7[pt],st=K===0?[]:U.filter($=>z7($.label)<=K),at=ef(h,p,b),bt=()=>w($=>!$),D=Mp(t,i,o),k=D.dae.gz,Y=D.se.gz,Z=D.wol.gz;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(t.name?.trim()||"이름없음")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",t.gender,")"]}),at&&g.jsxs("button",{onClick:bt,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${v?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",v?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[U7(t.birthDay,t.birthTime),t.birthPlace?.name?` · ${"출생지: "+t.birthPlace.name}`:""]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",`${S?"모름":T7(T.corrected)}`]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",d.toFixed(2),"° · ",u," 기준"]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${st.length===0?"grid-cols-1":st.length===1?"grid-cols-[2fr_8fr]":st.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[st.length>0&&(W?g.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"운"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-2 p-3 ${st.length===1?"grid-cols-1":st.length===2?"grid-cols-2":"grid-cols-3"}`,children:st.map($=>{let tt=$.data.stem,X=$.data.branch;$.label.includes("대운")&&k&&(tt=k.charAt(0),X=k.charAt(1)),$.label.includes("세운")&&Y&&(tt=Y.charAt(0),X=Y.charAt(1)),$.label.includes("월운")&&Z&&(tt=Z.charAt(0),X=Z.charAt(1));const ut=nt(X),yt=F(X);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:$.label}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(j,{stem:tt})}),g.jsx(Ua,{value:tt,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:X,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:X,dayStem:j,mode:ft,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:ut}),s.showSibiSinsal&&g.jsx("div",{children:yt})]})]})]},$.key)})})})]}):g.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-1 p-0 ${st.length===1?"grid-cols-1":st.length===2?"grid-cols-2":"grid-cols-3"}`,children:st.map($=>{const tt=$.data.stem,X=$.data.branch,ut=nt(X),yt=F(X);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:$.label}),g.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(j,{stem:tt})}),g.jsx(Ua,{value:tt,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:X,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:X,dayStem:j,mode:ft,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:ut}),s.showSibiSinsal&&g.jsx("div",{children:yt})]})]})]},$.key)})})})]})),W?g.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"원국"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:G},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map($=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:$.label}),g.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:$.data?g.jsxs(g.Fragment,{children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(j,{stem:$.data.stem})}),g.jsx(Ua,{value:$.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:$.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:$.data.branch,dayStem:j,mode:ft,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:Fi(j,$.data.branch)}),s.showSibiSinsal&&g.jsx("div",{children:Ki({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:$.data.branch,era:d0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):g.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},$.key))})})]}):g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),g.jsx("div",{className:"px-1 pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:G},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map($=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:$.label}),g.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:$.data?g.jsxs(g.Fragment,{children:[s.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(j,{stem:$.data.stem})}),g.jsx(Ua,{value:$.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),g.jsx(Ua,{value:$.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),g.jsx(xc,{branch:$.data.branch,dayStem:j,mode:ft,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&g.jsx("div",{children:Fi(j,$.data.branch)}),s.showSibiSinsal&&g.jsx("div",{children:Ki({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:$.data.branch,era:d0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"시간 미상"})})]},$.key))})})]})]}),S&&g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:"시주 예측"}),g.jsx("button",{onClick:()=>z($=>!$),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:B?"현재 : 인시 기준":"현재 : 자시 기준"})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:R.map($=>{const tt=$.charAt(0),X=$.charAt(1),ut=H?.stem===tt&&H?.branch===X;return g.jsx("button",{onClick:()=>rt(tt,X),className:`p-2 text-xs rounded border cursor-pointer ${ut?I7(X):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${$} (시주 후보)`,children:$},$)})})]})]})}function Ua({value:t,kind:i,charType:o,thinEum:s}){const{settings:u}=Qn(),d=br(t,i,u),h=L7(t,i,o),p=B7(t,i),b=s&&p?"font-thin":"font-bold";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${b} text-white`,children:h})})}function U7(t,i){if(!t||!/^\d{8}$/.test(t))return"";const o=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8),d=`${o}-${s}-${u}`;return!i||i==="모름"||!/^\d{4}$/.test(i)?d:`${d} ${i.slice(0,2)}:${i.slice(2,4)}`}function Uc(t){const i=Number(t.birthDay?.slice(0,4)),o=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),h=new Date(i,o,s,u,d,0,0);if(isNaN(h.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Qs(h,t.birthPlace?.lon??127.5,p)}function Gc(t,i){const o=t,s=typeof o.isUnknownTime=="boolean"?o.isUnknownTime:!1,u=typeof o.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(o.birthTime),d=typeof o.birthHour=="number",h=typeof o.birthMinute=="number";if(s||!(u||d||h)){const b=new Date(i);return b.setDate(b.getDate()+1),b.setHours(4,30,0,0),b}return i}function Pf(t,i){const o=t.length;if(o===0||!i)return 0;const s=t[0].at.getTime(),u=t[o-1].at.getTime(),d=i.getTime();if(d<=s)return 0;if(d>=u)return o-1;for(let h=0;h<o-1;h+=1){const p=t[h].at.getTime(),b=t[h+1].at.getTime();if(d>=p&&d<b)return h}return 0}const q1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},V1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},G7=Object.fromEntries(Object.entries(q1).map(([t,i])=>[i,t])),Z7=Object.fromEntries(Object.entries(V1).map(([t,i])=>[i,t]));function Gv(t,i,o){return o==="한글"?i==="stem"?q1[t]??t:V1[t]??t:i==="stem"?G7[t]??t:Z7[t]??t}const Y7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),q7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Zv(t,i){return i==="stem"?Y7.has(t):q7.has(t)}function V7(t){return typeof t=="object"&&t!==null}function F7(t){return V7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function K7(t){const i=Io;return F7(i)?t==="classic"?i.Classic:i.Modern:t}function X7({data:t}){const i=Rf(t),o=Uc(t),s=O.useMemo(()=>Gc(t,o),[t,o]),u=O.useMemo(()=>{const G=t.mingSikType??"야자시";return Se(s,G).charAt(0)},[s,t.mingSikType]),{date:d,setFromEvent:h}=Jr(),p=O.useMemo(()=>Pf(i,d),[i,d]),b=Qn(G=>G.settings),{charType:v,thinEum:w,showSipSin:S,showSibiUnseong:_,showSibiSinsal:T,sinsalBase:M,sinsalMode:A,sinsalBloom:j}=b,H=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,I=t.mingSikType??"야자시",B=M==="일지"?Se(s,I).charAt(1):Ee(s,H).charAt(1),z=G=>_?Fi(u,G):null,R=G=>T?Ki({baseBranch:B,targetBranch:G,era:K7(A),gaehwa:!!j}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((G,Q)=>{const J=G.gz.charAt(0),rt=G.gz.charAt(1),nt=W7(s,G.at),F=Q===p,U=Gv(J,"stem",v),W=Gv(rt,"branch",v),ft=Zv(J,"stem"),pt=Zv(rt,"branch"),K=w&&ft?"font-thin":"font-bold",st=w&&pt?"font-thin":"font-bold",at=z(rt),bt=R(rt);return g.jsxs("div",{onClick:()=>h(G,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${F?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${G.gz} · ${G.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:nt}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[S&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(u,{stem:J})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${br(J,"stem",b)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${K}`,children:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${br(rt,"branch",b)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${st}`,children:W})}),S&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(u,{branch:rt})}),(_||T)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[_&&g.jsx("div",{children:at}),T&&g.jsx("div",{children:bt})]})]})]},G.gz)})})]})}function W7(t,i){const s=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}const F1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},K1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Q7=Object.fromEntries(Object.entries(F1).map(([t,i])=>[i,t])),J7=Object.fromEntries(Object.entries(K1).map(([t,i])=>[i,t]));function Yv(t,i,o){return o==="한글"?i==="stem"?F1[t]??t:K1[t]??t:i==="stem"?Q7[t]??t:J7[t]??t}const tj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),ej=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function qv(t,i){return i==="stem"?tj.has(t):ej.has(t)}function nj(t){return typeof t=="object"&&t!==null}function rj(t){return nj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function ij(t){const i=Io;return rj(i)?t==="classic"?i.Classic:i.Modern:t}function Vv(t){return new Date(t,6,2,12,0,0,0)}function aj(t,i){const o=i??new Date,s=o.getMonth(),u=o.getHours(),d=o.getMinutes();return s===0?new Date(t+1,0,10,u,d,0,0):new Date(t,s,10,u,d,0,0)}function oj({data:t,list:i,onSelect:o}){const s=Qn(R=>R.settings),{date:u,setFromEvent:d}=Jr(),[h,p]=O.useState(()=>i);O.useEffect(()=>{i&&i.length>0&&p(i)},[i]);const b=Uc(t),v=O.useMemo(()=>Gc(t,b),[t,b]),w=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,S=O.useMemo(()=>{if(!u)return[];const R=u.getFullYear(),G=Vv(R),Q=Ee(G,w);return[{at:G,gz:Q}]},[u,w]),_=i.length>0?i:h.length>0?h:S,T=O.useMemo(()=>[..._].sort((R,G)=>R.at.getTime()-G.at.getTime()),[_]),M=O.useMemo(()=>{if(T.length===0)return 0;const R=Pf(T,u);return R<0?0:R>=T.length?T.length-1:R},[T,u]),[A,j]=O.useState(null);O.useEffect(()=>{j(null)},[u,T]);const H=A??M,I=t.mingSikType??"야자시",B=O.useMemo(()=>Se(v,I).charAt(0),[v,I]),z=O.useMemo(()=>s.sinsalBase==="일지"?Se(v,I).charAt(1):Ee(v,w).charAt(1),[v,I,w,s.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:T.map((R,G)=>{const Q=R.at.getFullYear(),J=Vv(Q),rt=Ee(J,w),nt=rt.charAt(0),F=rt.charAt(1),U=G===H,W=Yv(nt,"stem",s.charType),ft=Yv(F,"branch",s.charType),pt=qv(nt,"stem"),K=qv(F,"branch"),st=s.thinEum&&pt?"font-thin":"font-bold",at=s.thinEum&&K?"font-thin":"font-bold",bt=s.showSibiUnseong?Fi(B,F):null,D=s.showSibiSinsal?Ki({baseBranch:z,targetBranch:F,era:ij(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{j(G);const k=aj(Q,u);d({at:k,gz:Ee(k,w)},"세운"),o&&(typeof queueMicrotask<"u"?queueMicrotask(()=>o(Q)):Promise.resolve().then(()=>o(Q)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${U?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${rt} · ${R.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Q}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(B,{stem:nt})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${br(nt,"stem",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${st}`,children:W})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${br(F,"branch",s)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${at}`,children:ft})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(B,{branch:F})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&bt&&g.jsx("div",{children:bt}),s.showSibiSinsal&&D&&g.jsx("div",{children:D})]})]})]},`${Q}-${R.gz||G}`)})})]})}const X1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},W1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},sj=Object.fromEntries(Object.entries(X1).map(([t,i])=>[i,t])),lj=Object.fromEntries(Object.entries(W1).map(([t,i])=>[i,t]));function Fv(t,i,o){return o==="한글"?i==="stem"?X1[t]??t:W1[t]??t:i==="stem"?sj[t]??t:lj[t]??t}const cj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),uj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Kv(t,i){return i==="stem"?cj.has(t):uj.has(t)}function dj(t){return typeof t=="object"&&t!==null}function fj(t){return dj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function hj(t){const i=Io;return fj(i)?t==="classic"?i.Classic:i.Modern:t}const mj=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function pj(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function gj(t){const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(i.find(o=>o.type==="month")?.value??t.getMonth()+1)}function f0(t){return new Date(t,5,15,12,0,0,0)}function bj(t){const o=[...Ec(f0(t-1))??[],...Ec(f0(t))??[],...Ec(f0(t+1))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,b)=>p.date.getTime()-b.date.getTime()).filter(p=>mj.has(p.name)),s=new Date(t,0,1,0,0,0,0),u=new Date(t+1,0,1,0,0,0,0),d=o.findIndex(p=>p.name==="입춘"&&p.date>=s&&p.date<u);if(d===-1)return[];const h=[];for(let p=0;p<12;p++){const b=o[d+p];if(!b)break;const v=new Date(b.date),w=pj(v);h.push({name:b.name,termAt:v,at00:w})}return h}function yj({data:t,activeYear:i,onSelect:o}){const s=Qn(M=>M.settings),u=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,d=Uc(t),h=O.useMemo(()=>Gc(t,d),[t,d]),p=t.mingSikType??"야자시",b=O.useMemo(()=>Se(h,p).charAt(0),[h,p]),v=s.sinsalBase==="일지"?Se(h,p).charAt(1):Ee(h,u).charAt(1),w=O.useMemo(()=>i?bj(i).map(A=>{const j=A.at00,H=new Date(A.at00);H.setDate(H.getDate()+1);const I=Qe(H,u);return{at:j,gz:I,term:A.name,termAt:A.termAt}}):[],[i,u]),{date:S,setFromEvent:_}=Jr(),T=Pf(w,S);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((M,A)=>{const j=M.gz.charAt(0),H=M.gz.charAt(1),I=`${gj(M.at)}월`,B=A===T,z=Fv(j,"stem",s.charType),R=Fv(H,"branch",s.charType),G=Kv(j,"stem"),Q=Kv(H,"branch"),J=s.thinEum&&G?"font-thin":"font-bold",rt=s.thinEum&&Q?"font-thin":"font-bold",nt=s.showSibiUnseong?Fi(b,H):null,F=s.showSibiSinsal?Ki({baseBranch:v,targetBranch:H,era:hj(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{const U=new Date(M.at);U.setDate(U.getDate()+1),o?.(U.getFullYear(),U.getMonth()+1),_({at:U,gz:Qe(U,u)},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${B?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${M.term} 시작 · ${M.gz} · ${M.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(b,{stem:j})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${br(j,"stem",s)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${J}`,children:z})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${br(H,"branch",s)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${rt}`,children:R})}),s.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(b,{branch:H})}),(s.showSibiUnseong||s.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&nt&&g.jsx("div",{children:nt}),s.showSibiSinsal&&F&&g.jsx("div",{children:F})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:M.term})]})]},`${M.term}-${M.at.toISOString()}`)})})]})}const Q1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},J1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},vj=Object.fromEntries(Object.entries(Q1).map(([t,i])=>[i,t])),xj=Object.fromEntries(Object.entries(J1).map(([t,i])=>[i,t]));function Xv(t,i,o){return o==="한글"?i==="stem"?Q1[t]??t:J1[t]??t:i==="stem"?vj[t]??t:xj[t]??t}const _j=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Sj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Wv(t,i){return i==="stem"?_j.has(t):Sj.has(t)}function wj(t){return typeof t=="object"&&t!==null}function Tj(t){return wj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Ej(t){const i=Io;return Tj(i)?t==="classic"?i.Classic:i.Modern:t}function Nj(t,i){const o=new Date(t,i-1,1,12,0,0,0),s=new Date(i===12?t+1:t,i===12?0:i,1,12,0,0,0);return{start:o,end:s}}function Mj(t,i){const o=i===1?t-1:t;return new Date(o,5,15,12,0,0,0)}function Dj({data:t,year:i,month:o,hourTable:s}){const u=Qn(B=>B.settings),d=s??t?.mingSikType??"야자시",h=t?Uc(t):null,p=t&&h?Gc(t,h):null,b=O.useMemo(()=>p?Se(p,d).charAt(0):void 0,[p,d]),v=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,w=t&&p?u.sinsalBase==="일지"?Se(p,d).charAt(1):Ee(p,v).charAt(1):null,{start:S,end:_}=O.useMemo(()=>Nj(i,o),[i,o]),T=O.useMemo(()=>{const B=Mj(i,o);return(Ec(B)??[]).slice().sort((R,G)=>R.date.getTime()-G.date.getTime()).filter(R=>R.date>=S&&R.date<_)},[i,o,S,_]),M=O.useMemo(()=>{const B=[],z=new Date(S);for(;z<_;)B.push(new Date(z)),z.setDate(z.getDate()+1);return B},[S,_]),A=O.useMemo(()=>{const B=[];let z=[];const R=new Date(i,o-1,1).getDay();for(let G=0;G<R;G++)z.push(null);for(const G of M)z.length===7&&(B.push(z),z=[]),z.push(G);for(;z.length<7;)z.push(null);return B.push(z),B},[M,i,o]),{date:j,setFromEvent:H}=Jr(),I=O.useMemo(()=>{const B=M.map(z=>({at:z}));return Pf(B,j)},[M,j]);return g.jsxs("div",{className:"w-full max-w={[800]} mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[i,"년 ",o,"월",T.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",T.map((B,z)=>g.jsxs("span",{children:[B.name," ",Aj(B.date),z<T.length-1?" · ":""]},B.name+z)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(B=>g.jsx("div",{className:"py-1",children:B},B))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:A.map((B,z)=>B.map((R,G)=>{if(!R)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${z}-${G}`);const Q=new Date(R.getFullYear(),R.getMonth(),R.getDate(),4,30,0,0),rt=M.findIndex(tt=>tt.getTime()===R.getTime())===I,nt=Se(Q,d),F=nt.charAt(0),U=nt.charAt(1),W=Xv(F,"stem",u.charType),ft=Xv(U,"branch",u.charType),pt=u.thinEum&&Wv(F,"stem")?"font-thin":"font-bold",K=u.thinEum&&Wv(U,"branch")?"font-thin":"font-bold",st=!!b&&u.showSipSin,at=!!b&&u.showSibiUnseong,bt=!!b&&w!=null&&u.showSibiSinsal,D=st?Hn(b,{stem:F}):"",k=st?Hn(b,{branch:U}):"",Y=at?Fi(b,U):"",Z=bt?Ki({baseBranch:w,targetBranch:U,era:Ej(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",$=T.find(tt=>tt.date.getFullYear()===Q.getFullYear()&&tt.date.getMonth()===Q.getMonth()&&tt.date.getDate()===Q.getDate());return g.jsxs("div",{onClick:()=>{H({at:R},"일운")},className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${rt?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${nt} (${Q.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:Q.getDate()}),$&&g.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:$.name})]}),st&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:D}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${br(F,"stem",u)}`,children:g.jsx("span",{className:pt,children:W})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${br(U,"branch",u)}`,children:g.jsx("span",{className:K,children:ft})}),st&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:k}),(at||bt)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[at&&Y&&g.jsx("div",{children:Y}),bt&&Z&&g.jsx("div",{children:Z})]})]},R.toISOString())}))})]})}function Aj(t){if(!t)return null;const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let o="",s="",u="",d="";for(const h of i)h.type==="month"&&(o=h.value),h.type==="day"&&(s=h.value),h.type==="hour"&&(u=h.value),h.type==="minute"&&(d=h.value);return`${o}/${s} ${u}:${d}`}function Qv(t,i){const o=t.at.getFullYear(),s=i?i.at.getFullYear():o+10,u=[];for(let d=o;d<s;d++){const h=nn(d,315);let p=d;new Date<h&&(p=d-1);const v=Ee(new Date(p,1,10));u.push({at:h,gz:v})}return u}function jj({data:t}){const i=Rf(t),[o,s]=O.useState(null),[u,d]=O.useState(null),[h,p]=O.useState("il");O.useEffect(()=>{if(!i.length)return;const _=new Date,T=i.findIndex((M,A)=>{const j=i[A+1]?.at;return _>=M.at&&(!j||_<j)});T!==-1&&s(T)},[i]),O.useEffect(()=>{if(o===null)return;const _=i[o],T=i[o+1];if(!_)return;const M=Qv(_,T),A=new Date;M.findIndex((H,I)=>{const B=M[I+1]?.at;return A>=H.at&&(!B||A<B)})!==-1&&d({year:A.getFullYear(),month:A.getMonth()+1})},[o,i]);const b=Mp(t),{date:v}=Jr(),w=v.getMonth()+1===1?v.getFullYear()-1:v.getFullYear(),S=O.useMemo(()=>{if(!b?.dae?.gz)return[];const _=i.findIndex((A,j)=>{const H=i[j+1]?.at;return b.dae.at>=A.at&&(!H||b.dae.at<H)});if(_===-1)return[];const T=i[_],M=i[_+1];return Qv(T,M)},[i,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(X7,{data:t}),h==="se"||h==="wol"||h==="il"?g.jsx(oj,{data:t,list:S,onSelect:()=>{p("wol")}}):null,h==="wol"||h==="il"?g.jsx(yj,{data:t,activeYear:w,onSelect:(_,T)=>{d({year:_,month:T}),p("il")}}):null,h==="il"&&u&&g.jsx(Dj,{data:t,year:v.getFullYear(),month:v.getMonth()+1,hourTable:t?.mingSikType})]})}const kj=new Set(rT),Cj=new Set(iT);function Jv(t){return typeof t=="string"&&t.length>=2&&kj.has(t[0])&&Cj.has(t[1])}function fr(t,...i){if(Jv(t))return t;for(const o of i)if(Jv(o))return o;return""}const Oj={자:0,축:2,인:4,묘:6,진:8,사:10,오:12,미:14,신:16,유:18,술:20,해:22},t2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Lj={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function tx(t){return!!t&&Br.천간.includes(t)}function Bj(t){return t2[t]??t}function ex(t){return Lj[t]??t}function Rj(t){if(tx(t))return t;const i=t2[t];return tx(i)?i:"갑"}function Pj(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function zj(t){const i=Io;return Pj(i)?t==="classic"?i.Classic??i.classic:i.Modern??i.modern:t}function Td(t,i){let o=null;const s=i.getTime();for(const u of t)if(u.at.getTime()<=s)o=u;else break;return o}function Hj({data:t}){const i=Qn(nt=>nt.settings),{manualHour:o}=Ef(),{showSibiUnseong:s,showSibiSinsal:u,sinsalBase:d,sinsalMode:h,sinsalBloom:p}=i,{date:b}=Jr(),v=O.useMemo(()=>Np(t),[t]),w=O.useMemo(()=>Bf(v),[v]),S=O.useMemo(()=>Tp(v,"야자시"),[v]),_=O.useMemo(()=>Rj(S.day?.charAt(0)??"갑"),[S.day]),T=!t.birthTime||t.birthTime==="모름",M=O.useMemo(()=>I1(w,S.hour,t.dir??"forward",120,"야자시"),[w,S.hour,t.dir]),A=O.useMemo(()=>U1(M,S.day,t.dir??"forward","인시일수론"),[M,S.day,t.dir]),j=O.useMemo(()=>Lf(w,S.month,t.dir??"forward",120,v.birthPlace?.lon??127.5),[w,S.month,t.dir,v.birthPlace?.lon]),H=O.useMemo(()=>G1(j,S.year,t.dir??"forward","인시일수론",w),[j,S.year,t.dir,w]),I=O.useMemo(()=>{const nt=M?.events?.[0];return nt?{at:nt.at,from:fr(S.hour),to:fr(nt.gz)}:null},[M?.events,S.hour]),B=O.useMemo(()=>{const nt=j?.events?.[0];return j?.firstChange?{at:j.firstChange,from:fr(S.month),to:fr(nt?.gz??S.month)}:null},[j?.firstChange,j?.events,S.month]),z=O.useMemo(()=>{const nt=T?o?o.stem+o.branch:"":fr(Td(M.events,b)?.gz,S.hour);let F;if(T&&o){const U=b.getFullYear(),W=b.getMonth(),ft=b.getDate(),pt=Oj[o.branch]??0,K=new Date(U,W,ft,pt,0),st=Se(K,t.mingSikType??"야자시");F=fr(st,S.day)}else F=fr(Td(A.events,b)?.gz,S.day);return{si:nt,il:F,wl:fr(Td(j.events,b)?.gz,S.month),yn:fr(Td(H.events,b)?.gz,S.year)}},[b,M.events,A.events,j.events,H.events,S,T,o,t.mingSikType]),R=O.useMemo(()=>({si:fr(Qr(b,"야자시")),il:fr(Se(b,"야자시")),wl:fr(Qe(b)),yn:fr(Ee(b))}),[b]),G=O.useMemo(()=>d==="일지"?S.day.charAt(1):S.year.charAt(1),[d,S.day,S.year]),Q=O.useMemo(()=>zj(h),[h]),J=nt=>{if(!nt)return{unseong:"",shinsal:""};const F=Bj(_),U=ex(nt.charAt(1)),W=ex(G);return{unseong:s&&Fi(F,U)||"",shinsal:u&&Ki({baseBranch:W,targetBranch:U,era:Q,gaehwa:!!p})||""}},rt=(nt,F,U="myoun")=>{const W=F,{unseong:ft,shinsal:pt}=F?J(F):{unseong:"",shinsal:""},K=U==="myoun"&&T&&(nt==="시주"||nt==="일주");return g.jsx(Rs,{label:nt,gz:W,dayStem:_,settings:i,unseongText:F?ft:"",shinsalText:F?pt:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:K},`${U}-${nt}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",Nc(w),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[rt("시주",z.si,"myoun"),rt("일주",z.il,"myoun"),rt("월주",z.wl,"myoun"),rt("연주",z.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[rt("시주",R.si,"live"),rt("일주",R.il,"live"),rt("월주",R.wl,"live"),rt("연주",R.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),g.jsxs("div",{children:["시주:"," ",I?`${Nc(I.at)} (${I.from} → ${I.to})`:"계산 불가"]}),g.jsxs("div",{children:["월주:"," ",B?`${Nc(B.at)} (${B.from} → ${B.to})`:"계산 불가"]})]})]})}const Ij=Object.fromEntries(yr.천간.map((t,i)=>[t,In[i]])),$j=Object.fromEntries(In.map((t,i)=>[t,yr.천간[i]])),Uj=Object.fromEntries(yr.지지.map((t,i)=>[t,Wn[i]])),Gj=Object.fromEntries(Wn.map((t,i)=>[t,yr.지지[i]])),Zj=t=>Ij[t]??t,Yj=t=>Uj[t]??t,qj=t=>$j[t]??t,Vj=t=>Gj[t]??t;function Fj(t){const i={...t};for(const o of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(o)?Zj(o):qj(o);s&&i[s]===void 0&&(i[s]=t[o])}return i}function Dp(t){const i={...t};for(const o of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(o)?Yj(o):Vj(o);s&&i[s]===void 0&&(i[s]=t[o])}return i}const Kj={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Xj={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},e2={자:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},Wj={...e2,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Za=Fj(Kj),Xn=Dp(Xj),Qj=Dp(e2),Jj=Dp(Wj),t9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},e9={木:"목",火:"화",土:"토",金:"금",水:"수"};function n2(t,i){const o=t9[i]??i,u={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[o];if(!u)return"비겁";const d=["목","화","토","금","수"].includes(t)?t:e9[t]??"목";if(d===u)return"비겁";const h={목:"화",화:"토",토:"금",금:"수",수:"목"},p={목:"토",화:"금",토:"수",금:"목",수:"화"};return h[u]===d?"식상":h[d]===u?"인성":p[u]===d?"재성":p[d]===u?"관성":"비겁"}const n9={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},r9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function r2(t){const i=r9[t]??"목";return n9[i]}const i9=Object.fromEntries(yr.천간.map((t,i)=>[t,In[i]])),a9=Object.fromEntries(In.map((t,i)=>[t,yr.천간[i]])),o9=Object.fromEntries(yr.지지.map((t,i)=>[t,Wn[i]])),s9=Object.fromEntries(Wn.map((t,i)=>[t,yr.지지[i]])),l9=t=>i9[t]??t,c9=t=>o9[t]??t,u9=t=>a9[t]??t,d9=t=>s9[t]??t;function i2(t){const i={...t};for(const o of Object.keys(t)){if(o.length<2)continue;const s=o.charAt(0),u=o.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${l9(s)}${c9(u)}`:`${u9(s)}${d9(u)}`;i[d]===void 0&&(i[d]=t[o])}return i}const a2={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},f9={...a2,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},h9=i2(a2),m9=i2(f9),qa=["연","월","일","시"],Ed={year:0,month:1,day:2,hour:3},h0="매우약함",p9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},g9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function dn(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=p9[s[1]]??s[1],d=g9[s[2]]??s[2];return`${u}${d}`}return""}const zs=t=>t&&t.length>=1?t[0]:"",Va=t=>t&&t.length>=2?t[1]:"",of=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],sf=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],lf=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],cf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],uf=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],df=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],ff=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],hf=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],b9=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],mf=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],pf=[{pair:["자","묘"],label:"자묘형"}],nx=new Set(["진","오","유","해"]),Bc=new Set(["정해","무자","신사","임오"]),zf=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],Hf=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function ue(t,i,o){for(const{pair:[s,u],label:d}of t)if(i===s&&o===u||i===u&&o===s)return d;return null}function re(t,i){t.includes(i)||t.push(i)}const ko=t=>[...t].sort((i,o)=>i-o).map(i=>qa[i]).join("X"),m0=(t,i)=>t===0&&i===3||t===3&&i===0;function rx(t,i){const o=[];for(const s of t)for(const u of i){if(s===u)continue;const d=Math.min(s,u),h=Math.max(s,u);d===0&&h===3||o.push([d,h])}return o.sort((s,u)=>{const d=Math.abs(s[0]-s[1]),h=Math.abs(u[0]-u[1]);return d!==h?d-h:0})}function y9(t){const i=[],o=[...t].sort((s,u)=>s-u);for(let s=0;s<o.length;s++)for(let u=s+1;u<o.length;u++){const d=o[s],h=o[u];d===0&&h===3||i.push([d,h])}return i}const o2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function v9(t){if(!t)return!1;const i=t.normalize("NFC").trim();return/^#\s*없음$/u.test(i)}const x9=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function s2(t){for(const i of x9){const s=(t[i]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!v9(u));t[i]=s}return t}function _9(t,i={}){const{emitGanjiAmhap:o=!0}=i,s=t.map(dn),u=s.map(_=>zs(_)),d=s.map(_=>Va(_)),p={title:s.map((_,T)=>`${_}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(_,T,M,A)=>{const j=u.flatMap((I,B)=>I===_?[B]:[]),H=u.flatMap((I,B)=>I===T?[B]:[]);for(const I of j)for(const B of H)I!==B&&Math.abs(I-B)===1&&re(A,`#${ko([I,B])}_${M}`)};of.forEach(({pair:[_,T],label:M})=>b(_,T,M,p.cheonganHap)),sf.forEach(({pair:[_,T],label:M})=>b(_,T,M,p.cheonganChung));const v=_=>{const T=new Set,M=[];for(const A of _)for(let j=0;j<d.length;j++)if(d[j]===A&&!T.has(j)){T.add(j),M.push(j);break}return M};zf.forEach(({name:_,members:T,wang:M})=>{const A=T.filter(H=>d.includes(H)),j=new Set(A).size;if(j===3){const H=v(T);H.length===3&&re(p.jijiSamhap,`#${ko(H)}_${_}삼합`)}else if(j===2){if(!A.includes(M))return;const[H,I]=A,B=d.flatMap((Q,J)=>Q===H?[J]:[]),z=d.flatMap((Q,J)=>Q===I?[J]:[]),R=rx(B,z),G=R.length>1;for(const[Q,J]of R){const rt=m0(Q,J),nt=`#${ko([Q,J])}_${H}${I}반합${G?"":rt?`_${h0}`:""}`;re(p.jijiSamhap,nt)}}}),Hf.forEach(({name:_,members:T})=>{if(new Set(T.filter(j=>d.includes(j))).size!==3)return;const A=v(T);A.length===3&&re(p.jijiBanghap,`#${ko(A)}${_}_방합`)});const w=(_,T,M,A)=>{const j=d.flatMap((z,R)=>z===_?[R]:[]),H=d.flatMap((z,R)=>z===T?[R]:[]),I=rx(j,H),B=I.length>1;for(const[z,R]of I){const G=m0(z,R),Q=`#${ko([z,R])}_${M}${B?"":G?`_${h0}`:""}`;re(A,Q)}};if(lf.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiYukhap)),cf.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiChung)),uf.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiPa)),df.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiHae)),ff.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiWonjin)),hf.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(_=>{const T=[],M=new Set;if(_.forEach(A=>{d.forEach((j,H)=>{j===A&&(T.push(H),M.add(A))})}),M.size===3){const A=Array.from(new Set(T)).sort((j,H)=>j-H);re(p.jijiHyeong,`#${ko(A)}_${_.join("")}삼형`)}}),mf.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiHyeong)),pf.forEach(({pair:[_,T],label:M})=>w(_,T,M,p.jijiHyeong)),["진","오","유","해"].forEach(_=>{const T=d.flatMap((j,H)=>j===_?[H]:[]),M=y9(T),A=M.length>1;for(const[j,H]of M){const I=m0(j,H),B=`#${ko([j,H])}_${_}${_}자형${A?"":I?`_${h0}`:""}`;re(p.jijiHyeong,B)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[_,T],label:M})=>w(_,T,M,p.amhap)),o)for(let _=0;_<4;_++){const T=s[_]??"";if(T.length<2)continue;const M=`${T[0]}${T[1]}`;Bc.has(M)&&re(p.ganjiAmhap,`#${o2(qa[_])}_${M}암합`)}return s2(p)}function fc(t,i={}){const{emitNatalGanjiAmhap:o=!1}=i,s=[dn(t.natal[0]??""),dn(t.natal[1]??""),dn(t.natal[2]??""),dn(t.natal[3]??"")],d=[dn(t.daewoon??""),dn(t.sewoon??""),dn(t.wolwoon??"")].some(v=>v.length>=2),h={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(o&&d)for(let v=0;v<4;v++){const w=s[v]??"";if(w.length<2)continue;const S=`${w[0]}${w[1]}`;Bc.has(S)&&re(h.ganjiAmhap,`#${o2(qa[v])}_${S}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[v,w]of p){if(!w)continue;const S=dn(w);if(!S||S.length<2)continue;const _=zs(S),T=Va(S);{const A=`${_}${T}`;Bc.has(A)&&re(h.ganjiAmhap,`#${v}_${A}암합`)}for(let A=0;A<4;A++){const j=s[A]??"";if(j.length<2)continue;const H=qa[A],I=zs(j),B=Va(j),z=ue(of,_,I);z&&re(h.cheonganHap,`#${v}X${H}_${z}`);const R=ue(sf,_,I);R&&re(h.cheonganChung,`#${v}X${H}_${R}`);const G=ue(lf,T,B);G&&re(h.jijiYukhap,`#${v}X${H}_${G}`);const Q=ue(cf,T,B);Q&&re(h.jijiChung,`#${v}X${H}_${Q}`);const J=ue(uf,T,B);J&&re(h.jijiPa,`#${v}X${H}_${J}`);const rt=ue(df,T,B);rt&&re(h.jijiHae,`#${v}X${H}_${rt}`);const nt=ue(ff,T,B);nt&&re(h.jijiWonjin,`#${v}X${H}_${nt}`);const F=ue(hf,T,B);F&&re(h.jijiGwimun,`#${v}X${H}_${F}`);const U=ue(mf,T,B);if(U)re(h.jijiHyeong,`#${v}X${H}_${U}`);else{const pt=ue(pf,T,B);pt?re(h.jijiHyeong,`#${v}X${H}_${pt}`):T===B&&nx.has(T)&&re(h.jijiHyeong,`#${v}X${H}_${T}${B}자형`)}const ft=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,B);ft&&re(h.amhap,`#${v}X${H}_${ft}`)}const M=s.map(A=>Va(A??""));for(const A of zf){if(!A.members.includes(T))continue;const j=A.members.filter(I=>I!==T),H=M.map((I,B)=>({b:I,pos:qa[B]})).filter(I=>j.includes(I.b));if(new Set(H.map(I=>I.b)).size===2){const[I,B]=H.map(z=>z.pos).sort((z,R)=>["시","일","월","연"].indexOf(z)-["시","일","월","연"].indexOf(R));re(h.jijiSamhap,`#${v}X${I}X${B}_삼합(${A.name})`)}}for(const A of Hf){if(!A.members.includes(T))continue;const j=A.members.filter(I=>I!==T),H=M.map((I,B)=>({b:I,pos:qa[B]})).filter(I=>j.includes(I.b));if(H.length>=2){const[I,B]=H.map(z=>z.pos).sort((z,R)=>["시","일","월","연"].indexOf(z)-["시","일","월","연"].indexOf(R));re(h.jijiBanghap,`#${v}X${I}X${B}방합(${A.name})`)}}for(const A of b9){if(!A.members.includes(T))continue;const j=A.members.filter(I=>I!==T),H=M.map((I,B)=>({b:I,pos:qa[B]})).filter(I=>j.includes(I.b));if(new Set(H.map(I=>I.b)).size===2){const[I,B]=H.map(z=>z.pos).sort((z,R)=>["시","일","월","연"].indexOf(z)-["시","일","월","연"].indexOf(R));re(h.jijiHyeong,`#${v}X${I}X${B}삼형(${A.name})`)}}}const b=[];t.daewoon&&t.sewoon&&b.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&b.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&b.push(["대운",t.daewoon,"월운",t.wolwoon]),t.ilwoon&&t.daewoon&&b.push(["일운",t.ilwoon,"대운",t.daewoon]),t.ilwoon&&t.sewoon&&b.push(["일운",t.ilwoon,"세운",t.sewoon]),t.ilwoon&&t.wolwoon&&b.push(["일운",t.ilwoon,"월운",t.wolwoon]);for(const[v,w,S,_]of b){const T=dn(w),M=dn(_);if(T.length<2||M.length<2)continue;const A=zs(T),j=Va(T),H=zs(M),I=Va(M),B=ue(of,A,H);B&&re(h.cheonganHap,`#${v}X${S}_${B}`);const z=ue(sf,A,H);z&&re(h.cheonganChung,`#${v}X${S}_${z}`);const R=ue(lf,j,I);R&&re(h.jijiYukhap,`#${v}X${S}_${R}`);const G=ue(cf,j,I);G&&re(h.jijiChung,`#${v}X${S}_${G}`);const Q=ue(uf,j,I);Q&&re(h.jijiPa,`#${v}X${S}_${Q}`);const J=ue(df,j,I);J&&re(h.jijiHae,`#${v}X${S}_${J}`);const rt=ue(ff,j,I);rt&&re(h.jijiWonjin,`#${v}X${S}_${rt}`);const nt=ue(hf,j,I);nt&&re(h.jijiGwimun,`#${v}X${S}_${nt}`);const F=ue(mf,j,I);if(F)re(h.jijiHyeong,`#${v}X${S}_${F}`);else{const W=ue(pf,j,I);W?re(h.jijiHyeong,`#${v}X${S}_${W}`):j===I&&nx.has(j)&&re(h.jijiHyeong,`#${v}X${S}_${j}${I}자형`)}const U=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],j,I);U&&re(h.amhap,`#${v}X${S}_${U}`)}return s2(h)}function S9(t,i){const s=t.map(dn).map(b=>Va(b)),u=Ed.month,d=s[u],h=b=>{const v=[];for(let w=0;w<4;w++){const S=s[w];S&&b.has(S)&&v.push(w)}return v},p=b=>{const v=[...b].sort((w,S)=>w-S);return v.length===3&&v[0]+1===v[1]&&v[1]+1===v[2]};for(const b of zf){const v=new Set(b.members),w=h(v);if(w.length===3){const S=w.includes(u),_=d===b.wang;S?p(w)?i[b.out]+=_?10:8:i[b.out]+=5:i[b.out]+=3}if(w.length===2&&w.includes(u)){const S=w[0]===u?w[1]:w[0],_=d===b.wang;S===Ed.day&&_?i[b.out]+=8:S===Ed.year&&_?i[b.out]+=6:S===Ed.hour&&(i[b.out]+=_?4:2)}}for(const b of Hf){const v=new Set(b.members),w=h(v);if(w.length===3){const S=w.includes(u),_=d===b.wang;S?p(w)?i[b.out]+=_?8:6:i[b.out]+=4:i[b.out]+=2}}}function ix(t){const i=["연","월","일","시"],o=t.map(dn),s=o.map(p=>zs(p)),u=o.map(p=>Va(p)),d=new Map,h=new Map;for(let p=0;p<4;p++){const b=s[p],v=u[p];b.includes(b)&&d.set(b,[...d.get(b)??[],p]),v.includes(v)&&h.set(v,[...h.get(v)??[],p])}return{stemsByPos:s,brsByPos:u,stemPos:d,brPos:h,names:i}}function _e(t){return qa[t]}function Dn(t,i){i&&(t.includes(i)||t.push(i))}function w9(t,i){const o=ix(t),s=ix(i),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const b=o.stemsByPos[p],v=o.brsByPos[p];for(let w=0;w<4;w++){const S=s.stemsByPos[w],_=s.brsByPos[w],T=ue(of,b,S);T&&Dn(u.천간합,`${_e(p)}X${_e(w)} ${T}`);const M=ue(sf,b,S);M&&Dn(u.천간충,`${_e(p)}X${_e(w)} ${M}`);const A=ue(lf,v,_);A&&Dn(u.지지육합,`${_e(p)}X${_e(w)} ${A}`);const j=ue(cf,v,_);j&&Dn(u.지지충,`${_e(p)}X${_e(w)} ${j}`);const H=ue(uf,v,_);H&&Dn(u.지지파,`${_e(p)}X${_e(w)} ${H}`);const I=ue(df,v,_);I&&Dn(u.지지해,`${_e(p)}X${_e(w)} ${I}`);const B=ue(ff,v,_);B&&Dn(u.지지원진,`${_e(p)}X${_e(w)} ${B}`);const z=ue(hf,v,_);z&&Dn(u.지지귀문,`${_e(p)}X${_e(w)} ${z}`);const G=ue([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],v,_);G&&Dn(u.암합,`${_e(p)}X${_e(w)} ${G}`);const Q=`${b}${_}`,J=`${S}${v}`;Bc.has(Q)&&Dn(u.간지암합,`${_e(p)}X${_e(w)} ${Q}암합`),Bc.has(J)&&Dn(u.간지암합,`${_e(w)}X${_e(p)} ${J}암합`);const rt=ue(mf,v,_);if(rt)Dn(u.지지형,`${_e(p)}X${_e(w)} ${rt}`);else{const nt=ue(pf,v,_);nt&&Dn(u.지지형,`${_e(p)}X${_e(w)} ${nt}`)}}}const d=new Set(o.brsByPos.filter(Boolean)),h=new Set(s.brsByPos.filter(Boolean));for(const p of zf){if(p.members.every(w=>d.has(w)||h.has(w))){const w=p.members.filter(_=>d.has(_)).length,S=p.members.filter(_=>h.has(_)).length;w>=1&&S>=1&&Dn(u.지지삼합,`${p.name}삼합`)}const v=p.members.filter(w=>d.has(w)||h.has(w));if(v.length===2&&v.includes(p.wang)){const w=v.some(_=>d.has(_)),S=v.some(_=>h.has(_));if(w&&S){const[_,T]=v.sort(),M=o.brPos.get(_)?.[0]??o.brPos.get(T)?.[0],A=s.brPos.get(_)?.[0]??s.brPos.get(T)?.[0];M!=null&&A!=null&&Dn(u.지지반합,`${_e(M)}X${_e(A)} ${_}${T}반합`)}}}for(const p of Hf)if(p.members.every(v=>d.has(v)||h.has(v))){const v=p.members.filter(S=>d.has(S)).length,w=p.members.filter(S=>h.has(S)).length;v>=1&&w>=1&&Dn(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}const T9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},l2={목:"화",화:"토",토:"금",금:"수",수:"목"},c2={화:"목",토:"화",금:"토",수:"금",목:"수"},Y0={목:"토",화:"금",토:"수",금:"목",수:"화"},E9={목:"금",화:"수",토:"목",금:"화",수:"토"},N9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},M9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Zd=t=>N9[t]??t,D9=t=>M9[t]??t;function A9(t){return!t||t.length<2?"":`${Zd(t[0])}${D9(t[1])}`}const j9=t=>t&&t.length>=1?t[0]:"",k9=t=>t&&t.length>=2?t[1]:"";function C9(t){return{비겁:t,식상:l2[t],인성:c2[t],재성:Y0[t],관성:E9[t]}}function js(t,i){return t===i?"비겁":l2[i]===t?"식상":c2[i]===t?"인성":Y0[i]===t?"재성":Y0[t]===i?"관성":"비겁"}function u2(t){if(typeof t=="string")return[Zd(t)];if(Array.isArray(t)){const i=[];for(const o of t)if(typeof o=="string")i.push(Zd(o));else if(o&&typeof o=="object"&&"stem"in o){const s=o.stem;typeof s=="string"&&i.push(Zd(s))}return i}if(t&&typeof t=="object"){const i=[];for(const o of Object.values(t))i.push(...u2(o));return i}return[]}function ax(t){const i=Qj,o=Jj,s=i&&i[t]!==void 0?i[t]:o?o[t]:void 0,u=u2(s),d=[];for(const h of u){const p=T9[h];p&&!d.includes(p)&&d.push(p)}return d}function O9(t,i,o="classic"){const s=(t??[]).slice(0,4).map(A9);if(s.length!==4||s.some(S=>S.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"토"};const u=j9(s[2]),d=u==="갑"||u==="을"?"목":u==="병"||u==="정"?"화":u==="무"||u==="기"?"토":u==="경"||u==="신"?"금":"수",h=s.map(S=>k9(S)),p={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},b=C9(d),v=h[1];if(o==="classic"){const S=Xn[v];S&&(p[js(S,d)].령=!0)}else{const S=ax(v);if(S.length===0){const _=Xn[v];_&&(p[js(_,d)].령=!0)}else for(const _ of S)p[js(_,d)].령=!0}const w=[0,2,3];for(const S of w){const _=h[S];if(o==="classic"){const T=Xn[_];T&&(p[js(T,d)].지=!0)}else{const T=ax(_);if(T.length===0){const M=Xn[_];M&&(p[js(M,d)].지=!0)}else for(const M of T)p[js(M,d)].지=!0}}return Object.entries(b).forEach(([S,_])=>{p[S].세=(i[_]??0)>25}),{flags:p,monthBranch:v,dayEl:d}}const L9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},B9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},R9=t=>L9[t]??t,P9=t=>B9[t]??t;function z9(t){return!t||t.length<2?"":`${R9(t[0])}${P9(t[1])}`}const p0=["year","month","day","hour"],H9={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},I9={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},$9=new Set(["을","정","기","신","계"]),U9=new Set(["자","인","진","오","신","술"]),G9=new Set(["사","오","자","해"]),Nd=t=>$9.has(t)?"음":"양",g0=t=>{const i=U9.has(t)?"양":"음";return G9.has(t)?i==="양"?"음":"양":i};function Z9(t){const i=t.reduce((p,b)=>p+b,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),s=o.map(Math.round),d=100-s.reduce((p,b)=>p+b,0),h=o.map((p,b)=>({i:b,f:p-s[b]})).sort((p,b)=>b.f-p.f);for(let p=0;p<d;p++)s[h[p].i]+=1;return s}function Y9(t,i){return t===0?i?1:.8:t===1?i?.6:.5:i?.3:.2}const Md={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},gf={목:"화",화:"토",토:"금",금:"수",수:"목"},q9={화:"목",토:"화",금:"토",수:"금",목:"수"},Mc={목:"토",화:"금",토:"수",금:"목",수:"화"},V9={토:"목",금:"화",수:"토",목:"금",화:"수"};function Dd(t,i){return t===i?"왕":gf[i]===t?"상":gf[t]===i?"휴":Mc[t]===i?"수":Mc[i]===t?"사":"휴"}const Ga=t=>t&&t.length>=1?t[0]:"",Co=t=>t&&t.length>=2?t[1]:"";function ox(t){const{pillars:i,dayStem:o,mode:s,debug:u,useHarmonyOverlay:d,criteriaMode:h,luck:p}=t,b=h==="modern"?H9:I9,v={목:0,화:0,토:0,금:0,수:0},w=(i??[]).slice(0,4).map(z9);if(!(w.length===4&&w[0]&&w[0].length>=2&&w[1]&&w[1].length>=2&&w[2]&&w[2].length>=2))return{totals:["비겁","식상","재성","관성","인성"].map(k=>({name:k,value:0,color:"#999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:v,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{}};const _=Ga(w[2]),T=o??_,M=T==="갑"||T==="을"?"목":T==="병"||T==="정"?"화":T==="무"||T==="기"?"토":T==="경"||T==="신"?"금":"수",A=s==="classic"?m9:h9,j=[{val:0},{val:0},{val:0},{val:0}],H=[[],[],[],[]];for(let D=0;D<4;D++){const k=w[D];if(!k||k.length<2)continue;const Y=p0[D],Z=Ga(k),$=Co(k),tt=b[Y],X=Za[Z];X&&(v[X]+=tt.stem,j[D]={stem:Z,el:X,pol:Nd(Z),val:tt.stem});const ut=Xn[$];ut&&(v[ut]+=tt.branch,H[D].push({el:ut,pol:g0($),val:tt.branch}))}for(let D=0;D<4;D++){const k=w[D];if(!k||k.length<2)continue;const Y=p0[D],Z=A[k]??0;if(Z===0)continue;const $=Ga(k),tt=Za[$];if(!tt)continue;const X=b[Y].stem*Z;v[tt]+=X,j[D].val+=X}for(let D=0;D<4;D++){const k=w[D];if(!k||k.length<2)continue;const Y=Co(k),Z=Xn[Y];if(!Z)continue;const $=b[p0[D]].branch,tt=g0(Y);let X=0;const ut=[D];D-1>=0&&ut.push(D-1),D+1<=3&&ut.push(D+1),D-2>=0&&ut.push(D-2),D+2<=3&&ut.push(D+2);const yt=Array.from(new Set(ut));for(const vt of yt){if(!w[vt]||w[vt].length<2)continue;const jt=Ga(w[vt]),Ft=Za[jt];if(!Ft||Ft!==Z)continue;const Gt=Nd(jt)===tt,ie=Math.abs(vt-D),ce=Y9(ie,Gt);X+=$*ce}X!==0&&(v[Z]+=X,H[D].push({el:Z,pol:tt,val:X}))}for(let D=0;D<4;D++){const k=w[D];if(!k||k.length<2)continue;const Y=Ga(k),Z=Za[Y];if(!Z)continue;let $=0;const tt=Co(w[D]),X=Xn[tt];X&&($+=Md[Dd(Z,X)]);const ut=D===0?[1]:D===3?[2]:[D-1,D+1];for(const vt of ut){const jt=Ga(w[vt]),Ft=Za[jt];Ft&&($+=Md[Dd(Z,Ft)])}const yt=j[D].val;if(yt!==0&&$!==0){const vt=Math.round(yt*(1+$)*10)/10,jt=vt-yt;v[Z]+=jt,j[D].val=vt}}for(let D=0;D<4;D++){const k=w[D];if(!k||k.length<2)continue;const Y=Co(k),Z=Xn[Y];if(!Z)continue;let $=0;const tt=Ga(w[D]),X=Za[tt];X&&($+=Md[Dd(Z,X)]);const ut=D===0?[1]:D===3?[2]:[D-1,D+1];for(const vt of ut){if(!w[vt]||w[vt].length<2)continue;const jt=Co(w[vt]),Ft=Xn[jt];Ft&&($+=Md[Dd(Z,Ft)])}const yt=H[D].reduce((vt,jt)=>vt+jt.val,0);if(yt!==0&&$!==0){const jt=Math.round(yt*(1+$)*10)/10-yt;v[Z]+=jt,H[D].length>0&&(H[D][0].val+=jt)}}d&&S9(w,v);const I={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02}},B=[];function z(D,k){const Y=D?dn(D):"";if(!Y||Y.length<2)return;const Z=Ga(Y),$=Co(Y),tt=Za[Z],X=Xn[$],ut=Math.max(1,(v.목??0)+(v.화??0)+(v.토??0)+(v.금??0)+(v.수??0)),yt=I[k];if(tt){const vt=Math.round(ut*yt.stem);v[tt]+=vt,B.push({stem:Z,el:tt,pol:Nd(Z),val:vt})}if(X){const vt=Math.round(ut*yt.branch);v[X]+=vt,B.push({el:X,pol:g0($),val:vt})}}p&&p.tab!=="원국"&&(z(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운")&&z(p.se,"se"),p.tab==="월운"&&z(p.wol,"wol"));const R={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(v).forEach(([D,k])=>{R[n2(D,T)]+=k});const G={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function Q(D,k){const Y={화:"목",토:"화",금:"토",수:"금",목:"수"},Z=D===M?"비겁":gf[M]===D?"식상":Y[M]===D?"인성":Mc[M]===D?"재성":Mc[D]===M?"관성":"비겁",$=Nd(T),tt=(()=>{switch(Z){case"비겁":return k===$?"비견":"겁재";case"식상":return k===$?"식신":"상관";case"재성":return k!==$?"정재":"편재";case"관성":return k!==$?"정관":"편관";case"인성":return k!==$?"정인":"편인";default:return k===$?"비견":"겁재"}})();return{major:Z,sub:tt}}const J=(D,k,Y)=>{const{sub:Z}=Q(D,k);G[Z]=(G[Z]??0)+Y};j.forEach(D=>{D.el&&D.pol&&D.val&&J(D.el,D.pol,D.val)}),H.forEach(D=>D.forEach(k=>J(k.el,k.pol,k.val))),B.forEach(D=>J(D.el,D.pol,D.val));const rt=["비겁","식상","재성","관성","인성"],nt=Z9(rt.map(D=>R[D])),F=r2(T),U=rt.map((D,k)=>({name:D,value:Math.round(nt[k]),color:F[D]})),W={};j.forEach(D=>{if(D.stem&&D.el&&D.val){const k=`${D.stem}${D.el}`;W[k]=(W[k]??0)+D.val}}),B.forEach(D=>{if(D.stem&&D.el&&D.val){const k=`${D.stem}${D.el}`;W[k]=(W[k]??0)+D.val}});const ft={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임"};H.forEach((D,k)=>{const Y=w[k];if(!Y||Y.length<2)return;const Z=Co(Y),$=ft[Z],tt=Xn[Z];if($&&tt){const X=`${$}${tt}`,ut=D.reduce((yt,vt)=>yt+vt.val,0);W[X]=(W[X]??0)+ut}}),B.forEach(D=>{if(!D.stem&&D.el&&D.val){const k=Object.keys(Xn).find(Y=>Xn[Y]===D.el);if(k){const Y=ft[k];if(Y){const Z=`${Y}${D.el}`;W[Z]=(W[Z]??0)+D.val}}}});function pt(D,k){switch(D){case"비겁":return k;case"식상":return gf[k];case"재성":return Mc[k];case"관성":return V9[k];case"인성":return q9[k]}return k}const K=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],st={};K.forEach(D=>{st[D]=0}),rt.forEach(D=>{const k=U.find(tt=>tt.name===D)?.value??0,Y=pt(D,M),Z=Object.entries(W).filter(([tt])=>tt.endsWith(Y)),$=Z.reduce((tt,[,X])=>tt+X,0);$>0?Z.forEach(([tt,X])=>{st[tt]=Math.round(k*(X/$)*10)/10}):Z.forEach(([tt])=>{st[tt]=0})});const at={비겁:{a:"비견",b:"겁재",aVal:G.비견||0,bVal:G.겁재||0},식상:{a:"식신",b:"상관",aVal:G.식신||0,bVal:G.상관||0},재성:{a:"정재",b:"편재",aVal:G.정재||0,bVal:G.편재||0},관성:{a:"정관",b:"편관",aVal:G.정관||0,bVal:G.편관||0},인성:{a:"정인",b:"편인",aVal:G.정인||0,bVal:G.편인||0}};for(const D of rt){const k=U.find($=>$.name===D).value,Y=at[D],Z=(Y.aVal||0)+(Y.bVal||0);if(Z>0){const $=Math.round(k*Y.aVal/Z),tt=k-$;Y.aVal=$,Y.bVal=tt}else Y.aVal=Math.round(k/2),Y.bVal=k-Y.aVal}const{flags:bt}=O9(w,v);return u&&console.log("[PowerData]",{criteriaMode:h,hiddenMode:s,elementScore:v,totals:U,perTenGod:at,perStemRaw:W,perStemElementScaled:st,deukFlags:bt,luck:p}),{totals:U,perTenGod:at,elementScoreRaw:v,deukFlags:bt,perStemElement:W,perStemElementScaled:st}}const F9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},K9={목:"화",화:"토",토:"금",금:"수",수:"목"},X9={화:"목",토:"화",금:"토",수:"금",목:"수"},W9={목:"토",화:"금",토:"수",금:"목",수:"화"},Q9={토:"목",금:"화",수:"토",목:"금",화:"수"};function J9(t){return t==="목"||t==="화"||t==="토"||t==="금"||t==="수"}function t5(t){const i=t.slice(-1);return J9(i)?i:null}function e5(t,i){switch(t){case"비겁":return i;case"식상":return K9[i];case"재성":return W9[i];case"관성":return Q9[i];case"인성":return X9[i];default:return i}}function n5({data:t,perStemElement:i,dayStem:o,width:s=280,height:u=280,revKey:d,pillars:h,daewoonGz:p,sewoonGz:b,wolwoonGz:v,yearGZ:w,monthGZ:S}){const _=s,T=u,M=_/2,A=T/2,j=Math.min(_,T)*.37,H=O.useMemo(()=>{const J=t.map(W=>`${W.name}:${W.value}`).join(","),rt=i?Object.entries(i).sort(([W],[ft])=>W.localeCompare(ft)).map(([W,ft])=>`${W}:${ft}`).join(","):"none",nt=Array.isArray(h)?h.join(""):"",F=[p??"",b??"",v??""].join("|"),U=[w??"",S??""].join("|");return[d??"",J,rt,o??"",nt,F,U].join("||")},[d,t,i,o,h,p,b,v,w,S]),[I,B]=O.useState(0),z=O.useRef("");O.useEffect(()=>{H!==z.current&&(z.current=H,B(J=>J+1))},[H]);const R=J=>Math.PI/2+2*-Math.PI*J/5,G=O.useMemo(()=>t.map((J,rt)=>({...J,x:M+j*Math.cos(R(rt)),y:A-j*Math.sin(R(rt))})),[t,M,A,j]),Q=O.useMemo(()=>{const J=(o??"").charAt(0);return F9[J]??null},[o]);return g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:_,height:T,className:"mx-auto pt-2",children:[G.map((J,rt)=>{const nt=G[(rt+2)%5];return g.jsx("line",{x1:J.x,y1:J.y,x2:nt.x,y2:nt.y,stroke:"#94a3b8",strokeWidth:1},`line-${rt}`)}),G.map((J,rt)=>{const nt=G[(rt+1)%5],F=(J.x+nt.x)/2,U=(J.y+nt.y)/2,W=F-M,ft=U-A,pt=1.5,K=M+W*pt,st=A+ft*pt;return g.jsx("path",{d:`M${J.x},${J.y} Q${K},${st} ${nt.x},${nt.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${rt}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),G.map(J=>{const rt=J.name,nt=(()=>{if(!i||!Q)return[];const F=e5(rt,Q);return Object.entries(i).filter(([U])=>t5(U)===F).sort(([,U],[,W])=>W-U).slice(0,3)})();return g.jsxs("g",{transform:`translate(${J.x},${J.y})`,children:[g.jsx("circle",{r:33,fill:J.color,opacity:J.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:"14",className:"fill-white font-semibold",children:[J.name," ",Math.round(J.value)]}),nt.map(([F,U],W)=>g.jsxs("text",{textAnchor:"middle",dy:8+W*11,fontSize:"10",className:"fill-white",children:[F," ",Math.round(U*10)/10]},F))]},`${J.name}-${J.value}`)})]},I)})}const r5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],i5=[10,20,35,45,55,65,80];function d2(t){return Math.max(0,Math.min(100,t))}function a5(t){const i=d2(t);return r5.find(s=>i>=s.min&&i<s.max)?.name??"중화"}function o5({value:t}){const i=O.useMemo(()=>d2(t),[t]),o=O.useMemo(()=>a5(i),[i]);return O.useEffect(()=>{},[i,o]),g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:"신약"}),g.jsx("span",{children:"중화"}),g.jsx("span",{children:"신강"})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[i5.map(s=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${i}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${i}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:o}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[i.toFixed(1),"%"]})]})]})}function hc(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Kr({label:t,natal:i,dae:o,se:s,wol:u,il:d}){const h=o.length+s.length+u.length+d.length>0,p=i.length>0?i:["#없음"],b=h?p.filter(S=>S!=="#없음"):p,w=b.some(S=>S!=="#없음")||o.length>0||s.length>0||u.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[g.jsx("div",{className:w,children:t}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.map((S,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+hc(S,"natal"),children:S},`natal-${_}`)),o.map((S,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+hc(S,"dae"),children:S},`dae-${_}`)),s.map((S,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+hc(S,"se"),children:S},`se-${_}`)),u.map((S,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+hc(S,"wol"),children:S},`wol-${_}`)),d.map((S,_)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+hc(S,"il"),children:S},`il-${_}`))]})]})}function q0(t){return Array.isArray(t)?t:[]}function Ad(t,i){const o=new Set(q0(t));return q0(i).filter(u=>!o.has(u))}function s5({pillars:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,tab:d="원국"}){const h=_9(t),p=fc({natal:t}),b=i?fc({natal:t,daewoon:i}):p,v=o?fc({natal:t,daewoon:i,sewoon:o}):b,w=s?fc({natal:t,daewoon:i,sewoon:o,wolwoon:s}):v,S=u?fc({natal:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u}):w,_=A=>({natal:q0(h[A]),dae:Ad(p[A],b[A]),se:Ad(b[A],v[A]),wol:Ad(v[A],w[A]),il:Ad(w[A],S[A])}),T={cheonganHap:_("cheonganHap"),cheonganChung:_("cheonganChung"),jijiSamhap:_("jijiSamhap"),jijiBanghap:_("jijiBanghap"),jijiYukhap:_("jijiYukhap"),amhap:_("amhap"),ganjiAmhap:_("ganjiAmhap"),jijiChung:_("jijiChung"),jijiHyeong:_("jijiHyeong"),jijiPa:_("jijiPa"),jijiHae:_("jijiHae")},M=A=>d==="원국"?{natal:A.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:A.natal,dae:A.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:A.natal,dae:A.dae,se:A.se,wol:[],il:[]}:d==="월운"?{natal:A.natal,dae:A.dae,se:A.se,wol:A.wol,il:[]}:d==="일운"?{natal:A.natal,dae:A.dae,se:A.se,wol:A.wol,il:A.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),g.jsx(Kr,{label:"천간합",...M(T.cheonganHap)}),g.jsx(Kr,{label:"천간충",...M(T.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(Kr,{label:"지지삼합",...M(T.jijiSamhap)}),g.jsx(Kr,{label:"지지방합",...M(T.jijiBanghap)}),g.jsx(Kr,{label:"지지육합",...M(T.jijiYukhap)}),g.jsx(Kr,{label:"암합",...M(T.amhap)}),g.jsx(Kr,{label:"간지암합",...M(T.ganjiAmhap)}),g.jsx(Kr,{label:"지지충",...M(T.jijiChung)}),g.jsx(Kr,{label:"지지형",...M(T.jijiHyeong)}),g.jsx(Kr,{label:"지지파",...M(T.jijiPa)}),g.jsx(Kr,{label:"지지해",...M(T.jijiHae)})]})}const f2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},l5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Zc={목:"화",화:"토",토:"금",금:"수",수:"목"},Rc={화:"목",토:"화",금:"토",수:"금",목:"수"},Js={목:"토",화:"금",토:"수",금:"목",수:"화"},c5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],u5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function Ap(t){return Math.max(0,Math.min(100,t))}function qs(t,i,o){return Math.max(i,Math.min(o,t))}function d5(t){const i=Ap(t);return c5.find(o=>i>=o.min&&i<o.max)?.name??"중화"}function f5(t){const i=t?.[2]?.charAt(0)??"";return f2[i]??null}function h5(t){return(t?.[1]?.charAt(1)??"")||null}function If(t){const i=Object.entries(Js);for(const[o,s]of i)if(s===t)return o;return"토"}function m5(t){return t?{peer:t,resource:Rc[t],leak:Zc[t],wealth:Js[t],officer:If(t)}:null}function p5(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const s=o.charAt(0),u=o.charAt(1),d=f2[s],h=l5[u];d&&(i[d]+=10),h&&(i[h]+=6)}return i}function g5(t){const i=Object.values(t).reduce((s,u)=>s+u,0);if(i<=0)return{목:20,화:20,토:20,금:20,수:20};const o={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{o[s]=t[s]/i*100}),o}function b5(t){if(!t||t.length===0)return null;const i=t.reduce((s,u)=>s+(u?.value??0),0)||0;if(i<=0)return null;const o=s=>t.find(u=>u.name===s)?.value??0;return Ap((o("비겁")+o("인성"))/i*100)}function y5(t,i){return!t||!i?null:i===t?"비겁":Zc[t]===i?"식상":Js[t]===i?"재성":If(t)===i?"관성":Rc[t]===i?"인성":null}const b0=24,v5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function x5(t){for(const[i,o]of v5)if(t>=i)return o;return 1}const bf=20,sx=(t,i)=>qs((bf-(i[t]??0))/bf,0,1),lx=(t,i)=>qs(((i[t]??0)-bf)/bf,0,1);function _5(t,i,o,s){const u=y5(t,o);if(!t||!u)return 0;const d=qs((50-i)/50,0,1),h=qs((i-50)/50,0,1),p=sx(o,s),b=lx(o,s),v=sx(t,s),w=lx(t,s),S=6.5;let _=0;if(d>0)switch(u){case"인성":_=+(.3+.4*v+.15*p)*d;break;case"비겁":_=+(.18+.45*v)*d;break;case"관성":_=-(.08+.2*(1-p)+.1*w)*d;break;case"재성":_=-(.22+.25*(1-p)+.1*(1-v))*d;break;case"식상":_=-(.35+.25*(1-p)+.1*(1-v))*d;break}else if(h>0)switch(u){case"인성":_=-(.25+.25*(1-p)+.2*w)*h;break;case"비겁":_=-(.28+.2*w)*h;break;case"관성":_=+(.18+.2*p+.15*w)*h;break;case"재성":_=+(.22+.25*p+.1*w)*h;break;case"식상":_=+(.2+.2*p)*h;break}else switch(u){case"인성":_=.08*(v+p);break;case"비겁":_=.05*v-.03*w;break;case"관성":_=.02*p-.02*b;break;case"재성":_=.01*p-.06*b;break;case"식상":_=-.05*(1-p);break}return Math.round(S*_*10)/10}function S5(t,i,o,s){const u=["중화신강","태강","극태강"].includes(i),d=["극약","태약","신약","중화신약"].includes(i),h={목:0,화:0,토:0,금:0,수:0};if(u){const p=Zc[t],b=Js[t],v=If(t);h[p]+=28,h[b]+=22,h[v]+=20,s.get(p)?.push("억부: 일간 강 → 설기(식상)"),s.get(b)?.push("억부: 일간 강 → 재성 누설"),s.get(v)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=Rc[t],b=t;h[p]+=28,h[b]+=22,s.get(p)?.push("억부: 일간 약 → 인성 보강"),s.get(b)?.push("억부: 일간 약 → 비겁 보강")}return h}function cx(t,i){if(!t)return{목:0,화:0,토:0,금:0,수:0};const o=u5[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return o.temp==="cold"?(s.화+=16,s.토+=6,i.get("화")?.push("조후: 한랭 → 화"),i.get("토")?.push("조후: 한랭습 보조")):o.temp==="hot"&&(s.수+=14,s.금+=6,i.get("수")?.push("조후: 염열 → 수"),i.get("금")?.push("조후: 제열 보조")),o.wet==="wet"?(s.토+=8,s.화+=4,i.get("토")?.push("조후: 습 → 토"),i.get("화")?.push("조후: 습냉 가온")):o.wet==="dry"&&(s.수+=8,s.목+=4,i.get("수")?.push("조후: 건조 → 수"),i.get("목")?.push("조후: 생발 보조")),s}function ux(t,i){const o={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const u of s){const d=Js[u],h=Math.max(0,(t[u]??0)-(t[d]??0));if(h<=0)continue;const p=Zc[u],b=Math.round(h*.35);b>0&&(o[p]+=b,i.get(p)?.push(`통관: ${u}극${d} 완화`))}return o}function dx(t,i){const o={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),u=Math.min(...s.map(([,h])=>h)),d=s.filter(([,h])=>h<=Math.max(6,u));for(const[h]of d)o[h]+=12,i.get(h)?.push("병약: 결핍 보충");return o}function fx(t,i){const o=f5(t),s=h5(t),u=p5(t),d=g5(u);let h=b5(i);if(h==null)if(!o)h=50;else{const F=o,U=Rc[o],W=Object.values(u).reduce((ft,pt)=>ft+pt,0)||1;h=Ap(((u[F]??0)+(u[U]??0))/W*100)}const p=d5(h),b={목:0,화:0,토:0,금:0,수:0},v=new Map(["목","화","토","금","수"].map(F=>[F,[]]));if(o){const F=S5(o,p,u,v);Object.keys(b).forEach(U=>{b[U]+=F[U]??0})}const w=cx(s,v);Object.keys(b).forEach(F=>{b[F]+=w[F]??0});const S=ux(u,v);Object.keys(b).forEach(F=>{b[F]+=S[F]??0});const _=dx(u,v);Object.keys(b).forEach(F=>{b[F]+=_[F]??0});const T=m5(o),M={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(i))for(const F of i)M[F.name]=F.value;if(h>=45&&h<=55&&T){const F=M.관성>=30||M.관성>=Math.max(M.비겁,M.식상,M.재성,M.인성)+5;h<=50?(b[T.resource]+=14,v.get(T.resource)?.push("밸런스: 중화-약측"),b[T.peer]+=10,v.get(T.peer)?.push("밸런스: 중화-약측"),b[T.leak]+=6,v.get(T.leak)?.push("밸런스: 중화-약측"),b[T.wealth]+=3,v.get(T.wealth)?.push("밸런스: 중화-약측"),F&&T.officer&&(b[T.officer]=Math.round(b[T.officer]*.8*10)/10,v.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(b[T.leak]+=14,v.get(T.leak)?.push("밸런스: 중화-강측"),b[T.wealth]+=10,v.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(b[T.officer]+=6,v.get(T.officer)?.push("밸런스: 중화-강측")),b[T.resource]+=3,v.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(F=>{const U=_5(o,h,F,d);b[F]=qs(Math.round((b[F]+U)*10)/10,0,999)});const j=h<50;["목","화","토","금","수"].forEach(F=>{const U=d[F]??0,W=j&&o===F;if(U>=b0&&!W){const ft=x5(U);b[F]=Math.round(b[F]*ft*10)/10;const pt=Math.min(14,Math.max(0,Math.ceil((U-b0)*.5)));pt>0&&(b[F]=qs(b[F]-pt,0,999)),v.get(F)?.push("강과 패널티(강화)")}});const H={목:[],화:[],토:[],금:[],수:[]};if(o){const F=Zc[o],U=Js[o],W=If(o),ft=o,pt=Rc[o];H[F].push("식상"),H[U].push("재성"),H[W].push("관성"),H[ft].push("비겁"),H[pt].push("인성")}const I={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},B=F=>{const U=d[F]??0;return U>=b0&&!(j&&o===F)?U>=55?4:U>=45?3:2:I[F]?0:1},z=cx(s,new Map),R=ux(u,new Map),G=dx(u,new Map),Q=Object.keys(b).map(F=>({element:F,score:Math.round(b[F]*10)/10,via:w5(F,z,R,G),reasons:(v.get(F)??[]).slice(),tenGodHints:H[F]})).sort((F,U)=>{const W=B(F.element),ft=B(U.element);return W!==ft?W-ft:U.score!==F.score?U.score-F.score:F.element.localeCompare(U.element)}),J=T5(p,z,R,G),rt={비겁:0,식상:0,재성:0,관성:0,인성:0},nt=i?i.reduce((F,U)=>(F[U.name]=U.value,F),{...rt}):void 0;return{chosenType:J,ordered:Q,debug:{band:p,overallPct:h,elementScore:u,tenGodTotals:nt,monthBranch:s??void 0}}}function w5(t,i,o,s){const u=[];return(i[t]??0)>0&&u.push("조후"),(o[t]??0)>0&&u.push("통관"),(s[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function T5(t,i,o,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=v=>Object.values(v).reduce((w,S)=>w+S,0),h=d(i),p=d(o),b=d(s);return h>Math.max(p,b)?"조후":p>=b?"통관":"병약"}function jd(t){const i={목:0,화:0,토:0,금:0,수:0};if(!t||t.length<2)return i;const o=t.charAt(0),s=t.charAt(1),u=Za[o],d=Xn[s];return u&&(i[u]+=50),d&&(i[d]+=50),i}const mc=t=>Math.round(t*10)/10;function ks(t){const i=t.목+t.화+t.토+t.금+t.수||1;return{목:mc(t.목/i*100),화:mc(t.화/i*100),토:mc(t.토/i*100),금:mc(t.금/i*100),수:mc(t.수/i*100)}}function E5(t,i,o,s,u,d,h,p,b,v){const w=[{v:t,w:i},{v:o,w:s},{v:u,w:d},{v:h,w:p},{v:b,w:v}].filter(T=>T.v&&T.w>0),S=w.reduce((T,M)=>T+M.w,0)||1;w.forEach(T=>{T.w=T.w/S});const _={목:0,화:0,토:0,금:0,수:0};for(const{v:T,w:M}of w)_.목+=T.목*M,_.화+=T.화*M,_.토+=T.토*M,_.금+=T.금*M,_.수+=T.수*M;return _}const N5=["원국","대운","세운","월운","일운"],M5={원국:{natal:1},대운:{natal:.6,dae:.4},세운:{natal:.5,dae:.3,se:.2},월운:{natal:.4,dae:.3,se:.2,wol:.1},일운:{natal:.4,dae:.3,se:.2,wol:.1,il:.03}};function D5(t){const{natalElementScore:i,daewoonGz:o,sewoonGz:s,wolwoonGz:u,ilwoonGz:d,tab:h}=t,p=ks(i),b=o?ks(jd(o)):null,v=s?ks(jd(s)):null,w=u?ks(jd(u)):null,S=d?ks(jd(d)):null,_=M5[h];return ks(E5(p,_.natal??0,b,_.dae??0,v,_.se??0,w,_.wol??0,S,_.il??0))}const Cr={2:4,1:3,3:2,0:1},Hs={1:4,2:3,0:2,3:1},h2=new Set(Object.keys(wf)),m2=new Set(Object.keys(X0)),A5=t=>t.slice(0,1),j5=t=>t.slice(-1);function Vi(t){return Sf.has(t)?t:h2.has(t)?wf[t]??t:t}function An(t){return K0.has(t)?t:m2.has(t)?X0[t]??t:t}function Is(t){return Vi(A5(t))}function en(t){return An(j5(t))}const Nt={year:0,month:1,day:2,hour:3};function y0(t,i){const o=An(t),s=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of s)if(en(i[u])===o)return{pos:u,weight:Cr[u]??0};return null}function jp(t,i,o){return en(i[o])===An(t)?{pos:o,weight:Cr[o]}:null}function k5(t,i){const o=Vi(t),s=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of s)if(Is(i[u])===o)return{pos:u,weight:Cr[u]??0};return null}const C5=/^#(연지|월지|일지|시지)X\1_/,O5=t=>C5.test(t);function hx(t){const i=new Map;for(const o of t){if(O5(o.name))continue;const s=`${o.name}@${o.pos}`,u=i.get(s);(!u||o.weight>u.weight)&&i.set(s,o)}return Array.from(i.values()).sort((o,s)=>s.weight!==o.weight?s.weight-o.weight:o.name.localeCompare(s.name,"ko"))}function kd(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const Ho=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",tl=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",L5=(t,i)=>`#일간X${Ho(i)}_${t}`,p2=(t,i)=>i===Nt.month?`#월지_${t}`:`#월지X${Ho(i)}_${t}`,kp=(t,i,o)=>`#${Ho(i)}X${Ho(o)}_${t}`,B5=(t,i)=>`#${t==="day"?"일간":"연간"}X${Ho(i)}_공망`,mx=t=>`#일주_${t}`,Cd=(t,i)=>`#${Ho(i)}_${t}`,Cs=(t,i)=>`#일간X${tl(i)}_${t}`,pc=(t,i)=>`#월지X${tl(i)}_${t}`,v0=(t,i,o)=>`#${tl(i)}X${Ho(o)}_${t}`,R5=(t,i)=>`#${i==="day"?"일간":"연간"}X${tl(t)}_공망`,P5=(t,i)=>`#${i==="day"?"일지":"연지"}X${tl(t)}_삼재`,px=(t,i)=>`#연지X${tl(t)}_${i}`;function z5(t){if(!t)return null;const i=Array.from(String(t));let o=null,s=null;for(const u of i)!o&&(Sf.has(u)||h2.has(u))&&(o=Vi(u)),(K0.has(u)||m2.has(u))&&(s=An(u));return o&&s?{stem:o,branch:s}:null}function H5(t){return t.map(en)}const Ue=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),(Array.isArray(o)?o:[o]).map(An)])),I5=Ue({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),g2=Ue({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),$5=Ue({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),U5=Ue({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),G5=Ue({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),b2=Ue({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),Z5=Ue({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),Y5=Ue({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),q5=Ue({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),V5=Ue({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),F5=Ue({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),y2=Ue({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),K5=Ue({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),X5=Ue({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),W5=Ue({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),Q5=Ue({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),J5=Ue({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),tk=Ue({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),v2=Ue({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),ek=y2,nk=g2,rk=v2,ik=Ue({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),ak=b2,ok=Ue({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),sk=Ue({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),lk=Ue({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),x2=t=>(Array.isArray(t)?t:String(t).split("·")).map(i=>An(i.trim())).filter(Boolean),Pr=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),(Array.isArray(o)?o:[o]).map(s=>An(s))])),gx={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},bx={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},yx={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},vx={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},ck=Pr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),xx=Pr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),$f=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),x2(o)])),uk=$f({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),dk=$f({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),fk=$f({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),hk=$f({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),mk=Pr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),pk=Pr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),gk=Pr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),bk=Pr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),yk=Pr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),_x=Pr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),vk=Pr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),xk=Pr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),_k=Pr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),Sk=Pr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),Ge=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Vi(i),x2(o)])),wk=Ge({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),Sx=Ge({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),Tk=Ge({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),Ek=Ge({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),Nk=Ge({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),Mk=Ge({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),Dk=Ge({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),wx=Ge({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),Ak=Ge({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),jk=Ge({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),kk=Ge({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),Ck=Ge({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),Tx=Ge({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),Ok=Ge({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),Lk=Ge({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),Ex=Ge({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),Bk=Ge({갑:"인",정:"사",무:"신",신:"해"}),Rk=Ge({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),Nx=Ge({정:"축·미",신:"묘·유",계:"사·해"}),Mx=Ge({병:"자·오",무:"인·신",임:"진·술"}),Pk=Ge({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),Dx=Ge({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),Ax=Ge({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),x0=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],_0=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],zk=new Set(["인미","미인","묘신","신문"]),jx=[["술","해"],["진","사"]],Hk=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function gc(t,i,o){const s=An(i),u=An(o);for(const[d,h]of t)if(d===s&&h===u||d===u&&h===s)return!0;return!1}function kx(t,i,o){const s=An(i),u=An(o);for(const[d,h]of t)if(d===s&&h===u||d===u&&h===s)return`${d}${h}`;return`${s}${u}`}function Od(t){for(const i of Hk)if(i.set.has(t))return i.voids;return null}function S0(t){const i=An(t),o=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of o)if(s.group.has(i))return Array.from(s.years);return null}function Yc(t,i){t.push(i)}function w0(t,i,o,s,u=0){const d=Hs[o]>=Hs[s]?o:s,h=kp(i,o,s);t.push({name:h,weight:Cr[d]+u,pos:d})}function je(t,i,o,s,u){const d=en(t[Nt.year]),h=i[d];if(!h)return;const p=o==="MONTH"?[Nt.month]:o==="DAY"?[Nt.day]:o==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of h)for(const v of p){const w=jp(b,t,v);w&&Yc(u,{name:kp(s,Nt.year,v),weight:w.weight,pos:v})}}function Ld(t,i,o,s){const u=en(t[Nt.month]),d=i[u];if(!d)return;const h=Vi(d),p=k5(h,t);p&&Yc(s,{name:p2(o,p.pos),weight:p.weight,pos:p.pos})}function hr(t,i,o,s,u="ALL"){const d=en(t[Nt.month]),h=i[d];if(!h)return;const p=u==="YEAR"?[Nt.year]:u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:u==="DAY_HOUR"?[Nt.day,Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of h)for(const v of p){const w=jp(b,t,v);if(!w)continue;const S=v===Nt.month?`#월지_${o}`:p2(o,v);Yc(s,{name:S,weight:w.weight,pos:v})}}function Bd(t,i,o,s){const u=en(t[Nt.month]),d=i[u];if(!d)return;const h=t[Nt.day];d.includes(h)&&Yc(s,{name:kp(o,Nt.month,Nt.day),weight:Cr[Nt.day],pos:Nt.day})}function ke(t,i,o,s,u){const d=Is(t[Nt.day]),h=i[d];if(!h)return;const p=u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of h)for(const v of p){const w=jp(b,t,v);w&&Yc(s,{name:L5(o,v),weight:w.weight,pos:v})}}function Ik({natal:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,basis:d}){const h=`원국 ${t.join(" · ")}`,p=Is(t[Nt.day]),b=en(t[Nt.day]),v=en(t[Nt.month]),w=en(t[Nt.year]),S=H5(t),_=[],T=[],M=new Set(["경진","임진","경술","무술"]);if(je(t,I5,"MONTH","태백",T),je(t,g2,"DAY","오귀",T),je(t,U5,"MONTH","고신",T),je(t,G5,"MONTH","과숙",T),je(t,Z5,"ALL","수옥",T),je(t,Y5,"HOUR","단명",T),je(t,q5,"ALL","천모",T),je(t,V5,"ALL","지모",T),je(t,F5,"ALL","대모",T),je(t,y2,"ALL","소모",T),je(t,K5,"ALL","격각",T),je(t,X5,"ALL","파군",T),je(t,W5,"ALL","구신",T),je(t,Q5,"ALL","교신",T),je(t,J5,"ALL","반음",T),je(t,tk,"ALL","복음",T),je(t,v2,"ALL","병부",T),je(t,ek,"ALL","사부",T),je(t,nk,"ALL","관부",T),je(t,rk,"ALL","태음",T),je(t,ik,"ALL","세파",T),je(t,ak,"ALL","천구",T),je(t,ok,"ALL","비염",T),je(t,sk,"ALL","매아",T),je(t,lk,"ALL","탕화",T),Ld(t,gx,"천덕귀인",_),Ld(t,bx,"월덕귀인",_),Ld(t,yx,"천덕합",_),Ld(t,vx,"월덕합",_),hr(t,ck,"혈지",T,"ALL"),hr(t,xx,"금쇄",T,"YEAR"),hr(t,xx,"금쇄",T,"DAY"),Bd(t,uk,"천사",_),Bd(t,dk,"천전살",T),Bd(t,fk,"지전살",T),Bd(t,hk,"진신",T),hr(t,mk,"급각살",T,"ALL"),hr(t,pk,"단교관살",T,"ALL"),hr(t,gk,"부벽살",T,"ALL"),hr(t,bk,"욕분관살",T,"ALL"),hr(t,yk,"사주관살",T,"ALL"),hr(t,_x,"천의성",_,"ALL"),hr(t,vk,"천희신",_,"DAY_HOUR"),hr(t,xk,"황은대사",_,"DAY_HOUR"),hr(t,_k,"홍란성",_,"ALL"),hr(t,Sk,"장수성",_,"ALL"),ke(t,wk,"태극귀인",_,"ALL"),ke(t,Sx,"천을귀인",_,"ALL"),ke(t,Tk,"천주귀인",_,"ALL"),ke(t,Ek,"천관귀인",_,"ALL"),ke(t,Nk,"천복귀인",_,"ALL"),ke(t,Mk,"문창귀인",_,"ALL"),ke(t,Dk,"암록",_,"ALL"),ke(t,wx,"금여록",_,"ALL"),ke(t,Ak,"협록",_,"ALL"),ke(t,jk,"관귀학관",_,"ALL"),ke(t,kk,"문곡귀인",_,"ALL"),ke(t,Ck,"학당귀인",_,"ALL"),ke(t,Tx,"홍염",T,"ALL"),ke(t,Ok,"유하",T,"ALL"),ke(t,Lk,"낙정관살",T,"ALL"),ke(t,Ex,"효신살",T,"DAY"),ke(t,Ex,"효신살",T,"HOUR"),ke(t,Nx,"음착살",T,"DAY"),ke(t,Nx,"음착살",T,"HOUR"),ke(t,Mx,"양착살",T,"DAY"),ke(t,Mx,"양착살",T,"HOUR"),ke(t,Bk,"고란살",T,"DAY"),ke(t,Rk,"비인살",T,"ALL"),ke(t,Pk,"재고귀인",_,"ALL"),ke(t,Dx,"양인살",T,"ALL"),M.has(t[Nt.day])){T.push({name:mx("괴강살"),weight:Cr[Nt.day],pos:Nt.day});for(const k of[Nt.year,Nt.month,Nt.hour])t[k]===t[Nt.day]&&T.push({name:Cd("괴강살",k),weight:Cr[k],pos:k})}const j=Ax[p];if(j)for(const k of[Nt.year,Nt.month,Nt.day,Nt.hour]){const Y=Is(t[k]),Z=en(t[k]);Y===p&&j.includes(Z)&&T.push({name:Cd("백호대살",k),weight:Cr[k],pos:k})}for(const[k,Y]of jx){const Z=y0(k,t),$=y0(Y,t);Z&&$&&w0(T,"천라지망",Z.pos,$.pos)}{const k=new Set(["갑","신"]),Y=new Set(["묘","오","미","신"]);for(let Z=0;Z<=3;Z++){const $=Is(t[Z]),tt=en(t[Z]);(k.has($)||Y.has(tt))&&T.push({name:Cd("현침살",Z),weight:Cr[Z],pos:Z})}}new Set(["갑진","을사","임신","병신","정해","경진","무술","계해","신사","기축"]).has(t[Nt.day])&&T.push({name:mx("십악대패살"),weight:Cr[Nt.day],pos:Nt.day});{const k=new Set(["을","기"]),Y=new Set(["축","사"]);for(let Z=0;Z<=3;Z++){const $=Is(t[Z]),tt=en(t[Z]);(k.has($)||Y.has(tt))&&T.push({name:Cd("곡각살",Z),weight:Cr[Z],pos:Z})}}{const k=[[Nt.year,Nt.month],[Nt.year,Nt.day],[Nt.month,Nt.day],[Nt.month,Nt.hour],[Nt.day,Nt.hour]];for(const[Y,Z]of k){const $=en(t[Y]),tt=en(t[Z]);if(gc(x0,$,tt)){const X=kx(x0,$,tt);w0(T,`${X}원진`,Y,Z)}}}{const k=[[Nt.year,Nt.month,0],[Nt.month,Nt.day,1],[Nt.month,Nt.hour,0],[Nt.day,Nt.hour,0]];for(const[Y,Z,$]of k){const tt=en(t[Y]),X=en(t[Z]);if(gc(_0,tt,X)){const ut=kx(_0,tt,X),yt=($?1:0)+(zk.has(tt+X)?1:0);w0(T,`${ut}귀문`,Y,Z,yt)}}}function H(k){const Y=k.lastIndexOf("_");return Y>=0?k.slice(Y+1):k}const I=new Set(["현침살","곡각살"]);function B(k){return I.has(k)?!0:k.endsWith("원진")||k.endsWith("귀문")}function z(k){const Y=new Map;for(const $ of k){const tt=H($.name);Y.has(tt)||Y.set(tt,[]),Y.get(tt).push($)}const Z=[];for(const[$,tt]of Y)if(B($))Z.push(...tt);else{const X=tt.sort((ut,yt)=>Hs[ut.pos]!==Hs[yt.pos]?Hs[yt.pos]-Hs[ut.pos]:yt.weight-ut.weight)[0];Z.push(X)}return Z}const R=Od(t[Nt.day]),G=Od(t[Nt.year]);{const k=(d?.voidBasis??"day")==="day"?R:G;if(k){const[Y,Z]=k.map(An),$=[Nt.year,Nt.month,Nt.day,Nt.hour];for(const tt of $){const X=en(t[tt]);(X===Y||X===Z)&&T.push({name:B5(d?.voidBasis??"day",tt),weight:Cr[tt],pos:tt})}}}const Q=z(hx(_)),J=z(hx(T)),rt={si:[],il:[],yeon:[],wol:[]},nt={si:[],il:[],yeon:[],wol:[]};for(const k of Q)rt[kd(k.pos)].push(k.name);for(const k of J)nt[kd(k.pos)].push(k.name);const F=[],U=[],W=[],ft=[],pt=[],K=[],st=[],at=[];function bt(k,Y){k.includes(Y)||k.push(Y)}function D(k,Y){const Z=z5(Y);if(!Z)return;const $=Z.branch,tt=Z.stem;let X,ut;switch(k){case"dae":X=F,ut=pt;break;case"se":X=U,ut=K;break;case"wol":X=W,ut=st;break;case"il":X=ft,ut=at;break;default:return}Vi(gx[v])===tt&&bt(X,pc("천덕귀인",k)),Vi(bx[v])===tt&&bt(X,pc("월덕귀인",k)),Vi(yx[v])===tt&&bt(X,pc("천덕합",k)),Vi(vx[v])===tt&&bt(X,pc("월덕합",k)),_x[v]?.includes($)&&bt(X,pc("천의성",k)),Sx[p]?.includes($)&&bt(X,Cs("천을귀인",k)),wx[p]?.includes($)&&bt(X,Cs("금여록",k)),Tx[p]?.includes($)&&bt(ut,Cs("홍염",k)),Dx[p]?.includes($)&&bt(ut,Cs("양인살",k)),Ax[p]?.includes($)&&bt(ut,Cs("백호대살",k)),k==="se"&&($5[w]?.includes($)&&bt(ut,px(k,"상문살")),b2[w]?.includes($)&&bt(ut,px(k,"조객살")));for(const vt of S)if(gc(jx,$,vt)){const jt=y0(vt,t)?.pos;jt!==void 0&&bt(ut,v0("천라지망",k,jt));break}new Set(["갑","신"]).has(p)&&new Set(["묘","오","미","신"]).has($)&&bt(ut,Cs("현침살",k));const yt=(d?.voidBasis??"day")==="day"?R:G;yt&&($===yt[0]||$===yt[1])&&bt(ut,R5(k,d?.voidBasis??"day"));for(let vt=0;vt<=3;vt++){const jt=en(t[vt]);gc(x0,$,jt)&&bt(ut,v0("원진",k,vt)),gc(_0,$,jt)&&bt(ut,v0("귀문",k,vt))}if(k==="se"){const vt=(d?.samjaeBasis??"day")==="day"?b:w,jt=vt?S0(vt):null;jt&&jt.includes($)&&bt(ut,P5(k,d?.samjaeBasis??"day"))}}return D("dae",i??null),D("se",o??null),D("wol",s??null),D("il",u??null),{title:h,good:{si:[],il:[],yeon:[],wol:[],...(()=>{const k={si:[],il:[],yeon:[],wol:[]};for(const Y of Q)k[kd(Y.pos)].push(Y.name);return k})(),dae:F,se:U,wolun:W,ilun:ft},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const k={si:[],il:[],yeon:[],wol:[]};for(const Y of J)k[kd(Y.pos)].push(Y.name);return k})(),dae:pt,se:K,wolun:st,ilun:at},meta:{voidPair:{day:Od(t[Nt.day])??void 0,year:Od(t[Nt.year])??void 0},samjaeYears:{day:S0(b)??void 0,year:S0(w)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function $k(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Uk({items:t,source:i}){const o=t.length>0?t:["#없음"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((s,u)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+$k(s,i),children:s},`${i}-${u}-${s}`))})}function Cx({title:t,rows:i}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),i.map(o=>{const u=o.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[g.jsx("div",{className:u,children:o.label}),g.jsx(Uk,{items:o.items.length>0?o.items:["#없음"],source:o.source})]},`${t}-${o.label}`)})]})}function Gk({pillars:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,tab:d="원국"}){const[h,p]=O.useState("일공망"),[b,v]=O.useState("일삼재"),w=O.useMemo(()=>({voidBasis:h==="일공망"?"day":"year",samjaeBasis:b==="일삼재"?"day":"year"}),[h,b]),S=O.useMemo(()=>Ik({natal:t,daewoon:i,sewoon:o,wolwoon:s,ilwoon:u,basis:w}),[t,i,o,s,u,w]),{good:_,bad:T,meta:M}=S,A=rt=>rt.map(nt=>nt==="#없음"?nt:`원국 ${nt}`),j=(rt,nt)=>{const F=["natal"];return nt==="원국"&&F.push("natal"),nt==="대운"&&F.push("natal","dae"),nt==="세운"&&F.push("natal","dae","se"),nt==="월운"&&F.push("natal","dae","se","wol"),nt==="일운"&&F.push("natal","dae","se","wol","il"),rt.filter(U=>F.includes(U.source))},H=[{label:"시주",items:A(_.si),source:"natal"},{label:"일주",items:A(_.il),source:"natal"},{label:"월주",items:A(_.wol),source:"natal"},{label:"연주",items:A(_.yeon),source:"natal"},{label:"대운",items:_.dae,source:"dae"},{label:"세운",items:_.se,source:"se"},{label:"월운",items:_.wolun,source:"wol"},{label:"일운",items:_.ilun,source:"il"}],I=[{label:"시주",items:A(T.si),source:"natal"},{label:"일주",items:A(T.il),source:"natal"},{label:"월주",items:A(T.wol),source:"natal"},{label:"연주",items:A(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],B=j(H,d),z=j(I,d),R=M.voidPair.day?`일공망(${M.voidPair.day.join("")})`:"일공망(—)",G=M.voidPair.year?`연공망(${M.voidPair.year.join("")})`:"연공망(—)",Q=M.samjaeYears.day?`일삼재(${M.samjaeYears.day.join("·")})`:"일삼재(—)",J=M.samjaeYears.year?`연삼재(${M.samjaeYears.year.join("·")})`:"연삼재(—)";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),g.jsxs("select",{value:h,onChange:rt=>p(rt.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일공망",children:R}),g.jsx("option",{value:"연공망",children:G})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),g.jsxs("select",{value:b,onChange:rt=>v(rt.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일삼재",children:Q}),g.jsx("option",{value:"연삼재",children:J})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(Cx,{title:"신(神)",rows:B}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(Cx,{title:"살(殺)",rows:z})]})]})}const Lr={year:0,month:1,day:2,hour:3},_2={[Lr.year]:.3,[Lr.month]:.5,[Lr.day]:.3,[Lr.hour]:.3},S2={[Lr.year]:.15,[Lr.month]:.2,[Lr.day]:0,[Lr.hour]:.15},Zk=t=>K0.has(t)?t:X0[t]??t,Yk=t=>Sf.has(t)?t:wf[t]??t,qk=t=>typeof t=="string"&&t.length>=2?Zk(t.slice(-1)):"",Vk=t=>typeof t=="string"&&t.length>=1?Yk(t.slice(0,1)):"",qe=(t,i,o,s)=>({han:t,nan:i,jo:o,seup:s}),Fk={해:qe(2,0,.5,2),자:qe(2,0,0,2),축:qe(2,0,0,2),인:qe(0,2,2,0),묘:qe(0,2,2,0),진:qe(0,2,1,2),사:qe(0,2,2,.5),오:qe(0,2,2,0),미:qe(0,2,2,1),신:qe(2,0,0,2),유:qe(2,0,0,2),술:qe(2,0,1,1)},Kk={갑:qe(0,1,1,0),을:qe(0,1,1,0),병:qe(0,2,2,0),정:qe(0,2,2,0),무:qe(0,0,1,0),기:qe(0,0,0,1),경:qe(1,0,0,1),신:qe(1,0,0,1),임:qe(2,0,0,2),계:qe(2,0,0,2)},Ox=t=>Math.max(0,Math.min(100,t));function Lx(t,i){const o=Math.max(0,t),s=Math.max(0,i),u=o+s;return u<=0?50:s/u*100}function Xk(t){let i=0,o=0,s=0,u=0;return[Lr.year,Lr.month,Lr.day,Lr.hour].forEach(d=>{const h=Fk[qk(t[d])],p=Kk[Vk(t[d])],b=_2[d],v=S2[d];b>0&&h&&(i+=h.han*b,o+=h.nan*b,s+=h.jo*b,u+=h.seup*b),v>0&&p&&(i+=p.han*v,o+=p.nan*v,s+=p.jo*v,u+=p.seup*v)}),{han:i,nan:o,jo:s,seup:u}}function Wk(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map(o=>typeof o=="string"?o:"")}function Qk(t){const i=Wk(t);return O.useMemo(()=>{const{han:o,nan:s,jo:u,seup:d}=Xk(i),h=Lx(o,s),p=Lx(d,u);return{hanNanPct:Ox(h),joSeupPct:Ox(p),raw:{han:o,nan:s,jo:u,seup:d},weights:{branch:_2,stem:S2}}},[i])}function Bx({label:t,percent:i,leftHint:o,midHint:s,rightHint:u}){const d=O.useMemo(()=>Math.max(0,Math.min(100,i)),[i]),h=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:o}),g.jsx("span",{children:s}),g.jsx("span",{children:u})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[h.map(p=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function Jk({natal:t}){const{hanNanPct:i,joSeupPct:o}=Qk(t);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Bx,{label:"한난",percent:i,leftHint:"한",midHint:"중화",rightHint:"난"}),g.jsx(Bx,{label:"조습",percent:o,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const t4=Object.freeze([]),w2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},T2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},E2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},N2={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function T0(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const s=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const u=w2[s[1]],d=T2[s[2]];return u&&d?`${u}${d}`:""}return""}function Rx(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map((o,s)=>{if(!o)return"";const u=o.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=u.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const h=u.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return h?`${w2[h[1]]}${T2[h[2]]}`:s<=2?"--":""})}function e4(t,i){const o={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const u=E2[s.charAt(0)];u&&(o[u]=!0);{const d=N2[s.charAt(1)];d&&(o[d]=!0)}}return o}function Px(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const s=E2[o.charAt(0)],u=N2[o.charAt(1)];s&&(i[s]+=10),u&&(i[u]+=6)}return i}function bc(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}function n4({data:t,pillars:i,lunarPillars:o,daewoonGz:s}){const u=Qn(Et=>Et.settings),[d]=O.useState("solar"),[h,p]=O.useState(!0),[b,v]=O.useState("modern"),[w,S]=O.useState("일간 · 오행 강약"),[_,T]=O.useState("원국"),{date:M,yearGZ:A,monthGZ:j,dayGZ:H}=Jr(),I=O.useMemo(()=>dn(A),[A]),B=O.useMemo(()=>dn(j),[j]),z=O.useMemo(()=>dn(H),[H]),R=Rf(t,t?.mingSikType),G=O.useMemo(()=>{if(!R?.length)return 0;const Et=R.findIndex((It,Ht)=>{const Dt=R[Ht+1]?.at;return M>=It.at&&(!Dt||M<Dt)});return Et!==-1?Et:M<R[0].at?0:R.length-1},[R,M]),Q=O.useMemo(()=>{const Et=s??R?.[G]?.gz??"";return dn(Et)||null},[s,R,G]),{manualHour:J}=Ef(),rt=t.mingSikType??"야자시",nt=O.useMemo(()=>Rx(i),[i]),F=O.useMemo(()=>Rx(o),[o]),U=O.useMemo(()=>{const Et=[...nt];return(!Et[3]||Et[3]==="")&&J&&(Et[3]=J.stem+J.branch),Et},[nt,J]),W=O.useMemo(()=>{const Et=[...F];return(!Et[3]||Et[3]==="")&&J&&(Et[3]=J.stem+J.branch),Et},[F,J]),ft=O.useMemo(()=>{const Et=Number(t.birthDay?.slice(0,4)),It=Number(t.birthDay?.slice(4,6)),Ht=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(Et)||!Number.isFinite(It)||!Number.isFinite(Ht))return null;const Dt=new Date(Et,It-1,Ht,12,0,0,0),Bt=T0(Ee(Dt)||""),Zt=T0(Qe(Dt)||""),Xt=T0(Se(Dt,rt)||"");return[Bt,Zt,Xt,""]},[t.birthDay,rt]),pt=bc(U),K=bc(W),st=d==="lunar"?K?"lunar":pt?"solar":"lunar":pt?"solar":K?"lunar":"solar",at=O.useMemo(()=>{const It=[...st==="lunar"?K?W:pt?U:ft??["","","",""]:pt?U:K?W:ft??["","","",""]];return(!It[3]||It[3]==="")&&J&&(It[3]=J.stem+J.branch),It},[st,pt,K,U,W,ft,J]),bt=O.useMemo(()=>J?J.stem+J.branch:at[3]||"",[J,at]),D=u.hiddenStemMode==="classic"?"classic":"hgc",k=u.hiddenStem==="regular"?"regular":"all",Y=O.useMemo(()=>({tab:_,dae:_!=="원국"&&Q||void 0,se:(_==="세운"||_==="월운"||_==="일운")&&I||void 0,wol:(_==="월운"||_==="일운")&&B||void 0,il:_==="일운"&&z||void 0}),[_,Q,I,B,z]),Z=O.useMemo(()=>bc(at)?ox({pillars:at,dayStem:at[2]?.charAt(0)??"",mode:D,debug:!1,useHarmonyOverlay:!1,criteriaMode:b}):null,[b,at,D,k,bt]),$=O.useMemo(()=>bc(at)?ox({pillars:at,dayStem:at[2]?.charAt(0)??"",mode:D,debug:!1,useHarmonyOverlay:!1,criteriaMode:b,luck:Y}):null,[b,at,D,k,Y,bt]),tt=O.useMemo(()=>Z?.totals??t4,[Z]),X=Z?.elementScoreRaw??Px(at),ut=O.useMemo(()=>{const Et={비겁:0,식상:0,재성:0,관성:0,인성:0};return tt.forEach(It=>{Et[It.name]=It.value}),Et},[tt]),yt=O.useMemo(()=>{const Et=Z?.deukFlags;if(!Et)return{비겁:1,식상:1,재성:1,관성:1,인성:1};const It=.08,Ht=.05,Dt=.07,Bt={비겁:1,식상:1,재성:1,관성:1,인성:1};return Object.keys(Et).forEach(Zt=>{const Xt=Et[Zt];Bt[Zt]+=(Xt.령?It:0)+(Xt.지?Ht:0)+(Xt.세?Dt:0)}),Bt},[Z?.deukFlags]),vt=O.useMemo(()=>{const Et=(ut.비겁??0)*yt.비겁+(ut.인성??0)*yt.인성,It=(ut.비겁??0)*yt.비겁+(ut.식상??0)*yt.식상+(ut.재성??0)*yt.재성+(ut.관성??0)*yt.관성+(ut.인성??0)*yt.인성;if(It<=0){const Ht=(ut.비겁??0)+(ut.식상??0)+(ut.재성??0)+(ut.관성??0)+(ut.인성??0)||1;return((ut.비겁??0)+(ut.인성??0))/Ht*100}return Et/It*100},[ut,yt]),jt=O.useMemo(()=>e4(at),[at]),Ft=O.useMemo(()=>["목","화","토","금","수"].some(Et=>!jt[Et]),[jt]),Gt=X??Px(at),ie=D5({natalElementScore:X,daewoonGz:_!=="원국"?Q??void 0:void 0,sewoonGz:_==="세운"||_==="월운"||_==="일운"?I??void 0:void 0,wolwoonGz:_==="월운"||_==="일운"?B??void 0:void 0,ilwoonGz:_==="일운"?z??void 0:void 0,tab:_}),ce=O.useMemo(()=>{const Et=r2(at[2]?.charAt(0));return["비겁","식상","재성","관성","인성"].map(It=>{const Ht=["목","화","토","금","수"].map(Dt=>n2(Dt,at[2][0])===It?ie[Dt]:0).reduce((Dt,Bt)=>Dt+Bt,0);return{name:It,value:Ht,color:Et[It]}})},[ie,at]),Pe=O.useMemo(()=>{if(!$?.perTenGod)return;const Et=JSON.parse(JSON.stringify($.perTenGod));return["비겁","식상","재성","관성","인성"].forEach(It=>{const Ht=ce.find(Xt=>Xt.name===It)?.value??0,Dt=Et[It],Bt=Number(Dt?.aVal??0)+Number(Dt?.bVal??0),Zt=Xt=>Math.round((Xt+Number.EPSILON)*10)/10;if(Bt>0){const Xt=Ht*Number(Dt.aVal??0)/Bt,ae=Zt(Xt),Jn=Zt(Ht-ae);Dt.aVal=ae,Dt.bVal=Jn}else{const Xt=Zt(Ht/2),ae=Zt(Ht-Xt);Dt.aVal=Xt,Dt.bVal=ae}}),Et},[$,ce]),Oe=O.useMemo(()=>J?J.stem+J.branch:at[3]||"",[J,at]),he=O.useMemo(()=>[_,Q??"",I??"",B??"",z??"",M?.toISOString?.()??"",Oe].join("|"),[_,Q,I,B,z,M,Oe]),ze=O.useMemo(()=>{const Et=Pe?["비겁","식상","재성","관성","인성"].map(Ht=>{const Dt=Pe[Ht],Bt=Number(Dt?.aVal??Dt?.비견??Dt?.정재??0),Zt=Number(Dt?.bVal??Dt?.겁재??Dt?.편재??0);return`${Ht}:${Bt}|${Zt}`}).join(","):"none",It=ce.map(Ht=>`${Ht.name}:${Ht.value}`).join(",");return`${he}||${at.join("")}||${It}||${Et}`},[he,at,ce,Pe]),wt=typeof fx=="function"?fx(at,Z?.totals):null,Lt=O.useMemo(()=>{const It=(wt?.ordered??[]).map(Bt=>{const Zt=Bt.element??"",Xt=/목|木|wood/i.test(Zt)?"목":/화|火|fire/i.test(Zt)?"화":/토|土|earth/i.test(Zt)?"토":/금|金|metal/i.test(Zt)?"금":/수|水|water/i.test(Zt)?"수":null,ae=typeof Bt.score=="number"?Bt.score:Xt?Gt[Xt]??0:0,Jn=Array.isArray(Bt.reasons)?Bt.reasons:[];return{element:Zt,elNorm:Xt,score:ae,reasons:Jn}}),Ht=Bt=>Bt?jt[Bt]:!1,Dt=h?It.map(Bt=>Bt.elNorm&&!Ht(Bt.elNorm)?{...Bt,score:0,reasons:[...Bt.reasons,"부재후순위: 원국 부재 → 0점"]}:Bt):It;return Dt.sort((Bt,Zt)=>{const Xt=Ht(Bt.elNorm)?1:0,ae=Ht(Zt.elNorm)?1:0;return h&&Xt!==ae?ae-Xt:(Zt.score??0)!==(Bt.score??0)?(Zt.score??0)-(Bt.score??0):(Bt.elNorm??Bt.element).localeCompare(Zt.elNorm??Zt.element)}),Dt},[wt,h,Gt,jt]),_t=O.useMemo(()=>Math.max(0,...Lt.map(Et=>Number.isFinite(Et.score)?Et.score:0)),[Lt]);return bc(at)?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:N5.map(Et=>g.jsx("button",{onClick:()=>T(Et),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(_===Et?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Et},Et))}),g.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(Et=>g.jsx("button",{onClick:()=>S(Et),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(w===Et?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Et},Et))}),w==="형충회합"&&g.jsx(s5,{pillars:at,daewoon:Q||void 0,sewoon:I||void 0,wolwoon:B||void 0,ilwoon:z||void 0,tab:_},`harm-${_}-${Oe}`),w==="일간 · 오행 강약"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"ml-auto flex justify-end items-center gap-1",children:[g.jsx("button",{type:"button","aria-pressed":b==="classic",onClick:()=>v("classic"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(b==="classic"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"고전"}),g.jsx("button",{type:"button","aria-pressed":b==="modern",onClick:()=>v("modern"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(b==="modern"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"현대"})]}),g.jsx(n5,{data:ce,revKey:ze,pillars:at,daewoonGz:Q,sewoonGz:I,wolwoonGz:B,ilwoonGz:z,perStemElement:$?.perStemElementScaled,dayStem:at[2]?.charAt(0)??null},`pentagon-${ze}`),g.jsx(o5,{value:vt}),g.jsx(Jk,{natal:at}),g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),Ft&&g.jsxs("button",{type:"button",onClick:()=>p(Et=>!Et),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${h?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":h,children:["부재후순위: ",h?"ON":"OFF"]})]}),g.jsx("ul",{className:"space-y-2",children:Lt.map((Et,It)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[It+1,"위"]}),g.jsx("span",{className:"text-sm font-semibold",children:Et.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${_t>0?Math.max(2,Math.min(100,Math.round((Et.score??0)/_t*100))):12}%`},title:`점수 ${Et.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(Et.reasons??[]).map((Ht,Dt)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Ht},Dt))})]})]},Et.elNorm??Et.element))})]})]}),w==="신살"&&g.jsx(Gk,{pillars:at,daewoon:Q||void 0,sewoon:I||void 0,wolwoon:B||void 0,ilwoon:z||void 0,tab:_},`shin-${_}-${Oe}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."})}const r4=!1,zx=t=>t<10?`0${t}`:`${t}`,i4=t=>typeof t=="string"&&t.length>=2,a4=t=>Array.isArray(t)&&t.length===4&&t.every(i4);function o4(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",s=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}if(s==="lunar")try{const v=Wr(u,d,h,0,0),w=`${v.getFullYear()}${zx(v.getMonth()+1)}${zx(v.getDate())}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function s4({data:t}){const[i,o]=O.useState("un"),s=O.useMemo(()=>{try{const p=o4(t);return Uc(p)}catch{return new Date}},[t]),u=O.useMemo(()=>Gc(t,s),[t,s]),d=!t.birthTime||t.birthTime==="모름",h=O.useMemo(()=>{try{const p=Ee(u,t.birthPlace?.lon),b=Qe(u,t.birthPlace?.lon),v=Se(u,t.mingSikType),w=d?"":Qr(u,t.mingSikType);return[p,b,v,w]}catch{return[]}},[u,t?.mingSikType,t?.birthPlace?.lon,d]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>o("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),g.jsx("button",{onClick:()=>o("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),g.jsx("button",{onClick:()=>o("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),i==="un"&&g.jsx(jj,{data:t}),i==="myoun"&&g.jsx(Hj,{data:t}),i==="report"&&g.jsx(n4,{data:t,pillars:a4(h)?h:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,s)=>s?s.toUpperCase():o.toLowerCase()),Hx=t=>{const i=c4(t);return i.charAt(0).toUpperCase()+i.slice(1)},M2=(...t)=>t.filter((i,o,s)=>!!i&&i.trim()!==""&&s.indexOf(i)===o).join(" ").trim(),u4=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=O.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:h,...p},b)=>O.createElement("svg",{ref:b,...d4,width:i,height:i,stroke:t,strokeWidth:s?Number(o)*24/Number(i):o,className:M2("lucide",u),...!d&&!u4(p)&&{"aria-hidden":"true"},...p},[...h.map(([v,w])=>O.createElement(v,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=(t,i)=>{const o=O.forwardRef(({className:s,...u},d)=>O.createElement(f4,{ref:d,iconNode:i,className:M2(`lucide-${l4(Hx(t))}`,`lucide-${t}`,s),...u}));return o.displayName=Hx(t),o};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],m4=ti("chevron-down",h4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],g4=ti("chevron-up",p4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],y4=ti("heart-handshake",b4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],x4=ti("house",v4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],S4=ti("menu",_4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T4=ti("plus",w4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N4=ti("settings",E4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],D4=ti("square-user",M4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ix=ti("star",A4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],k4=ti("user-plus",j4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cp=ti("x",C4);function O4({onOpenSidebar:t,onAddNew:i,onOpenCustom:o}){return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(S4,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:i,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(k4,{size:18})}),g.jsx("button",{type:"button",onClick:o,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(D4,{size:18})})]})]})})}function L4(t){O.useEffect(()=>{const i=t??e_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");n_(i),t&&k0(t)},[t])}const D2="harim.settings.v1",A2=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function B4(t){return typeof t=="string"&&A2.includes(t)}function $x(t){const i=Array.isArray(t)?t.filter(B4):[],o=A2.filter(s=>!i.includes(s));return[...i,...o]}function j2(){if(typeof window>"u")return null;try{const t=localStorage.getItem(D2);return t?JSON.parse(t):null}catch{return null}}function R4(t){if(!(typeof window>"u"))try{const o={...j2()??{},...t};localStorage.setItem(D2,JSON.stringify(o))}catch{}}function P4({open:t,onClose:i}){const{settings:o,setSettings:s}=Qn(),u=O.useMemo(()=>$x(o.sectionOrder),[o.sectionOrder]),[d,h]=O.useState(u),[p,b]=O.useState(o),[v,w]=O.useState(null);L4(p.theme??"dark"),O.useEffect(()=>{if(!t)return;const A=j2();if(A){const j={...o,...A};b(j),h($x(A.sectionOrder??j.sectionOrder))}else b(o),h([...u])},[t]);const S=(A,j)=>{b(H=>{const I={...H,[A]:j};return A==="theme"&&k0(j),I})},_=()=>{s({...p,sectionOrder:d}),p.theme&&k0(p.theme),R4({...p,sectionOrder:d}),w("설정이 적용되었습니다"),i()},T=A=>{const{destination:j,source:H}=A;if(!j||j.index===H.index)return;const I=Array.from(d),[B]=I.splice(H.index,1);I.splice(j.index,0,B),h(I)},M=A=>{switch(A){case"theme":return g.jsx(kr,{title:"테마",children:g.jsx(z4,{value:p.theme??"dark",onChange:j=>S("theme",j)})});case"hiddenStem":return g.jsx(kr,{title:"지장간 표시 타입",children:g.jsx(Oo,{value:p.hiddenStem,onChange:j=>S("hiddenStem",j),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return g.jsx(kr,{title:"지장간 유형",children:g.jsx(Oo,{value:p.hiddenStemMode,onChange:j=>S("hiddenStemMode",j),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return g.jsx(kr,{title:"일운 달력 시간타입",children:g.jsx(Oo,{value:p.ilunRule??"조자시",onChange:j=>S("ilunRule",j),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return g.jsx(kr,{title:"십이신살타입",children:g.jsx(Oo,{value:p.sinsalMode,onChange:j=>S("sinsalMode",j),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return g.jsx(kr,{title:"십이신살기준",children:g.jsx(Oo,{value:p.sinsalBase,onChange:j=>S("sinsalBase",j),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return g.jsx(kr,{title:"개화론 적용여부",children:g.jsx(Os,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:j=>S("sinsalBloom",j)})});case"exposure":return g.jsx(kr,{title:"상단 노출",children:g.jsx(Oo,{value:p.exposure,onChange:j=>S("exposure",j),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return g.jsx(kr,{title:"글자 타입",children:g.jsx(Oo,{value:p.charType,onChange:j=>S("charType",j),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return g.jsx(kr,{title:"음간 얇게",children:g.jsx(Os,{label:"음간 얇게",checked:!!p.thinEum,onChange:j=>S("thinEum",j)})});case"visibility":return g.jsx(kr,{title:"표시 항목",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[g.jsx(Os,{label:"십신 표시",checked:!!p.showSipSin,onChange:j=>S("showSipSin",j)}),g.jsx(Os,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:j=>S("showSibiUnseong",j)}),g.jsx(Os,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:j=>S("showSibiSinsal",j)})]})});case"difficultyMode":return g.jsx(kr,{title:"난이도 UP ver.",children:g.jsx(Os,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:j=>S("difficultyMode",j)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:"설정"}),g.jsx("button",{onClick:_,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),g.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:g.jsx(Cp,{size:22})})]}),t&&g.jsx($c,{onDragEnd:T,children:g.jsx(Po,{droppableId:"settings-sections",children:A=>g.jsxs("ul",{ref:A.innerRef,...A.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((j,H)=>g.jsx(Zs,{draggableId:j,index:H,children:I=>g.jsxs("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsx("div",{className:"flex-1 min-w-0",children:M(j)})]})},j)),A.placeholder]})})})]}),v&&g.jsx(L1,{message:v,onClose:()=>w(null),ms:1800})]})}function z4({value:t,onChange:i}){const o=t==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>i(o?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":o,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:o?"다크":"라이트"})]})}function kr({title:t,children:i}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),g.jsx("div",{className:"flex justify-center",children:i})]})}function Oo({value:t,onChange:i,options:o}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:o.map(s=>{const u=t===s.value;return g.jsx("button",{type:"button",onClick:()=>i(s.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Os({label:t,checked:i,onChange:o}){const s=`switch-${t}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[g.jsx("span",{children:t}),g.jsx("input",{id:s,type:"checkbox",checked:i,onChange:u=>o(u.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function H4({onShowToday:t,onShowCouple:i}){const[o,s]=O.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(E0,{icon:g.jsx(x4,{size:22}),label:"오늘의 사주",onClick:t}),g.jsx(E0,{icon:g.jsx(y4,{size:22}),label:"궁합",onClick:i}),g.jsx(E0,{icon:g.jsx(N4,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),g.jsx(P4,{open:o,onClose:()=>s(!1)})]})}function E0({icon:t,label:i,onClick:o}){return g.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,g.jsx("span",{className:"mt-1",children:i})]})}function I4(t,i={}){const{onConfirm:o,onCancel:s,duration:u=1/0,id:d="confirm-center",disableBackdropClose:h=!1,confirmText:p="확인",cancelText:b="취소"}=i;return Im.custom(v=>{if(typeof window>"u"||!document?.body)return null;const w=()=>{const S=O.useRef(!1),_=()=>{S.current||(S.current=!0,Im.dismiss(v.id),setTimeout(()=>{s?.()},0))},T=()=>{S.current||(S.current=!0,Im.dismiss(v.id),setTimeout(()=>{o?.()},0))};return O.useEffect(()=>{const M=A=>{S.current||((A.key==="Escape"||A.key==="Esc")&&(A.preventDefault(),A.stopPropagation(),_()),A.key==="Enter"&&(A.preventDefault(),A.stopPropagation(),T()))};return document.addEventListener("keydown",M,{capture:!0}),()=>document.removeEventListener("keydown",M,{capture:!0})},[]),g.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:h?void 0:_}),g.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[g.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:_,children:b}),g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return zc.createPortal(g.jsx(w,{}),document.body)},{id:d,duration:u})}function Lo(t,i){const[o,s]=O.useState(i),[u,d]=O.useState(!1);return O.useEffect(()=>{try{if(typeof window>"u")return;const h=localStorage.getItem(t);h!=null&&s(JSON.parse(h))}catch{}finally{d(!0)}},[t]),O.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(o))}catch{}},[t,o,u]),[o,s,u]}function Ux(t,i,o){const s=t.slice(),[u]=s.splice(i,1);return s.splice(o,0,u),s}const $4="list:__unassigned__",Gx="list:";function U4(t,i){const[o,s]=Lo(rf,[]),[u,d]=Lo(gA,{}),[h,p]=Lo(pA,[]),[b,v]=Lo(O1,[]),[w,S]=Lo("ms_folder_open",{}),[_,T]=Lo("ms_memo_open",{}),[M,A]=Lo("ms_new_folder_tmp",""),j=O.useRef(0);function H(nt,F,U){const W=Date.now();W-j.current<450||(j.current=W,I4(nt,{onConfirm:F,onCancel:U,duration:Number.POSITIVE_INFINITY}))}const I=O.useMemo(()=>nf.filter(nt=>!b.includes(nt)),[b]),B=O.useMemo(()=>[...I,...o],[I,o]);O.useEffect(()=>{p(nt=>{const F=nt.filter(U=>B.includes(U));for(const U of B)F.includes(U)||F.push(U);return F})},[B,p]);const z=O.useMemo(()=>{const nt=h.filter(U=>!!u[U]),F=h.filter(U=>!u[U]);return[...nt,...F]},[h,u]);O.useEffect(()=>{S(nt=>{const F={...nt};for(const U of z)F[U]===void 0&&(F[U]=!0);return F})},[z,S]),O.useEffect(()=>{t.filter(W=>W.folder==="미분류").forEach(W=>i(W.id,{folder:void 0}));const F=new Set(B);t.filter(W=>W.folder&&!F.has(W.folder)).forEach(W=>i(W.id,{folder:void 0}))},[t,B,i]);const{grouped:R,unassignedItems:G}=O.useMemo(()=>{const nt={};for(const W of z)nt[W]=[];const F=[];for(const W of t){const ft=W.folder;ft&&nt[ft]?nt[ft].push(W):F.push(W)}const U=(W,ft)=>+!!ft.favorite-+!!W.favorite;for(const W of Object.keys(nt))nt[W]=nt[W].slice().sort(U);return F.sort(U),{grouped:nt,unassignedItems:F}},[t,z]);function Q(nt){const{destination:F,draggableId:U,type:W,source:ft}=nt;if(F){if(W==="FOLDER"){const pt=U.replace(/^folder-/,""),K=h.filter(bt=>!!u[bt]),st=h.filter(bt=>!u[bt]);if(!!u[pt]){const bt=K.indexOf(pt),D=Math.min(K.length-1,F.index);p([...Ux(K,bt,D),...st])}else{const bt=st.indexOf(pt),D=Math.min(st.length-1,F.index-K.length);p([...K,...Ux(st,bt,D)])}return}if(W==="ITEM"){const pt=U.replace(/^item:/,""),K=ft?.droppableId??"",st=F?.droppableId??"",at=Y=>{if(!Y.startsWith(Gx))return;const Z=Y.slice(Gx.length);return Z==="__unassigned__"?void 0:Z},bt=at(K),D=at(st);if(bt===D)return;const k=t.find(Y=>Y.id===pt);if(!k)return;i(k.id,{folder:D});return}}}function J(nt){const F=nt.trim();if(!F)return;const U=new Set([...z,...o]);let W=F,ft=2;for(;U.has(W);)W=`${F} ${ft++}`;s(pt=>[...pt,W]),S(pt=>({...pt,[W]:!0})),A("")}function rt(nt){t.filter(U=>U.folder===nt).forEach(U=>i(U.id,{folder:void 0})),nf.includes(nt)?v(U=>Array.from(new Set([...U,nt]))):s(U=>U.filter(W=>W!==nt)),S(U=>{const W={...U};return delete W[nt],W}),d(U=>{const W={...U};return delete W[nt],W}),p(U=>U.filter(W=>W!==nt))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:w,setFolderOpenMap:S,memoOpenMap:_,setMemoOpenMap:T,newFolderName:M,setNewFolderName:A,orderedFolders:z,grouped:R,unassignedItems:G,confirmThrottled:H,handleDragEnd:Q,createFolder:J,deleteFolder:rt,displayFolderLabel:bA,UNASSIGNED_LABEL:Te,DROPPABLE_UNASSIGNED:$4}}function G4(t,i){if(!/^\d{8}$/.test(t))return t||"";const o=t.slice(0,4),s=t.slice(4,6),u=t.slice(6,8);return i&&/^\d{4}$/.test(i)?`${o}년 ${s}월 ${u}일생 ${i.slice(0,2)}:${i.slice(2,4)}분`:i==="모름"?`${o}년 ${s}월 ${u}일생 (시간 모름)`:`${o}년 ${s}월 ${u}일생`}function Z4(t){if(!t)return"";const i=t.split(/[\s,]+/).filter(Boolean);if(i.length===0)return"";const o=h=>i.find(p=>h.some(b=>p.endsWith(b))),s=o(["시","군","구"]),u=o(["동","읍","면","리"]);return i.length===1||!o(["시","군","구","동","읍","면","리"])&&!o(["도","광역시","특별시","자치시","자치도"])?t:s&&u?`${s} ${u}`:s||t}function Y4(t){if(!/^\d{8}$/.test(t))return"-";const i=Number(t.slice(0,4)),o=Number(t.slice(4,6)),s=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-i;return(u.getMonth()+1<o||u.getMonth()+1===o&&u.getDate()<s)&&d--,d}function q4(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function V0(t){return typeof t=="object"&&t!==null}function V4(t){if(!V0(t))throw new Error("Invalid lunar2solar result");const i=t,o=i.cYear,s=i.cMonth,u=i.cDay;if(typeof o!="number"||typeof s!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=i.isLeap;return{cYear:o,cMonth:s,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function F4(t){const i=V0(t)&&"default"in t?t.default:t;if(!V0(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return(s,u,d)=>V4(o(s,u,d,!1))}const K4=F4(wp);function k2(t){const i=t.mingSikType??"야자시";let o=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const I=K4(o,s,u);o=I.cYear,s=I.cMonth,u=I.cDay}const d=!t.birthTime||t.birthTime==="모름",h=d?4:Number(t.birthTime.slice(0,2)),p=d?30:Number(t.birthTime.slice(2,4)),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,v=new Date(o,s-1,u,h,p,0,0),w=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",S=Qs(v,b,w),_=d?"":S.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=Ee(S,b),M=Qe(S,b),A=Se(S,i),j=d?null:Qr(S,i),H=[`원국 : ${T}년 ${M}월 ${A}일`,j?`${j}시`:null].filter(Boolean).join(" ");return{correctedLocal:_,ganji:H}}const Zx="sidebar.orderMap.v1",Yx="sidebar.folderOrder.v1",yc="list:__unassigned__",Rd=t=>`list:${t}`,N0=t=>{if(!t.startsWith("list:"))return;const i=t.slice(5);return i==="__unassigned__"?void 0:i};function X4({open:t,onClose:i,onView:o,onAddNew:s,onEdit:u,onDeleteView:d}){const{list:h,remove:p,update:b}=Ws(),{folderFavMap:v,setFolderFavMap:w,folderOpenMap:S,setFolderOpenMap:_,memoOpenMap:T,setMemoOpenMap:M,newFolderName:A,setNewFolderName:j,orderedFolders:H,grouped:I,unassignedItems:B,handleDragEnd:z,createFolder:R,deleteFolder:G,UNASSIGNED_LABEL:Q,displayFolderLabel:J}=U4(h,b),[rt,nt]=O.useState([]);O.useEffect(()=>{try{const k=localStorage.getItem(Yx);if(k){const Y=JSON.parse(k);Array.isArray(Y)&&nt(Y)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(Yx,JSON.stringify(rt))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[rt]);const[F,U]=O.useState({});O.useEffect(()=>{try{const k=localStorage.getItem(Zx);if(k){const Y=JSON.parse(k);Y&&typeof Y=="object"&&U(Z=>({...Y,...Z}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),O.useEffect(()=>{try{localStorage.setItem(Zx,JSON.stringify(F))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[F]);const[W,ft]=O.useState(!1),pt=(k,Y)=>{const Z=new Map(Y.map(X=>[X.id,X])),$=F[k]??[],tt=[];for(const X of $){const ut=Z.get(X);ut&&(tt.push(ut),Z.delete(X))}return Z.forEach(X=>tt.push(X)),tt},K=k=>{const Y=N0(k),Z=Y?I[Y]||[]:B;return pt(k,Z).map($=>$.id)};O.useEffect(()=>{U(k=>{let Y=!1;const Z={...k};{const $=yc,tt=B.map(X=>X.id);if(!Z[$])Z[$]=tt,Y=!0;else{const X=tt.filter(yt=>!Z[$].includes(yt));X.length&&(Z[$]=[...Z[$],...X],Y=!0);const ut=Z[$].filter(yt=>!tt.includes(yt));ut.length&&(Z[$]=Z[$].filter(yt=>!ut.includes(yt)),Y=!0)}}for(const $ of H){const tt=Rd($),X=(I[$]||[]).map(ut=>ut.id);if(!Z[tt])Z[tt]=X,Y=!0;else{const ut=X.filter(vt=>!Z[tt].includes(vt));ut.length&&(Z[tt]=[...Z[tt],...ut],Y=!0);const yt=Z[tt].filter(vt=>!X.includes(vt));yt.length&&(Z[tt]=Z[tt].filter(vt=>!yt.includes(vt)),Y=!0)}}return Y?Z:k})},[B,I,H]);const st=O.useMemo(()=>[...rt.filter(k=>H.includes(k)),...H.filter(k=>!rt.includes(k))],[rt,H]),at=k=>k??{},bt=(k,Y)=>{const Z=q4(k),$=Z4(k.birthPlace?.name),tt=`item:${k.id}`,X=!!T[k.id];let ut=new Date(k.corrected);return ef(ut.getFullYear(),ut.getMonth()+1,ut.getDate())&&(ut=new Date(ut.getTime()-3600*1e3)),g.jsx(Zs,{draggableId:tt,index:Y,children:yt=>g.jsx("li",{ref:yt.innerRef,...yt.draggableProps,...yt.dragHandleProps,style:at(yt.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[k.name," (",Y4(k.birthDay),"세, ",k.gender,")"]}),g.jsx("span",{className:"opacity-40",children:"｜"}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:k.relationship?k.relationship:"관계 미지정"}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[G4(k.birthDay,k.birthTime),","," ",k.calendarType==="lunar"?"음력":"양력"]}),($||ut)&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[$,ut&&g.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",w7(ut)]})]}),Z&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:Z}),k.memo&&k.memo.trim()!==""&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:vt=>{vt.stopPropagation(),M(jt=>({...jt,[k.id]:!jt[k.id]}))},children:X?"메모 닫기":"메모 열기"}),g.jsx("div",{className:X?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:k.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:J(k.folder),onClick:vt=>vt.stopPropagation(),onChange:vt=>{vt.stopPropagation();const jt=vt.target.value,Ft=Ys(jt),Gt=k.id,ie=k.folder?Rd(k.folder):yc,ce=Ft?Rd(Ft):yc;Ft&&!H.includes(Ft)&&R(Ft),U(Pe=>{const Oe={...Pe},he=K(ie),ze=ie===ce?he.slice():K(ce).slice(),wt=he.indexOf(Gt);wt>=0&&he.splice(wt,1);const Lt=ze.indexOf(Gt);return Lt>=0&&ze.splice(Lt,1),ze.unshift(Gt),Oe[ie]=he,Oe[ce]=ze,Oe}),b(Gt,{folder:Ft})},children:[Q,...H].map(vt=>g.jsx("option",{value:vt,children:vt},vt))}),g.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:k.mingSikType??"야자시",onClick:vt=>vt.stopPropagation(),onChange:vt=>{vt.stopPropagation();const jt=vt.target.value,Ft={...k,mingSikType:jt},Gt=k2(Ft);b(k.id,{mingSikType:jt,...Gt}),o({...Ft,...Gt}),i()},children:[g.jsx("option",{value:"야자시",children:"야자시명식"}),g.jsx("option",{value:"조자시",children:"조자시명식"}),g.jsx("option",{value:"인시",children:"인시명식"})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:vt=>{vt.stopPropagation(),o(k),i()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),g.jsx("button",{onClick:vt=>{vt.stopPropagation(),u?.(k)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),g.jsx("button",{onClick:vt=>{vt.stopPropagation(),confirm(`'${k.name}' 명식을 삭제할까요?`)&&(p(k.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),g.jsx("button",{type:"button",onClick:vt=>{vt.stopPropagation(),b(k.id,{favorite:!k.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${k.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(Ix,{size:16,fill:k.favorite?"currentColor":"none"})})]})]})})},tt)},D=k=>{const{source:Y,destination:Z,draggableId:$,type:tt}=k;if(Z){if(tt==="FOLDER"){z(k),nt(X=>{const ut=[...X],[yt]=ut.splice(Y.index,1);return ut.splice(Z.index,0,yt),ut});return}if(tt==="ITEM"){const X=$.replace(/^item:/,""),ut=Y.droppableId,yt=Z.droppableId;U(Ft=>{const Gt={...Ft},ie=K(ut),ce=ut===yt?ie.slice():K(yt).slice();if(ut===yt){const[he]=ce.splice(Y.index,1);return ce.splice(Z.index,0,he),Gt[ut]=ce,Gt}const Pe=ie.indexOf(X);Pe>=0&&ie.splice(Pe,1);const Oe=ce.indexOf(X);return Oe>=0&&ce.splice(Oe,1),ce.splice(Z.index,0,X),Gt[ut]=ie,Gt[yt]=ce,Gt});const vt=N0(ut),jt=N0(yt);vt!==jt&&b(X,{folder:jt})}}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${W?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>{s(),i()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[g.jsx(T4,{size:16})," 명식추가"]}),g.jsx("button",{onClick:i,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:g.jsx(Cp,{size:22})})]})]}),g.jsx($c,{onDragStart:()=>ft(!0),onDragEnd:k=>{ft(!1),D(k)},children:g.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:A,onChange:k=>j(k.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:k=>k.stopPropagation()}),g.jsx("button",{type:"button",onClick:()=>R(A),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:k=>k.stopPropagation(),children:"생성"})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),g.jsx(Po,{droppableId:yc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:k=>{const Y=pt(yc,B);return g.jsx("div",{ref:k.innerRef,...k.droppableProps,className:"mb-6",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[Y.map((Z,$)=>bt(Z,$)),k.placeholder]})})}}),g.jsx(Po,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:k=>g.jsxs("div",{ref:k.innerRef,...k.droppableProps,children:[st.map((Y,Z)=>{const $=Rd(Y),tt=pt($,I[Y]||[]),X=!!S[Y],ut=!!v[Y];return g.jsx(Zs,{draggableId:`folder-${Y}`,index:Z,children:yt=>g.jsxs("div",{ref:yt.innerRef,...yt.draggableProps,...yt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:vt=>{vt.stopPropagation(),_(jt=>({...jt,[Y]:!X}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[X?g.jsx(g4,{size:16}):g.jsx(m4,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:Y})]}),g.jsx("button",{type:"button",onClick:vt=>{vt.stopPropagation(),w(jt=>({...jt,[Y]:!jt[Y]}))},className:`p-1 rounded cursor-pointer ${ut?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx(Ix,{size:16,fill:ut?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[tt.length,"개"]}),g.jsx("button",{type:"button",onClick:vt=>{if(vt.stopPropagation(),v[Y]){alert(`'${Y}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${Y}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&G(Y)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),X&&g.jsx(Po,{droppableId:$,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:vt=>g.jsx("div",{ref:vt.innerRef,...vt.droppableProps,className:"mt-2",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[tt.map((jt,Ft)=>bt(jt,Ft)),vt.placeholder]})})})]})},`folder-${Y}`)}),k.placeholder]})})]})})]})]})}const qx="ms_folders",M0="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",W4="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",Q4="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",qi="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",J4="text-xs text-neutral-500 dark:text-neutral-400",Pd="accent-violet-600 dark:accent-violet-400",Vx="accent-violet-600 dark:accent-violet-400",Uf="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",tC=`${Uf} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,eC=`${Uf} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,Fx=`${Uf} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,nC=`${Uf} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function rC({item:t,onClose:i}){const{list:o,update:s,remove:u}=Ws(),[d,h]=O.useState(!1),[p,b]=O.useState({...t,calendarType:t.calendarType??"solar"}),[v,w]=O.useState(!t.birthTime||t.birthTime==="모름"),[S,_]=O.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=O.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[M,A]=O.useState([]);O.useEffect(()=>{try{const R=JSON.parse(localStorage.getItem(qx)||"[]");Array.isArray(R)&&A(R)}catch{}},[]);const j=O.useMemo(()=>{const R=Array.from(new Set(o.map(J=>J.folder).filter(Boolean))),G=new Set([...T,...M,...R]),Q=Array.from(G).sort((J,rt)=>J.localeCompare(rt));return[Te,...Q]},[o,M,T]),H=()=>{b({...t,calendarType:t.calendarType??"solar"}),w(!t.birthTime||t.birthTime==="모름"),_(!t.birthPlace||t.birthPlace.name==="모름")},I=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const R=Number(p.birthDay.slice(0,4)),G=Number(p.birthDay.slice(4,6)),Q=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Wr(R,G,Q)}catch(J){return J instanceof Error?J.message:"음력 날짜가 유효하지 않습니다."}else{const J=new Date(R,G-1,Q);if(J.getFullYear()!==R||J.getMonth()+1!==G||J.getDate()!==Q)return"존재하지 않는 양력 날짜입니다."}if(!v){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const J=Number(p.birthTime.slice(0,2)),rt=Number(p.birthTime.slice(2,4));if(J<0||J>23||rt<0||rt>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!S&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},B=()=>{const R=I();if(R){alert(R);return}const G=Number(p.birthDay.slice(0,4)),Q=Number(p.birthDay.slice(4,6)),J=Number(p.birthDay.slice(6,8));let rt=G,nt=Q,F=J;if(p.calendarType==="lunar"){const ut=Wr(G,Q,J);rt=ut.getFullYear(),nt=ut.getMonth()+1,F=ut.getDate()}const U=v?4:Number((p.birthTime??"0430").slice(0,2)),W=v?30:Number((p.birthTime??"0430").slice(2,4)),ft=S||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,pt=new Date(rt,nt-1,F,U,W,0,0),K=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",st=Qs(pt,ft,K),bt=Ee(st,ft).charAt(0),k=((ut,yt)=>{const jt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(ut),Ft=(yt??"남자")==="남자";return jt?Ft?"forward":"backward":Ft?"backward":"forward"})(bt,p.gender??"남자"),Y=Ys(p.folder===Te?void 0:p.folder),Z={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:v?"모름":p.birthTime??"0430",gender:p.gender??"남자",birthPlace:S?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:Y,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"야자시",DayChangeRule:(p.mingSikType??"야자시")==="인시"?"인시일수론":"자시일수론",dir:k,corrected:st,correctedLocal:"",ganji:""},{correctedLocal:$,ganji:tt}=k2(Z),X={...Z,correctedLocal:$,ganji:tt};if(X.folder&&!T.includes(X.folder)&&!M.includes(X.folder)){const ut=[...M,X.folder];A(ut),localStorage.setItem(qx,JSON.stringify(ut))}s(t.id,X),h(!1),i&&i()},z=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"이름"}),g.jsx("input",{className:M0,value:p.name||"",onChange:R=>b({...p,name:R.target.value}),placeholder:"이름"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"생년월일 (YYYYMMDD)"}),g.jsx("input",{className:M0,value:p.birthDay||"",onChange:R=>b({...p,birthDay:R.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Pd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Pd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&g.jsx("span",{className:J4,children:(()=>{try{const R=Number(p.birthDay.slice(0,4)),G=Number(p.birthDay.slice(4,6)),Q=Number(p.birthDay.slice(6,8)),J=Wr(R,G,Q);return`→ 양력 ${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}-${String(J.getDate()).padStart(2,"0")}`}catch(R){const G=R instanceof Error?R.message:void 0;return`→ 변환 실패${G?`: ${G}`:""}`}})()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"태어난 시간 (HHMM)"}),g.jsx("input",{className:`${M0} disabled:opacity-50`,value:v?"":p.birthTime||"",onChange:R=>b({...p,birthTime:R.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:v}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:Vx,checked:v,onChange:R=>w(R.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"명식 기준"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(R=>{const G=`editor_ming_${R}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Pd,name:"mingSikType",checked:(p.mingSikType??"조자시")===R,onChange:()=>b({...p,mingSikType:R}),id:G}),g.jsx("label",{htmlFor:G,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:R})]},R)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"성별"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(R=>{const G=`editor_gender_${R}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Pd,name:"gender",value:R,checked:p.gender===R,onChange:Q=>b({...p,gender:Q.target.value}),id:G}),g.jsx("label",{htmlFor:G,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:R})]},R)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"태어난 지역"}),g.jsx(__,{onSelect:R=>b({...p,birthPlace:R}),value:S?"출생지선택":p.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:Vx,checked:S,onChange:R=>_(R.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"관계"}),g.jsx(C1,{value:p.relationship||"",onChange:R=>b({...p,relationship:R})})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"폴더"}),g.jsx("select",{className:W4,value:p.folder??Te,onChange:R=>{const G=R.target.value;b(G===Te?{...p,folder:void 0}:{...p,folder:G})},children:j.map(R=>g.jsx("option",{value:R===Te?Te:R,children:R},R))})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"메모"}),g.jsx("textarea",{className:Q4,value:p.memo||"",onChange:R=>b({...p,memo:R.target.value}),placeholder:"메모를 입력하세요"})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:Fx,onClick:()=>{H(),h(!1)},children:"취소"}),g.jsx("button",{className:nC,onClick:B,children:"저장"})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:tC,onClick:()=>h(!0),children:"수정"}),g.jsx("button",{className:eC,onClick:z,children:"삭제"}),i&&g.jsx("button",{className:Fx,onClick:i,children:"닫기"})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:["성별: ",t.gender]}),g.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),g.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),g.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),g.jsxs("div",{children:["관계: ",t.relationship||"-"]}),g.jsxs("div",{children:["폴더: ",t.folder??Te]})]}),t.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function iC({pillarsA:t,pillarsB:i}){const o=w9(t,i);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(o).map(([s,u])=>u.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,h)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},h))})]},s):null)]})}function aC(t){return typeof t=="object"&&t!==null}const oC=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],sC=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],lC=new Set(oC),cC=new Set(sC);function Kx(t){return typeof t=="string"&&t.length>=2&&lC.has(t[0])&&cC.has(t[1])}function Re(t,...i){if(Kx(t))return t;for(const o of i)if(Kx(o))return o;return"甲子"}function zd(t,i){let o=null;const s=i.getTime();for(const u of t)if(u.at.getTime()<=s)o=u;else break;return o}function uC(t){const i=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function Xx(t){if(!t)return null;const i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!i)return null;const[,o,s,u,d,h]=i,p=new Date(+o,+s-1,+u,+d,+h);return Number.isNaN(p.getTime())?null:p}function yf(t){const i=t;return typeof i.name=="string"&&i.name?i.name:typeof i.title=="string"&&i.title?i.title:typeof i.memo=="string"&&i.memo?i.memo:"이름 없음"}function dC(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let u=0,d=0;const h=t;return typeof h.birthTime=="string"&&h.birthTime.length>=4&&(u=Number(h.birthTime.slice(0,2)),d=Number(h.birthTime.slice(2,4))),{y:i,m:o,d:s,hh:u,mm:d}}function Gf(t){const{y:i,m:o,d:s}=dC(t),u=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?Wr(i,o,s,u,d):new Date(i,o-1,s,u,d)}function fC(t){const i=Gf(t);return`${yf(t)}-${i.toISOString()}`}function vc(t){const i=t;return typeof i.id=="string"&&i.id?i.id:fC(t)}function hC(t){return aC(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function mC(t){const i=Io;return hC(i)?t==="classic"?i.Classic:i.Modern:t}const D0="people_picker_order_v1";function pC(t,i,o){const s=t.slice(),[u]=s.splice(i,1);return s.splice(o,0,u),s}function Wx({open:t,list:i,onSelect:o,onClose:s}){const[u,d]=O.useState("");O.useEffect(()=>{t||d("")},[t]);const h=O.useMemo(()=>i.map(vc),[i]),p=O.useMemo(()=>new Set(h),[h]),[b,v]=O.useState([]);O.useEffect(()=>{const A=localStorage.getItem(D0),j=A?JSON.parse(A):[],H=j.filter(B=>p.has(B)),I=[...H,...h.filter(B=>!H.includes(B))];v(I),JSON.stringify(I)!==JSON.stringify(j)&&localStorage.setItem(D0,JSON.stringify(I))},[h,p]);const w=A=>{v(A),localStorage.setItem(D0,JSON.stringify(A))},S=O.useMemo(()=>{const A=new Map(i.map(H=>[vc(H),H])),j=[];for(const H of b){const I=A.get(H);I&&j.push(I)}return A.forEach((H,I)=>{b.includes(I)||j.push(H)}),j},[i,b]),_=O.useMemo(()=>{const A=u.trim().toLowerCase();return A?S.filter(j=>yf(j).toLowerCase().includes(A)):S},[S,u]),T=u.trim()==="",M=A=>{const{destination:j,source:H}=A;if(!j||!T||j.index===H.index)return;const I=_.map(vc),B=pC(I,H.index,j.index),R=S.map(vc).filter(Q=>!I.includes(Q)),G=[...B,...R].filter((Q,J,rt)=>rt.indexOf(Q)===J);w(G)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),g.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{placeholder:"이름 검색",value:u,onChange:A=>d(A.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),g.jsx($c,{onDragEnd:M,children:g.jsx(Po,{droppableId:"peopleList",children:A=>g.jsxs("ul",{ref:A.innerRef,...A.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[_.map((j,H)=>{const I=String(vc(j)),B=Gf(j);return g.jsx(Zs,{draggableId:I,index:H,children:z=>g.jsx("li",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,onClick:()=>o(j),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:yf(j)}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Nc(B)})]})]})})},I)}),A.placeholder]})})})]})]})}function A0({label:t,gzHour:i,gzDay:o,gzMonth:s,gzYear:u,dayStem:d,cardSettings:h,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:v}){const w=A=>{const j=h.showSibiUnseong?Fi(d,A):"",H=h.showSibiSinsal?Ki({baseBranch:p,targetBranch:A,era:mC(b),gaehwa:!!v}):"";return{unseongText:j||void 0,shinsalText:H||void 0}},S=Re(i).charAt(1),_=Re(o).charAt(1),T=Re(s).charAt(1),M=Re(u).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",Re(i),S],["일주",Re(o),_],["월주",Re(s),T],["연주",Re(u),M]].map(([A,j,H])=>{const{unseongText:I,shinsalText:B}=w(H);return g.jsx(Rs,{label:A,gz:j,dayStem:d,settings:Qn.getState().settings,unseongText:I,shinsalText:B,hideBranchSipSin:!0,size:"sm"},`${t}-${A}`)})})]})}function gC(t){if(!t)return"";const i=t,o=p=>typeof i[p]=="string"?String(i[p]).trim().toLowerCase():null,s=p=>typeof i[p]=="boolean"?i[p]:null,u=[o("gender"),o("sex"),o("genderType"),o("성별"),o("sexType"),o("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=s("isMale"),h=s("isFemale");return d===!0?"남":h===!0?"여":""}function Ls({label:t,data:i,mode:o,effectiveDate:s,onPick:u}){const d=Qn(R=>R.settings),h=O.useMemo(()=>i?Gf(i):null,[i]),p=Re(h?Qr(h,"야자시"):void 0),b=Re(h?Se(h,"야자시"):void 0),v=Re(h?Qe(h):void 0),w=Re(h?Ee(h):void 0),S=O.useMemo(()=>b.charAt(0)||"갑",[b]),_=h,T=O.useMemo(()=>{const R=i?.birthPlace;return!R||R.name==="모름"||!R.lon?127.5:R.lon},[i]),M=i?.mingSikType??"야자시",A=O.useMemo(()=>{const R=_?Se(_,M).charAt(1):b.charAt(1)||"子",G=_?Ee(_,T).charAt(1):w.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?R:G},[d.sinsalBase,_,M,T,b,w]),j=O.useMemo(()=>{if(o!=="묘운"||!h||!i)return null;try{const R=I1(h,p,i.dir,120,i.mingSikType),G=U1(R,b,i.dir,i.DayChangeRule),Q=Lf(h,v,i.dir,120,i?.birthPlace?.lon??127.5),J=G1(Q,w,i.dir,i.DayChangeRule,h),rt=s;return{si:Re(zd(R.events,rt)?.gz,p),il:Re(zd(G.events,rt)?.gz,b),wl:Re(zd(Q.events,rt)?.gz,v),yn:Re(zd(J.events,rt)?.gz,w)}}catch{return null}},[o,h,p,b,v,w,s,i]),H=O.useMemo(()=>{if(o!=="실시간")return null;const R=s;return{si:Re(Qr(R,"야자시")),il:Re(Se(R,"야자시")),wl:Re(Qe(R)),yn:Re(Ee(R))}},[o,s]),I=i?yf(i):"",B=h?Nc(h):"",z=i?gC(i):"";return i?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:I}),z&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",z]}),B&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:B})]}),o==="원국"&&g.jsx(A0,{label:"원국",gzHour:p,gzDay:b,gzMonth:v,gzYear:w,dayStem:S,cardSettings:d,sinsalBaseBranch:A,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="묘운"&&j&&g.jsx(A0,{label:"묘운",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:S,cardSettings:d,sinsalBaseBranch:A,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="실시간"&&H&&g.jsx(A0,{label:"실시간",gzHour:H.si,gzDay:H.il,gzMonth:H.wl,gzYear:H.yn,dayStem:S,cardSettings:d,sinsalBaseBranch:A,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function bC({people:t=[]}){const[i,o]=O.useState(),[s,u]=O.useState(),[d,h]=O.useState(!1),[p,b]=O.useState(!1),v=O.useRef(new Date),[w,S]=O.useState(()=>uC(v.current)),_=O.useRef(Xx(w)??v.current),T=O.useMemo(()=>{const B=Xx(w);return B&&(_.current=B),_.current},[w]),[M,A]=O.useState(!1),[j,H]=O.useState(!1);function I(B){if(!B)return["甲子","甲子","甲子","甲子"];try{const z=Gf(B),R={hour:Re(Qr(z,"야자시")),day:Re(Se(z,"야자시")),month:Re(Qe(z)),year:Re(Ee(z))};return[R.year,R.month,R.day,R.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:B=>h(B.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),g.jsx("button",{onClick:()=>b(B=>!B),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Ls,{label:"원국 A",data:i,mode:"원국",effectiveDate:T,onPick:()=>A(!0)}),g.jsx(Ls,{label:"원국 B",data:s,mode:"원국",effectiveDate:T,onPick:()=>H(!0)}),d&&i&&g.jsx(Ls,{label:"묘운 A",data:i,mode:"묘운",effectiveDate:T,onPick:()=>A(!0)}),d&&s&&g.jsx(Ls,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:T,onPick:()=>H(!0)}),p&&i&&g.jsx(Ls,{label:"실시간 A",data:i,mode:"실시간",effectiveDate:T,onPick:()=>A(!0)}),p&&s&&g.jsx(Ls,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:T,onPick:()=>H(!0)})]}),i&&s&&g.jsx("div",{className:"mt-4",children:g.jsx(iC,{pillarsA:I(i),pillarsB:I(s)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:w,onChange:B=>S(B.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(Wx,{open:M,list:t||[],onSelect:B=>{o(B),A(!1)},onClose:()=>A(!1)}),g.jsx(Wx,{open:j,list:t||[],onSelect:B=>{u(B),H(!1)},onClose:()=>H(!1)})]})}function yC(){return g.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:g.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function vC({ms:t}){const{date:i,setDate:o}=Jr();O.useEffect(()=>{o(new Date)},[t]);const s=Mp(t),u=O.useMemo(()=>{const p=i??new Date,b=p.getFullYear(),v=String(p.getMonth()+1).padStart(2,"0"),w=String(p.getDate()).padStart(2,"0");return`${b}-${v}-${w}`},[i]),d=p=>{if(!p)return;const[b,v,w]=p.split("-"),S=Number(b),_=Number(v),T=Number(w);if(!Number.isFinite(S)||!Number.isFinite(_)||!Number.isFinite(T))return;const M=i??new Date,A=M.getHours(),j=M.getMinutes(),H=new Date(S,_,0).getDate(),I=Math.min(T,H),B=new Date(S,_-1,I,A,j,0,0);Number.isNaN(B.getTime())||o(B)},h=O.useMemo(()=>{const p=t.ganji,b=s?.dae?.gz?`${s.dae.gz}대운`:null,v=s?.se?.gz?`${s.se.gz}세운`:null,w=s?.wol?.gz?`${s.wol.gz}월운`:null,S=[b,v,w].filter(Boolean).join(" ");return[p,S].filter(Boolean).join(" + ")},[t,s]);return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[h&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:h}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),g.jsx("input",{type:"date",value:u,onChange:p=>d(p.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const xC=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function _C(t){const i=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${i}-${o}-${s}`}function Hd(t,i){return t&&i?`${t}${i}`:null}function Qx(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const SC={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},wC=Br.천간,TC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Jx(t,i){let o;t==="갑"||t==="기"?o="병":t==="을"||t==="경"?o="무":t==="병"||t==="신"?o="경":t==="정"||t==="임"?o="임":o="갑";const s=SC[o],u=TC.indexOf(i),d=(s+(u>=0?u:0))%10;return wC[d]}const EC=Br.지지.slice(),NC=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Bs(t,i){const s=(i==="자시"?f_:W0)[t],u=i==="자시"?EC:NC,d=Br.지지.reduce((h,p)=>(h[p]="",h),{});for(let h=0;h<12;h++)d[u[h]]=s[h];return d}const MC={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},DC={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function AC({open:t,onClose:i,onSave:o}){const{settings:s}=Qn(),[u,d]=O.useState(null),[h,p]=O.useState({}),[b,v]=O.useState(null),[w,S]=O.useState(!0),[_,T]=O.useState(!0),[M,A]=O.useState("자시"),[j,H]=O.useState("male"),[I,B]=O.useState(null),[z,R]=O.useState(!1),[,G]=O.useState(null),[Q,J]=O.useState(null),[rt,nt]=O.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[F,U]=O.useState(!1),[W,ft]=O.useState(null),pt=wt=>{ft(wt),setTimeout(()=>ft(null),1800)},[K,st]=O.useState(!1),[at,bt]=O.useState(!1);O.useEffect(()=>{if(K){const wt=setTimeout(()=>st(!1),2e3);return()=>clearTimeout(wt)}},[K]),O.useEffect(()=>{if(at){const wt=setTimeout(()=>bt(!1),2e3);return()=>clearTimeout(wt)}},[at]);const D=()=>{const wt=Q!==null?I?.filter((Ir,Gn)=>Gn===Q)??[]:[];if(wt.length===0){alert("선택된 항목이 없습니다.");return}const Lt=M==="자시"?"야자시":"인시",_t=wt[0],[Et,It,Ht]=_t.date.split("-").map(Number),Dt={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let Bt=0,Zt=0;if(_t.hourSlots.length>0){const Ir=_t.hourSlots[0].branch,Gn=Dt[Ir];Gn&&(Bt=Gn.hh,Zt=Gn.mi)}const Xt=new Date(Et,It-1,Ht,Bt,Zt),ae=new Date(Xt.getTime()-30*6e4),Jn=ae.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),ei=j==="male"?"남":"여";function Wi(Ir,Gn){const nl=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Ir),Ja=Gn==="남";return nl?Ja?"forward":"backward":Ja?"backward":"forward"}const zr=Wi(_t.year.charAt(0),ei),$n=Ee(ae,127.5),mn=Qe(ae,127.5),Hr=Se(ae,Lt),Un=Qr(ae,Lt),el=[`원국 : ${$n}년 ${mn}월 ${Hr}일`,Un?`${Un}시`:null].filter(Boolean).join(" "),Qa={id:x_(),name:"커스텀명식",birthDay:`${Et}${String(It).padStart(2,"0")}${String(Ht).padStart(2,"0")}`,birthTime:`${String(Bt).padStart(2,"0")}${String(Zt).padStart(2,"0")}`,gender:ei,birthPlace:F?{name:"커스텀명식",lat:0,lon:127.5}:rt.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:rt.relationship??"",memo:rt.memo??"",folder:Ys(rt.folder),mingSikType:rt.mingSikType??"야자시",DayChangeRule:rt.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:rt.calendarType??"solar",yearGZ:_t.year,monthGZ:_t.month,dayGZ:_t.day,hourGZ:_t.hour,ganjiText:`원국 : ${_t.year}년 ${_t.month}월 ${_t.day}일 ${_t.hour}시`,ganji:el,dayStem:_t.day.charAt(0),dateObj:Xt,corrected:ae,correctedLocal:Jn,dir:zr};zc.flushSync(()=>{Ws.getState().add(Qa)}),o(Qa),ft("저장 완료!"),nt({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),U(!1),i()},k=w||_,Y=!!(h.yearStem&&h.yearBranch),Z=!!(h.dayStem&&h.dayBranch),$=!k||Y||Z,tt=!!b&&b.endsWith("Stem"),X=!!b&&b.endsWith("Branch");function ut(wt){return wt==="yearStem"?"yearBranch":wt==="yearBranch"?"yearStem":wt==="monthStem"?"monthBranch":wt==="monthBranch"?"monthStem":wt==="dayStem"?"dayBranch":wt==="dayBranch"?"dayStem":wt==="hourStem"?"hourBranch":"hourStem"}const yt=O.useCallback((wt,Lt)=>{if(!w||!wt.yearStem)return wt;const _t={...wt},Et=W0[wt.yearStem];if(!Et)return _t;const It=Dt=>Et.filter(Bt=>Bt.startsWith(Dt)),Ht=Dt=>Et.find(Bt=>Bt.endsWith(Dt));if(Lt==="monthStem"&&_t.monthStem){const Dt=It(_t.monthStem).map(Bt=>Bt.slice(1));return Dt.length>=2?(d(Dt.slice(0,2)),v("monthBranch"),_t):(Dt.length===1&&(_t.monthBranch=Dt[0],d(null)),_t)}if(Lt==="monthBranch"&&_t.monthBranch){const Dt=Ht(_t.monthBranch);return Dt&&(_t.monthStem=Dt.slice(0,1),d(null)),_t}if(Lt==="yearStem"){if(_t.monthStem&&!_t.monthBranch){const Dt=It(_t.monthStem).map(Bt=>Bt.slice(1));if(Dt.length>=2)return d(Dt.slice(0,2)),v("monthBranch"),_t;Dt.length===1&&(_t.monthBranch=Dt[0])}else if(_t.monthBranch&&!_t.monthStem){const Dt=Ht(_t.monthBranch);Dt&&(_t.monthStem=Dt.slice(0,1))}}return _t},[w,v]),vt=O.useCallback((wt,Lt)=>{if(!_||!wt.dayStem)return wt;const _t={...wt},Et=Bs(wt.dayStem,M),It=Dt=>Object.entries(Et).find(([,Bt])=>Bt.startsWith(Dt)),Ht=Dt=>Et[Dt];if(Lt==="hourStem"&&_t.hourStem){const Dt=It(_t.hourStem);return Dt&&(_t.hourBranch=Dt[0]),_t}if(Lt==="hourBranch"&&_t.hourBranch){const Dt=Ht(_t.hourBranch);return Dt&&(_t.hourStem=Dt.slice(0,1)),_t}if(Lt==="dayStem"){if(_t.hourStem&&!_t.hourBranch){const Dt=It(_t.hourStem);Dt&&(_t.hourBranch=Dt[0])}else if(_t.hourBranch&&!_t.hourStem){const Dt=Ht(_t.hourBranch);Dt&&(_t.hourStem=Dt.slice(0,1))}}return _t},[_,M]),jt=O.useCallback(wt=>!w||!wt.yearStem?!1:wt.monthBranch&&wt.monthStem?Jx(wt.yearStem,wt.monthBranch)!==wt.monthStem:!1,[w]),Ft=O.useCallback(wt=>{if(!_||!wt.dayStem)return!1;if(wt.hourBranch&&wt.hourStem){const _t=Bs(wt.dayStem,M)[wt.hourBranch];return _t?_t.slice(0,1)!==wt.hourStem:!1}return!1},[_,M]);O.useEffect(()=>{if(!(!_||!h.dayStem||!h.hourBranch)&&(h.hourBranch==="자"||h.hourBranch==="축")){const Lt=Bs(h.dayStem,M)[h.hourBranch];Lt&&p(_t=>({..._t,hourStem:Lt.slice(0,1)}))}},[M,_,h.dayStem,h.hourBranch]);const Gt=O.useCallback(wt=>{if(!b)return;if(!$&&!(b==="yearStem"||b==="yearBranch"||b==="dayStem"||b==="dayBranch")){G("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>G(null),1500);return}let _t={...h,[b]:wt};(b==="yearStem"||b==="monthStem"||b==="monthBranch")&&(_t=yt(_t,b)),(b==="dayStem"||b==="hourStem"||b==="hourBranch")&&(_t=vt(_t,b)),p(_t);let Et=!1;jt(_t)&&(S(!1),Et=!0),Ft(_t)&&(T(!1),Et=!0),Et&&pt("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(_t),B(null);const It=ut(b);v(It),setTimeout(()=>{const Ht={..._t};if(Ht.yearStem&&Ht.yearBranch&&!Ht.monthStem){v("monthStem");return}if(Ht.monthStem&&Ht.monthBranch&&!Ht.dayStem){v("dayStem");return}if(Ht.dayStem&&Ht.dayBranch&&!Ht.hourStem){v("hourStem");return}},0)},[b,h,$,yt,vt,jt,Ft]),ie=Qx(h),ce=O.useCallback(async()=>{if(B(null),G(null),!Qx(h)){G("연·월·일·시 간지를 모두 선택하세요.");return}const wt=Hd(h.yearStem,h.yearBranch),Lt=Hd(h.monthStem,h.monthBranch),_t=Hd(h.dayStem,h.dayBranch),Et=Hd(h.hourStem,h.hourBranch),It=300,Ht=[];R(!0);try{const Dt=new Date(1900,0,1,12,0,0),Bt=new Date(2100,11,31,12,0,0);for(let Zt=Dt.getTime();Zt<=Bt.getTime();Zt+=24*3600*1e3){const Xt=new Date(Zt),ae=M==="자시"?"야자시":"인시",Jn=Ee(Xt);if(Jn!==wt)continue;const ei=Qe(Xt);if(ei!==Lt)continue;const Wi=Se(Xt,ae);if(Wi!==_t)continue;const zr=Bs(h.dayStem,M),$n=[];for(let mn=0;mn<12;mn++){const Hr=Br.지지[mn];zr[Hr]===Et&&$n.push({branch:Hr,time:xC[mn]})}if($n.length!==0&&(Ht.push({date:_C(Xt),year:Jn,month:ei,day:Wi,hour:Et,hourSlots:$n}),Ht.length>=It))break}Ht.length===0&&G("일치하는 날짜가 없습니다. (범위: 1900–2100)"),B(Ht)}catch(Dt){Dt instanceof Error?G(Dt.message):G(String(Dt))}finally{R(!1)}},[h,M]),Pe=()=>{p({}),B(null),G(null),v(null)},Oe=wt=>{B(null),wt&&p(Lt=>{const _t={...Lt};return _t.yearStem&&_t.monthBranch&&(_t.monthStem=Jx(_t.yearStem,_t.monthBranch)),_t}),S(wt)},he=wt=>{B(null),wt&&p(Lt=>{const _t={...Lt};if(_t.dayStem&&_t.hourBranch){const It=Bs(_t.dayStem,M)[_t.hourBranch];It&&(_t.hourStem=It.slice(0,1))}return _t}),T(wt)};if(!t)return null;const ze=wt=>{if(B(null),A(wt),_&&h.dayStem&&h.hourBranch&&(h.hourBranch==="자"||h.hourBranch==="축")){const _t=Bs(h.dayStem,wt)[h.hourBranch];_t&&p(Et=>({...Et,hourStem:_t.slice(0,1)}))}};return g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:g.jsx(Cp,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:w,onChange:wt=>Oe(wt.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:_,onChange:wt=>he(wt.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:M==="자시",onChange:()=>ze("자시")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:M==="인시",onChange:()=>ze("인시")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"성별"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:j==="male",onChange:()=>H("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:j==="female",onChange:()=>H("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),k&&!$&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",g.jsx("br",{}),g.jsx("b",{children:"연주"})," 또는 ",g.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([wt,Lt])=>{const _t=!$&&!(wt==="yearStem"||wt==="yearBranch"||wt==="dayStem"||wt==="dayBranch"),Et=b===wt;return g.jsxs("button",{onClick:()=>!_t&&v(wt),disabled:_t,className:["border rounded p-2 text-center cursor-pointer",Et?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",_t?"opacity-50 cursor-not-allowed":""].join(" "),children:[Lt,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:h[wt]??"-"})]},wt)})}),u&&u.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),g.jsx("div",{className:"flex gap-2",children:u.map(wt=>g.jsx("button",{onClick:()=>{let Lt={...h,monthBranch:wt};d(null),Lt=yt(Lt,"monthBranch"),p(Lt),v("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:wt},wt))})]}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b?g.jsxs("div",{className:"w-full",children:[tt&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"천간"}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Br.천간.map(wt=>g.jsx("button",{onClick:()=>Gt(wt),className:`border rounded px-2 py-1 cursor-pointer ${br(wt,"stem",s)}`,children:wt},wt))})]}),X&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"지지"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Br.지지.filter(wt=>{const Lt=ut(b),_t=h[Lt];return _t?DC[wt]===MC[_t]:!0}).map(wt=>g.jsx("button",{onClick:()=>Gt(wt),className:`border rounded px-2 py-1 cursor-pointer ${br(wt,"branch",s)}`,children:wt},wt))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!ie){st(!0);return}ce()},disabled:z,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:z?"검색 중...":"검색"})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:Pe,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),g.jsx("button",{type:"button",onClick:()=>{if((Q!==null?I?.filter((Lt,_t)=>_t===Q)??[]:[]).length===0){bt(!0);return}D()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:I?I.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:"선택"}),g.jsx("th",{className:"p-1 text-center",children:"날짜"}),g.jsx("th",{className:"p-1 text-center",children:"연"}),g.jsx("th",{className:"p-1 text-center",children:"월"}),g.jsx("th",{className:"p-1 text-center",children:"일"}),g.jsx("th",{className:"p-1 text-center",children:"시"}),g.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),g.jsx("tbody",{children:I.map((wt,Lt)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Lt}`,checked:Q===Lt,onChange:()=>J(Lt)}),g.jsx("label",{htmlFor:`selectRow-${Lt}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:wt.date}),g.jsx("td",{className:"p-1 text-center",children:wt.year}),g.jsx("td",{className:"p-1 text-center",children:wt.month}),g.jsx("td",{className:"p-1 text-center",children:wt.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:wt.hourSlots.map((_t,Et)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:_t.branch})},Et))})}),g.jsx("td",{className:"p-1 text-center",children:j==="male"?"남":"여"})]},`${wt.date}-${Lt}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),W&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:W})}),K&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),at&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",g.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}function jC(){const{list:t}=Ws(),[i,o]=O.useState(null),[s,u]=O.useState(!1),[d,h]=O.useState(!1),[p,b]=O.useState(null),[v,w]=O.useState(!1),[S,_]=O.useState(!1),T=O.useMemo(()=>t.find(H=>H.id===i)??null,[t,i]);O.useEffect(()=>{w(!0),_(!1)},[]);const M=()=>{u(!0)},[A,j]=O.useState(!1);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(O4,{onOpenSidebar:()=>h(!0),onAddNew:M,onOpenCustom:()=>j(!0)}),g.jsx(AC,{open:A,onClose:()=>j(!1),onSave:H=>{o(H.id),w(!1),_(!1),h(!1)}}),g.jsx(Gw,{position:"top-center"}),g.jsx(X4,{open:d,onClose:()=>h(!1),onView:H=>{o(H.id),h(!1),w(!1),_(!1),Jr.getState().resetDate()},onAddNew:M,onEdit:H=>{b(H),o(H.id),h(!1),w(!1),_(!1)},onDeleteView:()=>{o(null),w(!0),_(!1)}}),v&&g.jsx(PT,{}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6",children:g.jsx(DA,{onSave:H=>{o(H.id),w(!1),_(!1),h(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!v&&!S&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pt-18 pb-4",children:g.jsx($7,{data:T,hourTable:T.mingSikType??"야자시"})}),g.jsx(vC,{ms:T}),g.jsx("div",{children:g.jsx(s4,{data:T})})]}),S&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(bC,{people:t})}),p&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(rC,{item:p,onClose:()=>{b(null)}})})}),g.jsx(H4,{onShowToday:()=>{w(!0),_(!1)},onShowCouple:()=>{_(!0),w(!1)}}),g.jsx(yC,{})]})}ew.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(jC,{})}));
