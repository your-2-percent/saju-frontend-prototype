function sT(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in t)){const d=Object.getOwnPropertyDescriptor(s,c);d&&Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}})();function cl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function lT(){if(sv)return bc;sv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:t,type:s,key:f,ref:c!==void 0?c:null,props:d}}return bc.Fragment=r,bc.jsx=a,bc.jsxs=a,bc}var lv;function cT(){return lv||(lv=1,Wm.exports=lT()),Wm.exports}var y=cT();const n1="harim.theme",np="harim.settings.v1";function r1(){try{const t=localStorage.getItem(n1);if(t==="dark"||t==="light")return t;const r=localStorage.getItem(np);if(r){const s=JSON.parse(r)?.theme;if(s==="dark"||s==="light")return s}return null}catch{return null}}function rp(t){try{localStorage.setItem(n1,t);const r=localStorage.getItem(np),a=r?JSON.parse(r):{};localStorage.setItem(np,JSON.stringify({...a,theme:t}))}catch{}}function i1(t){const r=document.documentElement;r.classList.toggle("dark",t==="dark"),r.style.setProperty("color-scheme",t)}(function(){try{const t=r1()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");i1(t)}catch{}})();var Qm={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function uT(){if(cv)return ie;cv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function O(j,H,Z){this.props=j,this.context=H,this.refs=A,this.updater=Z||T}O.prototype.isReactComponent={},O.prototype.setState=function(j,H){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,H,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=O.prototype;function $(j,H,Z){this.props=j,this.context=H,this.refs=A,this.updater=Z||T}var D=$.prototype=new R;D.constructor=$,M(D,O.prototype),D.isPureReactComponent=!0;var C=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function F(j,H,Z,J,V,U){return Z=U.ref,{$$typeof:t,type:j,key:H,ref:Z!==void 0?Z:null,props:U}}function tt(j,H){return F(j.type,H,void 0,void 0,void 0,j.props)}function et(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function it(j){var H={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Z){return H[Z]})}var q=/\/+/g;function I(j,H){return typeof j=="object"&&j!==null&&j.key!=null?it(""+j.key):H.toString(36)}function Q(){}function nt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Q,Q):(j.status="pending",j.then(function(H){j.status==="pending"&&(j.status="fulfilled",j.value=H)},function(H){j.status==="pending"&&(j.status="rejected",j.reason=H)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function at(j,H,Z,J,V){var U=typeof j;(U==="undefined"||U==="boolean")&&(j=null);var Y=!1;if(j===null)Y=!0;else switch(U){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(j.$$typeof){case t:case r:Y=!0;break;case v:return Y=j._init,at(Y(j._payload),H,Z,J,V)}}if(Y)return V=V(j),Y=J===""?"."+I(j,0):J,C(V)?(Z="",Y!=null&&(Z=Y.replace(q,"$&/")+"/"),at(V,H,Z,"",function(Et){return Et})):V!=null&&(et(V)&&(V=tt(V,Z+(V.key==null||j&&j.key===V.key?"":(""+V.key).replace(q,"$&/")+"/")+Y)),H.push(V)),1;Y=0;var ht=J===""?".":J+":";if(C(j))for(var gt=0;gt<j.length;gt++)J=j[gt],U=ht+I(J,gt),Y+=at(J,H,Z,U,V);else if(gt=_(j),typeof gt=="function")for(j=gt.call(j),gt=0;!(J=j.next()).done;)J=J.value,U=ht+I(J,gt++),Y+=at(J,H,Z,U,V);else if(U==="object"){if(typeof j.then=="function")return at(nt(j),H,Z,J,V);throw H=String(j),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Y}function G(j,H,Z){if(j==null)return j;var J=[],V=0;return at(j,J,"","",function(U){return H.call(Z,U,V++)}),J}function ot(j){if(j._status===-1){var H=j._result;H=H(),H.then(function(Z){(j._status===0||j._status===-1)&&(j._status=1,j._result=Z)},function(Z){(j._status===0||j._status===-1)&&(j._status=2,j._result=Z)}),j._status===-1&&(j._status=0,j._result=H)}if(j._status===1)return j._result.default;throw j._result}var st=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function _t(){}return ie.Children={map:G,forEach:function(j,H,Z){G(j,function(){H.apply(this,arguments)},Z)},count:function(j){var H=0;return G(j,function(){H++}),H},toArray:function(j){return G(j,function(H){return H})||[]},only:function(j){if(!et(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ie.Component=O,ie.Fragment=a,ie.Profiler=c,ie.PureComponent=$,ie.StrictMode=s,ie.Suspense=g,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ie.__COMPILER_RUNTIME={__proto__:null,c:function(j){return k.H.useMemoCache(j)}},ie.cache=function(j){return function(){return j.apply(null,arguments)}},ie.cloneElement=function(j,H,Z){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var J=M({},j.props),V=j.key,U=void 0;if(H!=null)for(Y in H.ref!==void 0&&(U=void 0),H.key!==void 0&&(V=""+H.key),H)!K.call(H,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&H.ref===void 0||(J[Y]=H[Y]);var Y=arguments.length-2;if(Y===1)J.children=Z;else if(1<Y){for(var ht=Array(Y),gt=0;gt<Y;gt++)ht[gt]=arguments[gt+2];J.children=ht}return F(j.type,V,void 0,void 0,U,J)},ie.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},ie.createElement=function(j,H,Z){var J,V={},U=null;if(H!=null)for(J in H.key!==void 0&&(U=""+H.key),H)K.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(V[J]=H[J]);var Y=arguments.length-2;if(Y===1)V.children=Z;else if(1<Y){for(var ht=Array(Y),gt=0;gt<Y;gt++)ht[gt]=arguments[gt+2];V.children=ht}if(j&&j.defaultProps)for(J in Y=j.defaultProps,Y)V[J]===void 0&&(V[J]=Y[J]);return F(j,U,void 0,void 0,null,V)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(j){return{$$typeof:m,render:j}},ie.isValidElement=et,ie.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ot}},ie.memo=function(j,H){return{$$typeof:b,type:j,compare:H===void 0?null:H}},ie.startTransition=function(j){var H=k.T,Z={};k.T=Z;try{var J=j(),V=k.S;V!==null&&V(Z,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(_t,st)}catch(U){st(U)}finally{k.T=H}},ie.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ie.use=function(j){return k.H.use(j)},ie.useActionState=function(j,H,Z){return k.H.useActionState(j,H,Z)},ie.useCallback=function(j,H){return k.H.useCallback(j,H)},ie.useContext=function(j){return k.H.useContext(j)},ie.useDebugValue=function(){},ie.useDeferredValue=function(j,H){return k.H.useDeferredValue(j,H)},ie.useEffect=function(j,H,Z){var J=k.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(j,H)},ie.useId=function(){return k.H.useId()},ie.useImperativeHandle=function(j,H,Z){return k.H.useImperativeHandle(j,H,Z)},ie.useInsertionEffect=function(j,H){return k.H.useInsertionEffect(j,H)},ie.useLayoutEffect=function(j,H){return k.H.useLayoutEffect(j,H)},ie.useMemo=function(j,H){return k.H.useMemo(j,H)},ie.useOptimistic=function(j,H){return k.H.useOptimistic(j,H)},ie.useReducer=function(j,H,Z){return k.H.useReducer(j,H,Z)},ie.useRef=function(j){return k.H.useRef(j)},ie.useState=function(j){return k.H.useState(j)},ie.useSyncExternalStore=function(j,H,Z){return k.H.useSyncExternalStore(j,H,Z)},ie.useTransition=function(){return k.H.useTransition()},ie.version="19.1.1",ie}var uv;function Rf(){return uv||(uv=1,Qm.exports=uT()),Qm.exports}var B=Rf();const ze=cl(B);var Jm={exports:{}},yc={},t0={exports:{}},e0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function dT(){return dv||(dv=1,(function(t){function r(G,ot){var st=G.length;G.push(ot);t:for(;0<st;){var _t=st-1>>>1,j=G[_t];if(0<c(j,ot))G[_t]=ot,G[st]=j,st=_t;else break t}}function a(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ot=G[0],st=G.pop();if(st!==ot){G[0]=st;t:for(var _t=0,j=G.length,H=j>>>1;_t<H;){var Z=2*(_t+1)-1,J=G[Z],V=Z+1,U=G[V];if(0>c(J,st))V<j&&0>c(U,J)?(G[_t]=U,G[V]=st,_t=V):(G[_t]=J,G[Z]=st,_t=Z);else if(V<j&&0>c(U,st))G[_t]=U,G[V]=st,_t=V;else break t}}return ot}function c(G,ot){var st=G.sortIndex-ot.sortIndex;return st!==0?st:G.id-ot.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var g=[],b=[],v=1,S=null,_=3,T=!1,M=!1,A=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var ot=a(b);ot!==null;){if(ot.callback===null)s(b);else if(ot.startTime<=G)s(b),ot.sortIndex=ot.expirationTime,r(g,ot);else break;ot=a(b)}}function k(G){if(A=!1,C(G),!M)if(a(g)!==null)M=!0,K||(K=!0,I());else{var ot=a(b);ot!==null&&at(k,ot.startTime-G)}}var K=!1,F=-1,tt=5,et=-1;function it(){return O?!0:!(t.unstable_now()-et<tt)}function q(){if(O=!1,K){var G=t.unstable_now();et=G;var ot=!0;try{t:{M=!1,A&&(A=!1,$(F),F=-1),T=!0;var st=_;try{e:{for(C(G),S=a(g);S!==null&&!(S.expirationTime>G&&it());){var _t=S.callback;if(typeof _t=="function"){S.callback=null,_=S.priorityLevel;var j=_t(S.expirationTime<=G);if(G=t.unstable_now(),typeof j=="function"){S.callback=j,C(G),ot=!0;break e}S===a(g)&&s(g),C(G)}else s(g);S=a(g)}if(S!==null)ot=!0;else{var H=a(b);H!==null&&at(k,H.startTime-G),ot=!1}}break t}finally{S=null,_=st,T=!1}ot=void 0}}finally{ot?I():K=!1}}}var I;if(typeof D=="function")I=function(){D(q)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,nt=Q.port2;Q.port1.onmessage=q,I=function(){nt.postMessage(null)}}else I=function(){R(q,0)};function at(G,ot){F=R(function(){G(t.unstable_now())},ot)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tt=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(G){switch(_){case 1:case 2:case 3:var ot=3;break;default:ot=_}var st=_;_=ot;try{return G()}finally{_=st}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(G,ot){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var st=_;_=G;try{return ot()}finally{_=st}},t.unstable_scheduleCallback=function(G,ot,st){var _t=t.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?_t+st:_t):st=_t,G){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=st+j,G={id:v++,callback:ot,priorityLevel:G,startTime:st,expirationTime:j,sortIndex:-1},st>_t?(G.sortIndex=st,r(b,G),a(g)===null&&G===a(b)&&(A?($(F),F=-1):A=!0,at(k,st-_t))):(G.sortIndex=j,r(g,G),M||T||(M=!0,K||(K=!0,I()))),G},t.unstable_shouldYield=it,t.unstable_wrapCallback=function(G){var ot=_;return function(){var st=_;_=ot;try{return G.apply(this,arguments)}finally{_=st}}}})(e0)),e0}var fv;function fT(){return fv||(fv=1,t0.exports=dT()),t0.exports}var n0={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function hT(){if(hv)return On;hv=1;var t=Rf();function r(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)b+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,b,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:g,containerInfo:b,implementation:v}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,b){if(g==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,On.createPortal=function(g,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(r(299));return d(g,b,null,v)},On.flushSync=function(g){var b=f.T,v=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=b,s.p=v,s.d.f()}},On.preconnect=function(g,b){typeof g=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,s.d.C(g,b))},On.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},On.preinit=function(g,b){if(typeof g=="string"&&b&&typeof b.as=="string"){var v=b.as,S=m(v,b.crossOrigin),_=typeof b.integrity=="string"?b.integrity:void 0,T=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;v==="style"?s.d.S(g,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:T}):v==="script"&&s.d.X(g,{crossOrigin:S,integrity:_,fetchPriority:T,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},On.preinitModule=function(g,b){if(typeof g=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var v=m(b.as,b.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&s.d.M(g)},On.preload=function(g,b){if(typeof g=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var v=b.as,S=m(v,b.crossOrigin);s.d.L(g,v,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},On.preloadModule=function(g,b){if(typeof g=="string")if(b){var v=m(b.as,b.crossOrigin);s.d.m(g,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else s.d.m(g)},On.requestFormReset=function(g){s.d.r(g)},On.unstable_batchedUpdates=function(g,b){return g(b)},On.useFormState=function(g,b,v){return f.H.useFormState(g,b,v)},On.useFormStatus=function(){return f.H.useHostTransitionStatus()},On.version="19.1.1",On}var mv;function a1(){if(mv)return n0.exports;mv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),n0.exports=hT(),n0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function mT(){if(pv)return yc;pv=1;var t=fT(),r=Rf(),a=a1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,u=n;;){var p=o.return;if(p===null)break;var x=p.alternate;if(x===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===o)return m(p),e;if(x===u)return m(p),n;x=x.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=x;else{for(var N=!1,z=p.child;z;){if(z===o){N=!0,o=p,u=x;break}if(z===u){N=!0,u=p,o=x;break}z=z.sibling}if(!N){for(z=x.child;z;){if(z===o){N=!0,o=x,u=p;break}if(z===u){N=!0,u=x,o=p;break}z=z.sibling}if(!N)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),D=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case O:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case K:return"SuspenseList";case et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case D:return(e.displayName||"Context")+".Provider";case $:return(e._context.displayName||"Context")+".Consumer";case C:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:nt(e.type)||"Memo";case tt:n=e._payload,e=e._init;try{return nt(e(n))}catch{}}return null}var at=Array.isArray,G=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},_t=[],j=-1;function H(e){return{current:e}}function Z(e){0>j||(e.current=_t[j],_t[j]=null,j--)}function J(e,n){j++,_t[j]=e.current,e.current=n}var V=H(null),U=H(null),Y=H(null),ht=H(null);function gt(e,n){switch(J(Y,n),J(U,e),J(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=Ry(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(V),J(V,e)}function Et(){Z(V),Z(U),Z(Y)}function Ct(e){e.memoizedState!==null&&J(ht,e);var n=V.current,o=Ry(n,e.type);n!==o&&(J(U,e),J(V,o))}function Pt(e){U.current===e&&(Z(V),Z(U)),ht.current===e&&(Z(ht),fc._currentValue=st)}var kt=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,At=t.unstable_shouldYield,Ut=t.unstable_requestPaint,Yt=t.unstable_now,Vt=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,zt=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,dt=t.unstable_LowPriority,Ot=t.unstable_IdlePriority,Ht=t.log,Rt=t.unstable_setDisableYieldValue,ne=null,ee=null;function Ne(e){if(typeof Ht=="function"&&Rt(e),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(ne,e)}catch{}}var ye=Math.clz32?Math.clz32:Qr,Bn=Math.log,Wr=Math.LN2;function Qr(e){return e>>>=0,e===0?32:31-(Bn(e)/Wr|0)|0}var Mn=256,Nn=4194304;function an(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jr(e,n,o){var u=e.pendingLanes;if(u===0)return 0;var p=0,x=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var z=u&134217727;return z!==0?(u=z&~x,u!==0?p=an(u):(N&=z,N!==0?p=an(N):o||(o=z&~e,o!==0&&(p=an(o))))):(z=u&~x,z!==0?p=an(z):N!==0?p=an(N):o||(o=u&~e,o!==0&&(p=an(o)))),p===0?0:n!==0&&n!==p&&(n&x)===0&&(x=p&-p,o=n&-n,x>=o||x===32&&(o&4194048)!==0)?n:p}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function pl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var e=Mn;return Mn<<=1,(Mn&4194048)===0&&(Mn=256),e}function ti(){var e=Nn;return Nn<<=1,(Nn&62914560)===0&&(Nn=4194304),e}function Jn(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function ji(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gl(e,n,o,u,p,x){var N=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var z=e.entanglements,W=e.expirationTimes,mt=e.hiddenUpdates;for(o=N&~o;0<o;){var St=31-ye(o),Mt=1<<St;z[St]=0,W[St]=-1;var pt=mt[St];if(pt!==null)for(mt[St]=null,St=0;St<pt.length;St++){var bt=pt[St];bt!==null&&(bt.lane&=-536870913)}o&=~Mt}u!==0&&uo(e,u,0),x!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=x&~(N&~n))}function uo(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-ye(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|o&4194090}function ou(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var u=31-ye(o),p=1<<u;p&n|e[u]&n&&(e[u]|=n),o&=~p}}function bl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:ev(e.type))}function vl(e,n){var o=ot.p;try{return ot.p=e,n()}finally{ot.p=o}}var mi=Math.random().toString(36).slice(2),un="__reactFiber$"+mi,An="__reactProps$"+mi,da="__reactContainer$"+mi,tr="__reactEvents$"+mi,Zt="__reactListeners$"+mi,lu="__reactHandles$"+mi,xl="__reactResources$"+mi,fa="__reactMarker$"+mi;function ns(e){delete e[un],delete e[An],delete e[tr],delete e[Zt],delete e[lu]}function pi(e){var n=e[un];if(n)return n;for(var o=e.parentNode;o;){if(n=o[da]||o[un]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Hy(e);e!==null;){if(o=e[un])return o;e=Hy(e)}return n}e=o,o=e.parentNode}return null}function ki(e){if(e=e[un]||e[da]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ar(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Oi(e){var n=e[xl];return n||(n=e[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function en(e){e[fa]=!0}var cu=new Set,uu={};function Ci(e,n){Li(e,n),Li(e+"Capture",n)}function Li(e,n){for(uu[e]=n,e=0;e<n.length;e++)cu.add(n[e])}var sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},du={};function lh(e){return kt.call(du,e)?!0:kt.call(fo,e)?!1:sh.test(e)?du[e]=!0:(fo[e]=!0,!1)}function rs(e,n,o){if(lh(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function is(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function ei(e,n,o,u){if(u===null)e.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+u)}}var ho,ha;function Bi(e){if(ho===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ho=n&&n[1]||"",ha=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+e+ha}var as=!1;function Ri(e,n){if(!e||as)return"";as=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var Mt=function(){throw Error()};if(Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(bt){var pt=bt}Reflect.construct(e,[],Mt)}else{try{Mt.call()}catch(bt){pt=bt}e.call(Mt.prototype)}}else{try{throw Error()}catch(bt){pt=bt}(Mt=e())&&typeof Mt.catch=="function"&&Mt.catch(function(){})}}catch(bt){if(bt&&pt&&typeof bt.stack=="string")return[bt.stack,pt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),N=x[0],z=x[1];if(N&&z){var W=N.split(`
`),mt=z.split(`
`);for(p=u=0;u<W.length&&!W[u].includes("DetermineComponentFrameRoot");)u++;for(;p<mt.length&&!mt[p].includes("DetermineComponentFrameRoot");)p++;if(u===W.length||p===mt.length)for(u=W.length-1,p=mt.length-1;1<=u&&0<=p&&W[u]!==mt[p];)p--;for(;1<=u&&0<=p;u--,p--)if(W[u]!==mt[p]){if(u!==1||p!==1)do if(u--,p--,0>p||W[u]!==mt[p]){var St=`
`+W[u].replace(" at new "," at ");return e.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",e.displayName)),St}while(1<=u&&0<=p);break}}}finally{as=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Bi(o):""}function fe(e){switch(e.tag){case 26:case 27:case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ri(e.type,!1);case 11:return Ri(e.type.render,!1);case 1:return Ri(e.type,!0);case 31:return Bi("Activity");default:return""}}function je(e){try{var n="";do n+=fe(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ma(e){var n=Pi(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,x=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(N){u=""+N,x.call(this,N)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function pa(e){e._valueTracker||(e._valueTracker=ma(e))}function re(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return e&&(u=Pi(e)?e.checked?"true":"false":e.value),e=u,e!==o?(n.setValue(e),!0):!1}function ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _l=/[\n"\\]/g;function vn(e){return e.replace(_l,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dn(e,n,o,u,p,x,N,z){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?ga(e,N,yn(n)):o!=null?ga(e,N,yn(o)):u!=null&&e.removeAttribute("value"),p==null&&x!=null&&(e.defaultChecked=!!x),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.name=""+yn(z):e.removeAttribute("name")}function fu(e,n,o,u,p,x,N,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),n!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||n!=null))return;o=o!=null?""+yn(o):"",n=n!=null?""+yn(n):o,z||n===e.value||(e.value=n),e.defaultValue=n}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=z?e.checked:!!u,e.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function ga(e,n,o){n==="number"&&ke(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function er(e,n,o,u){if(e=e.options,n){n={};for(var p=0;p<o.length;p++)n["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=n.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&u&&(e[o].defaultSelected=!0)}else{for(o=""+yn(o),n=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Ue(e,n,o){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+yn(o):""}function gi(e,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(s(92));if(at(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=yn(n),e.defaultValue=o,u=e.textContent,u===o&&u!==""&&u!==null&&(e.value=u)}function Dr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function os(e,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,o):typeof o!="number"||o===0||mo.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function ba(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var p in n)u=n[p],n.hasOwnProperty(p)&&o[p]!==u&&os(e,p,u)}else for(var x in n)n.hasOwnProperty(x)&&os(e,x,n[x])}function po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var go=null;function va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zi=null,bi=null;function hu(e){var n=ki(e);if(n&&(e=n.stateNode)){var o=e[An]||null;t:switch(e=n.stateNode,n.type){case"input":if(Dn(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==e&&u.form===e.form){var p=u[An]||null;if(!p)throw Error(s(90));Dn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===e.form&&re(u)}break t;case"textarea":Ue(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&er(e,!!o.multiple,n,!1)}}}var te=!1;function lr(e,n,o){if(te)return e(n,o);te=!0;try{var u=e(n);return u}finally{if(te=!1,(zi!==null||bi!==null)&&(sd(),zi&&(n=zi,e=bi,bi=zi=null,hu(n),e)))for(n=0;n<e.length;n++)hu(e[n])}}function pe(e,n){var o=e.stateNode;if(o===null)return null;var u=o[An]||null;if(u===null)return null;o=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(jr)try{var $i={};Object.defineProperty($i,"passive",{get:function(){bo=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{bo=!1}var kr=null,ni=null,xa=null;function _a(){if(xa)return xa;var e,n=ni,o=n.length,u,p="value"in kr?kr.value:kr.textContent,x=p.length;for(e=0;e<o&&n[e]===p[e];e++);var N=o-e;for(u=1;u<=N&&n[o-u]===p[x-u];u++);return xa=p.slice(e,1<u?1-u:void 0)}function Ve(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function wl(){return!1}function xn(e){function n(o,u,p,x,N){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(o=e[z],this[z]=o?o(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Or:wl,this.isPropagationStopped=wl,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=xn(Hi),Ii=v({},Hi,{view:0,detail:0}),ch=xn(Ii),ls,oe,vo,jn=v({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(ls=e.screenX-vo.screenX,oe=e.screenY-vo.screenY):oe=ls=0,vo=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:oe}}),Sa=xn(jn),mu=v({},jn,{dataTransfer:0}),uh=xn(mu),Tl=v({},Ii,{relatedTarget:0}),El=xn(Tl),pu=v({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=xn(pu),fh=v({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ml=xn(fh),hh=v({},Hi,{data:0}),cr=xn(hh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yi[e])?!!n[e]:!1}function cs(){return bu}var Nl=v({},Ii,{key:function(e){if(e.key){var n=mh[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ve(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Ve(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ve(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ph=xn(Nl),yu=v({},jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=xn(yu),gh=v({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),bh=xn(gh),Dl=v({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=xn(Dl),vu=v({},jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=xn(vu),us=v({},Hi,{newState:0,oldState:0}),Gi=xn(us),vh=[9,13,27,32],Ui=jr&&"CompositionEvent"in window,dn=null;jr&&"documentMode"in document&&(dn=document.documentMode);var _u=jr&&"TextEvent"in window&&!dn,jl=jr&&(!Ui||dn&&8<dn&&11>=dn),Su=" ",ds=!1;function fs(e,n){switch(e){case"keyup":return vh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function Tu(e,n){switch(e){case"compositionend":return wu(n);case"keypress":return n.which!==32?null:(ds=!0,Su);case"textInput":return e=n.data,e===Su&&ds?null:e;default:return null}}function xh(e,n){if(wa)return e==="compositionend"||!Ui&&fs(e,n)?(e=_a(),xa=ni=kr=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jl&&n.locale!=="ko"?null:n.data;default:return null}}var ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ur[e.type]:n==="textarea"}function Eu(e,n,o,u){zi?bi?bi.push(u):bi=[u]:zi=u,n=hd(n,"onChange"),0<n.length&&(o=new yo("onChange","change",null,o,u),e.push({event:o,listeners:n}))}var Rn=null,xo=null;function Ta(e){jy(e,0)}function hs(e){var n=Ar(e);if(re(n))return e}function Ea(e,n){if(e==="change")return n}var kl=!1;if(jr){var Ma;if(jr){var Ol="oninput"in document;if(!Ol){var ri=document.createElement("div");ri.setAttribute("oninput","return;"),Ol=typeof ri.oninput=="function"}Ma=Ol}else Ma=!1;kl=Ma&&(!document.documentMode||9<document.documentMode)}function _o(){Rn&&(Rn.detachEvent("onpropertychange",Mu),xo=Rn=null)}function Mu(e){if(e.propertyName==="value"&&hs(xo)){var n=[];Eu(n,xo,e,va(e)),lr(Ta,n)}}function Cl(e,n,o){e==="focusin"?(_o(),Rn=n,xo=o,Rn.attachEvent("onpropertychange",Mu)):e==="focusout"&&_o()}function _h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(xo)}function ii(e,n){if(e==="click")return hs(n)}function Sh(e,n){if(e==="input"||e==="change")return hs(n)}function Na(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pn=typeof Object.is=="function"?Object.is:Na;function zn(e,n){if(Pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!kt.call(n,p)||!Pn(e[p],n[p]))return!1}return!0}function So(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ll(e,n){var o=So(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=n&&u>=n)return{node:o,offset:n-e};e=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=So(o)}}function ms(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ms(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ke(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=ke(e.document)}return n}function To(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ps=jr&&"documentMode"in document&&11>=document.documentMode,dr=null,Aa=null,Yi=null,gs=!1;function Nu(e,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gs||dr==null||dr!==ke(u)||(u=dr,"selectionStart"in u&&To(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yi&&zn(Yi,u)||(Yi=u,u=hd(Aa,"onSelect"),0<u.length&&(n=new yo("onSelect","select",null,n,o),e.push({event:n,listeners:u}),n.target=dr)))}function Cr(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Da={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},bs={},Au={};jr&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function vi(e){if(bs[e])return bs[e];if(!Da[e])return e;var n=Da[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Au)return bs[e]=n[o];return e}var Du=vi("animationend"),fr=vi("animationiteration"),Eo=vi("animationstart"),wh=vi("transitionrun"),ys=vi("transitionstart"),Th=vi("transitioncancel"),Bl=vi("transitionend"),ju=new Map,qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qi.push("scrollEnd");function hr(e,n){ju.set(e,n),Ci(n,[e])}var Fi=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var o=Fi.get(e);return o!==void 0?o:(n={value:e,source:n,stack:je(n)},Fi.set(e,n),n)}return{value:e,source:n,stack:je(n)}}var Hn=[],ja=0,mr=0;function Mo(){for(var e=ja,n=mr=ja=0;n<e;){var o=Hn[n];Hn[n++]=null;var u=Hn[n];Hn[n++]=null;var p=Hn[n];Hn[n++]=null;var x=Hn[n];if(Hn[n++]=null,u!==null&&p!==null){var N=u.pending;N===null?p.next=p:(p.next=N.next,N.next=p),u.pending=p}x!==0&&Ao(o,p,x)}}function No(e,n,o,u){Hn[ja++]=e,Hn[ja++]=n,Hn[ja++]=o,Hn[ja++]=u,mr|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Vi(e,n,o,u){return No(e,n,o,u),xi(e)}function ka(e,n){return No(e,null,null,n),xi(e)}function Ao(e,n,o){e.lanes|=o;var u=e.alternate;u!==null&&(u.lanes|=o);for(var p=!1,x=e.return;x!==null;)x.childLanes|=o,u=x.alternate,u!==null&&(u.childLanes|=o),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(p=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,p&&n!==null&&(p=31-ye(o),e=x.hiddenUpdates,u=e[p],u===null?e[p]=[n]:u.push(n),n.lane=o|536870912),x):null}function xi(e){if(50<ic)throw ic=0,_m=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ki={};function ku(e,n,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,o,u){return new ku(e,n,o,u)}function vs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lr(e,n){var o=e.alternate;return o===null?(o=In(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Rl(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Do(e,n,o,u,p,x){var N=0;if(u=e,typeof e=="function")vs(e)&&(N=1);else if(typeof e=="string")N=Vw(e,o,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case et:return e=In(31,o,n,p),e.elementType=et,e.lanes=x,e;case M:return _i(o.children,p,x,n);case A:N=8,p|=24;break;case O:return e=In(12,o,n,p|2),e.elementType=O,e.lanes=x,e;case k:return e=In(13,o,n,p),e.elementType=k,e.lanes=x,e;case K:return e=In(19,o,n,p),e.elementType=K,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case D:N=10;break t;case $:N=9;break t;case C:N=11;break t;case F:N=14;break t;case tt:N=16,u=null;break t}N=29,o=Error(s(130,e===null?"null":typeof e,"")),u=null}return n=In(N,o,n,p),n.elementType=e,n.type=u,n.lanes=x,n}function _i(e,n,o,u){return e=In(7,e,u,n),e.lanes=o,e}function Pl(e,n,o){return e=In(6,e,null,n),e.lanes=o,e}function xs(e,n,o){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xi=[],Oa=0,i=null,l=0,h=[],w=0,E=null,P=1,X="";function ut(e,n){Xi[Oa++]=l,Xi[Oa++]=i,i=e,l=n}function yt(e,n,o){h[w++]=P,h[w++]=X,h[w++]=E,E=e;var u=P;e=X;var p=32-ye(u)-1;u&=~(1<<p),o+=1;var x=32-ye(n)+p;if(30<x){var N=p-p%5;x=(u&(1<<N)-1).toString(32),u>>=N,p-=N,P=1<<32-ye(n)+p|o<<p|u,X=x+e}else P=1<<x|o<<p|u,X=e}function Nt(e){e.return!==null&&(ut(e,1),yt(e,1,0))}function Lt(e){for(;e===i;)i=Xi[--Oa],Xi[Oa]=null,l=Xi[--Oa],Xi[Oa]=null;for(;e===E;)E=h[--w],h[w]=null,X=h[--w],h[w]=null,P=h[--w],h[w]=null}var $t=null,Gt=null,Qt=!1,Oe=null,Ze=!1,fn=Error(s(519));function nr(e){var n=Error(s(418,""));throw La($n(n,e)),fn}function Ou(e){var n=e.stateNode,o=e.type,u=e.memoizedProps;switch(n[un]=e,n[An]=u,o){case"dialog":ce("cancel",n),ce("close",n);break;case"iframe":case"object":case"embed":ce("load",n);break;case"video":case"audio":for(o=0;o<oc.length;o++)ce(oc[o],n);break;case"source":ce("error",n);break;case"img":case"image":case"link":ce("error",n),ce("load",n);break;case"details":ce("toggle",n);break;case"input":ce("invalid",n),fu(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),pa(n);break;case"select":ce("invalid",n);break;case"textarea":ce("invalid",n),gi(n,u.value,u.defaultValue,u.children),pa(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||Ly(n.textContent,o)?(u.popover!=null&&(ce("beforetoggle",n),ce("toggle",n)),u.onScroll!=null&&ce("scroll",n),u.onScrollEnd!=null&&ce("scrollend",n),u.onClick!=null&&(n.onclick=md),n=!0):n=!1,n||nr(e)}function Cu(e){for($t=e.return;$t;)switch($t.tag){case 5:case 13:Ze=!1;return;case 27:case 3:Ze=!0;return;default:$t=$t.return}}function jo(e){if(e!==$t)return!1;if(!Qt)return Cu(e),Qt=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Pm(e.type,e.memoizedProps)),o=!o),o&&Gt&&nr(e),Cu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){Gt=li(e.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}Gt=null}}else n===27?(n=Gt,Ka(e.type)?(e=Im,Im=null,Gt=e):Gt=n):Gt=$t?li(e.stateNode.nextSibling):null;return!0}function Ca(){Gt=$t=null,Qt=!1}function Lu(){var e=Oe;return e!==null&&(ar===null?ar=e:ar.push.apply(ar,e),Oe=null),e}function La(e){Oe===null?Oe=[e]:Oe.push(e)}var $e=H(null),Br=null,ai=null;function Si(e,n,o){J($e,n._currentValue),n._currentValue=o}function oi(e){e._currentValue=$e.current,Z($e)}function ko(e,n,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===o)break;e=e.return}}function _s(e,n,o,u){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var x=p.dependencies;if(x!==null){var N=p.child;x=x.firstContext;t:for(;x!==null;){var z=x;x=p;for(var W=0;W<n.length;W++)if(z.context===n[W]){x.lanes|=o,z=x.alternate,z!==null&&(z.lanes|=o),ko(x.return,o,e),u||(N=null);break t}x=z.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(s(341));N.lanes|=o,x=N.alternate,x!==null&&(x.lanes|=o),ko(N,o,e),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===e){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Oo(e,n,o,u){e=null;for(var p=n,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var z=p.type;Pn(p.pendingProps.value,N.value)||(e!==null?e.push(z):e=[z])}}else if(p===ht.current){if(N=p.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(fc):e=[fc])}p=p.return}e!==null&&_s(n,e,o,u),n.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!Pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Co(e){Br=e,ai=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kn(e){return xg(Br,e)}function Ru(e,n){return Br===null&&Co(e),xg(e,n)}function xg(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ai===null){if(e===null)throw Error(s(308));ai=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ai=ai.next=n;return o}var FS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},VS=t.unstable_scheduleCallback,KS=t.unstable_NormalPriority,on={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new FS,data:new Map,refCount:0}}function zl(e){e.refCount--,e.refCount===0&&VS(KS,function(){e.controller.abort()})}var $l=null,Mh=0,Ss=0,ws=null;function XS(e,n){if($l===null){var o=$l=[];Mh=0,Ss=Am(),ws={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Mh++,n.then(_g,_g),n}function _g(){if(--Mh===0&&$l!==null){ws!==null&&(ws.status="fulfilled");var e=$l;$l=null,Ss=0,ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function WS(e,n){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var p=0;p<o.length;p++)(0,o[p])(n)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Sg=G.S;G.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&XS(e,n),Sg!==null&&Sg(e,n)};var Lo=H(null);function Nh(){var e=Lo.current;return e!==null?e:Ce.pooledCache}function Pu(e,n){n===null?J(Lo,Lo.current):J(Lo,n.pool)}function wg(){var e=Nh();return e===null?null:{parent:on._currentValue,pool:e}}var Hl=Error(s(460)),Tg=Error(s(474)),zu=Error(s(542)),Ah={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $u(){}function Mg(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then($u,$u),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ag(e),e;default:if(typeof n.status=="string")n.then($u,$u);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=u}},function(u){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ag(e),e}throw Il=n,Hl}}var Il=null;function Ng(){if(Il===null)throw Error(s(459));var e=Il;return Il=null,e}function Ag(e){if(e===Hl||e===zu)throw Error(s(483))}var Ba=!1;function Dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(e,n,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,n=xi(e),Ao(e,null,o),n}return No(e,u,n,o),xi(e)}function Gl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,ou(e,o)}}function kh(e,n){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?p=x=N:x=x.next=N,o=o.next}while(o!==null);x===null?p=x=n:x=x.next=n}else p=x=n;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Oh=!1;function Ul(){if(Oh){var e=ws;if(e!==null)throw e}}function Zl(e,n,o,u){Oh=!1;var p=e.updateQueue;Ba=!1;var x=p.firstBaseUpdate,N=p.lastBaseUpdate,z=p.shared.pending;if(z!==null){p.shared.pending=null;var W=z,mt=W.next;W.next=null,N===null?x=mt:N.next=mt,N=W;var St=e.alternate;St!==null&&(St=St.updateQueue,z=St.lastBaseUpdate,z!==N&&(z===null?St.firstBaseUpdate=mt:z.next=mt,St.lastBaseUpdate=W))}if(x!==null){var Mt=p.baseState;N=0,St=mt=W=null,z=x;do{var pt=z.lane&-536870913,bt=pt!==z.lane;if(bt?(he&pt)===pt:(u&pt)===pt){pt!==0&&pt===Ss&&(Oh=!0),St!==null&&(St=St.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var Wt=e,Kt=z;pt=n;var Ee=o;switch(Kt.tag){case 1:if(Wt=Kt.payload,typeof Wt=="function"){Mt=Wt.call(Ee,Mt,pt);break t}Mt=Wt;break t;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=Kt.payload,pt=typeof Wt=="function"?Wt.call(Ee,Mt,pt):Wt,pt==null)break t;Mt=v({},Mt,pt);break t;case 2:Ba=!0}}pt=z.callback,pt!==null&&(e.flags|=64,bt&&(e.flags|=8192),bt=p.callbacks,bt===null?p.callbacks=[pt]:bt.push(pt))}else bt={lane:pt,tag:z.tag,payload:z.payload,callback:z.callback,next:null},St===null?(mt=St=bt,W=Mt):St=St.next=bt,N|=pt;if(z=z.next,z===null){if(z=p.shared.pending,z===null)break;bt=z,z=bt.next,bt.next=null,p.lastBaseUpdate=bt,p.shared.pending=null}}while(!0);St===null&&(W=Mt),p.baseState=W,p.firstBaseUpdate=mt,p.lastBaseUpdate=St,x===null&&(p.shared.lanes=0),Ya|=N,e.lanes=N,e.memoizedState=Mt}}function Dg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function jg(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Dg(o[e],n)}var Ts=H(null),Hu=H(0);function kg(e,n){e=ra,J(Hu,e),J(Ts,n),ra=e|n.baseLanes}function Ch(){J(Hu,ra),J(Ts,Ts.current)}function Lh(){ra=Hu.current,Z(Ts),Z(Hu)}var za=0,ae=null,we=null,nn=null,Iu=!1,Es=!1,Bo=!1,Gu=0,Yl=0,Ms=null,QS=0;function Qe(){throw Error(s(321))}function Bh(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Pn(e[o],n[o]))return!1;return!0}function Rh(e,n,o,u,p,x){return za=x,ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?mb:pb,Bo=!1,x=o(u,p),Bo=!1,Es&&(x=Cg(n,o,u,p)),Og(e),x}function Og(e){G.H=Vu;var n=we!==null&&we.next!==null;if(za=0,nn=we=ae=null,Iu=!1,Yl=0,Ms=null,n)throw Error(s(300));e===null||hn||(e=e.dependencies,e!==null&&Bu(e)&&(hn=!0))}function Cg(e,n,o,u){ae=e;var p=0;do{if(Es&&(Ms=null),Yl=0,Es=!1,25<=p)throw Error(s(301));if(p+=1,nn=we=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}G.H=aw,x=n(o,u)}while(Es);return x}function JS(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?ql(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(ae.flags|=1024),n}function Ph(){var e=Gu!==0;return Gu=0,e}function zh(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function $h(e){if(Iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Iu=!1}za=0,nn=we=ae=null,Es=!1,Yl=Gu=0,Ms=null}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?ae.memoizedState=nn=e:nn=nn.next=e,nn}function rn(){if(we===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=nn===null?ae.memoizedState:nn.next;if(n!==null)nn=n,we=e;else{if(e===null)throw ae.alternate===null?Error(s(467)):Error(s(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},nn===null?ae.memoizedState=nn=e:nn=nn.next=e}return nn}function Hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var n=Yl;return Yl+=1,Ms===null&&(Ms=[]),e=Mg(Ms,e,n),n=ae,(nn===null?n.memoizedState:nn.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?mb:pb),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===D)return kn(e)}throw Error(s(438,String(e)))}function Ih(e){var n=null,o=ae.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Hh(),ae.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),u=0;u<e;u++)o[u]=it;return n.index++,o}function Wi(e,n){return typeof n=="function"?n(e):n}function Zu(e){var n=rn();return Gh(n,we,e)}function Gh(e,n,o){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=e.baseQueue,x=u.pending;if(x!==null){if(p!==null){var N=p.next;p.next=x.next,x.next=N}n.baseQueue=p=x,u.pending=null}if(x=e.baseState,p===null)e.memoizedState=x;else{n=p.next;var z=N=null,W=null,mt=n,St=!1;do{var Mt=mt.lane&-536870913;if(Mt!==mt.lane?(he&Mt)===Mt:(za&Mt)===Mt){var pt=mt.revertLane;if(pt===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),Mt===Ss&&(St=!0);else if((za&pt)===pt){mt=mt.next,pt===Ss&&(St=!0);continue}else Mt={lane:0,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},W===null?(z=W=Mt,N=x):W=W.next=Mt,ae.lanes|=pt,Ya|=pt;Mt=mt.action,Bo&&o(x,Mt),x=mt.hasEagerState?mt.eagerState:o(x,Mt)}else pt={lane:Mt,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},W===null?(z=W=pt,N=x):W=W.next=pt,ae.lanes|=Mt,Ya|=Mt;mt=mt.next}while(mt!==null&&mt!==n);if(W===null?N=x:W.next=z,!Pn(x,e.memoizedState)&&(hn=!0,St&&(o=ws,o!==null)))throw o;e.memoizedState=x,e.baseState=N,e.baseQueue=W,u.lastRenderedState=x}return p===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Uh(e){var n=rn(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var u=o.dispatch,p=o.pending,x=n.memoizedState;if(p!==null){o.pending=null;var N=p=p.next;do x=e(x,N.action),N=N.next;while(N!==p);Pn(x,n.memoizedState)||(hn=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),o.lastRenderedState=x}return[x,u]}function Lg(e,n,o){var u=ae,p=rn(),x=Qt;if(x){if(o===void 0)throw Error(s(407));o=o()}else o=n();var N=!Pn((we||p).memoizedState,o);N&&(p.memoizedState=o,hn=!0),p=p.queue;var z=Pg.bind(null,u,p,e);if(Fl(2048,8,z,[e]),p.getSnapshot!==n||N||nn!==null&&nn.memoizedState.tag&1){if(u.flags|=2048,Ns(9,Yu(),Rg.bind(null,u,p,o,n),null),Ce===null)throw Error(s(349));x||(za&124)!==0||Bg(u,n,o)}return o}function Bg(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ae.updateQueue,n===null?(n=Hh(),ae.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Rg(e,n,o,u){n.value=o,n.getSnapshot=u,zg(n)&&$g(e)}function Pg(e,n,o){return o(function(){zg(n)&&$g(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Pn(e,o)}catch{return!0}}function $g(e){var n=ka(e,2);n!==null&&vr(n,e,2)}function Zh(e){var n=rr();if(typeof e=="function"){var o=e;if(e=o(),Bo){Ne(!0);try{o()}finally{Ne(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function Hg(e,n,o,u){return e.baseState=o,Gh(e,we,typeof u=="function"?u:Wi)}function tw(e,n,o,u,p){if(Fu(e))throw Error(s(485));if(e=n.action,e!==null){var x={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};G.T!==null?o(!0):x.isTransition=!1,u(x),o=n.pending,o===null?(x.next=n.pending=x,Ig(n,x)):(x.next=o.next,n.pending=o.next=x)}}function Ig(e,n){var o=n.action,u=n.payload,p=e.state;if(n.isTransition){var x=G.T,N={};G.T=N;try{var z=o(p,u),W=G.S;W!==null&&W(N,z),Gg(e,n,z)}catch(mt){Yh(e,n,mt)}finally{G.T=x}}else try{x=o(p,u),Gg(e,n,x)}catch(mt){Yh(e,n,mt)}}function Gg(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ug(e,n,u)},function(u){return Yh(e,n,u)}):Ug(e,n,o)}function Ug(e,n,o){n.status="fulfilled",n.value=o,Zg(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Ig(e,o)))}function Yh(e,n,o){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,Zg(n),n=n.next;while(n!==u)}e.action=null}function Zg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yg(e,n){return n}function qg(e,n){if(Qt){var o=Ce.formState;if(o!==null){t:{var u=ae;if(Qt){if(Gt){e:{for(var p=Gt,x=Ze;p.nodeType!==8;){if(!x){p=null;break e}if(p=li(p.nextSibling),p===null){p=null;break e}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){Gt=li(p.nextSibling),u=p.data==="F!";break t}}nr(u)}u=!1}u&&(n=o[0])}}return o=rr(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},o.queue=u,o=db.bind(null,ae,u),u.dispatch=o,u=Zh(!1),x=Xh.bind(null,ae,!1,u.queue),u=rr(),p={state:n,dispatch:null,action:e,pending:null},u.queue=p,o=tw.bind(null,ae,p,x,o),p.dispatch=o,u.memoizedState=e,[n,o,!1]}function Fg(e){var n=rn();return Vg(n,we,e)}function Vg(e,n,o){if(n=Gh(e,n,Yg)[0],e=Zu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=ql(n)}catch(N){throw N===Hl?zu:N}else u=n;n=rn();var p=n.queue,x=p.dispatch;return o!==n.memoizedState&&(ae.flags|=2048,Ns(9,Yu(),ew.bind(null,p,o),null)),[u,x,e]}function ew(e,n){e.action=n}function Kg(e){var n=rn(),o=we;if(o!==null)return Vg(n,o,e);rn(),n=n.memoizedState,o=rn();var u=o.queue.dispatch;return o.memoizedState=e,[n,u,!1]}function Ns(e,n,o,u){return e={tag:e,create:o,deps:u,inst:n,next:null},n=ae.updateQueue,n===null&&(n=Hh(),ae.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,n.lastEffect=e),e}function Yu(){return{destroy:void 0,resource:void 0}}function Xg(){return rn().memoizedState}function qu(e,n,o,u){var p=rr();u=u===void 0?null:u,ae.flags|=e,p.memoizedState=Ns(1|n,Yu(),o,u)}function Fl(e,n,o,u){var p=rn();u=u===void 0?null:u;var x=p.memoizedState.inst;we!==null&&u!==null&&Bh(u,we.memoizedState.deps)?p.memoizedState=Ns(n,x,o,u):(ae.flags|=e,p.memoizedState=Ns(1|n,x,o,u))}function Wg(e,n){qu(8390656,8,e,n)}function Qg(e,n){Fl(2048,8,e,n)}function Jg(e,n){return Fl(4,2,e,n)}function tb(e,n){return Fl(4,4,e,n)}function eb(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nb(e,n,o){o=o!=null?o.concat([e]):null,Fl(4,4,eb.bind(null,n,e),o)}function qh(){}function rb(e,n){var o=rn();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&Bh(n,u[1])?u[0]:(o.memoizedState=[e,n],e)}function ib(e,n){var o=rn();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&Bh(n,u[1]))return u[0];if(u=e(),Bo){Ne(!0);try{e()}finally{Ne(!1)}}return o.memoizedState=[u,n],u}function Fh(e,n,o){return o===void 0||(za&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=sy(),ae.lanes|=e,Ya|=e,o)}function ab(e,n,o,u){return Pn(o,n)?o:Ts.current!==null?(e=Fh(e,o,u),Pn(e,n)||(hn=!0),e):(za&42)===0?(hn=!0,e.memoizedState=o):(e=sy(),ae.lanes|=e,Ya|=e,n)}function ob(e,n,o,u,p){var x=ot.p;ot.p=x!==0&&8>x?x:8;var N=G.T,z={};G.T=z,Xh(e,!1,n,o);try{var W=p(),mt=G.S;if(mt!==null&&mt(z,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var St=WS(W,u);Vl(e,n,St,yr(e))}else Vl(e,n,u,yr(e))}catch(Mt){Vl(e,n,{then:function(){},status:"rejected",reason:Mt},yr())}finally{ot.p=x,G.T=N}}function nw(){}function Vh(e,n,o,u){if(e.tag!==5)throw Error(s(476));var p=sb(e).queue;ob(e,p,n,st,o===null?nw:function(){return lb(e),o(u)})}function sb(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:st},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lb(e){var n=sb(e).next.queue;Vl(e,n,{},yr())}function Kh(){return kn(fc)}function cb(){return rn().memoizedState}function ub(){return rn().memoizedState}function rw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=yr();e=Ra(o);var u=Pa(n,e,o);u!==null&&(vr(u,n,o),Gl(u,n,o)),n={cache:Eh()},e.payload=n;return}n=n.return}}function iw(e,n,o){var u=yr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)?fb(n,o):(o=Vi(e,n,o,u),o!==null&&(vr(o,e,u),hb(o,n,u)))}function db(e,n,o){var u=yr();Vl(e,n,o,u)}function Vl(e,n,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))fb(n,p);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var N=n.lastRenderedState,z=x(N,o);if(p.hasEagerState=!0,p.eagerState=z,Pn(z,N))return No(e,n,p,0),Ce===null&&Mo(),!1}catch{}finally{}if(o=Vi(e,n,p,u),o!==null)return vr(o,e,u),hb(o,n,u),!0}return!1}function Xh(e,n,o,u){if(u={lane:2,revertLane:Am(),action:u,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(s(479))}else n=Vi(e,o,u,2),n!==null&&vr(n,e,2)}function Fu(e){var n=e.alternate;return e===ae||n!==null&&n===ae}function fb(e,n){Es=Iu=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function hb(e,n,o){if((o&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,ou(e,o)}}var Vu={readContext:kn,use:Uu,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},mb={readContext:kn,use:Uu,useCallback:function(e,n){return rr().memoizedState=[e,n===void 0?null:n],e},useContext:kn,useEffect:Wg,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,qu(4194308,4,eb.bind(null,n,e),o)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var o=rr();n=n===void 0?null:n;var u=e();if(Bo){Ne(!0);try{e()}finally{Ne(!1)}}return o.memoizedState=[u,n],u},useReducer:function(e,n,o){var u=rr();if(o!==void 0){var p=o(n);if(Bo){Ne(!0);try{o(n)}finally{Ne(!1)}}}else p=n;return u.memoizedState=u.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},u.queue=e,e=e.dispatch=iw.bind(null,ae,e),[u.memoizedState,e]},useRef:function(e){var n=rr();return e={current:e},n.memoizedState=e},useState:function(e){e=Zh(e);var n=e.queue,o=db.bind(null,ae,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:qh,useDeferredValue:function(e,n){var o=rr();return Fh(o,e,n)},useTransition:function(){var e=Zh(!1);return e=ob.bind(null,ae,e.queue,!0,!1),rr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var u=ae,p=rr();if(Qt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),Ce===null)throw Error(s(349));(he&124)!==0||Bg(u,n,o)}p.memoizedState=o;var x={value:o,getSnapshot:n};return p.queue=x,Wg(Pg.bind(null,u,x,e),[e]),u.flags|=2048,Ns(9,Yu(),Rg.bind(null,u,x,o,n),null),o},useId:function(){var e=rr(),n=Ce.identifierPrefix;if(Qt){var o=X,u=P;o=(u&~(1<<32-ye(u)-1)).toString(32)+o,n="«"+n+"R"+o,o=Gu++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=QS++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Kh,useFormState:qg,useActionState:qg,useOptimistic:function(e){var n=rr();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Xh.bind(null,ae,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ih,useCacheRefresh:function(){return rr().memoizedState=rw.bind(null,ae)}},pb={readContext:kn,use:Uu,useCallback:rb,useContext:kn,useEffect:Qg,useImperativeHandle:nb,useInsertionEffect:Jg,useLayoutEffect:tb,useMemo:ib,useReducer:Zu,useRef:Xg,useState:function(){return Zu(Wi)},useDebugValue:qh,useDeferredValue:function(e,n){var o=rn();return ab(o,we.memoizedState,e,n)},useTransition:function(){var e=Zu(Wi)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:Lg,useId:cb,useHostTransitionStatus:Kh,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,n){var o=rn();return Hg(o,we,e,n)},useMemoCache:Ih,useCacheRefresh:ub},aw={readContext:kn,use:Uu,useCallback:rb,useContext:kn,useEffect:Qg,useImperativeHandle:nb,useInsertionEffect:Jg,useLayoutEffect:tb,useMemo:ib,useReducer:Uh,useRef:Xg,useState:function(){return Uh(Wi)},useDebugValue:qh,useDeferredValue:function(e,n){var o=rn();return we===null?Fh(o,e,n):ab(o,we.memoizedState,e,n)},useTransition:function(){var e=Uh(Wi)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:Lg,useId:cb,useHostTransitionStatus:Kh,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var o=rn();return we!==null?Hg(o,we,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:ub},As=null,Kl=0;function Ku(e){var n=Kl;return Kl+=1,As===null&&(As=[]),Mg(As,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Xu(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gb(e){var n=e._init;return n(e._payload)}function bb(e){function n(lt,rt){if(e){var ft=lt.deletions;ft===null?(lt.deletions=[rt],lt.flags|=16):ft.push(rt)}}function o(lt,rt){if(!e)return null;for(;rt!==null;)n(lt,rt),rt=rt.sibling;return null}function u(lt){for(var rt=new Map;lt!==null;)lt.key!==null?rt.set(lt.key,lt):rt.set(lt.index,lt),lt=lt.sibling;return rt}function p(lt,rt){return lt=Lr(lt,rt),lt.index=0,lt.sibling=null,lt}function x(lt,rt,ft){return lt.index=ft,e?(ft=lt.alternate,ft!==null?(ft=ft.index,ft<rt?(lt.flags|=67108866,rt):ft):(lt.flags|=67108866,rt)):(lt.flags|=1048576,rt)}function N(lt){return e&&lt.alternate===null&&(lt.flags|=67108866),lt}function z(lt,rt,ft,Tt){return rt===null||rt.tag!==6?(rt=Pl(ft,lt.mode,Tt),rt.return=lt,rt):(rt=p(rt,ft),rt.return=lt,rt)}function W(lt,rt,ft,Tt){var It=ft.type;return It===M?St(lt,rt,ft.props.children,Tt,ft.key):rt!==null&&(rt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===tt&&gb(It)===rt.type)?(rt=p(rt,ft.props),Xl(rt,ft),rt.return=lt,rt):(rt=Do(ft.type,ft.key,ft.props,null,lt.mode,Tt),Xl(rt,ft),rt.return=lt,rt)}function mt(lt,rt,ft,Tt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ft.containerInfo||rt.stateNode.implementation!==ft.implementation?(rt=xs(ft,lt.mode,Tt),rt.return=lt,rt):(rt=p(rt,ft.children||[]),rt.return=lt,rt)}function St(lt,rt,ft,Tt,It){return rt===null||rt.tag!==7?(rt=_i(ft,lt.mode,Tt,It),rt.return=lt,rt):(rt=p(rt,ft),rt.return=lt,rt)}function Mt(lt,rt,ft){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=Pl(""+rt,lt.mode,ft),rt.return=lt,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case _:return ft=Do(rt.type,rt.key,rt.props,null,lt.mode,ft),Xl(ft,rt),ft.return=lt,ft;case T:return rt=xs(rt,lt.mode,ft),rt.return=lt,rt;case tt:var Tt=rt._init;return rt=Tt(rt._payload),Mt(lt,rt,ft)}if(at(rt)||I(rt))return rt=_i(rt,lt.mode,ft,null),rt.return=lt,rt;if(typeof rt.then=="function")return Mt(lt,Ku(rt),ft);if(rt.$$typeof===D)return Mt(lt,Ru(lt,rt),ft);Xu(lt,rt)}return null}function pt(lt,rt,ft,Tt){var It=rt!==null?rt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return It!==null?null:z(lt,rt,""+ft,Tt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case _:return ft.key===It?W(lt,rt,ft,Tt):null;case T:return ft.key===It?mt(lt,rt,ft,Tt):null;case tt:return It=ft._init,ft=It(ft._payload),pt(lt,rt,ft,Tt)}if(at(ft)||I(ft))return It!==null?null:St(lt,rt,ft,Tt,null);if(typeof ft.then=="function")return pt(lt,rt,Ku(ft),Tt);if(ft.$$typeof===D)return pt(lt,rt,Ru(lt,ft),Tt);Xu(lt,ft)}return null}function bt(lt,rt,ft,Tt,It){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return lt=lt.get(ft)||null,z(rt,lt,""+Tt,It);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case _:return lt=lt.get(Tt.key===null?ft:Tt.key)||null,W(rt,lt,Tt,It);case T:return lt=lt.get(Tt.key===null?ft:Tt.key)||null,mt(rt,lt,Tt,It);case tt:var se=Tt._init;return Tt=se(Tt._payload),bt(lt,rt,ft,Tt,It)}if(at(Tt)||I(Tt))return lt=lt.get(ft)||null,St(rt,lt,Tt,It,null);if(typeof Tt.then=="function")return bt(lt,rt,ft,Ku(Tt),It);if(Tt.$$typeof===D)return bt(lt,rt,ft,Ru(rt,Tt),It);Xu(rt,Tt)}return null}function Wt(lt,rt,ft,Tt){for(var It=null,se=null,qt=rt,Xt=rt=0,pn=null;qt!==null&&Xt<ft.length;Xt++){qt.index>Xt?(pn=qt,qt=null):pn=qt.sibling;var ge=pt(lt,qt,ft[Xt],Tt);if(ge===null){qt===null&&(qt=pn);break}e&&qt&&ge.alternate===null&&n(lt,qt),rt=x(ge,rt,Xt),se===null?It=ge:se.sibling=ge,se=ge,qt=pn}if(Xt===ft.length)return o(lt,qt),Qt&&ut(lt,Xt),It;if(qt===null){for(;Xt<ft.length;Xt++)qt=Mt(lt,ft[Xt],Tt),qt!==null&&(rt=x(qt,rt,Xt),se===null?It=qt:se.sibling=qt,se=qt);return Qt&&ut(lt,Xt),It}for(qt=u(qt);Xt<ft.length;Xt++)pn=bt(qt,lt,Xt,ft[Xt],Tt),pn!==null&&(e&&pn.alternate!==null&&qt.delete(pn.key===null?Xt:pn.key),rt=x(pn,rt,Xt),se===null?It=pn:se.sibling=pn,se=pn);return e&&qt.forEach(function(to){return n(lt,to)}),Qt&&ut(lt,Xt),It}function Kt(lt,rt,ft,Tt){if(ft==null)throw Error(s(151));for(var It=null,se=null,qt=rt,Xt=rt=0,pn=null,ge=ft.next();qt!==null&&!ge.done;Xt++,ge=ft.next()){qt.index>Xt?(pn=qt,qt=null):pn=qt.sibling;var to=pt(lt,qt,ge.value,Tt);if(to===null){qt===null&&(qt=pn);break}e&&qt&&to.alternate===null&&n(lt,qt),rt=x(to,rt,Xt),se===null?It=to:se.sibling=to,se=to,qt=pn}if(ge.done)return o(lt,qt),Qt&&ut(lt,Xt),It;if(qt===null){for(;!ge.done;Xt++,ge=ft.next())ge=Mt(lt,ge.value,Tt),ge!==null&&(rt=x(ge,rt,Xt),se===null?It=ge:se.sibling=ge,se=ge);return Qt&&ut(lt,Xt),It}for(qt=u(qt);!ge.done;Xt++,ge=ft.next())ge=bt(qt,lt,Xt,ge.value,Tt),ge!==null&&(e&&ge.alternate!==null&&qt.delete(ge.key===null?Xt:ge.key),rt=x(ge,rt,Xt),se===null?It=ge:se.sibling=ge,se=ge);return e&&qt.forEach(function(oT){return n(lt,oT)}),Qt&&ut(lt,Xt),It}function Ee(lt,rt,ft,Tt){if(typeof ft=="object"&&ft!==null&&ft.type===M&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case _:t:{for(var It=ft.key;rt!==null;){if(rt.key===It){if(It=ft.type,It===M){if(rt.tag===7){o(lt,rt.sibling),Tt=p(rt,ft.props.children),Tt.return=lt,lt=Tt;break t}}else if(rt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===tt&&gb(It)===rt.type){o(lt,rt.sibling),Tt=p(rt,ft.props),Xl(Tt,ft),Tt.return=lt,lt=Tt;break t}o(lt,rt);break}else n(lt,rt);rt=rt.sibling}ft.type===M?(Tt=_i(ft.props.children,lt.mode,Tt,ft.key),Tt.return=lt,lt=Tt):(Tt=Do(ft.type,ft.key,ft.props,null,lt.mode,Tt),Xl(Tt,ft),Tt.return=lt,lt=Tt)}return N(lt);case T:t:{for(It=ft.key;rt!==null;){if(rt.key===It)if(rt.tag===4&&rt.stateNode.containerInfo===ft.containerInfo&&rt.stateNode.implementation===ft.implementation){o(lt,rt.sibling),Tt=p(rt,ft.children||[]),Tt.return=lt,lt=Tt;break t}else{o(lt,rt);break}else n(lt,rt);rt=rt.sibling}Tt=xs(ft,lt.mode,Tt),Tt.return=lt,lt=Tt}return N(lt);case tt:return It=ft._init,ft=It(ft._payload),Ee(lt,rt,ft,Tt)}if(at(ft))return Wt(lt,rt,ft,Tt);if(I(ft)){if(It=I(ft),typeof It!="function")throw Error(s(150));return ft=It.call(ft),Kt(lt,rt,ft,Tt)}if(typeof ft.then=="function")return Ee(lt,rt,Ku(ft),Tt);if(ft.$$typeof===D)return Ee(lt,rt,Ru(lt,ft),Tt);Xu(lt,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,rt!==null&&rt.tag===6?(o(lt,rt.sibling),Tt=p(rt,ft),Tt.return=lt,lt=Tt):(o(lt,rt),Tt=Pl(ft,lt.mode,Tt),Tt.return=lt,lt=Tt),N(lt)):o(lt,rt)}return function(lt,rt,ft,Tt){try{Kl=0;var It=Ee(lt,rt,ft,Tt);return As=null,It}catch(qt){if(qt===Hl||qt===zu)throw qt;var se=In(29,qt,null,lt.mode);return se.lanes=Tt,se.return=lt,se}finally{}}}var Ds=bb(!0),yb=bb(!1),Rr=H(null),wi=null;function $a(e){var n=e.alternate;J(sn,sn.current&1),J(Rr,e),wi===null&&(n===null||Ts.current!==null||n.memoizedState!==null)&&(wi=e)}function vb(e){if(e.tag===22){if(J(sn,sn.current),J(Rr,e),wi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(wi=e)}}else Ha()}function Ha(){J(sn,sn.current),J(Rr,Rr.current)}function Qi(e){Z(Rr),wi===e&&(wi=null),Z(sn)}var sn=H(0);function Wu(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Hm(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Wh(e,n,o,u){n=e.memoizedState,o=o(u,n),o=o==null?n:v({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Qh={enqueueSetState:function(e,n,o){e=e._reactInternals;var u=yr(),p=Ra(u);p.payload=n,o!=null&&(p.callback=o),n=Pa(e,p,u),n!==null&&(vr(n,e,u),Gl(n,e,u))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var u=yr(),p=Ra(u);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=Pa(e,p,u),n!==null&&(vr(n,e,u),Gl(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=yr(),u=Ra(o);u.tag=2,n!=null&&(u.callback=n),n=Pa(e,u,o),n!==null&&(vr(n,e,o),Gl(n,e,o))}};function xb(e,n,o,u,p,x,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,x,N):n.prototype&&n.prototype.isPureReactComponent?!zn(o,u)||!zn(p,x):!0}function _b(e,n,o,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==e&&Qh.enqueueReplaceState(n,n.state,null)}function Ro(e,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(e=e.defaultProps){o===n&&(o=v({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sb(e){Qu(e)}function wb(e){console.error(e)}function Tb(e){Qu(e)}function Ju(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Eb(e,n,o){try{var u=e.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jh(e,n,o){return o=Ra(o),o.tag=3,o.payload={element:null},o.callback=function(){Ju(e,n)},o}function Mb(e){return e=Ra(e),e.tag=3,e}function Nb(e,n,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var x=u.value;e.payload=function(){return p(x)},e.callback=function(){Eb(n,o,u)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Eb(n,o,u),typeof p!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})})}function ow(e,n,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&Oo(n,o,p,!0),o=Rr.current,o!==null){switch(o.tag){case 13:return wi===null?wm():o.alternate===null&&Ke===0&&(Ke=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Ah?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),Em(e,u,p)),!1;case 22:return o.flags|=65536,u===Ah?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),Em(e,u,p)),!1}throw Error(s(435,o.tag))}return Em(e,u,p),wm(),!1}if(Qt)return n=Rr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,u!==fn&&(e=Error(s(422),{cause:u}),La($n(e,o)))):(u!==fn&&(n=Error(s(423),{cause:u}),La($n(n,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,u=$n(u,o),p=Jh(e.stateNode,u,p),kh(e,p),Ke!==4&&(Ke=2)),!1;var x=Error(s(520),{cause:u});if(x=$n(x,o),rc===null?rc=[x]:rc.push(x),Ke!==4&&(Ke=2),n===null)return!0;u=$n(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=Jh(o.stateNode,u,e),kh(o,e),!1;case 1:if(n=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qa===null||!qa.has(x))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Mb(p),Nb(p,e,o,u),kh(o,p),!1}o=o.return}while(o!==null);return!1}var Ab=Error(s(461)),hn=!1;function _n(e,n,o,u){n.child=e===null?yb(n,null,o,u):Ds(n,e.child,o,u)}function Db(e,n,o,u,p){o=o.render;var x=n.ref;if("ref"in u){var N={};for(var z in u)z!=="ref"&&(N[z]=u[z])}else N=u;return Co(n),u=Rh(e,n,o,N,x,p),z=Ph(),e!==null&&!hn?(zh(e,n,p),Ji(e,n,p)):(Qt&&z&&Nt(n),n.flags|=1,_n(e,n,u,p),n.child)}function jb(e,n,o,u,p){if(e===null){var x=o.type;return typeof x=="function"&&!vs(x)&&x.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=x,kb(e,n,x,u,p)):(e=Do(o.type,null,u,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(x=e.child,!sm(e,p)){var N=x.memoizedProps;if(o=o.compare,o=o!==null?o:zn,o(N,u)&&e.ref===n.ref)return Ji(e,n,p)}return n.flags|=1,e=Lr(x,u),e.ref=n.ref,e.return=n,n.child=e}function kb(e,n,o,u,p){if(e!==null){var x=e.memoizedProps;if(zn(x,u)&&e.ref===n.ref)if(hn=!1,n.pendingProps=u=x,sm(e,p))(e.flags&131072)!==0&&(hn=!0);else return n.lanes=e.lanes,Ji(e,n,p)}return tm(e,n,o,u,p)}function Ob(e,n,o){var u=n.pendingProps,p=u.children,x=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=x!==null?x.baseLanes|o:o,e!==null){for(p=n.child=e.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;n.childLanes=x&~u}else n.childLanes=0,n.child=null;return Cb(e,n,u,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(n,x!==null?x.cachePool:null),x!==null?kg(n,x):Ch(),vb(n);else return n.lanes=n.childLanes=536870912,Cb(e,n,x!==null?x.baseLanes|o:o,o)}else x!==null?(Pu(n,x.cachePool),kg(n,x),Ha(),n.memoizedState=null):(e!==null&&Pu(n,null),Ch(),Ha());return _n(e,n,p,o),n.child}function Cb(e,n,o,u){var p=Nh();return p=p===null?null:{parent:on._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&Pu(n,null),Ch(),vb(n),e!==null&&Oo(e,n,u,!0),null}function td(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function tm(e,n,o,u,p){return Co(n),o=Rh(e,n,o,u,void 0,p),u=Ph(),e!==null&&!hn?(zh(e,n,p),Ji(e,n,p)):(Qt&&u&&Nt(n),n.flags|=1,_n(e,n,o,p),n.child)}function Lb(e,n,o,u,p,x){return Co(n),n.updateQueue=null,o=Cg(n,u,o,p),Og(e),u=Ph(),e!==null&&!hn?(zh(e,n,x),Ji(e,n,x)):(Qt&&u&&Nt(n),n.flags|=1,_n(e,n,o,x),n.child)}function Bb(e,n,o,u,p){if(Co(n),n.stateNode===null){var x=Ki,N=o.contextType;typeof N=="object"&&N!==null&&(x=kn(N)),x=new o(u,x),n.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Qh,n.stateNode=x,x._reactInternals=n,x=n.stateNode,x.props=u,x.state=n.memoizedState,x.refs={},Dh(n),N=o.contextType,x.context=typeof N=="object"&&N!==null?kn(N):Ki,x.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Wh(n,o,N,u),x.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&Qh.enqueueReplaceState(x,x.state,null),Zl(n,u,x,p),Ul(),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){x=n.stateNode;var z=n.memoizedProps,W=Ro(o,z);x.props=W;var mt=x.context,St=o.contextType;N=Ki,typeof St=="object"&&St!==null&&(N=kn(St));var Mt=o.getDerivedStateFromProps;St=typeof Mt=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=n.pendingProps!==z,St||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||mt!==N)&&_b(n,x,u,N),Ba=!1;var pt=n.memoizedState;x.state=pt,Zl(n,u,x,p),Ul(),mt=n.memoizedState,z||pt!==mt||Ba?(typeof Mt=="function"&&(Wh(n,o,Mt,u),mt=n.memoizedState),(W=Ba||xb(n,o,W,u,pt,mt,N))?(St||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=mt),x.props=u,x.state=mt,x.context=N,u=W):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{x=n.stateNode,jh(e,n),N=n.memoizedProps,St=Ro(o,N),x.props=St,Mt=n.pendingProps,pt=x.context,mt=o.contextType,W=Ki,typeof mt=="object"&&mt!==null&&(W=kn(mt)),z=o.getDerivedStateFromProps,(mt=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==Mt||pt!==W)&&_b(n,x,u,W),Ba=!1,pt=n.memoizedState,x.state=pt,Zl(n,u,x,p),Ul();var bt=n.memoizedState;N!==Mt||pt!==bt||Ba||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof z=="function"&&(Wh(n,o,z,u),bt=n.memoizedState),(St=Ba||xb(n,o,St,u,pt,bt,W)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(mt||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,bt,W),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,bt,W)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=bt),x.props=u,x.state=bt,x.context=W,u=St):(typeof x.componentDidUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&pt===e.memoizedState||(n.flags|=1024),u=!1)}return x=u,td(e,n),u=(n.flags&128)!==0,x||u?(x=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:x.render(),n.flags|=1,e!==null&&u?(n.child=Ds(n,e.child,null,p),n.child=Ds(n,null,o,p)):_n(e,n,o,p),n.memoizedState=x.state,e=n.child):e=Ji(e,n,p),e}function Rb(e,n,o,u){return Ca(),n.flags|=256,_n(e,n,o,u),n.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(e){return{baseLanes:e,cachePool:wg()}}function rm(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Pr),e}function Pb(e,n,o){var u=n.pendingProps,p=!1,x=(n.flags&128)!==0,N;if((N=x)||(N=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),N&&(p=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(p?$a(n):Ha(),Qt){var z=Gt,W;if(W=z){t:{for(W=z,z=Ze;W.nodeType!==8;){if(!z){z=null;break t}if(W=li(W.nextSibling),W===null){z=null;break t}}z=W}z!==null?(n.memoizedState={dehydrated:z,treeContext:E!==null?{id:P,overflow:X}:null,retryLane:536870912,hydrationErrors:null},W=In(18,null,null,0),W.stateNode=z,W.return=n,n.child=W,$t=n,Gt=null,W=!0):W=!1}W||nr(n)}if(z=n.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Hm(z)?n.lanes=32:n.lanes=536870912,null;Qi(n)}return z=u.children,u=u.fallback,p?(Ha(),p=n.mode,z=ed({mode:"hidden",children:z},p),u=_i(u,p,o,null),z.return=n,u.return=n,z.sibling=u,n.child=z,p=n.child,p.memoizedState=nm(o),p.childLanes=rm(e,N,o),n.memoizedState=em,u):($a(n),im(n,z))}if(W=e.memoizedState,W!==null&&(z=W.dehydrated,z!==null)){if(x)n.flags&256?($a(n),n.flags&=-257,n=am(e,n,o)):n.memoizedState!==null?(Ha(),n.child=e.child,n.flags|=128,n=null):(Ha(),p=u.fallback,z=n.mode,u=ed({mode:"visible",children:u.children},z),p=_i(p,z,o,null),p.flags|=2,u.return=n,p.return=n,u.sibling=p,n.child=u,Ds(n,e.child,null,o),u=n.child,u.memoizedState=nm(o),u.childLanes=rm(e,N,o),n.memoizedState=em,n=p);else if($a(n),Hm(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var mt=N.dgst;N=mt,u=Error(s(419)),u.stack="",u.digest=N,La({value:u,source:null,stack:null}),n=am(e,n,o)}else if(hn||Oo(e,n,o,!1),N=(o&e.childLanes)!==0,hn||N){if(N=Ce,N!==null&&(u=o&-o,u=(u&42)!==0?1:bl(u),u=(u&(N.suspendedLanes|o))!==0?0:u,u!==0&&u!==W.retryLane))throw W.retryLane=u,ka(e,u),vr(N,e,u),Ab;z.data==="$?"||wm(),n=am(e,n,o)}else z.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=W.treeContext,Gt=li(z.nextSibling),$t=n,Qt=!0,Oe=null,Ze=!1,e!==null&&(h[w++]=P,h[w++]=X,h[w++]=E,P=e.id,X=e.overflow,E=n),n=im(n,u.children),n.flags|=4096);return n}return p?(Ha(),p=u.fallback,z=n.mode,W=e.child,mt=W.sibling,u=Lr(W,{mode:"hidden",children:u.children}),u.subtreeFlags=W.subtreeFlags&65011712,mt!==null?p=Lr(mt,p):(p=_i(p,z,o,null),p.flags|=2),p.return=n,u.return=n,u.sibling=p,n.child=u,u=p,p=n.child,z=e.child.memoizedState,z===null?z=nm(o):(W=z.cachePool,W!==null?(mt=on._currentValue,W=W.parent!==mt?{parent:mt,pool:mt}:W):W=wg(),z={baseLanes:z.baseLanes|o,cachePool:W}),p.memoizedState=z,p.childLanes=rm(e,N,o),n.memoizedState=em,u):($a(n),o=e.child,e=o.sibling,o=Lr(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=o,n.memoizedState=null,o)}function im(e,n){return n=ed({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ed(e,n){return e=In(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function am(e,n,o){return Ds(n,e.child,null,o),e=im(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zb(e,n,o){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),ko(e.return,n,o)}function om(e,n,o,u,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=p)}function $b(e,n,o){var u=n.pendingProps,p=u.revealOrder,x=u.tail;if(_n(e,n,u.children,o),u=sn.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zb(e,o,n);else if(e.tag===19)zb(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(J(sn,u),p){case"forwards":for(o=n.child,p=null;o!==null;)e=o.alternate,e!==null&&Wu(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=n.child,n.child=null):(p=o.sibling,o.sibling=null),om(n,!1,p,o,x);break;case"backwards":for(o=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Wu(e)===null){n.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}om(n,!0,o,null,x);break;case"together":om(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ji(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ya|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Oo(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Lr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Lr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function sm(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function sw(e,n,o){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Si(n,on,e.memoizedState.cache),Ca();break;case 27:case 5:Ct(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Si(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?($a(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Pb(e,n,o):($a(n),e=Ji(e,n,o),e!==null?e.sibling:null);$a(n);break;case 19:var p=(e.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(Oo(e,n,o,!1),u=(o&n.childLanes)!==0),p){if(u)return $b(e,n,o);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(sn,sn.current),u)break;return null;case 22:case 23:return n.lanes=0,Ob(e,n,o);case 24:Si(n,on,e.memoizedState.cache)}return Ji(e,n,o)}function Hb(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)hn=!0;else{if(!sm(e,o)&&(n.flags&128)===0)return hn=!1,sw(e,n,o);hn=(e.flags&131072)!==0}else hn=!1,Qt&&(n.flags&1048576)!==0&&yt(n,l,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var u=n.elementType,p=u._init;if(u=p(u._payload),n.type=u,typeof u=="function")vs(u)?(e=Ro(u,e),n.tag=1,n=Bb(null,n,u,e,o)):(n.tag=0,n=tm(null,n,u,e,o));else{if(u!=null){if(p=u.$$typeof,p===C){n.tag=11,n=Db(null,n,u,e,o);break t}else if(p===F){n.tag=14,n=jb(null,n,u,e,o);break t}}throw n=nt(u)||u,Error(s(306,n,""))}}return n;case 0:return tm(e,n,n.type,n.pendingProps,o);case 1:return u=n.type,p=Ro(u,n.pendingProps),Bb(e,n,u,p,o);case 3:t:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));u=n.pendingProps;var x=n.memoizedState;p=x.element,jh(e,n),Zl(n,u,null,o);var N=n.memoizedState;if(u=N.cache,Si(n,on,u),u!==x.cache&&_s(n,[on],o,!0),Ul(),u=N.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){n=Rb(e,n,u,o);break t}else if(u!==p){p=$n(Error(s(424)),n),La(p),n=Rb(e,n,u,o);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Gt=li(e.firstChild),$t=n,Qt=!0,Oe=null,Ze=!0,o=yb(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ca(),u===p){n=Ji(e,n,o);break t}_n(e,n,u,o)}n=n.child}return n;case 26:return td(e,n),e===null?(o=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=o:Qt||(o=n.type,e=n.pendingProps,u=pd(Y.current).createElement(o),u[un]=n,u[An]=e,wn(u,o,e),en(u),n.stateNode=u):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ct(n),e===null&&Qt&&(u=n.stateNode=Iy(n.type,n.pendingProps,Y.current),$t=n,Ze=!0,p=Gt,Ka(n.type)?(Im=p,Gt=li(u.firstChild)):Gt=p),_n(e,n,n.pendingProps.children,o),td(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((p=u=Gt)&&(u=Bw(u,n.type,n.pendingProps,Ze),u!==null?(n.stateNode=u,$t=n,Gt=li(u.firstChild),Ze=!1,p=!0):p=!1),p||nr(n)),Ct(n),p=n.type,x=n.pendingProps,N=e!==null?e.memoizedProps:null,u=x.children,Pm(p,x)?u=null:N!==null&&Pm(p,N)&&(n.flags|=32),n.memoizedState!==null&&(p=Rh(e,n,JS,null,null,o),fc._currentValue=p),td(e,n),_n(e,n,u,o),n.child;case 6:return e===null&&Qt&&((e=o=Gt)&&(o=Rw(o,n.pendingProps,Ze),o!==null?(n.stateNode=o,$t=n,Gt=null,e=!0):e=!1),e||nr(n)),null;case 13:return Pb(e,n,o);case 4:return gt(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Ds(n,null,u,o):_n(e,n,u,o),n.child;case 11:return Db(e,n,n.type,n.pendingProps,o);case 7:return _n(e,n,n.pendingProps,o),n.child;case 8:return _n(e,n,n.pendingProps.children,o),n.child;case 12:return _n(e,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,Si(n,n.type,u.value),_n(e,n,u.children,o),n.child;case 9:return p=n.type._context,u=n.pendingProps.children,Co(n),p=kn(p),u=u(p),n.flags|=1,_n(e,n,u,o),n.child;case 14:return jb(e,n,n.type,n.pendingProps,o);case 15:return kb(e,n,n.type,n.pendingProps,o);case 19:return $b(e,n,o);case 31:return u=n.pendingProps,o=n.mode,u={mode:u.mode,children:u.children},e===null?(o=ed(u,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Lr(e.child,u),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return Ob(e,n,o);case 24:return Co(n),u=kn(on),e===null?(p=Nh(),p===null&&(p=Ce,x=Eh(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=o),p=x),n.memoizedState={parent:u,cache:p},Dh(n),Si(n,on,p)):((e.lanes&o)!==0&&(jh(e,n),Zl(n,null,null,o),Ul()),p=e.memoizedState,x=n.memoizedState,p.parent!==u?(p={parent:u,cache:u},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Si(n,on,u)):(u=x.cache,Si(n,on,u),u!==p.cache&&_s(n,[on],o,!0))),_n(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ta(e){e.flags|=4}function Ib(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ky(n)){if(n=Rr.current,n!==null&&((he&4194048)===he?wi!==null:(he&62914560)!==he&&(he&536870912)===0||n!==wi))throw Il=Ah,Tg;e.flags|=8192}}function nd(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ti():536870912,e.lanes|=n,Cs|=n)}function Wl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(n)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=o,n}function lw(e,n,o){var u=n.pendingProps;switch(Lt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return Ye(n),null;case 3:return o=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),oi(on),Et(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(jo(n)?ta(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lu())),Ye(n),null;case 26:return o=n.memoizedState,e===null?(ta(n),o!==null?(Ye(n),Ib(n,o)):(Ye(n),n.flags&=-16777217)):o?o!==e.memoizedState?(ta(n),Ye(n),Ib(n,o)):(Ye(n),n.flags&=-16777217):(e.memoizedProps!==u&&ta(n),Ye(n),n.flags&=-16777217),null;case 27:Pt(n),o=Y.current;var p=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&ta(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}e=V.current,jo(n)?Ou(n):(e=Iy(p,u,o),n.stateNode=e,ta(n))}return Ye(n),null;case 5:if(Pt(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&ta(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return Ye(n),null}if(e=V.current,jo(n))Ou(n);else{switch(p=pd(Y.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}e[un]=n,e[An]=u;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=e;t:switch(wn(e,o,u),o){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ta(n)}}return Ye(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&ta(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(e=Y.current,jo(n)){if(e=n.stateNode,o=n.memoizedProps,u=null,p=$t,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}e[un]=n,e=!!(e.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ly(e.nodeValue,o)),e||nr(n)}else e=pd(e).createTextNode(u),e[un]=n,n.stateNode=e}return Ye(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=jo(n),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[un]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ye(n),p=!1}else p=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Qi(n),n):(Qi(n),null)}if(Qi(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=u!==null,e=e!==null&&e.memoizedState!==null,o){u=n.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var x=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==p&&(u.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),nd(n,n.updateQueue),Ye(n),null;case 4:return Et(),e===null&&Om(n.stateNode.containerInfo),Ye(n),null;case 10:return oi(n.type),Ye(n),null;case 19:if(Z(sn),p=n.memoizedState,p===null)return Ye(n),null;if(u=(n.flags&128)!==0,x=p.rendering,x===null)if(u)Wl(p,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=Wu(e),x!==null){for(n.flags|=128,Wl(p,!1),e=x.updateQueue,n.updateQueue=e,nd(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Rl(o,e),o=o.sibling;return J(sn,sn.current&1|2),n.child}e=e.sibling}p.tail!==null&&Yt()>ad&&(n.flags|=128,u=!0,Wl(p,!1),n.lanes=4194304)}else{if(!u)if(e=Wu(x),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,nd(n,e),Wl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Qt)return Ye(n),null}else 2*Yt()-p.renderingStartTime>ad&&o!==536870912&&(n.flags|=128,u=!0,Wl(p,!1),n.lanes=4194304);p.isBackwards?(x.sibling=n.child,n.child=x):(e=p.last,e!==null?e.sibling=x:n.child=x,p.last=x)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Yt(),n.sibling=null,e=sn.current,J(sn,u?e&1|2:e&1),n):(Ye(n),null);case 22:case 23:return Qi(n),Lh(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),o=n.updateQueue,o!==null&&nd(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),e!==null&&Z(Lo),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),oi(on),Ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function cw(e,n){switch(Lt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return oi(on),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pt(n),null;case 13:if(Qi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Z(sn),null;case 4:return Et(),null;case 10:return oi(n.type),null;case 22:case 23:return Qi(n),Lh(),e!==null&&Z(Lo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return oi(on),null;case 25:return null;default:return null}}function Gb(e,n){switch(Lt(n),n.tag){case 3:oi(on),Et();break;case 26:case 27:case 5:Pt(n);break;case 4:Et();break;case 13:Qi(n);break;case 19:Z(sn);break;case 10:oi(n.type);break;case 22:case 23:Qi(n),Lh(),e!==null&&Z(Lo);break;case 24:oi(on)}}function Ql(e,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&e)===e){u=void 0;var x=o.create,N=o.inst;u=x(),N.destroy=u}o=o.next}while(o!==p)}}catch(z){Ae(n,n.return,z)}}function Ia(e,n,o){try{var u=n.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var x=p.next;u=x;do{if((u.tag&e)===e){var N=u.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,p=n;var W=o,mt=z;try{mt()}catch(St){Ae(p,W,St)}}}u=u.next}while(u!==x)}}catch(St){Ae(n,n.return,St)}}function Ub(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{jg(n,o)}catch(u){Ae(e,e.return,u)}}}function Zb(e,n,o){o.props=Ro(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(u){Ae(e,n,u)}}function Jl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof o=="function"?e.refCleanup=o(u):o.current=u}}catch(p){Ae(e,n,p)}}function Ti(e,n){var o=e.ref,u=e.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ae(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ae(e,n,p)}else o.current=null}function Yb(e){var n=e.type,o=e.memoizedProps,u=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ae(e,e.return,p)}}function lm(e,n,o){try{var u=e.stateNode;jw(u,e.type,o,n),u[An]=n}catch(p){Ae(e,e.return,p)}}function qb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function cm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function um(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=md));else if(u!==4&&(u===27&&Ka(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(um(e,n,o),e=e.sibling;e!==null;)um(e,n,o),e=e.sibling}function rd(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(u!==4&&(u===27&&Ka(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(rd(e,n,o),e=e.sibling;e!==null;)rd(e,n,o),e=e.sibling}function Fb(e){var n=e.stateNode,o=e.memoizedProps;try{for(var u=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);wn(n,u,o),n[un]=e,n[An]=o}catch(x){Ae(e,e.return,x)}}var ea=!1,Je=!1,dm=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,mn=null;function uw(e,n){if(e=e.containerInfo,Bm=_d,e=wo(e),To(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break t}var N=0,z=-1,W=-1,mt=0,St=0,Mt=e,pt=null;e:for(;;){for(var bt;Mt!==o||p!==0&&Mt.nodeType!==3||(z=N+p),Mt!==x||u!==0&&Mt.nodeType!==3||(W=N+u),Mt.nodeType===3&&(N+=Mt.nodeValue.length),(bt=Mt.firstChild)!==null;)pt=Mt,Mt=bt;for(;;){if(Mt===e)break e;if(pt===o&&++mt===p&&(z=N),pt===x&&++St===u&&(W=N),(bt=Mt.nextSibling)!==null)break;Mt=pt,pt=Mt.parentNode}Mt=bt}o=z===-1||W===-1?null:{start:z,end:W}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rm={focusedElem:e,selectionRange:o},_d=!1,mn=n;mn!==null;)if(n=mn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,mn=e;else for(;mn!==null;){switch(n=mn,x=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,o=n,p=x.memoizedProps,x=x.memoizedState,u=o.stateNode;try{var Wt=Ro(o.type,p,o.elementType===o.type);e=u.getSnapshotBeforeUpdate(Wt,x),u.__reactInternalSnapshotBeforeUpdate=e}catch(Kt){Ae(o,o.return,Kt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)$m(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$m(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,mn=e;break}mn=n.return}}function Kb(e,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ga(e,o),u&4&&Ql(5,o);break;case 1:if(Ga(e,o),u&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(N){Ae(o,o.return,N)}else{var p=Ro(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Ae(o,o.return,N)}}u&64&&Ub(o),u&512&&Jl(o,o.return);break;case 3:if(Ga(e,o),u&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{jg(e,n)}catch(N){Ae(o,o.return,N)}}break;case 27:n===null&&u&4&&Fb(o);case 26:case 5:Ga(e,o),n===null&&u&4&&Yb(o),u&512&&Jl(o,o.return);break;case 12:Ga(e,o);break;case 13:Ga(e,o),u&4&&Qb(e,o),u&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=vw.bind(null,o),Pw(e,o))));break;case 22:if(u=o.memoizedState!==null||ea,!u){n=n!==null&&n.memoizedState!==null||Je,p=ea;var x=Je;ea=u,(Je=n)&&!x?Ua(e,o,(o.subtreeFlags&8772)!==0):Ga(e,o),ea=p,Je=x}break;case 30:break;default:Ga(e,o)}}function Xb(e){var n=e.alternate;n!==null&&(e.alternate=null,Xb(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ns(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,ir=!1;function na(e,n,o){for(o=o.child;o!==null;)Wb(e,n,o),o=o.sibling}function Wb(e,n,o){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(ne,o)}catch{}switch(o.tag){case 26:Je||Ti(o,n),na(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Je||Ti(o,n);var u=He,p=ir;Ka(o.type)&&(He=o.stateNode,ir=!1),na(e,n,o),lc(o.stateNode),He=u,ir=p;break;case 5:Je||Ti(o,n);case 6:if(u=He,p=ir,He=null,na(e,n,o),He=u,ir=p,He!==null)if(ir)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(o.stateNode)}catch(x){Ae(o,n,x)}else try{He.removeChild(o.stateNode)}catch(x){Ae(o,n,x)}break;case 18:He!==null&&(ir?(e=He,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),gc(e)):$y(He,o.stateNode));break;case 4:u=He,p=ir,He=o.stateNode.containerInfo,ir=!0,na(e,n,o),He=u,ir=p;break;case 0:case 11:case 14:case 15:Je||Ia(2,o,n),Je||Ia(4,o,n),na(e,n,o);break;case 1:Je||(Ti(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Zb(o,n,u)),na(e,n,o);break;case 21:na(e,n,o);break;case 22:Je=(u=Je)||o.memoizedState!==null,na(e,n,o),Je=u;break;default:na(e,n,o)}}function Qb(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gc(e)}catch(o){Ae(n,n.return,o)}}function dw(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vb),n;default:throw Error(s(435,e.tag))}}function fm(e,n){var o=dw(e);n.forEach(function(u){var p=xw.bind(null,e,u);o.has(u)||(o.add(u),u.then(p,p))})}function pr(e,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],x=e,N=n,z=N;t:for(;z!==null;){switch(z.tag){case 27:if(Ka(z.type)){He=z.stateNode,ir=!1;break t}break;case 5:He=z.stateNode,ir=!1;break t;case 3:case 4:He=z.stateNode.containerInfo,ir=!0;break t}z=z.return}if(He===null)throw Error(s(160));Wb(x,N,p),He=null,ir=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Jb(n,e),n=n.sibling}var si=null;function Jb(e,n){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pr(n,e),gr(e),u&4&&(Ia(3,e,e.return),Ql(3,e),Ia(5,e,e.return));break;case 1:pr(n,e),gr(e),u&512&&(Je||o===null||Ti(o,o.return)),u&64&&ea&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=si;if(pr(n,e),gr(e),u&512&&(Je||o===null||Ti(o,o.return)),u&4){var x=o!==null?o.memoizedState:null;if(u=e.memoizedState,o===null)if(u===null)if(e.stateNode===null){t:{u=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":x=p.getElementsByTagName("title")[0],(!x||x[fa]||x[un]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(u),p.head.insertBefore(x,p.querySelector("head > title"))),wn(x,u,o),x[un]=e,en(x),u=x;break t;case"link":var N=Fy("link","href",p).get(u+(o.href||""));if(N){for(var z=0;z<N.length;z++)if(x=N[z],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(z,1);break e}}x=p.createElement(u),wn(x,u,o),p.head.appendChild(x);break;case"meta":if(N=Fy("meta","content",p).get(u+(o.content||""))){for(z=0;z<N.length;z++)if(x=N[z],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(z,1);break e}}x=p.createElement(u),wn(x,u,o),p.head.appendChild(x);break;default:throw Error(s(468,u))}x[un]=e,en(x),u=x}e.stateNode=u}else Vy(p,e.type,e.stateNode);else e.stateNode=qy(p,u,e.memoizedProps);else x!==u?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,u===null?Vy(p,e.type,e.stateNode):qy(p,u,e.memoizedProps)):u===null&&e.stateNode!==null&&lm(e,e.memoizedProps,o.memoizedProps)}break;case 27:pr(n,e),gr(e),u&512&&(Je||o===null||Ti(o,o.return)),o!==null&&u&4&&lm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pr(n,e),gr(e),u&512&&(Je||o===null||Ti(o,o.return)),e.flags&32){p=e.stateNode;try{Dr(p,"")}catch(bt){Ae(e,e.return,bt)}}u&4&&e.stateNode!=null&&(p=e.memoizedProps,lm(e,p,o!==null?o.memoizedProps:p)),u&1024&&(dm=!0);break;case 6:if(pr(n,e),gr(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,o=e.stateNode;try{o.nodeValue=u}catch(bt){Ae(e,e.return,bt)}}break;case 3:if(yd=null,p=si,si=gd(n.containerInfo),pr(n,e),si=p,gr(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{gc(n.containerInfo)}catch(bt){Ae(e,e.return,bt)}dm&&(dm=!1,ty(e));break;case 4:u=si,si=gd(e.stateNode.containerInfo),pr(n,e),gr(e),si=u;break;case 12:pr(n,e),gr(e);break;case 13:pr(n,e),gr(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ym=Yt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,fm(e,u)));break;case 22:p=e.memoizedState!==null;var W=o!==null&&o.memoizedState!==null,mt=ea,St=Je;if(ea=mt||p,Je=St||W,pr(n,e),Je=St,ea=mt,gr(e),u&8192)t:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(o===null||W||ea||Je||Po(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){W=o=n;try{if(x=W.stateNode,p)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=W.stateNode;var Mt=W.memoizedProps.style,pt=Mt!=null&&Mt.hasOwnProperty("display")?Mt.display:null;z.style.display=pt==null||typeof pt=="boolean"?"":(""+pt).trim()}}catch(bt){Ae(W,W.return,bt)}}}else if(n.tag===6){if(o===null){W=n;try{W.stateNode.nodeValue=p?"":W.memoizedProps}catch(bt){Ae(W,W.return,bt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,fm(e,o))));break;case 19:pr(n,e),gr(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,fm(e,u)));break;case 30:break;case 21:break;default:pr(n,e),gr(e)}}function gr(e){var n=e.flags;if(n&2){try{for(var o,u=e.return;u!==null;){if(qb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,x=cm(e);rd(e,x,p);break;case 5:var N=o.stateNode;o.flags&32&&(Dr(N,""),o.flags&=-33);var z=cm(e);rd(e,z,N);break;case 3:case 4:var W=o.stateNode.containerInfo,mt=cm(e);um(e,mt,W);break;default:throw Error(s(161))}}catch(St){Ae(e,e.return,St)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ga(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kb(e,n.alternate,n),n=n.sibling}function Po(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),Po(n);break;case 1:Ti(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Zb(n,n.return,o),Po(n);break;case 27:lc(n.stateNode);case 26:case 5:Ti(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}e=e.sibling}}function Ua(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,p=e,x=n,N=x.flags;switch(x.tag){case 0:case 11:case 15:Ua(p,x,o),Ql(4,x);break;case 1:if(Ua(p,x,o),u=x,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(mt){Ae(u,u.return,mt)}if(u=x,p=u.updateQueue,p!==null){var z=u.stateNode;try{var W=p.shared.hiddenCallbacks;if(W!==null)for(p.shared.hiddenCallbacks=null,p=0;p<W.length;p++)Dg(W[p],z)}catch(mt){Ae(u,u.return,mt)}}o&&N&64&&Ub(x),Jl(x,x.return);break;case 27:Fb(x);case 26:case 5:Ua(p,x,o),o&&u===null&&N&4&&Yb(x),Jl(x,x.return);break;case 12:Ua(p,x,o);break;case 13:Ua(p,x,o),o&&N&4&&Qb(p,x);break;case 22:x.memoizedState===null&&Ua(p,x,o),Jl(x,x.return);break;case 30:break;default:Ua(p,x,o)}n=n.sibling}}function hm(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&zl(o))}function mm(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e))}function Ei(e,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,o,u),n=n.sibling}function ey(e,n,o,u){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Ei(e,n,o,u),p&2048&&Ql(9,n);break;case 1:Ei(e,n,o,u);break;case 3:Ei(e,n,o,u),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zl(e)));break;case 12:if(p&2048){Ei(e,n,o,u),e=n.stateNode;try{var x=n.memoizedProps,N=x.id,z=x.onPostCommit;typeof z=="function"&&z(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(W){Ae(n,n.return,W)}}else Ei(e,n,o,u);break;case 13:Ei(e,n,o,u);break;case 23:break;case 22:x=n.stateNode,N=n.alternate,n.memoizedState!==null?x._visibility&2?Ei(e,n,o,u):tc(e,n):x._visibility&2?Ei(e,n,o,u):(x._visibility|=2,js(e,n,o,u,(n.subtreeFlags&10256)!==0)),p&2048&&hm(N,n);break;case 24:Ei(e,n,o,u),p&2048&&mm(n.alternate,n);break;default:Ei(e,n,o,u)}}function js(e,n,o,u,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var x=e,N=n,z=o,W=u,mt=N.flags;switch(N.tag){case 0:case 11:case 15:js(x,N,z,W,p),Ql(8,N);break;case 23:break;case 22:var St=N.stateNode;N.memoizedState!==null?St._visibility&2?js(x,N,z,W,p):tc(x,N):(St._visibility|=2,js(x,N,z,W,p)),p&&mt&2048&&hm(N.alternate,N);break;case 24:js(x,N,z,W,p),p&&mt&2048&&mm(N.alternate,N);break;default:js(x,N,z,W,p)}n=n.sibling}}function tc(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,u=n,p=u.flags;switch(u.tag){case 22:tc(o,u),p&2048&&hm(u.alternate,u);break;case 24:tc(o,u),p&2048&&mm(u.alternate,u);break;default:tc(o,u)}n=n.sibling}}var ec=8192;function ks(e){if(e.subtreeFlags&ec)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 26:ks(e),e.flags&ec&&e.memoizedState!==null&&Xw(si,e.memoizedState,e.memoizedProps);break;case 5:ks(e);break;case 3:case 4:var n=si;si=gd(e.stateNode.containerInfo),ks(e),si=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ec,ec=16777216,ks(e),ec=n):ks(e));break;default:ks(e)}}function ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];mn=u,ay(u,e)}ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:nc(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:nc(e);break;case 12:nc(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,id(e)):nc(e);break;default:nc(e)}}function id(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];mn=u,ay(u,e)}ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),id(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,id(n));break;default:id(n)}e=e.sibling}}function ay(e,n){for(;mn!==null;){var o=mn;switch(o.tag){case 0:case 11:case 15:Ia(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,mn=u;else t:for(o=e;mn!==null;){u=mn;var p=u.sibling,x=u.return;if(Xb(u),u===o){mn=null;break t}if(p!==null){p.return=x,mn=p;break t}mn=x}}}var fw={getCacheForType:function(e){var n=kn(on),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},hw=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ce=null,le=null,he=0,_e=0,br=null,Za=!1,Os=!1,pm=!1,ra=0,Ke=0,Ya=0,zo=0,gm=0,Pr=0,Cs=0,rc=null,ar=null,bm=!1,ym=0,ad=1/0,od=null,qa=null,Sn=0,Fa=null,Ls=null,Bs=0,vm=0,xm=null,oy=null,ic=0,_m=null;function yr(){if((xe&2)!==0&&he!==0)return he&-he;if(G.T!==null){var e=Ss;return e!==0?e:Am()}return su()}function sy(){Pr===0&&(Pr=(he&536870912)===0||Qt?co():536870912);var e=Rr.current;return e!==null&&(e.flags|=32),Pr}function vr(e,n,o){(e===Ce&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Rs(e,0),Va(e,he,Pr,!1)),ji(e,o),((xe&2)===0||e!==Ce)&&(e===Ce&&((xe&2)===0&&(zo|=o),Ke===4&&Va(e,he,Pr,!1)),Mi(e))}function ly(e,n,o){if((xe&6)!==0)throw Error(s(327));var u=!o&&(n&124)===0&&(n&e.expiredLanes)===0||Qn(e,n),p=u?gw(e,n):Tm(e,n,!0),x=u;do{if(p===0){Os&&!u&&Va(e,n,0,!1);break}else{if(o=e.current.alternate,x&&!mw(o)){p=Tm(e,n,!1),x=!1;continue}if(p===2){if(x=n,e.errorRecoveryDisabledLanes&x)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var z=e;p=rc;var W=z.current.memoizedState.isDehydrated;if(W&&(Rs(z,N).flags|=256),N=Tm(z,N,!1),N!==2){if(pm&&!W){z.errorRecoveryDisabledLanes|=x,zo|=x,p=4;break t}x=ar,ar=p,x!==null&&(ar===null?ar=x:ar.push.apply(ar,x))}p=N}if(x=!1,p!==2)continue}}if(p===1){Rs(e,0),Va(e,n,0,!0);break}t:{switch(u=e,x=p,x){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Va(u,n,Pr,!Za);break t;case 2:ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(p=ym+300-Yt(),10<p)){if(Va(u,n,Pr,!Za),Jr(u,0,!0)!==0)break t;u.timeoutHandle=Py(cy.bind(null,u,o,ar,od,bm,n,Pr,zo,Cs,Za,x,2,-0,0),p);break t}cy(u,o,ar,od,bm,n,Pr,zo,Cs,Za,x,0,-0,0)}}break}while(!0);Mi(e)}function cy(e,n,o,u,p,x,N,z,W,mt,St,Mt,pt,bt){if(e.timeoutHandle=-1,Mt=n.subtreeFlags,(Mt&8192||(Mt&16785408)===16785408)&&(dc={stylesheets:null,count:0,unsuspend:Kw},ny(n),Mt=Ww(),Mt!==null)){e.cancelPendingCommit=Mt(gy.bind(null,e,n,x,o,u,p,N,z,W,St,1,pt,bt)),Va(e,x,N,!mt);return}gy(e,n,x,o,u,p,N,z,W)}function mw(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],x=p.getSnapshot;p=p.value;try{if(!Pn(x(),p))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Va(e,n,o,u){n&=~gm,n&=~zo,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var p=n;0<p;){var x=31-ye(p),N=1<<x;u[x]=-1,p&=~N}o!==0&&uo(e,o,n)}function sd(){return(xe&6)===0?(ac(0),!1):!0}function Sm(){if(le!==null){if(_e===0)var e=le.return;else e=le,ai=Br=null,$h(e),As=null,Kl=0,e=le;for(;e!==null;)Gb(e.alternate,e),e=e.return;le=null}}function Rs(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Ow(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Sm(),Ce=e,le=o=Lr(e.current,null),he=n,_e=0,br=null,Za=!1,Os=Qn(e,n),pm=!1,Cs=Pr=gm=zo=Ya=Ke=0,ar=rc=null,bm=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var p=31-ye(u),x=1<<p;n|=e[p],u&=~x}return ra=n,Mo(),o}function uy(e,n){ae=null,G.H=Vu,n===Hl||n===zu?(n=Ng(),_e=3):n===Tg?(n=Ng(),_e=4):_e=n===Ab?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,br=n,le===null&&(Ke=1,Ju(e,$n(n,e.current)))}function dy(){var e=G.H;return G.H=Vu,e===null?Vu:e}function fy(){var e=G.A;return G.A=fw,e}function wm(){Ke=4,Za||(he&4194048)!==he&&Rr.current!==null||(Os=!0),(Ya&134217727)===0&&(zo&134217727)===0||Ce===null||Va(Ce,he,Pr,!1)}function Tm(e,n,o){var u=xe;xe|=2;var p=dy(),x=fy();(Ce!==e||he!==n)&&(od=null,Rs(e,n)),n=!1;var N=Ke;t:do try{if(_e!==0&&le!==null){var z=le,W=br;switch(_e){case 8:Sm(),N=6;break t;case 3:case 2:case 9:case 6:Rr.current===null&&(n=!0);var mt=_e;if(_e=0,br=null,Ps(e,z,W,mt),o&&Os){N=0;break t}break;default:mt=_e,_e=0,br=null,Ps(e,z,W,mt)}}pw(),N=Ke;break}catch(St){uy(e,St)}while(!0);return n&&e.shellSuspendCounter++,ai=Br=null,xe=u,G.H=p,G.A=x,le===null&&(Ce=null,he=0,Mo()),N}function pw(){for(;le!==null;)hy(le)}function gw(e,n){var o=xe;xe|=2;var u=dy(),p=fy();Ce!==e||he!==n?(od=null,ad=Yt()+500,Rs(e,n)):Os=Qn(e,n);t:do try{if(_e!==0&&le!==null){n=le;var x=br;e:switch(_e){case 1:_e=0,br=null,Ps(e,n,x,1);break;case 2:case 9:if(Eg(x)){_e=0,br=null,my(n);break}n=function(){_e!==2&&_e!==9||Ce!==e||(_e=7),Mi(e)},x.then(n,n);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Eg(x)?(_e=0,br=null,my(n)):(_e=0,br=null,Ps(e,n,x,7));break;case 5:var N=null;switch(le.tag){case 26:N=le.memoizedState;case 5:case 27:var z=le;if(!N||Ky(N)){_e=0,br=null;var W=z.sibling;if(W!==null)le=W;else{var mt=z.return;mt!==null?(le=mt,ld(mt)):le=null}break e}}_e=0,br=null,Ps(e,n,x,5);break;case 6:_e=0,br=null,Ps(e,n,x,6);break;case 8:Sm(),Ke=6;break t;default:throw Error(s(462))}}bw();break}catch(St){uy(e,St)}while(!0);return ai=Br=null,G.H=u,G.A=p,xe=o,le!==null?0:(Ce=null,he=0,Mo(),Ke)}function bw(){for(;le!==null&&!At();)hy(le)}function hy(e){var n=Hb(e.alternate,e,ra);e.memoizedProps=e.pendingProps,n===null?ld(e):le=n}function my(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Lb(o,n,n.pendingProps,n.type,void 0,he);break;case 11:n=Lb(o,n,n.pendingProps,n.type.render,n.ref,he);break;case 5:$h(n);default:Gb(o,n),n=le=Rl(n,ra),n=Hb(o,n,ra)}e.memoizedProps=e.pendingProps,n===null?ld(e):le=n}function Ps(e,n,o,u){ai=Br=null,$h(n),As=null,Kl=0;var p=n.return;try{if(ow(e,p,n,o,he)){Ke=1,Ju(e,$n(o,e.current)),le=null;return}}catch(x){if(p!==null)throw le=p,x;Ke=1,Ju(e,$n(o,e.current)),le=null;return}n.flags&32768?(Qt||u===1?e=!0:Os||(he&536870912)!==0?e=!1:(Za=e=!0,(u===2||u===9||u===3||u===6)&&(u=Rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),py(n,e)):ld(n)}function ld(e){var n=e;do{if((n.flags&32768)!==0){py(n,Za);return}e=n.return;var o=lw(n.alternate,n,ra);if(o!==null){le=o;return}if(n=n.sibling,n!==null){le=n;return}le=n=e}while(n!==null);Ke===0&&(Ke=5)}function py(e,n){do{var o=cw(e.alternate,e);if(o!==null){o.flags&=32767,le=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){le=e;return}le=e=o}while(e!==null);Ke=6,le=null}function gy(e,n,o,u,p,x,N,z,W){e.cancelPendingCommit=null;do cd();while(Sn!==0);if((xe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(x=n.lanes|n.childLanes,x|=mr,gl(e,o,x,N,z,W),e===Ce&&(le=Ce=null,he=0),Ls=n,Fa=e,Bs=o,vm=x,xm=p,oy=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_w(ct,function(){return _y(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,p=ot.p,ot.p=2,N=xe,xe|=4;try{uw(e,n,o)}finally{xe=N,ot.p=p,G.T=u}}Sn=1,by(),yy(),vy()}}function by(){if(Sn===1){Sn=0;var e=Fa,n=Ls,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=ot.p;ot.p=2;var p=xe;xe|=4;try{Jb(n,e);var x=Rm,N=wo(e.containerInfo),z=x.focusedElem,W=x.selectionRange;if(N!==z&&z&&z.ownerDocument&&ms(z.ownerDocument.documentElement,z)){if(W!==null&&To(z)){var mt=W.start,St=W.end;if(St===void 0&&(St=mt),"selectionStart"in z)z.selectionStart=mt,z.selectionEnd=Math.min(St,z.value.length);else{var Mt=z.ownerDocument||document,pt=Mt&&Mt.defaultView||window;if(pt.getSelection){var bt=pt.getSelection(),Wt=z.textContent.length,Kt=Math.min(W.start,Wt),Ee=W.end===void 0?Kt:Math.min(W.end,Wt);!bt.extend&&Kt>Ee&&(N=Ee,Ee=Kt,Kt=N);var lt=Ll(z,Kt),rt=Ll(z,Ee);if(lt&&rt&&(bt.rangeCount!==1||bt.anchorNode!==lt.node||bt.anchorOffset!==lt.offset||bt.focusNode!==rt.node||bt.focusOffset!==rt.offset)){var ft=Mt.createRange();ft.setStart(lt.node,lt.offset),bt.removeAllRanges(),Kt>Ee?(bt.addRange(ft),bt.extend(rt.node,rt.offset)):(ft.setEnd(rt.node,rt.offset),bt.addRange(ft))}}}}for(Mt=[],bt=z;bt=bt.parentNode;)bt.nodeType===1&&Mt.push({element:bt,left:bt.scrollLeft,top:bt.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Mt.length;z++){var Tt=Mt[z];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}_d=!!Bm,Rm=Bm=null}finally{xe=p,ot.p=u,G.T=o}}e.current=n,Sn=2}}function yy(){if(Sn===2){Sn=0;var e=Fa,n=Ls,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=ot.p;ot.p=2;var p=xe;xe|=4;try{Kb(e,n.alternate,n)}finally{xe=p,ot.p=u,G.T=o}}Sn=3}}function vy(){if(Sn===4||Sn===3){Sn=0,Ut();var e=Fa,n=Ls,o=Bs,u=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sn=5:(Sn=0,Ls=Fa=null,xy(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(qa=null),yl(o),n=n.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(ne,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=G.T,p=ot.p,ot.p=2,G.T=null;try{for(var x=e.onRecoverableError,N=0;N<u.length;N++){var z=u[N];x(z.value,{componentStack:z.stack})}}finally{G.T=n,ot.p=p}}(Bs&3)!==0&&cd(),Mi(e),p=e.pendingLanes,(o&4194090)!==0&&(p&42)!==0?e===_m?ic++:(ic=0,_m=e):ic=0,ac(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zl(n)))}function cd(e){return by(),yy(),vy(),_y()}function _y(){if(Sn!==5)return!1;var e=Fa,n=vm;vm=0;var o=yl(Bs),u=G.T,p=ot.p;try{ot.p=32>o?32:o,G.T=null,o=xm,xm=null;var x=Fa,N=Bs;if(Sn=0,Ls=Fa=null,Bs=0,(xe&6)!==0)throw Error(s(331));var z=xe;if(xe|=4,iy(x.current),ey(x,x.current,N,o),xe=z,ac(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(ne,x)}catch{}return!0}finally{ot.p=p,G.T=u,xy(e,n)}}function Sy(e,n,o){n=$n(o,n),n=Jh(e.stateNode,n,2),e=Pa(e,n,2),e!==null&&(ji(e,2),Mi(e))}function Ae(e,n,o){if(e.tag===3)Sy(e,e,o);else for(;n!==null;){if(n.tag===3){Sy(n,e,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qa===null||!qa.has(u))){e=$n(o,e),o=Mb(2),u=Pa(n,o,2),u!==null&&(Nb(o,u,n,e),ji(u,2),Mi(u));break}}n=n.return}}function Em(e,n,o){var u=e.pingCache;if(u===null){u=e.pingCache=new hw;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(o)||(pm=!0,p.add(o),e=yw.bind(null,e,n,o),n.then(e,e))}function yw(e,n,o){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ce===e&&(he&o)===o&&(Ke===4||Ke===3&&(he&62914560)===he&&300>Yt()-ym?(xe&2)===0&&Rs(e,0):gm|=o,Cs===he&&(Cs=0)),Mi(e)}function wy(e,n){n===0&&(n=ti()),e=ka(e,n),e!==null&&(ji(e,n),Mi(e))}function vw(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),wy(e,o)}function xw(e,n){var o=0;switch(e.tag){case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(n),wy(e,o)}function _w(e,n){return Bt(e,n)}var ud=null,zs=null,Mm=!1,dd=!1,Nm=!1,$o=0;function Mi(e){e!==zs&&e.next===null&&(zs===null?ud=zs=e:zs=zs.next=e),dd=!0,Mm||(Mm=!0,ww())}function ac(e,n){if(!Nm&&dd){Nm=!0;do for(var o=!1,u=ud;u!==null;){if(e!==0){var p=u.pendingLanes;if(p===0)var x=0;else{var N=u.suspendedLanes,z=u.pingedLanes;x=(1<<31-ye(42|e)+1)-1,x&=p&~(N&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,Ny(u,x))}else x=he,x=Jr(u,u===Ce?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Qn(u,x)||(o=!0,Ny(u,x));u=u.next}while(o);Nm=!1}}function Sw(){Ty()}function Ty(){dd=Mm=!1;var e=0;$o!==0&&(kw()&&(e=$o),$o=0);for(var n=Yt(),o=null,u=ud;u!==null;){var p=u.next,x=Ey(u,n);x===0?(u.next=null,o===null?ud=p:o.next=p,p===null&&(zs=o)):(o=u,(e!==0||(x&3)!==0)&&(dd=!0)),u=p}ac(e)}function Ey(e,n){for(var o=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var N=31-ye(x),z=1<<N,W=p[N];W===-1?((z&o)===0||(z&u)!==0)&&(p[N]=pl(z,n)):W<=n&&(e.expiredLanes|=z),x&=~z}if(n=Ce,o=he,o=Jr(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,o===0||e===n&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&wt(u),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Qn(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(u!==null&&wt(u),yl(o)){case 2:case 8:o=zt;break;case 32:o=ct;break;case 268435456:o=Ot;break;default:o=ct}return u=My.bind(null,e),o=Bt(o,u),e.callbackPriority=n,e.callbackNode=o,n}return u!==null&&u!==null&&wt(u),e.callbackPriority=2,e.callbackNode=null,2}function My(e,n){if(Sn!==0&&Sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(cd()&&e.callbackNode!==o)return null;var u=he;return u=Jr(e,e===Ce?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(ly(e,u,n),Ey(e,Yt()),e.callbackNode!=null&&e.callbackNode===o?My.bind(null,e):null)}function Ny(e,n){if(cd())return null;ly(e,n,!0)}function ww(){Cw(function(){(xe&6)!==0?Bt(vt,Sw):Ty()})}function Am(){return $o===0&&($o=co()),$o}function Ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function Dy(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Tw(e,n,o,u,p){if(n==="submit"&&o&&o.stateNode===p){var x=Ay((p[An]||null).action),N=u.submitter;N&&(n=(n=N[An]||null)?Ay(n.formAction):N.getAttribute("formAction"),n!==null&&(x=n,N=null));var z=new yo("action","action",null,u,p);e.push({event:z,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($o!==0){var W=N?Dy(p,N):new FormData(p);Vh(o,{pending:!0,data:W,method:p.method,action:x},null,W)}}else typeof x=="function"&&(z.preventDefault(),W=N?Dy(p,N):new FormData(p),Vh(o,{pending:!0,data:W,method:p.method,action:x},x,W))},currentTarget:p}]})}}for(var Dm=0;Dm<qi.length;Dm++){var jm=qi[Dm],Ew=jm.toLowerCase(),Mw=jm[0].toUpperCase()+jm.slice(1);hr(Ew,"on"+Mw)}hr(Du,"onAnimationEnd"),hr(fr,"onAnimationIteration"),hr(Eo,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(wh,"onTransitionRun"),hr(ys,"onTransitionStart"),hr(Th,"onTransitionCancel"),hr(Bl,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function jy(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],p=u.event;u=u.listeners;t:{var x=void 0;if(n)for(var N=u.length-1;0<=N;N--){var z=u[N],W=z.instance,mt=z.currentTarget;if(z=z.listener,W!==x&&p.isPropagationStopped())break t;x=z,p.currentTarget=mt;try{x(p)}catch(St){Qu(St)}p.currentTarget=null,x=W}else for(N=0;N<u.length;N++){if(z=u[N],W=z.instance,mt=z.currentTarget,z=z.listener,W!==x&&p.isPropagationStopped())break t;x=z,p.currentTarget=mt;try{x(p)}catch(St){Qu(St)}p.currentTarget=null,x=W}}}}function ce(e,n){var o=n[tr];o===void 0&&(o=n[tr]=new Set);var u=e+"__bubble";o.has(u)||(ky(n,e,2,!1),o.add(u))}function km(e,n,o){var u=0;n&&(u|=4),ky(o,e,u,n)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Om(e){if(!e[fd]){e[fd]=!0,cu.forEach(function(o){o!=="selectionchange"&&(Nw.has(o)||km(o,!1,e),km(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fd]||(n[fd]=!0,km("selectionchange",!1,n))}}function ky(e,n,o,u){switch(ev(n)){case 2:var p=tT;break;case 8:p=eT;break;default:p=qm}o=p.bind(null,n,o,e),p=void 0,!bo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(n,o,{capture:!0,passive:p}):e.addEventListener(n,o,!0):p!==void 0?e.addEventListener(n,o,{passive:p}):e.addEventListener(n,o,!1)}function Cm(e,n,o,u,p){var x=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var z=u.stateNode.containerInfo;if(z===p)break;if(N===4)for(N=u.return;N!==null;){var W=N.tag;if((W===3||W===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;z!==null;){if(N=pi(z),N===null)return;if(W=N.tag,W===5||W===6||W===26||W===27){u=x=N;continue t}z=z.parentNode}}u=u.return}lr(function(){var mt=x,St=va(o),Mt=[];t:{var pt=ju.get(e);if(pt!==void 0){var bt=yo,Wt=e;switch(e){case"keypress":if(Ve(o)===0)break t;case"keydown":case"keyup":bt=ph;break;case"focusin":Wt="focus",bt=El;break;case"focusout":Wt="blur",bt=El;break;case"beforeblur":case"afterblur":bt=El;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=bh;break;case Du:case fr:case Eo:bt=dh;break;case Bl:bt=yh;break;case"scroll":case"scrollend":bt=ch;break;case"wheel":bt=xu;break;case"copy":case"cut":case"paste":bt=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Al;break;case"toggle":case"beforetoggle":bt=Gi}var Kt=(n&4)!==0,Ee=!Kt&&(e==="scroll"||e==="scrollend"),lt=Kt?pt!==null?pt+"Capture":null:pt;Kt=[];for(var rt=mt,ft;rt!==null;){var Tt=rt;if(ft=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||ft===null||lt===null||(Tt=pe(rt,lt),Tt!=null&&Kt.push(sc(rt,Tt,ft))),Ee)break;rt=rt.return}0<Kt.length&&(pt=new bt(pt,Wt,null,o,St),Mt.push({event:pt,listeners:Kt}))}}if((n&7)===0){t:{if(pt=e==="mouseover"||e==="pointerover",bt=e==="mouseout"||e==="pointerout",pt&&o!==go&&(Wt=o.relatedTarget||o.fromElement)&&(pi(Wt)||Wt[da]))break t;if((bt||pt)&&(pt=St.window===St?St:(pt=St.ownerDocument)?pt.defaultView||pt.parentWindow:window,bt?(Wt=o.relatedTarget||o.toElement,bt=mt,Wt=Wt?pi(Wt):null,Wt!==null&&(Ee=d(Wt),Kt=Wt.tag,Wt!==Ee||Kt!==5&&Kt!==27&&Kt!==6)&&(Wt=null)):(bt=null,Wt=mt),bt!==Wt)){if(Kt=Sa,Tt="onMouseLeave",lt="onMouseEnter",rt="mouse",(e==="pointerout"||e==="pointerover")&&(Kt=Al,Tt="onPointerLeave",lt="onPointerEnter",rt="pointer"),Ee=bt==null?pt:Ar(bt),ft=Wt==null?pt:Ar(Wt),pt=new Kt(Tt,rt+"leave",bt,o,St),pt.target=Ee,pt.relatedTarget=ft,Tt=null,pi(St)===mt&&(Kt=new Kt(lt,rt+"enter",Wt,o,St),Kt.target=ft,Kt.relatedTarget=Ee,Tt=Kt),Ee=Tt,bt&&Wt)e:{for(Kt=bt,lt=Wt,rt=0,ft=Kt;ft;ft=$s(ft))rt++;for(ft=0,Tt=lt;Tt;Tt=$s(Tt))ft++;for(;0<rt-ft;)Kt=$s(Kt),rt--;for(;0<ft-rt;)lt=$s(lt),ft--;for(;rt--;){if(Kt===lt||lt!==null&&Kt===lt.alternate)break e;Kt=$s(Kt),lt=$s(lt)}Kt=null}else Kt=null;bt!==null&&Oy(Mt,pt,bt,Kt,!1),Wt!==null&&Ee!==null&&Oy(Mt,Ee,Wt,Kt,!0)}}t:{if(pt=mt?Ar(mt):window,bt=pt.nodeName&&pt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&pt.type==="file")var It=Ea;else if(Zi(pt))if(kl)It=Sh;else{It=_h;var se=Cl}else bt=pt.nodeName,!bt||bt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?mt&&po(mt.elementType)&&(It=Ea):It=ii;if(It&&(It=It(e,mt))){Eu(Mt,It,o,St);break t}se&&se(e,pt,mt),e==="focusout"&&mt&&pt.type==="number"&&mt.memoizedProps.value!=null&&ga(pt,"number",pt.value)}switch(se=mt?Ar(mt):window,e){case"focusin":(Zi(se)||se.contentEditable==="true")&&(dr=se,Aa=mt,Yi=null);break;case"focusout":Yi=Aa=dr=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,Nu(Mt,o,St);break;case"selectionchange":if(ps)break;case"keydown":case"keyup":Nu(Mt,o,St)}var qt;if(Ui)t:{switch(e){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else wa?fs(e,o)&&(Xt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Xt="onCompositionStart");Xt&&(jl&&o.locale!=="ko"&&(wa||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&wa&&(qt=_a()):(kr=St,ni="value"in kr?kr.value:kr.textContent,wa=!0)),se=hd(mt,Xt),0<se.length&&(Xt=new cr(Xt,e,null,o,St),Mt.push({event:Xt,listeners:se}),qt?Xt.data=qt:(qt=wu(o),qt!==null&&(Xt.data=qt)))),(qt=_u?Tu(e,o):xh(e,o))&&(Xt=hd(mt,"onBeforeInput"),0<Xt.length&&(se=new cr("onBeforeInput","beforeinput",null,o,St),Mt.push({event:se,listeners:Xt}),se.data=qt)),Tw(Mt,e,mt,o,St)}jy(Mt,n)})}function sc(e,n,o){return{instance:e,listener:n,currentTarget:o}}function hd(e,n){for(var o=n+"Capture",u=[];e!==null;){var p=e,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=pe(e,o),p!=null&&u.unshift(sc(e,p,x)),p=pe(e,n),p!=null&&u.push(sc(e,p,x))),e.tag===3)return u;e=e.return}return[]}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,n,o,u,p){for(var x=n._reactName,N=[];o!==null&&o!==u;){var z=o,W=z.alternate,mt=z.stateNode;if(z=z.tag,W!==null&&W===u)break;z!==5&&z!==26&&z!==27||mt===null||(W=mt,p?(mt=pe(o,x),mt!=null&&N.unshift(sc(o,mt,W))):p||(mt=pe(o,x),mt!=null&&N.push(sc(o,mt,W)))),o=o.return}N.length!==0&&e.push({event:n,listeners:N})}var Aw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function Cy(e){return(typeof e=="string"?e:""+e).replace(Aw,`
`).replace(Dw,"")}function Ly(e,n){return n=Cy(n),Cy(e)===n}function md(){}function Te(e,n,o,u,p,x){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Dr(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Dr(e,""+u);break;case"className":is(e,"class",u);break;case"tabIndex":is(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,o,u);break;case"style":ba(e,u,x);break;case"data":if(n!=="object"){is(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=ya(""+u),e.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(n!=="input"&&Te(e,n,"name",p.name,p,null),Te(e,n,"formEncType",p.formEncType,p,null),Te(e,n,"formMethod",p.formMethod,p,null),Te(e,n,"formTarget",p.formTarget,p,null)):(Te(e,n,"encType",p.encType,p,null),Te(e,n,"method",p.method,p,null),Te(e,n,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=ya(""+u),e.setAttribute(o,u);break;case"onClick":u!=null&&(e.onclick=md);break;case"onScroll":u!=null&&ce("scroll",e);break;case"onScrollEnd":u!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}o=ya(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""+u):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":u===!0?e.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,u):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(o,u):e.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(o):e.setAttribute(o,u);break;case"popover":ce("beforetoggle",e),ce("toggle",e),rs(e,"popover",u);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":rs(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sl.get(o)||o,rs(e,o,u))}}function Lm(e,n,o,u,p,x){switch(o){case"style":ba(e,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof u=="string"?Dr(e,u):(typeof u=="number"||typeof u=="bigint")&&Dr(e,""+u);break;case"onScroll":u!=null&&ce("scroll",e);break;case"onScrollEnd":u!=null&&ce("scrollend",e);break;case"onClick":u!=null&&(e.onclick=md);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),n=o.slice(2,p?o.length-7:void 0),x=e[An]||null,x=x!=null?x[o]:null,typeof x=="function"&&e.removeEventListener(n,x,p),typeof u=="function")){typeof x!="function"&&x!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,u,p);break t}o in e?e[o]=u:u===!0?e.setAttribute(o,""):rs(e,o,u)}}}function wn(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var u=!1,p=!1,x;for(x in o)if(o.hasOwnProperty(x)){var N=o[x];if(N!=null)switch(x){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Te(e,n,x,N,o,null)}}p&&Te(e,n,"srcSet",o.srcSet,o,null),u&&Te(e,n,"src",o.src,o,null);return;case"input":ce("invalid",e);var z=x=N=p=null,W=null,mt=null;for(u in o)if(o.hasOwnProperty(u)){var St=o[u];if(St!=null)switch(u){case"name":p=St;break;case"type":N=St;break;case"checked":W=St;break;case"defaultChecked":mt=St;break;case"value":x=St;break;case"defaultValue":z=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(s(137,n));break;default:Te(e,n,u,St,o,null)}}fu(e,x,z,W,mt,N,p,!1),pa(e);return;case"select":ce("invalid",e),u=N=x=null;for(p in o)if(o.hasOwnProperty(p)&&(z=o[p],z!=null))switch(p){case"value":x=z;break;case"defaultValue":N=z;break;case"multiple":u=z;default:Te(e,n,p,z,o,null)}n=x,o=N,e.multiple=!!u,n!=null?er(e,!!u,n,!1):o!=null&&er(e,!!u,o,!0);return;case"textarea":ce("invalid",e),x=p=u=null;for(N in o)if(o.hasOwnProperty(N)&&(z=o[N],z!=null))switch(N){case"value":u=z;break;case"defaultValue":p=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(91));break;default:Te(e,n,N,z,o,null)}gi(e,u,p,x),pa(e);return;case"option":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Te(e,n,W,u,o,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(u=0;u<oc.length;u++)ce(oc[u],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mt in o)if(o.hasOwnProperty(mt)&&(u=o[mt],u!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Te(e,n,mt,u,o,null)}return;default:if(po(n)){for(St in o)o.hasOwnProperty(St)&&(u=o[St],u!==void 0&&Lm(e,n,St,u,o,void 0));return}}for(z in o)o.hasOwnProperty(z)&&(u=o[z],u!=null&&Te(e,n,z,u,o,null))}function jw(e,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,N=null,z=null,W=null,mt=null,St=null;for(bt in o){var Mt=o[bt];if(o.hasOwnProperty(bt)&&Mt!=null)switch(bt){case"checked":break;case"value":break;case"defaultValue":W=Mt;default:u.hasOwnProperty(bt)||Te(e,n,bt,null,u,Mt)}}for(var pt in u){var bt=u[pt];if(Mt=o[pt],u.hasOwnProperty(pt)&&(bt!=null||Mt!=null))switch(pt){case"type":x=bt;break;case"name":p=bt;break;case"checked":mt=bt;break;case"defaultChecked":St=bt;break;case"value":N=bt;break;case"defaultValue":z=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(s(137,n));break;default:bt!==Mt&&Te(e,n,pt,bt,u,Mt)}}Dn(e,N,z,W,mt,St,x,p);return;case"select":bt=N=z=pt=null;for(x in o)if(W=o[x],o.hasOwnProperty(x)&&W!=null)switch(x){case"value":break;case"multiple":bt=W;default:u.hasOwnProperty(x)||Te(e,n,x,null,u,W)}for(p in u)if(x=u[p],W=o[p],u.hasOwnProperty(p)&&(x!=null||W!=null))switch(p){case"value":pt=x;break;case"defaultValue":z=x;break;case"multiple":N=x;default:x!==W&&Te(e,n,p,x,u,W)}n=z,o=N,u=bt,pt!=null?er(e,!!o,pt,!1):!!u!=!!o&&(n!=null?er(e,!!o,n,!0):er(e,!!o,o?[]:"",!1));return;case"textarea":bt=pt=null;for(z in o)if(p=o[z],o.hasOwnProperty(z)&&p!=null&&!u.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Te(e,n,z,null,u,p)}for(N in u)if(p=u[N],x=o[N],u.hasOwnProperty(N)&&(p!=null||x!=null))switch(N){case"value":pt=p;break;case"defaultValue":bt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==x&&Te(e,n,N,p,u,x)}Ue(e,pt,bt);return;case"option":for(var Wt in o)if(pt=o[Wt],o.hasOwnProperty(Wt)&&pt!=null&&!u.hasOwnProperty(Wt))switch(Wt){case"selected":e.selected=!1;break;default:Te(e,n,Wt,null,u,pt)}for(W in u)if(pt=u[W],bt=o[W],u.hasOwnProperty(W)&&pt!==bt&&(pt!=null||bt!=null))switch(W){case"selected":e.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:Te(e,n,W,pt,u,bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in o)pt=o[Kt],o.hasOwnProperty(Kt)&&pt!=null&&!u.hasOwnProperty(Kt)&&Te(e,n,Kt,null,u,pt);for(mt in u)if(pt=u[mt],bt=o[mt],u.hasOwnProperty(mt)&&pt!==bt&&(pt!=null||bt!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(s(137,n));break;default:Te(e,n,mt,pt,u,bt)}return;default:if(po(n)){for(var Ee in o)pt=o[Ee],o.hasOwnProperty(Ee)&&pt!==void 0&&!u.hasOwnProperty(Ee)&&Lm(e,n,Ee,void 0,u,pt);for(St in u)pt=u[St],bt=o[St],!u.hasOwnProperty(St)||pt===bt||pt===void 0&&bt===void 0||Lm(e,n,St,pt,u,bt);return}}for(var lt in o)pt=o[lt],o.hasOwnProperty(lt)&&pt!=null&&!u.hasOwnProperty(lt)&&Te(e,n,lt,null,u,pt);for(Mt in u)pt=u[Mt],bt=o[Mt],!u.hasOwnProperty(Mt)||pt===bt||pt==null&&bt==null||Te(e,n,Mt,pt,u,bt)}var Bm=null,Rm=null;function pd(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Pm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zm=null;function kw(){var e=window.event;return e&&e.type==="popstate"?e===zm?!1:(zm=e,!0):(zm=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(Lw)}:Py;function Lw(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function $y(e,n){var o=n,u=0,p=0;do{var x=o.nextSibling;if(e.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(0<u&&8>u){o=u;var N=e.ownerDocument;if(o&1&&lc(N.documentElement),o&2&&lc(N.body),o&4)for(o=N.head,lc(o),N=o.firstChild;N;){var z=N.nextSibling,W=N.nodeName;N[fa]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&N.rel.toLowerCase()==="stylesheet"||o.removeChild(N),N=z}}if(p===0){e.removeChild(x),gc(n);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=x}while(o);gc(n)}function $m(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$m(o),ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Bw(e,n,o,u){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[fa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=li(e.nextSibling),e===null)break}return null}function Rw(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=li(e.nextSibling),e===null))return null;return e}function Hm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Pw(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function li(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Im=null;function Hy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function Iy(e,n,o){switch(n=pd(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function lc(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ns(e)}var zr=new Map,Gy=new Set;function gd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=ot.d;ot.d={f:zw,r:$w,D:Hw,C:Iw,L:Gw,m:Uw,X:Yw,S:Zw,M:qw};function zw(){var e=ia.f(),n=sd();return e||n}function $w(e){var n=ki(e);n!==null&&n.tag===5&&n.type==="form"?lb(n):ia.r(e)}var Hs=typeof document>"u"?null:document;function Uy(e,n,o){var u=Hs;if(u&&typeof n=="string"&&n){var p=vn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Gy.has(p)||(Gy.add(p),e={rel:e,crossOrigin:o,href:n},u.querySelector(p)===null&&(n=u.createElement("link"),wn(n,"link",e),en(n),u.head.appendChild(n)))}}function Hw(e){ia.D(e),Uy("dns-prefetch",e,null)}function Iw(e,n){ia.C(e,n),Uy("preconnect",e,n)}function Gw(e,n,o){ia.L(e,n,o);var u=Hs;if(u&&e&&n){var p='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+vn(o.imageSizes)+'"]')):p+='[href="'+vn(e)+'"]';var x=p;switch(n){case"style":x=Is(e);break;case"script":x=Gs(e)}zr.has(x)||(e=v({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),zr.set(x,e),u.querySelector(p)!==null||n==="style"&&u.querySelector(cc(x))||n==="script"&&u.querySelector(uc(x))||(n=u.createElement("link"),wn(n,"link",e),en(n),u.head.appendChild(n)))}}function Uw(e,n){ia.m(e,n);var o=Hs;if(o&&e){var u=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(e)+'"]',x=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Gs(e)}if(!zr.has(x)&&(e=v({rel:"modulepreload",href:e},n),zr.set(x,e),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uc(x)))return}u=o.createElement("link"),wn(u,"link",e),en(u),o.head.appendChild(u)}}}function Zw(e,n,o){ia.S(e,n,o);var u=Hs;if(u&&e){var p=Oi(u).hoistableStyles,x=Is(e);n=n||"default";var N=p.get(x);if(!N){var z={loading:0,preload:null};if(N=u.querySelector(cc(x)))z.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},o),(o=zr.get(x))&&Gm(e,o);var W=N=u.createElement("link");en(W),wn(W,"link",e),W._p=new Promise(function(mt,St){W.onload=mt,W.onerror=St}),W.addEventListener("load",function(){z.loading|=1}),W.addEventListener("error",function(){z.loading|=2}),z.loading|=4,bd(N,n,u)}N={type:"stylesheet",instance:N,count:1,state:z},p.set(x,N)}}}function Yw(e,n){ia.X(e,n);var o=Hs;if(o&&e){var u=Oi(o).hoistableScripts,p=Gs(e),x=u.get(p);x||(x=o.querySelector(uc(p)),x||(e=v({src:e,async:!0},n),(n=zr.get(p))&&Um(e,n),x=o.createElement("script"),en(x),wn(x,"link",e),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(p,x))}}function qw(e,n){ia.M(e,n);var o=Hs;if(o&&e){var u=Oi(o).hoistableScripts,p=Gs(e),x=u.get(p);x||(x=o.querySelector(uc(p)),x||(e=v({src:e,async:!0,type:"module"},n),(n=zr.get(p))&&Um(e,n),x=o.createElement("script"),en(x),wn(x,"link",e),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(p,x))}}function Zy(e,n,o,u){var p=(p=Y.current)?gd(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Is(o.href),o=Oi(p).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Is(o.href);var x=Oi(p).hoistableStyles,N=x.get(e);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,N),(x=p.querySelector(cc(e)))&&!x._p&&(N.instance=x,N.state.loading=5),zr.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zr.set(e,o),x||Fw(p,e,o,N.state))),n&&u===null)throw Error(s(528,""));return N}if(n&&u!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gs(o),o=Oi(p).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Is(e){return'href="'+vn(e)+'"'}function cc(e){return'link[rel="stylesheet"]['+e+"]"}function Yy(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Fw(e,n,o,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),wn(n,"link",o),en(n),e.head.appendChild(n))}function Gs(e){return'[src="'+vn(e)+'"]'}function uc(e){return"script[async]"+e}function qy(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+vn(o.href)+'"]');if(u)return n.instance=u,en(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),en(u),wn(u,"style",p),bd(u,o.precedence,e),n.instance=u;case"stylesheet":p=Is(o.href);var x=e.querySelector(cc(p));if(x)return n.state.loading|=4,n.instance=x,en(x),x;u=Yy(o),(p=zr.get(p))&&Gm(u,p),x=(e.ownerDocument||e).createElement("link"),en(x);var N=x;return N._p=new Promise(function(z,W){N.onload=z,N.onerror=W}),wn(x,"link",u),n.state.loading|=4,bd(x,o.precedence,e),n.instance=x;case"script":return x=Gs(o.src),(p=e.querySelector(uc(x)))?(n.instance=p,en(p),p):(u=o,(p=zr.get(x))&&(u=v({},o),Um(u,p)),e=e.ownerDocument||e,p=e.createElement("script"),en(p),wn(p,"link",u),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,bd(u,o.precedence,e));return n.instance}function bd(e,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,x=p,N=0;N<u.length;N++){var z=u[N];if(z.dataset.precedence===n)x=z;else if(x!==p)break}x?x.parentNode.insertBefore(e,x.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Gm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Um(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yd=null;function Fy(e,n,o){if(yd===null){var u=new Map,p=yd=new Map;p.set(o,u)}else p=yd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(e))return u;for(u.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var x=o[p];if(!(x[fa]||x[un]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(n)||"";N=e+N;var z=u.get(N);z?z.push(x):u.set(N,[x])}}return u}function Vy(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Vw(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var dc=null;function Kw(){}function Xw(e,n,o){if(dc===null)throw Error(s(475));var u=dc;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=Is(o.href),x=e.querySelector(cc(p));if(x){e=x._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=vd.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=x,en(x);return}x=e.ownerDocument||e,o=Yy(o),(p=zr.get(p))&&Gm(o,p),x=x.createElement("link"),en(x);var N=x;N._p=new Promise(function(z,W){N.onload=z,N.onerror=W}),wn(x,"link",o),n.instance=x}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=vd.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function Ww(){if(dc===null)throw Error(s(475));var e=dc;return e.stylesheets&&e.count===0&&Zm(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&Zm(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function vd(){if(this.count--,this.count===0){if(this.stylesheets)Zm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xd=null;function Zm(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xd=new Map,n.forEach(Qw,e),xd=null,vd.call(e))}function Qw(e,n){if(!(n.state.loading&4)){var o=xd.get(e);if(o)var u=o.get(null);else{o=new Map,xd.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var N=p[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),u=N)}u&&o.set(null,u)}p=n.instance,N=p.getAttribute("data-precedence"),x=o.get(N)||u,x===u&&o.set(null,p),o.set(N,p),this.count++,u=vd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),x?x.parentNode.insertBefore(p,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var fc={$$typeof:D,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function Jw(e,n,o,u,p,x,N,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Xy(e,n,o,u,p,x,N,z,W,mt,St,Mt){return e=new Jw(e,n,o,N,z,W,mt,Mt),n=1,x===!0&&(n|=24),x=In(3,null,null,n),e.current=x,x.stateNode=e,n=Eh(),n.refCount++,e.pooledCache=n,n.refCount++,x.memoizedState={element:u,isDehydrated:o,cache:n},Dh(x),e}function Wy(e){return e?(e=Ki,e):Ki}function Qy(e,n,o,u,p,x){p=Wy(p),u.context===null?u.context=p:u.pendingContext=p,u=Ra(n),u.payload={element:o},x=x===void 0?null:x,x!==null&&(u.callback=x),o=Pa(e,u,n),o!==null&&(vr(o,e,n),Gl(o,e,n))}function Jy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Ym(e,n){Jy(e,n),(e=e.alternate)&&Jy(e,n)}function tv(e){if(e.tag===13){var n=ka(e,67108864);n!==null&&vr(n,e,67108864),Ym(e,67108864)}}var _d=!0;function tT(e,n,o,u){var p=G.T;G.T=null;var x=ot.p;try{ot.p=2,qm(e,n,o,u)}finally{ot.p=x,G.T=p}}function eT(e,n,o,u){var p=G.T;G.T=null;var x=ot.p;try{ot.p=8,qm(e,n,o,u)}finally{ot.p=x,G.T=p}}function qm(e,n,o,u){if(_d){var p=Fm(u);if(p===null)Cm(e,n,u,Sd,o),nv(e,u);else if(rT(p,e,n,o,u))u.stopPropagation();else if(nv(e,u),n&4&&-1<nT.indexOf(e)){for(;p!==null;){var x=ki(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=an(x.pendingLanes);if(N!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var W=1<<31-ye(N);z.entanglements[1]|=W,N&=~W}Mi(x),(xe&6)===0&&(ad=Yt()+500,ac(0))}}break;case 13:z=ka(x,2),z!==null&&vr(z,x,2),sd(),Ym(x,2)}if(x=Fm(u),x===null&&Cm(e,n,u,Sd,o),x===p)break;p=x}p!==null&&u.stopPropagation()}else Cm(e,n,u,null,o)}}function Fm(e){return e=va(e),Vm(e)}var Sd=null;function Vm(e){if(Sd=null,e=pi(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=f(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sd=e,null}function ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vt()){case vt:return 2;case zt:return 8;case ct:case dt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Km=!1,Xa=null,Wa=null,Qa=null,hc=new Map,mc=new Map,Ja=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(e,n){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":hc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(n.pointerId)}}function pc(e,n,o,u,p,x){return e===null||e.nativeEvent!==x?(e={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:x,targetContainers:[p]},n!==null&&(n=ki(n),n!==null&&tv(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function rT(e,n,o,u,p){switch(n){case"focusin":return Xa=pc(Xa,e,n,o,u,p),!0;case"dragenter":return Wa=pc(Wa,e,n,o,u,p),!0;case"mouseover":return Qa=pc(Qa,e,n,o,u,p),!0;case"pointerover":var x=p.pointerId;return hc.set(x,pc(hc.get(x)||null,e,n,o,u,p)),!0;case"gotpointercapture":return x=p.pointerId,mc.set(x,pc(mc.get(x)||null,e,n,o,u,p)),!0}return!1}function rv(e){var n=pi(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=f(o),n!==null){e.blockedOn=n,vl(e.priority,function(){if(o.tag===13){var u=yr();u=bl(u);var p=ka(o,u);p!==null&&vr(p,o,u),Ym(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Fm(e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);go=u,o.target.dispatchEvent(u),go=null}else return n=ki(o),n!==null&&tv(n),e.blockedOn=o,!1;n.shift()}return!0}function iv(e,n,o){wd(e)&&o.delete(n)}function iT(){Km=!1,Xa!==null&&wd(Xa)&&(Xa=null),Wa!==null&&wd(Wa)&&(Wa=null),Qa!==null&&wd(Qa)&&(Qa=null),hc.forEach(iv),mc.forEach(iv)}function Td(e,n){e.blockedOn===n&&(e.blockedOn=null,Km||(Km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iT)))}var Ed=null;function av(e){Ed!==e&&(Ed=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ed===e&&(Ed=null);for(var n=0;n<e.length;n+=3){var o=e[n],u=e[n+1],p=e[n+2];if(typeof u!="function"){if(Vm(u||o)===null)continue;break}var x=ki(o);x!==null&&(e.splice(n,3),n-=3,Vh(x,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function gc(e){function n(W){return Td(W,e)}Xa!==null&&Td(Xa,e),Wa!==null&&Td(Wa,e),Qa!==null&&Td(Qa,e),hc.forEach(n),mc.forEach(n);for(var o=0;o<Ja.length;o++){var u=Ja[o];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Ja.length&&(o=Ja[0],o.blockedOn===null);)rv(o),o.blockedOn===null&&Ja.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],x=o[u+1],N=p[An]||null;if(typeof x=="function")N||av(o);else if(N){var z=null;if(x&&x.hasAttribute("formAction")){if(p=x,N=x[An]||null)z=N.formAction;else if(Vm(p)!==null)continue}else z=N.action;typeof z=="function"?o[u+1]=z:(o.splice(u,3),u-=3),av(o)}}}function Xm(e){this._internalRoot=e}Md.prototype.render=Xm.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,u=yr();Qy(o,u,e,n,null,null)},Md.prototype.unmount=Xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qy(e.current,2,null,e,null,null),sd(),n[da]=null}};function Md(e){this._internalRoot=e}Md.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Ja.length&&n!==0&&n<Ja[o].priority;o++);Ja.splice(o,0,e),o===0&&rv(e)}};var ov=r.version;if(ov!=="19.1.1")throw Error(s(527,ov,"19.1.1"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var aT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ne=Nd.inject(aT),ee=Nd}catch{}}return yc.createRoot=function(e,n){if(!c(e))throw Error(s(299));var o=!1,u="",p=Sb,x=wb,N=Tb,z=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(z=n.unstable_transitionCallbacks)),n=Xy(e,1,!1,null,null,o,u,p,x,N,z,null),e[da]=n.current,Om(e),new Xm(n)},yc.hydrateRoot=function(e,n,o){if(!c(e))throw Error(s(299));var u=!1,p="",x=Sb,N=wb,z=Tb,W=null,mt=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(W=o.unstable_transitionCallbacks),o.formState!==void 0&&(mt=o.formState)),n=Xy(e,1,!0,n,o??null,u,p,x,N,z,W,mt),n.context=Wy(null),o=n.current,u=yr(),u=bl(u),p=Ra(u),p.callback=null,Pa(o,p,u),o=u,n.current.lanes=o,ji(n,o),Mi(n),e[da]=n.current,Om(e),new Md(n)},yc.version="19.1.1",yc}var gv;function pT(){if(gv)return Jm.exports;gv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Jm.exports=mT(),Jm.exports}var gT=pT();let bT={data:""},yT=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||bT,vT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xT=/\/\*[^]*?\*\/|  +/g,bv=/\n+/g,ro=(t,r)=>{let a="",s="",c="";for(let d in t){let f=t[d];d[0]=="@"?d[1]=="i"?a=d+" "+f+";":s+=d[1]=="f"?ro(f,d):d+"{"+ro(f,d[1]=="k"?"":r)+"}":typeof f=="object"?s+=ro(f,r?r.replace(/([^,])+/g,m=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,m):m?m+" "+g:g)):d):f!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=ro.p?ro.p(d,f):d+":"+f+";")}return a+(r&&c?r+"{"+c+"}":c)+s},aa={},o1=t=>{if(typeof t=="object"){let r="";for(let a in t)r+=a+o1(t[a]);return r}return t},_T=(t,r,a,s,c)=>{let d=o1(t),f=aa[d]||(aa[d]=(g=>{let b=0,v=11;for(;b<g.length;)v=101*v+g.charCodeAt(b++)>>>0;return"go"+v})(d));if(!aa[f]){let g=d!==t?t:(b=>{let v,S,_=[{}];for(;v=vT.exec(b.replace(xT,""));)v[4]?_.shift():v[3]?(S=v[3].replace(bv," ").trim(),_.unshift(_[0][S]=_[0][S]||{})):_[0][v[1]]=v[2].replace(bv," ").trim();return _[0]})(t);aa[f]=ro(c?{["@keyframes "+f]:g}:g,a?"":"."+f)}let m=a&&aa.g?aa.g:null;return a&&(aa.g=aa[f]),((g,b,v,S)=>{S?b.data=b.data.replace(S,g):b.data.indexOf(g)===-1&&(b.data=v?g+b.data:b.data+g)})(aa[f],r,s,m),f},ST=(t,r,a)=>t.reduce((s,c,d)=>{let f=r[d];if(f&&f.call){let m=f(a),g=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=g?"."+g:m&&typeof m=="object"?m.props?"":ro(m,""):m===!1?"":m}return s+c+(f??"")},"");function Pf(t){let r=this||{},a=t.call?t(r.p):t;return _T(a.unshift?a.raw?ST(a,[].slice.call(arguments,1),r.p):a.reduce((s,c)=>Object.assign(s,c&&c.call?c(r.p):c),{}):a,yT(r.target),r.g,r.o,r.k)}let s1,ip,ap;Pf.bind({g:1});let ua=Pf.bind({k:1});function wT(t,r,a,s){ro.p=r,s1=t,ip=a,ap=s}function lo(t,r){let a=this||{};return function(){let s=arguments;function c(d,f){let m=Object.assign({},d),g=m.className||c.className;a.p=Object.assign({theme:ip&&ip()},m),a.o=/ *go\d+/.test(g),m.className=Pf.apply(a,s)+(g?" "+g:"");let b=t;return t[0]&&(b=m.as||t,delete m.as),ap&&b[0]&&ap(m),s1(b,m)}return c}}var TT=t=>typeof t=="function",mf=(t,r)=>TT(t)?t(r):t,ET=(()=>{let t=0;return()=>(++t).toString()})(),l1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),MT=20,Tp="default",c1=(t,r)=>{let{toastLimit:a}=t.settings;switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(f=>f.id===r.toast.id?{...f,...r.toast}:f)};case 2:let{toast:s}=r;return c1(t,{type:t.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:c}=r;return{...t,toasts:t.toasts.map(f=>f.id===c||c===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(f=>f.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let d=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+d}))}}},uf=[],u1={toasts:[],pausedAt:void 0,settings:{toastLimit:MT}},Ai={},d1=(t,r=Tp)=>{Ai[r]=c1(Ai[r]||u1,t),uf.forEach(([a,s])=>{a===r&&s(Ai[r])})},f1=t=>Object.keys(Ai).forEach(r=>d1(t,r)),NT=t=>Object.keys(Ai).find(r=>Ai[r].toasts.some(a=>a.id===t)),zf=(t=Tp)=>r=>{d1(r,t)},AT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DT=(t={},r=Tp)=>{let[a,s]=B.useState(Ai[r]||u1),c=B.useRef(Ai[r]);B.useEffect(()=>(c.current!==Ai[r]&&s(Ai[r]),uf.push([r,s]),()=>{let f=uf.findIndex(([m])=>m===r);f>-1&&uf.splice(f,1)}),[r]);let d=a.toasts.map(f=>{var m,g,b;return{...t,...t[f.type],...f,removeDelay:f.removeDelay||((m=t[f.type])==null?void 0:m.removeDelay)||t?.removeDelay,duration:f.duration||((g=t[f.type])==null?void 0:g.duration)||t?.duration||AT[f.type],style:{...t.style,...(b=t[f.type])==null?void 0:b.style,...f.style}}});return{...a,toasts:d}},jT=(t,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:a?.id||ET()}),Xc=t=>(r,a)=>{let s=jT(r,t,a);return zf(s.toasterId||NT(s.id))({type:2,toast:s}),s.id},cn=(t,r)=>Xc("blank")(t,r);cn.error=Xc("error");cn.success=Xc("success");cn.loading=Xc("loading");cn.custom=Xc("custom");cn.dismiss=(t,r)=>{let a={type:3,toastId:t};r?zf(r)(a):f1(a)};cn.dismissAll=t=>cn.dismiss(void 0,t);cn.remove=(t,r)=>{let a={type:4,toastId:t};r?zf(r)(a):f1(a)};cn.removeAll=t=>cn.remove(void 0,t);cn.promise=(t,r,a)=>{let s=cn.loading(r.loading,{...a,...a?.loading});return typeof t=="function"&&(t=t()),t.then(c=>{let d=r.success?mf(r.success,c):void 0;return d?cn.success(d,{id:s,...a,...a?.success}):cn.dismiss(s),c}).catch(c=>{let d=r.error?mf(r.error,c):void 0;d?cn.error(d,{id:s,...a,...a?.error}):cn.dismiss(s)}),t};var kT=1e3,OT=(t,r="default")=>{let{toasts:a,pausedAt:s}=DT(t,r),c=B.useRef(new Map).current,d=B.useCallback((S,_=kT)=>{if(c.has(S))return;let T=setTimeout(()=>{c.delete(S),f({type:4,toastId:S})},_);c.set(S,T)},[]);B.useEffect(()=>{if(s)return;let S=Date.now(),_=a.map(T=>{if(T.duration===1/0)return;let M=(T.duration||0)+T.pauseDuration-(S-T.createdAt);if(M<0){T.visible&&cn.dismiss(T.id);return}return setTimeout(()=>cn.dismiss(T.id,r),M)});return()=>{_.forEach(T=>T&&clearTimeout(T))}},[a,s,r]);let f=B.useCallback(zf(r),[r]),m=B.useCallback(()=>{f({type:5,time:Date.now()})},[f]),g=B.useCallback((S,_)=>{f({type:1,toast:{id:S,height:_}})},[f]),b=B.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),v=B.useCallback((S,_)=>{let{reverseOrder:T=!1,gutter:M=8,defaultPosition:A}=_||{},O=a.filter(D=>(D.position||A)===(S.position||A)&&D.height),R=O.findIndex(D=>D.id===S.id),$=O.filter((D,C)=>C<R&&D.visible).length;return O.filter(D=>D.visible).slice(...T?[$+1]:[0,$]).reduce((D,C)=>D+(C.height||0)+M,0)},[a]);return B.useEffect(()=>{a.forEach(S=>{if(S.dismissed)d(S.id,S.removeDelay);else{let _=c.get(S.id);_&&(clearTimeout(_),c.delete(S.id))}})},[a,d]),{toasts:a,handlers:{updateHeight:g,startPause:m,endPause:b,calculateOffset:v}}},CT=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LT=ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BT=ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RT=lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PT=ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zT=lo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${PT} 1s linear infinite;
`,$T=ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HT=ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IT=lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$T} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GT=lo("div")`
  position: absolute;
`,UT=lo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZT=ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YT=lo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qT=({toast:t})=>{let{icon:r,type:a,iconTheme:s}=t;return r!==void 0?typeof r=="string"?B.createElement(YT,null,r):r:a==="blank"?null:B.createElement(UT,null,B.createElement(zT,{...s}),a!=="loading"&&B.createElement(GT,null,a==="error"?B.createElement(RT,{...s}):B.createElement(IT,{...s})))},FT=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VT=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,KT="0%{opacity:0;} 100%{opacity:1;}",XT="0%{opacity:1;} 100%{opacity:0;}",WT=lo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,QT=lo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,JT=(t,r)=>{let a=t.includes("top")?1:-1,[s,c]=l1()?[KT,XT]:[FT(a),VT(a)];return{animation:r?`${ua(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ua(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tE=B.memo(({toast:t,position:r,style:a,children:s})=>{let c=t.height?JT(t.position||r||"top-center",t.visible):{opacity:0},d=B.createElement(qT,{toast:t}),f=B.createElement(QT,{...t.ariaProps},mf(t.message,t));return B.createElement(WT,{className:t.className,style:{...c,...a,...t.style}},typeof s=="function"?s({icon:d,message:f}):B.createElement(B.Fragment,null,d,f))});wT(B.createElement);var eE=({id:t,className:r,style:a,onHeightUpdate:s,children:c})=>{let d=B.useCallback(f=>{if(f){let m=()=>{let g=f.getBoundingClientRect().height;s(t,g)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return B.createElement("div",{ref:d,className:r,style:a},c)},nE=(t,r)=>{let a=t.includes("top"),s=a?{top:0}:{bottom:0},c=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:l1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...s,...c}},rE=Pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ad=16,iE=({reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:c,toasterId:d,containerStyle:f,containerClassName:m})=>{let{toasts:g,handlers:b}=OT(a,d);return B.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:Ad,left:Ad,right:Ad,bottom:Ad,pointerEvents:"none",...f},className:m,onMouseEnter:b.startPause,onMouseLeave:b.endPause},g.map(v=>{let S=v.position||r,_=b.calculateOffset(v,{reverseOrder:t,gutter:s,defaultPosition:r}),T=nE(S,_);return B.createElement(eE,{id:v.id,key:v.id,onHeightUpdate:b.updateHeight,className:v.visible?rE:"",style:T},v.type==="custom"?mf(v.message,v):c?c(v):B.createElement(tE,{toast:v,position:S}))}))},r0=cn;function aE(t,r,a,s=0,c=0){r<=2&&(t-=1,r+=12);const d=Math.floor(t/100),f=2-d+Math.floor(d/4),m=a+(s+c/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+m+f-1524.5}const oE=864e5;function sE(t){const r=(t-24405875e-1)*oE;return new Date(r)}function lE(t,r=7){const a=t+(r-.5)/12;if(a>=1986&&a<2005){const c=a-2e3;return 63.86+.3345*c-.060374*c*c+.0017275*c**3+651814e-9*c**4+2373599e-11*c**5}if(a>=2005&&a<2050){const c=a-2e3;return 62.92+.32217*c+.005589*c*c}if(a>=2050&&a<=2150){const c=(a-1820)/100;return-20+32*c*c-.5628*(2150-a)}if(a>=1900&&a<1986)return-2.79+1.494119*(a-1900)-.0598939*(a-1900)**2+.0061966*(a-1900)**3-197e-6*(a-1900)**4;if(a>=1800&&a<1900){const c=(a-1800)/100;return 13.72-33.244*c+68.612*c**2-65.3*c**3-1.653*c**4+.3343*c**5-.012125*c**6+1348e-7*c**7-175e-8*c**8}const s=(a-1820)/100;return-20+32*s*s}function cE(t){const r=Math.floor(t+.5),a=t+.5-r;let s=r;if(r>=2299161){const S=Math.floor((r-186721625e-2)/36524.25);s=r+1+S-Math.floor(S/4)}const c=s+1524,d=Math.floor((c-122.1)/365.25),f=Math.floor(365.25*d),m=Math.floor((c-f)/30.6001),g=c-f-Math.floor(30.6001*m)+a;let b=m-1;b>12&&(b-=12);let v=d-4715;return b>2&&(v-=1),[v,b,g]}const Bc=Math.PI,Ko=Bc/180,uE=180/Bc,dE=86400;function fE(t){return t%=360,t<0?t+360:t}function hE(t,r){return(t-r+540)%360-180}function yv(t,r){for(;t-r>180;)t-=360;for(;t-r<-180;)t+=360;return t}function mE(t){const[r,a]=cE(t);return t+lE(r,Math.round(a))/dE}function vv(t,r){let a=0,s=1;for(let c=0;c<t.length;c++){let d=0;for(const[f,m,g]of t[c])d+=f*Math.cos(m+g*r);a+=d*s,s*=r}return a*1e-8}function pE(t){const r=(t-2451545)/36525,a=(297.85036+445267.11148*r-.0019142*r*r+r*r*r/189474)*Ko,s=(357.52772+35999.05034*r-1603e-7*r*r-r*r*r/3e5)*Ko,c=(134.96298+477198.867398*r+.0086972*r*r+r*r*r/56250)*Ko,d=(93.27191+483202.017538*r-.0036825*r*r+r*r*r/327270)*Ko,f=(125.04452-1934.136261*r+.0020708*r*r+r*r*r/45e4)*Ko,m=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let g=0,b=0;for(const[v,S,_,T,M,A,O,R,$]of m){const D=v*a+S*s+_*c+T*d+M*f;g+=(A+O*r)*Math.sin(D),b+=(R+$*r)*Math.cos(D)}return g*=1e-4,b*=1e-4,{dpsi:g,deps:b}}function Dd(t){const r=mE(t),a=(r-2451545)/365250,s=vv(xv.L,a),c=vv(xv.R,a);let d=s+Bc;d>2*Bc&&(d-=2*Bc);const{dpsi:f}=pE(r),m=f/3600*Ko,g=20.4898/(3600*c),b=d+m-g*Ko;return fE(b*uE)}function ln(t,r,a){const s=(r%360+360)%360,c=aE(t,1,1),d=Dd(c);let f=s-d;f<0&&(f+=360);let m=c+f/.98564736;const g=1e-6,b=5e-6;for(let _=0;_<25;_++){const T=Dd(m),M=hE(s,T);if(Math.abs(M)<g)break;const A=Dd(m+b),O=Dd(m-b),R=yv(A,T),$=yv(O,T),D=(R-$)/(2*b);m+=M/D}const v=sE(m),S=new Date(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),0,0);if(Number.isFinite(a)){const _=a/15-9;if(Math.abs(_)>1e-12)return new Date(S.getTime()+_*36e5)}return S}const xv={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},Kn=["갑","을","병","정","무","기","경","신","임","계"],or=["자","축","인","묘","진","사","오","미","신","유","술","해"],Fr={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},Nr={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},gE=["목","목","화","화","토","토","금","금","수","수"],bE=["수","토","목","목","토","화","화","토","금","금","토","수"],yE=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],vE=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],$f=new Set(Kn),Ep=new Set(or),Hf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Mp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},h1=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],Np={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},m1={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},_v=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],xE={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},_E={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function SE(t,r=127.5){return(de(t,r)||"").charAt(0)}const Sv=new Map;function p1(t,r=127.5){const a=`${t}@${r}`,s=Sv.get(a);if(s)return s;const c=ln(t,315,r);if(!c)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${r}`);return Sv.set(a,c),c}const wE=(t,r)=>(t%r+r)%r,g1=t=>t instanceof Date&&!Number.isNaN(t.getTime());function b1(t,r=127.5){if(!g1(t))throw new Error("resolveYearIndex: invalid date");const a=t.getFullYear(),s=p1(a,r),c=t<s?a-1:a,d=wE(c-4,60);return{useYear:c,index60Num:d}}function de(t,r=127.5){const{index60Num:a}=b1(t,r);return h1[a]}const TE=[2,4,6,8,0,2,4,6,8,0];function EE(t,r=127.5){const a=new Array(12);return a[0]=p1(t,r),a[1]=ln(t,345,r),a[2]=ln(t,15,r),a[3]=ln(t,45,r),a[4]=ln(t,75,r),a[5]=ln(t,105,r),a[6]=ln(t,135,r),a[7]=ln(t,165,r),a[8]=ln(t,195,r),a[9]=ln(t,225,r),a[10]=ln(t,255,r),a[11]=ln(t+1,285,r),a.map(s=>new Date(s.getTime()+1800*1e3))}function ME(t,r=127.5){const{useYear:a}=b1(t,r),s=EE(a,r);let c=0;for(let f=0;f<12;f++)t>=s[f]&&(c=f);return{monthIndex:c+1,useYear:a,boundaries:s}}function NE(t,r=127.5){const a=SE(t,r),s=Fr.천간.indexOf(a);if(s<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${a}"`);return TE[s]}function AE(t,r,a=127.5){return(NE(t,a)+(r-1))%10}function Se(t,r=127.5){if(!g1(t))return"";const{monthIndex:a}=ME(t,r),s=(2+(a-1))%12,c=Fr.지지[s],d=AE(t,a,r);return Fr.천간[d]+c}const DE=(t,r)=>(t%r+r)%r;function jE(t,r,a,s=0,c=0,d=0){r<=2&&(t-=1,r+=12);const f=Math.floor(t/100),m=2-f+Math.floor(f/4),g=(s+c/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+a+g+m-1524.5}function kE(t,r){const a=t.getHours(),s=t.getMinutes(),c=a*60+s,d=y1(t);return r==="자시"&&d==="자"?c>=1380?1:0:r==="인시"&&(d==="자"||d==="축")?c<180?-1:0:(c<0,0)}const wv={JDN:2445731,idx:0};function ue(t,r){const a=kE(t,r),s=new Date(t.getTime());s.setDate(s.getDate()+a);const c=jE(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes()),d=Math.floor(c+.5),f=DE(d-wv.JDN+wv.idx,60),m=h1[f];if(!m)throw new Error(`getDayGanZhi: idx=${f} out of range (jdn=${d}, jd=${c})`);return m}function y1(t){t instanceof Date||(t=new Date(t));const r=t.getHours()*60+t.getMinutes();for(let a=0;a<_v.length;a++){const{branch:s,start:c,end:d}=_v[a];if(c<d){if(r>=c&&r<d)return s}else if(r>=c||r<d)return s}return"자"}function OE(t,r,a,s){const c=Kn.indexOf(r);if(c<0)return"";let d=(c%5*2+a)%10;const f=t.getHours();return(s==="인시"||s==="조자시/야자시"&&f>=3)&&(a===0||a===1)&&(d=(d+2)%10),Kn[d]}function Kr(t,r,a){t instanceof Date||(t=new Date(t));const s=y1(t),c=or.indexOf(s),f=(a??ue(t,r)).charAt(0);return OE(t,f,c,r)+s}const Tv=t=>{let r;const a=new Set,s=(b,v)=>{const S=typeof b=="function"?b(r):b;if(!Object.is(S,r)){const _=r;r=v??(typeof S!="object"||S===null)?S:Object.assign({},r,S),a.forEach(T=>T(r,_))}},c=()=>r,m={setState:s,getState:c,getInitialState:()=>g,subscribe:b=>(a.add(b),()=>a.delete(b))},g=r=t(s,c,m);return m},CE=(t=>t?Tv(t):Tv),LE=t=>t;function BE(t,r=LE){const a=ze.useSyncExternalStore(t.subscribe,ze.useCallback(()=>r(t.getState()),[t,r]),ze.useCallback(()=>r(t.getInitialState()),[t,r]));return ze.useDebugValue(a),a}const Ev=t=>{const r=CE(t),a=s=>BE(r,s);return Object.assign(a,r),a},Wc=(t=>t?Ev(t):Ev);function RE(t,r){let a;try{a=t()}catch{return}return{getItem:c=>{var d;const f=g=>g===null?null:JSON.parse(g,void 0),m=(d=a.getItem(c))!=null?d:null;return m instanceof Promise?m.then(f):f(m)},setItem:(c,d)=>a.setItem(c,JSON.stringify(d,void 0)),removeItem:c=>a.removeItem(c)}}const op=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return op(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return op(s)(a)}}}},PE=(t,r)=>(a,s,c)=>{let d={storage:RE(()=>localStorage),partialize:A=>A,version:0,merge:(A,O)=>({...O,...A}),...r},f=!1;const m=new Set,g=new Set;let b=d.storage;if(!b)return t((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...A)},s,c);const v=()=>{const A=d.partialize({...s()});return b.setItem(d.name,{state:A,version:d.version})},S=c.setState;c.setState=(A,O)=>(S(A,O),v());const _=t((...A)=>(a(...A),v()),s,c);c.getInitialState=()=>_;let T;const M=()=>{var A,O;if(!b)return;f=!1,m.forEach($=>{var D;return $((D=s())!=null?D:_)});const R=((O=d.onRehydrateStorage)==null?void 0:O.call(d,(A=s())!=null?A:_))||void 0;return op(b.getItem.bind(b))(d.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==d.version){if(d.migrate){const D=d.migrate($.state,$.version);return D instanceof Promise?D.then(C=>[!0,C]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var D;const[C,k]=$;if(T=d.merge(k,(D=s())!=null?D:_),a(T,!0),C)return v()}).then(()=>{R?.(T,void 0),T=s(),f=!0,g.forEach($=>$(T))}).catch($=>{R?.(void 0,$)})};return c.persist={setOptions:A=>{d={...d,...A},A.storage&&(b=A.storage)},clearStorage:()=>{b?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>M(),hasHydrated:()=>f,onHydrate:A=>(m.add(A),()=>{m.delete(A)}),onFinishHydration:A=>(g.add(A),()=>{g.delete(A)})},d.skipHydration||M(),T||_},Ap=PE,sp={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"조자시/야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},sr=Wc()(Ap((t,r)=>({settings:sp,setSettings:a=>t({settings:a}),setKey:(a,s)=>t({settings:{...r().settings,[a]:s}}),reset:()=>t({settings:sp})}),{name:"settings_v1"}));function lp(t){const r=Kn.indexOf(t);if(r!==-1)return Kn[r];const a=Nr.천간.indexOf(t);return a!==-1?Kn[a]:null}function v1(t){const r=or.indexOf(t);if(r!==-1)return or[r];const a=Nr.지지.indexOf(t);return a!==-1?or[a]:null}function Mv(t,r){if(r?.difficultyMode)return r?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function Mr(t,r,a){if(r==="stem"){const s=lp(t);if(!s)return console.warn("Invalid stem:",t),"bg-neutral-700";const c=Kn.indexOf(s),d=c>=0?gE[c]:void 0;return Mv(d,a)}else{const s=v1(t);if(!s)return console.warn("Invalid branch:",t),"bg-neutral-700";const c=or.indexOf(s),d=c>=0?bE[c]:void 0;return Mv(d,a)}}function Vn(t,r){const a=lp(t);if(!a)throw new Error(`getSipSin: invalid dayStem ${t}`);if(r.stem){const s=lp(r.stem);if(!s)throw new Error(`getSipSin: invalid stem ${r.stem}`);return xE[a][s]}if(r.branch){const s=v1(r.branch);if(!s)throw new Error(`getSipSin: invalid branch ${r.branch}`);return _E[a][s]}throw new Error("getSipSin: stem or branch required")}const If={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},Gf={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function kc({branch:t,dayStem:r,mode:a="all",mapping:s="classic",variant:c="auto",isUnknownTime:d=!1}){const f=(s==="hgc"?Gf:If)[t]??[],m=a==="main"?[f[2]]:f,g=c==="white",b=g?"text-white":"text-neutral-800 dark:text-white",v=g?"border-white":"border-neutral-800 dark: border-neutral-200",S=g?"text-yellow-900":"text-red-600 dark:text-yellow-300";return y.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:m.map((_,T)=>_==="(-)"||d?y.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap`,children:"(-) (없음)"},T):y.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap 
            ${a==="main"||T===2?`jeonggi bg-neutral-500/50 ${S} font-bold`:""}`,children:[_," (",Vn(r,{stem:_}),")"]},T))})}const el=Wc(t=>({manualHour:null,setManualHour:r=>t({manualHour:r}),clearManualHour:()=>t({manualHour:null})})),Dp={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},x1=Object.fromEntries(Object.entries(Dp).map(([t,r])=>[r,t])),jp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},_1=Object.fromEntries(Object.entries(jp).map(([t,r])=>[r,t]));function Nv(t){return Fr.천간.includes(t)}function Av(t){return Fr.지지.includes(t)}function zE(t){return Nr.천간.includes(t)}function $E(t){return Nr.지지.includes(t)}function Dv(t,r,a){return a==="한글"?r==="stem"?Dp[t]??t:jp[t]??t:r==="stem"?x1[t]??t:_1[t]??t}function jv(t){const r=x1[t]??t;return zE(r)?r:"갑"}function HE(t){const r=_1[t]??t;return $E(r)?r:"자"}function IE(t){if(Nv(t))return t;const r=Dp[t]??t;return Nv(r)?r:"갑"}function GE(t){if(Av(t))return t;const r=jp[t]??t;return Av(r)?r:"자"}const UE=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),ZE=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),YE=t=>UE.has(t),qE=t=>ZE.has(t);function Ks({label:t,gz:r,dayStem:a,settings:s,unseongText:c,shinsalText:d,hideBranchSipSin:f=!0,hideHiddenStems:m=!1,size:g="sm",variant:b="auto",isUnknownTime:v=!1}){const{manualHour:S}=el(),_=v&&!S,T=r.charAt(0),M=r.charAt(1),A=Dv(T,"stem",s.charType),O=Dv(M,"branch",s.charType),R=jv(T),$=HE(M),D=jv(a),C=GE(M),k=IE(a),K=s.showSipSin?Vn(D,{stem:R}):null,F=!f&&s.showSipSin?Vn(D,{branch:$}):null,tt=s.thinEum&&YE(T)?"font-thin":"font-bold",et=s.thinEum&&qE(M)?"font-thin":"font-bold",it={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},q=!m&&!!s.hiddenStem,I=s.hiddenStem==="regular"?"main":"all",Q=s.hiddenStemMode==="hgc"?"hgc":"classic",nt=b==="white",at=nt?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",G=nt?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",ot=nt?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",st=nt?"text-neutral-500":"text-neutral-400",_t=nt?"text-neutral-500":"text-neutral-400",{settings:j}=sr(),H=_?`bg-white ${ot}`:`${Mr(R,"stem",j)} ${ot}`,Z=_?`bg-white ${ot}`:`${Mr($,"branch",j)} ${ot}`,J=_?"text-black":j.difficultyMode?j.theme==="light"?"text-neutral-900":"text-black":"text-white",V=_?"text-black":j.difficultyMode?j.theme==="light"?"text-neutral-900":"text-black":"text-white";return y.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${at}`,children:[y.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${G} text-nowrap`,children:t}),y.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[K&&y.jsx("div",{className:`text-[10px] desk:text-xs ${st} text-nowrap`,children:v&&!S?"-":K}),y.jsx("div",{className:`${it[g]} rounded-sm desk:rounded-lg flex items-center justify-center border ${H}`,children:y.jsx("span",{className:`text-2xl md:text-3xl ${J} ${tt}`,children:_?"-":A})}),y.jsx("div",{className:`${it[g]} rounded-sm desk:rounded-lg flex items-center justify-center border ${Z}`,children:y.jsx("span",{className:`text-2xl md:text-3xl ${V} ${et}`,children:_?"-":O})}),q&&y.jsx(kc,{branch:C,dayStem:k,mode:I,mapping:Q,isUnknownTime:v&&!S&&(t==="시주"||t==="일주")}),F&&y.jsx("div",{className:`text-[10px] desk:text-xs ${_t}`,children:v&&!S?"-":F}),s.showSibiUnseong&&y.jsx("div",{className:`text-[10px] desk:text-xs ${_t} text-nowrap`,children:v&&!S?"-":c||""}),s.showSibiSinsal&&y.jsx("div",{className:`text-[10px] desk:text-xs ${_t} text-nowrap`,children:v&&!S?"-":d||""})]})]})}const FE=new Set(Nr.천간);function VE(t){return $f.has(t)?t:FE.has(t)?Hf[t]:"갑"}function KE({label:t,settings:r,hideBranchSipSin:a=!0}){const s=r.showSipSin,c=!!r.hiddenStem,f=(r.hiddenStem==="regular"?"main":"all")==="main"?1:3,m=r.showSipSin&&!a;return y.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[y.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),y.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[s&&y.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),y.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:y.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),y.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:y.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),c&&y.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:f}).map((g,b)=>y.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},b))}),m&&y.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function XE(){const t=sr(M=>M.settings),[r,a]=B.useState(new Date),[s,c]=B.useState(!0),[d,f]=B.useState("조자시/야자시"),[m,g]=B.useState(!1);B.useEffect(()=>{if(!s)return;const M=setInterval(()=>a(new Date),1e3);return()=>clearInterval(M)},[s]);const b=de(r),v=Se(r),S=ue(r,d),_=Kr(r,"조자시/야자시"),T=VE(S.charAt(0));return y.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:y.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[y.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[y.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",y.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",s?"실시간":"수동선택",") ",JE(r)]})]}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsxs("select",{value:d,onChange:M=>f(M.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[y.jsx("option",{value:"자시",children:"야자시 (전날 23시)"}),y.jsx("option",{value:"조자시/야자시",children:"조자시/야자시 (자정)"}),y.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),y.jsx("button",{onClick:()=>c(!s),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:s?"피커 사용":"타이머 사용"})]})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[m?y.jsx(KE,{label:"시주",settings:t,hideBranchSipSin:!0}):y.jsx(Ks,{label:"시주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),y.jsx(Ks,{label:"일주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),y.jsx(Ks,{label:"월주",gz:v,dayStem:T,settings:t,hideBranchSipSin:!0}),y.jsx(Ks,{label:"연주",gz:b,dayStem:T,settings:t,hideBranchSipSin:!0})]}),y.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[y.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),y.jsx("input",{type:"datetime-local",value:WE(r),disabled:s,onChange:M=>{const A=QE(M.target.value);A&&a(A)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),y.jsx("button",{onClick:()=>g(M=>!M),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${m?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:m?"시주 표시":"시주 비우기"})]})]})})}function WE(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function QE(t){if(!t)return null;const[r,a]=t.split("T");if(!r||!a)return null;const[s,c,d]=r.split("-").map(Number),[f,m]=a.split(":").map(Number),g=new Date(s,c-1,d,f,m);return Number.isNaN(g.getTime())?null:g}function JE(t){const r=a=>a.toString().padStart(2,"0");return`${r(t.getHours())}:${r(t.getMinutes())}:${r(t.getSeconds())}`}const Tn=[];for(let t=0;t<256;++t)Tn.push((t+256).toString(16).slice(1));function tM(t,r=0){return(Tn[t[r+0]]+Tn[t[r+1]]+Tn[t[r+2]]+Tn[t[r+3]]+"-"+Tn[t[r+4]]+Tn[t[r+5]]+"-"+Tn[t[r+6]]+Tn[t[r+7]]+"-"+Tn[t[r+8]]+Tn[t[r+9]]+"-"+Tn[t[r+10]]+Tn[t[r+11]]+Tn[t[r+12]]+Tn[t[r+13]]+Tn[t[r+14]]+Tn[t[r+15]]).toLowerCase()}let i0;const eM=new Uint8Array(16);function nM(){if(!i0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i0=crypto.getRandomValues.bind(crypto)}return i0(eM)}const rM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kv={randomUUID:rM};function S1(t,r,a){if(kv.randomUUID&&!t)return kv.randomUUID();t=t||{};const s=t.random??t.rng?.()??nM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,tM(s)}var Oc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var iM=Oc.exports,Ov;function aM(){return Ov||(Ov=1,(function(t,r){(function(a,s){s(r)})(iM,(function(a){var s="1.9.4";function c(i){var l,h,w,E;for(h=1,w=arguments.length;h<w;h++){E=arguments[h];for(l in E)i[l]=E[l]}return i}var d=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function f(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var w=h.call(arguments,2);return function(){return i.apply(l,w.length?w.concat(h.call(arguments)):arguments)}}var m=0;function g(i){return"_leaflet_id"in i||(i._leaflet_id=++m),i._leaflet_id}function b(i,l,h){var w,E,P,X;return X=function(){w=!1,E&&(P.apply(h,E),E=!1)},P=function(){w?E=arguments:(i.apply(h,arguments),setTimeout(X,l),w=!0)},P}function v(i,l,h){var w=l[1],E=l[0],P=w-E;return i===w&&h?i:((i-E)%P+P)%P+E}function S(){return!1}function _(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function T(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function M(i){return T(i).split(/\s+/)}function A(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?d(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function O(i,l,h){var w=[];for(var E in i)w.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(i[E]));return(!l||l.indexOf("?")===-1?"?":"&")+w.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function $(i,l){return i.replace(R,function(h,w){var E=l[w];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var D=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function C(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var F=0;function tt(i){var l=+new Date,h=Math.max(0,16-(l-F));return F=l+h,window.setTimeout(i,h)}var et=window.requestAnimationFrame||K("RequestAnimationFrame")||tt,it=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function q(i,l,h){if(h&&et===tt)i.call(l);else return et.call(window,f(i,l))}function I(i){i&&it.call(window,i)}var Q={__proto__:null,extend:c,create:d,bind:f,get lastId(){return m},stamp:g,throttle:b,wrapNum:v,falseFn:S,formatNum:_,trim:T,splitWords:M,setOptions:A,getParamString:O,template:$,isArray:D,indexOf:C,emptyImageUrl:k,requestFn:et,cancelFn:it,requestAnimFrame:q,cancelAnimFrame:I};function nt(){}nt.extend=function(i){var l=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,w=d(h);w.constructor=l,l.prototype=w;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return i.statics&&c(l,i.statics),i.includes&&(at(i.includes),c.apply(null,[w].concat(i.includes))),c(w,i),delete w.statics,delete w.includes,w.options&&(w.options=h.options?d(h.options):{},c(w.options,i.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,X=w._initHooks.length;P<X;P++)w._initHooks[P].call(this)}},l},nt.include=function(i){var l=this.prototype.options;return c(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},nt.mergeOptions=function(i){return c(this.prototype.options,i),this},nt.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function at(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=D(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(i,l,h){if(typeof i=="object")for(var w in i)this._on(w,i[w],l);else{i=M(i);for(var E=0,P=i.length;E<P;E++)this._on(i[E],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var w in i)this._off(w,i[w],l);else{i=M(i);for(var E=arguments.length===1,P=0,X=i.length;P<X;P++)E?this._off(i[P]):this._off(i[P],l,h)}return this},_on:function(i,l,h,w){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};w&&(E.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(E)}},_off:function(i,l,h){var w,E,P;if(this._events&&(w=this._events[i],!!w)){if(arguments.length===1){if(this._firingCount)for(E=0,P=w.length;E<P;E++)w[E].fn=S;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var X=this._listens(i,l,h);if(X!==!1){var ut=w[X];this._firingCount&&(ut.fn=S,this._events[i]=w=w.slice()),w.splice(X,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var w=c({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[i];if(E){this._firingCount=this._firingCount+1||1;for(var P=0,X=E.length;P<X;P++){var ut=E[P],yt=ut.fn;ut.once&&this.off(i,yt,ut.ctx),yt.call(ut.ctx||this,w)}this._firingCount--}}return h&&this._propagateEvent(w),this},listens:function(i,l,h,w){typeof i!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(w=!!l,E=void 0,h=void 0);var P=this._events&&this._events[i];if(P&&P.length&&this._listens(i,E,h)!==!1)return!0;if(w){for(var X in this._eventParents)if(this._eventParents[X].listens(i,l,h,w))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var w=this._events[i]||[];if(!l)return!!w.length;h===this&&(h=void 0);for(var E=0,P=w.length;E<P;E++)if(w[E].fn===l&&w[E].ctx===h)return E;return!1},once:function(i,l,h){if(typeof i=="object")for(var w in i)this._on(w,i[w],l,!0);else{i=M(i);for(var E=0,P=i.length;E<P;E++)this._on(i[E],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[g(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[g(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,c({layer:i.target,propagatedFrom:i.target},i),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ot=nt.extend(G);function st(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var _t=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};st.prototype={clone:function(){return new st(this.x,this.y)},add:function(i){return this.clone()._add(j(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(j(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new st(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new st(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_t(this.x),this.y=_t(this.y),this},distanceTo:function(i){i=j(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=j(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=j(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function j(i,l,h){return i instanceof st?i:D(i)?new st(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new st(i.x,i.y):new st(i,l,h)}function H(i,l){if(i)for(var h=l?[i,l]:i,w=0,E=h.length;w<E;w++)this.extend(h[w])}H.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof st||typeof i[0]=="number"||"x"in i)l=h=j(i);else if(i=Z(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof st?i=j(i):i=Z(i),i instanceof H?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=Z(i);var l=this.min,h=this.max,w=i.min,E=i.max,P=E.x>=l.x&&w.x<=h.x,X=E.y>=l.y&&w.y<=h.y;return P&&X},overlaps:function(i){i=Z(i);var l=this.min,h=this.max,w=i.min,E=i.max,P=E.x>l.x&&w.x<h.x,X=E.y>l.y&&w.y<h.y;return P&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,w=Math.abs(l.x-h.x)*i,E=Math.abs(l.y-h.y)*i;return Z(j(l.x-w,l.y-E),j(h.x+w,h.y+E))},equals:function(i){return i?(i=Z(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function Z(i,l){return!i||i instanceof H?i:new H(i,l)}function J(i,l){if(i)for(var h=l?[i,l]:i,w=0,E=h.length;w<E;w++)this.extend(h[w])}J.prototype={extend:function(i){var l=this._southWest,h=this._northEast,w,E;if(i instanceof U)w=i,E=i;else if(i instanceof J){if(w=i._southWest,E=i._northEast,!w||!E)return this}else return i?this.extend(Y(i)||V(i)):this;return!l&&!h?(this._southWest=new U(w.lat,w.lng),this._northEast=new U(E.lat,E.lng)):(l.lat=Math.min(w.lat,l.lat),l.lng=Math.min(w.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,w=Math.abs(l.lat-h.lat)*i,E=Math.abs(l.lng-h.lng)*i;return new J(new U(l.lat-w,l.lng-E),new U(h.lat+w,h.lng+E))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof U||"lat"in i?i=Y(i):i=V(i);var l=this._southWest,h=this._northEast,w,E;return i instanceof J?(w=i.getSouthWest(),E=i.getNorthEast()):w=E=i,w.lat>=l.lat&&E.lat<=h.lat&&w.lng>=l.lng&&E.lng<=h.lng},intersects:function(i){i=V(i);var l=this._southWest,h=this._northEast,w=i.getSouthWest(),E=i.getNorthEast(),P=E.lat>=l.lat&&w.lat<=h.lat,X=E.lng>=l.lng&&w.lng<=h.lng;return P&&X},overlaps:function(i){i=V(i);var l=this._southWest,h=this._northEast,w=i.getSouthWest(),E=i.getNorthEast(),P=E.lat>l.lat&&w.lat<h.lat,X=E.lng>l.lng&&w.lng<h.lng;return P&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=V(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(i,l){return i instanceof J?i:new J(i,l)}function U(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}U.prototype={equals:function(i,l){if(!i)return!1;i=Y(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+_(this.lat,i)+", "+_(this.lng,i)+")"},distanceTo:function(i){return gt.distance(this,Y(i))},wrap:function(){return gt.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return V([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new U(this.lat,this.lng,this.alt)}};function Y(i,l,h){return i instanceof U?i:D(i)&&typeof i[0]!="object"?i.length===3?new U(i[0],i[1],i[2]):i.length===2?new U(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new U(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new U(i,l,h)}var ht={latLngToPoint:function(i,l){var h=this.projection.project(i),w=this.scale(l);return this.transformation._transform(h,w)},pointToLatLng:function(i,l){var h=this.scale(l),w=this.transformation.untransform(i,h);return this.projection.unproject(w)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),w=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new H(w,E)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?v(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?v(i.lat,this.wrapLat,!0):i.lat,w=i.alt;return new U(h,l,w)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),w=l.lat-h.lat,E=l.lng-h.lng;if(w===0&&E===0)return i;var P=i.getSouthWest(),X=i.getNorthEast(),ut=new U(P.lat-w,P.lng-E),yt=new U(X.lat-w,X.lng-E);return new J(ut,yt)}},gt=c({},ht,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,w=i.lat*h,E=l.lat*h,P=Math.sin((l.lat-i.lat)*h/2),X=Math.sin((l.lng-i.lng)*h/2),ut=P*P+Math.cos(w)*Math.cos(E)*X*X,yt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*yt}}),Et=6378137,Ct={R:Et,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,w=Math.max(Math.min(h,i.lat),-h),E=Math.sin(w*l);return new st(this.R*i.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(i){var l=180/Math.PI;return new U((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=Et*Math.PI;return new H([-i,-i],[i,i])})()};function Pt(i,l,h,w){if(D(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=w}Pt.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new st((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function kt(i,l,h,w){return new Pt(i,l,h,w)}var Bt=c({},gt,{code:"EPSG:3857",projection:Ct,transformation:(function(){var i=.5/(Math.PI*Ct.R);return kt(i,.5,-i,.5)})()}),wt=c({},Bt,{code:"EPSG:900913"});function At(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ut(i,l){var h="",w,E,P,X,ut,yt;for(w=0,P=i.length;w<P;w++){for(ut=i[w],E=0,X=ut.length;E<X;E++)yt=ut[E],h+=(E?"L":"M")+yt.x+" "+yt.y;h+=l?Zt.svg?"z":"x":""}return h||"M0 0"}var Yt=document.documentElement.style,Vt="ActiveXObject"in window,vt=Vt&&!document.addEventListener,zt="msLaunchUri"in navigator&&!("documentMode"in document),ct=tr("webkit"),dt=tr("android"),Ot=tr("android 2")||tr("android 3"),Ht=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rt=dt&&tr("Google")&&Ht<537&&!("AudioNode"in window),ne=!!window.opera,ee=!zt&&tr("chrome"),Ne=tr("gecko")&&!ct&&!ne&&!Vt,ye=!ee&&tr("safari"),Bn=tr("phantom"),Wr="OTransition"in Yt,Qr=navigator.platform.indexOf("Win")===0,Mn=Vt&&"transition"in Yt,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ot,an="MozPerspective"in Yt,Jr=!window.L_DISABLE_3D&&(Mn||Nn||an)&&!Wr&&!Bn,Qn=typeof orientation<"u"||tr("mobile"),pl=Qn&&ct,co=Qn&&Nn,ti=!window.PointerEvent&&window.MSPointerEvent,Jn=!!(window.PointerEvent||ti),ji="ontouchstart"in window||!!window.TouchEvent,gl=!window.L_NO_TOUCH&&(ji||Jn),uo=Qn&&ne,ou=Qn&&Ne,bl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yl=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",S,l),window.removeEventListener("testPassiveEventSupport",S,l)}catch{}return i})(),su=(function(){return!!document.createElement("canvas").getContext})(),vl=!!(document.createElementNS&&At("svg").createSVGRect),mi=!!vl&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),un=!vl&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),An=navigator.platform.indexOf("Mac")===0,da=navigator.platform.indexOf("Linux")===0;function tr(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Zt={ie:Vt,ielt9:vt,edge:zt,webkit:ct,android:dt,android23:Ot,androidStock:Rt,opera:ne,chrome:ee,gecko:Ne,safari:ye,phantom:Bn,opera12:Wr,win:Qr,ie3d:Mn,webkit3d:Nn,gecko3d:an,any3d:Jr,mobile:Qn,mobileWebkit:pl,mobileWebkit3d:co,msPointer:ti,pointer:Jn,touch:gl,touchNative:ji,mobileOpera:uo,mobileGecko:ou,retina:bl,passiveEvents:yl,canvas:su,svg:vl,vml:un,inlineSvg:mi,mac:An,linux:da},lu=Zt.msPointer?"MSPointerDown":"pointerdown",xl=Zt.msPointer?"MSPointerMove":"pointermove",fa=Zt.msPointer?"MSPointerUp":"pointerup",ns=Zt.msPointer?"MSPointerCancel":"pointercancel",pi={touchstart:lu,touchmove:xl,touchend:fa,touchcancel:ns},ki={touchstart:du,touchmove:fo,touchend:fo,touchcancel:fo},Ar={},Oi=!1;function en(i,l,h){return l==="touchstart"&&sh(),ki[l]?(h=ki[l].bind(this,h),i.addEventListener(pi[l],h,!1),h):(console.warn("wrong event specified:",l),S)}function cu(i,l,h){if(!pi[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(pi[l],h,!1)}function uu(i){Ar[i.pointerId]=i}function Ci(i){Ar[i.pointerId]&&(Ar[i.pointerId]=i)}function Li(i){delete Ar[i.pointerId]}function sh(){Oi||(document.addEventListener(lu,uu,!0),document.addEventListener(xl,Ci,!0),document.addEventListener(fa,Li,!0),document.addEventListener(ns,Li,!0),Oi=!0)}function fo(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Ar)l.touches.push(Ar[h]);l.changedTouches=[l],i(l)}}function du(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ve(l),fo(i,l)}function lh(i){var l={},h,w;for(w in i)h=i[w],l[w]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var rs=200;function is(i,l){i.addEventListener("dblclick",l);var h=0,w;function E(P){if(P.detail!==1){w=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var X=wl(P);if(!(X.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!X.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var ut=Date.now();ut-h<=rs?(w++,w===2&&l(lh(P))):w=1,h=ut}}}return i.addEventListener("click",E),{dblclick:l,simDblclick:E}}function ei(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var ho=ga(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ha=ga(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bi=ha==="webkitTransition"||ha==="OTransition"?ha+"End":"transitionend";function as(i){return typeof i=="string"?document.getElementById(i):i}function Ri(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(i,null);h=w?w[l]:null}return h==="auto"?null:h}function fe(i,l,h){var w=document.createElement(i);return w.className=l||"",h&&h.appendChild(w),w}function je(i){var l=i.parentNode;l&&l.removeChild(i)}function yn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Pi(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function ma(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function pa(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=vn(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function re(i,l){if(i.classList!==void 0)for(var h=M(l),w=0,E=h.length;w<E;w++)i.classList.add(h[w]);else if(!pa(i,l)){var P=vn(i);_l(i,(P?P+" ":"")+l)}}function ke(i,l){i.classList!==void 0?i.classList.remove(l):_l(i,T((" "+vn(i)+" ").replace(" "+l+" "," ")))}function _l(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function vn(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Dn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&fu(i,l)}function fu(i,l){var h=!1,w="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(w)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+w+"(opacity="+l+")"}function ga(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function er(i,l,h){var w=l||new st(0,0);i.style[ho]=(Zt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(h?" scale("+h+")":"")}function Ue(i,l){i._leaflet_pos=l,Zt.any3d?er(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function gi(i){return i._leaflet_pos||new st(0,0)}var Dr,mo,os;if("onselectstart"in document)Dr=function(){te(window,"selectstart",Ve)},mo=function(){pe(window,"selectstart",Ve)};else{var ba=ga(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dr=function(){if(ba){var i=document.documentElement.style;os=i[ba],i[ba]="none"}},mo=function(){ba&&(document.documentElement.style[ba]=os,os=void 0)}}function po(){te(window,"dragstart",Ve)}function Sl(){pe(window,"dragstart",Ve)}var ss,ya;function go(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(va(),ss=i,ya=i.style.outlineStyle,i.style.outlineStyle="none",te(window,"keydown",va))}function va(){ss&&(ss.style.outlineStyle=ya,ss=void 0,ya=void 0,pe(window,"keydown",va))}function zi(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function bi(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var hu={__proto__:null,TRANSFORM:ho,TRANSITION:ha,TRANSITION_END:Bi,get:as,getStyle:Ri,create:fe,remove:je,empty:yn,toFront:Pi,toBack:ma,hasClass:pa,addClass:re,removeClass:ke,setClass:_l,getClass:vn,setOpacity:Dn,testProp:ga,setTransform:er,setPosition:Ue,getPosition:gi,get disableTextSelection(){return Dr},get enableTextSelection(){return mo},disableImageDrag:po,enableImageDrag:Sl,preventOutline:go,restoreOutline:va,getSizedParentNode:zi,getScale:bi};function te(i,l,h,w){if(l&&typeof l=="object")for(var E in l)$i(i,E,l[E],h);else{l=M(l);for(var P=0,X=l.length;P<X;P++)$i(i,l[P],h,w)}return this}var lr="_leaflet_events";function pe(i,l,h,w){if(arguments.length===1)jr(i),delete i[lr];else if(l&&typeof l=="object")for(var E in l)kr(i,E,l[E],h);else if(l=M(l),arguments.length===2)jr(i,function(ut){return C(l,ut)!==-1});else for(var P=0,X=l.length;P<X;P++)kr(i,l[P],h,w);return this}function jr(i,l){for(var h in i[lr]){var w=h.split(/\d/)[0];(!l||l(w))&&kr(i,w,null,null,h)}}var bo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $i(i,l,h,w){var E=l+g(h)+(w?"_"+g(w):"");if(i[lr]&&i[lr][E])return this;var P=function(ut){return h.call(w||i,ut||window.event)},X=P;!Zt.touchNative&&Zt.pointer&&l.indexOf("touch")===0?P=en(i,l,P):Zt.touch&&l==="dblclick"?P=is(i,P):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(bo[l]||l,P,Zt.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(P=function(ut){ut=ut||window.event,Ii(i,ut)&&X(ut)},i.addEventListener(bo[l],P,!1)):i.addEventListener(l,X,!1):i.attachEvent("on"+l,P),i[lr]=i[lr]||{},i[lr][E]=P}function kr(i,l,h,w,E){E=E||l+g(h)+(w?"_"+g(w):"");var P=i[lr]&&i[lr][E];if(!P)return this;!Zt.touchNative&&Zt.pointer&&l.indexOf("touch")===0?cu(i,l,P):Zt.touch&&l==="dblclick"?ei(i,P):"removeEventListener"in i?i.removeEventListener(bo[l]||l,P,!1):i.detachEvent("on"+l,P),i[lr][E]=null}function ni(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function xa(i){return $i(i,"wheel",ni),this}function _a(i){return te(i,"mousedown touchstart dblclick contextmenu",ni),i._leaflet_disable_click=!0,this}function Ve(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Or(i){return Ve(i),ni(i),this}function wl(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function xn(i,l){if(!l)return new st(i.clientX,i.clientY);var h=bi(l),w=h.boundingClientRect;return new st((i.clientX-w.left)/h.x-l.clientLeft,(i.clientY-w.top)/h.y-l.clientTop)}var Hi=Zt.linux&&Zt.chrome?window.devicePixelRatio:Zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yo(i){return Zt.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Hi:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ii(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var ch={__proto__:null,on:te,off:pe,stopPropagation:ni,disableScrollPropagation:xa,disableClickPropagation:_a,preventDefault:Ve,stop:Or,getPropagationPath:wl,getMousePosition:xn,getWheelDelta:yo,isExternalTarget:Ii,addListener:te,removeListener:pe},ls=ot.extend({run:function(i,l,h,w){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=gi(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),Ue(this._el,h),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),oe=ot.extend({options:{crs:Bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=A(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Y(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ha&&Zt.any3d&&!Zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),te(this._proxy,Bi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(Y(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var w=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(Zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(Zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var w=this.getZoomScale(l),E=this.getSize().divideBy(2),P=i instanceof st?i:this.latLngToContainerPoint(i),X=P.subtract(E).multiplyBy(1-1/w),ut=this.containerPointToLatLng(E.add(X));return this.setView(ut,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():V(i);var h=j(l.paddingTopLeft||l.padding||[0,0]),w=j(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(i,!1,h.add(w));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:i.getCenter(),zoom:E};var P=w.subtract(h).divideBy(2),X=this.project(i.getSouthWest(),E),ut=this.project(i.getNorthEast(),E),yt=this.unproject(X.add(ut).divideBy(2).add(P),E);return{center:yt,zoom:E}},fitBounds:function(i,l){if(i=V(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=j(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ls,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){re(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!Zt.any3d)return this.setView(i,l,h);this._stop();var w=this.project(this.getCenter()),E=this.project(i),P=this.getSize(),X=this._zoom;i=Y(i),l=l===void 0?X:l;var ut=Math.max(P.x,P.y),yt=ut*this.getZoomScale(X,l),Nt=E.distanceTo(w)||1,Lt=1.42,$t=Lt*Lt;function Gt($e){var Br=$e?-1:1,ai=$e?yt:ut,Si=yt*yt-ut*ut+Br*$t*$t*Nt*Nt,oi=2*ai*$t*Nt,ko=Si/oi,_s=Math.sqrt(ko*ko+1)-ko,Oo=_s<1e-9?-18:Math.log(_s);return Oo}function Qt($e){return(Math.exp($e)-Math.exp(-$e))/2}function Oe($e){return(Math.exp($e)+Math.exp(-$e))/2}function Ze($e){return Qt($e)/Oe($e)}var fn=Gt(0);function nr($e){return ut*(Oe(fn)/Oe(fn+Lt*$e))}function Ou($e){return ut*(Oe(fn)*Ze(fn+Lt*$e)-Qt(fn))/$t}function Cu($e){return 1-Math.pow(1-$e,1.5)}var jo=Date.now(),Ca=(Gt(1)-fn)/Lt,Lu=h.duration?1e3*h.duration:1e3*Ca*.8;function La(){var $e=(Date.now()-jo)/Lu,Br=Cu($e)*Ca;$e<=1?(this._flyToFrame=q(La,this),this._move(this.unproject(w.add(E.subtract(w).multiplyBy(Ou(Br)/Nt)),X),this.getScaleZoom(ut/nr(Br),X),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),La.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=V(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),w=this._limitCenter(h,this._zoom,V(i));return h.equals(w)||this.panTo(w,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=j(l.paddingTopLeft||l.padding||[0,0]),w=j(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),P=this.project(i),X=this.getPixelBounds(),ut=Z([X.min.add(h),X.max.subtract(w)]),yt=ut.getSize();if(!ut.contains(P)){this._enforcingBounds=!0;var Nt=P.subtract(ut.getCenter()),Lt=ut.extend(P).getSize().subtract(yt);E.x+=Nt.x<0?-Lt.x:Lt.x,E.y+=Nt.y<0?-Lt.y:Lt.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=c({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),w=l.divideBy(2).round(),E=h.divideBy(2).round(),P=w.subtract(E);return!P.x&&!P.y?this:(i.animate&&i.pan?this.panBy(P):(i.pan&&this._rawPanBy(P),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=c({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,w=new U(l,h),E=w.toBounds(i.coords.accuracy*2),P=this._locateOptions;if(P.setView){var X=this.getBoundsZoom(E);this.setView(w,P.maxZoom?Math.min(X,P.maxZoom):X)}var ut={latlng:w,bounds:E,timestamp:i.timestamp};for(var yt in i.coords)typeof i.coords[yt]=="number"&&(ut[yt]=i.coords[yt]);this.fire("locationfound",ut)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)je(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),w=fe("div",h,l||this._mapPane);return i&&(this._panes[i]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new J(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=V(i),h=j(h||[0,0]);var w=this.getZoom()||0,E=this.getMinZoom(),P=this.getMaxZoom(),X=i.getNorthWest(),ut=i.getSouthEast(),yt=this.getSize().subtract(h),Nt=Z(this.project(ut,w),this.project(X,w)).getSize(),Lt=Zt.any3d?this.options.zoomSnap:1,$t=yt.x/Nt.x,Gt=yt.y/Nt.y,Qt=l?Math.max($t,Gt):Math.min($t,Gt);return w=this.getScaleZoom(Qt,w),Lt&&(w=Math.round(w/(Lt/100))*(Lt/100),w=l?Math.ceil(w/Lt)*Lt:Math.floor(w/Lt)*Lt),Math.max(E,Math.min(P,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new st(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new H(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var w=h.zoom(i*h.scale(l));return isNaN(w)?1/0:w},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Y(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(j(i),l)},layerPointToLatLng:function(i){var l=j(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(Y(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Y(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(V(i))},distance:function(i,l){return this.options.crs.distance(Y(i),Y(l))},containerPointToLayerPoint:function(i){return j(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return j(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(j(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(i)))},mouseEventToContainerPoint:function(i){return xn(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=as(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");te(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Zt.any3d,re(i,"leaflet-container"+(Zt.touch?" leaflet-touch":"")+(Zt.retina?" leaflet-retina":"")+(Zt.ielt9?" leaflet-oldie":"")+(Zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ri(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new st(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(re(i.markerPane,"leaflet-zoom-hide"),re(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){Ue(this._mapPane,new st(0,0));var w=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(i,l)._moveEnd(E),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,w){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),w?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ue(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[g(this._container)]=this;var l=i?pe:te;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Zt.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],w,E=l==="mouseout"||l==="mouseover",P=i.target||i.srcElement,X=!1;P;){if(w=this._targets[g(P)],w&&(l==="click"||l==="preclick")&&this._draggableMoved(w)){X=!0;break}if(w&&w.listens(l,!0)&&(E&&!Ii(P,i)||(h.push(w),E))||P===this._container)break;P=P.parentNode}return!h.length&&!X&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&go(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var w=c({},i);w.type="preclick",this._fireDOMEvent(w,w.type,h)}var E=this._findEventTargets(i,l);if(h){for(var P=[],X=0;X<h.length;X++)h[X].listens(l,!0)&&P.push(h[X]);E=P.concat(E)}if(E.length){l==="contextmenu"&&Ve(i);var ut=E[0],yt={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Nt=ut.getLatLng&&(!ut._radius||ut._radius<=10);yt.containerPoint=Nt?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(i),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=Nt?ut.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(X=0;X<E.length;X++)if(E[X].fire(l,yt,!0),yt.originalEvent._stopped||E[X].options.bubblingMouseEvents===!1&&C(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return gi(this._mapPane)||new st(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var w=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(w)},_latLngBoundsToNewLayerBounds:function(i,l,h){var w=this._getNewPixelOrigin(h,l);return Z([this.project(i.getSouthWest(),l)._subtract(w),this.project(i.getNorthWest(),l)._subtract(w),this.project(i.getSouthEast(),l)._subtract(w),this.project(i.getNorthEast(),l)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var w=this.project(i,l),E=this.getSize().divideBy(2),P=new H(w.subtract(E),w.add(E)),X=this._getBoundsOffset(P,h,l);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?i:this.unproject(w.add(X),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),w=new H(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(w,l))},_getBoundsOffset:function(i,l,h){var w=Z(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=w.min.subtract(i.min),P=w.max.subtract(i.max),X=this._rebound(E.x,-P.x),ut=this._rebound(E.y,-P.y);return new st(X,ut)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),w=Zt.any3d?this.options.zoomSnap:1;return w&&(i=Math.round(i/w)*w),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=ho,w=this._proxy.style[h];er(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),w===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();er(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(l),E=this._getCenterOffset(i)._divideBy(1-1/w);return h.animate!==!0&&!this.getSize().contains(E)?!1:(q(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,w){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vo(i,l){return new oe(i,l)}var jn=nt.extend({options:{position:"topright"},initialize:function(i){A(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),w=i._controlCorners[h];return re(l,"leaflet-control"),h.indexOf("bottom")!==-1?w.insertBefore(l,w.firstChild):w.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Sa=function(i){return new jn(i)};oe.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=fe("div",l+"control-container",this._container);function w(E,P){var X=l+E+" "+l+P;i[E+P]=fe("div",X,h)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)je(this._controlCorners[i]);je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mu=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,w){return h<w?-1:w<h?1:0}},initialize:function(i,l,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in i)this._addLayer(i[w],w);for(w in l)this._addLayer(l[w],w,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return jn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=fe("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),_a(l),xa(l);var w=this._section=fe("section",i+"-list");h&&(this._map.on("click",this.collapse,this),te(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=fe("a",i+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),te(E,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ve(P),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=fe("div",i+"-base",w),this._separator=fe("div",i+"-separator",w),this._overlaysList=fe("div",i+"-overlays",w),l.appendChild(w)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(w,E){return this.options.sortFunction(w.layer,E.layer,w.name,E.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yn(this._baseLayersList),yn(this._overlaysList),this._layerControlInputs=[];var i,l,h,w,E=0;for(h=0;h<this._layers.length;h++)w=this._layers[h],this._addItem(w),l=l||w.overlay,i=i||!w.overlay,E+=w.overlay?0:1;return this.options.hideSingleBase&&(i=i&&E>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(g(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=h,w.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),w;i.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=h):w=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(w),w.layerId=g(i.layer),te(w,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+i.name;var P=document.createElement("span");l.appendChild(P),P.appendChild(w),P.appendChild(E);var X=i.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,w=[],E=[];this._handlingClick=!0;for(var P=i.length-1;P>=0;P--)l=i[P],h=this._getLayer(l.layerId).layer,l.checked?w.push(h):l.checked||E.push(h);for(P=0;P<E.length;P++)this._map.hasLayer(E[P])&&this._map.removeLayer(E[P]);for(P=0;P<w.length;P++)this._map.hasLayer(w[P])||this._map.addLayer(w[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,w=this._map.getZoom(),E=i.length-1;E>=0;E--)l=i[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&w<h.options.minZoom||h.options.maxZoom!==void 0&&w>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,te(i,"click",Ve),this.expand();var l=this;setTimeout(function(){pe(i,"click",Ve),l._preventClick=!1})}}),uh=function(i,l,h){return new mu(i,l,h)},Tl=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=fe("div",l+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,w,E){var P=fe("a",h,w);return P.innerHTML=i,P.href="#",P.title=l,P.setAttribute("role","button"),P.setAttribute("aria-label",l),_a(P),te(P,"click",Or),te(P,"click",E,this),te(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";ke(this._zoomInButton,l),ke(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(re(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(re(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});oe.mergeOptions({zoomControl:!0}),oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tl,this.addControl(this.zoomControl))});var El=function(i){return new Tl(i)},pu=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=fe("div",l),w=this.options;return this._addScales(w,l+"-line",h),i.on(w.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=fe("div",l,h)),i.imperial&&(this._iScale=fe("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,w,E;l>5280?(h=l/5280,w=this._getRoundNum(h),this._updateScale(this._iScale,w+" mi",w/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),dh=function(i){return new pu(i)},fh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ml=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Zt.inlineSvg?fh+" ":"")+"Leaflet</a>"},initialize:function(i){A(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),_a(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});oe.mergeOptions({attributionControl:!0}),oe.addInitHook(function(){this.options.attributionControl&&new Ml().addTo(this)});var hh=function(i){return new Ml(i)};jn.Layers=mu,jn.Zoom=Tl,jn.Scale=pu,jn.Attribution=Ml,Sa.layers=uh,Sa.zoom=El,Sa.scale=dh,Sa.attribution=hh;var cr=nt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cr.addTo=function(i,l){return i.addHandler(l,this),this};var mh={Events:G},gu=Zt.touch?"touchstart mousedown":"mousedown",yi=ot.extend({options:{clickTolerance:3},initialize:function(i,l,h,w){A(this,w),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(te(this._dragStartTarget,gu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yi._dragging===this&&this.finishDrag(!0),pe(this._dragStartTarget,gu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!pa(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){yi._dragging===this&&this.finishDrag();return}if(!(yi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(yi._dragging=this,this._preventOutline&&go(this._element),po(),Dr(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=zi(this._element);this._startPoint=new st(l.clientX,l.clientY),this._startPos=gi(this._element),this._parentScale=bi(h);var w=i.type==="mousedown";te(document,w?"mousemove":"touchmove",this._onMove,this),te(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new st(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ve(i),this._moved||(this.fire("dragstart"),this._moved=!0,re(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ue(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pe(document,"mousemove touchmove",this._onMove,this),pe(document,"mouseup touchend touchcancel",this._onUp,this),Sl(),mo();var l=this._moved&&this._moving;this._moving=!1,yi._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function bu(i,l,h){var w,E=[1,4,2,8],P,X,ut,yt,Nt,Lt,$t,Gt;for(P=0,Lt=i.length;P<Lt;P++)i[P]._code=Gi(i[P],l);for(ut=0;ut<4;ut++){for($t=E[ut],w=[],P=0,Lt=i.length,X=Lt-1;P<Lt;X=P++)yt=i[P],Nt=i[X],yt._code&$t?Nt._code&$t||(Gt=us(Nt,yt,$t,l,h),Gt._code=Gi(Gt,l),w.push(Gt)):(Nt._code&$t&&(Gt=us(Nt,yt,$t,l,h),Gt._code=Gi(Gt,l),w.push(Gt)),w.push(yt));i=w}return i}function cs(i,l){var h,w,E,P,X,ut,yt,Nt,Lt;if(!i||i.length===0)throw new Error("latlngs not passed");dn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var $t=Y([0,0]),Gt=V(i),Qt=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());Qt<1700&&($t=Nl(i));var Oe=i.length,Ze=[];for(h=0;h<Oe;h++){var fn=Y(i[h]);Ze.push(l.project(Y([fn.lat-$t.lat,fn.lng-$t.lng])))}for(ut=yt=Nt=0,h=0,w=Oe-1;h<Oe;w=h++)E=Ze[h],P=Ze[w],X=E.y*P.x-P.y*E.x,yt+=(E.x+P.x)*X,Nt+=(E.y+P.y)*X,ut+=X*3;ut===0?Lt=Ze[0]:Lt=[yt/ut,Nt/ut];var nr=l.unproject(j(Lt));return Y([nr.lat+$t.lat,nr.lng+$t.lng])}function Nl(i){for(var l=0,h=0,w=0,E=0;E<i.length;E++){var P=Y(i[E]);l+=P.lat,h+=P.lng,w++}return Y([l/w,h/w])}var ph={__proto__:null,clipPolygon:bu,polygonCenter:cs,centroid:Nl};function yu(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=yh(i,h),i=bh(i,h),i}function Al(i,l,h){return Math.sqrt(Ui(i,l,h,!0))}function gh(i,l,h){return Ui(i,l,h)}function bh(i,l){var h=i.length,w=typeof Uint8Array<"u"?Uint8Array:Array,E=new w(h);E[0]=E[h-1]=1,Dl(i,E,l,0,h-1);var P,X=[];for(P=0;P<h;P++)E[P]&&X.push(i[P]);return X}function Dl(i,l,h,w,E){var P=0,X,ut,yt;for(ut=w+1;ut<=E-1;ut++)yt=Ui(i[ut],i[w],i[E],!0),yt>P&&(X=ut,P=yt);P>h&&(l[X]=1,Dl(i,l,h,w,X),Dl(i,l,h,X,E))}function yh(i,l){for(var h=[i[0]],w=1,E=0,P=i.length;w<P;w++)vh(i[w],i[E])>l&&(h.push(i[w]),E=w);return E<P-1&&h.push(i[P-1]),h}var vu;function xu(i,l,h,w,E){var P=w?vu:Gi(i,h),X=Gi(l,h),ut,yt,Nt;for(vu=X;;){if(!(P|X))return[i,l];if(P&X)return!1;ut=P||X,yt=us(i,l,ut,h,E),Nt=Gi(yt,h),ut===P?(i=yt,P=Nt):(l=yt,X=Nt)}}function us(i,l,h,w,E){var P=l.x-i.x,X=l.y-i.y,ut=w.min,yt=w.max,Nt,Lt;return h&8?(Nt=i.x+P*(yt.y-i.y)/X,Lt=yt.y):h&4?(Nt=i.x+P*(ut.y-i.y)/X,Lt=ut.y):h&2?(Nt=yt.x,Lt=i.y+X*(yt.x-i.x)/P):h&1&&(Nt=ut.x,Lt=i.y+X*(ut.x-i.x)/P),new st(Nt,Lt,E)}function Gi(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function vh(i,l){var h=l.x-i.x,w=l.y-i.y;return h*h+w*w}function Ui(i,l,h,w){var E=l.x,P=l.y,X=h.x-E,ut=h.y-P,yt=X*X+ut*ut,Nt;return yt>0&&(Nt=((i.x-E)*X+(i.y-P)*ut)/yt,Nt>1?(E=h.x,P=h.y):Nt>0&&(E+=X*Nt,P+=ut*Nt)),X=i.x-E,ut=i.y-P,w?X*X+ut*ut:new st(E,P)}function dn(i){return!D(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function _u(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dn(i)}function jl(i,l){var h,w,E,P,X,ut,yt,Nt;if(!i||i.length===0)throw new Error("latlngs not passed");dn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Lt=Y([0,0]),$t=V(i),Gt=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Gt<1700&&(Lt=Nl(i));var Qt=i.length,Oe=[];for(h=0;h<Qt;h++){var Ze=Y(i[h]);Oe.push(l.project(Y([Ze.lat-Lt.lat,Ze.lng-Lt.lng])))}for(h=0,w=0;h<Qt-1;h++)w+=Oe[h].distanceTo(Oe[h+1])/2;if(w===0)Nt=Oe[0];else for(h=0,P=0;h<Qt-1;h++)if(X=Oe[h],ut=Oe[h+1],E=X.distanceTo(ut),P+=E,P>w){yt=(P-w)/E,Nt=[ut.x-yt*(ut.x-X.x),ut.y-yt*(ut.y-X.y)];break}var fn=l.unproject(j(Nt));return Y([fn.lat+Lt.lat,fn.lng+Lt.lng])}var Su={__proto__:null,simplify:yu,pointToSegmentDistance:Al,closestPointOnSegment:gh,clipSegment:xu,_getEdgeIntersection:us,_getBitCode:Gi,_sqClosestPointOnSegment:Ui,isFlat:dn,_flat:_u,polylineCenter:jl},ds={project:function(i){return new st(i.lng,i.lat)},unproject:function(i){return new U(i.y,i.x)},bounds:new H([-180,-90],[180,90])},fs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,w=i.lat*l,E=this.R_MINOR/h,P=Math.sqrt(1-E*E),X=P*Math.sin(w),ut=Math.tan(Math.PI/4-w/2)/Math.pow((1-X)/(1+X),P/2);return w=-h*Math.log(Math.max(ut,1e-10)),new st(i.lng*l*h,w)},unproject:function(i){for(var l=180/Math.PI,h=this.R,w=this.R_MINOR/h,E=Math.sqrt(1-w*w),P=Math.exp(-i.y/h),X=Math.PI/2-2*Math.atan(P),ut=0,yt=.1,Nt;ut<15&&Math.abs(yt)>1e-7;ut++)Nt=E*Math.sin(X),Nt=Math.pow((1-Nt)/(1+Nt),E/2),yt=Math.PI/2-2*Math.atan(P*Nt)-X,X+=yt;return new U(X*l,i.x*l/h)}},wu={__proto__:null,LonLat:ds,Mercator:fs,SphericalMercator:Ct},wa=c({},gt,{code:"EPSG:3395",projection:fs,transformation:(function(){var i=.5/(Math.PI*fs.R);return kt(i,.5,-i,.5)})()}),Tu=c({},gt,{code:"EPSG:4326",projection:ds,transformation:kt(1/180,1,-1/180,.5)}),xh=c({},ht,{projection:ds,transformation:kt(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,w=l.lat-i.lat;return Math.sqrt(h*h+w*w)},infinite:!0});ht.Earth=gt,ht.EPSG3395=wa,ht.EPSG3857=Bt,ht.EPSG900913=wt,ht.EPSG4326=Tu,ht.Simple=xh;var ur=ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[g(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[g(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});oe.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=g(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return g(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?D(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[g(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=g(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var w in this._zoomBoundLayers){var E=this._zoomBoundLayers[w].options;i=E.minZoom===void 0?i:Math.min(i,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zi=ur.extend({initialize:function(i,l){A(this,l),this._layers={};var h,w;if(i)for(h=0,w=i.length;h<w;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,w;for(h in this._layers)w=this._layers[h],w[i]&&w[i].apply(w,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return g(i)}}),Eu=function(i,l){return new Zi(i,l)},Rn=Zi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Zi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Zi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new J;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),xo=function(i,l){return new Rn(i,l)},Ta=nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){A(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(w,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(i,l){var h=this.options,w=h[l+"Size"];typeof w=="number"&&(w=[w,w]);var E=j(w),P=j(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),P&&(i.style.marginLeft=-P.x+"px",i.style.marginTop=-P.y+"px"),E&&(i.style.width=E.x+"px",i.style.height=E.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return Zt.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function hs(i){return new Ta(i)}var Ea=Ta.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Ea.imagePath!="string"&&(Ea.imagePath=this._detectIconPath()),(this.options.imagePath||Ea.imagePath)+Ta.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,w,E){var P=w.exec(h);return P&&P[E]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=fe("div","leaflet-default-icon-path",document.body),l=Ri(i,"background-image")||Ri(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),kl=cr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new yi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),re(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,w=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,P=gi(l._icon),X=h.getPixelBounds(),ut=h.getPixelOrigin(),yt=Z(X.min._subtract(ut).add(E),X.max._subtract(ut).subtract(E));if(!yt.contains(P)){var Nt=j((Math.max(yt.max.x,P.x)-yt.max.x)/(X.max.x-yt.max.x)-(Math.min(yt.min.x,P.x)-yt.min.x)/(X.min.x-yt.min.x),(Math.max(yt.max.y,P.y)-yt.max.y)/(X.max.y-yt.max.y)-(Math.min(yt.min.y,P.y)-yt.min.y)/(X.min.y-yt.min.y)).multiplyBy(w);h.panBy(Nt,{animate:!1}),this._draggable._newPos._add(Nt),this._draggable._startPos._add(Nt),Ue(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=q(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,w=gi(l._icon),E=l._map.layerPointToLatLng(w);h&&Ue(h,w),l._latlng=E,i.latlng=E,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ma=ur.extend({options:{icon:new Ea,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){A(this,l),this._latlng=Y(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=Y(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),w=!1;h!==this._icon&&(this._icon&&this._removeIcon(),w=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),re(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(h,"focus",this._panOnFocus,this);var E=i.icon.createShadow(this._shadow),P=!1;E!==this._shadow&&(this._removeShadow(),P=!0),E&&(re(E,l),E.alt=""),this._shadow=E,i.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&P&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(this._icon,"focus",this._panOnFocus,this),je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&je(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ue(this._icon,i),this._shadow&&Ue(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kl)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kl(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Dn(this._icon,i),this._shadow&&Dn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?j(l.iconSize):j(0,0),w=l.iconAnchor?j(l.iconAnchor):j(0,0);i.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:h.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ol(i,l){return new Ma(i,l)}var ri=ur.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return A(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_o=ri.extend({options:{fill:!0,radius:10},initialize:function(i,l){A(this,l),this._latlng=Y(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=Y(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return ri.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),w=[i+h,l+h];this._pxBounds=new H(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mu(i,l){return new _o(i,l)}var Cl=_o.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),A(this,l),this._latlng=Y(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:ri.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,w=h.options.crs;if(w.distance===gt.distance){var E=Math.PI/180,P=this._mRadius/gt.R/E,X=h.project([l+P,i]),ut=h.project([l-P,i]),yt=X.add(ut).divideBy(2),Nt=h.unproject(yt).lat,Lt=Math.acos((Math.cos(P*E)-Math.sin(l*E)*Math.sin(Nt*E))/(Math.cos(l*E)*Math.cos(Nt*E)))/E;(isNaN(Lt)||Lt===0)&&(Lt=P/Math.cos(Math.PI/180*l)),this._point=yt.subtract(h.getPixelOrigin()),this._radius=isNaN(Lt)?0:yt.x-h.project([Nt,i-Lt]).x,this._radiusY=yt.y-X.y}else{var $t=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint($t).x}this._updateBounds()}});function _h(i,l,h){return new Cl(i,l,h)}var ii=ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){A(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,w=Ui,E,P,X=0,ut=this._parts.length;X<ut;X++)for(var yt=this._parts[X],Nt=1,Lt=yt.length;Nt<Lt;Nt++){E=yt[Nt-1],P=yt[Nt];var $t=w(i,E,P,!0);$t<l&&(l=$t,h=w(i,E,P))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=Y(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new J,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=dn(i),w=0,E=i.length;w<E;w++)h?(l[w]=Y(i[w]),this._bounds.extend(l[w])):l[w]=this._convertLatLngs(i[w]);return l},_project:function(){var i=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new st(i,i);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var w=i[0]instanceof U,E=i.length,P,X;if(w){for(X=[],P=0;P<E;P++)X[P]=this._map.latLngToLayerPoint(i[P]),h.extend(X[P]);l.push(X)}else for(P=0;P<E;P++)this._projectLatlngs(i[P],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,w,E,P,X,ut,yt;for(h=0,E=0,P=this._rings.length;h<P;h++)for(yt=this._rings[h],w=0,X=yt.length;w<X-1;w++)ut=xu(yt[w],yt[w+1],i,w,!0),ut&&(l[E]=l[E]||[],l[E].push(ut[0]),(ut[1]!==yt[w+1]||w===X-2)&&(l[E].push(ut[1]),E++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,w=i.length;h<w;h++)i[h]=yu(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,w,E,P,X,ut,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,P=this._parts.length;h<P;h++)for(ut=this._parts[h],w=0,X=ut.length,E=X-1;w<X;E=w++)if(!(!l&&w===0)&&Al(i,ut[E],ut[w])<=yt)return!0;return!1}});function Sh(i,l){return new ii(i,l)}ii._flat=_u;var Na=ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=ii.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof U&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){ii.prototype._setLatLngs.call(this,i),dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new st(l,l);if(i=new H(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,E=this._rings.length,P;w<E;w++)P=bu(this._rings[w],i,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,w,E,P,X,ut,yt,Nt;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(P=0,yt=this._parts.length;P<yt;P++)for(h=this._parts[P],X=0,Nt=h.length,ut=Nt-1;X<Nt;ut=X++)w=h[X],E=h[ut],w.y>i.y!=E.y>i.y&&i.x<(E.x-w.x)*(i.y-w.y)/(E.y-w.y)+w.x&&(l=!l);return l||ii.prototype._containsPoint.call(this,i,!0)}});function Pn(i,l){return new Na(i,l)}var zn=Rn.extend({initialize:function(i,l){A(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=D(i)?i:i.features,h,w,E;if(l){for(h=0,w=l.length;h<w;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var P=this.options;if(P.filter&&!P.filter(i))return this;var X=So(i,P);return X?(X.feature=Aa(i),X.defaultOptions=X.options,this.resetStyle(X),P.onEachFeature&&P.onEachFeature(i,X),this.addLayer(X)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=c({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function So(i,l){var h=i.type==="Feature"?i.geometry:i,w=h?h.coordinates:null,E=[],P=l&&l.pointToLayer,X=l&&l.coordsToLatLng||ms,ut,yt,Nt,Lt;if(!w&&!h)return null;switch(h.type){case"Point":return ut=X(w),Ll(P,i,ut,l);case"MultiPoint":for(Nt=0,Lt=w.length;Nt<Lt;Nt++)ut=X(w[Nt]),E.push(Ll(P,i,ut,l));return new Rn(E);case"LineString":case"MultiLineString":return yt=wo(w,h.type==="LineString"?0:1,X),new ii(yt,l);case"Polygon":case"MultiPolygon":return yt=wo(w,h.type==="Polygon"?1:2,X),new Na(yt,l);case"GeometryCollection":for(Nt=0,Lt=h.geometries.length;Nt<Lt;Nt++){var $t=So({geometry:h.geometries[Nt],type:"Feature",properties:i.properties},l);$t&&E.push($t)}return new Rn(E);case"FeatureCollection":for(Nt=0,Lt=h.features.length;Nt<Lt;Nt++){var Gt=So(h.features[Nt],l);Gt&&E.push(Gt)}return new Rn(E);default:throw new Error("Invalid GeoJSON object.")}}function Ll(i,l,h,w){return i?i(l,h):new Ma(h,w&&w.markersInheritOptions&&w)}function ms(i){return new U(i[1],i[0],i[2])}function wo(i,l,h){for(var w=[],E=0,P=i.length,X;E<P;E++)X=l?wo(i[E],l-1,h):(h||ms)(i[E]),w.push(X);return w}function To(i,l){return i=Y(i),i.alt!==void 0?[_(i.lng,l),_(i.lat,l),_(i.alt,l)]:[_(i.lng,l),_(i.lat,l)]}function ps(i,l,h,w){for(var E=[],P=0,X=i.length;P<X;P++)E.push(l?ps(i[P],dn(i[P])?0:l-1,h,w):To(i[P],w));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function dr(i,l){return i.feature?c({},i.feature,{geometry:l}):Aa(l)}function Aa(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Yi={toGeoJSON:function(i){return dr(this,{type:"Point",coordinates:To(this.getLatLng(),i)})}};Ma.include(Yi),Cl.include(Yi),_o.include(Yi),ii.include({toGeoJSON:function(i){var l=!dn(this._latlngs),h=ps(this._latlngs,l?1:0,!1,i);return dr(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Na.include({toGeoJSON:function(i){var l=!dn(this._latlngs),h=l&&!dn(this._latlngs[0]),w=ps(this._latlngs,h?2:l?1:0,!0,i);return l||(w=[w]),dr(this,{type:(h?"Multi":"")+"Polygon",coordinates:w})}}),Zi.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),dr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",w=[];return this.eachLayer(function(E){if(E.toGeoJSON){var P=E.toGeoJSON(i);if(h)w.push(P.geometry);else{var X=Aa(P);X.type==="FeatureCollection"?w.push.apply(w,X.features):w.push(X)}}}),h?dr(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function gs(i,l){return new zn(i,l)}var Nu=gs,Cr=ur.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=V(l),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Pi(this._image),this},bringToBack:function(){return this._map&&ma(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=V(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:fe("img");if(re(l,"leaflet-image-layer"),this._zoomAnimated&&re(l,"leaflet-zoom-animated"),this.options.className&&re(l,this.options.className),l.onselectstart=S,l.onmousemove=S,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;er(this._image,h,l)},_reset:function(){var i=this._image,l=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Ue(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Da=function(i,l,h){return new Cr(i,l,h)},bs=Cr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:fe("video");if(re(l,"leaflet-image-layer"),this._zoomAnimated&&re(l,"leaflet-zoom-animated"),this.options.className&&re(l,this.options.className),l.onselectstart=S,l.onmousemove=S,l.onloadeddata=f(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),w=[],E=0;E<h.length;E++)w.push(h[E].src);this._url=h.length>0?w:[l.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var X=fe("source");X.src=this._url[P],l.appendChild(X)}}});function Au(i,l,h){return new bs(i,l,h)}var vi=Cr.extend({_initImage:function(){var i=this._image=this._url;re(i,"leaflet-image-layer"),this._zoomAnimated&&re(i,"leaflet-zoom-animated"),this.options.className&&re(i,this.options.className),i.onselectstart=S,i.onmousemove=S}});function Du(i,l,h){return new vi(i,l,h)}var fr=ur.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof U||D(i))?(this._latlng=Y(i),A(this,l)):(A(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Dn(this._container,1),this.bringToFront(),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Dn(this._container,0),this._removeTimeout=setTimeout(f(je,void 0,this._container),200)):je(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Y(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pi(this._container),this},bringToBack:function(){return this._map&&ma(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Rn){l=null;var h=this._source._layers;for(var w in h)if(h[w]._map){l=h[w];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=j(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ue(this._container,i.add(h)):l=l.add(i).add(h);var w=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=w+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});oe.include({_initOverlay:function(i,l,h,w){var E=l;return E instanceof i||(E=new i(w).setContent(l)),h&&E.setLatLng(h),E}}),ur.include({_initOverlay:function(i,l,h,w){var E=h;return E instanceof i?(A(E,w),E._source=this):(E=l&&!w?l:new i(w,this),E.setContent(h)),E}});var Eo=fr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,fr.prototype.openOn.call(this,i)},onAdd:function(i){fr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ri||this._source.on("preclick",ni))},onRemove:function(i){fr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ri||this._source.off("preclick",ni))},getEvents:function(){var i=fr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=fe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=fe("div",i+"-content-wrapper",l);if(this._contentNode=fe("div",i+"-content",h),_a(l),xa(this._contentNode),te(l,"contextmenu",ni),this._tipContainer=fe("div",i+"-tip-container",l),this._tip=fe("div",i+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=fe("a",i+"-close-button",l);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',te(w,"click",function(E){Ve(E),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var w=i.offsetHeight,E=this.options.maxHeight,P="leaflet-popup-scrolled";E&&w>E?(l.height=E+"px",re(i,P)):ke(i,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Ri(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,w=this._containerWidth,E=new st(this._containerLeft,-h-this._containerBottom);E._add(gi(this._container));var P=i.layerPointToContainerPoint(E),X=j(this.options.autoPanPadding),ut=j(this.options.autoPanPaddingTopLeft||X),yt=j(this.options.autoPanPaddingBottomRight||X),Nt=i.getSize(),Lt=0,$t=0;P.x+w+yt.x>Nt.x&&(Lt=P.x+w-Nt.x+yt.x),P.x-Lt-ut.x<0&&(Lt=P.x-ut.x),P.y+h+yt.y>Nt.y&&($t=P.y+h-Nt.y+yt.y),P.y-$t-ut.y<0&&($t=P.y-ut.y),(Lt||$t)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Lt,$t]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wh=function(i,l){return new Eo(i,l)};oe.mergeOptions({closePopupOnClick:!0}),oe.include({openPopup:function(i,l,h){return this._initOverlay(Eo,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ur.include({bindPopup:function(i,l){return this._popup=this._initOverlay(Eo,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Rn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Or(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ys=fr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){fr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){fr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=fr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,w=this._map,E=this._container,P=w.latLngToContainerPoint(w.getCenter()),X=w.layerPointToContainerPoint(i),ut=this.options.direction,yt=E.offsetWidth,Nt=E.offsetHeight,Lt=j(this.options.offset),$t=this._getAnchor();ut==="top"?(l=yt/2,h=Nt):ut==="bottom"?(l=yt/2,h=0):ut==="center"?(l=yt/2,h=Nt/2):ut==="right"?(l=0,h=Nt/2):ut==="left"?(l=yt,h=Nt/2):X.x<P.x?(ut="right",l=0,h=Nt/2):(ut="left",l=yt+(Lt.x+$t.x)*2,h=Nt/2),i=i.subtract(j(l,h,!0)).add(Lt).add($t),ke(E,"leaflet-tooltip-right"),ke(E,"leaflet-tooltip-left"),ke(E,"leaflet-tooltip-top"),ke(E,"leaflet-tooltip-bottom"),re(E,"leaflet-tooltip-"+ut),Ue(E,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Dn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Th=function(i,l){return new ys(i,l)};oe.include({openTooltip:function(i,l,h){return this._initOverlay(ys,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ur.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ys,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Rn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(te(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),te(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,w;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),w=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(l)}});var Bl=Ta.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(yn(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var w=j(h.bgPos);l.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function ju(i){return new Bl(i)}Ta.Default=Ea;var qi=ur.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){A(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),je(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ma(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof st?i:new st(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),w=0,E=l.length,P;w<E;w++)P=l[w].style.zIndex,l[w]!==this._container&&P&&(h=i(h,+P));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Zt.ielt9){Dn(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var w in this._tiles){var E=this._tiles[w];if(!(!E.current||!E.loaded)){var P=Math.min(1,(i-E.loaded)/200);Dn(E.el,P),P<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(I(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(je(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var w=this._levels[i],E=this._map;return w||(w=this._levels[i]={},w.el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=l,w.origin=E.project(E.unproject(E.getPixelOrigin()),i).round(),w.zoom=i,this._setZoomTransform(w,E.getCenter(),E.getZoom()),S(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var w=l.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)je(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,w){var E=Math.floor(i/2),P=Math.floor(l/2),X=h-1,ut=new st(+E,+P);ut.z=+X;var yt=this._tileCoordsToKey(ut),Nt=this._tiles[yt];return Nt&&Nt.active?(Nt.retain=!0,!0):(Nt&&Nt.loaded&&(Nt.retain=!0),X>w?this._retainParent(E,P,X,w):!1)},_retainChildren:function(i,l,h,w){for(var E=2*i;E<2*i+2;E++)for(var P=2*l;P<2*l+2;P++){var X=new st(E,P);X.z=h+1;var ut=this._tileCoordsToKey(X),yt=this._tiles[ut];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);h+1<w&&this._retainChildren(E,P,h+1,w)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,w){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var P=this.options.updateWhenZooming&&E!==this._tileZoom;(!w||P)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var w=this._map.getZoomScale(h,i.zoom),E=i.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(l,h)).round();Zt.any3d?er(i.el,E,w):Ue(i.el,E)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),w=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],w).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],w).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],w).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],w).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),w=l.getZoomScale(h,this._tileZoom),E=l.project(i,this._tileZoom).floor(),P=l.getSize().divideBy(w*2);return new H(E.subtract(P),E.add(P))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(i),E=this._pxBoundsToTileRange(w),P=E.getCenter(),X=[],ut=this.options.keepBuffer,yt=new H(E.getBottomLeft().subtract([ut,-ut]),E.getTopRight().add([ut,-ut]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Nt in this._tiles){var Lt=this._tiles[Nt].coords;(Lt.z!==this._tileZoom||!yt.contains(new st(Lt.x,Lt.y)))&&(this._tiles[Nt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var $t=E.min.y;$t<=E.max.y;$t++)for(var Gt=E.min.x;Gt<=E.max.x;Gt++){var Qt=new st(Gt,$t);if(Qt.z=this._tileZoom,!!this._isValidTile(Qt)){var Oe=this._tiles[this._tileCoordsToKey(Qt)];Oe?Oe.current=!0:X.push(Qt)}}if(X.sort(function(fn,nr){return fn.distanceTo(P)-nr.distanceTo(P)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ze=document.createDocumentFragment();for(Gt=0;Gt<X.length;Gt++)this._addTile(X[Gt],Ze);this._level.el.appendChild(Ze)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(i);return V(this.options.bounds).overlaps(w)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),w=i.scaleBy(h),E=w.add(h),P=l.unproject(w,i.z),X=l.unproject(E,i.z);return[P,X]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new J(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new st(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(je(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){re(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=S,i.onmousemove=S,Zt.ielt9&&this.options.opacity<1&&Dn(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),w=this._tileCoordsToKey(i),E=this.createTile(this._wrapCoords(i),f(this._tileReady,this,i));this._initTile(E),this.createTile.length<2&&q(f(this._tileReady,this,i,null,E)),Ue(E,h),this._tiles[w]={el:E,coords:i,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var w=this._tileCoordsToKey(i);h=this._tiles[w],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Dn(h.el,0),I(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(re(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Zt.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new st(this._wrapX?v(i.x,this._wrapX):i.x,this._wrapY?v(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new H(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function hr(i){return new qi(i)}var Fi=qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=A(this,l),l.detectRetina&&Zt.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return te(h,"load",f(this._tileOnLoad,this,l,h)),te(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:Zt.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return $(this._url,c(l,this.options))},_tileOnLoad:function(i,l){Zt.ielt9?setTimeout(f(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var w=this.options.errorTileUrl;w&&l.getAttribute("src")!==w&&(l.src=w),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,w=this.options.zoomOffset;return h&&(i=l-i),i+w},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=S,l.onerror=S,!l.complete)){l.src=k;var h=this._tiles[i].coords;je(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",k),qi.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===k))return qi.prototype._tileReady.call(this,i,l,h)}});function $n(i,l){return new Fi(i,l)}var Hn=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=c({},this.defaultWmsParams);for(var w in l)w in this.options||(h[w]=l[w]);l=A(this,l);var E=l.detectRetina&&Zt.retina?2:1,P=this.getTileSize();h.width=P.x*E,h.height=P.y*E,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Fi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,w=Z(h.project(l[0]),h.project(l[1])),E=w.min,P=w.max,X=(this._wmsVersion>=1.3&&this._crs===Tu?[E.y,E.x,P.y,P.x]:[E.x,E.y,P.x,P.y]).join(","),ut=Fi.prototype.getTileUrl.call(this,i);return ut+O(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(i,l){return c(this.wmsParams,i),l||this.redraw(),this}});function ja(i,l){return new Hn(i,l)}Fi.WMS=Hn,$n.wms=ja;var mr=ur.extend({options:{padding:.1},initialize:function(i){A(this,i),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),P=w.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(i,l));Zt.any3d?er(this._container,P,h):Ue(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new H(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mo=mr.extend({options:{tolerance:0},getEvents:function(){var i=mr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");te(i,"mousemove",this._onMouseMove,this),te(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),te(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,je(this._container),pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mr.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),w=Zt.retina?2:1;Ue(l,i.min),l.width=w*h.x,l.height=w*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){mr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[g(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,w=l.prev;h?h.prev=w:this._drawLast=w,w?w.next=h:this._drawFirst=h,delete i._order,delete this._layers[g(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],w,E;for(E=0;E<l.length;E++){if(w=Number(l[E]),isNaN(w))return;h.push(w)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)i=w.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,w,E,P,X=i._parts,ut=X.length,yt=this._ctx;if(ut){for(yt.beginPath(),h=0;h<ut;h++){for(w=0,E=X[h].length;w<E;w++)P=X[h][w],yt[w?"lineTo":"moveTo"](P.x,P.y);l&&yt.closePath()}this._fillStroke(yt,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,w=Math.max(Math.round(i._radius),1),E=(Math.max(Math.round(i._radiusY),1)||w)/w;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,w,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,w,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(w=h);this._fireEvent(w?[w]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(ke(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,w,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(w=h);w!==this._hoveredLayer&&(this._handleMouseOut(i),w&&(re(this._container,"leaflet-interactive"),this._fireEvent([w],i,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,w=l.prev;if(h)h.prev=w;else return;w?w.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,w=l.prev;if(w)w.next=h;else return;h?h.prev=w:w&&(this._drawLast=w),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function No(i){return Zt.canvas?new Mo(i):null}var Vi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ka={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Vi("shape");re(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Vi("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;je(l),i.removeInteractiveTarget(l),delete this._layers[g(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,w=i.options,E=i._container;E.stroked=!!w.stroke,E.filled=!!w.fill,w.stroke?(l||(l=i._stroke=Vi("stroke")),E.appendChild(l),l.weight=w.weight+"px",l.color=w.color,l.opacity=w.opacity,w.dashArray?l.dashStyle=D(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=w.lineCap.replace("butt","flat"),l.joinstyle=w.lineJoin):l&&(E.removeChild(l),i._stroke=null),w.fill?(h||(h=i._fill=Vi("fill")),E.appendChild(h),h.color=w.fillColor||w.color,h.opacity=w.fillOpacity):h&&(E.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),w=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+w+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Pi(i._container)},_bringToBack:function(i){ma(i._container)}},Ao=Zt.vml?Vi:At,xi=mr.extend({_initContainer:function(){this._container=Ao("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ao("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){je(this._container),pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mr.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Ue(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Ao("path");i.options.className&&re(l,i.options.className),i.options.interactive&&re(l,"leaflet-interactive"),this._updateStyle(i),this._layers[g(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){je(i._path),i.removeInteractiveTarget(i._path),delete this._layers[g(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Ut(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),w=Math.max(Math.round(i._radiusY),1)||h,E="a"+h+","+w+" 0 1,0 ",P=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(i,P)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Pi(i._path)},_bringToBack:function(i){ma(i._path)}});Zt.vml&&xi.include(ka);function Ki(i){return Zt.svg||Zt.vml?new xi(i):null}oe.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&No(i)||Ki(i)}});var ku=Na.extend({initialize:function(i,l){Na.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=V(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function In(i,l){return new ku(i,l)}xi.create=Ao,xi.pointsToPath=Ut,zn.geometryToLayer=So,zn.coordsToLatLng=ms,zn.coordsToLatLngs=wo,zn.latLngToCoords=To,zn.latLngsToCoords=ps,zn.getFeature=dr,zn.asFeature=Aa,oe.mergeOptions({boxZoom:!0});var vs=cr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dr(),po(),this._startPoint=this._map.mouseEventToContainerPoint(i),te(document,{contextmenu:Or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new H(this._point,this._startPoint),h=l.getSize();Ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(je(this._box),ke(this._container,"leaflet-crosshair")),mo(),Sl(),pe(document,{contextmenu:Or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});oe.addInitHook("addHandler","boxZoom",vs),oe.mergeOptions({doubleClickZoom:!0});var Lr=cr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),w=l.options.zoomDelta,E=i.originalEvent.shiftKey?h-w:h+w;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(i.containerPoint,E)}});oe.addInitHook("addHandler","doubleClickZoom",Lr),oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rl=cr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new yi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=V(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,w=this._draggable._newPos.x,E=(w-l+h)%i+l-h,P=(w+l+h)%i-l-h,X=Math.abs(E+h)<Math.abs(P+h)?E:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(i){var l=this._map,h=l.options,w=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),w)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,X=h.easeLinearity,ut=E.multiplyBy(X/P),yt=ut.distanceTo([0,0]),Nt=Math.min(h.inertiaMaxSpeed,yt),Lt=ut.multiplyBy(Nt/yt),$t=Nt/(h.inertiaDeceleration*X),Gt=Lt.multiplyBy(-$t/2).round();!Gt.x&&!Gt.y?l.fire("moveend"):(Gt=l._limitOffset(Gt,l.options.maxBounds),q(function(){l.panBy(Gt,{duration:$t,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});oe.addInitHook("addHandler","dragging",Rl),oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Do=cr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),te(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,w=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(w,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,w,E;for(w=0,E=h.left.length;w<E;w++)l[h.left[w]]=[-1*i,0];for(w=0,E=h.right.length;w<E;w++)l[h.right[w]]=[i,0];for(w=0,E=h.down.length;w<E;w++)l[h.down[w]]=[0,i];for(w=0,E=h.up.length;w<E;w++)l[h.up[w]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,w,E;for(w=0,E=h.zoomIn.length;w<E;w++)l[h.zoomIn[w]]=i;for(w=0,E=h.zoomOut.length;w<E;w++)l[h.zoomOut[w]]=-i},_addHooks:function(){te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,w;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(w=this._panKeys[l],i.shiftKey&&(w=j(w).multiplyBy(3)),h.options.maxBounds&&(w=h._limitOffset(j(w),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(w)));h.panTo(E)}else h.panBy(w)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Or(i)}}});oe.addInitHook("addHandler","keyboard",Do),oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _i=cr.extend({addHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=yo(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var w=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),w),Or(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,P=h?Math.ceil(E/h)*h:E,X=i._limitZoom(l+(this._delta>0?P:-P))-l;this._delta=0,this._startTime=null,X&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+X):i.setZoomAround(this._lastMousePos,l+X))}});oe.addInitHook("addHandler","scrollWheelZoom",_i);var Pl=600;oe.mergeOptions({tapHold:Zt.touchNative&&Zt.safari&&Zt.mobile,tapTolerance:15});var xs=cr.extend({addHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new st(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(te(document,"touchend",Ve),te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Pl),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){pe(document,"touchend",Ve),pe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new st(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});oe.addInitHook("addHandler","tapHold",xs),oe.mergeOptions({touchZoom:Zt.touch,bounceAtZoomLimits:!0});var Xi=cr.extend({addHooks:function(){re(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),w=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(w)._divideBy(2))),this._startDist=h.distanceTo(w),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),Ve(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),w=l.mouseEventToContainerPoint(i.touches[1]),E=h.distanceTo(w)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var P=h._add(w)._divideBy(2)._subtract(this._centerPoint);if(E===1&&P.x===0&&P.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var X=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(X,this,!0),Ve(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});oe.addInitHook("addHandler","touchZoom",Xi),oe.BoxZoom=vs,oe.DoubleClickZoom=Lr,oe.Drag=Rl,oe.Keyboard=Do,oe.ScrollWheelZoom=_i,oe.TapHold=xs,oe.TouchZoom=Xi,a.Bounds=H,a.Browser=Zt,a.CRS=ht,a.Canvas=Mo,a.Circle=Cl,a.CircleMarker=_o,a.Class=nt,a.Control=jn,a.DivIcon=Bl,a.DivOverlay=fr,a.DomEvent=ch,a.DomUtil=hu,a.Draggable=yi,a.Evented=ot,a.FeatureGroup=Rn,a.GeoJSON=zn,a.GridLayer=qi,a.Handler=cr,a.Icon=Ta,a.ImageOverlay=Cr,a.LatLng=U,a.LatLngBounds=J,a.Layer=ur,a.LayerGroup=Zi,a.LineUtil=Su,a.Map=oe,a.Marker=Ma,a.Mixin=mh,a.Path=ri,a.Point=st,a.PolyUtil=ph,a.Polygon=Na,a.Polyline=ii,a.Popup=Eo,a.PosAnimation=ls,a.Projection=wu,a.Rectangle=ku,a.Renderer=mr,a.SVG=xi,a.SVGOverlay=vi,a.TileLayer=Fi,a.Tooltip=ys,a.Transformation=Pt,a.Util=Q,a.VideoOverlay=bs,a.bind=f,a.bounds=Z,a.canvas=No,a.circle=_h,a.circleMarker=Mu,a.control=Sa,a.divIcon=ju,a.extend=c,a.featureGroup=xo,a.geoJSON=gs,a.geoJson=Nu,a.gridLayer=hr,a.icon=hs,a.imageOverlay=Da,a.latLng=Y,a.latLngBounds=V,a.layerGroup=Eu,a.map=vo,a.marker=Ol,a.point=j,a.polygon=Pn,a.polyline=Sh,a.popup=wh,a.rectangle=In,a.setOptions=A,a.stamp=g,a.svg=Ki,a.svgOverlay=Du,a.tileLayer=$n,a.tooltip=Th,a.transformation=kt,a.version=s,a.videoOverlay=Au;var Oa=window.L;a.noConflict=function(){return window.L=Oa,this},window.L=a}))})(Oc,Oc.exports)),Oc.exports}var oM=aM();const a0=cl(oM),jd=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ho(t){const r=document.getElementById(t);if(!r)throw new Error(`#${t} not found`);return r}function sM(t){const{buttonId:r,buttonInputId:a,modalId:s,closeMapId:c,mapCloseBtnId:d,searchBoxId:f,suggestionsId:m,mapId:g}=t.ids,b=t.initialCenter??{lat:37.5665,lon:126.978},v=Ho(a),S=Ho(r),_=Ho(s),T=Ho(d),M=Ho(f),A=Ho(m),O=c?Ho(c):null;let R=null,$=null,D=null;const C=I=>I.code==="Space"||I.key===" "||I.key==="Spacebar"||I.key==="Space",k=I=>{C(I)&&document.activeElement!==M&&(I.preventDefault(),I.stopPropagation(),M.focus())},K=()=>{_.style.display="flex",R?setTimeout(()=>R?.invalidateSize(),200):setTimeout(()=>{R=a0.map(g,{keyboard:!1}).setView([b.lat,b.lon],11),a0.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo(R),R.invalidateSize()},0),_.addEventListener("keydown",k,!0),_.addEventListener("keyup",k,!0),M.focus()},F=()=>{_.style.display="none",M.value="",A.innerHTML="",D&&(window.clearTimeout(D),D=null),_.removeEventListener("keydown",k,!0),_.removeEventListener("keyup",k,!0)},tt=I=>{const Q=I.dataset.name??"",nt=Number(I.dataset.lat??""),at=Number(I.dataset.lon??"");!Number.isFinite(nt)||!Number.isFinite(at)||!R||($?$.setLatLng([nt,at]):$=a0.marker([nt,at]).addTo(R),R.flyTo([nt,at],14,{duration:.5}),v.value=Q,v.dataset.lat=String(nt),v.dataset.lon=String(at),t.onSelected?.({name:Q,lat:nt,lon:at}),A.innerHTML="",F())},et=()=>{D&&window.clearTimeout(D);const I=M.value.trim();if(!I){A.innerHTML="";return}D=window.setTimeout(async()=>{try{const Q="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(I),nt=await fetch(Q,{headers:{Accept:"application/json"}});if(!nt.ok)throw new Error(`HTTP ${nt.status}`);const at=await nt.json();if(!Array.isArray(at)||at.length===0){A.innerHTML='<li style="padding:8px">결과 없음</li>';return}const G=at.slice(0,12).map((ot,st)=>{const _t=ot.display_name.split(",").slice(0,3).map(Z=>Z.trim()).join(" · "),j="padding:8px;cursor:pointer;outline:none;",H=st===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${jd(_t)}"
                    data-lat="${jd(ot.lat)}"
                    data-lon="${jd(ot.lon)}"
                    data-active="${st===0?"1":"0"}"
                    style="${j}${H}"
                  >${jd(_t)}</li>`}).join("");A.innerHTML=G}catch(Q){console.error(Q),A.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},it=I=>{const Q=I.target;Q.tagName==="LI"&&tt(Q)},q=I=>{if(I.key==="Enter"){const Q=A.querySelector('li[data-active="1"]')??A.querySelector("li");Q&&tt(Q)}};return S.addEventListener("click",K),T.addEventListener("click",F),O&&O.addEventListener("click",F),M.addEventListener("input",et),M.addEventListener("keydown",q),A.addEventListener("click",it),()=>{S.removeEventListener("click",K),T.removeEventListener("click",F),O&&O.removeEventListener("click",F),M.removeEventListener("input",et),M.removeEventListener("keydown",q),A.removeEventListener("click",it),_.removeEventListener("keydown",k,!0),_.removeEventListener("keyup",k,!0),D&&(window.clearTimeout(D),D=null),R&&(R.remove(),R=null)}}function Us(){return document.getElementById("suggestions")}function df(t){const r=Array.from(t.querySelectorAll('li, [role="option"]'));return r.forEach((a,s)=>{a.getAttribute("role")||a.setAttribute("role","option"),a.setAttribute("aria-selected",a===document.activeElement?"true":"false"),a.tabIndex=-1,a.id||(a.id=`suggestion-item-${s}`)}),r}function vc(t,r){const a=df(t);if(a.length===0)return;const s=a.length;let c=r;c<0&&(c=s-1),c>=s&&(c=0),a.forEach(f=>{f.tabIndex=-1,f.setAttribute("aria-selected","false")});const d=a[c];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function w1({onSelect:t,placeholderText:r="출생지선택",buttonStyle:a,value:s}){const[c,d]=B.useState(r),[f,m]=B.useState(!1),[g,b]=B.useState(s??""),v=B.useRef(null),S=B.useRef(null),_=B.useRef(null),T=B.useRef(null);return B.useEffect(()=>{s!==void 0&&b(s)},[s]),B.useEffect(()=>{if(!f)return;const M=sM({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:et=>{d("선택완료"),b(et.name),v.current&&(v.current.value=et.name),S.current&&(S.current.value=String(et.lat)),_.current&&(_.current.value=String(et.lon)),t?.(et),m(!1)}}),A=document.getElementById("inputBirthPlaceBtn");A&&A.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const O=document.getElementById("mapModal"),R=document.getElementById("searchBox"),$=Us();setTimeout(()=>R?.focus(),0);const D='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',C=et=>{if(et.key==="Escape"){et.preventDefault(),m(!1);return}if(et.key!=="Tab")return;const it=Us();if(it&&it.contains(document.activeElement))return;const q=Array.from(O.querySelectorAll(D)).filter(at=>!at.hasAttribute("disabled")&&at.tabIndex!==-1);if(q.length===0)return;const I=q[0],Q=q[q.length-1],nt=document.activeElement;et.shiftKey?(nt===I||!O.contains(nt))&&(et.preventDefault(),Q.focus()):(nt===Q||!O.contains(nt))&&(et.preventDefault(),I.focus())};O.addEventListener("keydown",C);const k=et=>{if(et.key!=="ArrowDown")return;const it=Us();!it||df(it).length===0||(et.preventDefault(),vc(it,0))};R?.addEventListener("keydown",k);const K=et=>{if(et.target.value.trim()===""){const q=Us();q&&(q.innerHTML="")}};R?.addEventListener("input",K);const F=et=>{const it=Us();if(!it)return;const q=df(it);if(q.length===0)return;const I=document.activeElement,Q=I?q.indexOf(I):-1;if(Q===-1)return;const nt=at=>{et.preventDefault(),vc(it,Q+at)};switch(et.key){case"Tab":et.preventDefault(),nt(et.shiftKey?-1:1);break;case"ArrowDown":et.preventDefault(),nt(1);break;case"ArrowUp":et.preventDefault(),nt(-1);break;case"Home":et.preventDefault(),vc(it,0);break;case"End":et.preventDefault(),vc(it,q.length-1);break;case"Enter":case" ":et.preventDefault(),I.click();break;case"Backspace":et.preventDefault(),it.innerHTML="",R?.focus();break}et.stopPropagation()};let tt=null;return $&&($.addEventListener("keydown",F),tt=new MutationObserver(()=>{const et=Us();!et||df(et).length===0||vc(et,0)}),tt.observe($,{childList:!0,subtree:!1})),()=>{O.removeEventListener("keydown",C),R?.removeEventListener("keydown",k),R?.removeEventListener("input",K),$&&$.removeEventListener("keydown",F),tt?.disconnect(),M?.()}},[f,t]),B.useEffect(()=>{f||setTimeout(()=>T.current?.focus(),0)},[f]),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:g&&g.trim()!==""?g:r}),y.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:a,onClick:()=>m(!0),"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":"mapModal",children:c}),y.jsx("input",{ref:v,type:"hidden",name:"birthPlace_name",defaultValue:""}),y.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lat",defaultValue:""}),y.jsx("input",{ref:_,type:"hidden",name:"birthPlace_lon",defaultValue:""}),f&&y.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:y.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),y.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>m(!1),children:"✕"})]}),y.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[y.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),y.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),y.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:y.jsx("div",{id:"map",className:"h-full w-full"})}),y.jsxs("div",{className:"gap-2 p-3",children:[y.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[y.jsxs("p",{className:"flex mb-1",children:[y.jsx("span",{className:"mr-1",children:"*"}),y.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),y.jsxs("p",{className:"flex",children:[y.jsx("span",{className:"mr-1",children:"*"}),y.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),y.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var Qc=a1();const lM=cl(Qc);function Un(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cM=typeof Symbol=="function"&&Symbol.observable||"@@observable",Cv=cM,Lv=()=>Math.random().toString(36).substring(7).split("").join("."),uM={INIT:`@@redux/INIT${Lv()}`,REPLACE:`@@redux/REPLACE${Lv()}`},Bv=uM;function dM(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function T1(t,r,a){if(typeof t!="function")throw new Error(Un(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Un(1));return a(T1)(t,r)}let s=t,c=r,d=new Map,f=d,m=0,g=!1;function b(){f===d&&(f=new Map,d.forEach((O,R)=>{f.set(R,O)}))}function v(){if(g)throw new Error(Un(3));return c}function S(O){if(typeof O!="function")throw new Error(Un(4));if(g)throw new Error(Un(5));let R=!0;b();const $=m++;return f.set($,O),function(){if(R){if(g)throw new Error(Un(6));R=!1,b(),f.delete($),d=null}}}function _(O){if(!dM(O))throw new Error(Un(7));if(typeof O.type>"u")throw new Error(Un(8));if(typeof O.type!="string")throw new Error(Un(17));if(g)throw new Error(Un(9));try{g=!0,c=s(c,O)}finally{g=!1}return(d=f).forEach($=>{$()}),O}function T(O){if(typeof O!="function")throw new Error(Un(10));s=O,_({type:Bv.REPLACE})}function M(){const O=S;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Un(11));function $(){const C=R;C.next&&C.next(v())}return $(),{unsubscribe:O($)}},[Cv](){return this}}}return _({type:Bv.INIT}),{dispatch:_,subscribe:S,getState:v,replaceReducer:T,[Cv]:M}}function Rv(t,r){return function(...a){return r(t.apply(this,a))}}function Pv(t,r){if(typeof t=="function")return Rv(t,r);if(typeof t!="object"||t===null)throw new Error(Un(16));const a={};for(const s in t){const c=t[s];typeof c=="function"&&(a[s]=Rv(c,r))}return a}function E1(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function fM(...t){return r=>(a,s)=>{const c=r(a,s);let d=()=>{throw new Error(Un(15))};const f={getState:c.getState,dispatch:(g,...b)=>d(g,...b)},m=t.map(g=>g(f));return d=E1(...m)(c.dispatch),{...c,dispatch:d}}}var o0={exports:{}},s0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function hM(){if(zv)return s0;zv=1;var t=Rf();function r(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,c=t.useRef,d=t.useEffect,f=t.useMemo,m=t.useDebugValue;return s0.useSyncExternalStoreWithSelector=function(g,b,v,S,_){var T=c(null);if(T.current===null){var M={hasValue:!1,value:null};T.current=M}else M=T.current;T=f(function(){function O(k){if(!R){if(R=!0,$=k,k=S(k),_!==void 0&&M.hasValue){var K=M.value;if(_(K,k))return D=K}return D=k}if(K=D,a($,k))return K;var F=S(k);return _!==void 0&&_(K,F)?($=k,K):($=k,D=F)}var R=!1,$,D,C=v===void 0?null:v;return[function(){return O(b())},C===null?void 0:function(){return O(C())}]},[b,v,S,_]);var A=s(g,T[0],T[1]);return d(function(){M.hasValue=!0,M.value=A},[A]),m(A),A},s0}var $v;function mM(){return $v||($v=1,o0.exports=hM()),o0.exports}mM();var pM=B.version.startsWith("19"),gM=Symbol.for(pM?"react.transitional.element":"react.element"),bM=Symbol.for("react.portal"),yM=Symbol.for("react.fragment"),vM=Symbol.for("react.strict_mode"),xM=Symbol.for("react.profiler"),_M=Symbol.for("react.consumer"),SM=Symbol.for("react.context"),M1=Symbol.for("react.forward_ref"),wM=Symbol.for("react.suspense"),TM=Symbol.for("react.suspense_list"),kp=Symbol.for("react.memo"),EM=Symbol.for("react.lazy"),MM=M1,NM=kp;function AM(t){if(typeof t=="object"&&t!==null){const{$$typeof:r}=t;switch(r){case gM:switch(t=t.type,t){case yM:case xM:case vM:case wM:case TM:return t;default:switch(t=t&&t.$$typeof,t){case SM:case M1:case EM:case kp:return t;case _M:return t;default:return r}}case bM:return r}}}function DM(t){return AM(t)===kp}function jM(t,r,a,s,{areStatesEqual:c,areOwnPropsEqual:d,areStatePropsEqual:f}){let m=!1,g,b,v,S,_;function T($,D){return g=$,b=D,v=t(g,b),S=r(s,b),_=a(v,S,b),m=!0,_}function M(){return v=t(g,b),r.dependsOnOwnProps&&(S=r(s,b)),_=a(v,S,b),_}function A(){return t.dependsOnOwnProps&&(v=t(g,b)),r.dependsOnOwnProps&&(S=r(s,b)),_=a(v,S,b),_}function O(){const $=t(g,b),D=!f($,v);return v=$,D&&(_=a(v,S,b)),_}function R($,D){const C=!d(D,b),k=!c($,g,D,b);return g=$,b=D,C&&k?M():C?A():k?O():_}return function(D,C){return m?R(D,C):T(D,C)}}function kM(t,{initMapStateToProps:r,initMapDispatchToProps:a,initMergeProps:s,...c}){const d=r(t,c),f=a(t,c),m=s(t,c);return jM(d,f,m,t,c)}function OM(t,r){const a={};for(const s in t){const c=t[s];typeof c=="function"&&(a[s]=(...d)=>r(c(...d)))}return a}function cp(t){return function(a){const s=t(a);function c(){return s}return c.dependsOnOwnProps=!1,c}}function Hv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function N1(t,r){return function(s,{displayName:c}){const d=function(m,g){return d.dependsOnOwnProps?d.mapToProps(m,g):d.mapToProps(m,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(m,g){d.mapToProps=t,d.dependsOnOwnProps=Hv(t);let b=d(m,g);return typeof b=="function"&&(d.mapToProps=b,d.dependsOnOwnProps=Hv(b),b=d(m,g)),b},d}}function Op(t,r){return(a,s)=>{throw new Error(`Invalid value of type ${typeof t} for ${r} argument when connecting component ${s.wrappedComponentName}.`)}}function CM(t){return t&&typeof t=="object"?cp(r=>OM(t,r)):t?typeof t=="function"?N1(t):Op(t,"mapDispatchToProps"):cp(r=>({dispatch:r}))}function LM(t){return t?typeof t=="function"?N1(t):Op(t,"mapStateToProps"):cp(()=>({}))}function BM(t,r,a){return{...a,...t,...r}}function RM(t){return function(a,{displayName:s,areMergedPropsEqual:c}){let d=!1,f;return function(g,b,v){const S=t(g,b,v);return d?c(S,f)||(f=S):(d=!0,f=S),f}}}function PM(t){return t?typeof t=="function"?RM(t):Op(t,"mergeProps"):()=>BM}function zM(t){t()}function $M(){let t=null,r=null;return{clear(){t=null,r=null},notify(){zM(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const c=r={callback:a,next:null,prev:r};return c.prev?c.prev.next=c:t=c,function(){!s||t===null||(s=!1,c.next?c.next.prev=c.prev:r=c.prev,c.prev?c.prev.next=c.next:t=c.next)}}}}var Iv={notify(){},get:()=>[]};function A1(t,r){let a,s=Iv,c=0,d=!1;function f(A){v();const O=s.subscribe(A);let R=!1;return()=>{R||(R=!0,O(),S())}}function m(){s.notify()}function g(){M.onStateChange&&M.onStateChange()}function b(){return d}function v(){c++,a||(a=r?r.addNestedSub(g):t.subscribe(g),s=$M())}function S(){c--,a&&c===0&&(a(),a=void 0,s.clear(),s=Iv)}function _(){d||(d=!0,v())}function T(){d&&(d=!1,S())}const M={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:g,isSubscribed:b,trySubscribe:_,tryUnsubscribe:T,getListeners:()=>s};return M}var HM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IM=HM(),GM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UM=GM(),ZM=()=>IM||UM?B.useLayoutEffect:B.useEffect,pf=ZM();function Gv(t,r){return t===r?t!==0||r!==0||1/t===1/r:t!==t&&r!==r}function l0(t,r){if(Gv(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;const a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(let c=0;c<a.length;c++)if(!Object.prototype.hasOwnProperty.call(r,a[c])||!Gv(t[a[c]],r[a[c]]))return!1;return!0}var YM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VM={[MM]:FM,[NM]:D1};function Uv(t){return DM(t)?D1:VM[t.$$typeof]||YM}var KM=Object.defineProperty,XM=Object.getOwnPropertyNames,Zv=Object.getOwnPropertySymbols,WM=Object.getOwnPropertyDescriptor,QM=Object.getPrototypeOf,Yv=Object.prototype;function up(t,r){if(typeof r!="string"){if(Yv){const d=QM(r);d&&d!==Yv&&up(t,d)}let a=XM(r);Zv&&(a=a.concat(Zv(r)));const s=Uv(t),c=Uv(r);for(let d=0;d<a.length;++d){const f=a[d];if(!qM[f]&&!(c&&c[f])&&!(s&&s[f])){const m=WM(r,f);try{KM(t,f,m)}catch{}}}}return t}var JM=Symbol.for("react-redux-context"),t3=typeof globalThis<"u"?globalThis:{};function e3(){if(!B.createContext)return{};const t=t3[JM]??=new Map;let r=t.get(B.createContext);return r||(r=B.createContext(null),t.set(B.createContext,r)),r}var j1=e3(),n3=[null,null];function r3(t,r,a){pf(()=>t(...r),a)}function i3(t,r,a,s,c,d){t.current=s,a.current=!1,c.current&&(c.current=null,d())}function a3(t,r,a,s,c,d,f,m,g,b,v){if(!t)return()=>{};let S=!1,_=null;const T=()=>{if(S||!m.current)return;const A=r.getState();let O,R;try{O=s(A,c.current)}catch($){R=$,_=$}R||(_=null),O===d.current?f.current||b():(d.current=O,g.current=O,f.current=!0,v())};return a.onStateChange=T,a.trySubscribe(),T(),()=>{if(S=!0,a.tryUnsubscribe(),a.onStateChange=null,_)throw _}}function o3(t,r){return t===r}function s3(t,r,a,{pure:s,areStatesEqual:c=o3,areOwnPropsEqual:d=l0,areStatePropsEqual:f=l0,areMergedPropsEqual:m=l0,forwardRef:g=!1,context:b=j1}={}){const v=b,S=LM(t),_=CM(r),T=PM(a),M=!!t;return O=>{const R=O.displayName||O.name||"Component",$=`Connect(${R})`,D={shouldHandleStateChanges:M,displayName:$,wrappedComponentName:R,WrappedComponent:O,initMapStateToProps:S,initMapDispatchToProps:_,initMergeProps:T,areStatesEqual:c,areStatePropsEqual:f,areOwnPropsEqual:d,areMergedPropsEqual:m};function C(F){const[tt,et,it]=B.useMemo(()=>{const{reactReduxForwardedRef:kt,...Bt}=F;return[F.context,kt,Bt]},[F]),q=B.useMemo(()=>{let kt=v;return tt?.Consumer,kt},[tt,v]),I=B.useContext(q),Q=!!F.store&&!!F.store.getState&&!!F.store.dispatch,nt=!!I&&!!I.store,at=Q?F.store:I.store,G=nt?I.getServerState:at.getState,ot=B.useMemo(()=>kM(at.dispatch,D),[at]),[st,_t]=B.useMemo(()=>{if(!M)return n3;const kt=A1(at,Q?void 0:I.subscription),Bt=kt.notifyNestedSubs.bind(kt);return[kt,Bt]},[at,Q,I]),j=B.useMemo(()=>Q?I:{...I,subscription:st},[Q,I,st]),H=B.useRef(void 0),Z=B.useRef(it),J=B.useRef(void 0),V=B.useRef(!1),U=B.useRef(!1),Y=B.useRef(void 0);pf(()=>(U.current=!0,()=>{U.current=!1}),[]);const ht=B.useMemo(()=>()=>J.current&&it===Z.current?J.current:ot(at.getState(),it),[at,it]),gt=B.useMemo(()=>Bt=>st?a3(M,at,st,ot,Z,H,V,U,J,_t,Bt):()=>{},[st]);r3(i3,[Z,H,V,it,J,_t]);let Et;try{Et=B.useSyncExternalStore(gt,ht,G?()=>ot(G(),it):ht)}catch(kt){throw Y.current&&(kt.message+=`
The error may be correlated with this previous error:
${Y.current.stack}

`),kt}pf(()=>{Y.current=void 0,J.current=void 0,H.current=Et});const Ct=B.useMemo(()=>B.createElement(O,{...Et,ref:et}),[et,O,Et]);return B.useMemo(()=>M?B.createElement(q.Provider,{value:j},Ct):Ct,[q,Ct,j])}const K=B.memo(C);if(K.WrappedComponent=O,K.displayName=C.displayName=$,g){const tt=B.forwardRef(function(it,q){return B.createElement(K,{...it,reactReduxForwardedRef:q})});return tt.displayName=$,tt.WrappedComponent=O,up(tt,O)}return up(K,O)}}var k1=s3;function l3(t){const{children:r,context:a,serverState:s,store:c}=t,d=B.useMemo(()=>{const g=A1(c);return{store:c,subscription:g,getServerState:s?()=>s:void 0}},[c,s]),f=B.useMemo(()=>c.getState(),[c]);pf(()=>{const{subscription:g}=d;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),f!==c.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[d,f]);const m=a||j1;return B.createElement(m.Provider,{value:d},r)}var c3=l3,u3="Invariant failed";function d3(t,r){throw new Error(u3)}var di=function(r){var a=r.top,s=r.right,c=r.bottom,d=r.left,f=s-d,m=c-a,g={top:a,right:s,bottom:c,left:d,width:f,height:m,x:d,y:a,center:{x:(s+d)/2,y:(c+a)/2}};return g},Cp=function(r,a){return{top:r.top-a.top,left:r.left-a.left,bottom:r.bottom+a.bottom,right:r.right+a.right}},qv=function(r,a){return{top:r.top+a.top,left:r.left+a.left,bottom:r.bottom-a.bottom,right:r.right-a.right}},f3=function(r,a){return{top:r.top+a.y,left:r.left+a.x,bottom:r.bottom+a.y,right:r.right+a.x}},c0={top:0,right:0,bottom:0,left:0},Lp=function(r){var a=r.borderBox,s=r.margin,c=s===void 0?c0:s,d=r.border,f=d===void 0?c0:d,m=r.padding,g=m===void 0?c0:m,b=di(Cp(a,c)),v=di(qv(a,f)),S=di(qv(v,g));return{marginBox:b,borderBox:di(a),paddingBox:v,contentBox:S,margin:c,border:f,padding:g}},$r=function(r){var a=r.slice(0,-2),s=r.slice(-2);if(s!=="px")return 0;var c=Number(a);return isNaN(c)&&d3(),c},h3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},gf=function(r,a){var s=r.borderBox,c=r.border,d=r.margin,f=r.padding,m=f3(s,a);return Lp({borderBox:m,border:c,margin:d,padding:f})},bf=function(r,a){return a===void 0&&(a=h3()),gf(r,a)},O1=function(r,a){var s={top:$r(a.marginTop),right:$r(a.marginRight),bottom:$r(a.marginBottom),left:$r(a.marginLeft)},c={top:$r(a.paddingTop),right:$r(a.paddingRight),bottom:$r(a.paddingBottom),left:$r(a.paddingLeft)},d={top:$r(a.borderTopWidth),right:$r(a.borderRightWidth),bottom:$r(a.borderBottomWidth),left:$r(a.borderLeftWidth)};return Lp({borderBox:r,margin:s,padding:c,border:d})},C1=function(r){var a=r.getBoundingClientRect(),s=window.getComputedStyle(r);return O1(a,s)},$c=function(r){var a=[],s=null,c=function(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];a=m,!s&&(s=requestAnimationFrame(function(){s=null,r.apply(void 0,a)}))};return c.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},c};function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},yf.apply(null,arguments)}function L1(t,r){}L1.bind(null,"warn");L1.bind(null,"error");function io(){}function m3(t,r){return{...t,...r}}function Ur(t,r,a){const s=r.map(c=>{const d=m3(a,c.options);return t.addEventListener(c.eventName,c.fn,d),function(){t.removeEventListener(c.eventName,c.fn,d)}});return function(){s.forEach(d=>{d()})}}const p3="Invariant failed";class vf extends Error{}vf.prototype.toString=function(){return this.message};function jt(t,r){throw new vf(p3)}class g3 extends ze.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=io,this.onWindowError=a=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),a.error instanceof vf&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=Ur(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof vf){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const b3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,xf=t=>t+1,y3=t=>`
  You have lifted an item in position ${xf(t.source.index)}
`,B1=(t,r)=>{const a=t.droppableId===r.droppableId,s=xf(t.index),c=xf(r.index);return a?`
      You have moved the item from position ${s}
      to position ${c}
    `:`
    You have moved the item from position ${s}
    in list ${t.droppableId}
    to list ${r.droppableId}
    in position ${c}
  `},R1=(t,r,a)=>r.droppableId===a.droppableId?`
      The item ${t}
      has been combined with ${a.draggableId}`:`
      The item ${t}
      in list ${r.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,v3=t=>{const r=t.destination;if(r)return B1(t.source,r);const a=t.combine;return a?R1(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},Fv=t=>`
  The item has returned to its starting position
  of ${xf(t.index)}
`,x3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${Fv(t.source)}
    `;const r=t.destination,a=t.combine;return r?`
      You have dropped the item.
      ${B1(t.source,r)}
    `:a?`
      You have dropped the item.
      ${R1(t.draggableId,t.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${Fv(t.source)}
  `},ff={dragHandleUsageInstructions:b3,onDragStart:y3,onDragUpdate:v3,onDragEnd:x3};function _3(t,r){return!!(t===r||Number.isNaN(t)&&Number.isNaN(r))}function P1(t,r){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(!_3(t[a],r[a]))return!1;return!0}function me(t,r){const a=B.useState(()=>({inputs:r,result:t()}))[0],s=B.useRef(!0),c=B.useRef(a),f=s.current||!!(r&&c.current.inputs&&P1(r,c.current.inputs))?c.current:{inputs:r,result:t()};return B.useEffect(()=>{s.current=!1,c.current=f},[f]),f.result}function Ft(t,r){return me(()=>t,r)}const bn={x:0,y:0},En=(t,r)=>({x:t.x+r.x,y:t.y+r.y}),wr=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),ao=(t,r)=>t.x===r.x&&t.y===r.y,ul=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Wo=(t,r,a=0)=>t==="x"?{x:r,y:a}:{x:a,y:r},Hc=(t,r)=>Math.sqrt((r.x-t.x)**2+(r.y-t.y)**2),Vv=(t,r)=>Math.min(...r.map(a=>Hc(t,a))),z1=t=>r=>({x:t(r.x),y:t(r.y)});var S3=(t,r)=>{const a=di({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return a.width<=0||a.height<=0?null:a};const Jc=(t,r)=>({top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}),Kv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],w3={top:0,right:0,bottom:0,left:0},T3=(t,r)=>r?Jc(t,r.scroll.diff.displacement):t,E3=(t,r,a)=>a&&a.increasedBy?{...t,[r.end]:t[r.end]+a.increasedBy[r.line]}:t,M3=(t,r)=>r&&r.shouldClipSubject?S3(r.pageMarginBox,t):di(t);var nl=({page:t,withPlaceholder:r,axis:a,frame:s})=>{const c=T3(t.marginBox,s),d=E3(c,a,r),f=M3(d,s);return{page:t,withPlaceholder:r,active:f}},Bp=(t,r)=>{t.frame||jt();const a=t.frame,s=wr(r,a.scroll.initial),c=ul(s),d={...a,scroll:{initial:a.scroll.initial,current:r,diff:{value:s,displacement:c},max:a.scroll.max}},f=nl({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:f}};function gn(t,r=P1){let a=null;function s(...c){if(a&&a.lastThis===this&&r(c,a.lastArgs))return a.lastResult;const d=t.apply(this,c);return a={lastResult:d,lastArgs:c,lastThis:this},d}return s.clear=function(){a=null},s}const $1=gn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),H1=gn(t=>t.reduce((r,a)=>(r[a.descriptor.id]=a,r),{})),Uf=gn(t=>Object.values(t)),N3=gn(t=>Object.values(t));var dl=gn((t,r)=>N3(r).filter(s=>t===s.descriptor.droppableId).sort((s,c)=>s.descriptor.index-c.descriptor.index));function Rp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Zf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Yf=gn((t,r)=>r.filter(a=>a.descriptor.id!==t.descriptor.id)),A3=({isMovingForward:t,draggable:r,destination:a,insideDestination:s,previousImpact:c})=>{if(!a.isCombineEnabled||!Rp(c))return null;function f(T){const M={type:"COMBINE",combine:{draggableId:T,droppableId:a.descriptor.id}};return{...c,at:M}}const m=c.displaced.all,g=m.length?m[0]:null;if(t)return g?f(g):null;const b=Yf(r,s);if(!g){if(!b.length)return null;const T=b[b.length-1];return f(T.descriptor.id)}const v=b.findIndex(T=>T.descriptor.id===g);v===-1&&jt();const S=v-1;if(S<0)return null;const _=b[S];return f(_.descriptor.id)},fl=(t,r)=>t.descriptor.droppableId===r.descriptor.id;const I1={point:bn,value:0},Ic={invisible:{},visible:{},all:[]},D3={displaced:Ic,displacedBy:I1,at:null};var Vr=(t,r)=>a=>t<=a&&a<=r,G1=t=>{const r=Vr(t.top,t.bottom),a=Vr(t.left,t.right);return s=>{if(r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right))return!0;const d=r(s.top)||r(s.bottom),f=a(s.left)||a(s.right);if(d&&f)return!0;const g=s.top<t.top&&s.bottom>t.bottom,b=s.left<t.left&&s.right>t.right;return g&&b?!0:g&&f||b&&d}},j3=t=>{const r=Vr(t.top,t.bottom),a=Vr(t.left,t.right);return s=>r(s.top)&&r(s.bottom)&&a(s.left)&&a(s.right)};const Pp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},U1={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var k3=t=>r=>{const a=Vr(r.top,r.bottom),s=Vr(r.left,r.right);return c=>t===Pp?a(c.top)&&a(c.bottom):s(c.left)&&s(c.right)};const O3=(t,r)=>{const a=r.frame?r.frame.scroll.diff.displacement:bn;return Jc(t,a)},C3=(t,r,a)=>r.subject.active?a(r.subject.active)(t):!1,L3=(t,r,a)=>a(r)(t),zp=({target:t,destination:r,viewport:a,withDroppableDisplacement:s,isVisibleThroughFrameFn:c})=>{const d=s?O3(t,r):t;return C3(d,r,c)&&L3(d,a,c)},B3=t=>zp({...t,isVisibleThroughFrameFn:G1}),Z1=t=>zp({...t,isVisibleThroughFrameFn:j3}),R3=t=>zp({...t,isVisibleThroughFrameFn:k3(t.destination.axis)}),P3=(t,r,a)=>{if(typeof a=="boolean")return a;if(!r)return!0;const{invisible:s,visible:c}=r;if(s[t])return!1;const d=c[t];return d?d.shouldAnimate:!0};function z3(t,r){const a=t.page.marginBox,s={top:r.point.y,right:0,bottom:0,left:r.point.x};return di(Cp(a,s))}function Gc({afterDragging:t,destination:r,displacedBy:a,viewport:s,forceShouldAnimate:c,last:d}){return t.reduce(function(m,g){const b=z3(g,a),v=g.descriptor.id;if(m.all.push(v),!B3({target:b,destination:r,viewport:s,withDroppableDisplacement:!0}))return m.invisible[g.descriptor.id]=!0,m;const _=P3(v,d,c),T={draggableId:v,shouldAnimate:_};return m.visible[v]=T,m},{all:[],visible:{},invisible:{}})}function $3(t,r){if(!t.length)return 0;const a=t[t.length-1].descriptor.index;return r.inHomeList?a:a+1}function Xv({insideDestination:t,inHomeList:r,displacedBy:a,destination:s}){const c=$3(t,{inHomeList:r});return{displaced:Ic,displacedBy:a,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:c}}}}function _f({draggable:t,insideDestination:r,destination:a,viewport:s,displacedBy:c,last:d,index:f,forceShouldAnimate:m}){const g=fl(t,a);if(f==null)return Xv({insideDestination:r,inHomeList:g,displacedBy:c,destination:a});const b=r.find(M=>M.descriptor.index===f);if(!b)return Xv({insideDestination:r,inHomeList:g,displacedBy:c,destination:a});const v=Yf(t,r),S=r.indexOf(b),_=v.slice(S);return{displaced:Gc({afterDragging:_,destination:a,displacedBy:c,last:d,viewport:s.frame,forceShouldAnimate:m}),displacedBy:c,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:f}}}}function oo(t,r){return!!r.effected[t]}var H3=({isMovingForward:t,destination:r,draggables:a,combine:s,afterCritical:c})=>{if(!r.isCombineEnabled)return null;const d=s.draggableId,m=a[d].descriptor.index;return oo(d,c)?t?m:m-1:t?m+1:m},I3=({isMovingForward:t,isInHomeList:r,insideDestination:a,location:s})=>{if(!a.length)return null;const c=s.index,d=t?c+1:c-1,f=a[0].descriptor.index,m=a[a.length-1].descriptor.index,g=r?m:m+1;return d<f||d>g?null:d},G3=({isMovingForward:t,isInHomeList:r,draggable:a,draggables:s,destination:c,insideDestination:d,previousImpact:f,viewport:m,afterCritical:g})=>{const b=f.at;if(b||jt(),b.type==="REORDER"){const S=I3({isMovingForward:t,isInHomeList:r,location:b.destination,insideDestination:d});return S==null?null:_f({draggable:a,insideDestination:d,destination:c,viewport:m,last:f.displaced,displacedBy:f.displacedBy,index:S})}const v=H3({isMovingForward:t,destination:c,displaced:f.displaced,draggables:s,combine:b.combine,afterCritical:g});return v==null?null:_f({draggable:a,insideDestination:d,destination:c,viewport:m,last:f.displaced,displacedBy:f.displacedBy,index:v})},U3=({displaced:t,afterCritical:r,combineWith:a,displacedBy:s})=>{const c=!!(t.visible[a]||t.invisible[a]);return oo(a,r)?c?bn:ul(s.point):c?s.point:bn},Z3=({afterCritical:t,impact:r,draggables:a})=>{const s=Zf(r);s||jt();const c=s.draggableId,d=a[c].page.borderBox.center,f=U3({displaced:r.displaced,afterCritical:t,combineWith:c,displacedBy:r.displacedBy});return En(d,f)};const Y1=(t,r)=>r.margin[t.start]+r.borderBox[t.size]/2,Y3=(t,r)=>r.margin[t.end]+r.borderBox[t.size]/2,$p=(t,r,a)=>r[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2,Wv=({axis:t,moveRelativeTo:r,isMoving:a})=>Wo(t.line,r.marginBox[t.end]+Y1(t,a),$p(t,r.marginBox,a)),Qv=({axis:t,moveRelativeTo:r,isMoving:a})=>Wo(t.line,r.marginBox[t.start]-Y3(t,a),$p(t,r.marginBox,a)),q3=({axis:t,moveInto:r,isMoving:a})=>Wo(t.line,r.contentBox[t.start]+Y1(t,a),$p(t,r.contentBox,a));var F3=({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:c})=>{const d=dl(s.descriptor.id,a),f=r.page,m=s.axis;if(!d.length)return q3({axis:m,moveInto:s.page,isMoving:f});const{displaced:g,displacedBy:b}=t,v=g.all[0];if(v){const _=a[v];if(oo(v,c))return Qv({axis:m,moveRelativeTo:_.page,isMoving:f});const T=gf(_.page,b.point);return Qv({axis:m,moveRelativeTo:T,isMoving:f})}const S=d[d.length-1];if(S.descriptor.id===r.descriptor.id)return f.borderBox.center;if(oo(S.descriptor.id,c)){const _=gf(S.page,ul(c.displacedBy.point));return Wv({axis:m,moveRelativeTo:_,isMoving:f})}return Wv({axis:m,moveRelativeTo:S.page,isMoving:f})},dp=(t,r)=>{const a=t.frame;return a?En(r,a.scroll.diff.displacement):r};const V3=({impact:t,draggable:r,droppable:a,draggables:s,afterCritical:c})=>{const d=r.page.borderBox.center,f=t.at;return!a||!f?d:f.type==="REORDER"?F3({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:c}):Z3({impact:t,draggables:s,afterCritical:c})};var qf=t=>{const r=V3(t),a=t.droppable;return a?dp(a,r):r},q1=(t,r)=>{const a=wr(r,t.scroll.initial),s=ul(a);return{frame:di({top:r.y,bottom:r.y+t.frame.height,left:r.x,right:r.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:r,diff:{value:a,displacement:s}}}};function Jv(t,r){return t.map(a=>r[a])}function K3(t,r){for(let a=0;a<r.length;a++){const s=r[a].visible[t];if(s)return s}return null}var X3=({impact:t,viewport:r,destination:a,draggables:s,maxScrollChange:c})=>{const d=q1(r,En(r.scroll.current,c)),f=a.frame?Bp(a,En(a.frame.scroll.current,c)):a,m=t.displaced,g=Gc({afterDragging:Jv(m.all,s),destination:a,displacedBy:t.displacedBy,viewport:d.frame,last:m,forceShouldAnimate:!1}),b=Gc({afterDragging:Jv(m.all,s),destination:f,displacedBy:t.displacedBy,viewport:r.frame,last:m,forceShouldAnimate:!1}),v={},S={},_=[m,g,b];return m.all.forEach(M=>{const A=K3(M,_);if(A){S[M]=A;return}v[M]=!0}),{...t,displaced:{all:m.all,invisible:v,visible:S}}},W3=(t,r)=>En(t.scroll.diff.displacement,r),Hp=({pageBorderBoxCenter:t,draggable:r,viewport:a})=>{const s=W3(a,t),c=wr(s,r.page.borderBox.center);return En(r.client.borderBox.center,c)},F1=({draggable:t,destination:r,newPageBorderBoxCenter:a,viewport:s,withDroppableDisplacement:c,onlyOnMainAxis:d=!1})=>{const f=wr(a,t.page.borderBox.center),g={target:Jc(t.page.borderBox,f),destination:r,withDroppableDisplacement:c,viewport:s};return d?R3(g):Z1(g)},Q3=({isMovingForward:t,draggable:r,destination:a,draggables:s,previousImpact:c,viewport:d,previousPageBorderBoxCenter:f,previousClientSelection:m,afterCritical:g})=>{if(!a.isEnabled)return null;const b=dl(a.descriptor.id,s),v=fl(r,a),S=A3({isMovingForward:t,draggable:r,destination:a,insideDestination:b,previousImpact:c})||G3({isMovingForward:t,isInHomeList:v,draggable:r,draggables:s,destination:a,insideDestination:b,previousImpact:c,viewport:d,afterCritical:g});if(!S)return null;const _=qf({impact:S,draggable:r,droppable:a,draggables:s,afterCritical:g});if(F1({draggable:r,destination:a,newPageBorderBoxCenter:_,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Hp({pageBorderBoxCenter:_,draggable:r,viewport:d}),impact:S,scrollJumpRequest:null};const M=wr(_,f),A=X3({impact:S,viewport:d,destination:a,draggables:s,maxScrollChange:M});return{clientSelection:m,impact:A,scrollJumpRequest:M}};const Gn=t=>{const r=t.subject.active;return r||jt(),r};var J3=({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:s,viewport:c})=>{const d=a.subject.active;if(!d)return null;const f=a.axis,m=Vr(d[f.start],d[f.end]),g=Uf(s).filter(v=>v!==a).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>G1(c.frame)(Gn(v))).filter(v=>{const S=Gn(v);return t?d[f.crossAxisEnd]<S[f.crossAxisEnd]:S[f.crossAxisStart]<d[f.crossAxisStart]}).filter(v=>{const S=Gn(v),_=Vr(S[f.start],S[f.end]);return m(S[f.start])||m(S[f.end])||_(d[f.start])||_(d[f.end])}).sort((v,S)=>{const _=Gn(v)[f.crossAxisStart],T=Gn(S)[f.crossAxisStart];return t?_-T:T-_}).filter((v,S,_)=>Gn(v)[f.crossAxisStart]===Gn(_[0])[f.crossAxisStart]);if(!g.length)return null;if(g.length===1)return g[0];const b=g.filter(v=>Vr(Gn(v)[f.start],Gn(v)[f.end])(r[f.line]));return b.length===1?b[0]:b.length>1?b.sort((v,S)=>Gn(v)[f.start]-Gn(S)[f.start])[0]:g.sort((v,S)=>{const _=Vv(r,Kv(Gn(v))),T=Vv(r,Kv(Gn(S)));return _!==T?_-T:Gn(v)[f.start]-Gn(S)[f.start]})[0]};const tx=(t,r)=>{const a=t.page.borderBox.center;return oo(t.descriptor.id,r)?wr(a,r.displacedBy.point):a},tN=(t,r)=>{const a=t.page.borderBox;return oo(t.descriptor.id,r)?Jc(a,ul(r.displacedBy.point)):a};var eN=({pageBorderBoxCenter:t,viewport:r,destination:a,insideDestination:s,afterCritical:c})=>s.filter(f=>Z1({target:tN(f,c),destination:a,viewport:r.frame,withDroppableDisplacement:!0})).sort((f,m)=>{const g=Hc(t,dp(a,tx(f,c))),b=Hc(t,dp(a,tx(m,c)));return g<b?-1:b<g?1:f.descriptor.index-m.descriptor.index})[0]||null,tu=gn(function(r,a){const s=a[r.line];return{value:s,point:Wo(r.line,s)}});const nN=(t,r,a)=>{const s=t.axis;if(t.descriptor.mode==="virtual")return Wo(s.line,r[s.line]);const c=t.subject.page.contentBox[s.size],g=dl(t.descriptor.id,a).reduce((b,v)=>b+v.client.marginBox[s.size],0)+r[s.line]-c;return g<=0?null:Wo(s.line,g)},V1=(t,r)=>({...t,scroll:{...t.scroll,max:r}}),K1=(t,r,a)=>{const s=t.frame;fl(r,t)&&jt(),t.subject.withPlaceholder&&jt();const c=tu(t.axis,r.displaceBy).point,d=nN(t,c,a),f={placeholderSize:c,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){const v=nl({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:t.frame});return{...t,subject:v}}const m=d?En(s.scroll.max,d):s.scroll.max,g=V1(s,m),b=nl({page:t.subject.page,withPlaceholder:f,axis:t.axis,frame:g});return{...t,subject:b,frame:g}},rN=t=>{const r=t.subject.withPlaceholder;r||jt();const a=t.frame;if(!a){const f=nl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:f}}const s=r.oldFrameMaxScroll;s||jt();const c=V1(a,s),d=nl({page:t.subject.page,axis:t.axis,frame:c,withPlaceholder:null});return{...t,subject:d,frame:c}};var iN=({previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:a,draggable:s,draggables:c,destination:d,viewport:f,afterCritical:m})=>{if(!r){if(a.length)return null;const S={displaced:Ic,displacedBy:I1,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},_=qf({impact:S,draggable:s,droppable:d,draggables:c,afterCritical:m}),T=fl(s,d)?d:K1(d,s,c);return F1({draggable:s,destination:T,newPageBorderBoxCenter:_,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?S:null}const g=t[d.axis.line]<=r.page.borderBox.center[d.axis.line],b=(()=>{const S=r.descriptor.index;return r.descriptor.id===s.descriptor.id||g?S:S+1})(),v=tu(d.axis,s.displaceBy);return _f({draggable:s,insideDestination:a,destination:d,viewport:f,displacedBy:v,last:Ic,index:b})},aN=({isMovingForward:t,previousPageBorderBoxCenter:r,draggable:a,isOver:s,draggables:c,droppables:d,viewport:f,afterCritical:m})=>{const g=J3({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:d,viewport:f});if(!g)return null;const b=dl(g.descriptor.id,c),v=eN({pageBorderBoxCenter:r,viewport:f,destination:g,insideDestination:b,afterCritical:m}),S=iN({previousPageBorderBoxCenter:r,destination:g,draggable:a,draggables:c,moveRelativeTo:v,insideDestination:b,viewport:f,afterCritical:m});if(!S)return null;const _=qf({impact:S,draggable:a,droppable:g,draggables:c,afterCritical:m});return{clientSelection:Hp({pageBorderBoxCenter:_,draggable:a,viewport:f}),impact:S,scrollJumpRequest:null}},Tr=t=>{const r=t.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const oN=(t,r)=>{const a=Tr(t);return a?r[a]:null};var sN=({state:t,type:r})=>{const a=oN(t.impact,t.dimensions.droppables),s=!!a,c=t.dimensions.droppables[t.critical.droppable.id],d=a||c,f=d.axis.direction,m=f==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||f==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(m&&!s)return null;const g=r==="MOVE_DOWN"||r==="MOVE_RIGHT",b=t.dimensions.draggables[t.critical.draggable.id],v=t.current.page.borderBoxCenter,{draggables:S,droppables:_}=t.dimensions;return m?Q3({isMovingForward:g,previousPageBorderBoxCenter:v,draggable:b,destination:d,draggables:S,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):aN({isMovingForward:g,previousPageBorderBoxCenter:v,draggable:b,isOver:d,draggables:S,droppables:_,viewport:t.viewport,afterCritical:t.afterCritical})};function Vo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function X1(t){const r=Vr(t.top,t.bottom),a=Vr(t.left,t.right);return function(c){return r(c.y)&&a(c.x)}}function lN(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top}function cN({pageBorderBox:t,draggable:r,candidates:a}){const s=r.page.borderBox.center,c=a.map(d=>{const f=d.axis,m=Wo(d.axis.line,t.center[f.line],d.page.borderBox.center[f.crossAxisLine]);return{id:d.descriptor.id,distance:Hc(s,m)}}).sort((d,f)=>f.distance-d.distance);return c[0]?c[0].id:null}function uN({pageBorderBox:t,draggable:r,droppables:a}){const s=Uf(a).filter(c=>{if(!c.isEnabled)return!1;const d=c.subject.active;if(!d||!lN(t,d))return!1;if(X1(d)(t.center))return!0;const f=c.axis,m=d.center[f.crossAxisLine],g=t[f.crossAxisStart],b=t[f.crossAxisEnd],v=Vr(d[f.crossAxisStart],d[f.crossAxisEnd]),S=v(g),_=v(b);return!S&&!_?!0:S?g<m:b>m});return s.length?s.length===1?s[0].descriptor.id:cN({pageBorderBox:t,draggable:r,candidates:s}):null}const W1=(t,r)=>di(Jc(t,r));var dN=(t,r)=>{const a=t.frame;return a?W1(r,a.scroll.diff.value):r};function Q1({displaced:t,id:r}){return!!(t.visible[r]||t.invisible[r])}function fN({draggable:t,closest:r,inHomeList:a}){return r?a&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var hN=({pageBorderBoxWithDroppableScroll:t,draggable:r,destination:a,insideDestination:s,last:c,viewport:d,afterCritical:f})=>{const m=a.axis,g=tu(a.axis,r.displaceBy),b=g.value,v=t[m.start],S=t[m.end],T=Yf(r,s).find(A=>{const O=A.descriptor.id,R=A.page.borderBox.center[m.line],$=oo(O,f),D=Q1({displaced:c,id:O});return $?D?S<=R:v<R-b:D?S<=R+b:v<R})||null,M=fN({draggable:r,closest:T,inHomeList:fl(r,a)});return _f({draggable:r,insideDestination:s,destination:a,viewport:d,last:c,displacedBy:g,index:M})};const mN=4;var pN=({draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:a,destination:s,insideDestination:c,afterCritical:d})=>{if(!s.isCombineEnabled)return null;const f=s.axis,m=tu(s.axis,t.displaceBy),g=m.value,b=r[f.start],v=r[f.end],_=Yf(t,c).find(M=>{const A=M.descriptor.id,O=M.page.borderBox,$=O[f.size]/mN,D=oo(A,d),C=Q1({displaced:a.displaced,id:A});return D?C?v>O[f.start]+$&&v<O[f.end]-$:b>O[f.start]-g+$&&b<O[f.end]-g-$:C?v>O[f.start]+g+$&&v<O[f.end]+g-$:b>O[f.start]+$&&b<O[f.end]-$});return _?{displacedBy:m,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:s.descriptor.id}}}:null},J1=({pageOffset:t,draggable:r,draggables:a,droppables:s,previousImpact:c,viewport:d,afterCritical:f})=>{const m=W1(r.page.borderBox,t),g=uN({pageBorderBox:m,draggable:r,droppables:s});if(!g)return D3;const b=s[g],v=dl(b.descriptor.id,a),S=dN(b,m);return pN({pageBorderBoxWithDroppableScroll:S,draggable:r,previousImpact:c,destination:b,insideDestination:v,afterCritical:f})||hN({pageBorderBoxWithDroppableScroll:S,draggable:r,destination:b,insideDestination:v,last:c.displaced,viewport:d,afterCritical:f})},Ip=(t,r)=>({...t,[r.descriptor.id]:r});const gN=({previousImpact:t,impact:r,droppables:a})=>{const s=Tr(t),c=Tr(r);if(!s||s===c)return a;const d=a[s];if(!d.subject.withPlaceholder)return a;const f=rN(d);return Ip(a,f)};var bN=({draggable:t,draggables:r,droppables:a,previousImpact:s,impact:c})=>{const d=gN({previousImpact:s,impact:c,droppables:a}),f=Tr(c);if(!f)return d;const m=a[f];if(fl(t,m)||m.subject.withPlaceholder)return d;const g=K1(m,t,r);return Ip(d,g)},Rc=({state:t,clientSelection:r,dimensions:a,viewport:s,impact:c,scrollJumpRequest:d})=>{const f=s||t.viewport,m=a||t.dimensions,g=r||t.current.client.selection,b=wr(g,t.initial.client.selection),v={offset:b,selection:g,borderBoxCenter:En(t.initial.client.borderBoxCenter,b)},S={selection:En(v.selection,f.scroll.current),borderBoxCenter:En(v.borderBoxCenter,f.scroll.current),offset:En(v.offset,f.scroll.diff.value)},_={client:v,page:S};if(t.phase==="COLLECTING")return{...t,dimensions:m,viewport:f,current:_};const T=m.draggables[t.critical.draggable.id],M=c||J1({pageOffset:S.offset,draggable:T,draggables:m.draggables,droppables:m.droppables,previousImpact:t.impact,viewport:f,afterCritical:t.afterCritical}),A=bN({draggable:T,impact:M,previousImpact:t.impact,draggables:m.draggables,droppables:m.droppables});return{...t,current:_,dimensions:{draggables:m.draggables,droppables:A},impact:M,viewport:f,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function yN(t,r){return t.map(a=>r[a])}var t2=({impact:t,viewport:r,draggables:a,destination:s,forceShouldAnimate:c})=>{const d=t.displaced,f=yN(d.all,a),m=Gc({afterDragging:f,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:c,last:d});return{...t,displaced:m}},e2=({impact:t,draggable:r,droppable:a,draggables:s,viewport:c,afterCritical:d})=>{const f=qf({impact:t,draggable:r,draggables:s,droppable:a,afterCritical:d});return Hp({pageBorderBoxCenter:f,draggable:r,viewport:c})},n2=({state:t,dimensions:r,viewport:a})=>{t.movementMode!=="SNAP"&&jt();const s=t.impact,c=a||t.viewport,d=r||t.dimensions,{draggables:f,droppables:m}=d,g=f[t.critical.draggable.id],b=Tr(s);b||jt();const v=m[b],S=t2({impact:s,viewport:c,destination:v,draggables:f}),_=e2({impact:S,draggable:g,droppable:v,draggables:f,viewport:c,afterCritical:t.afterCritical});return Rc({impact:S,clientSelection:_,state:t,dimensions:d,viewport:c})},vN=t=>({index:t.index,droppableId:t.droppableId}),r2=({draggable:t,home:r,draggables:a,viewport:s})=>{const c=tu(r.axis,t.displaceBy),d=dl(r.descriptor.id,a),f=d.indexOf(t);f===-1&&jt();const m=d.slice(f+1),g=m.reduce((_,T)=>(_[T.descriptor.id]=!0,_),{}),b={inVirtualList:r.descriptor.mode==="virtual",displacedBy:c,effected:g};return{impact:{displaced:Gc({afterDragging:m,destination:r,displacedBy:c,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:c,at:{type:"REORDER",destination:vN(t.descriptor)}},afterCritical:b}},xN=(t,r)=>({draggables:t.draggables,droppables:Ip(t.droppables,r)}),_N=({draggable:t,offset:r,initialWindowScroll:a})=>{const s=gf(t.client,r),c=bf(s,a);return{...t,placeholder:{...t.placeholder,client:s},client:s,page:c}},SN=t=>{const r=t.frame;return r||jt(),r},wN=({additions:t,updatedDroppables:r,viewport:a})=>{const s=a.scroll.diff.value;return t.map(c=>{const d=c.descriptor.droppableId,f=r[d],g=SN(f).scroll.diff.value,b=En(s,g);return _N({draggable:c,offset:b,initialWindowScroll:a.scroll.initial})})},TN=({state:t,published:r})=>{const a=r.modified.map(R=>{const $=t.dimensions.droppables[R.droppableId];return Bp($,R.scroll)}),s={...t.dimensions.droppables,...$1(a)},c=H1(wN({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),d={...t.dimensions.draggables,...c};r.removals.forEach(R=>{delete d[R]});const f={droppables:s,draggables:d},m=Tr(t.impact),g=m?f.droppables[m]:null,b=f.draggables[t.critical.draggable.id],v=f.droppables[t.critical.droppable.id],{impact:S,afterCritical:_}=r2({draggable:b,home:v,draggables:d,viewport:t.viewport}),T=g&&g.isCombineEnabled?t.impact:S,M=J1({pageOffset:t.current.page.offset,draggable:f.draggables[t.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:T,viewport:t.viewport,afterCritical:_}),A={...t,phase:"DRAGGING",impact:M,onLiftImpact:S,dimensions:f,afterCritical:_,forceShouldAnimate:!1};return t.phase==="COLLECTING"?A:{...A,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const fp=t=>t.movementMode==="SNAP",u0=(t,r,a)=>{const s=xN(t.dimensions,r);return!fp(t)||a?Rc({state:t,dimensions:s}):n2({state:t,dimensions:s})};function d0(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const ex={phase:"IDLE",completed:null,shouldFlush:!1};var EN=(t=ex,r)=>{if(r.type==="FLUSH")return{...ex,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&jt();const{critical:a,clientSelection:s,viewport:c,dimensions:d,movementMode:f}=r.payload,m=d.draggables[a.draggable.id],g=d.droppables[a.droppable.id],b={selection:s,borderBoxCenter:m.client.borderBox.center,offset:bn},v={client:b,page:{selection:En(b.selection,c.scroll.initial),borderBoxCenter:En(b.selection,c.scroll.initial),offset:En(b.selection,c.scroll.diff.value)}},S=Uf(d.droppables).every(A=>!A.isFixedOnPage),{impact:_,afterCritical:T}=r2({draggable:m,home:g,draggables:d.draggables,viewport:c});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:f,dimensions:d,initial:v,current:v,isWindowScrollAllowed:S,impact:_,afterCritical:T,onLiftImpact:_,viewport:c,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&jt(),{...t,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||jt(),TN({state:t,published:r.payload});if(r.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Vo(t)||jt();const{client:a}=r.payload;return ao(a,t.current.client.selection)?t:Rc({state:t,clientSelection:a,impact:fp(t)?t.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return d0(t);Vo(t)||jt();const{id:a,newScroll:s}=r.payload,c=t.dimensions.droppables[a];if(!c)return t;const d=Bp(c,s);return u0(t,d,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Vo(t)||jt();const{id:a,isEnabled:s}=r.payload,c=t.dimensions.droppables[a];c||jt(),c.isEnabled===s&&jt();const d={...c,isEnabled:s};return u0(t,d,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Vo(t)||jt();const{id:a,isCombineEnabled:s}=r.payload,c=t.dimensions.droppables[a];c||jt(),c.isCombineEnabled===s&&jt();const d={...c,isCombineEnabled:s};return u0(t,d,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Vo(t)||jt(),t.isWindowScrollAllowed||jt();const a=r.payload.newScroll;if(ao(t.viewport.scroll.current,a))return d0(t);const s=q1(t.viewport,a);return fp(t)?n2({state:t,viewport:s}):Rc({state:t,viewport:s})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Vo(t))return t;const a=r.payload.maxScroll;if(ao(a,t.viewport.scroll.max))return t;const s={...t.viewport,scroll:{...t.viewport.scroll,max:a}};return{...t,viewport:s}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&jt();const a=sN({state:t,type:r.type});return a?Rc({state:t,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):t}if(r.type==="DROP_PENDING"){const a=r.payload.reason;return t.phase!=="COLLECTING"&&jt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(r.type==="DROP_ANIMATE"){const{completed:a,dropDuration:s,newHomeClientOffset:c}=r.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||jt(),{phase:"DROP_ANIMATING",completed:a,dropDuration:s,newHomeClientOffset:c,dimensions:t.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:a}=r.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return t};function ve(t,r){return t instanceof Object&&"type"in t&&t.type===r}const MN=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),NN=t=>({type:"LIFT",payload:t}),AN=t=>({type:"INITIAL_PUBLISH",payload:t}),DN=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),jN=()=>({type:"COLLECTION_STARTING",payload:null}),kN=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),ON=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),CN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),i2=t=>({type:"MOVE",payload:t}),LN=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),BN=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),RN=()=>({type:"MOVE_UP",payload:null}),PN=()=>({type:"MOVE_DOWN",payload:null}),zN=()=>({type:"MOVE_RIGHT",payload:null}),$N=()=>({type:"MOVE_LEFT",payload:null}),Gp=()=>({type:"FLUSH",payload:null}),HN=t=>({type:"DROP_ANIMATE",payload:t}),Up=t=>({type:"DROP_COMPLETE",payload:t}),a2=t=>({type:"DROP",payload:t}),IN=t=>({type:"DROP_PENDING",payload:t}),o2=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var GN=t=>({getState:r,dispatch:a})=>s=>c=>{if(!ve(c,"LIFT")){s(c);return}const{id:d,clientSelection:f,movementMode:m}=c.payload,g=r();g.phase==="DROP_ANIMATING"&&a(Up({completed:g.completed})),r().phase!=="IDLE"&&jt(),a(Gp()),a(MN({draggableId:d,movementMode:m}));const v={draggableId:d,scrollOptions:{shouldPublishImmediately:m==="SNAP"}},{critical:S,dimensions:_,viewport:T}=t.startPublishing(v);a(AN({critical:S,dimensions:_,clientSelection:f,movementMode:m,viewport:T}))},UN=t=>()=>r=>a=>{ve(a,"INITIAL_PUBLISH")&&t.dragging(),ve(a,"DROP_ANIMATE")&&t.dropping(a.payload.completed.result.reason),(ve(a,"FLUSH")||ve(a,"DROP_COMPLETE"))&&t.resting(),r(a)};const Zp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Uc={opacity:{drop:0,combining:.7},scale:{drop:.75}},s2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Io=`${s2.outOfTheWay}s ${Zp.outOfTheWay}`,Pc={fluid:`opacity ${Io}`,snap:`transform ${Io}, opacity ${Io}`,drop:t=>{const r=`${t}s ${Zp.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${Io}`,placeholder:`height ${Io}, width ${Io}, margin ${Io}`},nx=t=>ao(t,bn)?void 0:`translate(${t.x}px, ${t.y}px)`,hp={moveTo:nx,drop:(t,r)=>{const a=nx(t);if(a)return r?`${a} scale(${Uc.scale.drop})`:a}},{minDropTime:mp,maxDropTime:l2}=s2,ZN=l2-mp,rx=1500,YN=.6;var qN=({current:t,destination:r,reason:a})=>{const s=Hc(t,r);if(s<=0)return mp;if(s>=rx)return l2;const c=s/rx,d=mp+ZN*c,f=a==="CANCEL"?d*YN:d;return Number(f.toFixed(2))},FN=({impact:t,draggable:r,dimensions:a,viewport:s,afterCritical:c})=>{const{draggables:d,droppables:f}=a,m=Tr(t),g=m?f[m]:null,b=f[r.descriptor.droppableId],v=e2({impact:t,draggable:r,draggables:d,afterCritical:c,droppable:g||b,viewport:s});return wr(v,r.client.borderBox.center)},VN=({draggables:t,reason:r,lastImpact:a,home:s,viewport:c,onLiftImpact:d})=>!a.at||r!=="DROP"?{impact:t2({draggables:t,impact:d,destination:s,viewport:c,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:Ic},didDropInsideDroppable:!0};const KN=({getState:t,dispatch:r})=>a=>s=>{if(!ve(s,"DROP")){a(s);return}const c=t(),d=s.payload.reason;if(c.phase==="COLLECTING"){r(IN({reason:d}));return}if(c.phase==="IDLE")return;c.phase==="DROP_PENDING"&&c.isWaiting&&jt(),c.phase==="DRAGGING"||c.phase==="DROP_PENDING"||jt();const m=c.critical,g=c.dimensions,b=g.draggables[c.critical.draggable.id],{impact:v,didDropInsideDroppable:S}=VN({reason:d,lastImpact:c.impact,afterCritical:c.afterCritical,onLiftImpact:c.onLiftImpact,home:c.dimensions.droppables[c.critical.droppable.id],viewport:c.viewport,draggables:c.dimensions.draggables}),_=S?Rp(v):null,T=S?Zf(v):null,M={index:m.draggable.index,droppableId:m.droppable.id},A={draggableId:b.descriptor.id,type:b.descriptor.type,source:M,reason:d,mode:c.movementMode,destination:_,combine:T},O=FN({impact:v,draggable:b,dimensions:g,viewport:c.viewport,afterCritical:c.afterCritical}),R={critical:c.critical,afterCritical:c.afterCritical,result:A,impact:v};if(!(!ao(c.current.client.offset,O)||!!A.combine)){r(Up({completed:R}));return}const D=qN({current:c.current.client.offset,destination:O,reason:d});r(HN({newHomeClientOffset:O,dropDuration:D,completed:R}))};var c2=()=>({x:window.pageXOffset,y:window.pageYOffset});function XN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||t()}}}function WN({onWindowScroll:t}){function r(){t(c2())}const a=$c(r),s=XN(a);let c=io;function d(){return c!==io}function f(){d()&&jt(),c=Ur(window,[s])}function m(){d()||jt(),a.cancel(),c(),c=io}return{start:f,stop:m,isActive:d}}const QN=t=>ve(t,"DROP_COMPLETE")||ve(t,"DROP_ANIMATE")||ve(t,"FLUSH"),JN=t=>{const r=WN({onWindowScroll:a=>{t.dispatch(LN({newScroll:a}))}});return a=>s=>{!r.isActive()&&ve(s,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&QN(s)&&r.stop(),a(s)}};var tA=t=>{let r=!1,a=!1;const s=setTimeout(()=>{a=!0}),c=d=>{r||a||(r=!0,t(d),clearTimeout(s))};return c.wasCalled=()=>r,c},eA=()=>{const t=[],r=c=>{const d=t.findIndex(m=>m.timerId===c);d===-1&&jt();const[f]=t.splice(d,1);f.callback()};return{add:c=>{const d=setTimeout(()=>r(d)),f={timerId:d,callback:c};t.push(f)},flush:()=>{if(!t.length)return;const c=[...t];t.length=0,c.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const nA=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index,rA=(t,r)=>t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId,iA=(t,r)=>{if(t===r)return!0;const a=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return a&&s},xc=(t,r)=>{r()},kd=(t,r)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r});function f0(t,r,a,s){if(!t){a(s(r));return}const c=tA(a);t(r,{announce:c}),c.wasCalled()||a(s(r))}var aA=(t,r)=>{const a=eA();let s=null;const c=(S,_)=>{s&&jt(),xc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:S,mode:_})})},d=(S,_)=>{s&&jt(),xc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(kd(S,_))})},f=(S,_)=>{s&&jt();const T=kd(S,_);s={mode:_,lastCritical:S,lastLocation:T.source,lastCombine:null},a.add(()=>{xc("onDragStart",()=>f0(t().onDragStart,T,r,ff.onDragStart))})},m=(S,_)=>{const T=Rp(_),M=Zf(_);s||jt();const A=!iA(S,s.lastCritical);A&&(s.lastCritical=S);const O=!nA(s.lastLocation,T);O&&(s.lastLocation=T);const R=!rA(s.lastCombine,M);if(R&&(s.lastCombine=M),!A&&!O&&!R)return;const $={...kd(S,s.mode),combine:M,destination:T};a.add(()=>{xc("onDragUpdate",()=>f0(t().onDragUpdate,$,r,ff.onDragUpdate))})},g=()=>{s||jt(),a.flush()},b=S=>{s||jt(),s=null,xc("onDragEnd",()=>f0(t().onDragEnd,S,r,ff.onDragEnd))};return{beforeCapture:c,beforeStart:d,start:f,update:m,flush:g,drop:b,abort:()=>{if(!s)return;const S={...kd(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};b(S)}}},oA=(t,r)=>{const a=aA(t,r);return s=>c=>d=>{if(ve(d,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(ve(d,"INITIAL_PUBLISH")){const m=d.payload.critical;a.beforeStart(m,d.payload.movementMode),c(d),a.start(m,d.payload.movementMode);return}if(ve(d,"DROP_COMPLETE")){const m=d.payload.completed.result;a.flush(),c(d),a.drop(m);return}if(c(d),ve(d,"FLUSH")){a.abort();return}const f=s.getState();f.phase==="DRAGGING"&&a.update(f.critical,f.impact)}};const sA=t=>r=>a=>{if(!ve(a,"DROP_ANIMATION_FINISHED")){r(a);return}const s=t.getState();s.phase!=="DROP_ANIMATING"&&jt(),t.dispatch(Up({completed:s.completed}))},lA=t=>{let r=null,a=null;function s(){a&&(cancelAnimationFrame(a),a=null),r&&(r(),r=null)}return c=>d=>{if((ve(d,"FLUSH")||ve(d,"DROP_COMPLETE")||ve(d,"DROP_ANIMATION_FINISHED"))&&s(),c(d),!ve(d,"DROP_ANIMATE"))return;const f={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(o2())}};a=requestAnimationFrame(()=>{a=null,r=Ur(window,[f])})}};var cA=t=>()=>r=>a=>{(ve(a,"DROP_COMPLETE")||ve(a,"FLUSH")||ve(a,"DROP_ANIMATE"))&&t.stopPublishing(),r(a)},uA=t=>{let r=!1;return()=>a=>s=>{if(ve(s,"INITIAL_PUBLISH")){r=!0,t.tryRecordFocus(s.payload.critical.draggable.id),a(s),t.tryRestoreFocusRecorded();return}if(a(s),!!r){if(ve(s,"FLUSH")){r=!1,t.tryRestoreFocusRecorded();return}if(ve(s,"DROP_COMPLETE")){r=!1;const c=s.payload.completed.result;c.combine&&t.tryShiftRecord(c.draggableId,c.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const dA=t=>ve(t,"DROP_COMPLETE")||ve(t,"DROP_ANIMATE")||ve(t,"FLUSH");var fA=t=>r=>a=>s=>{if(dA(s)){t.stop(),a(s);return}if(ve(s,"INITIAL_PUBLISH")){a(s);const c=r.getState();c.phase!=="DRAGGING"&&jt(),t.start(c);return}a(s),t.scroll(r.getState())};const hA=t=>r=>a=>{if(r(a),!ve(a,"PUBLISH_WHILE_DRAGGING"))return;const s=t.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||t.dispatch(a2({reason:s.reason})))},mA=E1;var pA=({dimensionMarshal:t,focusMarshal:r,styleMarshal:a,getResponders:s,announce:c,autoScroller:d})=>T1(EN,mA(fM(UN(a),cA(t),GN(t),KN,sA,lA,hA,fA(d),JN,uA(r),oA(s,c))));const h0=()=>({additions:{},removals:{},modified:{}});function gA({registry:t,callbacks:r}){let a=h0(),s=null;const c=()=>{s||(r.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:g,removals:b,modified:v}=a,S=Object.keys(g).map(M=>t.draggable.getById(M).getDimension(bn)).sort((M,A)=>M.descriptor.index-A.descriptor.index),_=Object.keys(v).map(M=>{const O=t.droppable.getById(M).callbacks.getScrollWhileDragging();return{droppableId:M,scroll:O}}),T={additions:S,removals:Object.keys(b),modified:_};a=h0(),r.publish(T)}))};return{add:g=>{const b=g.descriptor.id;a.additions[b]=g,a.modified[g.descriptor.droppableId]=!0,a.removals[b]&&delete a.removals[b],c()},remove:g=>{const b=g.descriptor;a.removals[b.id]=!0,a.modified[b.droppableId]=!0,a.additions[b.id]&&delete a.additions[b.id],c()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,a=h0())}}}var u2=({scrollHeight:t,scrollWidth:r,height:a,width:s})=>{const c=wr({x:r,y:t},{x:s,y:a});return{x:Math.max(0,c.x),y:Math.max(0,c.y)}},d2=()=>{const t=document.documentElement;return t||jt(),t},f2=()=>{const t=d2();return u2({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},bA=()=>{const t=c2(),r=f2(),a=t.y,s=t.x,c=d2(),d=c.clientWidth,f=c.clientHeight,m=s+d,g=a+f;return{frame:di({top:a,left:s,right:m,bottom:g}),scroll:{initial:t,current:t,max:r,diff:{value:bn,displacement:bn}}}},yA=({critical:t,scrollOptions:r,registry:a})=>{const s=bA(),c=s.scroll.current,d=t.droppable,f=a.droppable.getAllByType(d.type).map(v=>v.callbacks.getDimensionAndWatchScroll(c,r)),m=a.draggable.getAllByType(t.draggable.type).map(v=>v.getDimension(c));return{dimensions:{draggables:H1(m),droppables:$1(f)},critical:t,viewport:s}};function ix(t,r,a){return!(a.descriptor.id===r.id||a.descriptor.type!==r.type||t.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var vA=(t,r)=>{let a=null;const s=gA({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:t}),c=(_,T)=>{t.droppable.exists(_)||jt(),a&&r.updateDroppableIsEnabled({id:_,isEnabled:T})},d=(_,T)=>{a&&(t.droppable.exists(_)||jt(),r.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:T}))},f=(_,T)=>{a&&(t.droppable.exists(_)||jt(),r.updateDroppableScroll({id:_,newScroll:T}))},m=(_,T)=>{a&&t.droppable.getById(_).callbacks.scroll(T)},g=()=>{if(!a)return;s.stop();const _=a.critical.droppable;t.droppable.getAllByType(_.type).forEach(T=>T.callbacks.dragStopped()),a.unsubscribe(),a=null},b=_=>{a||jt();const T=a.critical.draggable;_.type==="ADDITION"&&ix(t,T,_.value)&&s.add(_.value),_.type==="REMOVAL"&&ix(t,T,_.value)&&s.remove(_.value)};return{updateDroppableIsEnabled:c,updateDroppableIsCombineEnabled:d,scrollDroppable:m,updateDroppableScroll:f,startPublishing:_=>{a&&jt();const T=t.draggable.getById(_.draggableId),M=t.droppable.getById(T.descriptor.droppableId),A={draggable:T.descriptor,droppable:M.descriptor},O=t.subscribe(b);return a={critical:A,unsubscribe:O},yA({critical:A,registry:t,scrollOptions:_.scrollOptions})},stopPublishing:g}},h2=(t,r)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===r?!1:t.completed.result.reason==="DROP",xA=t=>{window.scrollBy(t.x,t.y)};const _A=gn(t=>Uf(t).filter(r=>!(!r.isEnabled||!r.frame))),SA=(t,r)=>_A(r).find(s=>(s.frame||jt(),X1(s.frame.pageMarginBox)(t)))||null;var wA=({center:t,destination:r,droppables:a})=>{if(r){const c=a[r];return c.frame?c:null}return SA(t,a)};const Zc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var TA=(t,r,a=()=>Zc)=>{const s=a(),c=t[r.size]*s.startFromPercentage,d=t[r.size]*s.maxScrollAtPercentage;return{startScrollingFrom:c,maxScrollValueAt:d}},m2=({startOfRange:t,endOfRange:r,current:a})=>{const s=r-t;return s===0?0:(a-t)/s},Yp=1,EA=(t,r,a=()=>Zc)=>{const s=a();if(t>r.startScrollingFrom)return 0;if(t<=r.maxScrollValueAt)return s.maxPixelScroll;if(t===r.startScrollingFrom)return Yp;const d=1-m2({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:t}),f=s.maxPixelScroll*s.ease(d);return Math.ceil(f)},MA=(t,r,a)=>{const s=a(),c=s.durationDampening.accelerateAt,d=s.durationDampening.stopDampeningAt,f=r,m=d,b=Date.now()-f;if(b>=d)return t;if(b<c)return Yp;const v=m2({startOfRange:c,endOfRange:m,current:b}),S=t*s.ease(v);return Math.ceil(S)},ax=({distanceToEdge:t,thresholds:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:c})=>{const d=EA(t,r,c);return d===0?0:s?Math.max(MA(d,a,c),Yp):d},ox=({container:t,distanceToEdges:r,dragStartTime:a,axis:s,shouldUseTimeDampening:c,getAutoScrollerOptions:d})=>{const f=TA(t,s,d);return r[s.end]<r[s.start]?ax({distanceToEdge:r[s.end],thresholds:f,dragStartTime:a,shouldUseTimeDampening:c,getAutoScrollerOptions:d}):-1*ax({distanceToEdge:r[s.start],thresholds:f,dragStartTime:a,shouldUseTimeDampening:c,getAutoScrollerOptions:d})},NA=({container:t,subject:r,proposedScroll:a})=>{const s=r.height>t.height,c=r.width>t.width;return!c&&!s?a:c&&s?null:{x:c?0:a.x,y:s?0:a.y}};const AA=z1(t=>t===0?0:t);var p2=({dragStartTime:t,container:r,subject:a,center:s,shouldUseTimeDampening:c,getAutoScrollerOptions:d})=>{const f={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},m=ox({container:r,distanceToEdges:f,dragStartTime:t,axis:Pp,shouldUseTimeDampening:c,getAutoScrollerOptions:d}),g=ox({container:r,distanceToEdges:f,dragStartTime:t,axis:U1,shouldUseTimeDampening:c,getAutoScrollerOptions:d}),b=AA({x:g,y:m});if(ao(b,bn))return null;const v=NA({container:r,subject:a,proposedScroll:b});return v?ao(v,bn)?null:v:null};const DA=z1(t=>t===0?0:t>0?1:-1),qp=(()=>{const t=(r,a)=>r<0?r:r>a?r-a:0;return({current:r,max:a,change:s})=>{const c=En(r,s),d={x:t(c.x,a.x),y:t(c.y,a.y)};return ao(d,bn)?null:d}})(),g2=({max:t,current:r,change:a})=>{const s={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},c=DA(a),d=qp({max:s,current:r,change:c});return!d||c.x!==0&&d.x===0||c.y!==0&&d.y===0},Fp=(t,r)=>g2({current:t.scroll.current,max:t.scroll.max,change:r}),jA=(t,r)=>{if(!Fp(t,r))return null;const a=t.scroll.max,s=t.scroll.current;return qp({current:s,max:a,change:r})},Vp=(t,r)=>{const a=t.frame;return a?g2({current:a.scroll.current,max:a.scroll.max,change:r}):!1},kA=(t,r)=>{const a=t.frame;return!a||!Vp(t,r)?null:qp({current:a.scroll.current,max:a.scroll.max,change:r})};var OA=({viewport:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:c,getAutoScrollerOptions:d})=>{const f=p2({dragStartTime:s,container:t.frame,subject:r,center:a,shouldUseTimeDampening:c,getAutoScrollerOptions:d});return f&&Fp(t,f)?f:null},CA=({droppable:t,subject:r,center:a,dragStartTime:s,shouldUseTimeDampening:c,getAutoScrollerOptions:d})=>{const f=t.frame;if(!f)return null;const m=p2({dragStartTime:s,container:f.pageMarginBox,subject:r,center:a,shouldUseTimeDampening:c,getAutoScrollerOptions:d});return m&&Vp(t,m)?m:null},sx=({state:t,dragStartTime:r,shouldUseTimeDampening:a,scrollWindow:s,scrollDroppable:c,getAutoScrollerOptions:d})=>{const f=t.current.page.borderBoxCenter,g=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const S=t.viewport,_=OA({dragStartTime:r,viewport:S,subject:g,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});if(_){s(_);return}}const b=wA({center:f,destination:Tr(t.impact),droppables:t.dimensions.droppables});if(!b)return;const v=CA({dragStartTime:r,droppable:b,subject:g,center:f,shouldUseTimeDampening:a,getAutoScrollerOptions:d});v&&c(b.descriptor.id,v)},LA=({scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:a=()=>Zc})=>{const s=$c(t),c=$c(r);let d=null;const f=b=>{d||jt();const{shouldUseTimeDampening:v,dragStartTime:S}=d;sx({state:b,scrollWindow:s,scrollDroppable:c,dragStartTime:S,shouldUseTimeDampening:v,getAutoScrollerOptions:a})};return{start:b=>{d&&jt();const v=Date.now();let S=!1;const _=()=>{S=!0};sx({state:b,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:a}),d={dragStartTime:v,shouldUseTimeDampening:S},S&&f(b)},stop:()=>{d&&(s.cancel(),c.cancel(),d=null)},scroll:f}},BA=({move:t,scrollDroppable:r,scrollWindow:a})=>{const s=(m,g)=>{const b=En(m.current.client.selection,g);t({client:b})},c=(m,g)=>{if(!Vp(m,g))return g;const b=kA(m,g);if(!b)return r(m.descriptor.id,g),null;const v=wr(g,b);return r(m.descriptor.id,v),wr(g,v)},d=(m,g,b)=>{if(!m||!Fp(g,b))return b;const v=jA(g,b);if(!v)return a(b),null;const S=wr(b,v);return a(S),wr(b,S)};return m=>{const g=m.scrollJumpRequest;if(!g)return;const b=Tr(m.impact);b||jt();const v=c(m.dimensions.droppables[b],g);if(!v)return;const S=m.viewport,_=d(m.isWindowScrollAllowed,S,v);_&&s(m,_)}},RA=({scrollDroppable:t,scrollWindow:r,move:a,getAutoScrollerOptions:s})=>{const c=LA({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:s}),d=BA({move:a,scrollWindow:r,scrollDroppable:t});return{scroll:g=>{if(!(s().disabled||g.phase!=="DRAGGING")){if(g.movementMode==="FLUID"){c.scroll(g);return}g.scrollJumpRequest&&d(g)}},start:c.start,stop:c.stop}};const rl="data-rfd",il=(()=>{const t=`${rl}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),pp=(()=>{const t=`${rl}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),PA=(()=>{const t=`${rl}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),lx={contextId:`${rl}-scroll-container-context-id`},zA=t=>r=>`[${r}="${t}"]`,_c=(t,r)=>t.map(a=>{const s=a.styles[r];return s?`${a.selector} { ${s} }`:""}).join(" "),$A="pointer-events: none;";var HA=t=>{const r=zA(t),a=(()=>{const m=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(il.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:m,dragging:$A,dropAnimating:m}}})(),s=(()=>{const m=`
      transition: ${Pc.outOfTheWay};
    `;return{selector:r(pp.contextId),styles:{dragging:m,dropAnimating:m,userCancel:m}}})(),c={selector:r(PA.contextId),styles:{always:"overflow-anchor: none;"}},f=[s,a,c,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_c(f,"always"),resting:_c(f,"resting"),dragging:_c(f,"dragging"),dropAnimating:_c(f,"dropAnimating"),userCancel:_c(f,"userCancel")}};const Er=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?B.useLayoutEffect:B.useEffect,m0=()=>{const t=document.querySelector("head");return t||jt(),t},cx=t=>{const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function IA(t,r){const a=me(()=>HA(t),[t]),s=B.useRef(null),c=B.useRef(null),d=Ft(gn(S=>{const _=c.current;_||jt(),_.textContent=S}),[]),f=Ft(S=>{const _=s.current;_||jt(),_.textContent=S},[]);Er(()=>{!s.current&&!c.current||jt();const S=cx(r),_=cx(r);return s.current=S,c.current=_,S.setAttribute(`${rl}-always`,t),_.setAttribute(`${rl}-dynamic`,t),m0().appendChild(S),m0().appendChild(_),f(a.always),d(a.resting),()=>{const T=M=>{const A=M.current;A||jt(),m0().removeChild(A),M.current=null};T(s),T(c)}},[r,f,d,a.always,a.resting,t]);const m=Ft(()=>d(a.dragging),[d,a.dragging]),g=Ft(S=>{if(S==="DROP"){d(a.dropAnimating);return}d(a.userCancel)},[d,a.dropAnimating,a.userCancel]),b=Ft(()=>{c.current&&d(a.resting)},[d,a.resting]);return me(()=>({dragging:m,dropping:g,resting:b}),[m,g,b])}function b2(t,r){return Array.from(t.querySelectorAll(r))}var y2=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Ff(t){return t instanceof y2(t).HTMLElement}function GA(t,r){const a=`[${il.contextId}="${t}"]`,s=b2(document,a);if(!s.length)return null;const c=s.find(d=>d.getAttribute(il.draggableId)===r);return!c||!Ff(c)?null:c}function UA(t){const r=B.useRef({}),a=B.useRef(null),s=B.useRef(null),c=B.useRef(!1),d=Ft(function(_,T){const M={id:_,focus:T};return r.current[_]=M,function(){const O=r.current;O[_]!==M&&delete O[_]}},[]),f=Ft(function(_){const T=GA(t,_);T&&T!==document.activeElement&&T.focus()},[t]),m=Ft(function(_,T){a.current===_&&(a.current=T)},[]),g=Ft(function(){s.current||c.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const _=a.current;_&&f(_)}))},[f]),b=Ft(function(_){a.current=null;const T=document.activeElement;T&&T.getAttribute(il.draggableId)===_&&(a.current=_)},[]);return Er(()=>(c.current=!0,function(){c.current=!1;const _=s.current;_&&cancelAnimationFrame(_)}),[]),me(()=>({register:d,tryRecordFocus:b,tryRestoreFocusRecorded:g,tryShiftRecord:m}),[d,b,g,m])}function ZA(){const t={draggables:{},droppables:{}},r=[];function a(S){return r.push(S),function(){const T=r.indexOf(S);T!==-1&&r.splice(T,1)}}function s(S){r.length&&r.forEach(_=>_(S))}function c(S){return t.draggables[S]||null}function d(S){const _=c(S);return _||jt(),_}const f={register:S=>{t.draggables[S.descriptor.id]=S,s({type:"ADDITION",value:S})},update:(S,_)=>{const T=t.draggables[_.descriptor.id];T&&T.uniqueId===S.uniqueId&&(delete t.draggables[_.descriptor.id],t.draggables[S.descriptor.id]=S)},unregister:S=>{const _=S.descriptor.id,T=c(_);T&&S.uniqueId===T.uniqueId&&(delete t.draggables[_],t.droppables[S.descriptor.droppableId]&&s({type:"REMOVAL",value:S}))},getById:d,findById:c,exists:S=>!!c(S),getAllByType:S=>Object.values(t.draggables).filter(_=>_.descriptor.type===S)};function m(S){return t.droppables[S]||null}function g(S){const _=m(S);return _||jt(),_}const b={register:S=>{t.droppables[S.descriptor.id]=S},unregister:S=>{const _=m(S.descriptor.id);_&&S.uniqueId===_.uniqueId&&delete t.droppables[S.descriptor.id]},getById:g,findById:m,exists:S=>!!m(S),getAllByType:S=>Object.values(t.droppables).filter(_=>_.descriptor.type===S)};function v(){t.draggables={},t.droppables={},r.length=0}return{draggable:f,droppable:b,subscribe:a,clean:v}}function YA(){const t=me(ZA,[]);return B.useEffect(()=>function(){t.clean()},[t]),t}var Kp=ze.createContext(null),Sf=()=>{const t=document.body;return t||jt(),t};const qA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},FA=t=>`rfd-announcement-${t}`;function VA(t){const r=me(()=>FA(t),[t]),a=B.useRef(null);return B.useEffect(function(){const d=document.createElement("div");return a.current=d,d.id=r,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),yf(d.style,qA),Sf().appendChild(d),function(){setTimeout(function(){const g=Sf();g.contains(d)&&g.removeChild(d),d===a.current&&(a.current=null)})}},[r]),Ft(c=>{const d=a.current;if(d){d.textContent=c;return}},[])}const KA={separator:"::"};function Xp(t,r=KA){const a=ze.useId();return me(()=>`${t}${r.separator}${a}`,[r.separator,t,a])}function XA({contextId:t,uniqueId:r}){return`rfd-hidden-text-${t}-${r}`}function WA({contextId:t,text:r}){const a=Xp("hidden-text",{separator:"-"}),s=me(()=>XA({contextId:t,uniqueId:a}),[a,t]);return B.useEffect(function(){const d=document.createElement("div");return d.id=s,d.textContent=r,d.style.display="none",Sf().appendChild(d),function(){const m=Sf();m.contains(d)&&m.removeChild(d)}},[s,r]),s}var Vf=ze.createContext(null);function v2(t){const r=B.useRef(t);return B.useEffect(()=>{r.current=t}),r}function QA(){let t=null;function r(){return!!t}function a(f){return f===t}function s(f){t&&jt();const m={abandon:f};return t=m,m}function c(){t||jt(),t=null}function d(){t&&(t.abandon(),c())}return{isClaimed:r,isActive:a,claim:s,release:c,tryAbandon:d}}function Yc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const JA=9,tD=13,Wp=27,x2=32,eD=33,nD=34,rD=35,iD=36,aD=37,oD=38,sD=39,lD=40,cD={[tD]:!0,[JA]:!0};var _2=t=>{cD[t.keyCode]&&t.preventDefault()};const Kf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(s=>`on${s}`in document)||t})(),S2=0,ux=5;function uD(t,r){return Math.abs(r.x-t.x)>=ux||Math.abs(r.y-t.y)>=ux}const dx={type:"IDLE"};function dD({cancel:t,completed:r,getPhase:a,setPhase:s}){return[{eventName:"mousemove",fn:c=>{const{button:d,clientX:f,clientY:m}=c;if(d!==S2)return;const g={x:f,y:m},b=a();if(b.type==="DRAGGING"){c.preventDefault(),b.actions.move(g);return}b.type!=="PENDING"&&jt();const v=b.point;if(!uD(v,g))return;c.preventDefault();const S=b.actions.fluidLift(g);s({type:"DRAGGING",actions:S})}},{eventName:"mouseup",fn:c=>{const d=a();if(d.type!=="DRAGGING"){t();return}c.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:c=>{a().type==="DRAGGING"&&c.preventDefault(),t()}},{eventName:"keydown",fn:c=>{if(a().type==="PENDING"){t();return}if(c.keyCode===Wp){c.preventDefault(),t();return}_2(c)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:c=>{const d=a();if(d.type==="IDLE"&&jt(),d.actions.shouldRespectForcePress()){t();return}c.preventDefault()}},{eventName:Kf,fn:t}]}function fD(t){const r=B.useRef(dx),a=B.useRef(io),s=me(()=>({eventName:"mousedown",fn:function(S){if(S.defaultPrevented||S.button!==S2||S.ctrlKey||S.metaKey||S.shiftKey||S.altKey)return;const _=t.findClosestDraggableId(S);if(!_)return;const T=t.tryGetLock(_,f,{sourceEvent:S});if(!T)return;S.preventDefault();const M={x:S.clientX,y:S.clientY};a.current(),b(T,M)}}),[t]),c=me(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const S=t.findClosestDraggableId(v);if(!S)return;const _=t.findOptionsForDraggable(S);_&&(_.shouldRespectForcePress||t.canGetLock(S)&&v.preventDefault())}}),[t]),d=Ft(function(){const S={passive:!1,capture:!0};a.current=Ur(window,[c,s],S)},[c,s]),f=Ft(()=>{r.current.type!=="IDLE"&&(r.current=dx,a.current(),d())},[d]),m=Ft(()=>{const v=r.current;f(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[f]),g=Ft(function(){const S={capture:!0,passive:!1},_=dD({cancel:m,completed:f,getPhase:()=>r.current,setPhase:T=>{r.current=T}});a.current=Ur(window,_,S)},[m,f]),b=Ft(function(S,_){r.current.type!=="IDLE"&&jt(),r.current={type:"PENDING",point:_,actions:S},g()},[g]);Er(function(){return d(),function(){a.current()}},[d])}function hD(){}const mD={[nD]:!0,[eD]:!0,[iD]:!0,[rD]:!0};function pD(t,r){function a(){r(),t.cancel()}function s(){r(),t.drop()}return[{eventName:"keydown",fn:c=>{if(c.keyCode===Wp){c.preventDefault(),a();return}if(c.keyCode===x2){c.preventDefault(),s();return}if(c.keyCode===lD){c.preventDefault(),t.moveDown();return}if(c.keyCode===oD){c.preventDefault(),t.moveUp();return}if(c.keyCode===sD){c.preventDefault(),t.moveRight();return}if(c.keyCode===aD){c.preventDefault(),t.moveLeft();return}if(mD[c.keyCode]){c.preventDefault();return}_2(c)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:Kf,fn:a}]}function gD(t){const r=B.useRef(hD),a=me(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==x2)return;const f=t.findClosestDraggableId(d);if(!f)return;const m=t.tryGetLock(f,v,{sourceEvent:d});if(!m)return;d.preventDefault();let g=!0;const b=m.snapLift();r.current();function v(){g||jt(),g=!1,r.current(),s()}r.current=Ur(window,pD(b,v),{capture:!0,passive:!1})}}),[t]),s=Ft(function(){const d={passive:!1,capture:!0};r.current=Ur(window,[a],d)},[a]);Er(function(){return s(),function(){r.current()}},[s])}const p0={type:"IDLE"},bD=120,yD=.15;function vD({cancel:t,getPhase:r}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(r().type!=="DRAGGING"){t();return}a.keyCode===Wp&&a.preventDefault(),t()}},{eventName:Kf,fn:t}]}function xD({cancel:t,completed:r,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const c=a();if(c.type!=="DRAGGING"){t();return}c.hasMoved=!0;const{clientX:d,clientY:f}=s.touches[0],m={x:d,y:f};s.preventDefault(),c.actions.move(m)}},{eventName:"touchend",fn:s=>{const c=a();if(c.type!=="DRAGGING"){t();return}s.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:s=>{if(a().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:s=>{const c=a();c.type==="IDLE"&&jt();const d=s.touches[0];if(!d||!(d.force>=yD))return;const m=c.actions.shouldRespectForcePress();if(c.type==="PENDING"){m&&t();return}if(m){if(c.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}},{eventName:Kf,fn:t}]}function _D(t){const r=B.useRef(p0),a=B.useRef(io),s=Ft(function(){return r.current},[]),c=Ft(function(T){r.current=T},[]),d=me(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const M=t.findClosestDraggableId(T);if(!M)return;const A=t.tryGetLock(M,m,{sourceEvent:T});if(!A)return;const O=T.touches[0],{clientX:R,clientY:$}=O,D={x:R,y:$};a.current(),S(A,D)}}),[t]),f=Ft(function(){const T={capture:!0,passive:!1};a.current=Ur(window,[d],T)},[d]),m=Ft(()=>{const _=r.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),c(p0),a.current(),f())},[f,c]),g=Ft(()=>{const _=r.current;m(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[m]),b=Ft(function(){const T={capture:!0,passive:!1},M={cancel:g,completed:m,getPhase:s},A=Ur(window,xD(M),T),O=Ur(window,vD(M),T);a.current=function(){A(),O()}},[g,s,m]),v=Ft(function(){const T=s();T.type!=="PENDING"&&jt();const M=T.actions.fluidLift(T.point);c({type:"DRAGGING",actions:M,hasMoved:!1})},[s,c]),S=Ft(function(T,M){s().type!=="IDLE"&&jt();const A=setTimeout(v,bD);c({type:"PENDING",point:M,actions:T,longPressTimerId:A}),b()},[b,s,c,v]);Er(function(){return f(),function(){a.current();const M=s();M.type==="PENDING"&&(clearTimeout(M.longPressTimerId),c(p0))}},[s,f,c]),Er(function(){return Ur(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const SD=["input","button","textarea","select","option","optgroup","video","audio"];function w2(t,r){if(r==null)return!1;if(SD.includes(r.tagName.toLowerCase()))return!0;const s=r.getAttribute("contenteditable");return s==="true"||s===""?!0:r===t?!1:w2(t,r.parentElement)}function wD(t,r){const a=r.target;return Ff(a)?w2(t,a):!1}var TD=t=>di(t.getBoundingClientRect()).center;function ED(t){return t instanceof y2(t).Element}const MD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||t})();function T2(t,r){return t==null?null:t[MD](r)?t:T2(t.parentElement,r)}function ND(t,r){return t.closest?t.closest(r):T2(t,r)}function AD(t){return`[${il.contextId}="${t}"]`}function DD(t,r){const a=r.target;if(!ED(a))return null;const s=AD(t),c=ND(a,s);return!c||!Ff(c)?null:c}function jD(t,r){const a=DD(t,r);return a?a.getAttribute(il.draggableId):null}function kD(t,r){const a=`[${pp.contextId}="${t}"]`,c=b2(document,a).find(d=>d.getAttribute(pp.id)===r);return!c||!Ff(c)?null:c}function OD(t){t.preventDefault()}function Od({expected:t,phase:r,isLockActive:a,shouldWarn:s}){return!(!a()||t!==r)}function E2({lockAPI:t,store:r,registry:a,draggableId:s}){if(t.isClaimed())return!1;const c=a.draggable.findById(s);return!(!c||!c.options.isEnabled||!h2(r.getState(),s))}function CD({lockAPI:t,contextId:r,store:a,registry:s,draggableId:c,forceSensorStop:d,sourceEvent:f}){if(!E2({lockAPI:t,store:a,registry:s,draggableId:c}))return null;const g=s.draggable.getById(c),b=kD(r,g.descriptor.id);if(!b||f&&!g.options.canDragInteractiveElements&&wD(b,f))return null;const v=t.claim(d||io);let S="PRE_DRAG";function _(){return g.options.shouldRespectForcePress}function T(){return t.isActive(v)}function M(k,K){Od({expected:k,phase:S,isLockActive:T,shouldWarn:!0})&&a.dispatch(K())}const A=M.bind(null,"DRAGGING");function O(k){function K(){t.release(),S="COMPLETED"}S!=="PRE_DRAG"&&(K(),jt()),a.dispatch(NN(k.liftActionArgs)),S="DRAGGING";function F(tt,et={shouldBlockNextClick:!1}){if(k.cleanup(),et.shouldBlockNextClick){const it=Ur(window,[{eventName:"click",fn:OD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(it)}K(),a.dispatch(a2({reason:tt}))}return{isActive:()=>Od({expected:"DRAGGING",phase:S,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:_,drop:tt=>F("DROP",tt),cancel:tt=>F("CANCEL",tt),...k.actions}}function R(k){const K=$c(tt=>{A(()=>i2({client:tt}))});return{...O({liftActionArgs:{id:c,clientSelection:k,movementMode:"FLUID"},cleanup:()=>K.cancel(),actions:{move:K}}),move:K}}function $(){const k={moveUp:()=>A(RN),moveRight:()=>A(zN),moveDown:()=>A(PN),moveLeft:()=>A($N)};return O({liftActionArgs:{id:c,clientSelection:TD(b),movementMode:"SNAP"},cleanup:io,actions:k})}function D(){Od({expected:"PRE_DRAG",phase:S,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>Od({expected:"PRE_DRAG",phase:S,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:R,snapLift:$,abort:D}}const LD=[fD,gD,_D];function BD({contextId:t,store:r,registry:a,customSensors:s,enableDefaultSensors:c}){const d=[...c?LD:[],...s||[]],f=B.useState(()=>QA())[0],m=Ft(function(O,R){Yc(O)&&!Yc(R)&&f.tryAbandon()},[f]);Er(function(){let O=r.getState();return r.subscribe(()=>{const $=r.getState();m(O,$),O=$})},[f,r,m]),Er(()=>f.tryAbandon,[f.tryAbandon]);const g=Ft(A=>E2({lockAPI:f,registry:a,store:r,draggableId:A}),[f,a,r]),b=Ft((A,O,R)=>CD({lockAPI:f,registry:a,contextId:t,store:r,draggableId:A,forceSensorStop:O||null,sourceEvent:R&&R.sourceEvent?R.sourceEvent:null}),[t,f,a,r]),v=Ft(A=>jD(t,A),[t]),S=Ft(A=>{const O=a.draggable.findById(A);return O?O.options:null},[a.draggable]),_=Ft(function(){f.isClaimed()&&(f.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Gp()))},[f,r]),T=Ft(()=>f.isClaimed(),[f]),M=me(()=>({canGetLock:g,tryGetLock:b,findClosestDraggableId:v,findOptionsForDraggable:S,tryReleaseLock:_,isLockClaimed:T}),[g,b,v,S,_,T]);for(let A=0;A<d.length;A++)d[A](M)}const RD=t=>({onBeforeCapture:r=>{const a=()=>{t.onBeforeCapture&&t.onBeforeCapture(r)};Qc.flushSync(a)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),PD=t=>({...Zc,...t.autoScrollerOptions,durationDampening:{...Zc.durationDampening,...t.autoScrollerOptions}});function Sc(t){return t.current||jt(),t.current}function zD(t){const{contextId:r,setCallbacks:a,sensors:s,nonce:c,dragHandleUsageInstructions:d}=t,f=B.useRef(null),m=v2(t),g=Ft(()=>RD(m.current),[m]),b=Ft(()=>PD(m.current),[m]),v=VA(r),S=WA({contextId:r,text:d}),_=IA(r,c),T=Ft(it=>{Sc(f).dispatch(it)},[]),M=me(()=>Pv({publishWhileDragging:DN,updateDroppableScroll:kN,updateDroppableIsEnabled:ON,updateDroppableIsCombineEnabled:CN,collectionStarting:jN},T),[T]),A=YA(),O=me(()=>vA(A,M),[A,M]),R=me(()=>RA({scrollWindow:xA,scrollDroppable:O.scrollDroppable,getAutoScrollerOptions:b,...Pv({move:i2},T)}),[O.scrollDroppable,T,b]),$=UA(r),D=me(()=>pA({announce:v,autoScroller:R,dimensionMarshal:O,focusMarshal:$,getResponders:g,styleMarshal:_}),[v,R,O,$,g,_]);f.current=D;const C=Ft(()=>{const it=Sc(f);it.getState().phase!=="IDLE"&&it.dispatch(Gp())},[]),k=Ft(()=>{const it=Sc(f).getState();return it.phase==="DROP_ANIMATING"?!0:it.phase==="IDLE"?!1:it.isDragging},[]),K=me(()=>({isDragging:k,tryAbort:C}),[k,C]);a(K);const F=Ft(it=>h2(Sc(f).getState(),it),[]),tt=Ft(()=>Vo(Sc(f).getState()),[]),et=me(()=>({marshal:O,focus:$,contextId:r,canLift:F,isMovementAllowed:tt,dragHandleUsageInstructionsId:S,registry:A}),[r,O,S,$,F,tt,A]);return BD({contextId:r,store:D,registry:A,customSensors:s||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),B.useEffect(()=>C,[C]),ze.createElement(Vf.Provider,{value:et},ze.createElement(c3,{context:Kp,store:D},t.children))}function $D(){return ze.useId()}function eu(t){const r=$D(),a=t.dragHandleUsageInstructions||ff.dragHandleUsageInstructions;return ze.createElement(g3,null,s=>ze.createElement(zD,{nonce:t.nonce,contextId:r,setCallbacks:s,dragHandleUsageInstructions:a,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const fx={dragging:5e3,dropAnimating:4500},HD=(t,r)=>r?Pc.drop(r.duration):t?Pc.snap:Pc.fluid,ID=(t,r)=>{if(t)return r?Uc.opacity.drop:Uc.opacity.combining},GD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function UD(t){const a=t.dimension.client,{offset:s,combineWith:c,dropping:d}=t,f=!!c,m=GD(t),g=!!d,b=g?hp.drop(s,f):hp.moveTo(s);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:HD(m,d),transform:b,opacity:ID(f,g),zIndex:g?fx.dropAnimating:fx.dragging,pointerEvents:"none"}}function ZD(t){return{transform:hp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function YD(t){return t.type==="DRAGGING"?UD(t):ZD(t)}function qD(t,r,a=bn){const s=window.getComputedStyle(r),c=r.getBoundingClientRect(),d=O1(c,s),f=bf(d,a),m={client:d,tagName:r.tagName.toLowerCase(),display:s.display},g={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:m,displaceBy:g,client:d,page:f}}function FD(t){const r=Xp("draggable"),{descriptor:a,registry:s,getDraggableRef:c,canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:m}=t,g=me(()=>({canDragInteractiveElements:d,shouldRespectForcePress:f,isEnabled:m}),[d,m,f]),b=Ft(T=>{const M=c();return M||jt(),qD(a,M,T)},[a,c]),v=me(()=>({uniqueId:r,descriptor:a,options:g,getDimension:b}),[a,b,g,r]),S=B.useRef(v),_=B.useRef(!0);Er(()=>(s.draggable.register(S.current),()=>s.draggable.unregister(S.current)),[s.draggable]),Er(()=>{if(_.current){_.current=!1;return}const T=S.current;S.current=v,s.draggable.update(v,T)},[v,s.draggable])}var Qp=ze.createContext(null);function wf(t){const r=B.useContext(t);return r||jt(),r}function VD(t){t.preventDefault()}const KD=t=>{const r=B.useRef(null),a=Ft((K=null)=>{r.current=K},[]),s=Ft(()=>r.current,[]),{contextId:c,dragHandleUsageInstructionsId:d,registry:f}=wf(Vf),{type:m,droppableId:g}=wf(Qp),b=me(()=>({id:t.draggableId,index:t.index,type:m,droppableId:g}),[t.draggableId,t.index,m,g]),{children:v,draggableId:S,isEnabled:_,shouldRespectForcePress:T,canDragInteractiveElements:M,isClone:A,mapped:O,dropAnimationFinished:R}=t;if(!A){const K=me(()=>({descriptor:b,registry:f,getDraggableRef:s,canDragInteractiveElements:M,shouldRespectForcePress:T,isEnabled:_}),[b,f,s,M,T,_]);FD(K)}const $=me(()=>_?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":S,"data-rfd-drag-handle-context-id":c,draggable:!1,onDragStart:VD}:null,[c,d,S,_]),D=Ft(K=>{O.type==="DRAGGING"&&O.dropping&&K.propertyName==="transform"&&Qc.flushSync(R)},[R,O]),C=me(()=>{const K=YD(O),F=O.type==="DRAGGING"&&O.dropping?D:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":c,"data-rfd-draggable-id":S,style:K,onTransitionEnd:F},dragHandleProps:$}},[c,$,S,O,D,a]),k=me(()=>({draggableId:b.id,type:b.type,source:{index:b.index,droppableId:b.droppableId}}),[b.droppableId,b.id,b.index,b.type]);return ze.createElement(ze.Fragment,null,v(C,O.snapshot,k))};var M2=(t,r)=>t===r,N2=t=>{const{combine:r,destination:a}=t;return a?a.droppableId:r?r.droppableId:null};const XD=t=>t.combine?t.combine.draggableId:null,WD=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function QD(){const t=gn((c,d)=>({x:c,y:d})),r=gn((c,d,f=null,m=null,g=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!g,dropAnimation:g,mode:c,draggingOver:f,combineWith:m,combineTargetFor:null})),a=gn((c,d,f,m,g=null,b=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:g,combineWith:b,mode:d,offset:c,dimension:f,forceShouldAnimate:v,snapshot:r(d,m,g,b,null)}}));return(c,d)=>{if(Yc(c)){if(c.critical.draggable.id!==d.draggableId)return null;const f=c.current.client.offset,m=c.dimensions.draggables[d.draggableId],g=Tr(c.impact),b=WD(c.impact),v=c.forceShouldAnimate;return a(t(f.x,f.y),c.movementMode,m,d.isClone,g,b,v)}if(c.phase==="DROP_ANIMATING"){const f=c.completed;if(f.result.draggableId!==d.draggableId)return null;const m=d.isClone,g=c.dimensions.draggables[d.draggableId],b=f.result,v=b.mode,S=N2(b),_=XD(b),M={duration:c.dropDuration,curve:Zp.drop,moveTo:c.newHomeClientOffset,opacity:_?Uc.opacity.drop:null,scale:_?Uc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:c.newHomeClientOffset,dimension:g,dropping:M,draggingOver:S,combineWith:_,mode:v,forceShouldAnimate:null,snapshot:r(v,m,S,_,M)}}}return null}}function A2(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const JD={mapped:{type:"SECONDARY",offset:bn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:A2(null)}};function tj(){const t=gn((f,m)=>({x:f,y:m})),r=gn(A2),a=gn((f,m=null,g)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:m,shouldAnimateDisplacement:g,snapshot:r(m)}})),s=f=>f?a(bn,f,!0):null,c=(f,m,g,b)=>{const v=g.displaced.visible[f],S=!!(b.inVirtualList&&b.effected[f]),_=Zf(g),T=_&&_.draggableId===f?m:null;if(!v){if(!S)return s(T);if(g.displaced.invisible[f])return null;const O=ul(b.displacedBy.point),R=t(O.x,O.y);return a(R,T,!0)}if(S)return s(T);const M=g.displacedBy.point,A=t(M.x,M.y);return a(A,T,v.shouldAnimate)};return(f,m)=>{if(Yc(f))return f.critical.draggable.id===m.draggableId?null:c(m.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const g=f.completed;return g.result.draggableId===m.draggableId?null:c(m.draggableId,g.result.draggableId,g.impact,g.afterCritical)}return null}}const ej=()=>{const t=QD(),r=tj();return(s,c)=>t(s,c)||r(s,c)||JD},nj={dropAnimationFinished:o2},rj=k1(ej,nj,null,{context:Kp,areStatePropsEqual:M2})(KD);function D2(t){return wf(Qp).isUsingCloneFor===t.draggableId&&!t.isClone?null:ze.createElement(rj,t)}function al(t){const r=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,a=!!t.disableInteractiveElementBlocking,s=!!t.shouldRespectForcePress;return ze.createElement(D2,yf({},t,{isClone:!1,isEnabled:r,canDragInteractiveElements:a,shouldRespectForcePress:s}))}const j2=t=>r=>t===r,ij=j2("scroll"),aj=j2("auto"),hx=(t,r)=>r(t.overflowX)||r(t.overflowY),oj=t=>{const r=window.getComputedStyle(t),a={overflowX:r.overflowX,overflowY:r.overflowY};return hx(a,ij)||hx(a,aj)},sj=()=>!1,k2=t=>t==null?null:t===document.body?sj()?t:null:t===document.documentElement?null:oj(t)?t:k2(t.parentElement);var gp=t=>({x:t.scrollLeft,y:t.scrollTop});const O2=t=>t?window.getComputedStyle(t).position==="fixed"?!0:O2(t.parentElement):!1;var lj=t=>{const r=k2(t),a=O2(t);return{closestScrollable:r,isFixedOnPage:a}},cj=({descriptor:t,isEnabled:r,isCombineEnabled:a,isFixedOnPage:s,direction:c,client:d,page:f,closest:m})=>{const g=(()=>{if(!m)return null;const{scrollSize:_,client:T}=m,M=u2({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:m.page.marginBox,frameClient:T,scrollSize:_,shouldClipSubject:m.shouldClipSubject,scroll:{initial:m.scroll,current:m.scroll,max:M,diff:{value:bn,displacement:bn}}}})(),b=c==="vertical"?Pp:U1,v=nl({page:f,withPlaceholder:null,axis:b,frame:g});return{descriptor:t,isCombineEnabled:a,isFixedOnPage:s,axis:b,isEnabled:r,client:d,page:f,frame:g,subject:v}};const uj=(t,r)=>{const a=C1(t);if(!r||t!==r)return a;const s=a.paddingBox.top-r.scrollTop,c=a.paddingBox.left-r.scrollLeft,d=s+r.scrollHeight,f=c+r.scrollWidth,g=Cp({top:s,right:f,bottom:d,left:c},a.border);return Lp({borderBox:g,margin:a.margin,border:a.border,padding:a.padding})};var dj=({ref:t,descriptor:r,env:a,windowScroll:s,direction:c,isDropDisabled:d,isCombineEnabled:f,shouldClipSubject:m})=>{const g=a.closestScrollable,b=uj(t,g),v=bf(b,s),S=(()=>{if(!g)return null;const T=C1(g),M={scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth};return{client:T,page:bf(T,s),scroll:gp(g),scrollSize:M,shouldClipSubject:m}})();return cj({descriptor:r,isEnabled:!d,isCombineEnabled:f,isFixedOnPage:a.isFixedOnPage,direction:c,client:b,page:v,closest:S})};const fj={passive:!1},hj={passive:!0};var mx=t=>t.shouldPublishImmediately?fj:hj;const Cd=t=>t&&t.env.closestScrollable||null;function mj(t){const r=B.useRef(null),a=wf(Vf),s=Xp("droppable"),{registry:c,marshal:d}=a,f=v2(t),m=me(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),g=B.useRef(m),b=me(()=>gn((C,k)=>{r.current||jt();const K={x:C,y:k};d.updateDroppableScroll(m.id,K)}),[m.id,d]),v=Ft(()=>{const C=r.current;return!C||!C.env.closestScrollable?bn:gp(C.env.closestScrollable)},[]),S=Ft(()=>{const C=v();b(C.x,C.y)},[v,b]),_=me(()=>$c(S),[S]),T=Ft(()=>{const C=r.current,k=Cd(C);if(C&&k||jt(),C.scrollOptions.shouldPublishImmediately){S();return}_()},[_,S]),M=Ft((C,k)=>{r.current&&jt();const K=f.current,F=K.getDroppableRef();F||jt();const tt=lj(F),et={ref:F,descriptor:m,env:tt,scrollOptions:k};r.current=et;const it=dj({ref:F,descriptor:m,env:tt,windowScroll:C,direction:K.direction,isDropDisabled:K.isDropDisabled,isCombineEnabled:K.isCombineEnabled,shouldClipSubject:!K.ignoreContainerClipping}),q=tt.closestScrollable;return q&&(q.setAttribute(lx.contextId,a.contextId),q.addEventListener("scroll",T,mx(et.scrollOptions))),it},[a.contextId,m,T,f]),A=Ft(()=>{const C=r.current,k=Cd(C);return C&&k||jt(),gp(k)},[]),O=Ft(()=>{const C=r.current;C||jt();const k=Cd(C);r.current=null,k&&(_.cancel(),k.removeAttribute(lx.contextId),k.removeEventListener("scroll",T,mx(C.scrollOptions)))},[T,_]),R=Ft(C=>{const k=r.current;k||jt();const K=Cd(k);K||jt(),K.scrollTop+=C.y,K.scrollLeft+=C.x},[]),$=me(()=>({getDimensionAndWatchScroll:M,getScrollWhileDragging:A,dragStopped:O,scroll:R}),[O,M,A,R]),D=me(()=>({uniqueId:s,descriptor:m,callbacks:$}),[$,m,s]);Er(()=>(g.current=D.descriptor,c.droppable.register(D),()=>{r.current&&O(),c.droppable.unregister(D)}),[$,m,O,D,d,c.droppable]),Er(()=>{r.current&&d.updateDroppableIsEnabled(g.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),Er(()=>{r.current&&d.updateDroppableIsCombineEnabled(g.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function g0(){}const px={width:0,height:0,margin:w3},pj=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>t||a==="close"?px:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},gj=({isAnimatingOpenOnMount:t,placeholder:r,animate:a})=>{const s=pj({isAnimatingOpenOnMount:t,placeholder:r,animate:a});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Pc.placeholder:null}},bj=t=>{const r=B.useRef(null),a=Ft(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:s,onTransitionEnd:c,onClose:d,contextId:f}=t,[m,g]=B.useState(t.animate==="open");B.useEffect(()=>m?s!=="open"?(a(),g(!1),g0):r.current?g0:(r.current=setTimeout(()=>{r.current=null,g(!1)}),a):g0,[s,m,a]);const b=Ft(S=>{S.propertyName==="height"&&(c(),s==="close"&&d())},[s,d,c]),v=gj({isAnimatingOpenOnMount:m,animate:t.animate,placeholder:t.placeholder});return ze.createElement(t.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":f,onTransitionEnd:b,ref:t.innerRef})};var yj=ze.memo(bj);class vj extends ze.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,a){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const xj=t=>{const r=B.useContext(Vf);r||jt();const{contextId:a,isMovementAllowed:s}=r,c=B.useRef(null),d=B.useRef(null),{children:f,droppableId:m,type:g,mode:b,direction:v,ignoreContainerClipping:S,isDropDisabled:_,isCombineEnabled:T,snapshot:M,useClone:A,updateViewportMaxScroll:O,getContainerForClone:R}=t,$=Ft(()=>c.current,[]),D=Ft((q=null)=>{c.current=q},[]);Ft(()=>d.current,[]);const C=Ft((q=null)=>{d.current=q},[]),k=Ft(()=>{s()&&O({maxScroll:f2()})},[s,O]);mj({droppableId:m,type:g,mode:b,direction:v,isDropDisabled:_,isCombineEnabled:T,ignoreContainerClipping:S,getDroppableRef:$});const K=me(()=>ze.createElement(vj,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:q,data:I,animate:Q})=>ze.createElement(yj,{placeholder:I,onClose:q,innerRef:C,animate:Q,contextId:a,onTransitionEnd:k})),[a,k,t.placeholder,t.shouldAnimatePlaceholder,C]),F=me(()=>({innerRef:D,placeholder:K,droppableProps:{"data-rfd-droppable-id":m,"data-rfd-droppable-context-id":a}}),[a,m,K,D]),tt=A?A.dragging.draggableId:null,et=me(()=>({droppableId:m,type:g,isUsingCloneFor:tt}),[m,tt,g]);function it(){if(!A)return null;const{dragging:q,render:I}=A,Q=ze.createElement(D2,{draggableId:q.draggableId,index:q.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(nt,at)=>I(nt,at,q));return lM.createPortal(Q,R())}return ze.createElement(Qp.Provider,{value:et},f(F,M),it())};function _j(){return document.body||jt(),document.body}const gx={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_j},C2=t=>{let r={...t},a;for(a in gx)t[a]===void 0&&(r={...r,[a]:gx[a]});return r},b0=(t,r)=>t===r.droppable.type,bx=(t,r)=>r.draggables[t.draggable.id],Sj=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...t,shouldAnimatePlaceholder:!1},a=gn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),s=gn((d,f,m,g,b,v)=>{const S=b.descriptor.id;if(b.descriptor.droppableId===d){const M=v?{render:v,dragging:a(b.descriptor)}:null,A={isDraggingOver:m,draggingOverWith:m?S:null,draggingFromThisWith:S,isUsingPlaceholder:!0};return{placeholder:b.placeholder,shouldAnimatePlaceholder:!1,snapshot:A,useClone:M}}if(!f)return r;if(!g)return t;const T={isDraggingOver:m,draggingOverWith:S,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:b.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,f)=>{const m=C2(f),g=m.droppableId,b=m.type,v=!m.isDropDisabled,S=m.renderClone;if(Yc(d)){const _=d.critical;if(!b0(b,_))return r;const T=bx(_,d.dimensions),M=Tr(d.impact)===g;return s(g,v,M,M,T,S)}if(d.phase==="DROP_ANIMATING"){const _=d.completed;if(!b0(b,_.critical))return r;const T=bx(_.critical,d.dimensions);return s(g,v,N2(_.result)===g,Tr(_.impact)===g,T,S)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const _=d.completed;if(!b0(b,_.critical))return r;const T=Tr(_.impact)===g,M=!!(_.impact.at&&_.impact.at.type==="COMBINE"),A=_.critical.droppable.id===g;return T?M?t:r:A?t:r}return r}},wj={updateViewportMaxScroll:BN},Xo=k1(Sj,wj,(t,r,a)=>({...C2(a),...t,...r}),{context:Kp,areStatePropsEqual:M2})(xj),Qo=Wc()(Ap((t,r)=>({currentId:null,setCurrent:a=>t({currentId:a}),list:[],add:a=>t({list:[a,...r().list]}),remove:a=>t({list:r().list.filter(s=>s.id!==a)}),update:(a,s)=>t({list:r().list.map(c=>c.id===a?{...c,...s}:c)}),reorder:a=>t({list:a})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(r=>({...r,dir:r.dir??"forward"}))}),merge:(t,r)=>{const a=t,s=c=>({...c,dir:c.dir??"forward",dateObj:c?.dateObj?new Date(c.dateObj):new Date,corrected:c?.corrected?new Date(c.corrected):new Date});return{...r,...a,list:Array.isArray(a.list)?a.list.map(s):[]}}})),Tj=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],L2=({value:t,onChange:r})=>{const[a,s]=B.useState(Tj),[c,d]=B.useState(""),[f,m]=B.useState(!1),[g,b]=B.useState(""),[v,S]=B.useState(!1),{list:_}=Qo(),M=_.some(D=>D.relationship==="본인")?a.filter(D=>D.value!=="본인"):a;B.useEffect(()=>{t!==void 0&&d(t)},[t]);const A=D=>{const C=D.target.value;d(C),r?.(C),C==="기타입력"?m(!0):(m(!1),b(""))};B.useEffect(()=>{const D=localStorage.getItem("relationshipOptions");D&&s(JSON.parse(D))},[]),B.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(a))},[a]);const O=()=>{if(!g.trim())return;const D={value:g,label:g};s([...a,D]),d(g),b(""),m(!1)},R=D=>{s(a.filter(C=>C.value!==D)),c===D&&d("")},$=D=>{if(!D.destination)return;const C=Array.from(a),[k]=C.splice(D.source.index,1);C.splice(D.destination.index,0,k),s(C)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"rel_set flex items-center gap-2",children:[y.jsxs("select",{name:"relationship",id:"relationship",value:c,onChange:A,children:[y.jsx("option",{value:"",hidden:!0,children:"관계선택"}),M.map(D=>y.jsx("option",{value:D.value,children:D.label},D.value)),y.jsx("option",{value:"기타입력",children:"기타입력"})]}),y.jsx("button",{type:"button",onClick:()=>S(!0),className:"btn_style",children:"관계수정"})]}),f&&!v&&y.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[y.jsx("input",{type:"text",placeholder:"관계 기타입력",value:g,onChange:D=>b(D.target.value)}),y.jsx("button",{type:"button",onClick:O,className:"btn_style",children:"관계추가"})]}),v&&y.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[y.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),y.jsx(eu,{onDragEnd:$,children:y.jsx(Xo,{droppableId:"relList",children:D=>y.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"space-y-1",children:[a.map((C,k)=>y.jsx(al,{draggableId:C.value,index:k,children:K=>y.jsxs("li",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[y.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),y.jsx("span",{className:"flex-1 pr-1",children:C.label}),y.jsx("button",{type:"button",className:"text-red-500",onClick:()=>R(C.value),children:"삭제"})]})},C.value)),D.placeholder]})})}),y.jsx("button",{type:"button",onClick:()=>S(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},Ej={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Tf(t,r,a){const s=Ej[t];if(!s)return!1;const c=new Date(t,r-1,a,0,0,0,0);return c>=s.start&&c<s.end}function Mj(t){if(!isFinite(t.getTime()))return 0;const r=t.getUTCFullYear(),a=Date.UTC(r,0,1),c=Math.floor((t.getTime()-a)/864e5)+1,d=t.getUTCHours(),f=t.getUTCMinutes(),m=t.getUTCSeconds(),g=(d-12)/24+f/1440+m/86400,b=2*Math.PI/365*(c-1+g);return 229.18*(75e-6+.001868*Math.cos(b)-.032077*Math.sin(b)-.014615*Math.cos(2*b)-.040849*Math.sin(2*b))}function Nj(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function ts(t,r,a=!1){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(a)return new Date(s.getTime()-1800*1e3);if(r==null||!isFinite(r))return s;let c=r;Math.abs(c)<=Math.PI+1e-6&&(c=c*180/Math.PI),c=(c+540)%360-180;const d=Nj(c),f=4*(c-d),m=Mj(s);return new Date(s.getTime()+(f+m)*60*1e3)}const De="폴더 미지정",Ef=["가족","친구","직장","지인","고객","기타"],Mf="ms_folders",Aj="ms_folder_order",Dj="ms_folder_favs",B2="ms_disabled_presets";function jj(t){return!t||t==="미분류"?De:t}function ol(t){if(!(!t||t===De||t==="미분류"))return t}function yx(){try{const t=localStorage.getItem(Mf),r=localStorage.getItem(B2),a=t?JSON.parse(t):[],s=r?JSON.parse(r):[],c=Ef.filter(d=>!s.includes(d));return[De,...c,...a]}catch{return[De,...Ef]}}function kj(t){const r=t.trim();if(!(!r||r===De))try{const a=localStorage.getItem(Mf),s=a?JSON.parse(a):[];if(!s.includes(r)){const c=[...s,r];localStorage.setItem(Mf,JSON.stringify(c))}}catch{}}const Ld="folder.order.v1";function y0(t){return Array.from(new Set(t))}function wc(t){const r=t.filter(a=>a!==De);return{rest:r,withUnassigned:[De,...r]}}function vx(t,r){const a=new Set(r),s=t.filter(d=>a.has(d));return[...s,...r.filter(d=>!s.includes(d))]}function Oj({value:t,onChange:r}){const[a,s]=B.useState([De]),[c,d]=B.useState(!1),[f,m]=B.useState(""),[g,b]=B.useState(!1);B.useEffect(()=>{const M=y0(yx()),A=M.includes(De)?y0(M):[De,...M],O=localStorage.getItem(Ld),R=O?JSON.parse(O):[],{rest:$}=wc(A),D=vx(R,$),C=[De,...D];s(C),JSON.stringify(R)!==JSON.stringify(D)&&localStorage.setItem(Ld,JSON.stringify(D))},[]);const v=B.useMemo(()=>t||De,[t]),S=M=>{const{rest:A}=wc(M);localStorage.setItem(Ld,JSON.stringify(A))},_=M=>{const{source:A,destination:O}=M;if(!O||O.index===A.index)return;const{rest:R}=wc(a),$=Array.from(R),[D]=$.splice(A.index,1);$.splice(O.index,0,D);const C=[De,...$];s(C),S(C)},T=M=>{kj(M);const A=y0(yx()),O=A.includes(De)?A:[De,...A],R=localStorage.getItem(Ld),$=R?JSON.parse(R):[],{rest:D}=wc(O),C=vx($,D),k=[De,...C];s(k),S(k)};return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:c?"__custom__":v,onChange:M=>{const A=M.target.value;if(A==="__custom__"){d(!0),r(void 0);return}d(!1),r(ol(A))},children:[a.map(M=>y.jsx("option",{value:M,children:M},M)),y.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),y.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>b(M=>!M),children:g?"순서수정 닫기":"폴더 순서수정"})]}),c&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",value:f,onChange:M=>m(M.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),y.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const M=f.trim();M&&(T(M),r(M),d(!1),m(""))},children:"추가"})]}),g&&y.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[y.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),y.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[y.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),y.jsxs("span",{className:"flex-1 px-2",children:[De," (고정)"]})]}),y.jsx(eu,{onDragEnd:_,children:y.jsx(Xo,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:M=>y.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"space-y-1",children:[wc(a).rest.map((A,O)=>y.jsx(al,{draggableId:A,index:O,children:R=>y.jsxs("li",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[y.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),y.jsx("span",{className:"flex-1 pr-1",children:A})]})},A)),M.placeholder]})})})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',De,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function R2({message:t,onClose:r,ms:a=2e3}){return B.useEffect(()=>{const s=setTimeout(r,a);return()=>clearTimeout(s)},[r,a]),y.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var hf={exports:{}},Cj=hf.exports,xx;function Lj(){return xx||(xx=1,(function(t,r){(function(a,s){t.exports=s()})(Cj,function(){return(function(a){function s(d){if(c[d])return c[d].exports;var f=c[d]={i:d,l:!1,exports:{}};return a[d].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var c={};return s.m=a,s.c=c,s.d=function(d,f,m){s.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:m})},s.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(f,"a",f),f},s.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},s.p="",s(s.s=0)})([function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0});var d=c(1),f=(function(m){return m&&m.__esModule?m:{default:m}})(d);s.default=f.default,a.exports=s.default},function(a,s,c){function d(Q){return Q&&Q.__esModule?Q:{default:Q}}Object.defineProperty(s,"__esModule",{value:!0});var f=c(2),m=d(f),g=c(3),b=d(g),v=c(4),S=d(v),_=c(5),T=d(_),M=c(6),A=d(M),O=c(7),R=d(O),$=c(8),D=d($),C=c(9),k=d(C),K=c(10),F=d(K),tt=c(11),et=d(tt),it=c(12),q=d(it),I={lunarInfo:m.default,solarMonth:b.default,gan:S.default,zhi:T.default,animals:A.default,lunarTerm:R.default,lTermInfo:D.default,nStr1:k.default,nStr2:F.default,nStr3:et.default,nStr4:q.default,lYearDays:function(Q){var nt,at=348;for(nt=32768;nt>8;nt>>=1)at+=I.lunarInfo[Q-1900]&nt?1:0;return at+I.leapDays(Q)},leapMonth:function(Q){return 15&I.lunarInfo[Q-1900]},leapDays:function(Q){return I.leapMonth(Q)?65536&I.lunarInfo[Q-1900]?30:29:0},monthDays:function(Q,nt){return nt>12||nt<1?-1:I.lunarInfo[Q-1900]&65536>>nt?30:29},solarDays:function(Q,nt){if(nt>12||nt<1)return-1;var at=nt-1;return at==1?Q%4==0&&Q%100!=0||Q%400==0?29:28:I.solarMonth[at]},toGanZhi:function(Q){return I.gan[Q%10]+I.zhi[Q%12]},getTerm:function(Q,nt){if(Q<1900||Q>2100||nt<1||nt>24)return-1;var at=I.lTermInfo[Q-1900],G=[parseInt("0x"+at.substr(0,5)).toString(),parseInt("0x"+at.substr(5,5)).toString(),parseInt("0x"+at.substr(10,5)).toString(),parseInt("0x"+at.substr(15,5)).toString(),parseInt("0x"+at.substr(20,5)).toString(),parseInt("0x"+at.substr(25,5)).toString()],ot=[G[0].substr(0,1),G[0].substr(1,2),G[0].substr(3,1),G[0].substr(4,2),G[1].substr(0,1),G[1].substr(1,2),G[1].substr(3,1),G[1].substr(4,2),G[2].substr(0,1),G[2].substr(1,2),G[2].substr(3,1),G[2].substr(4,2),G[3].substr(0,1),G[3].substr(1,2),G[3].substr(3,1),G[3].substr(4,2),G[4].substr(0,1),G[4].substr(1,2),G[4].substr(3,1),G[4].substr(4,2),G[5].substr(0,1),G[5].substr(1,2),G[5].substr(3,1),G[5].substr(4,2)];return parseInt(ot[nt-1])},toChinaYear:function(Q){var nt=parseInt(Q/1e3),at=parseInt(Q%1e3/100),G=parseInt(Q%100/10),ot=Q%10;return I.nStr4[nt]+I.nStr4[at]+I.nStr4[G]+I.nStr4[ot]+"年"},toChinaMonth:function(Q){if(Q>12||Q<1)return-1;var nt=I.nStr3[Q-1];return nt+="月"},toChinaDay:function(Q){var nt;switch(Q){case 10:nt="初十";break;case 20:nt="二十";break;case 30:nt="三十";break;default:nt=I.nStr2[Math.floor(Q/10)],nt+=I.nStr1[Q%10]}return nt},getAnimal:function(Q){return I.animals[(Q-4)%12]},solar2lunar:function(_t,j,H){if(_t<1900||_t>2100||_t==1900&&j==1&&H<31)return-1;if(_t)var G=new Date(_t,parseInt(j)-1,H);else var G=new Date;var ot,gt=0,st=0,_t=G.getFullYear(),j=G.getMonth()+1,H=G.getDate(),Z=(Date.UTC(G.getFullYear(),G.getMonth(),G.getDate())-Date.UTC(1900,0,31))/864e5;for(ot=1900;ot<2101&&Z>0;ot++)st=I.lYearDays(ot),Z-=st;Z<0&&(Z+=st,ot--);var J=new Date,V=!1;J.getFullYear()==_t&&J.getMonth()+1==j&&J.getDate()==H&&(V=!0);var U=G.getDay(),Y=I.nStr1[U];U==0&&(U=7);var ht=ot,gt=I.leapMonth(ot),Et=!1;for(ot=1;ot<13&&Z>0;ot++)gt>0&&ot==gt+1&&Et==0?(--ot,Et=!0,st=I.leapDays(ht)):st=I.monthDays(ht,ot),Et==1&&ot==gt+1&&(Et=!1),Z-=st;Z==0&&gt>0&&ot==gt+1&&(Et?Et=!1:(Et=!0,--ot)),Z<0&&(Z+=st,--ot);var Ct=ot,Pt=Z+1,kt=j-1,Bt=I.getTerm(_t,3),wt=I.toGanZhi(_t-4),At=new Date(_t,1,Bt).getTime();new Date(_t,kt,H).getTime()<At&&(wt=I.toGanZhi(_t-5));var Ut=I.getTerm(_t,2*j-1),Yt=I.getTerm(_t,2*j),Vt=I.toGanZhi(12*(_t-1900)+j+11);H>=Ut&&(Vt=I.toGanZhi(12*(_t-1900)+j+12));var vt=!1,zt="";Ut==H&&(vt=!0,zt=I.lunarTerm[2*j-2]),Yt==H&&(vt=!0,zt=I.lunarTerm[2*j-1]);var ct=Date.UTC(_t,kt,1,0,0,0,0)/864e5+25567+10,dt=I.toGanZhi(ct+H-1);return{lYear:ht,lMonth:Ct,lDay:Pt,animal:I.getAnimal(ht),yearCn:I.toChinaYear(ht),monthCn:(Et&&gt===Ct?"闰":"")+I.toChinaMonth(Ct),dayCn:I.toChinaDay(Pt),cYear:_t,cMonth:j,cDay:H,gzYear:wt,gzMonth:Vt,gzDay:dt,isToday:V,isLeap:Et,nWeek:U,ncWeek:"星期"+Y,isTerm:vt,term:zt}},lunar2solar:function(Q,nt,at,G){var ot=I.leapMonth(Q);if(I.leapDays(Q),G&&ot!=nt||Q==2100&&nt==12&&at>1||Q==1900&&nt==1&&at<31)return-1;var st=I.monthDays(Q,nt);if(Q<1900||Q>2100||at>st)return-1;for(var _t=0,j=1900;j<Q;j++)_t+=I.lYearDays(j);for(var H=0,Z=!1,j=1;j<nt;j++)H=I.leapMonth(Q),Z||H<=j&&H>0&&(_t+=I.leapDays(Q),Z=!0),_t+=I.monthDays(Q,j);G&&(_t+=st);var J=Date.UTC(1900,1,30,0,0,0),V=new Date(864e5*(_t+at-31)+J),U=V.getUTCFullYear(),Y=V.getUTCMonth()+1,ht=V.getUTCDate();return I.solar2lunar(U,Y,ht)}};s.default=I,a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=[31,28,31,30,31,30,31,31,30,31,30,31],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["日","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["初","十","廿","卅"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],a.exports=s.default},function(a,s,c){Object.defineProperty(s,"__esModule",{value:!0}),s.default=["零","一","二","三","四","五","六","七","八","九","十"],a.exports=s.default}])})})(hf)),hf.exports}var P2=Lj();const Bj=cl(P2),Jp=sT({__proto__:null,default:Bj},[P2]);function Xf(t){return typeof t=="object"&&t!==null}function Rj(t){return Xf(t)&&"default"in t}function Pj(t){return Xf(t)&&typeof t.lunar2solar=="function"}function zj(t){if(!Xf(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,c=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof c=="boolean"?c:void 0}}function $j(t){const r=Rj(t)?t.default:t;if(!Pj(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,c,d,f)=>{const m=r.lunar2solar(s,c,d,f);return zj(m)}}}const Hj=$j(Jp);function Xn(t,r,a,s=4,c=0){const d=Hj.lunar2solar(t,r,a,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,s,c)}const Tc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],Ec=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],Bd=["자시","조자시/야자시","인시"],Rd=["남자","여자"];function v0(t,r,a){return a==="ArrowRight"||a==="ArrowDown"?(t+1)%r:a==="ArrowLeft"||a==="ArrowUp"?(t-1+r)%r:a==="Home"?0:a==="End"?r-1:t}function x0(t){const r=document.getElementById(t);r instanceof HTMLElement&&r.focus()}function Ij({onSave:t,onClose:r}){const{add:a}=Qo(),[s,c]=B.useState(0),[d,f]=B.useState({gender:"남자",mingSikType:"조자시/야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[m,g]=B.useState(null),[b,v]=B.useState(!1),[S,_]=B.useState(!1),T=Tc[s],M=C=>g(C);B.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const k=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(k){k.focus();return}}if(T.key==="mingSikType"){const k=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(k){k.focus();return}}if(T.key==="gender"){const k=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(k){k.focus();return}}if(d.birthPlace||S){const k=()=>{const K=document.querySelector(".current-step form button[type='submit']");K&&K.focus()};k(),setTimeout(k,0)}else{const k=document.getElementById("inputBirthPlaceBtn");k&&k.focus()}if(T.key==="relationship"){setTimeout(()=>{const k=document.querySelector(".current-step select");k&&k.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const k=document.querySelector(".current-step select");k&&k.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[S,s,T.key,d.birthPlace]);const A=B.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const C=Number(d.birthDay.slice(0,4)),k=Number(d.birthDay.slice(4,6)),K=Number(d.birthDay.slice(6,8)),F=Xn(C,k,K);return`→ 양력 ${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}-${String(F.getDate()).padStart(2,"0")}`}catch(C){const k=C instanceof Error?C.message:void 0;return`→ 변환 실패${k?`: ${k}`:""}`}},[d.calendarType,d.birthDay]),O=()=>{const C=Tc[s];if(C.key==="name"&&(d.name||(f({...d,name:"이름없음"}),M("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),C.key==="birthDay"){const k=/^\d{8}$/;if(!d.birthDay||!k.test(d.birthDay))return M("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const K=Number(d.birthDay.substring(0,4)),F=Number(d.birthDay.substring(4,6)),tt=Number(d.birthDay.substring(6,8));if(K<1900||K>2100)return M("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(F<1||F>12)return M("출생 월은 01~12 사이여야 합니다."),!1;if(tt<1||tt>31)return M("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const et=new Date(K,F-1,tt);if(et.getFullYear()!==K||et.getMonth()+1!==F||et.getDate()!==tt)return M("존재하지 않는 날짜입니다."),!1}else try{Xn(K,F,tt)}catch(et){return M(et instanceof Error?et.message:"음력 날짜가 유효하지 않습니다."),!1}}if(C.key==="birthTime"){if(!d.birthTime&&!b)return M("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const k=Number(d.birthTime);if(Number.isNaN(k)||k<0||k>2359)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1;const K=Number(d.birthTime.slice(0,2)),F=Number(d.birthTime.slice(2,4));if(K>23||F>59)return M("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return C.key==="birthPlace"&&!d.birthPlace&&!S?(M("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},R=()=>{if(!O())return;if(s<Tc.length-1){c(s+1);return}const C=ol(d.folder),k=!d.birthTime||d.birthTime==="모름",K=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let F=Number(d.birthDay.slice(0,4)),tt=Number(d.birthDay.slice(4,6)),et=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const Y=Xn(F,tt,et);F=Y.getFullYear(),tt=Y.getMonth()+1,et=Y.getDate()}const it=k?4:Number(d.birthTime.slice(0,2)),q=k?30:Number(d.birthTime.slice(2,4)),I=new Date(F,tt-1,et,it,q,0,0),Q=S||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,nt=ts(I,Q,K),at=d.mingSikType??"조자시/야자시",G=k?"":nt.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),ot=de(nt,Q),st=Se(nt,Q),_t=ue(nt,at),j=k?null:Kr(nt,at),H=[`원국 : ${ot}년 ${st}월 ${_t}일`,j?`${j}시`:null].filter(Boolean).join(" ");function Z(Y,ht){const Et=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(Y),Ct=ht==="남자";return Et?Ct?"forward":"backward":Ct?"backward":"forward"}const J=ot.charAt(0),V=Z(J,d.gender??"남자"),U={id:S1(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:k?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:S?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"조자시/야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:C,correctedLocal:G,ganji:H,calendarType:d.calendarType??"solar",dir:V,corrected:nt,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};a(U),t(U),g("저장 완료!"),f({gender:"남자",mingSikType:"조자시/야자시",calendarType:"solar"}),v(!1),_(!1),c(0)},$=C=>{if(C.key!=="Enter")return;const k=C.target,K=k.getAttribute("role");if(K==="radio"||K==="checkbox")return;const F=document.getElementById("mapModal");if(F&&F.contains(k))return;const tt=k.tagName.toLowerCase(),et=k instanceof HTMLInputElement?k.type:"";if(tt==="textarea"){if(C.shiftKey)return;C.preventDefault(),R();return}if(et==="radio"||et==="checkbox"){C.preventDefault(),k instanceof HTMLInputElement&&k.click();return}tt==="button"&&k.type!=="submit"||(C.preventDefault(),R())},D=C=>{switch(C){case"birthPlace":return S?"모름":d.birthPlace?.name||"";case"birthTime":return b?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):De;default:{const K=d[C];return typeof K=="string"?K:K!=null?String(K):""}}};return y.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[m&&y.jsx(R2,{message:m,onClose:()=>g(null)}),Tc.slice(0,s).map((C,k)=>y.jsxs("button",{onClick:()=>c(k),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[y.jsx("span",{className:"font-semibold",children:C.label}),y.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:D(C.key)})]},C.key)),y.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:y.jsxs("form",{onSubmit:C=>{C.preventDefault(),R()},onKeyDown:$,children:[y.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&y.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:C=>f({...d,name:C.target.value})}),T.key==="birthDay"&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-1 items-center",children:[y.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:C=>{const k=C.target.value.replace(/\D/g,"");f({...d,birthDay:k.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),y.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:Ec.map(({value:C,label:k,id:K})=>{const F=d.calendarType===C;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:K,name:"calendarType",type:"radio",style:{display:"none"}}),y.jsx("label",{htmlFor:K,id:`${K}_lbl`,role:"radio","aria-checked":F,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":F?"true":"false",onKeyDown:tt=>{if(tt.stopPropagation(),tt.key===" "||tt.key==="Enter"){tt.preventDefault(),f({...d,calendarType:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(tt.key))return;tt.preventDefault();const it=Ec.findIndex(Q=>Q.value===d.calendarType),q=v0(it<0?0:it,Ec.length,tt.key),I=Ec[q].value;f({...d,calendarType:I}),x0(`${Ec[q].id}_lbl`)},onClick:tt=>{tt.preventDefault(),f({...d,calendarType:C})},children:k})]},C)})})]}),d.calendarType==="lunar"&&y.jsx("div",{className:"flex items-center justify-end",children:y.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:A})}),d.birthDay&&d.birthDay.length===8&&(()=>{const C=Number(d.birthDay.slice(0,4)),k=Number(d.birthDay.slice(4,6)),K=Number(d.birthDay.slice(6,8));return Tf(C,k,K)?y.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:b?"":d.birthTime||"",onChange:C=>{const k=C.target.value.replace(/\D/g,"");f({...d,birthTime:k.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:b}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),y.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":b,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":b?"true":"false",onKeyDown:C=>{C.stopPropagation(),(C.key===" "||C.key==="Enter")&&(C.preventDefault(),v(!b))},onClick:C=>{C.preventDefault(),v(!b)},children:"모름"})]})]}),T.key==="mingSikType"&&y.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:Bd.map(C=>{const k=`ming_${C}`,K=(d.mingSikType??"조자시/야자시")===C;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:k,name:"mingSikType",type:"radio",style:{display:"none"}}),y.jsxs("label",{htmlFor:k,id:`${k}_lbl`,role:"radio","aria-checked":K,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":K?"true":"false",onKeyDown:F=>{if(F.stopPropagation(),F.key===" "||F.key==="Enter"){F.preventDefault(),f({...d,mingSikType:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(F.key))return;F.preventDefault();const et=d.mingSikType??"조자시/야자시",it=Bd.indexOf(et),q=v0(it,Bd.length,F.key),I=Bd[q];f({...d,mingSikType:I}),x0(`ming_${I}_lbl`)},onClick:F=>{F.preventDefault(),f({...d,mingSikType:C})},children:[C,"명식"]})]},C)})}),T.key==="gender"&&y.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:Rd.map(C=>{const k=`gender_${C}`,K=(d.gender??"남자")===C;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:k,name:"gender",type:"radio",style:{display:"none"}}),y.jsx("label",{htmlFor:k,id:`${k}_lbl`,role:"radio","aria-checked":K,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":K?"true":"false",onKeyDown:F=>{if(F.stopPropagation(),F.key===" "||F.key==="Enter"){F.preventDefault(),f({...d,gender:C});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(F.key))return;F.preventDefault();const et=d.gender??"남자",it=Rd.indexOf(et),q=v0(it,Rd.length,F.key),I=Rd[q];f({...d,gender:I}),x0(`gender_${I}_lbl`)},onClick:F=>{F.preventDefault(),f({...d,gender:C})},children:C})]},C)})}),T.key==="birthPlace"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx(w1,{onSelect:C=>f({...d,birthPlace:C})}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),y.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":S,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":S?"true":"false",onKeyDown:C=>{C.stopPropagation(),(C.key===" "||C.key==="Enter")&&(C.preventDefault(),_(!S))},onClick:C=>{C.preventDefault(),_(!S)},children:"모름"})]})]}),T.key==="relationship"&&y.jsx(L2,{value:d.relationship||"",onChange:C=>f({...d,relationship:C})}),T.key==="folder"&&y.jsx(Oj,{value:ol(d.folder),onChange:C=>f({...d,folder:C})}),T.key==="memo"&&y.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:C=>f({...d,memo:C.target.value})}),y.jsxs("div",{className:"flex justify-between gap-2",children:[y.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:r,children:"닫기"}),y.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:s===Tc.length-1?"저장하기":"확인"})]})]})})]})}var Pd={},_x;function Gj(){if(_x)return Pd;_x=1,Pd.match=d,Pd.parse=f;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,c=/(dpi|dpcm|dppx)?$/;function d(v,S){return f(v).some(function(_){var T=_.inverse,M=_.type==="all"||S.type===_.type;if(M&&T||!(M||T))return!1;var A=_.expressions.every(function(O){var R=O.feature,$=O.modifier,D=O.value,C=S[R];if(!C)return!1;switch(R){case"orientation":case"scan":return C.toLowerCase()===D.toLowerCase();case"width":case"height":case"device-width":case"device-height":D=b(D),C=b(C);break;case"resolution":D=g(D),C=g(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":D=m(D),C=m(C);break;case"grid":case"color":case"color-index":case"monochrome":D=parseInt(D,10)||1,C=parseInt(C,10)||0;break}switch($){case"min":return C>=D;case"max":return C<=D;default:return C===D}});return A&&!T||!A&&T})}function f(v){return v.split(",").map(function(S){S=S.trim();var _=S.match(t),T=_[1],M=_[2],A=_[3]||"",O={};return O.inverse=!!T&&T.toLowerCase()==="not",O.type=M?M.toLowerCase():"all",A=A.match(/\([^\)]+\)/g)||[],O.expressions=A.map(function(R){var $=R.match(r),D=$[1].toLowerCase().match(a);return{modifier:D[1],feature:D[2],value:$[2]}}),O})}function m(v){var S=Number(v),_;return S||(_=v.match(/^(\d+)\s*\/\s*(\d+)$/),S=_[1]/_[2]),S}function g(v){var S=parseFloat(v),_=String(v).match(c)[1];switch(_){case"dpcm":return S/2.54;case"dppx":return S*96;default:return S}}function b(v){var S=parseFloat(v),_=String(v).match(s)[1];switch(_){case"em":return S*16;case"rem":return S*16;case"cm":return S*96/2.54;case"mm":return S*96/2.54/10;case"in":return S*96;case"pt":return S*72;case"pc":return S*72/12;default:return S}}return Pd}var _0,Sx;function Uj(){if(Sx)return _0;Sx=1;var t=Gj().match,r=typeof window<"u"?window.matchMedia:null;function a(c,d,f){var m=this,g;r&&!f&&(g=r.call(window,c)),g?(this.matches=g.matches,this.media=g.media,g.addListener(S)):(this.matches=t(c,d),this.media=c),this.addListener=b,this.removeListener=v,this.dispose=_;function b(T){g&&g.addListener(T)}function v(T){g&&g.removeListener(T)}function S(T){m.matches=T.matches,m.media=T.media}function _(){g&&g.removeListener(S)}}function s(c,d,f){return new a(c,d,f)}return _0=s,_0}var Zj=Uj();const Yj=cl(Zj);var qj=/[A-Z]/g,Fj=/^ms-/,S0={};function Vj(t){return"-"+t.toLowerCase()}function z2(t){if(S0.hasOwnProperty(t))return S0[t];var r=t.replace(qj,Vj);return S0[t]=Fj.test(r)?"-"+r:r}function Kj(t,r){if(t===r)return!0;if(!t||!r)return!1;const a=Object.keys(t),s=Object.keys(r),c=a.length;if(s.length!==c)return!1;for(let d=0;d<c;d++){const f=a[d];if(t[f]!==r[f]||!Object.prototype.hasOwnProperty.call(r,f))return!1}return!0}var w0={exports:{}},T0,wx;function Xj(){if(wx)return T0;wx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T0=t,T0}var E0,Tx;function Wj(){if(Tx)return E0;Tx=1;var t=Xj();function r(){}function a(){}return a.resetWarningCache=r,E0=function(){function s(f,m,g,b,v,S){if(S!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}s.isRequired=s;function c(){return s}var d={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:c,element:s,elementType:s,instanceOf:c,node:s,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:a,resetWarningCache:r};return d.PropTypes=d,d},E0}var Ex;function Qj(){return Ex||(Ex=1,w0.exports=Wj()()),w0.exports}var Jj=Qj();const be=cl(Jj),Yn=be.oneOfType([be.string,be.number]),$2={all:be.bool,grid:be.bool,aural:be.bool,braille:be.bool,handheld:be.bool,print:be.bool,projection:be.bool,screen:be.bool,tty:be.bool,tv:be.bool,embossed:be.bool},tk={orientation:be.oneOf(["portrait","landscape"]),scan:be.oneOf(["progressive","interlace"]),aspectRatio:be.string,deviceAspectRatio:be.string,height:Yn,deviceHeight:Yn,width:Yn,deviceWidth:Yn,color:be.bool,colorIndex:be.bool,monochrome:be.bool,resolution:Yn,type:Object.keys($2)},{type:c6,...ek}=tk,nk={minAspectRatio:be.string,maxAspectRatio:be.string,minDeviceAspectRatio:be.string,maxDeviceAspectRatio:be.string,minHeight:Yn,maxHeight:Yn,minDeviceHeight:Yn,maxDeviceHeight:Yn,minWidth:Yn,maxWidth:Yn,minDeviceWidth:Yn,maxDeviceWidth:Yn,minColor:be.number,maxColor:be.number,minColorIndex:be.number,maxColorIndex:be.number,minMonochrome:be.number,maxMonochrome:be.number,minResolution:Yn,maxResolution:Yn,...ek},rk={...$2,...nk};var ik={all:rk};const ak=t=>`not ${t}`,ok=(t,r)=>{const a=z2(t);return typeof r=="number"&&(r=`${r}px`),r===!0?a:r===!1?ak(a):`(${a}: ${r})`},sk=t=>t.join(" and "),lk=t=>{const r=[];return Object.keys(ik.all).forEach(a=>{const s=t[a];s!=null&&r.push(ok(a,s))}),sk(r)},ck=B.createContext(void 0),uk=t=>t.query||lk(t),Mx=t=>t?Object.keys(t).reduce((a,s)=>(a[z2(s)]=t[s],a),{}):void 0,H2=()=>{const t=B.useRef(!1);return B.useEffect(()=>{t.current=!0},[]),t.current},dk=t=>{const r=B.useContext(ck),a=()=>Mx(t)||Mx(r),[s,c]=B.useState(a);return B.useEffect(()=>{const d=a();Kj(s,d)||c(d)},[t,r]),s},fk=t=>{const r=()=>uk(t),[a,s]=B.useState(r);return B.useEffect(()=>{const c=r();a!==c&&s(c)},[t]),a},hk=(t,r)=>{const a=()=>Yj(t,r||{},!!r),[s,c]=B.useState(a),d=H2();return B.useEffect(()=>{if(d){const f=a();return c(f),()=>{f&&f.dispose()}}},[t,r]),s},mk=t=>{const[r,a]=B.useState(t.matches);return B.useEffect(()=>{const s=c=>{a(c.matches)};return t.addListener(s),a(t.matches),()=>{t.removeListener(s)}},[t]),r},pk=(t,r,a)=>{const s=dk(r),c=fk(t);if(!c)throw new Error("Invalid or missing MediaQuery!");const d=hk(c,s),f=mk(d);return H2(),B.useEffect(()=>{},[f]),B.useEffect(()=>()=>{d&&d.dispose()},[]),f},I2=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${Kn[r%10]}${or[r%12]}`);return t})();function gk(t){const r=I2.indexOf(t);if(r<0)throw new Error(`Unknown 간지: ${t}`);return r}function Nf(t,r,a=1){const s=gk(t),c=r==="forward"?a:-a;return I2[(s+c+60*1e3)%60]}const bk=60*1e3,yk=60*bk,vk=24*yk;function xk(t,r){const a=new Date(t.getTime()),s=a.getFullYear()+r,c=a.getMonth(),d=a.getDate();return new Date(Date.UTC(s,c,d,a.getUTCHours(),a.getUTCMinutes()))}function bp(t){const r=new Date(t);return r.setSeconds(0,0),r}function _k(t,r,a){const s=t.getHours(),c=a==="조자시/야자시"?(Math.floor((s+1)/2)*2-1+24)%24:(Math.floor(s/2)*2+1)%24,d=new Date(t);d.setHours(c,0,0,0);const f=new Date(d);f.setHours(c+2,0,0,0);const m=t.getTime()-d.getTime(),g=f.getTime()-t.getTime();return r==="backward"?m:g}function G2(t,r,a,s=120,c="조자시/야자시"){const d=bp(t),f=_k(d,a,c),m=bp(new Date(d.getTime()+f*120)),g=xk(t,s).getTime(),b=[];let v=Nf(r,a,1);for(let S=m.getTime();S<=g;S+=10*vk)b.push({at:new Date(S),gz:v}),v=Nf(v,a,1);return{firstChange:m,events:b}}function U2(t,r){const a=r==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return s=>s===a}function Z2(t,r,a,s){const c=U2(s,a);let d=r;const f=[];for(const m of t.events){const g=m.gz.charAt(1);c(g)&&(d=Nf(d,a,1),f.push({at:m.at,gz:d}))}return{events:f}}function fi(t){const r=t.getFullYear(),a=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],s={deg:315,name:"다음입춘"},c=a.map(m=>({name:m.name,date:ln(r,m.deg)})).concat([{name:s.name,date:ln(r+1,s.deg)},{name:"소한",date:ln(r+1,285)}]),d=ln(r,315),f=ln(r+1,315);return c.filter(m=>m.date>=d&&m.date<f).sort((m,g)=>m.date.getTime()-g.date.getTime())}const Sk={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},wk={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},Tk=t=>Sk[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),Ek=t=>wk[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function Nx(t){const r=Tk(t[0]),a=Ek(t[1]);if(!r||!a)throw new Error(`Invalid GZ: ${t}`);return`${r}${a}`}function nu(t,r,a,s=120,c){function d(D){return D instanceof Date||(D=new Date(D)),Math.floor((D.getHours()+1)%24/2)}function f(D){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(D)]}function m(D,C,k){const K=D.charAt(0),F=D.charAt(1),tt=Kn.indexOf(K),et=or.indexOf(F),it=C==="forward"?k:-k,q=(tt+it%10+10)%10,I=(et+it%12+12)%12;return Kn[q]+or[I]}const g=fi(t).sort((D,C)=>D.date.getTime()-C.date.getTime());let b;if(a==="forward"){const D=g.findIndex(C=>C.date>=t);D>=0&&(b=g[D].date)}else{const D=g.filter(C=>C.date<=t);D.length&&(b=D[D.length-1].date)}function v(D,C){const k=f(D),K={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},F=K[k],tt=(F+2)%24,et=new Date(D);if(et.setSeconds(0,0),a==="backward"&&C){const q=f(C),I=K[q],Q=new Date(C);return Q.setHours(I,0,0,0),Q}if(a==="forward"&&C){const q=f(C),I=K[q],Q=new Date(C);if(Q.setHours(I,0,0,0),Q>et)return Q}const it=new Date(et);return a==="forward"?(it.setHours(tt,0,0,0),it<=et&&it.setDate(it.getDate()+1)):(it.setHours(F,0,0,0),it>=et&&it.setDate(it.getDate()-1)),it}new Date(t).setSeconds(0,0);const _=Nx(Se(t,127.5)),T=v(t,b),M=Math.floor(a==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),A=Math.round(M/120*(14400*60*1e3));let O=new Date(t.getTime()+A);try{const D=Nx(Se(t,c));(a==="forward"&&_!==D||a==="backward"&&_!==D)&&(O=new Date(t.getTime()+6e4))}catch{}const R=s/10,$=[];for(let D=0;D<R;D++){const C=new Date(O);C.setFullYear(C.getFullYear()+D*10),C.setSeconds(0,0);const k=m(r,a,D+1);$.push({at:C,gz:k})}return{natalMonthPillar:r,firstChange:O,mPillars:[],events:$}}function Mk(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(s))}function Y2(t,r,a,s,c){const d=U2(s,a);let f=r;const m=[];for(const g of t.events){const b=g.gz.charAt(1);d(b)&&(f=Nf(f,a,1),m.push({at:g.at,gz:f,age:Mk(c,g.at)}))}return{events:m}}function Nk(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let c=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(c=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(r,a-1,s,c,d,0,0)}function Wf(t){const r=Nk(t),a=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",s=ts(r,t.birthPlace?.lon??null,a);return bp(s)}function tg(t,r){const a=t.birthPlace?.lon??127.5,s=Wf(t),c=ue(s,r),d=Kr(s,r,c.charAt(0));return{year:de(s,a),month:Se(s,a),day:c,hour:d}}const Ak=(()=>{const t=[];for(let r=0;r<60;r++)t.push(`${Kn[r%10]}${or[r%12]}`);return t})(),Dk=t=>Ak.indexOf(t),M0=t=>{if(Dk(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function eg(t){return typeof t=="object"&&t!==null}function jk(t){return eg(t)&&"default"in t}function kk(t){return eg(t)&&typeof t.lunar2solar=="function"}function Ok(t){if(!eg(t))throw new Error("Invalid lunar2solar result");const r=t.cYear,a=t.cMonth,s=t.cDay,c=t.isLeap;if(typeof r!="number"||typeof a!="number"||typeof s!="number")throw new Error("Invalid lunar2solar fields");return{cYear:r,cMonth:a,cDay:s,isLeap:typeof c=="boolean"?c:void 0}}function Ck(t){const r=jk(t)?t.default:t;if(!kk(r))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(s,c,d,f)=>{const m=r.lunar2solar(s,c,d,!!f);return Ok(m)}}}const Lk=Ck(Jp),Ax=t=>t<10?`0${t}`:`${t}`;function ng(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8||s!=="lunar")return t;const c=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),m=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const b of m){const v=r[b];if(typeof v=="boolean"){g=v;break}if(typeof v=="number"){g=v===1;break}if(typeof v=="string"){g=v==="1"||v.toLowerCase()==="true";break}}try{const b=Lk.lunar2solar(c,d,f,g),v=`${b.cYear}${Ax(b.cMonth)}${Ax(b.cDay)}`;return{...t,birthDay:v,calendarType:"solar"}}catch{return t}}function Bk(t,r="조자시/야자시"){const a=B.useMemo(()=>ng(t),[t]),s=B.useMemo(()=>Wf(a),[a]),c=B.useMemo(()=>tg(a,r),[a,r]);return B.useMemo(()=>{const d=nu(s,c.month,a.dir,120,a?.birthPlace?.lon??127.5),f=new Date;function m(D,C){let k=null;const K=C.getTime();for(const F of D)if(F.at.getTime()<=K)k=F;else break;return k}const g=m(d.events,f)?.gz??c.month,b=M0(g),v=f.getFullYear(),S=ln(v,315),T=S&&f>=S?v:v-1,M=de(new Date(T,1,10,0,0,0),127.5),A=M0(M),O=Se(f,127.5),R=M0(O),$=[];return R&&$.push({key:"wolun",label:"월운",data:R}),A&&$.push({key:"seun",label:"세운",data:A}),b&&$.push({key:"daeun",label:"대운",data:b}),$},[s,a.dir,c.month,a.birthPlace?.lon])}function zc(t){const r=a=>a.toString().padStart(2,"0");return`${t.getFullYear()}년 ${r(t.getMonth()+1)}월 ${r(t.getDate())}일 ${r(t.getHours())}시 ${r(t.getMinutes())}분`}function Xs(t){return t<10?`0${t}`:`${t}`}function Rk(t){return`${Xs(t.getHours())}:${Xs(t.getMinutes())}`}function Pk(t){return`${t.getFullYear()}-${Xs(t.getMonth()+1)}-${Xs(t.getDate())} ${Xs(t.getHours())}:${Xs(t.getMinutes())}`}const Wn=Wc()(Ap((t,r)=>{const a=new Date,s="조자시/야자시",c=127.5,d=c,f=de(a,d),m=Se(a,d),g=ue(a,s);return{date:a,scope:"원국만",rule:s,lon:c,yearGZ:f,monthGZ:m,dayGZ:g,setDate:b=>{const{rule:v,lon:S}=r(),_=typeof S=="number"?S:void 0;t({date:b,yearGZ:de(b,_),monthGZ:Se(b,_),dayGZ:ue(b,v)})},resetDate:()=>{const{rule:b,lon:v}=r(),S=new Date,_=typeof v=="number"?v:void 0;t({date:S,yearGZ:de(S,_),monthGZ:Se(S,_),dayGZ:ue(S,b)})},resetMonth:()=>{const{lon:b}=r(),v=new Date;t({date:v,monthGZ:Se(v,typeof b=="number"?b:void 0)})},setScope:b=>t({scope:b}),setRule:b=>{const{date:v,lon:S}=r(),_=typeof S=="number"?S:void 0;t({rule:b,yearGZ:de(v,_),monthGZ:Se(v,_),dayGZ:ue(v,b)})},setLon:b=>{const{date:v,rule:S}=r(),_=typeof b=="number"?b:void 0;t({lon:b,yearGZ:de(v,_),monthGZ:Se(v,_),dayGZ:ue(v,S)})},setFromEvent:(b,v)=>{const{rule:S,lon:_}=r(),T=typeof _=="number"?_:void 0;t({date:b.at,scope:v,yearGZ:de(b.at,T),monthGZ:Se(b.at,T),dayGZ:ue(b.at,S)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(t,r)=>{const a=t;return a.date&&typeof a.date=="string"&&(a.date=new Date(a.date)),{...r,...a}}})),es={Classic:"고전",Modern:"현대"};function qn(t,r){const s={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return s?s[r]??"":""}function zk(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function $k(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},c=a[t];return c&&s[c]?s[c][r]??"":""}function Hk(t,r){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[r]??""}function Ik(t,r){const a={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},s={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},c=a[t];return c&&s[c]?s[c][r]??"":""}function Fn(t){const{baseBranch:r,targetBranch:a,era:s,gaehwa:c}=t;return!r||!a?"":s==="고전"?c?zk(r,a):$k(r,a):c?Hk(r,a):Ik(r,a)}function ru(t,r="조자시/야자시",a=100){const s=B.useMemo(()=>ng(t),[t]),c=B.useMemo(()=>Wf(s),[s]),d=B.useMemo(()=>tg(s,r),[s,r]),f=(m,g)=>{const b=g.getFullYear()-m.getFullYear(),v=g.getMonth()-m.getMonth(),S=g.getDate()-m.getDate(),_=v<0||v===0&&S<0?b-1:b;return Math.max(0,_)};return B.useMemo(()=>nu(c,d.month,s.dir,a,s.birthPlace?.lon??127.5).events.map(g=>({...g,age:f(c,g.at)})),[c,d.month,s.dir,a,s.birthPlace?.lon])}function N0(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function Gk(t,r){if(!Array.isArray(t)||t.length===0||!N0(r))return{gz:"",at:r,index:-1};const a=t;for(let d=0;d<a.length;d++){const f=a[d],m=a[d+1];if(!N0(f.at))continue;if(r.getTime()>=f.at.getTime()&&(!m||N0(m.at)&&r.getTime()<m.at.getTime()))return{gz:f.gz??"",at:f.at,index:d}}if(r.getTime()<a[0].at.getTime()){const d=a[0];return{gz:d.gz??"",at:d.at,index:0}}const s=a.length-1,c=a[s];return{gz:c.gz??"",at:c.at,index:s}}function rg(t,r,a){const{date:s,rule:c,lon:d}=Wn(),f=B.useMemo(()=>a??s??new Date,[a,s]),m=ru(t,t?.mingSikType),{gz:g}=Gk(m,f);return B.useMemo(()=>{try{const b=d??t?.birthPlace?.lon??127.5,v=c??t?.mingSikType??r??"조자시/야자시";return{dae:{gz:g,at:f},se:{gz:de(f,b),at:f},wol:{gz:Se(f,b),at:f},il:{gz:ue(f,v),at:f}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[f,c,d,t,r,g])}const q2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},F2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Uk=Object.fromEntries(Object.entries(q2).map(([t,r])=>[r,t])),Zk=Object.fromEntries(Object.entries(F2).map(([t,r])=>[r,t])),Yk=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),qk=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Fk(t,r,a){return a==="한글"?r==="stem"?q2[t]??t:F2[t]??t:r==="stem"?Uk[t]??t:Zk[t]??t}function Vk(t,r){return r==="stem"?Yk.has(t):qk.has(t)}function Kk(t){return Xf(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function A0(t){const r=es;return Kk(r)?t==="classic"?r.Classic:r.Modern:t}const Xk={대운:1,세운:2,월운:3};function Wk(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}const Qk={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function Jk(t){switch(Qk[t]){case"목":return"bg-green-600 text-white border-green-600";case"화":return"bg-red-600 text-white border-red-600";case"토":return"bg-yellow-500 text-white border-yellow-500";case"금":return"bg-gray-400 text-white border-gray-400";case"수":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function t7({data:t,hourTable:r}){const{date:a}=Wn(),s=sr(V=>V.settings),c=t.mingSikType??r??"조자시/야자시",d=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,{solarY:f,solarM:m,solarD:g}=B.useMemo(()=>{let V=Number(t.birthDay?.slice(0,4)??2e3),U=Number(t.birthDay?.slice(4,6)??1),Y=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const ht=Xn(V,U,Y);V=ht.getFullYear(),U=ht.getMonth()+1,Y=ht.getDate()}return{solarY:V,solarM:U,solarD:Y}},[t.birthDay,t.calendarType]),[b,v]=B.useState(!1);B.useEffect(()=>{f&&m&&g&&v(Tf(f,m,g))},[f,m,g]);const S=!t.birthTime||t.birthTime==="모름";function _(V,U){const Y=!V.birthTime||V.birthTime==="모름";let ht=Number(V.birthDay.slice(0,4)),gt=Number(V.birthDay.slice(4,6)),Et=Number(V.birthDay.slice(6,8));if(V.calendarType==="lunar"){const ct=Xn(ht,gt,Et);ht=ct.getFullYear(),gt=ct.getMonth()+1,Et=ct.getDate()}const Ct=Y?4:Number(V.birthTime.slice(0,2)),Pt=Y?30:Number(V.birthTime.slice(2,4)),kt=new Date(ht,gt-1,Et,Ct,Pt,0,0),Bt=!V.birthPlace||V.birthPlace.lon===0?127.5:V.birthPlace.lon,wt=ts(kt,Bt,Y),At=U?new Date(wt.getTime()-3600*1e3):wt,Ut=V.mingSikType??"조자시/야자시",Yt=de(At,Bt),Vt=Se(At,Bt),vt=ue(At,Ut),zt=Y?null:Kr(At,Ut);return{corrected:At,year:{stem:Yt.charAt(0),branch:Yt.charAt(1)},month:{stem:Vt.charAt(0),branch:Vt.charAt(1)},day:{stem:vt.charAt(0),branch:vt.charAt(1)},hour:zt?{stem:zt.charAt(0),branch:zt.charAt(1)}:null}}const[T,M]=B.useState(()=>_(t,b));B.useEffect(()=>{M(_(t,b))},[t,b]);const A=t.id??`${t.birthDay}-${t.birthTime}-${t.name??""}`,O=B.useMemo(()=>{const V=t.mingSikType;return ue(t.corrected,V).charAt(0)},[t.corrected,t.mingSikType]),[R,$]=B.useState(null),[D,C]=B.useState(()=>t.mingSikType==="인시");B.useEffect(()=>{$(null),C(t.mingSikType==="인시")},[A,t.mingSikType]);const k=B.useMemo(()=>(D?Np:m1)[O]??[],[D,O]),K=R??T.hour,F=s.sinsalBase==="일지"?T.day.branch:T.year.branch,tt=el(V=>V.setManualHour),et=(V,U)=>{const Y={stem:V,branch:U};$(Y),tt(Y)},it=V=>s.showSibiUnseong?qn(O,V):null,q=V=>s.showSibiSinsal?Fn({baseBranch:F,targetBranch:V,era:A0(s.sinsalMode),gaehwa:s.sinsalBloom}):null,I=Bk(t,c),Q=pk({query:"(min-width: 992px)"}),nt=s.hiddenStem==="regular"?"main":"all",at=s.exposure,G=at==="원국"?0:Xk[at],ot=G===0?[]:I.filter(V=>Wk(V.label)<=G),st=Tf(f,m,g),_t=()=>v(V=>!V),j=rg(t,r,a),H=j.dae.gz,Z=j.se.gz,J=j.wol.gz;return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[y.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(t.name?.trim()||"이름없음")+" ",y.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",t.gender,")"]}),st&&y.jsxs("button",{onClick:_t,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${b?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",b?"ON":"OFF"]})]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[e7(t.birthDay,t.birthTime),t.birthPlace?.name?` · ${"출생지: "+t.birthPlace.name}`:""]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",`${S?"모름":Pk(T.corrected)}`]})]}),y.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",d.toFixed(2),"° · ",c," 기준"]})]}),y.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ot.length===0?"grid-cols-1":ot.length===1?"grid-cols-[2fr_8fr]":ot.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ot.length>0&&(Q?y.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:y.jsx("b",{children:"운"})}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:`grid gap-2 p-3 ${ot.length===1?"grid-cols-1":ot.length===2?"grid-cols-2":"grid-cols-3"}`,children:ot.map(V=>{let U=V.data.stem,Y=V.data.branch;V.label.includes("대운")&&H&&(U=H.charAt(0),Y=H.charAt(1)),V.label.includes("세운")&&Z&&(U=Z.charAt(0),Y=Z.charAt(1)),V.label.includes("월운")&&J&&(U=J.charAt(0),Y=J.charAt(1));const ht=it(Y),gt=q(Y);return y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Vn(O,{stem:U})}),y.jsx(eo,{value:U,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(eo,{value:Y,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:Y,dayStem:O,mode:nt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:ht}),s.showSibiSinsal&&y.jsx("div",{children:gt})]})]})]},V.key)})})})]}):y.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:`grid gap-1 p-0 ${ot.length===1?"grid-cols-1":ot.length===2?"grid-cols-2":"grid-cols-3"}`,children:ot.map(V=>{let U=V.data.stem,Y=V.data.branch;V.label.includes("대운")&&H&&(U=H.charAt(0),Y=H.charAt(1)),V.label.includes("세운")&&Z&&(U=Z.charAt(0),Y=Z.charAt(1)),V.label.includes("월운")&&J&&(U=J.charAt(0),Y=J.charAt(1));const ht=it(Y),gt=q(Y);return y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),y.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Vn(O,{stem:U})}),y.jsx(eo,{value:U,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(eo,{value:Y,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:Y,dayStem:O,mode:nt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:ht}),s.showSibiSinsal&&y.jsx("div",{children:gt})]})]})]},V.key)})})})]})),Q?y.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:y.jsx("b",{children:"원국"})}),y.jsx("div",{className:"pb-2",children:y.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:K},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(V=>y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),y.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:V.data?y.jsxs(y.Fragment,{children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Vn(O,{stem:V.data.stem})}),y.jsx(eo,{value:V.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(eo,{value:V.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:V.data.branch,dayStem:O,mode:nt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:qn(O,V.data.branch)}),s.showSibiSinsal&&y.jsx("div",{children:Fn({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:V.data.branch,era:A0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):y.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},V.key))})})]}):y.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[y.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),y.jsx("div",{className:"px-1 pb-2",children:y.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:K},{key:"day",label:"일주",data:T.day},{key:"month",label:"월주",data:T.month},{key:"year",label:"연주",data:T.year}].map(V=>y.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:V.label}),y.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:V.data?y.jsxs(y.Fragment,{children:[s.showSipSin&&y.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Vn(O,{stem:V.data.stem})}),y.jsx(eo,{value:V.data.stem,kind:"stem",charType:s.charType,thinEum:s.thinEum}),y.jsx(eo,{value:V.data.branch,kind:"branch",charType:s.charType,thinEum:s.thinEum}),y.jsx(kc,{branch:V.data.branch,dayStem:O,mode:nt,mapping:s.hiddenStemMode}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[s.showSibiUnseong&&y.jsx("div",{children:qn(O,V.data.branch)}),s.showSibiSinsal&&y.jsx("div",{children:Fn({baseBranch:s.sinsalBase==="일지"?T.day.branch:T.year.branch,targetBranch:V.data.branch,era:A0(s.sinsalMode),gaehwa:s.sinsalBloom})})]})]}):y.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"시간 미상"})})]},V.key))})})]})]}),S&&y.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:"시주 예측"}),y.jsx("button",{onClick:()=>C(V=>!V),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:D?"현재 : 인시":"현재 : 자시"})]}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(V=>{const U=V.charAt(0),Y=V.charAt(1),ht=R?.stem===U&&R?.branch===Y;return y.jsx("button",{onClick:()=>et(U,Y),className:`p-2 text-xs rounded border cursor-pointer ${ht?Jk(Y):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${V} (시주 후보)`,children:V},V)})})]})]})}function eo({value:t,kind:r,charType:a,thinEum:s}){const{settings:c}=sr(),d=Mr(t,r,c),f=Fk(t,r,a),m=Vk(t,r),g=s&&m?"font-thin":"font-bold";return y.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:y.jsx("span",{className:`text-[24px] md:text-2xl ${g} text-white`,children:f})})}function e7(t,r){if(!t||!/^\d{8}$/.test(t))return"";const a=t.slice(0,4),s=t.slice(4,6),c=t.slice(6,8),d=`${a}-${s}-${c}`;return!r||r==="모름"||!/^\d{4}$/.test(r)?d:`${d} ${r.slice(0,2)}:${r.slice(2,4)}`}function so(t){const r=Number(t.birthDay?.slice(0,4)),a=Number(t.birthDay?.slice(4,6))-1,s=Number(t.birthDay?.slice(6,8)),c=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),f=new Date(r,a,s,c,d,0,0);if(isNaN(f.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const m=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return ts(f,t.birthPlace?.lon??127.5,m)}function Qf(t,r){const a=t.length;if(a===0||!r)return 0;const s=t[0].at.getTime(),c=t[a-1].at.getTime(),d=r.getTime();if(d<=s)return 0;if(d>=c)return a-1;for(let f=0;f<a-1;f+=1){const m=t[f].at.getTime(),g=t[f+1].at.getTime();if(d>=m&&d<g)return f}return 0}const V2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},K2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},n7=Object.fromEntries(Object.entries(V2).map(([t,r])=>[r,t])),r7=Object.fromEntries(Object.entries(K2).map(([t,r])=>[r,t]));function Dx(t,r,a){return a==="한글"?r==="stem"?V2[t]??t:K2[t]??t:r==="stem"?n7[t]??t:r7[t]??t}const i7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),a7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function jx(t,r){return r==="stem"?i7.has(t):a7.has(t)}function o7(t){return typeof t=="object"&&t!==null}function s7(t){return o7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function l7(t){const r=es;return s7(r)?t==="classic"?r.Classic:r.Modern:t}const c7=!1,kx=t=>t<10?`0${t}`:`${t}`;function u7(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const c=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),m=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const b of m){const v=r[b];if(typeof v=="boolean"){g=v;break}if(typeof v=="number"){g=v===1;break}if(typeof v=="string"){g=v==="1"||v.toLowerCase()==="true";break}}if(s==="lunar")try{const b=Xn(c,d,f,0,0),v=`${b.getFullYear()}${kx(b.getMonth()+1)}${kx(b.getDate())}`;return{...t,birthDay:v,calendarType:"solar"}}catch{return t}return t}function d7({data:t}){const r=ru(t),a=B.useMemo(()=>{const k=u7(t);return so(k)},[t]),s=B.useMemo(()=>{const k=t.mingSikType??"조자시/야자시",K=ue(a,k);return console.log(K),K.charAt(0)},[a,t.mingSikType]),{date:c,setFromEvent:d}=Wn(),f=B.useMemo(()=>Qf(r,c),[r,c]),m=sr(k=>k.settings),{charType:g,thinEum:b,showSipSin:v,showSibiUnseong:S,showSibiSinsal:_,sinsalBase:T,sinsalMode:M,sinsalBloom:A}=m,O=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,R=t.mingSikType??"조자시/야자시",$=T==="일지"?ue(a,R).charAt(1):de(a,O).charAt(1),D=k=>S?qn(s,k):null,C=k=>_?Fn({baseBranch:$,targetBranch:k,era:l7(M),gaehwa:!!A}):null;return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:r.map((k,K)=>{const F=k.gz.charAt(0),tt=k.gz.charAt(1),et=f7(a,k.at),it=K===f,q=Dx(F,"stem",g),I=Dx(tt,"branch",g),Q=jx(F,"stem"),nt=jx(tt,"branch"),at=b&&Q?"font-thin":"font-bold",G=b&&nt?"font-thin":"font-bold",ot=D(tt),st=C(tt);return y.jsxs("div",{onClick:()=>d(k,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${it?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${k.gz} · ${k.at.toLocaleDateString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:et}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[v&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Vn(s,{stem:F})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Mr(F,"stem",m)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${at}`,children:q})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Mr(tt,"branch",m)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${G}`,children:I})}),v&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Vn(s,{branch:tt})}),(S||_)&&y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[S&&y.jsx("div",{children:ot}),_&&y.jsx("div",{children:st})]})]})]},`${k.gz}-${K}`)})})]})}function f7(t,r){const s=(r.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(s))}function Jf(t,r){const a=t,s=typeof a.isUnknownTime=="boolean"?a.isUnknownTime:!1,c=typeof a.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(a.birthTime),d=typeof a.birthHour=="number",f=typeof a.birthMinute=="number";if(s||!(c||d||f)){const g=new Date(r);return g.setDate(g.getDate()+1),g.setHours(4,30,0,0),g}return r}const X2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},W2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},h7=Object.fromEntries(Object.entries(X2).map(([t,r])=>[r,t])),m7=Object.fromEntries(Object.entries(W2).map(([t,r])=>[r,t]));function Ox(t,r,a){return a==="한글"?r==="stem"?X2[t]??t:W2[t]??t:r==="stem"?h7[t]??t:m7[t]??t}const p7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),g7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Cx(t,r){return r==="stem"?p7.has(t):g7.has(t)}function b7(t){return typeof t=="object"&&t!==null}function y7(t){return b7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function v7(t){const r=es;return y7(r)?t==="classic"?r.Classic:r.Modern:t}function D0(t){return new Date(t,6,2,12,0,0,0)}function x7(t,r){return r-t+1}const _7=!1,Lx=t=>t<10?`0${t}`:`${t}`;function S7(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const c=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),m=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const b of m){const v=r[b];if(typeof v=="boolean"){g=v;break}if(typeof v=="number"){g=v===1;break}if(typeof v=="string"){g=v==="1"||v.toLowerCase()==="true";break}}if(s==="lunar")try{const b=Xn(c,d,f,0,0),v=`${b.getFullYear()}${Lx(b.getMonth()+1)}${Lx(b.getDate())}`;return{...t,birthDay:v,calendarType:"solar"}}catch{return t}return t}function w7({data:t,list:r,onSelect:a}){const s=sr(F=>F.settings),{date:c,setFromEvent:d}=Wn(),[f,m]=B.useState(()=>r);B.useEffect(()=>{r&&r.length>0&&m(r)},[r]);const g=so(t),b=B.useMemo(()=>Jf(t,g),[t,g]),v=B.useMemo(()=>b.getFullYear(),[b]),S=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,_=B.useMemo(()=>{if(!c)return[];const F=c.getFullYear(),tt=D0(F),et=de(tt,S);return[{at:tt,gz:et}]},[c,S]),T=r.length>0?r:f.length>0?f:_,M=B.useMemo(()=>[...T].sort((F,tt)=>F.at.getTime()-tt.at.getTime()),[T]),A=B.useMemo(()=>{if(M.length===0)return 0;const F=Qf(M,c);return F<0?0:F>=M.length?M.length-1:F},[M,c]),[O,R]=B.useState(null);B.useEffect(()=>{R(null)},[c,M]);const $=O??A,D=B.useMemo(()=>{const F=S7(t);return so(F)},[t]),C=t.mingSikType??"조자시/야자시",k=B.useMemo(()=>ue(D,C).charAt(0),[D,C]),K=B.useMemo(()=>s.sinsalBase==="일지"?ue(b,C).charAt(1):de(b,S).charAt(1),[b,C,S,s.sinsalBase]);return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:M.map((F,tt)=>{const et=F.at.getFullYear(),it=D0(et),q=de(it,S),I=q.charAt(0),Q=q.charAt(1),nt=tt===$,at=Ox(I,"stem",s.charType),G=Ox(Q,"branch",s.charType),ot=Cx(I,"stem"),st=Cx(Q,"branch"),_t=s.thinEum&&ot?"font-thin":"font-bold",j=s.thinEum&&st?"font-thin":"font-bold",H=s.showSibiUnseong?qn(k,Q):null,Z=s.showSibiSinsal?Fn({baseBranch:K,targetBranch:Q,era:v7(s.sinsalMode),gaehwa:!!s.sinsalBloom}):null,J=x7(v,et);return y.jsxs("div",{onClick:()=>{R(tt);const V=D0(et),U=de(V,S);d({at:V,gz:U},"세운"),a&&(typeof queueMicrotask<"u"?queueMicrotask(()=>a(et)):Promise.resolve().then(()=>a(et)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${nt?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${q} · ${F.at.toLocaleDateString()} · ${J}세`,children:[y.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[J,"세"]}),y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:et}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[s.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Vn(k,{stem:I})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Mr(I,"stem",s)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${_t}`,children:at})}),y.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Mr(Q,"branch",s)}`,children:y.jsx("span",{className:`text-[20px] md:text-xl text-white ${j}`,children:G})}),s.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Vn(k,{branch:Q})}),(s.showSibiUnseong||s.showSibiSinsal)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[s.showSibiUnseong&&H&&y.jsx("div",{children:H}),s.showSibiSinsal&&Z&&y.jsx("div",{children:Z})]})]})]},`${et}-${F.gz||tt}`)})})]})}const T7=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function Cc(t){const r=new Date(t.getFullYear(),t.getMonth()+1),a=r.getFullYear(),c=[...fi(new Date(a-1,5,15,12,0))??[],...fi(new Date(a,5,15,12,0))??[],...fi(new Date(a+1,5,15,12,0))??[]].map(g=>({name:String(g.name),date:new Date(g.date)})).sort((g,b)=>g.date.getTime()-b.date.getTime()).filter(g=>T7.has(g.name));let d=c.findIndex((g,b)=>c[b].date<=r&&r<c[b+1]?.date);d<0&&(d=0);const f=c[d],m=c[d+1];return{start:new Date(f.date.getFullYear(),f.date.getMonth(),f.date.getDate(),0,0,0,0),end:new Date(m.date.getFullYear(),m.date.getMonth(),m.date.getDate(),0,0,0,0),cur:f,next:m}}const Q2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},J2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},E7=Object.fromEntries(Object.entries(Q2).map(([t,r])=>[r,t])),M7=Object.fromEntries(Object.entries(J2).map(([t,r])=>[r,t]));function Bx(t,r,a){return a==="한글"?r==="stem"?Q2[t]??t:J2[t]??t:r==="stem"?E7[t]??t:M7[t]??t}const N7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),A7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Rx(t,r){return r==="stem"?N7.has(t):A7.has(t)}function D7(t){return typeof t=="object"&&t!==null}function j7(t){return D7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function k7(t){const r=es;return j7(r)?t==="classic"?r.Classic:r.Modern:t}const O7=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function C7(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,0,0)}function L7(t){const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(r.find(a=>a.type==="month")?.value??t.getMonth()+1)}function j0(t){return new Date(t,5,15,12,0,0,0)}function B7(t){const a=[...fi(j0(t-1))??[],...fi(j0(t))??[],...fi(j0(t+1))??[]].map(m=>({name:String(m.name),date:new Date(m.date)})).sort((m,g)=>m.date.getTime()-g.date.getTime()).filter(m=>O7.has(m.name)),s=new Date(t,0,1,0,0,0,0),c=new Date(t+1,0,1,0,0,0,0),d=a.findIndex(m=>m.name==="입춘"&&m.date>=s&&m.date<c);if(d===-1)return[];const f=[];for(let m=0;m<12;m++){const g=a[d+m];if(!g)break;const b=new Date(g.date),v=C7(b);f.push({name:g.name,termAt:b,at00:v})}return f}const R7=!1,Px=t=>t<10?`0${t}`:`${t}`;function P7(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const c=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),m=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const b of m){const v=r[b];if(typeof v=="boolean"){g=v;break}if(typeof v=="number"){g=v===1;break}if(typeof v=="string"){g=v==="1"||v.toLowerCase()==="true";break}}if(s==="lunar")try{const b=Xn(c,d,f,0,0),v=`${b.getFullYear()}${Px(b.getMonth()+1)}${Px(b.getDate())}`;return{...t,birthDay:v,calendarType:"solar"}}catch{return t}return t}function z7({data:t,activeYear:r,onSelect:a,onSelectMonth:s}){const c=sr(O=>O.settings),d=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,f=so(t),m=B.useMemo(()=>Jf(t,f),[t,f]),g=B.useMemo(()=>{const O=P7(t);return so(O)},[t]),b=t.mingSikType??"조자시/야자시",v=B.useMemo(()=>ue(g,b).charAt(0),[g,b]),S=c.sinsalBase==="일지"?ue(m,b).charAt(1):de(m,d).charAt(1),_=B.useMemo(()=>r?B7(r).map(R=>{const $=R.at00,D=new Date(R.at00);D.setDate(D.getDate()+1);const C=Se(D,d);return{at:$,gz:C,term:R.name,termAt:R.termAt}}):[],[r,d]),{date:T,setFromEvent:M}=Wn(),A=Qf(_,T);return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),y.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:_.map((O,R)=>{const $=O.gz.charAt(0),D=O.gz.charAt(1),C=`${L7(O.at)}월`,k=R===A,K=Bx($,"stem",c.charType),F=Bx(D,"branch",c.charType),tt=Rx($,"stem"),et=Rx(D,"branch"),it=c.thinEum&&tt?"font-thin":"font-bold",q=c.thinEum&&et?"font-thin":"font-bold",I=c.showSibiUnseong?qn(v,D):null,Q=c.showSibiSinsal?Fn({baseBranch:S,targetBranch:D,era:k7(c.sinsalMode),gaehwa:!!c.sinsalBloom}):null;return y.jsxs("div",{onClick:()=>{s(O.at);const nt=new Date(O.at),{start:at}=Cc(nt);a?.(at.getFullYear(),at.getMonth()+1),M({at:nt,gz:Se(nt,d)},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${k?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${O.term} 시작 · ${O.gz} · ${O.termAt.toLocaleString()}`,children:[y.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:C}),y.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[c.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Vn(v,{stem:$})}),y.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Mr($,"stem",c)}`,children:y.jsx("span",{className:`text-base md:text-xl text-white ${it}`,children:K})}),y.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Mr(D,"branch",c)}`,children:y.jsx("span",{className:`text-base md:text-xl text-white ${q}`,children:F})}),c.showSipSin&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Vn(v,{branch:D})}),(c.showSibiUnseong||c.showSibiSinsal)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[c.showSibiUnseong&&I&&y.jsx("div",{children:I}),c.showSibiSinsal&&Q&&y.jsx("div",{children:Q})]}),y.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:O.term})]})]},`${O.term}-${O.at.toISOString()}`)})})]})}const tS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},eS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},$7=Object.fromEntries(Object.entries(tS).map(([t,r])=>[r,t])),H7=Object.fromEntries(Object.entries(eS).map(([t,r])=>[r,t]));function zx(t,r,a){return a==="한글"?r==="stem"?tS[t]??t:eS[t]??t:r==="stem"?$7[t]??t:H7[t]??t}const I7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),G7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function $x(t,r){return r==="stem"?I7.has(t):G7.has(t)}function U7(t){return typeof t=="object"&&t!==null}function Z7(t){return U7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Y7(t){const r=es;return Z7(r)?t==="classic"?r.Classic:r.Modern:t}const q7=!1,Hx=t=>t<10?`0${t}`:`${t}`;function F7(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const c=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),m=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const b of m){const v=r[b];if(typeof v=="boolean"){g=v;break}if(typeof v=="number"){g=v===1;break}if(typeof v=="string"){g=v==="1"||v.toLowerCase()==="true";break}}if(s==="lunar")try{const b=Xn(c,d,f,0,0),v=`${b.getFullYear()}${Hx(b.getMonth()+1)}${Hx(b.getDate())}`;return{...t,birthDay:v,calendarType:"solar"}}catch{return t}return t}function V7({data:t,year:r,month:a,hourTable:s,selectedMonth:c}){const d=sr(q=>q.settings),f=s??t?.mingSikType??"조자시/야자시",m=t?so(t):null,g=t&&m?Jf(t,m):null,b=B.useMemo(()=>{const q=F7(t);return so(q)},[t]),v=B.useMemo(()=>b?ue(b,f).charAt(0):void 0,[b,f]),S=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,_=t&&g?d.sinsalBase==="일지"?ue(g,f).charAt(1):de(g,S).charAt(1):null,{date:T,setFromEvent:M}=Wn(),A=new Date(r,a+1),O=(()=>{const q=new Date(r,a+1),I=Cc(q);return new Date(I.start)})(),R=B.useMemo(()=>Cc(O),[O]),$=c?R:Cc(A),D=B.useMemo(()=>{if(!T)return null;const q=new Date(T);return new Date(q.getFullYear(),q.getMonth(),q.getDate(),12,0,0,0)},[T]),C=B.useMemo(()=>{if(D)return D;const q=new Date(r,a+1);return c?O:q},[D,c,O,r,a]),{start:k,end:K}=B.useMemo(()=>Cc(C),[C]),F=B.useMemo(()=>{const q=[],I=new Date(k);for(;I<K;)q.push(new Date(I)),I.setDate(I.getDate()+1);return q},[k,K]),tt=B.useMemo(()=>[...fi(new Date(r-1,5,15,12,0))??[],...fi(new Date(r,5,15,12,0))??[],...fi(new Date(r+1,5,15,12,0))??[]].map(I=>({name:String(I.name),date:new Date(I.date)})).sort((I,Q)=>I.date.getTime()-Q.date.getTime()),[r]),et=B.useMemo(()=>{const q=tt.filter(Q=>Q.date>=k&&Q.date<K),I=tt.find(Q=>Q.date>=K);return I?[...q,I]:q},[tt,k,K]),it=B.useMemo(()=>{const q=[];let I=[];const Q=new Date(k).getDay();for(let nt=0;nt<Q;nt++)I.push(null);for(const nt of F)I.length===7&&(q.push(I),I=[]),I.push(nt);for(;I.length<7;)I.push(null);return q.push(I),q},[F,k]);return y.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[y.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:y.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[$?.cur?.name?y.jsxs(y.Fragment,{children:[$?.cur.name," ~ ",$?.next?.name??""]}):`${r}년 ${a}월`,et.length>0&&y.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",et.map((q,I)=>y.jsxs("span",{children:[q.name," ",K7(q.date),I<et.length-1?" · ":""]},q.name+I)),"]"]})]})}),y.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(q=>y.jsx("div",{className:"py-1",children:q},q))}),y.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:it.map((q,I)=>q.map((Q,nt)=>{if(!Q)return y.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${I}-${nt}`);const at=new Date(Q);at.setHours(12,0,0,0);const G=new Date,ot=at.getFullYear()===G.getFullYear()&&at.getMonth()===G.getMonth()&&at.getDate()===G.getDate(),_t=!!D&&at.getFullYear()===D.getFullYear()&&at.getMonth()===D.getMonth()&&at.getDate()===D.getDate()||!D&&ot,j=ue(at,f),H=j.charAt(0),Z=j.charAt(1),J=zx(H,"stem",d.charType),V=zx(Z,"branch",d.charType),U=d.thinEum&&$x(H,"stem")?"font-thin":"font-bold",Y=d.thinEum&&$x(Z,"branch")?"font-thin":"font-bold",ht=!!v&&d.showSipSin,gt=!!v&&d.showSibiUnseong,Et=!!v&&_!=null&&d.showSibiSinsal,Ct=ht?Vn(v,{stem:H}):"",Pt=ht?Vn(v,{branch:Z}):"",kt=gt?qn(v,Z):"",Bt=Et?Fn({baseBranch:_,targetBranch:Z,era:Y7(d.sinsalMode),gaehwa:!!d.sinsalBloom}):"",wt=et.find(At=>At.date.getFullYear()===at.getFullYear()&&At.date.getMonth()===at.getMonth()&&At.date.getDate()===at.getDate());return y.jsxs("div",{onClick:()=>M({at},"일운"),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${_t?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${j} (${at.toLocaleDateString()})`,children:[y.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[y.jsx("span",{children:at.getDate()}),wt&&y.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:wt.name})]}),ht&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Ct}),y.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${Mr(H,"stem",d)}`,children:y.jsx("span",{className:U,children:J})}),y.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${Mr(Z,"branch",d)}`,children:y.jsx("span",{className:Y,children:V})}),ht&&y.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Pt}),(gt||Et)&&y.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[gt&&kt&&y.jsx("div",{children:kt}),Et&&Bt&&y.jsx("div",{children:Bt})]})]},Q.toISOString())}))})]})}function K7(t){if(!t)return null;const r=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let a="",s="",c="",d="";for(const f of r)f.type==="month"&&(a=f.value),f.type==="day"&&(s=f.value),f.type==="hour"&&(c=f.value),f.type==="minute"&&(d=f.value);return`${a}/${s} ${c}:${d}`}function Ix(t,r){const a=t.at.getFullYear(),s=r?r.at.getFullYear():a+10,c=[];for(let d=a;d<s;d++){const f=ln(d,315);let m=d;new Date<f&&(m=d-1);const b=de(new Date(m,1,10));c.push({at:f,gz:b})}return c}function X7({data:t}){const r=ru(t),[a,s]=B.useState(null),[c,d]=B.useState(null),[f,m]=B.useState("il"),[g,b]=B.useState(null);B.useEffect(()=>{if(!r.length)return;const M=new Date,A=r.findIndex((O,R)=>{const $=r[R+1]?.at;return M>=O.at&&(!$||M<$)});A!==-1&&s(A)},[r]),B.useEffect(()=>{if(a===null)return;const M=r[a],A=r[a+1];if(!M)return;const O=Ix(M,A),R=new Date;O.findIndex((D,C)=>{const k=O[C+1]?.at;return R>=D.at&&(!k||R<k)})!==-1&&d({year:R.getFullYear(),month:R.getMonth()})},[a,r]);const v=rg(t),{date:S}=Wn(),_=S.getMonth()+1===1?S.getFullYear()-1:S.getFullYear(),T=B.useMemo(()=>{if(!v?.dae?.gz)return[];const M=r.findIndex((R,$)=>{const D=r[$+1]?.at;return v.dae.at>=R.at&&(!D||v.dae.at<D)});if(M===-1)return[];const A=r[M],O=r[M+1];return Ix(A,O)},[r,v?.dae]);return y.jsxs("div",{className:"w-full space-y-4",children:[y.jsx(d7,{data:t}),f==="se"||f==="wol"||f==="il"?y.jsx(w7,{data:t,list:T,onSelect:()=>{m("wol")}}):null,f==="wol"||f==="il"?y.jsx(z7,{data:t,activeYear:_,onSelect:(M,A)=>{d({year:M,month:A}),m("il")},onSelectMonth:b}):null,f==="il"&&c&&y.jsx(V7,{data:t,year:c.year,month:c.month+1,hourTable:t?.mingSikType,selectedMonth:g})]})}const W7=new Set(yE),Q7=new Set(vE);function Gx(t){return typeof t=="string"&&t.length>=2&&W7.has(t[0])&&Q7.has(t[1])}function xr(t,...r){if(Gx(t))return t;for(const a of r)if(Gx(a))return a;return""}const J7={자:0,축:2,인:4,묘:6,진:8,사:10,오:12,미:14,신:16,유:18,술:20,해:22},nS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},t5={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Ux(t){return!!t&&Fr.천간.includes(t)}function e5(t){return nS[t]??t}function Zx(t){return t5[t]??t}function n5(t){if(Ux(t))return t;const r=nS[t];return Ux(r)?r:"갑"}function r5(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function i5(t){const r=es;return r5(r)?t==="classic"?r.Classic??r.classic:r.Modern??r.modern:t}function zd(t,r){let a=null;const s=r.getTime();for(const c of t)if(c.at.getTime()<=s)a=c;else break;return a}function a5({data:t}){const r=sr(it=>it.settings),{manualHour:a}=el(),{showSibiUnseong:s,showSibiSinsal:c,sinsalBase:d,sinsalMode:f,sinsalBloom:m}=r,{date:g}=Wn(),b=B.useMemo(()=>ng(t),[t]),v=B.useMemo(()=>Wf(b),[b]),S=B.useMemo(()=>tg(b,"조자시/야자시"),[b]),_=B.useMemo(()=>n5(S.day?.charAt(0)??"갑"),[S.day]),T=!t.birthTime||t.birthTime==="모름",M=B.useMemo(()=>G2(v,S.hour,t.dir??"forward",120,"조자시/야자시"),[v,S.hour,t.dir]),A=B.useMemo(()=>Z2(M,S.day,t.dir??"forward","인시일수론"),[M,S.day,t.dir]),O=B.useMemo(()=>nu(v,S.month,t.dir??"forward",120,b.birthPlace?.lon??127.5),[v,S.month,t.dir,b.birthPlace?.lon]),R=B.useMemo(()=>Y2(O,S.year,t.dir??"forward","인시일수론",v),[O,S.year,t.dir,v]),$=B.useMemo(()=>{const it=M?.events?.[0];return it?{at:it.at,from:xr(S.hour),to:xr(it.gz)}:null},[M?.events,S.hour]),D=B.useMemo(()=>{const it=O?.events?.[0];return O?.firstChange?{at:O.firstChange,from:xr(S.month),to:xr(it?.gz??S.month)}:null},[O?.firstChange,O?.events,S.month]),C=B.useMemo(()=>{const it=T?a?a.stem+a.branch:"":xr(zd(M.events,g)?.gz,S.hour);let q;if(T&&a){const I=g.getFullYear(),Q=g.getMonth(),nt=g.getDate(),at=J7[a.branch]??0,G=new Date(I,Q,nt,at,0),ot=ue(G,t.mingSikType??"조자시/야자시");q=xr(ot,S.day)}else q=xr(zd(A.events,g)?.gz,S.day);return{si:it,il:q,wl:xr(zd(O.events,g)?.gz,S.month),yn:xr(zd(R.events,g)?.gz,S.year)}},[g,M.events,A.events,O.events,R.events,S,T,a,t.mingSikType]),k=B.useMemo(()=>({si:xr(Kr(g,"조자시/야자시")),il:xr(ue(g,"조자시/야자시")),wl:xr(Se(g)),yn:xr(de(g))}),[g]),K=B.useMemo(()=>d==="일지"?S.day.charAt(1):S.year.charAt(1),[d,S.day,S.year]),F=B.useMemo(()=>i5(f),[f]),tt=it=>{if(!it)return{unseong:"",shinsal:""};const q=e5(_),I=Zx(it.charAt(1)),Q=Zx(K);return{unseong:s&&qn(q,I)||"",shinsal:c&&Fn({baseBranch:Q,targetBranch:I,era:F,gaehwa:!!m})||""}},et=(it,q,I="myoun")=>{const Q=q,{unseong:nt,shinsal:at}=q?tt(q):{unseong:"",shinsal:""},G=I==="myoun"&&T&&(it==="시주"||it==="일주");return y.jsx(Ks,{label:it,gz:Q,dayStem:_,settings:r,unseongText:q?nt:"",shinsalText:q?at:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:G},`${I}-${it}`)};return y.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[y.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:y.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",y.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",zc(v),")"]})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),y.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[et("시주",C.si,"myoun"),et("일주",C.il,"myoun"),et("월주",C.wl,"myoun"),et("연주",C.yn,"myoun")]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),y.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[et("시주",k.si,"live"),et("일주",k.il,"live"),et("월주",k.wl,"live"),et("연주",k.yn,"live")]})]})]}),y.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[y.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),y.jsxs("div",{children:["시주:"," ",$?`${zc($.at)} (${$.from} → ${$.to})`:"계산 불가"]}),y.jsxs("div",{children:["월주:"," ",D?`${zc(D.at)} (${D.from} → ${D.to})`:"계산 불가"]})]})]})}const Yx=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],o5={갑목:"목",을목:"목",병화:"화",정화:"화",무토:"토",기토:"토",경금:"금",신금:"금",임수:"수",계수:"수"},s5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},l5={목:"화",화:"토",토:"금",금:"수",수:"목"},c5={화:"목",토:"화",금:"토",수:"금",목:"수"},u5={목:"토",화:"금",토:"수",금:"목",수:"화"},d5={토:"목",금:"화",수:"토",목:"금",화:"수"};function f5(t,r){switch(t){case"비겁":return r;case"식상":return l5[r];case"재성":return u5[r];case"관성":return d5[r];case"인성":return c5[r];default:return r}}function h5({data:t,perStemElementScaled:r,elementPercent:a,dayStem:s,width:c=280,height:d=280,revKey:f}){const m=c,g=d,b=m/2,v=g/2,S=Math.min(m,g)*.37,_=B.useMemo(()=>{const D=(s??"").charAt(0);return s5[D]??null},[s]),T=D=>Math.PI/2+2*-Math.PI*D/5,M=B.useMemo(()=>t.map((D,C)=>({...D,x:b+S*Math.cos(T(C)),y:v-S*Math.sin(T(C))})),[t,b,v,S]),[A,O]=B.useState(0),R=B.useRef(""),$=B.useMemo(()=>{const D=t.map(K=>`${K.name}:${K.value}`).join(","),C=Yx.map(K=>`${K}:${r?.[K]??0}`).join(","),k=a?`목:${a.목??0},화:${a.화??0},토:${a.토??0},금:${a.금??0},수:${a.수??0}`:"el:none";return[f??"",D,C,k,s??""].join("||")},[f,t,r,s,a]);return B.useEffect(()=>{$!==R.current&&(R.current=$,O(D=>D+1))},[$]),y.jsx("div",{className:"w-full",children:y.jsxs("svg",{width:m,height:g,className:"mx-auto pt-2",children:[M.map((D,C)=>{const k=M[(C+2)%5];return y.jsx("line",{x1:D.x,y1:D.y,x2:k.x,y2:k.y,stroke:"#94a3b8",strokeWidth:1},`line-${C}`)}),M.map((D,C)=>{const k=M[(C+1)%5],K=(D.x+k.x)/2,F=(D.y+k.y)/2,tt=K-b,et=F-v,it=1.5,q=b+tt*it,I=v+et*it;return y.jsx("path",{d:`M${D.x},${D.y} Q${q},${I} ${k.x},${k.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${C}`)}),y.jsx("defs",{children:y.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:y.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),M.map(D=>{const C=D.name,k=_?f5(C,_):null,K=k?Yx.filter(F=>o5[F]===k).map(F=>[F,r?.[F]??0]):[];return y.jsxs("g",{transform:`translate(${D.x},${D.y})`,children:[y.jsx("circle",{r:33,fill:D.color??"#334155",opacity:D.value===0?.7:1}),y.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[D.name," ",D.value]}),K.map(([F,tt],et)=>y.jsxs("text",{textAnchor:"middle",dy:8+et*11,fontSize:10,className:"fill-white",children:[F," ",Math.round(tt)]},F))]},`${D.name}-${D.value}`)})]},A)})}const m5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}];function ig(t){return Math.max(0,Math.min(100,t))}function rS(t){const r=ig(t);return m5.find(s=>r>=s.min&&r<s.max)?.name??"중화"}const p5=[10,20,35,45,55,65,80];function g5({value:t}){const r=B.useMemo(()=>ig(t),[t]),a=B.useMemo(()=>rS(r),[r]);return y.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[y.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[y.jsx("span",{children:"신약"}),y.jsx("span",{children:"중화"}),y.jsx("span",{children:"신강"})]}),y.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[p5.map(s=>y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${s}%`},title:`${s}%`},s)),y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),y.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${r}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${r}%`})]}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:a}),y.jsxs("span",{className:"text-xs text-neutral-400",children:[r.toFixed(1),"%"]})]})]})}const sa=["연","월","일","시"],$d={year:0,month:1,day:2,hour:3},k0="매우약함",b5={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},iS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function Jt(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const c=b5[s[1]]??s[1],d=iS[s[2]]??s[2];return`${c}${d}`}return""}const Af=t=>t&&t.length>=1?t[0]:"",la=t=>t&&t.length>=2?t[1]:"",ag=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],og=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],sg=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],lg=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],cg=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],ug=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],dg=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],fg=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],qx=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],hg=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],mg=[{pair:["자","묘"],label:"자묘형"}],y5=new Set(["진","오","유","해"]),qc=new Set(["정해","무자","신사","임오"]),th=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],eh=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function We(t,r,a){for(const{pair:[s,c],label:d}of t)if(r===s&&a===c||r===c&&a===s)return d;return null}function Be(t,r){t.includes(r)||t.push(r)}const Go=t=>[...t].sort((r,a)=>r-a).map(r=>sa[r]).join("X"),O0=(t,r)=>t===0&&r===3||t===3&&r===0;function Fx(t,r){const a=[];for(const s of t)for(const c of r){if(s===c)continue;const d=Math.min(s,c),f=Math.max(s,c);d===0&&f===3||a.push([d,f])}return a.sort((s,c)=>{const d=Math.abs(s[0]-s[1]),f=Math.abs(c[0]-c[1]);return d!==f?d-f:0})}function v5(t){const r=[],a=[...t].sort((s,c)=>s-c);for(let s=0;s<a.length;s++)for(let c=s+1;c<a.length;c++){const d=a[s],f=a[c];d===0&&f===3||r.push([d,f])}return r}const aS=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function x5(t){if(!t)return!1;const r=t.normalize("NFC").trim();return/^#\s*없음$/u.test(r)}const _5=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function oS(t){for(const r of _5){const s=(t[r]??[]).map(c=>c&&c.normalize("NFKC")).filter(c=>!!c&&!x5(c));t[r]=Array.from(new Set(s))}return t.jijiHyeong=sS(t.jijiHyeong),t}const Vx=["대운","세운","월운","일운"];function sS(t){if(!t||t.length===0)return t;const r=Array.from(new Set(t.map(c=>c?.normalize("NFKC")??""))).filter(Boolean),a=r.some(c=>c.includes("인사신삼형")||c.includes("삼형(인사신)")),s=r.some(c=>c.includes("축술미삼형")||c.includes("삼형(축술미)"));return r.filter(c=>!(a&&(c.includes("인신상형")||c.includes("인사상형")||c.includes("사신상형"))||s&&(c.includes("축술상형")||c.includes("술미상형")||c.includes("축미상형"))))}function lS(t,r={}){const{emitGanjiAmhap:a=!0}=r,s=t.map(Jt),c=s.map(_=>Af(_)),d=s.map(_=>la(_)),m={title:s.map((_,T)=>`${_}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},g=(_,T,M,A)=>{const O=c.flatMap(($,D)=>$===_?[D]:[]),R=c.flatMap(($,D)=>$===T?[D]:[]);for(const $ of O)for(const D of R)$!==D&&Math.abs($-D)===1&&Be(A,`#${Go([$,D])}_${M}`)};ag.forEach(({pair:[_,T],label:M})=>g(_,T,M,m.cheonganHap)),og.forEach(({pair:[_,T],label:M})=>g(_,T,M,m.cheonganChung));const b=_=>{const T=new Set,M=[];for(const A of _)for(let O=0;O<d.length;O++)if(d[O]===A&&!T.has(O)){T.add(O),M.push(O);break}return M};th.forEach(({name:_,members:T,wang:M})=>{const A=T.filter(R=>d.includes(R)),O=new Set(A).size;if(O===3){const R=b(T);R.length===3&&Be(m.jijiSamhap,`#${Go(R)}_${_}삼합`)}else if(O===2){if(!A.includes(M))return;const[R,$]=A,D=d.flatMap((F,tt)=>F===R?[tt]:[]),C=d.flatMap((F,tt)=>F===$?[tt]:[]),k=Fx(D,C),K=k.length>1;for(const[F,tt]of k){const et=O0(F,tt),it=`#${Go([F,tt])}_${R}${$}반합${K?"":et?`_${k0}`:""}`;Be(m.jijiSamhap,it)}}}),eh.forEach(({name:_,members:T})=>{const M=T.filter(O=>d.includes(O));if(new Set(M).size===3){const O=b(T);O.length===3&&Be(m.jijiBanghap,`#${Go(O)}_${_}방합`)}});const v=(_,T,M,A)=>{const O=d.flatMap((C,k)=>C===_?[k]:[]),R=d.flatMap((C,k)=>C===T?[k]:[]),$=Fx(O,R),D=$.length>1;for(const[C,k]of $){const K=O0(C,k),F=`#${Go([C,k])}_${M}${D?"":K?`_${k0}`:""}`;Be(A,F)}};if(sg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiYukhap)),lg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiChung)),cg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiPa)),ug.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiHae)),dg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiWonjin)),fg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(_=>{const T=[],M=new Set;if(_.forEach(A=>{d.forEach((O,R)=>{O===A&&(T.push(R),M.add(A))})}),M.size===3){const A=Array.from(new Set(T)).sort((O,R)=>O-R);Be(m.jijiHyeong,`#${Go(A)}_${_.join("")}삼형`)}}),hg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiHyeong)),mg.forEach(({pair:[_,T],label:M})=>v(_,T,M,m.jijiHyeong)),["진","오","유","해"].forEach(_=>{const T=d.flatMap((O,R)=>O===_?[R]:[]),M=v5(T),A=M.length>1;for(const[O,R]of M){const $=O0(O,R),D=`#${Go([O,R])}_${_}${_}자형${A?"":$?`_${k0}`:""}`;Be(m.jijiHyeong,D)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[_,T],label:M})=>v(_,T,M,m.amhap)),a)for(let _=0;_<4;_++){const T=s[_]??"";if(T.length<2)continue;const M=`${T[0]}${T[1]}`;qc.has(M)&&Be(m.ganjiAmhap,`#${aS(sa[_])}_${M}암합`)}return m.jijiHyeong=sS(m.jijiHyeong),oS(m)}function Vs(t,r={}){const{emitNatalGanjiAmhap:a=!1}=r,s=[Jt(t.natal[0]??""),Jt(t.natal[1]??""),Jt(t.natal[2]??""),Jt(t.natal[3]??"")],d=[Jt(t.daewoon??""),Jt(t.sewoon??""),Jt(t.wolwoon??"")].some(v=>v.length>=2),f={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(a&&d)for(let v=0;v<4;v++){const S=s[v]??"";if(S.length<2)continue;const _=`${S[0]}${S[1]}`;qc.has(_)&&Be(f.ganjiAmhap,`#${aS(sa[v])}_${_}암합`)}const m=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];let g=!1,b=!1;for(const[v,S]of m){if(!S)continue;const _=Jt(S);if(!_||_.length<2)continue;const T=Af(_),M=la(_);{const R=`${T}${M}`;qc.has(R)&&Be(f.ganjiAmhap,`#${v}_${R}암합`)}for(let R=0;R<4;R++){const $=s[R]??"";if($.length<2)continue;const D=sa[R],C=Af($),k=la($),K=We(ag,T,C);K&&Be(f.cheonganHap,`#${v}X${D}_${K}`);const F=We(og,T,C);F&&Be(f.cheonganChung,`#${v}X${D}_${F}`);const tt=We(sg,M,k);tt&&Be(f.jijiYukhap,`#${v}X${D}_${tt}`);const et=We(lg,M,k);et&&Be(f.jijiChung,`#${v}X${D}_${et}`);const it=We(cg,M,k);it&&Be(f.jijiPa,`#${v}X${D}_${it}`);const q=We(ug,M,k);q&&Be(f.jijiHae,`#${v}X${D}_${q}`);const I=We(dg,M,k);I&&Be(f.jijiWonjin,`#${v}X${D}_${I}`);const Q=We(fg,M,k);Q&&Be(f.jijiGwimun,`#${v}X${D}_${Q}`);const nt=We(hg,M,k);if(nt)Be(f.jijiHyeong,`#${v}X${D}_${nt}`);else{const ot=We(mg,M,k);ot?Be(f.jijiHyeong,`#${v}X${D}_${ot}`):M===k&&y5.has(M)&&Be(f.jijiHyeong,`#${v}X${D}_${M}${k}자형`)}const G=We([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],M,k);G&&Be(f.amhap,`#${v}X${D}_${G}`)}const A=s.map(R=>{const $=la(R??"");return iS[$]??$});for(const R of th){if(!R.members.includes(M))continue;const $=R.members.filter(C=>C!==M),D=A.map((C,k)=>({b:C,pos:sa[k]})).filter(C=>$.includes(C.b));if(new Set(D.map(C=>C.b)).size===2){const[C,k]=D.map(K=>K.pos).sort((K,F)=>["시","일","월","연"].indexOf(K)-["시","일","월","연"].indexOf(F));Be(f.jijiSamhap,`#${v}X${C}X${k}_삼합(${R.name})`)}}const O=[...s.map((R,$)=>({b:la(R),pos:sa[$]}))];for(const R of eh){const $=O.filter(D=>R.members.includes(D.b));if(new Set($.map(D=>D.b)).size===3){const D=$.map(C=>C.pos).join("X");Be(f.jijiBanghap,`#${D}_방합(${R.name})`)}}for(const R of qx){if(!R.members.includes(M))continue;const $=R.members.filter(C=>C!==M),D=A.map((C,k)=>({b:C,pos:sa[k]})).filter(C=>$.includes(C.b));if(new Set(D.map(C=>C.b)).size===2){const[C,k]=D.map(K=>K.pos).sort((K,F)=>["시","일","월","연"].indexOf(K)-["시","일","월","연"].indexOf(F));Be(f.jijiHyeong,`#${v}X${C}X${k}_${R.name}삼형`),R.name==="인사신"&&(g=!0),R.name==="축술미"&&(b=!0)}}}{const v=[],S=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[_,T]of S){const M=Jt(T??"");M.length>=2&&v.push({kind:_,b:la(M)})}if(v.length>=2){const _=s.map((T,M)=>({pos:sa[M],b:la(T)}));for(const T of qx)for(let M=0;M<v.length;M++)for(let A=M+1;A<v.length;A++){const O=v[M],R=v[A];for(const $ of _){const D=new Set([$.b,O.b,R.b]);if(D.size===3&&T.members.every(C=>D.has(C))){const C=[O.kind,R.kind].sort((K,F)=>Vx.indexOf(K)-Vx.indexOf(F)).join("X"),k=`${$.pos}X${C}`;Be(f.jijiHyeong,`#${k}_${T.name}삼형`),T.name==="인사신"&&(g=!0),T.name==="축술미"&&(b=!0)}}}}}return(g||b)&&(f.jijiHyeong=f.jijiHyeong.filter(v=>!(g&&/(인신상형|인사상형|사신상형)/.test(v)||b&&/(축술상형|술미상형|축미상형)/.test(v)))),oS(f)}function S5(t,r){const s=t.map(Jt).map(g=>la(g)),c=$d.month,d=s[c],f=g=>{const b=[];for(let v=0;v<4;v++){const S=s[v];S&&g.has(S)&&b.push(v)}return b},m=g=>{const b=[...g].sort((v,S)=>v-S);return b.length===3&&b[0]+1===b[1]&&b[1]+1===b[2]};for(const g of th){const b=new Set(g.members),v=f(b);if(v.length===3){const S=v.includes(c),_=d===g.wang;S?m(v)?r[g.out]+=_?10:8:r[g.out]+=5:r[g.out]+=3}if(v.length===2&&v.includes(c)){const S=v[0]===c?v[1]:v[0],_=d===g.wang;S===$d.day&&_?r[g.out]+=8:S===$d.year&&_?r[g.out]+=6:S===$d.hour&&(r[g.out]+=_?4:2)}}for(const g of eh){const b=new Set(g.members),v=f(b);if(v.length===3){const S=v.includes(c),_=d===g.wang;S?m(v)?r[g.out]+=_?8:6:r[g.out]+=4:r[g.out]+=2}}}function Kx(t){const r=["연","월","일","시"],a=t.map(Jt),s=a.map(m=>Af(m)),c=a.map(m=>la(m)),d=new Map,f=new Map;for(let m=0;m<4;m++){const g=s[m],b=c[m];g.includes(g)&&d.set(g,[...d.get(g)??[],m]),b.includes(b)&&f.set(b,[...f.get(b)??[],m])}return{stemsByPos:s,brsByPos:c,stemPos:d,brPos:f,names:r}}function Me(t){return sa[t]}function Cn(t,r){r&&(t.includes(r)||t.push(r))}function w5(t,r){const a=Kx(t),s=Kx(r),c={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let m=0;m<4;m++){const g=a.stemsByPos[m],b=a.brsByPos[m];for(let v=0;v<4;v++){const S=s.stemsByPos[v],_=s.brsByPos[v],T=We(ag,g,S);T&&Cn(c.천간합,`${Me(m)}X${Me(v)} ${T}`);const M=We(og,g,S);M&&Cn(c.천간충,`${Me(m)}X${Me(v)} ${M}`);const A=We(sg,b,_);A&&Cn(c.지지육합,`${Me(m)}X${Me(v)} ${A}`);const O=We(lg,b,_);O&&Cn(c.지지충,`${Me(m)}X${Me(v)} ${O}`);const R=We(cg,b,_);R&&Cn(c.지지파,`${Me(m)}X${Me(v)} ${R}`);const $=We(ug,b,_);$&&Cn(c.지지해,`${Me(m)}X${Me(v)} ${$}`);const D=We(dg,b,_);D&&Cn(c.지지원진,`${Me(m)}X${Me(v)} ${D}`);const C=We(fg,b,_);C&&Cn(c.지지귀문,`${Me(m)}X${Me(v)} ${C}`);const K=We([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],b,_);K&&Cn(c.암합,`${Me(m)}X${Me(v)} ${K}`);const F=`${g}${_}`,tt=`${S}${b}`;qc.has(F)&&Cn(c.간지암합,`${Me(m)}X${Me(v)} ${F}암합`),qc.has(tt)&&Cn(c.간지암합,`${Me(v)}X${Me(m)} ${tt}암합`);const et=We(hg,b,_);if(et)Cn(c.지지형,`${Me(m)}X${Me(v)} ${et}`);else{const it=We(mg,b,_);it&&Cn(c.지지형,`${Me(m)}X${Me(v)} ${it}`)}}}const d=new Set(a.brsByPos.filter(Boolean)),f=new Set(s.brsByPos.filter(Boolean));for(const m of th){if(m.members.every(v=>d.has(v)||f.has(v))){const v=m.members.filter(_=>d.has(_)).length,S=m.members.filter(_=>f.has(_)).length;v>=1&&S>=1&&Cn(c.지지삼합,`${m.name}삼합`)}const b=m.members.filter(v=>d.has(v)||f.has(v));if(b.length===2&&b.includes(m.wang)){const v=b.some(_=>d.has(_)),S=b.some(_=>f.has(_));if(v&&S){const[_,T]=b.sort(),M=a.brPos.get(_)?.[0]??a.brPos.get(T)?.[0],A=s.brPos.get(_)?.[0]??s.brPos.get(T)?.[0];M!=null&&A!=null&&Cn(c.지지반합,`${Me(M)}X${Me(A)} ${_}${T}반합`)}}}for(const m of eh)if(m.members.every(b=>d.has(b)||f.has(b))){const b=m.members.filter(S=>d.has(S)).length,v=m.members.filter(S=>f.has(S)).length;b>=1&&v>=1&&Cn(c.지지방합,`${m.name}방합`)}return Object.keys(c).forEach(m=>c[m].sort()),c}function Mc(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ci({label:t,natal:r,dae:a,se:s,wol:c,il:d}){const f=a.length+s.length+c.length+d.length>0,m=r.length>0?r:["#없음"],g=f?m.filter(S=>S!=="#없음"):m,v=g.some(S=>S!=="#없음")||a.length>0||s.length>0||c.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return y.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[y.jsx("div",{className:v,children:t}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.map((S,_)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(S,"natal"),children:S},`natal-${_}`)),a.map((S,_)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(S,"dae"),children:S},`dae-${_}`)),s.map((S,_)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(S,"se"),children:S},`se-${_}`)),c.map((S,_)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(S,"wol"),children:S},`wol-${_}`)),d.map((S,_)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Mc(S,"il"),children:S},`il-${_}`))]})]})}function yp(t){return Array.isArray(t)?t:[]}function Hd(t,r){const a=new Set(yp(t));return yp(r).filter(c=>!a.has(c))}function T5({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:c,tab:d="원국"}){const f=lS(t),m=Vs({natal:t}),g=r?Vs({natal:t,daewoon:r}):m,b=a?Vs({natal:t,daewoon:r,sewoon:a}):g,v=s?Vs({natal:t,daewoon:r,sewoon:a,wolwoon:s}):b,S=c?Vs({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:c}):v,_=A=>({natal:yp(f[A]),dae:Hd(m[A],g[A]),se:Hd(g[A],b[A]),wol:Hd(b[A],v[A]),il:Hd(v[A],S[A])}),T={cheonganHap:_("cheonganHap"),cheonganChung:_("cheonganChung"),jijiSamhap:_("jijiSamhap"),jijiBanghap:_("jijiBanghap"),jijiYukhap:_("jijiYukhap"),amhap:_("amhap"),ganjiAmhap:_("ganjiAmhap"),jijiChung:_("jijiChung"),jijiHyeong:_("jijiHyeong"),jijiPa:_("jijiPa"),jijiHae:_("jijiHae")},M=A=>d==="원국"?{natal:A.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:A.natal,dae:A.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:A.natal,dae:A.dae,se:A.se,wol:[],il:[]}:d==="월운"?{natal:A.natal,dae:A.dae,se:A.se,wol:A.wol,il:[]}:d==="일운"?{natal:A.natal,dae:A.dae,se:A.se,wol:A.wol,il:A.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),y.jsx(ci,{label:"천간합",...M(T.cheonganHap)}),y.jsx(ci,{label:"천간충",...M(T.cheonganChung)}),y.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),y.jsx(ci,{label:"지지삼합",...M(T.jijiSamhap)}),y.jsx(ci,{label:"지지방합",...M(T.jijiBanghap)}),y.jsx(ci,{label:"지지육합",...M(T.jijiYukhap)}),y.jsx(ci,{label:"암합",...M(T.amhap)}),y.jsx(ci,{label:"간지암합",...M(T.ganjiAmhap)}),y.jsx(ci,{label:"지지충",...M(T.jijiChung)}),y.jsx(ci,{label:"지지형",...M(T.jijiHyeong)}),y.jsx(ci,{label:"지지파",...M(T.jijiPa)}),y.jsx(ci,{label:"지지해",...M(T.jijiHae)})]})}const E5={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},M5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function cS(t){const r=M5[t]??"목";return E5[r]}const uS={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},N5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},iu={목:"화",화:"토",토:"금",금:"수",수:"목"},Fc={화:"목",토:"화",금:"토",수:"금",목:"수"},hl={목:"토",화:"금",토:"수",금:"목",수:"화"},A5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],D5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function pg(t){return Math.max(0,Math.min(100,t))}function sl(t,r,a){return Math.max(r,Math.min(a,t))}function j5(t){const r=pg(t);return A5.find(a=>r>=a.min&&r<a.max)?.name??"중화"}function k5(t){const r=t?.[2]?.charAt(0)??"";return uS[r]??null}function O5(t){return(t?.[1]?.charAt(1)??"")||null}function nh(t){const r=Object.entries(hl);for(const[a,s]of r)if(s===t)return a;return"토"}function C5(t){return t?{peer:t,resource:Fc[t],leak:iu[t],wealth:hl[t],officer:nh(t)}:null}function L5(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=a.charAt(0),c=a.charAt(1),d=uS[s],f=N5[c];d&&(r[d]+=10),f&&(r[f]+=6)}return r}function B5(t){const r=Object.values(t).reduce((s,c)=>s+c,0);if(r<=0)return{목:20,화:20,토:20,금:20,수:20};const a={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(s=>{a[s]=t[s]/r*100}),a}function R5(t){if(!t||t.length===0)return null;const r=t.reduce((s,c)=>s+(c?.value??0),0)||0;if(r<=0)return null;const a=s=>t.find(c=>c.name===s)?.value??0;return pg((a("비겁")+a("인성"))/r*100)}function P5(t,r){return!t||!r?null:r===t?"비겁":iu[t]===r?"식상":hl[t]===r?"재성":nh(t)===r?"관성":Fc[t]===r?"인성":null}const C0=24,z5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function $5(t){for(const[r,a]of z5)if(t>=r)return a;return 1}const Df=20,Xx=(t,r)=>sl((Df-(r[t]??0))/Df,0,1),Wx=(t,r)=>sl(((r[t]??0)-Df)/Df,0,1);function H5(t,r,a,s){const c=P5(t,a);if(!t||!c)return 0;const d=sl((50-r)/50,0,1),f=sl((r-50)/50,0,1),m=Xx(a,s),g=Wx(a,s),b=Xx(t,s),v=Wx(t,s),S=6.5;let _=0;if(d>0)switch(c){case"인성":_=+(.3+.4*b+.15*m)*d;break;case"비겁":_=+(.18+.45*b)*d;break;case"관성":_=-(.08+.2*(1-m)+.1*v)*d;break;case"재성":_=-(.22+.25*(1-m)+.1*(1-b))*d;break;case"식상":_=-(.35+.25*(1-m)+.1*(1-b))*d;break}else if(f>0)switch(c){case"인성":_=-(.25+.25*(1-m)+.2*v)*f;break;case"비겁":_=-(.28+.2*v)*f;break;case"관성":_=+(.18+.2*m+.15*v)*f;break;case"재성":_=+(.22+.25*m+.1*v)*f;break;case"식상":_=+(.2+.2*m)*f;break}else switch(c){case"인성":_=.08*(b+m);break;case"비겁":_=.05*b-.03*v;break;case"관성":_=.02*m-.02*g;break;case"재성":_=.01*m-.06*g;break;case"식상":_=-.05*(1-m);break}return Math.round(S*_*10)/10}function I5(t,r,a,s){const c=["중화신강","태강","극태강"].includes(r),d=["극약","태약","신약","중화신약"].includes(r),f={목:0,화:0,토:0,금:0,수:0};if(c){const m=iu[t],g=hl[t],b=nh(t);f[m]+=28,f[g]+=22,f[b]+=20,s.get(m)?.push("억부: 일간 강 → 설기(식상)"),s.get(g)?.push("억부: 일간 강 → 재성 누설"),s.get(b)?.push("억부: 일간 강 → 관성 절제")}if(d){const m=Fc[t],g=t;f[m]+=28,f[g]+=22,s.get(m)?.push("억부: 일간 약 → 인성 보강"),s.get(g)?.push("억부: 일간 약 → 비겁 보강")}return f}function Qx(t,r){if(!t)return{목:0,화:0,토:0,금:0,수:0};const a=D5[t]??{temp:"mild",wet:"normal"},s={목:0,화:0,토:0,금:0,수:0};return a.temp==="cold"?(s.화+=16,s.토+=6,r.get("화")?.push("조후: 한랭 → 화"),r.get("토")?.push("조후: 한랭습 보조")):a.temp==="hot"&&(s.수+=14,s.금+=6,r.get("수")?.push("조후: 염열 → 수"),r.get("금")?.push("조후: 제열 보조")),a.wet==="wet"?(s.토+=8,s.화+=4,r.get("토")?.push("조후: 습 → 토"),r.get("화")?.push("조후: 습냉 가온")):a.wet==="dry"&&(s.수+=8,s.목+=4,r.get("수")?.push("조후: 건조 → 수"),r.get("목")?.push("조후: 생발 보조")),s}function Jx(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=["목","화","토","금","수"];for(const c of s){const d=hl[c],f=Math.max(0,(t[c]??0)-(t[d]??0));if(f<=0)continue;const m=iu[c],g=Math.round(f*.35);g>0&&(a[m]+=g,r.get(m)?.push(`통관: ${c}극${d} 완화`))}return a}function t_(t,r){const a={목:0,화:0,토:0,금:0,수:0},s=Object.entries(t),c=Math.min(...s.map(([,f])=>f)),d=s.filter(([,f])=>f<=Math.max(6,c));for(const[f]of d)a[f]+=12,r.get(f)?.push("병약: 결핍 보충");return a}function e_(t,r){const a=k5(t),s=O5(t),c=L5(t),d=B5(c);let f=R5(r);if(f==null)if(!a)f=50;else{const q=a,I=Fc[a],Q=Object.values(c).reduce((nt,at)=>nt+at,0)||1;f=pg(((c[q]??0)+(c[I]??0))/Q*100)}const m=j5(f),g={목:0,화:0,토:0,금:0,수:0},b=new Map(["목","화","토","금","수"].map(q=>[q,[]]));if(a){const q=I5(a,m,c,b);Object.keys(g).forEach(I=>{g[I]+=q[I]??0})}const v=Qx(s,b);Object.keys(g).forEach(q=>{g[q]+=v[q]??0});const S=Jx(c,b);Object.keys(g).forEach(q=>{g[q]+=S[q]??0});const _=t_(c,b);Object.keys(g).forEach(q=>{g[q]+=_[q]??0});const T=C5(a),M={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(r))for(const q of r)M[q.name]=q.value;if(f>=45&&f<=55&&T){const q=M.관성>=30||M.관성>=Math.max(M.비겁,M.식상,M.재성,M.인성)+5;f<=50?(g[T.resource]+=14,b.get(T.resource)?.push("밸런스: 중화-약측"),g[T.peer]+=10,b.get(T.peer)?.push("밸런스: 중화-약측"),g[T.leak]+=6,b.get(T.leak)?.push("밸런스: 중화-약측"),g[T.wealth]+=3,b.get(T.wealth)?.push("밸런스: 중화-약측"),q&&T.officer&&(g[T.officer]=Math.round(g[T.officer]*.8*10)/10,b.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(g[T.leak]+=14,b.get(T.leak)?.push("밸런스: 중화-강측"),g[T.wealth]+=10,b.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(g[T.officer]+=6,b.get(T.officer)?.push("밸런스: 중화-강측")),g[T.resource]+=3,b.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(q=>{const I=H5(a,f,q,d);g[q]=sl(Math.round((g[q]+I)*10)/10,0,999)});const O=f<50;["목","화","토","금","수"].forEach(q=>{const I=d[q]??0,Q=O&&a===q;if(I>=C0&&!Q){const nt=$5(I);g[q]=Math.round(g[q]*nt*10)/10;const at=Math.min(14,Math.max(0,Math.ceil((I-C0)*.5)));at>0&&(g[q]=sl(g[q]-at,0,999)),b.get(q)?.push("강과 패널티(강화)")}});const R={목:[],화:[],토:[],금:[],수:[]};if(a){const q=iu[a],I=hl[a],Q=nh(a),nt=a,at=Fc[a];R[q].push("식상"),R[I].push("재성"),R[Q].push("관성"),R[nt].push("비겁"),R[at].push("인성")}const $={목:(c.목??0)>0,화:(c.화??0)>0,토:(c.토??0)>0,금:(c.금??0)>0,수:(c.수??0)>0},D=q=>{const I=d[q]??0;return I>=C0&&!(O&&a===q)?I>=55?4:I>=45?3:2:$[q]?0:1},C=Qx(s,new Map),k=Jx(c,new Map),K=t_(c,new Map),F=Object.keys(g).map(q=>({element:q,score:Math.round(g[q]*10)/10,via:G5(q,C,k,K),reasons:(b.get(q)??[]).slice(),tenGodHints:R[q]})).sort((q,I)=>{const Q=D(q.element),nt=D(I.element);return Q!==nt?Q-nt:I.score!==q.score?I.score-q.score:q.element.localeCompare(I.element)}),tt=U5(m,C,k,K),et={비겁:0,식상:0,재성:0,관성:0,인성:0},it=r?r.reduce((q,I)=>(q[I.name]=I.value,q),{...et}):void 0;return{chosenType:tt,ordered:F,debug:{band:m,overallPct:f,elementScore:c,tenGodTotals:it,monthBranch:s??void 0}}}function G5(t,r,a,s){const c=[];return(r[t]??0)>0&&c.push("조후"),(a[t]??0)>0&&c.push("통관"),(s[t]??0)>0&&c.push("병약"),c.length===0&&c.push("억부"),c}function U5(t,r,a,s){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=b=>Object.values(b).reduce((v,S)=>v+S,0),f=d(r),m=d(a),g=d(s);return f>Math.max(m,g)?"조후":m>=g?"통관":"병약"}const Z5=Object.fromEntries(Nr.천간.map((t,r)=>[t,Kn[r]])),Y5=Object.fromEntries(Kn.map((t,r)=>[t,Nr.천간[r]])),q5=Object.fromEntries(Nr.지지.map((t,r)=>[t,or[r]])),F5=Object.fromEntries(or.map((t,r)=>[t,Nr.지지[r]])),V5=t=>Z5[t]??t,K5=t=>q5[t]??t,X5=t=>Y5[t]??t,W5=t=>F5[t]??t;function Q5(t){const r={...t};for(const a of Object.keys(t)){const s=/[甲乙丙丁戊己庚辛壬癸]/.test(a)?V5(a):X5(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}function gg(t){const r={...t};for(const a of Object.keys(t)){const s=/[子丑寅卯辰巳午未申酉戌亥]/.test(a)?K5(a):W5(a);s&&r[s]===void 0&&(r[s]=t[a])}return r}const J5={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},t9={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},dS={자:[{stem:"계",ratio:1,main:!0}],子:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],丑:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],寅:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],卯:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],辰:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],午:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],未:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],酉:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],戌:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}],亥:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},e9={...dS,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],寅:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],午:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],巳:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],申:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},n_=Q5(J5),r_=gg(t9);gg(dS);gg(e9);const n9=["원국","대운","세운","월운","일운"],qe={2:4,1:3,3:2,0:1};function Id(t,r,a="classic"){const s=Sr(r),c=Re(r),d=(a==="hgc"?Gf:If)[c]??[];return[s,...d].includes(t)}const Ws={1:4,2:3,0:2,3:1},fS=new Set(Object.keys(Hf)),hS=new Set(Object.keys(Mp)),r9=t=>t.slice(0,1),i9=t=>t.slice(-1);function ca(t){return $f.has(t)?t:fS.has(t)?Hf[t]??t:t}function Ln(t){return Ep.has(t)?t:hS.has(t)?Mp[t]??t:t}function Sr(t){return ca(r9(t))}function Re(t){return Ln(i9(t))}const xt={year:0,month:1,day:2,hour:3};function L0(t,r){const a=Ln(t),s=[xt.day,xt.month,xt.hour,xt.year];for(const c of s)if(Re(r[c])===a)return{pos:c,weight:qe[c]??0};return null}function bg(t,r,a){return Re(r[a])===Ln(t)?{pos:a,weight:qe[a]}:null}function a9(t,r){const a=ca(t),s=[xt.day,xt.month,xt.hour,xt.year];for(const c of s)if(Sr(r[c])===a)return{pos:c,weight:qe[c]??0};return null}const o9=/^#(연지|월지|일지|시지)X\1_/,s9=t=>o9.test(t);function i_(t){const r=new Map;for(const a of t){if(s9(a.name))continue;const s=`${a.name}@${a.pos}`,c=r.get(s);(!c||a.weight>c.weight)&&r.set(s,a)}return Array.from(r.values()).sort((a,s)=>s.weight!==a.weight?s.weight-a.weight:a.name.localeCompare(s.name,"ko"))}function Gd(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const Jo=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",ml=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",l9=(t,r)=>`#일간X${Jo(r)}_${t}`,mS=(t,r)=>r===xt.month?`#월지_${t}`:`#월지X${Jo(r)}_${t}`,tl=(t,r,a)=>`#${Jo(r)}X${Jo(a)}_${t}`,c9=(t,r)=>`#${t==="day"?"일간":"연간"}X${Jo(r)}_공망`,Ni=t=>`#일주_${t}`,Ud=(t,r)=>`#${Jo(r)}_${t}`,Zs=(t,r)=>`#일간X${ml(r)}_${t}`,Nc=(t,r)=>`#월지X${ml(r)}_${t}`,B0=(t,r,a)=>`#${ml(r)}X${Jo(a)}_${t}`,u9=(t,r)=>`#${r==="day"?"일간":"연간"}X${ml(t)}_공망`,d9=(t,r)=>`#${r==="day"?"일지":"연지"}X${ml(t)}_삼재`,a_=(t,r)=>`#연지X${ml(t)}_${r}`;function f9(t){if(!t)return null;const r=Array.from(String(t));let a=null,s=null;for(const c of r)!a&&($f.has(c)||fS.has(c))&&(a=ca(c)),(Ep.has(c)||hS.has(c))&&(s=Ln(c));return a&&s?{stem:a,branch:s}:null}function R0(t){return t.map(Re)}const Fe=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Ln(r),(Array.isArray(a)?a:[a]).map(Ln)])),h9=Fe({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),pS=Fe({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),m9=Fe({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),p9=Fe({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),g9=Fe({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),gS=Fe({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),b9=Fe({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),y9=Fe({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),v9=Fe({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),x9=Fe({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),_9=Fe({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),bS=Fe({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),S9=Fe({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),w9=Fe({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),T9=Fe({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),E9=Fe({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),M9=Fe({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),N9=Fe({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),yS=Fe({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),A9=bS,D9=pS,j9=yS,k9=Fe({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),O9=gS,C9=Fe({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),L9=Fe({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),B9=Fe({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),vS=t=>(Array.isArray(t)?t:String(t).split("·")).map(r=>Ln(r.trim())).filter(Boolean),Xr=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Ln(r),(Array.isArray(a)?a:[a]).map(s=>Ln(s))])),o_={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},s_={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},l_={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},c_={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},R9=Xr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),u_=Xr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),rh=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[Ln(r),vS(a)])),P9=rh({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),z9=rh({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),$9=rh({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),H9=rh({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),I9=Xr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),G9=Xr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),U9=Xr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),Z9=Xr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),Y9=Xr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),d_=Xr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),q9=Xr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),F9=Xr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),V9=Xr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),K9=Xr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),Ge=t=>Object.fromEntries(Object.entries(t).map(([r,a])=>[ca(r),vS(a)])),X9=Ge({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),f_=Ge({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),W9=Ge({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),Q9=Ge({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),J9=Ge({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),t4=Ge({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),e4=Ge({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),h_=Ge({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),n4=Ge({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),r4=Ge({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),i4=Ge({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),a4=Ge({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),o4=Ge({갑:"인",을:"묘",병:"사",정:"오",무:"사",기:"오",경:"신",신:"유",임:"해",계:"자"}),m_=Ge({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),s4=Ge({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),l4=Ge({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),p_=Ge({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),c4=Ge({갑:"인",정:"사",무:"신",신:"해"}),u4=Ge({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),g_=Ge({정:"축·미",신:"묘·유",계:"사·해"}),b_=Ge({병:"자·오",무:"인·신",임:"진·술"}),d4=Ge({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),y_=Ge({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),v_=Ge({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),P0=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],z0=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],f4=new Set(["인미","미인","묘신","신문"]),x_=[["술","해"],["진","사"]],h4=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function Ac(t,r,a){const s=Ln(r),c=Ln(a);for(const[d,f]of t)if(d===s&&f===c||d===c&&f===s)return!0;return!1}function __(t,r,a){const s=Ln(r),c=Ln(a);for(const[d,f]of t)if(d===s&&f===c||d===c&&f===s)return`${d}${f}`;return`${s}${c}`}function Zd(t){for(const r of h4)if(r.set.has(t))return r.voids;return null}function $0(t){const r=Ln(t),a=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const s of a)if(s.group.has(r))return Array.from(s.years);return null}function au(t,r){t.push(r)}function H0(t,r,a,s,c=0){const d=Ws[a]>=Ws[s]?a:s,f=tl(r,a,s);t.push({name:f,weight:qe[d]+c,pos:d})}function Pe(t,r,a,s,c){const d=Re(t[xt.year]),f=r[d];if(!f)return;const m=a==="MONTH"?[xt.month]:a==="DAY"?[xt.day]:a==="HOUR"?[xt.hour]:[xt.year,xt.month,xt.day,xt.hour];for(const g of f)for(const b of m){const v=bg(g,t,b);v&&au(c,{name:tl(s,xt.year,b),weight:v.weight,pos:b})}}function Yd(t,r,a,s){const c=Re(t[xt.month]),d=r[c];if(!d)return;const f=ca(d),m=a9(f,t);m&&au(s,{name:mS(a,m.pos),weight:m.weight,pos:m.pos})}function _r(t,r,a,s,c="ALL"){const d=Re(t[xt.month]),f=r[d];if(!f)return;const m=c==="YEAR"?[xt.year]:c==="DAY"?[xt.day]:c==="HOUR"?[xt.hour]:c==="DAY_HOUR"?[xt.day,xt.hour]:[xt.year,xt.month,xt.day,xt.hour];for(const g of f)for(const b of m){const v=bg(g,t,b);if(!v)continue;const S=b===xt.month?`#월지_${a}`:mS(a,b);au(s,{name:S,weight:v.weight,pos:b})}}function qd(t,r,a,s){const c=Re(t[xt.month]),d=r[c];if(!d)return;const f=t[xt.day];d.includes(f)&&au(s,{name:tl(a,xt.month,xt.day),weight:qe[xt.day],pos:xt.day})}function Le(t,r,a,s,c){const d=Sr(t[xt.day]),f=r[d];if(!f)return;const m=c==="DAY"?[xt.day]:c==="HOUR"?[xt.hour]:[xt.year,xt.month,xt.day,xt.hour];for(const g of f)for(const b of m){const v=bg(g,t,b);v&&au(s,{name:l9(a,b),weight:v.weight,pos:b})}}function Lc({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:c,basis:d}){const f=Sr(t[xt.day]),m=Re(t[xt.day]),g=Re(t[xt.month]),b=Re(t[xt.year]),v=R0(t),S=[],_=[],T=new Set(["경진","임진","경술","무술"]);if(Pe(t,h9,"MONTH","태백",_),Pe(t,pS,"DAY","오귀",_),Pe(t,p9,"MONTH","고신",_),Pe(t,g9,"MONTH","과숙",_),Pe(t,b9,"ALL","수옥",_),Pe(t,y9,"HOUR","단명",_),Pe(t,v9,"ALL","천모",_),Pe(t,x9,"ALL","지모",_),Pe(t,_9,"ALL","대모",_),Pe(t,bS,"ALL","소모",_),Pe(t,S9,"ALL","격각",_),Pe(t,w9,"ALL","파군",_),Pe(t,T9,"ALL","구신",_),Pe(t,E9,"ALL","교신",_),Pe(t,M9,"ALL","반음",_),Pe(t,N9,"ALL","복음",_),Pe(t,yS,"ALL","병부",_),Pe(t,A9,"ALL","사부",_),Pe(t,D9,"ALL","관부",_),Pe(t,j9,"ALL","태음",_),Pe(t,k9,"ALL","세파",_),Pe(t,O9,"ALL","천구",_),Pe(t,C9,"ALL","비염",_),Pe(t,L9,"ALL","매아",_),Pe(t,B9,"ALL","탕화",_),Yd(t,o_,"천덕귀인",S),Yd(t,s_,"월덕귀인",S),Yd(t,l_,"천덕합",S),Yd(t,c_,"월덕합",S),_r(t,R9,"혈지",_,"ALL"),_r(t,u_,"금쇄",_,"YEAR"),_r(t,u_,"금쇄",_,"DAY"),qd(t,P9,"천사",S),qd(t,z9,"천전살",_),qd(t,$9,"지전살",_),qd(t,H9,"진신",S),_r(t,I9,"급각살",_,"ALL"),_r(t,G9,"단교관살",_,"ALL"),_r(t,U9,"부벽살",_,"ALL"),_r(t,Z9,"욕분관살",_,"ALL"),_r(t,Y9,"사주관살",_,"ALL"),_r(t,d_,"천의성",S,"ALL"),_r(t,q9,"천희신",S,"DAY_HOUR"),_r(t,F9,"황은대사",S,"DAY_HOUR"),_r(t,V9,"홍란성",S,"ALL"),_r(t,K9,"장수성",S,"ALL"),Le(t,X9,"태극귀인",S,"ALL"),Le(t,f_,"천을귀인",S,"ALL"),Le(t,W9,"천주귀인",S,"ALL"),Le(t,Q9,"천관귀인",S,"ALL"),Le(t,J9,"천복귀인",S,"ALL"),Le(t,t4,"문창귀인",S,"ALL"),Le(t,e4,"암록",S,"ALL"),Le(t,h_,"금여록",S,"ALL"),Le(t,n4,"협록",S,"ALL"),Le(t,r4,"관귀학관",S,"ALL"),Le(t,i4,"문곡귀인",S,"ALL"),Le(t,a4,"학당귀인",S,"ALL"),Le(t,o4,"십간록",S,"ALL"),Le(t,m_,"홍염",_,"ALL"),Le(t,s4,"유하",_,"ALL"),Le(t,l4,"낙정관살",_,"ALL"),Le(t,p_,"효신살",_,"DAY"),Le(t,p_,"효신살",_,"HOUR"),Le(t,g_,"음착살",_,"DAY"),Le(t,g_,"음착살",_,"HOUR"),Le(t,b_,"양착살",_,"DAY"),Le(t,b_,"양착살",_,"HOUR"),Le(t,c4,"고란살",_,"DAY"),Le(t,u4,"비인살",_,"ALL"),Le(t,d4,"재고귀인",S,"ALL"),Le(t,y_,"양인살",_,"ALL"),T.has(t[xt.day])){_.push({name:Ni("괴강살"),weight:qe[xt.day],pos:xt.day});for(const j of[xt.year,xt.month,xt.hour])t[j]===t[xt.day]&&_.push({name:Ud("괴강살",j),weight:qe[j],pos:j})}const A=v_[f];if(A)for(const j of[xt.year,xt.month,xt.day,xt.hour]){const H=Sr(t[j]),Z=Re(t[j]);H===f&&A.includes(Z)&&_.push({name:Ud("백호대살",j),weight:qe[j],pos:j})}for(const[j,H]of x_){const Z=L0(j,t),J=L0(H,t);Z&&J&&H0(_,"천라지망",Z.pos,J.pos)}{const j=new Set(["갑","신"]),H=new Set(["묘","오","미","신"]);for(let Z=0;Z<=3;Z++){const J=Sr(t[Z]),V=Re(t[Z]);(j.has(J)||H.has(V))&&_.push({name:Ud("현침살",Z),weight:qe[Z],pos:Z})}}{const j=Sr(t[xt.day]),H=t[xt.hour],Z=(J,V)=>J.includes(j)&&V.includes(H);Z(["갑","기"],["임신","계유"])&&_.push({name:Ni("절로공망"),weight:qe[xt.hour],pos:xt.hour}),Z(["을","경"],["임오","계미"])&&_.push({name:Ni("절로공망"),weight:qe[xt.hour],pos:xt.hour}),Z(["병","신"],["임진","계사"])&&_.push({name:Ni("절로공망"),weight:qe[xt.hour],pos:xt.hour}),Z(["정","임"],["임인","계묘"])&&_.push({name:Ni("절로공망"),weight:qe[xt.hour],pos:xt.hour}),Z(["무","계"],["임자","계축"])&&_.push({name:Ni("절로공망"),weight:qe[xt.hour],pos:xt.hour})}{const j=R0(t);["자","오","묘","유"].every(Z=>j.includes(Z))&&S.push({name:Ni("편야도화"),weight:qe[xt.day],pos:xt.day})}{const j=t[xt.day],H=t[xt.hour];(j==="병자"&&H==="신묘"||j==="기묘"&&H==="갑자")&&_.push({name:tl("곤랑도화",xt.day,xt.hour),weight:qe[xt.hour],pos:xt.hour})}{const j=Re(t[xt.year]),H=new Set(R0(t).slice(1)),Z=(J,V)=>J.every(U=>H.has(U))&&j===V;(Z(["신","자","진"],"유")||Z(["인","오","술"],"묘")||Z(["사","유","축"],"묘")||Z(["해","묘","미"],"자"))&&S.push({name:Ni("도삽도화"),weight:qe[xt.day],pos:xt.day})}["임오","계사"].includes(t[xt.day])&&S.push({name:Ni("녹마동향"),weight:qe[xt.day],pos:xt.day});{const j=Sr(t[xt.day]),Z={갑:{rok:"인",group:["인","오","술"],ma:"신",maStem:"경"},을:{rok:"묘",group:["해","묘","미"],ma:"사",maStem:"병"},병:{rok:"사",group:["인","오","술"],ma:"해",maStem:"임"},정:{rok:"오",group:["인","오","술"],ma:"해",maStem:"경"},무:{rok:"사",group:["인","오","술"],ma:"해",maStem:"임"},기:{rok:"오",group:["해","묘","미"],ma:"해",maStem:"경"},경:{rok:"신",group:["신","자","진"],ma:"인",maStem:"갑"},신:{rok:"유",group:["사","유","축"],ma:"해",maStem:"임"},임:{rok:"해",group:["신","자","진"],ma:"사",maStem:"사"},계:{rok:"자",group:["해","묘","미"],ma:"인",maStem:"갑"}}[j],J=t.some(Y=>Re(Y)===Z.rok),U=Sr(t[xt.hour])===Z.maStem;J&&U&&S.push({name:tl("록마교치",xt.day,xt.hour),weight:qe[xt.hour],pos:xt.hour})}{const j=Sr(t[xt.day]),H=Re(t[xt.day]),Z=Re(t[xt.hour]),V={갑:{rok:"인",ma:"신",rokStem:"병",maStem:"임"},을:{rok:"묘",ma:"사",rokStem:"병",maStem:"임"},병:{rok:"사",ma:"해",rokStem:"임",maStem:"병"},정:{rok:"오",ma:"해",rokStem:"경",maStem:"병"},무:{rok:"사",ma:"해",rokStem:"임",maStem:"병"},기:{rok:"오",ma:"해",rokStem:"경",maStem:"병"},경:{rok:"신",ma:"인",rokStem:"갑",maStem:"경"},신:{rok:"유",ma:"해",rokStem:"임",maStem:"갑"},임:{rok:"해",ma:"사",rokStem:"사",maStem:"임"},계:{rok:"자",ma:"인",rokStem:"갑",maStem:"경"}}[j];if(V){const U=H===V.rok,Y=Z===V.ma,ht=Id(V.rokStem,t[xt.day],"classic")||Id(V.rokStem,t[xt.hour],"classic"),gt=Id(V.maStem,t[xt.day],"classic")||Id(V.maStem,t[xt.hour],"classic");U&&Y&&(ht||gt)&&S.push({name:tl("천록천마",xt.day,xt.hour),weight:qe[xt.hour],pos:xt.hour})}}{const j=new Set(["갑","병","정","임","자","진"]),H=t.map(Sr),Z=t.map(Re),J=H.concat(Z).filter(ht=>j.has(ht)).length,V=r?Sr(r):"",U=r?Re(r):"",Y=j.has(V)||j.has(U);(J>=4||J===3&&Y)&&_.push({name:Ni("평두살"),weight:qe[xt.day],pos:xt.day})}{const j=new Set(["을","기"]),H=new Set(["축","사"]);for(let Z=0;Z<=3;Z++){const J=Sr(t[Z]),V=Re(t[Z]);(j.has(J)||H.has(V))&&_.push({name:Ud("곡각살",Z),weight:qe[Z],pos:Z})}}{const j=[[xt.year,xt.month],[xt.year,xt.day],[xt.month,xt.day],[xt.month,xt.hour],[xt.day,xt.hour]];for(const[H,Z]of j){const J=Re(t[H]),V=Re(t[Z]);if(Ac(P0,J,V)){const U=__(P0,J,V);H0(_,`${U}원진`,H,Z)}}}{const j=[[xt.year,xt.month,0],[xt.month,xt.day,1],[xt.month,xt.hour,0],[xt.day,xt.hour,0]];for(const[H,Z,J]of j){const V=Re(t[H]),U=Re(t[Z]);if(Ac(z0,V,U)){const Y=__(z0,V,U),ht=(J?1:0)+(f4.has(V+U)?1:0);H0(_,`${Y}귀문`,H,Z,ht)}}}function O(j){const H=j.lastIndexOf("_");return H>=0?j.slice(H+1):j}const R=new Set(["현침살","곡각살"]);function $(j){return R.has(j)?!0:j.endsWith("원진")||j.endsWith("귀문")}function D(j){const H=new Map;for(const J of j){const V=O(J.name);H.has(V)||H.set(V,[]),H.get(V).push(J)}const Z=[];for(const[J,V]of H)if($(J))Z.push(...V);else{const U=V.sort((Y,ht)=>Ws[Y.pos]!==Ws[ht.pos]?Ws[ht.pos]-Ws[Y.pos]:ht.weight-Y.weight)[0];Z.push(U)}return Z}const C=Zd(t[xt.day]),k=Zd(t[xt.year]);{const j=(d?.voidBasis??"day")==="day"?C:k;if(j){const[H,Z]=j.map(Ln),J=[xt.year,xt.month,xt.day,xt.hour];for(const V of J){const U=Re(t[V]);(U===H||U===Z)&&_.push({name:c9(d?.voidBasis??"day",V),weight:qe[V],pos:V})}}}const K=D(i_(S)),F=D(i_(_)),tt={si:[],il:[],yeon:[],wol:[]},et={si:[],il:[],yeon:[],wol:[]};for(const j of K)tt[Gd(j.pos)].push(j.name);for(const j of F)et[Gd(j.pos)].push(j.name);const it=[],q=[],I=[],Q=[],nt=[],at=[],G=[],ot=[];function st(j,H){j.includes(H)||j.push(H)}function _t(j,H){const Z=f9(H);if(!Z)return;const J=Z.branch,V=Z.stem;let U,Y;switch(j){case"dae":U=it,Y=nt;break;case"se":U=q,Y=at;break;case"wol":U=I,Y=G;break;case"il":U=Q,Y=ot;break;default:return}ca(o_[g])===V&&st(U,Nc("천덕귀인",j)),ca(s_[g])===V&&st(U,Nc("월덕귀인",j)),ca(l_[g])===V&&st(U,Nc("천덕합",j)),ca(c_[g])===V&&st(U,Nc("월덕합",j)),d_[g]?.includes(J)&&st(U,Nc("천의성",j)),f_[f]?.includes(J)&&st(U,Zs("천을귀인",j)),h_[f]?.includes(J)&&st(U,Zs("금여록",j)),m_[f]?.includes(J)&&st(Y,Zs("홍염",j)),y_[f]?.includes(J)&&st(Y,Zs("양인살",j)),v_[f]?.includes(J)&&st(Y,Zs("백호대살",j)),j==="se"&&(m9[b]?.includes(J)&&st(Y,a_(j,"상문살")),gS[b]?.includes(J)&&st(Y,a_(j,"조객살")));for(const gt of v)if(Ac(x_,J,gt)){const Et=L0(gt,t)?.pos;Et!==void 0&&st(Y,B0("천라지망",j,Et));break}new Set(["갑","신"]).has(f)&&new Set(["묘","오","미","신"]).has(J)&&st(Y,Zs("현침살",j));const ht=(d?.voidBasis??"day")==="day"?C:k;ht&&(J===ht[0]||J===ht[1])&&st(Y,u9(j,d?.voidBasis??"day"));for(let gt=0;gt<=3;gt++){const Et=Re(t[gt]);Ac(P0,J,Et)&&st(Y,B0("원진",j,gt)),Ac(z0,J,Et)&&st(Y,B0("귀문",j,gt))}if(j==="se"){const gt=(d?.samjaeBasis??"day")==="day"?m:b,Et=gt?$0(gt):null;Et&&Et.includes(J)&&st(Y,d9(j,d?.samjaeBasis??"day"))}}return _t("dae",r??null),_t("se",a??null),_t("wol",s??null),_t("il",c??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const j={si:[],il:[],yeon:[],wol:[]};for(const H of K)j[Gd(H.pos)].push(H.name);return j})(),dae:it,se:q,wolun:I,ilun:Q},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const j={si:[],il:[],yeon:[],wol:[]};for(const H of F)j[Gd(H.pos)].push(H.name);return j})(),dae:nt,se:at,wolun:G,ilun:ot},meta:{voidPair:{day:Zd(t[xt.day])??void 0,year:Zd(t[xt.year])??void 0},samjaeYears:{day:$0(m)??void 0,year:$0(b)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function m4(t,r){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(r){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function p4({items:t,source:r}){const a=t.length>0?t:["#없음"];return y.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((s,c)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+m4(s,r),children:s},`${r}-${c}-${s}`))})}function S_({title:t,rows:r}){return y.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[y.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),r.map(a=>{const c=a.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return y.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[y.jsx("div",{className:c,children:a.label}),y.jsx(p4,{items:a.items.length>0?a.items:["#없음"],source:a.source})]},`${t}-${a.label}`)})]})}function g4({pillars:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:c,tab:d="원국"}){const[f,m]=B.useState("일공망"),[g,b]=B.useState("일삼재"),v=B.useMemo(()=>({voidBasis:f==="일공망"?"day":"year",samjaeBasis:g==="일삼재"?"day":"year"}),[f,g]),S=B.useMemo(()=>Lc({natal:t,daewoon:r,sewoon:a,wolwoon:s,ilwoon:c,basis:v}),[t,r,a,s,c,v]),{good:_,bad:T,meta:M}=S,A=et=>et.map(it=>it==="#없음"?it:`원국 ${it}`),O=(et,it)=>{const q=["natal"];return it==="원국"&&q.push("natal"),it==="대운"&&q.push("natal","dae"),it==="세운"&&q.push("natal","dae","se"),it==="월운"&&q.push("natal","dae","se","wol"),it==="일운"&&q.push("natal","dae","se","wol","il"),et.filter(I=>q.includes(I.source))},R=[{label:"시주",items:A(_.si),source:"natal"},{label:"일주",items:A(_.il),source:"natal"},{label:"월주",items:A(_.wol),source:"natal"},{label:"연주",items:A(_.yeon),source:"natal"},{label:"대운",items:_.dae,source:"dae"},{label:"세운",items:_.se,source:"se"},{label:"월운",items:_.wolun,source:"wol"},{label:"일운",items:_.ilun,source:"il"}],$=[{label:"시주",items:A(T.si),source:"natal"},{label:"일주",items:A(T.il),source:"natal"},{label:"월주",items:A(T.wol),source:"natal"},{label:"연주",items:A(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],D=O(R,d),C=O($,d),k=M.voidPair.day?`일공망(${M.voidPair.day.join("")})`:"일공망(—)",K=M.voidPair.year?`연공망(${M.voidPair.year.join("")})`:"연공망(—)",F=M.samjaeYears.day?`일삼재(${M.samjaeYears.day.join("·")})`:"일삼재(—)",tt=M.samjaeYears.year?`연삼재(${M.samjaeYears.year.join("·")})`:"연삼재(—)";return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),y.jsxs("select",{value:f,onChange:et=>m(et.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[y.jsx("option",{value:"일공망",children:k}),y.jsx("option",{value:"연공망",children:K})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),y.jsxs("select",{value:g,onChange:et=>b(et.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[y.jsx("option",{value:"일삼재",children:F}),y.jsx("option",{value:"연삼재",children:tt})]})]})]}),y.jsxs("div",{className:"desk:flex",children:[y.jsx(S_,{title:"신(神)",rows:D}),y.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),y.jsx(S_,{title:"살(殺)",rows:C})]})]})}const Zr={year:0,month:1,day:2,hour:3},xS={[Zr.year]:.3,[Zr.month]:.5,[Zr.day]:.3,[Zr.hour]:.3},_S={[Zr.year]:.15,[Zr.month]:.2,[Zr.day]:0,[Zr.hour]:.15},b4=t=>Ep.has(t)?t:Mp[t]??t,y4=t=>$f.has(t)?t:Hf[t]??t,v4=t=>typeof t=="string"&&t.length>=2?b4(t.slice(-1)):"",x4=t=>typeof t=="string"&&t.length>=1?y4(t.slice(0,1)):"",Xe=(t,r,a,s)=>({han:t,nan:r,jo:a,seup:s}),_4={해:Xe(2,0,.5,2),자:Xe(2,0,0,2),축:Xe(2,0,0,2),인:Xe(0,2,2,0),묘:Xe(0,2,2,0),진:Xe(0,2,1,2),사:Xe(0,2,2,.5),오:Xe(0,2,2,0),미:Xe(0,2,2,1),신:Xe(2,0,0,2),유:Xe(2,0,0,2),술:Xe(2,0,1,1)},S4={갑:Xe(0,1,1,0),을:Xe(0,1,1,0),병:Xe(0,2,2,0),정:Xe(0,2,2,0),무:Xe(0,0,1,0),기:Xe(0,0,0,1),경:Xe(1,0,0,1),신:Xe(1,0,0,1),임:Xe(2,0,0,2),계:Xe(2,0,0,2)},w_=t=>Math.max(0,Math.min(100,t));function T_(t,r){const a=Math.max(0,t),s=Math.max(0,r),c=a+s;return c<=0?50:s/c*100}function w4(t){let r=0,a=0,s=0,c=0;return[Zr.year,Zr.month,Zr.day,Zr.hour].forEach(d=>{const f=_4[v4(t[d])],m=S4[x4(t[d])],g=xS[d],b=_S[d];g>0&&f&&(r+=f.han*g,a+=f.nan*g,s+=f.jo*g,c+=f.seup*g),b>0&&m&&(r+=m.han*b,a+=m.nan*b,s+=m.jo*b,c+=m.seup*b)}),{han:r,nan:a,jo:s,seup:c}}function T4(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map(a=>typeof a=="string"?a:"")}function E4(t){const r=T4(t);return B.useMemo(()=>{const{han:a,nan:s,jo:c,seup:d}=w4(r),f=T_(a,s),m=T_(d,c);return{hanNanPct:w_(f),joSeupPct:w_(m),raw:{han:a,nan:s,jo:c,seup:d},weights:{branch:xS,stem:_S}}},[r])}function E_({label:t,percent:r,leftHint:a,midHint:s,rightHint:c}){const d=B.useMemo(()=>Math.max(0,Math.min(100,r)),[r]),f=[10,20,35,45,55,65,80];return y.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[y.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[y.jsx("span",{children:a}),y.jsx("span",{children:s}),y.jsx("span",{children:c})]}),y.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[f.map(m=>y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${m}%`},title:`${m}%`},m)),y.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),y.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),y.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),y.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function M4({natal:t}){const{hanNanPct:r,joSeupPct:a}=E4(t);return y.jsxs("div",{className:"flex gap-2",children:[y.jsx(E_,{label:"한난",percent:r,leftHint:"한",midHint:"중화",rightHint:"난"}),y.jsx(E_,{label:"조습",percent:a,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const N4=Object.fromEntries(Nr.천간.map((t,r)=>[t,Kn[r]])),A4=Object.fromEntries(Kn.map((t,r)=>[t,Nr.천간[r]])),D4=Object.fromEntries(Nr.지지.map((t,r)=>[t,or[r]])),j4=Object.fromEntries(or.map((t,r)=>[t,Nr.지지[r]])),k4=t=>N4[t]??t,O4=t=>D4[t]??t,C4=t=>A4[t]??t,L4=t=>j4[t]??t;function SS(t){const r={...t};for(const a of Object.keys(t)){if(a.length<2)continue;const s=a.charAt(0),c=a.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(s)||/[子丑寅卯辰巳午未申酉戌亥]/.test(c)?`${k4(s)}${O4(c)}`:`${C4(s)}${L4(c)}`;r[d]===void 0&&(r[d]=t[a])}return r}const wS={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},B4={...wS,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},R4=SS(wS),P4=SS(B4),z4={목:"화",화:"토",토:"금",금:"수",수:"목"},$4={화:"목",토:"화",금:"토",수:"금",목:"수"},H4={목:"토",화:"금",토:"수",금:"목",수:"화"},I4={목:"금",화:"수",토:"목",금:"화",수:"토"},G4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},U4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Z4=t=>G4[t]??t,Y4=t=>U4[t]??t;function TS(t){return!t||t.length<2?"":`${Z4(t[0])}${Y4(t[1])}`}const ES=t=>t&&t.length>=1?t[0]:"",MS=t=>t&&t.length>=2?t[1]:"";function NS(t){return{비겁:t,식상:z4[t],인성:$4[t],재성:H4[t],관성:I4[t]}}const AS={갑:["인","寅","묘","卯","자","子","해","亥"],을:["인","寅","묘","卯","자","子","해","亥"],병:["인","寅","묘","卯","오","午","사","巳"],정:["인","寅","묘","卯","오","午","사","巳"],무:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],기:["진","辰","술","戌","축","丑","미","未","오","午","사","巳"],경:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],신:["진","辰","술","戌","축","丑","미","未","신","申","유","酉"],임:["신","申","유","酉","해","亥","자","子"],계:["신","申","유","酉","해","亥","자","子"]};function q4(t,r){const a=(t??[]).slice(0,4).map(TS);if(a.length!==4||a.some(_=>_.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"목"};const s=ES(a[2]),c=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(_=>MS(_)),f={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},m=AS[s]??[],g=d[1];m.includes(g)&&(f.비겁.령=!0,f.인성.령=!0);const b=d[2];m.includes(b)&&(f.비겁.지=!0,f.인성.지=!0);const v=NS(c).비겁,S=r[v]??0;return f.비겁.세=S>=30,{flags:f,monthBranch:g,dayEl:c}}function F4(t,r){const a=(t??[]).slice(0,4).map(TS);if(a.length<3||a[0].length<2||a[1].length<2||a[2].length<2){const M={령:!1,지:!1,세:!1};return{flags:{비견:{...M},겁재:{...M},식신:{...M},상관:{...M},정재:{...M},편재:{...M},정관:{...M},편관:{...M},정인:{...M},편인:{...M}},monthBranch:"",dayEl:"목"}}const s=ES(a[2]),c=s==="갑"||s==="을"?"목":s==="병"||s==="정"?"화":s==="무"||s==="기"?"토":s==="경"||s==="신"?"금":"수",d=a.map(M=>MS(M)),f={령:!1,지:!1,세:!1},m={비견:{...f},겁재:{...f},식신:{...f},상관:{...f},정재:{...f},편재:{...f},정관:{...f},편관:{...f},정인:{...f},편인:{...f}},g=AS[s]??[],b=d[1];g.includes(b)&&(m.비견.령=!0,m.겁재.령=!0,m.정인.령=!0,m.편인.령=!0);const v=d[2];g.includes(v)&&(m.비견.지=!0,m.겁재.지=!0,m.정인.지=!0,m.편인.지=!0);const S=NS(c).비겁;return(r[S]??0)>=30&&(m.비견.세=!0,m.겁재.세=!0,m.정인.세=!0,m.편인.세=!0),{flags:m,monthBranch:b,dayEl:c}}const V4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},K4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},X4={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},W4={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},Q4=t=>V4[t]??t,J4=t=>K4[t]??t;function tO(t){return!t||t.length<2?"":`${Q4(t[0])}${J4(t[1])}`}function Uo(t){return n_[t]??n_[X4[t]??""]}function Zo(t){return r_[t]??r_[W4[t]??""]}const I0=["year","month","day","hour"],eO={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},nO={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},rO=new Set(["을","정","기","신","계"]),iO=new Set(["자","인","진","오","신","술"]),aO=new Set(["사","오","자","해"]),G0=t=>rO.has(t)?"음":"양",U0=t=>{const r=iO.has(t)?"양":"음";return aO.has(t)?r==="양"?"음":"양":r};function M_(t){const r=t.reduce((m,g)=>m+g,0);if(r<=0)return t.map(()=>0);const a=t.map(m=>m*100/r),s=a.map(m=>Math.floor(m+.5)),c=100-s.reduce((m,g)=>m+g,0);if(c===0)return s;const d=a.map((m,g)=>({i:g,frac:m-Math.floor(m+.5)})).sort((m,g)=>g.frac-m.frac),f=s.slice();if(c>0)for(let m=0;m<c;m++)f[d[m].i]+=1;else for(let m=0;m<-c;m++)f[d[d.length-1-m].i]-=1;return f}function oO(t,r){return t===0?r?1:.8:t===1?r?.6:.5:r?.3:.2}const Fd={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},jf={목:"화",화:"토",토:"금",금:"수",수:"목"},DS={화:"목",토:"화",금:"토",수:"금",목:"수"},Vc={목:"토",화:"금",토:"수",금:"목",수:"화"},sO={토:"목",금:"화",수:"토",목:"금",화:"수"};function Vd(t,r){return t===r?"왕":jf[r]===t?"상":jf[t]===r?"휴":Vc[t]===r?"수":Vc[r]===t?"사":"휴"}const no=t=>t&&t.length>=1?t[0]:"",Yo=t=>t&&t.length>=2?t[1]:"";function lO(t,r){const a=t.reduce((g,b)=>g+b,0);if(a<=0||r<=0)return new Array(t.length).fill(0);const s=t.map(g=>g/a*r),c=s.map(g=>Math.floor(g));let d=r-c.reduce((g,b)=>g+b,0);const f=s.map((g,b)=>({i:b,frac:g-Math.floor(g)})).sort((g,b)=>b.frac-g.frac),m=c.slice();for(let g=0;g<f.length&&d>0;g++)m[f[g].i]+=1,d-=1;return m}function N_(t,r){switch(t){case"비겁":return r;case"식상":return jf[r];case"재성":return Vc[r];case"관성":return sO[r];case"인성":return DS[r];default:return r}}function vp(t){const{pillars:r,dayStem:a,mode:s,debug:c,useHarmonyOverlay:d,criteriaMode:f,luck:m}=t,g=f==="modern"?eO:nO,b=s==="classic"?P4:R4,v={목:0,화:0,토:0,금:0,수:0},S={},_={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},T=(r??[]).slice(0,4).map(tO),M=T.length===4&&T[0]&&T[0].length>=2&&T[1]&&T[1].length>=2&&T[2]&&T[2].length>=2,A={totalsSub:{비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0},perStemAugBare:{},perStemAugFull:{}};if(!M){const U=["비겁","식상","재성","관성","인성"].map(Y=>({name:Y,value:0,color:"#999999"}));return{overlay:A,totals:U,perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},PerTenGodSub:{비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0},elementScoreRaw:v,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{목:0,화:0,토:0,금:0,수:0}}}const O=no(T[2]),R=a??O,$=R==="갑"||R==="을"?"목":R==="병"||R==="정"?"화":R==="무"||R==="기"?"토":R==="경"||R==="신"?"금":"수",D=[{val:0},{val:0},{val:0},{val:0}],C=[[],[],[],[]];for(const U of T){if(!U)continue;const Y=U.charAt(0),ht=U.charAt(1);S[Y]=(S[Y]??0)+50;const gt=_[ht];gt&&(S[gt]=(S[gt]??0)+50)}for(let U=0;U<4;U++){const Y=T[U];if(!Y||Y.length<2)continue;const ht=I0[U],gt=no(Y),Et=Yo(Y),Ct=g[ht],Pt=Uo(gt);Pt&&(v[Pt]+=Ct.stem,D[U]={stem:gt,el:Pt,pol:G0(gt),val:Ct.stem});const kt=Zo(Et);kt&&(v[kt]+=Ct.branch,C[U].push({el:kt,pol:U0(Et),val:Ct.branch}))}for(let U=0;U<4;U++){const Y=T[U];if(!Y||Y.length<2)continue;const ht=I0[U],gt=b[Y]??0;if(gt===0)continue;const Et=no(Y),Ct=Uo(Et);if(!Ct)continue;const Pt=g[ht].stem*gt;v[Ct]+=Pt,D[U].val+=Pt}for(let U=0;U<4;U++){const Y=T[U];if(!Y||Y.length<2)continue;const ht=Yo(Y),gt=Zo(ht);if(!gt)continue;const Et=g[I0[U]].branch,Ct=U0(ht);let Pt=0;const kt=[U];U-1>=0&&kt.push(U-1),U+1<=3&&kt.push(U+1),U-2>=0&&kt.push(U-2),U+2<=3&&kt.push(U+2);const Bt=Array.from(new Set(kt));for(const wt of Bt){if(!T[wt]||T[wt].length<2)continue;const At=no(T[wt]),Ut=Uo(At);if(!Ut||Ut!==gt)continue;const Yt=G0(At)===Ct,Vt=Math.abs(wt-U),vt=oO(Vt,Yt);Pt+=Et*vt}Pt!==0&&(v[gt]+=Pt,C[U].push({el:gt,pol:Ct,val:Pt}))}for(let U=0;U<4;U++){const Y=T[U];if(!Y||Y.length<2)continue;const ht=no(Y),gt=Uo(ht);if(!gt)continue;let Et=0;const Ct=Yo(T[U]),Pt=Zo(Ct);Pt&&(Et+=Fd[Vd(gt,Pt)]);const kt=U===0?[1]:U===3?[2]:[U-1,U+1];for(const wt of kt){const At=no(T[wt]),Ut=Uo(At);Ut&&(Et+=Fd[Vd(gt,Ut)])}const Bt=D[U].val;if(Bt!==0&&Et!==0){const wt=Math.round(Bt*(1+Et)*10)/10,At=wt-Bt;v[gt]+=At,D[U].val=wt}}for(let U=0;U<4;U++){const Y=T[U];if(!Y||Y.length<2)continue;const ht=Yo(Y),gt=Zo(ht);if(!gt)continue;let Et=0;const Ct=no(T[U]),Pt=Uo(Ct);Pt&&(Et+=Fd[Vd(gt,Pt)]);const kt=U===0?[1]:U===3?[2]:[U-1,U+1];for(const wt of kt){if(!T[wt]||T[wt].length<2)continue;const At=Yo(T[wt]),Ut=Zo(At);Ut&&(Et+=Fd[Vd(gt,Ut)])}const Bt=C[U].reduce((wt,At)=>wt+At.val,0);if(Bt!==0&&Et!==0){const At=Math.round(Bt*(1+Et)*10)/10-Bt;v[gt]+=At,C[U].length>0&&(C[U][0].val+=At)}}d&&S5(T,v);const k={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},K=[];if(!(!m||m.tab==="원국")){let U=function(Y,ht){const gt=Y?Jt(Y):"";if(!gt||gt.length<2)return;const Et=no(gt),Ct=Yo(gt),Pt=Uo(Et),kt=Zo(Ct),Bt=Math.max(1,(v.목??0)+(v.화??0)+(v.토??0)+(v.금??0)+(v.수??0)),wt=k[ht];if(Pt){const At=Math.round(Bt*wt.stem);v[Pt]+=At,K.push({stem:Et,el:Pt,pol:G0(Et),val:At})}if(kt){const At=Math.round(Bt*wt.branch);v[kt]+=At,K.push({el:kt,pol:U0(Ct),val:At})}};U(m.dae,"dae"),(m.tab==="세운"||m.tab==="월운"||m.tab==="일운")&&U(m.se,"se"),(m.tab==="월운"||m.tab==="일운")&&U(m.wol,"wol"),m.tab==="일운"&&U(m.il,"il")}const F={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(v).forEach(([U,Y])=>{const ht=Q(U,$);F[ht]+=Y});const tt=["비겁","식상","재성","관성","인성"],et=M_(tt.map(U=>F[U])),it=cS(R),q=tt.map((U,Y)=>({name:U,value:et[Y],color:it[U]})),I={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function Q(U,Y){return U===Y?"비겁":jf[Y]===U?"식상":Vc[Y]===U?"재성":Vc[U]===Y?"관성":DS[Y]===U?"인성":"비겁"}function nt(U,Y){switch(Q(U,$)){case"비겁":I.비견+=Y*.5,I.겁재+=Y*.5;break;case"식상":I.식신+=Y*.5,I.상관+=Y*.5;break;case"재성":I.정재+=Y*.5,I.편재+=Y*.5;break;case"관성":I.정관+=Y*.5,I.편관+=Y*.5;break;case"인성":I.정인+=Y*.5,I.편인+=Y*.5;break}}Object.entries(v).forEach(([U,Y])=>{Y>0&&nt(U,Y)});const at={비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}};for(const U of tt){const Y=q.find(kt=>kt.name===U)?.value??0,ht=at[U].a,gt=at[U].b,Et=I[ht]??0,Ct=I[gt]??0,Pt=Et+Ct;if(Pt>0){const kt=Math.floor(Y*Et/Pt+.5),Bt=Y-kt;at[U].aVal=kt,at[U].bVal=Bt}else at[U].aVal=Math.floor(Y/2+.5),at[U].bVal=Y-at[U].aVal}const{flags:G}=q4(T,v),ot={};D.forEach(U=>{if(U.stem&&U.el&&U.val){const Y=`${U.stem}${U.el}`;ot[Y]=(ot[Y]??0)+U.val}});for(let U=0;U<4;U++){const Y=T[U];if(!Y||Y.length<2)continue;const ht=Yo(Y),gt=_[ht],Et=Zo(ht);if(!gt||!Et)continue;const Ct=`${gt}${Et}`,Pt=C[U].reduce((kt,Bt)=>kt+Bt.val,0);ot[Ct]=(ot[Ct]??0)+Pt}const st=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],_t={};st.forEach(U=>{_t[U]=0}),tt.forEach(U=>{const Y=q.find(Bt=>Bt.name===U)?.value??0,ht=N_(U,$),gt=Object.entries(ot).filter(([Bt])=>Bt.endsWith(ht)),Et=gt.map(([Bt])=>Bt),Ct=gt.map(([,Bt])=>Bt),Pt=Math.max(0,Math.round(Y*10)),kt=lO(Ct.length?Ct:[1,1],Pt);if(Et.length===2)_t[Et[0]]=(kt[0]??Math.round(Pt/2))/10,_t[Et[1]]=(kt[1]??Pt-(kt[0]??0))/10;else if(Et.length===1)_t[Et[0]]=Pt/10;else{const Bt=ht==="목"?["갑목","을목"]:ht==="화"?["병화","정화"]:ht==="토"?["무토","기토"]:ht==="금"?["경금","신금"]:["임수","계수"],wt=Math.floor(Pt/2),At=Pt-wt;_t[Bt[0]]+=wt/10,_t[Bt[1]]+=At/10}});const j=["목","화","토","금","수"],H={목:0,화:0,토:0,금:0,수:0};for(const U of q){const Y=N_(U.name,$);H[Y]+=U.value}const Z=M_(j.map(U=>H[U])),J={목:Z[0],화:Z[1],토:Z[2],금:Z[3],수:Z[4]};return c&&console.log({elementScore:v,totals:q,perTenGod:at,perStemRaw:ot,perStemElementScaled:_t,elementPercent100:J}),{overlay:{totalsSub:I,perStemAugBare:ot,perStemAugFull:_t},totals:q,perTenGod:at,PerTenGodSub:I,stemScoreRaw:S,elementScoreRaw:v,deukFlags:G,perStemElement:ot,perStemElementScaled:_t,elementPercent100:J}}function cO(t){const r=t.reduce((m,g)=>m+g,0);if(r<=0)return t.map(()=>0);const a=t.map(m=>m*100/r),s=a.map(m=>Math.round(m));let d=100-s.reduce((m,g)=>m+g,0);const f=a.map((m,g)=>({i:g,f:m-Math.round(m)})).sort((m,g)=>g.f-m.f);for(let m=0;m<f.length&&d>0;m++)s[f[m].i]+=1,d-=1;return s}const A_=["목","화","토","금","수"];function uO(t,r){const a=[Jt(t[0]??""),Jt(t[1]??""),Jt(t[2]??""),Jt(t[3]??"")],{elementScoreRaw:s}=vp({pillars:a,criteriaMode:r?.criteriaMode??"modern",useHarmonyOverlay:r?.useHarmonyOverlay??!0,luck:void 0}),c=A_.map(m=>s[m]??0),d=cO(c),f={목:0,화:0,토:0,금:0,수:0};return A_.forEach((m,g)=>{f[m]=d[g]}),f}function jS(t,r){const a=uO(t,r),s=Jt(t[2]??"").charAt(0),d={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수",甲:"목",乙:"목",丙:"화",丁:"화",戊:"토",己:"토",庚:"금",辛:"금",壬:"수",癸:"수"}[s];if(!d)return 0;const f={화:"목",토:"화",금:"토",수:"금",목:"수"},m=a[d]??0,g=a[f[d]]??0;return m+g*.7}const Kd={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Xd={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Wd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},dO=["갑","병","무","경","임"];function D_(t){return dO.includes(t)}const fO={목:"화",화:"토",토:"금",금:"수",수:"목"},hO={목:"토",화:"금",토:"수",금:"목",수:"화"},mO={토:"목",금:"화",수:"토",목:"금",화:"수"},pO={화:"목",토:"화",금:"토",수:"금",목:"수"},xp={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},gO=["갑","을","병","정","무","기","경","신","임","계"],bO={natal:50,dae:30,se:20,wol:7,il:3};function kf(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Kd[r])return Kd[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Wd[r]??null;if(Xd[r])return Wd[Xd[r]]??null;const a=r.charAt(0);return Kd[a]?Kd[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Xd[a]?Wd[Xd[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Wd[a]??null:null}function yO(t,r){const a=xp[t],s=xp[r];if(!a||!s)return"비견";let c;s===a?c="비견":s===fO[a]?c="식신":s===hO[a]?c="편재":s===mO[a]?c="편관":s===pO[a]?c="편인":c="비견";const d=D_(t)===D_(r);switch(c){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function Of(t){const r=Object.entries(t),a=r.reduce((b,[,v])=>b+(v>0?v:0),0);if(a<=0)return Object.fromEntries(r.map(([b])=>[b,0]));const s=r.map(([b,v])=>[b,(v>0?v:0)*100/a]),c=s.map(([b,v])=>[b,Math.round(v)]);let d=c.reduce((b,[,v])=>b+v,0);const f=s.map(([b,v])=>[b,v-Math.round(v)]).sort((b,v)=>v[1]-b[1]),m=Object.fromEntries(c.map(([b,v])=>[b,v]));let g=0;for(;d<100&&g<f.length;)m[f[g][0]]+=1,d+=1,g+=1;return m}function j_(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,c]of Object.entries(t??{})){if(c<=0)continue;const d=kf(s);if(!d)continue;const f=yO(r,d);a[f]+=c}return Of(a)}function vO(t){return{비겁:{a:"비견",b:"겁재",aVal:t.비견,bVal:t.겁재},식상:{a:"식신",b:"상관",aVal:t.식신,bVal:t.상관},재성:{a:"정재",b:"편재",aVal:t.정재,bVal:t.편재},관성:{a:"정관",b:"편관",aVal:t.정관,bVal:t.편관},인성:{a:"정인",b:"편인",aVal:t.정인,bVal:t.편인}}}function k_(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const c=kf(a);c&&(r[c]=(r[c]??0)+s)}return r}function O_(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of gO){const c=xp[s],d=`${s}${c}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}function C_(t){const r=["목","화","토","금","수"],a={목:0,화:0,토:0,금:0,수:0};for(const s of r)typeof t[s]=="number"&&(a[s]=t[s]);return a}function xO(t,r){const a=r?.dae?Qd(r.dae):{},s=r?.se?Qd(r.se):{},c=r?.wol?Qd(r.wol):{},d=r?.il?Qd(r.il):{},f={},m=[{kind:"natal",bare:t},{kind:"dae",bare:a},{kind:"se",bare:s},{kind:"wol",bare:c},{kind:"il",bare:d}];for(const{kind:b,bare:v}of m){const S=bO[b];if(!v||Object.keys(v).length===0)continue;const _=Of(v);for(const[T,M]of Object.entries(_))f[T]=(f[T]??0)+M*S}const g=Object.values(f).reduce((b,v)=>b+v,0);if(g>0)for(const b of Object.keys(f))f[b]=f[b]/g*100;return f}function _O(t){if(!t)return[];const r=kf(t.charAt(0)),a=kf(t.charAt(1));return[r,a].filter(Boolean)}function Qd(t){const r=_O(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function kS(t){const{natal:r,tab:a,chain:s,hourKey:c="unified"}=t,d=[Jt(r[0]??""),Jt(r[1]??""),Jt(r[2]??""),Jt(r[3]??"")],f=d[2]?.charAt(0)??"",{hiddenStemMode:m,hiddenStem:g}=sp,b=m==="classic"?"classic":"hgc",v=s?{tab:a,dae:s.dae?Jt(s.dae):void 0,se:(a==="세운"||a==="월운"||a==="일운")&&s.se?Jt(s.se):void 0,wol:(a==="월운"||a==="일운")&&s.wol?Jt(s.wol):void 0,il:a==="일운"&&s.il?Jt(s.il):void 0}:{tab:a},S=vp({pillars:d,dayStem:f,mode:b,criteriaMode:"modern",useHarmonyOverlay:!0,luck:v}),_=vp({pillars:d,dayStem:f,mode:b,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"원국",dae:void 0,se:void 0,wol:void 0,il:void 0}}),T=k_(S.perStemElementScaled),M=a==="원국"?T:xO(T,s),A=Of(M),O=j_(M,f),R=vO(O),$=O_(A),D=k_(_.perStemElementScaled),C=j_(D,f),k=Of(D),K=O_(k);return{elementScoreRaw:S.elementScoreRaw,elementPercent100:S.elementPercent100,totals:S.totals,perStemElementScaled:S.perStemElementScaled,dayStem:f,mergedStems:A,perTenGodSub:O,perTenGod:R,overlay:{totalsSub:O,perStemAugBare:M,perStemAugFull:$},natalFixed:{elementScoreRaw:C_(_.elementScoreRaw),elementPercent100:C_(_.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:D,perStemAugFull:K}}}}const Yr={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Di={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},SO={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"};function qr(t){return["갑","병","무","경","임"].includes(t)}function wO(t){return["자","인","진","오","신","술"].includes(t)}const OS={목:"화",화:"토",토:"금",금:"수",수:"목"},yg={목:"토",화:"금",토:"수",금:"목",수:"화"},CS={토:"목",금:"화",수:"토",목:"금",화:"수"},LS={화:"목",토:"화",금:"토",수:"금",목:"수"},Z0=t=>({甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"})[t]??t,Gr=t=>t&&t.length>=1?t.charAt(0):"",tn=t=>t&&t.length>=2?t.charAt(1):"",TO=t=>Array.from(new Set(t)),EO={자:{초기:{stem:"임",w:10},정기:{stem:"계",w:20}},축:{초기:{stem:"계",w:9},중기:{stem:"신",w:3},정기:{stem:"기",w:18}},인:{초기:{stem:"갑",w:10},중기:{stem:"병",w:7},정기:{stem:"갑",w:16}},묘:{초기:{stem:"을",w:9},정기:{stem:"을",w:20}},진:{초기:{stem:"무",w:7},중기:{stem:"계",w:3},정기:{stem:"무",w:18}},사:{초기:{stem:"병",w:10},중기:{stem:"경",w:7},정기:{stem:"병",w:16}},오:{초기:{stem:"정",w:10},중기:{stem:"기",w:9},정기:{stem:"정",w:11}},미:{초기:{stem:"기",w:9},중기:{stem:"을",w:3},정기:{stem:"기",w:18}},신:{초기:{stem:"경",w:10},중기:{stem:"임",w:7},정기:{stem:"경",w:16}},유:{초기:{stem:"신",w:9},정기:{stem:"신",w:20}},술:{초기:{stem:"무",w:7},중기:{stem:"정",w:3},정기:{stem:"무",w:18}},해:{초기:{stem:"임",w:16},중기:{stem:"갑",w:7},정기:{stem:"임",w:16}}},MO={인:"입춘",묘:"경칩",진:"청명",사:"입하",오:"망종",미:"소서",신:"입추",유:"백로",술:"한로",해:"입동",자:"대설",축:"소한"};function NO(t,r){const a=MO[t];if(!a)return!1;const c=fi(r).find(m=>m.name===a);if(!c)return!1;const d=new Date(c.date);return Math.floor((r.getTime()-d.getTime())/(1e3*60*60*24))<=12}const AO={진:["신","자","진"],술:["인","오","술"],축:["사","유","축"],미:["해","묘","미"]};function DO(t,r){const a=AO[t];return a?a.filter(s=>s!==t).every(s=>r.includes(s)):!1}function ui(t,r){const a=Yr[t],s=Yr[r];if(!a||!s)return"비견";let c;s===a?c="비견":s===OS[a]?c="식신":s===yg[a]?c="편재":s===CS[a]?c="편관":s===LS[a]?c="편인":c="비견";const d=qr(t)===qr(r);switch(c){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function jO(t,r){const a=Yr[t],s=Di[r];if(!a||!s)return"비견";let c;s===a?c="비견":s===OS[a]?c="식신":s===yg[a]?c="편재":s===CS[a]?c="편관":s===LS[a]?c="편인":c="비견";const d=qr(t)===wO(r);switch(c){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function kO(t){return{갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[t]??"토"}function _p(t,r){const a=kO(t),s=qr(t),c={목:"화",화:"토",토:"금",금:"수",수:"목"},d={목:"토",화:"금",토:"수",금:"목",수:"화"};let f;r===a?f="비겁":c[a]===r?f="식상":c[r]===a?f="인성":d[a]===r?f="재성":d[r]===a?f="관성":f="비겁";const m=s===qr(OO(r));switch(f){case"비겁":return m?"비견":"겁재";case"식상":return m?"식신":"상관";case"재성":return m?"정재":"편재";case"관성":return m?"정관":"편관";case"인성":return m?"정인":"편인"}}function OO(t){return{목:"갑",화:"병",토:"무",금:"경",수:"임"}[t]}const Y0={갑:"인",을:"묘",병:"사",정:"오",무:"오",기:"사",경:"신",신:"유",임:"해",계:"자"},BS={갑:"묘",병:"오",무:"오",경:"유",임:"자"},RS={을:"인",정:"사",신:"신",계:"해"},CO=[{a:"갑",b:"기",to:"토"},{a:"을",b:"경",to:"금"},{a:"병",b:"신",to:"수"},{a:"정",b:"임",to:"목"},{a:"무",b:"계",to:"화"}],LO=t=>{const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){const s=Gr(a),c=tn(a),d=Yr[s],f=Di[c];d&&(r[d]+=10),f&&(r[f]+=6)}return r};function BO(t){const{pillars:r,dayStem:a,monthBranch:s,mapping:c}=t,[d,f,m,g]=(r??[]).slice(0,4),b=[Gr(d),Gr(f),Gr(m),Gr(g)].filter(Boolean),v=[tn(d),tn(f),tn(m),tn(g)].filter(Boolean),S=Yr[a],_=b.map(dt=>ui(a,dt)),T=[],M=dt=>b.filter(Ot=>Ot===dt).length,A=dt=>v.filter(Ot=>Ot===dt).length,O=dt=>dt.every(Ot=>v.includes(Ot)),R=dt=>_.some(Ot=>dt.includes(Ot)),$=Gr(f),D=dt=>qr(dt),C=()=>{const dt=b.map(Ot=>Yr[Ot]);return dt.length===4&&dt.every(Ot=>Ot===dt[0])},k=()=>{if(b.length!==4)return!1;const dt=b.map(D),Ot=dt[0]&&!dt[1]&&dt[2]&&!dt[3],Ht=!dt[0]&&dt[1]&&!dt[2]&&dt[3];return Ot||Ht};qr(a)&&BS[a]===s&&T.push("양인격");const K=[["을","묘"],["병","사"],["정","오"],["경","신"],["임","해"],["계","자"],["무","사"],["기","오"]];for(const[dt,Ot]of K)if(a===dt&&s===Ot){T.push("건록격");break}!qr(a)&&RS[a]===s&&T.push("월지겁재격");const F=Y0[a];F&&tn(m)===F&&S===Di[tn(m)]&&T.push("전록격"),F&&tn(g)===F&&S===Di[tn(g)]&&T.push("귀록격");const tt=[d,f,m,g].map(UO),et=[d,f,m,g].map(ZO);for(const dt of tt);for(const dt of et);const it=c==="hgc"?Gf:If;function q(dt){return(it[dt]??[]).filter(Ot=>["갑","을","병","정","무","기","경","신","임","계"].includes(Ot))}const I=[d,f,m,g].filter(Boolean),nt=I.flatMap(dt=>[dt.charAt(0),dt.charAt(1)]).flatMap(dt=>{try{if(["갑","을","병","정","무","기","경","신","임","계"].includes(dt))return[ui(a,dt)];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(dt)){const Ot=jO(a,dt),Ht=q(dt).map(Rt=>ui(a,Rt));return[Ot,...Ht]}return[]}catch{return[]}}),at=dt=>nt.some(Ot=>dt.includes(Ot)),G=(dt,Ot)=>{const Ht=[],Rt=[];for(const ee of I){const Ne=ee.charAt(0),ye=ee.charAt(1);Ht.push(ui(a,Ne));const Bn=Di[ye];Bn?Rt.push(_p(a,Bn)):Rt.push(null)}const ne=(ee,Ne)=>!!ee&&!!Ne&&(dt.includes(ee)&&Ot.includes(Ne)||Ot.includes(ee)&&dt.includes(Ne));for(let ee=0;ee<Ht.length;ee++)if(ne(Ht[ee],Rt[ee]))return!0;for(let ee=0;ee<Ht.length-1;ee++)if(ne(Ht[ee],Ht[ee+1])||ne(Rt[ee],Rt[ee+1]))return!0;return!1},ot={식상:["식신","상관"],재성:["편재","정재"],관성:["편관","정관"],인성:["편인","정인"]};at([...ot.관성])&&at([...ot.인성])&&G([...ot.관성],[...ot.인성])&&T.push("관인상생격"),at([...ot.식상])&&at([...ot.재성])&&G([...ot.식상],[...ot.재성])&&T.push("식상생재격");const st=dt=>_.filter(Ot=>dt.includes(Ot)).length,_t=st(["식신","상관"]),j=st(["편관"]),H=st(["정관"]),Z=st(["정인","편인"]),J=st(["정재","편재"]),V=st(["정관","편관"]);j>=1&&_t>=1&&_t>=j&&H<=j&&T.push("식상제살격");const U=st(["상관"]);U>=1&&Z>=1&&U>=Z&&T.push("상관패인격"),_.includes("편관")&&Z>=1&&T.push("살인상생격");const ht=LO(r),gt=Object.entries(ht).sort((dt,Ot)=>Ot[1]-dt[1]),Et=gt[0];if(Et&&Et[1]>=60&&T.push(`전왕격(${Et[0]})`),gt.length>=2){const[dt,Ot]=gt[0],[,Ht]=gt[1];Ot>=75&&Ot-Ht>=12&&S!==dt&&T.push(`종격(${dt})`)}for(const dt of CO){const Ot=b.includes(dt.a),Ht=b.includes(dt.b);if(!Ot||!Ht)continue;const Rt=dt.to,ne=ht[Rt]??0,ee=Yr[dt.a],Ne=Yr[dt.b],ye=Math.max(ht[ee]??0,ht[Ne]??0),Bn=Di[s]===Rt,Qr=Object.entries(ht).sort((Nn,an)=>an[1]-Nn[1])[0]?.[0]===Rt;let Mn=!1;ne>=60&&(Bn||Qr)&&ye<=20&&ne-ye>=20&&(T.push(`화기격(${Rt})`),Mn=!0),!Mn&&ne>=50&&(Bn||Qr)&&ye<=25&&(T.push(`진화격(${Rt})`),Mn=!0),!Mn&&ne>=35&&T.push(`가화격(${Rt})`)}const Ct=`${Gr(g)}${tn(g)}`;["갑","기"].includes(a)&&["기사","계유","을축"].includes(Ct)&&T.push("금신격"),["진","술","축","미"].includes(tn(g))&&T.push("시묘격"),["병","정"].includes(a)&&(tn(m)==="오"||tn(f)==="오")&&!v.includes("자")&&T.push("도충록마격");const Pt=b.some(dt=>dt==="병"||dt==="정"),kt=v.some(dt=>dt==="사"||dt==="오");["자","해"].includes(tn(m))&&!Pt&&!kt&&T.push("비천록마격"),["갑","무","경"].every(dt=>b.includes(dt))&&T.push("천상삼기격"),["임","계","신"].every(dt=>b.includes(dt))&&T.push("인중삼기격"),["을","병","정"].every(dt=>b.includes(dt))&&T.push("지하삼기격");const Bt=Object.values(ht).sort((dt,Ot)=>Ot-dt);Bt.length>=3&&Bt[0]-Bt[2]<=8&&Bt[0]+Bt[1]+Bt[2]>=80&&T.push("삼상격"),J>=1&&V>=1&&Math.abs(J-V)<=1&&T.push("재관쌍미격"),O(["진","술","축","미"])&&T.push("사고격"),O(["인","신","사","해"])&&T.push("사생격"),O(["자","오","묘","유"])&&T.push("사정격"),v.length===4&&v.every(dt=>dt===v[0])&&T.push("지지원일기격"),b.length===4&&C()&&k()&&T.push("양간부잡격"),r.every(dt=>dt&&dt===r[0])&&T.push("봉황지격"),b.length===4&&b.every(dt=>dt===b[0])&&v.length===4&&v.every(dt=>dt===v[0])&&T.push("간지동체격"),_t>=1&&(tn(m)===Y0[a]||tn(g)===Y0[a])&&T.push("전식록격"),M("을")>=3&&O(["사","유","축"])&&["사","유","축"].includes(tn(m))&&T.push("복덕수기격");const At=a==="무"||a==="기",Ut=[["해","묘","미"],["인","묘","진"]],Yt=[["해","자","축"],["신","자","진"]];At&&(Ut.some(dt=>O(dt))||Yt.some(dt=>O(dt)))&&T.push("구진득위격");const Vt=new Set(["갑자","갑인","갑진","갑오","갑신","갑술"]),vt=`${Gr(m)}${tn(m)}`;if(Vt.has(vt)&&A("해")>=2&&(R(["정관","편관"])||v.includes("사")||v.includes("인")||R(["정재","편재"])||T.push("육갑추건격")),new Set(["임자","임인","임진","임오","임신","임술"]).has(vt)&&A("인")>=2&&v.includes("해")&&T.push("육임추간격"),a==="을"&&`${Gr(g)}${tn(g)}`=="병자"){const dt=ui(a,$);!["정재","편재","정관","편관"].includes(dt)&&R(["정재","편재"])&&!v.includes("오")&&!v.includes("인")&&T.push("육을서귀격")}return new Set(["신해","신축","신유"]).has(vt)&&`${Gr(g)}${tn(g)}`=="무자"&&!v.includes("오")&&!R(["정관","편관"])&&T.push("육음조양격"),vt==="임진"&&A("진")+A("인")>=2&&T.push("임기용배격"),(vt==="계축"||vt==="신축")&&A("축")>=2&&!R(["정관","편관"])&&!v.includes("자")&&T.push("축요사격"),a==="경"&&O(["신","자","진"])&&T.push("정란차격"),vt==="갑자"&&`${Gr(g)}${tn(g)}`=="갑자"&&T.push("자요사격"),TO(T)}function RO(t){const{dayStem:r,monthBranch:a,date:s,pillars:c,emittedStems:d=[],otherBranches:f=[],isNeutralized:m,mapping:g}=t,b=[],v=EO[a];if(!v)return{월령:"-",사령:"-",진신:"-",가신:"-",내격:"-",외격:[],reason:["월지 분포표 없음"]};const S={초기:v.초기?{stem:Z0(v.초기.stem),w:v.초기.w}:void 0,중기:v.중기?{stem:Z0(v.중기.stem),w:v.중기.w}:void 0,정기:{stem:Z0(v.정기.stem),w:v.정기.w}},_=S.정기.stem;let T=_;if(["자","오","묘","유"].includes(a))T=S.정기.stem,b.push("왕지: 정기 그대로 채택");else if(["인","신","사","해"].includes(a)){const tt=[];S.초기&&tt.push({from:"초기",stem:S.초기.stem,w:S.초기.w,emitted:d.includes(S.초기.stem)}),S.중기&&tt.push({from:"중기",stem:S.중기.stem,w:S.중기.w,emitted:d.includes(S.중기.stem)}),tt.push({from:"정기",stem:S.정기.stem,w:S.정기.w,emitted:d.includes(S.정기.stem)});const et=tt.filter(it=>it.emitted);et.length===1?(T=et[0].stem,b.push(`생지: ${et[0].from} 투출 채택`)):et.length>1?(et.sort((it,q)=>q.w-it.w),T=et[0].stem,b.push(`생지: 동시 투출 → 가중치 큰 ${et[0].from} 채택`)):(T=S.정기.stem,b.push("생지: 미투출 → 정기 채택"))}else["진","술","축","미"].includes(a)&&(DO(a,f)&&S.중기?(T=S.중기.stem,b.push("고지: 삼합 성립 → 중기 채택")):NO(a,s)&&S.초기?(T=S.초기.stem,b.push("고지: 절입 +12일 이내 → 여기 채택")):(T=S.정기.stem,b.push("고지: 절입 +12일 이후 → 정기 채택")));const M=T;let A="";const O=Yr[M];if(O){const tt=Object.entries(yg).find(([,et])=>et===O)?.[0]??null;tt&&(A=Object.entries(Yr).find(([it,q])=>q===tt&&qr(it)===qr(M))?.[0]??"")}m?.(M)&&b.push("예외: 격 후보가 합/충으로 무력화");let R="-";const $=ui(r,M),C=[["을","묘"],["병","사"],["정","오"],["경","신"],["임","해"],["계","자"],["무","사"],["기","오"]].some(([tt,et])=>tt===r&&et===a),k=qr(r)&&BS[r]===a,K=!qr(r)&&RS[r]===a;$==="비견"||$==="겁재"?C?(R="건록격",b.push("예외: 비견/겁재지만 건록팔자 → 건록격")):k?(R="양인격",b.push("예외: 비견이지만 양인격 조건 충족")):K?(R="월지겁재격",b.push("예외: 겁재지만 월지겁재격 조건 충족")):b.push("예외: 비견/겁재는 내격에서 제외됨"):$==="편관"?R="편관격(칠살격)":R={식신:"식신격",상관:"상관격",정재:"정재격",편재:"편재격",정관:"정관격",편관:"편관격",정인:"정인격",편인:"편인격"}[$]??"-";const F=BO({pillars:c,dayStem:r,monthBranch:a,mapping:g});return{월령:_,사령:T,진신:M,가신:A,내격:R,외격:F,reason:b}}const Dt=(t,r)=>`${t}+${r}`,Zn=(t,r,a)=>`${t}+${r}+${a}`,PO={[Dt("갑","갑")]:["쌍목위림"],[Zn("갑","갑","갑")]:void 0,[Dt("갑","을")]:["등라계갑","등라반목"],[Dt("갑","병")]:["목화통명","청룡반수"],[Dt("갑","정")]:["유신유화"],[Dt("갑","무")]:["독산고목"],[Dt("갑","기")]:["양토육목"],[Dt("갑","경")]:["동량지목","흔목위재"],[Dt("갑","신")]:["목곤쇄편"],[Dt("갑","임")]:["횡당유영"],[Dt("갑","계")]:["수근로수"],[Zn("경","갑","정")]:["벽갑인정","벽갑인화"],[Dt("을","을")]:["복음잡초"],[Dt("을","병")]:["염양려화"],[Dt("을","정")]:["화소초원"],[Dt("을","무")]:["선화명병"],[Dt("을","기")]:["양토배화"],[Dt("을","경")]:["백호창광"],[Dt("을","신")]:["이전최화"],[Dt("을","임")]:["출수부용"],[Dt("을","계")]:["청초조로"],[Dt("병","갑")]:["비조부혈"],[Dt("병","을")]:["염양려화"],[Dt("병","병")]:["복음훙광"],[Dt("병","정")]:["삼기순수"],[Dt("병","무")]:["월기득사"],[Dt("병","기")]:["대지보조"],[Dt("병","경")]:["형옥입백"],[Dt("병","신")]:["일월상회"],[Dt("병","임")]:["강휘상영"],[Dt("병","계")]:["흑운차일"],[Dt("정","갑")]:["유신유화"],[Dt("정","을")]:["건시열화"],[Dt("정","병")]:["항아분월"],[Dt("정","정")]:["양화위염"],[Dt("정","무")]:["유화유로"],[Dt("정","기")]:["성타구진"],[Dt("정","경")]:["화련진금"],[Dt("정","신")]:["소훼주옥"],[Dt("정","임")]:["성기득사"],[Dt("정","계")]:["주작투강"],[Dt("무","갑")]:["거석압목"],[Dt("무","을")]:["청룡합령"],[Dt("무","병")]:["일출동산"],[Dt("무","정")]:["유화유로"],[Dt("무","무")]:["복음준산"],[Dt("무","기")]:["물이유취"],[Dt("무","경")]:["조주위학"],[Dt("무","신")]:["반음설기"],[Dt("무","임")]:["산명수수"],[Dt("무","계")]:["암석침식"],[Dt("기","갑")]:["목강토산"],[Dt("기","을")]:["야초난생"],[Dt("기","병")]:["대지보조"],[Dt("기","정")]:["주작입묘"],[Dt("기","무")]:["경련상배"],[Dt("기","기")]:["복음연약"],[Dt("기","경")]:["전도형격"],[Dt("기","신")]:["습니오옥"],[Dt("기","임")]:["기토탁임"],[Dt("기","계")]:["옥토위생"],[Dt("경","갑")]:["흔목위재","복궁최잔"],[Dt("경","을")]:["상합유정","백호창광"],[Dt("경","병")]:["태백입형"],[Dt("경","정")]:["득화이예","정정지격"],[Dt("경","무")]:["토중금매","토다금매"],[Dt("경","기")]:["관부형격","금실무성"],[Dt("경","경")]:["양금상살"],[Dt("경","신")]:["철추쇄옥"],[Dt("경","임")]:["금수쌍청","득수이청"],[Dt("경","계")]:["보도사로"],[Dt("신","갑")]:["월하송영"],[Dt("신","을")]:["이전최화"],[Dt("신","병")]:["간합패사"],[Dt("신","정")]:["화소주옥"],[Dt("신","무")]:["반음피상"],[Dt("신","기")]:["입옥자형"],[Dt("신","경")]:["백호출력"],[Dt("신","신")]:["복음상극"],[Dt("신","임")]:["도세주옥"],[Dt("신","계")]:["천뢰화개"],[Dt("임","갑")]:["수중유영"],[Dt("임","을")]:["출수홍련"],[Dt("임","병")]:["강휘상영"],[Dt("임","정")]:["간합성기"],[Dt("임","무")]:["산명수수"],[Dt("임","기")]:["기토탁임"],[Dt("임","경")]:["경발수원"],[Dt("임","신")]:["도세주옥"],[Dt("임","임")]:["왕양대해"],[Dt("임","계")]:["천진지양","충천분지"],[Dt("계","갑")]:["양류감로"],[Dt("계","을")]:["이화춘우"],[Dt("계","병")]:["화개패사"],[Dt("계","정")]:["등사요교"],[Dt("계","무")]:["천을회합"],[Dt("계","기")]:["습윤옥토"],[Dt("계","경")]:["반음침백"],[Dt("계","신")]:["양쇠음성"],[Dt("계","임")]:["양쇠음성"],[Dt("계","계")]:["복음천라"]},zO={[Zn("갑","갑","갑")]:["삼목위삼"],[Zn("을","을","을")]:["삼을위초"],[Zn("병","병","병")]:["삼병위양"],[Zn("정","정","정")]:["삼정위화"],[Zn("무","무","무")]:["삼무위산"],[Zn("기","기","기")]:["삼기위토"],[Zn("경","경","경")]:["삼경위강"],[Zn("신","신","신")]:["삼신위금"],[Zn("임","임","임")]:["삼임위해"],[Zn("계","계","계")]:["삼계위수"],[Zn("경","갑","정")]:["벽갑인정","벽갑인화"]};function $O(){const t={},r={},a=/[갑을병정무기경신임계甲乙丙丁戊己庚辛壬癸]/g;for(const[s,c]of Object.entries(PO)){if(!c)continue;const d=s.match(a);if(!d||d.length<2)continue;const[f,m]=d;t[s]=c.map(g=>`${f}X${m}_${g}`)}for(const[s,c]of Object.entries(zO)){if(!c)continue;const d=s.match(a);if(!d||d.length<3)continue;const[f,m,g]=d;r[s]=c.map(b=>`${f}X${m}X${g}_${b}`)}return{newPairs:t,newTris:r}}const{newPairs:q0,newTris:F0}=$O();function HO(t){const[r,a,s,c]=t,d=T=>Gr(T),f=d(c),m=d(s),g=d(a),b=d(r),v=[],S=[[f,m],[m,g],[g,b]];for(const[T,M]of S){if(!T||!M)continue;const A=Dt(T,M),O=q0[A];O&&O.length&&v.push(...O);const R=Dt(M,T);R!==A&&q0[R]&&v.push(...q0[R])}const _=[[f,m,g],[m,g,b]];for(const[T,M,A]of _){if(!T||!M||!A)continue;const O=Zn(T,M,A),R=F0[O];R&&R.length&&v.push(...R);const $=Zn(A,M,T);$!==O&&F0[$]&&v.push(...F0[$])}return Array.from(new Set(v))}const IO={갑:!0,을:!1,병:!0,정:!1,무:!0,기:!1,경:!0,신:!1,임:!0,계:!1},GO={갑:"묘",을:"인",병:"오",정:"사",무:"오",기:"사",경:"유",신:"신",임:"자",계:"해"};function UO(t){return t?.charAt(0)??""}function ZO(t){return t?.charAt(1)??""}function YO(t,r,a){const[s,c,d,f]=(t??[]).slice(0,4),m=ct=>(ct?.length??0)>=1?ct.charAt(0):"",g=ct=>(ct?.length??0)>=2?ct.charAt(1):"",b=[s,c,d,f].map(m).filter(Boolean),v=[s,c,d,f].map(g).filter(Boolean),S=m(d),_=IO[S]??!1,T=new Set,M=r==="classic"?If:Gf,A=new Set(["갑","을","병","정","무","기","경","신","임","계"]),O=ct=>(M[ct]??[]).filter(dt=>A.has(dt)),R=(ct,dt)=>{const Ot=Di[dt];if(!Ot)throw new Error(`Unknown branch main element: ${dt}`);return _p(ct,Ot)},$={목:0,화:0,토:0,금:0,수:0};for(const ct of b){const dt=Yr[ct];dt&&($[dt]+=10)}const D=[];for(const ct of v){const dt=SO[ct];dt&&D.push(dt);const Ot=Di[ct];Ot&&($[Ot]+=6)}const k=[...b,...D].map(ct=>ui(S,ct)),K={비겁:["비견","겁재"],식상:["식신","상관"],재성:["편재","정재"],관성:["편관","정관"],인성:["편인","정인"]},F=ct=>k.filter(dt=>dt===ct).length,tt=ct=>k.filter(dt=>K[ct].includes(dt)).length,et=v[1],it=!!S&&GO[S]===et,q=a.elementPercent100;q.수>=20&&q.화>=20&&q.토>=15&&T.add("감리상지");const I=[s,c,d,f].filter(Boolean),Q=[];for(const ct of I){const dt=ct.charAt(0),Ot=ct.charAt(1);Q.push(ui(S,dt)),Q.push(R(S,Ot))}const nt=(ct,dt)=>{const Ot=(Ht,Rt)=>!!Ht&&!!Rt&&ct.includes(Ht)&&dt.includes(Rt)||dt.includes(Ht)&&ct.includes(Rt);for(let Ht=0;Ht+1<Q.length;Ht+=2)if(Ot(Q[Ht],Q[Ht+1]))return!0;return!1},at=ct=>Q.some(dt=>ct.includes(dt)),G=F("식신")+F("상관"),ot=F("상관"),st=tt("재성"),_t=tt("관성"),j=nt(["식신","상관"],["편재","정재"]);if((ot>=1||G>=2)&&st>=1&&G>st&&_t<=1&&j&&T.add("화상위재"),at(K.재성)&&at(K.관성)&&nt(K.재성,K.관성)){const ct=k.includes("편관");T.add(ct?"재생관살":"재생관")}tt("재성")>=2&&tt("인성")>=2&&Math.abs(tt("재성")-tt("인성"))<=1&&tt("식상")<=1&&tt("관성")<=1&&T.add("재인불애");const H=F("비견"),Z=F("겁재"),J=F("식신")+F("상관"),V=F("정재")+F("편재"),U=tt("관성");Z>=2&&J>=1&&$.화+$.목>=20&&T.add("화겁위생"),Z>=2&&V>=1&&$.화+$.토>=20&&T.add("화겁위재"),Z>=2&&V>=1&&$.화+$.토>=20&&nt(["겁재"],["정재","편재"])&&U<=1&&T.add("화겁위재"),H>=2&&V>=1&&$.화+$.토>=20&&nt(["건록"],["정재","편재"])&&U<=1&&T.add("화록위재");const Y=(ct,dt)=>{const Ot=Yr[ct],Ht=Di[dt];return!!Ot&&!!Ht&&Ot===Ht},ht=[s,c,d,f].filter(Boolean),gt=g(d),Et=Y(S,gt),Ct=ht.map(ct=>ct.charAt(0)).filter(ct=>["편재","정재"].includes(ui(S,ct)));let Pt=!1;for(const ct of ht){const dt=ct.charAt(0),Ot=ct.charAt(1);if(Ct.includes(dt)&&Y(dt,Ot)){Pt=!0;break}}Et&&Pt&&T.add("재명유기"),tt("관성")>=3&&tt("관성")>=.5*(tt("비겁")+tt("식상")+tt("재성")+tt("인성"))&&T.add("관살과다"),tt("인성")>=3&&tt("인성")>=.5*(tt("비겁")+tt("식상")+tt("재성")+tt("관성"))&&T.add("인수과다"),tt("인성")>=3&&tt("관성")>=1&&T.add("인다관설"),tt("재성")>=3&&tt("비겁")+tt("인성")<=1&&T.add("재다신약");const kt=F("편관");tt("비겁")+tt("인성")>=2&&kt===1&&tt("재성")>=1&&T.add("재자약살"),kt>=2&&J+tt("인성")>=3&&T.add("제살태과");const Bt=H+Z;(H>=2||Bt>=2)&&V>=1&&Bt>V&&T.add("군비쟁재"),Z>=2&&V>=1&&Bt>V&&T.add("군겁쟁재");const wt=F("상관"),At=F("정관");wt>=2&&kt+At>=1&&T.add("상관견관"),wt>=2&&kt+At===0&&T.add("상관상진"),_&&wt>=2&&kt>=1&&T.add("상관대살"),!_&&wt>=2&&kt>=1&&T.add("상관합살"),F("식신")>=2&&F("편인")>=1&&T.add("식신봉효"),F("정관")>=1&&F("정인")>=1&&nt(["정관"],["정인"])&&T.add("관인쌍전"),it&&kt>=1&&tt("비겁")+tt("인성")>=2&&T.add("양인합살");const Ut=[g(s),g(c),g(d),g(f)].filter(Boolean),Yt=[s?.charAt(0),c?.charAt(0),f?.charAt(0)].filter(Boolean),Vt=new Set(Yt.map(ct=>ui(S,ct))),vt=new Set(Ut.flatMap(ct=>{const dt=Di[ct];return dt?[_p(S,dt)]:[]})),zt=new Set(Ut.flatMap(ct=>O(ct).map(dt=>ui(S,dt))));return["비겁","식상","재성","관성","인성"].forEach(ct=>{const dt=K[ct],Ot=dt.some(ne=>Vt.has(ne)),Ht=dt.some(ne=>vt.has(ne)),Rt=dt.some(ne=>zt.has(ne));!Ot&&!Ht&&!Rt?T.add(`천지무${ct}`):!Ot&&!Ht&&Rt&&T.add(`무${ct}`)}),Array.from(T)}function qO(t){const{pillars:r,tab:a,birthDate:s,emittedStems:c,otherBranches:d,isNeutralized:f,mapping:m,unified:g}=t,[b,v,S,_]=r,T=nt=>nt&&nt.length>=1?nt.charAt(0):"",M=nt=>nt&&nt.length>=2?nt.charAt(1):"",A=M(v),O=T(S),R=s instanceof Date&&!Number.isNaN(s.getTime())?s:new Date,$=[T(b),T(v),T(S),T(_)].filter(nt=>!!(nt&&nt.length===1)),D=[M(b),M(S),M(_)].filter(nt=>!!(nt&&nt.length===1)),C=RO({dayStem:O,monthBranch:A,date:R,pillars:r,emittedStems:c??$,otherBranches:d??D,isNeutralized:f,mapping:m}),k=[`월령 : ${C.월령||"-"}`,`사령 : ${C.사령||"-"}`,`진신 : ${C.진신||"-"}`,`가신 : ${C.가신||"-"}`],K=[`내격 : ${C.내격||"-"}`],F=Array.isArray(C.외격)&&C.외격.length>0?C.외격.map(nt=>`외격 : ${nt}`):["외격 : -"],tt=HO(r),et=[...tt.length?tt.map(nt=>`${nt}`):[]],q=[...YO(r,m,g)],I=({text:nt,color:at})=>{const G={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return y.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${G[at]}`,title:nt,children:nt})},Q=({children:nt})=>y.jsx("li",{className:"!flex flex-wrap gap-1 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:nt});return y.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${a}|${r.join("")}|${k.join(",")}|${K.join(",")}|${F.join(",")}`,children:[y.jsx("div",{className:"font-bold text-base",children:"격국 · 물상 판정"}),y.jsxs("ul",{className:"space-y-1",children:[y.jsx(Q,{children:k.map(nt=>y.jsx(I,{text:nt,color:"violet"},nt))}),y.jsx(Q,{children:K.map(nt=>y.jsx(I,{text:nt,color:"amber"},nt))}),y.jsx(Q,{children:F.map(nt=>y.jsx(I,{text:nt,color:"blue"},nt))}),y.jsx(Q,{children:et.map(nt=>y.jsx(I,{text:nt,color:"green"},nt))}),y.jsx(Q,{children:q.map(nt=>y.jsx(I,{text:nt,color:"red"},nt))})]}),C.reason.length>0&&y.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:["• ",C.reason.join(" / ")]})]})}const Qs={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Js={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},ll={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},PS={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Jd={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},FO=["갑","병","무","경","임"];function L_(t){return FO.includes(t)}const VO={목:"화",화:"토",토:"금",금:"수",수:"목"},KO={목:"토",화:"금",토:"수",금:"목",수:"화"},XO={토:"목",금:"화",수:"토",목:"금",화:"수"},WO={화:"목",토:"화",금:"토",수:"금",목:"수"};function Kc(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(Qs[r])return Qs[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return Jd[r]??null;if(Js[r])return Jd[Js[r]]??null;const a=r.charAt(0);return Qs[a]?Qs[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:Js[a]?Jd[Js[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?Jd[a]??null:null}function QO(t,r){const a=ll[t],s=ll[r];if(!a||!s)return"비견";let c;s===a?c="비견":s===VO[a]?c="식신":s===KO[a]?c="편재":s===XO[a]?c="편관":s===WO[a]?c="편인":c="비견";const d=L_(t)===L_(r);switch(c){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function JO(t){switch(t){case"비견":case"겁재":return"비겁";case"식신":case"상관":return"식상";case"정재":case"편재":return"재성";case"정관":case"편관":return"관성";case"정인":case"편인":return"인성"}}function ih(t){const r=Object.entries(t),a=r.reduce((b,[,v])=>b+(v>0?v:0),0);if(a<=0)return Object.fromEntries(r.map(([b])=>[b,0]));const s=r.map(([b,v])=>[b,(v>0?v:0)*100/a]),c=s.map(([b,v])=>[b,Math.floor(v)]);let d=c.reduce((b,[,v])=>b+v,0);const f=s.map(([b,v])=>[b,v-Math.floor(v)]).sort((b,v)=>v[1]-b[1]),m=Object.fromEntries(c.map(([b,v])=>[b,v]));let g=0;for(;d<100&&g<f.length;)m[f[g][0]]+=1,d+=1,g+=1;return m}function tC(t){const r={목:0,화:0,토:0,금:0,수:0};for(const[a,s]of Object.entries(t??{})){const c=ll[Kc(a)];c&&s>0&&(r[c]+=s)}return ih(r)}function eC(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,c]of Object.entries(t??{})){if(c<=0)continue;const d=Kc(s);if(!d)continue;const f=QO(r,d);a[f]+=c}return a}function nC(t){const r={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const[a,s]of Object.entries(t)){const c=JO(a);r[c]+=s}return ih(r)}function V0(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return s?`${Qs[s[1]]}${Js[s[2]]}`:""}function B_(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const c=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=c.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=c.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${Qs[f[1]]}${Js[f[2]]}`:s<=2?"--":""})}function rC(t,r){const a={목:!1,화:!1,토:!1,금:!1,수:!1};for(const s of t){if(!s)continue;const c=ll[s.charAt(0)];c&&(a[c]=!0);{const d=PS[s.charAt(1)];d&&(a[d]=!0)}}return a}function iC(t){const r={목:0,화:0,토:0,금:0,수:0};for(const a of t){if(!a)continue;const s=ll[a.charAt(0)],c=PS[a.charAt(1)];s&&(r[s]+=10),c&&(r[c]+=6)}return r}function K0(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}const aC=["갑","을","병","정","무","기","경","신","임","계"];function oC(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const c=Kc(a);c&&(r[c]=(r[c]??0)+s)}return r}function sC(t){const a={...{갑목:0,을목:0,병화:0,정화:0,무토:0,기토:0,경금:0,신금:0,임수:0,계수:0}};for(const s of aC){const c=ll[s],d=`${s}${c}`;a[d]=Math.max(0,Math.round(t[s]??0))}return a}const lC={natal:50,dae:30,se:20,wol:7,il:3};function cC(t){const r={};for(const{kind:s,bare:c}of t){const d=lC[s]??0;if(d<=0)continue;const f=ih(c);for(const[m,g]of Object.entries(f))r[m]=(r[m]??0)+g*d}const a=Object.values(r).reduce((s,c)=>s+c,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function uC(t){if(!t)return[];const r=Kc(t.charAt(0)),a=Kc(t.charAt(1));return[r,a].filter(Boolean)}function tf(t){const r=uC(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}function dC({data:t,pillars:r,lunarPillars:a,daewoonGz:s}){const c=sr(wt=>wt.settings),[d,f]=B.useState("일간 · 오행 강약"),[m,g]=B.useState("원국"),[b,v]=B.useState(!0),{date:S,yearGZ:_,monthGZ:T,dayGZ:M}=Wn(),A=B.useMemo(()=>Jt(_),[_]),O=B.useMemo(()=>Jt(T),[T]),R=B.useMemo(()=>Jt(M),[M]),$=ru(t,t?.mingSikType),D=B.useMemo(()=>{if(!$?.length)return 0;const wt=$.findIndex((At,Ut)=>{const Yt=$[Ut+1]?.at;return S>=At.at&&(!Yt||S<Yt)});return wt!==-1?wt:S<$[0].at?0:$.length-1},[$,S]),C=B.useMemo(()=>{const wt=s??$?.[D]?.gz??"";return Jt(wt)||null},[s,$,D]),{manualHour:k}=el(),K=t.mingSikType??"조자시/야자시",F=B.useMemo(()=>B_(r),[r]),tt=B.useMemo(()=>B_(a),[a]),et=B.useMemo(()=>{const wt=[...F];return(!wt[3]||wt[3]==="")&&k&&(wt[3]=k.stem+k.branch),wt},[F,k]),it=B.useMemo(()=>{const wt=[...tt];return(!wt[3]||wt[3]==="")&&k&&(wt[3]=k.stem+k.branch),wt},[tt,k]),q=B.useMemo(()=>{const wt=Number(t.birthDay?.slice(0,4)),At=Number(t.birthDay?.slice(4,6)),Ut=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(wt)||!Number.isFinite(At)||!Number.isFinite(Ut))return null;const Yt=new Date(wt,At-1,Ut,12,0,0,0),Vt=V0(de(Yt)||""),vt=V0(Se(Yt)||""),zt=V0(ue(Yt,K)||"");return[Vt,vt,zt,""]},[t.birthDay,K]),I=K0(et),Q=K0(it),[nt]=B.useState("solar"),at=nt==="lunar"?Q?"lunar":I?"solar":"lunar":I?"solar":Q?"lunar":"solar",G=B.useMemo(()=>{const At=[...at==="lunar"?Q?it:I?et:q??["","","",""]:I?et:Q?it:q??["","","",""]];return(!At[3]||At[3]==="")&&k&&(At[3]=k.stem+k.branch),At},[at,I,Q,et,it,q,k]),ot=B.useMemo(()=>k?k.stem+k.branch:G[3]||"",[k,G]),st=B.useMemo(()=>({dae:m!=="원국"?C??null:null,se:m==="세운"||m==="월운"||m==="일운"?A??null:null,wol:m==="월운"||m==="일운"?O??null:null,il:m==="일운"?R??null:null}),[m,C,A,O,R]),_t=B.useMemo(()=>kS({natal:G,tab:m,chain:st,hourKey:ot}),[G,m,st,ot]),j=B.useMemo(()=>{if(!_t)return null;const wt=oC(_t.perStemElementScaled),At=st.dae?tf(st.dae):{},Ut=st.se?tf(st.se):{},Yt=st.wol?tf(st.wol):{},Vt=st.il?tf(st.il):{},vt=cC([{kind:"natal",bare:wt},{kind:"dae",bare:At},{kind:"se",bare:Ut},{kind:"wol",bare:Yt},{kind:"il",bare:Vt}]),zt=ih(vt),ct=sC(zt),dt=eC(vt,_t.dayStem),Ot=nC(dt),Ht=tC(vt);return{perStemAugBare:vt,perStemAugFull:ct,elemPct100:Ht,totalsMain:Ot,totalsSub:dt}},[_t,st]),H=B.useMemo(()=>rC(G),[G]),Z=B.useMemo(()=>["목","화","토","금","수"].some(wt=>!H[wt]),[H]),J=j?.elemPct100??_t?.elementPercent100??iC(G),V=B.useMemo(()=>{if(!_t||!j)return[];const wt=cS(_t.dayStem);return Object.entries(j.totalsMain).map(([At,Ut])=>({name:At,value:Ut,color:wt[At]}))},[_t,j]),U=j?.elemPct100??{목:0,화:0,토:0,금:0,수:0},Y=j?.totalsSub??null,ht=B.useMemo(()=>k?k.stem+k.branch:G[3]||"",[k,G]),gt=B.useMemo(()=>[m,C??"",A??"",O??"",R??"",S?.toISOString?.()??"",ht].join("|"),[m,C,A,O,R,S,ht]),Et=B.useMemo(()=>{const wt=Y?Object.entries(Y).sort(([Ut],[Yt])=>Ut.localeCompare(Yt)).map(([Ut,Yt])=>`${Ut}:${Yt}`).join(","):"none",At=V.map(Ut=>`${Ut.name}:${Ut.value}`).join(",");return`${gt}||${G.join("")}||${At}||${wt}`},[gt,G,V,Y]),Ct=typeof e_=="function"?e_(G,_t?.totals):null,Pt=B.useMemo(()=>{const At=(Ct?.ordered??[]).map(Vt=>{const vt=Vt.element??"",zt=/목|木|wood/i.test(vt)?"목":/화|火|fire/i.test(vt)?"화":/토|土|earth/i.test(vt)?"토":/금|金|metal/i.test(vt)?"금":/수|水|water/i.test(vt)?"수":null,ct=typeof Vt.score=="number"?Vt.score:zt?J[zt]??0:0,dt=Array.isArray(Vt.reasons)?Vt.reasons:[];return{element:vt,elNorm:zt,score:ct,reasons:dt}}),Ut=Vt=>Vt?H[Vt]:!1,Yt=b?At.map(Vt=>Vt.elNorm&&!Ut(Vt.elNorm)?{...Vt,score:0,reasons:[...Vt.reasons,"부재후순위: 원국 부재 → 0점"]}:Vt):At;return Yt.sort((Vt,vt)=>{const zt=Ut(Vt.elNorm)?1:0,ct=Ut(vt.elNorm)?1:0;return b&&zt!==ct?ct-zt:(vt.score??0)!==(Vt.score??0)?(vt.score??0)-(Vt.score??0):(Vt.elNorm??Vt.element).localeCompare(vt.elNorm??vt.element)}),Yt},[Ct,b,J,H]),kt=B.useMemo(()=>Math.max(0,...Pt.map(wt=>Number.isFinite(wt.score)?wt.score:0)),[Pt]);function Bt(wt){return jS(wt,{criteriaMode:"modern",useHarmonyOverlay:!0})}return K0(G)?y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:n9.map(wt=>y.jsx("button",{onClick:()=>g(wt),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(m===wt?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:wt},wt))}),y.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["격국 · 물상론","일간 · 오행 강약","형충회합","신살"].map(wt=>y.jsx("button",{onClick:()=>f(wt),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(d===wt?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:wt},wt))}),d==="형충회합"&&y.jsx(T5,{pillars:G,daewoon:C||void 0,sewoon:A||void 0,wolwoon:O||void 0,ilwoon:R||void 0,tab:m},`harm-${m}-${ht}`),d==="일간 · 오행 강약"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx(h5,{data:V,revKey:Et,perStemElementScaled:j?.perStemAugFull,elementPercent:U,dayStem:G[2]?.charAt(0)??null},`pentagon-${Et}`),y.jsx(g5,{value:Bt(G)}),y.jsx(M4,{natal:G}),y.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),Z&&y.jsxs("button",{type:"button",onClick:()=>v(wt=>!wt),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${b?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":b,children:["부재후순위: ",b?"ON":"OFF"]})]}),y.jsx("ul",{className:"space-y-2",children:Pt.map((wt,At)=>y.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[At+1,"위"]}),y.jsx("span",{className:"text-sm font-semibold",children:wt.element})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:y.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${kt>0?Math.max(2,Math.min(100,Math.round((wt.score??0)/kt*100))):12}%`},title:`점수 ${wt.score}`})}),y.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(wt.reasons??[]).map((Ut,Yt)=>y.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Ut},Yt))})]})]},wt.elNorm??wt.element))})]})]}),d==="신살"&&y.jsx(g4,{pillars:G,daewoon:C||void 0,sewoon:A||void 0,wolwoon:O||void 0,ilwoon:R||void 0,tab:m},`shin-${m}-${ht}`),d==="격국 · 물상론"&&y.jsx(qO,{unified:_t,pillars:G,tab:m,mapping:c.hiddenStemMode},`gyeok-${m}-${ht}`)]}):y.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."})}const fC=!1,R_=t=>t<10?`0${t}`:`${t}`,hC=t=>typeof t=="string"&&t.length>=2,mC=t=>Array.isArray(t)&&t.length===4&&t.every(hC);function pC(t){const r=t,a=typeof r.birthDay=="string"?r.birthDay:"",s=typeof r.calendarType=="string"?r.calendarType:"solar";if(a.length<8)return t;const c=Number(a.slice(0,4)),d=Number(a.slice(4,6)),f=Number(a.slice(6,8)),m=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let g=!1;for(const b of m){const v=r[b];if(typeof v=="boolean"){g=v;break}if(typeof v=="number"){g=v===1;break}if(typeof v=="string"){g=v==="1"||v.toLowerCase()==="true";break}}if(s==="lunar")try{const b=Xn(c,d,f,0,0),v=`${b.getFullYear()}${R_(b.getMonth()+1)}${R_(b.getDate())}`;return{...t,birthDay:v,calendarType:"solar"}}catch{return t}return t}function gC({data:t}){const[r,a]=B.useState("un"),s=B.useMemo(()=>{try{const m=pC(t);return so(m)}catch{return new Date}},[t]),c=B.useMemo(()=>Jf(t,s),[t,s]),d=!t.birthTime||t.birthTime==="모름",f=B.useMemo(()=>{try{const m=de(c,t.birthPlace?.lon),g=Se(c,t.birthPlace?.lon),b=ue(c,t.mingSikType),v=d?"":Kr(c,t.mingSikType);return[m,g,b,v]}catch{return[]}},[c,t?.mingSikType,t?.birthPlace?.lon,d]);return y.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[y.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[y.jsx("button",{onClick:()=>a("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),y.jsx("button",{onClick:()=>a("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),y.jsx("button",{onClick:()=>a("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${r==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),r==="un"&&y.jsx(X7,{data:t}),r==="myoun"&&y.jsx(a5,{data:t}),r==="report"&&y.jsx(dC,{data:t,pillars:mC(f)?f:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),P_=t=>{const r=yC(t);return r.charAt(0).toUpperCase()+r.slice(1)},zS=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),vC=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=B.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:c="",children:d,iconNode:f,...m},g)=>B.createElement("svg",{ref:g,...xC,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:zS("lucide",c),...!d&&!vC(m)&&{"aria-hidden":"true"},...m},[...f.map(([b,v])=>B.createElement(b,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=(t,r)=>{const a=B.forwardRef(({className:s,...c},d)=>B.createElement(_C,{ref:d,iconNode:r,className:zS(`lucide-${bC(P_(t))}`,`lucide-${t}`,s),...c}));return a.displayName=P_(t),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wC=hi("chevron-down",SC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EC=hi("chevron-up",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],NC=hi("heart-handshake",MC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DC=hi("house",AC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],kC=hi("menu",jC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CC=hi("plus",OC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BC=hi("settings",LC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],PC=hi("square-user",RC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],z_=hi("star",zC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HC=hi("user-plus",$C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vg=hi("x",IC);function GC({onOpenSidebar:t,onAddNew:r,onOpenCustom:a}){return y.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:y.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[y.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(kC,{size:22})}),y.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:r,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(HC,{size:18})}),y.jsx("button",{type:"button",onClick:a,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:y.jsx(PC,{size:18})})]})]})})}function UC(t){B.useEffect(()=>{const r=t??r1()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");i1(r),t&&rp(t)},[t])}const $S="harim.settings.v1",HS=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function ZC(t){return typeof t=="string"&&HS.includes(t)}function $_(t){const r=Array.isArray(t)?t.filter(ZC):[],a=HS.filter(s=>!r.includes(s));return[...r,...a]}function IS(){if(typeof window>"u")return null;try{const t=localStorage.getItem($S);return t?JSON.parse(t):null}catch{return null}}function YC(t){if(!(typeof window>"u"))try{const a={...IS()??{},...t};localStorage.setItem($S,JSON.stringify(a))}catch{}}function qC({open:t,onClose:r}){const{settings:a,setSettings:s}=sr(),c=B.useMemo(()=>$_(a.sectionOrder),[a.sectionOrder]),[d,f]=B.useState(c),[m,g]=B.useState(a),[b,v]=B.useState(null),S=m.ilunRule??"조자시/야자시";UC(m.theme??"dark"),B.useEffect(()=>{if(!t)return;const O=IS();if(O){const R={...a,...O};g(R),f($_(O.sectionOrder??R.sectionOrder))}else g(a),f([...c])},[t]);const _=(O,R)=>{g($=>{const D={...$,[O]:R};return O==="theme"&&rp(R),D})},T=()=>{s({...m,sectionOrder:d}),m.theme&&rp(m.theme),YC({...m,sectionOrder:d}),v("설정이 적용되었습니다"),r()},M=O=>{const{destination:R,source:$}=O;if(!R||R.index===$.index)return;const D=Array.from(d),[C]=D.splice($.index,1);D.splice(R.index,0,C),f(D)},A=O=>{switch(O){case"theme":return y.jsx(Hr,{title:"테마",children:y.jsx(FC,{value:m.theme??"dark",onChange:R=>_("theme",R)})});case"hiddenStem":return y.jsx(Hr,{title:"지장간 표시 타입",children:y.jsx(qo,{value:m.hiddenStem,onChange:R=>_("hiddenStem",R),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return y.jsx(Hr,{title:"지장간 유형",children:y.jsx(qo,{value:m.hiddenStemMode,onChange:R=>_("hiddenStemMode",R),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return y.jsx(Hr,{title:"일운 달력 시간타입",children:y.jsx(qo,{value:S,onChange:R=>_("ilunRule",R),options:[{label:"자시",value:"자시"},{label:"조자시/야자시",value:"조자시/야자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return y.jsx(Hr,{title:"십이신살타입",children:y.jsx(qo,{value:m.sinsalMode,onChange:R=>_("sinsalMode",R),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return y.jsx(Hr,{title:"십이신살기준",children:y.jsx(qo,{value:m.sinsalBase,onChange:R=>_("sinsalBase",R),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return y.jsx(Hr,{title:"개화론 적용여부",children:y.jsx(Ys,{label:"개화론 적용",checked:!!m.sinsalBloom,onChange:R=>_("sinsalBloom",R)})});case"exposure":return y.jsx(Hr,{title:"상단 노출",children:y.jsx(qo,{value:m.exposure,onChange:R=>_("exposure",R),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return y.jsx(Hr,{title:"글자 타입",children:y.jsx(qo,{value:m.charType,onChange:R=>_("charType",R),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return y.jsx(Hr,{title:"음간 얇게",children:y.jsx(Ys,{label:"음간 얇게",checked:!!m.thinEum,onChange:R=>_("thinEum",R)})});case"visibility":return y.jsx(Hr,{title:"표시 항목",children:y.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[y.jsx(Ys,{label:"십신 표시",checked:!!m.showSipSin,onChange:R=>_("showSipSin",R)}),y.jsx(Ys,{label:"운성 표시",checked:!!m.showSibiUnseong,onChange:R=>_("showSibiUnseong",R)}),y.jsx(Ys,{label:"신살 표시",checked:!!m.showSibiSinsal,onChange:R=>_("showSibiSinsal",R)})]})});case"difficultyMode":return y.jsx(Hr,{title:"난이도 UP ver.",children:y.jsx(Ys,{label:"난이도 UP 적용",checked:!!m.difficultyMode,onChange:R=>_("difficultyMode",R)})});default:return null}};return y.jsxs(y.Fragment,{children:[y.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),y.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),y.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-lg font-bold",children:"설정"}),y.jsx("button",{onClick:T,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),y.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:y.jsx(vg,{size:22})})]}),t&&y.jsx(eu,{onDragEnd:M,children:y.jsx(Xo,{droppableId:"settings-sections",children:O=>y.jsxs("ul",{ref:O.innerRef,...O.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((R,$)=>y.jsx(al,{draggableId:R,index:$,children:D=>y.jsxs("li",{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[y.jsx("span",{className:"mr-2 select-none",children:"☰"}),y.jsx("div",{className:"flex-1 min-w-0",children:A(R)})]})},R)),O.placeholder]})})})]}),b&&y.jsx(R2,{message:b,onClose:()=>v(null),ms:1800})]})}function FC({value:t,onChange:r}){const a=t==="dark";return y.jsxs("button",{"data-no-drag":!0,onClick:()=>r(a?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":a,children:[y.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),y.jsx("span",{children:a?"다크":"라이트"})]})}function Hr({title:t,children:r}){return y.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[y.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),y.jsx("div",{className:"flex justify-center",children:r})]})}function qo({value:t,onChange:r,options:a}){return y.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:a.map(s=>{const c=t===s.value;return y.jsx("button",{type:"button",onClick:()=>r(s.value),className:`px-3 py-1 text-sm transition-colors ${c?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:s.label},s.value)})})}function Ys({label:t,checked:r,onChange:a}){const s=`switch-${t}`;return y.jsxs("label",{"data-no-drag":!0,htmlFor:s,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[y.jsx("span",{children:t}),y.jsx("input",{id:s,type:"checkbox",checked:r,onChange:c=>a(c.target.checked),className:"peer hidden"}),y.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function VC({onShowToday:t,onShowCouple:r}){const[a,s]=B.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:y.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[y.jsx(X0,{icon:y.jsx(DC,{size:22}),label:"오늘의 사주",onClick:t}),y.jsx(X0,{icon:y.jsx(NC,{size:22}),label:"궁합",onClick:r}),y.jsx(X0,{icon:y.jsx(BC,{size:22}),label:"기타설정",onClick:()=>s(!0)})]})}),y.jsx(qC,{open:a,onClose:()=>s(!1)})]})}function X0({icon:t,label:r,onClick:a}){return y.jsxs("button",{onClick:a,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,y.jsx("span",{className:"mt-1",children:r})]})}function KC(t,r={}){const{onConfirm:a,onCancel:s,duration:c=1/0,id:d="confirm-center",disableBackdropClose:f=!1,confirmText:m="확인",cancelText:g="취소"}=r;return r0.custom(b=>{if(typeof window>"u"||!document?.body)return null;const v=()=>{const S=B.useRef(!1),_=()=>{S.current||(S.current=!0,r0.dismiss(b.id),setTimeout(()=>{s?.()},0))},T=()=>{S.current||(S.current=!0,r0.dismiss(b.id),setTimeout(()=>{a?.()},0))};return B.useEffect(()=>{const M=A=>{S.current||((A.key==="Escape"||A.key==="Esc")&&(A.preventDefault(),A.stopPropagation(),_()),A.key==="Enter"&&(A.preventDefault(),A.stopPropagation(),T()))};return document.addEventListener("keydown",M,{capture:!0}),()=>document.removeEventListener("keydown",M,{capture:!0})},[]),y.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:f?void 0:_}),y.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[y.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:_,children:g}),y.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:m})]})]})]})};return Qc.createPortal(y.jsx(v,{}),document.body)},{id:d,duration:c})}function Fo(t,r){const[a,s]=B.useState(r),[c,d]=B.useState(!1);return B.useEffect(()=>{try{if(typeof window>"u")return;const f=localStorage.getItem(t);f!=null&&s(JSON.parse(f))}catch{}finally{d(!0)}},[t]),B.useEffect(()=>{if(c)try{localStorage.setItem(t,JSON.stringify(a))}catch{}},[t,a,c]),[a,s,c]}function H_(t,r,a){const s=t.slice(),[c]=s.splice(r,1);return s.splice(a,0,c),s}const XC="list:__unassigned__",I_="list:";function WC(t,r){const[a,s]=Fo(Mf,[]),[c,d]=Fo(Dj,{}),[f,m]=Fo(Aj,[]),[g,b]=Fo(B2,[]),[v,S]=Fo("ms_folder_open",{}),[_,T]=Fo("ms_memo_open",{}),[M,A]=Fo("ms_new_folder_tmp",""),O=B.useRef(0);function R(it,q,I){const Q=Date.now();Q-O.current<450||(O.current=Q,KC(it,{onConfirm:q,onCancel:I,duration:Number.POSITIVE_INFINITY}))}const $=B.useMemo(()=>Ef.filter(it=>!g.includes(it)),[g]),D=B.useMemo(()=>[...$,...a],[$,a]);B.useEffect(()=>{m(it=>{const q=it.filter(I=>D.includes(I));for(const I of D)q.includes(I)||q.push(I);return q})},[D,m]);const C=B.useMemo(()=>{const it=f.filter(I=>!!c[I]),q=f.filter(I=>!c[I]);return[...it,...q]},[f,c]);B.useEffect(()=>{S(it=>{const q={...it};for(const I of C)q[I]===void 0&&(q[I]=!0);return q})},[C,S]),B.useEffect(()=>{t.filter(Q=>Q.folder==="미분류").forEach(Q=>r(Q.id,{folder:void 0}));const q=new Set(D);t.filter(Q=>Q.folder&&!q.has(Q.folder)).forEach(Q=>r(Q.id,{folder:void 0}))},[t,D,r]);const{grouped:k,unassignedItems:K}=B.useMemo(()=>{const it={};for(const Q of C)it[Q]=[];const q=[];for(const Q of t){const nt=Q.folder;nt&&it[nt]?it[nt].push(Q):q.push(Q)}const I=(Q,nt)=>+!!nt.favorite-+!!Q.favorite;for(const Q of Object.keys(it))it[Q]=it[Q].slice().sort(I);return q.sort(I),{grouped:it,unassignedItems:q}},[t,C]);function F(it){const{destination:q,draggableId:I,type:Q,source:nt}=it;if(q){if(Q==="FOLDER"){const at=I.replace(/^folder-/,""),G=f.filter(_t=>!!c[_t]),ot=f.filter(_t=>!c[_t]);if(!!c[at]){const _t=G.indexOf(at),j=Math.min(G.length-1,q.index);m([...H_(G,_t,j),...ot])}else{const _t=ot.indexOf(at),j=Math.min(ot.length-1,q.index-G.length);m([...G,...H_(ot,_t,j)])}return}if(Q==="ITEM"){const at=I.replace(/^item:/,""),G=nt?.droppableId??"",ot=q?.droppableId??"",st=Z=>{if(!Z.startsWith(I_))return;const J=Z.slice(I_.length);return J==="__unassigned__"?void 0:J},_t=st(G),j=st(ot);if(_t===j)return;const H=t.find(Z=>Z.id===at);if(!H)return;r(H.id,{folder:j});return}}}function tt(it){const q=it.trim();if(!q)return;const I=new Set([...C,...a]);let Q=q,nt=2;for(;I.has(Q);)Q=`${q} ${nt++}`;s(at=>[...at,Q]),S(at=>({...at,[Q]:!0})),A("")}function et(it){t.filter(I=>I.folder===it).forEach(I=>r(I.id,{folder:void 0})),Ef.includes(it)?b(I=>Array.from(new Set([...I,it]))):s(I=>I.filter(Q=>Q!==it)),S(I=>{const Q={...I};return delete Q[it],Q}),d(I=>{const Q={...I};return delete Q[it],Q}),m(I=>I.filter(Q=>Q!==it))}return{folderFavMap:c,setFolderFavMap:d,folderOpenMap:v,setFolderOpenMap:S,memoOpenMap:_,setMemoOpenMap:T,newFolderName:M,setNewFolderName:A,orderedFolders:C,grouped:k,unassignedItems:K,confirmThrottled:R,handleDragEnd:F,createFolder:tt,deleteFolder:et,displayFolderLabel:jj,UNASSIGNED_LABEL:De,DROPPABLE_UNASSIGNED:XC}}function QC(t,r){if(!/^\d{8}$/.test(t))return t||"";const a=t.slice(0,4),s=t.slice(4,6),c=t.slice(6,8);return r&&/^\d{4}$/.test(r)?`${a}년 ${s}월 ${c}일생 ${r.slice(0,2)}:${r.slice(2,4)}분`:r==="모름"?`${a}년 ${s}월 ${c}일생 (시간 모름)`:`${a}년 ${s}월 ${c}일생`}function JC(t){if(!t)return"";const r=t.split(/[\s,]+/).filter(Boolean);if(r.length===0)return"";const a=f=>r.find(m=>f.some(g=>m.endsWith(g))),s=a(["시","군","구"]),c=a(["동","읍","면","리"]);return r.length===1||!a(["시","군","구","동","읍","면","리"])&&!a(["도","광역시","특별시","자치시","자치도"])?t:s&&c?`${s} ${c}`:s||t}function tL(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function Sp(t){return typeof t=="object"&&t!==null}function eL(t){if(!Sp(t))throw new Error("Invalid lunar2solar result");const r=t,a=r.cYear,s=r.cMonth,c=r.cDay;if(typeof a!="number"||typeof s!="number"||typeof c!="number")throw new Error("Invalid lunar2solar fields");const d=r.isLeap;return{cYear:a,cMonth:s,cDay:c,isLeap:typeof d=="boolean"?d:void 0}}function nL(t){const r=Sp(t)&&"default"in t?t.default:t;if(!Sp(r))throw new Error("solarlunar module invalid");const a=r.lunar2solar;if(typeof a!="function")throw new Error("solarlunar.lunar2solar not found");return(s,c,d)=>eL(a(s,c,d,!1))}const rL=nL(Jp);function GS(t){const r=t.mingSikType??"조자시/야자시";let a=Number(t.birthDay.slice(0,4)),s=Number(t.birthDay.slice(4,6)),c=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const $=rL(a,s,c);a=$.cYear,s=$.cMonth,c=$.cDay}const d=!t.birthTime||t.birthTime==="모름",f=d?4:Number(t.birthTime.slice(0,2)),m=d?30:Number(t.birthTime.slice(2,4)),g=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,b=new Date(a,s-1,c,f,m,0,0),v=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",S=ts(b,g,v),_=d?"":S.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=de(S,g),M=Se(S,g),A=ue(S,r),O=d?null:Kr(S,r),R=[`원국 : ${T}년 ${M}월 ${A}일`,O?`${O}시`:null].filter(Boolean).join(" ");return{correctedLocal:_,ganji:R}}const G_="sidebar.orderMap.v1",U_="sidebar.folderOrder.v1",Dc="list:__unassigned__",ef=t=>`list:${t}`,W0=t=>{if(!t.startsWith("list:"))return;const r=t.slice(5);return r==="__unassigned__"?void 0:r};function iL({open:t,onClose:r,onView:a,onAddNew:s,onEdit:c,onDeleteView:d}){const{list:f,remove:m,update:g}=Qo(),{folderFavMap:b,setFolderFavMap:v,folderOpenMap:S,setFolderOpenMap:_,memoOpenMap:T,setMemoOpenMap:M,newFolderName:A,setNewFolderName:O,orderedFolders:R,grouped:$,unassignedItems:D,handleDragEnd:C,createFolder:k,deleteFolder:K,UNASSIGNED_LABEL:F,displayFolderLabel:tt}=WC(f,g),[et,it]=B.useState([]);B.useEffect(()=>{try{const H=localStorage.getItem(U_);if(H){const Z=JSON.parse(H);Array.isArray(Z)&&it(Z)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),B.useEffect(()=>{try{localStorage.setItem(U_,JSON.stringify(et))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[et]);const[q,I]=B.useState({});B.useEffect(()=>{try{const H=localStorage.getItem(G_);if(H){const Z=JSON.parse(H);Z&&typeof Z=="object"&&I(J=>({...Z,...J}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),B.useEffect(()=>{try{localStorage.setItem(G_,JSON.stringify(q))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[q]);const[Q,nt]=B.useState(!1),at=(H,Z)=>{const J=new Map(Z.map(Y=>[Y.id,Y])),V=q[H]??[],U=[];for(const Y of V){const ht=J.get(Y);ht&&(U.push(ht),J.delete(Y))}return J.forEach(Y=>U.push(Y)),U},G=H=>{const Z=W0(H),J=Z?$[Z]||[]:D;return at(H,J).map(V=>V.id)};B.useEffect(()=>{I(H=>{let Z=!1;const J={...H};{const V=Dc,U=D.map(Y=>Y.id);if(!J[V])J[V]=U,Z=!0;else{const Y=U.filter(gt=>!J[V].includes(gt));Y.length&&(J[V]=[...J[V],...Y],Z=!0);const ht=J[V].filter(gt=>!U.includes(gt));ht.length&&(J[V]=J[V].filter(gt=>!ht.includes(gt)),Z=!0)}}for(const V of R){const U=ef(V),Y=($[V]||[]).map(ht=>ht.id);if(!J[U])J[U]=Y,Z=!0;else{const ht=Y.filter(Et=>!J[U].includes(Et));ht.length&&(J[U]=[...J[U],...ht],Z=!0);const gt=J[U].filter(Et=>!Y.includes(Et));gt.length&&(J[U]=J[U].filter(Et=>!gt.includes(Et)),Z=!0)}}return Z?J:H})},[D,$,R]);const ot=B.useMemo(()=>[...et.filter(H=>R.includes(H)),...R.filter(H=>!et.includes(H))],[et,R]),st=H=>H??{},_t=(H,Z)=>{const J=tL(H),V=JC(H.birthPlace?.name),U=`item:${H.id}`,Y=!!T[H.id];let ht=new Date(H.corrected);Tf(ht.getFullYear(),ht.getMonth()+1,ht.getDate())&&(ht=new Date(ht.getTime()-3600*1e3));const gt=!H.birthTime||H.birthTime==="모름",Et=String(H.birthDay).trim();let Ct=NaN;if(/^\d{8}$/.test(Et)){const wt=`${Et.slice(0,4)}-${Et.slice(4,6)}-${Et.slice(6,8)}`,At=new Date(wt);isNaN(At.getTime())||(Ct=At.getFullYear())}else{const wt=new Date(Et);isNaN(wt.getTime())||(Ct=wt.getFullYear())}function Pt(wt,At){return isNaN(wt)?0:At-wt+1}const kt=new Date().getFullYear(),Bt=Pt(Ct,kt);return y.jsx(al,{draggableId:U,index:Z,children:wt=>y.jsx("li",{ref:wt.innerRef,...wt.draggableProps,...wt.dragHandleProps,style:st(wt.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:y.jsxs("div",{className:"p-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[H.name," (",Bt,"세, ",H.gender,")"]}),y.jsx("span",{className:"opacity-40",children:"｜"}),y.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:H.relationship?H.relationship:"관계 미지정"}),y.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),y.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[QC(H.birthDay,H.birthTime),","," ",H.calendarType==="lunar"?"음력":"양력"]}),(V||ht)&&y.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[V,ht&&y.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",gt?"모름":Rk(ht)]})]}),J&&y.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:J}),H.memo&&H.memo.trim()!==""&&y.jsxs("div",{children:[y.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:At=>{At.stopPropagation(),M(Ut=>({...Ut,[H.id]:!Ut[H.id]}))},children:Y?"메모 닫기":"메모 열기"}),y.jsx("div",{className:Y?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:H.memo})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[y.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:tt(H.folder),onClick:At=>At.stopPropagation(),onChange:At=>{At.stopPropagation();const Ut=At.target.value,Yt=ol(Ut),Vt=H.id,vt=H.folder?ef(H.folder):Dc,zt=Yt?ef(Yt):Dc;Yt&&!R.includes(Yt)&&k(Yt),I(ct=>{const dt={...ct},Ot=G(vt),Ht=vt===zt?Ot.slice():G(zt).slice(),Rt=Ot.indexOf(Vt);Rt>=0&&Ot.splice(Rt,1);const ne=Ht.indexOf(Vt);return ne>=0&&Ht.splice(ne,1),Ht.unshift(Vt),dt[vt]=Ot,dt[zt]=Ht,dt}),g(Vt,{folder:Yt})},children:[F,...R].map(At=>y.jsx("option",{value:At,children:At},At))}),y.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:H.mingSikType??"조자시/야자시",onClick:At=>At.stopPropagation(),onChange:At=>{At.stopPropagation();const Ut=At.target.value,Yt={...H,mingSikType:Ut},Vt=GS(Yt);g(H.id,{mingSikType:Ut,...Vt}),a({...Yt,...Vt}),r()},children:[y.jsx("option",{value:"자시",children:"자시"}),y.jsx("option",{value:"조자시/야자시",children:"조자시/야자시"}),y.jsx("option",{value:"인시",children:"인시"})]})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx("button",{onClick:At=>{At.stopPropagation(),a(H),r()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),y.jsx("button",{onClick:At=>{At.stopPropagation(),c?.(H)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),y.jsx("button",{onClick:At=>{At.stopPropagation(),confirm(`'${H.name}' 명식을 삭제할까요?`)&&(m(H.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),y.jsx("button",{type:"button",onClick:At=>{At.stopPropagation(),g(H.id,{favorite:!H.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${H.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:y.jsx(z_,{size:16,fill:H.favorite?"currentColor":"none"})})]})]})})},U)},j=H=>{const{source:Z,destination:J,draggableId:V,type:U}=H;if(J){if(U==="FOLDER"){C(H),it(Y=>{const ht=[...Y],[gt]=ht.splice(Z.index,1);return ht.splice(J.index,0,gt),ht});return}if(U==="ITEM"){const Y=V.replace(/^item:/,""),ht=Z.droppableId,gt=J.droppableId;I(Pt=>{const kt={...Pt},Bt=G(ht),wt=ht===gt?Bt.slice():G(gt).slice();if(ht===gt){const[Yt]=wt.splice(Z.index,1);return wt.splice(J.index,0,Yt),kt[ht]=wt,kt}const At=Bt.indexOf(Y);At>=0&&Bt.splice(At,1);const Ut=wt.indexOf(Y);return Ut>=0&&wt.splice(Ut,1),wt.splice(J.index,0,Y),kt[ht]=Bt,kt[gt]=wt,kt});const Et=W0(ht),Ct=W0(gt);Et!==Ct&&g(Y,{folder:Ct})}}};return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),y.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${Q?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[y.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[y.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{s(),r()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[y.jsx(CC,{size:16})," 명식추가"]}),y.jsx("button",{onClick:r,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:y.jsx(vg,{size:22})})]})]}),y.jsx(eu,{onDragStart:()=>nt(!0),onDragEnd:H=>{nt(!1),j(H)},children:y.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[y.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[y.jsx("input",{type:"text",value:A,onChange:H=>O(H.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:H=>H.stopPropagation()}),y.jsx("button",{type:"button",onClick:()=>k(A),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:H=>H.stopPropagation(),children:"생성"})]}),y.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),y.jsx(Xo,{droppableId:Dc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:H=>{const Z=at(Dc,D);return y.jsx("div",{ref:H.innerRef,...H.droppableProps,className:"mb-6",children:y.jsxs("ul",{className:"flex flex-col gap-2",children:[Z.map((J,V)=>_t(J,V)),H.placeholder]})})}}),y.jsx(Xo,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:H=>y.jsxs("div",{ref:H.innerRef,...H.droppableProps,children:[ot.map((Z,J)=>{const V=ef(Z),U=at(V,$[Z]||[]),Y=!!S[Z],ht=!!b[Z];return y.jsx(al,{draggableId:`folder-${Z}`,index:J,children:gt=>y.jsxs("div",{ref:gt.innerRef,...gt.draggableProps,...gt.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[y.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:Et=>{Et.stopPropagation(),_(Ct=>({...Ct,[Z]:!Y}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[Y?y.jsx(EC,{size:16}):y.jsx(wC,{size:16}),y.jsx("span",{className:"text-sm font-semibold",children:Z})]}),y.jsx("button",{type:"button",onClick:Et=>{Et.stopPropagation(),v(Ct=>({...Ct,[Z]:!Ct[Z]}))},className:`p-1 rounded cursor-pointer ${ht?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:y.jsx(z_,{size:16,fill:ht?"currentColor":"none"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"opacity-60 text-xs",children:[U.length,"개"]}),y.jsx("button",{type:"button",onClick:Et=>{if(Et.stopPropagation(),b[Z]){alert(`'${Z}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${Z}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&K(Z)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),Y&&y.jsx(Xo,{droppableId:V,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:Et=>y.jsx("div",{ref:Et.innerRef,...Et.droppableProps,className:"mt-2",children:y.jsxs("ul",{className:"flex flex-col gap-2",children:[U.map((Ct,Pt)=>_t(Ct,Pt)),Et.placeholder]})})})]})},`folder-${Z}`)}),H.placeholder]})})]})})]})]})}const Z_="ms_folders",Q0="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",aL="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",oL="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",oa="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",sL="text-xs text-neutral-500 dark:text-neutral-400",nf="accent-violet-600 dark:accent-violet-400",Y_="accent-violet-600 dark:accent-violet-400",ah="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",lL=`${ah} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,cL=`${ah} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,q_=`${ah} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,uL=`${ah} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function dL({item:t,onClose:r}){const{list:a,update:s,remove:c}=Qo(),[d,f]=B.useState(!1),[m,g]=B.useState({...t,calendarType:t.calendarType??"solar"}),[b,v]=B.useState(!t.birthTime||t.birthTime==="모름"),[S,_]=B.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=B.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[M,A]=B.useState([]);B.useEffect(()=>{try{const k=JSON.parse(localStorage.getItem(Z_)||"[]");Array.isArray(k)&&A(k)}catch{}},[]);const O=B.useMemo(()=>{const k=Array.from(new Set(a.map(tt=>tt.folder).filter(Boolean))),K=new Set([...T,...M,...k]),F=Array.from(K).sort((tt,et)=>tt.localeCompare(et));return[De,...F]},[a,M,T]),R=()=>{g({...t,calendarType:t.calendarType??"solar"}),v(!t.birthTime||t.birthTime==="모름"),_(!t.birthPlace||t.birthPlace.name==="모름")},$=()=>{if(!m.name||m.name.trim()==="")return"이름을 입력해주세요.";if(!m.birthDay||!/^\d{8}$/.test(m.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const k=Number(m.birthDay.slice(0,4)),K=Number(m.birthDay.slice(4,6)),F=Number(m.birthDay.slice(6,8));if(m.calendarType==="lunar")try{Xn(k,K,F)}catch(tt){return tt instanceof Error?tt.message:"음력 날짜가 유효하지 않습니다."}else{const tt=new Date(k,K-1,F);if(tt.getFullYear()!==k||tt.getMonth()+1!==K||tt.getDate()!==F)return"존재하지 않는 양력 날짜입니다."}if(!b){if(!m.birthTime||!/^\d{4}$/.test(m.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const tt=Number(m.birthTime.slice(0,2)),et=Number(m.birthTime.slice(2,4));if(tt<0||tt>23||et<0||et>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!S&&!m.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},D=()=>{const k=$();if(k){alert(k);return}const K=Number(m.birthDay.slice(0,4)),F=Number(m.birthDay.slice(4,6)),tt=Number(m.birthDay.slice(6,8));let et=K,it=F,q=tt;if(m.calendarType==="lunar"){const ht=Xn(K,F,tt);et=ht.getFullYear(),it=ht.getMonth()+1,q=ht.getDate()}const I=b?4:Number((m.birthTime??"0430").slice(0,2)),Q=b?30:Number((m.birthTime??"0430").slice(2,4)),nt=S||!m.birthPlace||m.birthPlace.lon===0?127.5:m.birthPlace.lon,at=new Date(et,it-1,q,I,Q,0,0),G=!m.birthPlace||typeof m.birthPlace=="object"&&m.birthPlace.name==="모름",ot=ts(at,nt,G),_t=de(ot,nt).charAt(0),H=((ht,gt)=>{const Ct=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(ht),Pt=(gt??"남자")==="남자";return Ct?Pt?"forward":"backward":Pt?"backward":"forward"})(_t,m.gender??"남자"),Z=ol(m.folder===De?void 0:m.folder),J={...t,name:(m.name??"").trim()||"이름없음",birthDay:m.birthDay,birthTime:b?"모름":m.birthTime??"0430",gender:m.gender??"남자",birthPlace:S?{name:"모름",lat:0,lon:127.5}:m.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:m.relationship??"",memo:m.memo??"",folder:Z,calendarType:m.calendarType??"solar",mingSikType:m.mingSikType??"조자시/야자시",DayChangeRule:(m.mingSikType??"조자시/야자시")==="인시"?"인시일수론":"자시일수론",dir:H,corrected:ot,correctedLocal:"",ganji:""},{correctedLocal:V,ganji:U}=GS(J),Y={...J,correctedLocal:V,ganji:U};if(Y.folder&&!T.includes(Y.folder)&&!M.includes(Y.folder)){const ht=[...M,Y.folder];A(ht),localStorage.setItem(Z_,JSON.stringify(ht))}s(t.id,Y),f(!1),r&&r()},C=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&c(t.id)};return d?y.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[y.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"이름"}),y.jsx("input",{className:Q0,value:m.name||"",onChange:k=>g({...m,name:k.target.value}),placeholder:"이름"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"생년월일 (YYYYMMDD)"}),y.jsx("input",{className:Q0,value:m.birthDay||"",onChange:k=>g({...m,birthDay:k.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),y.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:nf,name:"calendarType",checked:m.calendarType==="solar",onChange:()=>g({...m,calendarType:"solar"}),id:"editor_calendar_solar"}),y.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:nf,name:"calendarType",checked:m.calendarType==="lunar",onChange:()=>g({...m,calendarType:"lunar"}),id:"editor_calendar_lunar"}),y.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),m.calendarType==="lunar"&&m.birthDay?.length===8&&y.jsx("span",{className:sL,children:(()=>{try{const k=Number(m.birthDay.slice(0,4)),K=Number(m.birthDay.slice(4,6)),F=Number(m.birthDay.slice(6,8)),tt=Xn(k,K,F);return`→ 양력 ${tt.getFullYear()}-${String(tt.getMonth()+1).padStart(2,"0")}-${String(tt.getDate()).padStart(2,"0")}`}catch(k){const K=k instanceof Error?k.message:void 0;return`→ 변환 실패${K?`: ${K}`:""}`}})()})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"태어난 시간 (HHMM)"}),y.jsx("input",{className:`${Q0} disabled:opacity-50`,value:b?"":m.birthTime||"",onChange:k=>g({...m,birthTime:k.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:b}),y.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:Y_,checked:b,onChange:k=>v(k.target.checked),id:"editor_birthTimeX"}),y.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"명식 기준"}),y.jsx("div",{className:"flex gap-4 text-sm",children:["자시","조자시/야자시","인시"].map(k=>{const K=`editor_ming_${k}`;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:nf,name:"mingSikType",checked:(m.mingSikType??"자시")===k,onChange:()=>g({...m,mingSikType:k}),id:K}),y.jsx("label",{htmlFor:K,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:k})]},k)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"성별"}),y.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(k=>{const K=`editor_gender_${k}`;return y.jsxs("span",{className:"inline-flex items-center gap-1",children:[y.jsx("input",{type:"radio",className:nf,name:"gender",value:k,checked:m.gender===k,onChange:F=>g({...m,gender:F.target.value}),id:K}),y.jsx("label",{htmlFor:K,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:k})]},k)})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"태어난 지역"}),y.jsx(w1,{onSelect:k=>g({...m,birthPlace:k}),value:S?"출생지선택":m.birthPlace?.name??""}),y.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",className:Y_,checked:S,onChange:k=>_(k.target.checked),id:"editor_birthPlaceX"}),y.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"관계"}),y.jsx(L2,{value:m.relationship||"",onChange:k=>g({...m,relationship:k})})]}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"폴더"}),y.jsx("select",{className:aL,value:m.folder??De,onChange:k=>{const K=k.target.value;g(K===De?{...m,folder:void 0}:{...m,folder:K})},children:O.map(k=>y.jsx("option",{value:k===De?De:k,children:k},k))})]}),y.jsxs("div",{children:[y.jsx("label",{className:oa,children:"메모"}),y.jsx("textarea",{className:oL,value:m.memo||"",onChange:k=>g({...m,memo:k.target.value}),placeholder:"메모를 입력하세요"})]}),y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{className:q_,onClick:()=>{R(),f(!1)},children:"취소"}),y.jsx("button",{className:uL,onClick:D,children:"저장"})]})]}):y.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:lL,onClick:()=>f(!0),children:"수정"}),y.jsx("button",{className:cL,onClick:C,children:"삭제"}),r&&y.jsx("button",{className:q_,onClick:r,children:"닫기"})]})]}),y.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[y.jsxs("div",{children:["성별: ",t.gender]}),y.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),y.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),y.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),y.jsxs("div",{children:["관계: ",t.relationship||"-"]}),y.jsxs("div",{children:["폴더: ",t.folder??De]})]}),t.ganji&&y.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&y.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[y.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function fL({pillarsA:t,pillarsB:r}){const a=w5(t,r);return y.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[y.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(a).map(([s,c])=>c.length>0?y.jsxs("div",{className:"flex gap-2 text-xs",children:[y.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:s}),y.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((d,f)=>y.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},f))})]},s):null)]})}function hL(t){return typeof t=="object"&&t!==null}const mL=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],pL=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],gL=new Set(mL),bL=new Set(pL);function F_(t){return typeof t=="string"&&t.length>=2&&gL.has(t[0])&&bL.has(t[1])}function Ie(t,...r){if(F_(t))return t;for(const a of r)if(F_(a))return a;return"甲子"}function rf(t,r){let a=null;const s=r.getTime();for(const c of t)if(c.at.getTime()<=s)a=c;else break;return a}function yL(t){const r=a=>String(a).padStart(2,"0");return`${t.getFullYear()}-${r(t.getMonth()+1)}-${r(t.getDate())}T${r(t.getHours())}:${r(t.getMinutes())}`}function V_(t){if(!t)return null;const r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!r)return null;const[,a,s,c,d,f]=r,m=new Date(+a,+s-1,+c,+d,+f);return Number.isNaN(m.getTime())?null:m}function Cf(t){const r=t;return typeof r.name=="string"&&r.name?r.name:typeof r.title=="string"&&r.title?r.title:typeof r.memo=="string"&&r.memo?r.memo:"이름 없음"}function vL(t){const r=Number(t.birthDay.slice(0,4)),a=Number(t.birthDay.slice(4,6)),s=Number(t.birthDay.slice(6,8));let c=0,d=0;const f=t;return typeof f.birthTime=="string"&&f.birthTime.length>=4&&(c=Number(f.birthTime.slice(0,2)),d=Number(f.birthTime.slice(2,4))),{y:r,m:a,d:s,hh:c,mm:d}}function oh(t){const{y:r,m:a,d:s}=vL(t),c=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?Xn(r,a,s,c,d):new Date(r,a-1,s,c,d)}function xL(t){const r=oh(t);return`${Cf(t)}-${r.toISOString()}`}function jc(t){const r=t;return typeof r.id=="string"&&r.id?r.id:xL(t)}function _L(t){return hL(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function SL(t){const r=es;return _L(r)?t==="classic"?r.Classic:r.Modern:t}const J0="people_picker_order_v1";function wL(t,r,a){const s=t.slice(),[c]=s.splice(r,1);return s.splice(a,0,c),s}function K_({open:t,list:r,onSelect:a,onClose:s}){const[c,d]=B.useState("");B.useEffect(()=>{t||d("")},[t]);const f=B.useMemo(()=>r.map(jc),[r]),m=B.useMemo(()=>new Set(f),[f]),[g,b]=B.useState([]);B.useEffect(()=>{const A=localStorage.getItem(J0),O=A?JSON.parse(A):[],R=O.filter(D=>m.has(D)),$=[...R,...f.filter(D=>!R.includes(D))];b($),JSON.stringify($)!==JSON.stringify(O)&&localStorage.setItem(J0,JSON.stringify($))},[f,m]);const v=A=>{b(A),localStorage.setItem(J0,JSON.stringify(A))},S=B.useMemo(()=>{const A=new Map(r.map(R=>[jc(R),R])),O=[];for(const R of g){const $=A.get(R);$&&O.push($)}return A.forEach((R,$)=>{g.includes($)||O.push(R)}),O},[r,g]),_=B.useMemo(()=>{const A=c.trim().toLowerCase();return A?S.filter(O=>Cf(O).toLowerCase().includes(A)):S},[S,c]),T=c.trim()==="",M=A=>{const{destination:O,source:R}=A;if(!O||!T||O.index===R.index)return;const $=_.map(jc),D=wL($,R.index,O.index),k=S.map(jc).filter(F=>!$.includes(F)),K=[...D,...k].filter((F,tt,et)=>et.indexOf(F)===tt);v(K)};return y.jsxs(y.Fragment,{children:[y.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),y.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:s}),y.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),y.jsx("button",{onClick:s,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("input",{placeholder:"이름 검색",value:c,onChange:A=>d(A.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&y.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),y.jsx(eu,{onDragEnd:M,children:y.jsx(Xo,{droppableId:"peopleList",children:A=>y.jsxs("ul",{ref:A.innerRef,...A.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[_.map((O,R)=>{const $=String(jc(O)),D=oh(O);return y.jsx(al,{draggableId:$,index:R,children:C=>y.jsx("li",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,onClick:()=>a(O),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"mr-2 select-none",children:"☰"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Cf(O)}),y.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:zc(D)})]})]})})},$)}),A.placeholder]})})})]})]})}function tp({label:t,gzHour:r,gzDay:a,gzMonth:s,gzYear:c,dayStem:d,cardSettings:f,sinsalBaseBranch:m,sinsalMode:g,sinsalBloom:b}){const v=A=>{const O=f.showSibiUnseong?qn(d,A):"",R=f.showSibiSinsal?Fn({baseBranch:m,targetBranch:A,era:SL(g),gaehwa:!!b}):"";return{unseongText:O||void 0,shinsalText:R||void 0}},S=Ie(r).charAt(1),_=Ie(a).charAt(1),T=Ie(s).charAt(1),M=Ie(c).charAt(1);return y.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[y.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),y.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",Ie(r),S],["일주",Ie(a),_],["월주",Ie(s),T],["연주",Ie(c),M]].map(([A,O,R])=>{const{unseongText:$,shinsalText:D}=v(R);return y.jsx(Ks,{label:A,gz:O,dayStem:d,settings:sr.getState().settings,unseongText:$,shinsalText:D,hideBranchSipSin:!0,size:"sm"},`${t}-${A}`)})})]})}function TL(t){if(!t)return"";const r=t,a=m=>typeof r[m]=="string"?String(r[m]).trim().toLowerCase():null,s=m=>typeof r[m]=="boolean"?r[m]:null,c=[a("gender"),a("sex"),a("genderType"),a("성별"),a("sexType"),a("g")].filter(m=>!!m);for(const m of c){if(["남","남자","male","m","boy","man"].includes(m))return"남";if(["여","여자","female","f","girl","woman"].includes(m))return"여"}const d=s("isMale"),f=s("isFemale");return d===!0?"남":f===!0?"여":""}function qs({label:t,data:r,mode:a,effectiveDate:s,onPick:c}){const d=sr(k=>k.settings),f=B.useMemo(()=>r?oh(r):null,[r]),m=Ie(f?Kr(f,"조자시/야자시"):void 0),g=Ie(f?ue(f,"조자시/야자시"):void 0),b=Ie(f?Se(f):void 0),v=Ie(f?de(f):void 0),S=B.useMemo(()=>g.charAt(0)||"갑",[g]),_=f,T=B.useMemo(()=>{const k=r?.birthPlace;return!k||k.name==="모름"||!k.lon?127.5:k.lon},[r]),M=r?.mingSikType??"조자시/야자시",A=B.useMemo(()=>{const k=_?ue(_,M).charAt(1):g.charAt(1)||"子",K=_?de(_,T).charAt(1):v.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?k:K},[d.sinsalBase,_,M,T,g,v]),O=B.useMemo(()=>{if(a!=="묘운"||!f||!r)return null;try{const k=G2(f,m,r.dir,120,r.mingSikType),K=Z2(k,g,r.dir,r.DayChangeRule),F=nu(f,b,r.dir,120,r?.birthPlace?.lon??127.5),tt=Y2(F,v,r.dir,r.DayChangeRule,f),et=s;return{si:Ie(rf(k.events,et)?.gz,m),il:Ie(rf(K.events,et)?.gz,g),wl:Ie(rf(F.events,et)?.gz,b),yn:Ie(rf(tt.events,et)?.gz,v)}}catch{return null}},[a,f,m,g,b,v,s,r]),R=B.useMemo(()=>{if(a!=="실시간")return null;const k=s;return{si:Ie(Kr(k,"조자시/야자시")),il:Ie(ue(k,"조자시/야자시")),wl:Ie(Se(k)),yn:Ie(de(k))}},[a,s]),$=r?Cf(r):"",D=f?zc(f):"",C=r?TL(r):"";return r?y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{onClick:c,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),y.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[y.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),y.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:$}),C&&y.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",C]}),D&&y.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:D})]}),a==="원국"&&y.jsx(tp,{label:"원국",gzHour:m,gzDay:g,gzMonth:b,gzYear:v,dayStem:S,cardSettings:d,sinsalBaseBranch:A,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="묘운"&&O&&y.jsx(tp,{label:"묘운",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:S,cardSettings:d,sinsalBaseBranch:A,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),a==="실시간"&&R&&y.jsx(tp,{label:"실시간",gzHour:R.si,gzDay:R.il,gzMonth:R.wl,gzYear:R.yn,dayStem:S,cardSettings:d,sinsalBaseBranch:A,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):y.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:y.jsx("button",{onClick:c,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function EL({people:t=[]}){const[r,a]=B.useState(),[s,c]=B.useState(),[d,f]=B.useState(!1),[m,g]=B.useState(!1),b=B.useRef(new Date),[v,S]=B.useState(()=>yL(b.current)),_=B.useRef(V_(v)??b.current),T=B.useMemo(()=>{const D=V_(v);return D&&(_.current=D),_.current},[v]),[M,A]=B.useState(!1),[O,R]=B.useState(!1);function $(D){if(!D)return["甲子","甲子","甲子","甲子"];try{const C=oh(D),k={hour:Ie(Kr(C,"조자시/야자시")),day:Ie(ue(C,"조자시/야자시")),month:Ie(Se(C)),year:Ie(de(C))};return[k.year,k.month,k.day,k.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[y.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[y.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),y.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[y.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:d,onChange:D=>f(D.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),y.jsx("button",{onClick:()=>g(D=>!D),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:m?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[y.jsx(qs,{label:"원국 A",data:r,mode:"원국",effectiveDate:T,onPick:()=>A(!0)}),y.jsx(qs,{label:"원국 B",data:s,mode:"원국",effectiveDate:T,onPick:()=>R(!0)}),d&&r&&y.jsx(qs,{label:"묘운 A",data:r,mode:"묘운",effectiveDate:T,onPick:()=>A(!0)}),d&&s&&y.jsx(qs,{label:"묘운 B",data:s,mode:"묘운",effectiveDate:T,onPick:()=>R(!0)}),m&&r&&y.jsx(qs,{label:"실시간 A",data:r,mode:"실시간",effectiveDate:T,onPick:()=>A(!0)}),m&&s&&y.jsx(qs,{label:"실시간 B",data:s,mode:"실시간",effectiveDate:T,onPick:()=>R(!0)})]}),r&&s&&y.jsx("div",{className:"mt-4",children:y.jsx(fL,{pillarsA:$(r),pillarsB:$(s)})}),y.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[y.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),y.jsx("input",{type:"datetime-local",value:v,onChange:D=>S(D.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),y.jsx(K_,{open:M,list:t||[],onSelect:D=>{a(D),A(!1)},onClose:()=>A(!1)}),y.jsx(K_,{open:O,list:t||[],onSelect:D=>{c(D),R(!1)},onClose:()=>R(!1)})]})}function ML(){return y.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:y.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function NL({ms:t}){const{date:r,setDate:a}=Wn();B.useEffect(()=>{a(new Date)},[t]);const s=rg(t),c=B.useMemo(()=>{const m=r??new Date,g=m.getFullYear(),b=String(m.getMonth()+1).padStart(2,"0"),v=String(m.getDate()).padStart(2,"0");return`${g}-${b}-${v}`},[r]),d=m=>{if(!m)return;const[g,b,v]=m.split("-"),S=Number(g),_=Number(b),T=Number(v);if(!Number.isFinite(S)||!Number.isFinite(_)||!Number.isFinite(T))return;const M=r??new Date,A=M.getHours(),O=M.getMinutes(),R=new Date(S,_,0).getDate(),$=Math.min(T,R),D=new Date(S,_-1,$,A,O,0,0);Number.isNaN(D.getTime())||a(D)},f=B.useMemo(()=>{const m=t.ganji,g=s?.dae?.gz?`${s.dae.gz}대운`:null,b=s?.se?.gz?`${s.se.gz}세운`:null,v=s?.wol?.gz?`${s.wol.gz}월운`:null,S=[g,b,v].filter(Boolean).join(" ");return[m,S].filter(Boolean).join(" + ")},[t,s]);return y.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[f&&y.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:f}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:y.jsxs("label",{className:"w-full flex justify-center items-center",children:[y.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),y.jsx("input",{type:"date",value:c,onChange:m=>d(m.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const AL=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function DL(t){const r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${a}-${s}`}function af(t,r){return t&&r?`${t}${r}`:null}function X_(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const jL={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},kL=Fr.천간,OL=["인","묘","진","사","오","미","신","유","술","해","자","축"];function W_(t,r){let a;t==="갑"||t==="기"?a="병":t==="을"||t==="경"?a="무":t==="병"||t==="신"?a="경":t==="정"||t==="임"?a="임":a="갑";const s=jL[a],c=OL.indexOf(r),d=(s+(c>=0?c:0))%10;return kL[d]}const CL=Fr.지지.slice(),LL=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Fs(t,r){const s=(r==="자시"?m1:Np)[t],c=r==="자시"?CL:LL,d=Fr.지지.reduce((f,m)=>(f[m]="",f),{});for(let f=0;f<12;f++)d[c[f]]=s[f];return d}const BL={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},RL={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function PL({open:t,onClose:r,onSave:a}){const{settings:s}=sr(),[c,d]=B.useState(null),[f,m]=B.useState({}),[g,b]=B.useState(null),[v,S]=B.useState(!0),[_,T]=B.useState(!0),[M,A]=B.useState("자시"),[O,R]=B.useState("male"),[$,D]=B.useState(null),[C,k]=B.useState(!1),[,K]=B.useState(null),[F,tt]=B.useState(null),[et,it]=B.useState({gender:"남자",mingSikType:"조자시/야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[q,I]=B.useState(!1),[Q,nt]=B.useState(null),at=vt=>{nt(vt),setTimeout(()=>nt(null),1800)},[G,ot]=B.useState(!1),[st,_t]=B.useState(!1);B.useEffect(()=>{if(G){const vt=setTimeout(()=>ot(!1),2e3);return()=>clearTimeout(vt)}},[G]),B.useEffect(()=>{if(st){const vt=setTimeout(()=>_t(!1),2e3);return()=>clearTimeout(vt)}},[st]);const j=()=>{const vt=F!==null?$?.filter((ti,Jn)=>Jn===F)??[]:[];if(vt.length===0){alert("선택된 항목이 없습니다.");return}const zt=M==="자시"?"조자시/야자시":"인시",ct=vt[0],[dt,Ot,Ht]=ct.date.split("-").map(Number),Rt={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let ne=0,ee=0;if(ct.hourSlots.length>0){const ti=ct.hourSlots[0].branch,Jn=Rt[ti];Jn&&(ne=Jn.hh,ee=Jn.mi)}const Ne=new Date(dt,Ot-1,Ht,ne,ee),ye=new Date(Ne.getTime()-30*6e4),Bn=ye.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),Wr=O==="male"?"남":"여";function Qr(ti,Jn){const gl=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(ti),uo=Jn==="남";return gl?uo?"forward":"backward":uo?"backward":"forward"}const Mn=Qr(ct.year.charAt(0),Wr),Nn=de(ye,127.5),an=Se(ye,127.5),Jr=ue(ye,zt),Qn=Kr(ye,zt),pl=[`원국 : ${Nn}년 ${an}월 ${Jr}일`,Qn?`${Qn}시`:null].filter(Boolean).join(" "),co={id:S1(),name:"커스텀명식",birthDay:`${dt}${String(Ot).padStart(2,"0")}${String(Ht).padStart(2,"0")}`,birthTime:`${String(ne).padStart(2,"0")}${String(ee).padStart(2,"0")}`,gender:Wr,birthPlace:q?{name:"커스텀명식",lat:0,lon:127.5}:et.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:et.relationship??"",memo:et.memo??"",folder:ol(et.folder),mingSikType:et.mingSikType??"조자시/야자시",DayChangeRule:et.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:et.calendarType??"solar",yearGZ:ct.year,monthGZ:ct.month,dayGZ:ct.day,hourGZ:ct.hour,ganjiText:`원국 : ${ct.year}년 ${ct.month}월 ${ct.day}일 ${ct.hour}시`,ganji:pl,dayStem:ct.day.charAt(0),dateObj:Ne,corrected:ye,correctedLocal:Bn,dir:Mn};Qc.flushSync(()=>{Qo.getState().add(co)}),a(co),nt("저장 완료!"),it({gender:"남자",mingSikType:"조자시/야자시",calendarType:"solar"}),I(!1),r()},H=v||_,Z=!!(f.yearStem&&f.yearBranch),J=!!(f.dayStem&&f.dayBranch),V=!H||Z||J,U=!!g&&g.endsWith("Stem"),Y=!!g&&g.endsWith("Branch");function ht(vt){return vt==="yearStem"?"yearBranch":vt==="yearBranch"?"yearStem":vt==="monthStem"?"monthBranch":vt==="monthBranch"?"monthStem":vt==="dayStem"?"dayBranch":vt==="dayBranch"?"dayStem":vt==="hourStem"?"hourBranch":"hourStem"}const gt=B.useCallback((vt,zt)=>{if(!v||!vt.yearStem)return vt;const ct={...vt},dt=Np[vt.yearStem];if(!dt)return ct;const Ot=Rt=>dt.filter(ne=>ne.startsWith(Rt)),Ht=Rt=>dt.find(ne=>ne.endsWith(Rt));if(zt==="monthStem"&&ct.monthStem){const Rt=Ot(ct.monthStem).map(ne=>ne.slice(1));return Rt.length>=2?(d(Rt.slice(0,2)),b("monthBranch"),ct):(Rt.length===1&&(ct.monthBranch=Rt[0],d(null)),ct)}if(zt==="monthBranch"&&ct.monthBranch){const Rt=Ht(ct.monthBranch);return Rt&&(ct.monthStem=Rt.slice(0,1),d(null)),ct}if(zt==="yearStem"){if(ct.monthStem&&!ct.monthBranch){const Rt=Ot(ct.monthStem).map(ne=>ne.slice(1));if(Rt.length>=2)return d(Rt.slice(0,2)),b("monthBranch"),ct;Rt.length===1&&(ct.monthBranch=Rt[0])}else if(ct.monthBranch&&!ct.monthStem){const Rt=Ht(ct.monthBranch);Rt&&(ct.monthStem=Rt.slice(0,1))}}return ct},[v,b]),Et=B.useCallback((vt,zt)=>{if(!_||!vt.dayStem)return vt;const ct={...vt},dt=Fs(vt.dayStem,M),Ot=Rt=>Object.entries(dt).find(([,ne])=>ne.startsWith(Rt)),Ht=Rt=>dt[Rt];if(zt==="hourStem"&&ct.hourStem){const Rt=Ot(ct.hourStem);return Rt&&(ct.hourBranch=Rt[0]),ct}if(zt==="hourBranch"&&ct.hourBranch){const Rt=Ht(ct.hourBranch);return Rt&&(ct.hourStem=Rt.slice(0,1)),ct}if(zt==="dayStem"){if(ct.hourStem&&!ct.hourBranch){const Rt=Ot(ct.hourStem);Rt&&(ct.hourBranch=Rt[0])}else if(ct.hourBranch&&!ct.hourStem){const Rt=Ht(ct.hourBranch);Rt&&(ct.hourStem=Rt.slice(0,1))}}return ct},[_,M]),Ct=B.useCallback(vt=>!v||!vt.yearStem?!1:vt.monthBranch&&vt.monthStem?W_(vt.yearStem,vt.monthBranch)!==vt.monthStem:!1,[v]),Pt=B.useCallback(vt=>{if(!_||!vt.dayStem)return!1;if(vt.hourBranch&&vt.hourStem){const ct=Fs(vt.dayStem,M)[vt.hourBranch];return ct?ct.slice(0,1)!==vt.hourStem:!1}return!1},[_,M]);B.useEffect(()=>{if(!(!_||!f.dayStem||!f.hourBranch)&&(f.hourBranch==="자"||f.hourBranch==="축")){const zt=Fs(f.dayStem,M)[f.hourBranch];zt&&m(ct=>({...ct,hourStem:zt.slice(0,1)}))}},[M,_,f.dayStem,f.hourBranch]);const kt=B.useCallback(vt=>{if(!g)return;if(!V&&!(g==="yearStem"||g==="yearBranch"||g==="dayStem"||g==="dayBranch")){K("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>K(null),1500);return}let ct={...f,[g]:vt};(g==="yearStem"||g==="monthStem"||g==="monthBranch")&&(ct=gt(ct,g)),(g==="dayStem"||g==="hourStem"||g==="hourBranch")&&(ct=Et(ct,g)),m(ct);let dt=!1;Ct(ct)&&(S(!1),dt=!0),Pt(ct)&&(T(!1),dt=!0),dt&&at("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),m(ct),D(null);const Ot=ht(g);b(Ot),setTimeout(()=>{const Ht={...ct};if(Ht.yearStem&&Ht.yearBranch&&!Ht.monthStem){b("monthStem");return}if(Ht.monthStem&&Ht.monthBranch&&!Ht.dayStem){b("dayStem");return}if(Ht.dayStem&&Ht.dayBranch&&!Ht.hourStem){b("hourStem");return}},0)},[g,f,V,gt,Et,Ct,Pt]),Bt=X_(f),wt=B.useCallback(async()=>{if(D(null),K(null),!X_(f)){K("연·월·일·시 간지를 모두 선택하세요.");return}const vt=af(f.yearStem,f.yearBranch),zt=af(f.monthStem,f.monthBranch),ct=af(f.dayStem,f.dayBranch),dt=af(f.hourStem,f.hourBranch),Ot=300,Ht=[];k(!0);try{const Rt=new Date(1900,0,1,12,0,0),ne=new Date(2100,11,31,12,0,0);for(let ee=Rt.getTime();ee<=ne.getTime();ee+=24*3600*1e3){const Ne=new Date(ee),ye=M==="자시"?"조자시/야자시":"인시",Bn=de(Ne);if(Bn!==vt)continue;const Wr=Se(Ne);if(Wr!==zt)continue;const Qr=ue(Ne,ye);if(Qr!==ct)continue;const Mn=Fs(f.dayStem,M),Nn=[];for(let an=0;an<12;an++){const Jr=Fr.지지[an];Mn[Jr]===dt&&Nn.push({branch:Jr,time:AL[an]})}if(Nn.length!==0&&(Ht.push({date:DL(Ne),year:Bn,month:Wr,day:Qr,hour:dt,hourSlots:Nn}),Ht.length>=Ot))break}Ht.length===0&&K("일치하는 날짜가 없습니다. (범위: 1900–2100)"),D(Ht)}catch(Rt){Rt instanceof Error?K(Rt.message):K(String(Rt))}finally{k(!1)}},[f,M]),At=()=>{m({}),D(null),K(null),b(null)},Ut=vt=>{D(null),vt&&m(zt=>{const ct={...zt};return ct.yearStem&&ct.monthBranch&&(ct.monthStem=W_(ct.yearStem,ct.monthBranch)),ct}),S(vt)},Yt=vt=>{D(null),vt&&m(zt=>{const ct={...zt};if(ct.dayStem&&ct.hourBranch){const Ot=Fs(ct.dayStem,M)[ct.hourBranch];Ot&&(ct.hourStem=Ot.slice(0,1))}return ct}),T(vt)};if(!t)return null;const Vt=vt=>{if(D(null),A(vt),_&&f.dayStem&&f.hourBranch&&(f.hourBranch==="자"||f.hourBranch==="축")){const ct=Fs(f.dayStem,vt)[f.hourBranch];ct&&m(dt=>({...dt,hourStem:ct.slice(0,1)}))}};return y.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[y.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:y.jsx(vg,{size:20})}),y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),y.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),y.jsxs("span",{className:"mr-3 chkContainer",children:[y.jsx("input",{type:"checkbox",id:"useWoldu",checked:v,onChange:vt=>Ut(vt.target.checked)}),y.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"checkbox",id:"useSidu",checked:_,onChange:vt=>Yt(vt.target.checked)}),y.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),y.jsxs("span",{className:"mr-3 chkContainer",children:[y.jsx("input",{type:"radio",id:"jasi",checked:M==="자시",onChange:()=>Vt("자시")}),y.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"radio",id:"insi",checked:M==="인시",onChange:()=>Vt("인시")}),y.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"성별"}),y.jsxs("span",{className:"mr-3 chkContainer",children:[y.jsx("input",{type:"radio",id:"male",checked:O==="male",onChange:()=>R("male")}),y.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"radio",id:"female",checked:O==="female",onChange:()=>R("female")}),y.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),H&&!V&&y.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",y.jsx("br",{}),y.jsx("b",{children:"연주"})," 또는 ",y.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),y.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([vt,zt])=>{const ct=!V&&!(vt==="yearStem"||vt==="yearBranch"||vt==="dayStem"||vt==="dayBranch"),dt=g===vt;return y.jsxs("button",{onClick:()=>!ct&&b(vt),disabled:ct,className:["border rounded p-2 text-center cursor-pointer",dt?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",ct?"opacity-50 cursor-not-allowed":""].join(" "),children:[zt,y.jsx("br",{}),y.jsx("span",{className:"font-bold",children:f[vt]??"-"})]},vt)})}),c&&c.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),y.jsx("div",{className:"flex gap-2",children:c.map(vt=>y.jsx("button",{onClick:()=>{let zt={...f,monthBranch:vt};d(null),zt=gt(zt,"monthBranch"),m(zt),b("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:vt},vt))})]}),y.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g?y.jsxs("div",{className:"w-full",children:[U&&y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"천간"}),y.jsx("div",{className:"grid grid-cols-5 gap-2",children:Fr.천간.map(vt=>y.jsx("button",{onClick:()=>kt(vt),className:`border rounded px-2 py-1 cursor-pointer ${Mr(vt,"stem",s)}`,children:vt},vt))})]}),Y&&y.jsxs("div",{children:[y.jsx("p",{className:"font-medium mb-2",children:"지지"}),y.jsx("div",{className:"grid grid-cols-6 gap-2",children:Fr.지지.filter(vt=>{const zt=ht(g),ct=f[zt];return ct?RL[vt]===BL[ct]:!0}).map(vt=>y.jsx("button",{onClick:()=>kt(vt),className:`border rounded px-2 py-1 cursor-pointer ${Mr(vt,"branch",s)}`,children:vt},vt))})]})]}):y.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),y.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[y.jsx("span",{children:y.jsx("button",{type:"button",onClick:()=>{if(!Bt){ot(!0);return}wt()},disabled:C,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:C?"검색 중...":"검색"})}),y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx("button",{type:"button",onClick:At,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),y.jsx("button",{type:"button",onClick:()=>{if((F!==null?$?.filter((zt,ct)=>ct===F)??[]:[]).length===0){_t(!0);return}j()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),y.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:$?$.length===0?y.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):y.jsxs("table",{className:"w-full text-xs",children:[y.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-1 text-center",children:"선택"}),y.jsx("th",{className:"p-1 text-center",children:"날짜"}),y.jsx("th",{className:"p-1 text-center",children:"연"}),y.jsx("th",{className:"p-1 text-center",children:"월"}),y.jsx("th",{className:"p-1 text-center",children:"일"}),y.jsx("th",{className:"p-1 text-center",children:"시"}),y.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),y.jsx("tbody",{children:$.map((vt,zt)=>y.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[y.jsx("td",{className:"p-1 text-center",children:y.jsxs("span",{className:"chkContainer",children:[y.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${zt}`,checked:F===zt,onChange:()=>tt(zt)}),y.jsx("label",{htmlFor:`selectRow-${zt}`,children:"ON"})]})}),y.jsx("td",{className:"p-1 text-center",children:vt.date}),y.jsx("td",{className:"p-1 text-center",children:vt.year}),y.jsx("td",{className:"p-1 text-center",children:vt.month}),y.jsx("td",{className:"p-1 text-center",children:vt.day}),y.jsx("td",{className:"p-1 text-center",children:y.jsx("div",{className:"flex flex-wrap gap-1",children:vt.hourSlots.map((ct,dt)=>y.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:y.jsx("b",{children:ct.branch})},dt))})}),y.jsx("td",{className:"p-1 text-center",children:O==="male"?"남":"여"})]},`${vt.date}-${zt}`))})]}):y.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),Q&&y.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:y.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:Q})}),G&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:y.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),st&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:y.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",y.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const zL=Wc(t=>({shinsalBase:"일지",shinsalEra:"현대",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:r=>t({shinsalBase:r}),setShinsalEra:r=>t({shinsalEra:r}),setShinsalGaehwa:r=>t({shinsalGaehwa:r}),setHiddenStemMode:r=>t({hiddenStemMode:r})}));function Lf(t){if(!t)return["","","",""];let r=Number(t.birthDay?.slice(0,4)??2e3),a=Number(t.birthDay?.slice(4,6)??1),s=Number(t.birthDay?.slice(6,8)??1);if(t.calendarType==="lunar"){const D=Xn(r,a,s);r=D.getFullYear(),a=D.getMonth()+1,s=D.getDate()}const c=!t.birthTime||t.birthTime==="모름",d=c?4:Number(t.birthTime.slice(0,2)),f=c?30:Number(t.birthTime.slice(2,4)),m=new Date(r,a-1,s,d,f,0,0),g=!t.birthPlace||t.birthPlace.name==="모름"||!t.birthPlace.lon?127.5:t.birthPlace.lon,b=ts(m,g,c),v=t.mingSikType??"조자시/야자시",S=de(b,g),_=Se(b,g),T=ue(b,v),M=c?null:Kr(b,v),A=Jt(S),O=Jt(_),R=Jt(T),$=M?Jt(M):"";return[A,O,R,$]}function $L(t){const r=new Date(t.corrected),a=Lf(t),s=a[0].charAt(0),d=["갑","병","무","경","임"].includes(s),f=t.gender==="남자",m=f&&d||!f&&!d?"forward":"backward",g=nu(r,a[1],m,120,t.birthPlace?.lon??127.5),b=g.firstChange;if(!b)return[];const v=[];let S=Jt(g.events[0]?.gz??a[1]);for(let _=0;_<10;_++){const T=new Date(b);if(T.setFullYear(T.getFullYear()+_*10),_>0){const M=g.events[_];M&&(S=Jt(M.gz))}v.push(`${T.getFullYear()}년 ${String(T.getMonth()+1).padStart(2,"0")}월 ${S} 대운 시작`)}return v}function HL(t,r){return t[3]&&t[3]!==""?["연","월","일",!r.birthTime||r.birthTime==="모름"?"시(예측)":"시"]:["연","월","일"]}const of={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},sf={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Bf={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},lf={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임",子:"계",丑:"기",寅:"갑",卯:"을",辰:"무",巳:"병",午:"정",未:"기",申:"경",酉:"신",戌:"무",亥:"임"},IL=["갑","병","무","경","임"];function Q_(t){return IL.includes(t)}const GL={목:"화",화:"토",토:"금",금:"수",수:"목"},UL={목:"토",화:"금",토:"수",금:"목",수:"화"},ZL={토:"목",금:"화",수:"토",목:"금",화:"수"},YL={화:"목",토:"화",금:"토",수:"금",목:"수"};function US(t){const r={};for(const[a,s]of Object.entries(t))if(Array.isArray(s))s.length>0&&(r[a]=s);else if(typeof s=="object"&&s!==null){const c=US(s);Object.keys(c).length>0&&(r[a]=c)}else s!=null&&s!==""&&(r[a]=s);return r}function qL(t){return JSON.stringify(t,null,2).replace(/\[\s+/g,"[").replace(/\s+\]/g,"]").replace(/\s*,\s*/g,",")}function Ir(t,r){if(r==null||r==="")return"";const a=typeof r=="object"?qL(US(r)):String(r);return`## ${t}
${a}`}function wp(t){if(!t)return null;const r=t.trim();if(["갑","을","병","정","무","기","경","신","임","계"].includes(r))return r;if(of[r])return of[r];if(["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(r))return lf[r]??null;if(sf[r])return lf[sf[r]]??null;const a=r.charAt(0);return of[a]?of[a]:["갑","을","병","정","무","기","경","신","임","계"].includes(a)?a:sf[a]?lf[sf[a]]??null:["자","축","인","묘","진","사","오","미","신","유","술","해"].includes(a)?lf[a]??null:null}function FL(t,r){const a=Bf[t],s=Bf[r];if(!a||!s)return"비견";let c;s===a?c="비견":s===GL[a]?c="식신":s===UL[a]?c="편재":s===ZL[a]?c="편관":s===YL[a]?c="편인":c="비견";const d=Q_(t)===Q_(r);switch(c){case"비견":return d?"비견":"겁재";case"식신":return d?"식신":"상관";case"편재":return d?"편재":"정재";case"편관":return d?"편관":"정관";case"편인":return d?"편인":"정인"}}function ZS(t){const r=Object.entries(t),a=r.reduce((b,[,v])=>b+(v>0?v:0),0);if(a<=0)return Object.fromEntries(r.map(([b])=>[b,0]));const s=r.map(([b,v])=>[b,(v>0?v:0)*100/a]),c=s.map(([b,v])=>[b,Math.floor(v)]);let d=c.reduce((b,[,v])=>b+v,0);const f=s.map(([b,v])=>[b,v-Math.floor(v)]).sort((b,v)=>v[1]-b[1]),m=Object.fromEntries(c.map(([b,v])=>[b,v]));let g=0;for(;d<100&&g<f.length;)m[f[g][0]]+=1,d+=1,g+=1;return m}function VL(t){const r={};for(const[a,s]of Object.entries(t??{})){if(s<=0)continue;const c=wp(a);c&&(r[c]=(r[c]??0)+s)}return r}function KL(t){if(!t)return[];const r=wp(t.charAt(0)),a=wp(t.charAt(1));return[r,a].filter(Boolean)}function cf(t){const r=KL(t),a={};for(const s of r)a[s]=(a[s]??0)+1;return a}const XL={natal:50,dae:30,se:20,wol:7,il:3};function WL(t){const r={};for(const{kind:s,bare:c}of t){const d=XL[s]??0;if(d<=0)continue;const f=ZS(c);for(const[m,g]of Object.entries(f))r[m]=(r[m]??0)+g*d}const a=Object.values(r).reduce((s,c)=>s+c,0);if(a>0)for(const s of Object.keys(r))r[s]=r[s]/a*100;return r}function QL(t,r){const a={목:0,화:0,토:0,금:0,수:0};for(const[s,c]of Object.entries(t)){const d=r[s];d&&(a[d]+=c)}return a}function JL(t,r){const a={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};for(const[s,c]of Object.entries(t)){if(c<=0)continue;const d=FL(r,s);a[d]+=c}return a}function t6(t){return{비겁:t.비견+t.겁재,식상:t.식신+t.상관,재성:t.정재+t.편재,관성:t.정관+t.편관,인성:t.정인+t.편인}}function e6(t,r,a){const s=VL(t.perStemElementScaled),c=r!=="원국"&&a?.dae?cf(a.dae):{},d=(r==="세운"||r==="월운"||r==="일운")&&a?.se?cf(a.se):{},f=(r==="월운"||r==="일운")&&a?.wol?cf(a.wol):{},m=r==="일운"&&a?.il?cf(a.il):{},g=WL([{kind:"natal",bare:s},{kind:"dae",bare:c},{kind:"se",bare:d},{kind:"wol",bare:f},{kind:"il",bare:m}]),b=ZS(g),v=QL(b,Bf),S=JL(b,t.dayStem),_=t6(S);return{perStemAugBare:b,elementPercent:v,totalsSub:S,totalsMain:_}}function J_(t,r){const a={목:"화",화:"토",토:"금",금:"수",수:"목"},s={목:"토",화:"금",토:"수",금:"목",수:"화"},c={토:"목",금:"화",수:"토",목:"금",화:"수"},d={화:"목",토:"화",금:"토",수:"금",목:"수"};return r===t?"비겁":r===a[t]?"식상":r===s[t]?"재성":r===c[t]?"관성":r===d[t]?"인성":""}function n6(t){const{ms:r,natal:a,chain:s,basis:c,tab:d,unified:f,percent:m,category:g}=t,b=[Jt(a[0]??""),Jt(a[1]??""),Jt(a[2]??""),Jt(a[3]??"")],v=$L(r).slice(0,10),S=Vs({natal:b,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),_=Lc({natal:b,daewoon:d!=="원국"?s?.dae??void 0:void 0,sewoon:d==="세운"||d==="월운"||d==="일운"?s?.se??void 0:void 0,wolwoon:d==="월운"||d==="일운"?s?.wol??void 0:void 0,ilwoon:d==="일운"?s?.il??void 0:void 0}),{shinsalEra:T,shinsalGaehwa:M,shinsalBase:A}=zL.getState(),O=A==="연지"?b[0]?.charAt(1)??"":b[2]?.charAt(1)??"",R=e6(f,d,s),$=R.elementPercent,D=R.totalsSub,{flags:C}=F4(b,f.elementScoreRaw),k=`${g} (${m.toFixed(1)}%) · ${[`득령 ${C.비견.령||C.겁재.령||C.편인.령||C.정인.령?"인정":"불인정"}`,`득지 ${C.비견.지||C.겁재.지||C.편인.지||C.정인.지?"인정":"불인정"}`,`득세 ${C.비견.세||C.겁재.세?"인정":"불인정"}`].join(", ")}`,K=!r.birthTime||r.birthTime==="모름";function F(at){const G=at.birthDay??"",ot=G.slice(0,4),st=G.slice(4,6),_t=G.slice(6,8);let j="";if(at.corrected instanceof Date&&!isNaN(at.corrected.getTime())){const H=String(at.corrected.getHours()).padStart(2,"0"),Z=String(at.corrected.getMinutes()).padStart(2,"0");j=K?"모름":`${H}:${Z}`}return`${ot}년 ${st}월 ${_t}일 보정시 ${j}`}function tt(at,G){if(!G)return"(없음)";const ot=[];return(at==="대운"||at==="세운"||at==="월운"||at==="일운")&&G.dae&&ot.push(`대운:${Jt(G.dae)}`),(at==="세운"||at==="월운"||at==="일운")&&G.se&&ot.push(`세운:${Jt(G.se)}`),(at==="월운"||at==="일운")&&G.wol&&ot.push(`월운:${Jt(G.wol)}`),at==="일운"&&G.il&&ot.push(`일운:${Jt(G.il)}`),ot.length>0?ot.join(" / "):"(없음)"}const et=HL(b,r),it=f.dayStem,q=Bf[it],I=[`📌 명식: ${r.name??"이름없음"} (${F(r)}) 성별: ${r.gender}`,`원국 ${b[0]}년 ${b[1]}월 ${b[2]}일`+(b[3]?` ${b[3]}시${!r.birthTime||r.birthTime==="모름"?"(시주예측)":""}`:""),`운: ${tt(d,s)}`].join(`
`),Q=[Ir("대운 리스트 (10개)",v),Ir("신강도",k),Ir("오행강약(퍼센트·원국 기준 고정)",Object.fromEntries(Object.entries(f.natalFixed.elementPercent100).map(([at,G])=>[`${at}(${J_(q,at)})`,G]))),d==="원국"?"오행강약(퍼센트 운 없음)":Ir(`오행강약(퍼센트·탭=${d})`,Object.fromEntries(Object.entries($).map(([at,G])=>[`${at}(${J_(q,at)})`,G]))),Ir("십신 강약(소분류 10개·탭=원국·합계 100)",f.natalFixed.totalsSub),d==="원국"?"십신 강약(소분류 10개 운 없음)":Ir(`십신 강약(소분류 10개·탭=${d}·합계 100)`,D),Ir("십이운성(원국+운 반영)",d==="원국"?b.map((at,G)=>!at||G>=et.length?null:{pos:et[G],gz:at,unseong:qn(b[2]?.charAt(0)??"",at.charAt(1))}).filter(Boolean):[...b.map((at,G)=>!at||G>=et.length?null:{pos:et[G],gz:at,unseong:qn(b[2]?.charAt(0)??"",at.charAt(1))}).filter(Boolean),...s?.dae?[{pos:"대운",gz:s.dae,unseong:qn(b[2]?.charAt(0)??"",s.dae.charAt(1))}]:[],...(d==="세운"||d==="월운"||d==="일운")&&s?.se?[{pos:"세운",gz:s.se,unseong:qn(b[2]?.charAt(0)??"",s.se.charAt(1))}]:[],...(d==="월운"||d==="일운")&&s?.wol?[{pos:"월운",gz:s.wol,unseong:qn(b[2]?.charAt(0)??"",s.wol.charAt(1))}]:[],...d==="일운"&&s?.il?[{pos:"일운",gz:s.il,unseong:qn(b[2]?.charAt(0)??"",s.il.charAt(1))}]:[]].filter(Boolean)),Ir("십이신살(원국+운 반영·설정 적용)",d==="원국"?b.map((at,G)=>!at||G>=et.length?null:{pos:et[G],gz:at,shinsal:Fn({baseBranch:O,targetBranch:at.charAt(1),era:T,gaehwa:M})}).filter(Boolean):[b.map((at,G)=>!at||G>=et.length?null:{pos:et[G],gz:at,shinsal:Fn({baseBranch:O,targetBranch:at.charAt(1),era:T,gaehwa:M})}).filter(Boolean),...s?.dae?[{pos:"대운",gz:s.dae,shinsal:Fn({baseBranch:O,targetBranch:s.dae.charAt(1),era:T,gaehwa:M})}]:[],...(d==="세운"||d==="월운"||d==="일운")&&s?.se?[{pos:"세운",gz:s.se,shinsal:Fn({baseBranch:O,targetBranch:s.se.charAt(1),era:T,gaehwa:M})}]:[],...(d==="월운"||d==="일운")&&s?.wol?[{pos:"월운",gz:s.wol,shinsal:Fn({baseBranch:O,targetBranch:s.wol.charAt(1),era:T,gaehwa:M})}]:[],...d==="일운"&&s?.il?[{pos:"일운",gz:s.il,shinsal:Fn({baseBranch:O,targetBranch:s.il.charAt(1),era:T,gaehwa:M})}]:[]].filter(Boolean)),Ir("형충회합(원국)",lS(b.filter((at,G)=>G<et.length))),Ir("형충회합(운 포함: 탭 연동)",S),d==="원국"?Ir("신살(원국 전용)",{good:Lc({natal:b,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:c}).good,bad:Lc({natal:b,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:c}).bad,meta:Lc({natal:b,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:c}).meta}):Ir(`신살(운 포함·탭=${d})`,_)].join(`

`),nt=[`
너는 명리학 전문 해석가다.  
모든 출력은 한국어로 작성한다.  
AI 특유의 친절함, 긍정적인면은 리셋시킨다.
말투는 따뜻하게 하지만, 냉철한 분석가 모드로 얘기하라.
문체는 ‘전문적이지만 이해하기 쉬운 분석체’로, 감정적인 미화나 추상적 표현은 절대 사용하지 않는다.  
“당신은 빛나는 존재입니다” “운명이 이끄는 대로” 같은 감성 문장, 불필요한 위로나 칭찬은 금지한다.  
그 대신 현실적인 비유와 일상적 예시를 사용한다. (예: “체력은 부족한데 해야 할 일은 많은 사람처럼…” “주변 사람 문제까지 자주 대신 떠안는 구조예요.”)  
모든 문장은 '~예요, ~해요' 체로 끝낸다.  
분석은 **논리적 근거(오행 비율, 신강도, 형충회합, 신살)**를 중심으로 한다.  
비유는 반드시 설명을 명확하게 돕는 경우에만 쓴다.  
각 문단은 ‘관찰 → 구체적 예시 → 결론 요약’의 구조를 따른다.  
마크다운, 리스트, 제목 표시는 사용하지 않는다.  
전체 분량은 최소 4000~5000자 이상으로, 충분히 깊고 구체적으로 서술한다.  

출력은 반드시 다음 6단계 순서로 구성한다.

1단계: 전체적인 큰 흐름  
- 첫 문장은 “그러면, ~님의 사주를 차근히 분석해볼게요.”로 시작한다.  
- 사주의 가장 눈에 띄는 특징 1~2가지를 제시하고, 그것이 실제 성향이나 행동으로 어떻게 드러나는지 현실적인 예시로 설명한다.  
- 감정 표현 없이 객관적이고 논리적인 서술로 성격과 기본 경향을 묘사한다.  

2단계: 오행 강약과 각 요소의 역할  
- 오행 비율과 신강도를 명시하고, 각 기운이 성격·사고·생활 패턴에 미치는 영향을 구체적으로 설명한다.  
- 과잉/부족으로 생길 수 있는 실제 문제를 현실적으로 제시한다.  
- 예: “수 기운이 많으면 생각이 많아지고, 실행이 느려집니다.”  

3단계: 형충회합  
- 충, 합, 형, 해 등을 심리적·행동적 작용 중심으로 해석한다.  
- 예: “충이 있으면 감정 기복이 크고, 관계에서 쉽게 오해가 생깁니다.”  
- ‘운명적 대립’ 같은 표현은 금지하고, 현실적인 관계나 상황으로 풀어낸다.  

4단계: 십이운성과 십이신살  
- 십이운성은 에너지의 ‘활성/쇠퇴’ 단계로 설명한다.  
- 예: “사 단계면 이미 기운이 빠져 실제로 무기력하거나 피로를 잘 느낍니다.”  
- 십이신살은 행동패턴과 연결해 현실적으로 해석한다.  
- 예: “장성살이 많으면 책임감이 강하지만 부담을 크게 느낍니다.”  

5단계: 주요 신살 해석  
- 의미 있는 신살 3~5개를 선정해 각각 장단점을 함께 설명한다.  
- 예: “귀문살은 감정선이 예민하지만 통찰력이 높습니다.”  
- 실제 생활 패턴과 연결해서 해석한다.  

6단계: 종합 운세  
- 현재 대운·세운이 실제로 어떤 영향을 주는지 설명한다.  
- 추상적 ‘좋다/나쁘다’ 대신 구체적인 상황과 태도로 조언한다.  
- 예: “표현력이 늘지만 체력이 약하면 금세 지칠 수 있으니, 페이스 조절이 필요합니다.”  

마지막 단계: 전체적인 종합 정리  
- 3문장으로 요약하며 다음 순서로 마무리한다.  
  1) 성격적 핵심 요약  
  2) 현재 과제나 문제의식  
  3) 현실적인 조언  

출력은 사람의 자연스러운 설명체로 쓰되, 항상 전문적 근거를 유지한다.  
불필요한 감탄사, 주관적 감정어, 추상적 운명론은 절대 포함하지 않는다.

문장은 지나치게 학술적으로 쓰지 말고, 실제 사람의 말투처럼 자연스럽게 이어지게 하세요.
  `].join(`
`);return[I,Q,nt].join(`

`)}function r6({date:t,onChange:r,min:a="1900-01-01",max:s="2100-12-31"}){const c=B.useMemo(()=>{const f=t.getFullYear(),m=String(t.getMonth()+1).padStart(2,"0"),g=String(t.getDate()).padStart(2,"0");return`${f}-${m}-${g}`},[t]),d=f=>{if(!f)return;const[m,g,b]=f.split("-"),v=Number(m),S=Number(g),_=Number(b),T=t.getHours(),M=t.getMinutes(),A=new Date(v,S,0).getDate(),O=Math.min(_,A),R=new Date(v,S-1,O,T,M);Number.isNaN(R.getTime())||r(R)};return y.jsx("input",{type:"date",value:c,onChange:f=>d(f.target.value),min:a,max:s,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const i6=["원국","대운","세운","월운","일운"],YS={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},qS={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function ep(t){if(!t)return"";const r=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),a=r.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(a)return`${a[1]}${a[2]}`;const s=r.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(s){const c=YS[s[1]],d=qS[s[2]];return c&&d?`${c}${d}`:""}return""}function t1(t){return t[0]?.length===2&&t[1]?.length===2&&t[2]?.length===2}function e1(t){const r=Array.isArray(t)?t.slice(0,4):[];for(;r.length<4;)r.push("");return r.map((a,s)=>{if(!a)return"";const c=a.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),d=c.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(d)return`${d[1]}${d[2]}`;const f=c.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return f?`${YS[f[1]]}${qS[f[2]]}`:s<=2?"--":""})}function a6({ms:t,natal:r,chain:a,basis:s,lunarPillars:c,includeTenGod:d=!1}){const{date:f,setDate:m}=Wn(),[g,b]=B.useState("원국"),{yearGZ:v,monthGZ:S,dayGZ:_}=Wn(),T=B.useMemo(()=>({dae:a?.dae??null,se:a?.se??(v?Jt(v):null),wol:a?.wol??(S?Jt(S):null),il:a?.il??(_?Jt(_):null)}),[a,v,S,_]),{manualHour:M}=el(),A=t.mingSikType??"조자시/야자시",O=B.useMemo(()=>e1(r),[r]),R=B.useMemo(()=>e1(c),[c]),$=B.useMemo(()=>{const Z=[...O];return(!Z[3]||Z[3]==="")&&M&&(Z[3]=M.stem+M.branch),Z},[O,M]),D=B.useMemo(()=>{const Z=[...R];return(!Z[3]||Z[3]==="")&&M&&(Z[3]=M.stem+M.branch),Z},[R,M]),C=B.useMemo(()=>{const Z=Number(t.birthDay?.slice(0,4)),J=Number(t.birthDay?.slice(4,6)),V=Number(t.birthDay?.slice(6,8));if(!Number.isFinite(Z)||!Number.isFinite(J)||!Number.isFinite(V))return null;const U=new Date(Z,J-1,V,12,0,0,0),Y=ep(de(U)||""),ht=ep(Se(U)||""),gt=ep(ue(U,A)||"");return[Y,ht,gt,""]},[t.birthDay,A]),k=t1($),K=t1(D),[F]=B.useState("solar"),tt=F==="lunar"?K?"lunar":k?"solar":"lunar":k?"solar":K?"lunar":"solar",et=B.useMemo(()=>{const J=[...tt==="lunar"?K?D:k?$:C??["","","",""]:k?$:K?D:C??["","","",""]];return(!J[3]||J[3]==="")&&M&&(J[3]=M.stem+M.branch),J},[tt,k,K,$,D,C,M]),it=B.useMemo(()=>M?M.stem+M.branch:et[3]||"",[M,et]);(!r||r.length===0)&&(r=Lf(t));const q=el(Z=>Z.manualHour?Z.manualHour.stem+Z.manualHour.branch:""),I=B.useMemo(()=>{const Z=Lf(t);return q&&q.length===2&&(Z[3]=q),Z},[t,q]),Q=B.useMemo(()=>kS({natal:I,tab:g,chain:a,hourKey:it}),[I,g,a,it]);function nt(Z){return jS(Z,{criteriaMode:"modern",useHarmonyOverlay:!0})}const at=nt(I),G=B.useMemo(()=>ig(at),[at]),ot=B.useMemo(()=>rS(G),[G]),st=B.useMemo(()=>t?n6({ms:t,natal:I,chain:T,basis:s,tab:g,unified:Q,percent:G,category:ot}):"",[t,s,d,g,T,Q,G,ot,I]),[_t,j]=B.useState(!1);async function H(){if(st)try{await navigator.clipboard.writeText(st),j(!0),setTimeout(()=>j(!1),1200)}catch{j(!1)}}return t?y.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT 프롬프트 제공용"}),y.jsx("button",{onClick:H,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${_t?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:_t?"복사됨!":"프롬프트 복사"})]}),y.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[y.jsx("div",{className:"flex gap-1 flex-wrap",children:i6.map(Z=>y.jsx("button",{onClick:()=>{b(Z)},className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${g===Z?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:Z},Z))}),y.jsx(r6,{date:f??new Date,onChange:m})]}),y.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[y.jsx("p",{children:"위에 피커로 날짜를 조정할 수 있습니다."}),y.jsx("p",{children:"각 탭에 따라서, 기준이 달라집니다."}),y.jsx("p",{children:"프롬포트를 복사하여 마음껏 커스텀하여, 사용할 수 있습니다."})]}),y.jsx("textarea",{readOnly:!0,value:st,placeholder:"명식을 선택하면 프롬프트가 생성됩니다.",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):y.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"⚠️ 명식을 먼저 선택해주세요."})}function o6(t){const r=Wn(c=>c.date),a=Wn(c=>c.rule),s=ru(t);return B.useMemo(()=>{if(!t)return{dae:null,se:null,wol:null,il:null};const c=Qf(s,r),d=c>=0?s[c]?.gz??null:null,f=de(r),m=Se(r),g=ue(r,a);return{dae:d,se:f,wol:m,il:g}},[t,s,r,a])}const s6={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"자시",DayChangeRule:"자시일수론",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function l6(){const{list:t}=Qo(),[r,a]=B.useState(()=>t.length>0?t[0].id:""),[s,c]=B.useState(!1),[d,f]=B.useState(!1),[m,g]=B.useState(null),[b,v]=B.useState(!1),[S,_]=B.useState(!1),[T,M]=B.useState(!1);B.useEffect(()=>{v(!0),_(!1)},[]);const A=B.useMemo(()=>t.find(F=>F.id===r)??t[0],[t,r]),O=t.length>0&&!!A&&typeof A.birthDay=="string",R=O?A:s6,$=B.useMemo(()=>Lf(R),[R]),D=o6(R),C=F=>typeof F=="string"&&F.length>=2,k=F=>Array.isArray(F)&&F.length===4&&F.every(C),K=()=>c(!0);return y.jsxs("div",{className:"min-h-screen pb-16",children:[y.jsx(GC,{onOpenSidebar:()=>f(!0),onAddNew:K,onOpenCustom:()=>M(!0)}),y.jsx(PL,{open:T,onClose:()=>M(!1),onSave:F=>{a(F.id),v(!1),_(!1),f(!1)}}),y.jsx(iE,{position:"top-center"}),y.jsx(iL,{open:d,onClose:()=>f(!1),onView:F=>{a(F.id),f(!1),v(!1),_(!1);const tt=new Date;tt.setHours(12,0,0,0),Wn.getState().setDate(tt),O&&A.id===F.id?(v(!1),_(!1),f(!1)):(a(F.id),f(!1),v(!1),_(!1))},onAddNew:K,onEdit:F=>{g(F),a(F.id),f(!1),v(!1),_(!1)},onDeleteView:()=>{const F=Qo.getState().list[0]?.id??"";a(F),v(!0),_(!1)}}),b&&y.jsx(XE,{}),s&&y.jsxs(y.Fragment,{children:[y.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-50"}),y.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-50",children:y.jsx("div",{className:"py-6",children:y.jsx(Ij,{onSave:F=>{a(F.id),v(!1),_(!1),f(!1),requestAnimationFrame(()=>c(!1))},onClose:()=>c(!1)})})})]}),O&&!b&&!S&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"pt-18 pb-4",children:y.jsx(t7,{data:A,hourTable:A.mingSikType??"조자시/야자시"})}),y.jsx(NL,{ms:A}),y.jsx("div",{children:y.jsx(gC,{data:A})}),y.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:y.jsx(a6,{ms:A,natal:k($)?$:[],chain:D,basis:{voidBasis:"day",samjaeBasis:"day"},includeTenGod:!0,lunarPillars:[]})})]}),!O&&y.jsx("div",{className:"flex items-center justify-center py-24 text-neutral-500",children:"등록된 명식이 없습니다. 상단의 “+” 버튼으로 새 명식을 추가하세요."}),S&&y.jsx("div",{className:"pt-18 pb-4",children:y.jsx(EL,{people:t})}),m&&y.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:y.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:y.jsx(dL,{item:m,onClose:()=>{g(null)}})})}),y.jsx(VC,{onShowToday:()=>{v(!0),_(!1)},onShowCouple:()=>{_(!0),v(!1)}}),y.jsx(ML,{})]})}gT.createRoot(document.getElementById("root")).render(y.jsx(B.StrictMode,{children:y.jsx(l6,{})}));
