function qS(t,i){for(var o=0;o<i.length;o++){const l=i[o];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in t)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(t,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function Fs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cm={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function VS(){if(_y)return ic;_y=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(l,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:t,type:l,key:h,ref:u!==void 0?u:null,props:d}}return ic.Fragment=i,ic.jsx=o,ic.jsxs=o,ic}var Sy;function FS(){return Sy||(Sy=1,Cm.exports=VS()),Cm.exports}var g=FS();const n_="harim.theme",Dp="harim.settings.v1";function r_(){try{const t=localStorage.getItem(n_);if(t==="dark"||t==="light")return t;const i=localStorage.getItem(Dp);if(i){const l=JSON.parse(i)?.theme;if(l==="dark"||l==="light")return l}return null}catch{return null}}function Ap(t){try{localStorage.setItem(n_,t);const i=localStorage.getItem(Dp),o=i?JSON.parse(i):{};localStorage.setItem(Dp,JSON.stringify({...o,theme:t}))}catch{}}function i_(t){const i=document.documentElement;i.classList.toggle("dark",t==="dark"),i.style.setProperty("color-scheme",t)}(function(){try{const t=r_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");i_(t)}catch{}})();var Lm={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function KS(){if(wy)return Ft;wy=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function k(B,A,$){this.props=B,this.context=A,this.refs=M,this.updater=$||T}k.prototype.isReactComponent={},k.prototype.setState=function(B,A){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,A,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function I(){}I.prototype=k.prototype;function H(B,A,$){this.props=B,this.context=A,this.refs=M,this.updater=$||T}var j=H.prototype=new I;j.constructor=H,D(j,k.prototype),j.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function W(B,A,$,G,X,at){return $=at.ref,{$$typeof:t,type:B,key:A,ref:$!==void 0?$:null,props:at}}function Q(B,A){return W(B.type,A,void 0,void 0,void 0,B.props)}function et(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function nt(B){var A={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function($){return A[$]})}var Y=/\/+/g;function U(B,A){return typeof B=="object"&&B!==null&&B.key!=null?nt(""+B.key):A.toString(36)}function tt(){}function st(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(tt,tt):(B.status="pending",B.then(function(A){B.status==="pending"&&(B.status="fulfilled",B.value=A)},function(A){B.status==="pending"&&(B.status="rejected",B.reason=A)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function yt(B,A,$,G,X){var at=typeof B;(at==="undefined"||at==="boolean")&&(B=null);var rt=!1;if(B===null)rt=!0;else switch(at){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(B.$$typeof){case t:case i:rt=!0;break;case w:return rt=B._init,yt(rt(B._payload),A,$,G,X)}}if(rt)return X=X(B),rt=G===""?"."+U(B,0):G,P(X)?($="",rt!=null&&($=rt.replace(Y,"$&/")+"/"),yt(X,A,$,"",function(Tt){return Tt})):X!=null&&(et(X)&&(X=Q(X,$+(X.key==null||B&&B.key===X.key?"":(""+X.key).replace(Y,"$&/")+"/")+rt)),A.push(X)),1;rt=0;var gt=G===""?".":G+":";if(P(B))for(var _t=0;_t<B.length;_t++)G=B[_t],at=gt+U(G,_t),rt+=yt(G,A,$,at,X);else if(_t=S(B),typeof _t=="function")for(B=_t.call(B),_t=0;!(G=B.next()).done;)G=G.value,at=gt+U(G,_t++),rt+=yt(G,A,$,at,X);else if(at==="object"){if(typeof B.then=="function")return yt(st(B),A,$,G,X);throw A=String(B),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return rt}function F(B,A,$){if(B==null)return B;var G=[],X=0;return yt(B,G,"","",function(at){return A.call($,at,X++)}),G}function ut(B){if(B._status===-1){var A=B._result;A=A(),A.then(function($){(B._status===0||B._status===-1)&&(B._status=1,B._result=$)},function($){(B._status===0||B._status===-1)&&(B._status=2,B._result=$)}),B._status===-1&&(B._status=0,B._result=A)}if(B._status===1)return B._result.default;throw B._result}var dt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Z(){}return Ft.Children={map:F,forEach:function(B,A,$){F(B,function(){A.apply(this,arguments)},$)},count:function(B){var A=0;return F(B,function(){A++}),A},toArray:function(B){return F(B,function(A){return A})||[]},only:function(B){if(!et(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ft.Component=k,Ft.Fragment=o,Ft.Profiler=u,Ft.PureComponent=H,Ft.StrictMode=l,Ft.Suspense=b,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},Ft.cache=function(B){return function(){return B.apply(null,arguments)}},Ft.cloneElement=function(B,A,$){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var G=D({},B.props),X=B.key,at=void 0;if(A!=null)for(rt in A.ref!==void 0&&(at=void 0),A.key!==void 0&&(X=""+A.key),A)!K.call(A,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&A.ref===void 0||(G[rt]=A[rt]);var rt=arguments.length-2;if(rt===1)G.children=$;else if(1<rt){for(var gt=Array(rt),_t=0;_t<rt;_t++)gt[_t]=arguments[_t+2];G.children=gt}return W(B.type,X,void 0,void 0,at,G)},Ft.createContext=function(B){return B={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:d,_context:B},B},Ft.createElement=function(B,A,$){var G,X={},at=null;if(A!=null)for(G in A.key!==void 0&&(at=""+A.key),A)K.call(A,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(X[G]=A[G]);var rt=arguments.length-2;if(rt===1)X.children=$;else if(1<rt){for(var gt=Array(rt),_t=0;_t<rt;_t++)gt[_t]=arguments[_t+2];X.children=gt}if(B&&B.defaultProps)for(G in rt=B.defaultProps,rt)X[G]===void 0&&(X[G]=rt[G]);return W(B,at,void 0,void 0,null,X)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(B){return{$$typeof:p,render:B}},Ft.isValidElement=et,Ft.lazy=function(B){return{$$typeof:w,_payload:{_status:-1,_result:B},_init:ut}},Ft.memo=function(B,A){return{$$typeof:v,type:B,compare:A===void 0?null:A}},Ft.startTransition=function(B){var A=O.T,$={};O.T=$;try{var G=B(),X=O.S;X!==null&&X($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Z,dt)}catch(at){dt(at)}finally{O.T=A}},Ft.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ft.use=function(B){return O.H.use(B)},Ft.useActionState=function(B,A,$){return O.H.useActionState(B,A,$)},Ft.useCallback=function(B,A){return O.H.useCallback(B,A)},Ft.useContext=function(B){return O.H.useContext(B)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(B,A){return O.H.useDeferredValue(B,A)},Ft.useEffect=function(B,A,$){var G=O.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(B,A)},Ft.useId=function(){return O.H.useId()},Ft.useImperativeHandle=function(B,A,$){return O.H.useImperativeHandle(B,A,$)},Ft.useInsertionEffect=function(B,A){return O.H.useInsertionEffect(B,A)},Ft.useLayoutEffect=function(B,A){return O.H.useLayoutEffect(B,A)},Ft.useMemo=function(B,A){return O.H.useMemo(B,A)},Ft.useOptimistic=function(B,A){return O.H.useOptimistic(B,A)},Ft.useReducer=function(B,A,$){return O.H.useReducer(B,A,$)},Ft.useRef=function(B){return O.H.useRef(B)},Ft.useState=function(B){return O.H.useState(B)},Ft.useSyncExternalStore=function(B,A,$){return O.H.useSyncExternalStore(B,A,$)},Ft.useTransition=function(){return O.H.useTransition()},Ft.version="19.1.1",Ft}var Ty;function yf(){return Ty||(Ty=1,Lm.exports=KS()),Lm.exports}var R=yf();const ke=Fs(R);var Bm={exports:{}},ac={},Rm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function XS(){return Ey||(Ey=1,(function(t){function i(F,ut){var dt=F.length;F.push(ut);t:for(;0<dt;){var Z=dt-1>>>1,B=F[Z];if(0<u(B,ut))F[Z]=ut,F[dt]=B,dt=Z;else break t}}function o(F){return F.length===0?null:F[0]}function l(F){if(F.length===0)return null;var ut=F[0],dt=F.pop();if(dt!==ut){F[0]=dt;t:for(var Z=0,B=F.length,A=B>>>1;Z<A;){var $=2*(Z+1)-1,G=F[$],X=$+1,at=F[X];if(0>u(G,dt))X<B&&0>u(at,G)?(F[Z]=at,F[X]=dt,Z=X):(F[Z]=G,F[$]=dt,Z=$);else if(X<B&&0>u(at,dt))F[Z]=at,F[X]=dt,Z=X;else break t}}return ut}function u(F,ut){var dt=F.sortIndex-ut.sortIndex;return dt!==0?dt:F.id-ut.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var b=[],v=[],w=1,_=null,S=3,T=!1,D=!1,M=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function P(F){for(var ut=o(v);ut!==null;){if(ut.callback===null)l(v);else if(ut.startTime<=F)l(v),ut.sortIndex=ut.expirationTime,i(b,ut);else break;ut=o(v)}}function O(F){if(M=!1,P(F),!D)if(o(b)!==null)D=!0,K||(K=!0,U());else{var ut=o(v);ut!==null&&yt(O,ut.startTime-F)}}var K=!1,W=-1,Q=5,et=-1;function nt(){return k?!0:!(t.unstable_now()-et<Q)}function Y(){if(k=!1,K){var F=t.unstable_now();et=F;var ut=!0;try{t:{D=!1,M&&(M=!1,H(W),W=-1),T=!0;var dt=S;try{e:{for(P(F),_=o(b);_!==null&&!(_.expirationTime>F&&nt());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,S=_.priorityLevel;var B=Z(_.expirationTime<=F);if(F=t.unstable_now(),typeof B=="function"){_.callback=B,P(F),ut=!0;break e}_===o(b)&&l(b),P(F)}else l(b);_=o(b)}if(_!==null)ut=!0;else{var A=o(v);A!==null&&yt(O,A.startTime-F),ut=!1}}break t}finally{_=null,S=dt,T=!1}ut=void 0}}finally{ut?U():K=!1}}}var U;if(typeof j=="function")U=function(){j(Y)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,st=tt.port2;tt.port1.onmessage=Y,U=function(){st.postMessage(null)}}else U=function(){I(Y,0)};function yt(F,ut){W=I(function(){F(t.unstable_now())},ut)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(F){switch(S){case 1:case 2:case 3:var ut=3;break;default:ut=S}var dt=S;S=ut;try{return F()}finally{S=dt}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(F,ut){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=S;S=F;try{return ut()}finally{S=dt}},t.unstable_scheduleCallback=function(F,ut,dt){var Z=t.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Z+dt:Z):dt=Z,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=dt+B,F={id:w++,callback:ut,priorityLevel:F,startTime:dt,expirationTime:B,sortIndex:-1},dt>Z?(F.sortIndex=dt,i(v,F),o(b)===null&&F===o(v)&&(M?(H(W),W=-1):M=!0,yt(O,dt-Z))):(F.sortIndex=B,i(b,F),D||T||(D=!0,K||(K=!0,U()))),F},t.unstable_shouldYield=nt,t.unstable_wrapCallback=function(F){var ut=S;return function(){var dt=S;S=ut;try{return F.apply(this,arguments)}finally{S=dt}}}})(Pm)),Pm}var Ny;function WS(){return Ny||(Ny=1,Rm.exports=XS()),Rm.exports}var zm={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function QS(){if(My)return Mn;My=1;var t=yf();function i(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(b,v,w){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:b,containerInfo:v,implementation:w}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Mn.createPortal=function(b,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return d(b,v,null,w)},Mn.flushSync=function(b){var v=h.T,w=l.p;try{if(h.T=null,l.p=2,b)return b()}finally{h.T=v,l.p=w,l.d.f()}},Mn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(b,v))},Mn.prefetchDNS=function(b){typeof b=="string"&&l.d.D(b)},Mn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var w=v.as,_=p(w,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?l.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):w==="script"&&l.d.X(b,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Mn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);l.d.M(b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(b)},Mn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,_=p(w,v.crossOrigin);l.d.L(b,w,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Mn.preloadModule=function(b,v){if(typeof b=="string")if(v){var w=p(v.as,v.crossOrigin);l.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(b)},Mn.requestFormReset=function(b){l.d.r(b)},Mn.unstable_batchedUpdates=function(b,v){return b(v)},Mn.useFormState=function(b,v,w){return h.H.useFormState(b,v,w)},Mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mn.version="19.1.1",Mn}var Dy;function a_(){if(Dy)return zm.exports;Dy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),zm.exports=QS(),zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function JS(){if(Ay)return ac;Ay=1;var t=WS(),i=yf(),o=a_();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(l(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,c=n;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return p(m),e;if(y===c)return p(m),n;y=y.sibling}throw Error(l(188))}if(a.return!==c.return)a=m,c=y;else{for(var N=!1,z=m.child;z;){if(z===a){N=!0,a=m,c=y;break}if(z===c){N=!0,c=m,a=y;break}z=z.sibling}if(!N){for(z=y.child;z;){if(z===a){N=!0,a=y,c=m;break}if(z===c){N=!0,c=y,a=m;break}z=z.sibling}if(!N)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case O:return"Suspense";case K:return"SuspenseList";case et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case j:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:st(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return st(e(n))}catch{}}return null}var yt=Array.isArray,F=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Z=[],B=-1;function A(e){return{current:e}}function $(e){0>B||(e.current=Z[B],Z[B]=null,B--)}function G(e,n){B++,Z[B]=e.current,e.current=n}var X=A(null),at=A(null),rt=A(null),gt=A(null);function _t(e,n){switch(G(rt,n),G(at,e),G(X,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Kb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Kb(n),e=Xb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(X),G(X,e)}function Tt(){$(X),$(at),$(rt)}function At(e){e.memoizedState!==null&&G(gt,e);var n=X.current,a=Xb(n,e.type);n!==a&&(G(at,e),G(X,a))}function Kt(e){at.current===e&&($(X),$(at)),gt.current===e&&($(gt),Jl._currentValue=dt)}var Ht=Object.prototype.hasOwnProperty,re=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,We=t.unstable_shouldYield,Be=t.unstable_requestPaint,de=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,wt=t.unstable_ImmediatePriority,Et=t.unstable_UserBlockingPriority,pt=t.unstable_NormalPriority,zt=t.unstable_LowPriority,jt=t.unstable_IdlePriority,Gt=t.log,Ct=t.unstable_setDisableYieldValue,qt=null,ne=null;function De(e){if(typeof Gt=="function"&&Ct(e),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(qt,e)}catch{}}var we=Math.clz32?Math.clz32:Wi,zr=Math.log,ei=Math.LN2;function Wi(e){return e>>>=0,e===0?32:31-(zr(e)/ei|0)|0}var Hr=256,$n=4194304;function mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,n,a){var c=e.pendingLanes;if(c===0)return 0;var m=0,y=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var z=c&134217727;return z!==0?(c=z&~y,c!==0?m=mn(c):(N&=z,N!==0?m=mn(N):a||(a=z&~e,a!==0&&(m=mn(a))))):(z=c&~y,z!==0?m=mn(z):N!==0?m=mn(N):a||(a=c&~e,a!==0&&(m=mn(a)))),m===0?0:n!==0&&n!==m&&(n&y)===0&&(y=m&-m,a=n&-n,y>=a||y===32&&(a&4194048)!==0)?n:m}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function nl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qa(){var e=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),e}function $r(){var e=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),e}function Gn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rl(e,n,a,c,m,y){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var z=e.entanglements,V=e.expirationTimes,ct=e.hiddenUpdates;for(a=N&~a;0<a;){var bt=31-we(a),xt=1<<bt;z[bt]=0,V[bt]=-1;var ft=ct[bt];if(ft!==null)for(ct[bt]=null,bt=0;bt<ft.length;bt++){var ht=ft[bt];ht!==null&&(ht.lane&=-536870913)}a&=~xt}c!==0&&Ja(e,c,0),y!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=y&~(N&~n))}function Ja(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-we(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|a&4194090}function Zc(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var c=31-we(a),m=1<<c;m&n|e[c]&n&&(e[c]|=n),a&=~m}}function il(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function al(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yc(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:py(e.type))}function ol(e,n){var a=ut.p;try{return ut.p=e,n()}finally{ut.p=a}}var ni=Math.random().toString(36).slice(2),an="__reactFiber$"+ni,wn="__reactProps$"+ni,Qi="__reactContainer$"+ni,Zn="__reactEvents$"+ni,Bt="__reactListeners$"+ni,qc="__reactHandles$"+ni,sl="__reactResources$"+ni,Ji="__reactMarker$"+ni;function Go(e){delete e[an],delete e[wn],delete e[Zn],delete e[Bt],delete e[qc]}function ri(e){var n=e[an];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Qi]||a[an]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=ty(e);e!==null;){if(a=e[an])return a;e=ty(e)}return n}e=a,a=e.parentNode}return null}function bi(e){if(e=e[an]||e[Qi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function br(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function yi(e){var n=e[sl];return n||(n=e[sl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Fe(e){e[Ji]=!0}var Vc=new Set,Fc={};function vi(e,n){xi(e,n),xi(e+"Capture",n)}function xi(e,n){for(Fc[e]=n,e=0;e<n.length;e++)Vc.add(n[e])}var Gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},Kc={};function Zf(e){return Ht.call(Kc,e)?!0:Ht.call(to,e)?!1:Gf.test(e)?Kc[e]=!0:(to[e]=!0,!1)}function Zo(e,n,a){if(Zf(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Yo(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ur(e,n,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+c)}}var eo,ta;function _i(e){if(eo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);eo=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+e+ta}var qo=!1;function Si(e,n){if(!e||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(ht){var ft=ht}Reflect.construct(e,[],xt)}else{try{xt.call()}catch(ht){ft=ht}e.call(xt.prototype)}}else{try{throw Error()}catch(ht){ft=ht}(xt=e())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(ht){if(ht&&ft&&typeof ht.stack=="string")return[ht.stack,ft.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),N=y[0],z=y[1];if(N&&z){var V=N.split(`
`),ct=z.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ct.length&&!ct[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===ct.length)for(c=V.length-1,m=ct.length-1;1<=c&&0<=m&&V[c]!==ct[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==ct[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==ct[m]){var bt=`
`+V[c].replace(" at new "," at ");return e.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",e.displayName)),bt}while(1<=c&&0<=m);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function ie(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Si(e.type,!1);case 11:return Si(e.type.render,!1);case 1:return Si(e.type,!0);case 31:return _i("Activity");default:return""}}function Te(e){try{var n="";do n+=ie(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ea(e){var n=wi(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,y=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(N){c=""+N,y.call(this,N)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function na(e){e._valueTracker||(e._valueTracker=ea(e))}function Vt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return e&&(c=wi(e)?e.checked?"true":"false":e.value),e=c,e!==a?(n.setValue(e),!0):!1}function Ee(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ll=/[\n"\\]/g;function gn(e){return e.replace(ll,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(e,n,a,c,m,y,N,z){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+pn(n)):e.value!==""+pn(n)&&(e.value=""+pn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?ra(e,N,pn(n)):a!=null?ra(e,N,pn(a)):c!=null&&e.removeAttribute("value"),m==null&&y!=null&&(e.defaultChecked=!!y),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.name=""+pn(z):e.removeAttribute("name")}function Xc(e,n,a,c,m,y,N,z){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+pn(a):"",n=n!=null?""+pn(n):a,z||n===e.value||(e.value=n),e.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=z?e.checked:!!c,e.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function ra(e,n,a){n==="number"&&Ee(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Yn(e,n,a,c){if(e=e.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=n.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&c&&(e[a].defaultSelected=!0)}else{for(a=""+pn(a),n=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Re(e,n,a){if(n!=null&&(n=""+pn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+pn(a):""}function ii(e,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(l(92));if(yt(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=pn(n),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c)}function yr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,a):typeof a!="number"||a===0||no.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ia(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&a[m]!==c&&Vo(e,m,c)}else for(var y in n)n.hasOwnProperty(y)&&Vo(e,y,n[y])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Fo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var io=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,ai=null;function Wc(e){var n=bi(e);if(n&&(e=n.stateNode)){var a=e[wn]||null;t:switch(e=n.stateNode,n.type){case"input":if(Tn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==e&&c.form===e.form){var m=c[wn]||null;if(!m)throw Error(l(90));Tn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===e.form&&Vt(c)}break t;case"textarea":Re(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yn(e,!!a.multiple,n,!1)}}}var Yt=!1;function Jn(e,n,a){if(Yt)return e(n,a);Yt=!0;try{var c=e(n);return c}finally{if(Yt=!1,(Ti!==null||ai!==null)&&(Yu(),Ti&&(n=Ti,e=ai,ai=Ti=null,Wc(n),e)))for(n=0;n<e.length;n++)Wc(e[n])}}function le(e,n){var a=e.stateNode;if(a===null)return null;var c=a[wn]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(vr)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{ao=!1}var xr=null,Gr=null,sa=null;function la(){if(sa)return sa;var e,n=Gr,a=n.length,c,m="value"in xr?xr.value:xr.textContent,y=m.length;for(e=0;e<a&&n[e]===m[e];e++);var N=a-e;for(c=1;c<=N&&n[a-c]===m[y-c];c++);return sa=m.slice(e,1<c?1-c:void 0)}function Ue(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function ul(){return!1}function bn(e){function n(a,c,m,y,N){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(a=e[z],this[z]=a?a(y):y[z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_r:ul,this.isPropagationStopped=ul,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=bn(Ni),Mi=w({},Ni,{view:0,detail:0}),Yf=bn(Mi),Ko,Wt,so,En=w({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Ko=e.screenX-so.screenX,Wt=e.screenY-so.screenY):Wt=Ko=0,so=e),Ko)},movementY:function(e){return"movementY"in e?e.movementY:Wt}}),ca=bn(En),Qc=w({},En,{dataTransfer:0}),qf=bn(Qc),dl=w({},Mi,{relatedTarget:0}),fl=bn(dl),Jc=w({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=bn(Jc),Ff=w({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hl=bn(Ff),Kf=w({},Ni,{data:0}),tr=bn(Kf),Xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=oi[e])?!!n[e]:!1}function Xo(){return eu}var ml=w({},Mi,{key:function(e){if(e.key){var n=Xf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ue(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Ue(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ue(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wf=bn(ml),nu=w({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=bn(nu),Qf=w({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),Jf=bn(Qf),gl=w({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=bn(gl),ru=w({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=bn(ru),Wo=w({},Ni,{newState:0,oldState:0}),Di=bn(Wo),eh=[9,13,27,32],Ai=vr&&"CompositionEvent"in window,on=null;vr&&"documentMode"in document&&(on=document.documentMode);var au=vr&&"TextEvent"in window&&!on,bl=vr&&(!Ai||on&&8<on&&11>=on),ou=" ",Qo=!1;function Jo(e,n){switch(e){case"keyup":return eh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function lu(e,n){switch(e){case"compositionend":return su(n);case"keypress":return n.which!==32?null:(Qo=!0,ou);case"textInput":return e=n.data,e===ou&&Qo?null:e;default:return null}}function nh(e,n){if(ua)return e==="compositionend"||!Ai&&Jo(e,n)?(e=la(),sa=Gr=xr=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bl&&n.locale!=="ko"?null:n.data;default:return null}}var er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ji(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!er[e.type]:n==="textarea"}function cu(e,n,a,c){Ti?ai?ai.push(c):ai=[c]:Ti=c,n=Wu(n,"onChange"),0<n.length&&(a=new oo("onChange","change",null,a,c),e.push({event:a,listeners:n}))}var jn=null,lo=null;function da(e){Zb(e,0)}function ts(e){var n=br(e);if(Vt(n))return e}function fa(e,n){if(e==="change")return n}var yl=!1;if(vr){var ha;if(vr){var vl="oninput"in document;if(!vl){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),vl=typeof Zr.oninput=="function"}ha=vl}else ha=!1;yl=ha&&(!document.documentMode||9<document.documentMode)}function co(){jn&&(jn.detachEvent("onpropertychange",uu),lo=jn=null)}function uu(e){if(e.propertyName==="value"&&ts(lo)){var n=[];cu(n,lo,e,oa(e)),Jn(da,n)}}function xl(e,n,a){e==="focusin"?(co(),jn=n,lo=a,jn.attachEvent("onpropertychange",uu)):e==="focusout"&&co()}function rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(lo)}function Yr(e,n){if(e==="click")return ts(n)}function ih(e,n){if(e==="input"||e==="change")return ts(n)}function ma(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:ma;function On(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Ht.call(n,m)||!kn(e[m],n[m]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _l(e,n){var a=uo(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=n&&c>=n)return{node:a,offset:n-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uo(a)}}function es(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?es(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function fo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ee(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ee(e.document)}return n}function ho(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ns=vr&&"documentMode"in document&&11>=document.documentMode,nr=null,pa=null,ki=null,rs=!1;function du(e,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rs||nr==null||nr!==Ee(c)||(c=nr,"selectionStart"in c&&ho(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ki&&On(ki,c)||(ki=c,c=Wu(pa,"onSelect"),0<c.length&&(n=new oo("onSelect","select",null,n,a),e.push({event:n,listeners:c}),n.target=nr)))}function Sr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},is={},fu={};vr&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function si(e){if(is[e])return is[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in fu)return is[e]=n[a];return e}var hu=si("animationend"),rr=si("animationiteration"),mo=si("animationstart"),ah=si("transitionrun"),as=si("transitionstart"),oh=si("transitioncancel"),Sl=si("transitionend"),mu=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function ir(e,n){mu.set(e,n),vi(n,[e])}var Ci=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var a=Ci.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Te(n)},Ci.set(e,n),n)}return{value:e,source:n,stack:Te(n)}}var Ln=[],ba=0,ar=0;function po(){for(var e=ba,n=ar=ba=0;n<e;){var a=Ln[n];Ln[n++]=null;var c=Ln[n];Ln[n++]=null;var m=Ln[n];Ln[n++]=null;var y=Ln[n];if(Ln[n++]=null,c!==null&&m!==null){var N=c.pending;N===null?m.next=m:(m.next=N.next,N.next=m),c.pending=m}y!==0&&bo(a,m,y)}}function go(e,n,a,c){Ln[ba++]=e,Ln[ba++]=n,Ln[ba++]=a,Ln[ba++]=c,ar|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Li(e,n,a,c){return go(e,n,a,c),li(e)}function ya(e,n){return go(e,null,null,n),li(e)}function bo(e,n,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var m=!1,y=e.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(m=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,m&&n!==null&&(m=31-we(a),e=y.hiddenUpdates,c=e[m],c===null?e[m]=[n]:c.push(n),n.lane=a|536870912),y):null}function li(e){if(50<Yl)throw Yl=0,rm=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Bi={};function pu(e,n,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,n,a,c){return new pu(e,n,a,c)}function os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wr(e,n){var a=e.alternate;return a===null?(a=Bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wl(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function yo(e,n,a,c,m,y){var N=0;if(c=e,typeof e=="function")os(e)&&(N=1);else if(typeof e=="string")N=CS(e,a,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case et:return e=Bn(31,a,n,m),e.elementType=et,e.lanes=y,e;case D:return ci(a.children,m,y,n);case M:N=8,m|=24;break;case k:return e=Bn(12,a,n,m|2),e.elementType=k,e.lanes=y,e;case O:return e=Bn(13,a,n,m),e.elementType=O,e.lanes=y,e;case K:return e=Bn(19,a,n,m),e.elementType=K,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case j:N=10;break t;case H:N=9;break t;case P:N=11;break t;case W:N=14;break t;case Q:N=16,c=null;break t}N=29,a=Error(l(130,e===null?"null":typeof e,"")),c=null}return n=Bn(N,a,n,m),n.elementType=e,n.type=c,n.lanes=y,n}function ci(e,n,a,c){return e=Bn(7,e,c,n),e.lanes=a,e}function Tl(e,n,a){return e=Bn(6,e,null,n),e.lanes=a,e}function ss(e,n,a){return n=Bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ri=[],va=0,r=null,s=0,f=[],x=0,E=null,C=1,q="";function ot(e,n){Ri[va++]=s,Ri[va++]=r,r=e,s=n}function mt(e,n,a){f[x++]=C,f[x++]=q,f[x++]=E,E=e;var c=C;e=q;var m=32-we(c)-1;c&=~(1<<m),a+=1;var y=32-we(n)+m;if(30<y){var N=m-m%5;y=(c&(1<<N)-1).toString(32),c>>=N,m-=N,C=1<<32-we(n)+m|a<<m|c,q=y+e}else C=1<<y|a<<m|c,q=e}function St(e){e.return!==null&&(ot(e,1),mt(e,1,0))}function Dt(e){for(;e===r;)r=Ri[--va],Ri[va]=null,s=Ri[--va],Ri[va]=null;for(;e===E;)E=f[--x],f[x]=null,q=f[--x],f[x]=null,C=f[--x],f[x]=null}var kt=null,Lt=null,Zt=!1,Ne=null,Pe=!1,sn=Error(l(519));function qn(e){var n=Error(l(418,""));throw _a(Cn(n,e)),sn}function gu(e){var n=e.stateNode,a=e.type,c=e.memoizedProps;switch(n[an]=e,n[wn]=c,a){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)te(Vl[a],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":te("invalid",n),Xc(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),na(n);break;case"select":te("invalid",n);break;case"textarea":te("invalid",n),ii(n,c.value,c.defaultValue,c.children),na(n)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||Fb(n.textContent,a)?(c.popover!=null&&(te("beforetoggle",n),te("toggle",n)),c.onScroll!=null&&te("scroll",n),c.onScrollEnd!=null&&te("scrollend",n),c.onClick!=null&&(n.onclick=Qu),n=!0):n=!1,n||qn(e)}function bu(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 13:Pe=!1;return;case 27:case 3:Pe=!0;return;default:kt=kt.return}}function vo(e){if(e!==kt)return!1;if(!Zt)return bu(e),Zt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vm(e.type,e.memoizedProps)),a=!a),a&&Lt&&qn(e),bu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Lt=Kr(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Lt=null}}else n===27?(n=Lt,Ra(e.type)?(e=wm,wm=null,Lt=e):Lt=n):Lt=kt?Kr(e.stateNode.nextSibling):null;return!0}function xa(){Lt=kt=null,Zt=!1}function yu(){var e=Ne;return e!==null&&(Kn===null?Kn=e:Kn.push.apply(Kn,e),Ne=null),e}function _a(e){Ne===null?Ne=[e]:Ne.push(e)}var Oe=A(null),Tr=null,qr=null;function ui(e,n,a){G(Oe,n._currentValue),n._currentValue=a}function Vr(e){e._currentValue=Oe.current,$(Oe)}function xo(e,n,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===a)break;e=e.return}}function ls(e,n,a,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var y=m.dependencies;if(y!==null){var N=m.child;y=y.firstContext;t:for(;y!==null;){var z=y;y=m;for(var V=0;V<n.length;V++)if(z.context===n[V]){y.lanes|=a,z=y.alternate,z!==null&&(z.lanes|=a),xo(y.return,a,e),c||(N=null);break t}y=z.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(l(341));N.lanes|=a,y=N.alternate,y!==null&&(y.lanes|=a),xo(N,a,e),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===e){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function _o(e,n,a,c){e=null;for(var m=n,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var z=m.type;kn(m.pendingProps.value,N.value)||(e!==null?e.push(z):e=[z])}}else if(m===gt.current){if(N=m.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}m=m.return}e!==null&&ls(n,e,a,c),n.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){Tr=e,qr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nn(e){return L0(Tr,e)}function xu(e,n){return Tr===null&&So(e),L0(e,n)}function L0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qr===null){if(e===null)throw Error(l(308));qr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qr=qr.next=n;return a}var O2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},C2=t.unstable_scheduleCallback,L2=t.unstable_NormalPriority,Qe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new O2,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&C2(L2,function(){e.controller.abort()})}var Nl=null,lh=0,cs=0,us=null;function B2(e,n){if(Nl===null){var a=Nl=[];lh=0,cs=um(),us={status:"pending",value:void 0,then:function(c){a.push(c)}}}return lh++,n.then(B0,B0),n}function B0(){if(--lh===0&&Nl!==null){us!==null&&(us.status="fulfilled");var e=Nl;Nl=null,cs=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function R2(e,n){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var R0=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&B2(e,n),R0!==null&&R0(e,n)};var wo=A(null);function ch(){var e=wo.current;return e!==null?e:Me.pooledCache}function _u(e,n){n===null?G(wo,wo.current):G(wo,n.pool)}function P0(){var e=ch();return e===null?null:{parent:Qe._currentValue,pool:e}}var Ml=Error(l(460)),z0=Error(l(474)),Su=Error(l(542)),uh={then:function(){}};function H0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wu(){}function I0(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(wu,wu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,U0(e),e;default:if(typeof n.status=="string")n.then(wu,wu);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,U0(e),e}throw Dl=n,Ml}}var Dl=null;function $0(){if(Dl===null)throw Error(l(459));var e=Dl;return Dl=null,e}function U0(e){if(e===Ml||e===Su)throw Error(l(483))}var Sa=!1;function dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,n,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(he&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=li(e),bo(e,null,a),n}return go(e,c,n,a),li(e)}function Al(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Zc(e,a)}}function hh(e,n){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=N:y=y.next=N,a=a.next}while(a!==null);y===null?m=y=n:y=y.next=n}else m=y=n;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mh=!1;function jl(){if(mh){var e=us;if(e!==null)throw e}}function kl(e,n,a,c){mh=!1;var m=e.updateQueue;Sa=!1;var y=m.firstBaseUpdate,N=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var V=z,ct=V.next;V.next=null,N===null?y=ct:N.next=ct,N=V;var bt=e.alternate;bt!==null&&(bt=bt.updateQueue,z=bt.lastBaseUpdate,z!==N&&(z===null?bt.firstBaseUpdate=ct:z.next=ct,bt.lastBaseUpdate=V))}if(y!==null){var xt=m.baseState;N=0,bt=ct=V=null,z=y;do{var ft=z.lane&-536870913,ht=ft!==z.lane;if(ht?(ae&ft)===ft:(c&ft)===ft){ft!==0&&ft===cs&&(mh=!0),bt!==null&&(bt=bt.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var Ut=e,It=z;ft=n;var ye=a;switch(It.tag){case 1:if(Ut=It.payload,typeof Ut=="function"){xt=Ut.call(ye,xt,ft);break t}xt=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=It.payload,ft=typeof Ut=="function"?Ut.call(ye,xt,ft):Ut,ft==null)break t;xt=w({},xt,ft);break t;case 2:Sa=!0}}ft=z.callback,ft!==null&&(e.flags|=64,ht&&(e.flags|=8192),ht=m.callbacks,ht===null?m.callbacks=[ft]:ht.push(ft))}else ht={lane:ft,tag:z.tag,payload:z.payload,callback:z.callback,next:null},bt===null?(ct=bt=ht,V=xt):bt=bt.next=ht,N|=ft;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;ht=z,z=ht.next,ht.next=null,m.lastBaseUpdate=ht,m.shared.pending=null}}while(!0);bt===null&&(V=xt),m.baseState=V,m.firstBaseUpdate=ct,m.lastBaseUpdate=bt,y===null&&(m.shared.lanes=0),Oa|=N,e.lanes=N,e.memoizedState=xt}}function G0(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Z0(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)G0(a[e],n)}var ds=A(null),Tu=A(0);function Y0(e,n){e=Gi,G(Tu,e),G(ds,n),Gi=e|n.baseLanes}function ph(){G(Tu,Gi),G(ds,ds.current)}function gh(){Gi=Tu.current,$(ds),$(Tu)}var Ea=0,Xt=null,ge=null,Ke=null,Eu=!1,fs=!1,To=!1,Nu=0,Ol=0,hs=null,P2=0;function qe(){throw Error(l(321))}function bh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!kn(e[a],n[a]))return!1;return!0}function yh(e,n,a,c,m,y){return Ea=y,Xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Dg:Ag,To=!1,y=a(c,m),To=!1,fs&&(y=V0(n,a,c,m)),q0(e),y}function q0(e){F.H=Ou;var n=ge!==null&&ge.next!==null;if(Ea=0,Ke=ge=Xt=null,Eu=!1,Ol=0,hs=null,n)throw Error(l(300));e===null||ln||(e=e.dependencies,e!==null&&vu(e)&&(ln=!0))}function V0(e,n,a,c){Xt=e;var m=0;do{if(fs&&(hs=null),Ol=0,fs=!1,25<=m)throw Error(l(301));if(m+=1,Ke=ge=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=Z2,y=n(a,c)}while(fs);return y}function z2(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(Xt.flags|=1024),n}function vh(){var e=Nu!==0;return Nu=0,e}function xh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _h(e){if(Eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Eu=!1}Ea=0,Ke=ge=Xt=null,fs=!1,Ol=Nu=0,hs=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Xt.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xe(){if(ge===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var n=Ke===null?Xt.memoizedState:Ke.next;if(n!==null)Ke=n,ge=e;else{if(e===null)throw Xt.alternate===null?Error(l(467)):Error(l(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ke===null?Xt.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=Ol;return Ol+=1,hs===null&&(hs=[]),e=I0(hs,e,n),n=Xt,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Dg:Ag),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===j)return Nn(e)}throw Error(l(438,String(e)))}function wh(e){var n=null,a=Xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=Xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Sh(),Xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),c=0;c<e;c++)a[c]=nt;return n.index++,a}function Pi(e,n){return typeof n=="function"?n(e):n}function Du(e){var n=Xe();return Th(n,ge,e)}function Th(e,n,a){var c=e.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var m=e.baseQueue,y=c.pending;if(y!==null){if(m!==null){var N=m.next;m.next=y.next,y.next=N}n.baseQueue=m=y,c.pending=null}if(y=e.baseState,m===null)e.memoizedState=y;else{n=m.next;var z=N=null,V=null,ct=n,bt=!1;do{var xt=ct.lane&-536870913;if(xt!==ct.lane?(ae&xt)===xt:(Ea&xt)===xt){var ft=ct.revertLane;if(ft===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),xt===cs&&(bt=!0);else if((Ea&ft)===ft){ct=ct.next,ft===cs&&(bt=!0);continue}else xt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},V===null?(z=V=xt,N=y):V=V.next=xt,Xt.lanes|=ft,Oa|=ft;xt=ct.action,To&&a(y,xt),y=ct.hasEagerState?ct.eagerState:a(y,xt)}else ft={lane:xt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},V===null?(z=V=ft,N=y):V=V.next=ft,Xt.lanes|=xt,Oa|=xt;ct=ct.next}while(ct!==null&&ct!==n);if(V===null?N=y:V.next=z,!kn(y,e.memoizedState)&&(ln=!0,bt&&(a=us,a!==null)))throw a;e.memoizedState=y,e.baseState=N,e.baseQueue=V,c.lastRenderedState=y}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Eh(e){var n=Xe(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var c=a.dispatch,m=a.pending,y=n.memoizedState;if(m!==null){a.pending=null;var N=m=m.next;do y=e(y,N.action),N=N.next;while(N!==m);kn(y,n.memoizedState)||(ln=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,c]}function F0(e,n,a){var c=Xt,m=Xe(),y=Zt;if(y){if(a===void 0)throw Error(l(407));a=a()}else a=n();var N=!kn((ge||m).memoizedState,a);N&&(m.memoizedState=a,ln=!0),m=m.queue;var z=W0.bind(null,c,m,e);if(Ll(2048,8,z,[e]),m.getSnapshot!==n||N||Ke!==null&&Ke.memoizedState.tag&1){if(c.flags|=2048,ms(9,Au(),X0.bind(null,c,m,a,n),null),Me===null)throw Error(l(349));y||(Ea&124)!==0||K0(c,n,a)}return a}function K0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Xt.updateQueue,n===null?(n=Sh(),Xt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function X0(e,n,a,c){n.value=a,n.getSnapshot=c,Q0(n)&&J0(e)}function W0(e,n,a){return a(function(){Q0(n)&&J0(e)})}function Q0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!kn(e,a)}catch{return!0}}function J0(e){var n=ya(e,2);n!==null&&ur(n,e,2)}function Nh(e){var n=Vn();if(typeof e=="function"){var a=e;if(e=a(),To){De(!0);try{a()}finally{De(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function tg(e,n,a,c){return e.baseState=a,Th(e,ge,typeof c=="function"?c:Pi)}function H2(e,n,a,c,m){if(ku(e))throw Error(l(485));if(e=n.action,e!==null){var y={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};F.T!==null?a(!0):y.isTransition=!1,c(y),a=n.pending,a===null?(y.next=n.pending=y,eg(n,y)):(y.next=a.next,n.pending=a.next=y)}}function eg(e,n){var a=n.action,c=n.payload,m=e.state;if(n.isTransition){var y=F.T,N={};F.T=N;try{var z=a(m,c),V=F.S;V!==null&&V(N,z),ng(e,n,z)}catch(ct){Mh(e,n,ct)}finally{F.T=y}}else try{y=a(m,c),ng(e,n,y)}catch(ct){Mh(e,n,ct)}}function ng(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){rg(e,n,c)},function(c){return Mh(e,n,c)}):rg(e,n,a)}function rg(e,n,a){n.status="fulfilled",n.value=a,ig(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,eg(e,a)))}function Mh(e,n,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,ig(n),n=n.next;while(n!==c)}e.action=null}function ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ag(e,n){return n}function og(e,n){if(Zt){var a=Me.formState;if(a!==null){t:{var c=Xt;if(Zt){if(Lt){e:{for(var m=Lt,y=Pe;m.nodeType!==8;){if(!y){m=null;break e}if(m=Kr(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Lt=Kr(m.nextSibling),c=m.data==="F!";break t}}qn(c)}c=!1}c&&(n=a[0])}}return a=Vn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},a.queue=c,a=Eg.bind(null,Xt,c),c.dispatch=a,c=Nh(!1),y=Oh.bind(null,Xt,!1,c.queue),c=Vn(),m={state:n,dispatch:null,action:e,pending:null},c.queue=m,a=H2.bind(null,Xt,m,y,a),m.dispatch=a,c.memoizedState=e,[n,a,!1]}function sg(e){var n=Xe();return lg(n,ge,e)}function lg(e,n,a){if(n=Th(e,n,ag)[0],e=Du(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Cl(n)}catch(N){throw N===Ml?Su:N}else c=n;n=Xe();var m=n.queue,y=m.dispatch;return a!==n.memoizedState&&(Xt.flags|=2048,ms(9,Au(),I2.bind(null,m,a),null)),[c,y,e]}function I2(e,n){e.action=n}function cg(e){var n=Xe(),a=ge;if(a!==null)return lg(n,a,e);Xe(),n=n.memoizedState,a=Xe();var c=a.queue.dispatch;return a.memoizedState=e,[n,c,!1]}function ms(e,n,a,c){return e={tag:e,create:a,deps:c,inst:n,next:null},n=Xt.updateQueue,n===null&&(n=Sh(),Xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,n.lastEffect=e),e}function Au(){return{destroy:void 0,resource:void 0}}function ug(){return Xe().memoizedState}function ju(e,n,a,c){var m=Vn();c=c===void 0?null:c,Xt.flags|=e,m.memoizedState=ms(1|n,Au(),a,c)}function Ll(e,n,a,c){var m=Xe();c=c===void 0?null:c;var y=m.memoizedState.inst;ge!==null&&c!==null&&bh(c,ge.memoizedState.deps)?m.memoizedState=ms(n,y,a,c):(Xt.flags|=e,m.memoizedState=ms(1|n,y,a,c))}function dg(e,n){ju(8390656,8,e,n)}function fg(e,n){Ll(2048,8,e,n)}function hg(e,n){return Ll(4,2,e,n)}function mg(e,n){return Ll(4,4,e,n)}function pg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gg(e,n,a){a=a!=null?a.concat([e]):null,Ll(4,4,pg.bind(null,n,e),a)}function Dh(){}function bg(e,n){var a=Xe();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&bh(n,c[1])?c[0]:(a.memoizedState=[e,n],e)}function yg(e,n){var a=Xe();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&bh(n,c[1]))return c[0];if(c=e(),To){De(!0);try{e()}finally{De(!1)}}return a.memoizedState=[c,n],c}function Ah(e,n,a){return a===void 0||(Ea&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=_b(),Xt.lanes|=e,Oa|=e,a)}function vg(e,n,a,c){return kn(a,n)?a:ds.current!==null?(e=Ah(e,a,c),kn(e,n)||(ln=!0),e):(Ea&42)===0?(ln=!0,e.memoizedState=a):(e=_b(),Xt.lanes|=e,Oa|=e,n)}function xg(e,n,a,c,m){var y=ut.p;ut.p=y!==0&&8>y?y:8;var N=F.T,z={};F.T=z,Oh(e,!1,n,a);try{var V=m(),ct=F.S;if(ct!==null&&ct(z,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var bt=R2(V,c);Bl(e,n,bt,cr(e))}else Bl(e,n,c,cr(e))}catch(xt){Bl(e,n,{then:function(){},status:"rejected",reason:xt},cr())}finally{ut.p=y,F.T=N}}function $2(){}function jh(e,n,a,c){if(e.tag!==5)throw Error(l(476));var m=_g(e).queue;xg(e,m,n,dt,a===null?$2:function(){return Sg(e),a(c)})}function _g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sg(e){var n=_g(e).next.queue;Bl(e,n,{},cr())}function kh(){return Nn(Jl)}function wg(){return Xe().memoizedState}function Tg(){return Xe().memoizedState}function U2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=cr();e=wa(a);var c=Ta(n,e,a);c!==null&&(ur(c,n,a),Al(c,n,a)),n={cache:sh()},e.payload=n;return}n=n.return}}function G2(e,n,a){var c=cr();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ku(e)?Ng(n,a):(a=Li(e,n,a,c),a!==null&&(ur(a,e,c),Mg(a,n,c)))}function Eg(e,n,a){var c=cr();Bl(e,n,a,c)}function Bl(e,n,a,c){var m={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(e))Ng(n,m);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var N=n.lastRenderedState,z=y(N,a);if(m.hasEagerState=!0,m.eagerState=z,kn(z,N))return go(e,n,m,0),Me===null&&po(),!1}catch{}finally{}if(a=Li(e,n,m,c),a!==null)return ur(a,e,c),Mg(a,n,c),!0}return!1}function Oh(e,n,a,c){if(c={lane:2,revertLane:um(),action:c,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(l(479))}else n=Li(e,a,c,2),n!==null&&ur(n,e,2)}function ku(e){var n=e.alternate;return e===Xt||n!==null&&n===Xt}function Ng(e,n){fs=Eu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Mg(e,n,a){if((a&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,a|=c,n.lanes=a,Zc(e,a)}}var Ou={readContext:Nn,use:Mu,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},Dg={readContext:Nn,use:Mu,useCallback:function(e,n){return Vn().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:dg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ju(4194308,4,pg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var a=Vn();n=n===void 0?null:n;var c=e();if(To){De(!0);try{e()}finally{De(!1)}}return a.memoizedState=[c,n],c},useReducer:function(e,n,a){var c=Vn();if(a!==void 0){var m=a(n);if(To){De(!0);try{a(n)}finally{De(!1)}}}else m=n;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=G2.bind(null,Xt,e),[c.memoizedState,e]},useRef:function(e){var n=Vn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nh(e);var n=e.queue,a=Eg.bind(null,Xt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Dh,useDeferredValue:function(e,n){var a=Vn();return Ah(a,e,n)},useTransition:function(){var e=Nh(!1);return e=xg.bind(null,Xt,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var c=Xt,m=Vn();if(Zt){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),Me===null)throw Error(l(349));(ae&124)!==0||K0(c,n,a)}m.memoizedState=a;var y={value:a,getSnapshot:n};return m.queue=y,dg(W0.bind(null,c,y,e),[e]),c.flags|=2048,ms(9,Au(),X0.bind(null,c,y,a,n),null),a},useId:function(){var e=Vn(),n=Me.identifierPrefix;if(Zt){var a=q,c=C;a=(c&~(1<<32-we(c)-1)).toString(32)+a,n="«"+n+"R"+a,a=Nu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=P2++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:kh,useFormState:og,useActionState:og,useOptimistic:function(e){var n=Vn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Oh.bind(null,Xt,!0,a),a.dispatch=n,[e,n]},useMemoCache:wh,useCacheRefresh:function(){return Vn().memoizedState=U2.bind(null,Xt)}},Ag={readContext:Nn,use:Mu,useCallback:bg,useContext:Nn,useEffect:fg,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:mg,useMemo:yg,useReducer:Du,useRef:ug,useState:function(){return Du(Pi)},useDebugValue:Dh,useDeferredValue:function(e,n){var a=Xe();return vg(a,ge.memoizedState,e,n)},useTransition:function(){var e=Du(Pi)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:F0,useId:wg,useHostTransitionStatus:kh,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var a=Xe();return tg(a,ge,e,n)},useMemoCache:wh,useCacheRefresh:Tg},Z2={readContext:Nn,use:Mu,useCallback:bg,useContext:Nn,useEffect:fg,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:mg,useMemo:yg,useReducer:Eh,useRef:ug,useState:function(){return Eh(Pi)},useDebugValue:Dh,useDeferredValue:function(e,n){var a=Xe();return ge===null?Ah(a,e,n):vg(a,ge.memoizedState,e,n)},useTransition:function(){var e=Eh(Pi)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:F0,useId:wg,useHostTransitionStatus:kh,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var a=Xe();return ge!==null?tg(a,ge,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wh,useCacheRefresh:Tg},ps=null,Rl=0;function Cu(e){var n=Rl;return Rl+=1,ps===null&&(ps=[]),I0(ps,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){var n=e._init;return n(e._payload)}function kg(e){function n(it,J){if(e){var lt=it.deletions;lt===null?(it.deletions=[J],it.flags|=16):lt.push(J)}}function a(it,J){if(!e)return null;for(;J!==null;)n(it,J),J=J.sibling;return null}function c(it){for(var J=new Map;it!==null;)it.key!==null?J.set(it.key,it):J.set(it.index,it),it=it.sibling;return J}function m(it,J){return it=wr(it,J),it.index=0,it.sibling=null,it}function y(it,J,lt){return it.index=lt,e?(lt=it.alternate,lt!==null?(lt=lt.index,lt<J?(it.flags|=67108866,J):lt):(it.flags|=67108866,J)):(it.flags|=1048576,J)}function N(it){return e&&it.alternate===null&&(it.flags|=67108866),it}function z(it,J,lt,vt){return J===null||J.tag!==6?(J=Tl(lt,it.mode,vt),J.return=it,J):(J=m(J,lt),J.return=it,J)}function V(it,J,lt,vt){var Ot=lt.type;return Ot===D?bt(it,J,lt.props.children,vt,lt.key):J!==null&&(J.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Q&&jg(Ot)===J.type)?(J=m(J,lt.props),Pl(J,lt),J.return=it,J):(J=yo(lt.type,lt.key,lt.props,null,it.mode,vt),Pl(J,lt),J.return=it,J)}function ct(it,J,lt,vt){return J===null||J.tag!==4||J.stateNode.containerInfo!==lt.containerInfo||J.stateNode.implementation!==lt.implementation?(J=ss(lt,it.mode,vt),J.return=it,J):(J=m(J,lt.children||[]),J.return=it,J)}function bt(it,J,lt,vt,Ot){return J===null||J.tag!==7?(J=ci(lt,it.mode,vt,Ot),J.return=it,J):(J=m(J,lt),J.return=it,J)}function xt(it,J,lt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Tl(""+J,it.mode,lt),J.return=it,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return lt=yo(J.type,J.key,J.props,null,it.mode,lt),Pl(lt,J),lt.return=it,lt;case T:return J=ss(J,it.mode,lt),J.return=it,J;case Q:var vt=J._init;return J=vt(J._payload),xt(it,J,lt)}if(yt(J)||U(J))return J=ci(J,it.mode,lt,null),J.return=it,J;if(typeof J.then=="function")return xt(it,Cu(J),lt);if(J.$$typeof===j)return xt(it,xu(it,J),lt);Lu(it,J)}return null}function ft(it,J,lt,vt){var Ot=J!==null?J.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ot!==null?null:z(it,J,""+lt,vt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case S:return lt.key===Ot?V(it,J,lt,vt):null;case T:return lt.key===Ot?ct(it,J,lt,vt):null;case Q:return Ot=lt._init,lt=Ot(lt._payload),ft(it,J,lt,vt)}if(yt(lt)||U(lt))return Ot!==null?null:bt(it,J,lt,vt,null);if(typeof lt.then=="function")return ft(it,J,Cu(lt),vt);if(lt.$$typeof===j)return ft(it,J,xu(it,lt),vt);Lu(it,lt)}return null}function ht(it,J,lt,vt,Ot){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return it=it.get(lt)||null,z(J,it,""+vt,Ot);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case S:return it=it.get(vt.key===null?lt:vt.key)||null,V(J,it,vt,Ot);case T:return it=it.get(vt.key===null?lt:vt.key)||null,ct(J,it,vt,Ot);case Q:var Qt=vt._init;return vt=Qt(vt._payload),ht(it,J,lt,vt,Ot)}if(yt(vt)||U(vt))return it=it.get(lt)||null,bt(J,it,vt,Ot,null);if(typeof vt.then=="function")return ht(it,J,lt,Cu(vt),Ot);if(vt.$$typeof===j)return ht(it,J,lt,xu(J,vt),Ot);Lu(J,vt)}return null}function Ut(it,J,lt,vt){for(var Ot=null,Qt=null,Rt=J,$t=J=0,un=null;Rt!==null&&$t<lt.length;$t++){Rt.index>$t?(un=Rt,Rt=null):un=Rt.sibling;var ce=ft(it,Rt,lt[$t],vt);if(ce===null){Rt===null&&(Rt=un);break}e&&Rt&&ce.alternate===null&&n(it,Rt),J=y(ce,J,$t),Qt===null?Ot=ce:Qt.sibling=ce,Qt=ce,Rt=un}if($t===lt.length)return a(it,Rt),Zt&&ot(it,$t),Ot;if(Rt===null){for(;$t<lt.length;$t++)Rt=xt(it,lt[$t],vt),Rt!==null&&(J=y(Rt,J,$t),Qt===null?Ot=Rt:Qt.sibling=Rt,Qt=Rt);return Zt&&ot(it,$t),Ot}for(Rt=c(Rt);$t<lt.length;$t++)un=ht(Rt,it,$t,lt[$t],vt),un!==null&&(e&&un.alternate!==null&&Rt.delete(un.key===null?$t:un.key),J=y(un,J,$t),Qt===null?Ot=un:Qt.sibling=un,Qt=un);return e&&Rt.forEach(function($a){return n(it,$a)}),Zt&&ot(it,$t),Ot}function It(it,J,lt,vt){if(lt==null)throw Error(l(151));for(var Ot=null,Qt=null,Rt=J,$t=J=0,un=null,ce=lt.next();Rt!==null&&!ce.done;$t++,ce=lt.next()){Rt.index>$t?(un=Rt,Rt=null):un=Rt.sibling;var $a=ft(it,Rt,ce.value,vt);if($a===null){Rt===null&&(Rt=un);break}e&&Rt&&$a.alternate===null&&n(it,Rt),J=y($a,J,$t),Qt===null?Ot=$a:Qt.sibling=$a,Qt=$a,Rt=un}if(ce.done)return a(it,Rt),Zt&&ot(it,$t),Ot;if(Rt===null){for(;!ce.done;$t++,ce=lt.next())ce=xt(it,ce.value,vt),ce!==null&&(J=y(ce,J,$t),Qt===null?Ot=ce:Qt.sibling=ce,Qt=ce);return Zt&&ot(it,$t),Ot}for(Rt=c(Rt);!ce.done;$t++,ce=lt.next())ce=ht(Rt,it,$t,ce.value,vt),ce!==null&&(e&&ce.alternate!==null&&Rt.delete(ce.key===null?$t:ce.key),J=y(ce,J,$t),Qt===null?Ot=ce:Qt.sibling=ce,Qt=ce);return e&&Rt.forEach(function(YS){return n(it,YS)}),Zt&&ot(it,$t),Ot}function ye(it,J,lt,vt){if(typeof lt=="object"&&lt!==null&&lt.type===D&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case S:t:{for(var Ot=lt.key;J!==null;){if(J.key===Ot){if(Ot=lt.type,Ot===D){if(J.tag===7){a(it,J.sibling),vt=m(J,lt.props.children),vt.return=it,it=vt;break t}}else if(J.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Q&&jg(Ot)===J.type){a(it,J.sibling),vt=m(J,lt.props),Pl(vt,lt),vt.return=it,it=vt;break t}a(it,J);break}else n(it,J);J=J.sibling}lt.type===D?(vt=ci(lt.props.children,it.mode,vt,lt.key),vt.return=it,it=vt):(vt=yo(lt.type,lt.key,lt.props,null,it.mode,vt),Pl(vt,lt),vt.return=it,it=vt)}return N(it);case T:t:{for(Ot=lt.key;J!==null;){if(J.key===Ot)if(J.tag===4&&J.stateNode.containerInfo===lt.containerInfo&&J.stateNode.implementation===lt.implementation){a(it,J.sibling),vt=m(J,lt.children||[]),vt.return=it,it=vt;break t}else{a(it,J);break}else n(it,J);J=J.sibling}vt=ss(lt,it.mode,vt),vt.return=it,it=vt}return N(it);case Q:return Ot=lt._init,lt=Ot(lt._payload),ye(it,J,lt,vt)}if(yt(lt))return Ut(it,J,lt,vt);if(U(lt)){if(Ot=U(lt),typeof Ot!="function")throw Error(l(150));return lt=Ot.call(lt),It(it,J,lt,vt)}if(typeof lt.then=="function")return ye(it,J,Cu(lt),vt);if(lt.$$typeof===j)return ye(it,J,xu(it,lt),vt);Lu(it,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,J!==null&&J.tag===6?(a(it,J.sibling),vt=m(J,lt),vt.return=it,it=vt):(a(it,J),vt=Tl(lt,it.mode,vt),vt.return=it,it=vt),N(it)):a(it,J)}return function(it,J,lt,vt){try{Rl=0;var Ot=ye(it,J,lt,vt);return ps=null,Ot}catch(Rt){if(Rt===Ml||Rt===Su)throw Rt;var Qt=Bn(29,Rt,null,it.mode);return Qt.lanes=vt,Qt.return=it,Qt}finally{}}}var gs=kg(!0),Og=kg(!1),Er=A(null),di=null;function Na(e){var n=e.alternate;G(Je,Je.current&1),G(Er,e),di===null&&(n===null||ds.current!==null||n.memoizedState!==null)&&(di=e)}function Cg(e){if(e.tag===22){if(G(Je,Je.current),G(Er,e),di===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(di=e)}}else Ma()}function Ma(){G(Je,Je.current),G(Er,Er.current)}function zi(e){$(Er),di===e&&(di=null),$(Je)}var Je=A(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sm(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(e,n,a,c){n=e.memoizedState,a=a(c,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lh={enqueueSetState:function(e,n,a){e=e._reactInternals;var c=cr(),m=wa(c);m.payload=n,a!=null&&(m.callback=a),n=Ta(e,m,c),n!==null&&(ur(n,e,c),Al(n,e,c))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var c=cr(),m=wa(c);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Ta(e,m,c),n!==null&&(ur(n,e,c),Al(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=cr(),c=wa(a);c.tag=2,n!=null&&(c.callback=n),n=Ta(e,c,a),n!==null&&(ur(n,e,a),Al(n,e,a))}};function Lg(e,n,a,c,m,y,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,y,N):n.prototype&&n.prototype.isPureReactComponent?!On(a,c)||!On(m,y):!0}function Bg(e,n,a,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==e&&Lh.enqueueReplaceState(n,n.state,null)}function Eo(e,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var m in e)a[m]===void 0&&(a[m]=e[m])}return a}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rg(e){Ru(e)}function Pg(e){console.error(e)}function zg(e){Ru(e)}function Pu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Hg(e,n,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Bh(e,n,a){return a=wa(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(e,n)},a}function Ig(e){return e=wa(e),e.tag=3,e}function $g(e,n,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;e.payload=function(){return m(y)},e.callback=function(){Hg(n,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Hg(n,a,c),typeof m!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})})}function Y2(e,n,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&_o(n,a,m,!0),a=Er.current,a!==null){switch(a.tag){case 13:return di===null?am():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===uh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),sm(e,c,m)),!1;case 22:return a.flags|=65536,c===uh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),sm(e,c,m)),!1}throw Error(l(435,a.tag))}return sm(e,c,m),am(),!1}if(Zt)return n=Er.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==sn&&(e=Error(l(422),{cause:c}),_a(Cn(e,a)))):(c!==sn&&(n=Error(l(423),{cause:c}),_a(Cn(n,a))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Cn(c,a),m=Bh(e.stateNode,c,m),hh(e,m),Ge!==4&&(Ge=2)),!1;var y=Error(l(520),{cause:c});if(y=Cn(y,a),Zl===null?Zl=[y]:Zl.push(y),Ge!==4&&(Ge=2),n===null)return!0;c=Cn(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=m&-m,a.lanes|=e,e=Bh(a.stateNode,c,e),hh(a,e),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Ig(m),$g(m,e,a,c),hh(a,m),!1}a=a.return}while(a!==null);return!1}var Ug=Error(l(461)),ln=!1;function yn(e,n,a,c){n.child=e===null?Og(n,null,a,c):gs(n,e.child,a,c)}function Gg(e,n,a,c,m){a=a.render;var y=n.ref;if("ref"in c){var N={};for(var z in c)z!=="ref"&&(N[z]=c[z])}else N=c;return So(n),c=yh(e,n,a,N,y,m),z=vh(),e!==null&&!ln?(xh(e,n,m),Hi(e,n,m)):(Zt&&z&&St(n),n.flags|=1,yn(e,n,c,m),n.child)}function Zg(e,n,a,c,m){if(e===null){var y=a.type;return typeof y=="function"&&!os(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,Yg(e,n,y,c,m)):(e=yo(a.type,null,c,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!Gh(e,m)){var N=y.memoizedProps;if(a=a.compare,a=a!==null?a:On,a(N,c)&&e.ref===n.ref)return Hi(e,n,m)}return n.flags|=1,e=wr(y,c),e.ref=n.ref,e.return=n,n.child=e}function Yg(e,n,a,c,m){if(e!==null){var y=e.memoizedProps;if(On(y,c)&&e.ref===n.ref)if(ln=!1,n.pendingProps=c=y,Gh(e,m))(e.flags&131072)!==0&&(ln=!0);else return n.lanes=e.lanes,Hi(e,n,m)}return Rh(e,n,a,c,m)}function qg(e,n,a){var c=n.pendingProps,m=c.children,y=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=y!==null?y.baseLanes|a:a,e!==null){for(m=n.child=e.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;n.childLanes=y&~c}else n.childLanes=0,n.child=null;return Vg(e,n,c,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(n,y!==null?y.cachePool:null),y!==null?Y0(n,y):ph(),Cg(n);else return n.lanes=n.childLanes=536870912,Vg(e,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(_u(n,y.cachePool),Y0(n,y),Ma(),n.memoizedState=null):(e!==null&&_u(n,null),ph(),Ma());return yn(e,n,m,a),n.child}function Vg(e,n,a,c){var m=ch();return m=m===null?null:{parent:Qe._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&_u(n,null),ph(),Cg(n),e!==null&&_o(e,n,c,!0),null}function zu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Rh(e,n,a,c,m){return So(n),a=yh(e,n,a,c,void 0,m),c=vh(),e!==null&&!ln?(xh(e,n,m),Hi(e,n,m)):(Zt&&c&&St(n),n.flags|=1,yn(e,n,a,m),n.child)}function Fg(e,n,a,c,m,y){return So(n),n.updateQueue=null,a=V0(n,c,a,m),q0(e),c=vh(),e!==null&&!ln?(xh(e,n,y),Hi(e,n,y)):(Zt&&c&&St(n),n.flags|=1,yn(e,n,a,y),n.child)}function Kg(e,n,a,c,m){if(So(n),n.stateNode===null){var y=Bi,N=a.contextType;typeof N=="object"&&N!==null&&(y=Nn(N)),y=new a(c,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lh,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=c,y.state=n.memoizedState,y.refs={},dh(n),N=a.contextType,y.context=typeof N=="object"&&N!==null?Nn(N):Bi,y.state=n.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(Ch(n,a,N,c),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&Lh.enqueueReplaceState(y,y.state,null),kl(n,c,y,m),jl(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){y=n.stateNode;var z=n.memoizedProps,V=Eo(a,z);y.props=V;var ct=y.context,bt=a.contextType;N=Bi,typeof bt=="object"&&bt!==null&&(N=Nn(bt));var xt=a.getDerivedStateFromProps;bt=typeof xt=="function"||typeof y.getSnapshotBeforeUpdate=="function",z=n.pendingProps!==z,bt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(z||ct!==N)&&Bg(n,y,c,N),Sa=!1;var ft=n.memoizedState;y.state=ft,kl(n,c,y,m),jl(),ct=n.memoizedState,z||ft!==ct||Sa?(typeof xt=="function"&&(Ch(n,a,xt,c),ct=n.memoizedState),(V=Sa||Lg(n,a,V,c,ft,ct,N))?(bt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ct),y.props=c,y.state=ct,y.context=N,c=V):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{y=n.stateNode,fh(e,n),N=n.memoizedProps,bt=Eo(a,N),y.props=bt,xt=n.pendingProps,ft=y.context,ct=a.contextType,V=Bi,typeof ct=="object"&&ct!==null&&(V=Nn(ct)),z=a.getDerivedStateFromProps,(ct=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==xt||ft!==V)&&Bg(n,y,c,V),Sa=!1,ft=n.memoizedState,y.state=ft,kl(n,c,y,m),jl();var ht=n.memoizedState;N!==xt||ft!==ht||Sa||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof z=="function"&&(Ch(n,a,z,c),ht=n.memoizedState),(bt=Sa||Lg(n,a,bt,c,ft,ht,V)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(ct||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ht,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ht,V)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ht),y.props=c,y.state=ht,y.context=V,c=bt):(typeof y.componentDidUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ft===e.memoizedState||(n.flags|=1024),c=!1)}return y=c,zu(e,n),c=(n.flags&128)!==0,y||c?(y=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&c?(n.child=gs(n,e.child,null,m),n.child=gs(n,null,a,m)):yn(e,n,a,m),n.memoizedState=y.state,e=n.child):e=Hi(e,n,m),e}function Xg(e,n,a,c){return xa(),n.flags|=256,yn(e,n,a,c),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(e){return{baseLanes:e,cachePool:P0()}}function Hh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Nr),e}function Wg(e,n,a){var c=n.pendingProps,m=!1,y=(n.flags&128)!==0,N;if((N=y)||(N=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),N&&(m=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Zt){if(m?Na(n):Ma(),Zt){var z=Lt,V;if(V=z){t:{for(V=z,z=Pe;V.nodeType!==8;){if(!z){z=null;break t}if(V=Kr(V.nextSibling),V===null){z=null;break t}}z=V}z!==null?(n.memoizedState={dehydrated:z,treeContext:E!==null?{id:C,overflow:q}:null,retryLane:536870912,hydrationErrors:null},V=Bn(18,null,null,0),V.stateNode=z,V.return=n,n.child=V,kt=n,Lt=null,V=!0):V=!1}V||qn(n)}if(z=n.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Sm(z)?n.lanes=32:n.lanes=536870912,null;zi(n)}return z=c.children,c=c.fallback,m?(Ma(),m=n.mode,z=Hu({mode:"hidden",children:z},m),c=ci(c,m,a,null),z.return=n,c.return=n,z.sibling=c,n.child=z,m=n.child,m.memoizedState=zh(a),m.childLanes=Hh(e,N,a),n.memoizedState=Ph,c):(Na(n),Ih(n,z))}if(V=e.memoizedState,V!==null&&(z=V.dehydrated,z!==null)){if(y)n.flags&256?(Na(n),n.flags&=-257,n=$h(e,n,a)):n.memoizedState!==null?(Ma(),n.child=e.child,n.flags|=128,n=null):(Ma(),m=c.fallback,z=n.mode,c=Hu({mode:"visible",children:c.children},z),m=ci(m,z,a,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,gs(n,e.child,null,a),c=n.child,c.memoizedState=zh(a),c.childLanes=Hh(e,N,a),n.memoizedState=Ph,n=m);else if(Na(n),Sm(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var ct=N.dgst;N=ct,c=Error(l(419)),c.stack="",c.digest=N,_a({value:c,source:null,stack:null}),n=$h(e,n,a)}else if(ln||_o(e,n,a,!1),N=(a&e.childLanes)!==0,ln||N){if(N=Me,N!==null&&(c=a&-a,c=(c&42)!==0?1:il(c),c=(c&(N.suspendedLanes|a))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,ya(e,c),ur(N,e,c),Ug;z.data==="$?"||am(),n=$h(e,n,a)}else z.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=V.treeContext,Lt=Kr(z.nextSibling),kt=n,Zt=!0,Ne=null,Pe=!1,e!==null&&(f[x++]=C,f[x++]=q,f[x++]=E,C=e.id,q=e.overflow,E=n),n=Ih(n,c.children),n.flags|=4096);return n}return m?(Ma(),m=c.fallback,z=n.mode,V=e.child,ct=V.sibling,c=wr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,ct!==null?m=wr(ct,m):(m=ci(m,z,a,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,z=e.child.memoizedState,z===null?z=zh(a):(V=z.cachePool,V!==null?(ct=Qe._currentValue,V=V.parent!==ct?{parent:ct,pool:ct}:V):V=P0(),z={baseLanes:z.baseLanes|a,cachePool:V}),m.memoizedState=z,m.childLanes=Hh(e,N,a),n.memoizedState=Ph,c):(Na(n),a=e.child,e=a.sibling,a=wr(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=a,n.memoizedState=null,a)}function Ih(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=Bn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $h(e,n,a){return gs(n,e.child,null,a),e=Ih(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qg(e,n,a){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),xo(e.return,n,a)}function Uh(e,n,a,c,m){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=m)}function Jg(e,n,a){var c=n.pendingProps,m=c.revealOrder,y=c.tail;if(yn(e,n,c.children,a),c=Je.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qg(e,a,n);else if(e.tag===19)Qg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(G(Je,c),m){case"forwards":for(a=n.child,m=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Uh(n,!1,m,a,y);break;case"backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Bu(e)===null){n.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Uh(n,!0,a,null,y);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Oa|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(_o(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=wr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=wr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function q2(e,n,a){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),ui(n,Qe,e.memoizedState.cache),xa();break;case 27:case 5:At(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:ui(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Na(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Wg(e,n,a):(Na(n),e=Hi(e,n,a),e!==null?e.sibling:null);Na(n);break;case 19:var m=(e.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(_o(e,n,a,!1),c=(a&n.childLanes)!==0),m){if(c)return Jg(e,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),G(Je,Je.current),c)break;return null;case 22:case 23:return n.lanes=0,qg(e,n,a);case 24:ui(n,Qe,e.memoizedState.cache)}return Hi(e,n,a)}function tb(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ln=!0;else{if(!Gh(e,a)&&(n.flags&128)===0)return ln=!1,q2(e,n,a);ln=(e.flags&131072)!==0}else ln=!1,Zt&&(n.flags&1048576)!==0&&mt(n,s,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var c=n.elementType,m=c._init;if(c=m(c._payload),n.type=c,typeof c=="function")os(c)?(e=Eo(c,e),n.tag=1,n=Kg(null,n,c,e,a)):(n.tag=0,n=Rh(null,n,c,e,a));else{if(c!=null){if(m=c.$$typeof,m===P){n.tag=11,n=Gg(null,n,c,e,a);break t}else if(m===W){n.tag=14,n=Zg(null,n,c,e,a);break t}}throw n=st(c)||c,Error(l(306,n,""))}}return n;case 0:return Rh(e,n,n.type,n.pendingProps,a);case 1:return c=n.type,m=Eo(c,n.pendingProps),Kg(e,n,c,m,a);case 3:t:{if(_t(n,n.stateNode.containerInfo),e===null)throw Error(l(387));c=n.pendingProps;var y=n.memoizedState;m=y.element,fh(e,n),kl(n,c,null,a);var N=n.memoizedState;if(c=N.cache,ui(n,Qe,c),c!==y.cache&&ls(n,[Qe],a,!0),jl(),c=N.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Xg(e,n,c,a);break t}else if(c!==m){m=Cn(Error(l(424)),n),_a(m),n=Xg(e,n,c,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=Kr(e.firstChild),kt=n,Zt=!0,Ne=null,Pe=!0,a=Og(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xa(),c===m){n=Hi(e,n,a);break t}yn(e,n,c,a)}n=n.child}return n;case 26:return zu(e,n),e===null?(a=iy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Zt||(a=n.type,e=n.pendingProps,c=Ju(rt.current).createElement(a),c[an]=n,c[wn]=e,xn(c,a,e),Fe(c),n.stateNode=c):n.memoizedState=iy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return At(n),e===null&&Zt&&(c=n.stateNode=ey(n.type,n.pendingProps,rt.current),kt=n,Pe=!0,m=Lt,Ra(n.type)?(wm=m,Lt=Kr(c.firstChild)):Lt=m),yn(e,n,n.pendingProps.children,a),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Zt&&((m=c=Lt)&&(c=xS(c,n.type,n.pendingProps,Pe),c!==null?(n.stateNode=c,kt=n,Lt=Kr(c.firstChild),Pe=!1,m=!0):m=!1),m||qn(n)),At(n),m=n.type,y=n.pendingProps,N=e!==null?e.memoizedProps:null,c=y.children,vm(m,y)?c=null:N!==null&&vm(m,N)&&(n.flags|=32),n.memoizedState!==null&&(m=yh(e,n,z2,null,null,a),Jl._currentValue=m),zu(e,n),yn(e,n,c,a),n.child;case 6:return e===null&&Zt&&((e=a=Lt)&&(a=_S(a,n.pendingProps,Pe),a!==null?(n.stateNode=a,kt=n,Lt=null,e=!0):e=!1),e||qn(n)),null;case 13:return Wg(e,n,a);case 4:return _t(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=gs(n,null,c,a):yn(e,n,c,a),n.child;case 11:return Gg(e,n,n.type,n.pendingProps,a);case 7:return yn(e,n,n.pendingProps,a),n.child;case 8:return yn(e,n,n.pendingProps.children,a),n.child;case 12:return yn(e,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,ui(n,n.type,c.value),yn(e,n,c.children,a),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,So(n),m=Nn(m),c=c(m),n.flags|=1,yn(e,n,c,a),n.child;case 14:return Zg(e,n,n.type,n.pendingProps,a);case 15:return Yg(e,n,n.type,n.pendingProps,a);case 19:return Jg(e,n,a);case 31:return c=n.pendingProps,a=n.mode,c={mode:c.mode,children:c.children},e===null?(a=Hu(c,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=wr(e.child,c),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return qg(e,n,a);case 24:return So(n),c=Nn(Qe),e===null?(m=ch(),m===null&&(m=Me,y=sh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),n.memoizedState={parent:c,cache:m},dh(n),ui(n,Qe,m)):((e.lanes&a)!==0&&(fh(e,n),kl(n,null,null,a),jl()),m=e.memoizedState,y=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),ui(n,Qe,c)):(c=y.cache,ui(n,Qe,c),c!==m.cache&&ls(n,[Qe],a,!0))),yn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Ii(e){e.flags|=4}function eb(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cy(n)){if(n=Er.current,n!==null&&((ae&4194048)===ae?di!==null:(ae&62914560)!==ae&&(ae&536870912)===0||n!==di))throw Dl=uh,z0;e.flags|=8192}}function Iu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$r():536870912,e.lanes|=n,xs|=n)}function zl(e,n){if(!Zt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(n)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=a,n}function V2(e,n,a){var c=n.pendingProps;switch(Dt(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return a=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Vr(Qe),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vo(n)?Ii(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yu())),ze(n),null;case 26:return a=n.memoizedState,e===null?(Ii(n),a!==null?(ze(n),eb(n,a)):(ze(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ii(n),ze(n),eb(n,a)):(ze(n),n.flags&=-16777217):(e.memoizedProps!==c&&Ii(n),ze(n),n.flags&=-16777217),null;case 27:Kt(n),a=rt.current;var m=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ii(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return ze(n),null}e=X.current,vo(n)?gu(n):(e=ey(m,c,a),n.stateNode=e,Ii(n))}return ze(n),null;case 5:if(Kt(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Ii(n);else{if(!c){if(n.stateNode===null)throw Error(l(166));return ze(n),null}if(e=X.current,vo(n))gu(n);else{switch(m=Ju(rt.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(a,{is:c.is}):m.createElement(a)}}e[an]=n,e[wn]=c;t:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break t;for(;m.sibling===null;){if(m.return===null||m.return===n)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=e;t:switch(xn(e,a,c),a){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ii(n)}}return ze(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Ii(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(l(166));if(e=rt.current,vo(n)){if(e=n.stateNode,a=n.memoizedProps,c=null,m=kt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[an]=n,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Fb(e.nodeValue,a)),e||qn(n)}else e=Ju(e).createTextNode(c),e[an]=n,n.stateNode=e}return ze(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=vo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(l(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[an]=n}else xa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),m=!1}else m=yu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(zi(n),n):(zi(n),null)}if(zi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=c!==null,e=e!==null&&e.memoizedState!==null,a){c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Iu(n,n.updateQueue),ze(n),null;case 4:return Tt(),e===null&&mm(n.stateNode.containerInfo),ze(n),null;case 10:return Vr(n.type),ze(n),null;case 19:if($(Je),m=n.memoizedState,m===null)return ze(n),null;if(c=(n.flags&128)!==0,y=m.rendering,y===null)if(c)zl(m,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Bu(e),y!==null){for(n.flags|=128,zl(m,!1),e=y.updateQueue,n.updateQueue=e,Iu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)wl(a,e),a=a.sibling;return G(Je,Je.current&1|2),n.child}e=e.sibling}m.tail!==null&&de()>Gu&&(n.flags|=128,c=!0,zl(m,!1),n.lanes=4194304)}else{if(!c)if(e=Bu(y),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Iu(n,e),zl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Zt)return ze(n),null}else 2*de()-m.renderingStartTime>Gu&&a!==536870912&&(n.flags|=128,c=!0,zl(m,!1),n.lanes=4194304);m.isBackwards?(y.sibling=n.child,n.child=y):(e=m.last,e!==null?e.sibling=y:n.child=y,m.last=y)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=de(),n.sibling=null,e=Je.current,G(Je,c?e&1|2:e&1),n):(ze(n),null);case 22:case 23:return zi(n),gh(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),a=n.updateQueue,a!==null&&Iu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),e!==null&&$(wo),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vr(Qe),ze(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function F2(e,n){switch(Dt(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vr(Qe),Tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kt(n),null;case 13:if(zi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));xa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(Je),null;case 4:return Tt(),null;case 10:return Vr(n.type),null;case 22:case 23:return zi(n),gh(),e!==null&&$(wo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vr(Qe),null;case 25:return null;default:return null}}function nb(e,n){switch(Dt(n),n.tag){case 3:Vr(Qe),Tt();break;case 26:case 27:case 5:Kt(n);break;case 4:Tt();break;case 13:zi(n);break;case 19:$(Je);break;case 10:Vr(n.type);break;case 22:case 23:zi(n),gh(),e!==null&&$(wo);break;case 24:Vr(Qe)}}function Hl(e,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&e)===e){c=void 0;var y=a.create,N=a.inst;c=y(),N.destroy=c}a=a.next}while(a!==m)}}catch(z){xe(n,n.return,z)}}function Da(e,n,a){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&e)===e){var N=c.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,m=n;var V=a,ct=z;try{ct()}catch(bt){xe(m,V,bt)}}}c=c.next}while(c!==y)}}catch(bt){xe(n,n.return,bt)}}function rb(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Z0(n,a)}catch(c){xe(e,e.return,c)}}}function ib(e,n,a){a.props=Eo(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){xe(e,n,c)}}function Il(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(m){xe(e,n,m)}}function fi(e,n){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){xe(e,n,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){xe(e,n,m)}else a.current=null}function ab(e){var n=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){xe(e,e.return,m)}}function Zh(e,n,a){try{var c=e.stateNode;pS(c,e.type,a,n),c[wn]=n}catch(m){xe(e,e.return,m)}}function ob(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function Yh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ob(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qh(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qu));else if(c!==4&&(c===27&&Ra(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(qh(e,n,a),e=e.sibling;e!==null;)qh(e,n,a),e=e.sibling}function $u(e,n,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(c!==4&&(c===27&&Ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,n,a),e=e.sibling;e!==null;)$u(e,n,a),e=e.sibling}function sb(e){var n=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);xn(n,c,a),n[an]=e,n[wn]=a}catch(y){xe(e,e.return,y)}}var $i=!1,Ve=!1,Vh=!1,lb=typeof WeakSet=="function"?WeakSet:Set,cn=null;function K2(e,n){if(e=e.containerInfo,bm=ad,e=fo(e),ho(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var N=0,z=-1,V=-1,ct=0,bt=0,xt=e,ft=null;e:for(;;){for(var ht;xt!==a||m!==0&&xt.nodeType!==3||(z=N+m),xt!==y||c!==0&&xt.nodeType!==3||(V=N+c),xt.nodeType===3&&(N+=xt.nodeValue.length),(ht=xt.firstChild)!==null;)ft=xt,xt=ht;for(;;){if(xt===e)break e;if(ft===a&&++ct===m&&(z=N),ft===y&&++bt===c&&(V=N),(ht=xt.nextSibling)!==null)break;xt=ft,ft=xt.parentNode}xt=ht}a=z===-1||V===-1?null:{start:z,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:e,selectionRange:a},ad=!1,cn=n;cn!==null;)if(n=cn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,cn=e;else for(;cn!==null;){switch(n=cn,y=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=n,m=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var Ut=Eo(a.type,m,a.elementType===a.type);e=c.getSnapshotBeforeUpdate(Ut,y),c.__reactInternalSnapshotBeforeUpdate=e}catch(It){xe(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_m(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_m(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,cn=e;break}cn=n.return}}function cb(e,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Aa(e,a),c&4&&Hl(5,a);break;case 1:if(Aa(e,a),c&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(N){xe(a,a.return,N)}else{var m=Eo(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(m,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){xe(a,a.return,N)}}c&64&&rb(a),c&512&&Il(a,a.return);break;case 3:if(Aa(e,a),c&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Z0(e,n)}catch(N){xe(a,a.return,N)}}break;case 27:n===null&&c&4&&sb(a);case 26:case 5:Aa(e,a),n===null&&c&4&&ab(a),c&512&&Il(a,a.return);break;case 12:Aa(e,a);break;case 13:Aa(e,a),c&4&&fb(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=iS.bind(null,a),SS(e,a))));break;case 22:if(c=a.memoizedState!==null||$i,!c){n=n!==null&&n.memoizedState!==null||Ve,m=$i;var y=Ve;$i=c,(Ve=n)&&!y?ja(e,a,(a.subtreeFlags&8772)!==0):Aa(e,a),$i=m,Ve=y}break;case 30:break;default:Aa(e,a)}}function ub(e){var n=e.alternate;n!==null&&(e.alternate=null,ub(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Go(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,Fn=!1;function Ui(e,n,a){for(a=a.child;a!==null;)db(e,n,a),a=a.sibling}function db(e,n,a){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(qt,a)}catch{}switch(a.tag){case 26:Ve||fi(a,n),Ui(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||fi(a,n);var c=Ce,m=Fn;Ra(a.type)&&(Ce=a.stateNode,Fn=!1),Ui(e,n,a),Kl(a.stateNode),Ce=c,Fn=m;break;case 5:Ve||fi(a,n);case 6:if(c=Ce,m=Fn,Ce=null,Ui(e,n,a),Ce=c,Fn=m,Ce!==null)if(Fn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(a.stateNode)}catch(y){xe(a,n,y)}else try{Ce.removeChild(a.stateNode)}catch(y){xe(a,n,y)}break;case 18:Ce!==null&&(Fn?(e=Ce,Jb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rc(e)):Jb(Ce,a.stateNode));break;case 4:c=Ce,m=Fn,Ce=a.stateNode.containerInfo,Fn=!0,Ui(e,n,a),Ce=c,Fn=m;break;case 0:case 11:case 14:case 15:Ve||Da(2,a,n),Ve||Da(4,a,n),Ui(e,n,a);break;case 1:Ve||(fi(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ib(a,n,c)),Ui(e,n,a);break;case 21:Ui(e,n,a);break;case 22:Ve=(c=Ve)||a.memoizedState!==null,Ui(e,n,a),Ve=c;break;default:Ui(e,n,a)}}function fb(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rc(e)}catch(a){xe(n,n.return,a)}}function X2(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new lb),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new lb),n;default:throw Error(l(435,e.tag))}}function Fh(e,n){var a=X2(e);n.forEach(function(c){var m=aS.bind(null,e,c);a.has(c)||(a.add(c),c.then(m,m))})}function or(e,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],y=e,N=n,z=N;t:for(;z!==null;){switch(z.tag){case 27:if(Ra(z.type)){Ce=z.stateNode,Fn=!1;break t}break;case 5:Ce=z.stateNode,Fn=!1;break t;case 3:case 4:Ce=z.stateNode.containerInfo,Fn=!0;break t}z=z.return}if(Ce===null)throw Error(l(160));db(y,N,m),Ce=null,Fn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)hb(n,e),n=n.sibling}var Fr=null;function hb(e,n){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:or(n,e),sr(e),c&4&&(Da(3,e,e.return),Hl(3,e),Da(5,e,e.return));break;case 1:or(n,e),sr(e),c&512&&(Ve||a===null||fi(a,a.return)),c&64&&$i&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=Fr;if(or(n,e),sr(e),c&512&&(Ve||a===null||fi(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ji]||y[an]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),xn(y,c,a),y[an]=e,Fe(y),c=y;break t;case"link":var N=sy("link","href",m).get(c+(a.href||""));if(N){for(var z=0;z<N.length;z++)if(y=N[z],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(z,1);break e}}y=m.createElement(c),xn(y,c,a),m.head.appendChild(y);break;case"meta":if(N=sy("meta","content",m).get(c+(a.content||""))){for(z=0;z<N.length;z++)if(y=N[z],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(z,1);break e}}y=m.createElement(c),xn(y,c,a),m.head.appendChild(y);break;default:throw Error(l(468,c))}y[an]=e,Fe(y),c=y}e.stateNode=c}else ly(m,e.type,e.stateNode);else e.stateNode=oy(m,c,e.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?ly(m,e.type,e.stateNode):oy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Zh(e,e.memoizedProps,a.memoizedProps)}break;case 27:or(n,e),sr(e),c&512&&(Ve||a===null||fi(a,a.return)),a!==null&&c&4&&Zh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(or(n,e),sr(e),c&512&&(Ve||a===null||fi(a,a.return)),e.flags&32){m=e.stateNode;try{yr(m,"")}catch(ht){xe(e,e.return,ht)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Zh(e,m,a!==null?a.memoizedProps:m)),c&1024&&(Vh=!0);break;case 6:if(or(n,e),sr(e),c&4){if(e.stateNode===null)throw Error(l(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ht){xe(e,e.return,ht)}}break;case 3:if(nd=null,m=Fr,Fr=td(n.containerInfo),or(n,e),Fr=m,sr(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{rc(n.containerInfo)}catch(ht){xe(e,e.return,ht)}Vh&&(Vh=!1,mb(e));break;case 4:c=Fr,Fr=td(e.stateNode.containerInfo),or(n,e),sr(e),Fr=c;break;case 12:or(n,e),sr(e);break;case 13:or(n,e),sr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tm=de()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Fh(e,c)));break;case 22:m=e.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,ct=$i,bt=Ve;if($i=ct||m,Ve=bt||V,or(n,e),Ve=bt,$i=ct,sr(e),c&8192)t:for(n=e.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||V||$i||Ve||No(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){V=a=n;try{if(y=V.stateNode,m)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=V.stateNode;var xt=V.memoizedProps.style,ft=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;z.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(ht){xe(V,V.return,ht)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ht){xe(V,V.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Fh(e,a))));break;case 19:or(n,e),sr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Fh(e,c)));break;case 30:break;case 21:break;default:or(n,e),sr(e)}}function sr(e){var n=e.flags;if(n&2){try{for(var a,c=e.return;c!==null;){if(ob(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var m=a.stateNode,y=Yh(e);$u(e,y,m);break;case 5:var N=a.stateNode;a.flags&32&&(yr(N,""),a.flags&=-33);var z=Yh(e);$u(e,z,N);break;case 3:case 4:var V=a.stateNode.containerInfo,ct=Yh(e);qh(e,ct,V);break;default:throw Error(l(161))}}catch(bt){xe(e,e.return,bt)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function mb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;mb(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Aa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cb(e,n.alternate,n),n=n.sibling}function No(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Da(4,n,n.return),No(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ib(n,n.return,a),No(n);break;case 27:Kl(n.stateNode);case 26:case 5:fi(n,n.return),No(n);break;case 22:n.memoizedState===null&&No(n);break;case 30:No(n);break;default:No(n)}e=e.sibling}}function ja(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=e,y=n,N=y.flags;switch(y.tag){case 0:case 11:case 15:ja(m,y,a),Hl(4,y);break;case 1:if(ja(m,y,a),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ct){xe(c,c.return,ct)}if(c=y,m=c.updateQueue,m!==null){var z=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)G0(V[m],z)}catch(ct){xe(c,c.return,ct)}}a&&N&64&&rb(y),Il(y,y.return);break;case 27:sb(y);case 26:case 5:ja(m,y,a),a&&c===null&&N&4&&ab(y),Il(y,y.return);break;case 12:ja(m,y,a);break;case 13:ja(m,y,a),a&&N&4&&fb(m,y);break;case 22:y.memoizedState===null&&ja(m,y,a),Il(y,y.return);break;case 30:break;default:ja(m,y,a)}n=n.sibling}}function Kh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&El(a))}function Xh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function hi(e,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pb(e,n,a,c),n=n.sibling}function pb(e,n,a,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:hi(e,n,a,c),m&2048&&Hl(9,n);break;case 1:hi(e,n,a,c);break;case 3:hi(e,n,a,c),m&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(m&2048){hi(e,n,a,c),e=n.stateNode;try{var y=n.memoizedProps,N=y.id,z=y.onPostCommit;typeof z=="function"&&z(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){xe(n,n.return,V)}}else hi(e,n,a,c);break;case 13:hi(e,n,a,c);break;case 23:break;case 22:y=n.stateNode,N=n.alternate,n.memoizedState!==null?y._visibility&2?hi(e,n,a,c):$l(e,n):y._visibility&2?hi(e,n,a,c):(y._visibility|=2,bs(e,n,a,c,(n.subtreeFlags&10256)!==0)),m&2048&&Kh(N,n);break;case 24:hi(e,n,a,c),m&2048&&Xh(n.alternate,n);break;default:hi(e,n,a,c)}}function bs(e,n,a,c,m){for(m=m&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=e,N=n,z=a,V=c,ct=N.flags;switch(N.tag){case 0:case 11:case 15:bs(y,N,z,V,m),Hl(8,N);break;case 23:break;case 22:var bt=N.stateNode;N.memoizedState!==null?bt._visibility&2?bs(y,N,z,V,m):$l(y,N):(bt._visibility|=2,bs(y,N,z,V,m)),m&&ct&2048&&Kh(N.alternate,N);break;case 24:bs(y,N,z,V,m),m&&ct&2048&&Xh(N.alternate,N);break;default:bs(y,N,z,V,m)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,c=n,m=c.flags;switch(c.tag){case 22:$l(a,c),m&2048&&Kh(c.alternate,c);break;case 24:$l(a,c),m&2048&&Xh(c.alternate,c);break;default:$l(a,c)}n=n.sibling}}var Ul=8192;function ys(e){if(e.subtreeFlags&Ul)for(e=e.child;e!==null;)gb(e),e=e.sibling}function gb(e){switch(e.tag){case 26:ys(e),e.flags&Ul&&e.memoizedState!==null&&BS(Fr,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var n=Fr;Fr=td(e.stateNode.containerInfo),ys(e),Fr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ul,Ul=16777216,ys(e),Ul=n):ys(e));break;default:ys(e)}}function bb(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];cn=c,vb(c,e)}bb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yb(e),e=e.sibling}function yb(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&Da(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Uu(e)):Gl(e);break;default:Gl(e)}}function Uu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];cn=c,vb(c,e)}bb(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Da(8,n,n.return),Uu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(n));break;default:Uu(n)}e=e.sibling}}function vb(e,n){for(;cn!==null;){var a=cn;switch(a.tag){case 0:case 11:case 15:Da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:El(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,cn=c;else t:for(a=e;cn!==null;){c=cn;var m=c.sibling,y=c.return;if(ub(c),c===a){cn=null;break t}if(m!==null){m.return=y,cn=m;break t}cn=y}}}var W2={getCacheForType:function(e){var n=Nn(Qe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Q2=typeof WeakMap=="function"?WeakMap:Map,he=0,Me=null,Jt=null,ae=0,me=0,lr=null,ka=!1,vs=!1,Wh=!1,Gi=0,Ge=0,Oa=0,Mo=0,Qh=0,Nr=0,xs=0,Zl=null,Kn=null,Jh=!1,tm=0,Gu=1/0,Zu=null,Ca=null,vn=0,La=null,_s=null,Ss=0,em=0,nm=null,xb=null,Yl=0,rm=null;function cr(){if((he&2)!==0&&ae!==0)return ae&-ae;if(F.T!==null){var e=cs;return e!==0?e:um()}return Yc()}function _b(){Nr===0&&(Nr=(ae&536870912)===0||Zt?Qa():536870912);var e=Er.current;return e!==null&&(e.flags|=32),Nr}function ur(e,n,a){(e===Me&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Ba(e,ae,Nr,!1)),gi(e,a),((he&2)===0||e!==Me)&&(e===Me&&((he&2)===0&&(Mo|=a),Ge===4&&Ba(e,ae,Nr,!1)),mi(e))}function Sb(e,n,a){if((he&6)!==0)throw Error(l(327));var c=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Un(e,n),m=c?eS(e,n):om(e,n,!0),y=c;do{if(m===0){vs&&!c&&Ba(e,n,0,!1);break}else{if(a=e.current.alternate,y&&!J2(a)){m=om(e,n,!1),y=!1;continue}if(m===2){if(y=n,e.errorRecoveryDisabledLanes&y)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;t:{var z=e;m=Zl;var V=z.current.memoizedState.isDehydrated;if(V&&(ws(z,N).flags|=256),N=om(z,N,!1),N!==2){if(Wh&&!V){z.errorRecoveryDisabledLanes|=y,Mo|=y,m=4;break t}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=N}if(y=!1,m!==2)continue}}if(m===1){ws(e,0),Ba(e,n,0,!0);break}t:{switch(c=e,y=m,y){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ba(c,n,Nr,!ka);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(m=tm+300-de(),10<m)){if(Ba(c,n,Nr,!ka),Ir(c,0,!0)!==0)break t;c.timeoutHandle=Wb(wb.bind(null,c,a,Kn,Zu,Jh,n,Nr,Mo,xs,ka,y,2,-0,0),m);break t}wb(c,a,Kn,Zu,Jh,n,Nr,Mo,xs,ka,y,0,-0,0)}}break}while(!0);mi(e)}function wb(e,n,a,c,m,y,N,z,V,ct,bt,xt,ft,ht){if(e.timeoutHandle=-1,xt=n.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:LS},gb(n),xt=RS(),xt!==null)){e.cancelPendingCommit=xt(jb.bind(null,e,n,y,a,c,m,N,z,V,bt,1,ft,ht)),Ba(e,y,N,!ct);return}jb(e,n,y,a,c,m,N,z,V)}function J2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],y=m.getSnapshot;m=m.value;try{if(!kn(y(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ba(e,n,a,c){n&=~Qh,n&=~Mo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var m=n;0<m;){var y=31-we(m),N=1<<y;c[y]=-1,m&=~N}a!==0&&Ja(e,a,n)}function Yu(){return(he&6)===0?(ql(0),!1):!0}function im(){if(Jt!==null){if(me===0)var e=Jt.return;else e=Jt,qr=Tr=null,_h(e),ps=null,Rl=0,e=Jt;for(;e!==null;)nb(e.alternate,e),e=e.return;Jt=null}}function ws(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),im(),Me=e,Jt=a=wr(e.current,null),ae=n,me=0,lr=null,ka=!1,vs=Un(e,n),Wh=!1,xs=Nr=Qh=Mo=Oa=Ge=0,Kn=Zl=null,Jh=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var m=31-we(c),y=1<<m;n|=e[m],c&=~y}return Gi=n,po(),a}function Tb(e,n){Xt=null,F.H=Ou,n===Ml||n===Su?(n=$0(),me=3):n===z0?(n=$0(),me=4):me=n===Ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,lr=n,Jt===null&&(Ge=1,Pu(e,Cn(n,e.current)))}function Eb(){var e=F.H;return F.H=Ou,e===null?Ou:e}function Nb(){var e=F.A;return F.A=W2,e}function am(){Ge=4,ka||(ae&4194048)!==ae&&Er.current!==null||(vs=!0),(Oa&134217727)===0&&(Mo&134217727)===0||Me===null||Ba(Me,ae,Nr,!1)}function om(e,n,a){var c=he;he|=2;var m=Eb(),y=Nb();(Me!==e||ae!==n)&&(Zu=null,ws(e,n)),n=!1;var N=Ge;t:do try{if(me!==0&&Jt!==null){var z=Jt,V=lr;switch(me){case 8:im(),N=6;break t;case 3:case 2:case 9:case 6:Er.current===null&&(n=!0);var ct=me;if(me=0,lr=null,Ts(e,z,V,ct),a&&vs){N=0;break t}break;default:ct=me,me=0,lr=null,Ts(e,z,V,ct)}}tS(),N=Ge;break}catch(bt){Tb(e,bt)}while(!0);return n&&e.shellSuspendCounter++,qr=Tr=null,he=c,F.H=m,F.A=y,Jt===null&&(Me=null,ae=0,po()),N}function tS(){for(;Jt!==null;)Mb(Jt)}function eS(e,n){var a=he;he|=2;var c=Eb(),m=Nb();Me!==e||ae!==n?(Zu=null,Gu=de()+500,ws(e,n)):vs=Un(e,n);t:do try{if(me!==0&&Jt!==null){n=Jt;var y=lr;e:switch(me){case 1:me=0,lr=null,Ts(e,n,y,1);break;case 2:case 9:if(H0(y)){me=0,lr=null,Db(n);break}n=function(){me!==2&&me!==9||Me!==e||(me=7),mi(e)},y.then(n,n);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:H0(y)?(me=0,lr=null,Db(n)):(me=0,lr=null,Ts(e,n,y,7));break;case 5:var N=null;switch(Jt.tag){case 26:N=Jt.memoizedState;case 5:case 27:var z=Jt;if(!N||cy(N)){me=0,lr=null;var V=z.sibling;if(V!==null)Jt=V;else{var ct=z.return;ct!==null?(Jt=ct,qu(ct)):Jt=null}break e}}me=0,lr=null,Ts(e,n,y,5);break;case 6:me=0,lr=null,Ts(e,n,y,6);break;case 8:im(),Ge=6;break t;default:throw Error(l(462))}}nS();break}catch(bt){Tb(e,bt)}while(!0);return qr=Tr=null,F.H=c,F.A=m,he=a,Jt!==null?0:(Me=null,ae=0,po(),Ge)}function nS(){for(;Jt!==null&&!We();)Mb(Jt)}function Mb(e){var n=tb(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?qu(e):Jt=n}function Db(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Fg(a,n,n.pendingProps,n.type,void 0,ae);break;case 11:n=Fg(a,n,n.pendingProps,n.type.render,n.ref,ae);break;case 5:_h(n);default:nb(a,n),n=Jt=wl(n,Gi),n=tb(a,n,Gi)}e.memoizedProps=e.pendingProps,n===null?qu(e):Jt=n}function Ts(e,n,a,c){qr=Tr=null,_h(n),ps=null,Rl=0;var m=n.return;try{if(Y2(e,m,n,a,ae)){Ge=1,Pu(e,Cn(a,e.current)),Jt=null;return}}catch(y){if(m!==null)throw Jt=m,y;Ge=1,Pu(e,Cn(a,e.current)),Jt=null;return}n.flags&32768?(Zt||c===1?e=!0:vs||(ae&536870912)!==0?e=!1:(ka=e=!0,(c===2||c===9||c===3||c===6)&&(c=Er.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ab(n,e)):qu(n)}function qu(e){var n=e;do{if((n.flags&32768)!==0){Ab(n,ka);return}e=n.return;var a=V2(n.alternate,n,Gi);if(a!==null){Jt=a;return}if(n=n.sibling,n!==null){Jt=n;return}Jt=n=e}while(n!==null);Ge===0&&(Ge=5)}function Ab(e,n){do{var a=F2(e.alternate,e);if(a!==null){a.flags&=32767,Jt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=a}while(e!==null);Ge=6,Jt=null}function jb(e,n,a,c,m,y,N,z,V){e.cancelPendingCommit=null;do Vu();while(vn!==0);if((he&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(y=n.lanes|n.childLanes,y|=ar,rl(e,a,y,N,z,V),e===Me&&(Jt=Me=null,ae=0),_s=n,La=e,Ss=a,em=y,nm=m,xb=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oS(pt,function(){return Bb(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,m=ut.p,ut.p=2,N=he,he|=4;try{K2(e,n,a)}finally{he=N,ut.p=m,F.T=c}}vn=1,kb(),Ob(),Cb()}}function kb(){if(vn===1){vn=0;var e=La,n=_s,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var c=ut.p;ut.p=2;var m=he;he|=4;try{hb(n,e);var y=ym,N=fo(e.containerInfo),z=y.focusedElem,V=y.selectionRange;if(N!==z&&z&&z.ownerDocument&&es(z.ownerDocument.documentElement,z)){if(V!==null&&ho(z)){var ct=V.start,bt=V.end;if(bt===void 0&&(bt=ct),"selectionStart"in z)z.selectionStart=ct,z.selectionEnd=Math.min(bt,z.value.length);else{var xt=z.ownerDocument||document,ft=xt&&xt.defaultView||window;if(ft.getSelection){var ht=ft.getSelection(),Ut=z.textContent.length,It=Math.min(V.start,Ut),ye=V.end===void 0?It:Math.min(V.end,Ut);!ht.extend&&It>ye&&(N=ye,ye=It,It=N);var it=_l(z,It),J=_l(z,ye);if(it&&J&&(ht.rangeCount!==1||ht.anchorNode!==it.node||ht.anchorOffset!==it.offset||ht.focusNode!==J.node||ht.focusOffset!==J.offset)){var lt=xt.createRange();lt.setStart(it.node,it.offset),ht.removeAllRanges(),It>ye?(ht.addRange(lt),ht.extend(J.node,J.offset)):(lt.setEnd(J.node,J.offset),ht.addRange(lt))}}}}for(xt=[],ht=z;ht=ht.parentNode;)ht.nodeType===1&&xt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<xt.length;z++){var vt=xt[z];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}ad=!!bm,ym=bm=null}finally{he=m,ut.p=c,F.T=a}}e.current=n,vn=2}}function Ob(){if(vn===2){vn=0;var e=La,n=_s,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var c=ut.p;ut.p=2;var m=he;he|=4;try{cb(e,n.alternate,n)}finally{he=m,ut.p=c,F.T=a}}vn=3}}function Cb(){if(vn===4||vn===3){vn=0,Be();var e=La,n=_s,a=Ss,c=xb;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?vn=5:(vn=0,_s=La=null,Lb(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ca=null),al(a),n=n.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(qt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=F.T,m=ut.p,ut.p=2,F.T=null;try{for(var y=e.onRecoverableError,N=0;N<c.length;N++){var z=c[N];y(z.value,{componentStack:z.stack})}}finally{F.T=n,ut.p=m}}(Ss&3)!==0&&Vu(),mi(e),m=e.pendingLanes,(a&4194090)!==0&&(m&42)!==0?e===rm?Yl++:(Yl=0,rm=e):Yl=0,ql(0)}}function Lb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function Vu(e){return kb(),Ob(),Cb(),Bb()}function Bb(){if(vn!==5)return!1;var e=La,n=em;em=0;var a=al(Ss),c=F.T,m=ut.p;try{ut.p=32>a?32:a,F.T=null,a=nm,nm=null;var y=La,N=Ss;if(vn=0,_s=La=null,Ss=0,(he&6)!==0)throw Error(l(331));var z=he;if(he|=4,yb(y.current),pb(y,y.current,N,a),he=z,ql(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(qt,y)}catch{}return!0}finally{ut.p=m,F.T=c,Lb(e,n)}}function Rb(e,n,a){n=Cn(a,n),n=Bh(e.stateNode,n,2),e=Ta(e,n,2),e!==null&&(gi(e,2),mi(e))}function xe(e,n,a){if(e.tag===3)Rb(e,e,a);else for(;n!==null;){if(n.tag===3){Rb(n,e,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))){e=Cn(a,e),a=Ig(2),c=Ta(n,a,2),c!==null&&($g(a,c,n,e),gi(c,2),mi(c));break}}n=n.return}}function sm(e,n,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Q2;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(a)||(Wh=!0,m.add(a),e=rS.bind(null,e,n,a),n.then(e,e))}function rS(e,n,a){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(ae&a)===a&&(Ge===4||Ge===3&&(ae&62914560)===ae&&300>de()-tm?(he&2)===0&&ws(e,0):Qh|=a,xs===ae&&(xs=0)),mi(e)}function Pb(e,n){n===0&&(n=$r()),e=ya(e,n),e!==null&&(gi(e,n),mi(e))}function iS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Pb(e,a)}function aS(e,n){var a=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(n),Pb(e,a)}function oS(e,n){return re(e,n)}var Fu=null,Es=null,lm=!1,Ku=!1,cm=!1,Do=0;function mi(e){e!==Es&&e.next===null&&(Es===null?Fu=Es=e:Es=Es.next=e),Ku=!0,lm||(lm=!0,lS())}function ql(e,n){if(!cm&&Ku){cm=!0;do for(var a=!1,c=Fu;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var N=c.suspendedLanes,z=c.pingedLanes;y=(1<<31-we(42|e)+1)-1,y&=m&~(N&~z),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,$b(c,y))}else y=ae,y=Ir(c,c===Me?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Un(c,y)||(a=!0,$b(c,y));c=c.next}while(a);cm=!1}}function sS(){zb()}function zb(){Ku=lm=!1;var e=0;Do!==0&&(gS()&&(e=Do),Do=0);for(var n=de(),a=null,c=Fu;c!==null;){var m=c.next,y=Hb(c,n);y===0?(c.next=null,a===null?Fu=m:a.next=m,m===null&&(Es=a)):(a=c,(e!==0||(y&3)!==0)&&(Ku=!0)),c=m}ql(e)}function Hb(e,n){for(var a=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var N=31-we(y),z=1<<N,V=m[N];V===-1?((z&a)===0||(z&c)!==0)&&(m[N]=nl(z,n)):V<=n&&(e.expiredLanes|=z),y&=~z}if(n=Me,a=ae,a=Ir(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===n&&(me===2||me===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&pe(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Un(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(c!==null&&pe(c),al(a)){case 2:case 8:a=Et;break;case 32:a=pt;break;case 268435456:a=jt;break;default:a=pt}return c=Ib.bind(null,e),a=re(a,c),e.callbackPriority=n,e.callbackNode=a,n}return c!==null&&c!==null&&pe(c),e.callbackPriority=2,e.callbackNode=null,2}function Ib(e,n){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vu()&&e.callbackNode!==a)return null;var c=ae;return c=Ir(e,e===Me?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Sb(e,c,n),Hb(e,de()),e.callbackNode!=null&&e.callbackNode===a?Ib.bind(null,e):null)}function $b(e,n){if(Vu())return null;Sb(e,n,!0)}function lS(){yS(function(){(he&6)!==0?re(wt,sS):zb()})}function um(){return Do===0&&(Do=Qa()),Do}function Ub(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Gb(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function cS(e,n,a,c,m){if(n==="submit"&&a&&a.stateNode===m){var y=Ub((m[wn]||null).action),N=c.submitter;N&&(n=(n=N[wn]||null)?Ub(n.formAction):N.getAttribute("formAction"),n!==null&&(y=n,N=null));var z=new oo("action","action",null,c,m);e.push({event:z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Do!==0){var V=N?Gb(m,N):new FormData(m);jh(a,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(z.preventDefault(),V=N?Gb(m,N):new FormData(m),jh(a,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var dm=0;dm<Oi.length;dm++){var fm=Oi[dm],uS=fm.toLowerCase(),dS=fm[0].toUpperCase()+fm.slice(1);ir(uS,"on"+dS)}ir(hu,"onAnimationEnd"),ir(rr,"onAnimationIteration"),ir(mo,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(ah,"onTransitionRun"),ir(as,"onTransitionStart"),ir(oh,"onTransitionCancel"),ir(Sl,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Zb(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],m=c.event;c=c.listeners;t:{var y=void 0;if(n)for(var N=c.length-1;0<=N;N--){var z=c[N],V=z.instance,ct=z.currentTarget;if(z=z.listener,V!==y&&m.isPropagationStopped())break t;y=z,m.currentTarget=ct;try{y(m)}catch(bt){Ru(bt)}m.currentTarget=null,y=V}else for(N=0;N<c.length;N++){if(z=c[N],V=z.instance,ct=z.currentTarget,z=z.listener,V!==y&&m.isPropagationStopped())break t;y=z,m.currentTarget=ct;try{y(m)}catch(bt){Ru(bt)}m.currentTarget=null,y=V}}}}function te(e,n){var a=n[Zn];a===void 0&&(a=n[Zn]=new Set);var c=e+"__bubble";a.has(c)||(Yb(n,e,2,!1),a.add(c))}function hm(e,n,a){var c=0;n&&(c|=4),Yb(a,e,c,n)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function mm(e){if(!e[Xu]){e[Xu]=!0,Vc.forEach(function(a){a!=="selectionchange"&&(fS.has(a)||hm(a,!1,e),hm(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xu]||(n[Xu]=!0,hm("selectionchange",!1,n))}}function Yb(e,n,a,c){switch(py(n)){case 2:var m=HS;break;case 8:m=IS;break;default:m=Dm}a=m.bind(null,n,a,e),m=void 0,!ao||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(n,a,{capture:!0,passive:m}):e.addEventListener(n,a,!0):m!==void 0?e.addEventListener(n,a,{passive:m}):e.addEventListener(n,a,!1)}function pm(e,n,a,c,m){var y=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var z=c.stateNode.containerInfo;if(z===m)break;if(N===4)for(N=c.return;N!==null;){var V=N.tag;if((V===3||V===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;z!==null;){if(N=ri(z),N===null)return;if(V=N.tag,V===5||V===6||V===26||V===27){c=y=N;continue t}z=z.parentNode}}c=c.return}Jn(function(){var ct=y,bt=oa(a),xt=[];t:{var ft=mu.get(e);if(ft!==void 0){var ht=oo,Ut=e;switch(e){case"keypress":if(Ue(a)===0)break t;case"keydown":case"keyup":ht=Wf;break;case"focusin":Ut="focus",ht=fl;break;case"focusout":Ut="blur",ht=fl;break;case"beforeblur":case"afterblur":ht=fl;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Jf;break;case hu:case rr:case mo:ht=Vf;break;case Sl:ht=th;break;case"scroll":case"scrollend":ht=Yf;break;case"wheel":ht=iu;break;case"copy":case"cut":case"paste":ht=hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=pl;break;case"toggle":case"beforetoggle":ht=Di}var It=(n&4)!==0,ye=!It&&(e==="scroll"||e==="scrollend"),it=It?ft!==null?ft+"Capture":null:ft;It=[];for(var J=ct,lt;J!==null;){var vt=J;if(lt=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||lt===null||it===null||(vt=le(J,it),vt!=null&&It.push(Fl(J,vt,lt))),ye)break;J=J.return}0<It.length&&(ft=new ht(ft,Ut,null,a,bt),xt.push({event:ft,listeners:It}))}}if((n&7)===0){t:{if(ft=e==="mouseover"||e==="pointerover",ht=e==="mouseout"||e==="pointerout",ft&&a!==io&&(Ut=a.relatedTarget||a.fromElement)&&(ri(Ut)||Ut[Qi]))break t;if((ht||ft)&&(ft=bt.window===bt?bt:(ft=bt.ownerDocument)?ft.defaultView||ft.parentWindow:window,ht?(Ut=a.relatedTarget||a.toElement,ht=ct,Ut=Ut?ri(Ut):null,Ut!==null&&(ye=d(Ut),It=Ut.tag,Ut!==ye||It!==5&&It!==27&&It!==6)&&(Ut=null)):(ht=null,Ut=ct),ht!==Ut)){if(It=ca,vt="onMouseLeave",it="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(It=pl,vt="onPointerLeave",it="onPointerEnter",J="pointer"),ye=ht==null?ft:br(ht),lt=Ut==null?ft:br(Ut),ft=new It(vt,J+"leave",ht,a,bt),ft.target=ye,ft.relatedTarget=lt,vt=null,ri(bt)===ct&&(It=new It(it,J+"enter",Ut,a,bt),It.target=lt,It.relatedTarget=ye,vt=It),ye=vt,ht&&Ut)e:{for(It=ht,it=Ut,J=0,lt=It;lt;lt=Ns(lt))J++;for(lt=0,vt=it;vt;vt=Ns(vt))lt++;for(;0<J-lt;)It=Ns(It),J--;for(;0<lt-J;)it=Ns(it),lt--;for(;J--;){if(It===it||it!==null&&It===it.alternate)break e;It=Ns(It),it=Ns(it)}It=null}else It=null;ht!==null&&qb(xt,ft,ht,It,!1),Ut!==null&&ye!==null&&qb(xt,ye,Ut,It,!0)}}t:{if(ft=ct?br(ct):window,ht=ft.nodeName&&ft.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ft.type==="file")var Ot=fa;else if(ji(ft))if(yl)Ot=ih;else{Ot=rh;var Qt=xl}else ht=ft.nodeName,!ht||ht.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?ct&&ro(ct.elementType)&&(Ot=fa):Ot=Yr;if(Ot&&(Ot=Ot(e,ct))){cu(xt,Ot,a,bt);break t}Qt&&Qt(e,ft,ct),e==="focusout"&&ct&&ft.type==="number"&&ct.memoizedProps.value!=null&&ra(ft,"number",ft.value)}switch(Qt=ct?br(ct):window,e){case"focusin":(ji(Qt)||Qt.contentEditable==="true")&&(nr=Qt,pa=ct,ki=null);break;case"focusout":ki=pa=nr=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,du(xt,a,bt);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":du(xt,a,bt)}var Rt;if(Ai)t:{switch(e){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else ua?Jo(e,a)&&($t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&($t="onCompositionStart");$t&&(bl&&a.locale!=="ko"&&(ua||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&ua&&(Rt=la()):(xr=bt,Gr="value"in xr?xr.value:xr.textContent,ua=!0)),Qt=Wu(ct,$t),0<Qt.length&&($t=new tr($t,e,null,a,bt),xt.push({event:$t,listeners:Qt}),Rt?$t.data=Rt:(Rt=su(a),Rt!==null&&($t.data=Rt)))),(Rt=au?lu(e,a):nh(e,a))&&($t=Wu(ct,"onBeforeInput"),0<$t.length&&(Qt=new tr("onBeforeInput","beforeinput",null,a,bt),xt.push({event:Qt,listeners:$t}),Qt.data=Rt)),cS(xt,e,ct,a,bt)}Zb(xt,n)})}function Fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Wu(e,n){for(var a=n+"Capture",c=[];e!==null;){var m=e,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=le(e,a),m!=null&&c.unshift(Fl(e,m,y)),m=le(e,n),m!=null&&c.push(Fl(e,m,y))),e.tag===3)return c;e=e.return}return[]}function Ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qb(e,n,a,c,m){for(var y=n._reactName,N=[];a!==null&&a!==c;){var z=a,V=z.alternate,ct=z.stateNode;if(z=z.tag,V!==null&&V===c)break;z!==5&&z!==26&&z!==27||ct===null||(V=ct,m?(ct=le(a,y),ct!=null&&N.unshift(Fl(a,ct,V))):m||(ct=le(a,y),ct!=null&&N.push(Fl(a,ct,V)))),a=a.return}N.length!==0&&e.push({event:n,listeners:N})}var hS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function Vb(e){return(typeof e=="string"?e:""+e).replace(hS,`
`).replace(mS,"")}function Fb(e,n){return n=Vb(n),Vb(e)===n}function Qu(){}function be(e,n,a,c,m,y){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||yr(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&yr(e,""+c);break;case"className":Yo(e,"class",c);break;case"tabIndex":Yo(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Yo(e,a,c);break;case"style":ia(e,c,y);break;case"data":if(n!=="object"){Yo(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=aa(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&be(e,n,"name",m.name,m,null),be(e,n,"formEncType",m.formEncType,m,null),be(e,n,"formMethod",m.formMethod,m,null),be(e,n,"formTarget",m.formTarget,m,null)):(be(e,n,"encType",m.encType,m,null),be(e,n,"method",m.method,m,null),be(e,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=aa(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=Qu);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":te("beforetoggle",e),te("toggle",e),Zo(e,"popover",c);break;case"xlinkActuate":Ur(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ur(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ur(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ur(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ur(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ur(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cl.get(a)||a,Zo(e,a,c))}}function gm(e,n,a,c,m,y){switch(a){case"style":ia(e,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof c=="string"?yr(e,c):(typeof c=="number"||typeof c=="bigint")&&yr(e,""+c);break;case"onScroll":c!=null&&te("scroll",e);break;case"onScrollEnd":c!=null&&te("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fc.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),y=e[wn]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(n,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,c,m);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Zo(e,a,c)}}}function xn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var c=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var N=a[y];if(N!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:be(e,n,y,N,a,null)}}m&&be(e,n,"srcSet",a.srcSet,a,null),c&&be(e,n,"src",a.src,a,null);return;case"input":te("invalid",e);var z=y=N=m=null,V=null,ct=null;for(c in a)if(a.hasOwnProperty(c)){var bt=a[c];if(bt!=null)switch(c){case"name":m=bt;break;case"type":N=bt;break;case"checked":V=bt;break;case"defaultChecked":ct=bt;break;case"value":y=bt;break;case"defaultValue":z=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(l(137,n));break;default:be(e,n,c,bt,a,null)}}Xc(e,y,z,V,ct,N,m,!1),na(e);return;case"select":te("invalid",e),c=N=y=null;for(m in a)if(a.hasOwnProperty(m)&&(z=a[m],z!=null))switch(m){case"value":y=z;break;case"defaultValue":N=z;break;case"multiple":c=z;default:be(e,n,m,z,a,null)}n=y,a=N,e.multiple=!!c,n!=null?Yn(e,!!c,n,!1):a!=null&&Yn(e,!!c,a,!0);return;case"textarea":te("invalid",e),y=m=c=null;for(N in a)if(a.hasOwnProperty(N)&&(z=a[N],z!=null))switch(N){case"value":c=z;break;case"defaultValue":m=z;break;case"children":y=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(91));break;default:be(e,n,N,z,a,null)}ii(e,c,m,y),na(e);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(c=a[V],c!=null))switch(V){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:be(e,n,V,c,a,null)}return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(c=0;c<Vl.length;c++)te(Vl[c],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in a)if(a.hasOwnProperty(ct)&&(c=a[ct],c!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:be(e,n,ct,c,a,null)}return;default:if(ro(n)){for(bt in a)a.hasOwnProperty(bt)&&(c=a[bt],c!==void 0&&gm(e,n,bt,c,a,void 0));return}}for(z in a)a.hasOwnProperty(z)&&(c=a[z],c!=null&&be(e,n,z,c,a,null))}function pS(e,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,N=null,z=null,V=null,ct=null,bt=null;for(ht in a){var xt=a[ht];if(a.hasOwnProperty(ht)&&xt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":V=xt;default:c.hasOwnProperty(ht)||be(e,n,ht,null,c,xt)}}for(var ft in c){var ht=c[ft];if(xt=a[ft],c.hasOwnProperty(ft)&&(ht!=null||xt!=null))switch(ft){case"type":y=ht;break;case"name":m=ht;break;case"checked":ct=ht;break;case"defaultChecked":bt=ht;break;case"value":N=ht;break;case"defaultValue":z=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(l(137,n));break;default:ht!==xt&&be(e,n,ft,ht,c,xt)}}Tn(e,N,z,V,ct,bt,y,m);return;case"select":ht=N=z=ft=null;for(y in a)if(V=a[y],a.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":ht=V;default:c.hasOwnProperty(y)||be(e,n,y,null,c,V)}for(m in c)if(y=c[m],V=a[m],c.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":ft=y;break;case"defaultValue":z=y;break;case"multiple":N=y;default:y!==V&&be(e,n,m,y,c,V)}n=z,a=N,c=ht,ft!=null?Yn(e,!!a,ft,!1):!!c!=!!a&&(n!=null?Yn(e,!!a,n,!0):Yn(e,!!a,a?[]:"",!1));return;case"textarea":ht=ft=null;for(z in a)if(m=a[z],a.hasOwnProperty(z)&&m!=null&&!c.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:be(e,n,z,null,c,m)}for(N in c)if(m=c[N],y=a[N],c.hasOwnProperty(N)&&(m!=null||y!=null))switch(N){case"value":ft=m;break;case"defaultValue":ht=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==y&&be(e,n,N,m,c,y)}Re(e,ft,ht);return;case"option":for(var Ut in a)if(ft=a[Ut],a.hasOwnProperty(Ut)&&ft!=null&&!c.hasOwnProperty(Ut))switch(Ut){case"selected":e.selected=!1;break;default:be(e,n,Ut,null,c,ft)}for(V in c)if(ft=c[V],ht=a[V],c.hasOwnProperty(V)&&ft!==ht&&(ft!=null||ht!=null))switch(V){case"selected":e.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:be(e,n,V,ft,c,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)ft=a[It],a.hasOwnProperty(It)&&ft!=null&&!c.hasOwnProperty(It)&&be(e,n,It,null,c,ft);for(ct in c)if(ft=c[ct],ht=a[ct],c.hasOwnProperty(ct)&&ft!==ht&&(ft!=null||ht!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(l(137,n));break;default:be(e,n,ct,ft,c,ht)}return;default:if(ro(n)){for(var ye in a)ft=a[ye],a.hasOwnProperty(ye)&&ft!==void 0&&!c.hasOwnProperty(ye)&&gm(e,n,ye,void 0,c,ft);for(bt in c)ft=c[bt],ht=a[bt],!c.hasOwnProperty(bt)||ft===ht||ft===void 0&&ht===void 0||gm(e,n,bt,ft,c,ht);return}}for(var it in a)ft=a[it],a.hasOwnProperty(it)&&ft!=null&&!c.hasOwnProperty(it)&&be(e,n,it,null,c,ft);for(xt in c)ft=c[xt],ht=a[xt],!c.hasOwnProperty(xt)||ft===ht||ft==null&&ht==null||be(e,n,xt,ft,c,ht)}var bm=null,ym=null;function Ju(e){return e.nodeType===9?e:e.ownerDocument}function Kb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vm(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xm=null;function gS(){var e=window.event;return e&&e.type==="popstate"?e===xm?!1:(xm=e,!0):(xm=null,!1)}var Wb=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Qb=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qb<"u"?function(e){return Qb.resolve(null).then(e).catch(vS)}:Wb;function vS(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function Jb(e,n){var a=n,c=0,m=0;do{var y=a.nextSibling;if(e.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<c&&8>c){a=c;var N=e.ownerDocument;if(a&1&&Kl(N.documentElement),a&2&&Kl(N.body),a&4)for(a=N.head,Kl(a),N=a.firstChild;N;){var z=N.nextSibling,V=N.nodeName;N[Ji]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&N.rel.toLowerCase()==="stylesheet"||a.removeChild(N),N=z}}if(m===0){e.removeChild(y),rc(n);return}m--}else a==="$"||a==="$?"||a==="$!"?m++:c=a.charCodeAt(0)-48;else c=0;a=y}while(a);rc(n)}function _m(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),Go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xS(e,n,a,c){for(;e.nodeType===1;){var m=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Kr(e.nextSibling),e===null)break}return null}function _S(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kr(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function SS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Kr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var wm=null;function ty(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function ey(e,n,a){switch(n=Ju(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Go(e)}var Mr=new Map,ny=new Set;function td(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=ut.d;ut.d={f:wS,r:TS,D:ES,C:NS,L:MS,m:DS,X:jS,S:AS,M:kS};function wS(){var e=Zi.f(),n=Yu();return e||n}function TS(e){var n=bi(e);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Zi.r(e)}var Ms=typeof document>"u"?null:document;function ry(e,n,a){var c=Ms;if(c&&typeof n=="string"&&n){var m=gn(n);m='link[rel="'+e+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),ny.has(m)||(ny.add(m),e={rel:e,crossOrigin:a,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),xn(n,"link",e),Fe(n),c.head.appendChild(n)))}}function ES(e){Zi.D(e),ry("dns-prefetch",e,null)}function NS(e,n){Zi.C(e,n),ry("preconnect",e,n)}function MS(e,n,a){Zi.L(e,n,a);var c=Ms;if(c&&e&&n){var m='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+gn(a.imageSizes)+'"]')):m+='[href="'+gn(e)+'"]';var y=m;switch(n){case"style":y=Ds(e);break;case"script":y=As(e)}Mr.has(y)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mr.set(y,e),c.querySelector(m)!==null||n==="style"&&c.querySelector(Xl(y))||n==="script"&&c.querySelector(Wl(y))||(n=c.createElement("link"),xn(n,"link",e),Fe(n),c.head.appendChild(n)))}}function DS(e,n){Zi.m(e,n);var a=Ms;if(a&&e){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(e)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=As(e)}if(!Mr.has(y)&&(e=w({rel:"modulepreload",href:e},n),Mr.set(y,e),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(y)))return}c=a.createElement("link"),xn(c,"link",e),Fe(c),a.head.appendChild(c)}}}function AS(e,n,a){Zi.S(e,n,a);var c=Ms;if(c&&e){var m=yi(c).hoistableStyles,y=Ds(e);n=n||"default";var N=m.get(y);if(!N){var z={loading:0,preload:null};if(N=c.querySelector(Xl(y)))z.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mr.get(y))&&Tm(e,a);var V=N=c.createElement("link");Fe(V),xn(V,"link",e),V._p=new Promise(function(ct,bt){V.onload=ct,V.onerror=bt}),V.addEventListener("load",function(){z.loading|=1}),V.addEventListener("error",function(){z.loading|=2}),z.loading|=4,ed(N,n,c)}N={type:"stylesheet",instance:N,count:1,state:z},m.set(y,N)}}}function jS(e,n){Zi.X(e,n);var a=Ms;if(a&&e){var c=yi(a).hoistableScripts,m=As(e),y=c.get(m);y||(y=a.querySelector(Wl(m)),y||(e=w({src:e,async:!0},n),(n=Mr.get(m))&&Em(e,n),y=a.createElement("script"),Fe(y),xn(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function kS(e,n){Zi.M(e,n);var a=Ms;if(a&&e){var c=yi(a).hoistableScripts,m=As(e),y=c.get(m);y||(y=a.querySelector(Wl(m)),y||(e=w({src:e,async:!0,type:"module"},n),(n=Mr.get(m))&&Em(e,n),y=a.createElement("script"),Fe(y),xn(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function iy(e,n,a,c){var m=(m=rt.current)?td(m):null;if(!m)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ds(a.href),a=yi(m).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ds(a.href);var y=yi(m).hoistableStyles,N=y.get(e);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,N),(y=m.querySelector(Xl(e)))&&!y._p&&(N.instance=y,N.state.loading=5),Mr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mr.set(e,a),y||OS(m,e,a,N.state))),n&&c===null)throw Error(l(528,""));return N}if(n&&c!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=yi(m).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ds(e){return'href="'+gn(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function ay(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function OS(e,n,a,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),xn(n,"link",a),Fe(n),e.head.appendChild(n))}function As(e){return'[src="'+gn(e)+'"]'}function Wl(e){return"script[async]"+e}function oy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(c)return n.instance=c,Fe(c),c;var m=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Fe(c),xn(c,"style",m),ed(c,a.precedence,e),n.instance=c;case"stylesheet":m=Ds(a.href);var y=e.querySelector(Xl(m));if(y)return n.state.loading|=4,n.instance=y,Fe(y),y;c=ay(a),(m=Mr.get(m))&&Tm(c,m),y=(e.ownerDocument||e).createElement("link"),Fe(y);var N=y;return N._p=new Promise(function(z,V){N.onload=z,N.onerror=V}),xn(y,"link",c),n.state.loading|=4,ed(y,a.precedence,e),n.instance=y;case"script":return y=As(a.src),(m=e.querySelector(Wl(y)))?(n.instance=m,Fe(m),m):(c=a,(m=Mr.get(y))&&(c=w({},a),Em(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Fe(m),xn(m,"link",c),e.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,ed(c,a.precedence,e));return n.instance}function ed(e,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,N=0;N<c.length;N++){var z=c[N];if(z.dataset.precedence===n)y=z;else if(y!==m)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Tm(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Em(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var nd=null;function sy(e,n,a){if(nd===null){var c=new Map,m=nd=new Map;m.set(a,c)}else m=nd,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),m=0;m<a.length;m++){var y=a[m];if(!(y[Ji]||y[an]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(n)||"";N=e+N;var z=c.get(N);z?z.push(y):c.set(N,[y])}}return c}function ly(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function CS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ql=null;function LS(){}function BS(e,n,a){if(Ql===null)throw Error(l(475));var c=Ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var m=Ds(a.href),y=e.querySelector(Xl(m));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=rd.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=y,Fe(y);return}y=e.ownerDocument||e,a=ay(a),(m=Mr.get(m))&&Tm(a,m),y=y.createElement("link"),Fe(y);var N=y;N._p=new Promise(function(z,V){N.onload=z,N.onerror=V}),xn(y,"link",a),n.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=rd.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function RS(){if(Ql===null)throw Error(l(475));var e=Ql;return e.stylesheets&&e.count===0&&Nm(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Nm(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function rd(){if(this.count--,this.count===0){if(this.stylesheets)Nm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var id=null;function Nm(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,id=new Map,n.forEach(PS,e),id=null,rd.call(e))}function PS(e,n){if(!(n.state.loading&4)){var a=id.get(e);if(a)var c=a.get(null);else{a=new Map,id.set(e,a);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var N=m[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}m=n.instance,N=m.getAttribute("data-precedence"),y=a.get(N)||c,y===c&&a.set(null,m),a.set(N,m),this.count++,c=rd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:j,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function zS(e,n,a,c,m,y,N,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function uy(e,n,a,c,m,y,N,z,V,ct,bt,xt){return e=new zS(e,n,a,N,z,V,ct,xt),n=1,y===!0&&(n|=24),y=Bn(3,null,null,n),e.current=y,y.stateNode=e,n=sh(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:n},dh(y),e}function dy(e){return e?(e=Bi,e):Bi}function fy(e,n,a,c,m,y){m=dy(m),c.context===null?c.context=m:c.pendingContext=m,c=wa(n),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=Ta(e,c,n),a!==null&&(ur(a,e,n),Al(a,e,n))}function hy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Mm(e,n){hy(e,n),(e=e.alternate)&&hy(e,n)}function my(e){if(e.tag===13){var n=ya(e,67108864);n!==null&&ur(n,e,67108864),Mm(e,67108864)}}var ad=!0;function HS(e,n,a,c){var m=F.T;F.T=null;var y=ut.p;try{ut.p=2,Dm(e,n,a,c)}finally{ut.p=y,F.T=m}}function IS(e,n,a,c){var m=F.T;F.T=null;var y=ut.p;try{ut.p=8,Dm(e,n,a,c)}finally{ut.p=y,F.T=m}}function Dm(e,n,a,c){if(ad){var m=Am(c);if(m===null)pm(e,n,c,od,a),gy(e,c);else if(US(m,e,n,a,c))c.stopPropagation();else if(gy(e,c),n&4&&-1<$S.indexOf(e)){for(;m!==null;){var y=bi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=mn(y.pendingLanes);if(N!==0){var z=y;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var V=1<<31-we(N);z.entanglements[1]|=V,N&=~V}mi(y),(he&6)===0&&(Gu=de()+500,ql(0))}}break;case 13:z=ya(y,2),z!==null&&ur(z,y,2),Yu(),Mm(y,2)}if(y=Am(c),y===null&&pm(e,n,c,od,a),y===m)break;m=y}m!==null&&c.stopPropagation()}else pm(e,n,c,null,a)}}function Am(e){return e=oa(e),jm(e)}var od=null;function jm(e){if(od=null,e=ri(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return od=e,null}function py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case wt:return 2;case Et:return 8;case pt:case zt:return 32;case jt:return 268435456;default:return 32}default:return 32}}var km=!1,Pa=null,za=null,Ha=null,tc=new Map,ec=new Map,Ia=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(e,n){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":tc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(n.pointerId)}}function nc(e,n,a,c,m,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},n!==null&&(n=bi(n),n!==null&&my(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function US(e,n,a,c,m){switch(n){case"focusin":return Pa=nc(Pa,e,n,a,c,m),!0;case"dragenter":return za=nc(za,e,n,a,c,m),!0;case"mouseover":return Ha=nc(Ha,e,n,a,c,m),!0;case"pointerover":var y=m.pointerId;return tc.set(y,nc(tc.get(y)||null,e,n,a,c,m)),!0;case"gotpointercapture":return y=m.pointerId,ec.set(y,nc(ec.get(y)||null,e,n,a,c,m)),!0}return!1}function by(e){var n=ri(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,ol(e.priority,function(){if(a.tag===13){var c=cr();c=il(c);var m=ya(a,c);m!==null&&ur(m,a,c),Mm(a,c)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Am(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);io=c,a.target.dispatchEvent(c),io=null}else return n=bi(a),n!==null&&my(n),e.blockedOn=a,!1;n.shift()}return!0}function yy(e,n,a){sd(e)&&a.delete(n)}function GS(){km=!1,Pa!==null&&sd(Pa)&&(Pa=null),za!==null&&sd(za)&&(za=null),Ha!==null&&sd(Ha)&&(Ha=null),tc.forEach(yy),ec.forEach(yy)}function ld(e,n){e.blockedOn===n&&(e.blockedOn=null,km||(km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GS)))}var cd=null;function vy(e){cd!==e&&(cd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cd===e&&(cd=null);for(var n=0;n<e.length;n+=3){var a=e[n],c=e[n+1],m=e[n+2];if(typeof c!="function"){if(jm(c||a)===null)continue;break}var y=bi(a);y!==null&&(e.splice(n,3),n-=3,jh(y,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function rc(e){function n(V){return ld(V,e)}Pa!==null&&ld(Pa,e),za!==null&&ld(za,e),Ha!==null&&ld(Ha,e),tc.forEach(n),ec.forEach(n);for(var a=0;a<Ia.length;a++){var c=Ia[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)by(a),a.blockedOn===null&&Ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],y=a[c+1],N=m[wn]||null;if(typeof y=="function")N||vy(a);else if(N){var z=null;if(y&&y.hasAttribute("formAction")){if(m=y,N=y[wn]||null)z=N.formAction;else if(jm(m)!==null)continue}else z=N.action;typeof z=="function"?a[c+1]=z:(a.splice(c,3),c-=3),vy(a)}}}function Om(e){this._internalRoot=e}ud.prototype.render=Om.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,c=cr();fy(a,c,e,n,null,null)},ud.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;fy(e.current,2,null,e,null,null),Yu(),n[Qi]=null}};function ud(e){this._internalRoot=e}ud.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ia.length&&n!==0&&n<Ia[a].priority;a++);Ia.splice(a,0,e),a===0&&by(e)}};var xy=i.version;if(xy!=="19.1.1")throw Error(l(527,xy,"19.1.1"));ut.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ZS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{qt=dd.inject(ZS),ne=dd}catch{}}return ac.createRoot=function(e,n){if(!u(e))throw Error(l(299));var a=!1,c="",m=Rg,y=Pg,N=zg,z=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(z=n.unstable_transitionCallbacks)),n=uy(e,1,!1,null,null,a,c,m,y,N,z,null),e[Qi]=n.current,mm(e),new Om(n)},ac.hydrateRoot=function(e,n,a){if(!u(e))throw Error(l(299));var c=!1,m="",y=Rg,N=Pg,z=zg,V=null,ct=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(z=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(ct=a.formState)),n=uy(e,1,!0,n,a??null,c,m,y,N,z,V,ct),n.context=dy(null),a=n.current,c=cr(),c=il(c),m=wa(c),m.callback=null,Ta(a,m,c),a=c,n.current.lanes=a,gi(n,a),mi(n),e[Qi]=n.current,mm(e),new ud(n)},ac.version="19.1.1",ac}var jy;function tw(){if(jy)return Bm.exports;jy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Bm.exports=JS(),Bm.exports}var ew=tw();let nw={data:""},rw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nw,iw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aw=/\/\*[^]*?\*\/|  +/g,ky=/\n+/g,Ya=(t,i)=>{let o="",l="",u="";for(let d in t){let h=t[d];d[0]=="@"?d[1]=="i"?o=d+" "+h+";":l+=d[1]=="f"?Ya(h,d):d+"{"+Ya(h,d[1]=="k"?"":i)+"}":typeof h=="object"?l+=Ya(h,i?i.replace(/([^,])+/g,p=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,p):p?p+" "+b:b)):d):h!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Ya.p?Ya.p(d,h):d+":"+h+";")}return o+(i&&u?i+"{"+u+"}":u)+l},Yi={},o_=t=>{if(typeof t=="object"){let i="";for(let o in t)i+=o+o_(t[o]);return i}return t},ow=(t,i,o,l,u)=>{let d=o_(t),h=Yi[d]||(Yi[d]=(b=>{let v=0,w=11;for(;v<b.length;)w=101*w+b.charCodeAt(v++)>>>0;return"go"+w})(d));if(!Yi[h]){let b=d!==t?t:(v=>{let w,_,S=[{}];for(;w=iw.exec(v.replace(aw,""));)w[4]?S.shift():w[3]?(_=w[3].replace(ky," ").trim(),S.unshift(S[0][_]=S[0][_]||{})):S[0][w[1]]=w[2].replace(ky," ").trim();return S[0]})(t);Yi[h]=Ya(u?{["@keyframes "+h]:b}:b,o?"":"."+h)}let p=o&&Yi.g?Yi.g:null;return o&&(Yi.g=Yi[h]),((b,v,w,_)=>{_?v.data=v.data.replace(_,b):v.data.indexOf(b)===-1&&(v.data=w?b+v.data:v.data+b)})(Yi[h],i,l,p),h},sw=(t,i,o)=>t.reduce((l,u,d)=>{let h=i[d];if(h&&h.call){let p=h(o),b=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=b?"."+b:p&&typeof p=="object"?p.props?"":Ya(p,""):p===!1?"":p}return l+u+(h??"")},"");function vf(t){let i=this||{},o=t.call?t(i.p):t;return ow(o.unshift?o.raw?sw(o,[].slice.call(arguments,1),i.p):o.reduce((l,u)=>Object.assign(l,u&&u.call?u(i.p):u),{}):o,rw(i.target),i.g,i.o,i.k)}let s_,jp,kp;vf.bind({g:1});let Xi=vf.bind({k:1});function lw(t,i,o,l){Ya.p=i,s_=t,jp=o,kp=l}function Wa(t,i){let o=this||{};return function(){let l=arguments;function u(d,h){let p=Object.assign({},d),b=p.className||u.className;o.p=Object.assign({theme:jp&&jp()},p),o.o=/ *go\d+/.test(b),p.className=vf.apply(o,l)+(b?" "+b:"");let v=t;return t[0]&&(v=p.as||t,delete p.as),kp&&v[0]&&kp(p),s_(v,p)}return u}}var cw=t=>typeof t=="function",Zd=(t,i)=>cw(t)?t(i):t,uw=(()=>{let t=0;return()=>(++t).toString()})(),l_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),dw=20,Kp="default",c_=(t,i)=>{let{toastLimit:o}=t.settings;switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,o)};case 1:return{...t,toasts:t.toasts.map(h=>h.id===i.toast.id?{...h,...i.toast}:h)};case 2:let{toast:l}=i;return c_(t,{type:t.toasts.find(h=>h.id===l.id)?1:0,toast:l});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(h=>h.id===u||u===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(h=>h.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let d=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+d}))}}},zd=[],u_={toasts:[],pausedAt:void 0,settings:{toastLimit:dw}},pi={},d_=(t,i=Kp)=>{pi[i]=c_(pi[i]||u_,t),zd.forEach(([o,l])=>{o===i&&l(pi[i])})},f_=t=>Object.keys(pi).forEach(i=>d_(t,i)),fw=t=>Object.keys(pi).find(i=>pi[i].toasts.some(o=>o.id===t)),xf=(t=Kp)=>i=>{d_(i,t)},hw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mw=(t={},i=Kp)=>{let[o,l]=R.useState(pi[i]||u_),u=R.useRef(pi[i]);R.useEffect(()=>(u.current!==pi[i]&&l(pi[i]),zd.push([i,l]),()=>{let h=zd.findIndex(([p])=>p===i);h>-1&&zd.splice(h,1)}),[i]);let d=o.toasts.map(h=>{var p,b,v;return{...t,...t[h.type],...h,removeDelay:h.removeDelay||((p=t[h.type])==null?void 0:p.removeDelay)||t?.removeDelay,duration:h.duration||((b=t[h.type])==null?void 0:b.duration)||t?.duration||hw[h.type],style:{...t.style,...(v=t[h.type])==null?void 0:v.style,...h.style}}});return{...o,toasts:d}},pw=(t,i="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...o,id:o?.id||uw()}),Pc=t=>(i,o)=>{let l=pw(i,t,o);return xf(l.toasterId||fw(l.id))({type:2,toast:l}),l.id},nn=(t,i)=>Pc("blank")(t,i);nn.error=Pc("error");nn.success=Pc("success");nn.loading=Pc("loading");nn.custom=Pc("custom");nn.dismiss=(t,i)=>{let o={type:3,toastId:t};i?xf(i)(o):f_(o)};nn.dismissAll=t=>nn.dismiss(void 0,t);nn.remove=(t,i)=>{let o={type:4,toastId:t};i?xf(i)(o):f_(o)};nn.removeAll=t=>nn.remove(void 0,t);nn.promise=(t,i,o)=>{let l=nn.loading(i.loading,{...o,...o?.loading});return typeof t=="function"&&(t=t()),t.then(u=>{let d=i.success?Zd(i.success,u):void 0;return d?nn.success(d,{id:l,...o,...o?.success}):nn.dismiss(l),u}).catch(u=>{let d=i.error?Zd(i.error,u):void 0;d?nn.error(d,{id:l,...o,...o?.error}):nn.dismiss(l)}),t};var gw=1e3,bw=(t,i="default")=>{let{toasts:o,pausedAt:l}=mw(t,i),u=R.useRef(new Map).current,d=R.useCallback((_,S=gw)=>{if(u.has(_))return;let T=setTimeout(()=>{u.delete(_),h({type:4,toastId:_})},S);u.set(_,T)},[]);R.useEffect(()=>{if(l)return;let _=Date.now(),S=o.map(T=>{if(T.duration===1/0)return;let D=(T.duration||0)+T.pauseDuration-(_-T.createdAt);if(D<0){T.visible&&nn.dismiss(T.id);return}return setTimeout(()=>nn.dismiss(T.id,i),D)});return()=>{S.forEach(T=>T&&clearTimeout(T))}},[o,l,i]);let h=R.useCallback(xf(i),[i]),p=R.useCallback(()=>{h({type:5,time:Date.now()})},[h]),b=R.useCallback((_,S)=>{h({type:1,toast:{id:_,height:S}})},[h]),v=R.useCallback(()=>{l&&h({type:6,time:Date.now()})},[l,h]),w=R.useCallback((_,S)=>{let{reverseOrder:T=!1,gutter:D=8,defaultPosition:M}=S||{},k=o.filter(j=>(j.position||M)===(_.position||M)&&j.height),I=k.findIndex(j=>j.id===_.id),H=k.filter((j,P)=>P<I&&j.visible).length;return k.filter(j=>j.visible).slice(...T?[H+1]:[0,H]).reduce((j,P)=>j+(P.height||0)+D,0)},[o]);return R.useEffect(()=>{o.forEach(_=>{if(_.dismissed)d(_.id,_.removeDelay);else{let S=u.get(_.id);S&&(clearTimeout(S),u.delete(_.id))}})},[o,d]),{toasts:o,handlers:{updateHeight:b,startPause:p,endPause:v,calculateOffset:w}}},yw=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vw=Xi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xw=Xi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_w=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sw=Xi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ww=Wa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Sw} 1s linear infinite;
`,Tw=Xi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ew=Xi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Nw=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ew} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mw=Wa("div")`
  position: absolute;
`,Dw=Wa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Aw=Xi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jw=Wa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Aw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kw=({toast:t})=>{let{icon:i,type:o,iconTheme:l}=t;return i!==void 0?typeof i=="string"?R.createElement(jw,null,i):i:o==="blank"?null:R.createElement(Dw,null,R.createElement(ww,{...l}),o!=="loading"&&R.createElement(Mw,null,o==="error"?R.createElement(_w,{...l}):R.createElement(Nw,{...l})))},Ow=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Cw=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Lw="0%{opacity:0;} 100%{opacity:1;}",Bw="0%{opacity:1;} 100%{opacity:0;}",Rw=Wa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pw=Wa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zw=(t,i)=>{let o=t.includes("top")?1:-1,[l,u]=l_()?[Lw,Bw]:[Ow(o),Cw(o)];return{animation:i?`${Xi(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xi(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Hw=R.memo(({toast:t,position:i,style:o,children:l})=>{let u=t.height?zw(t.position||i||"top-center",t.visible):{opacity:0},d=R.createElement(kw,{toast:t}),h=R.createElement(Pw,{...t.ariaProps},Zd(t.message,t));return R.createElement(Rw,{className:t.className,style:{...u,...o,...t.style}},typeof l=="function"?l({icon:d,message:h}):R.createElement(R.Fragment,null,d,h))});lw(R.createElement);var Iw=({id:t,className:i,style:o,onHeightUpdate:l,children:u})=>{let d=R.useCallback(h=>{if(h){let p=()=>{let b=h.getBoundingClientRect().height;l(t,b)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[t,l]);return R.createElement("div",{ref:d,className:i,style:o},u)},$w=(t,i)=>{let o=t.includes("top"),l=o?{top:0}:{bottom:0},u=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:l_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(o?1:-1)}px)`,...l,...u}},Uw=vf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fd=16,Gw=({reverseOrder:t,position:i="top-center",toastOptions:o,gutter:l,children:u,toasterId:d,containerStyle:h,containerClassName:p})=>{let{toasts:b,handlers:v}=bw(o,d);return R.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:fd,left:fd,right:fd,bottom:fd,pointerEvents:"none",...h},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},b.map(w=>{let _=w.position||i,S=v.calculateOffset(w,{reverseOrder:t,gutter:l,defaultPosition:i}),T=$w(_,S);return R.createElement(Iw,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?Uw:"",style:T},w.type==="custom"?Zd(w.message,w):u?u(w):R.createElement(Hw,{toast:w,position:_}))}))},Hm=nn;function Zw(t,i,o,l=0,u=0){i<=2&&(t-=1,i+=12);const d=Math.floor(t/100),h=2-d+Math.floor(d/4),p=o+(l+u/60)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+p+h-1524.5}const Yw=864e5;function qw(t){const i=(t-24405875e-1)*Yw;return new Date(i)}function Vw(t,i=7){const o=t+(i-.5)/12;if(o>=1986&&o<2005){const u=o-2e3;return 63.86+.3345*u-.060374*u*u+.0017275*u**3+651814e-9*u**4+2373599e-11*u**5}if(o>=2005&&o<2050){const u=o-2e3;return 62.92+.32217*u+.005589*u*u}if(o>=2050&&o<=2150){const u=(o-1820)/100;return-20+32*u*u-.5628*(2150-o)}if(o>=1900&&o<1986)return-2.79+1.494119*(o-1900)-.0598939*(o-1900)**2+.0061966*(o-1900)**3-197e-6*(o-1900)**4;if(o>=1800&&o<1900){const u=(o-1800)/100;return 13.72-33.244*u+68.612*u**2-65.3*u**3-1.653*u**4+.3343*u**5-.012125*u**6+1348e-7*u**7-175e-8*u**8}const l=(o-1820)/100;return-20+32*l*l}function Fw(t){const i=Math.floor(t+.5),o=t+.5-i;let l=i;if(i>=2299161){const _=Math.floor((i-186721625e-2)/36524.25);l=i+1+_-Math.floor(_/4)}const u=l+1524,d=Math.floor((u-122.1)/365.25),h=Math.floor(365.25*d),p=Math.floor((u-h)/30.6001),b=u-h-Math.floor(30.6001*p)+o;let v=p-1;v>12&&(v-=12);let w=d-4715;return v>2&&(w-=1),[w,v,b]}const Sc=Math.PI,Ro=Sc/180,Kw=180/Sc,Xw=86400;function Ww(t){return t%=360,t<0?t+360:t}function Qw(t,i){return(t-i+540)%360-180}function Oy(t,i){for(;t-i>180;)t-=360;for(;t-i<-180;)t+=360;return t}function Jw(t){const[i,o]=Fw(t);return t+Vw(i,Math.round(o))/Xw}function Cy(t,i){let o=0,l=1;for(let u=0;u<t.length;u++){let d=0;for(const[h,p,b]of t[u])d+=h*Math.cos(p+b*i);o+=d*l,l*=i}return o*1e-8}function tT(t){const i=(t-2451545)/36525,o=(297.85036+445267.11148*i-.0019142*i*i+i*i*i/189474)*Ro,l=(357.52772+35999.05034*i-1603e-7*i*i-i*i*i/3e5)*Ro,u=(134.96298+477198.867398*i+.0086972*i*i+i*i*i/56250)*Ro,d=(93.27191+483202.017538*i-.0036825*i*i+i*i*i/327270)*Ro,h=(125.04452-1934.136261*i+.0020708*i*i+i*i*i/45e4)*Ro,p=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let b=0,v=0;for(const[w,_,S,T,D,M,k,I,H]of p){const j=w*o+_*l+S*u+T*d+D*h;b+=(M+k*i)*Math.sin(j),v+=(I+H*i)*Math.cos(j)}return b*=1e-4,v*=1e-4,{dpsi:b,deps:v}}function hd(t){const i=Jw(t),o=(i-2451545)/365250,l=Cy(Ly.L,o),u=Cy(Ly.R,o);let d=l+Sc;d>2*Sc&&(d-=2*Sc);const{dpsi:h}=tT(i),p=h/3600*Ro,b=20.4898/(3600*u),v=d+p-b*Ro;return Ww(v*Kw)}function en(t,i,o){const l=(i%360+360)%360,u=Zw(t,1,1),d=hd(u);let h=l-d;h<0&&(h+=360);let p=u+h/.98564736;const b=1e-6,v=5e-6;for(let S=0;S<25;S++){const T=hd(p),D=Qw(l,T);if(Math.abs(D)<b)break;const M=hd(p+v),k=hd(p-v),I=Oy(M,T),H=Oy(k,T),j=(I-H)/(2*v);p+=D/j}const w=qw(p),_=new Date(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),0,0);if(Number.isFinite(o)){const S=o/15-9;if(Math.abs(S)>1e-12)return new Date(_.getTime()+S*36e5)}return _}const Ly={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},In=["갑","을","병","정","무","기","경","신","임","계"],Wn=["자","축","인","묘","진","사","오","미","신","유","술","해"],Lr={천간:["갑","을","병","정","무","기","경","신","임","계"],지지:["자","축","인","묘","진","사","오","미","신","유","술","해"]},gr={천간:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],지지:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"]},eT=["목","목","화","화","토","토","금","금","수","수"],nT=["수","토","목","목","토","화","화","토","금","금","토","수"],rT=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],iT=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],_f=new Set(In),Xp=new Set(Wn),Sf={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Wp={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},h_=["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],m_={갑:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],을:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],병:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],정:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],무:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"],기:["병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해","병자","정축"],경:["무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해","무자","기축"],신:["경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해","경자","신축"],임:["임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"],계:["갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해","갑자","을축"]},aT={갑:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],을:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],병:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],정:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],무:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"],기:["갑자","을축","병인","정묘","무진","기사","경오","신미","임신","계유","갑술","을해"],경:["병자","정축","무인","기묘","경진","신사","임오","계미","갑신","을유","병술","정해"],신:["무자","기축","경인","신묘","임진","계사","갑오","을미","병신","정유","무술","기해"],임:["경자","신축","임인","계묘","갑진","을사","병오","정미","무신","기유","경술","신해"],계:["임자","계축","갑인","을묘","병진","정사","무오","기미","경신","신유","임술","계해"]},By=[{branch:"자",hanja:"子",start:1380,end:60},{branch:"축",hanja:"丑",start:60,end:180},{branch:"인",hanja:"寅",start:180,end:300},{branch:"묘",hanja:"卯",start:300,end:420},{branch:"진",hanja:"辰",start:420,end:540},{branch:"사",hanja:"巳",start:540,end:660},{branch:"오",hanja:"午",start:660,end:780},{branch:"미",hanja:"未",start:780,end:900},{branch:"신",hanja:"申",start:900,end:1020},{branch:"유",hanja:"酉",start:1020,end:1140},{branch:"술",hanja:"戌",start:1140,end:1260},{branch:"해",hanja:"亥",start:1260,end:1380}],oT={갑:{갑:"비견",을:"겁재",병:"식신",정:"상관",무:"편재",기:"정재",경:"편관",신:"정관",임:"편인",계:"정인"},을:{갑:"겁재",을:"비견",병:"상관",정:"식신",무:"정재",기:"편재",경:"정관",신:"편관",임:"정인",계:"편인"},병:{갑:"편인",을:"정인",병:"비견",정:"겁재",무:"식신",기:"상관",경:"편재",신:"정재",임:"편관",계:"정관"},정:{갑:"정인",을:"편인",병:"겁재",정:"비견",무:"상관",기:"식신",경:"정재",신:"편재",임:"정관",계:"편관"},무:{갑:"편관",을:"정관",병:"편인",정:"정인",무:"비견",기:"겁재",경:"식신",신:"상관",임:"편재",계:"정재"},기:{갑:"정관",을:"편관",병:"정인",정:"편인",무:"겁재",기:"비견",경:"상관",신:"식신",임:"정재",계:"편재"},경:{갑:"편재",을:"정재",병:"편관",정:"정관",무:"편인",기:"정인",경:"비견",신:"겁재",임:"식신",계:"상관"},신:{갑:"정재",을:"편재",병:"정관",정:"편관",무:"정인",기:"편인",경:"겁재",신:"비견",임:"상관",계:"식신"},임:{갑:"식신",을:"상관",병:"편재",정:"정재",무:"편관",기:"정관",경:"편인",신:"정인",임:"비견",계:"겁재"},계:{갑:"상관",을:"식신",병:"정재",정:"편재",무:"정관",기:"편관",경:"정인",신:"편인",임:"겁재",계:"비견"}},sT={갑:{자:"정인",축:"정재",인:"비견",묘:"겁재",진:"편재",사:"식신",오:"상관",미:"정재",신:"편관",유:"정관",술:"편재",해:"편인"},을:{자:"편인",축:"편재",인:"겁재",묘:"비견",진:"정재",사:"상관",오:"식신",미:"편재",신:"정관",유:"편관",술:"정재",해:"정인"},병:{자:"정관",축:"상관",인:"편인",묘:"정인",진:"식신",사:"비견",오:"겁재",미:"상관",신:"편재",유:"정재",술:"식신",해:"편관"},정:{자:"편관",축:"식신",인:"정인",묘:"편인",진:"상관",사:"겁재",오:"비견",미:"식신",신:"정재",유:"편재",술:"상관",해:"정관"},무:{자:"정재",축:"겁재",인:"편관",묘:"정관",진:"비견",사:"편인",오:"정인",미:"겁재",신:"식신",유:"상관",술:"비견",해:"편재"},기:{자:"편재",축:"비견",인:"정관",묘:"편관",진:"겁재",사:"정인",오:"편인",미:"비견",신:"상관",유:"식신",술:"겁재",해:"정재"},경:{자:"상관",축:"정인",인:"편재",묘:"정재",진:"편인",사:"편관",오:"정관",미:"정인",신:"비견",유:"겁재",술:"편인",해:"식신"},신:{자:"식신",축:"편인",인:"정재",묘:"편재",진:"정인",사:"정관",오:"편관",미:"편인",신:"겁재",유:"비견",술:"정인",해:"상관"},임:{자:"겁재",축:"정관",인:"식신",묘:"상관",진:"편관",사:"편재",오:"정재",미:"정관",신:"편인",유:"정인",술:"편관",해:"비견"},계:{자:"비견",축:"편관",인:"상관",묘:"식신",진:"정관",사:"정재",오:"편재",미:"편관",신:"정인",유:"편인",술:"정관",해:"겁재"}};function lT(t,i=127.5){return(Se(t,i)||"").charAt(0)}const Ry=new Map;function p_(t,i=127.5){const o=`${t}@${i}`,l=Ry.get(o);if(l)return l;const u=en(t,315,i);if(!u)throw new Error(`입춘 날짜를 찾을 수 없습니다: year=${t}, lon=${i}`);return Ry.set(o,u),u}const cT=(t,i)=>(t%i+i)%i,g_=t=>t instanceof Date&&!Number.isNaN(t.getTime());function b_(t,i=127.5){if(!g_(t))throw new Error("resolveYearIndex: invalid date");const o=t.getFullYear(),l=p_(o,i),u=t<l?o-1:o,d=cT(u-4,60);return{useYear:u,index60Num:d}}function Se(t,i=127.5){const{index60Num:o}=b_(t,i);return h_[o]}const uT=[2,4,6,8,0,2,4,6,8,0];function dT(t,i=127.5){const o=new Array(12);return o[0]=p_(t,i),o[1]=en(t,345,i),o[2]=en(t,15,i),o[3]=en(t,45,i),o[4]=en(t,75,i),o[5]=en(t,105,i),o[6]=en(t,135,i),o[7]=en(t,165,i),o[8]=en(t,195,i),o[9]=en(t,225,i),o[10]=en(t,255,i),o[11]=en(t+1,285,i),o.map(l=>new Date(l.getTime()+1800*1e3))}function fT(t,i=127.5){const{useYear:o}=b_(t,i),l=dT(o,i);let u=0;for(let h=0;h<12;h++)t>=l[h]&&(u=h);return{monthIndex:u+1,useYear:o,boundaries:l}}function hT(t,i=127.5){const o=lT(t,i),l=Lr.천간.indexOf(o);if(l<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${o}"`);return uT[l]}function mT(t,i,o=127.5){return(hT(t,o)+(i-1))%10}function rn(t,i=127.5){if(!g_(t))return"";const{monthIndex:o}=fT(t,i),l=(2+(o-1))%12,u=Lr.지지[l],d=mT(t,o,i);return Lr.천간[d]+u}const pT=(t,i)=>(t%i+i)%i;function gT(t,i,o,l=0,u=0,d=0){i<=2&&(t-=1,i+=12);const h=Math.floor(t/100),p=2-h+Math.floor(h/4),b=(l+u/60+d/3600)/24;return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+o+b+p-1524.5}function bT(t,i){const o=t.getHours(),l=t.getMinutes(),u=o*60+l,d=y_(t);return i==="야자시"&&d==="자"?u>=1380?1:0:i==="인시"&&(d==="자"||d==="축")?u<180?-1:0:(u<0,0)}const Py={JDN:2445731,idx:0};function He(t,i){const o=bT(t,i),l=new Date(t.getTime());l.setDate(l.getDate()+o);const u=gT(l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes()),d=Math.floor(u+.5),h=pT(d-Py.JDN+Py.idx,60),p=h_[h];if(!p)throw new Error(`getDayGanZhi: idx=${h} out of range (jdn=${d}, jd=${u})`);return p}function y_(t){t instanceof Date||(t=new Date(t));const i=t.getHours()*60+t.getMinutes();for(let o=0;o<By.length;o++){const{branch:l,start:u,end:d}=By[o];if(u<d){if(i>=u&&i<d)return l}else if(i>=u||i<d)return l}return"자"}function yT(t,i,o,l){const u=In.indexOf(i);if(u<0)return"";let d=(u%5*2+o)%10;const h=t.getHours();return(l==="인시"||l==="조자시"&&h>=3)&&(o===0||o===1)&&(d=(d+2)%10),In[d]}function Rr(t,i,o){t instanceof Date||(t=new Date(t));const l=y_(t),u=Wn.indexOf(l),h=(o??He(t,i)).charAt(0);return yT(t,h,u,i)+l}const zy=t=>{let i;const o=new Set,l=(v,w)=>{const _=typeof v=="function"?v(i):v;if(!Object.is(_,i)){const S=i;i=w??(typeof _!="object"||_===null)?_:Object.assign({},i,_),o.forEach(T=>T(i,S))}},u=()=>i,p={setState:l,getState:u,getInitialState:()=>b,subscribe:v=>(o.add(v),()=>o.delete(v))},b=i=t(l,u,p);return p},vT=(t=>t?zy(t):zy),xT=t=>t;function _T(t,i=xT){const o=ke.useSyncExternalStore(t.subscribe,ke.useCallback(()=>i(t.getState()),[t,i]),ke.useCallback(()=>i(t.getInitialState()),[t,i]));return ke.useDebugValue(o),o}const ST=t=>{const i=vT(t),o=l=>_T(i,l);return Object.assign(o,i),o},Qp=(t=>ST);function wT(t,i){let o;try{o=t()}catch{return}return{getItem:u=>{var d;const h=b=>b===null?null:JSON.parse(b,void 0),p=(d=o.getItem(u))!=null?d:null;return p instanceof Promise?p.then(h):h(p)},setItem:(u,d)=>o.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>o.removeItem(u)}}const Op=t=>i=>{try{const o=t(i);return o instanceof Promise?o:{then(l){return Op(l)(o)},catch(l){return this}}}catch(o){return{then(l){return this},catch(l){return Op(l)(o)}}}},TT=(t,i)=>(o,l,u)=>{let d={storage:wT(()=>localStorage),partialize:M=>M,version:0,merge:(M,k)=>({...k,...M}),...i},h=!1;const p=new Set,b=new Set;let v=d.storage;if(!v)return t((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...M)},l,u);const w=()=>{const M=d.partialize({...l()});return v.setItem(d.name,{state:M,version:d.version})},_=u.setState;u.setState=(M,k)=>(_(M,k),w());const S=t((...M)=>(o(...M),w()),l,u);u.getInitialState=()=>S;let T;const D=()=>{var M,k;if(!v)return;h=!1,p.forEach(H=>{var j;return H((j=l())!=null?j:S)});const I=((k=d.onRehydrateStorage)==null?void 0:k.call(d,(M=l())!=null?M:S))||void 0;return Op(v.getItem.bind(v))(d.name).then(H=>{if(H)if(typeof H.version=="number"&&H.version!==d.version){if(d.migrate){const j=d.migrate(H.state,H.version);return j instanceof Promise?j.then(P=>[!0,P]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,H.state];return[!1,void 0]}).then(H=>{var j;const[P,O]=H;if(T=d.merge(O,(j=l())!=null?j:S),o(T,!0),P)return w()}).then(()=>{I?.(T,void 0),T=l(),h=!0,b.forEach(H=>H(T))}).catch(H=>{I?.(void 0,H)})};return u.persist={setOptions:M=>{d={...d,...M},M.storage&&(v=M.storage)},clearStorage:()=>{v?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>D(),hasHydrated:()=>h,onHydrate:M=>(p.add(M),()=>{p.delete(M)}),onFinishHydration:M=>(b.add(M),()=>{b.delete(M)})},d.skipHydration||D(),T||S},Jp=TT,Hy={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"야자시",sinsalMode:"classic",sinsalBase:"일지",sinsalBloom:!1,exposure:"원국",charType:"한자",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,theme:"dark",sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility"]},Qn=Qp()(Jp((t,i)=>({settings:Hy,setSettings:o=>t({settings:o}),setKey:(o,l)=>t({settings:{...i().settings,[o]:l}}),reset:()=>t({settings:Hy})}),{name:"settings_v1"}));function Cp(t){const i=In.indexOf(t);if(i!==-1)return In[i];const o=gr.천간.indexOf(t);return o!==-1?In[o]:null}function v_(t){const i=Wn.indexOf(t);if(i!==-1)return Wn[i];const o=gr.지지.indexOf(t);return o!==-1?Wn[o]:null}function Iy(t,i){if(i?.difficultyMode)return i?.theme==="light"?"bg-white border border-gray-300 text-gray-800 text-black":"bg-white text-black";switch(t){case"목":return"bg-green-600";case"화":return"bg-red-600";case"토":return"bg-yellow-500";case"금":return"bg-gray-400";case"수":return"bg-black";default:return"bg-neutral-700"}}function pr(t,i,o){if(i==="stem"){const l=Cp(t);if(!l)return console.warn("Invalid stem:",t),"bg-neutral-700";const u=In.indexOf(l),d=u>=0?eT[u]:void 0;return Iy(d,o)}else{const l=v_(t);if(!l)return console.warn("Invalid branch:",t),"bg-neutral-700";const u=Wn.indexOf(l),d=u>=0?nT[u]:void 0;return Iy(d,o)}}function Hn(t,i){const o=Cp(t);if(!o)throw new Error(`getSipSin: invalid dayStem ${t}`);if(i.stem){const l=Cp(i.stem);if(!l)throw new Error(`getSipSin: invalid stem ${i.stem}`);return oT[o][l]}if(i.branch){const l=v_(i.branch);if(!l)throw new Error(`getSipSin: invalid branch ${i.branch}`);return sT[o][l]}throw new Error("getSipSin: stem or branch required")}const ET={자:["임","(-)","계"],축:["계","신","기"],인:["무","병","갑"],묘:["갑","(-)","을"],진:["을","계","무"],사:["무","경","병"],오:["병","기","정"],미:["정","을","기"],신:["무","임","경"],유:["경","(-)","신"],술:["신","정","무"],해:["무","갑","임"]},NT={자:["(-)","(-)","계"],축:["계","신","기"],인:["(-)","병","갑"],묘:["(-)","(-)","을"],진:["을","계","무"],사:["(-)","경","병"],오:["(-)","(-)","정"],미:["정","을","기"],신:["(-)","임","경"],유:["(-)","(-)","신"],술:["신","정","무"],해:["(-)","갑","임"]};function xc({branch:t,dayStem:i,mode:o="all",mapping:l="classic",variant:u="auto"}){const d=(l==="hgc"?NT:ET)[t]??[],h=o==="main"?[d[2]]:d,p=u==="white",b=p?"text-white":"text-neutral-800 dark:text-white",v=p?"border-white":"border-neutral-800 dark: border-neutral-200",w=p?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:h.map((_,S)=>_==="(-)"?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap`,children:"(-) (없음)"},S):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${v} ${b} rounded text-center text-nowrap 
            ${o==="main"||S===2?`jeonggi bg-neutral-500/50 ${w} font-bold`:""}`,children:[_," (",Hn(i,{stem:_}),")"]},S))})}const t0={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},x_=Object.fromEntries(Object.entries(t0).map(([t,i])=>[i,t])),e0={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},__=Object.fromEntries(Object.entries(e0).map(([t,i])=>[i,t]));function $y(t){return Lr.천간.includes(t)}function Uy(t){return Lr.지지.includes(t)}function MT(t){return gr.천간.includes(t)}function DT(t){return gr.지지.includes(t)}function Gy(t,i,o){return o==="한글"?i==="stem"?t0[t]??t:e0[t]??t:i==="stem"?x_[t]??t:__[t]??t}function Zy(t){const i=x_[t]??t;return MT(i)?i:"갑"}function AT(t){const i=__[t]??t;return DT(i)?i:"자"}function jT(t){if($y(t))return t;const i=t0[t]??t;return $y(i)?i:"갑"}function kT(t){if(Uy(t))return t;const i=e0[t]??t;return Uy(i)?i:"자"}const OT=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),CT=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]),LT=t=>OT.has(t),BT=t=>CT.has(t);function Po({label:t,gz:i,dayStem:o,settings:l,unseongText:u,shinsalText:d,hideBranchSipSin:h=!0,hideHiddenStems:p=!1,size:b="sm",variant:v="auto"}){const w=i.charAt(0),_=i.charAt(1),S=Gy(w,"stem",l.charType),T=Gy(_,"branch",l.charType),D=Zy(w),M=AT(_),k=Zy(o),I=kT(_),H=jT(o),j=l.showSipSin?Hn(k,{stem:D}):null,P=!h&&l.showSipSin?Hn(k,{branch:M}):null,O=l.thinEum&&LT(w)?"font-thin":"font-bold",K=l.thinEum&&BT(_)?"font-thin":"font-bold",W={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},Q=!p&&!!l.hiddenStem,et=l.hiddenStem==="regular"?"main":"all",nt=l.hiddenStemMode==="hgc"?"hgc":"classic",Y=v==="white",U=Y?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",tt=Y?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",st=Y?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",yt=Y?"text-neutral-500":"text-neutral-400",F=Y?"text-neutral-500":"text-neutral-400",{settings:ut}=Qn(),dt=Y?`bg-white ${st}`:`${pr(D,"stem",ut)} ${st}`,Z=ut.difficultyMode?ut.theme==="light"?"text-neutral-900":"text-black":"text-white",B=Y?`bg-white ${st}`:`${pr(M,"branch",ut)} ${st}`,A=ut.difficultyMode?ut.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${U}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${tt} text-nowrap`,children:t}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[j&&g.jsx("div",{className:`text-[10px] desk:text-xs ${yt} text-nowrap`,children:j}),g.jsx("div",{className:`${W[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${dt}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${Z} ${O}`,children:S})}),g.jsx("div",{className:`${W[b]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${A} ${K}`,children:T})}),Q&&g.jsx(xc,{branch:I,dayStem:H,mode:et,mapping:nt}),P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${F}`,children:P}),l.showSibiUnseong&&!!u&&g.jsx("div",{className:`text-[10px] desk:text-xs ${F} text-nowrap`,children:u}),l.showSibiSinsal&&!!d&&g.jsx("div",{className:`text-[10px] desk:text-xs ${F} text-nowrap`,children:d})]})]})}const RT=new Set(gr.천간);function PT(t){return _f.has(t)?t:RT.has(t)?Sf[t]:"갑"}function zT({label:t,settings:i,hideBranchSipSin:o=!0}){const l=i.showSipSin,u=!!i.hiddenStem,h=(i.hiddenStem==="regular"?"main":"all")==="main"?1:3,p=i.showSipSin&&!o;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:t}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),u&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:h}).map((b,v)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},v))}),p&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function HT(){const t=Qn(D=>D.settings),[i,o]=R.useState(new Date),[l,u]=R.useState(!0),[d,h]=R.useState("조자시"),[p,b]=R.useState(!1);R.useEffect(()=>{if(!l)return;const D=setInterval(()=>o(new Date),1e3);return()=>clearInterval(D)},[l]);const v=Se(i),w=rn(i),_=He(i,d),S=Rr(i,"조자시"),T=PT(_.charAt(0));return g.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:["오늘의 사주"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",l?"실시간":"수동선택",") ",UT(i)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:d,onChange:D=>h(D.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"야자시",children:"야자시 (전날 23시)"}),g.jsx("option",{value:"조자시",children:"조자시 (자정)"}),g.jsx("option",{value:"인시",children:"인시 (새벽 3시)"})]}),g.jsx("button",{onClick:()=>u(!l),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:l?"피커 사용":"타이머 사용"})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[p?g.jsx(zT,{label:"시주",settings:t,hideBranchSipSin:!0}):g.jsx(Po,{label:"시주",gz:S,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Po,{label:"일주",gz:_,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Po,{label:"월주",gz:w,dayStem:T,settings:t,hideBranchSipSin:!0}),g.jsx(Po,{label:"연주",gz:v,dayStem:T,settings:t,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:IT(i),disabled:l,onChange:D=>{const M=$T(D.target.value);M&&o(M)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>b(D=>!D),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${p?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"시주 글자를 비우고 박스를 흰색으로 표시합니다",children:p?"시주 표시":"시주 비우기"})]})]})})}function IT(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function $T(t){if(!t)return null;const[i,o]=t.split("T");if(!i||!o)return null;const[l,u,d]=i.split("-").map(Number),[h,p]=o.split(":").map(Number),b=new Date(l,u-1,d,h,p);return Number.isNaN(b.getTime())?null:b}function UT(t){const i=o=>o.toString().padStart(2,"0");return`${i(t.getHours())}:${i(t.getMinutes())}:${i(t.getSeconds())}`}const _n=[];for(let t=0;t<256;++t)_n.push((t+256).toString(16).slice(1));function GT(t,i=0){return(_n[t[i+0]]+_n[t[i+1]]+_n[t[i+2]]+_n[t[i+3]]+"-"+_n[t[i+4]]+_n[t[i+5]]+"-"+_n[t[i+6]]+_n[t[i+7]]+"-"+_n[t[i+8]]+_n[t[i+9]]+"-"+_n[t[i+10]]+_n[t[i+11]]+_n[t[i+12]]+_n[t[i+13]]+_n[t[i+14]]+_n[t[i+15]]).toLowerCase()}let Im;const ZT=new Uint8Array(16);function YT(){if(!Im){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Im=crypto.getRandomValues.bind(crypto)}return Im(ZT)}const qT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yy={randomUUID:qT};function S_(t,i,o){if(Yy.randomUUID&&!t)return Yy.randomUUID();t=t||{};const l=t.random??t.rng?.()??YT();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,GT(l)}var _c={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var VT=_c.exports,qy;function FT(){return qy||(qy=1,(function(t,i){(function(o,l){l(i)})(VT,(function(o){var l="1.9.4";function u(r){var s,f,x,E;for(f=1,x=arguments.length;f<x;f++){E=arguments[f];for(s in E)r[s]=E[s]}return r}var d=Object.create||(function(){function r(){}return function(s){return r.prototype=s,new r}})();function h(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var x=f.call(arguments,2);return function(){return r.apply(s,x.length?x.concat(f.call(arguments)):arguments)}}var p=0;function b(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function v(r,s,f){var x,E,C,q;return q=function(){x=!1,E&&(C.apply(f,E),E=!1)},C=function(){x?E=arguments:(r.apply(f,arguments),setTimeout(q,s),x=!0)},C}function w(r,s,f){var x=s[1],E=s[0],C=x-E;return r===x&&f?r:((r-E)%C+C)%C+E}function _(){return!1}function S(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function D(r){return T(r).split(/\s+/)}function M(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function k(r,s,f){var x=[];for(var E in r)x.push(encodeURIComponent(f?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!s||s.indexOf("?")===-1?"?":"&")+x.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function H(r,s){return r.replace(I,function(f,x){var E=s[x];if(E===void 0)throw new Error("No value provided for variable "+f);return typeof E=="function"&&(E=E(s)),E})}var j=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function P(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var W=0;function Q(r){var s=+new Date,f=Math.max(0,16-(s-W));return W=s+f,window.setTimeout(r,f)}var et=window.requestAnimationFrame||K("RequestAnimationFrame")||Q,nt=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Y(r,s,f){if(f&&et===Q)r.call(s);else return et.call(window,h(r,s))}function U(r){r&&nt.call(window,r)}var tt={__proto__:null,extend:u,create:d,bind:h,get lastId(){return p},stamp:b,throttle:v,wrapNum:w,falseFn:_,formatNum:S,trim:T,splitWords:D,setOptions:M,getParamString:k,template:H,isArray:j,indexOf:P,emptyImageUrl:O,requestFn:et,cancelFn:nt,requestAnimFrame:Y,cancelAnimFrame:U};function st(){}st.extend=function(r){var s=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,x=d(f);x.constructor=s,s.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(s[E]=this[E]);return r.statics&&u(s,r.statics),r.includes&&(yt(r.includes),u.apply(null,[x].concat(r.includes))),u(x,r),delete x.statics,delete x.includes,x.options&&(x.options=f.options?d(f.options):{},u(x.options,r.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,q=x._initHooks.length;C<q;C++)x._initHooks[C].call(this)}},s},st.include=function(r){var s=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},st.mergeOptions=function(r){return u(this.prototype.options,r),this},st.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function yt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=j(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(r,s,f){if(typeof r=="object")for(var x in r)this._on(x,r[x],s);else{r=D(r);for(var E=0,C=r.length;E<C;E++)this._on(r[E],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var x in r)this._off(x,r[x],s);else{r=D(r);for(var E=arguments.length===1,C=0,q=r.length;C<q;C++)E?this._off(r[C]):this._off(r[C],s,f)}return this},_on:function(r,s,f,x){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var E={fn:s,ctx:f};x&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,s,f){var x,E,C;if(this._events&&(x=this._events[r],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,C=x.length;E<C;E++)x[E].fn=_;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var q=this._listens(r,s,f);if(q!==!1){var ot=x[q];this._firingCount&&(ot.fn=_,this._events[r]=x=x.slice()),x.splice(q,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var x=u({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var C=0,q=E.length;C<q;C++){var ot=E[C],mt=ot.fn;ot.once&&this.off(r,mt,ot.ctx),mt.call(ot.ctx||this,x)}this._firingCount--}}return f&&this._propagateEvent(x),this},listens:function(r,s,f,x){typeof r!="string"&&console.warn('"string" type argument expected');var E=s;typeof s!="function"&&(x=!!s,E=void 0,f=void 0);var C=this._events&&this._events[r];if(C&&C.length&&this._listens(r,E,f)!==!1)return!0;if(x){for(var q in this._eventParents)if(this._eventParents[q].listens(r,s,f,x))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var x=this._events[r]||[];if(!s)return!!x.length;f===this&&(f=void 0);for(var E=0,C=x.length;E<C;E++)if(x[E].fn===s&&x[E].ctx===f)return E;return!1},once:function(r,s,f){if(typeof r=="object")for(var x in r)this._on(x,r[x],s,!0);else{r=D(r);for(var E=0,C=r.length;E<C;E++)this._on(r[E],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[b(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[b(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var ut=st.extend(F);function dt(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var Z=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(r){return this.clone()._add(B(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(B(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new dt(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new dt(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(r){r=B(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=B(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=B(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function B(r,s,f){return r instanceof dt?r:j(r)?new dt(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new dt(r.x,r.y):new dt(r,s,f)}function A(r,s){if(r)for(var f=s?[r,s]:r,x=0,E=f.length;x<E;x++)this.extend(f[x])}A.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof dt||typeof r[0]=="number"||"x"in r)s=f=B(r);else if(r=$(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof dt?r=B(r):r=$(r),r instanceof A?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=$(r);var s=this.min,f=this.max,x=r.min,E=r.max,C=E.x>=s.x&&x.x<=f.x,q=E.y>=s.y&&x.y<=f.y;return C&&q},overlaps:function(r){r=$(r);var s=this.min,f=this.max,x=r.min,E=r.max,C=E.x>s.x&&x.x<f.x,q=E.y>s.y&&x.y<f.y;return C&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,x=Math.abs(s.x-f.x)*r,E=Math.abs(s.y-f.y)*r;return $(B(s.x-x,s.y-E),B(f.x+x,f.y+E))},equals:function(r){return r?(r=$(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function $(r,s){return!r||r instanceof A?r:new A(r,s)}function G(r,s){if(r)for(var f=s?[r,s]:r,x=0,E=f.length;x<E;x++)this.extend(f[x])}G.prototype={extend:function(r){var s=this._southWest,f=this._northEast,x,E;if(r instanceof at)x=r,E=r;else if(r instanceof G){if(x=r._southWest,E=r._northEast,!x||!E)return this}else return r?this.extend(rt(r)||X(r)):this;return!s&&!f?(this._southWest=new at(x.lat,x.lng),this._northEast=new at(E.lat,E.lng)):(s.lat=Math.min(x.lat,s.lat),s.lng=Math.min(x.lng,s.lng),f.lat=Math.max(E.lat,f.lat),f.lng=Math.max(E.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,x=Math.abs(s.lat-f.lat)*r,E=Math.abs(s.lng-f.lng)*r;return new G(new at(s.lat-x,s.lng-E),new at(f.lat+x,f.lng+E))},getCenter:function(){return new at((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new at(this.getNorth(),this.getWest())},getSouthEast:function(){return new at(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof at||"lat"in r?r=rt(r):r=X(r);var s=this._southWest,f=this._northEast,x,E;return r instanceof G?(x=r.getSouthWest(),E=r.getNorthEast()):x=E=r,x.lat>=s.lat&&E.lat<=f.lat&&x.lng>=s.lng&&E.lng<=f.lng},intersects:function(r){r=X(r);var s=this._southWest,f=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),C=E.lat>=s.lat&&x.lat<=f.lat,q=E.lng>=s.lng&&x.lng<=f.lng;return C&&q},overlaps:function(r){r=X(r);var s=this._southWest,f=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),C=E.lat>s.lat&&x.lat<f.lat,q=E.lng>s.lng&&x.lng<f.lng;return C&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=X(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(r,s){return r instanceof G?r:new G(r,s)}function at(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}at.prototype={equals:function(r,s){if(!r)return!1;r=rt(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+S(this.lat,r)+", "+S(this.lng,r)+")"},distanceTo:function(r){return _t.distance(this,rt(r))},wrap:function(){return _t.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return X([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new at(this.lat,this.lng,this.alt)}};function rt(r,s,f){return r instanceof at?r:j(r)&&typeof r[0]!="object"?r.length===3?new at(r[0],r[1],r[2]):r.length===2?new at(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new at(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new at(r,s,f)}var gt={latLngToPoint:function(r,s){var f=this.projection.project(r),x=this.scale(s);return this.transformation._transform(f,x)},pointToLatLng:function(r,s){var f=this.scale(s),x=this.transformation.untransform(r,f);return this.projection.unproject(x)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),x=this.transformation.transform(s.min,f),E=this.transformation.transform(s.max,f);return new A(x,E)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,x=r.alt;return new at(f,s,x)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),x=s.lat-f.lat,E=s.lng-f.lng;if(x===0&&E===0)return r;var C=r.getSouthWest(),q=r.getNorthEast(),ot=new at(C.lat-x,C.lng-E),mt=new at(q.lat-x,q.lng-E);return new G(ot,mt)}},_t=u({},gt,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,x=r.lat*f,E=s.lat*f,C=Math.sin((s.lat-r.lat)*f/2),q=Math.sin((s.lng-r.lng)*f/2),ot=C*C+Math.cos(x)*Math.cos(E)*q*q,mt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*mt}}),Tt=6378137,At={R:Tt,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,x=Math.max(Math.min(f,r.lat),-f),E=Math.sin(x*s);return new dt(this.R*r.lng*s,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var s=180/Math.PI;return new at((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:(function(){var r=Tt*Math.PI;return new A([-r,-r],[r,r])})()};function Kt(r,s,f,x){if(j(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=x}Kt.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new dt((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function Ht(r,s,f,x){return new Kt(r,s,f,x)}var re=u({},_t,{code:"EPSG:3857",projection:At,transformation:(function(){var r=.5/(Math.PI*At.R);return Ht(r,.5,-r,.5)})()}),pe=u({},re,{code:"EPSG:900913"});function We(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Be(r,s){var f="",x,E,C,q,ot,mt;for(x=0,C=r.length;x<C;x++){for(ot=r[x],E=0,q=ot.length;E<q;E++)mt=ot[E],f+=(E?"L":"M")+mt.x+" "+mt.y;f+=s?Bt.svg?"z":"x":""}return f||"M0 0"}var de=document.documentElement.style,Ye="ActiveXObject"in window,wt=Ye&&!document.addEventListener,Et="msLaunchUri"in navigator&&!("documentMode"in document),pt=Zn("webkit"),zt=Zn("android"),jt=Zn("android 2")||Zn("android 3"),Gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ct=zt&&Zn("Google")&&Gt<537&&!("AudioNode"in window),qt=!!window.opera,ne=!Et&&Zn("chrome"),De=Zn("gecko")&&!pt&&!qt&&!Ye,we=!ne&&Zn("safari"),zr=Zn("phantom"),ei="OTransition"in de,Wi=navigator.platform.indexOf("Win")===0,Hr=Ye&&"transition"in de,$n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!jt,mn="MozPerspective"in de,Ir=!window.L_DISABLE_3D&&(Hr||$n||mn)&&!ei&&!zr,Un=typeof orientation<"u"||Zn("mobile"),nl=Un&&pt,Qa=Un&&$n,$r=!window.PointerEvent&&window.MSPointerEvent,Gn=!!(window.PointerEvent||$r),gi="ontouchstart"in window||!!window.TouchEvent,rl=!window.L_NO_TOUCH&&(gi||Gn),Ja=Un&&qt,Zc=Un&&De,il=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,al=(function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return r})(),Yc=(function(){return!!document.createElement("canvas").getContext})(),ol=!!(document.createElementNS&&We("svg").createSVGRect),ni=!!ol&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),an=!ol&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),wn=navigator.platform.indexOf("Mac")===0,Qi=navigator.platform.indexOf("Linux")===0;function Zn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Bt={ie:Ye,ielt9:wt,edge:Et,webkit:pt,android:zt,android23:jt,androidStock:Ct,opera:qt,chrome:ne,gecko:De,safari:we,phantom:zr,opera12:ei,win:Wi,ie3d:Hr,webkit3d:$n,gecko3d:mn,any3d:Ir,mobile:Un,mobileWebkit:nl,mobileWebkit3d:Qa,msPointer:$r,pointer:Gn,touch:rl,touchNative:gi,mobileOpera:Ja,mobileGecko:Zc,retina:il,passiveEvents:al,canvas:Yc,svg:ol,vml:an,inlineSvg:ni,mac:wn,linux:Qi},qc=Bt.msPointer?"MSPointerDown":"pointerdown",sl=Bt.msPointer?"MSPointerMove":"pointermove",Ji=Bt.msPointer?"MSPointerUp":"pointerup",Go=Bt.msPointer?"MSPointerCancel":"pointercancel",ri={touchstart:qc,touchmove:sl,touchend:Ji,touchcancel:Go},bi={touchstart:Kc,touchmove:to,touchend:to,touchcancel:to},br={},yi=!1;function Fe(r,s,f){return s==="touchstart"&&Gf(),bi[s]?(f=bi[s].bind(this,f),r.addEventListener(ri[s],f,!1),f):(console.warn("wrong event specified:",s),_)}function Vc(r,s,f){if(!ri[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(ri[s],f,!1)}function Fc(r){br[r.pointerId]=r}function vi(r){br[r.pointerId]&&(br[r.pointerId]=r)}function xi(r){delete br[r.pointerId]}function Gf(){yi||(document.addEventListener(qc,Fc,!0),document.addEventListener(sl,vi,!0),document.addEventListener(Ji,xi,!0),document.addEventListener(Go,xi,!0),yi=!0)}function to(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in br)s.touches.push(br[f]);s.changedTouches=[s],r(s)}}function Kc(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ue(s),to(r,s)}function Zf(r){var s={},f,x;for(x in r)f=r[x],s[x]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Zo=200;function Yo(r,s){r.addEventListener("dblclick",s);var f=0,x;function E(C){if(C.detail!==1){x=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var q=ul(C);if(!(q.some(function(mt){return mt instanceof HTMLLabelElement&&mt.attributes.for})&&!q.some(function(mt){return mt instanceof HTMLInputElement||mt instanceof HTMLSelectElement}))){var ot=Date.now();ot-f<=Zo?(x++,x===2&&s(Zf(C))):x=1,f=ot}}}return r.addEventListener("click",E),{dblclick:s,simDblclick:E}}function Ur(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var eo=ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ta=ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_i=ta==="webkitTransition"||ta==="OTransition"?ta+"End":"transitionend";function qo(r){return typeof r=="string"?document.getElementById(r):r}function Si(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(r,null);f=x?x[s]:null}return f==="auto"?null:f}function ie(r,s,f){var x=document.createElement(r);return x.className=s||"",f&&f.appendChild(x),x}function Te(r){var s=r.parentNode;s&&s.removeChild(r)}function pn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function wi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function ea(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function na(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=gn(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function Vt(r,s){if(r.classList!==void 0)for(var f=D(s),x=0,E=f.length;x<E;x++)r.classList.add(f[x]);else if(!na(r,s)){var C=gn(r);ll(r,(C?C+" ":"")+s)}}function Ee(r,s){r.classList!==void 0?r.classList.remove(s):ll(r,T((" "+gn(r)+" ").replace(" "+s+" "," ")))}function ll(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function gn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Tn(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Xc(r,s)}function Xc(r,s){var f=!1,x="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(x)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+x+"(opacity="+s+")"}function ra(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function Yn(r,s,f){var x=s||new dt(0,0);r.style[eo]=(Bt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(f?" scale("+f+")":"")}function Re(r,s){r._leaflet_pos=s,Bt.any3d?Yn(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function ii(r){return r._leaflet_pos||new dt(0,0)}var yr,no,Vo;if("onselectstart"in document)yr=function(){Yt(window,"selectstart",Ue)},no=function(){le(window,"selectstart",Ue)};else{var ia=ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yr=function(){if(ia){var r=document.documentElement.style;Vo=r[ia],r[ia]="none"}},no=function(){ia&&(document.documentElement.style[ia]=Vo,Vo=void 0)}}function ro(){Yt(window,"dragstart",Ue)}function cl(){le(window,"dragstart",Ue)}var Fo,aa;function io(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(oa(),Fo=r,aa=r.style.outlineStyle,r.style.outlineStyle="none",Yt(window,"keydown",oa))}function oa(){Fo&&(Fo.style.outlineStyle=aa,Fo=void 0,aa=void 0,le(window,"keydown",oa))}function Ti(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ai(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Wc={__proto__:null,TRANSFORM:eo,TRANSITION:ta,TRANSITION_END:_i,get:qo,getStyle:Si,create:ie,remove:Te,empty:pn,toFront:wi,toBack:ea,hasClass:na,addClass:Vt,removeClass:Ee,setClass:ll,getClass:gn,setOpacity:Tn,testProp:ra,setTransform:Yn,setPosition:Re,getPosition:ii,get disableTextSelection(){return yr},get enableTextSelection(){return no},disableImageDrag:ro,enableImageDrag:cl,preventOutline:io,restoreOutline:oa,getSizedParentNode:Ti,getScale:ai};function Yt(r,s,f,x){if(s&&typeof s=="object")for(var E in s)Ei(r,E,s[E],f);else{s=D(s);for(var C=0,q=s.length;C<q;C++)Ei(r,s[C],f,x)}return this}var Jn="_leaflet_events";function le(r,s,f,x){if(arguments.length===1)vr(r),delete r[Jn];else if(s&&typeof s=="object")for(var E in s)xr(r,E,s[E],f);else if(s=D(s),arguments.length===2)vr(r,function(ot){return P(s,ot)!==-1});else for(var C=0,q=s.length;C<q;C++)xr(r,s[C],f,x);return this}function vr(r,s){for(var f in r[Jn]){var x=f.split(/\d/)[0];(!s||s(x))&&xr(r,x,null,null,f)}}var ao={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ei(r,s,f,x){var E=s+b(f)+(x?"_"+b(x):"");if(r[Jn]&&r[Jn][E])return this;var C=function(ot){return f.call(x||r,ot||window.event)},q=C;!Bt.touchNative&&Bt.pointer&&s.indexOf("touch")===0?C=Fe(r,s,C):Bt.touch&&s==="dblclick"?C=Yo(r,C):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(ao[s]||s,C,Bt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(C=function(ot){ot=ot||window.event,Mi(r,ot)&&q(ot)},r.addEventListener(ao[s],C,!1)):r.addEventListener(s,q,!1):r.attachEvent("on"+s,C),r[Jn]=r[Jn]||{},r[Jn][E]=C}function xr(r,s,f,x,E){E=E||s+b(f)+(x?"_"+b(x):"");var C=r[Jn]&&r[Jn][E];if(!C)return this;!Bt.touchNative&&Bt.pointer&&s.indexOf("touch")===0?Vc(r,s,C):Bt.touch&&s==="dblclick"?Ur(r,C):"removeEventListener"in r?r.removeEventListener(ao[s]||s,C,!1):r.detachEvent("on"+s,C),r[Jn][E]=null}function Gr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function sa(r){return Ei(r,"wheel",Gr),this}function la(r){return Yt(r,"mousedown touchstart dblclick contextmenu",Gr),r._leaflet_disable_click=!0,this}function Ue(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function _r(r){return Ue(r),Gr(r),this}function ul(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function bn(r,s){if(!s)return new dt(r.clientX,r.clientY);var f=ai(s),x=f.boundingClientRect;return new dt((r.clientX-x.left)/f.x-s.clientLeft,(r.clientY-x.top)/f.y-s.clientTop)}var Ni=Bt.linux&&Bt.chrome?window.devicePixelRatio:Bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function oo(r){return Bt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ni:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Mi(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Yf={__proto__:null,on:Yt,off:le,stopPropagation:Gr,disableScrollPropagation:sa,disableClickPropagation:la,preventDefault:Ue,stop:_r,getPropagationPath:ul,getMousePosition:bn,getWheelDelta:oo,isExternalTarget:Mi,addListener:Yt,removeListener:le},Ko=ut.extend({run:function(r,s,f,x){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ii(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),Re(this._el,f),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Wt=ut.extend({options:{crs:re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=M(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(rt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ta&&Bt.any3d&&!Bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Yt(this._proxy,_i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(rt(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=u({animate:f.animate},f.zoom),f.pan=u({animate:f.animate,duration:f.duration},f.pan));var x=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var x=this.getZoomScale(s),E=this.getSize().divideBy(2),C=r instanceof dt?r:this.latLngToContainerPoint(r),q=C.subtract(E).multiplyBy(1-1/x),ot=this.containerPointToLatLng(E.add(q));return this.setView(ot,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():X(r);var f=B(s.paddingTopLeft||s.padding||[0,0]),x=B(s.paddingBottomRight||s.padding||[0,0]),E=this.getBoundsZoom(r,!1,f.add(x));if(E=typeof s.maxZoom=="number"?Math.min(s.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var C=x.subtract(f).divideBy(2),q=this.project(r.getSouthWest(),E),ot=this.project(r.getNorthEast(),E),mt=this.unproject(q.add(ot).divideBy(2).add(C),E);return{center:mt,zoom:E}},fitBounds:function(r,s){if(r=X(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=B(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ko,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Vt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!Bt.any3d)return this.setView(r,s,f);this._stop();var x=this.project(this.getCenter()),E=this.project(r),C=this.getSize(),q=this._zoom;r=rt(r),s=s===void 0?q:s;var ot=Math.max(C.x,C.y),mt=ot*this.getZoomScale(q,s),St=E.distanceTo(x)||1,Dt=1.42,kt=Dt*Dt;function Lt(Oe){var Tr=Oe?-1:1,qr=Oe?mt:ot,ui=mt*mt-ot*ot+Tr*kt*kt*St*St,Vr=2*qr*kt*St,xo=ui/Vr,ls=Math.sqrt(xo*xo+1)-xo,_o=ls<1e-9?-18:Math.log(ls);return _o}function Zt(Oe){return(Math.exp(Oe)-Math.exp(-Oe))/2}function Ne(Oe){return(Math.exp(Oe)+Math.exp(-Oe))/2}function Pe(Oe){return Zt(Oe)/Ne(Oe)}var sn=Lt(0);function qn(Oe){return ot*(Ne(sn)/Ne(sn+Dt*Oe))}function gu(Oe){return ot*(Ne(sn)*Pe(sn+Dt*Oe)-Zt(sn))/kt}function bu(Oe){return 1-Math.pow(1-Oe,1.5)}var vo=Date.now(),xa=(Lt(1)-sn)/Dt,yu=f.duration?1e3*f.duration:1e3*xa*.8;function _a(){var Oe=(Date.now()-vo)/yu,Tr=bu(Oe)*xa;Oe<=1?(this._flyToFrame=Y(_a,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(gu(Tr)/St)),q),this.getScaleZoom(ot/qn(Tr),q),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),_a.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=X(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),x=this._limitCenter(f,this._zoom,X(r));return f.equals(x)||this.panTo(x,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=B(s.paddingTopLeft||s.padding||[0,0]),x=B(s.paddingBottomRight||s.padding||[0,0]),E=this.project(this.getCenter()),C=this.project(r),q=this.getPixelBounds(),ot=$([q.min.add(f),q.max.subtract(x)]),mt=ot.getSize();if(!ot.contains(C)){this._enforcingBounds=!0;var St=C.subtract(ot.getCenter()),Dt=ot.extend(C).getSize().subtract(mt);E.x+=St.x<0?-Dt.x:Dt.x,E.y+=St.y<0?-Dt.y:Dt.y,this.panTo(this.unproject(E),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),x=s.divideBy(2).round(),E=f.divideBy(2).round(),C=x.subtract(E);return!C.x&&!C.y?this:(r.animate&&r.pan?this.panBy(C):(r.pan&&this._rawPanBy(C),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=h(this._handleGeolocationResponse,this),f=h(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,x=new at(s,f),E=x.toBounds(r.coords.accuracy*2),C=this._locateOptions;if(C.setView){var q=this.getBoundsZoom(E);this.setView(x,C.maxZoom?Math.min(q,C.maxZoom):q)}var ot={latlng:x,bounds:E,timestamp:r.timestamp};for(var mt in r.coords)typeof r.coords[mt]=="number"&&(ot[mt]=r.coords[mt]);this.fire("locationfound",ot)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Te(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),x=ie("div",f,s||this._mapPane);return r&&(this._panes[r]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new G(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=X(r),f=B(f||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),C=this.getMaxZoom(),q=r.getNorthWest(),ot=r.getSouthEast(),mt=this.getSize().subtract(f),St=$(this.project(ot,x),this.project(q,x)).getSize(),Dt=Bt.any3d?this.options.zoomSnap:1,kt=mt.x/St.x,Lt=mt.y/St.y,Zt=s?Math.max(kt,Lt):Math.min(kt,Lt);return x=this.getScaleZoom(Zt,x),Dt&&(x=Math.round(x/(Dt/100))*(Dt/100),x=s?Math.ceil(x/Dt)*Dt:Math.floor(x/Dt)*Dt),Math.max(E,Math.min(C,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new A(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var x=f.zoom(r*f.scale(s));return isNaN(x)?1/0:x},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(rt(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(B(r),s)},layerPointToLatLng:function(r){var s=B(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(rt(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(rt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(X(r))},distance:function(r,s){return this.options.crs.distance(rt(r),rt(s))},containerPointToLayerPoint:function(r){return B(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return B(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(B(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(rt(r)))},mouseEventToContainerPoint:function(r){return bn(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=qo(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Yt(s,"scroll",this._onScroll,this),this._containerId=b(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Bt.any3d,Vt(r,"leaflet-container"+(Bt.touch?" leaflet-touch":"")+(Bt.retina?" leaflet-retina":"")+(Bt.ielt9?" leaflet-oldie":"")+(Bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Si(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Re(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Vt(r.markerPane,"leaflet-zoom-hide"),Vt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){Re(this._mapPane,new dt(0,0));var x=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var E=this._zoom!==s;this._moveStart(E,f)._move(r,s)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,x){s===void 0&&(s=this._zoom);var E=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),x?f&&f.pinch&&this.fire("zoom",f):((E||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Re(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[b(this._container)]=this;var s=r?le:Yt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Bt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],x,E=s==="mouseout"||s==="mouseover",C=r.target||r.srcElement,q=!1;C;){if(x=this._targets[b(C)],x&&(s==="click"||s==="preclick")&&this._draggableMoved(x)){q=!0;break}if(x&&x.listens(s,!0)&&(E&&!Mi(C,r)||(f.push(x),E))||C===this._container)break;C=C.parentNode}return!f.length&&!q&&!E&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&io(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var x=u({},r);x.type="preclick",this._fireDOMEvent(x,x.type,f)}var E=this._findEventTargets(r,s);if(f){for(var C=[],q=0;q<f.length;q++)f[q].listens(s,!0)&&C.push(f[q]);E=C.concat(E)}if(E.length){s==="contextmenu"&&Ue(r);var ot=E[0],mt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var St=ot.getLatLng&&(!ot._radius||ot._radius<=10);mt.containerPoint=St?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(r),mt.layerPoint=this.containerPointToLayerPoint(mt.containerPoint),mt.latlng=St?ot.getLatLng():this.layerPointToLatLng(mt.layerPoint)}for(q=0;q<E.length;q++)if(E[q].fire(s,mt,!0),mt.originalEvent._stopped||E[q].options.bubblingMouseEvents===!1&&P(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return ii(this._mapPane)||new dt(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var x=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(x)},_latLngBoundsToNewLayerBounds:function(r,s,f){var x=this._getNewPixelOrigin(f,s);return $([this.project(r.getSouthWest(),s)._subtract(x),this.project(r.getNorthWest(),s)._subtract(x),this.project(r.getSouthEast(),s)._subtract(x),this.project(r.getNorthEast(),s)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var x=this.project(r,s),E=this.getSize().divideBy(2),C=new A(x.subtract(E),x.add(E)),q=this._getBoundsOffset(C,f,s);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?r:this.unproject(x.add(q),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),x=new A(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(x,s))},_getBoundsOffset:function(r,s,f){var x=$(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),E=x.min.subtract(r.min),C=x.max.subtract(r.max),q=this._rebound(E.x,-C.x),ot=this._rebound(E.y,-C.y);return new dt(q,ot)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),x=Bt.any3d?this.options.zoomSnap:1;return x&&(r=Math.round(r/x)*x),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=eo,x=this._proxy.style[f];Yn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),x===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Yn(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(s),E=this._getCenterOffset(r)._divideBy(1-1/x);return f.animate!==!0&&!this.getSize().contains(E)?!1:(Y(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,x){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,Vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function so(r,s){return new Wt(r,s)}var En=st.extend({options:{position:"topright"},initialize:function(r){M(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),x=r._controlCorners[f];return Vt(s,"leaflet-control"),f.indexOf("bottom")!==-1?x.insertBefore(s,x.firstChild):x.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ca=function(r){return new En(r)};Wt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=ie("div",s+"control-container",this._container);function x(E,C){var q=s+E+" "+s+C;r[E+C]=ie("div",q,f)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Te(this._controlCorners[r]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qc=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,x){return f<x?-1:x<f?1:0}},initialize:function(r,s,f){M(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in r)this._addLayer(r[x],x);for(x in s)this._addLayer(s[x],x,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return En.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(b(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=ie("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),la(s),sa(s);var x=this._section=ie("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Yt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=ie("a",r+"-toggle",s);E.href="#",E.title="Layers",E.setAttribute("role","button"),Yt(E,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Ue(C),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ie("div",r+"-base",x),this._separator=ie("div",r+"-separator",x),this._overlaysList=ie("div",r+"-overlays",x),s.appendChild(x)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&b(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(h(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var r,s,f,x,E=0;for(f=0;f<this._layers.length;f++)x=this._layers[f],this._addItem(x),s=s||x.overlay,r=r||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(b(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=f,x.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),x;r.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=f):x=this._createRadioElement("leaflet-base-layers_"+b(this),f),this._layerControlInputs.push(x),x.layerId=b(r.layer),Yt(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var C=document.createElement("span");s.appendChild(C),C.appendChild(x),C.appendChild(E);var q=r.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,x=[],E=[];this._handlingClick=!0;for(var C=r.length-1;C>=0;C--)s=r[C],f=this._getLayer(s.layerId).layer,s.checked?x.push(f):s.checked||E.push(f);for(C=0;C<E.length;C++)this._map.hasLayer(E[C])&&this._map.removeLayer(E[C]);for(C=0;C<x.length;C++)this._map.hasLayer(x[C])||this._map.addLayer(x[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,x=this._map.getZoom(),E=r.length-1;E>=0;E--)s=r[E],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&x<f.options.minZoom||f.options.maxZoom!==void 0&&x>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Yt(r,"click",Ue),this.expand();var s=this;setTimeout(function(){le(r,"click",Ue),s._preventClick=!1})}}),qf=function(r,s,f){return new Qc(r,s,f)},dl=En.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=ie("div",s+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,x,E){var C=ie("a",f,x);return C.innerHTML=r,C.href="#",C.title=s,C.setAttribute("role","button"),C.setAttribute("aria-label",s),la(C),Yt(C,"click",_r),Yt(C,"click",E,this),Yt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Ee(this._zoomInButton,s),Ee(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Vt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Vt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dl,this.addControl(this.zoomControl))});var fl=function(r){return new dl(r)},Jc=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=ie("div",s),x=this.options;return this._addScales(x,s+"-line",f),r.on(x.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=ie("div",s,f)),r.imperial&&(this._iScale=ie("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,x,E;s>5280?(f=s/5280,x=this._getRoundNum(f),this._updateScale(this._iScale,x+" mi",x/f)):(E=this._getRoundNum(s),this._updateScale(this._iScale,E+" ft",E/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),Vf=function(r){return new Jc(r)},Ff='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hl=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Bt.inlineSvg?Ff+" ":"")+"Leaflet</a>"},initialize:function(r){M(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),la(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new hl().addTo(this)});var Kf=function(r){return new hl(r)};En.Layers=Qc,En.Zoom=dl,En.Scale=Jc,En.Attribution=hl,ca.layers=qf,ca.zoom=fl,ca.scale=Vf,ca.attribution=Kf;var tr=st.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tr.addTo=function(r,s){return r.addHandler(s,this),this};var Xf={Events:F},tu=Bt.touch?"touchstart mousedown":"mousedown",oi=ut.extend({options:{clickTolerance:3},initialize:function(r,s,f,x){M(this,x),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(Yt(this._dragStartTarget,tu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oi._dragging===this&&this.finishDrag(!0),le(this._dragStartTarget,tu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!na(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){oi._dragging===this&&this.finishDrag();return}if(!(oi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(oi._dragging=this,this._preventOutline&&io(this._element),ro(),yr(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=Ti(this._element);this._startPoint=new dt(s.clientX,s.clientY),this._startPos=ii(this._element),this._parentScale=ai(f);var x=r.type==="mousedown";Yt(document,x?"mousemove":"touchmove",this._onMove,this),Yt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new dt(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Ue(r),this._moved||(this.fire("dragstart"),this._moved=!0,Vt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Re(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),le(document,"mousemove touchmove",this._onMove,this),le(document,"mouseup touchend touchcancel",this._onUp,this),cl(),no();var s=this._moved&&this._moving;this._moving=!1,oi._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function eu(r,s,f){var x,E=[1,4,2,8],C,q,ot,mt,St,Dt,kt,Lt;for(C=0,Dt=r.length;C<Dt;C++)r[C]._code=Di(r[C],s);for(ot=0;ot<4;ot++){for(kt=E[ot],x=[],C=0,Dt=r.length,q=Dt-1;C<Dt;q=C++)mt=r[C],St=r[q],mt._code&kt?St._code&kt||(Lt=Wo(St,mt,kt,s,f),Lt._code=Di(Lt,s),x.push(Lt)):(St._code&kt&&(Lt=Wo(St,mt,kt,s,f),Lt._code=Di(Lt,s),x.push(Lt)),x.push(mt));r=x}return r}function Xo(r,s){var f,x,E,C,q,ot,mt,St,Dt;if(!r||r.length===0)throw new Error("latlngs not passed");on(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var kt=rt([0,0]),Lt=X(r),Zt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Zt<1700&&(kt=ml(r));var Ne=r.length,Pe=[];for(f=0;f<Ne;f++){var sn=rt(r[f]);Pe.push(s.project(rt([sn.lat-kt.lat,sn.lng-kt.lng])))}for(ot=mt=St=0,f=0,x=Ne-1;f<Ne;x=f++)E=Pe[f],C=Pe[x],q=E.y*C.x-C.y*E.x,mt+=(E.x+C.x)*q,St+=(E.y+C.y)*q,ot+=q*3;ot===0?Dt=Pe[0]:Dt=[mt/ot,St/ot];var qn=s.unproject(B(Dt));return rt([qn.lat+kt.lat,qn.lng+kt.lng])}function ml(r){for(var s=0,f=0,x=0,E=0;E<r.length;E++){var C=rt(r[E]);s+=C.lat,f+=C.lng,x++}return rt([s/x,f/x])}var Wf={__proto__:null,clipPolygon:eu,polygonCenter:Xo,centroid:ml};function nu(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=th(r,f),r=Jf(r,f),r}function pl(r,s,f){return Math.sqrt(Ai(r,s,f,!0))}function Qf(r,s,f){return Ai(r,s,f)}function Jf(r,s){var f=r.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(f);E[0]=E[f-1]=1,gl(r,E,s,0,f-1);var C,q=[];for(C=0;C<f;C++)E[C]&&q.push(r[C]);return q}function gl(r,s,f,x,E){var C=0,q,ot,mt;for(ot=x+1;ot<=E-1;ot++)mt=Ai(r[ot],r[x],r[E],!0),mt>C&&(q=ot,C=mt);C>f&&(s[q]=1,gl(r,s,f,x,q),gl(r,s,f,q,E))}function th(r,s){for(var f=[r[0]],x=1,E=0,C=r.length;x<C;x++)eh(r[x],r[E])>s&&(f.push(r[x]),E=x);return E<C-1&&f.push(r[C-1]),f}var ru;function iu(r,s,f,x,E){var C=x?ru:Di(r,f),q=Di(s,f),ot,mt,St;for(ru=q;;){if(!(C|q))return[r,s];if(C&q)return!1;ot=C||q,mt=Wo(r,s,ot,f,E),St=Di(mt,f),ot===C?(r=mt,C=St):(s=mt,q=St)}}function Wo(r,s,f,x,E){var C=s.x-r.x,q=s.y-r.y,ot=x.min,mt=x.max,St,Dt;return f&8?(St=r.x+C*(mt.y-r.y)/q,Dt=mt.y):f&4?(St=r.x+C*(ot.y-r.y)/q,Dt=ot.y):f&2?(St=mt.x,Dt=r.y+q*(mt.x-r.x)/C):f&1&&(St=ot.x,Dt=r.y+q*(ot.x-r.x)/C),new dt(St,Dt,E)}function Di(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function eh(r,s){var f=s.x-r.x,x=s.y-r.y;return f*f+x*x}function Ai(r,s,f,x){var E=s.x,C=s.y,q=f.x-E,ot=f.y-C,mt=q*q+ot*ot,St;return mt>0&&(St=((r.x-E)*q+(r.y-C)*ot)/mt,St>1?(E=f.x,C=f.y):St>0&&(E+=q*St,C+=ot*St)),q=r.x-E,ot=r.y-C,x?q*q+ot*ot:new dt(E,C)}function on(r){return!j(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function au(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),on(r)}function bl(r,s){var f,x,E,C,q,ot,mt,St;if(!r||r.length===0)throw new Error("latlngs not passed");on(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Dt=rt([0,0]),kt=X(r),Lt=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Lt<1700&&(Dt=ml(r));var Zt=r.length,Ne=[];for(f=0;f<Zt;f++){var Pe=rt(r[f]);Ne.push(s.project(rt([Pe.lat-Dt.lat,Pe.lng-Dt.lng])))}for(f=0,x=0;f<Zt-1;f++)x+=Ne[f].distanceTo(Ne[f+1])/2;if(x===0)St=Ne[0];else for(f=0,C=0;f<Zt-1;f++)if(q=Ne[f],ot=Ne[f+1],E=q.distanceTo(ot),C+=E,C>x){mt=(C-x)/E,St=[ot.x-mt*(ot.x-q.x),ot.y-mt*(ot.y-q.y)];break}var sn=s.unproject(B(St));return rt([sn.lat+Dt.lat,sn.lng+Dt.lng])}var ou={__proto__:null,simplify:nu,pointToSegmentDistance:pl,closestPointOnSegment:Qf,clipSegment:iu,_getEdgeIntersection:Wo,_getBitCode:Di,_sqClosestPointOnSegment:Ai,isFlat:on,_flat:au,polylineCenter:bl},Qo={project:function(r){return new dt(r.lng,r.lat)},unproject:function(r){return new at(r.y,r.x)},bounds:new A([-180,-90],[180,90])},Jo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,x=r.lat*s,E=this.R_MINOR/f,C=Math.sqrt(1-E*E),q=C*Math.sin(x),ot=Math.tan(Math.PI/4-x/2)/Math.pow((1-q)/(1+q),C/2);return x=-f*Math.log(Math.max(ot,1e-10)),new dt(r.lng*s*f,x)},unproject:function(r){for(var s=180/Math.PI,f=this.R,x=this.R_MINOR/f,E=Math.sqrt(1-x*x),C=Math.exp(-r.y/f),q=Math.PI/2-2*Math.atan(C),ot=0,mt=.1,St;ot<15&&Math.abs(mt)>1e-7;ot++)St=E*Math.sin(q),St=Math.pow((1-St)/(1+St),E/2),mt=Math.PI/2-2*Math.atan(C*St)-q,q+=mt;return new at(q*s,r.x*s/f)}},su={__proto__:null,LonLat:Qo,Mercator:Jo,SphericalMercator:At},ua=u({},_t,{code:"EPSG:3395",projection:Jo,transformation:(function(){var r=.5/(Math.PI*Jo.R);return Ht(r,.5,-r,.5)})()}),lu=u({},_t,{code:"EPSG:4326",projection:Qo,transformation:Ht(1/180,1,-1/180,.5)}),nh=u({},gt,{projection:Qo,transformation:Ht(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,x=s.lat-r.lat;return Math.sqrt(f*f+x*x)},infinite:!0});gt.Earth=_t,gt.EPSG3395=ua,gt.EPSG3857=re,gt.EPSG900913=pe,gt.EPSG4326=lu,gt.Simple=nh;var er=ut.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[b(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[b(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=b(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=b(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return b(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?j(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[b(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=b(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),s=E.maxZoom===void 0?s:Math.max(s,E.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ji=er.extend({initialize:function(r,s){M(this,s),this._layers={};var f,x;if(r)for(f=0,x=r.length;f<x;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,x;for(f in this._layers)x=this._layers[f],x[r]&&x[r].apply(x,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return b(r)}}),cu=function(r,s){return new ji(r,s)},jn=ji.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ji.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ji.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new G;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),lo=function(r,s){return new jn(r,s)},da=st.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){M(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(x,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(r,s){var f=this.options,x=f[s+"Size"];typeof x=="number"&&(x=[x,x]);var E=B(x),C=B(s==="shadow"&&f.shadowAnchor||f.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),C&&(r.style.marginLeft=-C.x+"px",r.style.marginTop=-C.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return Bt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ts(r){return new da(r)}var fa=da.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof fa.imagePath!="string"&&(fa.imagePath=this._detectIconPath()),(this.options.imagePath||fa.imagePath)+da.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,x,E){var C=x.exec(f);return C&&C[E]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ie("div","leaflet-default-icon-path",document.body),s=Si(r,"background-image")||Si(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),yl=tr.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new oi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Vt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,C=ii(s._icon),q=f.getPixelBounds(),ot=f.getPixelOrigin(),mt=$(q.min._subtract(ot).add(E),q.max._subtract(ot).subtract(E));if(!mt.contains(C)){var St=B((Math.max(mt.max.x,C.x)-mt.max.x)/(q.max.x-mt.max.x)-(Math.min(mt.min.x,C.x)-mt.min.x)/(q.min.x-mt.min.x),(Math.max(mt.max.y,C.y)-mt.max.y)/(q.max.y-mt.max.y)-(Math.min(mt.min.y,C.y)-mt.min.y)/(q.min.y-mt.min.y)).multiplyBy(x);f.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),Re(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Y(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,x=ii(s._icon),E=s._map.layerPointToLatLng(x);f&&Re(f,x),s._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ha=er.extend({options:{icon:new fa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){M(this,s),this._latlng=rt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=rt(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),x=!1;f!==this._icon&&(this._icon&&this._removeIcon(),x=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Vt(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(f,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),C=!1;E!==this._shadow&&(this._removeShadow(),C=!0),E&&(Vt(E,s),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&C&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&le(this._icon,"focus",this._panOnFocus,this),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Re(this._icon,r),this._shadow&&Re(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Tn(this._icon,r),this._shadow&&Tn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?B(s.iconSize):B(0,0),x=s.iconAnchor?B(s.iconAnchor):B(0,0);r.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:f.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vl(r,s){return new ha(r,s)}var Zr=er.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return M(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),co=Zr.extend({options:{fill:!0,radius:10},initialize:function(r,s){M(this,s),this._latlng=rt(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=rt(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Zr.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),x=[r+f,s+f];this._pxBounds=new A(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function uu(r,s){return new co(r,s)}var xl=co.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=u({},f,{radius:s})),M(this,s),this._latlng=rt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Zr.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,x=f.options.crs;if(x.distance===_t.distance){var E=Math.PI/180,C=this._mRadius/_t.R/E,q=f.project([s+C,r]),ot=f.project([s-C,r]),mt=q.add(ot).divideBy(2),St=f.unproject(mt).lat,Dt=Math.acos((Math.cos(C*E)-Math.sin(s*E)*Math.sin(St*E))/(Math.cos(s*E)*Math.cos(St*E)))/E;(isNaN(Dt)||Dt===0)&&(Dt=C/Math.cos(Math.PI/180*s)),this._point=mt.subtract(f.getPixelOrigin()),this._radius=isNaN(Dt)?0:mt.x-f.project([St,r-Dt]).x,this._radiusY=mt.y-q.y}else{var kt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(kt).x}this._updateBounds()}});function rh(r,s,f){return new xl(r,s,f)}var Yr=Zr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){M(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,x=Ai,E,C,q=0,ot=this._parts.length;q<ot;q++)for(var mt=this._parts[q],St=1,Dt=mt.length;St<Dt;St++){E=mt[St-1],C=mt[St];var kt=x(r,E,C,!0);kt<s&&(s=kt,f=x(r,E,C))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=rt(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new G,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return on(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=on(r),x=0,E=r.length;x<E;x++)f?(s[x]=rt(r[x]),this._bounds.extend(s[x])):s[x]=this._convertLatLngs(r[x]);return s},_project:function(){var r=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new dt(r,r);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var x=r[0]instanceof at,E=r.length,C,q;if(x){for(q=[],C=0;C<E;C++)q[C]=this._map.latLngToLayerPoint(r[C]),f.extend(q[C]);s.push(q)}else for(C=0;C<E;C++)this._projectLatlngs(r[C],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,x,E,C,q,ot,mt;for(f=0,E=0,C=this._rings.length;f<C;f++)for(mt=this._rings[f],x=0,q=mt.length;x<q-1;x++)ot=iu(mt[x],mt[x+1],r,x,!0),ot&&(s[E]=s[E]||[],s[E].push(ot[0]),(ot[1]!==mt[x+1]||x===q-2)&&(s[E].push(ot[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,x=r.length;f<x;f++)r[f]=nu(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,x,E,C,q,ot,mt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,C=this._parts.length;f<C;f++)for(ot=this._parts[f],x=0,q=ot.length,E=q-1;x<q;E=x++)if(!(!s&&x===0)&&pl(r,ot[E],ot[x])<=mt)return!0;return!1}});function ih(r,s){return new Yr(r,s)}Yr._flat=au;var ma=Yr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Yr.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof at&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){Yr.prototype._setLatLngs.call(this,r),on(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return on(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new dt(s,s);if(r=new A(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,C;x<E;x++)C=eu(this._rings[x],r,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,x,E,C,q,ot,mt,St;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(C=0,mt=this._parts.length;C<mt;C++)for(f=this._parts[C],q=0,St=f.length,ot=St-1;q<St;ot=q++)x=f[q],E=f[ot],x.y>r.y!=E.y>r.y&&r.x<(E.x-x.x)*(r.y-x.y)/(E.y-x.y)+x.x&&(s=!s);return s||Yr.prototype._containsPoint.call(this,r,!0)}});function kn(r,s){return new ma(r,s)}var On=jn.extend({initialize:function(r,s){M(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=j(r)?r:r.features,f,x,E;if(s){for(f=0,x=s.length;f<x;f++)E=s[f],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var C=this.options;if(C.filter&&!C.filter(r))return this;var q=uo(r,C);return q?(q.feature=pa(r),q.defaultOptions=q.options,this.resetStyle(q),C.onEachFeature&&C.onEachFeature(r,q),this.addLayer(q)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function uo(r,s){var f=r.type==="Feature"?r.geometry:r,x=f?f.coordinates:null,E=[],C=s&&s.pointToLayer,q=s&&s.coordsToLatLng||es,ot,mt,St,Dt;if(!x&&!f)return null;switch(f.type){case"Point":return ot=q(x),_l(C,r,ot,s);case"MultiPoint":for(St=0,Dt=x.length;St<Dt;St++)ot=q(x[St]),E.push(_l(C,r,ot,s));return new jn(E);case"LineString":case"MultiLineString":return mt=fo(x,f.type==="LineString"?0:1,q),new Yr(mt,s);case"Polygon":case"MultiPolygon":return mt=fo(x,f.type==="Polygon"?1:2,q),new ma(mt,s);case"GeometryCollection":for(St=0,Dt=f.geometries.length;St<Dt;St++){var kt=uo({geometry:f.geometries[St],type:"Feature",properties:r.properties},s);kt&&E.push(kt)}return new jn(E);case"FeatureCollection":for(St=0,Dt=f.features.length;St<Dt;St++){var Lt=uo(f.features[St],s);Lt&&E.push(Lt)}return new jn(E);default:throw new Error("Invalid GeoJSON object.")}}function _l(r,s,f,x){return r?r(s,f):new ha(f,x&&x.markersInheritOptions&&x)}function es(r){return new at(r[1],r[0],r[2])}function fo(r,s,f){for(var x=[],E=0,C=r.length,q;E<C;E++)q=s?fo(r[E],s-1,f):(f||es)(r[E]),x.push(q);return x}function ho(r,s){return r=rt(r),r.alt!==void 0?[S(r.lng,s),S(r.lat,s),S(r.alt,s)]:[S(r.lng,s),S(r.lat,s)]}function ns(r,s,f,x){for(var E=[],C=0,q=r.length;C<q;C++)E.push(s?ns(r[C],on(r[C])?0:s-1,f,x):ho(r[C],x));return!s&&f&&E.length>0&&E.push(E[0].slice()),E}function nr(r,s){return r.feature?u({},r.feature,{geometry:s}):pa(s)}function pa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ki={toGeoJSON:function(r){return nr(this,{type:"Point",coordinates:ho(this.getLatLng(),r)})}};ha.include(ki),xl.include(ki),co.include(ki),Yr.include({toGeoJSON:function(r){var s=!on(this._latlngs),f=ns(this._latlngs,s?1:0,!1,r);return nr(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),ma.include({toGeoJSON:function(r){var s=!on(this._latlngs),f=s&&!on(this._latlngs[0]),x=ns(this._latlngs,f?2:s?1:0,!0,r);return s||(x=[x]),nr(this,{type:(f?"Multi":"")+"Polygon",coordinates:x})}}),ji.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),nr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var C=E.toGeoJSON(r);if(f)x.push(C.geometry);else{var q=pa(C);q.type==="FeatureCollection"?x.push.apply(x,q.features):x.push(q)}}}),f?nr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function rs(r,s){return new On(r,s)}var du=rs,Sr=er.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=X(s),M(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&ea(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=X(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:ie("img");if(Vt(s,"leaflet-image-layer"),this._zoomAnimated&&Vt(s,"leaflet-zoom-animated"),this.options.className&&Vt(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=h(this.fire,this,"load"),s.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Yn(this._image,f,s)},_reset:function(){var r=this._image,s=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();Re(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ga=function(r,s,f){return new Sr(r,s,f)},is=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:ie("video");if(Vt(s,"leaflet-image-layer"),this._zoomAnimated&&Vt(s,"leaflet-zoom-animated"),this.options.className&&Vt(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=h(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),x=[],E=0;E<f.length;E++)x.push(f[E].src);this._url=f.length>0?x:[s.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var q=ie("source");q.src=this._url[C],s.appendChild(q)}}});function fu(r,s,f){return new is(r,s,f)}var si=Sr.extend({_initImage:function(){var r=this._image=this._url;Vt(r,"leaflet-image-layer"),this._zoomAnimated&&Vt(r,"leaflet-zoom-animated"),this.options.className&&Vt(r,this.options.className),r.onselectstart=_,r.onmousemove=_}});function hu(r,s,f){return new si(r,s,f)}var rr=er.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof at||j(r))?(this._latlng=rt(r),M(this,s)):(M(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Tn(this._container,1),this.bringToFront(),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Tn(this._container,0),this._removeTimeout=setTimeout(h(Te,void 0,this._container),200)):Te(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=rt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&ea(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof jn){s=null;var f=this._source._layers;for(var x in f)if(f[x]._map){s=f[x];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=B(this.options.offset),f=this._getAnchor();this._zoomAnimated?Re(this._container,r.add(f)):s=s.add(r).add(f);var x=this._containerBottom=-s.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(r,s,f,x){var E=s;return E instanceof r||(E=new r(x).setContent(s)),f&&E.setLatLng(f),E}}),er.include({_initOverlay:function(r,s,f,x){var E=f;return E instanceof r?(M(E,x),E._source=this):(E=s&&!x?s:new r(x,this),E.setContent(f)),E}});var mo=rr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,rr.prototype.openOn.call(this,r)},onAdd:function(r){rr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zr||this._source.on("preclick",Gr))},onRemove:function(r){rr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zr||this._source.off("preclick",Gr))},getEvents:function(){var r=rr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=ie("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ie("div",r+"-content-wrapper",s);if(this._contentNode=ie("div",r+"-content",f),la(s),sa(this._contentNode),Yt(s,"contextmenu",Gr),this._tipContainer=ie("div",r+"-tip-container",s),this._tip=ie("div",r+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ie("a",r+"-close-button",s);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Yt(x,"click",function(E){Ue(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var x=r.offsetHeight,E=this.options.maxHeight,C="leaflet-popup-scrolled";E&&x>E?(s.height=E+"px",Vt(r,C)):Ee(r,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Re(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Si(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,x=this._containerWidth,E=new dt(this._containerLeft,-f-this._containerBottom);E._add(ii(this._container));var C=r.layerPointToContainerPoint(E),q=B(this.options.autoPanPadding),ot=B(this.options.autoPanPaddingTopLeft||q),mt=B(this.options.autoPanPaddingBottomRight||q),St=r.getSize(),Dt=0,kt=0;C.x+x+mt.x>St.x&&(Dt=C.x+x-St.x+mt.x),C.x-Dt-ot.x<0&&(Dt=C.x-ot.x),C.y+f+mt.y>St.y&&(kt=C.y+f-St.y+mt.y),C.y-kt-ot.y<0&&(kt=C.y-ot.y),(Dt||kt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Dt,kt]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ah=function(r,s){return new mo(r,s)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(r,s,f){return this._initOverlay(mo,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),er.include({bindPopup:function(r,s){return this._popup=this._initOverlay(mo,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof jn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){_r(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Zr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var as=rr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){rr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){rr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=rr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,x=this._map,E=this._container,C=x.latLngToContainerPoint(x.getCenter()),q=x.layerPointToContainerPoint(r),ot=this.options.direction,mt=E.offsetWidth,St=E.offsetHeight,Dt=B(this.options.offset),kt=this._getAnchor();ot==="top"?(s=mt/2,f=St):ot==="bottom"?(s=mt/2,f=0):ot==="center"?(s=mt/2,f=St/2):ot==="right"?(s=0,f=St/2):ot==="left"?(s=mt,f=St/2):q.x<C.x?(ot="right",s=0,f=St/2):(ot="left",s=mt+(Dt.x+kt.x)*2,f=St/2),r=r.subtract(B(s,f,!0)).add(Dt).add(kt),Ee(E,"leaflet-tooltip-right"),Ee(E,"leaflet-tooltip-left"),Ee(E,"leaflet-tooltip-top"),Ee(E,"leaflet-tooltip-bottom"),Vt(E,"leaflet-tooltip-"+ot),Re(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Tn(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),oh=function(r,s){return new as(r,s)};Wt.include({openTooltip:function(r,s,f){return this._initOverlay(as,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),er.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(as,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof jn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(Yt(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Yt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,x;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),x=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(s)}});var Sl=da.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(pn(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var x=B(f.bgPos);s.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function mu(r){return new Sl(r)}da.Default=fa;var Oi=er.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){M(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Te(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ea(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof dt?r:new dt(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),x=0,E=s.length,C;x<E;x++)C=s[x].style.zIndex,s[x]!==this._container&&C&&(f=r(f,+C));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Bt.ielt9){Tn(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var C=Math.min(1,(r-E.loaded)/200);Tn(E.el,C),C<1?s=!0:(E.active?f=!0:this._onOpaqueTile(E),E.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(U(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(Te(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var x=this._levels[r],E=this._map;return x||(x=this._levels[r]={},x.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=s,x.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),x.zoom=r,this._setZoomTransform(x,E.getCenter(),E.getZoom()),_(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var x=s.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Te(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,x){var E=Math.floor(r/2),C=Math.floor(s/2),q=f-1,ot=new dt(+E,+C);ot.z=+q;var mt=this._tileCoordsToKey(ot),St=this._tiles[mt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),q>x?this._retainParent(E,C,q,x):!1)},_retainChildren:function(r,s,f,x){for(var E=2*r;E<2*r+2;E++)for(var C=2*s;C<2*s+2;C++){var q=new dt(E,C);q.z=f+1;var ot=this._tileCoordsToKey(q),mt=this._tiles[ot];if(mt&&mt.active){mt.retain=!0;continue}else mt&&mt.loaded&&(mt.retain=!0);f+1<x&&this._retainChildren(E,C,f+1,x)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,x){var E=Math.round(s);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var C=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||C)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var x=this._map.getZoomScale(f,r.zoom),E=r.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(s,f)).round();Bt.any3d?Yn(r.el,E,x):Re(r.el,E)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],x).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],x).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],x).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],x).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),x=s.getZoomScale(f,this._tileZoom),E=s.project(r,this._tileZoom).floor(),C=s.getSize().divideBy(x*2);return new A(E.subtract(C),E.add(C))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(x),C=E.getCenter(),q=[],ot=this.options.keepBuffer,mt=new A(E.getBottomLeft().subtract([ot,-ot]),E.getTopRight().add([ot,-ot]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Dt=this._tiles[St].coords;(Dt.z!==this._tileZoom||!mt.contains(new dt(Dt.x,Dt.y)))&&(this._tiles[St].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var kt=E.min.y;kt<=E.max.y;kt++)for(var Lt=E.min.x;Lt<=E.max.x;Lt++){var Zt=new dt(Lt,kt);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Ne=this._tiles[this._tileCoordsToKey(Zt)];Ne?Ne.current=!0:q.push(Zt)}}if(q.sort(function(sn,qn){return sn.distanceTo(C)-qn.distanceTo(C)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pe=document.createDocumentFragment();for(Lt=0;Lt<q.length;Lt++)this._addTile(q[Lt],Pe);this._level.el.appendChild(Pe)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(r);return X(this.options.bounds).overlaps(x)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),x=r.scaleBy(f),E=x.add(f),C=s.unproject(x,r.z),q=s.unproject(E,r.z);return[C,q]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new G(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new dt(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(Te(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Vt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=_,r.onmousemove=_,Bt.ielt9&&this.options.opacity<1&&Tn(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),x=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),h(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&Y(h(this._tileReady,this,r,null,E)),Re(E,f),this._tiles[x]={el:E,coords:r,current:!0},s.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var x=this._tileCoordsToKey(r);f=this._tiles[x],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Tn(f.el,0),U(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(Vt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Bt.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new dt(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new A(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function ir(r){return new Oi(r)}var Ci=Oi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=M(this,s),s.detectRetina&&Bt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return Yt(f,"load",h(this._tileOnLoad,this,s,f)),Yt(f,"error",h(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:Bt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return H(this._url,u(s,this.options))},_tileOnLoad:function(r,s){Bt.ielt9?setTimeout(h(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var x=this.options.errorTileUrl;x&&s.getAttribute("src")!==x&&(s.src=x),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,x=this.options.zoomOffset;return f&&(r=s-r),r+x},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=_,s.onerror=_,!s.complete)){s.src=O;var f=this._tiles[r].coords;Te(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",O),Oi.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===O))return Oi.prototype._tileReady.call(this,r,s,f)}});function Cn(r,s){return new Ci(r,s)}var Ln=Ci.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=u({},this.defaultWmsParams);for(var x in s)x in this.options||(f[x]=s[x]);s=M(this,s);var E=s.detectRetina&&Bt.retina?2:1,C=this.getTileSize();f.width=C.x*E,f.height=C.y*E,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ci.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,x=$(f.project(s[0]),f.project(s[1])),E=x.min,C=x.max,q=(this._wmsVersion>=1.3&&this._crs===lu?[E.y,E.x,C.y,C.x]:[E.x,E.y,C.x,C.y]).join(","),ot=Ci.prototype.getTileUrl.call(this,r);return ot+k(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(r,s){return u(this.wmsParams,r),s||this.redraw(),this}});function ba(r,s){return new Ln(r,s)}Ci.WMS=Ln,Cn.wms=ba;var ar=er.extend({options:{padding:.1},initialize:function(r){M(this,r),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,s),C=x.multiplyBy(-f).add(E).subtract(this._map._getNewPixelOrigin(r,s));Bt.any3d?Yn(this._container,C,f):Re(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new A(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),po=ar.extend({options:{tolerance:0},getEvents:function(){var r=ar.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ar.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Yt(r,"mousemove",this._onMouseMove,this),Yt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Yt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Te(this._container),le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ar.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),x=Bt.retina?2:1;Re(s,r.min),s.width=x*f.x,s.height=x*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",Bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){ar.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[b(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,x=s.prev;f?f.prev=x:this._drawLast=x,x?x.next=f:this._drawFirst=f,delete r._order,delete this._layers[b(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],x,E;for(E=0;E<s.length;E++){if(x=Number(s[E]),isNaN(x))return;f.push(x)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)r=x.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,x,E,C,q=r._parts,ot=q.length,mt=this._ctx;if(ot){for(mt.beginPath(),f=0;f<ot;f++){for(x=0,E=q[f].length;x<E;x++)C=q[f][x],mt[x?"lineTo":"moveTo"](C.x,C.y);s&&mt.closePath()}this._fillStroke(mt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,x=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||x)/x;E!==1&&(f.save(),f.scale(1,E)),f.beginPath(),f.arc(s.x,s.y/E,x,0,Math.PI*2,!1),E!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,x,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(x=f);this._fireEvent(x?[x]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,x,E=this._drawFirst;E;E=E.next)f=E.layer,f.options.interactive&&f._containsPoint(s)&&(x=f);x!==this._hoveredLayer&&(this._handleMouseOut(r),x&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([x],r,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,x=s.prev;if(f)f.prev=x;else return;x?x.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,x=s.prev;if(x)x.next=f;else return;f?f.prev=x:x&&(this._drawLast=x),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function go(r){return Bt.canvas?new po(r):null}var Li=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ya={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ar.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Li("shape");Vt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Li("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Te(s),r.removeInteractiveTarget(s),delete this._layers[b(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,x=r.options,E=r._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(s||(s=r._stroke=Li("stroke")),E.appendChild(s),s.weight=x.weight+"px",s.color=x.color,s.opacity=x.opacity,x.dashArray?s.dashStyle=j(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=x.lineCap.replace("butt","flat"),s.joinstyle=x.lineJoin):s&&(E.removeChild(s),r._stroke=null),x.fill?(f||(f=r._fill=Li("fill")),E.appendChild(f),f.color=x.fillColor||x.color,f.opacity=x.fillOpacity):f&&(E.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),x=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+x+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){wi(r._container)},_bringToBack:function(r){ea(r._container)}},bo=Bt.vml?Li:We,li=ar.extend({_initContainer:function(){this._container=bo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ar.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),Re(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=bo("path");r.options.className&&Vt(s,r.options.className),r.options.interactive&&Vt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[b(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Te(r._path),r.removeInteractiveTarget(r._path),delete this._layers[b(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,Be(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),x=Math.max(Math.round(r._radiusY),1)||f,E="a"+f+","+x+" 0 1,0 ",C=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+E+f*2+",0 "+E+-f*2+",0 ";this._setPath(r,C)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){wi(r._path)},_bringToBack:function(r){ea(r._path)}});Bt.vml&&li.include(ya);function Bi(r){return Bt.svg||Bt.vml?new li(r):null}Wt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&go(r)||Bi(r)}});var pu=ma.extend({initialize:function(r,s){ma.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=X(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Bn(r,s){return new pu(r,s)}li.create=bo,li.pointsToPath=Be,On.geometryToLayer=uo,On.coordsToLatLng=es,On.coordsToLatLngs=fo,On.latLngToCoords=ho,On.latLngsToCoords=ns,On.getFeature=nr,On.asFeature=pa,Wt.mergeOptions({boxZoom:!0});var os=tr.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yr(),ro(),this._startPoint=this._map.mouseEventToContainerPoint(r),Yt(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),Vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new A(this._point,this._startPoint),f=s.getSize();Re(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Te(this._box),Ee(this._container,"leaflet-crosshair")),no(),cl(),le(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var s=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",os),Wt.mergeOptions({doubleClickZoom:!0});var wr=tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),x=s.options.zoomDelta,E=r.originalEvent.shiftKey?f-x:f+x;s.options.doubleClickZoom==="center"?s.setZoom(E):s.setZoomAround(r.containerPoint,E)}});Wt.addInitHook("addHandler","doubleClickZoom",wr),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wl=tr.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new oi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=X(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-s+f)%r+s-f,C=(x+s+f)%r-s-f,q=Math.abs(E+f)<Math.abs(C+f)?E:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(r){var s=this._map,f=s.options,x=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),x)s.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,q=f.easeLinearity,ot=E.multiplyBy(q/C),mt=ot.distanceTo([0,0]),St=Math.min(f.inertiaMaxSpeed,mt),Dt=ot.multiplyBy(St/mt),kt=St/(f.inertiaDeceleration*q),Lt=Dt.multiplyBy(-kt/2).round();!Lt.x&&!Lt.y?s.fire("moveend"):(Lt=s._limitOffset(Lt,s.options.maxBounds),Y(function(){s.panBy(Lt,{duration:kt,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",wl),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yo=tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Yt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,x=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(x,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,x,E;for(x=0,E=f.left.length;x<E;x++)s[f.left[x]]=[-1*r,0];for(x=0,E=f.right.length;x<E;x++)s[f.right[x]]=[r,0];for(x=0,E=f.down.length;x<E;x++)s[f.down[x]]=[0,r];for(x=0,E=f.up.length;x<E;x++)s[f.up[x]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,x,E;for(x=0,E=f.zoomIn.length;x<E;x++)s[f.zoomIn[x]]=r;for(x=0,E=f.zoomOut.length;x<E;x++)s[f.zoomOut[x]]=-r},_addHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,x;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(x=this._panKeys[s],r.shiftKey&&(x=B(x).multiplyBy(3)),f.options.maxBounds&&(x=f._limitOffset(B(x),f.options.maxBounds)),f.options.worldCopyJump){var E=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(x)));f.panTo(E)}else f.panBy(x)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;_r(r)}}});Wt.addInitHook("addHandler","keyboard",yo),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ci=tr.extend({addHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=oo(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var x=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),x),_r(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,C=f?Math.ceil(E/f)*f:E,q=r._limitZoom(s+(this._delta>0?C:-C))-s;this._delta=0,this._startTime=null,q&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+q):r.setZoomAround(this._lastMousePos,s+q))}});Wt.addInitHook("addHandler","scrollWheelZoom",ci);var Tl=600;Wt.mergeOptions({tapHold:Bt.touchNative&&Bt.safari&&Bt.mobile,tapTolerance:15});var ss=tr.extend({addHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new dt(s.clientX,s.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Yt(document,"touchend",Ue),Yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Tl),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){le(document,"touchend",Ue),le(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),le(document,"touchend touchcancel contextmenu",this._cancel,this),le(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new dt(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});Wt.addInitHook("addHandler","tapHold",ss),Wt.mergeOptions({touchZoom:Bt.touch,bounceAtZoomLimits:!0});var Ri=tr.extend({addHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),x=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(x)._divideBy(2))),this._startDist=f.distanceTo(x),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),Ue(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),x=s.mouseEventToContainerPoint(r.touches[1]),E=f.distanceTo(x)/this._startDist;if(this._zoom=s.getScaleZoom(E,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&E<1||this._zoom>s.getMaxZoom()&&E>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var C=f._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&C.x===0&&C.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var q=h(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(q,this,!0),Ue(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),le(document,"touchmove",this._onTouchMove,this),le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",Ri),Wt.BoxZoom=os,Wt.DoubleClickZoom=wr,Wt.Drag=wl,Wt.Keyboard=yo,Wt.ScrollWheelZoom=ci,Wt.TapHold=ss,Wt.TouchZoom=Ri,o.Bounds=A,o.Browser=Bt,o.CRS=gt,o.Canvas=po,o.Circle=xl,o.CircleMarker=co,o.Class=st,o.Control=En,o.DivIcon=Sl,o.DivOverlay=rr,o.DomEvent=Yf,o.DomUtil=Wc,o.Draggable=oi,o.Evented=ut,o.FeatureGroup=jn,o.GeoJSON=On,o.GridLayer=Oi,o.Handler=tr,o.Icon=da,o.ImageOverlay=Sr,o.LatLng=at,o.LatLngBounds=G,o.Layer=er,o.LayerGroup=ji,o.LineUtil=ou,o.Map=Wt,o.Marker=ha,o.Mixin=Xf,o.Path=Zr,o.Point=dt,o.PolyUtil=Wf,o.Polygon=ma,o.Polyline=Yr,o.Popup=mo,o.PosAnimation=Ko,o.Projection=su,o.Rectangle=pu,o.Renderer=ar,o.SVG=li,o.SVGOverlay=si,o.TileLayer=Ci,o.Tooltip=as,o.Transformation=Kt,o.Util=tt,o.VideoOverlay=is,o.bind=h,o.bounds=$,o.canvas=go,o.circle=rh,o.circleMarker=uu,o.control=ca,o.divIcon=mu,o.extend=u,o.featureGroup=lo,o.geoJSON=rs,o.geoJson=du,o.gridLayer=ir,o.icon=ts,o.imageOverlay=ga,o.latLng=rt,o.latLngBounds=X,o.layerGroup=cu,o.map=so,o.marker=vl,o.point=B,o.polygon=kn,o.polyline=ih,o.popup=ah,o.rectangle=Bn,o.setOptions=M,o.stamp=b,o.svg=Bi,o.svgOverlay=hu,o.tileLayer=Cn,o.tooltip=oh,o.transformation=Ht,o.version=l,o.videoOverlay=fu;var va=window.L;o.noConflict=function(){return window.L=va,this},window.L=o}))})(_c,_c.exports)),_c.exports}var KT=FT();const $m=Fs(KT),md=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Ao(t){const i=document.getElementById(t);if(!i)throw new Error(`#${t} not found`);return i}function XT(t){const{buttonId:i,buttonInputId:o,modalId:l,closeMapId:u,mapCloseBtnId:d,searchBoxId:h,suggestionsId:p,mapId:b}=t.ids,v=t.initialCenter??{lat:37.5665,lon:126.978},w=Ao(o),_=Ao(i),S=Ao(l),T=Ao(d),D=Ao(h),M=Ao(p),k=u?Ao(u):null;let I=null,H=null,j=null;const P=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",O=U=>{P(U)&&document.activeElement!==D&&(U.preventDefault(),U.stopPropagation(),D.focus())},K=()=>{S.style.display="flex",I?setTimeout(()=>I?.invalidateSize(),200):setTimeout(()=>{I=$m.map(b,{keyboard:!1}).setView([v.lat,v.lon],11),$m.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap"}).addTo(I),I.invalidateSize()},0),S.addEventListener("keydown",O,!0),S.addEventListener("keyup",O,!0),D.focus()},W=()=>{S.style.display="none",D.value="",M.innerHTML="",j&&(window.clearTimeout(j),j=null),S.removeEventListener("keydown",O,!0),S.removeEventListener("keyup",O,!0)},Q=U=>{const tt=U.dataset.name??"",st=Number(U.dataset.lat??""),yt=Number(U.dataset.lon??"");!Number.isFinite(st)||!Number.isFinite(yt)||!I||(H?H.setLatLng([st,yt]):H=$m.marker([st,yt]).addTo(I),I.flyTo([st,yt],14,{duration:.5}),w.value=tt,w.dataset.lat=String(st),w.dataset.lon=String(yt),t.onSelected?.({name:tt,lat:st,lon:yt}),M.innerHTML="",W())},et=()=>{j&&window.clearTimeout(j);const U=D.value.trim();if(!U){M.innerHTML="";return}j=window.setTimeout(async()=>{try{const tt="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),st=await fetch(tt,{headers:{Accept:"application/json"}});if(!st.ok)throw new Error(`HTTP ${st.status}`);const yt=await st.json();if(!Array.isArray(yt)||yt.length===0){M.innerHTML='<li style="padding:8px">결과 없음</li>';return}const F=yt.slice(0,12).map((ut,dt)=>{const Z=ut.display_name.split(",").slice(0,3).map($=>$.trim()).join(" · "),B="padding:8px;cursor:pointer;outline:none;",A=dt===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${md(Z)}"
                    data-lat="${md(ut.lat)}"
                    data-lon="${md(ut.lon)}"
                    data-active="${dt===0?"1":"0"}"
                    style="${B}${A}"
                  >${md(Z)}</li>`}).join("");M.innerHTML=F}catch(tt){console.error(tt),M.innerHTML='<li style="padding:8px;color:#b91c1c">검색 오류</li>'}},250)},nt=U=>{const tt=U.target;tt.tagName==="LI"&&Q(tt)},Y=U=>{if(U.key==="Enter"){const tt=M.querySelector('li[data-active="1"]')??M.querySelector("li");tt&&Q(tt)}};return _.addEventListener("click",K),T.addEventListener("click",W),k&&k.addEventListener("click",W),D.addEventListener("input",et),D.addEventListener("keydown",Y),M.addEventListener("click",nt),()=>{_.removeEventListener("click",K),T.removeEventListener("click",W),k&&k.removeEventListener("click",W),D.removeEventListener("input",et),D.removeEventListener("keydown",Y),M.removeEventListener("click",nt),S.removeEventListener("keydown",O,!0),S.removeEventListener("keyup",O,!0),j&&(window.clearTimeout(j),j=null),I&&(I.remove(),I=null)}}function js(){return document.getElementById("suggestions")}function Hd(t){const i=Array.from(t.querySelectorAll('li, [role="option"]'));return i.forEach((o,l)=>{o.getAttribute("role")||o.setAttribute("role","option"),o.setAttribute("aria-selected",o===document.activeElement?"true":"false"),o.tabIndex=-1,o.id||(o.id=`suggestion-item-${l}`)}),i}function oc(t,i){const o=Hd(t);if(o.length===0)return;const l=o.length;let u=i;u<0&&(u=l-1),u>=l&&(u=0),o.forEach(h=>{h.tabIndex=-1,h.setAttribute("aria-selected","false")});const d=o[u];d.tabIndex=0,d.setAttribute("aria-selected","true"),d.focus()}function w_({onSelect:t,placeholderText:i="출생지선택",buttonStyle:o,value:l}){const[u,d]=R.useState(i),[h,p]=R.useState(!1),[b,v]=R.useState(l??""),w=R.useRef(null),_=R.useRef(null),S=R.useRef(null),T=R.useRef(null);return R.useEffect(()=>{l!==void 0&&v(l)},[l]),R.useEffect(()=>{if(!h)return;const D=XT({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:et=>{d("선택완료"),v(et.name),w.current&&(w.current.value=et.name),_.current&&(_.current.value=String(et.lat)),S.current&&(S.current.value=String(et.lon)),t?.(et),p(!1)}}),M=document.getElementById("inputBirthPlaceBtn");M&&M.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const k=document.getElementById("mapModal"),I=document.getElementById("searchBox"),H=js();setTimeout(()=>I?.focus(),0);const j='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',P=et=>{if(et.key==="Escape"){et.preventDefault(),p(!1);return}if(et.key!=="Tab")return;const nt=js();if(nt&&nt.contains(document.activeElement))return;const Y=Array.from(k.querySelectorAll(j)).filter(yt=>!yt.hasAttribute("disabled")&&yt.tabIndex!==-1);if(Y.length===0)return;const U=Y[0],tt=Y[Y.length-1],st=document.activeElement;et.shiftKey?(st===U||!k.contains(st))&&(et.preventDefault(),tt.focus()):(st===tt||!k.contains(st))&&(et.preventDefault(),U.focus())};k.addEventListener("keydown",P);const O=et=>{if(et.key!=="ArrowDown")return;const nt=js();!nt||Hd(nt).length===0||(et.preventDefault(),oc(nt,0))};I?.addEventListener("keydown",O);const K=et=>{if(et.target.value.trim()===""){const Y=js();Y&&(Y.innerHTML="")}};I?.addEventListener("input",K);const W=et=>{const nt=js();if(!nt)return;const Y=Hd(nt);if(Y.length===0)return;const U=document.activeElement,tt=U?Y.indexOf(U):-1;if(tt===-1)return;const st=yt=>{et.preventDefault(),oc(nt,tt+yt)};switch(et.key){case"Tab":et.preventDefault(),st(et.shiftKey?-1:1);break;case"ArrowDown":et.preventDefault(),st(1);break;case"ArrowUp":et.preventDefault(),st(-1);break;case"Home":et.preventDefault(),oc(nt,0);break;case"End":et.preventDefault(),oc(nt,Y.length-1);break;case"Enter":case" ":et.preventDefault(),U.click();break;case"Backspace":et.preventDefault(),nt.innerHTML="",I?.focus();break}et.stopPropagation()};let Q=null;return H&&(H.addEventListener("keydown",W),Q=new MutationObserver(()=>{const et=js();!et||Hd(et).length===0||oc(et,0)}),Q.observe(H,{childList:!0,subtree:!1})),()=>{k.removeEventListener("keydown",P),I?.removeEventListener("keydown",O),I?.removeEventListener("input",K),H&&H.removeEventListener("keydown",W),Q?.disconnect(),D?.()}},[h,t]),R.useEffect(()=>{h||setTimeout(()=>T.current?.focus(),0)},[h]),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:b&&b.trim()!==""?b:i}),g.jsx("button",{ref:T,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:o,onClick:()=>p(!0),"aria-haspopup":"dialog","aria-expanded":h,"aria-controls":"mapModal",children:u}),g.jsx("input",{ref:w,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:_,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:S,type:"hidden",name:"birthPlace_lon",defaultValue:""}),h&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:"출생지선택"}),g.jsx("button",{id:"mapCloseBtn","aria-label":"닫기",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>p(!1),children:"✕"})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"도시/지역 검색"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:"예: 서울 강남구 / seoul / 도쿄도 / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":"자동완성 목록",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"지도에서 검색하여, 목록에서 선택하세요."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"해외를 검색할 경우 지도가 안 뜰 수 있으나, 선택만 눌러주시면 됩니다."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}var zc=a_();const WT=Fs(zc);function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QT=typeof Symbol=="function"&&Symbol.observable||"@@observable",Vy=QT,Fy=()=>Math.random().toString(36).substring(7).split("").join("."),JT={INIT:`@@redux/INIT${Fy()}`,REPLACE:`@@redux/REPLACE${Fy()}`},Ky=JT;function tE(t){if(typeof t!="object"||t===null)return!1;let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i||Object.getPrototypeOf(t)===null}function T_(t,i,o){if(typeof t!="function")throw new Error(Pn(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Pn(1));return o(T_)(t,i)}let l=t,u=i,d=new Map,h=d,p=0,b=!1;function v(){h===d&&(h=new Map,d.forEach((k,I)=>{h.set(I,k)}))}function w(){if(b)throw new Error(Pn(3));return u}function _(k){if(typeof k!="function")throw new Error(Pn(4));if(b)throw new Error(Pn(5));let I=!0;v();const H=p++;return h.set(H,k),function(){if(I){if(b)throw new Error(Pn(6));I=!1,v(),h.delete(H),d=null}}}function S(k){if(!tE(k))throw new Error(Pn(7));if(typeof k.type>"u")throw new Error(Pn(8));if(typeof k.type!="string")throw new Error(Pn(17));if(b)throw new Error(Pn(9));try{b=!0,u=l(u,k)}finally{b=!1}return(d=h).forEach(H=>{H()}),k}function T(k){if(typeof k!="function")throw new Error(Pn(10));l=k,S({type:Ky.REPLACE})}function D(){const k=_;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Pn(11));function H(){const P=I;P.next&&P.next(w())}return H(),{unsubscribe:k(H)}},[Vy](){return this}}}return S({type:Ky.INIT}),{dispatch:S,subscribe:_,getState:w,replaceReducer:T,[Vy]:D}}function Xy(t,i){return function(...o){return i(t.apply(this,o))}}function Wy(t,i){if(typeof t=="function")return Xy(t,i);if(typeof t!="object"||t===null)throw new Error(Pn(16));const o={};for(const l in t){const u=t[l];typeof u=="function"&&(o[l]=Xy(u,i))}return o}function E_(...t){return t.length===0?i=>i:t.length===1?t[0]:t.reduce((i,o)=>(...l)=>i(o(...l)))}function eE(...t){return i=>(o,l)=>{const u=i(o,l);let d=()=>{throw new Error(Pn(15))};const h={getState:u.getState,dispatch:(b,...v)=>d(b,...v)},p=t.map(b=>b(h));return d=E_(...p)(u.dispatch),{...u,dispatch:d}}}var Um={exports:{}},Gm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function nE(){if(Qy)return Gm;Qy=1;var t=yf();function i(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var o=typeof Object.is=="function"?Object.is:i,l=t.useSyncExternalStore,u=t.useRef,d=t.useEffect,h=t.useMemo,p=t.useDebugValue;return Gm.useSyncExternalStoreWithSelector=function(b,v,w,_,S){var T=u(null);if(T.current===null){var D={hasValue:!1,value:null};T.current=D}else D=T.current;T=h(function(){function k(O){if(!I){if(I=!0,H=O,O=_(O),S!==void 0&&D.hasValue){var K=D.value;if(S(K,O))return j=K}return j=O}if(K=j,o(H,O))return K;var W=_(O);return S!==void 0&&S(K,W)?(H=O,K):(H=O,j=W)}var I=!1,H,j,P=w===void 0?null:w;return[function(){return k(v())},P===null?void 0:function(){return k(P())}]},[v,w,_,S]);var M=l(b,T[0],T[1]);return d(function(){D.hasValue=!0,D.value=M},[M]),p(M),M},Gm}var Jy;function rE(){return Jy||(Jy=1,Um.exports=nE()),Um.exports}rE();var iE=R.version.startsWith("19"),aE=Symbol.for(iE?"react.transitional.element":"react.element"),oE=Symbol.for("react.portal"),sE=Symbol.for("react.fragment"),lE=Symbol.for("react.strict_mode"),cE=Symbol.for("react.profiler"),uE=Symbol.for("react.consumer"),dE=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),fE=Symbol.for("react.suspense"),hE=Symbol.for("react.suspense_list"),n0=Symbol.for("react.memo"),mE=Symbol.for("react.lazy"),pE=N_,gE=n0;function bE(t){if(typeof t=="object"&&t!==null){const{$$typeof:i}=t;switch(i){case aE:switch(t=t.type,t){case sE:case cE:case lE:case fE:case hE:return t;default:switch(t=t&&t.$$typeof,t){case dE:case N_:case mE:case n0:return t;case uE:return t;default:return i}}case oE:return i}}}function yE(t){return bE(t)===n0}function vE(t,i,o,l,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}){let p=!1,b,v,w,_,S;function T(H,j){return b=H,v=j,w=t(b,v),_=i(l,v),S=o(w,_,v),p=!0,S}function D(){return w=t(b,v),i.dependsOnOwnProps&&(_=i(l,v)),S=o(w,_,v),S}function M(){return t.dependsOnOwnProps&&(w=t(b,v)),i.dependsOnOwnProps&&(_=i(l,v)),S=o(w,_,v),S}function k(){const H=t(b,v),j=!h(H,w);return w=H,j&&(S=o(w,_,v)),S}function I(H,j){const P=!d(j,v),O=!u(H,b,j,v);return b=H,v=j,P&&O?D():P?M():O?k():S}return function(j,P){return p?I(j,P):T(j,P)}}function xE(t,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:l,...u}){const d=i(t,u),h=o(t,u),p=l(t,u);return vE(d,h,p,t,u)}function _E(t,i){const o={};for(const l in t){const u=t[l];typeof u=="function"&&(o[l]=(...d)=>i(u(...d)))}return o}function Lp(t){return function(o){const l=t(o);function u(){return l}return u.dependsOnOwnProps=!1,u}}function tv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function M_(t,i){return function(l,{displayName:u}){const d=function(p,b){return d.dependsOnOwnProps?d.mapToProps(p,b):d.mapToProps(p,void 0)};return d.dependsOnOwnProps=!0,d.mapToProps=function(p,b){d.mapToProps=t,d.dependsOnOwnProps=tv(t);let v=d(p,b);return typeof v=="function"&&(d.mapToProps=v,d.dependsOnOwnProps=tv(v),v=d(p,b)),v},d}}function r0(t,i){return(o,l)=>{throw new Error(`Invalid value of type ${typeof t} for ${i} argument when connecting component ${l.wrappedComponentName}.`)}}function SE(t){return t&&typeof t=="object"?Lp(i=>_E(t,i)):t?typeof t=="function"?M_(t):r0(t,"mapDispatchToProps"):Lp(i=>({dispatch:i}))}function wE(t){return t?typeof t=="function"?M_(t):r0(t,"mapStateToProps"):Lp(()=>({}))}function TE(t,i,o){return{...o,...t,...i}}function EE(t){return function(o,{displayName:l,areMergedPropsEqual:u}){let d=!1,h;return function(b,v,w){const _=t(b,v,w);return d?u(_,h)||(h=_):(d=!0,h=_),h}}}function NE(t){return t?typeof t=="function"?EE(t):r0(t,"mergeProps"):()=>TE}function ME(t){t()}function DE(){let t=null,i=null;return{clear(){t=null,i=null},notify(){ME(()=>{let o=t;for(;o;)o.callback(),o=o.next})},get(){const o=[];let l=t;for(;l;)o.push(l),l=l.next;return o},subscribe(o){let l=!0;const u=i={callback:o,next:null,prev:i};return u.prev?u.prev.next=u:t=u,function(){!l||t===null||(l=!1,u.next?u.next.prev=u.prev:i=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}var ev={notify(){},get:()=>[]};function D_(t,i){let o,l=ev,u=0,d=!1;function h(M){w();const k=l.subscribe(M);let I=!1;return()=>{I||(I=!0,k(),_())}}function p(){l.notify()}function b(){D.onStateChange&&D.onStateChange()}function v(){return d}function w(){u++,o||(o=i?i.addNestedSub(b):t.subscribe(b),l=DE())}function _(){u--,o&&u===0&&(o(),o=void 0,l.clear(),l=ev)}function S(){d||(d=!0,w())}function T(){d&&(d=!1,_())}const D={addNestedSub:h,notifyNestedSubs:p,handleChangeWrapper:b,isSubscribed:v,trySubscribe:S,tryUnsubscribe:T,getListeners:()=>l};return D}var AE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jE=AE(),kE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",OE=kE(),CE=()=>jE||OE?R.useLayoutEffect:R.useEffect,Yd=CE();function nv(t,i){return t===i?t!==0||i!==0||1/t===1/i:t!==t&&i!==i}function Zm(t,i){if(nv(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;const o=Object.keys(t),l=Object.keys(i);if(o.length!==l.length)return!1;for(let u=0;u<o.length;u++)if(!Object.prototype.hasOwnProperty.call(i,o[u])||!nv(t[o[u]],i[o[u]]))return!1;return!0}var LE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},A_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},PE={[pE]:RE,[gE]:A_};function rv(t){return yE(t)?A_:PE[t.$$typeof]||LE}var zE=Object.defineProperty,HE=Object.getOwnPropertyNames,iv=Object.getOwnPropertySymbols,IE=Object.getOwnPropertyDescriptor,$E=Object.getPrototypeOf,av=Object.prototype;function Bp(t,i){if(typeof i!="string"){if(av){const d=$E(i);d&&d!==av&&Bp(t,d)}let o=HE(i);iv&&(o=o.concat(iv(i)));const l=rv(t),u=rv(i);for(let d=0;d<o.length;++d){const h=o[d];if(!BE[h]&&!(u&&u[h])&&!(l&&l[h])){const p=IE(i,h);try{zE(t,h,p)}catch{}}}}return t}var UE=Symbol.for("react-redux-context"),GE=typeof globalThis<"u"?globalThis:{};function ZE(){if(!R.createContext)return{};const t=GE[UE]??=new Map;let i=t.get(R.createContext);return i||(i=R.createContext(null),t.set(R.createContext,i)),i}var j_=ZE(),YE=[null,null];function qE(t,i,o){Yd(()=>t(...i),o)}function VE(t,i,o,l,u,d){t.current=l,o.current=!1,u.current&&(u.current=null,d())}function FE(t,i,o,l,u,d,h,p,b,v,w){if(!t)return()=>{};let _=!1,S=null;const T=()=>{if(_||!p.current)return;const M=i.getState();let k,I;try{k=l(M,u.current)}catch(H){I=H,S=H}I||(S=null),k===d.current?h.current||v():(d.current=k,b.current=k,h.current=!0,w())};return o.onStateChange=T,o.trySubscribe(),T(),()=>{if(_=!0,o.tryUnsubscribe(),o.onStateChange=null,S)throw S}}function KE(t,i){return t===i}function XE(t,i,o,{pure:l,areStatesEqual:u=KE,areOwnPropsEqual:d=Zm,areStatePropsEqual:h=Zm,areMergedPropsEqual:p=Zm,forwardRef:b=!1,context:v=j_}={}){const w=v,_=wE(t),S=SE(i),T=NE(o),D=!!t;return k=>{const I=k.displayName||k.name||"Component",H=`Connect(${I})`,j={shouldHandleStateChanges:D,displayName:H,wrappedComponentName:I,WrappedComponent:k,initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:T,areStatesEqual:u,areStatePropsEqual:h,areOwnPropsEqual:d,areMergedPropsEqual:p};function P(W){const[Q,et,nt]=R.useMemo(()=>{const{reactReduxForwardedRef:Ht,...re}=W;return[W.context,Ht,re]},[W]),Y=R.useMemo(()=>{let Ht=w;return Q?.Consumer,Ht},[Q,w]),U=R.useContext(Y),tt=!!W.store&&!!W.store.getState&&!!W.store.dispatch,st=!!U&&!!U.store,yt=tt?W.store:U.store,F=st?U.getServerState:yt.getState,ut=R.useMemo(()=>xE(yt.dispatch,j),[yt]),[dt,Z]=R.useMemo(()=>{if(!D)return YE;const Ht=D_(yt,tt?void 0:U.subscription),re=Ht.notifyNestedSubs.bind(Ht);return[Ht,re]},[yt,tt,U]),B=R.useMemo(()=>tt?U:{...U,subscription:dt},[tt,U,dt]),A=R.useRef(void 0),$=R.useRef(nt),G=R.useRef(void 0),X=R.useRef(!1),at=R.useRef(!1),rt=R.useRef(void 0);Yd(()=>(at.current=!0,()=>{at.current=!1}),[]);const gt=R.useMemo(()=>()=>G.current&&nt===$.current?G.current:ut(yt.getState(),nt),[yt,nt]),_t=R.useMemo(()=>re=>dt?FE(D,yt,dt,ut,$,A,X,at,G,Z,re):()=>{},[dt]);qE(VE,[$,A,X,nt,G,Z]);let Tt;try{Tt=R.useSyncExternalStore(_t,gt,F?()=>ut(F(),nt):gt)}catch(Ht){throw rt.current&&(Ht.message+=`
The error may be correlated with this previous error:
${rt.current.stack}

`),Ht}Yd(()=>{rt.current=void 0,G.current=void 0,A.current=Tt});const At=R.useMemo(()=>R.createElement(k,{...Tt,ref:et}),[et,k,Tt]);return R.useMemo(()=>D?R.createElement(Y.Provider,{value:B},At):At,[Y,At,B])}const K=R.memo(P);if(K.WrappedComponent=k,K.displayName=P.displayName=H,b){const Q=R.forwardRef(function(nt,Y){return R.createElement(K,{...nt,reactReduxForwardedRef:Y})});return Q.displayName=H,Q.WrappedComponent=k,Bp(Q,k)}return Bp(K,k)}}var k_=XE;function WE(t){const{children:i,context:o,serverState:l,store:u}=t,d=R.useMemo(()=>{const b=D_(u);return{store:u,subscription:b,getServerState:l?()=>l:void 0}},[u,l]),h=R.useMemo(()=>u.getState(),[u]);Yd(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),h!==u.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,h]);const p=o||j_;return R.createElement(p.Provider,{value:d},i)}var QE=WE,JE="Invariant failed";function t3(t,i){throw new Error(JE)}var Wr=function(i){var o=i.top,l=i.right,u=i.bottom,d=i.left,h=l-d,p=u-o,b={top:o,right:l,bottom:u,left:d,width:h,height:p,x:d,y:o,center:{x:(l+d)/2,y:(u+o)/2}};return b},i0=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},ov=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},e3=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},Ym={top:0,right:0,bottom:0,left:0},a0=function(i){var o=i.borderBox,l=i.margin,u=l===void 0?Ym:l,d=i.border,h=d===void 0?Ym:d,p=i.padding,b=p===void 0?Ym:p,v=Wr(i0(o,u)),w=Wr(ov(o,h)),_=Wr(ov(w,b));return{marginBox:v,borderBox:Wr(o),paddingBox:w,contentBox:_,margin:u,border:h,padding:b}},Dr=function(i){var o=i.slice(0,-2),l=i.slice(-2);if(l!=="px")return 0;var u=Number(o);return isNaN(u)&&t3(),u},n3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qd=function(i,o){var l=i.borderBox,u=i.border,d=i.margin,h=i.padding,p=e3(l,o);return a0({borderBox:p,border:u,margin:d,padding:h})},Vd=function(i,o){return o===void 0&&(o=n3()),qd(i,o)},O_=function(i,o){var l={top:Dr(o.marginTop),right:Dr(o.marginRight),bottom:Dr(o.marginBottom),left:Dr(o.marginLeft)},u={top:Dr(o.paddingTop),right:Dr(o.paddingRight),bottom:Dr(o.paddingBottom),left:Dr(o.paddingLeft)},d={top:Dr(o.borderTopWidth),right:Dr(o.borderRightWidth),bottom:Dr(o.borderBottomWidth),left:Dr(o.borderLeftWidth)};return a0({borderBox:i,margin:l,padding:u,border:d})},C_=function(i){var o=i.getBoundingClientRect(),l=window.getComputedStyle(i);return O_(o,l)},Dc=function(i){var o=[],l=null,u=function(){for(var h=arguments.length,p=new Array(h),b=0;b<h;b++)p[b]=arguments[b];o=p,!l&&(l=requestAnimationFrame(function(){l=null,i.apply(void 0,o)}))};return u.cancel=function(){l&&(cancelAnimationFrame(l),l=null)},u};function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var l in o)({}).hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},Fd.apply(null,arguments)}function L_(t,i){}L_.bind(null,"warn");L_.bind(null,"error");function Fa(){}function r3(t,i){return{...t,...i}}function Or(t,i,o){const l=i.map(u=>{const d=r3(o,u.options);return t.addEventListener(u.eventName,u.fn,d),function(){t.removeEventListener(u.eventName,u.fn,d)}});return function(){l.forEach(d=>{d()})}}const i3="Invariant failed";class Kd extends Error{}Kd.prototype.toString=function(){return this.message};function Mt(t,i){throw new Kd(i3)}class a3 extends ke.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=Fa,this.onWindowError=o=>{const l=this.getCallbacks();l.isDragging()&&l.tryAbort(),o.error instanceof Kd&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Or(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof Kd){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const o3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Xd=t=>t+1,s3=t=>`
  You have lifted an item in position ${Xd(t.source.index)}
`,B_=(t,i)=>{const o=t.droppableId===i.droppableId,l=Xd(t.index),u=Xd(i.index);return o?`
      You have moved the item from position ${l}
      to position ${u}
    `:`
    You have moved the item from position ${l}
    in list ${t.droppableId}
    to list ${i.droppableId}
    in position ${u}
  `},R_=(t,i,o)=>i.droppableId===o.droppableId?`
      The item ${t}
      has been combined with ${o.draggableId}`:`
      The item ${t}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,l3=t=>{const i=t.destination;if(i)return B_(t.source,i);const o=t.combine;return o?R_(t.draggableId,t.source,o):"You are over an area that cannot be dropped on"},sv=t=>`
  The item has returned to its starting position
  of ${Xd(t.index)}
`,c3=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${sv(t.source)}
    `;const i=t.destination,o=t.combine;return i?`
      You have dropped the item.
      ${B_(t.source,i)}
    `:o?`
      You have dropped the item.
      ${R_(t.draggableId,t.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${sv(t.source)}
  `},Id={dragHandleUsageInstructions:o3,onDragStart:s3,onDragUpdate:l3,onDragEnd:c3};function u3(t,i){return!!(t===i||Number.isNaN(t)&&Number.isNaN(i))}function P_(t,i){if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(!u3(t[o],i[o]))return!1;return!0}function oe(t,i){const o=R.useState(()=>({inputs:i,result:t()}))[0],l=R.useRef(!0),u=R.useRef(o),h=l.current||!!(i&&u.current.inputs&&P_(i,u.current.inputs))?u.current:{inputs:i,result:t()};return R.useEffect(()=>{l.current=!1,u.current=h},[h]),h.result}function Pt(t,i){return oe(()=>t,i)}const hn={x:0,y:0},Sn=(t,i)=>({x:t.x+i.x,y:t.y+i.y}),fr=(t,i)=>({x:t.x-i.x,y:t.y-i.y}),Ka=(t,i)=>t.x===i.x&&t.y===i.y,Ks=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ho=(t,i,o=0)=>t==="x"?{x:i,y:o}:{x:o,y:i},Ac=(t,i)=>Math.sqrt((i.x-t.x)**2+(i.y-t.y)**2),lv=(t,i)=>Math.min(...i.map(o=>Ac(t,o))),z_=t=>i=>({x:t(i.x),y:t(i.y)});var d3=(t,i)=>{const o=Wr({top:Math.max(i.top,t.top),right:Math.min(i.right,t.right),bottom:Math.min(i.bottom,t.bottom),left:Math.max(i.left,t.left)});return o.width<=0||o.height<=0?null:o};const Hc=(t,i)=>({top:t.top+i.y,left:t.left+i.x,bottom:t.bottom+i.y,right:t.right+i.x}),cv=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],f3={top:0,right:0,bottom:0,left:0},h3=(t,i)=>i?Hc(t,i.scroll.diff.displacement):t,m3=(t,i,o)=>o&&o.increasedBy?{...t,[i.end]:t[i.end]+o.increasedBy[i.line]}:t,p3=(t,i)=>i&&i.shouldClipSubject?d3(i.pageMarginBox,t):Wr(t);var Us=({page:t,withPlaceholder:i,axis:o,frame:l})=>{const u=h3(t.marginBox,l),d=m3(u,o,i),h=p3(d,l);return{page:t,withPlaceholder:i,active:h}},o0=(t,i)=>{t.frame||Mt();const o=t.frame,l=fr(i,o.scroll.initial),u=Ks(l),d={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:l,displacement:u},max:o.scroll.max}},h=Us({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:d});return{...t,frame:d,subject:h}};function fn(t,i=P_){let o=null;function l(...u){if(o&&o.lastThis===this&&i(u,o.lastArgs))return o.lastResult;const d=t.apply(this,u);return o={lastResult:d,lastArgs:u,lastThis:this},d}return l.clear=function(){o=null},l}const H_=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),I_=fn(t=>t.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),wf=fn(t=>Object.values(t)),g3=fn(t=>Object.values(t));var Xs=fn((t,i)=>g3(i).filter(l=>t===l.descriptor.droppableId).sort((l,u)=>l.descriptor.index-u.descriptor.index));function s0(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Tf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Ef=fn((t,i)=>i.filter(o=>o.descriptor.id!==t.descriptor.id)),b3=({isMovingForward:t,draggable:i,destination:o,insideDestination:l,previousImpact:u})=>{if(!o.isCombineEnabled||!s0(u))return null;function h(T){const D={type:"COMBINE",combine:{draggableId:T,droppableId:o.descriptor.id}};return{...u,at:D}}const p=u.displaced.all,b=p.length?p[0]:null;if(t)return b?h(b):null;const v=Ef(i,l);if(!b){if(!v.length)return null;const T=v[v.length-1];return h(T.descriptor.id)}const w=v.findIndex(T=>T.descriptor.id===b);w===-1&&Mt();const _=w-1;if(_<0)return null;const S=v[_];return h(S.descriptor.id)},Ws=(t,i)=>t.descriptor.droppableId===i.descriptor.id;const $_={point:hn,value:0},jc={invisible:{},visible:{},all:[]},y3={displaced:jc,displacedBy:$_,at:null};var Br=(t,i)=>o=>t<=o&&o<=i,U_=t=>{const i=Br(t.top,t.bottom),o=Br(t.left,t.right);return l=>{if(i(l.top)&&i(l.bottom)&&o(l.left)&&o(l.right))return!0;const d=i(l.top)||i(l.bottom),h=o(l.left)||o(l.right);if(d&&h)return!0;const b=l.top<t.top&&l.bottom>t.bottom,v=l.left<t.left&&l.right>t.right;return b&&v?!0:b&&h||v&&d}},v3=t=>{const i=Br(t.top,t.bottom),o=Br(t.left,t.right);return l=>i(l.top)&&i(l.bottom)&&o(l.left)&&o(l.right)};const l0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},G_={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var x3=t=>i=>{const o=Br(i.top,i.bottom),l=Br(i.left,i.right);return u=>t===l0?o(u.top)&&o(u.bottom):l(u.left)&&l(u.right)};const _3=(t,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:hn;return Hc(t,o)},S3=(t,i,o)=>i.subject.active?o(i.subject.active)(t):!1,w3=(t,i,o)=>o(i)(t),c0=({target:t,destination:i,viewport:o,withDroppableDisplacement:l,isVisibleThroughFrameFn:u})=>{const d=l?_3(t,i):t;return S3(d,i,u)&&w3(d,o,u)},T3=t=>c0({...t,isVisibleThroughFrameFn:U_}),Z_=t=>c0({...t,isVisibleThroughFrameFn:v3}),E3=t=>c0({...t,isVisibleThroughFrameFn:x3(t.destination.axis)}),N3=(t,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:l,visible:u}=i;if(l[t])return!1;const d=u[t];return d?d.shouldAnimate:!0};function M3(t,i){const o=t.page.marginBox,l={top:i.point.y,right:0,bottom:0,left:i.point.x};return Wr(i0(o,l))}function kc({afterDragging:t,destination:i,displacedBy:o,viewport:l,forceShouldAnimate:u,last:d}){return t.reduce(function(p,b){const v=M3(b,o),w=b.descriptor.id;if(p.all.push(w),!T3({target:v,destination:i,viewport:l,withDroppableDisplacement:!0}))return p.invisible[b.descriptor.id]=!0,p;const S=N3(w,d,u),T={draggableId:w,shouldAnimate:S};return p.visible[w]=T,p},{all:[],visible:{},invisible:{}})}function D3(t,i){if(!t.length)return 0;const o=t[t.length-1].descriptor.index;return i.inHomeList?o:o+1}function uv({insideDestination:t,inHomeList:i,displacedBy:o,destination:l}){const u=D3(t,{inHomeList:i});return{displaced:jc,displacedBy:o,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:u}}}}function Wd({draggable:t,insideDestination:i,destination:o,viewport:l,displacedBy:u,last:d,index:h,forceShouldAnimate:p}){const b=Ws(t,o);if(h==null)return uv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const v=i.find(D=>D.descriptor.index===h);if(!v)return uv({insideDestination:i,inHomeList:b,displacedBy:u,destination:o});const w=Ef(t,i),_=i.indexOf(v),S=w.slice(_);return{displaced:kc({afterDragging:S,destination:o,displacedBy:u,last:d,viewport:l.frame,forceShouldAnimate:p}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:h}}}}function Xa(t,i){return!!i.effected[t]}var A3=({isMovingForward:t,destination:i,draggables:o,combine:l,afterCritical:u})=>{if(!i.isCombineEnabled)return null;const d=l.draggableId,p=o[d].descriptor.index;return Xa(d,u)?t?p:p-1:t?p+1:p},j3=({isMovingForward:t,isInHomeList:i,insideDestination:o,location:l})=>{if(!o.length)return null;const u=l.index,d=t?u+1:u-1,h=o[0].descriptor.index,p=o[o.length-1].descriptor.index,b=i?p:p+1;return d<h||d>b?null:d},k3=({isMovingForward:t,isInHomeList:i,draggable:o,draggables:l,destination:u,insideDestination:d,previousImpact:h,viewport:p,afterCritical:b})=>{const v=h.at;if(v||Mt(),v.type==="REORDER"){const _=j3({isMovingForward:t,isInHomeList:i,location:v.destination,insideDestination:d});return _==null?null:Wd({draggable:o,insideDestination:d,destination:u,viewport:p,last:h.displaced,displacedBy:h.displacedBy,index:_})}const w=A3({isMovingForward:t,destination:u,displaced:h.displaced,draggables:l,combine:v.combine,afterCritical:b});return w==null?null:Wd({draggable:o,insideDestination:d,destination:u,viewport:p,last:h.displaced,displacedBy:h.displacedBy,index:w})},O3=({displaced:t,afterCritical:i,combineWith:o,displacedBy:l})=>{const u=!!(t.visible[o]||t.invisible[o]);return Xa(o,i)?u?hn:Ks(l.point):u?l.point:hn},C3=({afterCritical:t,impact:i,draggables:o})=>{const l=Tf(i);l||Mt();const u=l.draggableId,d=o[u].page.borderBox.center,h=O3({displaced:i.displaced,afterCritical:t,combineWith:u,displacedBy:i.displacedBy});return Sn(d,h)};const Y_=(t,i)=>i.margin[t.start]+i.borderBox[t.size]/2,L3=(t,i)=>i.margin[t.end]+i.borderBox[t.size]/2,u0=(t,i,o)=>i[t.crossAxisStart]+o.margin[t.crossAxisStart]+o.borderBox[t.crossAxisSize]/2,dv=({axis:t,moveRelativeTo:i,isMoving:o})=>Ho(t.line,i.marginBox[t.end]+Y_(t,o),u0(t,i.marginBox,o)),fv=({axis:t,moveRelativeTo:i,isMoving:o})=>Ho(t.line,i.marginBox[t.start]-L3(t,o),u0(t,i.marginBox,o)),B3=({axis:t,moveInto:i,isMoving:o})=>Ho(t.line,i.contentBox[t.start]+Y_(t,o),u0(t,i.contentBox,o));var R3=({impact:t,draggable:i,draggables:o,droppable:l,afterCritical:u})=>{const d=Xs(l.descriptor.id,o),h=i.page,p=l.axis;if(!d.length)return B3({axis:p,moveInto:l.page,isMoving:h});const{displaced:b,displacedBy:v}=t,w=b.all[0];if(w){const S=o[w];if(Xa(w,u))return fv({axis:p,moveRelativeTo:S.page,isMoving:h});const T=qd(S.page,v.point);return fv({axis:p,moveRelativeTo:T,isMoving:h})}const _=d[d.length-1];if(_.descriptor.id===i.descriptor.id)return h.borderBox.center;if(Xa(_.descriptor.id,u)){const S=qd(_.page,Ks(u.displacedBy.point));return dv({axis:p,moveRelativeTo:S,isMoving:h})}return dv({axis:p,moveRelativeTo:_.page,isMoving:h})},Rp=(t,i)=>{const o=t.frame;return o?Sn(i,o.scroll.diff.displacement):i};const P3=({impact:t,draggable:i,droppable:o,draggables:l,afterCritical:u})=>{const d=i.page.borderBox.center,h=t.at;return!o||!h?d:h.type==="REORDER"?R3({impact:t,draggable:i,draggables:l,droppable:o,afterCritical:u}):C3({impact:t,draggables:l,afterCritical:u})};var Nf=t=>{const i=P3(t),o=t.droppable;return o?Rp(o,i):i},q_=(t,i)=>{const o=fr(i,t.scroll.initial),l=Ks(o);return{frame:Wr({top:i.y,bottom:i.y+t.frame.height,left:i.x,right:i.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:i,diff:{value:o,displacement:l}}}};function hv(t,i){return t.map(o=>i[o])}function z3(t,i){for(let o=0;o<i.length;o++){const l=i[o].visible[t];if(l)return l}return null}var H3=({impact:t,viewport:i,destination:o,draggables:l,maxScrollChange:u})=>{const d=q_(i,Sn(i.scroll.current,u)),h=o.frame?o0(o,Sn(o.frame.scroll.current,u)):o,p=t.displaced,b=kc({afterDragging:hv(p.all,l),destination:o,displacedBy:t.displacedBy,viewport:d.frame,last:p,forceShouldAnimate:!1}),v=kc({afterDragging:hv(p.all,l),destination:h,displacedBy:t.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),w={},_={},S=[p,b,v];return p.all.forEach(D=>{const M=z3(D,S);if(M){_[D]=M;return}w[D]=!0}),{...t,displaced:{all:p.all,invisible:w,visible:_}}},I3=(t,i)=>Sn(t.scroll.diff.displacement,i),d0=({pageBorderBoxCenter:t,draggable:i,viewport:o})=>{const l=I3(o,t),u=fr(l,i.page.borderBox.center);return Sn(i.client.borderBox.center,u)},V_=({draggable:t,destination:i,newPageBorderBoxCenter:o,viewport:l,withDroppableDisplacement:u,onlyOnMainAxis:d=!1})=>{const h=fr(o,t.page.borderBox.center),b={target:Hc(t.page.borderBox,h),destination:i,withDroppableDisplacement:u,viewport:l};return d?E3(b):Z_(b)},$3=({isMovingForward:t,draggable:i,destination:o,draggables:l,previousImpact:u,viewport:d,previousPageBorderBoxCenter:h,previousClientSelection:p,afterCritical:b})=>{if(!o.isEnabled)return null;const v=Xs(o.descriptor.id,l),w=Ws(i,o),_=b3({isMovingForward:t,draggable:i,destination:o,insideDestination:v,previousImpact:u})||k3({isMovingForward:t,isInHomeList:w,draggable:i,draggables:l,destination:o,insideDestination:v,previousImpact:u,viewport:d,afterCritical:b});if(!_)return null;const S=Nf({impact:_,draggable:i,droppable:o,draggables:l,afterCritical:b});if(V_({draggable:i,destination:o,newPageBorderBoxCenter:S,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:d0({pageBorderBoxCenter:S,draggable:i,viewport:d}),impact:_,scrollJumpRequest:null};const D=fr(S,h),M=H3({impact:_,viewport:d,destination:o,draggables:l,maxScrollChange:D});return{clientSelection:p,impact:M,scrollJumpRequest:D}};const Rn=t=>{const i=t.subject.active;return i||Mt(),i};var U3=({isMovingForward:t,pageBorderBoxCenter:i,source:o,droppables:l,viewport:u})=>{const d=o.subject.active;if(!d)return null;const h=o.axis,p=Br(d[h.start],d[h.end]),b=wf(l).filter(w=>w!==o).filter(w=>w.isEnabled).filter(w=>!!w.subject.active).filter(w=>U_(u.frame)(Rn(w))).filter(w=>{const _=Rn(w);return t?d[h.crossAxisEnd]<_[h.crossAxisEnd]:_[h.crossAxisStart]<d[h.crossAxisStart]}).filter(w=>{const _=Rn(w),S=Br(_[h.start],_[h.end]);return p(_[h.start])||p(_[h.end])||S(d[h.start])||S(d[h.end])}).sort((w,_)=>{const S=Rn(w)[h.crossAxisStart],T=Rn(_)[h.crossAxisStart];return t?S-T:T-S}).filter((w,_,S)=>Rn(w)[h.crossAxisStart]===Rn(S[0])[h.crossAxisStart]);if(!b.length)return null;if(b.length===1)return b[0];const v=b.filter(w=>Br(Rn(w)[h.start],Rn(w)[h.end])(i[h.line]));return v.length===1?v[0]:v.length>1?v.sort((w,_)=>Rn(w)[h.start]-Rn(_)[h.start])[0]:b.sort((w,_)=>{const S=lv(i,cv(Rn(w))),T=lv(i,cv(Rn(_)));return S!==T?S-T:Rn(w)[h.start]-Rn(_)[h.start]})[0]};const mv=(t,i)=>{const o=t.page.borderBox.center;return Xa(t.descriptor.id,i)?fr(o,i.displacedBy.point):o},G3=(t,i)=>{const o=t.page.borderBox;return Xa(t.descriptor.id,i)?Hc(o,Ks(i.displacedBy.point)):o};var Z3=({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:l,afterCritical:u})=>l.filter(h=>Z_({target:G3(h,u),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((h,p)=>{const b=Ac(t,Rp(o,mv(h,u))),v=Ac(t,Rp(o,mv(p,u)));return b<v?-1:v<b?1:h.descriptor.index-p.descriptor.index})[0]||null,Ic=fn(function(i,o){const l=o[i.line];return{value:l,point:Ho(i.line,l)}});const Y3=(t,i,o)=>{const l=t.axis;if(t.descriptor.mode==="virtual")return Ho(l.line,i[l.line]);const u=t.subject.page.contentBox[l.size],b=Xs(t.descriptor.id,o).reduce((v,w)=>v+w.client.marginBox[l.size],0)+i[l.line]-u;return b<=0?null:Ho(l.line,b)},F_=(t,i)=>({...t,scroll:{...t.scroll,max:i}}),K_=(t,i,o)=>{const l=t.frame;Ws(i,t)&&Mt(),t.subject.withPlaceholder&&Mt();const u=Ic(t.axis,i.displaceBy).point,d=Y3(t,u,o),h={placeholderSize:u,increasedBy:d,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!l){const w=Us({page:t.subject.page,withPlaceholder:h,axis:t.axis,frame:t.frame});return{...t,subject:w}}const p=d?Sn(l.scroll.max,d):l.scroll.max,b=F_(l,p),v=Us({page:t.subject.page,withPlaceholder:h,axis:t.axis,frame:b});return{...t,subject:v,frame:b}},q3=t=>{const i=t.subject.withPlaceholder;i||Mt();const o=t.frame;if(!o){const h=Us({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:h}}const l=i.oldFrameMaxScroll;l||Mt();const u=F_(o,l),d=Us({page:t.subject.page,axis:t.axis,frame:u,withPlaceholder:null});return{...t,subject:d,frame:u}};var V3=({previousPageBorderBoxCenter:t,moveRelativeTo:i,insideDestination:o,draggable:l,draggables:u,destination:d,viewport:h,afterCritical:p})=>{if(!i){if(o.length)return null;const _={displaced:jc,displacedBy:$_,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:0}}},S=Nf({impact:_,draggable:l,droppable:d,draggables:u,afterCritical:p}),T=Ws(l,d)?d:K_(d,l,u);return V_({draggable:l,destination:T,newPageBorderBoxCenter:S,viewport:h.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?_:null}const b=t[d.axis.line]<=i.page.borderBox.center[d.axis.line],v=(()=>{const _=i.descriptor.index;return i.descriptor.id===l.descriptor.id||b?_:_+1})(),w=Ic(d.axis,l.displaceBy);return Wd({draggable:l,insideDestination:o,destination:d,viewport:h,displacedBy:w,last:jc,index:v})},F3=({isMovingForward:t,previousPageBorderBoxCenter:i,draggable:o,isOver:l,draggables:u,droppables:d,viewport:h,afterCritical:p})=>{const b=U3({isMovingForward:t,pageBorderBoxCenter:i,source:l,droppables:d,viewport:h});if(!b)return null;const v=Xs(b.descriptor.id,u),w=Z3({pageBorderBoxCenter:i,viewport:h,destination:b,insideDestination:v,afterCritical:p}),_=V3({previousPageBorderBoxCenter:i,destination:b,draggable:o,draggables:u,moveRelativeTo:w,insideDestination:v,viewport:h,afterCritical:p});if(!_)return null;const S=Nf({impact:_,draggable:o,droppable:b,draggables:u,afterCritical:p});return{clientSelection:d0({pageBorderBoxCenter:S,draggable:o,viewport:h}),impact:_,scrollJumpRequest:null}},hr=t=>{const i=t.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const K3=(t,i)=>{const o=hr(t);return o?i[o]:null};var X3=({state:t,type:i})=>{const o=K3(t.impact,t.dimensions.droppables),l=!!o,u=t.dimensions.droppables[t.critical.droppable.id],d=o||u,h=d.axis.direction,p=h==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||h==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!l)return null;const b=i==="MOVE_DOWN"||i==="MOVE_RIGHT",v=t.dimensions.draggables[t.critical.draggable.id],w=t.current.page.borderBoxCenter,{draggables:_,droppables:S}=t.dimensions;return p?$3({isMovingForward:b,previousPageBorderBoxCenter:w,draggable:v,destination:d,draggables:_,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):F3({isMovingForward:b,previousPageBorderBoxCenter:w,draggable:v,isOver:d,draggables:_,droppables:S,viewport:t.viewport,afterCritical:t.afterCritical})};function Bo(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function X_(t){const i=Br(t.top,t.bottom),o=Br(t.left,t.right);return function(u){return i(u.y)&&o(u.x)}}function W3(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top}function Q3({pageBorderBox:t,draggable:i,candidates:o}){const l=i.page.borderBox.center,u=o.map(d=>{const h=d.axis,p=Ho(d.axis.line,t.center[h.line],d.page.borderBox.center[h.crossAxisLine]);return{id:d.descriptor.id,distance:Ac(l,p)}}).sort((d,h)=>h.distance-d.distance);return u[0]?u[0].id:null}function J3({pageBorderBox:t,draggable:i,droppables:o}){const l=wf(o).filter(u=>{if(!u.isEnabled)return!1;const d=u.subject.active;if(!d||!W3(t,d))return!1;if(X_(d)(t.center))return!0;const h=u.axis,p=d.center[h.crossAxisLine],b=t[h.crossAxisStart],v=t[h.crossAxisEnd],w=Br(d[h.crossAxisStart],d[h.crossAxisEnd]),_=w(b),S=w(v);return!_&&!S?!0:_?b<p:v>p});return l.length?l.length===1?l[0].descriptor.id:Q3({pageBorderBox:t,draggable:i,candidates:l}):null}const W_=(t,i)=>Wr(Hc(t,i));var tN=(t,i)=>{const o=t.frame;return o?W_(i,o.scroll.diff.value):i};function Q_({displaced:t,id:i}){return!!(t.visible[i]||t.invisible[i])}function eN({draggable:t,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>t.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var nN=({pageBorderBoxWithDroppableScroll:t,draggable:i,destination:o,insideDestination:l,last:u,viewport:d,afterCritical:h})=>{const p=o.axis,b=Ic(o.axis,i.displaceBy),v=b.value,w=t[p.start],_=t[p.end],T=Ef(i,l).find(M=>{const k=M.descriptor.id,I=M.page.borderBox.center[p.line],H=Xa(k,h),j=Q_({displaced:u,id:k});return H?j?_<=I:w<I-v:j?_<=I+v:w<I})||null,D=eN({draggable:i,closest:T,inHomeList:Ws(i,o)});return Wd({draggable:i,insideDestination:l,destination:o,viewport:d,last:u,displacedBy:b,index:D})};const rN=4;var iN=({draggable:t,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:l,insideDestination:u,afterCritical:d})=>{if(!l.isCombineEnabled)return null;const h=l.axis,p=Ic(l.axis,t.displaceBy),b=p.value,v=i[h.start],w=i[h.end],S=Ef(t,u).find(D=>{const M=D.descriptor.id,k=D.page.borderBox,H=k[h.size]/rN,j=Xa(M,d),P=Q_({displaced:o.displaced,id:M});return j?P?w>k[h.start]+H&&w<k[h.end]-H:v>k[h.start]-b+H&&v<k[h.end]-b-H:P?w>k[h.start]+b+H&&w<k[h.end]+b-H:v>k[h.start]+H&&v<k[h.end]-H});return S?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:S.descriptor.id,droppableId:l.descriptor.id}}}:null},J_=({pageOffset:t,draggable:i,draggables:o,droppables:l,previousImpact:u,viewport:d,afterCritical:h})=>{const p=W_(i.page.borderBox,t),b=J3({pageBorderBox:p,draggable:i,droppables:l});if(!b)return y3;const v=l[b],w=Xs(v.descriptor.id,o),_=tN(v,p);return iN({pageBorderBoxWithDroppableScroll:_,draggable:i,previousImpact:u,destination:v,insideDestination:w,afterCritical:h})||nN({pageBorderBoxWithDroppableScroll:_,draggable:i,destination:v,insideDestination:w,last:u.displaced,viewport:d,afterCritical:h})},f0=(t,i)=>({...t,[i.descriptor.id]:i});const aN=({previousImpact:t,impact:i,droppables:o})=>{const l=hr(t),u=hr(i);if(!l||l===u)return o;const d=o[l];if(!d.subject.withPlaceholder)return o;const h=q3(d);return f0(o,h)};var oN=({draggable:t,draggables:i,droppables:o,previousImpact:l,impact:u})=>{const d=aN({previousImpact:l,impact:u,droppables:o}),h=hr(u);if(!h)return d;const p=o[h];if(Ws(t,p)||p.subject.withPlaceholder)return d;const b=K_(p,t,i);return f0(d,b)},wc=({state:t,clientSelection:i,dimensions:o,viewport:l,impact:u,scrollJumpRequest:d})=>{const h=l||t.viewport,p=o||t.dimensions,b=i||t.current.client.selection,v=fr(b,t.initial.client.selection),w={offset:v,selection:b,borderBoxCenter:Sn(t.initial.client.borderBoxCenter,v)},_={selection:Sn(w.selection,h.scroll.current),borderBoxCenter:Sn(w.borderBoxCenter,h.scroll.current),offset:Sn(w.offset,h.scroll.diff.value)},S={client:w,page:_};if(t.phase==="COLLECTING")return{...t,dimensions:p,viewport:h,current:S};const T=p.draggables[t.critical.draggable.id],D=u||J_({pageOffset:_.offset,draggable:T,draggables:p.draggables,droppables:p.droppables,previousImpact:t.impact,viewport:h,afterCritical:t.afterCritical}),M=oN({draggable:T,impact:D,previousImpact:t.impact,draggables:p.draggables,droppables:p.droppables});return{...t,current:S,dimensions:{draggables:p.draggables,droppables:M},impact:D,viewport:h,scrollJumpRequest:d||null,forceShouldAnimate:d?!1:null}};function sN(t,i){return t.map(o=>i[o])}var t1=({impact:t,viewport:i,draggables:o,destination:l,forceShouldAnimate:u})=>{const d=t.displaced,h=sN(d.all,o),p=kc({afterDragging:h,destination:l,displacedBy:t.displacedBy,viewport:i.frame,forceShouldAnimate:u,last:d});return{...t,displaced:p}},e1=({impact:t,draggable:i,droppable:o,draggables:l,viewport:u,afterCritical:d})=>{const h=Nf({impact:t,draggable:i,draggables:l,droppable:o,afterCritical:d});return d0({pageBorderBoxCenter:h,draggable:i,viewport:u})},n1=({state:t,dimensions:i,viewport:o})=>{t.movementMode!=="SNAP"&&Mt();const l=t.impact,u=o||t.viewport,d=i||t.dimensions,{draggables:h,droppables:p}=d,b=h[t.critical.draggable.id],v=hr(l);v||Mt();const w=p[v],_=t1({impact:l,viewport:u,destination:w,draggables:h}),S=e1({impact:_,draggable:b,droppable:w,draggables:h,viewport:u,afterCritical:t.afterCritical});return wc({impact:_,clientSelection:S,state:t,dimensions:d,viewport:u})},lN=t=>({index:t.index,droppableId:t.droppableId}),r1=({draggable:t,home:i,draggables:o,viewport:l})=>{const u=Ic(i.axis,t.displaceBy),d=Xs(i.descriptor.id,o),h=d.indexOf(t);h===-1&&Mt();const p=d.slice(h+1),b=p.reduce((S,T)=>(S[T.descriptor.id]=!0,S),{}),v={inVirtualList:i.descriptor.mode==="virtual",displacedBy:u,effected:b};return{impact:{displaced:kc({afterDragging:p,destination:i,displacedBy:u,last:null,viewport:l.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:lN(t.descriptor)}},afterCritical:v}},cN=(t,i)=>({draggables:t.draggables,droppables:f0(t.droppables,i)}),uN=({draggable:t,offset:i,initialWindowScroll:o})=>{const l=qd(t.client,i),u=Vd(l,o);return{...t,placeholder:{...t.placeholder,client:l},client:l,page:u}},dN=t=>{const i=t.frame;return i||Mt(),i},fN=({additions:t,updatedDroppables:i,viewport:o})=>{const l=o.scroll.diff.value;return t.map(u=>{const d=u.descriptor.droppableId,h=i[d],b=dN(h).scroll.diff.value,v=Sn(l,b);return uN({draggable:u,offset:v,initialWindowScroll:o.scroll.initial})})},hN=({state:t,published:i})=>{const o=i.modified.map(I=>{const H=t.dimensions.droppables[I.droppableId];return o0(H,I.scroll)}),l={...t.dimensions.droppables,...H_(o)},u=I_(fN({additions:i.additions,updatedDroppables:l,viewport:t.viewport})),d={...t.dimensions.draggables,...u};i.removals.forEach(I=>{delete d[I]});const h={droppables:l,draggables:d},p=hr(t.impact),b=p?h.droppables[p]:null,v=h.draggables[t.critical.draggable.id],w=h.droppables[t.critical.droppable.id],{impact:_,afterCritical:S}=r1({draggable:v,home:w,draggables:d,viewport:t.viewport}),T=b&&b.isCombineEnabled?t.impact:_,D=J_({pageOffset:t.current.page.offset,draggable:h.draggables[t.critical.draggable.id],draggables:h.draggables,droppables:h.droppables,previousImpact:T,viewport:t.viewport,afterCritical:S}),M={...t,phase:"DRAGGING",impact:D,onLiftImpact:_,dimensions:h,afterCritical:S,forceShouldAnimate:!1};return t.phase==="COLLECTING"?M:{...M,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Pp=t=>t.movementMode==="SNAP",qm=(t,i,o)=>{const l=cN(t.dimensions,i);return!Pp(t)||o?wc({state:t,dimensions:l}):n1({state:t,dimensions:l})};function Vm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const pv={phase:"IDLE",completed:null,shouldFlush:!1};var mN=(t=pv,i)=>{if(i.type==="FLUSH")return{...pv,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Mt();const{critical:o,clientSelection:l,viewport:u,dimensions:d,movementMode:h}=i.payload,p=d.draggables[o.draggable.id],b=d.droppables[o.droppable.id],v={selection:l,borderBoxCenter:p.client.borderBox.center,offset:hn},w={client:v,page:{selection:Sn(v.selection,u.scroll.initial),borderBoxCenter:Sn(v.selection,u.scroll.initial),offset:Sn(v.selection,u.scroll.diff.value)}},_=wf(d.droppables).every(M=>!M.isFixedOnPage),{impact:S,afterCritical:T}=r1({draggable:p,home:b,draggables:d.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:h,dimensions:d,initial:w,current:w,isWindowScrollAllowed:_,impact:S,afterCritical:T,onLiftImpact:S,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Mt(),{...t,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Mt(),hN({state:t,published:i.payload});if(i.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Bo(t)||Mt();const{client:o}=i.payload;return Ka(o,t.current.client.selection)?t:wc({state:t,clientSelection:o,impact:Pp(t)?t.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Vm(t);Bo(t)||Mt();const{id:o,newScroll:l}=i.payload,u=t.dimensions.droppables[o];if(!u)return t;const d=o0(u,l);return qm(t,d,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Bo(t)||Mt();const{id:o,isEnabled:l}=i.payload,u=t.dimensions.droppables[o];u||Mt(),u.isEnabled===l&&Mt();const d={...u,isEnabled:l};return qm(t,d,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Bo(t)||Mt();const{id:o,isCombineEnabled:l}=i.payload,u=t.dimensions.droppables[o];u||Mt(),u.isCombineEnabled===l&&Mt();const d={...u,isCombineEnabled:l};return qm(t,d,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Bo(t)||Mt(),t.isWindowScrollAllowed||Mt();const o=i.payload.newScroll;if(Ka(t.viewport.scroll.current,o))return Vm(t);const l=q_(t.viewport,o);return Pp(t)?n1({state:t,viewport:l}):wc({state:t,viewport:l})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bo(t))return t;const o=i.payload.maxScroll;if(Ka(o,t.viewport.scroll.max))return t;const l={...t.viewport,scroll:{...t.viewport.scroll,max:o}};return{...t,viewport:l}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Mt();const o=X3({state:t,type:i.type});return o?wc({state:t,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):t}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return t.phase!=="COLLECTING"&&Mt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:l,newHomeClientOffset:u}=i.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Mt(),{phase:"DROP_ANIMATING",completed:o,dropDuration:l,newHomeClientOffset:u,dimensions:t.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return t};function fe(t,i){return t instanceof Object&&"type"in t&&t.type===i}const pN=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),gN=t=>({type:"LIFT",payload:t}),bN=t=>({type:"INITIAL_PUBLISH",payload:t}),yN=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),vN=()=>({type:"COLLECTION_STARTING",payload:null}),xN=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),_N=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),SN=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),i1=t=>({type:"MOVE",payload:t}),wN=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),TN=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),EN=()=>({type:"MOVE_UP",payload:null}),NN=()=>({type:"MOVE_DOWN",payload:null}),MN=()=>({type:"MOVE_RIGHT",payload:null}),DN=()=>({type:"MOVE_LEFT",payload:null}),h0=()=>({type:"FLUSH",payload:null}),AN=t=>({type:"DROP_ANIMATE",payload:t}),m0=t=>({type:"DROP_COMPLETE",payload:t}),a1=t=>({type:"DROP",payload:t}),jN=t=>({type:"DROP_PENDING",payload:t}),o1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var kN=t=>({getState:i,dispatch:o})=>l=>u=>{if(!fe(u,"LIFT")){l(u);return}const{id:d,clientSelection:h,movementMode:p}=u.payload,b=i();b.phase==="DROP_ANIMATING"&&o(m0({completed:b.completed})),i().phase!=="IDLE"&&Mt(),o(h0()),o(pN({draggableId:d,movementMode:p}));const w={draggableId:d,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:_,dimensions:S,viewport:T}=t.startPublishing(w);o(bN({critical:_,dimensions:S,clientSelection:h,movementMode:p,viewport:T}))},ON=t=>()=>i=>o=>{fe(o,"INITIAL_PUBLISH")&&t.dragging(),fe(o,"DROP_ANIMATE")&&t.dropping(o.payload.completed.result.reason),(fe(o,"FLUSH")||fe(o,"DROP_COMPLETE"))&&t.resting(),i(o)};const p0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Oc={opacity:{drop:0,combining:.7},scale:{drop:.75}},s1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jo=`${s1.outOfTheWay}s ${p0.outOfTheWay}`,Tc={fluid:`opacity ${jo}`,snap:`transform ${jo}, opacity ${jo}`,drop:t=>{const i=`${t}s ${p0.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${jo}`,placeholder:`height ${jo}, width ${jo}, margin ${jo}`},gv=t=>Ka(t,hn)?void 0:`translate(${t.x}px, ${t.y}px)`,zp={moveTo:gv,drop:(t,i)=>{const o=gv(t);if(o)return i?`${o} scale(${Oc.scale.drop})`:o}},{minDropTime:Hp,maxDropTime:l1}=s1,CN=l1-Hp,bv=1500,LN=.6;var BN=({current:t,destination:i,reason:o})=>{const l=Ac(t,i);if(l<=0)return Hp;if(l>=bv)return l1;const u=l/bv,d=Hp+CN*u,h=o==="CANCEL"?d*LN:d;return Number(h.toFixed(2))},RN=({impact:t,draggable:i,dimensions:o,viewport:l,afterCritical:u})=>{const{draggables:d,droppables:h}=o,p=hr(t),b=p?h[p]:null,v=h[i.descriptor.droppableId],w=e1({impact:t,draggable:i,draggables:d,afterCritical:u,droppable:b||v,viewport:l});return fr(w,i.client.borderBox.center)},PN=({draggables:t,reason:i,lastImpact:o,home:l,viewport:u,onLiftImpact:d})=>!o.at||i!=="DROP"?{impact:t1({draggables:t,impact:d,destination:l,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:jc},didDropInsideDroppable:!0};const zN=({getState:t,dispatch:i})=>o=>l=>{if(!fe(l,"DROP")){o(l);return}const u=t(),d=l.payload.reason;if(u.phase==="COLLECTING"){i(jN({reason:d}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&Mt(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||Mt();const p=u.critical,b=u.dimensions,v=b.draggables[u.critical.draggable.id],{impact:w,didDropInsideDroppable:_}=PN({reason:d,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),S=_?s0(w):null,T=_?Tf(w):null,D={index:p.draggable.index,droppableId:p.droppable.id},M={draggableId:v.descriptor.id,type:v.descriptor.type,source:D,reason:d,mode:u.movementMode,destination:S,combine:T},k=RN({impact:w,draggable:v,dimensions:b,viewport:u.viewport,afterCritical:u.afterCritical}),I={critical:u.critical,afterCritical:u.afterCritical,result:M,impact:w};if(!(!Ka(u.current.client.offset,k)||!!M.combine)){i(m0({completed:I}));return}const j=BN({current:u.current.client.offset,destination:k,reason:d});i(AN({newHomeClientOffset:k,dropDuration:j,completed:I}))};var c1=()=>({x:window.pageXOffset,y:window.pageYOffset});function HN(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||t()}}}function IN({onWindowScroll:t}){function i(){t(c1())}const o=Dc(i),l=HN(o);let u=Fa;function d(){return u!==Fa}function h(){d()&&Mt(),u=Or(window,[l])}function p(){d()||Mt(),o.cancel(),u(),u=Fa}return{start:h,stop:p,isActive:d}}const $N=t=>fe(t,"DROP_COMPLETE")||fe(t,"DROP_ANIMATE")||fe(t,"FLUSH"),UN=t=>{const i=IN({onWindowScroll:o=>{t.dispatch(wN({newScroll:o}))}});return o=>l=>{!i.isActive()&&fe(l,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&$N(l)&&i.stop(),o(l)}};var GN=t=>{let i=!1,o=!1;const l=setTimeout(()=>{o=!0}),u=d=>{i||o||(i=!0,t(d),clearTimeout(l))};return u.wasCalled=()=>i,u},ZN=()=>{const t=[],i=u=>{const d=t.findIndex(p=>p.timerId===u);d===-1&&Mt();const[h]=t.splice(d,1);h.callback()};return{add:u=>{const d=setTimeout(()=>i(d)),h={timerId:d,callback:u};t.push(h)},flush:()=>{if(!t.length)return;const u=[...t];t.length=0,u.forEach(d=>{clearTimeout(d.timerId),d.callback()})}}};const YN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.droppableId===i.droppableId&&t.index===i.index,qN=(t,i)=>t==null&&i==null?!0:t==null||i==null?!1:t.draggableId===i.draggableId&&t.droppableId===i.droppableId,VN=(t,i)=>{if(t===i)return!0;const o=t.draggable.id===i.draggable.id&&t.draggable.droppableId===i.draggable.droppableId&&t.draggable.type===i.draggable.type&&t.draggable.index===i.draggable.index,l=t.droppable.id===i.droppable.id&&t.droppable.type===i.droppable.type;return o&&l},sc=(t,i)=>{i()},pd=(t,i)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:i});function Fm(t,i,o,l){if(!t){o(l(i));return}const u=GN(o);t(i,{announce:u}),u.wasCalled()||o(l(i))}var FN=(t,i)=>{const o=ZN();let l=null;const u=(_,S)=>{l&&Mt(),sc("onBeforeCapture",()=>{const T=t().onBeforeCapture;T&&T({draggableId:_,mode:S})})},d=(_,S)=>{l&&Mt(),sc("onBeforeDragStart",()=>{const T=t().onBeforeDragStart;T&&T(pd(_,S))})},h=(_,S)=>{l&&Mt();const T=pd(_,S);l={mode:S,lastCritical:_,lastLocation:T.source,lastCombine:null},o.add(()=>{sc("onDragStart",()=>Fm(t().onDragStart,T,i,Id.onDragStart))})},p=(_,S)=>{const T=s0(S),D=Tf(S);l||Mt();const M=!VN(_,l.lastCritical);M&&(l.lastCritical=_);const k=!YN(l.lastLocation,T);k&&(l.lastLocation=T);const I=!qN(l.lastCombine,D);if(I&&(l.lastCombine=D),!M&&!k&&!I)return;const H={...pd(_,l.mode),combine:D,destination:T};o.add(()=>{sc("onDragUpdate",()=>Fm(t().onDragUpdate,H,i,Id.onDragUpdate))})},b=()=>{l||Mt(),o.flush()},v=_=>{l||Mt(),l=null,sc("onDragEnd",()=>Fm(t().onDragEnd,_,i,Id.onDragEnd))};return{beforeCapture:u,beforeStart:d,start:h,update:p,flush:b,drop:v,abort:()=>{if(!l)return;const _={...pd(l.lastCritical,l.mode),combine:null,destination:null,reason:"CANCEL"};v(_)}}},KN=(t,i)=>{const o=FN(t,i);return l=>u=>d=>{if(fe(d,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(d.payload.draggableId,d.payload.movementMode);return}if(fe(d,"INITIAL_PUBLISH")){const p=d.payload.critical;o.beforeStart(p,d.payload.movementMode),u(d),o.start(p,d.payload.movementMode);return}if(fe(d,"DROP_COMPLETE")){const p=d.payload.completed.result;o.flush(),u(d),o.drop(p);return}if(u(d),fe(d,"FLUSH")){o.abort();return}const h=l.getState();h.phase==="DRAGGING"&&o.update(h.critical,h.impact)}};const XN=t=>i=>o=>{if(!fe(o,"DROP_ANIMATION_FINISHED")){i(o);return}const l=t.getState();l.phase!=="DROP_ANIMATING"&&Mt(),t.dispatch(m0({completed:l.completed}))},WN=t=>{let i=null,o=null;function l(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return u=>d=>{if((fe(d,"FLUSH")||fe(d,"DROP_COMPLETE")||fe(d,"DROP_ANIMATION_FINISHED"))&&l(),u(d),!fe(d,"DROP_ANIMATE"))return;const h={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(o1())}};o=requestAnimationFrame(()=>{o=null,i=Or(window,[h])})}};var QN=t=>()=>i=>o=>{(fe(o,"DROP_COMPLETE")||fe(o,"FLUSH")||fe(o,"DROP_ANIMATE"))&&t.stopPublishing(),i(o)},JN=t=>{let i=!1;return()=>o=>l=>{if(fe(l,"INITIAL_PUBLISH")){i=!0,t.tryRecordFocus(l.payload.critical.draggable.id),o(l),t.tryRestoreFocusRecorded();return}if(o(l),!!i){if(fe(l,"FLUSH")){i=!1,t.tryRestoreFocusRecorded();return}if(fe(l,"DROP_COMPLETE")){i=!1;const u=l.payload.completed.result;u.combine&&t.tryShiftRecord(u.draggableId,u.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const tM=t=>fe(t,"DROP_COMPLETE")||fe(t,"DROP_ANIMATE")||fe(t,"FLUSH");var eM=t=>i=>o=>l=>{if(tM(l)){t.stop(),o(l);return}if(fe(l,"INITIAL_PUBLISH")){o(l);const u=i.getState();u.phase!=="DRAGGING"&&Mt(),t.start(u);return}o(l),t.scroll(i.getState())};const nM=t=>i=>o=>{if(i(o),!fe(o,"PUBLISH_WHILE_DRAGGING"))return;const l=t.getState();l.phase==="DROP_PENDING"&&(l.isWaiting||t.dispatch(a1({reason:l.reason})))},rM=E_;var iM=({dimensionMarshal:t,focusMarshal:i,styleMarshal:o,getResponders:l,announce:u,autoScroller:d})=>T_(mN,rM(eE(ON(o),QN(t),kN(t),zN,XN,WN,nM,eM(d),UN,JN(i),KN(l,u))));const Km=()=>({additions:{},removals:{},modified:{}});function aM({registry:t,callbacks:i}){let o=Km(),l=null;const u=()=>{l||(i.collectionStarting(),l=requestAnimationFrame(()=>{l=null;const{additions:b,removals:v,modified:w}=o,_=Object.keys(b).map(D=>t.draggable.getById(D).getDimension(hn)).sort((D,M)=>D.descriptor.index-M.descriptor.index),S=Object.keys(w).map(D=>{const k=t.droppable.getById(D).callbacks.getScrollWhileDragging();return{droppableId:D,scroll:k}}),T={additions:_,removals:Object.keys(v),modified:S};o=Km(),i.publish(T)}))};return{add:b=>{const v=b.descriptor.id;o.additions[v]=b,o.modified[b.descriptor.droppableId]=!0,o.removals[v]&&delete o.removals[v],u()},remove:b=>{const v=b.descriptor;o.removals[v.id]=!0,o.modified[v.droppableId]=!0,o.additions[v.id]&&delete o.additions[v.id],u()},stop:()=>{l&&(cancelAnimationFrame(l),l=null,o=Km())}}}var u1=({scrollHeight:t,scrollWidth:i,height:o,width:l})=>{const u=fr({x:i,y:t},{x:l,y:o});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},d1=()=>{const t=document.documentElement;return t||Mt(),t},f1=()=>{const t=d1();return u1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},oM=()=>{const t=c1(),i=f1(),o=t.y,l=t.x,u=d1(),d=u.clientWidth,h=u.clientHeight,p=l+d,b=o+h;return{frame:Wr({top:o,left:l,right:p,bottom:b}),scroll:{initial:t,current:t,max:i,diff:{value:hn,displacement:hn}}}},sM=({critical:t,scrollOptions:i,registry:o})=>{const l=oM(),u=l.scroll.current,d=t.droppable,h=o.droppable.getAllByType(d.type).map(w=>w.callbacks.getDimensionAndWatchScroll(u,i)),p=o.draggable.getAllByType(t.draggable.type).map(w=>w.getDimension(u));return{dimensions:{draggables:I_(p),droppables:H_(h)},critical:t,viewport:l}};function yv(t,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||t.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var lM=(t,i)=>{let o=null;const l=aM({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:t}),u=(S,T)=>{t.droppable.exists(S)||Mt(),o&&i.updateDroppableIsEnabled({id:S,isEnabled:T})},d=(S,T)=>{o&&(t.droppable.exists(S)||Mt(),i.updateDroppableIsCombineEnabled({id:S,isCombineEnabled:T}))},h=(S,T)=>{o&&(t.droppable.exists(S)||Mt(),i.updateDroppableScroll({id:S,newScroll:T}))},p=(S,T)=>{o&&t.droppable.getById(S).callbacks.scroll(T)},b=()=>{if(!o)return;l.stop();const S=o.critical.droppable;t.droppable.getAllByType(S.type).forEach(T=>T.callbacks.dragStopped()),o.unsubscribe(),o=null},v=S=>{o||Mt();const T=o.critical.draggable;S.type==="ADDITION"&&yv(t,T,S.value)&&l.add(S.value),S.type==="REMOVAL"&&yv(t,T,S.value)&&l.remove(S.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:d,scrollDroppable:p,updateDroppableScroll:h,startPublishing:S=>{o&&Mt();const T=t.draggable.getById(S.draggableId),D=t.droppable.getById(T.descriptor.droppableId),M={draggable:T.descriptor,droppable:D.descriptor},k=t.subscribe(v);return o={critical:M,unsubscribe:k},sM({critical:M,registry:t,scrollOptions:S.scrollOptions})},stopPublishing:b}},h1=(t,i)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===i?!1:t.completed.result.reason==="DROP",cM=t=>{window.scrollBy(t.x,t.y)};const uM=fn(t=>wf(t).filter(i=>!(!i.isEnabled||!i.frame))),dM=(t,i)=>uM(i).find(l=>(l.frame||Mt(),X_(l.frame.pageMarginBox)(t)))||null;var fM=({center:t,destination:i,droppables:o})=>{if(i){const u=o[i];return u.frame?u:null}return dM(t,o)};const Cc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var hM=(t,i,o=()=>Cc)=>{const l=o(),u=t[i.size]*l.startFromPercentage,d=t[i.size]*l.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:d}},m1=({startOfRange:t,endOfRange:i,current:o})=>{const l=i-t;return l===0?0:(o-t)/l},g0=1,mM=(t,i,o=()=>Cc)=>{const l=o();if(t>i.startScrollingFrom)return 0;if(t<=i.maxScrollValueAt)return l.maxPixelScroll;if(t===i.startScrollingFrom)return g0;const d=1-m1({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:t}),h=l.maxPixelScroll*l.ease(d);return Math.ceil(h)},pM=(t,i,o)=>{const l=o(),u=l.durationDampening.accelerateAt,d=l.durationDampening.stopDampeningAt,h=i,p=d,v=Date.now()-h;if(v>=d)return t;if(v<u)return g0;const w=m1({startOfRange:u,endOfRange:p,current:v}),_=t*l.ease(w);return Math.ceil(_)},vv=({distanceToEdge:t,thresholds:i,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:u})=>{const d=mM(t,i,u);return d===0?0:l?Math.max(pM(d,o,u),g0):d},xv=({container:t,distanceToEdges:i,dragStartTime:o,axis:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=hM(t,l,d);return i[l.end]<i[l.start]?vv({distanceToEdge:i[l.end],thresholds:h,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d}):-1*vv({distanceToEdge:i[l.start],thresholds:h,dragStartTime:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d})},gM=({container:t,subject:i,proposedScroll:o})=>{const l=i.height>t.height,u=i.width>t.width;return!u&&!l?o:u&&l?null:{x:u?0:o.x,y:l?0:o.y}};const bM=z_(t=>t===0?0:t);var p1=({dragStartTime:t,container:i,subject:o,center:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h={top:l.y-i.top,right:i.right-l.x,bottom:i.bottom-l.y,left:l.x-i.left},p=xv({container:i,distanceToEdges:h,dragStartTime:t,axis:l0,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),b=xv({container:i,distanceToEdges:h,dragStartTime:t,axis:G_,shouldUseTimeDampening:u,getAutoScrollerOptions:d}),v=bM({x:b,y:p});if(Ka(v,hn))return null;const w=gM({container:i,subject:o,proposedScroll:v});return w?Ka(w,hn)?null:w:null};const yM=z_(t=>t===0?0:t>0?1:-1),b0=(()=>{const t=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:l})=>{const u=Sn(i,l),d={x:t(u.x,o.x),y:t(u.y,o.y)};return Ka(d,hn)?null:d}})(),g1=({max:t,current:i,change:o})=>{const l={x:Math.max(i.x,t.x),y:Math.max(i.y,t.y)},u=yM(o),d=b0({max:l,current:i,change:u});return!d||u.x!==0&&d.x===0||u.y!==0&&d.y===0},y0=(t,i)=>g1({current:t.scroll.current,max:t.scroll.max,change:i}),vM=(t,i)=>{if(!y0(t,i))return null;const o=t.scroll.max,l=t.scroll.current;return b0({current:l,max:o,change:i})},v0=(t,i)=>{const o=t.frame;return o?g1({current:o.scroll.current,max:o.scroll.max,change:i}):!1},xM=(t,i)=>{const o=t.frame;return!o||!v0(t,i)?null:b0({current:o.scroll.current,max:o.scroll.max,change:i})};var _M=({viewport:t,subject:i,center:o,dragStartTime:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=p1({dragStartTime:l,container:t.frame,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return h&&y0(t,h)?h:null},SM=({droppable:t,subject:i,center:o,dragStartTime:l,shouldUseTimeDampening:u,getAutoScrollerOptions:d})=>{const h=t.frame;if(!h)return null;const p=p1({dragStartTime:l,container:h.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:u,getAutoScrollerOptions:d});return p&&v0(t,p)?p:null},_v=({state:t,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:l,scrollDroppable:u,getAutoScrollerOptions:d})=>{const h=t.current.page.borderBoxCenter,b=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const _=t.viewport,S=_M({dragStartTime:i,viewport:_,subject:b,center:h,shouldUseTimeDampening:o,getAutoScrollerOptions:d});if(S){l(S);return}}const v=fM({center:h,destination:hr(t.impact),droppables:t.dimensions.droppables});if(!v)return;const w=SM({dragStartTime:i,droppable:v,subject:b,center:h,shouldUseTimeDampening:o,getAutoScrollerOptions:d});w&&u(v.descriptor.id,w)},wM=({scrollWindow:t,scrollDroppable:i,getAutoScrollerOptions:o=()=>Cc})=>{const l=Dc(t),u=Dc(i);let d=null;const h=v=>{d||Mt();const{shouldUseTimeDampening:w,dragStartTime:_}=d;_v({state:v,scrollWindow:l,scrollDroppable:u,dragStartTime:_,shouldUseTimeDampening:w,getAutoScrollerOptions:o})};return{start:v=>{d&&Mt();const w=Date.now();let _=!1;const S=()=>{_=!0};_v({state:v,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:S,scrollDroppable:S,getAutoScrollerOptions:o}),d={dragStartTime:w,shouldUseTimeDampening:_},_&&h(v)},stop:()=>{d&&(l.cancel(),u.cancel(),d=null)},scroll:h}},TM=({move:t,scrollDroppable:i,scrollWindow:o})=>{const l=(p,b)=>{const v=Sn(p.current.client.selection,b);t({client:v})},u=(p,b)=>{if(!v0(p,b))return b;const v=xM(p,b);if(!v)return i(p.descriptor.id,b),null;const w=fr(b,v);return i(p.descriptor.id,w),fr(b,w)},d=(p,b,v)=>{if(!p||!y0(b,v))return v;const w=vM(b,v);if(!w)return o(v),null;const _=fr(v,w);return o(_),fr(v,_)};return p=>{const b=p.scrollJumpRequest;if(!b)return;const v=hr(p.impact);v||Mt();const w=u(p.dimensions.droppables[v],b);if(!w)return;const _=p.viewport,S=d(p.isWindowScrollAllowed,_,w);S&&l(p,S)}},EM=({scrollDroppable:t,scrollWindow:i,move:o,getAutoScrollerOptions:l})=>{const u=wM({scrollWindow:i,scrollDroppable:t,getAutoScrollerOptions:l}),d=TM({move:o,scrollWindow:i,scrollDroppable:t});return{scroll:b=>{if(!(l().disabled||b.phase!=="DRAGGING")){if(b.movementMode==="FLUID"){u.scroll(b);return}b.scrollJumpRequest&&d(b)}},start:u.start,stop:u.stop}};const Gs="data-rfd",Zs=(()=>{const t=`${Gs}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Ip=(()=>{const t=`${Gs}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),NM=(()=>{const t=`${Gs}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Sv={contextId:`${Gs}-scroll-container-context-id`},MM=t=>i=>`[${i}="${t}"]`,lc=(t,i)=>t.map(o=>{const l=o.styles[i];return l?`${o.selector} { ${l} }`:""}).join(" "),DM="pointer-events: none;";var AM=t=>{const i=MM(t),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Zs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:DM,dropAnimating:p}}})(),l=(()=>{const p=`
      transition: ${Tc.outOfTheWay};
    `;return{selector:i(Ip.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),u={selector:i(NM.contextId),styles:{always:"overflow-anchor: none;"}},h=[l,o,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:lc(h,"always"),resting:lc(h,"resting"),dragging:lc(h,"dragging"),dropAnimating:lc(h,"dropAnimating"),userCancel:lc(h,"userCancel")}};const mr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,Xm=()=>{const t=document.querySelector("head");return t||Mt(),t},wv=t=>{const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.type="text/css",i};function jM(t,i){const o=oe(()=>AM(t),[t]),l=R.useRef(null),u=R.useRef(null),d=Pt(fn(_=>{const S=u.current;S||Mt(),S.textContent=_}),[]),h=Pt(_=>{const S=l.current;S||Mt(),S.textContent=_},[]);mr(()=>{!l.current&&!u.current||Mt();const _=wv(i),S=wv(i);return l.current=_,u.current=S,_.setAttribute(`${Gs}-always`,t),S.setAttribute(`${Gs}-dynamic`,t),Xm().appendChild(_),Xm().appendChild(S),h(o.always),d(o.resting),()=>{const T=D=>{const M=D.current;M||Mt(),Xm().removeChild(M),D.current=null};T(l),T(u)}},[i,h,d,o.always,o.resting,t]);const p=Pt(()=>d(o.dragging),[d,o.dragging]),b=Pt(_=>{if(_==="DROP"){d(o.dropAnimating);return}d(o.userCancel)},[d,o.dropAnimating,o.userCancel]),v=Pt(()=>{u.current&&d(o.resting)},[d,o.resting]);return oe(()=>({dragging:p,dropping:b,resting:v}),[p,b,v])}function b1(t,i){return Array.from(t.querySelectorAll(i))}var y1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Mf(t){return t instanceof y1(t).HTMLElement}function kM(t,i){const o=`[${Zs.contextId}="${t}"]`,l=b1(document,o);if(!l.length)return null;const u=l.find(d=>d.getAttribute(Zs.draggableId)===i);return!u||!Mf(u)?null:u}function OM(t){const i=R.useRef({}),o=R.useRef(null),l=R.useRef(null),u=R.useRef(!1),d=Pt(function(S,T){const D={id:S,focus:T};return i.current[S]=D,function(){const k=i.current;k[S]!==D&&delete k[S]}},[]),h=Pt(function(S){const T=kM(t,S);T&&T!==document.activeElement&&T.focus()},[t]),p=Pt(function(S,T){o.current===S&&(o.current=T)},[]),b=Pt(function(){l.current||u.current&&(l.current=requestAnimationFrame(()=>{l.current=null;const S=o.current;S&&h(S)}))},[h]),v=Pt(function(S){o.current=null;const T=document.activeElement;T&&T.getAttribute(Zs.draggableId)===S&&(o.current=S)},[]);return mr(()=>(u.current=!0,function(){u.current=!1;const S=l.current;S&&cancelAnimationFrame(S)}),[]),oe(()=>({register:d,tryRecordFocus:v,tryRestoreFocusRecorded:b,tryShiftRecord:p}),[d,v,b,p])}function CM(){const t={draggables:{},droppables:{}},i=[];function o(_){return i.push(_),function(){const T=i.indexOf(_);T!==-1&&i.splice(T,1)}}function l(_){i.length&&i.forEach(S=>S(_))}function u(_){return t.draggables[_]||null}function d(_){const S=u(_);return S||Mt(),S}const h={register:_=>{t.draggables[_.descriptor.id]=_,l({type:"ADDITION",value:_})},update:(_,S)=>{const T=t.draggables[S.descriptor.id];T&&T.uniqueId===_.uniqueId&&(delete t.draggables[S.descriptor.id],t.draggables[_.descriptor.id]=_)},unregister:_=>{const S=_.descriptor.id,T=u(S);T&&_.uniqueId===T.uniqueId&&(delete t.draggables[S],t.droppables[_.descriptor.droppableId]&&l({type:"REMOVAL",value:_}))},getById:d,findById:u,exists:_=>!!u(_),getAllByType:_=>Object.values(t.draggables).filter(S=>S.descriptor.type===_)};function p(_){return t.droppables[_]||null}function b(_){const S=p(_);return S||Mt(),S}const v={register:_=>{t.droppables[_.descriptor.id]=_},unregister:_=>{const S=p(_.descriptor.id);S&&_.uniqueId===S.uniqueId&&delete t.droppables[_.descriptor.id]},getById:b,findById:p,exists:_=>!!p(_),getAllByType:_=>Object.values(t.droppables).filter(S=>S.descriptor.type===_)};function w(){t.draggables={},t.droppables={},i.length=0}return{draggable:h,droppable:v,subscribe:o,clean:w}}function LM(){const t=oe(CM,[]);return R.useEffect(()=>function(){t.clean()},[t]),t}var x0=ke.createContext(null),Qd=()=>{const t=document.body;return t||Mt(),t};const BM={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},RM=t=>`rfd-announcement-${t}`;function PM(t){const i=oe(()=>RM(t),[t]),o=R.useRef(null);return R.useEffect(function(){const d=document.createElement("div");return o.current=d,d.id=i,d.setAttribute("aria-live","assertive"),d.setAttribute("aria-atomic","true"),Fd(d.style,BM),Qd().appendChild(d),function(){setTimeout(function(){const b=Qd();b.contains(d)&&b.removeChild(d),d===o.current&&(o.current=null)})}},[i]),Pt(u=>{const d=o.current;if(d){d.textContent=u;return}},[])}const zM={separator:"::"};function _0(t,i=zM){const o=ke.useId();return oe(()=>`${t}${i.separator}${o}`,[i.separator,t,o])}function HM({contextId:t,uniqueId:i}){return`rfd-hidden-text-${t}-${i}`}function IM({contextId:t,text:i}){const o=_0("hidden-text",{separator:"-"}),l=oe(()=>HM({contextId:t,uniqueId:o}),[o,t]);return R.useEffect(function(){const d=document.createElement("div");return d.id=l,d.textContent=i,d.style.display="none",Qd().appendChild(d),function(){const p=Qd();p.contains(d)&&p.removeChild(d)}},[l,i]),l}var Df=ke.createContext(null);function v1(t){const i=R.useRef(t);return R.useEffect(()=>{i.current=t}),i}function $M(){let t=null;function i(){return!!t}function o(h){return h===t}function l(h){t&&Mt();const p={abandon:h};return t=p,p}function u(){t||Mt(),t=null}function d(){t&&(t.abandon(),u())}return{isClaimed:i,isActive:o,claim:l,release:u,tryAbandon:d}}function Lc(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const UM=9,GM=13,S0=27,x1=32,ZM=33,YM=34,qM=35,VM=36,FM=37,KM=38,XM=39,WM=40,QM={[GM]:!0,[UM]:!0};var _1=t=>{QM[t.keyCode]&&t.preventDefault()};const Af=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(l=>`on${l}`in document)||t})(),S1=0,Tv=5;function JM(t,i){return Math.abs(i.x-t.x)>=Tv||Math.abs(i.y-t.y)>=Tv}const Ev={type:"IDLE"};function tD({cancel:t,completed:i,getPhase:o,setPhase:l}){return[{eventName:"mousemove",fn:u=>{const{button:d,clientX:h,clientY:p}=u;if(d!==S1)return;const b={x:h,y:p},v=o();if(v.type==="DRAGGING"){u.preventDefault(),v.actions.move(b);return}v.type!=="PENDING"&&Mt();const w=v.point;if(!JM(w,b))return;u.preventDefault();const _=v.actions.fluidLift(b);l({type:"DRAGGING",actions:_})}},{eventName:"mouseup",fn:u=>{const d=o();if(d.type!=="DRAGGING"){t();return}u.preventDefault(),d.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:u=>{o().type==="DRAGGING"&&u.preventDefault(),t()}},{eventName:"keydown",fn:u=>{if(o().type==="PENDING"){t();return}if(u.keyCode===S0){u.preventDefault(),t();return}_1(u)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:u=>{const d=o();if(d.type==="IDLE"&&Mt(),d.actions.shouldRespectForcePress()){t();return}u.preventDefault()}},{eventName:Af,fn:t}]}function eD(t){const i=R.useRef(Ev),o=R.useRef(Fa),l=oe(()=>({eventName:"mousedown",fn:function(_){if(_.defaultPrevented||_.button!==S1||_.ctrlKey||_.metaKey||_.shiftKey||_.altKey)return;const S=t.findClosestDraggableId(_);if(!S)return;const T=t.tryGetLock(S,h,{sourceEvent:_});if(!T)return;_.preventDefault();const D={x:_.clientX,y:_.clientY};o.current(),v(T,D)}}),[t]),u=oe(()=>({eventName:"webkitmouseforcewillbegin",fn:w=>{if(w.defaultPrevented)return;const _=t.findClosestDraggableId(w);if(!_)return;const S=t.findOptionsForDraggable(_);S&&(S.shouldRespectForcePress||t.canGetLock(_)&&w.preventDefault())}}),[t]),d=Pt(function(){const _={passive:!1,capture:!0};o.current=Or(window,[u,l],_)},[u,l]),h=Pt(()=>{i.current.type!=="IDLE"&&(i.current=Ev,o.current(),d())},[d]),p=Pt(()=>{const w=i.current;h(),w.type==="DRAGGING"&&w.actions.cancel({shouldBlockNextClick:!0}),w.type==="PENDING"&&w.actions.abort()},[h]),b=Pt(function(){const _={capture:!0,passive:!1},S=tD({cancel:p,completed:h,getPhase:()=>i.current,setPhase:T=>{i.current=T}});o.current=Or(window,S,_)},[p,h]),v=Pt(function(_,S){i.current.type!=="IDLE"&&Mt(),i.current={type:"PENDING",point:S,actions:_},b()},[b]);mr(function(){return d(),function(){o.current()}},[d])}function nD(){}const rD={[YM]:!0,[ZM]:!0,[VM]:!0,[qM]:!0};function iD(t,i){function o(){i(),t.cancel()}function l(){i(),t.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===S0){u.preventDefault(),o();return}if(u.keyCode===x1){u.preventDefault(),l();return}if(u.keyCode===WM){u.preventDefault(),t.moveDown();return}if(u.keyCode===KM){u.preventDefault(),t.moveUp();return}if(u.keyCode===XM){u.preventDefault(),t.moveRight();return}if(u.keyCode===FM){u.preventDefault(),t.moveLeft();return}if(rD[u.keyCode]){u.preventDefault();return}_1(u)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:Af,fn:o}]}function aD(t){const i=R.useRef(nD),o=oe(()=>({eventName:"keydown",fn:function(d){if(d.defaultPrevented||d.keyCode!==x1)return;const h=t.findClosestDraggableId(d);if(!h)return;const p=t.tryGetLock(h,w,{sourceEvent:d});if(!p)return;d.preventDefault();let b=!0;const v=p.snapLift();i.current();function w(){b||Mt(),b=!1,i.current(),l()}i.current=Or(window,iD(v,w),{capture:!0,passive:!1})}}),[t]),l=Pt(function(){const d={passive:!1,capture:!0};i.current=Or(window,[o],d)},[o]);mr(function(){return l(),function(){i.current()}},[l])}const Wm={type:"IDLE"},oD=120,sD=.15;function lD({cancel:t,getPhase:i}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){t();return}o.keyCode===S0&&o.preventDefault(),t()}},{eventName:Af,fn:t}]}function cD({cancel:t,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:l=>{const u=o();if(u.type!=="DRAGGING"){t();return}u.hasMoved=!0;const{clientX:d,clientY:h}=l.touches[0],p={x:d,y:h};l.preventDefault(),u.actions.move(p)}},{eventName:"touchend",fn:l=>{const u=o();if(u.type!=="DRAGGING"){t();return}l.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:l=>{if(o().type!=="DRAGGING"){t();return}l.preventDefault(),t()}},{eventName:"touchforcechange",fn:l=>{const u=o();u.type==="IDLE"&&Mt();const d=l.touches[0];if(!d||!(d.force>=sD))return;const p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&t();return}if(p){if(u.hasMoved){l.preventDefault();return}t();return}l.preventDefault()}},{eventName:Af,fn:t}]}function uD(t){const i=R.useRef(Wm),o=R.useRef(Fa),l=Pt(function(){return i.current},[]),u=Pt(function(T){i.current=T},[]),d=oe(()=>({eventName:"touchstart",fn:function(T){if(T.defaultPrevented)return;const D=t.findClosestDraggableId(T);if(!D)return;const M=t.tryGetLock(D,p,{sourceEvent:T});if(!M)return;const k=T.touches[0],{clientX:I,clientY:H}=k,j={x:I,y:H};o.current(),_(M,j)}}),[t]),h=Pt(function(){const T={capture:!0,passive:!1};o.current=Or(window,[d],T)},[d]),p=Pt(()=>{const S=i.current;S.type!=="IDLE"&&(S.type==="PENDING"&&clearTimeout(S.longPressTimerId),u(Wm),o.current(),h())},[h,u]),b=Pt(()=>{const S=i.current;p(),S.type==="DRAGGING"&&S.actions.cancel({shouldBlockNextClick:!0}),S.type==="PENDING"&&S.actions.abort()},[p]),v=Pt(function(){const T={capture:!0,passive:!1},D={cancel:b,completed:p,getPhase:l},M=Or(window,cD(D),T),k=Or(window,lD(D),T);o.current=function(){M(),k()}},[b,l,p]),w=Pt(function(){const T=l();T.type!=="PENDING"&&Mt();const D=T.actions.fluidLift(T.point);u({type:"DRAGGING",actions:D,hasMoved:!1})},[l,u]),_=Pt(function(T,D){l().type!=="IDLE"&&Mt();const M=setTimeout(w,oD);u({type:"PENDING",point:D,actions:T,longPressTimerId:M}),v()},[v,l,u,w]);mr(function(){return h(),function(){o.current();const D=l();D.type==="PENDING"&&(clearTimeout(D.longPressTimerId),u(Wm))}},[l,h,u]),mr(function(){return Or(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const dD=["input","button","textarea","select","option","optgroup","video","audio"];function w1(t,i){if(i==null)return!1;if(dD.includes(i.tagName.toLowerCase()))return!0;const l=i.getAttribute("contenteditable");return l==="true"||l===""?!0:i===t?!1:w1(t,i.parentElement)}function fD(t,i){const o=i.target;return Mf(o)?w1(t,o):!1}var hD=t=>Wr(t.getBoundingClientRect()).center;function mD(t){return t instanceof y1(t).Element}const pD=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(l=>l in Element.prototype)||t})();function T1(t,i){return t==null?null:t[pD](i)?t:T1(t.parentElement,i)}function gD(t,i){return t.closest?t.closest(i):T1(t,i)}function bD(t){return`[${Zs.contextId}="${t}"]`}function yD(t,i){const o=i.target;if(!mD(o))return null;const l=bD(t),u=gD(o,l);return!u||!Mf(u)?null:u}function vD(t,i){const o=yD(t,i);return o?o.getAttribute(Zs.draggableId):null}function xD(t,i){const o=`[${Ip.contextId}="${t}"]`,u=b1(document,o).find(d=>d.getAttribute(Ip.id)===i);return!u||!Mf(u)?null:u}function _D(t){t.preventDefault()}function gd({expected:t,phase:i,isLockActive:o,shouldWarn:l}){return!(!o()||t!==i)}function E1({lockAPI:t,store:i,registry:o,draggableId:l}){if(t.isClaimed())return!1;const u=o.draggable.findById(l);return!(!u||!u.options.isEnabled||!h1(i.getState(),l))}function SD({lockAPI:t,contextId:i,store:o,registry:l,draggableId:u,forceSensorStop:d,sourceEvent:h}){if(!E1({lockAPI:t,store:o,registry:l,draggableId:u}))return null;const b=l.draggable.getById(u),v=xD(i,b.descriptor.id);if(!v||h&&!b.options.canDragInteractiveElements&&fD(v,h))return null;const w=t.claim(d||Fa);let _="PRE_DRAG";function S(){return b.options.shouldRespectForcePress}function T(){return t.isActive(w)}function D(O,K){gd({expected:O,phase:_,isLockActive:T,shouldWarn:!0})&&o.dispatch(K())}const M=D.bind(null,"DRAGGING");function k(O){function K(){t.release(),_="COMPLETED"}_!=="PRE_DRAG"&&(K(),Mt()),o.dispatch(gN(O.liftActionArgs)),_="DRAGGING";function W(Q,et={shouldBlockNextClick:!1}){if(O.cleanup(),et.shouldBlockNextClick){const nt=Or(window,[{eventName:"click",fn:_D,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(nt)}K(),o.dispatch(a1({reason:Q}))}return{isActive:()=>gd({expected:"DRAGGING",phase:_,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,drop:Q=>W("DROP",Q),cancel:Q=>W("CANCEL",Q),...O.actions}}function I(O){const K=Dc(Q=>{M(()=>i1({client:Q}))});return{...k({liftActionArgs:{id:u,clientSelection:O,movementMode:"FLUID"},cleanup:()=>K.cancel(),actions:{move:K}}),move:K}}function H(){const O={moveUp:()=>M(EN),moveRight:()=>M(MN),moveDown:()=>M(NN),moveLeft:()=>M(DN)};return k({liftActionArgs:{id:u,clientSelection:hD(v),movementMode:"SNAP"},cleanup:Fa,actions:O})}function j(){gd({expected:"PRE_DRAG",phase:_,isLockActive:T,shouldWarn:!0})&&t.release()}return{isActive:()=>gd({expected:"PRE_DRAG",phase:_,isLockActive:T,shouldWarn:!1}),shouldRespectForcePress:S,fluidLift:I,snapLift:H,abort:j}}const wD=[eD,aD,uD];function TD({contextId:t,store:i,registry:o,customSensors:l,enableDefaultSensors:u}){const d=[...u?wD:[],...l||[]],h=R.useState(()=>$M())[0],p=Pt(function(k,I){Lc(k)&&!Lc(I)&&h.tryAbandon()},[h]);mr(function(){let k=i.getState();return i.subscribe(()=>{const H=i.getState();p(k,H),k=H})},[h,i,p]),mr(()=>h.tryAbandon,[h.tryAbandon]);const b=Pt(M=>E1({lockAPI:h,registry:o,store:i,draggableId:M}),[h,o,i]),v=Pt((M,k,I)=>SD({lockAPI:h,registry:o,contextId:t,store:i,draggableId:M,forceSensorStop:k||null,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null}),[t,h,o,i]),w=Pt(M=>vD(t,M),[t]),_=Pt(M=>{const k=o.draggable.findById(M);return k?k.options:null},[o.draggable]),S=Pt(function(){h.isClaimed()&&(h.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(h0()))},[h,i]),T=Pt(()=>h.isClaimed(),[h]),D=oe(()=>({canGetLock:b,tryGetLock:v,findClosestDraggableId:w,findOptionsForDraggable:_,tryReleaseLock:S,isLockClaimed:T}),[b,v,w,_,S,T]);for(let M=0;M<d.length;M++)d[M](D)}const ED=t=>({onBeforeCapture:i=>{const o=()=>{t.onBeforeCapture&&t.onBeforeCapture(i)};zc.flushSync(o)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),ND=t=>({...Cc,...t.autoScrollerOptions,durationDampening:{...Cc.durationDampening,...t.autoScrollerOptions}});function cc(t){return t.current||Mt(),t.current}function MD(t){const{contextId:i,setCallbacks:o,sensors:l,nonce:u,dragHandleUsageInstructions:d}=t,h=R.useRef(null),p=v1(t),b=Pt(()=>ED(p.current),[p]),v=Pt(()=>ND(p.current),[p]),w=PM(i),_=IM({contextId:i,text:d}),S=jM(i,u),T=Pt(nt=>{cc(h).dispatch(nt)},[]),D=oe(()=>Wy({publishWhileDragging:yN,updateDroppableScroll:xN,updateDroppableIsEnabled:_N,updateDroppableIsCombineEnabled:SN,collectionStarting:vN},T),[T]),M=LM(),k=oe(()=>lM(M,D),[M,D]),I=oe(()=>EM({scrollWindow:cM,scrollDroppable:k.scrollDroppable,getAutoScrollerOptions:v,...Wy({move:i1},T)}),[k.scrollDroppable,T,v]),H=OM(i),j=oe(()=>iM({announce:w,autoScroller:I,dimensionMarshal:k,focusMarshal:H,getResponders:b,styleMarshal:S}),[w,I,k,H,b,S]);h.current=j;const P=Pt(()=>{const nt=cc(h);nt.getState().phase!=="IDLE"&&nt.dispatch(h0())},[]),O=Pt(()=>{const nt=cc(h).getState();return nt.phase==="DROP_ANIMATING"?!0:nt.phase==="IDLE"?!1:nt.isDragging},[]),K=oe(()=>({isDragging:O,tryAbort:P}),[O,P]);o(K);const W=Pt(nt=>h1(cc(h).getState(),nt),[]),Q=Pt(()=>Bo(cc(h).getState()),[]),et=oe(()=>({marshal:k,focus:H,contextId:i,canLift:W,isMovementAllowed:Q,dragHandleUsageInstructionsId:_,registry:M}),[i,k,_,H,W,Q,M]);return TD({contextId:i,store:j,registry:M,customSensors:l||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),R.useEffect(()=>P,[P]),ke.createElement(Df.Provider,{value:et},ke.createElement(QE,{context:x0,store:j},t.children))}function DD(){return ke.useId()}function $c(t){const i=DD(),o=t.dragHandleUsageInstructions||Id.dragHandleUsageInstructions;return ke.createElement(a3,null,l=>ke.createElement(MD,{nonce:t.nonce,contextId:i,setCallbacks:l,dragHandleUsageInstructions:o,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Nv={dragging:5e3,dropAnimating:4500},AD=(t,i)=>i?Tc.drop(i.duration):t?Tc.snap:Tc.fluid,jD=(t,i)=>{if(t)return i?Oc.opacity.drop:Oc.opacity.combining},kD=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function OD(t){const o=t.dimension.client,{offset:l,combineWith:u,dropping:d}=t,h=!!u,p=kD(t),b=!!d,v=b?zp.drop(l,h):zp.moveTo(l);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:AD(p,d),transform:v,opacity:jD(h,b),zIndex:b?Nv.dropAnimating:Nv.dragging,pointerEvents:"none"}}function CD(t){return{transform:zp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function LD(t){return t.type==="DRAGGING"?OD(t):CD(t)}function BD(t,i,o=hn){const l=window.getComputedStyle(i),u=i.getBoundingClientRect(),d=O_(u,l),h=Vd(d,o),p={client:d,tagName:i.tagName.toLowerCase(),display:l.display},b={x:d.marginBox.width,y:d.marginBox.height};return{descriptor:t,placeholder:p,displaceBy:b,client:d,page:h}}function RD(t){const i=_0("draggable"),{descriptor:o,registry:l,getDraggableRef:u,canDragInteractiveElements:d,shouldRespectForcePress:h,isEnabled:p}=t,b=oe(()=>({canDragInteractiveElements:d,shouldRespectForcePress:h,isEnabled:p}),[d,p,h]),v=Pt(T=>{const D=u();return D||Mt(),BD(o,D,T)},[o,u]),w=oe(()=>({uniqueId:i,descriptor:o,options:b,getDimension:v}),[o,v,b,i]),_=R.useRef(w),S=R.useRef(!0);mr(()=>(l.draggable.register(_.current),()=>l.draggable.unregister(_.current)),[l.draggable]),mr(()=>{if(S.current){S.current=!1;return}const T=_.current;_.current=w,l.draggable.update(w,T)},[w,l.draggable])}var w0=ke.createContext(null);function Jd(t){const i=R.useContext(t);return i||Mt(),i}function PD(t){t.preventDefault()}const zD=t=>{const i=R.useRef(null),o=Pt((K=null)=>{i.current=K},[]),l=Pt(()=>i.current,[]),{contextId:u,dragHandleUsageInstructionsId:d,registry:h}=Jd(Df),{type:p,droppableId:b}=Jd(w0),v=oe(()=>({id:t.draggableId,index:t.index,type:p,droppableId:b}),[t.draggableId,t.index,p,b]),{children:w,draggableId:_,isEnabled:S,shouldRespectForcePress:T,canDragInteractiveElements:D,isClone:M,mapped:k,dropAnimationFinished:I}=t;if(!M){const K=oe(()=>({descriptor:v,registry:h,getDraggableRef:l,canDragInteractiveElements:D,shouldRespectForcePress:T,isEnabled:S}),[v,h,l,D,T,S]);RD(K)}const H=oe(()=>S?{tabIndex:0,role:"button","aria-describedby":d,"data-rfd-drag-handle-draggable-id":_,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:PD}:null,[u,d,_,S]),j=Pt(K=>{k.type==="DRAGGING"&&k.dropping&&K.propertyName==="transform"&&zc.flushSync(I)},[I,k]),P=oe(()=>{const K=LD(k),W=k.type==="DRAGGING"&&k.dropping?j:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":_,style:K,onTransitionEnd:W},dragHandleProps:H}},[u,H,_,k,j,o]),O=oe(()=>({draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}),[v.droppableId,v.id,v.index,v.type]);return ke.createElement(ke.Fragment,null,w(P,k.snapshot,O))};var N1=(t,i)=>t===i,M1=t=>{const{combine:i,destination:o}=t;return o?o.droppableId:i?i.droppableId:null};const HD=t=>t.combine?t.combine.draggableId:null,ID=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function $D(){const t=fn((u,d)=>({x:u,y:d})),i=fn((u,d,h=null,p=null,b=null)=>({isDragging:!0,isClone:d,isDropAnimating:!!b,dropAnimation:b,mode:u,draggingOver:h,combineWith:p,combineTargetFor:null})),o=fn((u,d,h,p,b=null,v=null,w=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:b,combineWith:v,mode:d,offset:u,dimension:h,forceShouldAnimate:w,snapshot:i(d,p,b,v,null)}}));return(u,d)=>{if(Lc(u)){if(u.critical.draggable.id!==d.draggableId)return null;const h=u.current.client.offset,p=u.dimensions.draggables[d.draggableId],b=hr(u.impact),v=ID(u.impact),w=u.forceShouldAnimate;return o(t(h.x,h.y),u.movementMode,p,d.isClone,b,v,w)}if(u.phase==="DROP_ANIMATING"){const h=u.completed;if(h.result.draggableId!==d.draggableId)return null;const p=d.isClone,b=u.dimensions.draggables[d.draggableId],v=h.result,w=v.mode,_=M1(v),S=HD(v),D={duration:u.dropDuration,curve:p0.drop,moveTo:u.newHomeClientOffset,opacity:S?Oc.opacity.drop:null,scale:S?Oc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:b,dropping:D,draggingOver:_,combineWith:S,mode:w,forceShouldAnimate:null,snapshot:i(w,p,_,S,D)}}}return null}}function D1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const UD={mapped:{type:"SECONDARY",offset:hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:D1(null)}};function GD(){const t=fn((h,p)=>({x:h,y:p})),i=fn(D1),o=fn((h,p=null,b)=>({mapped:{type:"SECONDARY",offset:h,combineTargetFor:p,shouldAnimateDisplacement:b,snapshot:i(p)}})),l=h=>h?o(hn,h,!0):null,u=(h,p,b,v)=>{const w=b.displaced.visible[h],_=!!(v.inVirtualList&&v.effected[h]),S=Tf(b),T=S&&S.draggableId===h?p:null;if(!w){if(!_)return l(T);if(b.displaced.invisible[h])return null;const k=Ks(v.displacedBy.point),I=t(k.x,k.y);return o(I,T,!0)}if(_)return l(T);const D=b.displacedBy.point,M=t(D.x,D.y);return o(M,T,w.shouldAnimate)};return(h,p)=>{if(Lc(h))return h.critical.draggable.id===p.draggableId?null:u(p.draggableId,h.critical.draggable.id,h.impact,h.afterCritical);if(h.phase==="DROP_ANIMATING"){const b=h.completed;return b.result.draggableId===p.draggableId?null:u(p.draggableId,b.result.draggableId,b.impact,b.afterCritical)}return null}}const ZD=()=>{const t=$D(),i=GD();return(l,u)=>t(l,u)||i(l,u)||UD},YD={dropAnimationFinished:o1},qD=k_(ZD,YD,null,{context:x0,areStatePropsEqual:N1})(zD);function A1(t){return Jd(w0).isUsingCloneFor===t.draggableId&&!t.isClone?null:ke.createElement(qD,t)}function Ys(t){const i=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,o=!!t.disableInteractiveElementBlocking,l=!!t.shouldRespectForcePress;return ke.createElement(A1,Fd({},t,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:l}))}const j1=t=>i=>t===i,VD=j1("scroll"),FD=j1("auto"),Mv=(t,i)=>i(t.overflowX)||i(t.overflowY),KD=t=>{const i=window.getComputedStyle(t),o={overflowX:i.overflowX,overflowY:i.overflowY};return Mv(o,VD)||Mv(o,FD)},XD=()=>!1,k1=t=>t==null?null:t===document.body?XD()?t:null:t===document.documentElement?null:KD(t)?t:k1(t.parentElement);var $p=t=>({x:t.scrollLeft,y:t.scrollTop});const O1=t=>t?window.getComputedStyle(t).position==="fixed"?!0:O1(t.parentElement):!1;var WD=t=>{const i=k1(t),o=O1(t);return{closestScrollable:i,isFixedOnPage:o}},QD=({descriptor:t,isEnabled:i,isCombineEnabled:o,isFixedOnPage:l,direction:u,client:d,page:h,closest:p})=>{const b=(()=>{if(!p)return null;const{scrollSize:S,client:T}=p,D=u1({scrollHeight:S.scrollHeight,scrollWidth:S.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:T,scrollSize:S,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:D,diff:{value:hn,displacement:hn}}}})(),v=u==="vertical"?l0:G_,w=Us({page:h,withPlaceholder:null,axis:v,frame:b});return{descriptor:t,isCombineEnabled:o,isFixedOnPage:l,axis:v,isEnabled:i,client:d,page:h,frame:b,subject:w}};const JD=(t,i)=>{const o=C_(t);if(!i||t!==i)return o;const l=o.paddingBox.top-i.scrollTop,u=o.paddingBox.left-i.scrollLeft,d=l+i.scrollHeight,h=u+i.scrollWidth,b=i0({top:l,right:h,bottom:d,left:u},o.border);return a0({borderBox:b,margin:o.margin,border:o.border,padding:o.padding})};var tA=({ref:t,descriptor:i,env:o,windowScroll:l,direction:u,isDropDisabled:d,isCombineEnabled:h,shouldClipSubject:p})=>{const b=o.closestScrollable,v=JD(t,b),w=Vd(v,l),_=(()=>{if(!b)return null;const T=C_(b),D={scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth};return{client:T,page:Vd(T,l),scroll:$p(b),scrollSize:D,shouldClipSubject:p}})();return QD({descriptor:i,isEnabled:!d,isCombineEnabled:h,isFixedOnPage:o.isFixedOnPage,direction:u,client:v,page:w,closest:_})};const eA={passive:!1},nA={passive:!0};var Dv=t=>t.shouldPublishImmediately?eA:nA;const bd=t=>t&&t.env.closestScrollable||null;function rA(t){const i=R.useRef(null),o=Jd(Df),l=_0("droppable"),{registry:u,marshal:d}=o,h=v1(t),p=oe(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),b=R.useRef(p),v=oe(()=>fn((P,O)=>{i.current||Mt();const K={x:P,y:O};d.updateDroppableScroll(p.id,K)}),[p.id,d]),w=Pt(()=>{const P=i.current;return!P||!P.env.closestScrollable?hn:$p(P.env.closestScrollable)},[]),_=Pt(()=>{const P=w();v(P.x,P.y)},[w,v]),S=oe(()=>Dc(_),[_]),T=Pt(()=>{const P=i.current,O=bd(P);if(P&&O||Mt(),P.scrollOptions.shouldPublishImmediately){_();return}S()},[S,_]),D=Pt((P,O)=>{i.current&&Mt();const K=h.current,W=K.getDroppableRef();W||Mt();const Q=WD(W),et={ref:W,descriptor:p,env:Q,scrollOptions:O};i.current=et;const nt=tA({ref:W,descriptor:p,env:Q,windowScroll:P,direction:K.direction,isDropDisabled:K.isDropDisabled,isCombineEnabled:K.isCombineEnabled,shouldClipSubject:!K.ignoreContainerClipping}),Y=Q.closestScrollable;return Y&&(Y.setAttribute(Sv.contextId,o.contextId),Y.addEventListener("scroll",T,Dv(et.scrollOptions))),nt},[o.contextId,p,T,h]),M=Pt(()=>{const P=i.current,O=bd(P);return P&&O||Mt(),$p(O)},[]),k=Pt(()=>{const P=i.current;P||Mt();const O=bd(P);i.current=null,O&&(S.cancel(),O.removeAttribute(Sv.contextId),O.removeEventListener("scroll",T,Dv(P.scrollOptions)))},[T,S]),I=Pt(P=>{const O=i.current;O||Mt();const K=bd(O);K||Mt(),K.scrollTop+=P.y,K.scrollLeft+=P.x},[]),H=oe(()=>({getDimensionAndWatchScroll:D,getScrollWhileDragging:M,dragStopped:k,scroll:I}),[k,D,M,I]),j=oe(()=>({uniqueId:l,descriptor:p,callbacks:H}),[H,p,l]);mr(()=>(b.current=j.descriptor,u.droppable.register(j),()=>{i.current&&k(),u.droppable.unregister(j)}),[H,p,k,j,d,u.droppable]),mr(()=>{i.current&&d.updateDroppableIsEnabled(b.current.id,!t.isDropDisabled)},[t.isDropDisabled,d]),mr(()=>{i.current&&d.updateDroppableIsCombineEnabled(b.current.id,t.isCombineEnabled)},[t.isCombineEnabled,d])}function Qm(){}const Av={width:0,height:0,margin:f3},iA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>t||o==="close"?Av:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},aA=({isAnimatingOpenOnMount:t,placeholder:i,animate:o})=>{const l=iA({isAnimatingOpenOnMount:t,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:l.width,height:l.height,marginTop:l.margin.top,marginRight:l.margin.right,marginBottom:l.margin.bottom,marginLeft:l.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Tc.placeholder:null}},oA=t=>{const i=R.useRef(null),o=Pt(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:l,onTransitionEnd:u,onClose:d,contextId:h}=t,[p,b]=R.useState(t.animate==="open");R.useEffect(()=>p?l!=="open"?(o(),b(!1),Qm):i.current?Qm:(i.current=setTimeout(()=>{i.current=null,b(!1)}),o):Qm,[l,p,o]);const v=Pt(_=>{_.propertyName==="height"&&(u(),l==="close"&&d())},[l,d,u]),w=aA({isAnimatingOpenOnMount:p,animate:t.animate,placeholder:t.placeholder});return ke.createElement(t.placeholder.tagName,{style:w,"data-rfd-placeholder-context-id":h,onTransitionEnd:v,ref:t.innerRef})};var sA=ke.memo(oA);class lA extends ke.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const cA=t=>{const i=R.useContext(Df);i||Mt();const{contextId:o,isMovementAllowed:l}=i,u=R.useRef(null),d=R.useRef(null),{children:h,droppableId:p,type:b,mode:v,direction:w,ignoreContainerClipping:_,isDropDisabled:S,isCombineEnabled:T,snapshot:D,useClone:M,updateViewportMaxScroll:k,getContainerForClone:I}=t,H=Pt(()=>u.current,[]),j=Pt((Y=null)=>{u.current=Y},[]);Pt(()=>d.current,[]);const P=Pt((Y=null)=>{d.current=Y},[]),O=Pt(()=>{l()&&k({maxScroll:f1()})},[l,k]);rA({droppableId:p,type:b,mode:v,direction:w,isDropDisabled:S,isCombineEnabled:T,ignoreContainerClipping:_,getDroppableRef:H});const K=oe(()=>ke.createElement(lA,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:Y,data:U,animate:tt})=>ke.createElement(sA,{placeholder:U,onClose:Y,innerRef:P,animate:tt,contextId:o,onTransitionEnd:O})),[o,O,t.placeholder,t.shouldAnimatePlaceholder,P]),W=oe(()=>({innerRef:j,placeholder:K,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,K,j]),Q=M?M.dragging.draggableId:null,et=oe(()=>({droppableId:p,type:b,isUsingCloneFor:Q}),[p,Q,b]);function nt(){if(!M)return null;const{dragging:Y,render:U}=M,tt=ke.createElement(A1,{draggableId:Y.draggableId,index:Y.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(st,yt)=>U(st,yt,Y));return WT.createPortal(tt,I())}return ke.createElement(w0.Provider,{value:et},h(W,D),nt())};function uA(){return document.body||Mt(),document.body}const jv={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:uA},C1=t=>{let i={...t},o;for(o in jv)t[o]===void 0&&(i={...i,[o]:jv[o]});return i},Jm=(t,i)=>t===i.droppable.type,kv=(t,i)=>i.draggables[t.draggable.id],dA=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...t,shouldAnimatePlaceholder:!1},o=fn(d=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),l=fn((d,h,p,b,v,w)=>{const _=v.descriptor.id;if(v.descriptor.droppableId===d){const D=w?{render:w,dragging:o(v.descriptor)}:null,M={isDraggingOver:p,draggingOverWith:p?_:null,draggingFromThisWith:_,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!1,snapshot:M,useClone:D}}if(!h)return i;if(!b)return t;const T={isDraggingOver:p,draggingOverWith:_,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:v.placeholder,shouldAnimatePlaceholder:!0,snapshot:T,useClone:null}});return(d,h)=>{const p=C1(h),b=p.droppableId,v=p.type,w=!p.isDropDisabled,_=p.renderClone;if(Lc(d)){const S=d.critical;if(!Jm(v,S))return i;const T=kv(S,d.dimensions),D=hr(d.impact)===b;return l(b,w,D,D,T,_)}if(d.phase==="DROP_ANIMATING"){const S=d.completed;if(!Jm(v,S.critical))return i;const T=kv(S.critical,d.dimensions);return l(b,w,M1(S.result)===b,hr(S.impact)===b,T,_)}if(d.phase==="IDLE"&&d.completed&&!d.shouldFlush){const S=d.completed;if(!Jm(v,S.critical))return i;const T=hr(S.impact)===b,D=!!(S.impact.at&&S.impact.at.type==="COMBINE"),M=S.critical.droppable.id===b;return T?D?t:i:M?t:i}return i}},fA={updateViewportMaxScroll:TN},zo=k_(dA,fA,(t,i,o)=>({...C1(o),...t,...i}),{context:x0,areStatePropsEqual:N1})(cA),Qs=Qp()(Jp((t,i)=>({currentId:null,setCurrent:o=>t({currentId:o}),list:[],add:o=>t({list:[o,...i().list]}),remove:o=>t({list:i().list.filter(l=>l.id!==o)}),update:(o,l)=>t({list:i().list.map(u=>u.id===o?{...u,...l}:u)}),reorder:o=>t({list:o})}),{name:"myeongsik-list",partialize:t=>({list:t.list.map(i=>({...i,dir:i.dir??"forward"}))}),merge:(t,i)=>{const o=t,l=u=>({...u,dir:u.dir??"forward",dateObj:u?.dateObj?new Date(u.dateObj):new Date,corrected:u?.corrected?new Date(u.corrected):new Date});return{...i,...o,list:Array.isArray(o.list)?o.list.map(l):[]}}})),hA=[{value:"본인",label:"본인 (1인지정만 가능)"},{value:"연인/배우자",label:"연인 / 배우자"},{value:"가족",label:"가족"},{value:"고객",label:"고객"},{value:"친구",label:"친구"},{value:"동료",label:"동료"},{value:"지인",label:"지인"}],L1=({value:t,onChange:i})=>{const[o,l]=R.useState(hA),[u,d]=R.useState(""),[h,p]=R.useState(!1),[b,v]=R.useState(""),[w,_]=R.useState(!1),{list:S}=Qs(),D=S.some(j=>j.relationship==="본인")?o.filter(j=>j.value!=="본인"):o;R.useEffect(()=>{t!==void 0&&d(t)},[t]);const M=j=>{const P=j.target.value;d(P),i?.(P),P==="기타입력"?p(!0):(p(!1),v(""))};R.useEffect(()=>{const j=localStorage.getItem("relationshipOptions");j&&l(JSON.parse(j))},[]),R.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(o))},[o]);const k=()=>{if(!b.trim())return;const j={value:b,label:b};l([...o,j]),d(b),v(""),p(!1)},I=j=>{l(o.filter(P=>P.value!==j)),u===j&&d("")},H=j=>{if(!j.destination)return;const P=Array.from(o),[O]=P.splice(j.source.index,1);P.splice(j.destination.index,0,O),l(P)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:u,onChange:M,children:[g.jsx("option",{value:"",hidden:!0,children:"관계선택"}),D.map(j=>g.jsx("option",{value:j.value,children:j.label},j.value)),g.jsx("option",{value:"기타입력",children:"기타입력"})]}),g.jsx("button",{type:"button",onClick:()=>_(!0),className:"btn_style",children:"관계수정"})]}),h&&!w&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"관계 기타입력",value:b,onChange:j=>v(j.target.value)}),g.jsx("button",{type:"button",onClick:k,className:"btn_style",children:"관계추가"})]}),w&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:"관계 수정"}),g.jsx($c,{onDragEnd:H,children:g.jsx(zo,{droppableId:"relList",children:j=>g.jsxs("ul",{ref:j.innerRef,...j.droppableProps,className:"space-y-1",children:[o.map((P,O)=>g.jsx(Ys,{draggableId:P.value,index:O,children:K=>g.jsxs("li",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:P.label}),g.jsx("button",{type:"button",className:"text-red-500",onClick:()=>I(P.value),children:"삭제"})]})},P.value)),j.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>_(!1),className:"w-full btn_style mt-2",children:"닫기"})]})]})},mA={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function tf(t,i,o){const l=mA[t];if(!l)return!1;const u=new Date(t,i-1,o,0,0,0,0);return u>=l.start&&u<l.end}function pA(t){if(!isFinite(t.getTime()))return 0;const i=t.getUTCFullYear(),o=Date.UTC(i,0,1),u=Math.floor((t.getTime()-o)/864e5)+1,d=t.getUTCHours(),h=t.getUTCMinutes(),p=t.getUTCSeconds(),b=(d-12)/24+h/1440+p/86400,v=2*Math.PI/365*(u-1+b);return 229.18*(75e-6+.001868*Math.cos(v)-.032077*Math.sin(v)-.014615*Math.cos(2*v)-.040849*Math.sin(2*v))}function gA(t){return t=(t+540)%360-180,t>=124&&t<=132||t>=129&&t<=146?135:t>=73&&t<=135?120:t>=-161&&t<=-154?-150:t>=-170&&t<-161?-165:t>=-150&&t<-141?-135:t>=-141&&t<-126?-120:t>=-126&&t<-111?-105:t>=-111&&t<-96?-90:t>=-96&&t<-81?-75:Math.round(t/15)*15}function Js(t,i,o=!1){const l=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0);if(o)return new Date(l.getTime()-1800*1e3);if(i==null||!isFinite(i))return l;let u=i;Math.abs(u)<=Math.PI+1e-6&&(u=u*180/Math.PI),u=(u+540)%360-180;const d=gA(u),h=4*(u-d),p=pA(l);return new Date(l.getTime()+(h+p)*60*1e3)}const _e="폴더 미지정",ef=["가족","친구","직장","지인","고객","기타"],nf="ms_folders",bA="ms_folder_order",yA="ms_folder_favs",B1="ms_disabled_presets";function vA(t){return!t||t==="미분류"?_e:t}function qs(t){if(!(!t||t===_e||t==="미분류"))return t}function Ov(){try{const t=localStorage.getItem(nf),i=localStorage.getItem(B1),o=t?JSON.parse(t):[],l=i?JSON.parse(i):[],u=ef.filter(d=>!l.includes(d));return[_e,...u,...o]}catch{return[_e,...ef]}}function xA(t){const i=t.trim();if(!(!i||i===_e))try{const o=localStorage.getItem(nf),l=o?JSON.parse(o):[];if(!l.includes(i)){const u=[...l,i];localStorage.setItem(nf,JSON.stringify(u))}}catch{}}const yd="folder.order.v1";function tp(t){return Array.from(new Set(t))}function uc(t){const i=t.filter(o=>o!==_e);return{rest:i,withUnassigned:[_e,...i]}}function Cv(t,i){const o=new Set(i),l=t.filter(d=>o.has(d));return[...l,...i.filter(d=>!l.includes(d))]}function _A({value:t,onChange:i}){const[o,l]=R.useState([_e]),[u,d]=R.useState(!1),[h,p]=R.useState(""),[b,v]=R.useState(!1);R.useEffect(()=>{const D=tp(Ov()),M=D.includes(_e)?tp(D):[_e,...D],k=localStorage.getItem(yd),I=k?JSON.parse(k):[],{rest:H}=uc(M),j=Cv(I,H),P=[_e,...j];l(P),JSON.stringify(I)!==JSON.stringify(j)&&localStorage.setItem(yd,JSON.stringify(j))},[]);const w=R.useMemo(()=>t||_e,[t]),_=D=>{const{rest:M}=uc(D);localStorage.setItem(yd,JSON.stringify(M))},S=D=>{const{source:M,destination:k}=D;if(!k||k.index===M.index)return;const{rest:I}=uc(o),H=Array.from(I),[j]=H.splice(M.index,1);H.splice(k.index,0,j);const P=[_e,...H];l(P),_(P)},T=D=>{xA(D);const M=tp(Ov()),k=M.includes(_e)?M:[_e,...M],I=localStorage.getItem(yd),H=I?JSON.parse(I):[],{rest:j}=uc(k),P=Cv(H,j),O=[_e,...P];l(O),_(O)};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:u?"__custom__":w,onChange:D=>{const M=D.target.value;if(M==="__custom__"){d(!0),i(void 0);return}d(!1),i(qs(M))},children:[o.map(D=>g.jsx("option",{value:D,children:D},D)),g.jsx("option",{value:"__custom__",children:"+ 새 폴더 직접입력…"})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>v(D=>!D),children:b?"순서수정 닫기":"폴더 순서수정"})]}),u&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:h,onChange:D=>p(D.target.value),placeholder:"새 폴더 이름",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white",onClick:()=>{const D=h.trim();D&&(T(D),i(D),d(!1),p(""))},children:"추가"})]}),b&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"폴더 순서 수정"}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:"🔒"}),g.jsxs("span",{className:"flex-1 px-2",children:[_e," (고정)"]})]}),g.jsx($c,{onDragEnd:S,children:g.jsx(zo,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:D=>g.jsxs("ul",{ref:D.innerRef,...D.droppableProps,className:"space-y-1",children:[uc(o).rest.map((M,k)=>g.jsx(Ys,{draggableId:M,index:k,children:I=>g.jsxs("li",{ref:I.innerRef,...I.draggableProps,...I.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:"☰"}),g.jsx("span",{className:"flex-1 pr-1",children:M})]})},M)),D.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['폴더를 지정하지 않으려면 "',_e,'"을 선택하세요. 직접입력으로 새 폴더를 만들 수 있어요.']})]})}function R1({message:t,onClose:i,ms:o=2e3}){return R.useEffect(()=>{const l=setTimeout(i,o);return()=>clearTimeout(l)},[i,o]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:t})}var $d={exports:{}},SA=$d.exports,Lv;function wA(){return Lv||(Lv=1,(function(t,i){(function(o,l){t.exports=l()})(SA,function(){return(function(o){function l(d){if(u[d])return u[d].exports;var h=u[d]={i:d,l:!1,exports:{}};return o[d].call(h.exports,h,h.exports,l),h.l=!0,h.exports}var u={};return l.m=o,l.c=u,l.d=function(d,h,p){l.o(d,h)||Object.defineProperty(d,h,{configurable:!1,enumerable:!0,get:p})},l.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(h,"a",h),h},l.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},l.p="",l(l.s=0)})([function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=u(1),h=(function(p){return p&&p.__esModule?p:{default:p}})(d);l.default=h.default,o.exports=l.default},function(o,l,u){function d(tt){return tt&&tt.__esModule?tt:{default:tt}}Object.defineProperty(l,"__esModule",{value:!0});var h=u(2),p=d(h),b=u(3),v=d(b),w=u(4),_=d(w),S=u(5),T=d(S),D=u(6),M=d(D),k=u(7),I=d(k),H=u(8),j=d(H),P=u(9),O=d(P),K=u(10),W=d(K),Q=u(11),et=d(Q),nt=u(12),Y=d(nt),U={lunarInfo:p.default,solarMonth:v.default,gan:_.default,zhi:T.default,animals:M.default,lunarTerm:I.default,lTermInfo:j.default,nStr1:O.default,nStr2:W.default,nStr3:et.default,nStr4:Y.default,lYearDays:function(tt){var st,yt=348;for(st=32768;st>8;st>>=1)yt+=U.lunarInfo[tt-1900]&st?1:0;return yt+U.leapDays(tt)},leapMonth:function(tt){return 15&U.lunarInfo[tt-1900]},leapDays:function(tt){return U.leapMonth(tt)?65536&U.lunarInfo[tt-1900]?30:29:0},monthDays:function(tt,st){return st>12||st<1?-1:U.lunarInfo[tt-1900]&65536>>st?30:29},solarDays:function(tt,st){if(st>12||st<1)return-1;var yt=st-1;return yt==1?tt%4==0&&tt%100!=0||tt%400==0?29:28:U.solarMonth[yt]},toGanZhi:function(tt){return U.gan[tt%10]+U.zhi[tt%12]},getTerm:function(tt,st){if(tt<1900||tt>2100||st<1||st>24)return-1;var yt=U.lTermInfo[tt-1900],F=[parseInt("0x"+yt.substr(0,5)).toString(),parseInt("0x"+yt.substr(5,5)).toString(),parseInt("0x"+yt.substr(10,5)).toString(),parseInt("0x"+yt.substr(15,5)).toString(),parseInt("0x"+yt.substr(20,5)).toString(),parseInt("0x"+yt.substr(25,5)).toString()],ut=[F[0].substr(0,1),F[0].substr(1,2),F[0].substr(3,1),F[0].substr(4,2),F[1].substr(0,1),F[1].substr(1,2),F[1].substr(3,1),F[1].substr(4,2),F[2].substr(0,1),F[2].substr(1,2),F[2].substr(3,1),F[2].substr(4,2),F[3].substr(0,1),F[3].substr(1,2),F[3].substr(3,1),F[3].substr(4,2),F[4].substr(0,1),F[4].substr(1,2),F[4].substr(3,1),F[4].substr(4,2),F[5].substr(0,1),F[5].substr(1,2),F[5].substr(3,1),F[5].substr(4,2)];return parseInt(ut[st-1])},toChinaYear:function(tt){var st=parseInt(tt/1e3),yt=parseInt(tt%1e3/100),F=parseInt(tt%100/10),ut=tt%10;return U.nStr4[st]+U.nStr4[yt]+U.nStr4[F]+U.nStr4[ut]+"年"},toChinaMonth:function(tt){if(tt>12||tt<1)return-1;var st=U.nStr3[tt-1];return st+="月"},toChinaDay:function(tt){var st;switch(tt){case 10:st="初十";break;case 20:st="二十";break;case 30:st="三十";break;default:st=U.nStr2[Math.floor(tt/10)],st+=U.nStr1[tt%10]}return st},getAnimal:function(tt){return U.animals[(tt-4)%12]},solar2lunar:function(Z,B,A){if(Z<1900||Z>2100||Z==1900&&B==1&&A<31)return-1;if(Z)var F=new Date(Z,parseInt(B)-1,A);else var F=new Date;var ut,_t=0,dt=0,Z=F.getFullYear(),B=F.getMonth()+1,A=F.getDate(),$=(Date.UTC(F.getFullYear(),F.getMonth(),F.getDate())-Date.UTC(1900,0,31))/864e5;for(ut=1900;ut<2101&&$>0;ut++)dt=U.lYearDays(ut),$-=dt;$<0&&($+=dt,ut--);var G=new Date,X=!1;G.getFullYear()==Z&&G.getMonth()+1==B&&G.getDate()==A&&(X=!0);var at=F.getDay(),rt=U.nStr1[at];at==0&&(at=7);var gt=ut,_t=U.leapMonth(ut),Tt=!1;for(ut=1;ut<13&&$>0;ut++)_t>0&&ut==_t+1&&Tt==0?(--ut,Tt=!0,dt=U.leapDays(gt)):dt=U.monthDays(gt,ut),Tt==1&&ut==_t+1&&(Tt=!1),$-=dt;$==0&&_t>0&&ut==_t+1&&(Tt?Tt=!1:(Tt=!0,--ut)),$<0&&($+=dt,--ut);var At=ut,Kt=$+1,Ht=B-1,re=U.getTerm(Z,3),pe=U.toGanZhi(Z-4),We=new Date(Z,1,re).getTime();new Date(Z,Ht,A).getTime()<We&&(pe=U.toGanZhi(Z-5));var Be=U.getTerm(Z,2*B-1),de=U.getTerm(Z,2*B),Ye=U.toGanZhi(12*(Z-1900)+B+11);A>=Be&&(Ye=U.toGanZhi(12*(Z-1900)+B+12));var wt=!1,Et="";Be==A&&(wt=!0,Et=U.lunarTerm[2*B-2]),de==A&&(wt=!0,Et=U.lunarTerm[2*B-1]);var pt=Date.UTC(Z,Ht,1,0,0,0,0)/864e5+25567+10,zt=U.toGanZhi(pt+A-1);return{lYear:gt,lMonth:At,lDay:Kt,animal:U.getAnimal(gt),yearCn:U.toChinaYear(gt),monthCn:(Tt&&_t===At?"闰":"")+U.toChinaMonth(At),dayCn:U.toChinaDay(Kt),cYear:Z,cMonth:B,cDay:A,gzYear:pe,gzMonth:Ye,gzDay:zt,isToday:X,isLeap:Tt,nWeek:at,ncWeek:"星期"+rt,isTerm:wt,term:Et}},lunar2solar:function(tt,st,yt,F){var ut=U.leapMonth(tt);if(U.leapDays(tt),F&&ut!=st||tt==2100&&st==12&&yt>1||tt==1900&&st==1&&yt<31)return-1;var dt=U.monthDays(tt,st);if(tt<1900||tt>2100||yt>dt)return-1;for(var Z=0,B=1900;B<tt;B++)Z+=U.lYearDays(B);for(var A=0,$=!1,B=1;B<st;B++)A=U.leapMonth(tt),$||A<=B&&A>0&&(Z+=U.leapDays(tt),$=!0),Z+=U.monthDays(tt,B);F&&(Z+=dt);var G=Date.UTC(1900,1,30,0,0,0),X=new Date(864e5*(Z+yt-31)+G),at=X.getUTCFullYear(),rt=X.getUTCMonth()+1,gt=X.getUTCDate();return U.solar2lunar(at,rt,gt)}};l.default=U,o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=[31,28,31,30,31,30,31,31,30,31,30,31],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["日","一","二","三","四","五","六","七","八","九","十"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["初","十","廿","卅"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["正","二","三","四","五","六","七","八","九","十","冬","腊"],o.exports=l.default},function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.default=["零","一","二","三","四","五","六","七","八","九","十"],o.exports=l.default}])})})($d)),$d.exports}var P1=wA();const TA=Fs(P1),jf=qS({__proto__:null,default:TA},[P1]);function kf(t){return typeof t=="object"&&t!==null}function EA(t){return kf(t)&&"default"in t}function NA(t){return kf(t)&&typeof t.lunar2solar=="function"}function MA(t){if(!kf(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function DA(t){const i=EA(t)?t.default:t;if(!NA(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,h)=>{const p=i.lunar2solar(l,u,d,h);return MA(p)}}}const AA=DA(jf);function Qr(t,i,o,l=4,u=0){const d=AA.lunar2solar(t,i,o,!1);return new Date(d.cYear,d.cMonth-1,d.cDay,l,u)}const dc=[{key:"name",label:"이름",placeholder:"이름을 입력하세요",type:"text"},{key:"birthDay",label:"생년월일",placeholder:"예: 19900101",type:"tel"},{key:"birthTime",label:"태어난 시간",placeholder:"예: 1524",type:"tel"},{key:"mingSikType",label:"명식 기준",type:"mingrule"},{key:"gender",label:"성별",type:"radio"},{key:"birthPlace",label:"태어난 지역",type:"place"},{key:"relationship",label:"관계",type:"relationship"},{key:"folder",label:"폴더 선택",type:"folder"},{key:"memo",label:"메모",placeholder:"메모를 입력하세요",type:"textarea"}],fc=[{value:"solar",label:"양력",id:"calendarType_solar"},{value:"lunar",label:"음력",id:"calendarType_lunar"}],vd=["야자시","조자시","인시"],xd=["남자","여자"];function ep(t,i,o){return o==="ArrowRight"||o==="ArrowDown"?(t+1)%i:o==="ArrowLeft"||o==="ArrowUp"?(t-1+i)%i:o==="Home"?0:o==="End"?i-1:t}function np(t){const i=document.getElementById(t);i instanceof HTMLElement&&i.focus()}function jA({onSave:t,onClose:i}){const{add:o}=Qs(),[l,u]=R.useState(0),[d,h]=R.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[p,b]=R.useState(null),[v,w]=R.useState(!1),[_,S]=R.useState(!1),T=dc[l],D=P=>b(P);R.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(T.key)){const O=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(O){O.focus();return}}if(T.key==="mingSikType"){const O=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(O){O.focus();return}}if(T.key==="gender"){const O=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(O){O.focus();return}}if(d.birthPlace||_){const O=()=>{const K=document.querySelector(".current-step form button[type='submit']");K&&K.focus()};O(),setTimeout(O,0)}else{const O=document.getElementById("inputBirthPlaceBtn");O&&O.focus()}if(T.key==="relationship"){setTimeout(()=>{const O=document.querySelector(".current-step select");O&&O.focus()},0);return}if(T.key==="folder"){setTimeout(()=>{const O=document.querySelector(".current-step select");O&&O.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[_,l,T.key,d.birthPlace]);const M=R.useMemo(()=>{if(d.calendarType!=="lunar"||!d.birthDay||d.birthDay.length!==8)return null;try{const P=Number(d.birthDay.slice(0,4)),O=Number(d.birthDay.slice(4,6)),K=Number(d.birthDay.slice(6,8)),W=Qr(P,O,K);return`→ 양력 ${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`}catch(P){const O=P instanceof Error?P.message:void 0;return`→ 변환 실패${O?`: ${O}`:""}`}},[d.calendarType,d.birthDay]),k=()=>{const P=dc[l];if(P.key==="name"&&(d.name||(h({...d,name:"이름없음"}),D("이름을 적지 않으시면 '이름없음'으로 대체됩니다."))),P.key==="birthDay"){const O=/^\d{8}$/;if(!d.birthDay||!O.test(d.birthDay))return D("생년월일은 YYYYMMDD 형식으로 입력해주세요."),!1;const K=Number(d.birthDay.substring(0,4)),W=Number(d.birthDay.substring(4,6)),Q=Number(d.birthDay.substring(6,8));if(K<1900||K>2100)return D("출생 연도는 1900~2100년 사이여야 합니다."),!1;if(W<1||W>12)return D("출생 월은 01~12 사이여야 합니다."),!1;if(Q<1||Q>31)return D("출생 일은 01~31 사이여야 합니다."),!1;if(d.calendarType==="solar"){const et=new Date(K,W-1,Q);if(et.getFullYear()!==K||et.getMonth()+1!==W||et.getDate()!==Q)return D("존재하지 않는 날짜입니다."),!1}else try{Qr(K,W,Q)}catch(et){return D(et instanceof Error?et.message:"음력 날짜가 유효하지 않습니다."),!1}}if(P.key==="birthTime"){if(!d.birthTime&&!v)return D("태어난 시간을 입력하거나 '모름'을 체크해야 합니다."),!1;if(d.birthTime){const O=Number(d.birthTime);if(Number.isNaN(O)||O<0||O>2359)return D("태어난 시간은 0000–2359 범위여야 합니다."),!1;const K=Number(d.birthTime.slice(0,2)),W=Number(d.birthTime.slice(2,4));if(K>23||W>59)return D("태어난 시간은 0000–2359 범위여야 합니다."),!1}}return P.key==="birthPlace"&&!d.birthPlace&&!_?(D("태어난 지역을 선택하거나 '모름'을 체크해야 합니다."),!1):!0},I=()=>{if(!k())return;if(l<dc.length-1){u(l+1);return}const P=qs(d.folder),O=!d.birthTime||d.birthTime==="모름",K=!d.birthPlace||typeof d.birthPlace=="object"&&d.birthPlace.name==="모름";let W=Number(d.birthDay.slice(0,4)),Q=Number(d.birthDay.slice(4,6)),et=Number(d.birthDay.slice(6,8));if(d.calendarType==="lunar"){const rt=Qr(W,Q,et);W=rt.getFullYear(),Q=rt.getMonth()+1,et=rt.getDate()}const nt=O?0:Number(d.birthTime.slice(0,2)||"0"),Y=O?0:Number(d.birthTime.slice(2,4)||"0"),U=new Date(W,Q-1,et,nt,Y,0,0),tt=_||!d.birthPlace||d.birthPlace.lon===0?127.5:d.birthPlace.lon,st=Js(U,tt,K),yt=d.mingSikType??"야자시",F=O?"":st.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),ut=Se(st,tt),dt=rn(st,tt),Z=He(st,yt),B=O?null:Rr(st,yt),A=[`원국 : ${ut}년 ${dt}월 ${Z}일`,B?`${B}시`:null].filter(Boolean).join(" ");function $(rt,gt){const Tt=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(rt),At=gt==="남자";return Tt?At?"forward":"backward":At?"backward":"forward"}const G=ut.charAt(0),X=$(G,d.gender??"남자"),at={id:S_(),name:d.name?.trim()||"이름없음",birthDay:d.birthDay||"",birthTime:O?"모름":d.birthTime||"",gender:d.gender??"남자",birthPlace:_?{name:"모름",lat:0,lon:127.5}:d.birthPlace??{name:"",lat:0,lon:127.5},relationship:d.relationship??"",memo:d.memo??"",mingSikType:d.mingSikType??"야자시",DayChangeRule:d.mingSikType==="인시"?"인시일수론":"자시일수론",folder:P,correctedLocal:F,ganji:A,calendarType:d.calendarType??"solar",dir:X,corrected:st,dateObj:d.dateObj||new Date,dayStem:d.dayStem||"갑",ganjiText:d.ganjiText||"갑자년 갑자월 갑자일 갑자시"};o(at),t(at),b("저장 완료!"),h({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),w(!1),S(!1),u(0)},H=P=>{if(P.key!=="Enter")return;const O=P.target,K=O.getAttribute("role");if(K==="radio"||K==="checkbox")return;const W=document.getElementById("mapModal");if(W&&W.contains(O))return;const Q=O.tagName.toLowerCase(),et=O instanceof HTMLInputElement?O.type:"";if(Q==="textarea"){if(P.shiftKey)return;P.preventDefault(),I();return}if(et==="radio"||et==="checkbox"){P.preventDefault(),O instanceof HTMLInputElement&&O.click();return}Q==="button"&&O.type!=="submit"||(P.preventDefault(),I())},j=P=>{switch(P){case"birthPlace":return _?"모름":d.birthPlace?.name||"";case"birthTime":return v?"모름":d.birthTime||"";case"folder":return d.folder?String(d.folder):_e;default:{const K=d[P];return typeof K=="string"?K:K!=null?String(K):""}}};return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[p&&g.jsx(R1,{message:p,onClose:()=>b(null)}),dc.slice(0,l).map((P,O)=>g.jsxs("button",{onClick:()=>u(O),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:P.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:j(P.key)})]},P.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:P=>{P.preventDefault(),I()},onKeyDown:H,children:[g.jsx("label",{className:"block mb-2 font-bold",children:T.label}),T.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.name||"",onChange:P=>h({...d,name:P.target.value})}),T.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.birthDay||"",onChange:P=>{const O=P.target.value.replace(/\D/g,"");h({...d,birthDay:O.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":"달력 유형",className:"flex gap-1 text-sm",children:fc.map(({value:P,label:O,id:K})=>{const W=d.calendarType===P;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:K,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:K,id:`${K}_lbl`,role:"radio","aria-checked":W,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":W?"true":"false",onKeyDown:Q=>{if(Q.stopPropagation(),Q.key===" "||Q.key==="Enter"){Q.preventDefault(),h({...d,calendarType:P});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(Q.key))return;Q.preventDefault();const nt=fc.findIndex(tt=>tt.value===d.calendarType),Y=ep(nt<0?0:nt,fc.length,Q.key),U=fc[Y].value;h({...d,calendarType:U}),np(`${fc[Y].id}_lbl`)},onClick:Q=>{Q.preventDefault(),h({...d,calendarType:P})},children:O})]},P)})})]}),d.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:M})}),d.birthDay&&d.birthDay.length===8&&(()=>{const P=Number(d.birthDay.slice(0,4)),O=Number(d.birthDay.slice(4,6)),K=Number(d.birthDay.slice(6,8));return tf(P,O,K)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"썸머타임 명식입니다."}):null})()]}),T.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:v?"":d.birthTime||"",onChange:P=>{const O=P.target.value.replace(/\D/g,"");h({...d,birthTime:O.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:v}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":v,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":v?"true":"false",onKeyDown:P=>{P.stopPropagation(),(P.key===" "||P.key==="Enter")&&(P.preventDefault(),w(!v))},onClick:P=>{P.preventDefault(),w(!v)},children:"모름"})]})]}),T.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"명식 기준",className:"flex flex-wrap gap-3",children:vd.map(P=>{const O=`ming_${P}`,K=(d.mingSikType??"야자시")===P;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:O,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:O,id:`${O}_lbl`,role:"radio","aria-checked":K,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":K?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),h({...d,mingSikType:P});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const et=d.mingSikType??"야자시",nt=vd.indexOf(et),Y=ep(nt,vd.length,W.key),U=vd[Y];h({...d,mingSikType:U}),np(`ming_${U}_lbl`)},onClick:W=>{W.preventDefault(),h({...d,mingSikType:P})},children:[P,"명식"]})]},P)})}),T.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"성별",className:"flex gap-2",children:xd.map(P=>{const O=`gender_${P}`,K=(d.gender??"남자")===P;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:O,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:O,id:`${O}_lbl`,role:"radio","aria-checked":K,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":K?"true":"false",onKeyDown:W=>{if(W.stopPropagation(),W.key===" "||W.key==="Enter"){W.preventDefault(),h({...d,gender:P});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(W.key))return;W.preventDefault();const et=d.gender??"남자",nt=xd.indexOf(et),Y=ep(nt,xd.length,W.key),U=xd[Y];h({...d,gender:U}),np(`gender_${U}_lbl`)},onClick:W=>{W.preventDefault(),h({...d,gender:P})},children:P})]},P)})}),T.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(w_,{onSelect:P=>h({...d,birthPlace:P})}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":_,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":_?"true":"false",onKeyDown:P=>{P.stopPropagation(),(P.key===" "||P.key==="Enter")&&(P.preventDefault(),S(!_))},onClick:P=>{P.preventDefault(),S(!_)},children:"모름"})]})]}),T.key==="relationship"&&g.jsx(L1,{value:d.relationship||"",onChange:P=>h({...d,relationship:P})}),T.key==="folder"&&g.jsx(_A,{value:qs(d.folder),onChange:P=>h({...d,folder:P})}),T.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:T.placeholder,value:d.memo||"",onChange:P=>h({...d,memo:P.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:i,children:"닫기"}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:l===dc.length-1?"저장하기":"확인"})]})]})})]})}var _d={},Bv;function kA(){if(Bv)return _d;Bv=1,_d.match=d,_d.parse=h;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,i=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o=/^(?:(min|max)-)?(.+)/,l=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/;function d(w,_){return h(w).some(function(S){var T=S.inverse,D=S.type==="all"||_.type===S.type;if(D&&T||!(D||T))return!1;var M=S.expressions.every(function(k){var I=k.feature,H=k.modifier,j=k.value,P=_[I];if(!P)return!1;switch(I){case"orientation":case"scan":return P.toLowerCase()===j.toLowerCase();case"width":case"height":case"device-width":case"device-height":j=v(j),P=v(P);break;case"resolution":j=b(j),P=b(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":j=p(j),P=p(P);break;case"grid":case"color":case"color-index":case"monochrome":j=parseInt(j,10)||1,P=parseInt(P,10)||0;break}switch(H){case"min":return P>=j;case"max":return P<=j;default:return P===j}});return M&&!T||!M&&T})}function h(w){return w.split(",").map(function(_){_=_.trim();var S=_.match(t),T=S[1],D=S[2],M=S[3]||"",k={};return k.inverse=!!T&&T.toLowerCase()==="not",k.type=D?D.toLowerCase():"all",M=M.match(/\([^\)]+\)/g)||[],k.expressions=M.map(function(I){var H=I.match(i),j=H[1].toLowerCase().match(o);return{modifier:j[1],feature:j[2],value:H[2]}}),k})}function p(w){var _=Number(w),S;return _||(S=w.match(/^(\d+)\s*\/\s*(\d+)$/),_=S[1]/S[2]),_}function b(w){var _=parseFloat(w),S=String(w).match(u)[1];switch(S){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function v(w){var _=parseFloat(w),S=String(w).match(l)[1];switch(S){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return _d}var rp,Rv;function OA(){if(Rv)return rp;Rv=1;var t=kA().match,i=typeof window<"u"?window.matchMedia:null;function o(u,d,h){var p=this,b;i&&!h&&(b=i.call(window,u)),b?(this.matches=b.matches,this.media=b.media,b.addListener(_)):(this.matches=t(u,d),this.media=u),this.addListener=v,this.removeListener=w,this.dispose=S;function v(T){b&&b.addListener(T)}function w(T){b&&b.removeListener(T)}function _(T){p.matches=T.matches,p.media=T.media}function S(){b&&b.removeListener(_)}}function l(u,d,h){return new o(u,d,h)}return rp=l,rp}var CA=OA();const LA=Fs(CA);var BA=/[A-Z]/g,RA=/^ms-/,ip={};function PA(t){return"-"+t.toLowerCase()}function z1(t){if(ip.hasOwnProperty(t))return ip[t];var i=t.replace(BA,PA);return ip[t]=RA.test(i)?"-"+i:i}function zA(t,i){if(t===i)return!0;if(!t||!i)return!1;const o=Object.keys(t),l=Object.keys(i),u=o.length;if(l.length!==u)return!1;for(let d=0;d<u;d++){const h=o[d];if(t[h]!==i[h]||!Object.prototype.hasOwnProperty.call(i,h))return!1}return!0}var ap={exports:{}},op,Pv;function HA(){if(Pv)return op;Pv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return op=t,op}var sp,zv;function IA(){if(zv)return sp;zv=1;var t=HA();function i(){}function o(){}return o.resetWarningCache=i,sp=function(){function l(h,p,b,v,w,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}l.isRequired=l;function u(){return l}var d={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,elementType:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:o,resetWarningCache:i};return d.PropTypes=d,d},sp}var Hv;function $A(){return Hv||(Hv=1,ap.exports=IA()()),ap.exports}var UA=$A();const ue=Fs(UA),zn=ue.oneOfType([ue.string,ue.number]),H1={all:ue.bool,grid:ue.bool,aural:ue.bool,braille:ue.bool,handheld:ue.bool,print:ue.bool,projection:ue.bool,screen:ue.bool,tty:ue.bool,tv:ue.bool,embossed:ue.bool},GA={orientation:ue.oneOf(["portrait","landscape"]),scan:ue.oneOf(["progressive","interlace"]),aspectRatio:ue.string,deviceAspectRatio:ue.string,height:zn,deviceHeight:zn,width:zn,deviceWidth:zn,color:ue.bool,colorIndex:ue.bool,monochrome:ue.bool,resolution:zn,type:Object.keys(H1)},{type:GO,...ZA}=GA,YA={minAspectRatio:ue.string,maxAspectRatio:ue.string,minDeviceAspectRatio:ue.string,maxDeviceAspectRatio:ue.string,minHeight:zn,maxHeight:zn,minDeviceHeight:zn,maxDeviceHeight:zn,minWidth:zn,maxWidth:zn,minDeviceWidth:zn,maxDeviceWidth:zn,minColor:ue.number,maxColor:ue.number,minColorIndex:ue.number,maxColorIndex:ue.number,minMonochrome:ue.number,maxMonochrome:ue.number,minResolution:zn,maxResolution:zn,...ZA},qA={...H1,...YA};var VA={all:qA};const FA=t=>`not ${t}`,KA=(t,i)=>{const o=z1(t);return typeof i=="number"&&(i=`${i}px`),i===!0?o:i===!1?FA(o):`(${o}: ${i})`},XA=t=>t.join(" and "),WA=t=>{const i=[];return Object.keys(VA.all).forEach(o=>{const l=t[o];l!=null&&i.push(KA(o,l))}),XA(i)},QA=R.createContext(void 0),JA=t=>t.query||WA(t),Iv=t=>t?Object.keys(t).reduce((o,l)=>(o[z1(l)]=t[l],o),{}):void 0,I1=()=>{const t=R.useRef(!1);return R.useEffect(()=>{t.current=!0},[]),t.current},t7=t=>{const i=R.useContext(QA),o=()=>Iv(t)||Iv(i),[l,u]=R.useState(o);return R.useEffect(()=>{const d=o();zA(l,d)||u(d)},[t,i]),l},e7=t=>{const i=()=>JA(t),[o,l]=R.useState(i);return R.useEffect(()=>{const u=i();o!==u&&l(u)},[t]),o},n7=(t,i)=>{const o=()=>LA(t,i||{},!!i),[l,u]=R.useState(o),d=I1();return R.useEffect(()=>{if(d){const h=o();return u(h),()=>{h&&h.dispose()}}},[t,i]),l},r7=t=>{const[i,o]=R.useState(t.matches);return R.useEffect(()=>{const l=u=>{o(u.matches)};return t.addListener(l),o(t.matches),()=>{t.removeListener(l)}},[t]),i},i7=(t,i,o)=>{const l=t7(i),u=e7(t);if(!u)throw new Error("Invalid or missing MediaQuery!");const d=n7(u,l),h=r7(d);return I1(),R.useEffect(()=>{},[h]),R.useEffect(()=>()=>{d&&d.dispose()},[]),h},$1=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${In[i%10]}${Wn[i%12]}`);return t})();function a7(t){const i=$1.indexOf(t);if(i<0)throw new Error(`Unknown 간지: ${t}`);return i}function rf(t,i,o=1){const l=a7(t),u=i==="forward"?o:-o;return $1[(l+u+60*1e3)%60]}const o7=60*1e3,s7=60*o7,l7=24*s7;function c7(t,i){const o=new Date(t.getTime()),l=o.getFullYear()+i,u=o.getMonth(),d=o.getDate();return new Date(Date.UTC(l,u,d,o.getUTCHours(),o.getUTCMinutes()))}function Up(t){const i=new Date(t);return i.setSeconds(0,0),i}function u7(t,i,o){const l=t.getHours(),u=o==="야자시"?(Math.floor((l+1)/2)*2-1+24)%24:(Math.floor(l/2)*2+1)%24,d=new Date(t);d.setHours(u,0,0,0);const h=new Date(d);h.setHours(u+2,0,0,0);const p=t.getTime()-d.getTime(),b=h.getTime()-t.getTime();return i==="backward"?p:b}function U1(t,i,o,l=120,u="야자시"){const d=Up(t),h=u7(d,o,u),p=Up(new Date(d.getTime()+h*120)),b=c7(t,l).getTime(),v=[];let w=rf(i,o,1);for(let _=p.getTime();_<=b;_+=10*l7)v.push({at:new Date(_),gz:w}),w=rf(w,o,1);return{firstChange:p,events:v}}function G1(t,i){const o=i==="forward"?t==="자시일수론"?"자":"인":t==="자시일수론"?"해":"축";return l=>l===o}function Z1(t,i,o,l){const u=G1(l,o);let d=i;const h=[];for(const p of t.events){const b=p.gz.charAt(1);u(b)&&(d=rf(d,o,1),h.push({at:p.at,gz:d}))}return{events:h}}function Ec(t){const i=t.getFullYear(),o=[{deg:315,name:"입춘"},{deg:345,name:"경칩"},{deg:15,name:"청명"},{deg:45,name:"입하"},{deg:75,name:"망종"},{deg:105,name:"소서"},{deg:135,name:"입추"},{deg:165,name:"백로"},{deg:195,name:"한로"},{deg:225,name:"입동"},{deg:255,name:"대설"},{deg:285,name:"소한"}],l={deg:315,name:"다음입춘"},u=o.map(p=>({name:p.name,date:en(i,p.deg)})).concat([{name:l.name,date:en(i+1,l.deg)},{name:"소한",date:en(i+1,285)}]),d=en(i,315),h=en(i+1,315);return u.filter(p=>p.date>=d&&p.date<h).sort((p,b)=>p.date.getTime()-b.date.getTime())}const d7={갑:"甲",을:"乙",병:"丙",정:"丁",무:"戊",기:"己",경:"庚",신:"辛",임:"壬",계:"癸"},f7={자:"子",축:"丑",인:"寅",묘:"卯",진:"辰",사:"巳",오:"午",미:"未",신:"申",유:"酉",술:"戌",해:"亥"},h7=t=>d7[t]??("甲乙丙丁戊己庚辛壬癸".includes(t)?t:null),m7=t=>f7[t]??("子丑寅卯辰巳午未申酉戌亥".includes(t)?t:null);function $v(t){const i=h7(t[0]),o=m7(t[1]);if(!i||!o)throw new Error(`Invalid GZ: ${t}`);return`${i}${o}`}function Of(t,i,o,l=120,u){function d(j){return j instanceof Date||(j=new Date(j)),Math.floor((j.getHours()+1)%24/2)}function h(j){return["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"][d(j)]}function p(j,P,O){const K=j.charAt(0),W=j.charAt(1),Q=In.indexOf(K),et=Wn.indexOf(W),nt=P==="forward"?O:-O,Y=(Q+nt%10+10)%10,U=(et+nt%12+12)%12;return In[Y]+Wn[U]}const b=Ec(t).sort((j,P)=>j.date.getTime()-P.date.getTime());let v;if(o==="forward"){const j=b.findIndex(P=>P.date>=t);j>=0&&(v=b[j].date)}else{const j=b.filter(P=>P.date<=t);j.length&&(v=j[j.length-1].date)}function w(j,P){const O=h(j),K={子:23,丑:1,寅:3,卯:5,辰:7,巳:9,午:11,未:13,申:15,酉:17,戌:19,亥:21},W=K[O],Q=(W+2)%24,et=new Date(j);if(et.setSeconds(0,0),o==="backward"&&P){const Y=h(P),U=K[Y],tt=new Date(P);return tt.setHours(U,0,0,0),tt}if(o==="forward"&&P){const Y=h(P),U=K[Y],tt=new Date(P);if(tt.setHours(U,0,0,0),tt>et)return tt}const nt=new Date(et);return o==="forward"?(nt.setHours(Q,0,0,0),nt<=et&&nt.setDate(nt.getDate()+1)):(nt.setHours(W,0,0,0),nt>=et&&nt.setDate(nt.getDate()-1)),nt}new Date(t).setSeconds(0,0);const S=$v(rn(t,127.5)),T=w(t,v),D=Math.floor(o==="forward"?(T.getTime()-t.getTime())/6e4:(t.getTime()-T.getTime())/6e4),M=Math.round(D/120*(14400*60*1e3));let k=new Date(t.getTime()+M);try{const j=$v(rn(t,u));(o==="forward"&&S!==j||o==="backward"&&S!==j)&&(k=new Date(t.getTime()+6e4))}catch{}const I=l/10,H=[];for(let j=0;j<I;j++){const P=new Date(k);P.setFullYear(P.getFullYear()+j*10),P.setSeconds(0,0);const O=p(i,o,j+1);H.push({at:P,gz:O})}return{natalMonthPillar:i,firstChange:k,mPillars:[],events:H}}function p7(t,i){const l=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(l))}function Y1(t,i,o,l,u){const d=G1(l,o);let h=i;const p=[];for(const b of t.events){const v=b.gz.charAt(1);d(v)&&(h=rf(h,o,1),p.push({at:b.at,gz:h,age:p7(u,b.at)}))}return{events:p}}function g7(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),l=Number(t.birthDay.slice(6,8));let u=12,d=0;return t.birthTime&&t.birthTime!=="모름"&&/^\d{4}$/.test(t.birthTime)&&(u=Number(t.birthTime.slice(0,2)),d=Number(t.birthTime.slice(2,4))),new Date(i,o-1,l,u,d,0,0)}function Cf(t){const i=g7(t),o=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",l=Js(i,t.birthPlace?.lon??null,o);return Up(l)}function T0(t,i){const o=t.birthPlace?.lon??127.5,l=Cf(t),u=He(l,i),d=Rr(l,i,u.charAt(0));return{year:Se(l,o),month:rn(l,o),day:u,hour:d}}const b7=(()=>{const t=[];for(let i=0;i<60;i++)t.push(`${In[i%10]}${Wn[i%12]}`);return t})(),y7=t=>b7.indexOf(t),lp=t=>{if(y7(t)<0)throw new Error(`Unknown 간지: ${t}`);return{stem:t[0],branch:t[1]}};function E0(t){return typeof t=="object"&&t!==null}function v7(t){return E0(t)&&"default"in t}function x7(t){return E0(t)&&typeof t.lunar2solar=="function"}function _7(t){if(!E0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function S7(t){const i=v7(t)?t.default:t;if(!x7(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,h)=>{const p=i.lunar2solar(l,u,d,!!h);return _7(p)}}}const w7=S7(jf),Uv=t=>t<10?`0${t}`:`${t}`;function N0(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8||l!=="lunar")return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}try{const v=w7.lunar2solar(u,d,h,b),w=`${v.cYear}${Uv(v.cMonth)}${Uv(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}}function T7(t,i="야자시"){const o=R.useMemo(()=>N0(t),[t]),l=R.useMemo(()=>Cf(o),[o]),u=R.useMemo(()=>T0(o,i),[o,i]);return R.useMemo(()=>{const d=Of(l,u.month,o.dir,120,o?.birthPlace?.lon??127.5),h=new Date;function p(j,P){let O=null;const K=P.getTime();for(const W of j)if(W.at.getTime()<=K)O=W;else break;return O}const b=p(d.events,h)?.gz??u.month,v=lp(b),w=h.getFullYear(),_=en(w,315),T=_&&h>=_?w:w-1,D=Se(new Date(T,1,10,0,0,0),127.5),M=lp(D),k=rn(h,127.5),I=lp(k),H=[];return I&&H.push({key:"wolun",label:"월운",data:I}),M&&H.push({key:"seun",label:"세운",data:M}),v&&H.push({key:"daeun",label:"대운",data:v}),H},[l,o.dir,u.month,o.birthPlace?.lon])}function Nc(t){const i=o=>o.toString().padStart(2,"0");return`${t.getFullYear()}년 ${i(t.getMonth()+1)}월 ${i(t.getDate())}일 ${i(t.getHours())}시 ${i(t.getMinutes())}분`}function zs(t){return t<10?`0${t}`:`${t}`}function E7(t){return`${zs(t.getHours())}:${zs(t.getMinutes())}`}function N7(t){return`${t.getFullYear()}-${zs(t.getMonth()+1)}-${zs(t.getDate())} ${zs(t.getHours())}:${zs(t.getMinutes())}`}function ks(t,i,o){const l=typeof o=="number"?o:void 0,u=Se(t,l),d=rn(t,l),h=He(t,i);return{yearGZ:u,monthGZ:d,dayGZ:h}}const Jr=Qp()(Jp((t,i)=>{const o=new Date,l="야자시",u=127.5,d=ks(o,l,u);return{date:o,scope:"원국만",rule:l,lon:u,...d,setDate:h=>{const{rule:p,lon:b}=i(),v=ks(h,p,b);t({date:h,...v})},resetDate:()=>{const{rule:h,lon:p}=i(),b=new Date,v=ks(b,h,p);t({date:b,...v})},setScope:h=>t({scope:h}),setRule:h=>{const{date:p,lon:b}=i(),v=ks(p,h,b);t({rule:h,...v})},setLon:h=>{const{date:p,rule:b}=i(),v=ks(p,b,h);t({lon:h,...v})},setFromEvent:(h,p)=>{const{rule:b,lon:v}=i(),w=ks(h.at,b,v);t({date:h.at,scope:p,...w})}}},{name:"luck-picker-v1",merge:(t,i)=>{const o=t;return o.date&&typeof o.date=="string"&&(o.date=new Date(o.date)),{...i,...o}}})),$o={Classic:"고전",Modern:"현대"};function Fi(t,i){const l={갑:{자:"목욕",축:"관대",인:"건록",묘:"제왕",진:"쇠",사:"병",오:"사",미:"묘",신:"절",유:"태",술:"양",해:"장생"},을:{자:"병",축:"쇠",인:"제왕",묘:"건록",진:"관대",사:"목욕",오:"장생",미:"양",신:"태",유:"절",술:"묘",해:"사"},병:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},정:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},무:{자:"태",축:"양",인:"장생",묘:"목욕",진:"관대",사:"건록",오:"제왕",미:"쇠",신:"병",유:"사",술:"묘",해:"절"},기:{자:"절",축:"묘",인:"사",묘:"병",진:"쇠",사:"제왕",오:"건록",미:"관대",신:"목욕",유:"장생",술:"양",해:"태"},경:{자:"사",축:"묘",인:"절",묘:"태",진:"양",사:"장생",오:"목욕",미:"관대",신:"건록",유:"제왕",술:"쇠",해:"병"},신:{자:"장생",축:"양",인:"태",묘:"절",진:"묘",사:"사",오:"병",미:"쇠",신:"제왕",유:"건록",술:"관대",해:"목욕"},임:{자:"제왕",축:"쇠",인:"병",묘:"사",진:"묘",사:"절",오:"태",미:"양",신:"장생",유:"목욕",술:"관대",해:"건록"},계:{자:"건록",축:"관대",인:"목욕",묘:"장생",진:"양",사:"태",오:"절",미:"묘",신:"사",유:"병",술:"쇠",해:"제왕"}}[t];return l?l[i]??"":""}function M7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육해",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"년살",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육해",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"년살"},묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"년살",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육해",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"년살",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육해",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"년살",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육해",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"년살",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육해"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육해",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"년살",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육해",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"년살",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function D7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},l={묘:{자:"년살",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육해",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"년살",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육해",술:"화개",해:"겁살"},유:{자:"육해",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"년살",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육해",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"년살",술:"월살",해:"망신"}},u=o[t];return u&&l[u]?l[u][i]??"":""}function A7(t,i){return{자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"},축:{자:"망신",축:"장성",인:"반안",묘:"역마",진:"육액",사:"화개",오:"겁살",미:"재살",신:"천살",유:"지살",술:"도화",해:"월살"},인:{자:"월살",축:"망신",인:"장성",묘:"반안",진:"역마",사:"육액",오:"화개",미:"겁살",신:"재살",유:"천살",술:"지살",해:"도화"},묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},진:{자:"지살",축:"도화",인:"월살",묘:"망신",진:"장성",사:"반안",오:"역마",미:"육액",신:"화개",유:"겁살",술:"재살",해:"천살"},사:{자:"천살",축:"지살",인:"도화",묘:"월살",진:"망신",사:"장성",오:"반안",미:"역마",신:"육액",유:"화개",술:"겁살",해:"재살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},미:{자:"겁살",축:"재살",인:"천살",묘:"지살",진:"도화",사:"월살",오:"망신",미:"장성",신:"반안",유:"역마",술:"육액",해:"화개"},신:{자:"화개",축:"겁살",인:"재살",묘:"천살",진:"지살",사:"도화",오:"월살",미:"망신",신:"장성",유:"반안",술:"역마",해:"육액"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},술:{자:"역마",축:"육액",인:"화개",묘:"겁살",진:"재살",사:"천살",오:"지살",미:"도화",신:"월살",유:"망신",술:"장성",해:"반안"},해:{자:"반안",축:"역마",인:"육액",묘:"화개",진:"겁살",사:"재살",오:"천살",미:"지살",신:"도화",유:"월살",술:"망신",해:"장성"}}[t]?.[i]??""}function j7(t,i){const o={해:"묘",묘:"묘",미:"묘",인:"오",오:"오",술:"오",사:"유",유:"유",축:"유",신:"자",자:"자",진:"자"},l={묘:{자:"도화",축:"월살",인:"망신",묘:"장성",진:"반안",사:"역마",오:"육액",미:"화개",신:"겁살",유:"재살",술:"천살",해:"지살"},오:{자:"재살",축:"천살",인:"지살",묘:"도화",진:"월살",사:"망신",오:"장성",미:"반안",신:"역마",유:"육액",술:"화개",해:"겁살"},유:{자:"육액",축:"화개",인:"겁살",묘:"재살",진:"천살",사:"지살",오:"도화",미:"월살",신:"망신",유:"장성",술:"반안",해:"역마"},자:{자:"장성",축:"반안",인:"역마",묘:"육액",진:"화개",사:"겁살",오:"재살",미:"천살",신:"지살",유:"도화",술:"월살",해:"망신"}},u=o[t];return u&&l[u]?l[u][i]??"":""}function Ki(t){const{baseBranch:i,targetBranch:o,era:l,gaehwa:u}=t;return!i||!o?"":l==="고전"?u?M7(i,o):D7(i,o):u?A7(i,o):j7(i,o)}function Lf(t,i="야자시",o=100){const l=R.useMemo(()=>N0(t),[t]),u=R.useMemo(()=>Cf(l),[l]),d=R.useMemo(()=>T0(l,i),[l,i]),h=(p,b)=>{const v=b.getFullYear()-p.getFullYear(),w=b.getMonth()-p.getMonth(),_=b.getDate()-p.getDate(),S=w<0||w===0&&_<0?v-1:v;return Math.max(0,S)};return R.useMemo(()=>Of(u,d.month,l.dir,o,l.birthPlace?.lon??127.5).events.map(b=>({...b,age:h(u,b.at)})),[u,d.month,l.dir,o,l.birthPlace?.lon])}function cp(t){return t instanceof Date&&!Number.isNaN(t.getTime())}function k7(t,i){if(!Array.isArray(t)||t.length===0||!cp(i))return{gz:"",at:i,index:-1};const o=t;for(let d=0;d<o.length;d++){const h=o[d],p=o[d+1];if(!cp(h.at))continue;if(i.getTime()>=h.at.getTime()&&(!p||cp(p.at)&&i.getTime()<p.at.getTime()))return{gz:h.gz??"",at:h.at,index:d}}if(i.getTime()<o[0].at.getTime()){const d=o[0];return{gz:d.gz??"",at:d.at,index:0}}const l=o.length-1,u=o[l];return{gz:u.gz??"",at:u.at,index:l}}function M0(t,i,o){const{date:l,rule:u,lon:d}=Jr(),h=R.useMemo(()=>o??l??new Date,[o,l]),p=Lf(t,t?.mingSikType),{gz:b}=k7(p,h);return R.useMemo(()=>{try{const v=d??t?.birthPlace?.lon??127.5,w=u??t?.mingSikType??i??"야자시";return{dae:{gz:b,at:h},se:{gz:Se(h,v),at:h},wol:{gz:rn(h,v),at:h},il:{gz:He(h,w),at:h}}}catch{const v=new Date;return{dae:{gz:"",at:v},se:{gz:"",at:v},wol:{gz:"",at:v},il:{gz:"",at:v}}}},[h,u,d,t,i,b])}const q1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},V1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},O7=Object.fromEntries(Object.entries(q1).map(([t,i])=>[i,t])),C7=Object.fromEntries(Object.entries(V1).map(([t,i])=>[i,t])),L7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),B7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function R7(t,i,o){return o==="한글"?i==="stem"?q1[t]??t:V1[t]??t:i==="stem"?O7[t]??t:C7[t]??t}function P7(t,i){return i==="stem"?L7.has(t):B7.has(t)}function z7(t){return kf(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function up(t){const i=$o;return z7(i)?t==="classic"?i.Classic:i.Modern:t}const H7={대운:1,세운:2,월운:3};function I7(t){return t.includes("월운")?3:t.includes("세운")?2:(t.includes("대운"),1)}function $7({data:t,hourTable:i}){const o=t??null,{date:l}=Jr();o&&(o.dateObj instanceof Date||(o.dateObj=o.dateObj?new Date(o.dateObj):new Date),o.corrected instanceof Date||(o.corrected=o.corrected?new Date(o.corrected):new Date));const{name:u,birthDay:d,birthTime:h,birthPlace:p,gender:b,calendarType:v,mingSikType:w}=t,_=Qn(A=>A.settings),S=w??i??"야자시",T=!p||p.name==="모름"||!p.lon?127.5:p.lon,{solarY:D,solarM:M,solarD:k}=R.useMemo(()=>{let A=Number(d?.slice(0,4)??2e3),$=Number(d?.slice(4,6)??1),G=Number(d?.slice(6,8)??1);if(v==="lunar"){const X=Qr(A,$,G);A=X.getFullYear(),$=X.getMonth()+1,G=X.getDate()}return{solarY:A,solarM:$,solarD:G}},[d,v]),[I,H]=R.useState(!1);R.useEffect(()=>{D&&M&&k&&H(tf(D,M,k))},[D,M,k]);const j=R.useMemo(()=>{const A=!t.birthTime||t.birthTime==="모름",$=!t.birthPlace;let G=Number(t.birthDay.slice(0,4)),X=Number(t.birthDay.slice(4,6)),at=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const Be=Qr(G,X,at);G=Be.getFullYear(),X=Be.getMonth()+1,at=Be.getDate()}const rt=A?0:Number(t.birthTime.slice(0,2)||"0"),gt=A?0:Number(t.birthTime.slice(2,4)||"0"),_t=new Date(G,X-1,at,rt,gt,0,0),Tt=$||!t.birthPlace||t.birthPlace.lon===0?127.5:t.birthPlace.lon;let At=t.corrected??Js(_t,Tt,A);I&&(At=new Date(At.getTime()-3600*1e3));const Kt=t.mingSikType??"야자시",Ht=Se(At,Tt),re=rn(At,Tt),pe=He(At,Kt),We=A?null:Rr(At,Kt);return{corrected:At,year:{stem:Ht.charAt(0),branch:Ht.charAt(1)},month:{stem:re.charAt(0),branch:re.charAt(1)},day:{stem:pe.charAt(0),branch:pe.charAt(1)},hour:We?{stem:We.charAt(0),branch:We.charAt(1)}:null}},[I,t.birthDay,t.birthPlace,t.birthTime,t.calendarType,t.mingSikType,t.corrected]),P=tf(D,M,k),O=j.day.stem,K=_.sinsalBase==="일지"?j.day.branch:j.year.branch,W=A=>_.showSibiUnseong?Fi(O,A):null,Q=A=>_.showSibiSinsal?Ki({baseBranch:K,targetBranch:A,era:up(_.sinsalMode),gaehwa:_.sinsalBloom}):null,et=T7(t,S),nt=i7({query:"(min-width: 992px)"}),Y=_.hiddenStem==="regular"?"main":"all",U=_.exposure,tt=U==="원국"?0:H7[U],st=tt===0?[]:et.filter(A=>I7(A.label)<=tt),yt=()=>H(A=>!A),F=o?.dateObj instanceof Date?o.dateObj:new Date(o?.dateObj??"");(!F||isNaN(F.getTime()))&&console.error("⚠ Invalid dateObj in SajuChart:",o?.dateObj);const ut=M0(o,i,l),dt=ut.dae.gz,Z=ut.se.gz,B=ut.wol.gz;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[u?.trim()||"이름없음"," ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",b,")"]}),P&&g.jsxs("button",{onClick:yt,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${I?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:["썸머타임 ",I?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[U7(d,h),p?.name?` · ${"출생지: "+p.name}`:""]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["보정시: ",N7(j.corrected)]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["기준 경도: ",T.toFixed(2),"° · ",S," 기준"]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${st.length===0?"grid-cols-1":st.length===1?"grid-cols-[2fr_8fr]":st.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[st.length>0&&(nt?g.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"운"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-2 p-3 ${st.length===1?"grid-cols-1":st.length===2?"grid-cols-2":"grid-cols-3"}`,children:st.map(A=>{let $=A.data.stem,G=A.data.branch;A.label.includes("대운")&&dt&&($=dt.charAt(0),G=dt.charAt(1)),A.label.includes("세운")&&Z&&($=Z.charAt(0),G=Z.charAt(1)),A.label.includes("월운")&&B&&($=B.charAt(0),G=B.charAt(1));const X=W(G),at=Q(G);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:A.label}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[_.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(O,{stem:$})}),g.jsx(Ua,{value:$,kind:"stem",charType:_.charType,thinEum:_.thinEum}),g.jsx(Ua,{value:G,kind:"branch",charType:_.charType,thinEum:_.thinEum}),g.jsx(xc,{branch:G,dayStem:O,mode:Y,mapping:_.hiddenStemMode}),(_.showSibiUnseong||_.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[_.showSibiUnseong&&g.jsx("div",{children:X}),_.showSibiSinsal&&g.jsx("div",{children:at})]})]})]},A.key)})})})]}):g.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"운"}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:`grid gap-1 p-0 ${st.length===1?"grid-cols-1":st.length===2?"grid-cols-2":"grid-cols-3"}`,children:st.map(A=>{const $=A.data.stem,G=A.data.branch,X=W(G),at=Q(G);return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:A.label}),g.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[_.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(O,{stem:$})}),g.jsx(Ua,{value:$,kind:"stem",charType:_.charType,thinEum:_.thinEum}),g.jsx(Ua,{value:G,kind:"branch",charType:_.charType,thinEum:_.thinEum}),g.jsx(xc,{branch:G,dayStem:O,mode:Y,mapping:_.hiddenStemMode}),(_.showSibiUnseong||_.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[_.showSibiUnseong&&g.jsx("div",{children:X}),_.showSibiSinsal&&g.jsx("div",{children:at})]})]})]},A.key)})})})]})),nt?g.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:g.jsx("b",{children:"원국"})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"시주",data:j.hour},{key:"day",label:"일주",data:j.day},{key:"month",label:"월주",data:j.month},{key:"year",label:"연주",data:j.year}].map(A=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:A.label}),g.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:A.data?g.jsxs(g.Fragment,{children:[_.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(O,{stem:A.data.stem})}),g.jsx(Ua,{value:A.data.stem,kind:"stem",charType:_.charType,thinEum:_.thinEum}),g.jsx(Ua,{value:A.data.branch,kind:"branch",charType:_.charType,thinEum:_.thinEum}),g.jsx(xc,{branch:A.data.branch,dayStem:O,mode:Y,mapping:_.hiddenStemMode}),(_.showSibiUnseong||_.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[_.showSibiUnseong&&g.jsx("div",{children:Fi(O,A.data.branch)}),_.showSibiSinsal&&g.jsx("div",{children:Ki({baseBranch:_.sinsalBase==="일지"?j.day.branch:j.year.branch,targetBranch:A.data.branch,era:up(_.sinsalMode),gaehwa:_.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},A.key))})})]}):g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:"원국"}),g.jsx("div",{className:"px-1 pb-2",children:g.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"시주",data:j.hour},{key:"day",label:"일주",data:j.day},{key:"month",label:"월주",data:j.month},{key:"year",label:"연주",data:j.year}].map(A=>g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:A.label}),g.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:A.data?g.jsxs(g.Fragment,{children:[_.showSipSin&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:Hn(O,{stem:A.data.stem})}),g.jsx(Ua,{value:A.data.stem,kind:"stem",charType:_.charType,thinEum:_.thinEum}),g.jsx(Ua,{value:A.data.branch,kind:"branch",charType:_.charType,thinEum:_.thinEum}),g.jsx(xc,{branch:A.data.branch,dayStem:O,mode:Y,mapping:_.hiddenStemMode}),(_.showSibiUnseong||_.showSibiSinsal)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[_.showSibiUnseong&&g.jsx("div",{children:Fi(O,A.data.branch)}),_.showSibiSinsal&&g.jsx("div",{children:Ki({baseBranch:_.sinsalBase==="일지"?j.day.branch:j.year.branch,targetBranch:A.data.branch,era:up(_.sinsalMode),gaehwa:_.sinsalBloom})})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"시간 미상"})})]},A.key))})})]})]})]})}function Ua({value:t,kind:i,charType:o,thinEum:l}){const{settings:u}=Qn(),d=pr(t,i,u),h=R7(t,i,o),p=P7(t,i),b=l&&p?"font-thin":"font-bold";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${d} flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${b} text-white`,children:h})})}function U7(t,i){if(!t||!/^\d{8}$/.test(t))return"";const o=t.slice(0,4),l=t.slice(4,6),u=t.slice(6,8),d=`${o}-${l}-${u}`;return!i||i==="모름"||!/^\d{4}$/.test(i)?d:`${d} ${i.slice(0,2)}:${i.slice(2,4)}`}const G7={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계",갑:"갑",을:"을",병:"병",정:"정",무:"무",기:"기",경:"경",신:"신",임:"임",계:"계"};function Z7(t){if(!t)return null;const i=t.charAt(0);return G7[i]??null}function Uo(t){const i=Number(t.birthDay?.slice(0,4)),o=Number(t.birthDay?.slice(4,6))-1,l=Number(t.birthDay?.slice(6,8)),u=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(0,2)),d=!t.birthTime||t.birthTime==="모름"?0:Number(t.birthTime?.slice(2,4)),h=new Date(i,o,l,u,d,0,0);if(isNaN(h.getTime()))throw new Error(`Invalid date: ${t.birthDay} ${t.birthTime}`);const p=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름";return Js(h,t.birthPlace?.lon??127.5,p)}function Bf(t){let i;if(t.calendarType==="lunar"){const u=parseInt(t.birthDay.slice(0,4),10),d=parseInt(t.birthDay.slice(4,6),10),h=parseInt(t.birthDay.slice(6,8),10);i=Qr(u,d,h)}else i=Uo(t);const o=He(i,t.mingSikType??"인시");if(!o)throw new Error(`getDayGanZhi returned undefined for ${i.toISOString()}`);const l=Z7(o);if(!l)throw new Error(`Invalid day stem from ${o}`);return l}function Rf(t,i){const o=t.length;if(o===0||!i)return 0;const l=t[0].at.getTime(),u=t[o-1].at.getTime(),d=i.getTime();if(d<=l)return 0;if(d>=u)return o-1;for(let h=0;h<o-1;h+=1){const p=t[h].at.getTime(),b=t[h+1].at.getTime();if(d>=p&&d<b)return h}return 0}const F1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},K1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Y7=Object.fromEntries(Object.entries(F1).map(([t,i])=>[i,t])),q7=Object.fromEntries(Object.entries(K1).map(([t,i])=>[i,t]));function Gv(t,i,o){return o==="한글"?i==="stem"?F1[t]??t:K1[t]??t:i==="stem"?Y7[t]??t:q7[t]??t}const V7=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),F7=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Zv(t,i){return i==="stem"?V7.has(t):F7.has(t)}function K7(t){return typeof t=="object"&&t!==null}function X7(t){return K7(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function W7(t){const i=$o;return X7(i)?t==="classic"?i.Classic:i.Modern:t}function Q7({data:t}){const i=Lf(t),o=Bf(t),{date:l,setFromEvent:u}=Jr(),d=R.useMemo(()=>Rf(i,l),[i,l]),h=Qn(O=>O.settings),{charType:p,thinEum:b,showSipSin:v,showSibiUnseong:w,showSibiSinsal:_,sinsalBase:S,sinsalMode:T,sinsalBloom:D}=h,M=Uo(t),k=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,I=t.mingSikType??"야자시",H=S==="일지"?He(M,I).charAt(1):Se(M,k).charAt(1),j=O=>w?Fi(o,O):null,P=O=>_?Ki({baseBranch:H,targetBranch:O,era:W7(T),gaehwa:!!D}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"대운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:i.map((O,K)=>{const W=O.gz.charAt(0),Q=O.gz.charAt(1),et=J7(M,O.at),nt=K===d,Y=Gv(W,"stem",p),U=Gv(Q,"branch",p),tt=Zv(W,"stem"),st=Zv(Q,"branch"),yt=b&&tt?"font-thin":"font-bold",F=b&&st?"font-thin":"font-bold",ut=j(Q),dt=P(Q);return g.jsxs("div",{onClick:()=>u(O,"대운"),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${nt?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${O.gz} · ${O.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:et}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[v&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(o,{stem:W})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(W,"stem",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${yt}`,children:Y})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(Q,"branch",h)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${F}`,children:U})}),v&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(o,{branch:Q})}),(w||_)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[w&&g.jsx("div",{children:ut}),_&&g.jsx("div",{children:dt})]})]})]},O.gz)})})]})}function J7(t,i){const l=(i.getTime()-t.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(l))}const X1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},W1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},tj=Object.fromEntries(Object.entries(X1).map(([t,i])=>[i,t])),ej=Object.fromEntries(Object.entries(W1).map(([t,i])=>[i,t]));function Yv(t,i,o){return o==="한글"?i==="stem"?X1[t]??t:W1[t]??t:i==="stem"?tj[t]??t:ej[t]??t}const nj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),rj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function qv(t,i){return i==="stem"?nj.has(t):rj.has(t)}function ij(t){return typeof t=="object"&&t!==null}function aj(t){return ij(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function oj(t){const i=$o;return aj(i)?t==="classic"?i.Classic:i.Modern:t}function Vv(t){return new Date(t,6,2,12,0,0,0)}function sj(t,i){const o=i??new Date,l=o.getMonth(),u=o.getHours(),d=o.getMinutes();return l===0?new Date(t+1,0,10,u,d,0,0):new Date(t,l,10,u,d,0,0)}function lj({data:t,list:i,onSelect:o}){const l=Qn(P=>P.settings),{date:u,setFromEvent:d}=Jr(),[h,p]=R.useState(()=>i);R.useEffect(()=>{i&&i.length>0&&p(i)},[i]);const b=Uo(t),v=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,w=R.useMemo(()=>{if(!u)return[];const P=u.getFullYear(),O=Vv(P),K=Se(O,v);return[{at:O,gz:K}]},[u,v]),_=i.length>0?i:h.length>0?h:w,S=R.useMemo(()=>[..._].sort((P,O)=>P.at.getTime()-O.at.getTime()),[_]),T=R.useMemo(()=>{if(S.length===0)return 0;const P=Rf(S,u);return P<0?0:P>=S.length?S.length-1:P},[S,u]),[D,M]=R.useState(null);R.useEffect(()=>{M(null)},[u,S]);const k=D??T,I=Bf(t),H=t.mingSikType??"야자시",j=l.sinsalBase==="일지"?He(b,H).charAt(1):Se(b,v).charAt(1);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"세운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:S.map((P,O)=>{const K=P.at.getFullYear(),W=Vv(K),Q=Se(W,v),et=Q.charAt(0),nt=Q.charAt(1),Y=O===k,U=Yv(et,"stem",l.charType),tt=Yv(nt,"branch",l.charType),st=qv(et,"stem"),yt=qv(nt,"branch"),F=l.thinEum&&st?"font-thin":"font-bold",ut=l.thinEum&&yt?"font-thin":"font-bold",dt=l.showSibiUnseong?Fi(I,nt):null,Z=l.showSibiSinsal?Ki({baseBranch:j,targetBranch:nt,era:oj(l.sinsalMode),gaehwa:!!l.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{M(O);const B=sj(K,u);d({at:B,gz:Se(B,v)},"세운"),o&&(typeof queueMicrotask<"u"?queueMicrotask(()=>o(K)):Promise.resolve().then(()=>o(K)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${Y?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${Q} · ${P.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:K}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(I,{stem:et})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${pr(et,"stem",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${F}`,children:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${pr(nt,"branch",l)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl text-white ${ut}`,children:tt})}),l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(I,{branch:nt})}),(l.showSibiUnseong||l.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[l.showSibiUnseong&&dt&&g.jsx("div",{children:dt}),l.showSibiSinsal&&Z&&g.jsx("div",{children:Z})]})]})]},`${K}-${P.gz||O}`)})})]})}const Q1={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},J1={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},cj=Object.fromEntries(Object.entries(Q1).map(([t,i])=>[i,t])),uj=Object.fromEntries(Object.entries(J1).map(([t,i])=>[i,t]));function Fv(t,i,o){return o==="한글"?i==="stem"?Q1[t]??t:J1[t]??t:i==="stem"?cj[t]??t:uj[t]??t}const dj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),fj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Kv(t,i){return i==="stem"?dj.has(t):fj.has(t)}function hj(t){return typeof t=="object"&&t!==null}function mj(t){return hj(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function pj(t){const i=$o;return mj(i)?t==="classic"?i.Classic:i.Modern:t}const gj=new Set(["입춘","경칩","청명","입하","망종","소서","입추","백로","한로","입동","대설","소한"]);function bj(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function yj(t){const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(t);return Number(i.find(o=>o.type==="month")?.value??t.getMonth()+1)}function dp(t){return new Date(t,5,15,12,0,0,0)}function vj(t){const o=[...Ec(dp(t-1))??[],...Ec(dp(t))??[],...Ec(dp(t+1))??[]].map(p=>({name:String(p.name),date:new Date(p.date)})).sort((p,b)=>p.date.getTime()-b.date.getTime()).filter(p=>gj.has(p.name)),l=new Date(t,0,1,0,0,0,0),u=new Date(t+1,0,1,0,0,0,0),d=o.findIndex(p=>p.name==="입춘"&&p.date>=l&&p.date<u);if(d===-1)return[];const h=[];for(let p=0;p<12;p++){const b=o[d+p];if(!b)break;const v=new Date(b.date),w=bj(v);h.push({name:b.name,termAt:v,at00:w})}return h}function xj({data:t,activeYear:i,onSelect:o}){const l=Qn(T=>T.settings),u=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,d=Bf(t),h=Uo(t),p=t.mingSikType??"야자시",b=l.sinsalBase==="일지"?He(h,p).charAt(1):Se(h,u).charAt(1),v=R.useMemo(()=>i?vj(i).map(D=>{const M=D.at00,k=new Date(D.at00);k.setDate(k.getDate()+1);const I=rn(k,u);return{at:M,gz:I,term:D.name,termAt:D.termAt}}):[],[i,u]),{date:w,setFromEvent:_}=Jr(),S=Rf(v,w);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:"월운리스트"}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:v.map((T,D)=>{const M=T.gz.charAt(0),k=T.gz.charAt(1),I=`${yj(T.at)}월`,H=D===S,j=Fv(M,"stem",l.charType),P=Fv(k,"branch",l.charType),O=Kv(M,"stem"),K=Kv(k,"branch"),W=l.thinEum&&O?"font-thin":"font-bold",Q=l.thinEum&&K?"font-thin":"font-bold",et=l.showSibiUnseong?Fi(d,k):null,nt=l.showSibiSinsal?Ki({baseBranch:b,targetBranch:k,era:pj(l.sinsalMode),gaehwa:!!l.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{const Y=new Date(T.at);Y.setDate(Y.getDate()+1),o?.(Y.getFullYear(),Y.getMonth()+1),_({at:Y,gz:T.gz},"월운")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${H?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${T.term} 시작 · ${T.gz} · ${T.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:I}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(d,{stem:M})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(M,"stem",l)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${W}`,children:j})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${pr(k,"branch",l)}`,children:g.jsx("span",{className:`text-base md:text-xl text-white ${Q}`,children:P})}),l.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:Hn(d,{branch:k})}),(l.showSibiUnseong||l.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[l.showSibiUnseong&&et&&g.jsx("div",{children:et}),l.showSibiSinsal&&nt&&g.jsx("div",{children:nt})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500",children:T.term})]})]},`${T.term}-${T.at.toISOString()}`)})})]})}const t2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},e2={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},_j=Object.fromEntries(Object.entries(t2).map(([t,i])=>[i,t])),Sj=Object.fromEntries(Object.entries(e2).map(([t,i])=>[i,t]));function Xv(t,i,o){return o==="한글"?i==="stem"?t2[t]??t:e2[t]??t:i==="stem"?_j[t]??t:Sj[t]??t}const wj=new Set(["乙","丁","己","辛","癸","을","정","기","신","계"]),Tj=new Set(["丑","卯","巳","未","酉","亥","축","묘","사","미","유","해"]);function Wv(t,i){return i==="stem"?wj.has(t):Tj.has(t)}function Ej(t){return typeof t=="object"&&t!==null}function Nj(t){return Ej(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Mj(t){const i=$o;return Nj(i)?t==="classic"?i.Classic:i.Modern:t}function Dj(t,i){const o=new Date(t,i-1,1,12,0,0,0),l=new Date(i===12?t+1:t,i===12?0:i,1,12,0,0,0);return{start:o,end:l}}function Aj(t,i){const o=i===1?t-1:t;return new Date(o,5,15,12,0,0,0)}function jj({data:t,year:i,month:o,hourTable:l}){const u=Qn(H=>H.settings),d=l??t?.mingSikType??"야자시",h=t?Bf(t):void 0,p=t?Uo(t):null,b=t&&t.birthPlace&&t.birthPlace.name!=="모름"&&t.birthPlace.lon!==0?t.birthPlace.lon:127.5,v=t&&p?u.sinsalBase==="일지"?He(p,d).charAt(1):Se(p,b).charAt(1):null,{start:w,end:_}=R.useMemo(()=>Dj(i,o),[i,o]),S=R.useMemo(()=>{const H=Aj(i,o);return(Ec(H)??[]).slice().sort((P,O)=>P.date.getTime()-O.date.getTime()).filter(P=>P.date>=w&&P.date<_)},[i,o,w,_]),T=R.useMemo(()=>{const H=[],j=new Date(w);for(;j<_;)H.push(new Date(j)),j.setDate(j.getDate()+1);return H},[w,_]),D=R.useMemo(()=>{const H=[];let j=[];const P=new Date(i,o-1,1).getDay();for(let O=0;O<P;O++)j.push(null);for(const O of T)j.length===7&&(H.push(j),j=[]),j.push(O);for(;j.length<7;)j.push(null);return H.push(j),H},[T,i,o]),{date:M,setFromEvent:k}=Jr(),I=R.useMemo(()=>{const H=T.map(j=>({at:j}));return Rf(H,M)},[T,M]);return g.jsxs("div",{className:"w-full max-w={[800]} mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[i,"년 ",o,"월",S.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",S.map((H,j)=>g.jsxs("span",{children:[H.name," ",kj(H.date),j<S.length-1?" · ":""]},H.name+j)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["일","월","화","수","목","금","토"].map(H=>g.jsx("div",{className:"py-1",children:H},H))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:D.map((H,j)=>H.map((P,O)=>{if(!P)return g.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${j}-${O}`);const K=new Date(P.getFullYear(),P.getMonth(),P.getDate()),Q=T.findIndex(X=>X.getTime()===P.getTime())===I,et=He(K,d),nt=et.charAt(0),Y=et.charAt(1),U=Xv(nt,"stem",u.charType),tt=Xv(Y,"branch",u.charType),st=u.thinEum&&Wv(nt,"stem")?"font-thin":"font-bold",yt=u.thinEum&&Wv(Y,"branch")?"font-thin":"font-bold",F=!!h&&u.showSipSin,ut=!!h&&u.showSibiUnseong,dt=!!h&&v!=null&&u.showSibiSinsal,Z=F?Hn(h,{stem:nt}):"",B=F?Hn(h,{branch:Y}):"",A=ut?Fi(h,Y):"",$=dt?Ki({baseBranch:v,targetBranch:Y,era:Mj(u.sinsalMode),gaehwa:!!u.sinsalBloom}):"",G=S.find(X=>X.date.getFullYear()===K.getFullYear()&&X.date.getMonth()===K.getMonth()&&X.date.getDate()===K.getDate());return g.jsxs("div",{onClick:()=>{k({at:P},"일운")},className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${Q?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${et} (${K.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:K.getDate()}),G&&g.jsx("span",{className:"px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:G.name})]}),F&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Z}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${pr(nt,"stem",u)}`,children:g.jsx("span",{className:st,children:U})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base text-white ${pr(Y,"branch",u)}`,children:g.jsx("span",{className:yt,children:tt})}),F&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:B}),(ut||dt)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[ut&&A&&g.jsx("div",{children:A}),dt&&$&&g.jsx("div",{children:$})]})]},P.toISOString())}))})]})}function kj(t){if(!t)return null;const i=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(t);let o="",l="",u="",d="";for(const h of i)h.type==="month"&&(o=h.value),h.type==="day"&&(l=h.value),h.type==="hour"&&(u=h.value),h.type==="minute"&&(d=h.value);return`${o}/${l} ${u}:${d}`}function Qv(t,i){const o=t.at.getFullYear(),l=i?i.at.getFullYear():o+10,u=[];for(let d=o;d<l;d++){const h=en(d,315);let p=d;new Date<h&&(p=d-1);const v=Se(new Date(p,1,10));u.push({at:h,gz:v})}return u}function Oj({data:t}){const i=Lf(t),[o,l]=R.useState(null),[u,d]=R.useState(null),[h,p]=R.useState("il");R.useEffect(()=>{if(!i.length)return;const S=new Date,T=i.findIndex((D,M)=>{const k=i[M+1]?.at;return S>=D.at&&(!k||S<k)});T!==-1&&l(T)},[i]),R.useEffect(()=>{if(o===null)return;const S=i[o],T=i[o+1];if(!S)return;const D=Qv(S,T),M=new Date;D.findIndex((I,H)=>{const j=D[H+1]?.at;return M>=I.at&&(!j||M<j)})!==-1&&d({year:M.getFullYear(),month:M.getMonth()+1})},[o,i]);const b=M0(t),{date:v}=Jr(),w=v.getMonth()+1===1?v.getFullYear()-1:v.getFullYear(),_=R.useMemo(()=>{if(!b?.dae?.gz)return[];const S=i.findIndex((M,k)=>{const I=i[k+1]?.at;return b.dae.at>=M.at&&(!I||b.dae.at<I)});if(S===-1)return[];const T=i[S],D=i[S+1];return Qv(T,D)},[i,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(Q7,{data:t,activeIndex:o,onSelect:S=>{l(S),p("se")}}),h==="se"||h==="wol"||h==="il"?g.jsx(lj,{data:t,list:_,onSelect:()=>{p("wol")}}):null,h==="wol"||h==="il"?g.jsx(xj,{data:t,activeYear:w,onSelect:(S,T)=>{d({year:S,month:T}),p("il")}}):null,h==="il"&&u&&g.jsx(jj,{data:t,year:v.getFullYear(),month:v.getMonth()+1,hourTable:t?.mingSikType})]})}const Cj=new Set(rT),Lj=new Set(iT);function Jv(t){return typeof t=="string"&&t.length>=2&&Cj.has(t[0])&&Lj.has(t[1])}function Ar(t,...i){if(Jv(t))return t;for(const o of i)if(Jv(o))return o;return"甲子"}const n2={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},Bj={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function tx(t){return!!t&&Lr.천간.includes(t)}function Rj(t){return n2[t]??t}function ex(t){return Bj[t]??t}function Pj(t){if(tx(t))return t;const i=n2[t];return tx(i)?i:"갑"}function zj(t){return typeof t=="object"&&t!==null&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function Hj(t){const i=$o;return zj(i)?t==="classic"?i.Classic??i.classic:i.Modern??i.modern:t}function Sd(t,i){let o=null;const l=i.getTime();for(const u of t)if(u.at.getTime()<=l)o=u;else break;return o}function Ij({data:t}){const i=Qn(W=>W.settings),{showSibiUnseong:o,showSibiSinsal:l,sinsalBase:u,sinsalMode:d,sinsalBloom:h}=i,{date:p}=Jr(),b=R.useMemo(()=>N0(t),[t]),v=R.useMemo(()=>Cf(b),[b]),w=R.useMemo(()=>T0(b,"야자시"),[b]),_=R.useMemo(()=>Pj(w.day?.charAt(0)??"갑"),[w.day]),S=R.useMemo(()=>U1(v,w.hour,t.dir??"forward",120,"야자시"),[v,w.hour,t.dir]),T=R.useMemo(()=>Z1(S,w.day,t.dir??"forward","인시일수론"),[S,w.day,t.dir]),D=R.useMemo(()=>Of(v,w.month,t.dir??"forward",120,b.birthPlace?.lon??127.5),[v,w.month,t.dir,b.birthPlace?.lon]),M=R.useMemo(()=>Y1(D,w.year,t.dir??"forward","인시일수론",v),[D,w.year,t.dir,v]),k=R.useMemo(()=>({si:Ar(Sd(S.events,p)?.gz,w.hour),il:Ar(Sd(T.events,p)?.gz,w.day),wl:Ar(Sd(D.events,p)?.gz,w.month),yn:Ar(Sd(M.events,p)?.gz,w.year)}),[p,S.events,T.events,D.events,M.events,w]),I=R.useMemo(()=>({si:Ar(Rr(p,"야자시")),il:Ar(He(p,"야자시")),wl:Ar(rn(p)),yn:Ar(Se(p))}),[p]),H=R.useMemo(()=>{const W=S?.events?.[0];return W?{at:W.at,from:Ar(w.hour),to:Ar(W.gz)}:null},[S?.events,w.hour]),j=R.useMemo(()=>{const W=D?.events?.[0];return D?.firstChange?{at:D.firstChange,from:Ar(w.month),to:Ar(W?.gz??w.month)}:null},[D?.firstChange,D?.events,w.month]),P=R.useMemo(()=>u==="일지"?w.day.charAt(1):w.year.charAt(1),[u,w.day,w.year]),O=R.useMemo(()=>Hj(d),[d]),K=W=>{const Q=Rj(_),et=ex(W.charAt(1)),nt=ex(P);return{unseong:o&&Fi(Q,et)||"",shinsal:l&&Ki({baseBranch:nt,targetBranch:et,era:O,gaehwa:!!h})||""}};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:["묘운 + 실시간 운 뷰어"," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(출생: ",Nc(v),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"묘운뷰어"}),g.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",k.si],["일주",k.il],["월주",k.wl],["연주",k.yn]].map(([W,Q])=>{const{unseong:et,shinsal:nt}=K(Q);return g.jsx(Po,{label:W,gz:Q,dayStem:_,settings:i,unseongText:et,shinsalText:nt,hideBranchSipSin:!0,size:"sm"},`m-${W}`)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:"실시간 간지뷰어"}),g.jsx("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[["시주",I.si],["일주",I.il],["월주",I.wl],["연주",I.yn]].map(([W,Q])=>{const{unseong:et,shinsal:nt}=K(Q);return g.jsx(Po,{label:W,gz:Q,dayStem:_,settings:i,unseongText:et,shinsalText:nt,hideBranchSipSin:!0,size:"sm"},`l-${W}`)})})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"첫 전환 시각"}),g.jsxs("div",{children:["시주:"," ",H?`${Nc(H.at)} (${H.from} → ${H.to})`:"계산 불가"]}),g.jsxs("div",{children:["월주:"," ",j?`${Nc(j.at)} (${j.from} → ${j.to})`:"계산 불가"]})]})]})}const $j=Object.fromEntries(gr.천간.map((t,i)=>[t,In[i]])),Uj=Object.fromEntries(In.map((t,i)=>[t,gr.천간[i]])),Gj=Object.fromEntries(gr.지지.map((t,i)=>[t,Wn[i]])),Zj=Object.fromEntries(Wn.map((t,i)=>[t,gr.지지[i]])),Yj=t=>$j[t]??t,qj=t=>Gj[t]??t,Vj=t=>Uj[t]??t,Fj=t=>Zj[t]??t;function Kj(t){const i={...t};for(const o of Object.keys(t)){const l=/[甲乙丙丁戊己庚辛壬癸]/.test(o)?Yj(o):Vj(o);l&&i[l]===void 0&&(i[l]=t[o])}return i}function D0(t){const i={...t};for(const o of Object.keys(t)){const l=/[子丑寅卯辰巳午未申酉戌亥]/.test(o)?qj(o):Fj(o);l&&i[l]===void 0&&(i[l]=t[o])}return i}const Xj={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},Wj={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},r2={자:[{stem:"계",ratio:1,main:!0}],축:[{stem:"계",ratio:.2},{stem:"신",ratio:.3},{stem:"기",ratio:.5,main:!0}],인:[{stem:"병",ratio:.3},{stem:"갑",ratio:.7,main:!0}],묘:[{stem:"을",ratio:1,main:!0}],진:[{stem:"을",ratio:.2},{stem:"계",ratio:.3},{stem:"무",ratio:.5,main:!0}],사:[{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],오:[{stem:"정",ratio:1,main:!0}],미:[{stem:"정",ratio:.2},{stem:"을",ratio:.3},{stem:"기",ratio:.5,main:!0}],신:[{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}],유:[{stem:"신",ratio:1,main:!0}],술:[{stem:"신",ratio:.2},{stem:"정",ratio:.3},{stem:"무",ratio:.5,main:!0}],해:[{stem:"갑",ratio:.3},{stem:"임",ratio:.7,main:!0}]},Qj={...r2,인:[{stem:"무",ratio:.2},{stem:"병",ratio:.3},{stem:"갑",ratio:.5,main:!0}],오:[{stem:"병",ratio:.2},{stem:"기",ratio:.2},{stem:"정",ratio:1,main:!0}],사:[{stem:"무",ratio:.2},{stem:"경",ratio:.3},{stem:"병",ratio:.7,main:!0}],신:[{stem:"무",ratio:.2},{stem:"임",ratio:.3},{stem:"경",ratio:.7,main:!0}]},Za=Kj(Xj),Xn=D0(Wj),Jj=D0(r2),t9=D0(Qj),e9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},n9={木:"목",火:"화",土:"토",金:"금",水:"수"};function i2(t,i){const o=e9[i]??i,u={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"}[o];if(!u)return"비겁";const d=["목","화","토","금","수"].includes(t)?t:n9[t]??"목";if(d===u)return"비겁";const h={목:"화",화:"토",토:"금",금:"수",수:"목"},p={목:"토",화:"금",토:"수",금:"목",수:"화"};return h[u]===d?"식상":h[d]===u?"인성":p[u]===d?"재성":p[d]===u?"관성":"비겁"}const r9={목:{비겁:"#13B713",식상:"#DC143C",재성:"#F0B100",관성:"#a0a0a0",인성:"#353535"},화:{비겁:"#DC143C",식상:"#F0B100",재성:"#a0a0a0",관성:"#353535",인성:"#13B713"},토:{비겁:"#F0B100",식상:"#a0a0a0",재성:"#353535",관성:"#13B713",인성:"#DC143C"},금:{비겁:"#a0a0a0",식상:"#353535",재성:"#13B713",관성:"#DC143C",인성:"#F0B100"},수:{비겁:"#353535",식상:"#13B713",재성:"#DC143C",관성:"#F0B100",인성:"#a0a0a0"}},i9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"};function Gp(t){const i=i9[t]??"목";return r9[i]}const a9=Object.fromEntries(gr.천간.map((t,i)=>[t,In[i]])),o9=Object.fromEntries(In.map((t,i)=>[t,gr.천간[i]])),s9=Object.fromEntries(gr.지지.map((t,i)=>[t,Wn[i]])),l9=Object.fromEntries(Wn.map((t,i)=>[t,gr.지지[i]])),c9=t=>a9[t]??t,u9=t=>s9[t]??t,d9=t=>o9[t]??t,f9=t=>l9[t]??t;function a2(t){const i={...t};for(const o of Object.keys(t)){if(o.length<2)continue;const l=o.charAt(0),u=o.charAt(1),d=/[甲乙丙丁戊己庚辛壬癸]/.test(l)||/[子丑寅卯辰巳午未申酉戌亥]/.test(u)?`${c9(l)}${u9(u)}`:`${d9(l)}${f9(u)}`;i[d]===void 0&&(i[d]=t[o])}return i}const o2={갑자:1,을축:.2,병인:1,정묘:1,무진:.5,기사:.7,경오:0,신미:.5,임신:1,계유:1,갑술:0,을해:1,병자:0,정축:0,무인:.3,기묘:0,경진:.5,신사:.3,임오:0,계미:0,갑신:.3,을유:0,병술:.8,정해:.3,무자:0,기축:.5,경인:0,신묘:0,임진:.3,계사:.3,갑오:0,을미:.3,병신:0,정유:0,무술:.8,기해:0,경자:0,신축:.8,임인:0,계묘:0,갑진:.5,을사:0,병오:1,정미:.5,무신:0,기유:0,경술:.7,신해:0,임자:1,계축:.5,갑인:.7,을묘:0,병진:.2,정사:.7,무오:1,기미:.7,경신:.7,신유:1,임술:.2,계해:.7},h9={...o2,병인:.8,경오:.3,무인:.5,신사:.5,경인:.2,기해:.2,병오:.8,무신:.2},m9=a2(o2),p9=a2(h9),qa=["연","월","일","시"],wd={year:0,month:1,day:2,hour:3},fp="매우약함",g9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},b9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"};function dn(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const l=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);if(l){const u=g9[l[1]]??l[1],d=b9[l[2]]??l[2];return`${u}${d}`}return""}const Hs=t=>t&&t.length>=1?t[0]:"",Va=t=>t&&t.length>=2?t[1]:"",af=[{pair:["갑","기"],label:"갑기합"},{pair:["을","경"],label:"을경합"},{pair:["병","신"],label:"병신합"},{pair:["정","임"],label:"정임합"},{pair:["무","계"],label:"무계합"}],of=[{pair:["갑","경"],label:"갑경충"},{pair:["을","신"],label:"을신충"},{pair:["병","임"],label:"병임충"},{pair:["정","계"],label:"정계충"}],sf=[{pair:["자","축"],label:"자축합"},{pair:["인","해"],label:"인해합"},{pair:["묘","술"],label:"묘술합"},{pair:["진","유"],label:"진유합"},{pair:["사","신"],label:"사신합"},{pair:["오","미"],label:"오미합"}],lf=[{pair:["자","오"],label:"자오충"},{pair:["사","해"],label:"사해충"},{pair:["인","신"],label:"인신충"},{pair:["묘","유"],label:"묘유충"},{pair:["진","술"],label:"진술충"},{pair:["축","미"],label:"축미충"}],cf=[{pair:["축","진"],label:"축진파"},{pair:["술","미"],label:"술미파"},{pair:["자","유"],label:"자유파"},{pair:["묘","오"],label:"묘오파"},{pair:["사","신"],label:"사신파"},{pair:["인","해"],label:"인해파"}],uf=[{pair:["인","사"],label:"인사해"},{pair:["신","해"],label:"신해해"},{pair:["자","미"],label:"자미해"},{pair:["축","오"],label:"축오해"},{pair:["묘","진"],label:"묘진해"},{pair:["유","술"],label:"유술해"}],df=[{pair:["자","미"],label:"자미원진"},{pair:["인","유"],label:"인유원진"},{pair:["축","오"],label:"축오원진"},{pair:["묘","신"],label:"묘신원진"},{pair:["진","해"],label:"진해원진"},{pair:["사","술"],label:"사술원진"}],ff=[{pair:["인","미"],label:"인미귀문"},{pair:["묘","신"],label:"묘신귀문"},{pair:["진","해"],label:"진해귀문"},{pair:["사","술"],label:"사술귀문"},{pair:["자","유"],label:"자유귀문"},{pair:["축","오"],label:"축오귀문"}],y9=[{name:"인사신",members:["인","사","신"]},{name:"축술미",members:["축","술","미"]}],hf=[{pair:["인","신"],label:"인신상형"},{pair:["인","사"],label:"인사상형"},{pair:["사","신"],label:"사신상형"},{pair:["술","미"],label:"술미상형"},{pair:["축","술"],label:"축술상형"},{pair:["축","미"],label:"축미상형"}],mf=[{pair:["자","묘"],label:"자묘형"}],nx=new Set(["진","오","유","해"]),Bc=new Set(["정해","무자","신사","임오"]),Pf=[{name:"해묘미",members:["해","묘","미"],out:"목",wang:"묘"},{name:"인오술",members:["인","오","술"],out:"화",wang:"오"},{name:"사유축",members:["사","유","축"],out:"금",wang:"유"},{name:"신자진",members:["신","자","진"],out:"수",wang:"자"}],zf=[{name:"인묘진",members:["인","묘","진"],out:"목",wang:"묘"},{name:"사오미",members:["사","오","미"],out:"화",wang:"오"},{name:"신유술",members:["신","유","술"],out:"금",wang:"유"},{name:"해자축",members:["해","자","축"],out:"수",wang:"자"}];function se(t,i,o){for(const{pair:[l,u],label:d}of t)if(i===l&&o===u||i===u&&o===l)return d;return null}function ee(t,i){t.includes(i)||t.push(i)}const ko=t=>[...t].sort((i,o)=>i-o).map(i=>qa[i]).join("X"),hp=(t,i)=>t===0&&i===3||t===3&&i===0;function rx(t,i){const o=[];for(const l of t)for(const u of i){if(l===u)continue;const d=Math.min(l,u),h=Math.max(l,u);d===0&&h===3||o.push([d,h])}return o.sort((l,u)=>{const d=Math.abs(l[0]-l[1]),h=Math.abs(u[0]-u[1]);return d!==h?d-h:0})}function v9(t){const i=[],o=[...t].sort((l,u)=>l-u);for(let l=0;l<o.length;l++)for(let u=l+1;u<o.length;u++){const d=o[l],h=o[u];d===0&&h===3||i.push([d,h])}return i}const s2=t=>{switch(t){case"연":return"연주";case"월":return"월주";case"일":return"일주";case"시":return"시주"}};function x9(t){if(!t)return!1;const i=t.normalize("NFC").trim();return/^#\s*없음$/u.test(i)}const _9=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function l2(t){for(const i of _9){const l=(t[i]??[]).map(u=>u&&u.normalize("NFKC")).filter(u=>!!u&&!x9(u));t[i]=l}return t}function S9(t,i={}){const{emitGanjiAmhap:o=!0}=i,l=t.map(dn),u=l.map(S=>Hs(S)),d=l.map(S=>Va(S)),p={title:l.map((S,T)=>`${S}${["년","월","일","시"][T]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},b=(S,T,D,M)=>{const k=u.flatMap((H,j)=>H===S?[j]:[]),I=u.flatMap((H,j)=>H===T?[j]:[]);for(const H of k)for(const j of I)H!==j&&Math.abs(H-j)===1&&ee(M,`#${ko([H,j])}_${D}`)};af.forEach(({pair:[S,T],label:D})=>b(S,T,D,p.cheonganHap)),of.forEach(({pair:[S,T],label:D})=>b(S,T,D,p.cheonganChung));const v=S=>{const T=new Set,D=[];for(const M of S)for(let k=0;k<d.length;k++)if(d[k]===M&&!T.has(k)){T.add(k),D.push(k);break}return D};Pf.forEach(({name:S,members:T,wang:D})=>{const M=T.filter(I=>d.includes(I)),k=new Set(M).size;if(k===3){const I=v(T);I.length===3&&ee(p.jijiSamhap,`#${ko(I)}_${S}삼합`)}else if(k===2){if(!M.includes(D))return;const[I,H]=M,j=d.flatMap((W,Q)=>W===I?[Q]:[]),P=d.flatMap((W,Q)=>W===H?[Q]:[]),O=rx(j,P),K=O.length>1;for(const[W,Q]of O){const et=hp(W,Q),nt=`#${ko([W,Q])}_${I}${H}반합${K?"":et?`_${fp}`:""}`;ee(p.jijiSamhap,nt)}}}),zf.forEach(({name:S,members:T})=>{if(new Set(T.filter(k=>d.includes(k))).size!==3)return;const M=v(T);M.length===3&&ee(p.jijiBanghap,`#${ko(M)}${S}_방합`)});const w=(S,T,D,M)=>{const k=d.flatMap((P,O)=>P===S?[O]:[]),I=d.flatMap((P,O)=>P===T?[O]:[]),H=rx(k,I),j=H.length>1;for(const[P,O]of H){const K=hp(P,O),W=`#${ko([P,O])}_${D}${j?"":K?`_${fp}`:""}`;ee(M,W)}};if(sf.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiYukhap)),lf.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiChung)),cf.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiPa)),uf.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiHae)),df.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiWonjin)),ff.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiGwimun)),[["인","사","신"],["축","술","미"]].forEach(S=>{const T=[],D=new Set;if(S.forEach(M=>{d.forEach((k,I)=>{k===M&&(T.push(I),D.add(M))})}),D.size===3){const M=Array.from(new Set(T)).sort((k,I)=>k-I);ee(p.jijiHyeong,`#${ko(M)}_${S.join("")}삼형`)}}),hf.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiHyeong)),mf.forEach(({pair:[S,T],label:D})=>w(S,T,D,p.jijiHyeong)),["진","오","유","해"].forEach(S=>{const T=d.flatMap((k,I)=>k===S?[I]:[]),D=v9(T),M=D.length>1;for(const[k,I]of D){const H=hp(k,I),j=`#${ko([k,I])}_${S}${S}자형${M?"":H?`_${fp}`:""}`;ee(p.jijiHyeong,j)}}),[{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}].forEach(({pair:[S,T],label:D})=>w(S,T,D,p.amhap)),o)for(let S=0;S<4;S++){const T=l[S]??"";if(T.length<2)continue;const D=`${T[0]}${T[1]}`;Bc.has(D)&&ee(p.ganjiAmhap,`#${s2(qa[S])}_${D}암합`)}return l2(p)}function hc(t,i={}){const{emitNatalGanjiAmhap:o=!1}=i,l=[dn(t.natal[0]??""),dn(t.natal[1]??""),dn(t.natal[2]??""),dn(t.natal[3]??"")],d=[dn(t.daewoon??""),dn(t.sewoon??""),dn(t.wolwoon??"")].some(v=>v.length>=2),h={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(o&&d)for(let v=0;v<4;v++){const w=l[v]??"";if(w.length<2)continue;const _=`${w[0]}${w[1]}`;Bc.has(_)&&ee(h.ganjiAmhap,`#${s2(qa[v])}_${_}암합`)}const p=[["대운",t.daewoon],["세운",t.sewoon],["월운",t.wolwoon],["일운",t.ilwoon]];for(const[v,w]of p){if(!w)continue;const _=dn(w);if(!_||_.length<2)continue;const S=Hs(_),T=Va(_);{const M=`${S}${T}`;Bc.has(M)&&ee(h.ganjiAmhap,`#${v}_${M}암합`)}for(let M=0;M<4;M++){const k=l[M]??"";if(k.length<2)continue;const I=qa[M],H=Hs(k),j=Va(k),P=se(af,S,H);P&&ee(h.cheonganHap,`#${v}X${I}_${P}`);const O=se(of,S,H);O&&ee(h.cheonganChung,`#${v}X${I}_${O}`);const K=se(sf,T,j);K&&ee(h.jijiYukhap,`#${v}X${I}_${K}`);const W=se(lf,T,j);W&&ee(h.jijiChung,`#${v}X${I}_${W}`);const Q=se(cf,T,j);Q&&ee(h.jijiPa,`#${v}X${I}_${Q}`);const et=se(uf,T,j);et&&ee(h.jijiHae,`#${v}X${I}_${et}`);const nt=se(df,T,j);nt&&ee(h.jijiWonjin,`#${v}X${I}_${nt}`);const Y=se(ff,T,j);Y&&ee(h.jijiGwimun,`#${v}X${I}_${Y}`);const U=se(hf,T,j);if(U)ee(h.jijiHyeong,`#${v}X${I}_${U}`);else{const yt=se(mf,T,j);yt?ee(h.jijiHyeong,`#${v}X${I}_${yt}`):T===j&&nx.has(T)&&ee(h.jijiHyeong,`#${v}X${I}_${T}${j}자형`)}const st=se([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],T,j);st&&ee(h.amhap,`#${v}X${I}_${st}`)}const D=l.map(M=>Va(M??""));for(const M of Pf){if(!M.members.includes(T))continue;const k=M.members.filter(H=>H!==T),I=D.map((H,j)=>({b:H,pos:qa[j]})).filter(H=>k.includes(H.b));if(new Set(I.map(H=>H.b)).size===2){const[H,j]=I.map(P=>P.pos).sort((P,O)=>["시","일","월","연"].indexOf(P)-["시","일","월","연"].indexOf(O));ee(h.jijiSamhap,`#${v}X${H}X${j}_삼합(${M.name})`)}}for(const M of zf){if(!M.members.includes(T))continue;const k=M.members.filter(H=>H!==T),I=D.map((H,j)=>({b:H,pos:qa[j]})).filter(H=>k.includes(H.b));if(I.length>=2){const[H,j]=I.map(P=>P.pos).sort((P,O)=>["시","일","월","연"].indexOf(P)-["시","일","월","연"].indexOf(O));ee(h.jijiBanghap,`#${v}X${H}X${j}방합(${M.name})`)}}for(const M of y9){if(!M.members.includes(T))continue;const k=M.members.filter(H=>H!==T),I=D.map((H,j)=>({b:H,pos:qa[j]})).filter(H=>k.includes(H.b));if(new Set(I.map(H=>H.b)).size===2){const[H,j]=I.map(P=>P.pos).sort((P,O)=>["시","일","월","연"].indexOf(P)-["시","일","월","연"].indexOf(O));ee(h.jijiHyeong,`#${v}X${H}X${j}삼형(${M.name})`)}}}const b=[];t.daewoon&&t.sewoon&&b.push(["대운",t.daewoon,"세운",t.sewoon]),t.sewoon&&t.wolwoon&&b.push(["세운",t.sewoon,"월운",t.wolwoon]),t.daewoon&&t.wolwoon&&b.push(["대운",t.daewoon,"월운",t.wolwoon]),t.ilwoon&&t.daewoon&&b.push(["일운",t.ilwoon,"대운",t.daewoon]),t.ilwoon&&t.sewoon&&b.push(["일운",t.ilwoon,"세운",t.sewoon]),t.ilwoon&&t.wolwoon&&b.push(["일운",t.ilwoon,"월운",t.wolwoon]);for(const[v,w,_,S]of b){const T=dn(w),D=dn(S);if(T.length<2||D.length<2)continue;const M=Hs(T),k=Va(T),I=Hs(D),H=Va(D),j=se(af,M,I);j&&ee(h.cheonganHap,`#${v}X${_}_${j}`);const P=se(of,M,I);P&&ee(h.cheonganChung,`#${v}X${_}_${P}`);const O=se(sf,k,H);O&&ee(h.jijiYukhap,`#${v}X${_}_${O}`);const K=se(lf,k,H);K&&ee(h.jijiChung,`#${v}X${_}_${K}`);const W=se(cf,k,H);W&&ee(h.jijiPa,`#${v}X${_}_${W}`);const Q=se(uf,k,H);Q&&ee(h.jijiHae,`#${v}X${_}_${Q}`);const et=se(df,k,H);et&&ee(h.jijiWonjin,`#${v}X${_}_${et}`);const nt=se(ff,k,H);nt&&ee(h.jijiGwimun,`#${v}X${_}_${nt}`);const Y=se(hf,k,H);if(Y)ee(h.jijiHyeong,`#${v}X${_}_${Y}`);else{const tt=se(mf,k,H);tt?ee(h.jijiHyeong,`#${v}X${_}_${tt}`):k===H&&nx.has(k)&&ee(h.jijiHyeong,`#${v}X${_}_${k}${H}자형`)}const U=se([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],k,H);U&&ee(h.amhap,`#${v}X${_}_${U}`)}return l2(h)}function w9(t,i){const l=t.map(dn).map(b=>Va(b)),u=wd.month,d=l[u],h=b=>{const v=[];for(let w=0;w<4;w++){const _=l[w];_&&b.has(_)&&v.push(w)}return v},p=b=>{const v=[...b].sort((w,_)=>w-_);return v.length===3&&v[0]+1===v[1]&&v[1]+1===v[2]};for(const b of Pf){const v=new Set(b.members),w=h(v);if(w.length===3){const _=w.includes(u),S=d===b.wang;_?p(w)?i[b.out]+=S?10:8:i[b.out]+=5:i[b.out]+=3}if(w.length===2&&w.includes(u)){const _=w[0]===u?w[1]:w[0],S=d===b.wang;_===wd.day&&S?i[b.out]+=8:_===wd.year&&S?i[b.out]+=6:_===wd.hour&&(i[b.out]+=S?4:2)}}for(const b of zf){const v=new Set(b.members),w=h(v);if(w.length===3){const _=w.includes(u),S=d===b.wang;_?p(w)?i[b.out]+=S?8:6:i[b.out]+=4:i[b.out]+=2}}}function ix(t){const i=["연","월","일","시"],o=t.map(dn),l=o.map(p=>Hs(p)),u=o.map(p=>Va(p)),d=new Map,h=new Map;for(let p=0;p<4;p++){const b=l[p],v=u[p];b.includes(b)&&d.set(b,[...d.get(b)??[],p]),v.includes(v)&&h.set(v,[...h.get(v)??[],p])}return{stemsByPos:l,brsByPos:u,stemPos:d,brPos:h,names:i}}function ve(t){return qa[t]}function Dn(t,i){i&&(t.includes(i)||t.push(i))}function T9(t,i){const o=ix(t),l=ix(i),u={천간합:[],천간충:[],지지삼합:[],지지방합:[],지지반합:[],지지육합:[],암합:[],간지암합:[],지지충:[],지지형:[],지지파:[],지지해:[],지지원진:[],지지귀문:[]};for(let p=0;p<4;p++){const b=o.stemsByPos[p],v=o.brsByPos[p];for(let w=0;w<4;w++){const _=l.stemsByPos[w],S=l.brsByPos[w],T=se(af,b,_);T&&Dn(u.천간합,`${ve(p)}X${ve(w)} ${T}`);const D=se(of,b,_);D&&Dn(u.천간충,`${ve(p)}X${ve(w)} ${D}`);const M=se(sf,v,S);M&&Dn(u.지지육합,`${ve(p)}X${ve(w)} ${M}`);const k=se(lf,v,S);k&&Dn(u.지지충,`${ve(p)}X${ve(w)} ${k}`);const I=se(cf,v,S);I&&Dn(u.지지파,`${ve(p)}X${ve(w)} ${I}`);const H=se(uf,v,S);H&&Dn(u.지지해,`${ve(p)}X${ve(w)} ${H}`);const j=se(df,v,S);j&&Dn(u.지지원진,`${ve(p)}X${ve(w)} ${j}`);const P=se(ff,v,S);P&&Dn(u.지지귀문,`${ve(p)}X${ve(w)} ${P}`);const K=se([{pair:["자","술"],label:"자술암합"},{pair:["축","인"],label:"축인암합"},{pair:["묘","신"],label:"묘신암합"},{pair:["인","미"],label:"인미암합"},{pair:["오","해"],label:"오해암합"}],v,S);K&&Dn(u.암합,`${ve(p)}X${ve(w)} ${K}`);const W=`${b}${S}`,Q=`${_}${v}`;Bc.has(W)&&Dn(u.간지암합,`${ve(p)}X${ve(w)} ${W}암합`),Bc.has(Q)&&Dn(u.간지암합,`${ve(w)}X${ve(p)} ${Q}암합`);const et=se(hf,v,S);if(et)Dn(u.지지형,`${ve(p)}X${ve(w)} ${et}`);else{const nt=se(mf,v,S);nt&&Dn(u.지지형,`${ve(p)}X${ve(w)} ${nt}`)}}}const d=new Set(o.brsByPos.filter(Boolean)),h=new Set(l.brsByPos.filter(Boolean));for(const p of Pf){if(p.members.every(w=>d.has(w)||h.has(w))){const w=p.members.filter(S=>d.has(S)).length,_=p.members.filter(S=>h.has(S)).length;w>=1&&_>=1&&Dn(u.지지삼합,`${p.name}삼합`)}const v=p.members.filter(w=>d.has(w)||h.has(w));if(v.length===2&&v.includes(p.wang)){const w=v.some(S=>d.has(S)),_=v.some(S=>h.has(S));if(w&&_){const[S,T]=v.sort(),D=o.brPos.get(S)?.[0]??o.brPos.get(T)?.[0],M=l.brPos.get(S)?.[0]??l.brPos.get(T)?.[0];D!=null&&M!=null&&Dn(u.지지반합,`${ve(D)}X${ve(M)} ${S}${T}반합`)}}}for(const p of zf)if(p.members.every(v=>d.has(v)||h.has(v))){const v=p.members.filter(_=>d.has(_)).length,w=p.members.filter(_=>h.has(_)).length;v>=1&&w>=1&&Dn(u.지지방합,`${p.name}방합`)}return Object.keys(u).forEach(p=>u[p].sort()),u}const E9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},c2={목:"화",화:"토",토:"금",금:"수",수:"목"},u2={화:"목",토:"화",금:"토",수:"금",목:"수"},Zp={목:"토",화:"금",토:"수",금:"목",수:"화"},N9={목:"금",화:"수",토:"목",금:"화",수:"토"},M9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},D9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},Ud=t=>M9[t]??t,A9=t=>D9[t]??t;function j9(t){return!t||t.length<2?"":`${Ud(t[0])}${A9(t[1])}`}const k9=t=>t&&t.length>=1?t[0]:"",O9=t=>t&&t.length>=2?t[1]:"";function C9(t){return{비겁:t,식상:c2[t],인성:u2[t],재성:Zp[t],관성:N9[t]}}function Os(t,i){return t===i?"비겁":c2[i]===t?"식상":u2[i]===t?"인성":Zp[i]===t?"재성":Zp[t]===i?"관성":"비겁"}function d2(t){if(typeof t=="string")return[Ud(t)];if(Array.isArray(t)){const i=[];for(const o of t)if(typeof o=="string")i.push(Ud(o));else if(o&&typeof o=="object"&&"stem"in o){const l=o.stem;typeof l=="string"&&i.push(Ud(l))}return i}if(t&&typeof t=="object"){const i=[];for(const o of Object.values(t))i.push(...d2(o));return i}return[]}function ax(t){const i=Jj,o=t9,l=i&&i[t]!==void 0?i[t]:o?o[t]:void 0,u=d2(l),d=[];for(const h of u){const p=E9[h];p&&!d.includes(p)&&d.push(p)}return d}function L9(t,i,o="classic"){const l=(t??[]).slice(0,4).map(j9);if(l.length!==4||l.some(_=>_.length<2))return{flags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},monthBranch:"",dayEl:"토"};const u=k9(l[2]),d=u==="갑"||u==="을"?"목":u==="병"||u==="정"?"화":u==="무"||u==="기"?"토":u==="경"||u==="신"?"금":"수",h=l.map(_=>O9(_)),p={비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},b=C9(d),v=h[1];if(o==="classic"){const _=Xn[v];_&&(p[Os(_,d)].령=!0)}else{const _=ax(v);if(_.length===0){const S=Xn[v];S&&(p[Os(S,d)].령=!0)}else for(const S of _)p[Os(S,d)].령=!0}const w=[0,2,3];for(const _ of w){const S=h[_];if(o==="classic"){const T=Xn[S];T&&(p[Os(T,d)].지=!0)}else{const T=ax(S);if(T.length===0){const D=Xn[S];D&&(p[Os(D,d)].지=!0)}else for(const D of T)p[Os(D,d)].지=!0}}return Object.entries(b).forEach(([_,S])=>{p[_].세=(i[S]??0)>25}),{flags:p,monthBranch:v,dayEl:d}}const B9={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},R9={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},P9=t=>B9[t]??t,z9=t=>R9[t]??t;function H9(t){return!t||t.length<2?"":`${P9(t[0])}${z9(t[1])}`}const mp=["year","month","day","hour"],I9={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},$9={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},U9=new Set(["을","정","기","신","계"]),G9=new Set(["자","인","진","오","신","술"]),Z9=new Set(["사","오","자","해"]),Td=t=>U9.has(t)?"음":"양",pp=t=>{const i=G9.has(t)?"양":"음";return Z9.has(t)?i==="양"?"음":"양":i};function Y9(t){const i=t.reduce((p,b)=>p+b,0);if(i<=0)return t.map(()=>0);const o=t.map(p=>p*100/i),l=o.map(Math.round),d=100-l.reduce((p,b)=>p+b,0),h=o.map((p,b)=>({i:b,f:p-l[b]})).sort((p,b)=>b.f-p.f);for(let p=0;p<d;p++)l[h[p].i]+=1;return l}function q9(t,i){return t===0?i?1:.8:t===1?i?.6:.5:i?.3:.2}const Ed={왕:.15,상:.1,휴:-.15,수:-.2,사:-.25},pf={목:"화",화:"토",토:"금",금:"수",수:"목"},V9={화:"목",토:"화",금:"토",수:"금",목:"수"},Mc={목:"토",화:"금",토:"수",금:"목",수:"화"},F9={토:"목",금:"화",수:"토",목:"금",화:"수"};function Nd(t,i){return t===i?"왕":pf[i]===t?"상":pf[t]===i?"휴":Mc[t]===i?"수":Mc[i]===t?"사":"휴"}const Ga=t=>t&&t.length>=1?t[0]:"",Oo=t=>t&&t.length>=2?t[1]:"";function ox(t){const{pillars:i,dayStem:o,mode:l,debug:u,useHarmonyOverlay:d,criteriaMode:h,luck:p}=t,b=h==="modern"?I9:$9,v={목:0,화:0,토:0,금:0,수:0},w=(i??[]).slice(0,4).map(H9);if(w.length!==4||w.some(Z=>Z.length<2))return{totals:["비겁","식상","재성","관성","인성"].map(B=>({name:B,value:0,color:"#999"})),perTenGod:{비겁:{a:"비견",b:"겁재",aVal:0,bVal:0},식상:{a:"식신",b:"상관",aVal:0,bVal:0},재성:{a:"정재",b:"편재",aVal:0,bVal:0},관성:{a:"정관",b:"편관",aVal:0,bVal:0},인성:{a:"정인",b:"편인",aVal:0,bVal:0}},elementScoreRaw:v,deukFlags:{비겁:{령:!1,지:!1,세:!1},식상:{령:!1,지:!1,세:!1},재성:{령:!1,지:!1,세:!1},관성:{령:!1,지:!1,세:!1},인성:{령:!1,지:!1,세:!1}},perStemElement:{},perStemElementScaled:{}};const _=Ga(w[2]),S=o??_,T=S==="갑"||S==="을"?"목":S==="병"||S==="정"?"화":S==="무"||S==="기"?"토":S==="경"||S==="신"?"금":"수",D=l==="classic"?p9:m9,M=[{val:0},{val:0},{val:0},{val:0}],k=[[],[],[],[]];for(let Z=0;Z<4;Z++){const B=w[Z],A=mp[Z],$=Ga(B),G=Oo(B),X=b[A],at=Za[$];at&&(v[at]+=X.stem,M[Z]={stem:$,el:at,pol:Td($),val:X.stem});const rt=Xn[G];rt&&(v[rt]+=X.branch,k[Z].push({el:rt,pol:pp(G),val:X.branch}))}for(let Z=0;Z<4;Z++){const B=w[Z],A=mp[Z],$=D[B]??0;if($===0)continue;const G=Ga(B),X=Za[G];if(!X)continue;const at=b[A].stem*$;v[X]+=at,M[Z].val+=at}for(let Z=0;Z<4;Z++){const B=w[Z],A=Oo(B),$=Xn[A];if(!$)continue;const G=b[mp[Z]].branch,X=pp(A);let at=0;const rt=[Z];Z-1>=0&&rt.push(Z-1),Z+1<=3&&rt.push(Z+1),Z-2>=0&&rt.push(Z-2),Z+2<=3&&rt.push(Z+2);const gt=Array.from(new Set(rt));for(const _t of gt){const Tt=Ga(w[_t]),At=Za[Tt];if(!At||At!==$)continue;const Kt=Td(Tt)===X,Ht=Math.abs(_t-Z),re=q9(Ht,Kt);at+=G*re}at!==0&&(v[$]+=at,k[Z].push({el:$,pol:X,val:at}))}for(let Z=0;Z<4;Z++){const B=Ga(w[Z]),A=Za[B];if(!A)continue;let $=0;const G=Oo(w[Z]),X=Xn[G];X&&($+=Ed[Nd(A,X)]);const at=Z===0?[1]:Z===3?[2]:[Z-1,Z+1];for(const gt of at){const _t=Ga(w[gt]),Tt=Za[_t];Tt&&($+=Ed[Nd(A,Tt)])}const rt=M[Z].val;if(rt!==0&&$!==0){const gt=Math.round(rt*(1+$)*10)/10,_t=gt-rt;v[A]+=_t,M[Z].val=gt}}for(let Z=0;Z<4;Z++){const B=Oo(w[Z]),A=Xn[B];if(!A)continue;let $=0;const G=Ga(w[Z]),X=Za[G];X&&($+=Ed[Nd(A,X)]);const at=Z===0?[1]:Z===3?[2]:[Z-1,Z+1];for(const gt of at){const _t=Oo(w[gt]),Tt=Xn[_t];Tt&&($+=Ed[Nd(A,Tt)])}const rt=k[Z].reduce((gt,_t)=>gt+_t.val,0);if(rt!==0&&$!==0){const _t=Math.round(rt*(1+$)*10)/10-rt;v[A]+=_t,k[Z].length>0&&(k[Z][0].val+=_t)}}d&&w9(w,v);const I={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02}},H=[];function j(Z,B){const A=Z?dn(Z):"";if(!A||A.length<2)return;const $=Ga(A),G=Oo(A),X=Za[$],at=Xn[G],rt=Math.max(1,(v.목??0)+(v.화??0)+(v.토??0)+(v.금??0)+(v.수??0)),gt=I[B];if(X){const _t=Math.round(rt*gt.stem);v[X]+=_t,H.push({stem:$,el:X,pol:Td($),val:_t})}if(at){const _t=Math.round(rt*gt.branch);v[at]+=_t,H.push({el:at,pol:pp(G),val:_t})}}p&&p.tab!=="원국"&&(j(p.dae,"dae"),(p.tab==="세운"||p.tab==="월운")&&j(p.se,"se"),p.tab==="월운"&&j(p.wol,"wol"));const P={비겁:0,식상:0,재성:0,관성:0,인성:0};Object.entries(v).forEach(([Z,B])=>{P[i2(Z,S)]+=B});const O={비견:0,겁재:0,식신:0,상관:0,정재:0,편재:0,정관:0,편관:0,정인:0,편인:0};function K(Z,B){const A={화:"목",토:"화",금:"토",수:"금",목:"수"},$=Z===T?"비겁":pf[T]===Z?"식상":A[T]===Z?"인성":Mc[T]===Z?"재성":Mc[Z]===T?"관성":"비겁",G=Td(S),X=(()=>{switch($){case"비겁":return B===G?"비견":"겁재";case"식상":return B===G?"식신":"상관";case"재성":return B!==G?"정재":"편재";case"관성":return B!==G?"정관":"편관";case"인성":return B!==G?"정인":"편인";default:return B===G?"비견":"겁재"}})();return{major:$,sub:X}}const W=(Z,B,A)=>{const{sub:$}=K(Z,B);O[$]=(O[$]??0)+A};M.forEach(Z=>{Z.el&&Z.pol&&Z.val&&W(Z.el,Z.pol,Z.val)}),k.forEach(Z=>Z.forEach(B=>W(B.el,B.pol,B.val))),H.forEach(Z=>W(Z.el,Z.pol,Z.val));const Q=["비겁","식상","재성","관성","인성"],et=Y9(Q.map(Z=>P[Z])),nt=Gp(S),Y=Q.map((Z,B)=>({name:Z,value:Math.round(et[B]),color:nt[Z]})),U={};M.forEach(Z=>{if(Z.stem&&Z.el&&Z.val){const B=`${Z.stem}${Z.el}`;U[B]=(U[B]??0)+Z.val}}),H.forEach(Z=>{if(Z.stem&&Z.el&&Z.val){const B=`${Z.stem}${Z.el}`;U[B]=(U[B]??0)+Z.val}});const tt={자:"계",축:"기",인:"갑",묘:"을",진:"무",사:"병",오:"정",미:"기",신:"경",유:"신",술:"무",해:"임"};k.forEach((Z,B)=>{const A=Oo(w[B]),$=tt[A],G=Xn[A];if($&&G){const X=`${$}${G}`,at=Z.reduce((rt,gt)=>rt+gt.val,0);U[X]=(U[X]??0)+at}}),H.forEach(Z=>{if(!Z.stem&&Z.el&&Z.val){const B=Object.keys(Xn).find(A=>Xn[A]===Z.el);if(B){const A=tt[B];if(A){const $=`${A}${Z.el}`;U[$]=(U[$]??0)+Z.val}}}});function st(Z,B){switch(Z){case"비겁":return B;case"식상":return pf[B];case"재성":return Mc[B];case"관성":return F9[B];case"인성":return V9[B]}return B}const yt=["갑목","을목","병화","정화","무토","기토","경금","신금","임수","계수"],F={};yt.forEach(Z=>{F[Z]=0}),Q.forEach(Z=>{const B=Y.find(X=>X.name===Z)?.value??0,A=st(Z,T),$=Object.entries(U).filter(([X])=>X.endsWith(A)),G=$.reduce((X,[,at])=>X+at,0);G>0?$.forEach(([X,at])=>{F[X]=Math.round(B*(at/G)*10)/10}):$.forEach(([X])=>{F[X]=0})});const ut={비겁:{a:"비견",b:"겁재",aVal:O.비견||0,bVal:O.겁재||0},식상:{a:"식신",b:"상관",aVal:O.식신||0,bVal:O.상관||0},재성:{a:"정재",b:"편재",aVal:O.정재||0,bVal:O.편재||0},관성:{a:"정관",b:"편관",aVal:O.정관||0,bVal:O.편관||0},인성:{a:"정인",b:"편인",aVal:O.정인||0,bVal:O.편인||0}};for(const Z of Q){const B=Y.find(G=>G.name===Z).value,A=ut[Z],$=(A.aVal||0)+(A.bVal||0);if($>0){const G=Math.round(B*A.aVal/$),X=B-G;A.aVal=G,A.bVal=X}else A.aVal=Math.round(B/2),A.bVal=B-A.aVal}const{flags:dt}=L9(w,v);return u&&console.log("[PowerData]",{criteriaMode:h,hiddenMode:l,elementScore:v,totals:Y,perTenGod:ut,perStemRaw:U,perStemElementScaled:F,deukFlags:dt,luck:p}),{totals:Y,perTenGod:ut,elementScoreRaw:v,deukFlags:dt,perStemElement:U,perStemElementScaled:F}}const K9={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},X9={목:"화",화:"토",토:"금",금:"수",수:"목"},W9={화:"목",토:"화",금:"토",수:"금",목:"수"},Q9={목:"토",화:"금",토:"수",금:"목",수:"화"},J9={토:"목",금:"화",수:"토",목:"금",화:"수"};function t5(t){return t==="목"||t==="화"||t==="토"||t==="금"||t==="수"}function e5(t){const i=t.slice(-1);return t5(i)?i:null}function n5(t,i){switch(t){case"비겁":return i;case"식상":return X9[i];case"재성":return Q9[i];case"관성":return J9[i];case"인성":return W9[i];default:return i}}function r5({data:t,perStemElement:i,dayStem:o,width:l=280,height:u=280,revKey:d,pillars:h,daewoonGz:p,sewoonGz:b,wolwoonGz:v,yearGZ:w,monthGZ:_}){const S=l,T=u,D=S/2,M=T/2,k=Math.min(S,T)*.37,I=R.useMemo(()=>{const Q=t.map(tt=>`${tt.name}:${tt.value}`).join(","),et=i?Object.entries(i).sort(([tt],[st])=>tt.localeCompare(st)).map(([tt,st])=>`${tt}:${st}`).join(","):"none",nt=Array.isArray(h)?h.join(""):"",Y=[p??"",b??"",v??""].join("|"),U=[w??"",_??""].join("|");return[d??"",Q,et,o??"",nt,Y,U].join("||")},[d,t,i,o,h,p,b,v,w,_]),[H,j]=R.useState(0),P=R.useRef("");R.useEffect(()=>{I!==P.current&&(P.current=I,j(Q=>Q+1))},[I]);const O=Q=>Math.PI/2+2*-Math.PI*Q/5,K=R.useMemo(()=>t.map((Q,et)=>({...Q,x:D+k*Math.cos(O(et)),y:M-k*Math.sin(O(et))})),[t,D,M,k]),W=R.useMemo(()=>{const Q=(o??"").charAt(0);return K9[Q]??null},[o]);return g.jsx("div",{className:"w-full",children:g.jsxs("svg",{width:S,height:T,className:"mx-auto pt-2",children:[K.map((Q,et)=>{const nt=K[(et+2)%5];return g.jsx("line",{x1:Q.x,y1:Q.y,x2:nt.x,y2:nt.y,stroke:"#94a3b8",strokeWidth:1},`line-${et}`)}),K.map((Q,et)=>{const nt=K[(et+1)%5],Y=(Q.x+nt.x)/2,U=(Q.y+nt.y)/2,tt=Y-D,st=U-M,yt=1.5,F=D+tt*yt,ut=M+st*yt;return g.jsx("path",{d:`M${Q.x},${Q.y} Q${F},${ut} ${nt.x},${nt.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${et}`)}),g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:g.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),K.map(Q=>{const et=Q.name,nt=(()=>{if(!i||!W)return[];const Y=n5(et,W);return Object.entries(i).filter(([U])=>e5(U)===Y).sort(([,U],[,tt])=>tt-U).slice(0,3)})();return g.jsxs("g",{transform:`translate(${Q.x},${Q.y})`,children:[g.jsx("circle",{r:33,fill:Q.color,opacity:Q.value===0?.7:1}),g.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:"14",className:"fill-white font-semibold",children:[Q.name," ",Math.round(Q.value)]}),nt.map(([Y,U],tt)=>g.jsxs("text",{textAnchor:"middle",dy:8+tt*11,fontSize:"10",className:"fill-white",children:[Y," ",Math.round(U*10)/10]},Y))]},`${Q.name}-${Q.value}`)})]},H)})}const i5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],a5=[10,20,35,45,55,65,80];function f2(t){return Math.max(0,Math.min(100,t))}function o5(t){const i=f2(t);return i5.find(l=>i>=l.min&&i<l.max)?.name??"중화"}function s5({value:t}){const i=R.useMemo(()=>f2(t),[t]),o=R.useMemo(()=>o5(i),[i]);return R.useEffect(()=>{},[i,o]),g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:"신약"}),g.jsx("span",{children:"중화"}),g.jsx("span",{children:"신강"})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[a5.map(l=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${l}%`},title:`${l}%`},l)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${i}%`,transform:"translateX(-50%)"},"aria-label":`현재 강약 ${i}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:o}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[i.toFixed(1),"%"]})]})]})}function mc(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Xr({label:t,natal:i,dae:o,se:l,wol:u,il:d}){const h=o.length+l.length+u.length+d.length>0,p=i.length>0?i:["#없음"],b=h?p.filter(_=>_!=="#없음"):p,w=b.some(_=>_!=="#없음")||o.length>0||l.length>0||u.length>0||d.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[g.jsx("div",{className:w,children:t}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.map((_,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(_,"natal"),children:_},`natal-${S}`)),o.map((_,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(_,"dae"),children:_},`dae-${S}`)),l.map((_,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(_,"se"),children:_},`se-${S}`)),u.map((_,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(_,"wol"),children:_},`wol-${S}`)),d.map((_,S)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+mc(_,"il"),children:_},`il-${S}`))]})]})}function Yp(t){return Array.isArray(t)?t:[]}function Md(t,i){const o=new Set(Yp(t));return Yp(i).filter(u=>!o.has(u))}function l5({pillars:t,daewoon:i,sewoon:o,wolwoon:l,ilwoon:u,tab:d="원국"}){const h=S9(t),p=hc({natal:t}),b=i?hc({natal:t,daewoon:i}):p,v=o?hc({natal:t,daewoon:i,sewoon:o}):b,w=l?hc({natal:t,daewoon:i,sewoon:o,wolwoon:l}):v,_=u?hc({natal:t,daewoon:i,sewoon:o,wolwoon:l,ilwoon:u}):w,S=M=>({natal:Yp(h[M]),dae:Md(p[M],b[M]),se:Md(b[M],v[M]),wol:Md(v[M],w[M]),il:Md(w[M],_[M])}),T={cheonganHap:S("cheonganHap"),cheonganChung:S("cheonganChung"),jijiSamhap:S("jijiSamhap"),jijiBanghap:S("jijiBanghap"),jijiYukhap:S("jijiYukhap"),amhap:S("amhap"),ganjiAmhap:S("ganjiAmhap"),jijiChung:S("jijiChung"),jijiHyeong:S("jijiHyeong"),jijiPa:S("jijiPa"),jijiHae:S("jijiHae")},D=M=>d==="원국"?{natal:M.natal,dae:[],se:[],wol:[],il:[]}:d==="대운"?{natal:M.natal,dae:M.dae,se:[],wol:[],il:[]}:d==="세운"?{natal:M.natal,dae:M.dae,se:M.se,wol:[],il:[]}:d==="월운"?{natal:M.natal,dae:M.dae,se:M.se,wol:M.wol,il:[]}:d==="일운"?{natal:M.natal,dae:M.dae,se:M.se,wol:M.wol,il:M.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"형충회합"}),g.jsx(Xr,{label:"천간합",...D(T.cheonganHap)}),g.jsx(Xr,{label:"천간충",...D(T.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(Xr,{label:"지지삼합",...D(T.jijiSamhap)}),g.jsx(Xr,{label:"지지방합",...D(T.jijiBanghap)}),g.jsx(Xr,{label:"지지육합",...D(T.jijiYukhap)}),g.jsx(Xr,{label:"암합",...D(T.amhap)}),g.jsx(Xr,{label:"간지암합",...D(T.ganjiAmhap)}),g.jsx(Xr,{label:"지지충",...D(T.jijiChung)}),g.jsx(Xr,{label:"지지형",...D(T.jijiHyeong)}),g.jsx(Xr,{label:"지지파",...D(T.jijiPa)}),g.jsx(Xr,{label:"지지해",...D(T.jijiHae)})]})}const h2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},c5={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"},Uc={목:"화",화:"토",토:"금",금:"수",수:"목"},Rc={화:"목",토:"화",금:"토",수:"금",목:"수"},tl={목:"토",화:"금",토:"수",금:"목",수:"화"},u5=[{name:"극약",min:0,max:10},{name:"태약",min:10,max:20},{name:"신약",min:20,max:35},{name:"중화신약",min:35,max:45},{name:"중화",min:45,max:55},{name:"중화신강",min:55,max:65},{name:"태강",min:65,max:80},{name:"극태강",min:80,max:100.0001}],d5={해:{temp:"cold",wet:"wet"},자:{temp:"cold",wet:"wet"},축:{temp:"cold",wet:"wet"},인:{temp:"mild",wet:"normal"},묘:{temp:"mild",wet:"normal"},진:{temp:"mild",wet:"wet"},사:{temp:"hot",wet:"normal"},오:{temp:"hot",wet:"dry"},미:{temp:"hot",wet:"wet"},신:{temp:"mild",wet:"dry"},유:{temp:"mild",wet:"dry"},술:{temp:"mild",wet:"dry"}};function A0(t){return Math.max(0,Math.min(100,t))}function Vs(t,i,o){return Math.max(i,Math.min(o,t))}function f5(t){const i=A0(t);return u5.find(o=>i>=o.min&&i<o.max)?.name??"중화"}function h5(t){const i=t?.[2]?.charAt(0)??"";return h2[i]??null}function m5(t){return(t?.[1]?.charAt(1)??"")||null}function Hf(t){const i=Object.entries(tl);for(const[o,l]of i)if(l===t)return o;return"토"}function p5(t){return t?{peer:t,resource:Rc[t],leak:Uc[t],wealth:tl[t],officer:Hf(t)}:null}function g5(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const l=o.charAt(0),u=o.charAt(1),d=h2[l],h=c5[u];d&&(i[d]+=10),h&&(i[h]+=6)}return i}function b5(t){const i=Object.values(t).reduce((l,u)=>l+u,0);if(i<=0)return{목:20,화:20,토:20,금:20,수:20};const o={목:0,화:0,토:0,금:0,수:0};return Object.keys(t).forEach(l=>{o[l]=t[l]/i*100}),o}function y5(t){if(!t||t.length===0)return null;const i=t.reduce((l,u)=>l+(u?.value??0),0)||0;if(i<=0)return null;const o=l=>t.find(u=>u.name===l)?.value??0;return A0((o("비겁")+o("인성"))/i*100)}function v5(t,i){return!t||!i?null:i===t?"비겁":Uc[t]===i?"식상":tl[t]===i?"재성":Hf(t)===i?"관성":Rc[t]===i?"인성":null}const gp=24,x5=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function _5(t){for(const[i,o]of x5)if(t>=i)return o;return 1}const gf=20,sx=(t,i)=>Vs((gf-(i[t]??0))/gf,0,1),lx=(t,i)=>Vs(((i[t]??0)-gf)/gf,0,1);function S5(t,i,o,l){const u=v5(t,o);if(!t||!u)return 0;const d=Vs((50-i)/50,0,1),h=Vs((i-50)/50,0,1),p=sx(o,l),b=lx(o,l),v=sx(t,l),w=lx(t,l),_=6.5;let S=0;if(d>0)switch(u){case"인성":S=+(.3+.4*v+.15*p)*d;break;case"비겁":S=+(.18+.45*v)*d;break;case"관성":S=-(.08+.2*(1-p)+.1*w)*d;break;case"재성":S=-(.22+.25*(1-p)+.1*(1-v))*d;break;case"식상":S=-(.35+.25*(1-p)+.1*(1-v))*d;break}else if(h>0)switch(u){case"인성":S=-(.25+.25*(1-p)+.2*w)*h;break;case"비겁":S=-(.28+.2*w)*h;break;case"관성":S=+(.18+.2*p+.15*w)*h;break;case"재성":S=+(.22+.25*p+.1*w)*h;break;case"식상":S=+(.2+.2*p)*h;break}else switch(u){case"인성":S=.08*(v+p);break;case"비겁":S=.05*v-.03*w;break;case"관성":S=.02*p-.02*b;break;case"재성":S=.01*p-.06*b;break;case"식상":S=-.05*(1-p);break}return Math.round(_*S*10)/10}function w5(t,i,o,l){const u=["중화신강","태강","극태강"].includes(i),d=["극약","태약","신약","중화신약"].includes(i),h={목:0,화:0,토:0,금:0,수:0};if(u){const p=Uc[t],b=tl[t],v=Hf(t);h[p]+=28,h[b]+=22,h[v]+=20,l.get(p)?.push("억부: 일간 강 → 설기(식상)"),l.get(b)?.push("억부: 일간 강 → 재성 누설"),l.get(v)?.push("억부: 일간 강 → 관성 절제")}if(d){const p=Rc[t],b=t;h[p]+=28,h[b]+=22,l.get(p)?.push("억부: 일간 약 → 인성 보강"),l.get(b)?.push("억부: 일간 약 → 비겁 보강")}return h}function cx(t,i){if(!t)return{목:0,화:0,토:0,금:0,수:0};const o=d5[t]??{temp:"mild",wet:"normal"},l={목:0,화:0,토:0,금:0,수:0};return o.temp==="cold"?(l.화+=16,l.토+=6,i.get("화")?.push("조후: 한랭 → 화"),i.get("토")?.push("조후: 한랭습 보조")):o.temp==="hot"&&(l.수+=14,l.금+=6,i.get("수")?.push("조후: 염열 → 수"),i.get("금")?.push("조후: 제열 보조")),o.wet==="wet"?(l.토+=8,l.화+=4,i.get("토")?.push("조후: 습 → 토"),i.get("화")?.push("조후: 습냉 가온")):o.wet==="dry"&&(l.수+=8,l.목+=4,i.get("수")?.push("조후: 건조 → 수"),i.get("목")?.push("조후: 생발 보조")),l}function ux(t,i){const o={목:0,화:0,토:0,금:0,수:0},l=["목","화","토","금","수"];for(const u of l){const d=tl[u],h=Math.max(0,(t[u]??0)-(t[d]??0));if(h<=0)continue;const p=Uc[u],b=Math.round(h*.35);b>0&&(o[p]+=b,i.get(p)?.push(`통관: ${u}극${d} 완화`))}return o}function dx(t,i){const o={목:0,화:0,토:0,금:0,수:0},l=Object.entries(t),u=Math.min(...l.map(([,h])=>h)),d=l.filter(([,h])=>h<=Math.max(6,u));for(const[h]of d)o[h]+=12,i.get(h)?.push("병약: 결핍 보충");return o}function fx(t,i){const o=h5(t),l=m5(t),u=g5(t),d=b5(u);let h=y5(i);if(h==null)if(!o)h=50;else{const Y=o,U=Rc[o],tt=Object.values(u).reduce((st,yt)=>st+yt,0)||1;h=A0(((u[Y]??0)+(u[U]??0))/tt*100)}const p=f5(h),b={목:0,화:0,토:0,금:0,수:0},v=new Map(["목","화","토","금","수"].map(Y=>[Y,[]]));if(o){const Y=w5(o,p,u,v);Object.keys(b).forEach(U=>{b[U]+=Y[U]??0})}const w=cx(l,v);Object.keys(b).forEach(Y=>{b[Y]+=w[Y]??0});const _=ux(u,v);Object.keys(b).forEach(Y=>{b[Y]+=_[Y]??0});const S=dx(u,v);Object.keys(b).forEach(Y=>{b[Y]+=S[Y]??0});const T=p5(o),D={비겁:0,식상:0,재성:0,관성:0,인성:0};if(Array.isArray(i))for(const Y of i)D[Y.name]=Y.value;if(h>=45&&h<=55&&T){const Y=D.관성>=30||D.관성>=Math.max(D.비겁,D.식상,D.재성,D.인성)+5;h<=50?(b[T.resource]+=14,v.get(T.resource)?.push("밸런스: 중화-약측"),b[T.peer]+=10,v.get(T.peer)?.push("밸런스: 중화-약측"),b[T.leak]+=6,v.get(T.leak)?.push("밸런스: 중화-약측"),b[T.wealth]+=3,v.get(T.wealth)?.push("밸런스: 중화-약측"),Y&&T.officer&&(b[T.officer]=Math.round(b[T.officer]*.8*10)/10,v.get(T.officer)?.push("밸런스: 관성 과다 억제"))):(b[T.leak]+=14,v.get(T.leak)?.push("밸런스: 중화-강측"),b[T.wealth]+=10,v.get(T.wealth)?.push("밸런스: 중화-강측"),T.officer&&(b[T.officer]+=6,v.get(T.officer)?.push("밸런스: 중화-강측")),b[T.resource]+=3,v.get(T.resource)?.push("밸런스: 중화-강측"))}["목","화","토","금","수"].forEach(Y=>{const U=S5(o,h,Y,d);b[Y]=Vs(Math.round((b[Y]+U)*10)/10,0,999)});const k=h<50;["목","화","토","금","수"].forEach(Y=>{const U=d[Y]??0,tt=k&&o===Y;if(U>=gp&&!tt){const st=_5(U);b[Y]=Math.round(b[Y]*st*10)/10;const yt=Math.min(14,Math.max(0,Math.ceil((U-gp)*.5)));yt>0&&(b[Y]=Vs(b[Y]-yt,0,999)),v.get(Y)?.push("강과 패널티(강화)")}});const I={목:[],화:[],토:[],금:[],수:[]};if(o){const Y=Uc[o],U=tl[o],tt=Hf(o),st=o,yt=Rc[o];I[Y].push("식상"),I[U].push("재성"),I[tt].push("관성"),I[st].push("비겁"),I[yt].push("인성")}const H={목:(u.목??0)>0,화:(u.화??0)>0,토:(u.토??0)>0,금:(u.금??0)>0,수:(u.수??0)>0},j=Y=>{const U=d[Y]??0;return U>=gp&&!(k&&o===Y)?U>=55?4:U>=45?3:2:H[Y]?0:1},P=cx(l,new Map),O=ux(u,new Map),K=dx(u,new Map),W=Object.keys(b).map(Y=>({element:Y,score:Math.round(b[Y]*10)/10,via:T5(Y,P,O,K),reasons:(v.get(Y)??[]).slice(),tenGodHints:I[Y]})).sort((Y,U)=>{const tt=j(Y.element),st=j(U.element);return tt!==st?tt-st:U.score!==Y.score?U.score-Y.score:Y.element.localeCompare(U.element)}),Q=E5(p,P,O,K),et={비겁:0,식상:0,재성:0,관성:0,인성:0},nt=i?i.reduce((Y,U)=>(Y[U.name]=U.value,Y),{...et}):void 0;return{chosenType:Q,ordered:W,debug:{band:p,overallPct:h,elementScore:u,tenGodTotals:nt,monthBranch:l??void 0}}}function T5(t,i,o,l){const u=[];return(i[t]??0)>0&&u.push("조후"),(o[t]??0)>0&&u.push("통관"),(l[t]??0)>0&&u.push("병약"),u.length===0&&u.push("억부"),u}function E5(t,i,o,l){if(["극약","태약","태강","극태강"].includes(t))return"억부";const d=v=>Object.values(v).reduce((w,_)=>w+_,0),h=d(i),p=d(o),b=d(l);return h>Math.max(p,b)?"조후":p>=b?"통관":"병약"}const N5=Object.freeze(Object.defineProperty({__proto__:null,computeYongshin:fx,default:fx},Symbol.toStringTag,{value:"Module"}));function Dd(t){const i={목:0,화:0,토:0,금:0,수:0};if(!t||t.length<2)return i;const o=t.charAt(0),l=t.charAt(1),u=Za[o],d=Xn[l];return u&&(i[u]+=50),d&&(i[d]+=50),i}const pc=t=>Math.round(t*10)/10;function Cs(t){const i=t.목+t.화+t.토+t.금+t.수||1;return{목:pc(t.목/i*100),화:pc(t.화/i*100),토:pc(t.토/i*100),금:pc(t.금/i*100),수:pc(t.수/i*100)}}function M5(t,i,o,l,u,d,h,p,b,v){const w=[{v:t,w:i},{v:o,w:l},{v:u,w:d},{v:h,w:p},{v:b,w:v}].filter(T=>T.v&&T.w>0),_=w.reduce((T,D)=>T+D.w,0)||1;w.forEach(T=>{T.w=T.w/_});const S={목:0,화:0,토:0,금:0,수:0};for(const{v:T,w:D}of w)S.목+=T.목*D,S.화+=T.화*D,S.토+=T.토*D,S.금+=T.금*D,S.수+=T.수*D;return S}const D5=["원국","대운","세운","월운","일운"],A5={원국:{natal:1},대운:{natal:.6,dae:.4},세운:{natal:.5,dae:.3,se:.2},월운:{natal:.4,dae:.3,se:.2,wol:.1},일운:{natal:.4,dae:.3,se:.2,wol:.1,il:.03}};function j5(t){const{natalElementScore:i,daewoonGz:o,sewoonGz:l,wolwoonGz:u,ilwoonGz:d,tab:h}=t,p=Cs(i),b=o?Cs(Dd(o)):null,v=l?Cs(Dd(l)):null,w=u?Cs(Dd(u)):null,_=d?Cs(Dd(d)):null,S=A5[h];return Cs(M5(p,S.natal??0,b,S.dae??0,v,S.se??0,w,S.wol??0,_,S.il??0))}const kr={2:4,1:3,3:2,0:1},Is={1:4,2:3,0:2,3:1},m2=new Set(Object.keys(Sf)),p2=new Set(Object.keys(Wp)),k5=t=>t.slice(0,1),O5=t=>t.slice(-1);function Vi(t){return _f.has(t)?t:m2.has(t)?Sf[t]??t:t}function An(t){return Xp.has(t)?t:p2.has(t)?Wp[t]??t:t}function $s(t){return Vi(k5(t))}function tn(t){return An(O5(t))}const Nt={year:0,month:1,day:2,hour:3};function bp(t,i){const o=An(t),l=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of l)if(tn(i[u])===o)return{pos:u,weight:kr[u]??0};return null}function j0(t,i,o){return tn(i[o])===An(t)?{pos:o,weight:kr[o]}:null}function C5(t,i){const o=Vi(t),l=[Nt.day,Nt.month,Nt.hour,Nt.year];for(const u of l)if($s(i[u])===o)return{pos:u,weight:kr[u]??0};return null}const L5=/^#(연지|월지|일지|시지)X\1_/,B5=t=>L5.test(t);function hx(t){const i=new Map;for(const o of t){if(B5(o.name))continue;const l=`${o.name}@${o.pos}`,u=i.get(l);(!u||o.weight>u.weight)&&i.set(l,o)}return Array.from(i.values()).sort((o,l)=>l.weight!==o.weight?l.weight-o.weight:o.name.localeCompare(l.name,"ko"))}function Ad(t){return t===3?"si":t===2?"il":t===1?"wol":"yeon"}const Io=t=>t===0?"연지":t===1?"월지":t===2?"일지":"시지",el=t=>t==="dae"?"대운":t==="se"?"세운":t==="wol"?"월운":"일운",R5=(t,i)=>`#일간X${Io(i)}_${t}`,g2=(t,i)=>i===Nt.month?`#월지_${t}`:`#월지X${Io(i)}_${t}`,k0=(t,i,o)=>`#${Io(i)}X${Io(o)}_${t}`,P5=(t,i)=>`#${t==="day"?"일간":"연간"}X${Io(i)}_공망`,mx=t=>`#일주_${t}`,jd=(t,i)=>`#${Io(i)}_${t}`,Ls=(t,i)=>`#일간X${el(i)}_${t}`,gc=(t,i)=>`#월지X${el(i)}_${t}`,yp=(t,i,o)=>`#${el(i)}X${Io(o)}_${t}`,z5=(t,i)=>`#${i==="day"?"일간":"연간"}X${el(t)}_공망`,H5=(t,i)=>`#${i==="day"?"일지":"연지"}X${el(t)}_삼재`,px=(t,i)=>`#연지X${el(t)}_${i}`;function I5(t){if(!t)return null;const i=Array.from(String(t));let o=null,l=null;for(const u of i)!o&&(_f.has(u)||m2.has(u))&&(o=Vi(u)),(Xp.has(u)||p2.has(u))&&(l=An(u));return o&&l?{stem:o,branch:l}:null}function $5(t){return t.map(tn)}const Ie=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),(Array.isArray(o)?o:[o]).map(An)])),U5=Ie({자:"사",축:"축",인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유"}),b2=Ie({자:"진",축:"사",인:"오",묘:"미",진:"신",사:"유",오:"술",미:"해",신:"자",유:"축",술:"인",해:"묘"}),G5=Ie({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),Z5=Ie({자:"인",축:"인",인:"사",묘:"사",진:"사",사:"신",오:"신",미:"신",신:"해",유:"해",술:"해",해:"인"}),Y5=Ie({자:"술",축:"술",인:"축",묘:"축",진:"축",사:"진",오:"진",미:"진",신:"미",유:"미",술:"미",해:"술"}),y2=Ie({자:"술",축:"해",인:"자",묘:"축",진:"인",사:"묘",오:"진",미:"사",신:"오",유:"미",술:"신",해:"유"}),q5=Ie({자:"오",축:"묘",인:"자",묘:"유",진:"오",사:"묘",오:"자",미:"유",신:"오",유:"묘",술:"자",해:"유"}),V5=Ie({자:"사",축:"인",인:"진",묘:"미",진:"사",사:"인",오:"진",미:"미",신:"사",유:"인",술:"진",해:"미"}),F5=Ie({자:"신",축:"술",인:"자",묘:"인",진:"진",사:"오",오:"신",미:"술",신:"자",유:"인",술:"진",해:"오"}),K5=Ie({자:"사",축:"미",인:"유",묘:"해",진:"축",사:"묘",오:"사",미:"미",신:"유",유:"해",술:"축",해:"묘"}),X5=Ie({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),v2=Ie({자:"사",축:"오",인:"미",묘:"신",진:"유",사:"술",오:"해",미:"자",신:"축",유:"인",술:"묘",해:"진"}),W5=Ie({자:"인",축:"묘",인:"진",묘:"사",진:"오",사:"미",오:"신",미:"유",신:"술",유:"해",술:"자",해:"축"}),Q5=Ie({자:"신",축:"사",인:"인",묘:"해",진:"신",사:"사",오:"인",미:"해",신:"신",유:"사",술:"인",해:"해"}),J5=Ie({자:"묘",축:"진",인:"사",묘:"오",진:"미",사:"신",오:"유",미:"술",신:"해",유:"자",술:"축",해:"인"}),tk=Ie({자:"유",축:"술",인:"해",묘:"자",진:"축",사:"인",오:"묘",미:"진",신:"사",유:"오",술:"미",해:"신"}),ek=Ie({자:"자",축:"축",인:"인",묘:"묘",진:"진",사:"사",오:"오",미:"미",신:"신",유:"유",술:"술",해:"해"}),nk=Ie({자:"오",축:"미",인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"인",유:"묘",술:"진",해:"사"}),x2=Ie({자:"해",축:"자",인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술"}),rk=v2,ik=b2,ak=x2,ok=Ie({자:"유",축:"진",인:"해",묘:"오",진:"축",사:"신",오:"묘",미:"술",신:"사",유:"자",술:"미",해:"인"}),sk=y2,lk=Ie({자:"신",축:"유",인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미"}),ck=Ie({자:"축",축:"묘",인:"신",묘:"축",진:"묘",사:"신",오:"축",미:"묘",신:"신",유:"축",술:"묘",해:"신"}),uk=Ie({자:"오",축:"미",인:"인",묘:"오",진:"미",사:"인",오:"오",미:"미",신:"인",유:"오",술:"미",해:"인"}),_2=t=>(Array.isArray(t)?t:String(t).split("·")).map(i=>An(i.trim())).filter(Boolean),Pr=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),(Array.isArray(o)?o:[o]).map(l=>An(l))])),gx={인:"정",묘:"신",진:"임",사:"신",오:"해",미:"갑",신:"계",유:"인",술:"병",해:"을",자:"사",축:"경"},bx={인:"병",묘:"갑",진:"임",사:"경",오:"병",미:"갑",신:"임",유:"경",술:"병",해:"갑",자:"임",축:"경"},yx={인:"임",묘:"사",진:"정",사:"병",오:"인",미:"기",신:"무",유:"해",술:"신",해:"경",자:"신",축:"을"},vx={인:"신",묘:"기",진:"정",사:"을",오:"신",미:"기",신:"정",유:"을",술:"신",해:"기",자:"정",축:"을"},dk=Pr({인:"술",묘:"해",진:"자",사:"축",오:"인",미:"묘",신:"진",유:"사",술:"오",해:"미",자:"신",축:"유"}),xx=Pr({인:"신",묘:"유",진:"술",사:"해",오:"자",미:"축",신:"신",유:"유",술:"술",해:"해",자:"자",축:"축"}),If=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[An(i),_2(o)])),fk=If({인:"무인",묘:"무인",진:"무인",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),hk=If({인:"을묘",묘:"을묘",진:"을묘",사:"병오",오:"병오",미:"병오",신:"신유",유:"신유",술:"신유",해:"임자",자:"임자",축:"임자"}),mk=If({인:"신묘",묘:"신묘",진:"신묘",사:"무오",오:"무오",미:"무오",신:"계유",유:"계유",술:"계유",해:"병자",자:"병자",축:"병자"}),pk=If({인:"갑자",묘:"갑자",진:"갑자",사:"갑오",오:"갑오",미:"갑오",신:"무신",유:"무신",술:"무신",해:"갑자",자:"갑자",축:"갑자"}),gk=Pr({인:["해","자"],묘:["해","자"],진:["해","자"],사:["묘","미"],오:["묘","미"],미:["묘","미"],신:["인","술"],유:["인","술"],술:["인","술"],해:["축","진"],자:["축","진"],축:["축","진"]}),bk=Pr({인:"인",묘:"묘",진:"신",사:"축",오:"술",미:"유",신:"진",유:"사",술:"오",해:"미",자:"해",축:"자"}),yk=Pr({인:"유",묘:"사",진:"축",사:"유",오:"사",미:"축",신:"유",유:"사",술:"축",해:"유",자:"사",축:"축"}),vk=Pr({인:"진",묘:"진",진:"진",사:"미",오:"미",미:"미",신:"술",유:"술",술:"술",해:"축",자:"축",축:"축"}),xk=Pr({인:["사","해"],묘:["진","술"],진:["묘","유"],사:["인","신"],오:["축","미"],미:["자","오"],신:["사","해"],유:["진","술"],술:["묘","유"],해:["인","신"],자:["축","미"],축:["자","오"]}),_x=Pr({인:"축",묘:"인",진:"묘",사:"진",오:"사",미:"오",신:"미",유:"신",술:"유",해:"술",자:"해",축:"자"}),_k=Pr({인:"미",묘:"오",진:"사",사:"진",오:"묘",미:"인",신:"축",유:"자",술:"해",해:"술",자:"유",축:"신"}),Sk=Pr({인:"술",묘:"축",진:"인",사:"사",오:"유",미:"묘",신:"자",유:"오",술:"해",해:"진",자:"신",축:"미"}),wk=Pr({인:"축",묘:"자",진:"해",사:"술",오:"유",미:"신",신:"미",유:"오",술:"사",해:"진",자:"묘",축:"인"}),Tk=Pr({인:"해",묘:"술",진:"유",사:"신",오:"미",미:"오",신:"사",유:"진",술:"묘",해:"인",자:"축",축:"자"}),$e=t=>Object.fromEntries(Object.entries(t).map(([i,o])=>[Vi(i),_2(o)])),Ek=$e({갑:"자·오",을:"자",병:"묘",정:"묘",무:"진·술",기:"축·미",경:"인·해",신:"인·해",임:"사·신",계:"사·신"}),Sx=$e({갑:"축·미",을:"자·신",병:"해·유",정:"해·유",무:"축·미",기:"자·신",경:"축·미",신:"인·오",임:"사·묘",계:"사·묘"}),Nk=$e({갑:"사",을:"오",병:"사",정:"오",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),Mk=$e({갑:"유",을:"신",병:"자",정:"해",무:"묘",기:"인",경:"오",신:"사",임:"축·미",계:"진·술"}),Dk=$e({갑:"미",을:"진",병:"사",정:"유",무:"술",기:"묘",경:"해",신:"신",임:"인",계:"오"}),Ak=$e({갑:"사",을:"오",병:"신",정:"유",무:"신",기:"유",경:"해",신:"자",임:"인",계:"묘"}),jk=$e({갑:"해",을:"술",병:"신",정:"미",무:"신",기:"미",경:"사",신:"진",임:"인",계:"축"}),wx=$e({갑:"진",을:"사",병:"미",정:"신",무:"미",기:"신",경:"술",신:"해",임:"축",계:"인"}),kk=$e({갑:"축·묘",을:"인·진",병:"진·오",정:"사·미",무:"진·오",기:"사·미",경:"미·유",신:"신·술",임:"술·자",계:"해·축"}),Ok=$e({갑:"사",을:"사",병:"사",정:"신",무:"해",기:"해",경:"인",신:"인",임:"신",계:"신"}),Ck=$e({갑:"해",을:"자",병:"인",정:"묘",무:"인",기:"묘",경:"사",신:"오",임:"신",계:"유"}),Lk=$e({갑:"해",을:"오",병:"인",정:"유",무:"인",기:"유",경:"사",신:"자",임:"신",계:"묘"}),Tx=$e({갑:"신",을:"오",병:"인",정:"미",무:"진",기:"진",경:"술",신:"유",임:"자",계:"신"}),Bk=$e({갑:"유",을:"술",병:"미",정:"신",무:"사",기:"오",경:"진",신:"묘",임:"해",계:"인"}),Rk=$e({갑:"사",을:"자",병:"신",정:"술",무:"묘",기:"사",경:"자",신:"신",임:"술",계:"묘"}),Ex=$e({갑:"자",을:"해",병:"인",정:"묘",무:"오",기:"사",경:"진·술",신:"축·미",임:"신",계:"유"}),Pk=$e({갑:"인",정:"사",무:"신",신:"해"}),zk=$e({갑:"유",을:"술",병:"자",정:"축",무:"자",기:"축",경:"묘",신:"진",임:"오",계:"미"}),Nx=$e({정:"축·미",신:"묘·유",계:"사·해"}),Mx=$e({병:"자·오",무:"인·신",임:"진·술"}),Hk=$e({갑:"진",을:"진",병:"축",정:"축",무:"축",기:"축",경:"미",신:"미",임:"술",계:"술"}),Dx=$e({갑:"묘",을:"진",병:"오",정:"미",무:"오",기:"미",경:"유",신:"술",임:"자",계:"축"}),Ax=$e({갑:"진",을:"미",병:"술",정:"축",무:"진",임:"술",계:"축"}),vp=[["자","미"],["인","유"],["축","오"],["묘","신"],["진","해"],["사","술"]],xp=[["인","미"],["묘","신"],["진","해"],["사","술"],["자","유"],["축","오"]],Ik=new Set(["인미","미인","묘신","신문"]),jx=[["술","해"],["진","사"]],$k=[{set:new Set(["갑자","을축","병인","정묘","무진","기사","경오","신미","임술","계유"]),voids:["술","해"]},{set:new Set(["갑술","을해","병자","정축","무인","기묘","경진","신사","임오","계미"]),voids:["신","유"]},{set:new Set(["갑신","을유","병술","정해","무자","기축","경인","신묘","임진","계사"]),voids:["오","미"]},{set:new Set(["갑오","을미","병신","정유","무술","기해","경자","신축","임인","계묘"]),voids:["진","사"]},{set:new Set(["갑진","을사","병오","정미","무신","기유","경술","신해","임자","계축"]),voids:["인","묘"]},{set:new Set(["갑인","을묘","병진","정사","무오","기미","경신","신유","임진","계해"]),voids:["자","축"]}];function bc(t,i,o){const l=An(i),u=An(o);for(const[d,h]of t)if(d===l&&h===u||d===u&&h===l)return!0;return!1}function kx(t,i,o){const l=An(i),u=An(o);for(const[d,h]of t)if(d===l&&h===u||d===u&&h===l)return`${d}${h}`;return`${l}${u}`}function kd(t){for(const i of $k)if(i.set.has(t))return i.voids;return null}function _p(t){const i=An(t),o=[{group:new Set(["해","묘","미"]),years:new Set(["사","오","미"])},{group:new Set(["인","오","술"]),years:new Set(["신","유","술"])},{group:new Set(["사","유","축"]),years:new Set(["해","자","축"])},{group:new Set(["신","자","진"]),years:new Set(["인","묘","진"])}];for(const l of o)if(l.group.has(i))return Array.from(l.years);return null}function Gc(t,i){t.push(i)}function Sp(t,i,o,l,u=0){const d=Is[o]>=Is[l]?o:l,h=k0(i,o,l);t.push({name:h,weight:kr[d]+u,pos:d})}function Ae(t,i,o,l,u){const d=tn(t[Nt.year]),h=i[d];if(!h)return;const p=o==="MONTH"?[Nt.month]:o==="DAY"?[Nt.day]:o==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of h)for(const v of p){const w=j0(b,t,v);w&&Gc(u,{name:k0(l,Nt.year,v),weight:w.weight,pos:v})}}function Od(t,i,o,l){const u=tn(t[Nt.month]),d=i[u];if(!d)return;const h=Vi(d),p=C5(h,t);p&&Gc(l,{name:g2(o,p.pos),weight:p.weight,pos:p.pos})}function dr(t,i,o,l,u="ALL"){const d=tn(t[Nt.month]),h=i[d];if(!h)return;const p=u==="YEAR"?[Nt.year]:u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:u==="DAY_HOUR"?[Nt.day,Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of h)for(const v of p){const w=j0(b,t,v);if(!w)continue;const _=v===Nt.month?`#월지_${o}`:g2(o,v);Gc(l,{name:_,weight:w.weight,pos:v})}}function Cd(t,i,o,l){const u=tn(t[Nt.month]),d=i[u];if(!d)return;const h=t[Nt.day];d.includes(h)&&Gc(l,{name:k0(o,Nt.month,Nt.day),weight:kr[Nt.day],pos:Nt.day})}function je(t,i,o,l,u){const d=$s(t[Nt.day]),h=i[d];if(!h)return;const p=u==="DAY"?[Nt.day]:u==="HOUR"?[Nt.hour]:[Nt.year,Nt.month,Nt.day,Nt.hour];for(const b of h)for(const v of p){const w=j0(b,t,v);w&&Gc(l,{name:R5(o,v),weight:w.weight,pos:v})}}function Uk({natal:t,daewoon:i,sewoon:o,wolwoon:l,ilwoon:u,basis:d}){const h=`원국 ${t.join(" · ")}`,p=$s(t[Nt.day]),b=tn(t[Nt.day]),v=tn(t[Nt.month]),w=tn(t[Nt.year]),_=$5(t),S=[],T=[],D=new Set(["경진","임진","경술","무술"]);if(Ae(t,U5,"MONTH","태백",T),Ae(t,b2,"DAY","오귀",T),Ae(t,Z5,"MONTH","고신",T),Ae(t,Y5,"MONTH","과숙",T),Ae(t,q5,"ALL","수옥",T),Ae(t,V5,"HOUR","단명",T),Ae(t,F5,"ALL","천모",T),Ae(t,K5,"ALL","지모",T),Ae(t,X5,"ALL","대모",T),Ae(t,v2,"ALL","소모",T),Ae(t,W5,"ALL","격각",T),Ae(t,Q5,"ALL","파군",T),Ae(t,J5,"ALL","구신",T),Ae(t,tk,"ALL","교신",T),Ae(t,ek,"ALL","반음",T),Ae(t,nk,"ALL","복음",T),Ae(t,x2,"ALL","병부",T),Ae(t,rk,"ALL","사부",T),Ae(t,ik,"ALL","관부",T),Ae(t,ak,"ALL","태음",T),Ae(t,ok,"ALL","세파",T),Ae(t,sk,"ALL","천구",T),Ae(t,lk,"ALL","비염",T),Ae(t,ck,"ALL","매아",T),Ae(t,uk,"ALL","탕화",T),Od(t,gx,"천덕귀인",S),Od(t,bx,"월덕귀인",S),Od(t,yx,"천덕합",S),Od(t,vx,"월덕합",S),dr(t,dk,"혈지",T,"ALL"),dr(t,xx,"금쇄",T,"YEAR"),dr(t,xx,"금쇄",T,"DAY"),Cd(t,fk,"천사",S),Cd(t,hk,"천전살",T),Cd(t,mk,"지전살",T),Cd(t,pk,"진신",T),dr(t,gk,"급각살",T,"ALL"),dr(t,bk,"단교관살",T,"ALL"),dr(t,yk,"부벽살",T,"ALL"),dr(t,vk,"욕분관살",T,"ALL"),dr(t,xk,"사주관살",T,"ALL"),dr(t,_x,"천의성",S,"ALL"),dr(t,_k,"천희신",S,"DAY_HOUR"),dr(t,Sk,"황은대사",S,"DAY_HOUR"),dr(t,wk,"홍란성",S,"ALL"),dr(t,Tk,"장수성",S,"ALL"),je(t,Ek,"태극귀인",S,"ALL"),je(t,Sx,"천을귀인",S,"ALL"),je(t,Nk,"천주귀인",S,"ALL"),je(t,Mk,"천관귀인",S,"ALL"),je(t,Dk,"천복귀인",S,"ALL"),je(t,Ak,"문창귀인",S,"ALL"),je(t,jk,"암록",S,"ALL"),je(t,wx,"금여록",S,"ALL"),je(t,kk,"협록",S,"ALL"),je(t,Ok,"관귀학관",S,"ALL"),je(t,Ck,"문곡귀인",S,"ALL"),je(t,Lk,"학당귀인",S,"ALL"),je(t,Tx,"홍염",T,"ALL"),je(t,Bk,"유하",T,"ALL"),je(t,Rk,"낙정관살",T,"ALL"),je(t,Ex,"효신살",T,"DAY"),je(t,Ex,"효신살",T,"HOUR"),je(t,Nx,"음착살",T,"DAY"),je(t,Nx,"음착살",T,"HOUR"),je(t,Mx,"양착살",T,"DAY"),je(t,Mx,"양착살",T,"HOUR"),je(t,Pk,"고란살",T,"DAY"),je(t,zk,"비인살",T,"ALL"),je(t,Hk,"재고귀인",S,"ALL"),je(t,Dx,"양인살",T,"ALL"),D.has(t[Nt.day])){T.push({name:mx("괴강살"),weight:kr[Nt.day],pos:Nt.day});for(const A of[Nt.year,Nt.month,Nt.hour])t[A]===t[Nt.day]&&T.push({name:jd("괴강살",A),weight:kr[A],pos:A})}const k=Ax[p];if(k)for(const A of[Nt.year,Nt.month,Nt.day,Nt.hour]){const $=$s(t[A]),G=tn(t[A]);$===p&&k.includes(G)&&T.push({name:jd("백호대살",A),weight:kr[A],pos:A})}for(const[A,$]of jx){const G=bp(A,t),X=bp($,t);G&&X&&Sp(T,"천라지망",G.pos,X.pos)}{const A=new Set(["갑","신"]),$=new Set(["묘","오","미","신"]);for(let G=0;G<=3;G++){const X=$s(t[G]),at=tn(t[G]);(A.has(X)||$.has(at))&&T.push({name:jd("현침살",G),weight:kr[G],pos:G})}}new Set(["갑진","을사","임신","병신","정해","경진","무술","계해","신사","기축"]).has(t[Nt.day])&&T.push({name:mx("십악대패살"),weight:kr[Nt.day],pos:Nt.day});{const A=new Set(["을","기"]),$=new Set(["축","사"]);for(let G=0;G<=3;G++){const X=$s(t[G]),at=tn(t[G]);(A.has(X)||$.has(at))&&T.push({name:jd("곡각살",G),weight:kr[G],pos:G})}}{const A=[[Nt.year,Nt.month],[Nt.year,Nt.day],[Nt.month,Nt.day],[Nt.month,Nt.hour],[Nt.day,Nt.hour]];for(const[$,G]of A){const X=tn(t[$]),at=tn(t[G]);if(bc(vp,X,at)){const rt=kx(vp,X,at);Sp(T,`${rt}원진`,$,G)}}}{const A=[[Nt.year,Nt.month,0],[Nt.month,Nt.day,1],[Nt.month,Nt.hour,0],[Nt.day,Nt.hour,0]];for(const[$,G,X]of A){const at=tn(t[$]),rt=tn(t[G]);if(bc(xp,at,rt)){const gt=kx(xp,at,rt),_t=(X?1:0)+(Ik.has(at+rt)?1:0);Sp(T,`${gt}귀문`,$,G,_t)}}}function I(A){const $=A.lastIndexOf("_");return $>=0?A.slice($+1):A}const H=new Set(["현침살","곡각살"]);function j(A){return H.has(A)?!0:A.endsWith("원진")||A.endsWith("귀문")}function P(A){const $=new Map;for(const X of A){const at=I(X.name);$.has(at)||$.set(at,[]),$.get(at).push(X)}const G=[];for(const[X,at]of $)if(j(X))G.push(...at);else{const rt=at.sort((gt,_t)=>Is[gt.pos]!==Is[_t.pos]?Is[_t.pos]-Is[gt.pos]:_t.weight-gt.weight)[0];G.push(rt)}return G}const O=kd(t[Nt.day]),K=kd(t[Nt.year]);{const A=(d?.voidBasis??"day")==="day"?O:K;if(A){const[$,G]=A.map(An),X=[Nt.year,Nt.month,Nt.day,Nt.hour];for(const at of X){const rt=tn(t[at]);(rt===$||rt===G)&&T.push({name:P5(d?.voidBasis??"day",at),weight:kr[at],pos:at})}}}const W=P(hx(S)),Q=P(hx(T)),et={si:[],il:[],yeon:[],wol:[]},nt={si:[],il:[],yeon:[],wol:[]};for(const A of W)et[Ad(A.pos)].push(A.name);for(const A of Q)nt[Ad(A.pos)].push(A.name);const Y=[],U=[],tt=[],st=[],yt=[],F=[],ut=[],dt=[];function Z(A,$){A.includes($)||A.push($)}function B(A,$){const G=I5($);if(!G)return;const X=G.branch,at=G.stem;let rt,gt;switch(A){case"dae":rt=Y,gt=yt;break;case"se":rt=U,gt=F;break;case"wol":rt=tt,gt=ut;break;case"il":rt=st,gt=dt;break;default:return}Vi(gx[v])===at&&Z(rt,gc("천덕귀인",A)),Vi(bx[v])===at&&Z(rt,gc("월덕귀인",A)),Vi(yx[v])===at&&Z(rt,gc("천덕합",A)),Vi(vx[v])===at&&Z(rt,gc("월덕합",A)),_x[v]?.includes(X)&&Z(rt,gc("천의성",A)),Sx[p]?.includes(X)&&Z(rt,Ls("천을귀인",A)),wx[p]?.includes(X)&&Z(rt,Ls("금여록",A)),Tx[p]?.includes(X)&&Z(gt,Ls("홍염",A)),Dx[p]?.includes(X)&&Z(gt,Ls("양인살",A)),Ax[p]?.includes(X)&&Z(gt,Ls("백호대살",A)),A==="se"&&(G5[w]?.includes(X)&&Z(gt,px(A,"상문살")),y2[w]?.includes(X)&&Z(gt,px(A,"조객살")));for(const Tt of _)if(bc(jx,X,Tt)){const At=bp(Tt,t)?.pos;At!==void 0&&Z(gt,yp("천라지망",A,At));break}new Set(["갑","신"]).has(p)&&new Set(["묘","오","미","신"]).has(X)&&Z(gt,Ls("현침살",A));const _t=(d?.voidBasis??"day")==="day"?O:K;_t&&(X===_t[0]||X===_t[1])&&Z(gt,z5(A,d?.voidBasis??"day"));for(let Tt=0;Tt<=3;Tt++){const At=tn(t[Tt]);bc(vp,X,At)&&Z(gt,yp("원진",A,Tt)),bc(xp,X,At)&&Z(gt,yp("귀문",A,Tt))}if(A==="se"){const Tt=(d?.samjaeBasis??"day")==="day"?b:w,At=Tt?_p(Tt):null;At&&At.includes(X)&&Z(gt,H5(A,d?.samjaeBasis??"day"))}}return B("dae",i??null),B("se",o??null),B("wol",l??null),B("il",u??null),{title:h,good:{si:[],il:[],yeon:[],wol:[],...(()=>{const A={si:[],il:[],yeon:[],wol:[]};for(const $ of W)A[Ad($.pos)].push($.name);return A})(),dae:Y,se:U,wolun:tt,ilun:st},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const A={si:[],il:[],yeon:[],wol:[]};for(const $ of Q)A[Ad($.pos)].push($.name);return A})(),dae:yt,se:F,wolun:ut,ilun:dt},meta:{voidPair:{day:kd(t[Nt.day])??void 0,year:kd(t[Nt.year])??void 0},samjaeYears:{day:_p(b)??void 0,year:_p(w)??void 0},currentBasis:{voidBasis:d?.voidBasis??"day",samjaeBasis:d?.samjaeBasis??"day"}}}}function Gk(t,i){if(t==="#없음")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(i){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Zk({items:t,source:i}){const o=t.length>0?t:["#없음"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((l,u)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Gk(l,i),children:l},`${i}-${u}-${l}`))})}function Ox({title:t,rows:i}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:t}),i.map(o=>{const u=o.items.some(d=>d!=="#없음")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[g.jsx("div",{className:u,children:o.label}),g.jsx(Zk,{items:o.items.length>0?o.items:["#없음"],source:o.source})]},`${t}-${o.label}`)})]})}function Yk({pillars:t,daewoon:i,sewoon:o,wolwoon:l,ilwoon:u,tab:d="원국"}){const[h,p]=R.useState("일공망"),[b,v]=R.useState("일삼재"),w=R.useMemo(()=>({voidBasis:h==="일공망"?"day":"year",samjaeBasis:b==="일삼재"?"day":"year"}),[h,b]),_=R.useMemo(()=>Uk({natal:t,daewoon:i,sewoon:o,wolwoon:l,ilwoon:u,basis:w}),[t,i,o,l,u,w]),{good:S,bad:T,meta:D}=_,M=et=>et.map(nt=>nt==="#없음"?nt:`원국 ${nt}`),k=(et,nt)=>{const Y=["natal"];return nt==="원국"&&Y.push("natal"),nt==="대운"&&Y.push("natal","dae"),nt==="세운"&&Y.push("natal","dae","se"),nt==="월운"&&Y.push("natal","dae","se","wol"),nt==="일운"&&Y.push("natal","dae","se","wol","il"),et.filter(U=>Y.includes(U.source))},I=[{label:"시주",items:M(S.si),source:"natal"},{label:"일주",items:M(S.il),source:"natal"},{label:"월주",items:M(S.wol),source:"natal"},{label:"연주",items:M(S.yeon),source:"natal"},{label:"대운",items:S.dae,source:"dae"},{label:"세운",items:S.se,source:"se"},{label:"월운",items:S.wolun,source:"wol"},{label:"일운",items:S.ilun,source:"il"}],H=[{label:"시주",items:M(T.si),source:"natal"},{label:"일주",items:M(T.il),source:"natal"},{label:"월주",items:M(T.wol),source:"natal"},{label:"연주",items:M(T.yeon),source:"natal"},{label:"대운",items:T.dae,source:"dae"},{label:"세운",items:T.se,source:"se"},{label:"월운",items:T.wolun,source:"wol"},{label:"일운",items:T.ilun,source:"il"}],j=k(I,d),P=k(H,d),O=D.voidPair.day?`일공망(${D.voidPair.day.join("")})`:"일공망(—)",K=D.voidPair.year?`연공망(${D.voidPair.year.join("")})`:"연공망(—)",W=D.samjaeYears.day?`일삼재(${D.samjaeYears.day.join("·")})`:"일삼재(—)",Q=D.samjaeYears.year?`연삼재(${D.samjaeYears.year.join("·")})`:"연삼재(—)";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"신살(길신/흉살)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"공망 기준"}),g.jsxs("select",{value:h,onChange:et=>p(et.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일공망",children:O}),g.jsx("option",{value:"연공망",children:K})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:"삼재 기준"}),g.jsxs("select",{value:b,onChange:et=>v(et.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"일삼재",children:W}),g.jsx("option",{value:"연삼재",children:Q})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(Ox,{title:"신(神)",rows:j}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(Ox,{title:"살(殺)",rows:P})]})]})}const Cr={year:0,month:1,day:2,hour:3},S2={[Cr.year]:.3,[Cr.month]:.5,[Cr.day]:.3,[Cr.hour]:.3},w2={[Cr.year]:.15,[Cr.month]:.2,[Cr.day]:0,[Cr.hour]:.15},qk=t=>Xp.has(t)?t:Wp[t]??t,Vk=t=>_f.has(t)?t:Sf[t]??t,Fk=t=>qk(t.slice(-1)),Kk=t=>Vk(t.slice(0,1)),Ze=(t,i,o,l)=>({han:t,nan:i,jo:o,seup:l}),Xk={해:Ze(2,0,.5,2),자:Ze(2,0,0,2),축:Ze(2,0,0,2),인:Ze(0,2,2,0),묘:Ze(0,2,2,0),진:Ze(0,2,1,2),사:Ze(0,2,2,.5),오:Ze(0,2,2,0),미:Ze(0,2,2,1),신:Ze(2,0,0,2),유:Ze(2,0,0,2),술:Ze(2,0,1,1)},Wk={갑:Ze(0,1,1,0),을:Ze(0,1,1,0),병:Ze(0,2,2,0),정:Ze(0,2,2,0),무:Ze(0,0,1,0),기:Ze(0,0,0,1),경:Ze(1,0,0,1),신:Ze(1,0,0,1),임:Ze(2,0,0,2),계:Ze(2,0,0,2)},Cx=t=>Math.max(0,Math.min(100,t));function Lx(t,i){const o=Math.max(0,t),l=Math.max(0,i),u=o+l;return u<=0?50:l/u*100}function Qk(t){let i=0,o=0,l=0,u=0;return[{p:Cr.year},{p:Cr.month},{p:Cr.day},{p:Cr.hour}].forEach(({p:d})=>{const h=Xk[Fk(t[d])],p=Wk[Kk(t[d])],b=S2[d],v=w2[d];b>0&&h&&(i+=h.han*b,o+=h.nan*b,l+=h.jo*b,u+=h.seup*b),v>0&&p&&(i+=p.han*v,o+=p.nan*v,l+=p.jo*v,u+=p.seup*v)}),{han:i,nan:o,jo:l,seup:u}}function Jk(t){return R.useMemo(()=>{const{han:i,nan:o,jo:l,seup:u}=Qk(t),d=Lx(i,o),h=Lx(u,l);return{hanNanPct:Cx(d),joSeupPct:Cx(h),raw:{han:i,nan:o,jo:l,seup:u},weights:{branch:S2,stem:w2}}},[t])}function Bx({label:t,percent:i,leftHint:o,midHint:l,rightHint:u}){const d=R.useMemo(()=>Math.max(0,Math.min(100,i)),[i]),h=[10,20,35,45,55,65,80];return g.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[g.jsx("span",{children:o}),g.jsx("span",{children:l}),g.jsx("span",{children:u})]}),g.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[h.map(p=>g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${p}%`},title:`${p}%`},p)),g.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),g.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${d}%`,transform:"translateX(-50%)"},"aria-label":`${t} ${d.toFixed(1)}%`})]}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:t}),g.jsxs("span",{className:"text-xs text-neutral-400",children:[d.toFixed(1),"%"]})]})]})}function t4({natal:t}){const{hanNanPct:i,joSeupPct:o}=Jk(t);return g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Bx,{label:"한난",percent:i,leftHint:"한",midHint:"중화",rightHint:"난"}),g.jsx(Bx,{label:"조습",percent:o,leftHint:"습",midHint:"중화",rightHint:"조"})]})}const e4=Object.freeze([]),n4={甲:"갑",乙:"을",丙:"병",丁:"정",戊:"무",己:"기",庚:"경",辛:"신",壬:"임",癸:"계"},r4={子:"자",丑:"축",寅:"인",卯:"묘",辰:"진",巳:"사",午:"오",未:"미",申:"신",酉:"유",戌:"술",亥:"해"},T2={갑:"목",을:"목",병:"화",정:"화",무:"토",기:"토",경:"금",신:"금",임:"수",계:"수"},E2={자:"수",축:"토",인:"목",묘:"목",진:"토",사:"화",오:"화",미:"토",신:"금",유:"금",술:"토",해:"수"};function i4(t){if(!t)return"";const i=t.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[년월일시年月日時干支柱:\-_.]/g,""),o=i.match(/([갑을병정무기경신임계]).*?([자축인묘진사오미신유술해])/);if(o)return`${o[1]}${o[2]}`;const l=i.match(/([甲乙丙丁戊己庚辛壬癸]).*?([子丑寅卯辰巳午未申酉戌亥])/);return l?`${n4[l[1]]}${r4[l[2]]}`:""}function Rx(t){const i=Array.isArray(t)?t.slice(0,4):[];for(;i.length<4;)i.push("");return i.map(i4)}function Px(t){return t.length===4&&t.every(i=>i.length===2)}function a4(t,i){const o={목:!1,화:!1,토:!1,금:!1,수:!1};for(const l of t){if(!l)continue;const u=T2[l.charAt(0)];u&&(o[u]=!0);{const d=E2[l.charAt(1)];d&&(o[d]=!0)}}return o}function zx(t){const i={목:0,화:0,토:0,금:0,수:0};for(const o of t){if(!o)continue;const l=T2[o.charAt(0)],u=E2[o.charAt(1)];l&&(i[l]+=10),u&&(i[u]+=6)}return i}function qp(t){return typeof t=="object"&&t!==null}function o4(t){return qp(t)?typeof t.computeYongshin=="function"?t.computeYongshin:qp(t.default)&&typeof t.default.computeYongshin=="function"?t.default.computeYongshin:null:null}function Gd(t,i=0){if(t==null)return i;if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){const o=Number(t.trim());return Number.isFinite(o)?o:i}if(typeof t=="object"){const o=t;for(const l of["value","val","score","amount"])if(l in o)return Gd(o[l],i)}return i}function s4({data:t,pillars:i,lunarPillars:o,daewoonGz:l}){const u=Qn(Et=>Et.settings),d=!0,[h]=R.useState("solar"),[p,b]=R.useState(!0),[v,w]=R.useState("modern"),[_,S]=R.useState("일간 · 오행 강약"),[T,D]=R.useState("원국"),{date:M,yearGZ:k,monthGZ:I,dayGZ:H}=Jr(),j=R.useMemo(()=>dn(k),[k]),P=R.useMemo(()=>dn(I),[I]),O=R.useMemo(()=>dn(H),[H]),K=Lf(t,t?.mingSikType),W=R.useMemo(()=>{if(!K?.length)return 0;const Et=K.findIndex((pt,zt)=>{const jt=K[zt+1]?.at;return M>=pt.at&&(!jt||M<jt)});return Et!==-1?Et:M<K[0].at?0:K.length-1},[K,M]),Q=R.useMemo(()=>{const Et=l??K?.[W]?.gz??"";return dn(Et)||null},[l,K,W]),et=R.useMemo(()=>Rx(i),[i]),nt=R.useMemo(()=>Rx(o),[o]),Y=Px(et),U=Px(nt),st=(h==="lunar"?U?"lunar":"solar":Y?"solar":"lunar")==="lunar"?nt:et,yt=u.hiddenStemMode==="classic"?"classic":"hgc",F=u.hiddenStem==="regular"?"regular":"all",ut=R.useMemo(()=>({tab:T,dae:T!=="원국"&&Q||void 0,se:(T==="세운"||T==="월운"||T==="일운")&&j||void 0,wol:T==="월운"&&P||void 0,il:T==="일운"&&O||void 0}),[T,Q,j,P,O]),dt=R.useMemo(()=>!Y&&!U?null:ox({pillars:st,dayStem:st?.[2]?.charAt(0),mode:yt,debug:d,useHarmonyOverlay:!1,criteriaMode:v}),[v,st,yt,F,d,Y,U]),Z=R.useMemo(()=>!Y&&!U?null:ox({pillars:st,dayStem:st?.[2]?.charAt(0),mode:yt,debug:d,useHarmonyOverlay:!1,criteriaMode:v,luck:ut}),[v,st,yt,F,d,Y,U,ut]),B=R.useMemo(()=>dt?.totals??e4,[dt]),A=dt?.elementScoreRaw??zx(st),$=Gp(st[2]?.charAt(0)),G=B.map(Et=>({...Et,color:$[Et.name]})),X=R.useMemo(()=>{const Et={비겁:0,식상:0,재성:0,관성:0,인성:0};for(const pt of B)Et[pt.name]=pt.value;return Et},[B]),at=R.useMemo(()=>{const Et=dt?.deukFlags;if(!Et)return{비겁:1,식상:1,재성:1,관성:1,인성:1};const pt=.08,zt=.05,jt=.07,Gt={비겁:1,식상:1,재성:1,관성:1,인성:1};return Object.keys(Et).forEach(Ct=>{const qt=Et[Ct];Gt[Ct]+=(qt.령?pt:0)+(qt.지?zt:0)+(qt.세?jt:0)}),Gt},[dt?.deukFlags]),rt=R.useMemo(()=>{const Et=(X.비겁??0)*at.비겁+(X.인성??0)*at.인성,pt=(X.비겁??0)*at.비겁+(X.식상??0)*at.식상+(X.재성??0)*at.재성+(X.관성??0)*at.관성+(X.인성??0)*at.인성;if(pt<=0){const zt=(X.비겁??0)+(X.식상??0)+(X.재성??0)+(X.관성??0)+(X.인성??0)||1;return((X.비겁??0)+(X.인성??0))/zt*100}return Et/pt*100},[X,at]),gt=R.useMemo(()=>a4(st),[st]),_t=R.useMemo(()=>["목","화","토","금","수"].some(Et=>!gt[Et]),[gt]),Tt=A??zx(st),At=T,Kt=j5({natalElementScore:A,daewoonGz:At!=="원국"?Q??void 0:void 0,sewoonGz:At==="세운"||At==="월운"||At==="일운"?j??void 0:void 0,wolwoonGz:At==="월운"||At==="일운"?P??void 0:void 0,ilwoonGz:At==="일운"?O??void 0:void 0,tab:T}),Ht=R.useMemo(()=>{const Et=Gp(st[2]?.charAt(0));return["비겁","식상","재성","관성","인성"].map(pt=>{const zt=["목","화","토","금","수"].map(jt=>i2(jt,st[2][0])===pt?Kt[jt]:0).reduce((jt,Gt)=>jt+Gt,0);return{name:pt,value:zt,color:Et[pt]}})},[Kt,st]),re=R.useMemo(()=>{if(!Z?.perTenGod)return;const Et=JSON.parse(JSON.stringify(Z.perTenGod));return["비겁","식상","재성","관성","인성"].forEach(pt=>{const zt=Ht.find(qt=>qt.name===pt)?.value??0,jt=Et[pt],Gt=Gd(jt?.aVal,0)+Gd(jt?.bVal,0),Ct=qt=>Math.round((qt+Number.EPSILON)*10)/10;if(Gt>0){const qt=zt*Gd(jt.aVal,0)/Gt,ne=Ct(qt),De=Ct(zt-ne);jt.aVal=ne,jt.bVal=De}else{const qt=Ct(zt/2),ne=Ct(zt-qt);jt.aVal=qt,jt.bVal=ne}}),Et},[Z,Ht]),pe=R.useMemo(()=>[T,Q??"",j??"",P??"",O??"",M?.toISOString?.()??"",JSON.stringify(Z?.perStemElementScaled??{})].join("|"),[T,Q,j,P,O,M,Z?.perStemElementScaled]),We=R.useMemo(()=>{const Et=re?["비겁","식상","재성","관성","인성"].map(zt=>{const jt=re[zt],Gt=jt?.aVal??jt?.비견??jt?.정재??0,Ct=jt?.bVal??jt?.겁재??jt?.편재??0;return`${zt}:${Number(Gt)}|${Number(Ct)}`}).join(","):"none",pt=Ht.map(zt=>`${zt.name}:${zt.value}`).join(",");return`${pe}||${st.join("")}||${pt}||${Et}`},[pe,st,Ht,re]),Be=o4(N5),de=Be?Be(st,G,{elementScore:A}):null,Ye=R.useMemo(()=>{const pt=(qp(de)&&Array.isArray(de.ordered)?de.ordered:[]).map(jt=>{const Gt=jt.element,Ct=jt.score,qt=jt.reasons,ne=typeof Gt=="string"?Gt:"",De=/목|木|wood/i.test(ne)?"목":/화|火|fire/i.test(ne)?"화":/토|土|earth/i.test(ne)?"토":/금|金|metal/i.test(ne)?"금":/수|水|water/i.test(ne)?"수":null,we=typeof Ct=="number"?Ct:De?Tt[De]??0:0,zr=Array.isArray(qt)?qt:[];return{element:ne,elNorm:De,score:we,reasons:zr}}),zt=p?pt.map(jt=>jt.elNorm&&!gt[jt.elNorm]?{...jt,score:0,reasons:[...jt.reasons,"부재후순위: 원국 부재 → 0점"]}:jt):pt;return zt.sort((jt,Gt)=>{if(p){const Ct=jt.elNorm&&gt[jt.elNorm]?1:0,qt=Gt.elNorm&&gt[Gt.elNorm]?1:0;if(Ct!==qt)return qt-Ct}return(Gt.score??0)!==(jt.score??0)?(Gt.score??0)-(jt.score??0):(jt.elNorm??jt.element).localeCompare(Gt.elNorm??Gt.element)}),zt},[de,gt,p,Tt]),wt=R.useMemo(()=>Math.max(0,...Ye.map(Et=>Number.isFinite(Et.score)?Et.score:0)),[Ye]);return!Y&&!U?g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"간지를 인식할 수 없어요."}):g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:D5.map(Et=>g.jsx("button",{onClick:()=>D(Et),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(T===Et?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Et},Et))}),g.jsx("div",{className:"flex gap-2 mb-2 justify-center flex-wrap",children:["일간 · 오행 강약","형충회합","신살"].map(Et=>g.jsx("button",{onClick:()=>S(Et),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(_===Et?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:Et},Et))}),_==="형충회합"&&g.jsx(l5,{pillars:st,daewoon:Q||void 0,sewoon:j||void 0,wolwoon:P||void 0,ilwoon:O||void 0,tab:T}),_==="일간 · 오행 강약"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"ml-auto flex justify-end items-center gap-1",children:[g.jsx("button",{type:"button","aria-pressed":v==="classic",onClick:()=>w("classic"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="classic"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"고전"}),g.jsx("button",{type:"button","aria-pressed":v==="modern",onClick:()=>w("modern"),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(v==="modern"?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:"현대"})]}),g.jsx(r5,{data:Ht,revKey:We,pillars:st,daewoonGz:Q,sewoonGz:j,wolwoonGz:P,ilwoonGz:O,perStemElement:Z?.perStemElementScaled,dayStem:st?.[2]?.charAt(0)??null}),g.jsx(s5,{value:rt}),g.jsx(t4,{natal:i}),g.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"text-sm font-bold",children:"용신 추천"}),_t&&g.jsxs("button",{type:"button",onClick:()=>b(Et=>!Et),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${p?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":p,children:["부재후순위: ",p?"ON":"OFF"]})]}),g.jsx("ul",{className:"space-y-2",children:Ye.map((Et,pt)=>g.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[pt+1,"위"]}),g.jsx("span",{className:"text-sm font-semibold",children:Et.element})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:g.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${wt>0?Math.max(2,Math.min(100,Math.round((Et.score??0)/wt*100))):12}%`},title:`점수 ${Et.score}`})}),g.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(Et.reasons??[]).map((zt,jt)=>g.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:zt},jt))})]})]},Et.elNorm??Et.element))})]})]}),_==="신살"&&g.jsx(Yk,{pillars:st,daewoon:Q||void 0,sewoon:j||void 0,wolwoon:P||void 0,ilwoon:O||void 0,tab:T})]})}const N2=!1,Hx=t=>t<10?`0${t}`:`${t}`,l4=t=>typeof t=="string"&&t.length>=2,c4=t=>Array.isArray(t)&&t.length===4&&t.every(l4);function u4(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}if(l==="lunar")try{const v=Qr(u,d,h,0,0),w=`${v.getFullYear()}${Hx(v.getMonth()+1)}${Hx(v.getDate())}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function d4({data:t}){const[i,o]=R.useState("un"),l=R.useMemo(()=>{try{const d=u4(t);return Uo(d)}catch{return new Date}},[t]),u=R.useMemo(()=>{try{const d=Se(l,t.birthPlace?.lon),h=rn(l,t.birthPlace?.lon),p=He(l,t.mingSikType),b=Rr(l,t.mingSikType);return[d,h,p,b]}catch{return[]}},[l,t?.mingSikType,t?.birthPlace?.lon]);return g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>o("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"기본운 뷰어"}),g.jsx("button",{onClick:()=>o("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"묘운 뷰어"}),g.jsx("button",{onClick:()=>o("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${i==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:"분석 레포트"})]}),i==="un"&&g.jsx(Oj,{data:t}),i==="myoun"&&g.jsx(Ij,{data:t}),i==="report"&&g.jsx(s4,{data:t,pillars:c4(u)?u:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,l)=>l?l.toUpperCase():o.toLowerCase()),Ix=t=>{const i=h4(t);return i.charAt(0).toUpperCase()+i.slice(1)},M2=(...t)=>t.filter((i,o,l)=>!!i&&i.trim()!==""&&l.indexOf(i)===o).join(" ").trim(),m4=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=R.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:h,...p},b)=>R.createElement("svg",{ref:b,...p4,width:i,height:i,stroke:t,strokeWidth:l?Number(o)*24/Number(i):o,className:M2("lucide",u),...!d&&!m4(p)&&{"aria-hidden":"true"},...p},[...h.map(([v,w])=>R.createElement(v,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=(t,i)=>{const o=R.forwardRef(({className:l,...u},d)=>R.createElement(g4,{ref:d,iconNode:i,className:M2(`lucide-${f4(Ix(t))}`,`lucide-${t}`,l),...u}));return o.displayName=Ix(t),o};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],y4=ti("chevron-down",b4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],x4=ti("chevron-up",v4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],S4=ti("heart-handshake",_4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],T4=ti("house",w4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],N4=ti("menu",E4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],D4=ti("plus",M4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j4=ti("settings",A4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],O4=ti("square-user",k4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$x=ti("star",C4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],B4=ti("user-plus",L4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O0=ti("x",R4);function P4({onOpenSidebar:t,onAddNew:i,onOpenCustom:o}){return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:t,"aria-label":"명식리스트 열기",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(N4,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:"화림만세력"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:i,"aria-label":"명식 추가",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(B4,{size:18})}),g.jsx("button",{type:"button",onClick:o,"aria-label":"명식 커스텀",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(O4,{size:18})})]})]})})}function z4(t){R.useEffect(()=>{const i=t??r_()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");i_(i),t&&Ap(t)},[t])}const D2="harim.settings.v1",A2=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function H4(t){return typeof t=="string"&&A2.includes(t)}function Ux(t){const i=Array.isArray(t)?t.filter(H4):[],o=A2.filter(l=>!i.includes(l));return[...i,...o]}function j2(){if(typeof window>"u")return null;try{const t=localStorage.getItem(D2);return t?JSON.parse(t):null}catch{return null}}function I4(t){if(!(typeof window>"u"))try{const o={...j2()??{},...t};localStorage.setItem(D2,JSON.stringify(o))}catch{}}function $4({open:t,onClose:i}){const{settings:o,setSettings:l}=Qn(),u=R.useMemo(()=>Ux(o.sectionOrder),[o.sectionOrder]),[d,h]=R.useState(u),[p,b]=R.useState(o),[v,w]=R.useState(null);z4(p.theme??"dark"),R.useEffect(()=>{if(!t)return;const M=j2();if(M){const k={...o,...M};b(k),h(Ux(M.sectionOrder??k.sectionOrder))}else b(o),h([...u])},[t]);const _=(M,k)=>{b(I=>{const H={...I,[M]:k};return M==="theme"&&Ap(k),H})},S=()=>{l({...p,sectionOrder:d}),p.theme&&Ap(p.theme),I4({...p,sectionOrder:d}),w("설정이 적용되었습니다"),i()},T=M=>{const{destination:k,source:I}=M;if(!k||k.index===I.index)return;const H=Array.from(d),[j]=H.splice(I.index,1);H.splice(k.index,0,j),h(H)},D=M=>{switch(M){case"theme":return g.jsx(jr,{title:"테마",children:g.jsx(U4,{value:p.theme??"dark",onChange:k=>_("theme",k)})});case"hiddenStem":return g.jsx(jr,{title:"지장간 표시 타입",children:g.jsx(Co,{value:p.hiddenStem,onChange:k=>_("hiddenStem",k),options:[{label:"전체보기",value:"all"},{label:"정기만 보기",value:"regular"}]})});case"hiddenStemMode":return g.jsx(jr,{title:"지장간 유형",children:g.jsx(Co,{value:p.hiddenStemMode,onChange:k=>_("hiddenStemMode",k),options:[{label:"고전",value:"classic"},{label:"하건충",value:"hgc"}]})});case"ilunRule":return g.jsx(jr,{title:"일운 달력 시간타입",children:g.jsx(Co,{value:p.ilunRule??"조자시",onChange:k=>_("ilunRule",k),options:[{label:"야자시",value:"야자시"},{label:"조자시",value:"조자시"},{label:"인시",value:"인시"}]})});case"sinsalMode":return g.jsx(jr,{title:"십이신살타입",children:g.jsx(Co,{value:p.sinsalMode,onChange:k=>_("sinsalMode",k),options:[{label:"고전",value:"classic"},{label:"현대",value:"modern"}]})});case"sinsalBase":return g.jsx(jr,{title:"십이신살기준",children:g.jsx(Co,{value:p.sinsalBase,onChange:k=>_("sinsalBase",k),options:[{label:"일지",value:"일지"},{label:"연지",value:"연지"}]})});case"sinsalBloom":return g.jsx(jr,{title:"개화론 적용여부",children:g.jsx(Bs,{label:"개화론 적용",checked:!!p.sinsalBloom,onChange:k=>_("sinsalBloom",k)})});case"exposure":return g.jsx(jr,{title:"상단 노출",children:g.jsx(Co,{value:p.exposure,onChange:k=>_("exposure",k),options:[{label:"원국",value:"원국"},{label:"대운",value:"대운"},{label:"세운",value:"세운"},{label:"월운",value:"월운"}]})});case"charType":return g.jsx(jr,{title:"글자 타입",children:g.jsx(Co,{value:p.charType,onChange:k=>_("charType",k),options:[{label:"한자",value:"한자"},{label:"한글",value:"한글"}]})});case"thinEum":return g.jsx(jr,{title:"음간 얇게",children:g.jsx(Bs,{label:"음간 얇게",checked:!!p.thinEum,onChange:k=>_("thinEum",k)})});case"visibility":return g.jsx(jr,{title:"표시 항목",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[140px] mx-auto",children:[g.jsx(Bs,{label:"십신 표시",checked:!!p.showSipSin,onChange:k=>_("showSipSin",k)}),g.jsx(Bs,{label:"운성 표시",checked:!!p.showSibiUnseong,onChange:k=>_("showSibiUnseong",k)}),g.jsx(Bs,{label:"신살 표시",checked:!!p.showSibiSinsal,onChange:k=>_("showSibiSinsal",k)})]})});case"difficultyMode":return g.jsx(jr,{title:"난이도 UP ver.",children:g.jsx(Bs,{label:"난이도 UP 적용",checked:!!p.difficultyMode,onChange:k=>_("difficultyMode",k)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${t?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("h2",{className:"text-lg font-bold",children:"설정"}),g.jsx("button",{onClick:S,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:"적용하기"})]}),g.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:g.jsx(O0,{size:22})})]}),t&&g.jsx($c,{onDragEnd:T,children:g.jsx(zo,{droppableId:"settings-sections",children:M=>g.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[d.map((k,I)=>g.jsx(Ys,{draggableId:k,index:I,children:H=>g.jsxs("li",{ref:H.innerRef,...H.draggableProps,...H.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsx("div",{className:"flex-1 min-w-0",children:D(k)})]})},k)),M.placeholder]})})})]}),v&&g.jsx(R1,{message:v,onClose:()=>w(null),ms:1800})]})}function U4({value:t,onChange:i}){const o=t==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>i(o?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"다크/라이트 전환","aria-pressed":o,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:o?"다크":"라이트"})]})}function jr({title:t,children:i}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:t}),g.jsx("div",{className:"flex justify-center",children:i})]})}function Co({value:t,onChange:i,options:o}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:l=>l.stopPropagation(),onTouchStart:l=>l.stopPropagation(),children:o.map(l=>{const u=t===l.value;return g.jsx("button",{type:"button",onClick:()=>i(l.value),className:`px-3 py-1 text-sm transition-colors ${u?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:l.label},l.value)})})}function Bs({label:t,checked:i,onChange:o}){const l=`switch-${t}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:l,className:"flex items-center justify-between w-full max-w-[160px] text-sm cursor-pointer",children:[g.jsx("span",{children:t}),g.jsx("input",{id:l,type:"checkbox",checked:i,onChange:u=>o(u.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function G4({onShowToday:t,onShowCouple:i}){const[o,l]=R.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(wp,{icon:g.jsx(T4,{size:22}),label:"오늘의 사주",onClick:t}),g.jsx(wp,{icon:g.jsx(S4,{size:22}),label:"궁합",onClick:i}),g.jsx(wp,{icon:g.jsx(j4,{size:22}),label:"기타설정",onClick:()=>l(!0)})]})}),g.jsx($4,{open:o,onClose:()=>l(!1)})]})}function wp({icon:t,label:i,onClick:o}){return g.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer dark:text-neutral-300 dark:hover:text-purple-400",children:[t,g.jsx("span",{className:"mt-1",children:i})]})}function Z4(t,i={}){const{onConfirm:o,onCancel:l,duration:u=1/0,id:d="confirm-center",disableBackdropClose:h=!1,confirmText:p="확인",cancelText:b="취소"}=i;return Hm.custom(v=>{if(typeof window>"u"||!document?.body)return null;const w=()=>{const _=R.useRef(!1),S=()=>{_.current||(_.current=!0,Hm.dismiss(v.id),setTimeout(()=>{l?.()},0))},T=()=>{_.current||(_.current=!0,Hm.dismiss(v.id),setTimeout(()=>{o?.()},0))};return R.useEffect(()=>{const D=M=>{_.current||((M.key==="Escape"||M.key==="Esc")&&(M.preventDefault(),M.stopPropagation(),S()),M.key==="Enter"&&(M.preventDefault(),M.stopPropagation(),T()))};return document.addEventListener("keydown",D,{capture:!0}),()=>document.removeEventListener("keydown",D,{capture:!0})},[]),g.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-live":"assertive",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:h?void 0:S}),g.jsxs("div",{className:"relative z-10 bg-neutral-900 text-white px-4 py-3 rounded-lg shadow-lg border border-neutral-700 w-[min(92vw,520px)] transition-all duration-100 ease-out",children:[g.jsx("p",{className:"text-sm mb-3 whitespace-pre-line",children:t}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",onClick:S,children:b}),g.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-red-600 hover:bg-red-500 cursor-pointer text-white",onClick:T,children:p})]})]})]})};return zc.createPortal(g.jsx(w,{}),document.body)},{id:d,duration:u})}function Lo(t,i){const[o,l]=R.useState(i),[u,d]=R.useState(!1);return R.useEffect(()=>{try{if(typeof window>"u")return;const h=localStorage.getItem(t);h!=null&&l(JSON.parse(h))}catch{}finally{d(!0)}},[t]),R.useEffect(()=>{if(u)try{localStorage.setItem(t,JSON.stringify(o))}catch{}},[t,o,u]),[o,l,u]}function Gx(t,i,o){const l=t.slice(),[u]=l.splice(i,1);return l.splice(o,0,u),l}const Y4="list:__unassigned__",Zx="list:";function q4(t,i){const[o,l]=Lo(nf,[]),[u,d]=Lo(yA,{}),[h,p]=Lo(bA,[]),[b,v]=Lo(B1,[]),[w,_]=Lo("ms_folder_open",{}),[S,T]=Lo("ms_memo_open",{}),[D,M]=Lo("ms_new_folder_tmp",""),k=R.useRef(0);function I(nt,Y,U){const tt=Date.now();tt-k.current<450||(k.current=tt,Z4(nt,{onConfirm:Y,onCancel:U,duration:Number.POSITIVE_INFINITY}))}const H=R.useMemo(()=>ef.filter(nt=>!b.includes(nt)),[b]),j=R.useMemo(()=>[...H,...o],[H,o]);R.useEffect(()=>{p(nt=>{const Y=nt.filter(U=>j.includes(U));for(const U of j)Y.includes(U)||Y.push(U);return Y})},[j,p]);const P=R.useMemo(()=>{const nt=h.filter(U=>!!u[U]),Y=h.filter(U=>!u[U]);return[...nt,...Y]},[h,u]);R.useEffect(()=>{_(nt=>{const Y={...nt};for(const U of P)Y[U]===void 0&&(Y[U]=!0);return Y})},[P,_]),R.useEffect(()=>{t.filter(tt=>tt.folder==="미분류").forEach(tt=>i(tt.id,{folder:void 0}));const Y=new Set(j);t.filter(tt=>tt.folder&&!Y.has(tt.folder)).forEach(tt=>i(tt.id,{folder:void 0}))},[t,j,i]);const{grouped:O,unassignedItems:K}=R.useMemo(()=>{const nt={};for(const tt of P)nt[tt]=[];const Y=[];for(const tt of t){const st=tt.folder;st&&nt[st]?nt[st].push(tt):Y.push(tt)}const U=(tt,st)=>+!!st.favorite-+!!tt.favorite;for(const tt of Object.keys(nt))nt[tt]=nt[tt].slice().sort(U);return Y.sort(U),{grouped:nt,unassignedItems:Y}},[t,P]);function W(nt){const{destination:Y,draggableId:U,type:tt,source:st}=nt;if(Y){if(tt==="FOLDER"){const yt=U.replace(/^folder-/,""),F=h.filter(Z=>!!u[Z]),ut=h.filter(Z=>!u[Z]);if(!!u[yt]){const Z=F.indexOf(yt),B=Math.min(F.length-1,Y.index);p([...Gx(F,Z,B),...ut])}else{const Z=ut.indexOf(yt),B=Math.min(ut.length-1,Y.index-F.length);p([...F,...Gx(ut,Z,B)])}return}if(tt==="ITEM"){const yt=U.replace(/^item:/,""),F=st?.droppableId??"",ut=Y?.droppableId??"",dt=$=>{if(!$.startsWith(Zx))return;const G=$.slice(Zx.length);return G==="__unassigned__"?void 0:G},Z=dt(F),B=dt(ut);if(Z===B)return;const A=t.find($=>$.id===yt);if(!A)return;i(A.id,{folder:B});return}}}function Q(nt){const Y=nt.trim();if(!Y)return;const U=new Set([...P,...o]);let tt=Y,st=2;for(;U.has(tt);)tt=`${Y} ${st++}`;l(yt=>[...yt,tt]),_(yt=>({...yt,[tt]:!0})),M("")}function et(nt){t.filter(U=>U.folder===nt).forEach(U=>i(U.id,{folder:void 0})),ef.includes(nt)?v(U=>Array.from(new Set([...U,nt]))):l(U=>U.filter(tt=>tt!==nt)),_(U=>{const tt={...U};return delete tt[nt],tt}),d(U=>{const tt={...U};return delete tt[nt],tt}),p(U=>U.filter(tt=>tt!==nt))}return{folderFavMap:u,setFolderFavMap:d,folderOpenMap:w,setFolderOpenMap:_,memoOpenMap:S,setMemoOpenMap:T,newFolderName:D,setNewFolderName:M,orderedFolders:P,grouped:O,unassignedItems:K,confirmThrottled:I,handleDragEnd:W,createFolder:Q,deleteFolder:et,displayFolderLabel:vA,UNASSIGNED_LABEL:_e,DROPPABLE_UNASSIGNED:Y4}}function V4(t,i){if(!/^\d{8}$/.test(t))return t||"";const o=t.slice(0,4),l=t.slice(4,6),u=t.slice(6,8);return i&&/^\d{4}$/.test(i)?`${o}년 ${l}월 ${u}일생 ${i.slice(0,2)}:${i.slice(2,4)}분`:i==="모름"?`${o}년 ${l}월 ${u}일생 (시간 모름)`:`${o}년 ${l}월 ${u}일생`}function F4(t){if(!t)return"";const i=t.split(/[\s,]+/).filter(Boolean);if(i.length===0)return"";const o=h=>i.find(p=>h.some(b=>p.endsWith(b))),l=o(["시","군","구"]),u=o(["동","읍","면","리"]);return i.length===1||!o(["시","군","구","동","읍","면","리"])&&!o(["도","광역시","특별시","자치시","자치도"])?t:l&&u?`${l} ${u}`:l||t}function K4(t){if(!/^\d{8}$/.test(t))return"-";const i=Number(t.slice(0,4)),o=Number(t.slice(4,6)),l=Number(t.slice(6,8)),u=new Date;let d=u.getFullYear()-i;return(u.getMonth()+1<o||u.getMonth()+1===o&&u.getDate()<l)&&d--,d}function X4(t){return(t.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null시\s*/gi,"").trim()}function Vp(t){return typeof t=="object"&&t!==null}function W4(t){if(!Vp(t))throw new Error("Invalid lunar2solar result");const i=t,o=i.cYear,l=i.cMonth,u=i.cDay;if(typeof o!="number"||typeof l!="number"||typeof u!="number")throw new Error("Invalid lunar2solar fields");const d=i.isLeap;return{cYear:o,cMonth:l,cDay:u,isLeap:typeof d=="boolean"?d:void 0}}function Q4(t){const i=Vp(t)&&"default"in t?t.default:t;if(!Vp(i))throw new Error("solarlunar module invalid");const o=i.lunar2solar;if(typeof o!="function")throw new Error("solarlunar.lunar2solar not found");return(l,u,d)=>W4(o(l,u,d,!1))}const J4=Q4(jf);function k2(t){const i=t.mingSikType??"야자시";let o=Number(t.birthDay.slice(0,4)),l=Number(t.birthDay.slice(4,6)),u=Number(t.birthDay.slice(6,8));if(t.calendarType==="lunar"){const H=J4(o,l,u);o=H.cYear,l=H.cMonth,u=H.cDay}const d=!t.birthTime||t.birthTime==="모름",h=d?0:Number(t.birthTime.slice(0,2)||"0"),p=d?0:Number(t.birthTime.slice(2,4)||"0"),b=!t.birthPlace||t.birthPlace.name==="모름"||t.birthPlace.lon===0?127.5:t.birthPlace.lon,v=new Date(o,l-1,u,h,p,0,0),w=!t.birthPlace||typeof t.birthPlace=="object"&&t.birthPlace.name==="모름",_=Js(v,b,w),S=d?"":_.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),T=Se(_,b),D=rn(_,b),M=He(_,i),k=d?null:Rr(_,i),I=[`원국 : ${T}년 ${D}월 ${M}일`,k?`${k}시`:null].filter(Boolean).join(" ");return{correctedLocal:S,ganji:I}}const Yx="sidebar.orderMap.v1",qx="sidebar.folderOrder.v1",yc="list:__unassigned__",Ld=t=>`list:${t}`,Tp=t=>{if(!t.startsWith("list:"))return;const i=t.slice(5);return i==="__unassigned__"?void 0:i};function tO({open:t,onClose:i,onView:o,onAddNew:l,onEdit:u,onDeleteView:d}){const{list:h,remove:p,update:b}=Qs(),{folderFavMap:v,setFolderFavMap:w,folderOpenMap:_,setFolderOpenMap:S,memoOpenMap:T,setMemoOpenMap:D,newFolderName:M,setNewFolderName:k,orderedFolders:I,grouped:H,unassignedItems:j,handleDragEnd:P,createFolder:O,deleteFolder:K,UNASSIGNED_LABEL:W,displayFolderLabel:Q}=q4(h,b),[et,nt]=R.useState([]);R.useEffect(()=>{try{const A=localStorage.getItem(qx);if(A){const $=JSON.parse(A);Array.isArray($)&&nt($)}}catch{console.log("[Sidebar] Failed to load folderOrder from localStorage")}},[]),R.useEffect(()=>{try{localStorage.setItem(qx,JSON.stringify(et))}catch{console.log("[Sidebar] Failed to save folderOrder to localStorage")}},[et]);const[Y,U]=R.useState({});R.useEffect(()=>{try{const A=localStorage.getItem(Yx);if(A){const $=JSON.parse(A);$&&typeof $=="object"&&U(G=>({...$,...G}))}}catch{console.log("[Sidebar] Failed to load orderMap from localStorage")}},[]),R.useEffect(()=>{try{localStorage.setItem(Yx,JSON.stringify(Y))}catch{console.log("[Sidebar] Failed to save orderMap to localStorage")}},[Y]);const[tt,st]=R.useState(!1),yt=(A,$)=>{const G=new Map($.map(rt=>[rt.id,rt])),X=Y[A]??[],at=[];for(const rt of X){const gt=G.get(rt);gt&&(at.push(gt),G.delete(rt))}return G.forEach(rt=>at.push(rt)),at},F=A=>{const $=Tp(A),G=$?H[$]||[]:j;return yt(A,G).map(X=>X.id)};R.useEffect(()=>{U(A=>{let $=!1;const G={...A};{const X=yc,at=j.map(rt=>rt.id);if(!G[X])G[X]=at,$=!0;else{const rt=at.filter(_t=>!G[X].includes(_t));rt.length&&(G[X]=[...G[X],...rt],$=!0);const gt=G[X].filter(_t=>!at.includes(_t));gt.length&&(G[X]=G[X].filter(_t=>!gt.includes(_t)),$=!0)}}for(const X of I){const at=Ld(X),rt=(H[X]||[]).map(gt=>gt.id);if(!G[at])G[at]=rt,$=!0;else{const gt=rt.filter(Tt=>!G[at].includes(Tt));gt.length&&(G[at]=[...G[at],...gt],$=!0);const _t=G[at].filter(Tt=>!rt.includes(Tt));_t.length&&(G[at]=G[at].filter(Tt=>!_t.includes(Tt)),$=!0)}}return $?G:A})},[j,H,I]);const ut=R.useMemo(()=>[...et.filter(A=>I.includes(A)),...I.filter(A=>!et.includes(A))],[et,I]),dt=A=>A??{},Z=(A,$)=>{const G=X4(A),X=F4(A.birthPlace?.name),at=`item:${A.id}`,rt=!!T[A.id];let gt=new Date(A.corrected);return tf(gt.getFullYear(),gt.getMonth()+1,gt.getDate())&&(gt=new Date(gt.getTime()-3600*1e3)),g.jsx(Ys,{draggableId:at,index:$,children:_t=>g.jsx("li",{ref:_t.innerRef,..._t.draggableProps,..._t.dragHandleProps,style:dt(_t.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[A.name," (",K4(A.birthDay),"세, ",A.gender,")"]}),g.jsx("span",{className:"opacity-40",children:"｜"}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:A.relationship?A.relationship:"관계 미지정"}),g.jsx("span",{className:"ml-auto opacity-50 select-none",children:"☰"})]}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[V4(A.birthDay,A.birthTime),","," ",A.calendarType==="lunar"?"음력":"양력"]}),(X||gt)&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[X,gt&&g.jsxs("span",{className:"opacity-70",children:[" ","· 보정시 ",E7(gt)]})]}),G&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:G}),A.memo&&A.memo.trim()!==""&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Tt=>{Tt.stopPropagation(),D(At=>({...At,[A.id]:!At[A.id]}))},children:rt?"메모 닫기":"메모 열기"}),g.jsx("div",{className:rt?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:A.memo})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:Q(A.folder),onClick:Tt=>Tt.stopPropagation(),onChange:Tt=>{Tt.stopPropagation();const At=Tt.target.value,Kt=qs(At),Ht=A.id,re=A.folder?Ld(A.folder):yc,pe=Kt?Ld(Kt):yc;Kt&&!I.includes(Kt)&&O(Kt),U(We=>{const Be={...We},de=F(re),Ye=re===pe?de.slice():F(pe).slice(),wt=de.indexOf(Ht);wt>=0&&de.splice(wt,1);const Et=Ye.indexOf(Ht);return Et>=0&&Ye.splice(Et,1),Ye.unshift(Ht),Be[re]=de,Be[pe]=Ye,Be}),b(Ht,{folder:Kt})},children:[W,...I].map(Tt=>g.jsx("option",{value:Tt,children:Tt},Tt))}),g.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:A.mingSikType??"야자시",onClick:Tt=>Tt.stopPropagation(),onChange:Tt=>{Tt.stopPropagation();const At=Tt.target.value,Kt={...A,mingSikType:At},Ht=k2(Kt);b(A.id,{mingSikType:At,...Ht}),o({...Kt,...Ht}),i()},children:[g.jsx("option",{value:"야자시",children:"야자시명식"}),g.jsx("option",{value:"조자시",children:"조자시명식"}),g.jsx("option",{value:"인시",children:"인시명식"})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),o(A),i()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:"보기"}),g.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),u?.(A)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:"수정"}),g.jsx("button",{onClick:Tt=>{Tt.stopPropagation(),confirm(`'${A.name}' 명식을 삭제할까요?`)&&(p(A.id),d&&d())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:"삭제"}),g.jsx("button",{type:"button",onClick:Tt=>{Tt.stopPropagation(),b(A.id,{favorite:!A.favorite})},className:`ml-auto p-1 rounded cursor-pointer ${A.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx($x,{size:16,fill:A.favorite?"currentColor":"none"})})]})]})})},at)},B=A=>{const{source:$,destination:G,draggableId:X,type:at}=A;if(G){if(at==="FOLDER"){P(A),nt(rt=>{const gt=[...rt],[_t]=gt.splice($.index,1);return gt.splice(G.index,0,_t),gt});return}if(at==="ITEM"){const rt=X.replace(/^item:/,""),gt=$.droppableId,_t=G.droppableId;U(Kt=>{const Ht={...Kt},re=F(gt),pe=gt===_t?re.slice():F(_t).slice();if(gt===_t){const[de]=pe.splice($.index,1);return pe.splice(G.index,0,de),Ht[gt]=pe,Ht}const We=re.indexOf(rt);We>=0&&re.splice(We,1);const Be=pe.indexOf(rt);return Be>=0&&pe.splice(Be,1),pe.splice(G.index,0,rt),Ht[gt]=re,Ht[_t]=pe,Ht});const Tt=Tp(gt),At=Tp(_t);Tt!==At&&b(rt,{folder:At})}}};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:i}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    ${tt?"overflow-hidden":"overflow-auto"}
                    ${t?"left-0":"left-[-100%]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:"명식 리스트"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:()=>{l(),i()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[g.jsx(D4,{size:16})," 명식추가"]}),g.jsx("button",{onClick:i,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:g.jsx(O0,{size:22})})]})]}),g.jsx($c,{onDragStart:()=>st(!0),onDragEnd:A=>{st(!1),B(A)},children:g.jsxs("div",{className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:M,onChange:A=>k(A.target.value),placeholder:"새 폴더 이름",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:A=>A.stopPropagation()}),g.jsx("button",{type:"button",onClick:()=>O(M),className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClickCapture:A=>A.stopPropagation(),children:"생성"})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"명식/폴더를 드래그 하여 순서를 바꿀 수 있습니다."}),g.jsx(zo,{droppableId:yc,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:A=>{const $=yt(yc,j);return g.jsx("div",{ref:A.innerRef,...A.droppableProps,className:"mb-6",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[$.map((G,X)=>Z(G,X)),A.placeholder]})})}}),g.jsx(zo,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,children:A=>g.jsxs("div",{ref:A.innerRef,...A.droppableProps,children:[ut.map(($,G)=>{const X=Ld($),at=yt(X,H[$]||[]),rt=!!_[$],gt=!!v[$];return g.jsx(Ys,{draggableId:`folder-${$}`,index:G,children:_t=>g.jsxs("div",{ref:_t.innerRef,..._t.draggableProps,..._t.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:Tt=>{Tt.stopPropagation(),S(At=>({...At,[$]:!rt}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[rt?g.jsx(x4,{size:16}):g.jsx(y4,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:$})]}),g.jsx("button",{type:"button",onClick:Tt=>{Tt.stopPropagation(),w(At=>({...At,[$]:!At[$]}))},className:`p-1 rounded cursor-pointer ${gt?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:g.jsx($x,{size:16,fill:gt?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[at.length,"개"]}),g.jsx("button",{type:"button",onClick:Tt=>{if(Tt.stopPropagation(),v[$]){alert(`'${$}' 폴더는 즐겨찾기 되어 있습니다.
즐겨찾기 해제 후 삭제해주세요.`);return}confirm(`'${$}' 폴더를 삭제할까요?
(소속 항목은 바깥으로 이동합니다)`)&&K($)},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:"삭제"})]})]}),rt&&g.jsx(zo,{droppableId:X,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,children:Tt=>g.jsx("div",{ref:Tt.innerRef,...Tt.droppableProps,className:"mt-2",children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[at.map((At,Kt)=>Z(At,Kt)),Tt.placeholder]})})})]})},`folder-${$}`)}),A.placeholder]})})]})})]})]})}const Vx="ms_folders",Ep="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",eO="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",nO="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",qi="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",rO="text-xs text-neutral-500 dark:text-neutral-400",Bd="accent-violet-600 dark:accent-violet-400",Fx="accent-violet-600 dark:accent-violet-400",$f="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",iO=`${$f} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,aO=`${$f} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,Kx=`${$f} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,oO=`${$f} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function sO({item:t,onClose:i}){const{list:o,update:l,remove:u}=Qs(),[d,h]=R.useState(!1),[p,b]=R.useState({...t,calendarType:t.calendarType??"solar"}),[v,w]=R.useState(!t.birthTime||t.birthTime==="모름"),[_,S]=R.useState(!t.birthPlace||t.birthPlace.name==="모름"),T=R.useMemo(()=>["가족","친구","직장","지인","고객","기타"],[]),[D,M]=R.useState([]);R.useEffect(()=>{try{const O=JSON.parse(localStorage.getItem(Vx)||"[]");Array.isArray(O)&&M(O)}catch{}},[]);const k=R.useMemo(()=>{const O=Array.from(new Set(o.map(Q=>Q.folder).filter(Boolean))),K=new Set([...T,...D,...O]),W=Array.from(K).sort((Q,et)=>Q.localeCompare(et));return[_e,...W]},[o,D,T]),I=()=>{b({...t,calendarType:t.calendarType??"solar"}),w(!t.birthTime||t.birthTime==="모름"),S(!t.birthPlace||t.birthPlace.name==="모름")},H=()=>{if(!p.name||p.name.trim()==="")return"이름을 입력해주세요.";if(!p.birthDay||!/^\d{8}$/.test(p.birthDay))return"생년월일은 YYYYMMDD 형식으로 입력해주세요.";const O=Number(p.birthDay.slice(0,4)),K=Number(p.birthDay.slice(4,6)),W=Number(p.birthDay.slice(6,8));if(p.calendarType==="lunar")try{Qr(O,K,W)}catch(Q){return Q instanceof Error?Q.message:"음력 날짜가 유효하지 않습니다."}else{const Q=new Date(O,K-1,W);if(Q.getFullYear()!==O||Q.getMonth()+1!==K||Q.getDate()!==W)return"존재하지 않는 양력 날짜입니다."}if(!v){if(!p.birthTime||!/^\d{4}$/.test(p.birthTime))return"태어난 시간은 0000–2359 형식(4자리)으로 입력해주세요.";const Q=Number(p.birthTime.slice(0,2)),et=Number(p.birthTime.slice(2,4));if(Q<0||Q>23||et<0||et>59)return"태어난 시간은 0000–2359 범위여야 합니다."}return!_&&!p.birthPlace?"태어난 지역을 선택하거나 '모름'을 체크해주세요.":null},j=()=>{const O=H();if(O){alert(O);return}const K=Number(p.birthDay.slice(0,4)),W=Number(p.birthDay.slice(4,6)),Q=Number(p.birthDay.slice(6,8));let et=K,nt=W,Y=Q;if(p.calendarType==="lunar"){const gt=Qr(K,W,Q);et=gt.getFullYear(),nt=gt.getMonth()+1,Y=gt.getDate()}const U=v?0:Number((p.birthTime??"0000").slice(0,2)),tt=v?0:Number((p.birthTime??"0000").slice(2,4)),st=_||!p.birthPlace||p.birthPlace.lon===0?127.5:p.birthPlace.lon,yt=new Date(et,nt-1,Y,U,tt,0,0),F=!p.birthPlace||typeof p.birthPlace=="object"&&p.birthPlace.name==="모름",ut=Js(yt,st,F),Z=Se(ut,st).charAt(0),A=((gt,_t)=>{const At=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes(gt),Kt=(_t??"남자")==="남자";return At?Kt?"forward":"backward":Kt?"backward":"forward"})(Z,p.gender??"남자"),$=qs(p.folder===_e?void 0:p.folder),G={...t,name:(p.name??"").trim()||"이름없음",birthDay:p.birthDay,birthTime:v?"모름":p.birthTime??"0000",gender:p.gender??"남자",birthPlace:_?{name:"모름",lat:0,lon:127.5}:p.birthPlace??{name:"모름",lat:0,lon:127.5},relationship:p.relationship??"",memo:p.memo??"",folder:$,calendarType:p.calendarType??"solar",mingSikType:p.mingSikType??"야자시",DayChangeRule:(p.mingSikType??"야자시")==="인시"?"인시일수론":"자시일수론",dir:A,corrected:ut,correctedLocal:"",ganji:""},{correctedLocal:X,ganji:at}=k2(G),rt={...G,correctedLocal:X,ganji:at};if(rt.folder&&!T.includes(rt.folder)&&!D.includes(rt.folder)){const gt=[...D,rt.folder];M(gt),localStorage.setItem(Vx,JSON.stringify(gt))}l(t.id,rt),h(!1),i&&i()},P=()=>{confirm(`'${t.name}' 명식을 삭제할까요?`)&&u(t.id)};return d?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:"명식 수정"}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"이름"}),g.jsx("input",{className:Ep,value:p.name||"",onChange:O=>b({...p,name:O.target.value}),placeholder:"이름"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"생년월일 (YYYYMMDD)"}),g.jsx("input",{className:Ep,value:p.birthDay||"",onChange:O=>b({...p,birthDay:O.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:"예: 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Bd,name:"calendarType",checked:p.calendarType==="solar",onChange:()=>b({...p,calendarType:"solar"}),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"양력"})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Bd,name:"calendarType",checked:p.calendarType==="lunar",onChange:()=>b({...p,calendarType:"lunar"}),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"음력"})]})]}),p.calendarType==="lunar"&&p.birthDay?.length===8&&g.jsx("span",{className:rO,children:(()=>{try{const O=Number(p.birthDay.slice(0,4)),K=Number(p.birthDay.slice(4,6)),W=Number(p.birthDay.slice(6,8)),Q=Qr(O,K,W);return`→ 양력 ${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}-${String(Q.getDate()).padStart(2,"0")}`}catch(O){const K=O instanceof Error?O.message:void 0;return`→ 변환 실패${K?`: ${K}`:""}`}})()})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"태어난 시간 (HHMM)"}),g.jsx("input",{className:`${Ep} disabled:opacity-50`,value:v?"":p.birthTime||"",onChange:O=>b({...p,birthTime:O.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:"예: 1524",disabled:v}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:Fx,checked:v,onChange:O=>w(O.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"명식 기준"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["야자시","조자시","인시"].map(O=>{const K=`editor_ming_${O}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Bd,name:"mingSikType",checked:(p.mingSikType??"조자시")===O,onChange:()=>b({...p,mingSikType:O}),id:K}),g.jsx("label",{htmlFor:K,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:O})]},O)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"성별"}),g.jsx("div",{className:"flex gap-4 text-sm",children:["남자","여자"].map(O=>{const K=`editor_gender_${O}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:Bd,name:"gender",value:O,checked:p.gender===O,onChange:W=>b({...p,gender:W.target.value}),id:K}),g.jsx("label",{htmlFor:K,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:O})]},O)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"태어난 지역"}),g.jsx(w_,{onSelect:O=>b({...p,birthPlace:O}),value:_?"출생지선택":p.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:Fx,checked:_,onChange:O=>S(O.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:"모름"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"관계"}),g.jsx(L1,{value:p.relationship||"",onChange:O=>b({...p,relationship:O})})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"폴더"}),g.jsx("select",{className:eO,value:p.folder??_e,onChange:O=>{const K=O.target.value;b(K===_e?{...p,folder:void 0}:{...p,folder:K})},children:k.map(O=>g.jsx("option",{value:O===_e?_e:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsx("label",{className:qi,children:"메모"}),g.jsx("textarea",{className:nO,value:p.memo||"",onChange:O=>b({...p,memo:O.target.value}),placeholder:"메모를 입력하세요"})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:Kx,onClick:()=>{I(),h(!1)},children:"취소"}),g.jsx("button",{className:oO,onClick:j,children:"저장"})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",t.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:iO,onClick:()=>h(!0),children:"수정"}),g.jsx("button",{className:aO,onClick:P,children:"삭제"}),i&&g.jsx("button",{className:Kx,onClick:i,children:"닫기"})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:["성별: ",t.gender]}),g.jsxs("div",{children:["생년월일/시간: ",t.birthDay," ",t.birthTime==="모름"?"(시간 모름)":t.birthTime,","," ",t.calendarType==="lunar"?"음력":"양력"]}),g.jsxs("div",{children:["보정시: ",t.correctedLocal||"-"]}),g.jsxs("div",{children:["출생지: ",t.birthPlace?.name||"-"]}),g.jsxs("div",{children:["관계: ",t.relationship||"-"]}),g.jsxs("div",{children:["폴더: ",t.folder??_e]})]}),t.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:t.ganji}),t.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:"메모"}),t.memo]})]})}function lO({pillarsA:t,pillarsB:i}){const o=T9(t,i);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"두 명식 간 형충회합"}),Object.entries(o).map(([l,u])=>u.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:l}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,h)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:d},h))})]},l):null)]})}function cO(t){return typeof t=="object"&&t!==null}const uO=["갑","을","병","정","무","기","경","신","임","계","甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],dO=["자","축","인","묘","진","사","오","미","신","유","술","해","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],fO=new Set(uO),hO=new Set(dO);function Xx(t){return typeof t=="string"&&t.length>=2&&fO.has(t[0])&&hO.has(t[1])}function Le(t,...i){if(Xx(t))return t;for(const o of i)if(Xx(o))return o;return"甲子"}function Rd(t,i){let o=null;const l=i.getTime();for(const u of t)if(u.at.getTime()<=l)o=u;else break;return o}function mO(t){const i=o=>String(o).padStart(2,"0");return`${t.getFullYear()}-${i(t.getMonth()+1)}-${i(t.getDate())}T${i(t.getHours())}:${i(t.getMinutes())}`}function Wx(t){if(!t)return null;const i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(t);if(!i)return null;const[,o,l,u,d,h]=i,p=new Date(+o,+l-1,+u,+d,+h);return Number.isNaN(p.getTime())?null:p}function bf(t){const i=t;return typeof i.name=="string"&&i.name?i.name:typeof i.title=="string"&&i.title?i.title:typeof i.memo=="string"&&i.memo?i.memo:"이름 없음"}function pO(t){const i=Number(t.birthDay.slice(0,4)),o=Number(t.birthDay.slice(4,6)),l=Number(t.birthDay.slice(6,8));let u=0,d=0;const h=t;return typeof h.birthTime=="string"&&h.birthTime.length>=4&&(u=Number(h.birthTime.slice(0,2)),d=Number(h.birthTime.slice(2,4))),{y:i,m:o,d:l,hh:u,mm:d}}function Uf(t){const{y:i,m:o,d:l}=pO(t),u=t.corrected.getHours(),d=t.corrected.getMinutes();return t.calendarType==="lunar"?Qr(i,o,l,u,d):new Date(i,o-1,l,u,d)}function gO(t){const i=Uf(t);return`${bf(t)}-${i.toISOString()}`}function vc(t){const i=t;return typeof i.id=="string"&&i.id?i.id:gO(t)}function bO(t){return cO(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)}function yO(t){const i=$o;return bO(i)?t==="classic"?i.Classic:i.Modern:t}const Np="people_picker_order_v1";function vO(t,i,o){const l=t.slice(),[u]=l.splice(i,1);return l.splice(o,0,u),l}function Qx({open:t,list:i,onSelect:o,onClose:l}){const[u,d]=R.useState("");R.useEffect(()=>{t||d("")},[t]);const h=R.useMemo(()=>i.map(vc),[i]),p=R.useMemo(()=>new Set(h),[h]),[b,v]=R.useState([]);R.useEffect(()=>{const M=localStorage.getItem(Np),k=M?JSON.parse(M):[],I=k.filter(j=>p.has(j)),H=[...I,...h.filter(j=>!I.includes(j))];v(H),JSON.stringify(H)!==JSON.stringify(k)&&localStorage.setItem(Np,JSON.stringify(H))},[h,p]);const w=M=>{v(M),localStorage.setItem(Np,JSON.stringify(M))},_=R.useMemo(()=>{const M=new Map(i.map(I=>[vc(I),I])),k=[];for(const I of b){const H=M.get(I);H&&k.push(H)}return M.forEach((I,H)=>{b.includes(H)||k.push(I)}),k},[i,b]),S=R.useMemo(()=>{const M=u.trim().toLowerCase();return M?_.filter(k=>bf(k).toLowerCase().includes(M)):_},[_,u]),T=u.trim()==="",D=M=>{const{destination:k,source:I}=M;if(!k||!T||k.index===I.index)return;const H=S.map(vc),j=vO(H,I.index,k.index),O=_.map(vc).filter(W=>!H.includes(W)),K=[...j,...O].filter((W,Q,et)=>et.indexOf(W)===Q);w(K)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:l}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${t?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:"명식 선택"}),g.jsx("button",{onClick:l,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:"닫기"})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{placeholder:"이름 검색",value:u,onChange:M=>d(M.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!T&&g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"검색 중엔 순서 변경 불가"})]}),g.jsx($c,{onDragEnd:D,children:g.jsx(zo,{droppableId:"peopleList",children:M=>g.jsxs("ul",{ref:M.innerRef,...M.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[S.map((k,I)=>{const H=String(vc(k)),j=Uf(k);return g.jsx(Ys,{draggableId:H,index:I,children:P=>g.jsx("li",{ref:P.innerRef,...P.draggableProps,...P.dragHandleProps,onClick:()=>o(k),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"mr-2 select-none",children:"☰"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:bf(k)}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Nc(j)})]})]})})},H)}),M.placeholder]})})})]})]})}function Mp({label:t,gzHour:i,gzDay:o,gzMonth:l,gzYear:u,dayStem:d,cardSettings:h,sinsalBaseBranch:p,sinsalMode:b,sinsalBloom:v}){const w=M=>{const k=h.showSibiUnseong?Fi(d,M):"",I=h.showSibiSinsal?Ki({baseBranch:p,targetBranch:M,era:yO(b),gaehwa:!!v}):"";return{unseongText:k||void 0,shinsalText:I||void 0}},_=Le(i).charAt(1),S=Le(o).charAt(1),T=Le(l).charAt(1),D=Le(u).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:t}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["시주",Le(i),_],["일주",Le(o),S],["월주",Le(l),T],["연주",Le(u),D]].map(([M,k,I])=>{const{unseongText:H,shinsalText:j}=w(I);return g.jsx(Po,{label:M,gz:k,dayStem:d,settings:Qn.getState().settings,unseongText:H,shinsalText:j,hideBranchSipSin:!0,size:"sm"},`${t}-${M}`)})})]})}function xO(t){if(!t)return"";const i=t,o=p=>typeof i[p]=="string"?String(i[p]).trim().toLowerCase():null,l=p=>typeof i[p]=="boolean"?i[p]:null,u=[o("gender"),o("sex"),o("genderType"),o("성별"),o("sexType"),o("g")].filter(p=>!!p);for(const p of u){if(["남","남자","male","m","boy","man"].includes(p))return"남";if(["여","여자","female","f","girl","woman"].includes(p))return"여"}const d=l("isMale"),h=l("isFemale");return d===!0?"남":h===!0?"여":""}function Rs({label:t,data:i,mode:o,effectiveDate:l,onPick:u}){const d=Qn(O=>O.settings),h=R.useMemo(()=>i?Uf(i):null,[i]),p=Le(h?Rr(h,"야자시"):void 0),b=Le(h?He(h,"야자시"):void 0),v=Le(h?rn(h):void 0),w=Le(h?Se(h):void 0),_=R.useMemo(()=>b.charAt(0)||"갑",[b]),S=h,T=R.useMemo(()=>{const O=i?.birthPlace;return!O||O.name==="모름"||!O.lon?127.5:O.lon},[i]),D=i?.mingSikType??"야자시",M=R.useMemo(()=>{const O=S?He(S,D).charAt(1):b.charAt(1)||"子",K=S?Se(S,T).charAt(1):w.charAt(1)||"子";return(d.sinsalBase??"일지")==="일지"?O:K},[d.sinsalBase,S,D,T,b,w]),k=R.useMemo(()=>{if(o!=="묘운"||!h||!i)return null;try{const O=U1(h,p,i.dir,120,i.mingSikType),K=Z1(O,b,i.dir,i.DayChangeRule),W=Of(h,v,i.dir,120,i?.birthPlace?.lon??127.5),Q=Y1(W,w,i.dir,i.DayChangeRule,h),et=l;return{si:Le(Rd(O.events,et)?.gz,p),il:Le(Rd(K.events,et)?.gz,b),wl:Le(Rd(W.events,et)?.gz,v),yn:Le(Rd(Q.events,et)?.gz,w)}}catch{return null}},[o,h,p,b,v,w,l,i]),I=R.useMemo(()=>{if(o!=="실시간")return null;const O=l;return{si:Le(Rr(O,"야자시")),il:Le(He(O,"야자시")),wl:Le(rn(O)),yn:Le(Se(O))}},[o,l]),H=i?bf(i):"",j=h?Nc(h):"",P=i?xO(i):"";return i?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:u,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"명식 바꾸기",children:"명식 선택"}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:t}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:H}),P&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:["· ",P]}),j&&g.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:j})]}),o==="원국"&&g.jsx(Mp,{label:"원국",gzHour:p,gzDay:b,gzMonth:v,gzYear:w,dayStem:_,cardSettings:d,sinsalBaseBranch:M,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="묘운"&&k&&g.jsx(Mp,{label:"묘운",gzHour:k.si,gzDay:k.il,gzMonth:k.wl,gzYear:k.yn,dayStem:_,cardSettings:d,sinsalBaseBranch:M,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom}),o==="실시간"&&I&&g.jsx(Mp,{label:"실시간",gzHour:I.si,gzDay:I.il,gzMonth:I.wl,gzYear:I.yn,dayStem:_,cardSettings:d,sinsalBaseBranch:M,sinsalMode:d.sinsalMode,sinsalBloom:!!d.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:u,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:"명식 선택하기"})})}function _O({people:t=[]}){const[i,o]=R.useState(),[l,u]=R.useState(),[d,h]=R.useState(!1),[p,b]=R.useState(!1),v=R.useRef(new Date),[w,_]=R.useState(()=>mO(v.current)),S=R.useRef(Wx(w)??v.current),T=R.useMemo(()=>{const j=Wx(w);return j&&(S.current=j),S.current},[w]),[D,M]=R.useState(!1),[k,I]=R.useState(!1);function H(j){if(!j)return["甲子","甲子","甲子","甲子"];try{const P=Uf(j),O={hour:Le(Rr(P,"야자시")),day:Le(He(P,"야자시")),month:Le(rn(P)),year:Le(Se(P))};return[O.year,O.month,O.day,O.hour]}catch{return["甲子","甲子","甲子","甲子"]}}return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:"궁합 보기"}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:d,onChange:j=>h(j.target.checked),className:"accent-indigo-500"}),"묘운 표시"]}),g.jsx("button",{onClick:()=>b(j=>!j),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:p?"실시간 간지 접기":"실시간 간지 펼치기"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Rs,{label:"원국 A",data:i,mode:"원국",effectiveDate:T,onPick:()=>M(!0)}),g.jsx(Rs,{label:"원국 B",data:l,mode:"원국",effectiveDate:T,onPick:()=>I(!0)}),d&&i&&g.jsx(Rs,{label:"묘운 A",data:i,mode:"묘운",effectiveDate:T,onPick:()=>M(!0)}),d&&l&&g.jsx(Rs,{label:"묘운 B",data:l,mode:"묘운",effectiveDate:T,onPick:()=>I(!0)}),p&&i&&g.jsx(Rs,{label:"실시간 A",data:i,mode:"실시간",effectiveDate:T,onPick:()=>M(!0)}),p&&l&&g.jsx(Rs,{label:"실시간 B",data:l,mode:"실시간",effectiveDate:T,onPick:()=>I(!0)})]}),i&&l&&g.jsx("div",{className:"mt-4",children:g.jsx(lO,{pillarsA:H(i),pillarsB:H(l)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"날짜/시간 선택"}),g.jsx("input",{type:"datetime-local",value:w,onChange:j=>_(j.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(Qx,{open:D,list:t||[],onSelect:j=>{o(j),M(!1)},onClose:()=>M(!1)}),g.jsx(Qx,{open:k,list:t||[],onSelect:j=>{u(j),I(!1)},onClose:()=>I(!1)})]})}function SO(){return g.jsx("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700 ",children:g.jsx("p",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright © 2025 Hwarim96. All rights reserved."})})}function wO({pillars:t,ms:i}){const{date:o,setDate:l}=Jr();R.useEffect(()=>{l(new Date)},[i]);const u=M0(i),d=R.useMemo(()=>{const b=o??new Date,v=b.getFullYear(),w=String(b.getMonth()+1).padStart(2,"0"),_=String(b.getDate()).padStart(2,"0");return`${v}-${w}-${_}`},[o]),h=b=>{if(!b)return;const[v,w,_]=b.split("-"),S=Number(v),T=Number(w),D=Number(_);if(!Number.isFinite(S)||!Number.isFinite(T)||!Number.isFinite(D))return;const M=o??new Date,k=M.getHours(),I=M.getMinutes(),H=new Date(S,T,0).getDate(),j=Math.min(D,H),P=new Date(S,T-1,j,k,I,0,0);Number.isNaN(P.getTime())||l(P)},p=R.useMemo(()=>{const b=Array.isArray(t)&&t.length>=4?`${t[0]}년 ${t[1]}월 ${t[2]}일 ${t[3]}시`:"",v=u?.dae?.gz?`${u.dae.gz}대운`:null,w=u?.se?.gz?`${u.se.gz}세운`:null,_=u?.wol?.gz?`${u.wol.gz}월운`:null,S=[v,w,_].filter(Boolean).join(" ");return[b,S].filter(Boolean).join(" + ")},[t,u]);return g.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[p&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:p}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:"날짜"}),g.jsx("input",{type:"date",value:d,onChange:b=>h(b.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const TO=["23:00–00:59","01:00–02:59","03:00–04:59","05:00–06:59","07:00–08:59","09:00–10:59","11:00–12:59","13:00–14:59","15:00–16:59","17:00–18:59","19:00–20:59","21:00–22:59"];function EO(t){const i=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${i}-${o}-${l}`}function Pd(t,i){return t&&i?`${t}${i}`:null}function Jx(t){return!!(t.yearStem&&t.yearBranch&&t.monthStem&&t.monthBranch&&t.dayStem&&t.dayBranch&&t.hourStem&&t.hourBranch)}const NO={갑:0,을:1,병:2,정:3,무:4,기:5,경:6,신:7,임:8,계:9},MO=Lr.천간,DO=["인","묘","진","사","오","미","신","유","술","해","자","축"];function t_(t,i){let o;t==="갑"||t==="기"?o="병":t==="을"||t==="경"?o="무":t==="병"||t==="신"?o="경":t==="정"||t==="임"?o="임":o="갑";const l=NO[o],u=DO.indexOf(i),d=(l+(u>=0?u:0))%10;return MO[d]}const AO=Lr.지지.slice(),jO=["인","묘","진","사","오","미","신","유","술","해","자","축"];function Ps(t,i){const l=(i==="자시"?aT:m_)[t],u=i==="자시"?AO:jO,d=Lr.지지.reduce((h,p)=>(h[p]="",h),{});for(let h=0;h<12;h++)d[u[h]]=l[h];return d}const kO={갑:"양",을:"음",병:"양",정:"음",무:"양",기:"음",경:"양",신:"음",임:"양",계:"음"},OO={자:"양",축:"음",인:"양",묘:"음",진:"양",사:"음",오:"양",미:"음",신:"양",유:"음",술:"양",해:"음"};function CO({open:t,onClose:i,onSave:o}){const{settings:l}=Qn(),[u,d]=R.useState(null),[h,p]=R.useState({}),[b,v]=R.useState(null),[w,_]=R.useState(!0),[S,T]=R.useState(!0),[D,M]=R.useState("자시"),[k,I]=R.useState("male"),[H,j]=R.useState(null),[P,O]=R.useState(!1),[,K]=R.useState(null),[W,Q]=R.useState(null),[et,nt]=R.useState({gender:"남자",mingSikType:"야자시",DayChangeRule:"자시일수론",calendarType:"solar"}),[Y,U]=R.useState(!1),[tt,st]=R.useState(null),yt=wt=>{st(wt),setTimeout(()=>st(null),1800)},[F,ut]=R.useState(!1),[dt,Z]=R.useState(!1);R.useEffect(()=>{if(F){const wt=setTimeout(()=>ut(!1),2e3);return()=>clearTimeout(wt)}},[F]),R.useEffect(()=>{if(dt){const wt=setTimeout(()=>Z(!1),2e3);return()=>clearTimeout(wt)}},[dt]);const B=()=>{const wt=W!==null?H?.filter(($r,Gn)=>Gn===W)??[]:[];if(wt.length===0){alert("선택된 항목이 없습니다.");return}const Et=D==="자시"?"야자시":"인시",pt=wt[0],[zt,jt,Gt]=pt.date.split("-").map(Number),Ct={자:{hh:0,mi:0},축:{hh:2,mi:0},인:{hh:4,mi:0},묘:{hh:6,mi:0},진:{hh:8,mi:0},사:{hh:10,mi:0},오:{hh:12,mi:0},미:{hh:14,mi:0},신:{hh:16,mi:0},유:{hh:18,mi:0},술:{hh:20,mi:0},해:{hh:22,mi:0}};let qt=0,ne=0;if(pt.hourSlots.length>0){const $r=pt.hourSlots[0].branch,Gn=Ct[$r];Gn&&(qt=Gn.hh,ne=Gn.mi)}const De=new Date(zt,jt-1,Gt,qt,ne),we=new Date(De.getTime()-30*6e4),zr=we.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),ei=k==="male"?"남":"여";function Wi($r,Gn){const rl=["甲","丙","戊","庚","壬","갑","병","무","경","임"].includes($r),Ja=Gn==="남";return rl?Ja?"forward":"backward":Ja?"backward":"forward"}const Hr=Wi(pt.year.charAt(0),ei),$n=Se(we,127.5),mn=rn(we,127.5),Ir=He(we,Et),Un=Rr(we,Et),nl=[`원국 : ${$n}년 ${mn}월 ${Ir}일`,Un?`${Un}시`:null].filter(Boolean).join(" "),Qa={id:S_(),name:"커스텀명식",birthDay:`${zt}${String(jt).padStart(2,"0")}${String(Gt).padStart(2,"0")}`,birthTime:`${String(qt).padStart(2,"0")}${String(ne).padStart(2,"0")}`,gender:ei,birthPlace:Y?{name:"커스텀명식",lat:0,lon:127.5}:et.birthPlace??{name:"커스텀명식",lat:0,lon:127.5},relationship:et.relationship??"",memo:et.memo??"",folder:qs(et.folder),mingSikType:et.mingSikType??"야자시",DayChangeRule:et.mingSikType==="인시"?"인시일수론":"자시일수론",calendarType:et.calendarType??"solar",yearGZ:pt.year,monthGZ:pt.month,dayGZ:pt.day,hourGZ:pt.hour,ganjiText:`원국 : ${pt.year}년 ${pt.month}월 ${pt.day}일 ${pt.hour}시`,ganji:nl,dayStem:pt.day.charAt(0),dateObj:De,corrected:we,correctedLocal:zr,dir:Hr};zc.flushSync(()=>{Qs.getState().add(Qa)}),o(Qa),st("저장 완료!"),nt({gender:"남자",mingSikType:"야자시",calendarType:"solar"}),U(!1),i()},A=w||S,$=!!(h.yearStem&&h.yearBranch),G=!!(h.dayStem&&h.dayBranch),X=!A||$||G,at=!!b&&b.endsWith("Stem"),rt=!!b&&b.endsWith("Branch");function gt(wt){return wt==="yearStem"?"yearBranch":wt==="yearBranch"?"yearStem":wt==="monthStem"?"monthBranch":wt==="monthBranch"?"monthStem":wt==="dayStem"?"dayBranch":wt==="dayBranch"?"dayStem":wt==="hourStem"?"hourBranch":"hourStem"}const _t=R.useCallback((wt,Et)=>{if(!w||!wt.yearStem)return wt;const pt={...wt},zt=m_[wt.yearStem];if(!zt)return pt;const jt=Ct=>zt.filter(qt=>qt.startsWith(Ct)),Gt=Ct=>zt.find(qt=>qt.endsWith(Ct));if(Et==="monthStem"&&pt.monthStem){const Ct=jt(pt.monthStem).map(qt=>qt.slice(1));return Ct.length>=2?(d(Ct.slice(0,2)),v("monthBranch"),pt):(Ct.length===1&&(pt.monthBranch=Ct[0],d(null)),pt)}if(Et==="monthBranch"&&pt.monthBranch){const Ct=Gt(pt.monthBranch);return Ct&&(pt.monthStem=Ct.slice(0,1),d(null)),pt}if(Et==="yearStem"){if(pt.monthStem&&!pt.monthBranch){const Ct=jt(pt.monthStem).map(qt=>qt.slice(1));if(Ct.length>=2)return d(Ct.slice(0,2)),v("monthBranch"),pt;Ct.length===1&&(pt.monthBranch=Ct[0])}else if(pt.monthBranch&&!pt.monthStem){const Ct=Gt(pt.monthBranch);Ct&&(pt.monthStem=Ct.slice(0,1))}}return pt},[w,v]),Tt=R.useCallback((wt,Et)=>{if(!S||!wt.dayStem)return wt;const pt={...wt},zt=Ps(wt.dayStem,D),jt=Ct=>Object.entries(zt).find(([,qt])=>qt.startsWith(Ct)),Gt=Ct=>zt[Ct];if(Et==="hourStem"&&pt.hourStem){const Ct=jt(pt.hourStem);return Ct&&(pt.hourBranch=Ct[0]),pt}if(Et==="hourBranch"&&pt.hourBranch){const Ct=Gt(pt.hourBranch);return Ct&&(pt.hourStem=Ct.slice(0,1)),pt}if(Et==="dayStem"){if(pt.hourStem&&!pt.hourBranch){const Ct=jt(pt.hourStem);Ct&&(pt.hourBranch=Ct[0])}else if(pt.hourBranch&&!pt.hourStem){const Ct=Gt(pt.hourBranch);Ct&&(pt.hourStem=Ct.slice(0,1))}}return pt},[S,D]),At=R.useCallback(wt=>!w||!wt.yearStem?!1:wt.monthBranch&&wt.monthStem?t_(wt.yearStem,wt.monthBranch)!==wt.monthStem:!1,[w]),Kt=R.useCallback(wt=>{if(!S||!wt.dayStem)return!1;if(wt.hourBranch&&wt.hourStem){const pt=Ps(wt.dayStem,D)[wt.hourBranch];return pt?pt.slice(0,1)!==wt.hourStem:!1}return!1},[S,D]);R.useEffect(()=>{if(!(!S||!h.dayStem||!h.hourBranch)&&(h.hourBranch==="자"||h.hourBranch==="축")){const Et=Ps(h.dayStem,D)[h.hourBranch];Et&&p(pt=>({...pt,hourStem:Et.slice(0,1)}))}},[D,S,h.dayStem,h.hourBranch]);const Ht=R.useCallback(wt=>{if(!b)return;if(!X&&!(b==="yearStem"||b==="yearBranch"||b==="dayStem"||b==="dayBranch")){K("월/시두법 사용 중: 연주 또는 일주부터 입력하세요."),setTimeout(()=>K(null),1500);return}let pt={...h,[b]:wt};(b==="yearStem"||b==="monthStem"||b==="monthBranch")&&(pt=_t(pt,b)),(b==="dayStem"||b==="hourStem"||b==="hourBranch")&&(pt=Tt(pt,b)),p(pt);let zt=!1;At(pt)&&(_(!1),zt=!0),Kt(pt)&&(T(!1),zt=!0),zt&&yt("월/시두법에 맞지 않습니다. 체크가 해제 됩니다."),p(pt),j(null);const jt=gt(b);v(jt),setTimeout(()=>{const Gt={...pt};if(Gt.yearStem&&Gt.yearBranch&&!Gt.monthStem){v("monthStem");return}if(Gt.monthStem&&Gt.monthBranch&&!Gt.dayStem){v("dayStem");return}if(Gt.dayStem&&Gt.dayBranch&&!Gt.hourStem){v("hourStem");return}},0)},[b,h,X,_t,Tt,At,Kt]),re=Jx(h),pe=R.useCallback(async()=>{if(j(null),K(null),!Jx(h)){K("연·월·일·시 간지를 모두 선택하세요.");return}const wt=Pd(h.yearStem,h.yearBranch),Et=Pd(h.monthStem,h.monthBranch),pt=Pd(h.dayStem,h.dayBranch),zt=Pd(h.hourStem,h.hourBranch),jt=300,Gt=[];O(!0);try{const Ct=new Date(1900,0,1,12,0,0),qt=new Date(2100,11,31,12,0,0);for(let ne=Ct.getTime();ne<=qt.getTime();ne+=24*3600*1e3){const De=new Date(ne),we=D==="자시"?"야자시":"인시",zr=Se(De);if(zr!==wt)continue;const ei=rn(De);if(ei!==Et)continue;const Wi=He(De,we);if(Wi!==pt)continue;const Hr=Ps(h.dayStem,D),$n=[];for(let mn=0;mn<12;mn++){const Ir=Lr.지지[mn];Hr[Ir]===zt&&$n.push({branch:Ir,time:TO[mn]})}if($n.length!==0&&(Gt.push({date:EO(De),year:zr,month:ei,day:Wi,hour:zt,hourSlots:$n}),Gt.length>=jt))break}Gt.length===0&&K("일치하는 날짜가 없습니다. (범위: 1900–2100)"),j(Gt)}catch(Ct){Ct instanceof Error?K(Ct.message):K(String(Ct))}finally{O(!1)}},[h,D]),We=()=>{p({}),j(null),K(null),v(null)},Be=wt=>{j(null),wt&&p(Et=>{const pt={...Et};return pt.yearStem&&pt.monthBranch&&(pt.monthStem=t_(pt.yearStem,pt.monthBranch)),pt}),_(wt)},de=wt=>{j(null),wt&&p(Et=>{const pt={...Et};if(pt.dayStem&&pt.hourBranch){const jt=Ps(pt.dayStem,D)[pt.hourBranch];jt&&(pt.hourStem=jt.slice(0,1))}return pt}),T(wt)};if(!t)return null;const Ye=wt=>{if(j(null),M(wt),S&&h.dayStem&&h.hourBranch&&(h.hourBranch==="자"||h.hourBranch==="축")){const pt=Ps(h.dayStem,wt)[h.hourBranch];pt&&p(zt=>({...zt,hourStem:pt.slice(0,1)}))}};return g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"닫기",children:g.jsx(O0,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"커스텀 명식 만들기"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"월/시두법"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:w,onChange:wt=>Be(wt.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:"월두법 사용"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:S,onChange:wt=>de(wt.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:"시두법 사용"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"시간 기준"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:D==="자시",onChange:()=>Ye("자시")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:"자시"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:D==="인시",onChange:()=>Ye("인시")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:"인시"})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"성별"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:k==="male",onChange:()=>I("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:"남"})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:k==="female",onChange:()=>I("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:"여"})]})]})]}),A&&!X&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["월/시두법 사용 중입니다. ",g.jsx("br",{}),g.jsx("b",{children:"연주"})," 또는 ",g.jsx("b",{children:"일주"}),"부터 먼저 입력하세요."]}),g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem","시간"],["dayStem","일간"],["monthStem","월간"],["yearStem","연간"],["hourBranch","시지"],["dayBranch","일지"],["monthBranch","월지"],["yearBranch","연지"]].map(([wt,Et])=>{const pt=!X&&!(wt==="yearStem"||wt==="yearBranch"||wt==="dayStem"||wt==="dayBranch"),zt=b===wt;return g.jsxs("button",{onClick:()=>!pt&&v(wt),disabled:pt,className:["border rounded p-2 text-center cursor-pointer",zt?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",pt?"opacity-50 cursor-not-allowed":""].join(" "),children:[Et,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:h[wt]??"-"})]},wt)})}),u&&u.length>0&&g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"월지 후보를 선택하세요:"}),g.jsx("div",{className:"flex gap-2",children:u.map(wt=>g.jsx("button",{onClick:()=>{let Et={...h,monthBranch:wt};d(null),Et=_t(Et,"monthBranch"),p(Et),v("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:wt},wt))})]}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:b?g.jsxs("div",{className:"w-full",children:[at&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"천간"}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:Lr.천간.map(wt=>g.jsx("button",{onClick:()=>Ht(wt),className:`border rounded px-2 py-1 cursor-pointer ${pr(wt,"stem",l)}`,children:wt},wt))})]}),rt&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"지지"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Lr.지지.filter(wt=>{const Et=gt(b),pt=h[Et];return pt?OO[wt]===kO[pt]:!0}).map(wt=>g.jsx("button",{onClick:()=>Ht(wt),className:`border rounded px-2 py-1 cursor-pointer ${pr(wt,"branch",l)}`,children:wt},wt))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"간지를 넣고 싶은 자리부터 클릭하세요."})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!re){ut(!0);return}pe()},disabled:P,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:P?"검색 중...":"검색"})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:We,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"초기화"}),g.jsx("button",{type:"button",onClick:()=>{if((W!==null?H?.filter((Et,pt)=>pt===W)??[]:[]).length===0){Z(!0);return}B()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:"저장하기"})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:H?H.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"일치하는 날짜가 없습니다."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:"선택"}),g.jsx("th",{className:"p-1 text-center",children:"날짜"}),g.jsx("th",{className:"p-1 text-center",children:"연"}),g.jsx("th",{className:"p-1 text-center",children:"월"}),g.jsx("th",{className:"p-1 text-center",children:"일"}),g.jsx("th",{className:"p-1 text-center",children:"시"}),g.jsx("th",{className:"p-1 text-center",children:"성별"})]})}),g.jsx("tbody",{children:H.map((wt,Et)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${Et}`,checked:W===Et,onChange:()=>Q(Et)}),g.jsx("label",{htmlFor:`selectRow-${Et}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:wt.date}),g.jsx("td",{className:"p-1 text-center",children:wt.year}),g.jsx("td",{className:"p-1 text-center",children:wt.month}),g.jsx("td",{className:"p-1 text-center",children:wt.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:wt.hourSlots.map((pt,zt)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:pt.branch})},zt))})}),g.jsx("td",{className:"p-1 text-center",children:k==="male"?"남":"여"})]},`${wt.date}-${Et}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"조건을 입력하고 “검색”을 눌러주세요."})}),tt&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:tt})}),F&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:"연·월·일·시 4간지를 모두 채워주세요."})}),dt&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["선택항목이 없습니다.",g.jsx("br",{}),"검색한 뒤, 체크박스로 선택하세요."]})})]})})}const Fp=!1;function C0(t){return typeof t=="object"&&t!==null}function LO(t){return C0(t)&&"default"in t}function BO(t){return C0(t)&&typeof t.lunar2solar=="function"}function RO(t){if(!C0(t))throw new Error("Invalid lunar2solar result");const i=t.cYear,o=t.cMonth,l=t.cDay,u=t.isLeap;if(typeof i!="number"||typeof o!="number"||typeof l!="number")throw new Error("Invalid lunar2solar fields");return{cYear:i,cMonth:o,cDay:l,isLeap:typeof u=="boolean"?u:void 0}}function PO(t){const i=LO(t)?t.default:t;if(!BO(i))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(l,u,d,h)=>{const p=i.lunar2solar(l,u,d,!!h);return RO(p)}}}const zO=PO(jf);function HO(t){const i=t,o=typeof i.birthDay=="string"?i.birthDay:"",l=typeof i.calendarType=="string"?i.calendarType:"solar";if(o.length<8)return t;const u=Number(o.slice(0,4)),d=Number(o.slice(4,6)),h=Number(o.slice(6,8)),p=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let b=!1;for(const v of p){const w=i[v];if(typeof w=="boolean"){b=w;break}if(typeof w=="number"){b=w===1;break}if(typeof w=="string"){b=w==="1"||w.toLowerCase()==="true";break}}if(l==="lunar")try{const v=zO.lunar2solar(u,d,h,b),w=`${v.cYear}${e_(v.cMonth)}${e_(v.cDay)}`;return{...t,birthDay:w,calendarType:"solar"}}catch{return t}return t}function IO(){const{list:t}=Qs(),[i,o]=R.useState(null),[l,u]=R.useState(!1),[d,h]=R.useState(!1),[p,b]=R.useState(null),[v,w]=R.useState(!1),[_,S]=R.useState(!1),T=R.useMemo(()=>t.find(j=>j.id===i)??null,[t,i]);R.useEffect(()=>{w(!0),S(!1)},[]);const D=()=>{u(!0)},M=R.useMemo(()=>{if(!T)return new Date;try{const j=HO(T);return Uo(j)}catch{return new Date}},[T]),k=R.useMemo(()=>{if(!T)return[];try{const j=Se(M,T.birthPlace?.lon),P=rn(M,T.birthPlace?.lon),O=He(M,T.mingSikType??"야자시"),K=Rr(M,T.mingSikType??"야자시"),W=[j,P,O,K];return UO(W)?W:[]}catch{return[]}},[M,T]),[I,H]=R.useState(!1);return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(P4,{onOpenSidebar:()=>h(!0),onAddNew:D,onOpenCustom:()=>H(!0)}),g.jsx(CO,{open:I,onClose:()=>H(!1),onSave:j=>{o(j.id),w(!1),S(!1),h(!1)}}),g.jsx(Gw,{position:"top-center"}),g.jsx(tO,{open:d,onClose:()=>h(!1),onView:j=>{o(j.id),h(!1),w(!1),S(!1),Jr.getState().resetDate()},onAddNew:D,onEdit:j=>{b(j),o(j.id),h(!1),w(!1),S(!1)},onDeleteView:()=>{o(null),w(!0),S(!1)}}),v&&g.jsx(HT,{}),l&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 absolute inset-0 w-full h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6",children:g.jsx(jA,{onSave:j=>{o(j.id),w(!1),S(!1),h(!1),requestAnimationFrame(()=>u(!1))},onClose:()=>u(!1)})})})]}),T&&!v&&!_&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pt-18 pb-4",children:g.jsx($7,{data:T,hourTable:T.mingSikType??"야자시"})}),g.jsx(wO,{pillars:k,ms:T}),g.jsx("div",{children:g.jsx(d4,{data:T})})]}),_&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(_O,{people:t})}),p&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(sO,{item:p,onClose:()=>{b(null)}})})}),g.jsx(G4,{onShowToday:()=>{w(!0),S(!1)},onShowCouple:()=>{S(!0),w(!1)}}),g.jsx(SO,{})]})}const $O=t=>typeof t=="string"&&t.length>=2,UO=t=>Array.isArray(t)&&t.length===4&&t.every($O),e_=t=>t<10?`0${t}`:`${t}`;ew.createRoot(document.getElementById("root")).render(g.jsx(R.StrictMode,{children:g.jsx(IO,{})}));
