function NE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function _i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function up(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var D_={exports:{}},zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function PG(){if(DC)return zh;DC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return zh.Fragment=t,zh.jsx=n,zh.jsxs=n,zh}var PC;function RG(){return PC||(PC=1,D_.exports=PG()),D_.exports}var g=RG();const R5="harim.theme",xk="harim.settings.v1";function L5(){try{const e=localStorage.getItem(R5);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(xk);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function I5(e){try{localStorage.setItem(R5,e);const t=localStorage.getItem(xk),n=t?JSON.parse(t):{};localStorage.setItem(xk,JSON.stringify({...n,theme:e}))}catch{}}function $5(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=L5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$5(e)}catch{}})();var P_={exports:{}},Uh={},R_={exports:{}},L_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function LG(){return RC||(RC=1,(function(e){function t(q,J){var ee=q.length;q.push(J);e:for(;0<ee;){var le=ee-1>>>1,ae=q[le];if(0<i(ae,J))q[le]=J,q[ee]=ae,ee=le;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],ee=q.pop();if(ee!==J){q[0]=ee;e:for(var le=0,ae=q.length,B=ae>>>1;le<B;){var V=2*(le+1)-1,ne=q[V],oe=V+1,fe=q[oe];if(0>i(ne,ee))oe<ae&&0>i(fe,ne)?(q[le]=fe,q[oe]=ee,le=oe):(q[le]=ne,q[V]=ee,le=V);else if(oe<ae&&0>i(fe,ee))q[le]=fe,q[oe]=ee,le=oe;else break e}}return J}function i(q,J){var ee=q.sortIndex-J.sortIndex;return ee!==0?ee:q.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,p=null,b=3,y=!1,k=!1,w=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=q)r(d),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(d)}}function D(q){if(w=!1,C(q),!k)if(n(u)!==null)k=!0,P||(P=!0,z());else{var J=n(d);J!==null&&X(D,J.startTime-q)}}var P=!1,$=-1,U=5,W=-1;function Y(){return S?!0:!(e.unstable_now()-W<U)}function F(){if(S=!1,P){var q=e.unstable_now();W=q;var J=!0;try{e:{k=!1,w&&(w=!1,O($),$=-1),y=!0;var ee=b;try{t:{for(C(q),p=n(u);p!==null&&!(p.expirationTime>q&&Y());){var le=p.callback;if(typeof le=="function"){p.callback=null,b=p.priorityLevel;var ae=le(p.expirationTime<=q);if(q=e.unstable_now(),typeof ae=="function"){p.callback=ae,C(q),J=!0;break t}p===n(u)&&r(u),C(q)}else r(u);p=n(u)}if(p!==null)J=!0;else{var B=n(d);B!==null&&X(D,B.startTime-q),J=!1}}break e}finally{p=null,b=ee,y=!1}J=void 0}}finally{J?z():P=!1}}}var z;if(typeof A=="function")z=function(){A(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Z=K.port2;K.port1.onmessage=F,z=function(){Z.postMessage(null)}}else z=function(){j(F,0)};function X(q,J){$=j(function(){q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var ee=b;b=J;try{return q()}finally{b=ee}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=b;b=q;try{return J()}finally{b=ee}},e.unstable_scheduleCallback=function(q,J,ee){var le=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ee+ae,q={id:h++,callback:J,priorityLevel:q,startTime:ee,expirationTime:ae,sortIndex:-1},ee>le?(q.sortIndex=ee,t(d,q),n(u)===null&&q===n(d)&&(w?(O($),$=-1):w=!0,X(D,ee-le))):(q.sortIndex=ae,t(u,q),k||y||(k=!0,P||(P=!0,z()))),q},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(q){var J=b;return function(){var ee=b;b=J;try{return q.apply(this,arguments)}finally{b=ee}}}})(L_)),L_}var LC;function IG(){return LC||(LC=1,R_.exports=LG()),R_.exports}var I_={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function $G(){if(IC)return ut;IC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function j(B,V,ne){this.props=B,this.context=V,this.refs=S,this.updater=ne||k}j.prototype.isReactComponent={},j.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},j.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=j.prototype;function A(B,V,ne){this.props=B,this.context=V,this.refs=S,this.updater=ne||k}var C=A.prototype=new O;C.constructor=A,w(C,j.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function P(){}var $={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function W(B,V,ne){var oe=ne.ref;return{$$typeof:e,type:B,key:V,ref:oe!==void 0?oe:null,props:ne}}function Y(B,V){return W(B.type,V,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function z(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return V[ne]})}var K=/\/+/g;function Z(B,V){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):V.toString(36)}function X(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(V){B.status==="pending"&&(B.status="fulfilled",B.value=V)},function(V){B.status==="pending"&&(B.status="rejected",B.reason=V)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,V,ne,oe,fe){var ye=typeof B;(ye==="undefined"||ye==="boolean")&&(B=null);var pe=!1;if(B===null)pe=!0;else switch(ye){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(B.$$typeof){case e:case t:pe=!0;break;case h:return pe=B._init,q(pe(B._payload),V,ne,oe,fe)}}if(pe)return fe=fe(B),pe=oe===""?"."+Z(B,0):oe,D(fe)?(ne="",pe!=null&&(ne=pe.replace(K,"$&/")+"/"),q(fe,V,ne,"",function(Ee){return Ee})):fe!=null&&(F(fe)&&(fe=Y(fe,ne+(fe.key==null||B&&B.key===fe.key?"":(""+fe.key).replace(K,"$&/")+"/")+pe)),V.push(fe)),1;pe=0;var Ae=oe===""?".":oe+":";if(D(B))for(var re=0;re<B.length;re++)oe=B[re],ye=Ae+Z(oe,re),pe+=q(oe,V,ne,ye,fe);else if(re=y(B),typeof re=="function")for(B=re.call(B),re=0;!(oe=B.next()).done;)oe=oe.value,ye=Ae+Z(oe,re++),pe+=q(oe,V,ne,ye,fe);else if(ye==="object"){if(typeof B.then=="function")return q(X(B),V,ne,oe,fe);throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(B,V,ne){if(B==null)return B;var oe=[],fe=0;return q(B,oe,"","",function(ye){return V.call(ne,ye,fe++)}),oe}function ee(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var le=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ae={map:J,forEach:function(B,V,ne){J(B,function(){V.apply(this,arguments)},ne)},count:function(B){var V=0;return J(B,function(){V++}),V},toArray:function(B){return J(B,function(V){return V})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ut.Activity=p,ut.Children=ae,ut.Component=j,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=A,ut.StrictMode=r,ut.Suspense=u,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ut.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},ut.cache=function(B){return function(){return B.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(B,V,ne){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var oe=w({},B.props),fe=B.key;if(V!=null)for(ye in V.key!==void 0&&(fe=""+V.key),V)!U.call(V,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&V.ref===void 0||(oe[ye]=V[ye]);var ye=arguments.length-2;if(ye===1)oe.children=ne;else if(1<ye){for(var pe=Array(ye),Ae=0;Ae<ye;Ae++)pe[Ae]=arguments[Ae+2];oe.children=pe}return W(B.type,fe,oe)},ut.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},ut.createElement=function(B,V,ne){var oe,fe={},ye=null;if(V!=null)for(oe in V.key!==void 0&&(ye=""+V.key),V)U.call(V,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=V[oe]);var pe=arguments.length-2;if(pe===1)fe.children=ne;else if(1<pe){for(var Ae=Array(pe),re=0;re<pe;re++)Ae[re]=arguments[re+2];fe.children=Ae}if(B&&B.defaultProps)for(oe in pe=B.defaultProps,pe)fe[oe]===void 0&&(fe[oe]=pe[oe]);return W(B,ye,fe)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(B){return{$$typeof:l,render:B}},ut.isValidElement=F,ut.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:ee}},ut.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},ut.startTransition=function(B){var V=$.T,ne={};$.T=ne;try{var oe=B(),fe=$.S;fe!==null&&fe(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(P,le)}catch(ye){le(ye)}finally{V!==null&&ne.types!==null&&(V.types=ne.types),$.T=V}},ut.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ut.use=function(B){return $.H.use(B)},ut.useActionState=function(B,V,ne){return $.H.useActionState(B,V,ne)},ut.useCallback=function(B,V){return $.H.useCallback(B,V)},ut.useContext=function(B){return $.H.useContext(B)},ut.useDebugValue=function(){},ut.useDeferredValue=function(B,V){return $.H.useDeferredValue(B,V)},ut.useEffect=function(B,V){return $.H.useEffect(B,V)},ut.useEffectEvent=function(B){return $.H.useEffectEvent(B)},ut.useId=function(){return $.H.useId()},ut.useImperativeHandle=function(B,V,ne){return $.H.useImperativeHandle(B,V,ne)},ut.useInsertionEffect=function(B,V){return $.H.useInsertionEffect(B,V)},ut.useLayoutEffect=function(B,V){return $.H.useLayoutEffect(B,V)},ut.useMemo=function(B,V){return $.H.useMemo(B,V)},ut.useOptimistic=function(B,V){return $.H.useOptimistic(B,V)},ut.useReducer=function(B,V,ne){return $.H.useReducer(B,V,ne)},ut.useRef=function(B){return $.H.useRef(B)},ut.useState=function(B){return $.H.useState(B)},ut.useSyncExternalStore=function(B,V,ne){return $.H.useSyncExternalStore(B,V,ne)},ut.useTransition=function(){return $.H.useTransition()},ut.version="19.2.1",ut}var $C;function hf(){return $C||($C=1,I_.exports=$G()),I_.exports}var $_={exports:{}},Dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function BG(){if(BC)return Dr;BC=1;var e=hf();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dr.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,h)},Dr.flushSync=function(u){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=h,r.d.f()}},Dr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Dr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Dr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:b,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Dr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dr.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Dr.requestFormReset=function(u){r.d.r(u)},Dr.unstable_batchedUpdates=function(u,d){return u(d)},Dr.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},Dr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Dr.version="19.2.1",Dr}var zC;function B5(){if(zC)return $_.exports;zC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$_.exports=BG(),$_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function zG(){if(UC)return Uh;UC=1;var e=IG(),t=hf(),n=B5();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function d(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,x=c;;){var T=m.return;if(T===null)break;var N=T.alternate;if(N===null){if(x=T.return,x!==null){m=x;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===m)return u(T),s;if(N===x)return u(T),c;N=N.sibling}throw Error(r(188))}if(m.return!==x.return)m=T,x=N;else{for(var I=!1,G=T.child;G;){if(G===m){I=!0,m=T,x=N;break}if(G===x){I=!0,x=T,m=N;break}G=G.sibling}if(!I){for(G=N.child;G;){if(G===m){I=!0,m=N,x=T;break}if(G===x){I=!0,x=N,m=T;break}G=G.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var K=Symbol.for("react.client.reference");function Z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===K?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case W:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case A:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case C:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return c=s.displayName||null,c!==null?c:Z(s.type)||"Memo";case U:c=s._payload,s=s._init;try{return Z(s(c))}catch{}}return null}var X=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},le=[],ae=-1;function B(s){return{current:s}}function V(s){0>ae||(s.current=le[ae],le[ae]=null,ae--)}function ne(s,c){ae++,le[ae]=s.current,s.current=c}var oe=B(null),fe=B(null),ye=B(null),pe=B(null);function Ae(s,c){switch(ne(ye,c),ne(fe,s),ne(oe,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?nC(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=nC(c),s=rC(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(oe),ne(oe,s)}function re(){V(oe),V(fe),V(ye)}function Ee(s){s.memoizedState!==null&&ne(pe,s);var c=oe.current,m=rC(c,s.type);c!==m&&(ne(fe,s),ne(oe,m))}function _e(s){fe.current===s&&(V(oe),V(fe)),pe.current===s&&(V(pe),Lh._currentValue=ee)}var se,Ue;function Fe(s){if(se===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||"",Ue=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+s+Ue}var Ce=!1;function Pe(s,c){if(!s||Ce)return"";Ce=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ve){var be=ve}Reflect.construct(s,[],je)}else{try{je.call()}catch(ve){be=ve}s.call(je.prototype)}}else{try{throw Error()}catch(ve){be=ve}(je=s())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),I=N[0],G=N[1];if(I&&G){var te=I.split(`
`),me=G.split(`
`);for(T=x=0;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(x===te.length||T===me.length)for(x=te.length-1,T=me.length-1;1<=x&&0<=T&&te[x]!==me[T];)T--;for(;1<=x&&0<=T;x--,T--)if(te[x]!==me[T]){if(x!==1||T!==1)do if(x--,T--,0>T||te[x]!==me[T]){var Se=`
`+te[x].replace(" at new "," at ");return s.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",s.displayName)),Se}while(1<=x&&0<=T);break}}}finally{Ce=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Fe(m):""}function Ge(s,c){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Pe(s.type,!1);case 11:return Pe(s.type.render,!1);case 1:return Pe(s.type,!0);case 31:return Fe("Activity");default:return""}}function Ne(s){try{var c="",m=null;do c+=Ge(s,m),m=s,s=s.return;while(s);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var De=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,ce=e.unstable_shouldYield,Oe=e.unstable_requestPaint,ze=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,Et=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Jt=e.unstable_NormalPriority,Br=e.unstable_LowPriority,zr=e.unstable_IdlePriority,Zi=e.log,io=e.unstable_setDisableYieldValue,It=null,an=null;function Ur(s){if(typeof Zi=="function"&&io(s),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(It,s)}catch{}}var Yn=Math.clz32?Math.clz32:Me,Go=Math.log,If=Math.LN2;function Me(s){return s>>>=0,s===0?32:31-(Go(s)/If|0)|0}var nt=256,Dt=262144,br=4194304;function ti(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Nu(s,c,m){var x=s.pendingLanes;if(x===0)return 0;var T=0,N=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var G=x&134217727;return G!==0?(x=G&~N,x!==0?T=ti(x):(I&=G,I!==0?T=ti(I):m||(m=G&~s,m!==0&&(T=ti(m))))):(G=x&~N,G!==0?T=ti(G):I!==0?T=ti(I):m||(m=x&~s,m!==0&&(T=ti(m)))),T===0?0:c!==0&&c!==T&&(c&N)===0&&(N=T&-T,m=c&-c,N>=m||N===32&&(m&4194048)!==0)?c:T}function tc(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function zx(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kp(){var s=br;return br<<=1,(br&62914560)===0&&(br=4194304),s}function $f(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function qo(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ux(s,c,m,x,T,N){var I=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var G=s.entanglements,te=s.expirationTimes,me=s.hiddenUpdates;for(m=I&~m;0<m;){var Se=31-Yn(m),je=1<<Se;G[Se]=0,te[Se]=-1;var be=me[Se];if(be!==null)for(me[Se]=null,Se=0;Se<be.length;Se++){var ve=be[Se];ve!==null&&(ve.lane&=-536870913)}m&=~je}x!==0&&Wp(s,x,0),N!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=N&~(I&~c))}function Wp(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var x=31-Yn(c);s.entangledLanes|=c,s.entanglements[x]=s.entanglements[x]|1073741824|m&261930}function Vp(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-Yn(m),T=1<<x;T&c|s[x]&c&&(s[x]|=c),m&=~T}}function Zp(s,c){var m=c&-c;return m=(m&42)!==0?1:ni(m),(m&(s.suspendedLanes|c))!==0?0:m}function ni(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function We(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Bf(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:TC(s.type))}function zf(s,c){var m=J.p;try{return J.p=s,c()}finally{J.p=m}}var Na=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Na,ir="__reactProps$"+Na,Yo="__reactContainer$"+Na,ao="__reactEvents$"+Na,Xp="__reactListeners$"+Na,Fx="__reactHandles$"+Na,Jp="__reactResources$"+Na,nc="__reactMarker$"+Na;function Uf(s){delete s[Pn],delete s[ir],delete s[ao],delete s[Xp],delete s[Fx]}function Ko(s){var c=s[Pn];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Yo]||m[Pn]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=uC(s);s!==null;){if(m=s[Pn])return m;s=uC(s)}return c}s=m,m=s.parentNode}return null}function Ys(s){if(s=s[Pn]||s[Yo]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function oo(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function Ks(s){var c=s[Jp];return c||(c=s[Jp]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Rn(s){s[nc]=!0}var Qp=new Set,e0={};function Wo(s,c){so(s,c),so(s+"Capture",c)}function so(s,c){for(e0[s]=c,s=0;s<c.length;s++)Qp.add(c[s])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ff={},Hf={};function ic(s){return De.call(Hf,s)?!0:De.call(Ff,s)?!1:rc.test(s)?Hf[s]=!0:(Ff[s]=!0,!1)}function gt(s,c,m){if(ic(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Ut(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function ri(s,c,m,x){if(x===null)s.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+x)}}function Kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Vo(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Gf(s,c,m){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,N=x.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return T.call(this)},set:function(I){m=""+I,N.call(this,I)}}),Object.defineProperty(s,c,{enumerable:x.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ct(s){if(!s._valueTracker){var c=Vo(s)?"checked":"value";s._valueTracker=Gf(s,c,""+s[c])}}function on(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=Vo(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function Ws(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ou=/[\n"\\]/g;function Qt(s){return s.replace(Ou,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function qf(s,c,m,x,T,N,I,G){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),c!=null?I==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Kn(c)):s.value!==""+Kn(c)&&(s.value=""+Kn(c)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),c!=null?Oa(s,I,Kn(c)):m!=null?Oa(s,I,Kn(m)):x!=null&&s.removeAttribute("value"),T==null&&N!=null&&(s.defaultChecked=!!N),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Kn(G):s.removeAttribute("name")}function ac(s,c,m,x,T,N,I,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),c!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){ct(s);return}m=m!=null?""+Kn(m):"",c=c!=null?""+Kn(c):m,G||c===s.value||(s.value=c),s.defaultValue=c}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=G?s.checked:!!x,s.defaultChecked=!!x,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),ct(s)}function Oa(s,c,m){c==="number"&&Ws(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function qt(s,c,m,x){if(s=s.options,c){c={};for(var T=0;T<m.length;T++)c["$"+m[T]]=!0;for(m=0;m<s.length;m++)T=c.hasOwnProperty("$"+s[m].value),s[m].selected!==T&&(s[m].selected=T),T&&x&&(s[m].defaultSelected=!0)}else{for(m=""+Kn(m),c=null,T=0;T<s.length;T++){if(s[T].value===m){s[T].selected=!0,x&&(s[T].defaultSelected=!0);return}c!==null||s[T].disabled||(c=s[T])}c!==null&&(c.selected=!0)}}function lo(s,c,m){if(c!=null&&(c=""+Kn(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Kn(m):""}function Vs(s,c,m,x){if(c==null){if(x!=null){if(m!=null)throw Error(r(92));if(X(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),c=m}m=Kn(c),s.defaultValue=m,x=s.textContent,x===m&&x!==""&&x!==null&&(s.value=x),ct(s)}function Xi(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(s,c,m){var x=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":x?s.setProperty(c,m):typeof m!="number"||m===0||Yf.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function Cu(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var T in c)x=c[T],c.hasOwnProperty(T)&&m[T]!==x&&Zs(s,T,x)}else for(var N in c)c.hasOwnProperty(N)&&Zs(s,N,c[N])}function oc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(s){return Kf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var Du=null;function sc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Js=null,ot=null;function Ei(s){var c=Ys(s);if(c&&(s=c.stateNode)){var m=s[ir]||null;e:switch(s=c.stateNode,c.type){case"input":if(qf(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Qt(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var T=x[ir]||null;if(!T)throw Error(r(90));qf(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(c=0;c<m.length;c++)x=m[c],x.form===s.form&&on(x)}break e;case"textarea":lo(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&qt(s,!!m.multiple,c,!1)}}}var Pt=!1;function Wf(s,c,m){if(Pt)return s(c,m);Pt=!0;try{var x=s(c);return x}finally{if(Pt=!1,(Js!==null||ot!==null)&&(Z0(),Js&&(c=Js,s=ot,ot=Js=null,Ei(c),s)))for(c=0;c<s.length;c++)Ei(s[c])}}function Zo(s,c){var m=s.stateNode;if(m===null)return null;var x=m[ir]||null;if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(Ti)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){lc=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{lc=!1}var Ji=null,Xo=null,wn=null;function co(){if(wn)return wn;var s,c=Xo,m=c.length,x,T="value"in Ji?Ji.value:Ji.textContent,N=T.length;for(s=0;s<m&&c[s]===T[s];s++);var I=m-s;for(x=1;x<=I&&c[m-x]===T[N-x];x++);return wn=T.slice(s,1<x?1-x:void 0)}function cc(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function uc(){return!0}function t0(){return!1}function yr(s){function c(m,x,T,N,I){this._reactName=m,this._targetInst=T,this.type=x,this.nativeEvent=N,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(m=s[G],this[G]=m?m(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?uc:t0,this.isPropagationStopped=t0,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),c}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=yr(Ca),Qs=p({},Ca,{view:0,detail:0}),xt=yr(Qs),Vf,Fr,Ma,dc=p({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ma&&(Ma&&s.type==="mousemove"?(Vf=s.screenX-Ma.screenX,Fr=s.screenY-Ma.screenY):Fr=Vf=0,Ma=s),Vf)},movementY:function(s){return"movementY"in s?s.movementY:Fr}}),n0=yr(dc),Zf=p({},dc,{dataTransfer:0}),Hx=yr(Zf),r0=p({},Qs,{relatedTarget:0}),Xf=yr(r0),Gx=p({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=yr(Gx),qx=p({},Ca,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qi=yr(qx),Yx=p({},Ca,{data:0}),Qf=yr(Yx),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=a0[s])?!!c[s]:!1}function th(){return eh}var o0=p({},Qs,{key:function(s){if(s.key){var c=uo[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=cc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?i0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(s){return s.type==="keypress"?cc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),s0=yr(o0),Kx=p({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=yr(Kx),nh=p({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),Wx=yr(nh),c0=p({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),u0=yr(c0),Ru=p({},dc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=yr(Ru),Vx=p({},Ca,{newState:0,oldState:0}),fc=yr(Vx),ai=[9,13,27,32],Lu=Ti&&"CompositionEvent"in window,el=null;Ti&&"documentMode"in document&&(el=document.documentMode);var Zx=Ti&&"TextEvent"in window&&!el,Iu=Ti&&(!Lu||el&&8<el&&11>=el),$u=" ",d0=!1;function f0(s,c){switch(s){case"keyup":return ai.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var tl=!1;function Ai(s,c){switch(s){case"compositionend":return rh(c);case"keypress":return c.which!==32?null:(d0=!0,$u);case"textInput":return s=c.data,s===$u&&d0?null:s;default:return null}}function nl(s,c){if(tl)return s==="compositionend"||!Lu&&f0(s,c)?(s=co(),wn=Xo=Ji=null,tl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Iu&&c.locale!=="ko"?null:c.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ea(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Xx[s.type]:c==="textarea"}function h0(s,c,m,x){Js?ot?ot.push(x):ot=[x]:Js=x,c=rg(c,"onChange"),0<c.length&&(m=new Pu("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var ta=null,hc=null;function mc(s){ZO(s,0)}function pc(s){var c=oo(s);if(on(c))return s}function gc(s,c){if(s==="change")return c}var m0=!1;if(Ti){var na;if(Ti){var rl="oninput"in document;if(!rl){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),rl=typeof p0.oninput=="function"}na=rl}else na=!1;m0=na&&(!document.documentMode||9<document.documentMode)}function Bu(){ta&&(ta.detachEvent("onpropertychange",g0),hc=ta=null)}function g0(s){if(s.propertyName==="value"&&pc(hc)){var c=[];h0(c,hc,s,sc(s)),Wf(mc,c)}}function Da(s,c,m){s==="focusin"?(Bu(),ta=c,hc=m,ta.attachEvent("onpropertychange",g0)):s==="focusout"&&Bu()}function Jx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pc(hc)}function il(s,c){if(s==="click")return pc(c)}function Qx(s,c){if(s==="input"||s==="change")return pc(c)}function Pa(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var ar=typeof Object.is=="function"?Object.is:Pa;function al(s,c){if(ar(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var T=m[x];if(!De.call(c,T)||!ar(s[T],c[T]))return!1}return!0}function zu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bc(s,c){var m=zu(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=zu(m)}}function Uu(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Uu(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function yc(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Ws(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Ws(s.document)}return c}function fo(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Fu=Ti&&"documentMode"in document&&11>=document.documentMode,ho=null,Hu=null,vc=null,ol=!1;function b0(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ol||ho==null||ho!==Ws(x)||(x=ho,"selectionStart"in x&&fo(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),vc&&al(vc,x)||(vc=x,x=rg(Hu,"onSelect"),0<x.length&&(c=new Pu("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=ho)))}function mo(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var sl={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},Gu={},y0={};Ti&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function or(s){if(Gu[s])return Gu[s];if(!sl[s])return s;var c=sl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in y0)return Gu[s]=c[m];return s}var xc=or("animationend"),v0=or("animationiteration"),wc=or("animationstart"),ew=or("transitionrun"),x0=or("transitionstart"),tw=or("transitioncancel"),ll=or("transitionend"),w0=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");po.push("scrollEnd");function oi(s,c){w0.set(s,c),Wo(c,[s])}var _c=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},si=[],Cr=0,qu=0;function Sc(){for(var s=Cr,c=qu=Cr=0;c<s;){var m=si[c];si[c++]=null;var x=si[c];si[c++]=null;var T=si[c];si[c++]=null;var N=si[c];if(si[c++]=null,x!==null&&T!==null){var I=x.pending;I===null?T.next=T:(T.next=I.next,I.next=T),x.pending=T}N!==0&&cl(m,T,N)}}function go(s,c,m,x){si[Cr++]=s,si[Cr++]=c,si[Cr++]=m,si[Cr++]=x,qu|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function ih(s,c,m,x){return go(s,c,m,x),kc(s)}function ra(s,c){return go(s,null,null,c),kc(s)}function cl(s,c,m){s.lanes|=m;var x=s.alternate;x!==null&&(x.lanes|=m);for(var T=!1,N=s.return;N!==null;)N.childLanes|=m,x=N.alternate,x!==null&&(x.childLanes|=m),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(T=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,T&&c!==null&&(T=31-Yn(m),s=N.hiddenUpdates,x=s[T],x===null?s[T]=[c]:x.push(c),c.lane=m|536870912),N):null}function kc(s){if(50<Nh)throw Nh=0,r_=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Qo={};function nw(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,c,m,x){return new nw(s,c,m,x)}function Yu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ia(s,c){var m=s.alternate;return m===null?(m=Mr(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function ah(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Ec(s,c,m,x,T,N){var I=0;if(x=s,typeof s=="function")Yu(s)&&(I=1);else if(typeof s=="string")I=_G(s,m,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case W:return s=Mr(31,m,c,T),s.elementType=W,s.lanes=N,s;case w:return es(m.children,T,N,c);case S:I=8,T|=24;break;case j:return s=Mr(12,m,c,T|2),s.elementType=j,s.lanes=N,s;case D:return s=Mr(13,m,c,T),s.elementType=D,s.lanes=N,s;case P:return s=Mr(19,m,c,T),s.elementType=P,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:I=10;break e;case O:I=9;break e;case C:I=11;break e;case $:I=14;break e;case U:I=16,x=null;break e}I=29,m=Error(r(130,s===null?"null":typeof s,"")),x=null}return c=Mr(I,m,c,T),c.elementType=s,c.type=x,c.lanes=N,c}function es(s,c,m,x){return s=Mr(7,s,x,c),s.lanes=m,s}function Ku(s,c,m){return s=Mr(6,s,null,c),s.lanes=m,s}function oh(s){var c=Mr(18,null,null,0);return c.stateNode=s,c}function sh(s,c,m){return c=Mr(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var f=new WeakMap;function v(s,c){if(typeof s=="object"&&s!==null){var m=f.get(s);return m!==void 0?m:(c={value:s,source:c,stack:Ne(c)},f.set(s,c),c)}return{value:s,source:c,stack:Ne(c)}}var E=[],M=0,R=null,H=0,Q=[],de=0,ge=null,Te=1,$e="";function Ze(s,c){E[M++]=H,E[M++]=R,R=s,H=c}function ft(s,c,m){Q[de++]=Te,Q[de++]=$e,Q[de++]=ge,ge=s;var x=Te;s=$e;var T=32-Yn(x)-1;x&=~(1<<T),m+=1;var N=32-Yn(c)+T;if(30<N){var I=T-T%5;N=(x&(1<<I)-1).toString(32),x>>=I,T-=I,Te=1<<32-Yn(c)+T|m<<T|x,$e=N+s}else Te=1<<N|m<<T|x,$e=s}function Wn(s){s.return!==null&&(Ze(s,1),ft(s,1,0))}function _n(s){for(;s===R;)R=E[--M],E[M]=null,H=E[--M],E[M]=null;for(;s===ge;)ge=Q[--de],Q[de]=null,$e=Q[--de],Q[de]=null,Te=Q[--de],Q[de]=null}function Hr(s,c){Q[de++]=Te,Q[de++]=$e,Q[de++]=ge,Te=c.id,$e=c.overflow,ge=s}var Tt=null,jt=null,bt=!1,bo=null,li=!1,Wu=Error(r(519));function yo(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tc(v(c,s)),Wu}function lh(s){var c=s.stateNode,m=s.type,x=s.memoizedProps;switch(c[Pn]=s,c[ir]=x,m){case"dialog":vt("cancel",c),vt("close",c);break;case"iframe":case"object":case"embed":vt("load",c);break;case"video":case"audio":for(m=0;m<Ch.length;m++)vt(Ch[m],c);break;case"source":vt("error",c);break;case"img":case"image":case"link":vt("error",c),vt("load",c);break;case"details":vt("toggle",c);break;case"input":vt("invalid",c),ac(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":vt("invalid",c);break;case"textarea":vt("invalid",c),Vs(c,x.value,x.defaultValue,x.children)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||x.suppressHydrationWarning===!0||eC(c.textContent,m)?(x.popover!=null&&(vt("beforetoggle",c),vt("toggle",c)),x.onScroll!=null&&vt("scroll",c),x.onScrollEnd!=null&&vt("scrollend",c),x.onClick!=null&&(c.onclick=ii),c=!0):c=!1,c||yo(s,!0)}function pn(s){for(Tt=s.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Tt=Tt.return}}function Ra(s){if(s!==Tt)return!1;if(!bt)return pn(s),bt=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||y_(s.type,s.memoizedProps)),m=!m),m&&jt&&yo(s),pn(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=cC(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));jt=cC(s)}else c===27?(c=jt,Sl(s.type)?(s=S_,S_=null,jt=s):jt=c):jt=Tt?oa(s.stateNode.nextSibling):null;return!0}function ts(){jt=Tt=null,bt=!1}function ch(){var s=bo;return s!==null&&(fi===null?fi=s:fi.push.apply(fi,s),bo=null),s}function Tc(s){bo===null?bo=[s]:bo.push(s)}var jc=B(null),vo=null,La=null;function ul(s,c,m){ne(jc,c._currentValue),c._currentValue=m}function ns(s){s._currentValue=jc.current,V(jc)}function rw(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function iw(s,c,m,x){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var N=T.dependencies;if(N!==null){var I=T.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=T;for(var te=0;te<c.length;te++)if(G.context===c[te]){N.lanes|=m,G=N.alternate,G!==null&&(G.lanes|=m),rw(N.return,m,s),x||(I=null);break e}N=G.next}}else if(T.tag===18){if(I=T.return,I===null)throw Error(r(341));I.lanes|=m,N=I.alternate,N!==null&&(N.lanes|=m),rw(I,m,s),I=null}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===s){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}}function Vu(s,c,m,x){s=null;for(var T=c,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var I=T.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var G=T.type;ar(T.pendingProps.value,I.value)||(s!==null?s.push(G):s=[G])}}else if(T===pe.current){if(I=T.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Lh):s=[Lh])}T=T.return}s!==null&&iw(c,s,m,x),c.flags|=262144}function _0(s){for(s=s.firstContext;s!==null;){if(!ar(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ac(s){vo=s,La=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vr(s){return BA(vo,s)}function S0(s,c){return vo===null&&Ac(s),BA(s,c)}function BA(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},La===null){if(s===null)throw Error(r(308));La=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else La=La.next=c;return m}var yH=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,x){s.push(x)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},vH=e.unstable_scheduleCallback,xH=e.unstable_NormalPriority,Ln={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aw(){return{controller:new yH,data:new Map,refCount:0}}function uh(s){s.refCount--,s.refCount===0&&vH(xH,function(){s.controller.abort()})}var dh=null,ow=0,Zu=0,Xu=null;function wH(s,c){if(dh===null){var m=dh=[];ow=0,Zu=c_(),Xu={status:"pending",value:void 0,then:function(x){m.push(x)}}}return ow++,c.then(zA,zA),c}function zA(){if(--ow===0&&dh!==null){Xu!==null&&(Xu.status="fulfilled");var s=dh;dh=null,Zu=0,Xu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function _H(s,c){var m=[],x={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return s.then(function(){x.status="fulfilled",x.value=c;for(var T=0;T<m.length;T++)(0,m[T])(c)},function(T){for(x.status="rejected",x.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),x}var UA=q.S;q.S=function(s,c){kO=ze(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&wH(s,c),UA!==null&&UA(s,c)};var Nc=B(null);function sw(){var s=Nc.current;return s!==null?s:Yt.pooledCache}function k0(s,c){c===null?ne(Nc,Nc.current):ne(Nc,c.pool)}function FA(){var s=sw();return s===null?null:{parent:Ln._currentValue,pool:s}}var Ju=Error(r(460)),lw=Error(r(474)),E0=Error(r(542)),T0={then:function(){}};function HA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function GA(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(ii,ii),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,YA(s),s;default:if(typeof c.status=="string")c.then(ii,ii);else{if(s=Yt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(x){if(c.status==="pending"){var T=c;T.status="fulfilled",T.value=x}},function(x){if(c.status==="pending"){var T=c;T.status="rejected",T.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,YA(s),s}throw Cc=c,Ju}}function Oc(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Cc=m,Ju):m}}var Cc=null;function qA(){if(Cc===null)throw Error(r(459));var s=Cc;return Cc=null,s}function YA(s){if(s===Ju||s===E0)throw Error(r(483))}var Qu=null,fh=0;function j0(s){var c=fh;return fh+=1,Qu===null&&(Qu=[]),GA(Qu,s,c)}function hh(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function A0(s,c){throw c.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function KA(s){function c(ue,ie){if(s){var he=ue.deletions;he===null?(ue.deletions=[ie],ue.flags|=16):he.push(ie)}}function m(ue,ie){if(!s)return null;for(;ie!==null;)c(ue,ie),ie=ie.sibling;return null}function x(ue){for(var ie=new Map;ue!==null;)ue.key!==null?ie.set(ue.key,ue):ie.set(ue.index,ue),ue=ue.sibling;return ie}function T(ue,ie){return ue=ia(ue,ie),ue.index=0,ue.sibling=null,ue}function N(ue,ie,he){return ue.index=he,s?(he=ue.alternate,he!==null?(he=he.index,he<ie?(ue.flags|=67108866,ie):he):(ue.flags|=67108866,ie)):(ue.flags|=1048576,ie)}function I(ue){return s&&ue.alternate===null&&(ue.flags|=67108866),ue}function G(ue,ie,he,ke){return ie===null||ie.tag!==6?(ie=Ku(he,ue.mode,ke),ie.return=ue,ie):(ie=T(ie,he),ie.return=ue,ie)}function te(ue,ie,he,ke){var et=he.type;return et===w?Se(ue,ie,he.props.children,ke,he.key):ie!==null&&(ie.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===U&&Oc(et)===ie.type)?(ie=T(ie,he.props),hh(ie,he),ie.return=ue,ie):(ie=Ec(he.type,he.key,he.props,null,ue.mode,ke),hh(ie,he),ie.return=ue,ie)}function me(ue,ie,he,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=sh(he,ue.mode,ke),ie.return=ue,ie):(ie=T(ie,he.children||[]),ie.return=ue,ie)}function Se(ue,ie,he,ke,et){return ie===null||ie.tag!==7?(ie=es(he,ue.mode,ke,et),ie.return=ue,ie):(ie=T(ie,he),ie.return=ue,ie)}function je(ue,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Ku(""+ie,ue.mode,he),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return he=Ec(ie.type,ie.key,ie.props,null,ue.mode,he),hh(he,ie),he.return=ue,he;case k:return ie=sh(ie,ue.mode,he),ie.return=ue,ie;case U:return ie=Oc(ie),je(ue,ie,he)}if(X(ie)||z(ie))return ie=es(ie,ue.mode,he,null),ie.return=ue,ie;if(typeof ie.then=="function")return je(ue,j0(ie),he);if(ie.$$typeof===A)return je(ue,S0(ue,ie),he);A0(ue,ie)}return null}function be(ue,ie,he,ke){var et=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return et!==null?null:G(ue,ie,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return he.key===et?te(ue,ie,he,ke):null;case k:return he.key===et?me(ue,ie,he,ke):null;case U:return he=Oc(he),be(ue,ie,he,ke)}if(X(he)||z(he))return et!==null?null:Se(ue,ie,he,ke,null);if(typeof he.then=="function")return be(ue,ie,j0(he),ke);if(he.$$typeof===A)return be(ue,ie,S0(ue,he),ke);A0(ue,he)}return null}function ve(ue,ie,he,ke,et){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ue=ue.get(he)||null,G(ie,ue,""+ke,et);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ue=ue.get(ke.key===null?he:ke.key)||null,te(ie,ue,ke,et);case k:return ue=ue.get(ke.key===null?he:ke.key)||null,me(ie,ue,ke,et);case U:return ke=Oc(ke),ve(ue,ie,he,ke,et)}if(X(ke)||z(ke))return ue=ue.get(he)||null,Se(ie,ue,ke,et,null);if(typeof ke.then=="function")return ve(ue,ie,he,j0(ke),et);if(ke.$$typeof===A)return ve(ue,ie,he,S0(ie,ke),et);A0(ie,ke)}return null}function qe(ue,ie,he,ke){for(var et=null,At=null,Ke=ie,ht=ie=0,_t=null;Ke!==null&&ht<he.length;ht++){Ke.index>ht?(_t=Ke,Ke=null):_t=Ke.sibling;var Nt=be(ue,Ke,he[ht],ke);if(Nt===null){Ke===null&&(Ke=_t);break}s&&Ke&&Nt.alternate===null&&c(ue,Ke),ie=N(Nt,ie,ht),At===null?et=Nt:At.sibling=Nt,At=Nt,Ke=_t}if(ht===he.length)return m(ue,Ke),bt&&Ze(ue,ht),et;if(Ke===null){for(;ht<he.length;ht++)Ke=je(ue,he[ht],ke),Ke!==null&&(ie=N(Ke,ie,ht),At===null?et=Ke:At.sibling=Ke,At=Ke);return bt&&Ze(ue,ht),et}for(Ke=x(Ke);ht<he.length;ht++)_t=ve(Ke,ue,ht,he[ht],ke),_t!==null&&(s&&_t.alternate!==null&&Ke.delete(_t.key===null?ht:_t.key),ie=N(_t,ie,ht),At===null?et=_t:At.sibling=_t,At=_t);return s&&Ke.forEach(function(Al){return c(ue,Al)}),bt&&Ze(ue,ht),et}function rt(ue,ie,he,ke){if(he==null)throw Error(r(151));for(var et=null,At=null,Ke=ie,ht=ie=0,_t=null,Nt=he.next();Ke!==null&&!Nt.done;ht++,Nt=he.next()){Ke.index>ht?(_t=Ke,Ke=null):_t=Ke.sibling;var Al=be(ue,Ke,Nt.value,ke);if(Al===null){Ke===null&&(Ke=_t);break}s&&Ke&&Al.alternate===null&&c(ue,Ke),ie=N(Al,ie,ht),At===null?et=Al:At.sibling=Al,At=Al,Ke=_t}if(Nt.done)return m(ue,Ke),bt&&Ze(ue,ht),et;if(Ke===null){for(;!Nt.done;ht++,Nt=he.next())Nt=je(ue,Nt.value,ke),Nt!==null&&(ie=N(Nt,ie,ht),At===null?et=Nt:At.sibling=Nt,At=Nt);return bt&&Ze(ue,ht),et}for(Ke=x(Ke);!Nt.done;ht++,Nt=he.next())Nt=ve(Ke,ue,ht,Nt.value,ke),Nt!==null&&(s&&Nt.alternate!==null&&Ke.delete(Nt.key===null?ht:Nt.key),ie=N(Nt,ie,ht),At===null?et=Nt:At.sibling=Nt,At=Nt);return s&&Ke.forEach(function(DG){return c(ue,DG)}),bt&&Ze(ue,ht),et}function Gt(ue,ie,he,ke){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case y:e:{for(var et=he.key;ie!==null;){if(ie.key===et){if(et=he.type,et===w){if(ie.tag===7){m(ue,ie.sibling),ke=T(ie,he.props.children),ke.return=ue,ue=ke;break e}}else if(ie.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===U&&Oc(et)===ie.type){m(ue,ie.sibling),ke=T(ie,he.props),hh(ke,he),ke.return=ue,ue=ke;break e}m(ue,ie);break}else c(ue,ie);ie=ie.sibling}he.type===w?(ke=es(he.props.children,ue.mode,ke,he.key),ke.return=ue,ue=ke):(ke=Ec(he.type,he.key,he.props,null,ue.mode,ke),hh(ke,he),ke.return=ue,ue=ke)}return I(ue);case k:e:{for(et=he.key;ie!==null;){if(ie.key===et)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){m(ue,ie.sibling),ke=T(ie,he.children||[]),ke.return=ue,ue=ke;break e}else{m(ue,ie);break}else c(ue,ie);ie=ie.sibling}ke=sh(he,ue.mode,ke),ke.return=ue,ue=ke}return I(ue);case U:return he=Oc(he),Gt(ue,ie,he,ke)}if(X(he))return qe(ue,ie,he,ke);if(z(he)){if(et=z(he),typeof et!="function")throw Error(r(150));return he=et.call(he),rt(ue,ie,he,ke)}if(typeof he.then=="function")return Gt(ue,ie,j0(he),ke);if(he.$$typeof===A)return Gt(ue,ie,S0(ue,he),ke);A0(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ie!==null&&ie.tag===6?(m(ue,ie.sibling),ke=T(ie,he),ke.return=ue,ue=ke):(m(ue,ie),ke=Ku(he,ue.mode,ke),ke.return=ue,ue=ke),I(ue)):m(ue,ie)}return function(ue,ie,he,ke){try{fh=0;var et=Gt(ue,ie,he,ke);return Qu=null,et}catch(Ke){if(Ke===Ju||Ke===E0)throw Ke;var At=Mr(29,Ke,null,ue.mode);return At.lanes=ke,At.return=ue,At}finally{}}}var Mc=KA(!0),WA=KA(!1),dl=!1;function cw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uw(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function fl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hl(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Ct&2)!==0){var T=x.pending;return T===null?c.next=c:(c.next=T.next,T.next=c),x.pending=c,c=kc(s),cl(s,null,m),c}return go(s,x,c,m),kc(s)}function mh(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Vp(s,m)}}function dw(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var T=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?T=N=I:N=N.next=I,m=m.next}while(m!==null);N===null?T=N=c:N=N.next=c}else T=N=c;m={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var fw=!1;function ph(){if(fw){var s=Xu;if(s!==null)throw s}}function gh(s,c,m,x){fw=!1;var T=s.updateQueue;dl=!1;var N=T.firstBaseUpdate,I=T.lastBaseUpdate,G=T.shared.pending;if(G!==null){T.shared.pending=null;var te=G,me=te.next;te.next=null,I===null?N=me:I.next=me,I=te;var Se=s.alternate;Se!==null&&(Se=Se.updateQueue,G=Se.lastBaseUpdate,G!==I&&(G===null?Se.firstBaseUpdate=me:G.next=me,Se.lastBaseUpdate=te))}if(N!==null){var je=T.baseState;I=0,Se=me=te=null,G=N;do{var be=G.lane&-536870913,ve=be!==G.lane;if(ve?(wt&be)===be:(x&be)===be){be!==0&&be===Zu&&(fw=!0),Se!==null&&(Se=Se.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var qe=s,rt=G;be=c;var Gt=m;switch(rt.tag){case 1:if(qe=rt.payload,typeof qe=="function"){je=qe.call(Gt,je,be);break e}je=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=rt.payload,be=typeof qe=="function"?qe.call(Gt,je,be):qe,be==null)break e;je=p({},je,be);break e;case 2:dl=!0}}be=G.callback,be!==null&&(s.flags|=64,ve&&(s.flags|=8192),ve=T.callbacks,ve===null?T.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Se===null?(me=Se=ve,te=je):Se=Se.next=ve,I|=be;if(G=G.next,G===null){if(G=T.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,T.lastBaseUpdate=ve,T.shared.pending=null}}while(!0);Se===null&&(te=je),T.baseState=te,T.firstBaseUpdate=me,T.lastBaseUpdate=Se,N===null&&(T.shared.lanes=0),yl|=I,s.lanes=I,s.memoizedState=je}}function VA(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function ZA(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)VA(m[s],c)}var ed=B(null),N0=B(0);function XA(s,c){s=ds,ne(N0,s),ne(ed,c),ds=s|c.baseLanes}function hw(){ne(N0,ds),ne(ed,ed.current)}function mw(){ds=N0.current,V(ed),V(N0)}var Ni=B(null),aa=null;function ml(s){var c=s.alternate;ne(Nn,Nn.current&1),ne(Ni,s),aa===null&&(c===null||ed.current!==null||c.memoizedState!==null)&&(aa=s)}function pw(s){ne(Nn,Nn.current),ne(Ni,s),aa===null&&(aa=s)}function JA(s){s.tag===22?(ne(Nn,Nn.current),ne(Ni,s),aa===null&&(aa=s)):pl()}function pl(){ne(Nn,Nn.current),ne(Ni,Ni.current)}function Oi(s){V(Ni),aa===s&&(aa=null),V(Nn)}var Nn=B(0);function O0(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||w_(m)||__(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var rs=0,dt=null,Ft=null,In=null,C0=!1,td=!1,Dc=!1,M0=0,bh=0,nd=null,SH=0;function Sn(){throw Error(r(321))}function gw(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!ar(s[m],c[m]))return!1;return!0}function bw(s,c,m,x,T,N){return rs=N,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,q.H=s===null||s.memoizedState===null?RN:Mw,Dc=!1,N=m(x,T),Dc=!1,td&&(N=eN(c,m,x,T)),QA(s),N}function QA(s){q.H=xh;var c=Ft!==null&&Ft.next!==null;if(rs=0,In=Ft=dt=null,C0=!1,bh=0,nd=null,c)throw Error(r(300));s===null||$n||(s=s.dependencies,s!==null&&_0(s)&&($n=!0))}function eN(s,c,m,x){dt=s;var T=0;do{if(td&&(nd=null),bh=0,td=!1,25<=T)throw Error(r(301));if(T+=1,In=Ft=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}q.H=LN,N=c(m,x)}while(td);return N}function kH(){var s=q.H,c=s.useState()[0];return c=typeof c.then=="function"?yh(c):c,s=s.useState()[0],(Ft!==null?Ft.memoizedState:null)!==s&&(dt.flags|=1024),c}function yw(){var s=M0!==0;return M0=0,s}function vw(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function xw(s){if(C0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}C0=!1}rs=0,In=Ft=dt=null,td=!1,bh=M0=0,nd=null}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?dt.memoizedState=In=s:In=In.next=s,In}function On(){if(Ft===null){var s=dt.alternate;s=s!==null?s.memoizedState:null}else s=Ft.next;var c=In===null?dt.memoizedState:In.next;if(c!==null)In=c,Ft=s;else{if(s===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Ft=s,s={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},In===null?dt.memoizedState=In=s:In=In.next=s}return In}function D0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yh(s){var c=bh;return bh+=1,nd===null&&(nd=[]),s=GA(nd,s,c),c=dt,(In===null?c.memoizedState:In.next)===null&&(c=c.alternate,q.H=c===null||c.memoizedState===null?RN:Mw),s}function P0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yh(s);if(s.$$typeof===A)return vr(s)}throw Error(r(438,String(s)))}function ww(s){var c=null,m=dt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var x=dt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(T){return T.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=D0(),dt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),x=0;x<s;x++)m[x]=Y;return c.index++,m}function is(s,c){return typeof c=="function"?c(s):c}function R0(s){var c=On();return _w(c,Ft,s)}function _w(s,c,m){var x=s.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=m;var T=s.baseQueue,N=x.pending;if(N!==null){if(T!==null){var I=T.next;T.next=N.next,N.next=I}c.baseQueue=T=N,x.pending=null}if(N=s.baseState,T===null)s.memoizedState=N;else{c=T.next;var G=I=null,te=null,me=c,Se=!1;do{var je=me.lane&-536870913;if(je!==me.lane?(wt&je)===je:(rs&je)===je){var be=me.revertLane;if(be===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),je===Zu&&(Se=!0);else if((rs&be)===be){me=me.next,be===Zu&&(Se=!0);continue}else je={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=je,I=N):te=te.next=je,dt.lanes|=be,yl|=be;je=me.action,Dc&&m(N,je),N=me.hasEagerState?me.eagerState:m(N,je)}else be={lane:je,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},te===null?(G=te=be,I=N):te=te.next=be,dt.lanes|=je,yl|=je;me=me.next}while(me!==null&&me!==c);if(te===null?I=N:te.next=G,!ar(N,s.memoizedState)&&($n=!0,Se&&(m=Xu,m!==null)))throw m;s.memoizedState=N,s.baseState=I,s.baseQueue=te,x.lastRenderedState=N}return T===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function Sw(s){var c=On(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var x=m.dispatch,T=m.pending,N=c.memoizedState;if(T!==null){m.pending=null;var I=T=T.next;do N=s(N,I.action),I=I.next;while(I!==T);ar(N,c.memoizedState)||($n=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),m.lastRenderedState=N}return[N,x]}function tN(s,c,m){var x=dt,T=On(),N=bt;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=c();var I=!ar((Ft||T).memoizedState,m);if(I&&(T.memoizedState=m,$n=!0),T=T.queue,Tw(iN.bind(null,x,T,s),[s]),T.getSnapshot!==c||I||In!==null&&In.memoizedState.tag&1){if(x.flags|=2048,rd(9,{destroy:void 0},rN.bind(null,x,T,m,c),null),Yt===null)throw Error(r(349));N||(rs&127)!==0||nN(x,c,m)}return m}function nN(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=dt.updateQueue,c===null?(c=D0(),dt.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function rN(s,c,m,x){c.value=m,c.getSnapshot=x,aN(c)&&oN(s)}function iN(s,c,m){return m(function(){aN(c)&&oN(s)})}function aN(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!ar(s,m)}catch{return!0}}function oN(s){var c=ra(s,2);c!==null&&hi(c,s,2)}function kw(s){var c=Gr();if(typeof s=="function"){var m=s;if(s=m(),Dc){Ur(!0);try{m()}finally{Ur(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},c}function sN(s,c,m,x){return s.baseState=m,_w(s,Ft,typeof x=="function"?x:is)}function EH(s,c,m,x,T){if($0(s))throw Error(r(485));if(s=c.action,s!==null){var N={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){N.listeners.push(I)}};q.T!==null?m(!0):N.isTransition=!1,x(N),m=c.pending,m===null?(N.next=c.pending=N,lN(c,N)):(N.next=m.next,c.pending=m.next=N)}}function lN(s,c){var m=c.action,x=c.payload,T=s.state;if(c.isTransition){var N=q.T,I={};q.T=I;try{var G=m(T,x),te=q.S;te!==null&&te(I,G),cN(s,c,G)}catch(me){Ew(s,c,me)}finally{N!==null&&I.types!==null&&(N.types=I.types),q.T=N}}else try{N=m(T,x),cN(s,c,N)}catch(me){Ew(s,c,me)}}function cN(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){uN(s,c,x)},function(x){return Ew(s,c,x)}):uN(s,c,m)}function uN(s,c,m){c.status="fulfilled",c.value=m,dN(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,lN(s,m)))}function Ew(s,c,m){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=m,dN(c),c=c.next;while(c!==x)}s.action=null}function dN(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function fN(s,c){return c}function hN(s,c){if(bt){var m=Yt.formState;if(m!==null){e:{var x=dt;if(bt){if(jt){t:{for(var T=jt,N=li;T.nodeType!==8;){if(!N){T=null;break t}if(T=oa(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){jt=oa(T.nextSibling),x=T.data==="F!";break e}}yo(x)}x=!1}x&&(c=m[0])}}return m=Gr(),m.memoizedState=m.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fN,lastRenderedState:c},m.queue=x,m=MN.bind(null,dt,x),x.dispatch=m,x=kw(!1),N=Cw.bind(null,dt,!1,x.queue),x=Gr(),T={state:c,dispatch:null,action:s,pending:null},x.queue=T,m=EH.bind(null,dt,T,N,m),T.dispatch=m,x.memoizedState=s,[c,m,!1]}function mN(s){var c=On();return pN(c,Ft,s)}function pN(s,c,m){if(c=_w(s,c,fN)[0],s=R0(is)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=yh(c)}catch(I){throw I===Ju?E0:I}else x=c;c=On();var T=c.queue,N=T.dispatch;return m!==c.memoizedState&&(dt.flags|=2048,rd(9,{destroy:void 0},TH.bind(null,T,m),null)),[x,N,s]}function TH(s,c){s.action=c}function gN(s){var c=On(),m=Ft;if(m!==null)return pN(c,m,s);On(),c=c.memoizedState,m=On();var x=m.queue.dispatch;return m.memoizedState=s,[c,x,!1]}function rd(s,c,m,x){return s={tag:s,create:m,deps:x,inst:c,next:null},c=dt.updateQueue,c===null&&(c=D0(),dt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s),s}function bN(){return On().memoizedState}function L0(s,c,m,x){var T=Gr();dt.flags|=s,T.memoizedState=rd(1|c,{destroy:void 0},m,x===void 0?null:x)}function I0(s,c,m,x){var T=On();x=x===void 0?null:x;var N=T.memoizedState.inst;Ft!==null&&x!==null&&gw(x,Ft.memoizedState.deps)?T.memoizedState=rd(c,N,m,x):(dt.flags|=s,T.memoizedState=rd(1|c,N,m,x))}function yN(s,c){L0(8390656,8,s,c)}function Tw(s,c){I0(2048,8,s,c)}function jH(s){dt.flags|=4;var c=dt.updateQueue;if(c===null)c=D0(),dt.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function vN(s){var c=On().memoizedState;return jH({ref:c,nextImpl:s}),function(){if((Ct&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function xN(s,c){return I0(4,2,s,c)}function wN(s,c){return I0(4,4,s,c)}function _N(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function SN(s,c,m){m=m!=null?m.concat([s]):null,I0(4,4,_N.bind(null,c,s),m)}function jw(){}function kN(s,c){var m=On();c=c===void 0?null:c;var x=m.memoizedState;return c!==null&&gw(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function EN(s,c){var m=On();c=c===void 0?null:c;var x=m.memoizedState;if(c!==null&&gw(c,x[1]))return x[0];if(x=s(),Dc){Ur(!0);try{s()}finally{Ur(!1)}}return m.memoizedState=[x,c],x}function Aw(s,c,m){return m===void 0||(rs&1073741824)!==0&&(wt&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=TO(),dt.lanes|=s,yl|=s,m)}function TN(s,c,m,x){return ar(m,c)?m:ed.current!==null?(s=Aw(s,m,x),ar(s,c)||($n=!0),s):(rs&42)===0||(rs&1073741824)!==0&&(wt&261930)===0?($n=!0,s.memoizedState=m):(s=TO(),dt.lanes|=s,yl|=s,c)}function jN(s,c,m,x,T){var N=J.p;J.p=N!==0&&8>N?N:8;var I=q.T,G={};q.T=G,Cw(s,!1,c,m);try{var te=T(),me=q.S;if(me!==null&&me(G,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Se=_H(te,x);vh(s,c,Se,Di(s))}else vh(s,c,x,Di(s))}catch(je){vh(s,c,{then:function(){},status:"rejected",reason:je},Di())}finally{J.p=N,I!==null&&G.types!==null&&(I.types=G.types),q.T=I}}function AH(){}function Nw(s,c,m,x){if(s.tag!==5)throw Error(r(476));var T=AN(s).queue;jN(s,T,c,ee,m===null?AH:function(){return NN(s),m(x)})}function AN(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ee},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function NN(s){var c=AN(s);c.next===null&&(c=s.alternate.memoizedState),vh(s,c.next.queue,{},Di())}function Ow(){return vr(Lh)}function ON(){return On().memoizedState}function CN(){return On().memoizedState}function NH(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=Di();s=fl(m);var x=hl(c,s,m);x!==null&&(hi(x,c,m),mh(x,c,m)),c={cache:aw()},s.payload=c;return}c=c.return}}function OH(s,c,m){var x=Di();m={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},$0(s)?DN(c,m):(m=ih(s,c,m,x),m!==null&&(hi(m,s,x),PN(m,c,x)))}function MN(s,c,m){var x=Di();vh(s,c,m,x)}function vh(s,c,m,x){var T={lane:x,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if($0(s))DN(c,T);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var I=c.lastRenderedState,G=N(I,m);if(T.hasEagerState=!0,T.eagerState=G,ar(G,I))return go(s,c,T,0),Yt===null&&Sc(),!1}catch{}finally{}if(m=ih(s,c,T,x),m!==null)return hi(m,s,x),PN(m,c,x),!0}return!1}function Cw(s,c,m,x){if(x={lane:2,revertLane:c_(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},$0(s)){if(c)throw Error(r(479))}else c=ih(s,m,x,2),c!==null&&hi(c,s,2)}function $0(s){var c=s.alternate;return s===dt||c!==null&&c===dt}function DN(s,c){td=C0=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function PN(s,c,m){if((m&4194048)!==0){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,Vp(s,m)}}var xh={readContext:vr,use:P0,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn};xh.useEffectEvent=Sn;var RN={readContext:vr,use:P0,useCallback:function(s,c){return Gr().memoizedState=[s,c===void 0?null:c],s},useContext:vr,useEffect:yN,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,L0(4194308,4,_N.bind(null,c,s),m)},useLayoutEffect:function(s,c){return L0(4194308,4,s,c)},useInsertionEffect:function(s,c){L0(4,2,s,c)},useMemo:function(s,c){var m=Gr();c=c===void 0?null:c;var x=s();if(Dc){Ur(!0);try{s()}finally{Ur(!1)}}return m.memoizedState=[x,c],x},useReducer:function(s,c,m){var x=Gr();if(m!==void 0){var T=m(c);if(Dc){Ur(!0);try{m(c)}finally{Ur(!1)}}}else T=c;return x.memoizedState=x.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},x.queue=s,s=s.dispatch=OH.bind(null,dt,s),[x.memoizedState,s]},useRef:function(s){var c=Gr();return s={current:s},c.memoizedState=s},useState:function(s){s=kw(s);var c=s.queue,m=MN.bind(null,dt,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:jw,useDeferredValue:function(s,c){var m=Gr();return Aw(m,s,c)},useTransition:function(){var s=kw(!1);return s=jN.bind(null,dt,s.queue,!0,!1),Gr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var x=dt,T=Gr();if(bt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Yt===null)throw Error(r(349));(wt&127)!==0||nN(x,c,m)}T.memoizedState=m;var N={value:m,getSnapshot:c};return T.queue=N,yN(iN.bind(null,x,N,s),[s]),x.flags|=2048,rd(9,{destroy:void 0},rN.bind(null,x,N,m,c),null),m},useId:function(){var s=Gr(),c=Yt.identifierPrefix;if(bt){var m=$e,x=Te;m=(x&~(1<<32-Yn(x)-1)).toString(32)+m,c="_"+c+"R_"+m,m=M0++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=SH++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Ow,useFormState:hN,useActionState:hN,useOptimistic:function(s){var c=Gr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Cw.bind(null,dt,!0,m),m.dispatch=c,[s,c]},useMemoCache:ww,useCacheRefresh:function(){return Gr().memoizedState=NH.bind(null,dt)},useEffectEvent:function(s){var c=Gr(),m={impl:s};return c.memoizedState=m,function(){if((Ct&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Mw={readContext:vr,use:P0,useCallback:kN,useContext:vr,useEffect:Tw,useImperativeHandle:SN,useInsertionEffect:xN,useLayoutEffect:wN,useMemo:EN,useReducer:R0,useRef:bN,useState:function(){return R0(is)},useDebugValue:jw,useDeferredValue:function(s,c){var m=On();return TN(m,Ft.memoizedState,s,c)},useTransition:function(){var s=R0(is)[0],c=On().memoizedState;return[typeof s=="boolean"?s:yh(s),c]},useSyncExternalStore:tN,useId:ON,useHostTransitionStatus:Ow,useFormState:mN,useActionState:mN,useOptimistic:function(s,c){var m=On();return sN(m,Ft,s,c)},useMemoCache:ww,useCacheRefresh:CN};Mw.useEffectEvent=vN;var LN={readContext:vr,use:P0,useCallback:kN,useContext:vr,useEffect:Tw,useImperativeHandle:SN,useInsertionEffect:xN,useLayoutEffect:wN,useMemo:EN,useReducer:Sw,useRef:bN,useState:function(){return Sw(is)},useDebugValue:jw,useDeferredValue:function(s,c){var m=On();return Ft===null?Aw(m,s,c):TN(m,Ft.memoizedState,s,c)},useTransition:function(){var s=Sw(is)[0],c=On().memoizedState;return[typeof s=="boolean"?s:yh(s),c]},useSyncExternalStore:tN,useId:ON,useHostTransitionStatus:Ow,useFormState:gN,useActionState:gN,useOptimistic:function(s,c){var m=On();return Ft!==null?sN(m,Ft,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:ww,useCacheRefresh:CN};LN.useEffectEvent=vN;function Dw(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Pw={enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Di(),T=fl(x);T.payload=c,m!=null&&(T.callback=m),c=hl(s,T,x),c!==null&&(hi(c,s,x),mh(c,s,x))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Di(),T=fl(x);T.tag=1,T.payload=c,m!=null&&(T.callback=m),c=hl(s,T,x),c!==null&&(hi(c,s,x),mh(c,s,x))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Di(),x=fl(m);x.tag=2,c!=null&&(x.callback=c),c=hl(s,x,m),c!==null&&(hi(c,s,m),mh(c,s,m))}};function IN(s,c,m,x,T,N,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,I):c.prototype&&c.prototype.isPureReactComponent?!al(m,x)||!al(T,N):!0}function $N(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&Pw.enqueueReplaceState(c,c.state,null)}function Pc(s,c){var m=c;if("ref"in c){m={};for(var x in c)x!=="ref"&&(m[x]=c[x])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var T in s)m[T]===void 0&&(m[T]=s[T])}return m}function BN(s){_c(s)}function zN(s){console.error(s)}function UN(s){_c(s)}function B0(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function FN(s,c,m){try{var x=s.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Rw(s,c,m){return m=fl(m),m.tag=3,m.payload={element:null},m.callback=function(){B0(s,c)},m}function HN(s){return s=fl(s),s.tag=3,s}function GN(s,c,m,x){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var N=x.value;s.payload=function(){return T(N)},s.callback=function(){FN(c,m,x)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){FN(c,m,x),typeof T!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function CH(s,c,m,x,T){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=m.alternate,c!==null&&Vu(c,m,T,!0),m=Ni.current,m!==null){switch(m.tag){case 31:case 13:return aa===null?X0():m.alternate===null&&kn===0&&(kn=3),m.flags&=-257,m.flags|=65536,m.lanes=T,x===T0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([x]):c.add(x),o_(s,x,T)),!1;case 22:return m.flags|=65536,x===T0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([x]):m.add(x)),o_(s,x,T)),!1}throw Error(r(435,m.tag))}return o_(s,x,T),X0(),!1}if(bt)return c=Ni.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=T,x!==Wu&&(s=Error(r(422),{cause:x}),Tc(v(s,m)))):(x!==Wu&&(c=Error(r(423),{cause:x}),Tc(v(c,m))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,x=v(x,m),T=Rw(s.stateNode,x,T),dw(s,T),kn!==4&&(kn=2)),!1;var N=Error(r(520),{cause:x});if(N=v(N,m),Ah===null?Ah=[N]:Ah.push(N),kn!==4&&(kn=2),c===null)return!0;x=v(x,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=T&-T,m.lanes|=s,s=Rw(m.stateNode,x,s),dw(m,s),!1;case 1:if(c=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(vl===null||!vl.has(N))))return m.flags|=65536,T&=-T,m.lanes|=T,T=HN(T),GN(T,s,m,x),dw(m,T),!1}m=m.return}while(m!==null);return!1}var Lw=Error(r(461)),$n=!1;function xr(s,c,m,x){c.child=s===null?WA(c,null,m,x):Mc(c,s.child,m,x)}function qN(s,c,m,x,T){m=m.render;var N=c.ref;if("ref"in x){var I={};for(var G in x)G!=="ref"&&(I[G]=x[G])}else I=x;return Ac(c),x=bw(s,c,m,I,N,T),G=yw(),s!==null&&!$n?(vw(s,c,T),as(s,c,T)):(bt&&G&&Wn(c),c.flags|=1,xr(s,c,x,T),c.child)}function YN(s,c,m,x,T){if(s===null){var N=m.type;return typeof N=="function"&&!Yu(N)&&N.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=N,KN(s,c,N,x,T)):(s=Ec(m.type,null,x,c,c.mode,T),s.ref=c.ref,s.return=c,c.child=s)}if(N=s.child,!Gw(s,T)){var I=N.memoizedProps;if(m=m.compare,m=m!==null?m:al,m(I,x)&&s.ref===c.ref)return as(s,c,T)}return c.flags|=1,s=ia(N,x),s.ref=c.ref,s.return=c,c.child=s}function KN(s,c,m,x,T){if(s!==null){var N=s.memoizedProps;if(al(N,x)&&s.ref===c.ref)if($n=!1,c.pendingProps=x=N,Gw(s,T))(s.flags&131072)!==0&&($n=!0);else return c.lanes=s.lanes,as(s,c,T)}return Iw(s,c,m,x,T)}function WN(s,c,m,x){var T=x.children,N=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|m:m,s!==null){for(x=c.child=s.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;x=T&~N}else x=0,c.child=null;return VN(s,c,N,m,x)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&k0(c,N!==null?N.cachePool:null),N!==null?XA(c,N):hw(),JA(c);else return x=c.lanes=536870912,VN(s,c,N!==null?N.baseLanes|m:m,m,x)}else N!==null?(k0(c,N.cachePool),XA(c,N),pl(),c.memoizedState=null):(s!==null&&k0(c,null),hw(),pl());return xr(s,c,T,m),c.child}function wh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function VN(s,c,m,x,T){var N=sw();return N=N===null?null:{parent:Ln._currentValue,pool:N},c.memoizedState={baseLanes:m,cachePool:N},s!==null&&k0(c,null),hw(),JA(c),s!==null&&Vu(s,c,x,!0),c.childLanes=T,null}function z0(s,c){return c=F0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function ZN(s,c,m){return Mc(c,s.child,null,m),s=z0(c,c.pendingProps),s.flags|=2,Oi(c),c.memoizedState=null,s}function MH(s,c,m){var x=c.pendingProps,T=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(bt){if(x.mode==="hidden")return s=z0(c,x),c.lanes=536870912,wh(null,s);if(pw(c),(s=jt)?(s=lC(s,li),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Te,overflow:$e}:null,retryLane:536870912,hydrationErrors:null},m=oh(s),m.return=c,c.child=m,Tt=c,jt=null)):s=null,s===null)throw yo(c);return c.lanes=536870912,null}return z0(c,x)}var N=s.memoizedState;if(N!==null){var I=N.dehydrated;if(pw(c),T)if(c.flags&256)c.flags&=-257,c=ZN(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if($n||Vu(s,c,m,!1),T=(m&s.childLanes)!==0,$n||T){if(x=Yt,x!==null&&(I=Zp(x,m),I!==0&&I!==N.retryLane))throw N.retryLane=I,ra(s,I),hi(x,s,I),Lw;X0(),c=ZN(s,c,m)}else s=N.treeContext,jt=oa(I.nextSibling),Tt=c,bt=!0,bo=null,li=!1,s!==null&&Hr(c,s),c=z0(c,x),c.flags|=4096;return c}return s=ia(s.child,{mode:x.mode,children:x.children}),s.ref=c.ref,c.child=s,s.return=c,s}function U0(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function Iw(s,c,m,x,T){return Ac(c),m=bw(s,c,m,x,void 0,T),x=yw(),s!==null&&!$n?(vw(s,c,T),as(s,c,T)):(bt&&x&&Wn(c),c.flags|=1,xr(s,c,m,T),c.child)}function XN(s,c,m,x,T,N){return Ac(c),c.updateQueue=null,m=eN(c,x,m,T),QA(s),x=yw(),s!==null&&!$n?(vw(s,c,N),as(s,c,N)):(bt&&x&&Wn(c),c.flags|=1,xr(s,c,m,N),c.child)}function JN(s,c,m,x,T){if(Ac(c),c.stateNode===null){var N=Qo,I=m.contextType;typeof I=="object"&&I!==null&&(N=vr(I)),N=new m(x,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Pw,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=x,N.state=c.memoizedState,N.refs={},cw(c),I=m.contextType,N.context=typeof I=="object"&&I!==null?vr(I):Qo,N.state=c.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(Dw(c,m,I,x),N.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(I=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),I!==N.state&&Pw.enqueueReplaceState(N,N.state,null),gh(c,x,N,T),ph(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(s===null){N=c.stateNode;var G=c.memoizedProps,te=Pc(m,G);N.props=te;var me=N.context,Se=m.contextType;I=Qo,typeof Se=="object"&&Se!==null&&(I=vr(Se));var je=m.getDerivedStateFromProps;Se=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=c.pendingProps!==G,Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||me!==I)&&$N(c,N,x,I),dl=!1;var be=c.memoizedState;N.state=be,gh(c,x,N,T),ph(),me=c.memoizedState,G||be!==me||dl?(typeof je=="function"&&(Dw(c,m,je,x),me=c.memoizedState),(te=dl||IN(c,m,te,x,be,me,I))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=me),N.props=x,N.state=me,N.context=I,x=te):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{N=c.stateNode,uw(s,c),I=c.memoizedProps,Se=Pc(m,I),N.props=Se,je=c.pendingProps,be=N.context,me=m.contextType,te=Qo,typeof me=="object"&&me!==null&&(te=vr(me)),G=m.getDerivedStateFromProps,(me=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I!==je||be!==te)&&$N(c,N,x,te),dl=!1,be=c.memoizedState,N.state=be,gh(c,x,N,T),ph();var ve=c.memoizedState;I!==je||be!==ve||dl||s!==null&&s.dependencies!==null&&_0(s.dependencies)?(typeof G=="function"&&(Dw(c,m,G,x),ve=c.memoizedState),(Se=dl||IN(c,m,Se,x,be,ve,te)||s!==null&&s.dependencies!==null&&_0(s.dependencies))?(me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,ve,te),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,ve,te)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ve),N.props=x,N.state=ve,N.context=te,x=Se):(typeof N.componentDidUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),x=!1)}return N=x,U0(s,c),x=(c.flags&128)!==0,N||x?(N=c.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,s!==null&&x?(c.child=Mc(c,s.child,null,T),c.child=Mc(c,null,m,T)):xr(s,c,m,T),c.memoizedState=N.state,s=c.child):s=as(s,c,T),s}function QN(s,c,m,x){return ts(),c.flags|=256,xr(s,c,m,x),c.child}var $w={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bw(s){return{baseLanes:s,cachePool:FA()}}function zw(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=Mi),s}function eO(s,c,m){var x=c.pendingProps,T=!1,N=(c.flags&128)!==0,I;if((I=N)||(I=s!==null&&s.memoizedState===null?!1:(Nn.current&2)!==0),I&&(T=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,s===null){if(bt){if(T?ml(c):pl(),(s=jt)?(s=lC(s,li),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:ge!==null?{id:Te,overflow:$e}:null,retryLane:536870912,hydrationErrors:null},m=oh(s),m.return=c,c.child=m,Tt=c,jt=null)):s=null,s===null)throw yo(c);return __(s)?c.lanes=32:c.lanes=536870912,null}var G=x.children;return x=x.fallback,T?(pl(),T=c.mode,G=F0({mode:"hidden",children:G},T),x=es(x,T,m,null),G.return=c,x.return=c,G.sibling=x,c.child=G,x=c.child,x.memoizedState=Bw(m),x.childLanes=zw(s,I,m),c.memoizedState=$w,wh(null,x)):(ml(c),Uw(c,G))}var te=s.memoizedState;if(te!==null&&(G=te.dehydrated,G!==null)){if(N)c.flags&256?(ml(c),c.flags&=-257,c=Fw(s,c,m)):c.memoizedState!==null?(pl(),c.child=s.child,c.flags|=128,c=null):(pl(),G=x.fallback,T=c.mode,x=F0({mode:"visible",children:x.children},T),G=es(G,T,m,null),G.flags|=2,x.return=c,G.return=c,x.sibling=G,c.child=x,Mc(c,s.child,null,m),x=c.child,x.memoizedState=Bw(m),x.childLanes=zw(s,I,m),c.memoizedState=$w,c=wh(null,x));else if(ml(c),__(G)){if(I=G.nextSibling&&G.nextSibling.dataset,I)var me=I.dgst;I=me,x=Error(r(419)),x.stack="",x.digest=I,Tc({value:x,source:null,stack:null}),c=Fw(s,c,m)}else if($n||Vu(s,c,m,!1),I=(m&s.childLanes)!==0,$n||I){if(I=Yt,I!==null&&(x=Zp(I,m),x!==0&&x!==te.retryLane))throw te.retryLane=x,ra(s,x),hi(I,s,x),Lw;w_(G)||X0(),c=Fw(s,c,m)}else w_(G)?(c.flags|=192,c.child=s.child,c=null):(s=te.treeContext,jt=oa(G.nextSibling),Tt=c,bt=!0,bo=null,li=!1,s!==null&&Hr(c,s),c=Uw(c,x.children),c.flags|=4096);return c}return T?(pl(),G=x.fallback,T=c.mode,te=s.child,me=te.sibling,x=ia(te,{mode:"hidden",children:x.children}),x.subtreeFlags=te.subtreeFlags&65011712,me!==null?G=ia(me,G):(G=es(G,T,m,null),G.flags|=2),G.return=c,x.return=c,x.sibling=G,c.child=x,wh(null,x),x=c.child,G=s.child.memoizedState,G===null?G=Bw(m):(T=G.cachePool,T!==null?(te=Ln._currentValue,T=T.parent!==te?{parent:te,pool:te}:T):T=FA(),G={baseLanes:G.baseLanes|m,cachePool:T}),x.memoizedState=G,x.childLanes=zw(s,I,m),c.memoizedState=$w,wh(s.child,x)):(ml(c),m=s.child,s=m.sibling,m=ia(m,{mode:"visible",children:x.children}),m.return=c,m.sibling=null,s!==null&&(I=c.deletions,I===null?(c.deletions=[s],c.flags|=16):I.push(s)),c.child=m,c.memoizedState=null,m)}function Uw(s,c){return c=F0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function F0(s,c){return s=Mr(22,s,null,c),s.lanes=0,s}function Fw(s,c,m){return Mc(c,s.child,null,m),s=Uw(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function tO(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),rw(s.return,c,m)}function Hw(s,c,m,x,T,N){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:T,treeForkCount:N}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=m,I.tailMode=T,I.treeForkCount=N)}function nO(s,c,m){var x=c.pendingProps,T=x.revealOrder,N=x.tail;x=x.children;var I=Nn.current,G=(I&2)!==0;if(G?(I=I&1|2,c.flags|=128):I&=1,ne(Nn,I),xr(s,c,x,m),x=bt?H:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tO(s,m,c);else if(s.tag===19)tO(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(m=c.child,T=null;m!==null;)s=m.alternate,s!==null&&O0(s)===null&&(T=m),m=m.sibling;m=T,m===null?(T=c.child,c.child=null):(T=m.sibling,m.sibling=null),Hw(c,!1,T,m,N,x);break;case"backwards":case"unstable_legacy-backwards":for(m=null,T=c.child,c.child=null;T!==null;){if(s=T.alternate,s!==null&&O0(s)===null){c.child=T;break}s=T.sibling,T.sibling=m,m=T,T=s}Hw(c,!0,m,null,N,x);break;case"together":Hw(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function as(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),yl|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(Vu(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=ia(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=ia(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function Gw(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&_0(s)))}function DH(s,c,m){switch(c.tag){case 3:Ae(c,c.stateNode.containerInfo),ul(c,Ln,s.memoizedState.cache),ts();break;case 27:case 5:Ee(c);break;case 4:Ae(c,c.stateNode.containerInfo);break;case 10:ul(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,pw(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(ml(c),c.flags|=128,null):(m&c.child.childLanes)!==0?eO(s,c,m):(ml(c),s=as(s,c,m),s!==null?s.sibling:null);ml(c);break;case 19:var T=(s.flags&128)!==0;if(x=(m&c.childLanes)!==0,x||(Vu(s,c,m,!1),x=(m&c.childLanes)!==0),T){if(x)return nO(s,c,m);c.flags|=128}if(T=c.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ne(Nn,Nn.current),x)break;return null;case 22:return c.lanes=0,WN(s,c,m,c.pendingProps);case 24:ul(c,Ln,s.memoizedState.cache)}return as(s,c,m)}function rO(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)$n=!0;else{if(!Gw(s,m)&&(c.flags&128)===0)return $n=!1,DH(s,c,m);$n=(s.flags&131072)!==0}else $n=!1,bt&&(c.flags&1048576)!==0&&ft(c,H,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(s=Oc(c.elementType),c.type=s,typeof s=="function")Yu(s)?(x=Pc(s,x),c.tag=1,c=JN(null,c,s,x,m)):(c.tag=0,c=Iw(null,c,s,x,m));else{if(s!=null){var T=s.$$typeof;if(T===C){c.tag=11,c=qN(null,c,s,x,m);break e}else if(T===$){c.tag=14,c=YN(null,c,s,x,m);break e}}throw c=Z(s)||s,Error(r(306,c,""))}}return c;case 0:return Iw(s,c,c.type,c.pendingProps,m);case 1:return x=c.type,T=Pc(x,c.pendingProps),JN(s,c,x,T,m);case 3:e:{if(Ae(c,c.stateNode.containerInfo),s===null)throw Error(r(387));x=c.pendingProps;var N=c.memoizedState;T=N.element,uw(s,c),gh(c,x,null,m);var I=c.memoizedState;if(x=I.cache,ul(c,Ln,x),x!==N.cache&&iw(c,[Ln],m,!0),ph(),x=I.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=QN(s,c,x,m);break e}else if(x!==T){T=v(Error(r(424)),c),Tc(T),c=QN(s,c,x,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(jt=oa(s.firstChild),Tt=c,bt=!0,bo=null,li=!0,m=WA(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ts(),x===T){c=as(s,c,m);break e}xr(s,c,x,m)}c=c.child}return c;case 26:return U0(s,c),s===null?(m=mC(c.type,null,c.pendingProps,null))?c.memoizedState=m:bt||(m=c.type,s=c.pendingProps,x=ig(ye.current).createElement(m),x[Pn]=c,x[ir]=s,wr(x,m,s),Rn(x),c.stateNode=x):c.memoizedState=mC(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ee(c),s===null&&bt&&(x=c.stateNode=dC(c.type,c.pendingProps,ye.current),Tt=c,li=!0,T=jt,Sl(c.type)?(S_=T,jt=oa(x.firstChild)):jt=T),xr(s,c,c.pendingProps.children,m),U0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&bt&&((T=x=jt)&&(x=cG(x,c.type,c.pendingProps,li),x!==null?(c.stateNode=x,Tt=c,jt=oa(x.firstChild),li=!1,T=!0):T=!1),T||yo(c)),Ee(c),T=c.type,N=c.pendingProps,I=s!==null?s.memoizedProps:null,x=N.children,y_(T,N)?x=null:I!==null&&y_(T,I)&&(c.flags|=32),c.memoizedState!==null&&(T=bw(s,c,kH,null,null,m),Lh._currentValue=T),U0(s,c),xr(s,c,x,m),c.child;case 6:return s===null&&bt&&((s=m=jt)&&(m=uG(m,c.pendingProps,li),m!==null?(c.stateNode=m,Tt=c,jt=null,s=!0):s=!1),s||yo(c)),null;case 13:return eO(s,c,m);case 4:return Ae(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Mc(c,null,x,m):xr(s,c,x,m),c.child;case 11:return qN(s,c,c.type,c.pendingProps,m);case 7:return xr(s,c,c.pendingProps,m),c.child;case 8:return xr(s,c,c.pendingProps.children,m),c.child;case 12:return xr(s,c,c.pendingProps.children,m),c.child;case 10:return x=c.pendingProps,ul(c,c.type,x.value),xr(s,c,x.children,m),c.child;case 9:return T=c.type._context,x=c.pendingProps.children,Ac(c),T=vr(T),x=x(T),c.flags|=1,xr(s,c,x,m),c.child;case 14:return YN(s,c,c.type,c.pendingProps,m);case 15:return KN(s,c,c.type,c.pendingProps,m);case 19:return nO(s,c,m);case 31:return MH(s,c,m);case 22:return WN(s,c,m,c.pendingProps);case 24:return Ac(c),x=vr(Ln),s===null?(T=sw(),T===null&&(T=Yt,N=aw(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=m),T=N),c.memoizedState={parent:x,cache:T},cw(c),ul(c,Ln,T)):((s.lanes&m)!==0&&(uw(s,c),gh(c,null,null,m),ph()),T=s.memoizedState,N=c.memoizedState,T.parent!==x?(T={parent:x,cache:x},c.memoizedState=T,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=T),ul(c,Ln,x)):(x=N.cache,ul(c,Ln,x),x!==T.cache&&iw(c,[Ln],m,!0))),xr(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function os(s){s.flags|=4}function qw(s,c,m,x,T){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(OO())s.flags|=8192;else throw Cc=T0,lw}else s.flags&=-16777217}function iO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!vC(c))if(OO())s.flags|=8192;else throw Cc=T0,lw}function H0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Kp():536870912,s.lanes|=c,sd|=c)}function _h(s,c){if(!bt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function en(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)m|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function PH(s,c,m){var x=c.pendingProps;switch(_n(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(c),null;case 1:return en(c),null;case 3:return m=c.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),ns(Ln),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ra(c)?os(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ch())),en(c),null;case 26:var T=c.type,N=c.memoizedState;return s===null?(os(c),N!==null?(en(c),iO(c,N)):(en(c),qw(c,T,null,x,m))):N?N!==s.memoizedState?(os(c),en(c),iO(c,N)):(en(c),c.flags&=-16777217):(s=s.memoizedProps,s!==x&&os(c),en(c),qw(c,T,s,x,m)),null;case 27:if(_e(c),m=ye.current,T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&os(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return en(c),null}s=oe.current,Ra(c)?lh(c):(s=dC(T,x,m),c.stateNode=s,os(c))}return en(c),null;case 5:if(_e(c),T=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==x&&os(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return en(c),null}if(N=oe.current,Ra(c))lh(c);else{var I=ig(ye.current);switch(N){case 1:N=I.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=I.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=I.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=I.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=I.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?I.createElement("select",{is:x.is}):I.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?I.createElement(T,{is:x.is}):I.createElement(T)}}N[Pn]=c,N[ir]=x;e:for(I=c.child;I!==null;){if(I.tag===5||I.tag===6)N.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===c)break e;for(;I.sibling===null;){if(I.return===null||I.return===c)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}c.stateNode=N;e:switch(wr(N,T,x),T){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&os(c)}}return en(c),qw(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==x&&os(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(s=ye.current,Ra(c)){if(s=c.stateNode,m=c.memoizedProps,x=null,T=Tt,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}s[Pn]=c,s=!!(s.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||eC(s.nodeValue,m)),s||yo(c,!0)}else s=ig(s).createTextNode(x),s[Pn]=c,c.stateNode=s}return en(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(x=Ra(c),m!==null){if(s===null){if(!x)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Pn]=c}else ts(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;en(c),s=!1}else m=ch(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(Oi(c),c):(Oi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return en(c),null;case 13:if(x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Ra(c),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Pn]=c}else ts(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;en(c),T=!1}else T=ch(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return c.flags&256?(Oi(c),c):(Oi(c),null)}return Oi(c),(c.flags&128)!==0?(c.lanes=m,c):(m=x!==null,s=s!==null&&s.memoizedState!==null,m&&(x=c.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==T&&(x.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),H0(c,c.updateQueue),en(c),null);case 4:return re(),s===null&&h_(c.stateNode.containerInfo),en(c),null;case 10:return ns(c.type),en(c),null;case 19:if(V(Nn),x=c.memoizedState,x===null)return en(c),null;if(T=(c.flags&128)!==0,N=x.rendering,N===null)if(T)_h(x,!1);else{if(kn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(N=O0(s),N!==null){for(c.flags|=128,_h(x,!1),s=N.updateQueue,c.updateQueue=s,H0(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)ah(m,s),m=m.sibling;return ne(Nn,Nn.current&1|2),bt&&Ze(c,x.treeForkCount),c.child}s=s.sibling}x.tail!==null&&ze()>W0&&(c.flags|=128,T=!0,_h(x,!1),c.lanes=4194304)}else{if(!T)if(s=O0(N),s!==null){if(c.flags|=128,T=!0,s=s.updateQueue,c.updateQueue=s,H0(c,s),_h(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!bt)return en(c),null}else 2*ze()-x.renderingStartTime>W0&&m!==536870912&&(c.flags|=128,T=!0,_h(x,!1),c.lanes=4194304);x.isBackwards?(N.sibling=c.child,c.child=N):(s=x.last,s!==null?s.sibling=N:c.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=ze(),s.sibling=null,m=Nn.current,ne(Nn,T?m&1|2:m&1),bt&&Ze(c,x.treeForkCount),s):(en(c),null);case 22:case 23:return Oi(c),mw(),x=c.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(m&536870912)!==0&&(c.flags&128)===0&&(en(c),c.subtreeFlags&6&&(c.flags|=8192)):en(c),m=c.updateQueue,m!==null&&H0(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==m&&(c.flags|=2048),s!==null&&V(Nc),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ns(Ln),en(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function RH(s,c){switch(_n(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ns(Ln),re(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(Oi(c),c.alternate===null)throw Error(r(340));ts()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Oi(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ts()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(Nn),null;case 4:return re(),null;case 10:return ns(c.type),null;case 22:case 23:return Oi(c),mw(),s!==null&&V(Nc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return ns(Ln),null;case 25:return null;default:return null}}function aO(s,c){switch(_n(c),c.tag){case 3:ns(Ln),re();break;case 26:case 27:case 5:_e(c);break;case 4:re();break;case 31:c.memoizedState!==null&&Oi(c);break;case 13:Oi(c);break;case 19:V(Nn);break;case 10:ns(c.type);break;case 22:case 23:Oi(c),mw(),s!==null&&V(Nc);break;case 24:ns(Ln)}}function Sh(s,c){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var T=x.next;m=T;do{if((m.tag&s)===s){x=void 0;var N=m.create,I=m.inst;x=N(),I.destroy=x}m=m.next}while(m!==T)}}catch(G){Bt(c,c.return,G)}}function gl(s,c,m){try{var x=c.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var N=T.next;x=N;do{if((x.tag&s)===s){var I=x.inst,G=I.destroy;if(G!==void 0){I.destroy=void 0,T=c;var te=m,me=G;try{me()}catch(Se){Bt(T,te,Se)}}}x=x.next}while(x!==N)}}catch(Se){Bt(c,c.return,Se)}}function oO(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{ZA(c,m)}catch(x){Bt(s,s.return,x)}}}function sO(s,c,m){m.props=Pc(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(x){Bt(s,c,x)}}function kh(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof m=="function"?s.refCleanup=m(x):m.current=x}}catch(T){Bt(s,c,T)}}function xo(s,c){var m=s.ref,x=s.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(T){Bt(s,c,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){Bt(s,c,T)}else m.current=null}function lO(s){var c=s.type,m=s.memoizedProps,x=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(T){Bt(s,s.return,T)}}function Yw(s,c,m){try{var x=s.stateNode;rG(x,s.type,m,c),x[ir]=c}catch(T){Bt(s,s.return,T)}}function cO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Sl(s.type)||s.tag===4}function Kw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Sl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ww(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=ii));else if(x!==4&&(x===27&&Sl(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(Ww(s,c,m),s=s.sibling;s!==null;)Ww(s,c,m),s=s.sibling}function G0(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(x===27&&Sl(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(G0(s,c,m),s=s.sibling;s!==null;)G0(s,c,m),s=s.sibling}function uO(s){var c=s.stateNode,m=s.memoizedProps;try{for(var x=s.type,T=c.attributes;T.length;)c.removeAttributeNode(T[0]);wr(c,x,m),c[Pn]=s,c[ir]=m}catch(N){Bt(s,s.return,N)}}var ss=!1,Bn=!1,Vw=!1,dO=typeof WeakSet=="function"?WeakSet:Set,sr=null;function LH(s,c){if(s=s.containerInfo,g_=dg,s=yc(s),fo(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var T=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var I=0,G=-1,te=-1,me=0,Se=0,je=s,be=null;t:for(;;){for(var ve;je!==m||T!==0&&je.nodeType!==3||(G=I+T),je!==N||x!==0&&je.nodeType!==3||(te=I+x),je.nodeType===3&&(I+=je.nodeValue.length),(ve=je.firstChild)!==null;)be=je,je=ve;for(;;){if(je===s)break t;if(be===m&&++me===T&&(G=I),be===N&&++Se===x&&(te=I),(ve=je.nextSibling)!==null)break;je=be,be=je.parentNode}je=ve}m=G===-1||te===-1?null:{start:G,end:te}}else m=null}m=m||{start:0,end:0}}else m=null;for(b_={focusedElem:s,selectionRange:m},dg=!1,sr=c;sr!==null;)if(c=sr,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,sr=s;else for(;sr!==null;){switch(c=sr,N=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)T=s[m],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,m=c,T=N.memoizedProps,N=N.memoizedState,x=m.stateNode;try{var qe=Pc(m.type,T);s=x.getSnapshotBeforeUpdate(qe,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(rt){Bt(m,m.return,rt)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)x_(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":x_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,sr=s;break}sr=c.return}}function fO(s,c,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:cs(s,m),x&4&&Sh(5,m);break;case 1:if(cs(s,m),x&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(I){Bt(m,m.return,I)}else{var T=Pc(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(T,c,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Bt(m,m.return,I)}}x&64&&oO(m),x&512&&kh(m,m.return);break;case 3:if(cs(s,m),x&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{ZA(s,c)}catch(I){Bt(m,m.return,I)}}break;case 27:c===null&&x&4&&uO(m);case 26:case 5:cs(s,m),c===null&&x&4&&lO(m),x&512&&kh(m,m.return);break;case 12:cs(s,m);break;case 31:cs(s,m),x&4&&pO(s,m);break;case 13:cs(s,m),x&4&&gO(s,m),x&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=qH.bind(null,m),dG(s,m))));break;case 22:if(x=m.memoizedState!==null||ss,!x){c=c!==null&&c.memoizedState!==null||Bn,T=ss;var N=Bn;ss=x,(Bn=c)&&!N?us(s,m,(m.subtreeFlags&8772)!==0):cs(s,m),ss=T,Bn=N}break;case 30:break;default:cs(s,m)}}function hO(s){var c=s.alternate;c!==null&&(s.alternate=null,hO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Uf(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var sn=null,ci=!1;function ls(s,c,m){for(m=m.child;m!==null;)mO(s,c,m),m=m.sibling}function mO(s,c,m){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(It,m)}catch{}switch(m.tag){case 26:Bn||xo(m,c),ls(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Bn||xo(m,c);var x=sn,T=ci;Sl(m.type)&&(sn=m.stateNode,ci=!1),ls(s,c,m),Dh(m.stateNode),sn=x,ci=T;break;case 5:Bn||xo(m,c);case 6:if(x=sn,T=ci,sn=null,ls(s,c,m),sn=x,ci=T,sn!==null)if(ci)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(m.stateNode)}catch(N){Bt(m,c,N)}else try{sn.removeChild(m.stateNode)}catch(N){Bt(m,c,N)}break;case 18:sn!==null&&(ci?(s=sn,oC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),pd(s)):oC(sn,m.stateNode));break;case 4:x=sn,T=ci,sn=m.stateNode.containerInfo,ci=!0,ls(s,c,m),sn=x,ci=T;break;case 0:case 11:case 14:case 15:gl(2,m,c),Bn||gl(4,m,c),ls(s,c,m);break;case 1:Bn||(xo(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"&&sO(m,c,x)),ls(s,c,m);break;case 21:ls(s,c,m);break;case 22:Bn=(x=Bn)||m.memoizedState!==null,ls(s,c,m),Bn=x;break;default:ls(s,c,m)}}function pO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{pd(s)}catch(m){Bt(c,c.return,m)}}}function gO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{pd(s)}catch(m){Bt(c,c.return,m)}}function IH(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new dO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new dO),c;default:throw Error(r(435,s.tag))}}function q0(s,c){var m=IH(s);c.forEach(function(x){if(!m.has(x)){m.add(x);var T=YH.bind(null,s,x);x.then(T,T)}})}function ui(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var T=m[x],N=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 27:if(Sl(G.type)){sn=G.stateNode,ci=!1;break e}break;case 5:sn=G.stateNode,ci=!1;break e;case 3:case 4:sn=G.stateNode.containerInfo,ci=!0;break e}G=G.return}if(sn===null)throw Error(r(160));mO(N,I,T),sn=null,ci=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)bO(c,s),c=c.sibling}var Ia=null;function bO(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ui(c,s),di(s),x&4&&(gl(3,s,s.return),Sh(3,s),gl(5,s,s.return));break;case 1:ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),x&64&&ss&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var T=Ia;if(ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),x&4){var N=m!==null?m.memoizedState:null;if(x=s.memoizedState,m===null)if(x===null)if(s.stateNode===null){e:{x=s.type,m=s.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":N=T.getElementsByTagName("title")[0],(!N||N[nc]||N[Pn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(x),T.head.insertBefore(N,T.querySelector("head > title"))),wr(N,x,m),N[Pn]=s,Rn(N),x=N;break e;case"link":var I=bC("link","href",T).get(x+(m.href||""));if(I){for(var G=0;G<I.length;G++)if(N=I[G],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(G,1);break t}}N=T.createElement(x),wr(N,x,m),T.head.appendChild(N);break;case"meta":if(I=bC("meta","content",T).get(x+(m.content||""))){for(G=0;G<I.length;G++)if(N=I[G],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(G,1);break t}}N=T.createElement(x),wr(N,x,m),T.head.appendChild(N);break;default:throw Error(r(468,x))}N[Pn]=s,Rn(N),x=N}s.stateNode=x}else yC(T,s.type,s.stateNode);else s.stateNode=gC(T,x,s.memoizedProps);else N!==x?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,x===null?yC(T,s.type,s.stateNode):gC(T,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Yw(s,s.memoizedProps,m.memoizedProps)}break;case 27:ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),m!==null&&x&4&&Yw(s,s.memoizedProps,m.memoizedProps);break;case 5:if(ui(c,s),di(s),x&512&&(Bn||m===null||xo(m,m.return)),s.flags&32){T=s.stateNode;try{Xi(T,"")}catch(qe){Bt(s,s.return,qe)}}x&4&&s.stateNode!=null&&(T=s.memoizedProps,Yw(s,T,m!==null?m.memoizedProps:T)),x&1024&&(Vw=!0);break;case 6:if(ui(c,s),di(s),x&4){if(s.stateNode===null)throw Error(r(162));x=s.memoizedProps,m=s.stateNode;try{m.nodeValue=x}catch(qe){Bt(s,s.return,qe)}}break;case 3:if(sg=null,T=Ia,Ia=ag(c.containerInfo),ui(c,s),Ia=T,di(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{pd(c.containerInfo)}catch(qe){Bt(s,s.return,qe)}Vw&&(Vw=!1,yO(s));break;case 4:x=Ia,Ia=ag(s.stateNode.containerInfo),ui(c,s),di(s),Ia=x;break;case 12:ui(c,s),di(s);break;case 31:ui(c,s),di(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,q0(s,x)));break;case 13:ui(c,s),di(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(K0=ze()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,q0(s,x)));break;case 22:T=s.memoizedState!==null;var te=m!==null&&m.memoizedState!==null,me=ss,Se=Bn;if(ss=me||T,Bn=Se||te,ui(c,s),Bn=Se,ss=me,di(s),x&8192)e:for(c=s.stateNode,c._visibility=T?c._visibility&-2:c._visibility|1,T&&(m===null||te||ss||Bn||Rc(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){te=m=c;try{if(N=te.stateNode,T)I=N.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{G=te.stateNode;var je=te.memoizedProps.style,be=je!=null&&je.hasOwnProperty("display")?je.display:null;G.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(qe){Bt(te,te.return,qe)}}}else if(c.tag===6){if(m===null){te=c;try{te.stateNode.nodeValue=T?"":te.memoizedProps}catch(qe){Bt(te,te.return,qe)}}}else if(c.tag===18){if(m===null){te=c;try{var ve=te.stateNode;T?sC(ve,!0):sC(te.stateNode,!1)}catch(qe){Bt(te,te.return,qe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=s.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,q0(s,m))));break;case 19:ui(c,s),di(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,q0(s,x)));break;case 30:break;case 21:break;default:ui(c,s),di(s)}}function di(s){var c=s.flags;if(c&2){try{for(var m,x=s.return;x!==null;){if(cO(x)){m=x;break}x=x.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var T=m.stateNode,N=Kw(s);G0(s,N,T);break;case 5:var I=m.stateNode;m.flags&32&&(Xi(I,""),m.flags&=-33);var G=Kw(s);G0(s,G,I);break;case 3:case 4:var te=m.stateNode.containerInfo,me=Kw(s);Ww(s,me,te);break;default:throw Error(r(161))}}catch(Se){Bt(s,s.return,Se)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function yO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;yO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function cs(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)fO(s,c.alternate,c),c=c.sibling}function Rc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:gl(4,c,c.return),Rc(c);break;case 1:xo(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&sO(c,c.return,m),Rc(c);break;case 27:Dh(c.stateNode);case 26:case 5:xo(c,c.return),Rc(c);break;case 22:c.memoizedState===null&&Rc(c);break;case 30:Rc(c);break;default:Rc(c)}s=s.sibling}}function us(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,T=s,N=c,I=N.flags;switch(N.tag){case 0:case 11:case 15:us(T,N,m),Sh(4,N);break;case 1:if(us(T,N,m),x=N,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){Bt(x,x.return,me)}if(x=N,T=x.updateQueue,T!==null){var G=x.stateNode;try{var te=T.shared.hiddenCallbacks;if(te!==null)for(T.shared.hiddenCallbacks=null,T=0;T<te.length;T++)VA(te[T],G)}catch(me){Bt(x,x.return,me)}}m&&I&64&&oO(N),kh(N,N.return);break;case 27:uO(N);case 26:case 5:us(T,N,m),m&&x===null&&I&4&&lO(N),kh(N,N.return);break;case 12:us(T,N,m);break;case 31:us(T,N,m),m&&I&4&&pO(T,N);break;case 13:us(T,N,m),m&&I&4&&gO(T,N);break;case 22:N.memoizedState===null&&us(T,N,m),kh(N,N.return);break;case 30:break;default:us(T,N,m)}c=c.sibling}}function Zw(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&uh(m))}function Xw(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&uh(s))}function $a(s,c,m,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)vO(s,c,m,x),c=c.sibling}function vO(s,c,m,x){var T=c.flags;switch(c.tag){case 0:case 11:case 15:$a(s,c,m,x),T&2048&&Sh(9,c);break;case 1:$a(s,c,m,x);break;case 3:$a(s,c,m,x),T&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&uh(s)));break;case 12:if(T&2048){$a(s,c,m,x),s=c.stateNode;try{var N=c.memoizedProps,I=N.id,G=N.onPostCommit;typeof G=="function"&&G(I,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){Bt(c,c.return,te)}}else $a(s,c,m,x);break;case 31:$a(s,c,m,x);break;case 13:$a(s,c,m,x);break;case 23:break;case 22:N=c.stateNode,I=c.alternate,c.memoizedState!==null?N._visibility&2?$a(s,c,m,x):Eh(s,c):N._visibility&2?$a(s,c,m,x):(N._visibility|=2,id(s,c,m,x,(c.subtreeFlags&10256)!==0||!1)),T&2048&&Zw(I,c);break;case 24:$a(s,c,m,x),T&2048&&Xw(c.alternate,c);break;default:$a(s,c,m,x)}}function id(s,c,m,x,T){for(T=T&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=s,I=c,G=m,te=x,me=I.flags;switch(I.tag){case 0:case 11:case 15:id(N,I,G,te,T),Sh(8,I);break;case 23:break;case 22:var Se=I.stateNode;I.memoizedState!==null?Se._visibility&2?id(N,I,G,te,T):Eh(N,I):(Se._visibility|=2,id(N,I,G,te,T)),T&&me&2048&&Zw(I.alternate,I);break;case 24:id(N,I,G,te,T),T&&me&2048&&Xw(I.alternate,I);break;default:id(N,I,G,te,T)}c=c.sibling}}function Eh(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,x=c,T=x.flags;switch(x.tag){case 22:Eh(m,x),T&2048&&Zw(x.alternate,x);break;case 24:Eh(m,x),T&2048&&Xw(x.alternate,x);break;default:Eh(m,x)}c=c.sibling}}var Th=8192;function ad(s,c,m){if(s.subtreeFlags&Th)for(s=s.child;s!==null;)xO(s,c,m),s=s.sibling}function xO(s,c,m){switch(s.tag){case 26:ad(s,c,m),s.flags&Th&&s.memoizedState!==null&&SG(m,Ia,s.memoizedState,s.memoizedProps);break;case 5:ad(s,c,m);break;case 3:case 4:var x=Ia;Ia=ag(s.stateNode.containerInfo),ad(s,c,m),Ia=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=Th,Th=16777216,ad(s,c,m),Th=x):ad(s,c,m));break;default:ad(s,c,m)}}function wO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function jh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];sr=x,SO(x,s)}wO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_O(s),s=s.sibling}function _O(s){switch(s.tag){case 0:case 11:case 15:jh(s),s.flags&2048&&gl(9,s,s.return);break;case 3:jh(s);break;case 12:jh(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Y0(s)):jh(s);break;default:jh(s)}}function Y0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var x=c[m];sr=x,SO(x,s)}wO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:gl(8,c,c.return),Y0(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Y0(c));break;default:Y0(c)}s=s.sibling}}function SO(s,c){for(;sr!==null;){var m=sr;switch(m.tag){case 0:case 11:case 15:gl(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:uh(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,sr=x;else e:for(m=s;sr!==null;){x=sr;var T=x.sibling,N=x.return;if(hO(x),x===m){sr=null;break e}if(T!==null){T.return=N,sr=T;break e}sr=N}}}var $H={getCacheForType:function(s){var c=vr(Ln),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return vr(Ln).controller.signal}},BH=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Yt=null,yt=null,wt=0,$t=0,Ci=null,bl=!1,od=!1,Jw=!1,ds=0,kn=0,yl=0,Lc=0,Qw=0,Mi=0,sd=0,Ah=null,fi=null,e_=!1,K0=0,kO=0,W0=1/0,V0=null,vl=null,Vn=0,xl=null,ld=null,fs=0,t_=0,n_=null,EO=null,Nh=0,r_=null;function Di(){return(Ct&2)!==0&&wt!==0?wt&-wt:q.T!==null?c_():Bf()}function TO(){if(Mi===0)if((wt&536870912)===0||bt){var s=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),Mi=s}else Mi=536870912;return s=Ni.current,s!==null&&(s.flags|=32),Mi}function hi(s,c,m){(s===Yt&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(cd(s,0),wl(s,wt,Mi,!1)),qo(s,m),((Ct&2)===0||s!==Yt)&&(s===Yt&&((Ct&2)===0&&(Lc|=m),kn===4&&wl(s,wt,Mi,!1)),wo(s))}function jO(s,c,m){if((Ct&6)!==0)throw Error(r(327));var x=!m&&(c&127)===0&&(c&s.expiredLanes)===0||tc(s,c),T=x?FH(s,c):a_(s,c,!0),N=x;do{if(T===0){od&&!x&&wl(s,c,0,!1);break}else{if(m=s.current.alternate,N&&!zH(m)){T=a_(s,c,!1),N=!1;continue}if(T===2){if(N=c,s.errorRecoveryDisabledLanes&N)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var G=s;T=Ah;var te=G.current.memoizedState.isDehydrated;if(te&&(cd(G,I).flags|=256),I=a_(G,I,!1),I!==2){if(Jw&&!te){G.errorRecoveryDisabledLanes|=N,Lc|=N,T=4;break e}N=fi,fi=T,N!==null&&(fi===null?fi=N:fi.push.apply(fi,N))}T=I}if(N=!1,T!==2)continue}}if(T===1){cd(s,0),wl(s,c,0,!0);break}e:{switch(x=s,N=T,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:wl(x,c,Mi,!bl);break e;case 2:fi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(T=K0+300-ze(),10<T)){if(wl(x,c,Mi,!bl),Nu(x,0,!0)!==0)break e;fs=c,x.timeoutHandle=iC(AO.bind(null,x,m,fi,V0,e_,c,Mi,Lc,sd,bl,N,"Throttled",-0,0),T);break e}AO(x,m,fi,V0,e_,c,Mi,Lc,sd,bl,N,null,-0,0)}}break}while(!0);wo(s)}function AO(s,c,m,x,T,N,I,G,te,me,Se,je,be,ve){if(s.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},xO(c,N,je);var qe=(N&62914560)===N?K0-ze():(N&4194048)===N?kO-ze():0;if(qe=kG(je,qe),qe!==null){fs=N,s.cancelPendingCommit=qe(LO.bind(null,s,c,N,m,x,T,I,G,te,Se,je,null,be,ve)),wl(s,N,I,!me);return}}LO(s,c,N,m,x,T,I,G,te)}function zH(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var T=m[x],N=T.getSnapshot;T=T.value;try{if(!ar(N(),T))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function wl(s,c,m,x){c&=~Qw,c&=~Lc,s.suspendedLanes|=c,s.pingedLanes&=~c,x&&(s.warmLanes|=c),x=s.expirationTimes;for(var T=c;0<T;){var N=31-Yn(T),I=1<<N;x[N]=-1,T&=~I}m!==0&&Wp(s,m,c)}function Z0(){return(Ct&6)===0?(Oh(0),!1):!0}function i_(){if(yt!==null){if($t===0)var s=yt.return;else s=yt,La=vo=null,xw(s),Qu=null,fh=0,s=yt;for(;s!==null;)aO(s.alternate,s),s=s.return;yt=null}}function cd(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,oG(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),fs=0,i_(),Yt=s,yt=m=ia(s.current,null),wt=c,$t=0,Ci=null,bl=!1,od=tc(s,c),Jw=!1,sd=Mi=Qw=Lc=yl=kn=0,fi=Ah=null,e_=!1,(c&8)!==0&&(c|=c&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=c;0<x;){var T=31-Yn(x),N=1<<T;c|=s[T],x&=~N}return ds=c,Sc(),m}function NO(s,c){dt=null,q.H=xh,c===Ju||c===E0?(c=qA(),$t=3):c===lw?(c=qA(),$t=4):$t=c===Lw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ci=c,yt===null&&(kn=1,B0(s,v(c,s.current)))}function OO(){var s=Ni.current;return s===null?!0:(wt&4194048)===wt?aa===null:(wt&62914560)===wt||(wt&536870912)!==0?s===aa:!1}function CO(){var s=q.H;return q.H=xh,s===null?xh:s}function MO(){var s=q.A;return q.A=$H,s}function X0(){kn=4,bl||(wt&4194048)!==wt&&Ni.current!==null||(od=!0),(yl&134217727)===0&&(Lc&134217727)===0||Yt===null||wl(Yt,wt,Mi,!1)}function a_(s,c,m){var x=Ct;Ct|=2;var T=CO(),N=MO();(Yt!==s||wt!==c)&&(V0=null,cd(s,c)),c=!1;var I=kn;e:do try{if($t!==0&&yt!==null){var G=yt,te=Ci;switch($t){case 8:i_(),I=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(c=!0);var me=$t;if($t=0,Ci=null,ud(s,G,te,me),m&&od){I=0;break e}break;default:me=$t,$t=0,Ci=null,ud(s,G,te,me)}}UH(),I=kn;break}catch(Se){NO(s,Se)}while(!0);return c&&s.shellSuspendCounter++,La=vo=null,Ct=x,q.H=T,q.A=N,yt===null&&(Yt=null,wt=0,Sc()),I}function UH(){for(;yt!==null;)DO(yt)}function FH(s,c){var m=Ct;Ct|=2;var x=CO(),T=MO();Yt!==s||wt!==c?(V0=null,W0=ze()+500,cd(s,c)):od=tc(s,c);e:do try{if($t!==0&&yt!==null){c=yt;var N=Ci;t:switch($t){case 1:$t=0,Ci=null,ud(s,c,N,1);break;case 2:case 9:if(HA(N)){$t=0,Ci=null,PO(c);break}c=function(){$t!==2&&$t!==9||Yt!==s||($t=7),wo(s)},N.then(c,c);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:HA(N)?($t=0,Ci=null,PO(c)):($t=0,Ci=null,ud(s,c,N,7));break;case 5:var I=null;switch(yt.tag){case 26:I=yt.memoizedState;case 5:case 27:var G=yt;if(I?vC(I):G.stateNode.complete){$t=0,Ci=null;var te=G.sibling;if(te!==null)yt=te;else{var me=G.return;me!==null?(yt=me,J0(me)):yt=null}break t}}$t=0,Ci=null,ud(s,c,N,5);break;case 6:$t=0,Ci=null,ud(s,c,N,6);break;case 8:i_(),kn=6;break e;default:throw Error(r(462))}}HH();break}catch(Se){NO(s,Se)}while(!0);return La=vo=null,q.H=x,q.A=T,Ct=m,yt!==null?0:(Yt=null,wt=0,Sc(),kn)}function HH(){for(;yt!==null&&!ce();)DO(yt)}function DO(s){var c=rO(s.alternate,s,ds);s.memoizedProps=s.pendingProps,c===null?J0(s):yt=c}function PO(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=XN(m,c,c.pendingProps,c.type,void 0,wt);break;case 11:c=XN(m,c,c.pendingProps,c.type.render,c.ref,wt);break;case 5:xw(c);default:aO(m,c),c=yt=ah(c,ds),c=rO(m,c,ds)}s.memoizedProps=s.pendingProps,c===null?J0(s):yt=c}function ud(s,c,m,x){La=vo=null,xw(c),Qu=null,fh=0;var T=c.return;try{if(CH(s,T,c,m,wt)){kn=1,B0(s,v(m,s.current)),yt=null;return}}catch(N){if(T!==null)throw yt=T,N;kn=1,B0(s,v(m,s.current)),yt=null;return}c.flags&32768?(bt||x===1?s=!0:od||(wt&536870912)!==0?s=!1:(bl=s=!0,(x===2||x===9||x===3||x===6)&&(x=Ni.current,x!==null&&x.tag===13&&(x.flags|=16384))),RO(c,s)):J0(c)}function J0(s){var c=s;do{if((c.flags&32768)!==0){RO(c,bl);return}s=c.return;var m=PH(c.alternate,c,ds);if(m!==null){yt=m;return}if(c=c.sibling,c!==null){yt=c;return}yt=c=s}while(c!==null);kn===0&&(kn=5)}function RO(s,c){do{var m=RH(s.alternate,s);if(m!==null){m.flags&=32767,yt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){yt=s;return}yt=s=m}while(s!==null);kn=6,yt=null}function LO(s,c,m,x,T,N,I,G,te){s.cancelPendingCommit=null;do Q0();while(Vn!==0);if((Ct&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=qu,Ux(s,m,N,I,G,te),s===Yt&&(yt=Yt=null,wt=0),ld=c,xl=s,fs=m,t_=N,n_=T,EO=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,KH(Jt,function(){return UO(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=q.T,q.T=null,T=J.p,J.p=2,I=Ct,Ct|=4;try{LH(s,c,m)}finally{Ct=I,J.p=T,q.T=x}}Vn=1,IO(),$O(),BO()}}function IO(){if(Vn===1){Vn=0;var s=xl,c=ld,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=q.T,q.T=null;var x=J.p;J.p=2;var T=Ct;Ct|=4;try{bO(c,s);var N=b_,I=yc(s.containerInfo),G=N.focusedElem,te=N.selectionRange;if(I!==G&&G&&G.ownerDocument&&Uu(G.ownerDocument.documentElement,G)){if(te!==null&&fo(G)){var me=te.start,Se=te.end;if(Se===void 0&&(Se=me),"selectionStart"in G)G.selectionStart=me,G.selectionEnd=Math.min(Se,G.value.length);else{var je=G.ownerDocument||document,be=je&&je.defaultView||window;if(be.getSelection){var ve=be.getSelection(),qe=G.textContent.length,rt=Math.min(te.start,qe),Gt=te.end===void 0?rt:Math.min(te.end,qe);!ve.extend&&rt>Gt&&(I=Gt,Gt=rt,rt=I);var ue=bc(G,rt),ie=bc(G,Gt);if(ue&&ie&&(ve.rangeCount!==1||ve.anchorNode!==ue.node||ve.anchorOffset!==ue.offset||ve.focusNode!==ie.node||ve.focusOffset!==ie.offset)){var he=je.createRange();he.setStart(ue.node,ue.offset),ve.removeAllRanges(),rt>Gt?(ve.addRange(he),ve.extend(ie.node,ie.offset)):(he.setEnd(ie.node,ie.offset),ve.addRange(he))}}}}for(je=[],ve=G;ve=ve.parentNode;)ve.nodeType===1&&je.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<je.length;G++){var ke=je[G];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}dg=!!g_,b_=g_=null}finally{Ct=T,J.p=x,q.T=m}}s.current=c,Vn=2}}function $O(){if(Vn===2){Vn=0;var s=xl,c=ld,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=q.T,q.T=null;var x=J.p;J.p=2;var T=Ct;Ct|=4;try{fO(s,c.alternate,c)}finally{Ct=T,J.p=x,q.T=m}}Vn=3}}function BO(){if(Vn===4||Vn===3){Vn=0,Oe();var s=xl,c=ld,m=fs,x=EO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Vn=5:(Vn=0,ld=xl=null,zO(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(vl=null),We(m),c=c.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(It,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=q.T,T=J.p,J.p=2,q.T=null;try{for(var N=s.onRecoverableError,I=0;I<x.length;I++){var G=x[I];N(G.value,{componentStack:G.stack})}}finally{q.T=c,J.p=T}}(fs&3)!==0&&Q0(),wo(s),T=s.pendingLanes,(m&261930)!==0&&(T&42)!==0?s===r_?Nh++:(Nh=0,r_=s):Nh=0,Oh(0)}}function zO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,uh(c)))}function Q0(){return IO(),$O(),BO(),UO()}function UO(){if(Vn!==5)return!1;var s=xl,c=t_;t_=0;var m=We(fs),x=q.T,T=J.p;try{J.p=32>m?32:m,q.T=null,m=n_,n_=null;var N=xl,I=fs;if(Vn=0,ld=xl=null,fs=0,(Ct&6)!==0)throw Error(r(331));var G=Ct;if(Ct|=4,_O(N.current),vO(N,N.current,I,m),Ct=G,Oh(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(It,N)}catch{}return!0}finally{J.p=T,q.T=x,zO(s,c)}}function FO(s,c,m){c=v(m,c),c=Rw(s.stateNode,c,2),s=hl(s,c,2),s!==null&&(qo(s,2),wo(s))}function Bt(s,c,m){if(s.tag===3)FO(s,s,m);else for(;c!==null;){if(c.tag===3){FO(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(vl===null||!vl.has(x))){s=v(m,s),m=HN(2),x=hl(c,m,2),x!==null&&(GN(m,x,c,s),qo(x,2),wo(x));break}}c=c.return}}function o_(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new BH;var T=new Set;x.set(c,T)}else T=x.get(c),T===void 0&&(T=new Set,x.set(c,T));T.has(m)||(Jw=!0,T.add(m),s=GH.bind(null,s,c,m),c.then(s,s))}function GH(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Yt===s&&(wt&m)===m&&(kn===4||kn===3&&(wt&62914560)===wt&&300>ze()-K0?(Ct&2)===0&&cd(s,0):Qw|=m,sd===wt&&(sd=0)),wo(s)}function HO(s,c){c===0&&(c=Kp()),s=ra(s,c),s!==null&&(qo(s,c),wo(s))}function qH(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),HO(s,m)}function YH(s,c){var m=0;switch(s.tag){case 31:case 13:var x=s.stateNode,T=s.memoizedState;T!==null&&(m=T.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),HO(s,m)}function KH(s,c){return Be(s,c)}var eg=null,dd=null,s_=!1,tg=!1,l_=!1,_l=0;function wo(s){s!==dd&&s.next===null&&(dd===null?eg=dd=s:dd=dd.next=s),tg=!0,s_||(s_=!0,VH())}function Oh(s,c){if(!l_&&tg){l_=!0;do for(var m=!1,x=eg;x!==null;){if(s!==0){var T=x.pendingLanes;if(T===0)var N=0;else{var I=x.suspendedLanes,G=x.pingedLanes;N=(1<<31-Yn(42|s)+1)-1,N&=T&~(I&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,KO(x,N))}else N=wt,N=Nu(x,x===Yt?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||tc(x,N)||(m=!0,KO(x,N));x=x.next}while(m);l_=!1}}function WH(){GO()}function GO(){tg=s_=!1;var s=0;_l!==0&&aG()&&(s=_l);for(var c=ze(),m=null,x=eg;x!==null;){var T=x.next,N=qO(x,c);N===0?(x.next=null,m===null?eg=T:m.next=T,T===null&&(dd=m)):(m=x,(s!==0||(N&3)!==0)&&(tg=!0)),x=T}Vn!==0&&Vn!==5||Oh(s),_l!==0&&(_l=0)}function qO(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,T=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var I=31-Yn(N),G=1<<I,te=T[I];te===-1?((G&m)===0||(G&x)!==0)&&(T[I]=zx(G,c)):te<=c&&(s.expiredLanes|=G),N&=~G}if(c=Yt,m=wt,m=Nu(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,m===0||s===c&&($t===2||$t===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&st(x),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||tc(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(x!==null&&st(x),We(m)){case 2:case 8:m=pt;break;case 32:m=Jt;break;case 268435456:m=zr;break;default:m=Jt}return x=YO.bind(null,s),m=Be(m,x),s.callbackPriority=c,s.callbackNode=m,c}return x!==null&&x!==null&&st(x),s.callbackPriority=2,s.callbackNode=null,2}function YO(s,c){if(Vn!==0&&Vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Q0()&&s.callbackNode!==m)return null;var x=wt;return x=Nu(s,s===Yt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(jO(s,x,c),qO(s,ze()),s.callbackNode!=null&&s.callbackNode===m?YO.bind(null,s):null)}function KO(s,c){if(Q0())return null;jO(s,c,!0)}function VH(){sG(function(){(Ct&6)!==0?Be(Et,WH):GO()})}function c_(){if(_l===0){var s=Zu;s===0&&(s=nt,nt<<=1,(nt&261888)===0&&(nt=256)),_l=s}return _l}function WO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xs(""+s)}function VO(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function ZH(s,c,m,x,T){if(c==="submit"&&m&&m.stateNode===T){var N=WO((T[ir]||null).action),I=x.submitter;I&&(c=(c=I[ir]||null)?WO(c.formAction):I.getAttribute("formAction"),c!==null&&(N=c,I=null));var G=new Pu("action","action",null,x,T);s.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(_l!==0){var te=I?VO(T,I):new FormData(T);Nw(m,{pending:!0,data:te,method:T.method,action:N},null,te)}}else typeof N=="function"&&(G.preventDefault(),te=I?VO(T,I):new FormData(T),Nw(m,{pending:!0,data:te,method:T.method,action:N},N,te))},currentTarget:T}]})}}for(var u_=0;u_<po.length;u_++){var d_=po[u_],XH=d_.toLowerCase(),JH=d_[0].toUpperCase()+d_.slice(1);oi(XH,"on"+JH)}oi(xc,"onAnimationEnd"),oi(v0,"onAnimationIteration"),oi(wc,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(ew,"onTransitionRun"),oi(x0,"onTransitionStart"),oi(tw,"onTransitionCancel"),oi(ll,"onTransitionEnd"),so("onMouseEnter",["mouseout","mouseover"]),so("onMouseLeave",["mouseout","mouseover"]),so("onPointerEnter",["pointerout","pointerover"]),so("onPointerLeave",["pointerout","pointerover"]),Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ch));function ZO(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],T=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var I=x.length-1;0<=I;I--){var G=x[I],te=G.instance,me=G.currentTarget;if(G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=me;try{N(T)}catch(Se){_c(Se)}T.currentTarget=null,N=te}else for(I=0;I<x.length;I++){if(G=x[I],te=G.instance,me=G.currentTarget,G=G.listener,te!==N&&T.isPropagationStopped())break e;N=G,T.currentTarget=me;try{N(T)}catch(Se){_c(Se)}T.currentTarget=null,N=te}}}}function vt(s,c){var m=c[ao];m===void 0&&(m=c[ao]=new Set);var x=s+"__bubble";m.has(x)||(XO(c,s,2,!1),m.add(x))}function f_(s,c,m){var x=0;c&&(x|=4),XO(m,s,x,c)}var ng="_reactListening"+Math.random().toString(36).slice(2);function h_(s){if(!s[ng]){s[ng]=!0,Qp.forEach(function(m){m!=="selectionchange"&&(QH.has(m)||f_(m,!1,s),f_(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[ng]||(c[ng]=!0,f_("selectionchange",!1,c))}}function XO(s,c,m,x){switch(TC(c)){case 2:var T=jG;break;case 8:T=AG;break;default:T=A_}m=T.bind(null,c,m,s),T=void 0,!lc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(T=!0),x?T!==void 0?s.addEventListener(c,m,{capture:!0,passive:T}):s.addEventListener(c,m,!0):T!==void 0?s.addEventListener(c,m,{passive:T}):s.addEventListener(c,m,!1)}function m_(s,c,m,x,T){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var I=x.tag;if(I===3||I===4){var G=x.stateNode.containerInfo;if(G===T)break;if(I===4)for(I=x.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===T)return;I=I.return}for(;G!==null;){if(I=Ko(G),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){x=N=I;continue e}G=G.parentNode}}x=x.return}Wf(function(){var me=N,Se=sc(m),je=[];e:{var be=w0.get(s);if(be!==void 0){var ve=Pu,qe=s;switch(s){case"keypress":if(cc(m)===0)break e;case"keydown":case"keyup":ve=s0;break;case"focusin":qe="focus",ve=Xf;break;case"focusout":qe="blur",ve=Xf;break;case"beforeblur":case"afterblur":ve=Xf;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Wx;break;case xc:case v0:case wc:ve=Jf;break;case ll:ve=u0;break;case"scroll":case"scrollend":ve=xt;break;case"wheel":ve=Jo;break;case"copy":case"cut":case"paste":ve=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=l0;break;case"toggle":case"beforetoggle":ve=fc}var rt=(c&4)!==0,Gt=!rt&&(s==="scroll"||s==="scrollend"),ue=rt?be!==null?be+"Capture":null:be;rt=[];for(var ie=me,he;ie!==null;){var ke=ie;if(he=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||he===null||ue===null||(ke=Zo(ie,ue),ke!=null&&rt.push(Mh(ie,ke,he))),Gt)break;ie=ie.return}0<rt.length&&(be=new ve(be,qe,null,m,Se),je.push({event:be,listeners:rt}))}}if((c&7)===0){e:{if(be=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",be&&m!==Du&&(qe=m.relatedTarget||m.fromElement)&&(Ko(qe)||qe[Yo]))break e;if((ve||be)&&(be=Se.window===Se?Se:(be=Se.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(qe=m.relatedTarget||m.toElement,ve=me,qe=qe?Ko(qe):null,qe!==null&&(Gt=a(qe),rt=qe.tag,qe!==Gt||rt!==5&&rt!==27&&rt!==6)&&(qe=null)):(ve=null,qe=me),ve!==qe)){if(rt=n0,ke="onMouseLeave",ue="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&(rt=l0,ke="onPointerLeave",ue="onPointerEnter",ie="pointer"),Gt=ve==null?be:oo(ve),he=qe==null?be:oo(qe),be=new rt(ke,ie+"leave",ve,m,Se),be.target=Gt,be.relatedTarget=he,ke=null,Ko(Se)===me&&(rt=new rt(ue,ie+"enter",qe,m,Se),rt.target=he,rt.relatedTarget=Gt,ke=rt),Gt=ke,ve&&qe)t:{for(rt=eG,ue=ve,ie=qe,he=0,ke=ue;ke;ke=rt(ke))he++;ke=0;for(var et=ie;et;et=rt(et))ke++;for(;0<he-ke;)ue=rt(ue),he--;for(;0<ke-he;)ie=rt(ie),ke--;for(;he--;){if(ue===ie||ie!==null&&ue===ie.alternate){rt=ue;break t}ue=rt(ue),ie=rt(ie)}rt=null}else rt=null;ve!==null&&JO(je,be,ve,rt,!1),qe!==null&&Gt!==null&&JO(je,Gt,qe,rt,!0)}}e:{if(be=me?oo(me):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var At=gc;else if(ea(be))if(m0)At=Qx;else{At=Jx;var Ke=Da}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&oc(me.elementType)&&(At=gc):At=il;if(At&&(At=At(s,me))){h0(je,At,m,Se);break e}Ke&&Ke(s,be,me),s==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&Oa(be,"number",be.value)}switch(Ke=me?oo(me):window,s){case"focusin":(ea(Ke)||Ke.contentEditable==="true")&&(ho=Ke,Hu=me,vc=null);break;case"focusout":vc=Hu=ho=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,b0(je,m,Se);break;case"selectionchange":if(Fu)break;case"keydown":case"keyup":b0(je,m,Se)}var ht;if(Lu)e:{switch(s){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else tl?f0(s,m)&&(_t="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(_t="onCompositionStart");_t&&(Iu&&m.locale!=="ko"&&(tl||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&tl&&(ht=co()):(Ji=Se,Xo="value"in Ji?Ji.value:Ji.textContent,tl=!0)),Ke=rg(me,_t),0<Ke.length&&(_t=new Qf(_t,s,null,m,Se),je.push({event:_t,listeners:Ke}),ht?_t.data=ht:(ht=rh(m),ht!==null&&(_t.data=ht)))),(ht=Zx?Ai(s,m):nl(s,m))&&(_t=rg(me,"onBeforeInput"),0<_t.length&&(Ke=new Qf("onBeforeInput","beforeinput",null,m,Se),je.push({event:Ke,listeners:_t}),Ke.data=ht)),ZH(je,s,me,m,Se)}ZO(je,c)})}function Mh(s,c,m){return{instance:s,listener:c,currentTarget:m}}function rg(s,c){for(var m=c+"Capture",x=[];s!==null;){var T=s,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Zo(s,m),T!=null&&x.unshift(Mh(s,T,N)),T=Zo(s,c),T!=null&&x.push(Mh(s,T,N))),s.tag===3)return x;s=s.return}return[]}function eG(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function JO(s,c,m,x,T){for(var N=c._reactName,I=[];m!==null&&m!==x;){var G=m,te=G.alternate,me=G.stateNode;if(G=G.tag,te!==null&&te===x)break;G!==5&&G!==26&&G!==27||me===null||(te=me,T?(me=Zo(m,N),me!=null&&I.unshift(Mh(m,me,te))):T||(me=Zo(m,N),me!=null&&I.push(Mh(m,me,te)))),m=m.return}I.length!==0&&s.push({event:c,listeners:I})}var tG=/\r\n?/g,nG=/\u0000|\uFFFD/g;function QO(s){return(typeof s=="string"?s:""+s).replace(tG,`
`).replace(nG,"")}function eC(s,c){return c=QO(c),QO(s)===c}function Ht(s,c,m,x,T,N){switch(m){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||Xi(s,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&Xi(s,""+x);break;case"className":Ut(s,"class",x);break;case"tabIndex":Ut(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ut(s,m,x);break;case"style":Cu(s,x,N);break;case"data":if(c!=="object"){Ut(s,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Xs(""+x),s.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(c!=="input"&&Ht(s,c,"name",T.name,T,null),Ht(s,c,"formEncType",T.formEncType,T,null),Ht(s,c,"formMethod",T.formMethod,T,null),Ht(s,c,"formTarget",T.formTarget,T,null)):(Ht(s,c,"encType",T.encType,T,null),Ht(s,c,"method",T.method,T,null),Ht(s,c,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(m);break}x=Xs(""+x),s.setAttribute(m,x);break;case"onClick":x!=null&&(s.onclick=ii);break;case"onScroll":x!=null&&vt("scroll",s);break;case"onScrollEnd":x!=null&&vt("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}m=Xs(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""+x):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":x===!0?s.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(m,x):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(m,x):s.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(m):s.setAttribute(m,x);break;case"popover":vt("beforetoggle",s),vt("toggle",s),gt(s,"popover",x);break;case"xlinkActuate":ri(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ri(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ri(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ri(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ri(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ri(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ri(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ri(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ri(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":gt(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Mu.get(m)||m,gt(s,m,x))}}function p_(s,c,m,x,T,N){switch(m){case"style":Cu(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(m=x.__html,m!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof x=="string"?Xi(s,x):(typeof x=="number"||typeof x=="bigint")&&Xi(s,""+x);break;case"onScroll":x!=null&&vt("scroll",s);break;case"onScrollEnd":x!=null&&vt("scrollend",s);break;case"onClick":x!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!e0.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),c=m.slice(2,T?m.length-7:void 0),N=s[ir]||null,N=N!=null?N[m]:null,typeof N=="function"&&s.removeEventListener(c,N,T),typeof x=="function")){typeof N!="function"&&N!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,x,T);break e}m in s?s[m]=x:x===!0?s.setAttribute(m,""):gt(s,m,x)}}}function wr(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",s),vt("load",s);var x=!1,T=!1,N;for(N in m)if(m.hasOwnProperty(N)){var I=m[N];if(I!=null)switch(N){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ht(s,c,N,I,m,null)}}T&&Ht(s,c,"srcSet",m.srcSet,m,null),x&&Ht(s,c,"src",m.src,m,null);return;case"input":vt("invalid",s);var G=N=I=T=null,te=null,me=null;for(x in m)if(m.hasOwnProperty(x)){var Se=m[x];if(Se!=null)switch(x){case"name":T=Se;break;case"type":I=Se;break;case"checked":te=Se;break;case"defaultChecked":me=Se;break;case"value":N=Se;break;case"defaultValue":G=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,c));break;default:Ht(s,c,x,Se,m,null)}}ac(s,N,G,te,me,I,T,!1);return;case"select":vt("invalid",s),x=I=N=null;for(T in m)if(m.hasOwnProperty(T)&&(G=m[T],G!=null))switch(T){case"value":N=G;break;case"defaultValue":I=G;break;case"multiple":x=G;default:Ht(s,c,T,G,m,null)}c=N,m=I,s.multiple=!!x,c!=null?qt(s,!!x,c,!1):m!=null&&qt(s,!!x,m,!0);return;case"textarea":vt("invalid",s),N=T=x=null;for(I in m)if(m.hasOwnProperty(I)&&(G=m[I],G!=null))switch(I){case"value":x=G;break;case"defaultValue":T=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:Ht(s,c,I,G,m,null)}Vs(s,x,T,N);return;case"option":for(te in m)if(m.hasOwnProperty(te)&&(x=m[te],x!=null))switch(te){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ht(s,c,te,x,m,null)}return;case"dialog":vt("beforetoggle",s),vt("toggle",s),vt("cancel",s),vt("close",s);break;case"iframe":case"object":vt("load",s);break;case"video":case"audio":for(x=0;x<Ch.length;x++)vt(Ch[x],s);break;case"image":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"embed":case"source":case"link":vt("error",s),vt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(x=m[me],x!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ht(s,c,me,x,m,null)}return;default:if(oc(c)){for(Se in m)m.hasOwnProperty(Se)&&(x=m[Se],x!==void 0&&p_(s,c,Se,x,m,void 0));return}}for(G in m)m.hasOwnProperty(G)&&(x=m[G],x!=null&&Ht(s,c,G,x,m,null))}function rG(s,c,m,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,I=null,G=null,te=null,me=null,Se=null;for(ve in m){var je=m[ve];if(m.hasOwnProperty(ve)&&je!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":te=je;default:x.hasOwnProperty(ve)||Ht(s,c,ve,null,x,je)}}for(var be in x){var ve=x[be];if(je=m[be],x.hasOwnProperty(be)&&(ve!=null||je!=null))switch(be){case"type":N=ve;break;case"name":T=ve;break;case"checked":me=ve;break;case"defaultChecked":Se=ve;break;case"value":I=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,c));break;default:ve!==je&&Ht(s,c,be,ve,x,je)}}qf(s,I,G,te,me,Se,N,T);return;case"select":ve=I=G=be=null;for(N in m)if(te=m[N],m.hasOwnProperty(N)&&te!=null)switch(N){case"value":break;case"multiple":ve=te;default:x.hasOwnProperty(N)||Ht(s,c,N,null,x,te)}for(T in x)if(N=x[T],te=m[T],x.hasOwnProperty(T)&&(N!=null||te!=null))switch(T){case"value":be=N;break;case"defaultValue":G=N;break;case"multiple":I=N;default:N!==te&&Ht(s,c,T,N,x,te)}c=G,m=I,x=ve,be!=null?qt(s,!!m,be,!1):!!x!=!!m&&(c!=null?qt(s,!!m,c,!0):qt(s,!!m,m?[]:"",!1));return;case"textarea":ve=be=null;for(G in m)if(T=m[G],m.hasOwnProperty(G)&&T!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Ht(s,c,G,null,x,T)}for(I in x)if(T=x[I],N=m[I],x.hasOwnProperty(I)&&(T!=null||N!=null))switch(I){case"value":be=T;break;case"defaultValue":ve=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==N&&Ht(s,c,I,T,x,N)}lo(s,be,ve);return;case"option":for(var qe in m)if(be=m[qe],m.hasOwnProperty(qe)&&be!=null&&!x.hasOwnProperty(qe))switch(qe){case"selected":s.selected=!1;break;default:Ht(s,c,qe,null,x,be)}for(te in x)if(be=x[te],ve=m[te],x.hasOwnProperty(te)&&be!==ve&&(be!=null||ve!=null))switch(te){case"selected":s.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Ht(s,c,te,be,x,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in m)be=m[rt],m.hasOwnProperty(rt)&&be!=null&&!x.hasOwnProperty(rt)&&Ht(s,c,rt,null,x,be);for(me in x)if(be=x[me],ve=m[me],x.hasOwnProperty(me)&&be!==ve&&(be!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:Ht(s,c,me,be,x,ve)}return;default:if(oc(c)){for(var Gt in m)be=m[Gt],m.hasOwnProperty(Gt)&&be!==void 0&&!x.hasOwnProperty(Gt)&&p_(s,c,Gt,void 0,x,be);for(Se in x)be=x[Se],ve=m[Se],!x.hasOwnProperty(Se)||be===ve||be===void 0&&ve===void 0||p_(s,c,Se,be,x,ve);return}}for(var ue in m)be=m[ue],m.hasOwnProperty(ue)&&be!=null&&!x.hasOwnProperty(ue)&&Ht(s,c,ue,null,x,be);for(je in x)be=x[je],ve=m[je],!x.hasOwnProperty(je)||be===ve||be==null&&ve==null||Ht(s,c,je,be,x,ve)}function tC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iG(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),x=0;x<m.length;x++){var T=m[x],N=T.transferSize,I=T.initiatorType,G=T.duration;if(N&&G&&tC(I)){for(I=0,G=T.responseEnd,x+=1;x<m.length;x++){var te=m[x],me=te.startTime;if(me>G)break;var Se=te.transferSize,je=te.initiatorType;Se&&tC(je)&&(te=te.responseEnd,I+=Se*(te<G?1:(G-me)/(te-me)))}if(--x,c+=8*(N+I)/(T.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var g_=null,b_=null;function ig(s){return s.nodeType===9?s:s.ownerDocument}function nC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rC(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function y_(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var v_=null;function aG(){var s=window.event;return s&&s.type==="popstate"?s===v_?!1:(v_=s,!0):(v_=null,!1)}var iC=typeof setTimeout=="function"?setTimeout:void 0,oG=typeof clearTimeout=="function"?clearTimeout:void 0,aC=typeof Promise=="function"?Promise:void 0,sG=typeof queueMicrotask=="function"?queueMicrotask:typeof aC<"u"?function(s){return aC.resolve(null).then(s).catch(lG)}:iC;function lG(s){setTimeout(function(){throw s})}function Sl(s){return s==="head"}function oC(s,c){var m=c,x=0;do{var T=m.nextSibling;if(s.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"||m==="/&"){if(x===0){s.removeChild(T),pd(c);return}x--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")x++;else if(m==="html")Dh(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,Dh(m);for(var N=m.firstChild;N;){var I=N.nextSibling,G=N.nodeName;N[nc]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||m.removeChild(N),N=I}}else m==="body"&&Dh(s.ownerDocument.body);m=T}while(m);pd(c)}function sC(s,c){var m=s;s=0;do{var x=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),x&&x.nodeType===8)if(m=x.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=x}while(m)}function x_(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":x_(m),Uf(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function cG(s,c,m,x){for(;s.nodeType===1;){var T=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[nc])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=oa(s.nextSibling),s===null)break}return null}function uG(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=oa(s.nextSibling),s===null))return null;return s}function lC(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=oa(s.nextSibling),s===null))return null;return s}function w_(s){return s.data==="$?"||s.data==="$~"}function __(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function dG(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var x=function(){c(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function oa(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var S_=null;function cC(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return oa(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function uC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function dC(s,c,m){switch(c=ig(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Dh(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Uf(s)}var sa=new Map,fC=new Set;function ag(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var hs=J.d;J.d={f:fG,r:hG,D:mG,C:pG,L:gG,m:bG,X:vG,S:yG,M:xG};function fG(){var s=hs.f(),c=Z0();return s||c}function hG(s){var c=Ys(s);c!==null&&c.tag===5&&c.type==="form"?NN(c):hs.r(s)}var fd=typeof document>"u"?null:document;function hC(s,c,m){var x=fd;if(x&&typeof c=="string"&&c){var T=Qt(c);T='link[rel="'+s+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),fC.has(T)||(fC.add(T),s={rel:s,crossOrigin:m,href:c},x.querySelector(T)===null&&(c=x.createElement("link"),wr(c,"link",s),Rn(c),x.head.appendChild(c)))}}function mG(s){hs.D(s),hC("dns-prefetch",s,null)}function pG(s,c){hs.C(s,c),hC("preconnect",s,c)}function gG(s,c,m){hs.L(s,c,m);var x=fd;if(x&&s&&c){var T='link[rel="preload"][as="'+Qt(c)+'"]';c==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+Qt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+Qt(m.imageSizes)+'"]')):T+='[href="'+Qt(s)+'"]';var N=T;switch(c){case"style":N=hd(s);break;case"script":N=md(s)}sa.has(N)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),sa.set(N,s),x.querySelector(T)!==null||c==="style"&&x.querySelector(Ph(N))||c==="script"&&x.querySelector(Rh(N))||(c=x.createElement("link"),wr(c,"link",s),Rn(c),x.head.appendChild(c)))}}function bG(s,c){hs.m(s,c);var m=fd;if(m&&s){var x=c&&typeof c.as=="string"?c.as:"script",T='link[rel="modulepreload"][as="'+Qt(x)+'"][href="'+Qt(s)+'"]',N=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=md(s)}if(!sa.has(N)&&(s=p({rel:"modulepreload",href:s},c),sa.set(N,s),m.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Rh(N)))return}x=m.createElement("link"),wr(x,"link",s),Rn(x),m.head.appendChild(x)}}}function yG(s,c,m){hs.S(s,c,m);var x=fd;if(x&&s){var T=Ks(x).hoistableStyles,N=hd(s);c=c||"default";var I=T.get(N);if(!I){var G={loading:0,preload:null};if(I=x.querySelector(Ph(N)))G.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=sa.get(N))&&k_(s,m);var te=I=x.createElement("link");Rn(te),wr(te,"link",s),te._p=new Promise(function(me,Se){te.onload=me,te.onerror=Se}),te.addEventListener("load",function(){G.loading|=1}),te.addEventListener("error",function(){G.loading|=2}),G.loading|=4,og(I,c,x)}I={type:"stylesheet",instance:I,count:1,state:G},T.set(N,I)}}}function vG(s,c){hs.X(s,c);var m=fd;if(m&&s){var x=Ks(m).hoistableScripts,T=md(s),N=x.get(T);N||(N=m.querySelector(Rh(T)),N||(s=p({src:s,async:!0},c),(c=sa.get(T))&&E_(s,c),N=m.createElement("script"),Rn(N),wr(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function xG(s,c){hs.M(s,c);var m=fd;if(m&&s){var x=Ks(m).hoistableScripts,T=md(s),N=x.get(T);N||(N=m.querySelector(Rh(T)),N||(s=p({src:s,async:!0,type:"module"},c),(c=sa.get(T))&&E_(s,c),N=m.createElement("script"),Rn(N),wr(N,"link",s),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function mC(s,c,m,x){var T=(T=ye.current)?ag(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=hd(m.href),m=Ks(T).hoistableStyles,x=m.get(c),x||(x={type:"style",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=hd(m.href);var N=Ks(T).hoistableStyles,I=N.get(s);if(I||(T=T.ownerDocument||T,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,I),(N=T.querySelector(Ph(s)))&&!N._p&&(I.instance=N,I.state.loading=5),sa.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},sa.set(s,m),N||wG(T,s,m,I.state))),c&&x===null)throw Error(r(528,""));return I}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=md(m),m=Ks(T).hoistableScripts,x=m.get(c),x||(x={type:"script",instance:null,count:0,state:null},m.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function hd(s){return'href="'+Qt(s)+'"'}function Ph(s){return'link[rel="stylesheet"]['+s+"]"}function pC(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function wG(s,c,m,x){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=s.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),wr(c,"link",m),Rn(c),s.head.appendChild(c))}function md(s){return'[src="'+Qt(s)+'"]'}function Rh(s){return"script[async]"+s}function gC(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var x=s.querySelector('style[data-href~="'+Qt(m.href)+'"]');if(x)return c.instance=x,Rn(x),x;var T=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),Rn(x),wr(x,"style",T),og(x,m.precedence,s),c.instance=x;case"stylesheet":T=hd(m.href);var N=s.querySelector(Ph(T));if(N)return c.state.loading|=4,c.instance=N,Rn(N),N;x=pC(m),(T=sa.get(T))&&k_(x,T),N=(s.ownerDocument||s).createElement("link"),Rn(N);var I=N;return I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),wr(N,"link",x),c.state.loading|=4,og(N,m.precedence,s),c.instance=N;case"script":return N=md(m.src),(T=s.querySelector(Rh(N)))?(c.instance=T,Rn(T),T):(x=m,(T=sa.get(N))&&(x=p({},m),E_(x,T)),s=s.ownerDocument||s,T=s.createElement("script"),Rn(T),wr(T,"link",x),s.head.appendChild(T),c.instance=T);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,og(x,m.precedence,s));return c.instance}function og(s,c,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,N=T,I=0;I<x.length;I++){var G=x[I];if(G.dataset.precedence===c)N=G;else if(N!==T)break}N?N.parentNode.insertBefore(s,N.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function k_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function E_(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var sg=null;function bC(s,c,m){if(sg===null){var x=new Map,T=sg=new Map;T.set(m,x)}else T=sg,x=T.get(m),x||(x=new Map,T.set(m,x));if(x.has(s))return x;for(x.set(s,null),m=m.getElementsByTagName(s),T=0;T<m.length;T++){var N=m[T];if(!(N[nc]||N[Pn]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var I=N.getAttribute(c)||"";I=s+I;var G=x.get(I);G?G.push(N):x.set(I,[N])}}return x}function yC(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function _G(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function vC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function SG(s,c,m,x){if(m.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var T=hd(x.href),N=c.querySelector(Ph(T));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=lg.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=N,Rn(N);return}N=c.ownerDocument||c,x=pC(x),(T=sa.get(T))&&k_(x,T),N=N.createElement("link"),Rn(N);var I=N;I._p=new Promise(function(G,te){I.onload=G,I.onerror=te}),wr(N,"link",x),m.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=lg.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var T_=0;function kG(s,c){return s.stylesheets&&s.count===0&&ug(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var x=setTimeout(function(){if(s.stylesheets&&ug(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+c);0<s.imgBytes&&T_===0&&(T_=62500*iG());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ug(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>T_?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(T)}}:null}function lg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ug(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var cg=null;function ug(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,cg=new Map,c.forEach(EG,s),cg=null,lg.call(s))}function EG(s,c){if(!(c.state.loading&4)){var m=cg.get(s);if(m)var x=m.get(null);else{m=new Map,cg.set(s,m);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var I=T[N];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),x=I)}x&&m.set(null,x)}T=c.instance,I=T.getAttribute("data-precedence"),N=m.get(I)||x,N===x&&m.set(null,T),m.set(I,T),this.count++,x=lg.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),N?N.parentNode.insertBefore(T,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),c.state.loading|=4}}var Lh={$$typeof:A,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function TG(s,c,m,x,T,N,I,G,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.hiddenUpdates=$f(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function xC(s,c,m,x,T,N,I,G,te,me,Se,je){return s=new TG(s,c,m,I,te,me,Se,je,G),c=1,N===!0&&(c|=24),N=Mr(3,null,null,c),s.current=N,N.stateNode=s,c=aw(),c.refCount++,s.pooledCache=c,c.refCount++,N.memoizedState={element:x,isDehydrated:m,cache:c},cw(N),s}function wC(s){return s?(s=Qo,s):Qo}function _C(s,c,m,x,T,N){T=wC(T),x.context===null?x.context=T:x.pendingContext=T,x=fl(c),x.payload={element:m},N=N===void 0?null:N,N!==null&&(x.callback=N),m=hl(s,x,c),m!==null&&(hi(m,s,c),mh(m,s,c))}function SC(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function j_(s,c){SC(s,c),(s=s.alternate)&&SC(s,c)}function kC(s){if(s.tag===13||s.tag===31){var c=ra(s,67108864);c!==null&&hi(c,s,67108864),j_(s,67108864)}}function EC(s){if(s.tag===13||s.tag===31){var c=Di();c=ni(c);var m=ra(s,c);m!==null&&hi(m,s,c),j_(s,c)}}var dg=!0;function jG(s,c,m,x){var T=q.T;q.T=null;var N=J.p;try{J.p=2,A_(s,c,m,x)}finally{J.p=N,q.T=T}}function AG(s,c,m,x){var T=q.T;q.T=null;var N=J.p;try{J.p=8,A_(s,c,m,x)}finally{J.p=N,q.T=T}}function A_(s,c,m,x){if(dg){var T=N_(x);if(T===null)m_(s,c,x,fg,m),jC(s,x);else if(OG(T,s,c,m,x))x.stopPropagation();else if(jC(s,x),c&4&&-1<NG.indexOf(s)){for(;T!==null;){var N=Ys(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var I=ti(N.pendingLanes);if(I!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;I;){var te=1<<31-Yn(I);G.entanglements[1]|=te,I&=~te}wo(N),(Ct&6)===0&&(W0=ze()+500,Oh(0))}}break;case 31:case 13:G=ra(N,2),G!==null&&hi(G,N,2),Z0(),j_(N,2)}if(N=N_(x),N===null&&m_(s,c,x,fg,m),N===T)break;T=N}T!==null&&x.stopPropagation()}else m_(s,c,x,null,m)}}function N_(s){return s=sc(s),O_(s)}var fg=null;function O_(s){if(fg=null,s=Ko(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return fg=s,null}function TC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Et:return 2;case pt:return 8;case Jt:case Br:return 32;case zr:return 268435456;default:return 32}default:return 32}}var C_=!1,kl=null,El=null,Tl=null,Ih=new Map,$h=new Map,jl=[],NG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jC(s,c){switch(s){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Ih.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(c.pointerId)}}function Bh(s,c,m,x,T,N){return s===null||s.nativeEvent!==N?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:N,targetContainers:[T]},c!==null&&(c=Ys(c),c!==null&&kC(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,T!==null&&c.indexOf(T)===-1&&c.push(T),s)}function OG(s,c,m,x,T){switch(c){case"focusin":return kl=Bh(kl,s,c,m,x,T),!0;case"dragenter":return El=Bh(El,s,c,m,x,T),!0;case"mouseover":return Tl=Bh(Tl,s,c,m,x,T),!0;case"pointerover":var N=T.pointerId;return Ih.set(N,Bh(Ih.get(N)||null,s,c,m,x,T)),!0;case"gotpointercapture":return N=T.pointerId,$h.set(N,Bh($h.get(N)||null,s,c,m,x,T)),!0}return!1}function AC(s){var c=Ko(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,zf(s.priority,function(){EC(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,zf(s.priority,function(){EC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=N_(s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);Du=x,m.target.dispatchEvent(x),Du=null}else return c=Ys(m),c!==null&&kC(c),s.blockedOn=m,!1;c.shift()}return!0}function NC(s,c,m){hg(s)&&m.delete(c)}function CG(){C_=!1,kl!==null&&hg(kl)&&(kl=null),El!==null&&hg(El)&&(El=null),Tl!==null&&hg(Tl)&&(Tl=null),Ih.forEach(NC),$h.forEach(NC)}function mg(s,c){s.blockedOn===c&&(s.blockedOn=null,C_||(C_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CG)))}var pg=null;function OC(s){pg!==s&&(pg=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pg===s&&(pg=null);for(var c=0;c<s.length;c+=3){var m=s[c],x=s[c+1],T=s[c+2];if(typeof x!="function"){if(O_(x||m)===null)continue;break}var N=Ys(m);N!==null&&(s.splice(c,3),c-=3,Nw(N,{pending:!0,data:T,method:m.method,action:x},x,T))}}))}function pd(s){function c(te){return mg(te,s)}kl!==null&&mg(kl,s),El!==null&&mg(El,s),Tl!==null&&mg(Tl,s),Ih.forEach(c),$h.forEach(c);for(var m=0;m<jl.length;m++){var x=jl[m];x.blockedOn===s&&(x.blockedOn=null)}for(;0<jl.length&&(m=jl[0],m.blockedOn===null);)AC(m),m.blockedOn===null&&jl.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var T=m[x],N=m[x+1],I=T[ir]||null;if(typeof N=="function")I||OC(m);else if(I){var G=null;if(N&&N.hasAttribute("formAction")){if(T=N,I=N[ir]||null)G=I.formAction;else if(O_(T)!==null)continue}else G=I.action;typeof G=="function"?m[x+1]=G:(m.splice(x,3),x-=3),OC(m)}}}function CC(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(I){return T=I})},focusReset:"manual",scroll:"manual"})}function c(){T!==null&&(T(),T=null),x||setTimeout(m,20)}function m(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),T!==null&&(T(),T=null)}}}function M_(s){this._internalRoot=s}gg.prototype.render=M_.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,x=Di();_C(m,x,s,c,null,null)},gg.prototype.unmount=M_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;_C(s.current,2,null,s,null,null),Z0(),c[Yo]=null}};function gg(s){this._internalRoot=s}gg.prototype.unstable_scheduleHydration=function(s){if(s){var c=Bf();s={blockedOn:null,target:s,priority:c};for(var m=0;m<jl.length&&c!==0&&c<jl[m].priority;m++);jl.splice(m,0,s),m===0&&AC(s)}};var MC=t.version;if(MC!=="19.2.1")throw Error(r(527,MC,"19.2.1"));J.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var MG={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{It=bg.inject(MG),an=bg}catch{}}return Uh.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,x="",T=BN,N=zN,I=UN;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError)),c=xC(s,1,!1,null,null,m,x,null,T,N,I,CC),s[Yo]=c.current,h_(s),new M_(c)},Uh.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var x=!1,T="",N=BN,I=zN,G=UN,te=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(G=m.onRecoverableError),m.formState!==void 0&&(te=m.formState)),c=xC(s,1,!0,c,m??null,x,T,te,N,I,G,CC),c.context=wC(null),m=c.current,x=Di(),x=ni(x),T=fl(x),T.callback=null,hl(m,T,x),m=x,c.current.lanes=m,qo(c,m),wo(c),s[Yo]=c.current,h_(s),new gg(c)},Uh.version="19.2.1",Uh}var FC;function UG(){if(FC)return P_.exports;FC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),P_.exports=zG(),P_.exports}var FG=UG(),_=hf();const Zt=_i(_),HG=NE({__proto__:null,default:Zt},[_]);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HC="popstate";function GG(e={}){function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return wk("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cm(i)}return YG(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qG(){return Math.random().toString(36).substring(2,10)}function GC(e,t){return{usr:e.state,key:e.key,idx:t}}function wk(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mf(t):t,state:n,key:t&&t.key||r||qG()}}function Cm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function YG(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let S=h(),j=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:j})}function b(S,j){l="PUSH";let O=wk(w.location,S,j);d=h()+1;let A=GC(O,d),C=w.createHref(O);try{o.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}a&&u&&u({action:l,location:w.location,delta:1})}function y(S,j){l="REPLACE";let O=wk(w.location,S,j);d=h();let A=GC(O,d),C=w.createHref(O);o.replaceState(A,"",C),a&&u&&u({action:l,location:w.location,delta:0})}function k(S){return KG(S)}let w={get action(){return l},get location(){return e(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(HC,p),u=S,()=>{i.removeEventListener(HC,p),u=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let j=k(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:y,go(S){return o.go(S)}};return w}function KG(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Cm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function z5(e,t,n="/"){return WG(e,t,n,!1)}function WG(e,t,n,r){let i=typeof t=="string"?mf(t):t,a=As(i.pathname||"/",n);if(a==null)return null;let o=U5(e);VG(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=oq(a);l=iq(o[u],d,r)}return l}function U5(e,t=[],n=[],r="",i=!1){let a=(o,l,u=i,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;hn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Es([r,h.relativePath]),b=n.concat(h);o.children&&o.children.length>0&&(hn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),U5(o.children,t,b,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:nq(p,o.index),routesMeta:b})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))a(o,l);else for(let u of F5(o.path))a(o,l,!0,u)}),t}function F5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=F5(r.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function VG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZG=/^:[\w-]+$/,XG=3,JG=2,QG=1,eq=10,tq=-2,qC=e=>e==="*";function nq(e,t){let n=e.split("/"),r=n.length;return n.some(qC)&&(r+=tq),t&&(r+=JG),n.filter(i=>!qC(i)).reduce((i,a)=>i+(ZG.test(a)?XG:a===""?QG:eq),r)}function rq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function iq(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=qb({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),b=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=qb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Es([a,p.pathname]),pathnameBase:dq(Es([a,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(a=Es([a,p.pathnameBase]))}return o}function qb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},b)=>{if(h==="*"){let k=l[b]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const y=l[b];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function aq(e,t=!1,n=!0){xa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function As(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var sq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lq=e=>sq.test(e);function cq(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mf(e):e,a;if(n)if(lq(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),xa(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?a=YC(n.substring(1),"/"):a=YC(n,t)}else a=t;return{pathname:a,search:fq(r),hash:hq(i)}}function YC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function B_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function OE(e){let t=uq(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function CE(e,t,n,r=!1){let i;typeof e=="string"?i=mf(e):(i={...e},hn(!i.pathname||!i.pathname.includes("?"),B_("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),B_("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),B_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}l=p>=0?t[p]:"/"}let u=cq(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Es=e=>e.join("/").replace(/\/\/+/g,"/"),dq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function pq(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H5=["POST","PUT","PATCH","DELETE"];new Set(H5);var gq=["GET",...H5];new Set(gq);var pf=_.createContext(null);pf.displayName="DataRouter";var _v=_.createContext(null);_v.displayName="DataRouterState";_.createContext(!1);var G5=_.createContext({isTransitioning:!1});G5.displayName="ViewTransition";var bq=_.createContext(new Map);bq.displayName="Fetchers";var yq=_.createContext(null);yq.displayName="Await";var Ta=_.createContext(null);Ta.displayName="Navigation";var dp=_.createContext(null);dp.displayName="Location";var zo=_.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var ME=_.createContext(null);ME.displayName="RouteError";function vq(e,{relative:t}={}){hn(gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ta),{hash:i,pathname:a,search:o}=fp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Es([n,a])),r.createHref({pathname:l,search:o,hash:i})}function gf(){return _.useContext(dp)!=null}function $r(){return hn(gf(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(dp).location}var q5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y5(e){_.useContext(Ta).static||_.useLayoutEffect(e)}function Vl(){let{isDataRoute:e}=_.useContext(zo);return e?Mq():xq()}function xq(){hn(gf(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(pf),{basename:t,navigator:n}=_.useContext(Ta),{matches:r}=_.useContext(zo),{pathname:i}=$r(),a=JSON.stringify(OE(r)),o=_.useRef(!1);return Y5(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(xa(o.current,q5),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=CE(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Es([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}_.createContext(null);function fp(e,{relative:t}={}){let{matches:n}=_.useContext(zo),{pathname:r}=$r(),i=JSON.stringify(OE(n));return _.useMemo(()=>CE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function wq(e,t){return K5(e,t)}function K5(e,t,n,r,i){hn(gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Ta),{matches:o}=_.useContext(zo),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";W5(d,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=$r(),y;if(t){let O=typeof t=="string"?mf(t):t;hn(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let k=y.pathname||"/",w=k;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=z5(e,{pathname:w});xa(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),xa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Tq(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:Es([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:Es([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,n,r,i);return t&&j?_.createElement(dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},j):j}function _q(){let e=Cq(),t=mq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,o)}var Sq=_.createElement(_q,null),kq=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(zo.Provider,{value:this.props.routeContext},_.createElement(ME.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Eq({routeContext:e,match:t,children:n}){let r=_.useContext(pf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(zo.Provider,{value:e},n)}function Tq(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);hn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:b,errors:y}=n,k=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||k){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&r?(h,p)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:pq(n.matches),errorInfo:p})}:void 0;return a.reduceRight((h,p,b)=>{let y,k=!1,w=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||Sq,l&&(u<0&&b===0?(W5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):u===b&&(k=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,b+1)),O=()=>{let A;return y?A=w:k?A=S:p.route.Component?A=_.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,_.createElement(Eq,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?_.createElement(kq,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):O()},null)}function DE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jq(e){let t=_.useContext(pf);return hn(t,DE(e)),t}function Aq(e){let t=_.useContext(_v);return hn(t,DE(e)),t}function Nq(e){let t=_.useContext(zo);return hn(t,DE(e)),t}function PE(e){let t=Nq(e),n=t.matches[t.matches.length-1];return hn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Oq(){return PE("useRouteId")}function Cq(){let e=_.useContext(ME),t=Aq("useRouteError"),n=PE("useRouteError");return e!==void 0?e:t.errors?.[n]}function Mq(){let{router:e}=jq("useNavigate"),t=PE("useNavigate"),n=_.useRef(!1);return Y5(()=>{n.current=!0}),_.useCallback(async(i,a={})=>{xa(n.current,q5),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var KC={};function W5(e,t,n){!t&&!KC[e]&&(KC[e]=!0,xa(!1,n))}_.memo(Dq);function Dq({routes:e,future:t,state:n,unstable_onError:r}){return K5(e,void 0,n,r,t)}function Pq({to:e,replace:t,state:n,relative:r}){hn(gf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ta);xa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(zo),{pathname:o}=$r(),l=Vl(),u=CE(e,OE(a),o,r==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function za(e){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rq({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){hn(!gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[l,i,a,o]);typeof n=="string"&&(n=mf(n));let{pathname:d="/",search:h="",hash:p="",state:b=null,key:y="default"}=n,k=_.useMemo(()=>{let w=As(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:b,key:y},navigationType:r}},[l,d,h,p,b,y,r]);return xa(k!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:_.createElement(Ta.Provider,{value:u},_.createElement(dp.Provider,{children:t,value:k}))}function Lq({children:e,location:t}){return wq(_k(e),t)}function _k(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let a=[...t,i];if(r.type===_.Fragment){n.push.apply(n,_k(r.props.children,a));return}hn(r.type===za,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_k(r.props.children,a)),n.push(o)}),n}var jb="get",Ab="application/x-www-form-urlencoded";function Sv(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Iq(e){return Sv(e)&&e.tagName.toLowerCase()==="button"}function $q(e){return Sv(e)&&e.tagName.toLowerCase()==="form"}function Bq(e){return Sv(e)&&e.tagName.toLowerCase()==="input"}function zq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uq(e,t){return e.button===0&&(!t||t==="_self")&&!zq(e)}var yg=null;function Fq(){if(yg===null)try{new FormData(document.createElement("form"),0),yg=!1}catch{yg=!0}return yg}var Hq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z_(e){return e!=null&&!Hq.has(e)?(xa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ab}"`),null):e}function Gq(e,t){let n,r,i,a,o;if($q(e)){let l=e.getAttribute("action");r=l?As(l,t):null,n=e.getAttribute("method")||jb,i=z_(e.getAttribute("enctype"))||Ab,a=new FormData(e)}else if(Iq(e)||Bq(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?As(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||jb,i=z_(e.getAttribute("formenctype"))||z_(l.getAttribute("enctype"))||Ab,a=new FormData(l,e),!Fq()){let{name:d,type:h,value:p}=e;if(h==="image"){let b=d?`${d}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else d&&a.append(d,p)}}else{if(Sv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jb,r=null,i=Ab,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function RE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&As(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Yq(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Wq(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await Yq(a,n);return o.links?o.links():[]}return[]}));return Jq(r.flat(1).filter(Kq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WC(e,t,n,r,i,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Vq(e,t,{includeHydrateFallback:n}={}){return Zq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Zq(e){return[...new Set(e)]}function Xq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Jq(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Xq(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function V5(){let e=_.useContext(pf);return RE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qq(){let e=_.useContext(_v);return RE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var LE=_.createContext(void 0);LE.displayName="FrameworkContext";function Z5(){let e=_.useContext(LE);return RE(e,"You must render this element inside a <HydratedRouter> element"),e}function eY(e,t){let n=_.useContext(LE),[r,i]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,b=_.useRef(null);_.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=j=>{j.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},k=()=>{i(!1),o(!1)};return n?e!=="intent"?[a,b,{}]:[a,b,{onFocus:Fh(l,y),onBlur:Fh(u,k),onMouseEnter:Fh(d,y),onMouseLeave:Fh(h,k),onTouchStart:Fh(p,y)}]:[!1,b,{}]}function Fh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tY({page:e,...t}){let{router:n}=V5(),r=_.useMemo(()=>z5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(rY,{page:e,matches:r,...t}):null}function nY(e){let{manifest:t,routeModules:n}=Z5(),[r,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return Wq(e,t,n).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,n]),r}function rY({page:e,matches:t,...n}){let r=$r(),{manifest:i,routeModules:a}=Z5(),{basename:o}=V5(),{loaderData:l,matches:u}=Qq(),d=_.useMemo(()=>WC(e,t,u,i,r,"data"),[e,t,u,i,r]),h=_.useMemo(()=>WC(e,t,u,i,r,"assets"),[e,t,u,i,r]),p=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let k=new Set,w=!1;if(t.forEach(j=>{let O=i.routes[j.route.id];!O||!O.hasLoader||(!d.some(A=>A.route.id===j.route.id)&&j.route.id in l&&a[j.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:k.add(j.route.id))}),k.size===0)return[];let S=qq(e,o,"data");return w&&k.size>0&&S.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,t,e,a]),b=_.useMemo(()=>Vq(h,i),[h,i]),y=nY(h);return _.createElement(_.Fragment,null,p.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),y.map(({key:k,link:w})=>_.createElement("link",{key:k,nonce:n.nonce,...w})))}function iY(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var X5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X5&&(window.__reactRouterVersion="7.10.1")}catch{}function aY({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current==null&&(i.current=GG({window:r,v5Compat:!0}));let a=i.current,[o,l]=_.useState({action:a.action,location:a.location}),u=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>a.listen(u),[a,u]),_.createElement(Rq,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n===!0})}var J5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IE=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...b},y){let{basename:k,unstable_useTransitions:w}=_.useContext(Ta),S=typeof d=="string"&&J5.test(d),j,O=!1;if(typeof d=="string"&&S&&(j=d,X5))try{let Y=new URL(window.location.href),F=d.startsWith("//")?new URL(Y.protocol+d):new URL(d),z=As(F.pathname,k);F.origin===Y.origin&&z!=null?d=z+F.search+F.hash:O=!0}catch{xa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=vq(d,{relative:i}),[C,D,P]=eY(r,b),$=cY(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p,unstable_useTransitions:w});function U(Y){t&&t(Y),Y.defaultPrevented||$(Y)}let W=_.createElement("a",{...b,...P,href:j||A,onClick:O||a?t:U,ref:iY(y,D),target:u,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?_.createElement(_.Fragment,null,W,_.createElement(tY,{page:A})):W});IE.displayName="Link";var oY=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:l,children:u,...d},h){let p=fp(o,{relative:d.relative}),b=$r(),y=_.useContext(_v),{navigator:k,basename:w}=_.useContext(Ta),S=y!=null&&mY(p)&&l===!0,j=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,O=b.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&w&&(A=As(A,w)||A);const C=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let D=O===j||!i&&O.startsWith(j)&&O.charAt(C)==="/",P=A!=null&&(A===j||!i&&A.startsWith(j)&&A.charAt(j.length)==="/"),$={isActive:D,isPending:P,isTransitioning:S},U=D?t:void 0,W;typeof r=="function"?W=r($):W=[r,D?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Y=typeof a=="function"?a($):a;return _.createElement(IE,{...d,"aria-current":U,className:W,ref:h,style:Y,to:o,viewTransition:l},typeof u=="function"?u($):u)});oY.displayName="NavLink";var sY=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=jb,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...b},y)=>{let{unstable_useTransitions:k}=_.useContext(Ta),w=fY(),S=hY(l,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&J5.test(l),A=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,P=D?.getAttribute("formmethod")||o,$=()=>w(D||C.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:p});k&&n!==!1?_.startTransition(()=>$()):$()};return _.createElement("form",{ref:y,method:j,action:S,onSubmit:r?u:A,...b,"data-discover":!O&&e==="render"?"true":void 0})});sY.displayName="Form";function lY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q5(e){let t=_.useContext(pf);return hn(t,lY(e)),t}function cY(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:l}={}){let u=Vl(),d=$r(),h=fp(e,{relative:a});return _.useCallback(p=>{if(Uq(p,t)){p.preventDefault();let b=n!==void 0?n:Cm(d)===Cm(h),y=()=>u(e,{replace:b,state:r,preventScrollReset:i,relative:a,viewTransition:o});l?_.startTransition(()=>y()):y()}},[d,u,h,n,r,t,e,i,a,o,l])}var uY=0,dY=()=>`__${String(++uY)}__`;function fY(){let{router:e}=Q5("useSubmit"),{basename:t}=_.useContext(Ta),n=Oq(),r=e.fetch,i=e.navigate;return _.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=Gq(a,t);if(o.navigate===!1){let b=o.fetcherKey||dY();await r(b,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function hY(e,{relative:t}={}){let{basename:n}=_.useContext(Ta),r=_.useContext(zo);hn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...fp(e||".",{relative:t})},o=$r();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Es([n,a.pathname])),Cm(a)}function mY(e,{relative:t}={}){let n=_.useContext(G5);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q5("useViewTransitionState"),i=fp(e,{relative:t});if(!n.isTransitioning)return!1;let a=As(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=As(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qb(i.pathname,o)!=null||qb(i.pathname,a)!=null}var Eu=B5();const pY=_i(Eu);let gY={data:""},bY=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||gY,yY=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vY=/\/\*[^]*?\*\/|  +/g,VC=/\n+/g,Ml=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Ml(o,a):a+"{"+Ml(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=Ml(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ml.p?Ml.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ms={},e$=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+e$(e[n]);return t}return e},xY=(e,t,n,r,i)=>{let a=e$(e),o=ms[a]||(ms[a]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(a));if(!ms[o]){let u=a!==e?e:(d=>{let h,p,b=[{}];for(;h=yY.exec(d.replace(vY,""));)h[4]?b.shift():h[3]?(p=h[3].replace(VC," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][h[1]]=h[2].replace(VC," ").trim();return b[0]})(e);ms[o]=Ml(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&ms.g?ms.g:null;return n&&(ms.g=ms[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(ms[o],t,r,l),o},wY=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Ml(l,""):l===!1?"":l}return r+i+(o??"")},"");function kv(e){let t=this||{},n=e.call?e(t.p):e;return xY(n.unshift?n.raw?wY(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,bY(t.target),t.g,t.o,t.k)}let t$,Sk,kk;kv.bind({g:1});let Ns=kv.bind({k:1});function _Y(e,t,n,r){Ml.p=t,t$=e,Sk=n,kk=r}function Zl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:Sk&&Sk()},l),n.o=/ *go\d+/.test(u),l.className=kv.apply(n,r)+(u?" "+u:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),kk&&d[0]&&kk(l),t$(d,l)}return i}}var SY=e=>typeof e=="function",Yb=(e,t)=>SY(e)?e(t):e,kY=(()=>{let e=0;return()=>(++e).toString()})(),n$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),EY=20,$E="default",r$=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return r$(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Nb=[],i$={toasts:[],pausedAt:void 0,settings:{toastLimit:EY}},Co={},a$=(e,t=$E)=>{Co[t]=r$(Co[t]||i$,e),Nb.forEach(([n,r])=>{n===t&&r(Co[t])})},o$=e=>Object.keys(Co).forEach(t=>a$(e,t)),TY=e=>Object.keys(Co).find(t=>Co[t].toasts.some(n=>n.id===e)),Ev=(e=$E)=>t=>{a$(t,e)},jY={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AY=(e={},t=$E)=>{let[n,r]=_.useState(Co[t]||i$),i=_.useRef(Co[t]);_.useEffect(()=>(i.current!==Co[t]&&r(Co[t]),Nb.push([t,r]),()=>{let o=Nb.findIndex(([l])=>l===t);o>-1&&Nb.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||e?.duration||jY[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...n,toasts:a}},NY=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||kY()}),hp=e=>(t,n)=>{let r=NY(t,e,n);return Ev(r.toasterId||TY(r.id))({type:2,toast:r}),r.id},Dn=(e,t)=>hp("blank")(e,t);Dn.error=hp("error");Dn.success=hp("success");Dn.loading=hp("loading");Dn.custom=hp("custom");Dn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ev(t)(n):o$(n)};Dn.dismissAll=e=>Dn.dismiss(void 0,e);Dn.remove=(e,t)=>{let n={type:4,toastId:e};t?Ev(t)(n):o$(n)};Dn.removeAll=e=>Dn.remove(void 0,e);Dn.promise=(e,t,n)=>{let r=Dn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Yb(t.success,i):void 0;return a?Dn.success(a,{id:r,...n,...n?.success}):Dn.dismiss(r),i}).catch(i=>{let a=t.error?Yb(t.error,i):void 0;a?Dn.error(a,{id:r,...n,...n?.error}):Dn.dismiss(r)}),e};var OY=1e3,CY=(e,t="default")=>{let{toasts:n,pausedAt:r}=AY(e,t),i=_.useRef(new Map).current,a=_.useCallback((p,b=OY)=>{if(i.has(p))return;let y=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},b);i.set(p,y)},[]);_.useEffect(()=>{if(r)return;let p=Date.now(),b=n.map(y=>{if(y.duration===1/0)return;let k=(y.duration||0)+y.pauseDuration-(p-y.createdAt);if(k<0){y.visible&&Dn.dismiss(y.id);return}return setTimeout(()=>Dn.dismiss(y.id,t),k)});return()=>{b.forEach(y=>y&&clearTimeout(y))}},[n,r,t]);let o=_.useCallback(Ev(t),[t]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=_.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),d=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=_.useCallback((p,b)=>{let{reverseOrder:y=!1,gutter:k=8,defaultPosition:w}=b||{},S=n.filter(A=>(A.position||w)===(p.position||w)&&A.height),j=S.findIndex(A=>A.id===p.id),O=S.filter((A,C)=>C<j&&A.visible).length;return S.filter(A=>A.visible).slice(...y?[O+1]:[0,O]).reduce((A,C)=>A+(C.height||0)+k,0)},[n]);return _.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let b=i.get(p.id);b&&(clearTimeout(b),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},MY=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DY=Ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PY=Ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RY=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MY} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DY} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${PY} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LY=Ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IY=Zl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${LY} 1s linear infinite;
`,$Y=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BY=Ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zY=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$Y} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BY} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UY=Zl("div")`
  position: absolute;
`,FY=Zl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HY=Ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,GY=Zl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HY} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qY=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(GY,null,t):t:n==="blank"?null:_.createElement(FY,null,_.createElement(IY,{...r}),n!=="loading"&&_.createElement(UY,null,n==="error"?_.createElement(RY,{...r}):_.createElement(zY,{...r})))},YY=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,KY=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,WY="0%{opacity:0;} 100%{opacity:1;}",VY="0%{opacity:1;} 100%{opacity:0;}",ZY=Zl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,XY=Zl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,JY=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=n$()?[WY,VY]:[YY(n),KY(n)];return{animation:t?`${Ns(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ns(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QY=_.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?JY(e.position||t||"top-center",e.visible):{opacity:0},a=_.createElement(qY,{toast:e}),o=_.createElement(XY,{...e.ariaProps},Yb(e.message,e));return _.createElement(ZY,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});_Y(_.createElement);var eK=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=_.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:a,className:t,style:n},i)},tK=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:n$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},nK=kv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vg=16,s$=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=CY(n,a);return _.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:vg,left:vg,right:vg,bottom:vg,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(h=>{let p=h.position||t,b=d.calculateOffset(h,{reverseOrder:e,gutter:r,defaultPosition:t}),y=tK(p,b);return _.createElement(eK,{id:h.id,key:h.id,onHeightUpdate:d.updateHeight,className:h.visible?nK:"",style:y},h.type==="custom"?Yb(h.message,h):i?i(h):_.createElement(QY,{toast:h,position:p}))}))},fa=Dn;function rK(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),o=2-a+Math.floor(a/4),l=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+l+o-1524.5}const iK=864e5;function aK(e){const t=(e-24405875e-1)*iK;return new Date(t)}function oK(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function sK(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),o=Math.floor(365.25*a),l=Math.floor((i-o)/30.6001),u=i-o-Math.floor(30.6001*l)+n;let d=l-1;d>12&&(d-=12);let h=a-4715;return d>2&&(h-=1),[h,d,u]}const km=Math.PI,eu=km/180,lK=180/km,cK=86400;function uK(e){return e%=360,e<0?e+360:e}function dK(e,t){return(e-t+540)%360-180}function ZC(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function fK(e){const[t,n]=sK(e);return e+oK(t,Math.round(n))/cK}function XC(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[o,l,u]of e[i])a+=o*Math.cos(l+u*t);n+=a*r,r*=t}return n*1e-8}function hK(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*eu,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*eu,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*eu,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*eu,o=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*eu,l=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let u=0,d=0;for(const[h,p,b,y,k,w,S,j,O]of l){const A=h*n+p*r+b*i+y*a+k*o;u+=(w+S*t)*Math.sin(A),d+=(j+O*t)*Math.cos(A)}return u*=1e-4,d*=1e-4,{dpsi:u,deps:d}}function xg(e){const t=fK(e),n=(t-2451545)/365250,r=XC(JC.L,n),i=XC(JC.R,n);let a=r+km;a>2*km&&(a-=2*km);const{dpsi:o}=hK(t),l=o/3600*eu,u=20.4898/(3600*i),d=a+l-u*eu;return uK(d*lK)}function jn(e,t,n){const r=(t%360+360)%360,i=rK(e,1,1),a=xg(i);let o=r-a;o<0&&(o+=360);let l=i+o/.98564736;const u=1e-6,d=5e-6;for(let b=0;b<25;b++){const y=xg(l),k=dK(r,y);if(Math.abs(k)<u)break;const w=xg(l+d),S=xg(l-d),j=ZC(w,y),O=ZC(S,y),A=(j-O)/(2*d);l+=k/A}const h=aK(l),p=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),0,0);if(Number.isFinite(n)){const b=n/15-9;if(Math.abs(b)>1e-12)return new Date(p.getTime()+b*36e5)}return p}const JC={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},mK=(e,t)=>(e%t+t)%t,l$=(e,t)=>(e%t+t)%t,c$=e=>e instanceof Date&&!Number.isNaN(e.getTime()),QC=new Map;function u$(e,t=127.5){const n=`${e}@${t}`,r=QC.get(n);if(r)return r;const i=jn(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return QC.set(n,i),i}function d$(e,t=127.5){if(!c$(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=u$(n,t),i=e<r?n-1:n,a=mK(i-4,60);return{useYear:i,index60Num:a}}const Xr=["","","","","","","","","",""],vi=["","","","","","","","","","","",""],Ek={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},ro={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},pK=["","","","","","","","","",""],gK=["","","","","","","","","","","",""],bK=["","","","","","","","","","","","","","","","","","","",""],yK=["","","","","","","","","","","","","","","","","","","","","","","",""],Vd=new Set(Xr),Mm=new Set(vi),Gn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qn={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},BE=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Kb=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],vK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},xK={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function lt(e,t=127.5){const{index60Num:n}=d$(e,t);return BE[n]}function wK(e,t=127.5){return(lt(e,t)||"").charAt(0)}const _K=[2,4,6,8,0,2,4,6,8,0];function SK(e,t=127.5){const n=new Array(12);return n[0]=u$(e,t),n[1]=jn(e,345,t),n[2]=jn(e,15,t),n[3]=jn(e,45,t),n[4]=jn(e,75,t),n[5]=jn(e,105,t),n[6]=jn(e,135,t),n[7]=jn(e,165,t),n[8]=jn(e,195,t),n[9]=jn(e,225,t),n[10]=jn(e,255,t),n[11]=jn(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function kK(e,t=127.5){const{useYear:n}=d$(e,t),r=SK(n,t);let i=0;for(let o=0;o<12;o+=1)e>=r[o]&&(i=o);return{monthIndex:i+1,useYear:n,boundaries:r}}function EK(e,t=127.5){const n=wK(e,t),r=Ek..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return _K[r]}function TK(e,t,n=127.5){return(EK(e,n)+(t-1))%10}function St(e,t=127.5){if(!c$(e))return"";const{monthIndex:n}=kK(e,t),r=(2+(n-1))%12,i=Ek.[r],a=TK(e,n,t);return Ek.[a]+i}const Wb={JDN:2445731,idx:0};function f$(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const o=Math.floor(e/100),l=2-o+Math.floor(o/4),u=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+u+l-1524.5}function jK(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=OK(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function AK(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}function mt(e,t){const n=jK(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=f$(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),o=l$(a-Wb.JDN+Wb.idx,60),l=BE[o];if(!l)throw new Error(`getDayGanZhi: idx=${o} out of range (jdn=${a}, jd=${i})`);return l}function NK(e,t){const n=new Date(e),r=AK(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=f$(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),o=Math.floor(a+.5),l=l$(o-Wb.JDN+Wb.idx,60),u=BE[l];if(!u)throw new Error(`getDayGanZhi: idx=${l} out of range (jdn=${o}, jd=${a})`);return u}function OK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Kb.length;n+=1){const{branch:r,start:i,end:a}=Kb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function CK(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<Kb.length;n+=1){const{branch:r,start:i,end:a}=Kb[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function MK(e,t,n,r){const i=Xr.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const o=e.getHours();return(r===""||r==="/"&&o>=3)&&(n===0||n===1)&&(a=(a+2)%10),Xr[a]}function Ja(e,t,n){e instanceof Date||(e=new Date(e));const r=CK(e),i=vi.indexOf(r),o=(n??mt(e,t)).charAt(0);return MK(e,o,i,t)+r}const eM=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const b=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,b))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,i,l);return l},DK=(e=>e?eM(e):eM),PK=e=>e;function RK(e,t=PK){const n=Zt.useSyncExternalStore(e.subscribe,Zt.useCallback(()=>t(e.getState()),[e,t]),Zt.useCallback(()=>t(e.getInitialState()),[e,t]));return Zt.useDebugValue(n),n}const tM=e=>{const t=DK(e),n=r=>RK(t,r);return Object.assign(n,t),n},Uo=(e=>e?tM(e):tM);function LK(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Tk=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Tk(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Tk(r)(n)}}}},IK=(e,t)=>(n,r,i)=>{let a={storage:LK(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...t},o=!1;const l=new Set,u=new Set;let d=a.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=a.partialize({...r()});return d.setItem(a.name,{state:w,version:a.version})},p=i.setState;i.setState=(w,S)=>(p(w,S),h());const b=e((...w)=>(n(...w),h()),r,i);i.getInitialState=()=>b;let y;const k=()=>{var w,S;if(!d)return;o=!1,l.forEach(O=>{var A;return O((A=r())!=null?A:b)});const j=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(w=r())!=null?w:b))||void 0;return Tk(d.getItem.bind(d))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate){const A=a.migrate(O.state,O.version);return A instanceof Promise?A.then(C=>[!0,C]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var A;const[C,D]=O;if(y=a.merge(D,(A=r())!=null?A:b),n(y,!0),C)return h()}).then(()=>{j?.(y,void 0),y=r(),o=!0,u.forEach(O=>O(y))}).catch(O=>{j?.(void 0,O)})};return i.persist={setOptions:w=>{a={...a,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},a.skipHydration||k(),y||b},h$=IK;var ps={},wg={},jk=function(e,t){return jk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},jk(e,t)};function m$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Vb=function(){return Vb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vb.apply(this,arguments)};function bf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function p$(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function g$(e,t){return function(n,r){t(n,r,e)}}function b$(e,t,n,r,i,a){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var l=r.kind,u=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),p,b=!1,y=n.length-1;y>=0;y--){var k={};for(var w in r)k[w]=w==="access"?{}:r[w];for(var w in r.access)k.access[w]=r.access[w];k.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(j||null))};var S=(0,n[y])(l==="accessor"?{get:h.get,set:h.set}:h[u],k);if(l==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=o(S.get))&&(h.get=p),(p=o(S.set))&&(h.set=p),(p=o(S.init))&&i.unshift(p)}else(p=o(S))&&(l==="field"?i.unshift(p):h[u]=p)}d&&Object.defineProperty(d,r.name,h),b=!0}function y$(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function v$(e){return typeof e=="symbol"?e:"".concat(e)}function x$(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function w$(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ye(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function u(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?a(h.value):i(h.value).then(l,u)}d((r=r.apply(e,t||[])).next())})}function _$(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Tv=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function S$(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Tv(t,e,n)}function Zb(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function k$(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zE(arguments[t]));return e}function E$(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r}function T$(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Zd(e){return this instanceof Zd?(this.v=e,this):new Zd(e)}function j$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(k){return Promise.resolve(k).then(y,p)}}function l(y,k){r[y]&&(i[y]=function(w){return new Promise(function(S,j){a.push([y,w,S,j])>1||u(y,w)})},k&&(i[y]=k(i[y])))}function u(y,k){try{d(r[y](k))}catch(w){b(a[0][3],w)}}function d(y){y.value instanceof Zd?Promise.resolve(y.value.v).then(h,p):b(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function b(y,k){y(k),a.shift(),a.length&&u(a[0][0],a[0][1])}}function A$(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(o){return(n=!n)?{value:Zd(e[i](o)),done:!1}:a?a(o):o}:a}}function N$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Zb=="function"?Zb(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},o)}}function O$(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $K=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ak=function(e){return Ak=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Ak(e)};function C$(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Ak(e),r=0;r<n.length;r++)n[r]!=="default"&&Tv(t,e,n[r]);return $K(t,e),t}function M$(e){return e&&e.__esModule?e:{default:e}}function D$(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function P$(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function R$(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function L$(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var BK=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function I$(e){function t(a){e.error=e.hasError?new BK(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function $$(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,o){return r?t?".jsx":".js":i&&(!a||!o)?n:i+a+"."+o.toLowerCase()+"js"}):e}const zK={__extends:m$,__assign:Vb,__rest:bf,__decorate:p$,__param:g$,__esDecorate:b$,__runInitializers:y$,__propKey:v$,__setFunctionName:x$,__metadata:w$,__awaiter:Ye,__generator:_$,__createBinding:Tv,__exportStar:S$,__values:Zb,__read:zE,__spread:k$,__spreadArrays:E$,__spreadArray:T$,__await:Zd,__asyncGenerator:j$,__asyncDelegator:A$,__asyncValues:N$,__makeTemplateObject:O$,__importStar:C$,__importDefault:M$,__classPrivateFieldGet:D$,__classPrivateFieldSet:P$,__classPrivateFieldIn:R$,__addDisposableResource:L$,__disposeResources:I$,__rewriteRelativeImportExtension:$$},UK=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:L$,get __assign(){return Vb},__asyncDelegator:A$,__asyncGenerator:j$,__asyncValues:N$,__await:Zd,__awaiter:Ye,__classPrivateFieldGet:D$,__classPrivateFieldIn:R$,__classPrivateFieldSet:P$,__createBinding:Tv,__decorate:p$,__disposeResources:I$,__esDecorate:b$,__exportStar:S$,__extends:m$,__generator:_$,__importDefault:M$,__importStar:C$,__makeTemplateObject:O$,__metadata:w$,__param:g$,__propKey:v$,__read:zE,__rest:bf,__rewriteRelativeImportExtension:$$,__runInitializers:y$,__setFunctionName:x$,__spread:k$,__spreadArray:T$,__spreadArrays:E$,__values:Zb,default:zK},Symbol.toStringTag,{value:"Module"})),FK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let jv=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},B$=class extends jv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Nk=class extends jv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ok=class extends jv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Xb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xb||(Xb={}));class HK{constructor(t,{headers:n={},customFetch:r,region:i=Xb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=FK(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ye(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:u,body:d,signal:h,timeout:p}=r;let b={},{region:y}=r;y||(y=this.region);const k=new URL(`${this.url}/${n}`);y&&y!=="any"&&(b["x-region"]=y,k.searchParams.set("forceFunctionRegion",y));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(b["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(b["Content-Type"]="application/json",w=JSON.stringify(d)):w=d;let S=h;p&&(o=new AbortController,a=setTimeout(()=>o.abort(),p),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const j=yield this.fetch(k.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:w,signal:S}).catch(D=>{throw new B$(D)}),O=j.headers.get("x-relay-error");if(O&&O==="true")throw new Nk(j);if(!j.ok)throw new Ok(j);let A=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield j.json():A==="application/octet-stream"||A==="application/pdf"?C=yield j.blob():A==="text/event-stream"?C=j:A==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(l){return{data:null,error:l,response:l instanceof Ok||l instanceof Nk?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const GK=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Xb},FunctionsClient:HK,FunctionsError:jv,FunctionsFetchError:B$,FunctionsHttpError:Ok,FunctionsRelayError:Nk},Symbol.toStringTag,{value:"Module"})),z$=up(GK);var Pr={};const yf=up(UK);var _g={},Sg={},kg={},Eg={},Tg={},jg={},nM;function U$(){if(nM)return jg;nM=1,Object.defineProperty(jg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jg.default=e,jg}var rM;function F$(){if(rM)return Tg;rM=1,Object.defineProperty(Tg,"__esModule",{value:!0});const t=yf.__importDefault(U$());let n=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,p,b;let y=null,k=null,w=null,S=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const D=await u.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?k=D:k=JSON.parse(D))}const A=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(y={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,w=null,S=406,j="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const A=await u.text();try{y=JSON.parse(A),Array.isArray(y)&&u.status===404&&(k=[],y=null,S=200,j="OK")}catch{u.status===404&&A===""?(S=204,j="No Content"):y={message:A}}if(y&&this.isMaybeSingle&&(!((b=y?.details)===null||b===void 0)&&b.includes("0 rows"))&&(y=null,S=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:k,count:w,status:S,statusText:j}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,p,b,y,k;let w="";const S=u?.cause;if(S){const j=(d=S?.message)!==null&&d!==void 0?d:"",O=(h=S?.code)!==null&&h!==void 0?h:"";w=`${(p=u?.name)!==null&&p!==void 0?p:"FetchError"}: ${u?.message}`,w+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,O&&(w+=` (${O})`),S?.stack&&(w+=`
${S.stack}`)}else w=(y=u?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(k=u?.name)!==null&&k!==void 0?k:"FetchError"}: ${u?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}};return Tg.default=n,Tg}var iM;function H$(){if(iM)return Eg;iM=1,Object.defineProperty(Eg,"__esModule",{value:!0});const t=yf.__importDefault(F$());let n=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const p=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${b}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Eg.default=n,Eg}var aM;function UE(){if(aM)return kg;aM=1,Object.defineProperty(kg,"__esModule",{value:!0});const t=yf.__importDefault(H$()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return kg.default=r,kg}var oM;function G$(){if(oM)return Sg;oM=1,Object.defineProperty(Sg,"__esModule",{value:!0});const t=yf.__importDefault(UE());let n=class{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},u=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((b,y)=>b.concat(Object.keys(y)),[]);if(p.length>0){const b=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Sg.default=n,Sg}var sM;function qK(){if(sM)return _g;sM=1,Object.defineProperty(_g,"__esModule",{value:!0});const e=yf,t=e.__importDefault(G$()),n=e.__importDefault(UE());let r=class q${constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new q$(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:d}={}){var h;let p;const b=new URL(`${this.url}/rpc/${a}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{b.searchParams.append(w,S)})):(p="POST",y=o);const k=new Headers(this.headers);return d&&k.set("Prefer",`count=${d}`),new n.default({method:p,url:b,headers:k,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return _g.default=r,_g}var lM;function Y$(){if(lM)return Pr;lM=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.PostgrestError=Pr.PostgrestBuilder=Pr.PostgrestTransformBuilder=Pr.PostgrestFilterBuilder=Pr.PostgrestQueryBuilder=Pr.PostgrestClient=void 0;const e=yf,t=e.__importDefault(qK());Pr.PostgrestClient=t.default;const n=e.__importDefault(G$());Pr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(UE());Pr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(H$());Pr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(F$());Pr.PostgrestBuilder=a.default;const o=e.__importDefault(U$());return Pr.PostgrestError=o.default,Pr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Pr}class K${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const YK="2.86.2",KK=`realtime-js/${YK}`,W$="1.0.0",WK="2.0.0",cM=W$,Ck=1e4,VK=1e3,ZK=100;var tu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tu||(tu={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var Ha;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ha||(Ha={}));var Mk;(function(e){e.websocket="websocket"})(Mk||(Mk={}));var nu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nu||(nu={}));class XK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(y),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,o.length),k.setUint8(w++,d.length),k.setUint8(w++,p.length),k.setUint8(w++,n),Array.from(u,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(l,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(o,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(d,j=>k.setUint8(w++,j.charCodeAt(0))),Array.from(p,j=>k.setUint8(w++,j.charCodeAt(0)));var S=new Uint8Array(y.byteLength+r.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(r),y.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,u]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=r.decode(t.slice(u,u+i));u=u+i;const h=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+o));u=u+o;const b=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,k={type:this.BROADCAST_EVENT,event:h,payload:y};return o>0&&(k.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class V${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vt||(Vt={}));const uM=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=JK(o,e,t,i),a),{}):{}},JK=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?Z$(a,o):Dk(o)},Z$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return nW(t,n)}switch(e){case Vt.bool:return QK(t);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return eW(t);case Vt.json:case Vt.jsonb:return tW(t);case Vt.timestamp:return rW(t);case Vt.abstime:case Vt.date:case Vt.daterange:case Vt.int4range:case Vt.int8range:case Vt.money:case Vt.reltime:case Vt.text:case Vt.time:case Vt.timestamptz:case Vt.timetz:case Vt.tsrange:case Vt.tstzrange:return Dk(t);default:return Dk(t)}},Dk=e=>e,QK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nW=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Z$(t,l))}return e},rW=e=>typeof e=="string"?e.replace(" ","T"):e,X$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class U_{constructor(t,n,r={},i=Ck){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pk||(Pk={}));let J$=class Ob{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ob.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Ob.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ob.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,h)=>{o[d]||(u[d]=h)}),this.map(o,(d,h)=>{const p=a[d];if(p){const b=h.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),k=h.filter(S=>y.indexOf(S.presence_ref)<0),w=p.filter(S=>b.indexOf(S.presence_ref)<0);k.length>0&&(l[d]=k),w.length>0&&(u[d]=w)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const p=t[l].map(y=>y.presence_ref),b=h.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...b)}r(l,h,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Rk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rk||(Rk={}));var Fd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fd||(Fd={}));var To;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(To||(To={}));const iW=Un;let Q$=class eB{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new U_(this,Ha.join,this.params,this.timeout),this.rejoinTimer=new V$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ha.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new J$(this),this.broadcastEndpointURL=X$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Un.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Fd.PRESENCE]&&this.bindings[Fd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},b={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(To.CHANNEL_ERROR,y)),this._onClose(()=>t?.(To.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var k;if(this.socket.setAuth(),y===void 0){t?.(To.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(k=w?.length)!==null&&k!==void 0?k:0,j=[];for(let O=0;O<S;O++){const A=w[O],{filter:{event:C,schema:D,table:P,filter:$}}=A,U=y&&y[O];if(U&&U.event===C&&U.schema===D&&U.table===P&&U.filter===$)j.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),this.state=Un.errored,t?.(To.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(To.SUBSCRIBED);return}}).receive("error",y=>{this.state=Un.errored,t?.(To.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(To.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Un.joined&&t===Fd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ha.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new U_(this,Ha.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Un.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new U_(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZK){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=Ha;if(r&&[l,u,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let b=this._onMessage(o,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var k,w,S;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((S=(w=y.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(b,r)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var k,w,S,j,O,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,D=(k=y.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(O=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:w,table:S,commit_timestamp:j,type:O,errors:A}=k;b=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:j,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(k))}y.callback(b,r)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&eB.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ha.close,{},t)}_onError(t){this._on(Ha.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=uM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=uM(t.columns,t.old_record)),n}};const F_=()=>{},Ag={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aW=[1e3,2e3,5e3,1e4],oW=1e4,sW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let lW=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ck,this.transport=null,this.heartbeatIntervalMs=Ag.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=F_,this.ref=0,this.reconnectTimer=null,this.vsn=cM,this.logger=F_,this.conn=null,this.sendBuffer=[],this.serializer=new XK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Mk.websocket}`,this.httpEndpoint=X$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=K$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tu.connecting:return nu.Connecting;case tu.open:return nu.Open;case tu.closing:return nu.Closing;default:return nu.Closed}}isConnected(){return this.connectionState()===nu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Q$(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VK,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ag.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tu.open||this.conn.readyState===tu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ha.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([sW],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:KK};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ha.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new V$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ag.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,u,d,h,p,b,y;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ck,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Ag.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:F_,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:cM,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(k=>aW[k-1]||oW),this.vsn){case W$:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((k,w)=>w(JSON.stringify(k))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((k,w)=>w(JSON.parse(k)));break;case WK:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const cW=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:iW,get REALTIME_LISTEN_TYPES(){return Fd},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Rk},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Pk},get REALTIME_SUBSCRIBE_STATES(){return To},RealtimeChannel:Q$,RealtimeClient:lW,RealtimePresence:J$,WebSocketFactory:K$},Symbol.toStringTag,{value:"Module"})),tB=up(cW);class mp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ln(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nB extends mp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jb extends mp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const FE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uW=()=>Response,Lk=e=>{if(Array.isArray(e))return e.map(n=>Lk(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Lk(r)}),t},dW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fW=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),H_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},hW=(e,t,n)=>Ye(void 0,void 0,void 0,function*(){const r=yield uW();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new nB(H_(i),a,o))}).catch(i=>{t(new Jb(H_(i),i))}):t(new Jb(H_(e),e))}),mW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(dW(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function pp(e,t,n,r,i,a){return Ye(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,mW(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>hW(u,l,r))})})}function Dm(e,t,n,r){return Ye(this,void 0,void 0,function*(){return pp(e,"GET",t,n,r)})}function Fa(e,t,n,r,i){return Ye(this,void 0,void 0,function*(){return pp(e,"POST",t,r,i,n)})}function Ik(e,t,n,r,i){return Ye(this,void 0,void 0,function*(){return pp(e,"PUT",t,r,i,n)})}function pW(e,t,n,r){return Ye(this,void 0,void 0,function*(){return pp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function HE(e,t,n,r,i){return Ye(this,void 0,void 0,function*(){return pp(e,"DELETE",t,r,i,n)})}class gW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ln(t))return{data:null,error:t};throw t}})}}var rB;class bW{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[rB]="BlobDownloadBuilder",this.promise=null}asStream(){return new gW(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ln(t))return{data:null,error:t};throw t}})}}rB=Symbol.toStringTag;const yW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vW{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=FE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ye(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},dM),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield(t=="PUT"?Ik:Fa)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ye(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:dM.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield Ik(this.fetch,l.toString(),u,{headers:h});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ln(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Fa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new mp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Fa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ye(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Fa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ye(this,void 0,void 0,function*(){try{const i=yield Fa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),u=()=>Dm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new bW(u,this.shouldThrowOnError)}info(t){return Ye(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Dm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lk(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}exists(t){return Ye(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield pW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r)&&r instanceof Jb){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield HE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ye(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yW),n),{prefix:t||""});return{data:yield Fa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ye(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Fa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const iB="2.86.2",aB={"X-Client-Info":`storage-js/${iB}`};class xW{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aB),n),this.fetch=FE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Dm(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}createBucket(t){return Ye(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ln(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield HE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Pm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wW(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function _W(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function SW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=wW(e.baseUrl,r,i),u=await _W(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),b=p&&h?JSON.parse(h):h;if(!d.ok){const y=p?b:void 0,k=y?.error;throw new Pm(k?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:k?.type,icebergCode:k?.code,details:y})}return{status:d.status,headers:d.headers,data:b}}}}function Ng(e){return e.join("")}var kW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ng(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ng(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ng(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ng(e.namespace)}`}),!0}catch(t){if(t instanceof Pm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Pm&&n.status===409)return;throw n}}};function gd(e){return e.join("")}var EW=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Pm&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Pm&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},TW=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=SW({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new kW(this.client,t),this.tableOps=new EW(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class oB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aB),n),this.fetch=FE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Dm(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield HE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}})}from(t){if(!fW(t))throw new mp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new TW({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ye(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const GE={"X-Client-Info":`storage-js/${iB}`,"Content-Type":"application/json"};class qE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function bi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Cb extends qE{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sB extends qE{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var $k;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($k||($k={}));const Av=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jW=()=>Response,lB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},AW=e=>Array.from(new Float32Array(e)),NW=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},fM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OW=(e,t,n)=>Ye(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new Cb(fM(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Cb(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new Cb(l,i,o))}}else t(new sB(fM(e),e))}),CW=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(lB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function MW(e,t,n,r,i,a){return Ye(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,CW(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>OW(u,l,r))})})}function Bi(e,t,n,r,i){return Ye(this,void 0,void 0,function*(){return MW(e,"POST",t,r,i,n)})}class cB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GE),n),this.fetch=Av(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bi(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bi(r))return{data:null,error:r};throw r}})}}class uB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GE),n),this.fetch=Av(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}listVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Bi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}}class dB{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GE),n),this.fetch=Av(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}listBuckets(){return Ye(this,arguments,void 0,function*(t={}){try{return{data:yield Bi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Bi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bi(n))return{data:null,error:n};throw n}})}}class fB extends dB{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new hB(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ye(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ye(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ye(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ye(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class hB extends cB{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ye(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ye(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ye(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ye(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new mB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class mB extends uB{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ye(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ye(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ye(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ye(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ye(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class DW extends xW{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new vW(this.url,this.headers,t,this.fetch)}get vectors(){return new fB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oB(this.url+"/iceberg",this.headers,this.fetch)}}const PW=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:oB,StorageApiError:nB,StorageClient:DW,StorageError:mp,StorageUnknownError:Jb,StorageVectorsApiError:Cb,StorageVectorsClient:fB,StorageVectorsError:qE,get StorageVectorsErrorCode(){return $k},StorageVectorsUnknownError:sB,VectorBucketApi:dB,VectorBucketScope:hB,VectorDataApi:uB,VectorIndexApi:cB,VectorIndexScope:mB,isPlainObject:lB,isStorageError:ln,isStorageVectorsError:bi,normalizeToFloat32:AW,resolveFetch:Av,resolveResponse:jW,validateVectorDimension:NW},Symbol.toStringTag,{value:"Module"})),RW=up(PW);var G_={},Hh={},hM;function LW(){return hM||(hM=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.version=void 0,Hh.version="2.86.2"),Hh}var mM;function IW(){return mM||(mM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=LW();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(G_)),G_}var q_={},pM;function $W(){return pM||(pM=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(d,h)=>{var p;const b=(p=await a())!==null&&p!==void 0?p:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${b}`),l(d,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=r})(q_)),q_}var gs={},gM;function BW(){if(gM)return gs;gM=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.isBrowser=void 0,gs.uuid=e,gs.ensureTrailingSlash=t,gs.applySettingDefaults=r,gs.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";gs.isBrowser=n;function r(a,o){var l,u;const{db:d,auth:h,realtime:p,global:b}=a,{db:y,auth:k,realtime:w,global:S}=o,j={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},k),h),realtime:Object.assign(Object.assign({},w),p),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(l=S?.headers)!==null&&l!==void 0?l:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return gs}var Gh={};const pB="2.86.2",Cd=30*1e3,Bk=3,Y_=Bk*Cd,zW="http://localhost:9999",UW="supabase.auth.token",FW={"X-Client-Info":`gotrue-js/${pB}`},zk="X-Supabase-Api-Version",gB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GW=600*1e3;let Xd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let bB=class extends Xd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function yB(e){return Ve(e)&&e.name==="AuthApiError"}let Dl=class extends Xd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Is=class extends Xd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},mi=class extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function vB(e){return Ve(e)&&e.name==="AuthSessionMissingError"}let Kc=class extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},gm=class extends Is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},bm=class extends Is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function xB(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}let Uk=class extends Is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qb=class extends Is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Mb(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}let Fk=class extends Is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function qW(e){return Ve(e)&&e.name==="AuthWeakPasswordError"}let ey=class extends Is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bM=` 	
\r=`.split(""),YW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bM.length;t+=1)e[bM[t].charCodeAt(0)]=-2;for(let t=0;t<ty.length;t+=1)e[ty[t].charCodeAt(0)]=t;return e})();function yM(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ty[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ty[r]),t.queuedBits-=6}}function wB(e,t,n){const r=YW[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vM(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{VW(o,r,n)};for(let o=0;o<e.length;o+=1)wB(e.charCodeAt(o),i,a);return t.join("")}function KW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WW(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}KW(r,t)}}function VW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function ZW(e){const t=[];return WW(e,n=>t.push(n)),new Uint8Array(t)}function au(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>yM(i,n,r)),yM(null,n,r),t.join("")}function XW(e){return Math.round(Date.now()/1e3)+e}function JW(){return Symbol("auth-callback")}const kr=()=>typeof window<"u"&&typeof document<"u",Ic={tested:!1,writable:!1},_B=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ic.tested)return Ic.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ic.tested=!0,Ic.writable=!0}catch{Ic.tested=!0,Ic.writable=!1}return Ic.writable};function QW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const SB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eV=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Md=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$c=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_r=async(e,t)=>{await e.removeItem(t)};class Nv{constructor(){this.promise=new Nv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Nv.promiseConstructor=Promise;function K_(e){const t=e.split(".");if(t.length!==3)throw new ey("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!HW.test(t[r]))throw new ey("JWT not in base64url format");return{header:JSON.parse(vM(t[0])),payload:JSON.parse(vM(t[1])),signature:Hd(t[2]),raw:{header:t[0],payload:t[1]}}}async function tV(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nV(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function rV(e){return("0"+e.toString(16)).substr(-2)}function iV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,rV).join("")}async function aV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function oV(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await aV(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bd(e,t,n=!1){const r=iV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Md(e,`${t}-code-verifier`,i);const a=await oV(r);return[a,r===a?"plain":"s256"]}const sV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lV(e){const t=e.headers.get(zk);if(!t||!t.match(sV))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function cV(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uV(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yd(e){if(!dV.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function W_(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fV(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function xM(e){return JSON.parse(JSON.stringify(e))}const Wc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hV=[502,503,504];async function wM(e){var t;if(!eV(e))throw new Qb(Wc(e),0);if(hV.includes(e.status))throw new Qb(Wc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Dl(Wc(a),a)}let r;const i=lV(e);if(i&&i.getTime()>=gB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Fk(Wc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Fk(Wc(n),e.status,n.weak_password.reasons);throw new bB(Wc(n),e.status||500,r)}const mV=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function at(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[zk]||(a[zk]=gB["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await pV(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function pV(e,t,n,r,i,a){const o=mV(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new Qb(Wc(u),0)}if(l.ok||await wM(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await wM(u)}}function Ua(e){var t;let n=null;yV(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=XW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _M(e){const t=Ua(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gV(e){return{data:e,error:null}}function bV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=bf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function SM(e){return e}function yV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Db=["global","local","others"];let YE=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=SB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Db[0]){if(Db.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Db.join(", ")}`);try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pl})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=bf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bV,redirectTo:n?.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pl})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:SM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ve(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){yd(t);try{return await at(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pl})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yd(t);try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pl})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yd(t);try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pl})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yd(t.userId);try{const{data:n,error:r}=await at(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yd(t.userId),yd(t.id);try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await at(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:SM});if(h.error)throw h.error;const p=await h.json(),b=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(k.split(";")[1].split("=")[1]);d[`${S}Page`]=w}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ve(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await at(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await at(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await at(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await at(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await at(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}};function kM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Vc={debug:!!(globalThis&&_B()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class KE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let kB=class extends KE{};class vV extends KE{}async function EB(e,t,n){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const EM={};async function xV(e,t,n){var r;const i=(r=EM[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new vV(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return EM[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function wV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _V(e){return parseInt(e,16)}function SV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kV(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:h,uri:p,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=TB(e.address),k=h?`${h}://${r}`:r,w=e.statement?`${e.statement}
`:"",S=`${k} wants you to sign in with your Ethereum account:
${y}

${w}`;let j=`URI: ${p}
Version: ${b}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),u&&(j+=`
Request ID: ${u}`),d){let O=`
Resources:`;for(const A of d){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}j+=O}return`${S}
${j}`}class Fn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class ny extends Fn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function EV({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(jB(o)){if(a.rp.id!==o)return new Fn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TV({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(jB(r)){if(n.rpId!==r)return new Fn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class jV{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const AV=new jV;function NV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=bf(e,["challenge","user","excludeCredentials"]),a=Hd(t).buffer,o=Object.assign(Object.assign({},n),{id:Hd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Hd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function OV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=bf(e,["challenge","allowCredentials"]),i=Hd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Hd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function CV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:au(new Uint8Array(e.response.attestationObject)),clientDataJSON:au(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function MV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:au(new Uint8Array(i.authenticatorData)),clientDataJSON:au(new Uint8Array(i.clientDataJSON)),signature:au(new Uint8Array(i.signature)),userHandle:i.userHandle?au(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function TM(){var e,t;return!!(kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function DV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ny("Browser returned unexpected credential type",t)}:{data:null,error:new ny("Empty credential response",t)}}catch(t){return{data:null,error:EV({error:t,options:e})}}}async function PV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ny("Browser returned unexpected credential type",t)}:{data:null,error:new ny("Empty credential response",t)}}catch(t){return{data:null,error:TV({error:t,options:e})}}}const RV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},LV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ry(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=ry(l,o):r[a]=ry(o)}else r[a]=o}return r}function IV(e,t){return ry(RV,e,t||{})}function $V(e,t){return ry(LV,e,t||{})}class BV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??AV.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=IV(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:p}=await DV({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=$V(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:p}=await PV(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Dl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Xd("rpId is required for WebAuthn authentication")};try{if(!TM())return{data:null,error:new Dl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Dl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Xd("rpId is required for WebAuthn registration")};try{if(!TM())return{data:null,error:new Dl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Dl("Unexpected error in register",o)}}}}wV();const zV={url:zW,storageKey:UW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jM(e,t,n){return await n()}const vd={};let WE=class Hk{get jwks(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},zV),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Hk.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Hk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&kr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new YE({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=SB(a.fetch),this.lock=a.lock||jM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:kr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=EB:this.lock=jM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:_B()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=kM(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(kr()&&(n=QW(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),kr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),xB(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?this._returnResult({error:n}):this._returnResult({error:new Dl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ua}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:b}=t;let y=null,k=null;this.flowType==="pkce"&&([y,k]=await bd(this.storage,this.storageKey)),a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:h,password:p,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:y,code_challenge_method:k},xform:Ua})}else if("phone"in t){const{phone:h,password:p,options:b}=t;a=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ua})}else throw new gm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await _r(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:_M})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:_M})}else throw new gm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Kc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,u,d,h,p,b;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:w,wallet:S,statement:j,options:O}=t;let A;if(kr())if(typeof S=="object")A=S;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")A=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const C=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=TB(D[0]);let $=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const W=await A.request({method:"eth_chainId"});$=_V(W)}const U={domain:C.host,address:P,statement:j,uri:C.href,version:"1",chainId:$,nonce:(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=O?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=kV(U),k=await A.request({method:"personal_sign",params:[SV(y),P]})}try{const{data:w,error:S}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:k},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ua});if(S)throw S;if(!w||!w.session||!w.user){const j=new Kc;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(Ve(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,i,a,o,l,u,d,h,p,b,y;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:O,options:A}=t;let C;if(kr())if(typeof j=="object")C=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const D=new URL((n=A?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let $;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")$=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)$=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)k=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),w=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${D.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=A?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((p=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...A.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=P}}try{const{data:S,error:j}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:au(w)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ua});if(j)throw j;if(!S||!S.session||!S.user){const O=new Kc;return this._returnResult({data:{user:null,session:null},error:O})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Ve(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await $c(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ua});if(await _r(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Kc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ua}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Kc;return this._returnResult({data:{user:null,session:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await bd(this.storage,this.storageKey));const{error:p}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new gm("You must provide either an email or phone number.")}catch(l){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ua});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await bd(this.storage,this.storageKey));const d=await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:gV});return!((a=d.data)===null||a===void 0)&&a.url&&kr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mi;const{error:i}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await at(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await at(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new gm("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Y_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await $c(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=W_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=fV(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pl}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mi}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Pl})})}catch(n){if(Ve(n))return vB(n)&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new mi;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await bd(this.storage,this.storageKey));const{data:d,error:h}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Pl});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=K_(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new mi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ve(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!kr())throw new bm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Uk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uk("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new bm("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let b=h+p;u&&(b=parseInt(u));const y=b-h;y*1e3<=Cd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const k=b-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,h);const{data:w,error:S}=await this._getUser(a);if(S)throw S;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:b,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $c(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(yB(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await _r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=JW(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bd(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,u,d,h;const{data:p,error:b}=a;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return kr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:u,access_token:d,nonce:h}=t,p=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ua}),{data:b,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Kc}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(i){if(await _r(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nV(async i=>(i>0&&await tV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ua})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Mb(a)&&Date.now()+o-r<Cd})}catch(r){if(this._debug(n,"error",r),Ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $c(this.storage,this.storageKey);if(i&&this.userStorage){let o=await $c(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Md(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:W_()}else if(i&&!i.user&&!i.user){const o=await $c(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await _r(this.storage,this.storageKey+"-user"),await Md(this.storage,this.storageKey,i)):i.user=W_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Y_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Y_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Mb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Nv;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new mi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ve(a)){const o={data:null,error:a};return Mb(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _r(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Md(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=xM(i);await Md(this.storage,this.storageKey,a)}else{const i=xM(n);await Md(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _r(this.storage,this.storageKey),await _r(this.storage,this.storageKey+"-code-verifier"),await _r(this.storage,this.storageKey+"-user"),this.userStorage&&await _r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Cd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cd}ms, refresh threshold is ${Bk} ticks`),i<=Bk&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof KE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await bd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await at(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await at(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?CV(t.webauthn.credential_response):MV(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NV(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:OV(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=K_(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await at(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new mi})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mi});const o=await at(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&kr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mi});const o=await at(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&kr()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await at(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mi})})}catch(t){if(Ve(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await at(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mi})})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+GW>i)return r;const{data:a,error:o}=await at(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:k}=await this.getSession();if(k||!y.session)return this._returnResult({data:null,error:k});r=y.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=K_(r);n?.allowExpired||cV(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:a,header:i,signature:o},error:null}}const h=uV(i.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,ZW(`${l}.${u}`)))throw new ey("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}};WE.nextInstanceID={};const UV=YE,FV=WE,HV=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:UV,AuthApiError:bB,AuthClient:FV,AuthError:Xd,AuthImplicitGrantRedirectError:bm,AuthInvalidCredentialsError:gm,AuthInvalidJwtError:ey,AuthInvalidTokenResponseError:Kc,AuthPKCEGrantCodeExchangeError:Uk,AuthRetryableFetchError:Qb,AuthSessionMissingError:mi,AuthUnknownError:Dl,AuthWeakPasswordError:Fk,CustomAuthError:Is,GoTrueAdminApi:YE,GoTrueClient:WE,NavigatorLockAcquireTimeoutError:kB,SIGN_OUT_SCOPES:Db,isAuthApiError:yB,isAuthError:Ve,isAuthImplicitGrantRedirectError:xB,isAuthRetryableFetchError:Mb,isAuthSessionMissingError:vB,isAuthWeakPasswordError:qW,lockInternals:Vc,navigatorLock:EB,processLock:xV},Symbol.toStringTag,{value:"Module"})),AB=up(HV);var AM;function GV(){if(AM)return Gh;AM=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.SupabaseAuthClient=void 0;const e=AB;let t=class extends e.AuthClient{constructor(r){super(r)}};return Gh.SupabaseAuthClient=t,Gh}var NM;function OM(){if(NM)return wg;NM=1,Object.defineProperty(wg,"__esModule",{value:!0});const e=z$,t=Y$(),n=tB,r=RW,i=IW(),a=$W(),o=BW(),l=GV();class u{constructor(h,p,b){var y,k,w;this.supabaseUrl=h,this.supabaseKey=p;const S=(0,o.validateSupabaseUrl)(h);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,O={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},A=(0,o.applySettingDefaults)(b??{},O);this.storageKey=(y=A.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(k=A.global.headers)!==null&&k!==void 0?k:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(C,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=A.auth)!==null&&w!==void 0?w:{},this.headers,A.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,p={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,p,b)}channel(h,p={config:{}}){return this.realtime.channel(h,p)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,p;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,storageKey:w,flowType:S,lock:j,debug:O,throwOnError:A},C,D){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),C),storageKey:w,autoRefreshToken:h,persistSession:p,detectSessionInUrl:b,storage:y,userStorage:k,flowType:S,lock:j,debug:O,throwOnError:A,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,b)=>{this._handleTokenChanged(p,"CLIENT",b?.access_token)})}_handleTokenChanged(h,p,b){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return wg.default=u,wg}var CM;function qV(){return CM||(CM=1,(function(e){var t=ps&&ps.__createBinding||(Object.create?(function(h,p,b,y){y===void 0&&(y=b);var k=Object.getOwnPropertyDescriptor(p,b);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,y,k)}):(function(h,p,b,y){y===void 0&&(y=b),h[y]=p[b]})),n=ps&&ps.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},r=ps&&ps.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(OM());n(AB,e);var a=Y$();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=z$;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(tB,e);var l=OM();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const u=(h,p,b)=>new i.default(h,p,b);e.createClient=u;function d(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const p=h.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ps)),ps}var NB=qV();const OB=_i(NB),YV=NE({__proto__:null,default:OB},[NB]),{PostgrestError:TOe,FunctionsHttpError:jOe,FunctionsFetchError:AOe,FunctionsRelayError:NOe,FunctionsError:OOe,FunctionRegion:COe,SupabaseClient:MOe,createClient:KV,GoTrueAdminApi:DOe,GoTrueClient:POe,AuthAdminApi:ROe,AuthClient:LOe,navigatorLock:IOe,NavigatorLockAcquireTimeoutError:$Oe,lockInternals:BOe,processLock:zOe,SIGN_OUT_SCOPES:UOe,AuthError:FOe,AuthApiError:HOe,AuthUnknownError:GOe,CustomAuthError:qOe,AuthSessionMissingError:YOe,AuthInvalidTokenResponseError:KOe,AuthInvalidCredentialsError:WOe,AuthImplicitGrantRedirectError:VOe,AuthPKCEGrantCodeExchangeError:ZOe,AuthRetryableFetchError:XOe,AuthWeakPasswordError:JOe,AuthInvalidJwtError:QOe,isAuthError:eCe,isAuthApiError:tCe,isAuthSessionMissingError:nCe,isAuthImplicitGrantRedirectError:rCe,isAuthRetryableFetchError:iCe,isAuthWeakPasswordError:aCe,RealtimePresence:oCe,RealtimeChannel:sCe,RealtimeClient:lCe,REALTIME_LISTEN_TYPES:cCe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:uCe,REALTIME_PRESENCE_LISTEN_EVENTS:dCe,REALTIME_SUBSCRIBE_STATES:fCe,REALTIME_CHANNEL_STATES:hCe}=OB||YV,WV="https://jouhybyquybxbnqztxum.supabase.co",VV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",ZV=!1,Re=KV(WV,VV,{auth:{flowType:"pkce",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:ZV,storage:localStorage}}),CB="settings_v1",Gk=()=>{try{typeof window<"u"&&window.localStorage.removeItem(CB)}catch{}},Rl={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,showEtcShinsal:!0,showRelationBox:!0,showPromptBox:!0,theme:"dark",difficultyMode:!1,sidebarCardsCollapsed:!1,sidebarCardCollapsedMap:{},sidebarCollapseInitDone:!0,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},MM=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],XV=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&MM.includes(r)):[],n=MM.filter(r=>!t.includes(r));return[...t,...n]},Gd=e=>({...Rl,...e,sectionOrder:XV(e.sectionOrder)}),JV=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return Gd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return Gd(n.settings)}}return Gd(e??{})},QV=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};Gk();const vn=Uo()(h$((e,t)=>({settings:Rl,syncing:!1,loaded:!1,setSettings:n=>e({settings:Gd(n)}),setKey:(n,r)=>e({settings:Gd({...t().settings,[n]:r})}),reset:()=>e({settings:Rl,loaded:!0}),loadFromServer:async n=>{const r=t();if(!r.syncing&&!(!n?.force&&r.loaded))try{e({syncing:!0}),Gk();const{data:i,error:a}=await Re.auth.getUser(),o=i?.user??null;if(a||!o){e({settings:Rl,syncing:!1,loaded:!0});return}const l=t();!n?.force&&l.loaded&&l.syncing;const{data:u,error:d}=await Re.from("user_settings").select("payload").eq("user_id",o.id).maybeSingle();if(!u&&!d&&await Re.from("user_settings").upsert({user_id:o.id,payload:{}}),d&&d.code!=="PGRST116"){console.error("loadFromServer(settings) error:",d),e({syncing:!1,loaded:!0});return}if(u?.payload){const h=JV(u.payload),b=u.payload?.sidebarCollapseInitDone===!0;b||(h.sidebarCardsCollapsed=Rl.sidebarCardsCollapsed,h.sidebarCardCollapsedMap={},h.sidebarCollapseInitDone=!0),e({settings:h,syncing:!1,loaded:!0}),(QV(u.payload)||!b)&&await Re.from("user_settings").upsert({user_id:o.id,payload:h,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(i){console.error("loadFromServer(settings) exception:",i),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),Gk();const{data:r,error:i}=await Re.auth.getUser(),a=r?.user??null;if(i||!a){e({syncing:!1,loaded:!0,settings:Rl});return}const o=Gd(t().settings),{error:l}=await Re.from("user_settings").upsert({user_id:a.id,payload:o,updated_at:new Date().toISOString()});l&&console.error("saveToServer(settings) error:",l),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1,loaded:!0})}}}),{name:CB,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function qk(e){const t=Xr.indexOf(e);if(t!==-1)return Xr[t];const n=ro..indexOf(e);return n!==-1?Xr[n]:null}function MB(e){const t=vi.indexOf(e);if(t!==-1)return vi[t];const n=ro..indexOf(e);return n!==-1?vi[n]:null}function DM(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function Yi(e,t,n){if(t==="stem"){const r=qk(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=Xr.indexOf(r),a=i>=0?pK[i]:void 0;return DM(a,n)}else{const r=MB(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=vi.indexOf(r),a=i>=0?gK[i]:void 0;return DM(a,n)}}function wa(e,t){const n=qk(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=qk(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return vK[n][r]}if(t.branch){const r=MB(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return xK[n][r]}throw new Error("getSipSin: stem or branch required")}const Ov={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},Cv={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function DB({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const o=(r==="hgc"?Cv:Ov)[e]??[],l=n==="main"?[o[2]]:o,u=i==="white",d=u?"text-white":"text-neutral-800 dark:text-white",h=u?"border-white":"border-neutral-800 dark: border-neutral-200",p=u?"text-yellow-900":"text-red-600 dark:text-yellow-300";return g.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:l.map((b,y)=>b==="(-)"||a?g.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap`,children:"(-) ()"},y):g.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${h} ${d} rounded text-center text-nowrap 
            ${n==="main"||y===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[b," (",wa(t,{stem:b}),")"]},y))})}const gp=Uo(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),PB=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),RB=Object.fromEntries(Object.entries(Qn).map(([e,t])=>[t,e])),eZ=new Set(Object.keys(Gn)),tZ=new Set(Object.keys(Qn)),nZ=new Set(["","","","","","","","","",""]),rZ=new Set(["","","","","","","","","","","",""]);function xi(e,t,n){return n===""?t==="stem"?Gn[e]??e:Qn[e]??e:t==="stem"?PB[e]??e:RB[e]??e}function PM(e){const t=PB[e]??e;return eZ.has(t)?t:""}function iZ(e){const t=RB[e]??e;return tZ.has(t)?t:""}function Mv(e){if(Vd.has(e))return e;const t=Gn[e]??e;return Vd.has(t)?t:""}function VE(e){if(Mm.has(e))return e;const t=Qn[e]??e;return Mm.has(t)?t:""}function Qa(e,t){return t==="stem"?nZ.has(e):rZ.has(e)}function Pd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:o=!0,hideHiddenStems:l=!1,size:u="sm",variant:d="auto",isUnknownTime:h=!1}){const{manualHour:p}=gp(),b=h&&!p,y=t.charAt(0),k=t.charAt(1),w=xi(y,"stem",r.charType),S=xi(k,"branch",r.charType),j=PM(y),O=iZ(k),A=PM(n),C=VE(k),D=Mv(n),P=r.showSipSin?wa(A,{stem:j}):null,$=!o&&r.showSipSin?wa(A,{branch:O}):null,U=r.thinEum&&Qa(y,"stem")?"font-thin":"font-bold",W=r.thinEum&&Qa(k,"branch")?"font-thin":"font-bold",Y={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},F=!l&&!!r.hiddenStem,z=r.hiddenStem==="regular"?"main":"all",K=r.hiddenStemMode==="hgc"?"hgc":"classic",Z=d==="white",X=Z?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",q=Z?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",J=Z?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ee=Z?"text-neutral-500":"text-neutral-400",le=Z?"text-neutral-500":"text-neutral-400",{settings:ae}=vn(),B=b?`bg-white ${J}`:`${Yi(j,"stem",ae)} ${J}`,V=b?`bg-white ${J}`:`${Yi(O,"branch",ae)} ${J}`,ne=b?"text-black":ae.difficultyMode?ae.theme==="light"?"text-neutral-900":"text-black":"text-white",oe=b?"text-black":ae.difficultyMode?ae.theme==="light"?"text-neutral-900":"text-black":"text-white";return g.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${X}`,children:[g.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${q} text-nowrap`,children:e}),g.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[P&&g.jsx("div",{className:`text-[10px] desk:text-xs ${ee} text-nowrap`,children:h&&!p?"-":P}),g.jsx("div",{className:`${Y[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${ne} ${U}`,children:b?"-":w})}),g.jsx("div",{className:`${Y[u]} rounded-sm desk:rounded-lg flex items-center justify-center border ${V}`,children:g.jsx("span",{className:`text-2xl md:text-3xl ${oe} ${W}`,children:b?"-":S})}),F&&g.jsx(DB,{branch:C,dayStem:D,mode:z,mapping:K,isUnknownTime:h&&!p&&(e===""||e==="")}),$&&g.jsx("div",{className:`text-[10px] desk:text-xs ${le}`,children:h&&!p?"-":$}),r.showSibiUnseong&&g.jsx("div",{className:`text-[10px] desk:text-xs ${le} text-nowrap`,children:h&&!p?"-":i||""}),r.showSibiSinsal&&g.jsx("div",{className:`text-[10px] desk:text-xs ${le} text-nowrap`,children:h&&!p?"-":a||""})]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),RM=e=>{const t=oZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},LB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),sZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...lZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:LB("lucide",i),...!a&&!sZ(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=(e,t)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(cZ,{ref:a,iconNode:t,className:LB(`lucide-${aZ(RM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=RM(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dZ=Nr("chevron-down",uZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hZ=Nr("chevron-up",fZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IB=Nr("circle-question-mark",mZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gZ=Nr("circle-x",pZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],yZ=Nr("heart-handshake",bZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xZ=Nr("house",vZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_Z=Nr("info",wZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],$B=Nr("log-in",SZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],EZ=Nr("log-out",kZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jZ=Nr("menu",TZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NZ=Nr("plus",AZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CZ=Nr("settings",OZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DZ=Nr("sparkles",MZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],RZ=Nr("square-user",PZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],BB=Nr("star",LZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$Z=Nr("user-plus",IZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iy=Nr("x",BZ);function zZ(){const[e,t]=_.useState(!1);return g.jsx("div",{className:"z-[60] pointer-events-none mt-2",children:g.jsx("div",{className:"max-w-[700px] w-full mx-auto pb-2 pointer-events-auto",children:g.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/90 backdrop-blur shadow-sm dark:border-neutral-800 dark:bg-neutral-950/80",children:[g.jsxs("button",{type:"button",onClick:()=>t(n=>!n),className:"w-full flex flex-col desk:flex-row items-center justify-between gap-2 px-3 py-2 cursor-pointer",children:[g.jsx("div",{className:"flex items-center gap-2 min-w-0",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(_Z,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-300 hidden desk:block"}),g.jsx("span",{className:"text-xs text-neutral-700 dark:text-neutral-200",children:"         ."})]})}),g.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:e?"":""})]}),e&&g.jsx("div",{className:"px-3 pb-3",children:g.jsxs("div",{className:"text-[12px] leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{className:"mt-1 text-neutral-500 dark:text-neutral-400",children:"  /     ."}),g.jsx("p",{children:g.jsx("a",{href:"https://yavares.tistory.com/1013",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"     !"})})})]})})]})})})}const UZ=new Set(ro.);function FZ(e){return Vd.has(e)?e:UZ.has(e)?Gn[e]:""}function HZ(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function GZ({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,o=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,l=t.showSipSin&&!n;return g.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[g.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),g.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:g.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&g.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:o}).map((u,d)=>g.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},d))}),l&&g.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function qZ(){const e=vn(S=>S.settings),[t,n]=_.useState(new Date),[r,i]=_.useState(!0),[a,o]=_.useState("/"),[l,u]=_.useState(!1),[d,h]=_.useState(null);_.useEffect(()=>{if(!r)return;const S=setInterval(()=>n(new Date),1e3);return()=>clearInterval(S)},[r]),_.useEffect(()=>{let S=!0;const j=async()=>{const{data:C}=await Re.auth.getSession(),D=C.session?.user?.id;if(!D){S&&h(null);return}const{data:P,error:$}=await Re.from("user_activity").select("total_active_ms").eq("user_id",D).maybeSingle();if($){S&&h(null);return}const U=P?.total_active_ms;S&&h(typeof U=="number"?U:null)};j();const O=window.setInterval(()=>void j(),6e4),A=()=>{document.visibilityState==="visible"&&j()};return document.addEventListener("visibilitychange",A),()=>{S=!1,window.clearInterval(O),document.removeEventListener("visibilitychange",A)}},[]);const p=lt(t),b=St(t),y=mt(t,a),k=Ja(t,"/"),w=FZ(y.charAt(0));return g.jsx("div",{className:"flex flex-col justify-center items-center pt-20 desk:pt-16 desk:mt-12 w-full h-auto desk:h-[calc(100dvh_-_212px)] ",children:g.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[g.jsxs("div",{className:"mb-3 text-xs desk:text-sm text-neutral-600 dark:text-neutral-300",children:["  :"," ",g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:HZ(d)})]}),g.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",WZ(t)]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{value:a,onChange:S=>o(S.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[g.jsx("option",{value:"",children:" ( 23)"}),g.jsx("option",{value:"/",children:"/ ()"}),g.jsx("option",{value:"",children:" ( 3)"})]}),g.jsx("button",{onClick:()=>u(S=>!S),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                          ${l?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[l?g.jsx(GZ,{label:"",settings:e,hideBranchSipSin:!0}):g.jsx(Pd,{label:"",gz:k,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Pd,{label:"",gz:y,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Pd,{label:"",gz:b,dayStem:w,settings:e,hideBranchSipSin:!0}),g.jsx(Pd,{label:"",gz:p,dayStem:w,settings:e,hideBranchSipSin:!0})]}),g.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[g.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"datetime-local",value:YZ(t),disabled:r,onChange:S=>{const j=KZ(S.target.value);j&&n(j)},className:`h-30 rounded px-3 py-1 text-sm transition-colors
                          bg-white dark:bg-neutral-900
                          border border-neutral-300 dark:border-neutral-700
                          text-neutral-900 dark:text-neutral-100
                          focus:outline-none focus:ring-2 focus:ring-amber-500/40
                          ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),g.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),g.jsx(zZ,{})]})})}function YZ(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function KZ(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number),u=new Date(r,i-1,a,o,l);return Number.isNaN(u.getTime())?null:u}function WZ(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}function VZ({placeholderText:e,value:t}){const[n,r]=_.useState(e),[i,a]=_.useState(!1),[o,l]=_.useState(t??""),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null);return _.useEffect(()=>{t!==void 0&&l(t)},[t]),{btnText:n,setBtnText:r,open:i,setOpen:a,localValue:o,setLocalValue:l,nameRef:u,latRef:d,lonRef:h,triggerBtnRef:p}}var ym={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ZZ=ym.exports,LM;function XZ(){return LM||(LM=1,(function(e,t){(function(n,r){r(t)})(ZZ,(function(n){var r="1.9.4";function i(f){var v,E,M,R;for(E=1,M=arguments.length;E<M;E++){R=arguments[E];for(v in R)f[v]=R[v]}return f}var a=Object.create||(function(){function f(){}return function(v){return f.prototype=v,new f}})();function o(f,v){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var M=E.call(arguments,2);return function(){return f.apply(v,M.length?M.concat(E.call(arguments)):arguments)}}var l=0;function u(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function d(f,v,E){var M,R,H,Q;return Q=function(){M=!1,R&&(H.apply(E,R),R=!1)},H=function(){M?R=arguments:(f.apply(E,arguments),setTimeout(Q,v),M=!0)},H}function h(f,v,E){var M=v[1],R=v[0],H=M-R;return f===M&&E?f:((f-R)%H+H)%H+R}function p(){return!1}function b(f,v){if(v===!1)return f;var E=Math.pow(10,v===void 0?6:v);return Math.round(f*E)/E}function y(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function k(f){return y(f).split(/\s+/)}function w(f,v){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?a(f.options):{});for(var E in v)f.options[E]=v[E];return f.options}function S(f,v,E){var M=[];for(var R in f)M.push(encodeURIComponent(E?R.toUpperCase():R)+"="+encodeURIComponent(f[R]));return(!v||v.indexOf("?")===-1?"?":"&")+M.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function O(f,v){return f.replace(j,function(E,M){var R=v[M];if(R===void 0)throw new Error("No value provided for variable "+E);return typeof R=="function"&&(R=R(v)),R})}var A=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function C(f,v){for(var E=0;E<f.length;E++)if(f[E]===v)return E;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var $=0;function U(f){var v=+new Date,E=Math.max(0,16-(v-$));return $=v+E,window.setTimeout(f,E)}var W=window.requestAnimationFrame||P("RequestAnimationFrame")||U,Y=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function F(f,v,E){if(E&&W===U)f.call(v);else return W.call(window,o(f,v))}function z(f){f&&Y.call(window,f)}var K={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:h,falseFn:p,formatNum:b,trim:y,splitWords:k,setOptions:w,getParamString:S,template:O,isArray:A,indexOf:C,emptyImageUrl:D,requestFn:W,cancelFn:Y,requestAnimFrame:F,cancelAnimFrame:z};function Z(){}Z.extend=function(f){var v=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=v.__super__=this.prototype,M=a(E);M.constructor=v,v.prototype=M;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(v[R]=this[R]);return f.statics&&i(v,f.statics),f.includes&&(X(f.includes),i.apply(null,[M].concat(f.includes))),i(M,f),delete M.statics,delete M.includes,M.options&&(M.options=E.options?a(E.options):{},i(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,Q=M._initHooks.length;H<Q;H++)M._initHooks[H].call(this)}},v},Z.include=function(f){var v=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=v,this.mergeOptions(f.options)),this},Z.mergeOptions=function(f){return i(this.prototype.options,f),this},Z.addInitHook=function(f){var v=Array.prototype.slice.call(arguments,1),E=typeof f=="function"?f:function(){this[f].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function X(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=A(f)?f:[f];for(var v=0;v<f.length;v++)f[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v);else{f=k(f);for(var R=0,H=f.length;R<H;R++)this._on(f[R],v,E)}return this},off:function(f,v,E){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var M in f)this._off(M,f[M],v);else{f=k(f);for(var R=arguments.length===1,H=0,Q=f.length;H<Q;H++)R?this._off(f[H]):this._off(f[H],v,E)}return this},_on:function(f,v,E,M){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(f,v,E)===!1){E===this&&(E=void 0);var R={fn:v,ctx:E};M&&(R.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(R)}},_off:function(f,v,E){var M,R,H;if(this._events&&(M=this._events[f],!!M)){if(arguments.length===1){if(this._firingCount)for(R=0,H=M.length;R<H;R++)M[R].fn=p;delete this._events[f];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var Q=this._listens(f,v,E);if(Q!==!1){var de=M[Q];this._firingCount&&(de.fn=p,this._events[f]=M=M.slice()),M.splice(Q,1)}}},fire:function(f,v,E){if(!this.listens(f,E))return this;var M=i({},v,{type:f,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var R=this._events[f];if(R){this._firingCount=this._firingCount+1||1;for(var H=0,Q=R.length;H<Q;H++){var de=R[H],ge=de.fn;de.once&&this.off(f,ge,de.ctx),ge.call(de.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(f,v,E,M){typeof f!="string"&&console.warn('"string" type argument expected');var R=v;typeof v!="function"&&(M=!!v,R=void 0,E=void 0);var H=this._events&&this._events[f];if(H&&H.length&&this._listens(f,R,E)!==!1)return!0;if(M){for(var Q in this._eventParents)if(this._eventParents[Q].listens(f,v,E,M))return!0}return!1},_listens:function(f,v,E){if(!this._events)return!1;var M=this._events[f]||[];if(!v)return!!M.length;E===this&&(E=void 0);for(var R=0,H=M.length;R<H;R++)if(M[R].fn===v&&M[R].ctx===E)return R;return!1},once:function(f,v,E){if(typeof f=="object")for(var M in f)this._on(M,f[M],v,!0);else{f=k(f);for(var R=0,H=f.length;R<H;R++)this._on(f[R],v,E,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[u(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[u(f)],this},_propagateEvent:function(f){for(var v in this._eventParents)this._eventParents[v].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var J=Z.extend(q);function ee(f,v,E){this.x=E?Math.round(f):f,this.y=E?Math.round(v):v}var le=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(f){return this.clone()._add(ae(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(ae(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new ee(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new ee(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(f){f=ae(f);var v=f.x-this.x,E=f.y-this.y;return Math.sqrt(v*v+E*E)},equals:function(f){return f=ae(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=ae(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(f,v,E){return f instanceof ee?f:A(f)?new ee(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new ee(f.x,f.y):new ee(f,v,E)}function B(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}B.prototype={extend:function(f){var v,E;if(!f)return this;if(f instanceof ee||typeof f[0]=="number"||"x"in f)v=E=ae(f);else if(f=V(f),v=f.min,E=f.max,!v||!E)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=E.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(f){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var v,E;return typeof f[0]=="number"||f instanceof ee?f=ae(f):f=V(f),f instanceof B?(v=f.min,E=f.max):v=E=f,v.x>=this.min.x&&E.x<=this.max.x&&v.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,H=R.x>=v.x&&M.x<=E.x,Q=R.y>=v.y&&M.y<=E.y;return H&&Q},overlaps:function(f){f=V(f);var v=this.min,E=this.max,M=f.min,R=f.max,H=R.x>v.x&&M.x<E.x,Q=R.y>v.y&&M.y<E.y;return H&&Q},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var v=this.min,E=this.max,M=Math.abs(v.x-E.x)*f,R=Math.abs(v.y-E.y)*f;return V(ae(v.x-M,v.y-R),ae(E.x+M,E.y+R))},equals:function(f){return f?(f=V(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function V(f,v){return!f||f instanceof B?f:new B(f,v)}function ne(f,v){if(f)for(var E=v?[f,v]:f,M=0,R=E.length;M<R;M++)this.extend(E[M])}ne.prototype={extend:function(f){var v=this._southWest,E=this._northEast,M,R;if(f instanceof fe)M=f,R=f;else if(f instanceof ne){if(M=f._southWest,R=f._northEast,!M||!R)return this}else return f?this.extend(ye(f)||oe(f)):this;return!v&&!E?(this._southWest=new fe(M.lat,M.lng),this._northEast=new fe(R.lat,R.lng)):(v.lat=Math.min(M.lat,v.lat),v.lng=Math.min(M.lng,v.lng),E.lat=Math.max(R.lat,E.lat),E.lng=Math.max(R.lng,E.lng)),this},pad:function(f){var v=this._southWest,E=this._northEast,M=Math.abs(v.lat-E.lat)*f,R=Math.abs(v.lng-E.lng)*f;return new ne(new fe(v.lat-M,v.lng-R),new fe(E.lat+M,E.lng+R))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof fe||"lat"in f?f=ye(f):f=oe(f);var v=this._southWest,E=this._northEast,M,R;return f instanceof ne?(M=f.getSouthWest(),R=f.getNorthEast()):M=R=f,M.lat>=v.lat&&R.lat<=E.lat&&M.lng>=v.lng&&R.lng<=E.lng},intersects:function(f){f=oe(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),H=R.lat>=v.lat&&M.lat<=E.lat,Q=R.lng>=v.lng&&M.lng<=E.lng;return H&&Q},overlaps:function(f){f=oe(f);var v=this._southWest,E=this._northEast,M=f.getSouthWest(),R=f.getNorthEast(),H=R.lat>v.lat&&M.lat<E.lat,Q=R.lng>v.lng&&M.lng<E.lng;return H&&Q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,v){return f?(f=oe(f),this._southWest.equals(f.getSouthWest(),v)&&this._northEast.equals(f.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(f,v){return f instanceof ne?f:new ne(f,v)}function fe(f,v,E){if(isNaN(f)||isNaN(v))throw new Error("Invalid LatLng object: ("+f+", "+v+")");this.lat=+f,this.lng=+v,E!==void 0&&(this.alt=+E)}fe.prototype={equals:function(f,v){if(!f)return!1;f=ye(f);var E=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return E<=(v===void 0?1e-9:v)},toString:function(f){return"LatLng("+b(this.lat,f)+", "+b(this.lng,f)+")"},distanceTo:function(f){return Ae.distance(this,ye(f))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(f){var v=180*f/40075017,E=v/Math.cos(Math.PI/180*this.lat);return oe([this.lat-v,this.lng-E],[this.lat+v,this.lng+E])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function ye(f,v,E){return f instanceof fe?f:A(f)&&typeof f[0]!="object"?f.length===3?new fe(f[0],f[1],f[2]):f.length===2?new fe(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new fe(f.lat,"lng"in f?f.lng:f.lon,f.alt):v===void 0?null:new fe(f,v,E)}var pe={latLngToPoint:function(f,v){var E=this.projection.project(f),M=this.scale(v);return this.transformation._transform(E,M)},pointToLatLng:function(f,v){var E=this.scale(v),M=this.transformation.untransform(f,E);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var v=this.projection.bounds,E=this.scale(f),M=this.transformation.transform(v.min,E),R=this.transformation.transform(v.max,E);return new B(M,R)},infinite:!1,wrapLatLng:function(f){var v=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,E=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,M=f.alt;return new fe(E,v,M)},wrapLatLngBounds:function(f){var v=f.getCenter(),E=this.wrapLatLng(v),M=v.lat-E.lat,R=v.lng-E.lng;if(M===0&&R===0)return f;var H=f.getSouthWest(),Q=f.getNorthEast(),de=new fe(H.lat-M,H.lng-R),ge=new fe(Q.lat-M,Q.lng-R);return new ne(de,ge)}},Ae=i({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(f,v){var E=Math.PI/180,M=f.lat*E,R=v.lat*E,H=Math.sin((v.lat-f.lat)*E/2),Q=Math.sin((v.lng-f.lng)*E/2),de=H*H+Math.cos(M)*Math.cos(R)*Q*Q,ge=2*Math.atan2(Math.sqrt(de),Math.sqrt(1-de));return this.R*ge}}),re=6378137,Ee={R:re,MAX_LATITUDE:85.0511287798,project:function(f){var v=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,f.lat),-E),R=Math.sin(M*v);return new ee(this.R*f.lng*v,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(f){var v=180/Math.PI;return new fe((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*v,f.x*v/this.R)},bounds:(function(){var f=re*Math.PI;return new B([-f,-f],[f,f])})()};function _e(f,v,E,M){if(A(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=v,this._c=E,this._d=M}_e.prototype={transform:function(f,v){return this._transform(f.clone(),v)},_transform:function(f,v){return v=v||1,f.x=v*(this._a*f.x+this._b),f.y=v*(this._c*f.y+this._d),f},untransform:function(f,v){return v=v||1,new ee((f.x/v-this._b)/this._a,(f.y/v-this._d)/this._c)}};function se(f,v,E,M){return new _e(f,v,E,M)}var Ue=i({},Ae,{code:"EPSG:3857",projection:Ee,transformation:(function(){var f=.5/(Math.PI*Ee.R);return se(f,.5,-f,.5)})()}),Fe=i({},Ue,{code:"EPSG:900913"});function Ce(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Pe(f,v){var E="",M,R,H,Q,de,ge;for(M=0,H=f.length;M<H;M++){for(de=f[M],R=0,Q=de.length;R<Q;R++)ge=de[R],E+=(R?"L":"M")+ge.x+" "+ge.y;E+=v?We.svg?"z":"x":""}return E||"M0 0"}var Ge=document.documentElement.style,Ne="ActiveXObject"in window,De=Ne&&!document.addEventListener,Be="msLaunchUri"in navigator&&!("documentMode"in document),st=ni("webkit"),ce=ni("android"),Oe=ni("android 2")||ni("android 3"),ze=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=ce&&ni("Google")&&ze<537&&!("AudioNode"in window),Et=!!window.opera,pt=!Be&&ni("chrome"),Jt=ni("gecko")&&!st&&!Et&&!Ne,Br=!pt&&ni("safari"),zr=ni("phantom"),Zi="OTransition"in Ge,io=navigator.platform.indexOf("Win")===0,It=Ne&&"transition"in Ge,an="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oe,Ur="MozPerspective"in Ge,Yn=!window.L_DISABLE_3D&&(It||an||Ur)&&!Zi&&!zr,Go=typeof orientation<"u"||ni("mobile"),If=Go&&st,Me=Go&&an,nt=!window.PointerEvent&&window.MSPointerEvent,Dt=!!(window.PointerEvent||nt),br="ontouchstart"in window||!!window.TouchEvent,ti=!window.L_NO_TOUCH&&(br||Dt),Nu=Go&&Et,tc=Go&&Jt,zx=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kp=(function(){var f=!1;try{var v=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return f})(),$f=(function(){return!!document.createElement("canvas").getContext})(),qo=!!(document.createElementNS&&Ce("svg").createSVGRect),Ux=!!qo&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Wp=!qo&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var v=f.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),Vp=navigator.platform.indexOf("Mac")===0,Zp=navigator.platform.indexOf("Linux")===0;function ni(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var We={ie:Ne,ielt9:De,edge:Be,webkit:st,android:ce,android23:Oe,androidStock:it,opera:Et,chrome:pt,gecko:Jt,safari:Br,phantom:zr,opera12:Zi,win:io,ie3d:It,webkit3d:an,gecko3d:Ur,any3d:Yn,mobile:Go,mobileWebkit:If,mobileWebkit3d:Me,msPointer:nt,pointer:Dt,touch:ti,touchNative:br,mobileOpera:Nu,mobileGecko:tc,retina:zx,passiveEvents:Kp,canvas:$f,svg:qo,vml:Wp,inlineSvg:Ux,mac:Vp,linux:Zp},Bf=We.msPointer?"MSPointerDown":"pointerdown",zf=We.msPointer?"MSPointerMove":"pointermove",Na=We.msPointer?"MSPointerUp":"pointerup",Pn=We.msPointer?"MSPointerCancel":"pointercancel",ir={touchstart:Bf,touchmove:zf,touchend:Na,touchcancel:Pn},Yo={touchstart:Ks,touchmove:oo,touchend:oo,touchcancel:oo},ao={},Xp=!1;function Fx(f,v,E){return v==="touchstart"&&Ys(),Yo[v]?(E=Yo[v].bind(this,E),f.addEventListener(ir[v],E,!1),E):(console.warn("wrong event specified:",v),p)}function Jp(f,v,E){if(!ir[v]){console.warn("wrong event specified:",v);return}f.removeEventListener(ir[v],E,!1)}function nc(f){ao[f.pointerId]=f}function Uf(f){ao[f.pointerId]&&(ao[f.pointerId]=f)}function Ko(f){delete ao[f.pointerId]}function Ys(){Xp||(document.addEventListener(Bf,nc,!0),document.addEventListener(zf,Uf,!0),document.addEventListener(Na,Ko,!0),document.addEventListener(Pn,Ko,!0),Xp=!0)}function oo(f,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var E in ao)v.touches.push(ao[E]);v.changedTouches=[v],f(v)}}function Ks(f,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&wn(v),oo(f,v)}function Rn(f){var v={},E,M;for(M in f)E=f[M],v[M]=E&&E.bind?E.bind(f):E;return f=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var Qp=200;function e0(f,v){f.addEventListener("dblclick",v);var E=0,M;function R(H){if(H.detail!==1){M=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var Q=cc(H);if(!(Q.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!Q.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var de=Date.now();de-E<=Qp?(M++,M===2&&v(Rn(H))):M=1,E=de}}}return f.addEventListener("click",R),{dblclick:v,simDblclick:R}}function Wo(f,v){f.removeEventListener("dblclick",v.dblclick),f.removeEventListener("click",v.simDblclick)}var so=ac(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rc=ac(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ff=rc==="webkitTransition"||rc==="OTransition"?rc+"End":"transitionend";function Hf(f){return typeof f=="string"?document.getElementById(f):f}function ic(f,v){var E=f.style[v]||f.currentStyle&&f.currentStyle[v];if((!E||E==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);E=M?M[v]:null}return E==="auto"?null:E}function gt(f,v,E){var M=document.createElement(f);return M.className=v||"",E&&E.appendChild(M),M}function Ut(f){var v=f.parentNode;v&&v.removeChild(f)}function ri(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Kn(f){var v=f.parentNode;v&&v.lastChild!==f&&v.appendChild(f)}function Vo(f){var v=f.parentNode;v&&v.firstChild!==f&&v.insertBefore(f,v.firstChild)}function Gf(f,v){if(f.classList!==void 0)return f.classList.contains(v);var E=Ou(f);return E.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(E)}function ct(f,v){if(f.classList!==void 0)for(var E=k(v),M=0,R=E.length;M<R;M++)f.classList.add(E[M]);else if(!Gf(f,v)){var H=Ou(f);Ws(f,(H?H+" ":"")+v)}}function on(f,v){f.classList!==void 0?f.classList.remove(v):Ws(f,y((" "+Ou(f)+" ").replace(" "+v+" "," ")))}function Ws(f,v){f.className.baseVal===void 0?f.className=v:f.className.baseVal=v}function Ou(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function Qt(f,v){"opacity"in f.style?f.style.opacity=v:"filter"in f.style&&qf(f,v)}function qf(f,v){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(M)}catch{if(v===1)return}v=Math.round(v*100),E?(E.Enabled=v!==100,E.Opacity=v):f.style.filter+=" progid:"+M+"(opacity="+v+")"}function ac(f){for(var v=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in v)return f[E];return!1}function Oa(f,v,E){var M=v||new ee(0,0);f.style[so]=(We.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function qt(f,v){f._leaflet_pos=v,We.any3d?Oa(f,v):(f.style.left=v.x+"px",f.style.top=v.y+"px")}function lo(f){return f._leaflet_pos||new ee(0,0)}var Vs,Xi,Yf;if("onselectstart"in document)Vs=function(){ot(window,"selectstart",wn)},Xi=function(){Pt(window,"selectstart",wn)};else{var Zs=ac(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vs=function(){if(Zs){var f=document.documentElement.style;Yf=f[Zs],f[Zs]="none"}},Xi=function(){Zs&&(document.documentElement.style[Zs]=Yf,Yf=void 0)}}function Cu(){ot(window,"dragstart",wn)}function oc(){Pt(window,"dragstart",wn)}var Mu,Kf;function Xs(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(ii(),Mu=f,Kf=f.style.outlineStyle,f.style.outlineStyle="none",ot(window,"keydown",ii))}function ii(){Mu&&(Mu.style.outlineStyle=Kf,Mu=void 0,Kf=void 0,Pt(window,"keydown",ii))}function Du(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function sc(f){var v=f.getBoundingClientRect();return{x:v.width/f.offsetWidth||1,y:v.height/f.offsetHeight||1,boundingClientRect:v}}var Js={__proto__:null,TRANSFORM:so,TRANSITION:rc,TRANSITION_END:Ff,get:Hf,getStyle:ic,create:gt,remove:Ut,empty:ri,toFront:Kn,toBack:Vo,hasClass:Gf,addClass:ct,removeClass:on,setClass:Ws,getClass:Ou,setOpacity:Qt,testProp:ac,setTransform:Oa,setPosition:qt,getPosition:lo,get disableTextSelection(){return Vs},get enableTextSelection(){return Xi},disableImageDrag:Cu,enableImageDrag:oc,preventOutline:Xs,restoreOutline:ii,getSizedParentNode:Du,getScale:sc};function ot(f,v,E,M){if(v&&typeof v=="object")for(var R in v)Ti(f,R,v[R],E);else{v=k(v);for(var H=0,Q=v.length;H<Q;H++)Ti(f,v[H],E,M)}return this}var Ei="_leaflet_events";function Pt(f,v,E,M){if(arguments.length===1)Wf(f),delete f[Ei];else if(v&&typeof v=="object")for(var R in v)lc(f,R,v[R],E);else if(v=k(v),arguments.length===2)Wf(f,function(de){return C(v,de)!==-1});else for(var H=0,Q=v.length;H<Q;H++)lc(f,v[H],E,M);return this}function Wf(f,v){for(var E in f[Ei]){var M=E.split(/\d/)[0];(!v||v(M))&&lc(f,M,null,null,E)}}var Zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ti(f,v,E,M){var R=v+u(E)+(M?"_"+u(M):"");if(f[Ei]&&f[Ei][R])return this;var H=function(de){return E.call(M||f,de||window.event)},Q=H;!We.touchNative&&We.pointer&&v.indexOf("touch")===0?H=Fx(f,v,H):We.touch&&v==="dblclick"?H=e0(f,H):"addEventListener"in f?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?f.addEventListener(Zo[v]||v,H,We.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(H=function(de){de=de||window.event,Ca(f,de)&&Q(de)},f.addEventListener(Zo[v],H,!1)):f.addEventListener(v,Q,!1):f.attachEvent("on"+v,H),f[Ei]=f[Ei]||{},f[Ei][R]=H}function lc(f,v,E,M,R){R=R||v+u(E)+(M?"_"+u(M):"");var H=f[Ei]&&f[Ei][R];if(!H)return this;!We.touchNative&&We.pointer&&v.indexOf("touch")===0?Jp(f,v,H):We.touch&&v==="dblclick"?Wo(f,H):"removeEventListener"in f?f.removeEventListener(Zo[v]||v,H,!1):f.detachEvent("on"+v,H),f[Ei][R]=null}function ji(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Ji(f){return Ti(f,"wheel",ji),this}function Xo(f){return ot(f,"mousedown touchstart dblclick contextmenu",ji),f._leaflet_disable_click=!0,this}function wn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function co(f){return wn(f),ji(f),this}function cc(f){if(f.composedPath)return f.composedPath();for(var v=[],E=f.target;E;)v.push(E),E=E.parentNode;return v}function uc(f,v){if(!v)return new ee(f.clientX,f.clientY);var E=sc(v),M=E.boundingClientRect;return new ee((f.clientX-M.left)/E.x-v.clientLeft,(f.clientY-M.top)/E.y-v.clientTop)}var t0=We.linux&&We.chrome?window.devicePixelRatio:We.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yr(f){return We.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/t0:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Ca(f,v){var E=v.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Pu={__proto__:null,on:ot,off:Pt,stopPropagation:ji,disableScrollPropagation:Ji,disableClickPropagation:Xo,preventDefault:wn,stop:co,getPropagationPath:cc,getMousePosition:uc,getWheelDelta:yr,isExternalTarget:Ca,addListener:ot,removeListener:Pt},Qs=J.extend({run:function(f,v,E,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=lo(f),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(f){var v=+new Date-this._startTime,E=this._duration*1e3;v<E?this._runFrame(this._easeOut(v/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,v){var E=this._startPos.add(this._offset.multiplyBy(f));v&&E._round(),qt(this._el,E),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),xt=J.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,v){v=w(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(ye(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rc&&We.any3d&&!We.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,Ff,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,v,E){if(v=v===void 0?this._zoom:this._limitZoom(v),f=this._limitCenter(ye(f),v,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var M=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,v,E.zoom):this._tryAnimatedPan(f,E.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(f,v,E.pan&&E.pan.noMoveStart),this},setZoom:function(f,v){return this._loaded?this.setView(this.getCenter(),f,{zoom:v}):(this._zoom=f,this)},zoomIn:function(f,v){return f=f||(We.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,v)},zoomOut:function(f,v){return f=f||(We.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,v)},setZoomAround:function(f,v,E){var M=this.getZoomScale(v),R=this.getSize().divideBy(2),H=f instanceof ee?f:this.latLngToContainerPoint(f),Q=H.subtract(R).multiplyBy(1-1/M),de=this.containerPointToLatLng(R.add(Q));return this.setView(de,v,{zoom:E})},_getBoundsCenterZoom:function(f,v){v=v||{},f=f.getBounds?f.getBounds():oe(f);var E=ae(v.paddingTopLeft||v.padding||[0,0]),M=ae(v.paddingBottomRight||v.padding||[0,0]),R=this.getBoundsZoom(f,!1,E.add(M));if(R=typeof v.maxZoom=="number"?Math.min(v.maxZoom,R):R,R===1/0)return{center:f.getCenter(),zoom:R};var H=M.subtract(E).divideBy(2),Q=this.project(f.getSouthWest(),R),de=this.project(f.getNorthEast(),R),ge=this.unproject(Q.add(de).divideBy(2).add(H),R);return{center:ge,zoom:R}},fitBounds:function(f,v){if(f=oe(f),!f.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,v);return this.setView(E.center,E.zoom,v)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,v){return this.setView(f,this._zoom,{pan:v})},panBy:function(f,v){if(f=ae(f).round(),v=v||{},!f.x&&!f.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){ct(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,v.duration||.25,v.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,v,E){if(E=E||{},E.animate===!1||!We.any3d)return this.setView(f,v,E);this._stop();var M=this.project(this.getCenter()),R=this.project(f),H=this.getSize(),Q=this._zoom;f=ye(f),v=v===void 0?Q:v;var de=Math.max(H.x,H.y),ge=de*this.getZoomScale(Q,v),Te=R.distanceTo(M)||1,$e=1.42,Ze=$e*$e;function ft(pn){var Ra=pn?-1:1,ts=pn?ge:de,ch=ge*ge-de*de+Ra*Ze*Ze*Te*Te,Tc=2*ts*Ze*Te,jc=ch/Tc,vo=Math.sqrt(jc*jc+1)-jc,La=vo<1e-9?-18:Math.log(vo);return La}function Wn(pn){return(Math.exp(pn)-Math.exp(-pn))/2}function _n(pn){return(Math.exp(pn)+Math.exp(-pn))/2}function Hr(pn){return Wn(pn)/_n(pn)}var Tt=ft(0);function jt(pn){return de*(_n(Tt)/_n(Tt+$e*pn))}function bt(pn){return de*(_n(Tt)*Hr(Tt+$e*pn)-Wn(Tt))/Ze}function bo(pn){return 1-Math.pow(1-pn,1.5)}var li=Date.now(),Wu=(ft(1)-Tt)/$e,yo=E.duration?1e3*E.duration:1e3*Wu*.8;function lh(){var pn=(Date.now()-li)/yo,Ra=bo(pn)*Wu;pn<=1?(this._flyToFrame=F(lh,this),this._move(this.unproject(M.add(R.subtract(M).multiplyBy(bt(Ra)/Te)),Q),this.getScaleZoom(de/jt(Ra),Q),{flyTo:!0})):this._move(f,v)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),lh.call(this),this},flyToBounds:function(f,v){var E=this._getBoundsCenterZoom(f,v);return this.flyTo(E.center,E.zoom,v)},setMaxBounds:function(f){return f=oe(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var v=this.options.minZoom;return this.options.minZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var v=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&v!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,v){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,oe(f));return E.equals(M)||this.panTo(M,v),this._enforcingBounds=!1,this},panInside:function(f,v){v=v||{};var E=ae(v.paddingTopLeft||v.padding||[0,0]),M=ae(v.paddingBottomRight||v.padding||[0,0]),R=this.project(this.getCenter()),H=this.project(f),Q=this.getPixelBounds(),de=V([Q.min.add(E),Q.max.subtract(M)]),ge=de.getSize();if(!de.contains(H)){this._enforcingBounds=!0;var Te=H.subtract(de.getCenter()),$e=de.extend(H).getSize().subtract(ge);R.x+=Te.x<0?-$e.x:$e.x,R.y+=Te.y<0?-$e.y:$e.y,this.panTo(this.unproject(R),v),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=v.divideBy(2).round(),R=E.divideBy(2).round(),H=M.subtract(R);return!H.x&&!H.y?this:(f.animate&&f.pan?this.panBy(H):(f.pan&&this._rawPanBy(H),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,E,f):navigator.geolocation.getCurrentPosition(v,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var v=f.code,E=f.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var v=f.coords.latitude,E=f.coords.longitude,M=new fe(v,E),R=M.toBounds(f.coords.accuracy*2),H=this._locateOptions;if(H.setView){var Q=this.getBoundsZoom(R);this.setView(M,H.maxZoom?Math.min(Q,H.maxZoom):Q)}var de={latlng:M,bounds:R,timestamp:f.timestamp};for(var ge in f.coords)typeof f.coords[ge]=="number"&&(de[ge]=f.coords[ge]);this.fire("locationfound",de)}},addHandler:function(f,v){if(!v)return this;var E=this[f]=new v(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Ut(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,v){var E="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),M=gt("div",E,v||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),v=this.unproject(f.getBottomLeft()),E=this.unproject(f.getTopRight());return new ne(v,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,v,E){f=oe(f),E=ae(E||[0,0]);var M=this.getZoom()||0,R=this.getMinZoom(),H=this.getMaxZoom(),Q=f.getNorthWest(),de=f.getSouthEast(),ge=this.getSize().subtract(E),Te=V(this.project(de,M),this.project(Q,M)).getSize(),$e=We.any3d?this.options.zoomSnap:1,Ze=ge.x/Te.x,ft=ge.y/Te.y,Wn=v?Math.max(Ze,ft):Math.min(Ze,ft);return M=this.getScaleZoom(Wn,M),$e&&(M=Math.round(M/($e/100))*($e/100),M=v?Math.ceil(M/$e)*$e:Math.floor(M/$e)*$e),Math.max(R,Math.min(H,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,v){var E=this._getTopLeftPoint(f,v);return new B(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,v){var E=this.options.crs;return v=v===void 0?this._zoom:v,E.scale(f)/E.scale(v)},getScaleZoom:function(f,v){var E=this.options.crs;v=v===void 0?this._zoom:v;var M=E.zoom(f*E.scale(v));return isNaN(M)?1/0:M},project:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(ye(f),v)},unproject:function(f,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(ae(f),v)},layerPointToLatLng:function(f){var v=ae(f).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(f){var v=this.project(ye(f))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(ye(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(oe(f))},distance:function(f,v){return this.options.crs.distance(ye(f),ye(v))},containerPointToLayerPoint:function(f){return ae(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return ae(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var v=this.containerPointToLayerPoint(ae(f));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(f)))},mouseEventToContainerPoint:function(f){return uc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var v=this._container=Hf(f);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&We.any3d,ct(f,"leaflet-container"+(We.touch?" leaflet-touch":"")+(We.retina?" leaflet-retina":"")+(We.ielt9?" leaflet-oldie":"")+(We.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=ic(f,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(f.markerPane,"leaflet-zoom-hide"),ct(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,v,E){qt(this._mapPane,new ee(0,0));var M=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var R=this._zoom!==v;this._moveStart(R,E)._move(f,v)._moveEnd(R),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,v){return f&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(f,v,E,M){v===void 0&&(v=this._zoom);var R=this._zoom!==v;return this._zoom=v,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?E&&E.pinch&&this.fire("zoom",E):((R||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){qt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[u(this._container)]=this;var v=f?Pt:ot;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),We.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,v){for(var E=[],M,R=v==="mouseout"||v==="mouseover",H=f.target||f.srcElement,Q=!1;H;){if(M=this._targets[u(H)],M&&(v==="click"||v==="preclick")&&this._draggableMoved(M)){Q=!0;break}if(M&&M.listens(v,!0)&&(R&&!Ca(H,f)||(E.push(M),R))||H===this._container)break;H=H.parentNode}return!E.length&&!Q&&!R&&this.listens(v,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var v=f.target||f.srcElement;if(!(!this._loaded||v._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(v))){var E=f.type;E==="mousedown"&&Xs(v),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,v,E){if(f.type==="click"){var M=i({},f);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var R=this._findEventTargets(f,v);if(E){for(var H=[],Q=0;Q<E.length;Q++)E[Q].listens(v,!0)&&H.push(E[Q]);R=H.concat(R)}if(R.length){v==="contextmenu"&&wn(f);var de=R[0],ge={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Te=de.getLatLng&&(!de._radius||de._radius<=10);ge.containerPoint=Te?this.latLngToContainerPoint(de.getLatLng()):this.mouseEventToContainerPoint(f),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Te?de.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(Q=0;Q<R.length;Q++)if(R[Q].fire(v,ge,!0),ge.originalEvent._stopped||R[Q].options.bubblingMouseEvents===!1&&C(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,v=this._handlers.length;f<v;f++)this._handlers[f].disable()},whenReady:function(f,v){return this._loaded?f.call(v||this,{target:this}):this.on("load",f,v),this},_getMapPanePos:function(){return lo(this._mapPane)||new ee(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,v){var E=f&&v!==void 0?this._getNewPixelOrigin(f,v):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,v){var E=this.getSize()._divideBy(2);return this.project(f,v)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return this.project(f,v)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,v,E){var M=this._getNewPixelOrigin(E,v);return V([this.project(f.getSouthWest(),v)._subtract(M),this.project(f.getNorthWest(),v)._subtract(M),this.project(f.getSouthEast(),v)._subtract(M),this.project(f.getNorthEast(),v)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,v,E){if(!E)return f;var M=this.project(f,v),R=this.getSize().divideBy(2),H=new B(M.subtract(R),M.add(R)),Q=this._getBoundsOffset(H,E,v);return Math.abs(Q.x)<=1&&Math.abs(Q.y)<=1?f:this.unproject(M.add(Q),v)},_limitOffset:function(f,v){if(!v)return f;var E=this.getPixelBounds(),M=new B(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(M,v))},_getBoundsOffset:function(f,v,E){var M=V(this.project(v.getNorthEast(),E),this.project(v.getSouthWest(),E)),R=M.min.subtract(f.min),H=M.max.subtract(f.max),Q=this._rebound(R.x,-H.x),de=this._rebound(R.y,-H.y);return new ee(Q,de)},_rebound:function(f,v){return f+v>0?Math.round(f-v)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(v))},_limitZoom:function(f){var v=this.getMinZoom(),E=this.getMaxZoom(),M=We.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(v,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){on(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,v){var E=this._getCenterOffset(f)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,v),!0)},_createAnimProxy:function(){var f=this._proxy=gt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(v){var E=so,M=this._proxy.style[E];Oa(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),v=this.getZoom();Oa(this._proxy,this.project(f,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,v,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(v),R=this._getCenterOffset(f)._divideBy(1-1/M);return E.animate!==!0&&!this.getSize().contains(R)?!1:(F(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,v,!0)},this),!0)},_animateZoom:function(f,v,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=v,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:v,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&on(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vf(f,v){return new xt(f,v)}var Fr=Z.extend({options:{position:"topright"},initialize:function(f){w(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var v=this._map;return v&&v.removeControl(this),this.options.position=f,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var v=this._container=this.onAdd(f),E=this.getPosition(),M=f._controlCorners[E];return ct(v,"leaflet-control"),E.indexOf("bottom")!==-1?M.insertBefore(v,M.firstChild):M.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ma=function(f){return new Fr(f)};xt.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},v="leaflet-",E=this._controlContainer=gt("div",v+"control-container",this._container);function M(R,H){var Q=v+R+" "+v+H;f[R+H]=gt("div",Q,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Ut(this._controlCorners[f]);Ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var dc=Fr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,v,E,M){return E<M?-1:M<E?1:0}},initialize:function(f,v,E){w(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in f)this._addLayer(f[M],M);for(M in v)this._addLayer(v[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Fr.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,v){return this._addLayer(f,v),this._map?this._update():this},addOverlay:function(f,v){return this._addLayer(f,v,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(f));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):on(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return on(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",v=this._container=gt("div",f),E=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Xo(v),Ji(v);var M=this._section=gt("section",f+"-list");E&&(this._map.on("click",this.collapse,this),ot(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=gt("a",f+"-toggle",v);R.href="#",R.title="Layers",R.setAttribute("role","button"),ot(R,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){wn(H),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=gt("div",f+"-base",M),this._separator=gt("div",f+"-separator",M),this._overlaysList=gt("div",f+"-overlays",M),v.appendChild(M)},_getLayer:function(f){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===f)return this._layers[v]},_addLayer:function(f,v,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:v,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(M,R){return this.options.sortFunction(M.layer,R.layer,M.name,R.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ri(this._baseLayersList),ri(this._overlaysList),this._layerControlInputs=[];var f,v,E,M,R=0;for(E=0;E<this._layers.length;E++)M=this._layers[E],this._addItem(M),v=v||M.overlay,f=f||!M.overlay,R+=M.overlay?0:1;return this.options.hideSingleBase&&(f=f&&R>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=v&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var v=this._getLayer(u(f.target)),E=v.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;E&&this._map.fire(E,v)},_createRadioElement:function(f,v){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(v?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(f){var v=document.createElement("label"),E=this._map.hasLayer(f.layer),M;f.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+u(this),E),this._layerControlInputs.push(M),M.layerId=u(f.layer),ot(M,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+f.name;var H=document.createElement("span");v.appendChild(H),H.appendChild(M),H.appendChild(R);var Q=f.overlay?this._overlaysList:this._baseLayersList;return Q.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,v,E,M=[],R=[];this._handlingClick=!0;for(var H=f.length-1;H>=0;H--)v=f[H],E=this._getLayer(v.layerId).layer,v.checked?M.push(E):v.checked||R.push(E);for(H=0;H<R.length;H++)this._map.hasLayer(R[H])&&this._map.removeLayer(R[H]);for(H=0;H<M.length;H++)this._map.hasLayer(M[H])||this._map.addLayer(M[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,v,E,M=this._map.getZoom(),R=f.length-1;R>=0;R--)v=f[R],E=this._getLayer(v.layerId).layer,v.disabled=E.options.minZoom!==void 0&&M<E.options.minZoom||E.options.maxZoom!==void 0&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,ot(f,"click",wn),this.expand();var v=this;setTimeout(function(){Pt(f,"click",wn),v._preventClick=!1})}}),n0=function(f,v,E){return new dc(f,v,E)},Zf=Fr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var v="leaflet-control-zoom",E=gt("div",v+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,v+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,v+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,v,E,M,R){var H=gt("a",E,M);return H.innerHTML=f,H.href="#",H.title=v,H.setAttribute("role","button"),H.setAttribute("aria-label",v),Xo(H),ot(H,"click",co),ot(H,"click",R,this),ot(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var f=this._map,v="leaflet-disabled";on(this._zoomInButton,v),on(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(ct(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(ct(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zf,this.addControl(this.zoomControl))});var Hx=function(f){return new Zf(f)},r0=Fr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var v="leaflet-control-scale",E=gt("div",v),M=this.options;return this._addScales(M,v+"-line",E),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,v,E){f.metric&&(this._mScale=gt("div",v,E)),f.imperial&&(this._iScale=gt("div",v,E))},_update:function(){var f=this._map,v=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,v]),f.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var v=this._getRoundNum(f),E=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,E,v/f)},_updateImperial:function(f){var v=f*3.2808399,E,M,R;v>5280?(E=v/5280,M=this._getRoundNum(E),this._updateScale(this._iScale,M+" mi",M/E)):(R=this._getRoundNum(v),this._updateScale(this._iScale,R+" ft",R/v))},_updateScale:function(f,v,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=v},_getRoundNum:function(f){var v=Math.pow(10,(Math.floor(f)+"").length-1),E=f/v;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,v*E}}),Xf=function(f){return new r0(f)},Gx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jf=Fr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(We.inlineSvg?Gx+" ":"")+"Leaflet</a>"},initialize:function(f){w(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=gt("div","leaflet-control-attribution"),Xo(this._container);for(var v in f._layers)f._layers[v].getAttribution&&this.addAttribution(f._layers[v].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var v in this._attributions)this._attributions[v]&&f.push(v);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Jf().addTo(this)});var qx=function(f){return new Jf(f)};Fr.Layers=dc,Fr.Zoom=Zf,Fr.Scale=r0,Fr.Attribution=Jf,Ma.layers=n0,Ma.zoom=Hx,Ma.scale=Xf,Ma.attribution=qx;var Qi=Z.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qi.addTo=function(f,v){return f.addHandler(v,this),this};var Yx={Events:q},Qf=We.touch?"touchstart mousedown":"mousedown",uo=J.extend({options:{clickTolerance:3},initialize:function(f,v,E,M){w(this,M),this._element=f,this._dragStartTarget=v||f,this._preventOutline=E},enable:function(){this._enabled||(ot(this._dragStartTarget,Qf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(uo._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,Qf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Gf(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){uo._dragging===this&&this.finishDrag();return}if(!(uo._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(uo._dragging=this,this._preventOutline&&Xs(this._element),Cu(),Vs(),!this._moving)){this.fire("down");var v=f.touches?f.touches[0]:f,E=Du(this._element);this._startPoint=new ee(v.clientX,v.clientY),this._startPos=lo(this._element),this._parentScale=sc(E);var M=f.type==="mousedown";ot(document,M?"mousemove":"touchmove",this._onMove,this),ot(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var v=f.touches&&f.touches.length===1?f.touches[0]:f,E=new ee(v.clientX,v.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,wn(f),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),qt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){on(document.body,"leaflet-dragging"),this._lastTarget&&(on(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),oc(),Xi();var v=this._moved&&this._moving;this._moving=!1,uo._dragging=!1,v&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function i0(f,v,E){var M,R=[1,4,2,8],H,Q,de,ge,Te,$e,Ze,ft;for(H=0,$e=f.length;H<$e;H++)f[H]._code=Jo(f[H],v);for(de=0;de<4;de++){for(Ze=R[de],M=[],H=0,$e=f.length,Q=$e-1;H<$e;Q=H++)ge=f[H],Te=f[Q],ge._code&Ze?Te._code&Ze||(ft=Ru(Te,ge,Ze,v,E),ft._code=Jo(ft,v),M.push(ft)):(Te._code&Ze&&(ft=Ru(Te,ge,Ze,v,E),ft._code=Jo(ft,v),M.push(ft)),M.push(ge));f=M}return f}function a0(f,v){var E,M,R,H,Q,de,ge,Te,$e;if(!f||f.length===0)throw new Error("latlngs not passed");ai(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ze=ye([0,0]),ft=oe(f),Wn=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Wn<1700&&(Ze=eh(f));var _n=f.length,Hr=[];for(E=0;E<_n;E++){var Tt=ye(f[E]);Hr.push(v.project(ye([Tt.lat-Ze.lat,Tt.lng-Ze.lng])))}for(de=ge=Te=0,E=0,M=_n-1;E<_n;M=E++)R=Hr[E],H=Hr[M],Q=R.y*H.x-H.y*R.x,ge+=(R.x+H.x)*Q,Te+=(R.y+H.y)*Q,de+=Q*3;de===0?$e=Hr[0]:$e=[ge/de,Te/de];var jt=v.unproject(ae($e));return ye([jt.lat+Ze.lat,jt.lng+Ze.lng])}function eh(f){for(var v=0,E=0,M=0,R=0;R<f.length;R++){var H=ye(f[R]);v+=H.lat,E+=H.lng,M++}return ye([v/M,E/M])}var th={__proto__:null,clipPolygon:i0,polygonCenter:a0,centroid:eh};function o0(f,v){if(!v||!f.length)return f.slice();var E=v*v;return f=Wx(f,E),f=l0(f,E),f}function s0(f,v,E){return Math.sqrt(fc(f,v,E,!0))}function Kx(f,v,E){return fc(f,v,E)}function l0(f,v){var E=f.length,M=typeof Uint8Array<"u"?Uint8Array:Array,R=new M(E);R[0]=R[E-1]=1,nh(f,R,v,0,E-1);var H,Q=[];for(H=0;H<E;H++)R[H]&&Q.push(f[H]);return Q}function nh(f,v,E,M,R){var H=0,Q,de,ge;for(de=M+1;de<=R-1;de++)ge=fc(f[de],f[M],f[R],!0),ge>H&&(Q=de,H=ge);H>E&&(v[Q]=1,nh(f,v,E,M,Q),nh(f,v,E,Q,R))}function Wx(f,v){for(var E=[f[0]],M=1,R=0,H=f.length;M<H;M++)Vx(f[M],f[R])>v&&(E.push(f[M]),R=M);return R<H-1&&E.push(f[H-1]),E}var c0;function u0(f,v,E,M,R){var H=M?c0:Jo(f,E),Q=Jo(v,E),de,ge,Te;for(c0=Q;;){if(!(H|Q))return[f,v];if(H&Q)return!1;de=H||Q,ge=Ru(f,v,de,E,R),Te=Jo(ge,E),de===H?(f=ge,H=Te):(v=ge,Q=Te)}}function Ru(f,v,E,M,R){var H=v.x-f.x,Q=v.y-f.y,de=M.min,ge=M.max,Te,$e;return E&8?(Te=f.x+H*(ge.y-f.y)/Q,$e=ge.y):E&4?(Te=f.x+H*(de.y-f.y)/Q,$e=de.y):E&2?(Te=ge.x,$e=f.y+Q*(ge.x-f.x)/H):E&1&&(Te=de.x,$e=f.y+Q*(de.x-f.x)/H),new ee(Te,$e,R)}function Jo(f,v){var E=0;return f.x<v.min.x?E|=1:f.x>v.max.x&&(E|=2),f.y<v.min.y?E|=4:f.y>v.max.y&&(E|=8),E}function Vx(f,v){var E=v.x-f.x,M=v.y-f.y;return E*E+M*M}function fc(f,v,E,M){var R=v.x,H=v.y,Q=E.x-R,de=E.y-H,ge=Q*Q+de*de,Te;return ge>0&&(Te=((f.x-R)*Q+(f.y-H)*de)/ge,Te>1?(R=E.x,H=E.y):Te>0&&(R+=Q*Te,H+=de*Te)),Q=f.x-R,de=f.y-H,M?Q*Q+de*de:new ee(R,H)}function ai(f){return!A(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Lu(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ai(f)}function el(f,v){var E,M,R,H,Q,de,ge,Te;if(!f||f.length===0)throw new Error("latlngs not passed");ai(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var $e=ye([0,0]),Ze=oe(f),ft=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());ft<1700&&($e=eh(f));var Wn=f.length,_n=[];for(E=0;E<Wn;E++){var Hr=ye(f[E]);_n.push(v.project(ye([Hr.lat-$e.lat,Hr.lng-$e.lng])))}for(E=0,M=0;E<Wn-1;E++)M+=_n[E].distanceTo(_n[E+1])/2;if(M===0)Te=_n[0];else for(E=0,H=0;E<Wn-1;E++)if(Q=_n[E],de=_n[E+1],R=Q.distanceTo(de),H+=R,H>M){ge=(H-M)/R,Te=[de.x-ge*(de.x-Q.x),de.y-ge*(de.y-Q.y)];break}var Tt=v.unproject(ae(Te));return ye([Tt.lat+$e.lat,Tt.lng+$e.lng])}var Zx={__proto__:null,simplify:o0,pointToSegmentDistance:s0,closestPointOnSegment:Kx,clipSegment:u0,_getEdgeIntersection:Ru,_getBitCode:Jo,_sqClosestPointOnSegment:fc,isFlat:ai,_flat:Lu,polylineCenter:el},Iu={project:function(f){return new ee(f.lng,f.lat)},unproject:function(f){return new fe(f.y,f.x)},bounds:new B([-180,-90],[180,90])},$u={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var v=Math.PI/180,E=this.R,M=f.lat*v,R=this.R_MINOR/E,H=Math.sqrt(1-R*R),Q=H*Math.sin(M),de=Math.tan(Math.PI/4-M/2)/Math.pow((1-Q)/(1+Q),H/2);return M=-E*Math.log(Math.max(de,1e-10)),new ee(f.lng*v*E,M)},unproject:function(f){for(var v=180/Math.PI,E=this.R,M=this.R_MINOR/E,R=Math.sqrt(1-M*M),H=Math.exp(-f.y/E),Q=Math.PI/2-2*Math.atan(H),de=0,ge=.1,Te;de<15&&Math.abs(ge)>1e-7;de++)Te=R*Math.sin(Q),Te=Math.pow((1-Te)/(1+Te),R/2),ge=Math.PI/2-2*Math.atan(H*Te)-Q,Q+=ge;return new fe(Q*v,f.x*v/E)}},d0={__proto__:null,LonLat:Iu,Mercator:$u,SphericalMercator:Ee},f0=i({},Ae,{code:"EPSG:3395",projection:$u,transformation:(function(){var f=.5/(Math.PI*$u.R);return se(f,.5,-f,.5)})()}),rh=i({},Ae,{code:"EPSG:4326",projection:Iu,transformation:se(1/180,1,-1/180,.5)}),tl=i({},pe,{projection:Iu,transformation:se(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,v){var E=v.lng-f.lng,M=v.lat-f.lat;return Math.sqrt(E*E+M*M)},infinite:!0});pe.Earth=Ae,pe.EPSG3395=f0,pe.EPSG3857=Ue,pe.EPSG900913=Fe,pe.EPSG4326=rh,pe.Simple=tl;var Ai=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[u(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[u(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var v=f.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var E=this.getEvents();v.on(E,this),this.once("remove",function(){v.off(E,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(f);return this._layers[v]?this:(this._layers[v]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var v=u(f);return this._layers[v]?(this._loaded&&f.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return u(f)in this._layers},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},_addLayers:function(f){f=f?A(f)?f:[f]:[];for(var v=0,E=f.length;v<E;v++)this.addLayer(f[v])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[u(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var v=u(f);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,v=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var R=this._zoomBoundLayers[M].options;f=R.minZoom===void 0?f:Math.min(f,R.minZoom),v=R.maxZoom===void 0?v:Math.max(v,R.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nl=Ai.extend({initialize:function(f,v){w(this,v),this._layers={};var E,M;if(f)for(E=0,M=f.length;E<M;E++)this.addLayer(f[E])},addLayer:function(f){var v=this.getLayerId(f);return this._layers[v]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var v=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(f){var v=typeof f=="number"?f:this.getLayerId(f);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var v=Array.prototype.slice.call(arguments,1),E,M;for(E in this._layers)M=this._layers[E],M[f]&&M[f].apply(M,v);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,v){for(var E in this._layers)f.call(v,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return u(f)}}),Xx=function(f,v){return new nl(f,v)},ea=nl.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),nl.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),nl.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ne;for(var v in this._layers){var E=this._layers[v];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),h0=function(f,v){return new ea(f,v)},ta=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){w(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,v){var E=this._getIconUrl(f);if(!E){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(M,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(f,v){var E=this.options,M=E[v+"Size"];typeof M=="number"&&(M=[M,M]);var R=ae(M),H=ae(v==="shadow"&&E.shadowAnchor||E.iconAnchor||R&&R.divideBy(2,!0));f.className="leaflet-marker-"+v+" "+(E.className||""),H&&(f.style.marginLeft=-H.x+"px",f.style.marginTop=-H.y+"px"),R&&(f.style.width=R.x+"px",f.style.height=R.y+"px")},_createImg:function(f,v){return v=v||document.createElement("img"),v.src=f,v},_getIconUrl:function(f){return We.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function hc(f){return new ta(f)}var mc=ta.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof mc.imagePath!="string"&&(mc.imagePath=this._detectIconPath()),(this.options.imagePath||mc.imagePath)+ta.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var v=function(E,M,R){var H=M.exec(E);return H&&H[R]};return f=v(f,/^url\((['"])?(.+)\1\)$/,2),f&&v(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=gt("div","leaflet-default-icon-path",document.body),v=ic(f,"background-image")||ic(f,"backgroundImage");if(document.body.removeChild(f),v=this._stripUrl(v),v)return v;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),pc=Qi.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new uo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&on(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var v=this._marker,E=v._map,M=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,H=lo(v._icon),Q=E.getPixelBounds(),de=E.getPixelOrigin(),ge=V(Q.min._subtract(de).add(R),Q.max._subtract(de).subtract(R));if(!ge.contains(H)){var Te=ae((Math.max(ge.max.x,H.x)-ge.max.x)/(Q.max.x-ge.max.x)-(Math.min(ge.min.x,H.x)-ge.min.x)/(Q.min.x-ge.min.x),(Math.max(ge.max.y,H.y)-ge.max.y)/(Q.max.y-ge.max.y)-(Math.min(ge.min.y,H.y)-ge.min.y)/(Q.min.y-ge.min.y)).multiplyBy(M);E.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),qt(v._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=F(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,f)))},_onDrag:function(f){var v=this._marker,E=v._shadow,M=lo(v._icon),R=v._map.layerPointToLatLng(M);E&&qt(E,M),v._latlng=R,f.latlng=R,f.oldLatLng=this._oldLatLng,v.fire("move",f).fire("drag",f)},_onDragEnd:function(f){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),gc=Ai.extend({options:{icon:new mc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,v){w(this,v),this._latlng=ye(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var v=this._latlng;return this._latlng=ye(f),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(E.title=f.title),E.tagName==="IMG"&&(E.alt=f.alt||"")),ct(E,v),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(E,"focus",this._panOnFocus,this);var R=f.icon.createShadow(this._shadow),H=!1;R!==this._shadow&&(this._removeShadow(),H=!0),R&&(ct(R,v),R.alt=""),this._shadow=R,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&H&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),Ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ut(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&qt(this._icon,f),this._shadow&&qt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pc)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pc(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Qt(this._icon,f),this._shadow&&Qt(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var v=this.options.icon.options,E=v.iconSize?ae(v.iconSize):ae(0,0),M=v.iconAnchor?ae(v.iconAnchor):ae(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function m0(f,v){return new gc(f,v)}var na=Ai.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return w(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rl=na.extend({options:{fill:!0,radius:10},initialize:function(f,v){w(this,v),this._latlng=ye(f),this._radius=this.options.radius},setLatLng:function(f){var v=this._latlng;return this._latlng=ye(f),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var v=f&&f.radius||this._radius;return na.prototype.setStyle.call(this,f),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,v=this._radiusY||f,E=this._clickTolerance(),M=[f+E,v+E];this._pxBounds=new B(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function p0(f,v){return new rl(f,v)}var Bu=rl.extend({initialize:function(f,v,E){if(typeof v=="number"&&(v=i({},E,{radius:v})),w(this,v),this._latlng=ye(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:na.prototype.setStyle,_project:function(){var f=this._latlng.lng,v=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Ae.distance){var R=Math.PI/180,H=this._mRadius/Ae.R/R,Q=E.project([v+H,f]),de=E.project([v-H,f]),ge=Q.add(de).divideBy(2),Te=E.unproject(ge).lat,$e=Math.acos((Math.cos(H*R)-Math.sin(v*R)*Math.sin(Te*R))/(Math.cos(v*R)*Math.cos(Te*R)))/R;(isNaN($e)||$e===0)&&($e=H/Math.cos(Math.PI/180*v)),this._point=ge.subtract(E.getPixelOrigin()),this._radius=isNaN($e)?0:ge.x-E.project([Te,f-$e]).x,this._radiusY=ge.y-Q.y}else{var Ze=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Ze).x}this._updateBounds()}});function g0(f,v,E){return new Bu(f,v,E)}var Da=na.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,v){w(this,v),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var v=1/0,E=null,M=fc,R,H,Q=0,de=this._parts.length;Q<de;Q++)for(var ge=this._parts[Q],Te=1,$e=ge.length;Te<$e;Te++){R=ge[Te-1],H=ge[Te];var Ze=M(f,R,H,!0);Ze<v&&(v=Ze,E=M(f,R,H))}return E&&(E.distance=Math.sqrt(v)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return el(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,v){return v=v||this._defaultShape(),f=ye(f),v.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ne,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return ai(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var v=[],E=ai(f),M=0,R=f.length;M<R;M++)E?(v[M]=ye(f[M]),this._bounds.extend(v[M])):v[M]=this._convertLatLngs(f[M]);return v},_project:function(){var f=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),v=new ee(f,f);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(f,v,E){var M=f[0]instanceof fe,R=f.length,H,Q;if(M){for(Q=[],H=0;H<R;H++)Q[H]=this._map.latLngToLayerPoint(f[H]),E.extend(Q[H]);v.push(Q)}else for(H=0;H<R;H++)this._projectLatlngs(f[H],v,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,E,M,R,H,Q,de,ge;for(E=0,R=0,H=this._rings.length;E<H;E++)for(ge=this._rings[E],M=0,Q=ge.length;M<Q-1;M++)de=u0(ge[M],ge[M+1],f,M,!0),de&&(v[R]=v[R]||[],v[R].push(de[0]),(de[1]!==ge[M+1]||M===Q-2)&&(v[R].push(de[1]),R++))}},_simplifyPoints:function(){for(var f=this._parts,v=this.options.smoothFactor,E=0,M=f.length;E<M;E++)f[E]=o0(f[E],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,v){var E,M,R,H,Q,de,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,H=this._parts.length;E<H;E++)for(de=this._parts[E],M=0,Q=de.length,R=Q-1;M<Q;R=M++)if(!(!v&&M===0)&&s0(f,de[R],de[M])<=ge)return!0;return!1}});function Jx(f,v){return new Da(f,v)}Da._flat=Lu;var il=Da.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return a0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var v=Da.prototype._convertLatLngs.call(this,f),E=v.length;return E>=2&&v[0]instanceof fe&&v[0].equals(v[E-1])&&v.pop(),v},_setLatLngs:function(f){Da.prototype._setLatLngs.call(this,f),ai(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ai(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,v=this.options.weight,E=new ee(v,v);if(f=new B(f.min.subtract(E),f.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,R=this._rings.length,H;M<R;M++)H=i0(this._rings[M],f,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var v=!1,E,M,R,H,Q,de,ge,Te;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(H=0,ge=this._parts.length;H<ge;H++)for(E=this._parts[H],Q=0,Te=E.length,de=Te-1;Q<Te;de=Q++)M=E[Q],R=E[de],M.y>f.y!=R.y>f.y&&f.x<(R.x-M.x)*(f.y-M.y)/(R.y-M.y)+M.x&&(v=!v);return v||Da.prototype._containsPoint.call(this,f,!0)}});function Qx(f,v){return new il(f,v)}var Pa=ea.extend({initialize:function(f,v){w(this,v),this._layers={},f&&this.addData(f)},addData:function(f){var v=A(f)?f:f.features,E,M,R;if(v){for(E=0,M=v.length;E<M;E++)R=v[E],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var H=this.options;if(H.filter&&!H.filter(f))return this;var Q=ar(f,H);return Q?(Q.feature=Fu(f),Q.defaultOptions=Q.options,this.resetStyle(Q),H.onEachFeature&&H.onEachFeature(f,Q),this.addLayer(Q)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(v){this._setLayerStyle(v,f)},this)},_setLayerStyle:function(f,v){f.setStyle&&(typeof v=="function"&&(v=v(f.feature)),f.setStyle(v))}});function ar(f,v){var E=f.type==="Feature"?f.geometry:f,M=E?E.coordinates:null,R=[],H=v&&v.pointToLayer,Q=v&&v.coordsToLatLng||zu,de,ge,Te,$e;if(!M&&!E)return null;switch(E.type){case"Point":return de=Q(M),al(H,f,de,v);case"MultiPoint":for(Te=0,$e=M.length;Te<$e;Te++)de=Q(M[Te]),R.push(al(H,f,de,v));return new ea(R);case"LineString":case"MultiLineString":return ge=bc(M,E.type==="LineString"?0:1,Q),new Da(ge,v);case"Polygon":case"MultiPolygon":return ge=bc(M,E.type==="Polygon"?1:2,Q),new il(ge,v);case"GeometryCollection":for(Te=0,$e=E.geometries.length;Te<$e;Te++){var Ze=ar({geometry:E.geometries[Te],type:"Feature",properties:f.properties},v);Ze&&R.push(Ze)}return new ea(R);case"FeatureCollection":for(Te=0,$e=E.features.length;Te<$e;Te++){var ft=ar(E.features[Te],v);ft&&R.push(ft)}return new ea(R);default:throw new Error("Invalid GeoJSON object.")}}function al(f,v,E,M){return f?f(v,E):new gc(E,M&&M.markersInheritOptions&&M)}function zu(f){return new fe(f[1],f[0],f[2])}function bc(f,v,E){for(var M=[],R=0,H=f.length,Q;R<H;R++)Q=v?bc(f[R],v-1,E):(E||zu)(f[R]),M.push(Q);return M}function Uu(f,v){return f=ye(f),f.alt!==void 0?[b(f.lng,v),b(f.lat,v),b(f.alt,v)]:[b(f.lng,v),b(f.lat,v)]}function yc(f,v,E,M){for(var R=[],H=0,Q=f.length;H<Q;H++)R.push(v?yc(f[H],ai(f[H])?0:v-1,E,M):Uu(f[H],M));return!v&&E&&R.length>0&&R.push(R[0].slice()),R}function fo(f,v){return f.feature?i({},f.feature,{geometry:v}):Fu(v)}function Fu(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var ho={toGeoJSON:function(f){return fo(this,{type:"Point",coordinates:Uu(this.getLatLng(),f)})}};gc.include(ho),Bu.include(ho),rl.include(ho),Da.include({toGeoJSON:function(f){var v=!ai(this._latlngs),E=yc(this._latlngs,v?1:0,!1,f);return fo(this,{type:(v?"Multi":"")+"LineString",coordinates:E})}}),il.include({toGeoJSON:function(f){var v=!ai(this._latlngs),E=v&&!ai(this._latlngs[0]),M=yc(this._latlngs,E?2:v?1:0,!0,f);return v||(M=[M]),fo(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),nl.include({toMultiPoint:function(f){var v=[];return this.eachLayer(function(E){v.push(E.toGeoJSON(f).geometry.coordinates)}),fo(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(f){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(f);var E=v==="GeometryCollection",M=[];return this.eachLayer(function(R){if(R.toGeoJSON){var H=R.toGeoJSON(f);if(E)M.push(H.geometry);else{var Q=Fu(H);Q.type==="FeatureCollection"?M.push.apply(M,Q.features):M.push(Q)}}}),E?fo(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Hu(f,v){return new Pa(f,v)}var vc=Hu,ol=Ai.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,v,E){this._url=f,this._bounds=oe(v),w(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Kn(this._image),this},bringToBack:function(){return this._map&&Vo(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=oe(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",v=this._image=f?this._url:gt("img");if(ct(v,"leaflet-image-layer"),this._zoomAnimated&&ct(v,"leaflet-zoom-animated"),this.options.className&&ct(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(f){var v=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Oa(this._image,E,v)},_reset:function(){var f=this._image,v=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=v.getSize();qt(f,v.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),b0=function(f,v,E){return new ol(f,v,E)},mo=ol.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",v=this._image=f?this._url:gt("video");if(ct(v,"leaflet-image-layer"),this._zoomAnimated&&ct(v,"leaflet-zoom-animated"),this.options.className&&ct(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=o(this.fire,this,"load"),f){for(var E=v.getElementsByTagName("source"),M=[],R=0;R<E.length;R++)M.push(E[R].src);this._url=E.length>0?M:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var Q=gt("source");Q.src=this._url[H],v.appendChild(Q)}}});function sl(f,v,E){return new mo(f,v,E)}var Gu=ol.extend({_initImage:function(){var f=this._image=this._url;ct(f,"leaflet-image-layer"),this._zoomAnimated&&ct(f,"leaflet-zoom-animated"),this.options.className&&ct(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function y0(f,v,E){return new Gu(f,v,E)}var or=Ai.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,v){f&&(f instanceof fe||A(f))?(this._latlng=ye(f),w(this,v)):(w(this,f),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(o(Ut,void 0,this._container),200)):Ut(this._container),this.options.interactive&&(on(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=ye(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kn(this._container),this},bringToBack:function(){return this._map&&Vo(this._container),this},_prepareOpen:function(f){var v=this._source;if(!v._map)return!1;if(v instanceof ea){v=null;var E=this._source._layers;for(var M in E)if(E[M]._map){v=E[M];break}if(!v)return!1;this._source=v}if(!f)if(v.getCenter)f=v.getCenter();else if(v.getLatLng)f=v.getLatLng();else if(v.getBounds)f=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")f.innerHTML=v;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),v=ae(this.options.offset),E=this._getAnchor();this._zoomAnimated?qt(this._container,f.add(E)):v=v.add(f).add(E);var M=this._containerBottom=-v.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=M+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(f,v,E,M){var R=v;return R instanceof f||(R=new f(M).setContent(v)),E&&R.setLatLng(E),R}}),Ai.include({_initOverlay:function(f,v,E,M){var R=E;return R instanceof f?(w(R,M),R._source=this):(R=v&&!M?v:new f(M,this),R.setContent(E)),R}});var xc=or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,or.prototype.openOn.call(this,f)},onAdd:function(f){or.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof na||this._source.on("preclick",ji))},onRemove:function(f){or.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof na||this._source.off("preclick",ji))},getEvents:function(){var f=or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",v=this._container=gt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=gt("div",f+"-content-wrapper",v);if(this._contentNode=gt("div",f+"-content",E),Xo(v),Ji(this._contentNode),ot(v,"contextmenu",ji),this._tipContainer=gt("div",f+"-tip-container",v),this._tip=gt("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=gt("a",f+"-close-button",v);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',ot(M,"click",function(R){wn(R),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,v=f.style;v.width="",v.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),v.width=E+1+"px",v.whiteSpace="",v.height="";var M=f.offsetHeight,R=this.options.maxHeight,H="leaflet-popup-scrolled";R&&M>R?(v.height=R+"px",ct(f,H)):on(f,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();qt(this._container,v.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,v=parseInt(ic(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+v,M=this._containerWidth,R=new ee(this._containerLeft,-E-this._containerBottom);R._add(lo(this._container));var H=f.layerPointToContainerPoint(R),Q=ae(this.options.autoPanPadding),de=ae(this.options.autoPanPaddingTopLeft||Q),ge=ae(this.options.autoPanPaddingBottomRight||Q),Te=f.getSize(),$e=0,Ze=0;H.x+M+ge.x>Te.x&&($e=H.x+M-Te.x+ge.x),H.x-$e-de.x<0&&($e=H.x-de.x),H.y+E+ge.y>Te.y&&(Ze=H.y+E-Te.y+ge.y),H.y-Ze-de.y<0&&(Ze=H.y-de.y),($e||Ze)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([$e,Ze]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),v0=function(f,v){return new xc(f,v)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(f,v,E){return this._initOverlay(xc,f,v,E).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Ai.include({bindPopup:function(f,v){return this._popup=this._initOverlay(xc,this._popup,f,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ea||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){co(f);var v=f.layer||f.target;if(this._popup._source===v&&!(v instanceof na)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=v,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var wc=or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){or.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){or.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=or.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",v=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=gt("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var v,E,M=this._map,R=this._container,H=M.latLngToContainerPoint(M.getCenter()),Q=M.layerPointToContainerPoint(f),de=this.options.direction,ge=R.offsetWidth,Te=R.offsetHeight,$e=ae(this.options.offset),Ze=this._getAnchor();de==="top"?(v=ge/2,E=Te):de==="bottom"?(v=ge/2,E=0):de==="center"?(v=ge/2,E=Te/2):de==="right"?(v=0,E=Te/2):de==="left"?(v=ge,E=Te/2):Q.x<H.x?(de="right",v=0,E=Te/2):(de="left",v=ge+($e.x+Ze.x)*2,E=Te/2),f=f.subtract(ae(v,E,!0)).add($e).add(Ze),on(R,"leaflet-tooltip-right"),on(R,"leaflet-tooltip-left"),on(R,"leaflet-tooltip-top"),on(R,"leaflet-tooltip-bottom"),ct(R,"leaflet-tooltip-"+de),qt(R,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Qt(this._container,f)},_animateZoom:function(f){var v=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(v)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ew=function(f,v){return new wc(f,v)};xt.include({openTooltip:function(f,v,E){return this._initOverlay(wc,f,v,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Ai.include({bindTooltip:function(f,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wc,this._tooltip,f,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var v=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[v](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ea||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&(ot(v,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),ot(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var v=typeof f.getElement=="function"&&f.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var v=f.latlng,E,M;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(E),v=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(v)}});var x0=ta.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var v=f&&f.tagName==="DIV"?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(ri(v),v.appendChild(E.html)):v.innerHTML=E.html!==!1?E.html:"",E.bgPos){var M=ae(E.bgPos);v.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function tw(f){return new x0(f)}ta.Default=mc;var ll=Ai.extend({options:{tileSize:256,opacity:1,updateWhenIdle:We.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){w(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Ut(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof ee?f:new ee(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var v=this.getPane().children,E=-f(-1/0,1/0),M=0,R=v.length,H;M<R;M++)H=v[M].style.zIndex,v[M]!==this._container&&H&&(E=f(E,+H));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!We.ielt9){Qt(this._container,this.options.opacity);var f=+new Date,v=!1,E=!1;for(var M in this._tiles){var R=this._tiles[M];if(!(!R.current||!R.loaded)){var H=Math.min(1,(f-R.loaded)/200);Qt(R.el,H),H<1?v=!0:(R.active?E=!0:this._onOpaqueTile(R),R.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),v&&(z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=gt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,v=this.options.maxZoom;if(f!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=v-Math.abs(f-E),this._onUpdateLevel(E)):(Ut(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[f],R=this._map;return M||(M=this._levels[f]={},M.el=gt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=v,M.origin=R.project(R.unproject(R.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,R.getCenter(),R.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,v,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)v=this._tiles[f],v.retain=v.current;for(f in this._tiles)if(v=this._tiles[f],v.current&&!v.active){var M=v.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var v in this._tiles)this._tiles[v].coords.z===f&&this._removeTile(v)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Ut(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,v,E,M){var R=Math.floor(f/2),H=Math.floor(v/2),Q=E-1,de=new ee(+R,+H);de.z=+Q;var ge=this._tileCoordsToKey(de),Te=this._tiles[ge];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),Q>M?this._retainParent(R,H,Q,M):!1)},_retainChildren:function(f,v,E,M){for(var R=2*f;R<2*f+2;R++)for(var H=2*v;H<2*v+2;H++){var Q=new ee(R,H);Q.z=E+1;var de=this._tileCoordsToKey(Q),ge=this._tiles[de];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);E+1<M&&this._retainChildren(R,H,E+1,M)}},_resetView:function(f){var v=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var v=this.options;return v.minNativeZoom!==void 0&&f<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<f?v.maxNativeZoom:f},_setView:function(f,v,E,M){var R=Math.round(v);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var H=this.options.updateWhenZooming&&R!==this._tileZoom;(!M||H)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,v)},_setZoomTransforms:function(f,v){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,v)},_setZoomTransform:function(f,v,E){var M=this._map.getZoomScale(E,f.zoom),R=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(v,E)).round();We.any3d?Oa(f.el,R,M):qt(f.el,R)},_resetGrid:function(){var f=this._map,v=f.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,v.wrapLng[0]],M).x/E.x),Math.ceil(f.project([0,v.wrapLng[1]],M).x/E.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([v.wrapLat[0],0],M).y/E.x),Math.ceil(f.project([v.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var v=this._map,E=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),M=v.getZoomScale(E,this._tileZoom),R=v.project(f,this._tileZoom).floor(),H=v.getSize().divideBy(M*2);return new B(R.subtract(H),R.add(H))},_update:function(f){var v=this._map;if(v){var E=this._clampZoom(v.getZoom());if(f===void 0&&(f=v.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(f),R=this._pxBoundsToTileRange(M),H=R.getCenter(),Q=[],de=this.options.keepBuffer,ge=new B(R.getBottomLeft().subtract([de,-de]),R.getTopRight().add([de,-de]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var $e=this._tiles[Te].coords;($e.z!==this._tileZoom||!ge.contains(new ee($e.x,$e.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(f,E);return}for(var Ze=R.min.y;Ze<=R.max.y;Ze++)for(var ft=R.min.x;ft<=R.max.x;ft++){var Wn=new ee(ft,Ze);if(Wn.z=this._tileZoom,!!this._isValidTile(Wn)){var _n=this._tiles[this._tileCoordsToKey(Wn)];_n?_n.current=!0:Q.push(Wn)}}if(Q.sort(function(Tt,jt){return Tt.distanceTo(H)-jt.distanceTo(H)}),Q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hr=document.createDocumentFragment();for(ft=0;ft<Q.length;ft++)this._addTile(Q[ft],Hr);this._level.el.appendChild(Hr)}}}},_isValidTile:function(f){var v=this._map.options.crs;if(!v.infinite){var E=this._globalTileRange;if(!v.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!v.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return oe(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var v=this._map,E=this.getTileSize(),M=f.scaleBy(E),R=M.add(E),H=v.unproject(M,f.z),Q=v.unproject(R,f.z);return[H,Q]},_tileCoordsToBounds:function(f){var v=this._tileCoordsToNwSe(f),E=new ne(v[0],v[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var v=f.split(":"),E=new ee(+v[0],+v[1]);return E.z=+v[2],E},_removeTile:function(f){var v=this._tiles[f];v&&(Ut(v.el),delete this._tiles[f],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){ct(f,"leaflet-tile");var v=this.getTileSize();f.style.width=v.x+"px",f.style.height=v.y+"px",f.onselectstart=p,f.onmousemove=p,We.ielt9&&this.options.opacity<1&&Qt(f,this.options.opacity)},_addTile:function(f,v){var E=this._getTilePos(f),M=this._tileCoordsToKey(f),R=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(R),this.createTile.length<2&&F(o(this._tileReady,this,f,null,R)),qt(R,E),this._tiles[M]={el:R,coords:f,current:!0},v.appendChild(R),this.fire("tileloadstart",{tile:R,coords:f})},_tileReady:function(f,v,E){v&&this.fire("tileerror",{error:v,tile:E,coords:f});var M=this._tileCoordsToKey(f);E=this._tiles[M],E&&(E.loaded=+new Date,this._map._fadeAnimated?(Qt(E.el,0),z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),v||(ct(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),We.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var v=new ee(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return v.z=f.z,v},_pxBoundsToTileRange:function(f){var v=this.getTileSize();return new B(f.min.unscaleBy(v).floor(),f.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function w0(f){return new ll(f)}var po=ll.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,v){this._url=f,v=w(this,v),v.detectRetina&&We.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,v){return this._url===f&&v===void 0&&(v=!0),this._url=f,v||this.redraw(),this},createTile:function(f,v){var E=document.createElement("img");return ot(E,"load",o(this._tileOnLoad,this,v,E)),ot(E,"error",o(this._tileOnError,this,v,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var v={r:We.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(v.y=E),v["-y"]=E}return O(this._url,i(v,this.options))},_tileOnLoad:function(f,v){We.ielt9?setTimeout(o(f,this,null,v),0):f(null,v)},_tileOnError:function(f,v,E){var M=this.options.errorTileUrl;M&&v.getAttribute("src")!==M&&(v.src=M),f(E,v)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,v=this.options.maxZoom,E=this.options.zoomReverse,M=this.options.zoomOffset;return E&&(f=v-f),f+M},_getSubdomain:function(f){var v=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var f,v;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(v=this._tiles[f].el,v.onload=p,v.onerror=p,!v.complete)){v.src=D;var E=this._tiles[f].coords;Ut(v),delete this._tiles[f],this.fire("tileabort",{tile:v,coords:E})}},_removeTile:function(f){var v=this._tiles[f];if(v)return v.el.setAttribute("src",D),ll.prototype._removeTile.call(this,f)},_tileReady:function(f,v,E){if(!(!this._map||E&&E.getAttribute("src")===D))return ll.prototype._tileReady.call(this,f,v,E)}});function oi(f,v){return new po(f,v)}var _c=po.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,v){this._url=f;var E=i({},this.defaultWmsParams);for(var M in v)M in this.options||(E[M]=v[M]);v=w(this,v);var R=v.detectRetina&&We.retina?2:1,H=this.getTileSize();E.width=H.x*R,E.height=H.y*R,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,po.prototype.onAdd.call(this,f)},getTileUrl:function(f){var v=this._tileCoordsToNwSe(f),E=this._crs,M=V(E.project(v[0]),E.project(v[1])),R=M.min,H=M.max,Q=(this._wmsVersion>=1.3&&this._crs===rh?[R.y,R.x,H.y,H.x]:[R.x,R.y,H.x,H.y]).join(","),de=po.prototype.getTileUrl.call(this,f);return de+S(this.wmsParams,de,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Q},setParams:function(f,v){return i(this.wmsParams,f),v||this.redraw(),this}});function si(f,v){return new _c(f,v)}po.WMS=_c,oi.wms=si;var Cr=Ai.extend({options:{padding:.1},initialize:function(f){w(this,f),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,v){var E=this._map.getZoomScale(v,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,v),H=M.multiplyBy(-E).add(R).subtract(this._map._getNewPixelOrigin(f,v));We.any3d?Oa(this._container,H,E):qt(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,v=this._map.getSize(),E=this._map.containerPointToLayerPoint(v.multiplyBy(-f)).round();this._bounds=new B(E,E.add(v.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qu=Cr.extend({options:{tolerance:0},getEvents:function(){var f=Cr.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");ot(f,"mousemove",this._onMouseMove,this),ot(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Ut(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var v in this._layers)f=this._layers[v],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cr.prototype._update.call(this);var f=this._bounds,v=this._container,E=f.getSize(),M=We.retina?2:1;qt(v,f.min),v.width=M*E.x,v.height=M*E.y,v.style.width=E.x+"px",v.style.height=E.y+"px",We.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[u(f)]=f;var v=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var v=f._order,E=v.next,M=v.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete f._order,delete this._layers[u(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var v=f.options.dashArray.split(/[, ]+/),E=[],M,R;for(R=0;R<v.length;R++){if(M=Number(v[R]),isNaN(M))return;E.push(M)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var v=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(f._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(f._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var v=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,v=this._redrawBounds;if(this._ctx.save(),v){var E=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!v||f._pxBounds&&f._pxBounds.intersects(v))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,v){if(this._drawing){var E,M,R,H,Q=f._parts,de=Q.length,ge=this._ctx;if(de){for(ge.beginPath(),E=0;E<de;E++){for(M=0,R=Q[E].length;M<R;M++)H=Q[E][M],ge[M?"lineTo":"moveTo"](H.x,H.y);v&&ge.closePath()}this._fillStroke(ge,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var v=f._point,E=this._ctx,M=Math.max(Math.round(f._radius),1),R=(Math.max(Math.round(f._radiusY),1)||M)/M;R!==1&&(E.save(),E.scale(1,R)),E.beginPath(),E.arc(v.x,v.y/R,M,0,Math.PI*2,!1),R!==1&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,v){var E=v.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(f.setLineDash&&f.setLineDash(v.options&&v.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var v=this._map.mouseEventToLayerPoint(f),E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(M?[M]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,v)}},_handleMouseOut:function(f){var v=this._hoveredLayer;v&&(on(this._container,"leaflet-interactive"),this._fireEvent([v],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,v){if(!this._mouseHoverThrottled){for(var E,M,R=this._drawFirst;R;R=R.next)E=R.layer,E.options.interactive&&E._containsPoint(v)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(ct(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,v,E){this._map._fireDOMEvent(v,E||v.type,f)},_bringToFront:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(E)E.prev=M;else return;M?M.next=E:E&&(this._drawFirst=E),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(f)}},_bringToBack:function(f){var v=f._order;if(v){var E=v.next,M=v.prev;if(M)M.next=E;else return;E?E.prev=M:M&&(this._drawLast=M),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(f)}}});function Sc(f){return We.canvas?new qu(f):null}var go=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ih={_initContainer:function(){this._container=gt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cr.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var v=f._container=go("shape");ct(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",f._path=go("path"),v.appendChild(f._path),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){var v=f._container;this._container.appendChild(v),f.options.interactive&&f.addInteractiveTarget(v)},_removePath:function(f){var v=f._container;Ut(v),f.removeInteractiveTarget(v),delete this._layers[u(f)]},_updateStyle:function(f){var v=f._stroke,E=f._fill,M=f.options,R=f._container;R.stroked=!!M.stroke,R.filled=!!M.fill,M.stroke?(v||(v=f._stroke=go("stroke")),R.appendChild(v),v.weight=M.weight+"px",v.color=M.color,v.opacity=M.opacity,M.dashArray?v.dashStyle=A(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=M.lineCap.replace("butt","flat"),v.joinstyle=M.lineJoin):v&&(R.removeChild(v),f._stroke=null),M.fill?(E||(E=f._fill=go("fill")),R.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(R.removeChild(E),f._fill=null)},_updateCircle:function(f){var v=f._point.round(),E=Math.round(f._radius),M=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+v.x+","+v.y+" "+E+","+M+" 0,"+65535*360)},_setPath:function(f,v){f._path.v=v},_bringToFront:function(f){Kn(f._container)},_bringToBack:function(f){Vo(f._container)}},ra=We.vml?go:Ce,cl=Cr.extend({_initContainer:function(){this._container=ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ut(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cr.prototype._update.call(this);var f=this._bounds,v=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,E.setAttribute("width",v.x),E.setAttribute("height",v.y)),qt(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(f){var v=f._path=ra("path");f.options.className&&ct(v,f.options.className),f.options.interactive&&ct(v,"leaflet-interactive"),this._updateStyle(f),this._layers[u(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Ut(f._path),f.removeInteractiveTarget(f._path),delete this._layers[u(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var v=f._path,E=f.options;v&&(E.stroke?(v.setAttribute("stroke",E.color),v.setAttribute("stroke-opacity",E.opacity),v.setAttribute("stroke-width",E.weight),v.setAttribute("stroke-linecap",E.lineCap),v.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?v.setAttribute("stroke-dasharray",E.dashArray):v.removeAttribute("stroke-dasharray"),E.dashOffset?v.setAttribute("stroke-dashoffset",E.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),E.fill?(v.setAttribute("fill",E.fillColor||E.color),v.setAttribute("fill-opacity",E.fillOpacity),v.setAttribute("fill-rule",E.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(f,v){this._setPath(f,Pe(f._parts,v))},_updateCircle:function(f){var v=f._point,E=Math.max(Math.round(f._radius),1),M=Math.max(Math.round(f._radiusY),1)||E,R="a"+E+","+M+" 0 1,0 ",H=f._empty()?"M0 0":"M"+(v.x-E)+","+v.y+R+E*2+",0 "+R+-E*2+",0 ";this._setPath(f,H)},_setPath:function(f,v){f._path.setAttribute("d",v)},_bringToFront:function(f){Kn(f._path)},_bringToBack:function(f){Vo(f._path)}});We.vml&&cl.include(ih);function kc(f){return We.svg||We.vml?new cl(f):null}xt.include({getRenderer:function(f){var v=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var v=this._paneRenderers[f];return v===void 0&&(v=this._createRenderer({pane:f}),this._paneRenderers[f]=v),v},_createRenderer:function(f){return this.options.preferCanvas&&Sc(f)||kc(f)}});var Qo=il.extend({initialize:function(f,v){il.prototype.initialize.call(this,this._boundsToLatLngs(f),v)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=oe(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function nw(f,v){return new Qo(f,v)}cl.create=ra,cl.pointsToPath=Pe,Pa.geometryToLayer=ar,Pa.coordsToLatLng=zu,Pa.coordsToLatLngs=bc,Pa.latLngToCoords=Uu,Pa.latLngsToCoords=yc,Pa.getFeature=fo,Pa.asFeature=Fu,xt.mergeOptions({boxZoom:!0});var Mr=Qi.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vs(),Cu(),this._startPoint=this._map.mouseEventToContainerPoint(f),ot(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=gt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var v=new B(this._point,this._startPoint),E=v.getSize();qt(this._box,v.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Ut(this._box),on(this._container,"leaflet-crosshair")),Xi(),oc(),Pt(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",Mr),xt.mergeOptions({doubleClickZoom:!0});var Yu=Qi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var v=this._map,E=v.getZoom(),M=v.options.zoomDelta,R=f.originalEvent.shiftKey?E-M:E+M;v.options.doubleClickZoom==="center"?v.setZoom(R):v.setZoomAround(f.containerPoint,R)}});xt.addInitHook("addHandler","doubleClickZoom",Yu),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ia=Qi.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new uo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){on(this._map._container,"leaflet-grab"),on(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=oe(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var v=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(v),this._prunePositions(v)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,v){return f-(f-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;f.x<v.min.x&&(f.x=this._viscousLimit(f.x,v.min.x)),f.y<v.min.y&&(f.y=this._viscousLimit(f.y,v.min.y)),f.x>v.max.x&&(f.x=this._viscousLimit(f.x,v.max.x)),f.y>v.max.y&&(f.y=this._viscousLimit(f.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,v=Math.round(f/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,R=(M-v+E)%f+v-E,H=(M+v+E)%f-v-E,Q=Math.abs(R+E)<Math.abs(H+E)?R:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Q},_onDragEnd:function(f){var v=this._map,E=v.options,M=!E.inertia||f.noInertia||this._times.length<2;if(v.fire("dragend",f),M)v.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,Q=E.easeLinearity,de=R.multiplyBy(Q/H),ge=de.distanceTo([0,0]),Te=Math.min(E.inertiaMaxSpeed,ge),$e=de.multiplyBy(Te/ge),Ze=Te/(E.inertiaDeceleration*Q),ft=$e.multiplyBy(-Ze/2).round();!ft.x&&!ft.y?v.fire("moveend"):(ft=v._limitOffset(ft,v.options.maxBounds),F(function(){v.panBy(ft,{duration:Ze,easeLinearity:Q,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",ia),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ah=Qi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),ot(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,v=document.documentElement,E=f.scrollTop||v.scrollTop,M=f.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var v=this._panKeys={},E=this.keyCodes,M,R;for(M=0,R=E.left.length;M<R;M++)v[E.left[M]]=[-1*f,0];for(M=0,R=E.right.length;M<R;M++)v[E.right[M]]=[f,0];for(M=0,R=E.down.length;M<R;M++)v[E.down[M]]=[0,f];for(M=0,R=E.up.length;M<R;M++)v[E.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var v=this._zoomKeys={},E=this.keyCodes,M,R;for(M=0,R=E.zoomIn.length;M<R;M++)v[E.zoomIn[M]]=f;for(M=0,R=E.zoomOut.length;M<R;M++)v[E.zoomOut[M]]=-f},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var v=f.keyCode,E=this._map,M;if(v in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[v],f.shiftKey&&(M=ae(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(ae(M),E.options.maxBounds)),E.options.worldCopyJump){var R=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(R)}else E.panBy(M)}else if(v in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;co(f)}}});xt.addInitHook("addHandler","keyboard",ah),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ec=Qi.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var v=yr(f),E=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),co(f)},_performZoom:function(){var f=this._map,v=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,H=E?Math.ceil(R/E)*E:R,Q=f._limitZoom(v+(this._delta>0?H:-H))-v;this._delta=0,this._startTime=null,Q&&(f.options.scrollWheelZoom==="center"?f.setZoom(v+Q):f.setZoomAround(this._lastMousePos,v+Q))}});xt.addInitHook("addHandler","scrollWheelZoom",Ec);var es=600;xt.mergeOptions({tapHold:We.touchNative&&We.safari&&We.mobile,tapTolerance:15});var Ku=Qi.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var v=f.touches[0];this._startPos=this._newPos=new ee(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",wn),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),es),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){Pt(document,"touchend",wn),Pt(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(f){var v=f.touches[0];this._newPos=new ee(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,v){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});E._simulated=!0,v.target.dispatchEvent(E)}});xt.addInitHook("addHandler","tapHold",Ku),xt.mergeOptions({touchZoom:We.touch,bounceAtZoomLimits:!0});var oh=Qi.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){on(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var v=this._map;if(!(!f.touches||f.touches.length!==2||v._animatingZoom||this._zooming)){var E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),wn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var v=this._map,E=v.mouseEventToContainerPoint(f.touches[0]),M=v.mouseEventToContainerPoint(f.touches[1]),R=E.distanceTo(M)/this._startDist;if(this._zoom=v.getScaleZoom(R,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&R<1||this._zoom>v.getMaxZoom()&&R>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var H=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(R===1&&H.x===0&&H.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var Q=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(Q,this,!0),wn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",oh),xt.BoxZoom=Mr,xt.DoubleClickZoom=Yu,xt.Drag=ia,xt.Keyboard=ah,xt.ScrollWheelZoom=Ec,xt.TapHold=Ku,xt.TouchZoom=oh,n.Bounds=B,n.Browser=We,n.CRS=pe,n.Canvas=qu,n.Circle=Bu,n.CircleMarker=rl,n.Class=Z,n.Control=Fr,n.DivIcon=x0,n.DivOverlay=or,n.DomEvent=Pu,n.DomUtil=Js,n.Draggable=uo,n.Evented=J,n.FeatureGroup=ea,n.GeoJSON=Pa,n.GridLayer=ll,n.Handler=Qi,n.Icon=ta,n.ImageOverlay=ol,n.LatLng=fe,n.LatLngBounds=ne,n.Layer=Ai,n.LayerGroup=nl,n.LineUtil=Zx,n.Map=xt,n.Marker=gc,n.Mixin=Yx,n.Path=na,n.Point=ee,n.PolyUtil=th,n.Polygon=il,n.Polyline=Da,n.Popup=xc,n.PosAnimation=Qs,n.Projection=d0,n.Rectangle=Qo,n.Renderer=Cr,n.SVG=cl,n.SVGOverlay=Gu,n.TileLayer=po,n.Tooltip=wc,n.Transformation=_e,n.Util=K,n.VideoOverlay=mo,n.bind=o,n.bounds=V,n.canvas=Sc,n.circle=g0,n.circleMarker=p0,n.control=Ma,n.divIcon=tw,n.extend=i,n.featureGroup=h0,n.geoJSON=Hu,n.geoJson=vc,n.gridLayer=w0,n.icon=hc,n.imageOverlay=b0,n.latLng=ye,n.latLngBounds=oe,n.layerGroup=Xx,n.map=Vf,n.marker=m0,n.point=ae,n.polygon=Qx,n.polyline=Jx,n.popup=v0,n.rectangle=nw,n.setOptions=w,n.stamp=u,n.svg=kc,n.svgOverlay=y0,n.tileLayer=oi,n.tooltip=ew,n.transformation=se,n.version=r,n.videoOverlay=sl;var sh=window.L;n.noConflict=function(){return window.L=sh,this},window.L=n}))})(ym,ym.exports)),ym.exports}var JZ=XZ();const V_=_i(JZ),Og=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Bc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function QZ(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:o,suggestionsId:l,mapId:u}=e.ids,d=e.initialCenter??{lat:37.5665,lon:126.978},h=Bc(n),p=Bc(t),b=Bc(r),y=Bc(a),k=Bc(o),w=Bc(l),S=i?Bc(i):null;let j=null,O=null,A=null;const C=z=>z.code==="Space"||z.key===" "||z.key==="Spacebar"||z.key==="Space",D=z=>{C(z)&&document.activeElement!==k&&(z.preventDefault(),z.stopPropagation(),k.focus())},P=()=>{b.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=V_.map(u,{keyboard:!1}).setView([d.lat,d.lon],11),V_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),b.addEventListener("keydown",D,!0),b.addEventListener("keyup",D,!0),k.focus()},$=()=>{b.style.display="none",k.value="",w.innerHTML="",A&&(window.clearTimeout(A),A=null),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0)},U=z=>{const K=z.dataset.name??"",Z=Number(z.dataset.lat??""),X=Number(z.dataset.lon??"");!Number.isFinite(Z)||!Number.isFinite(X)||!j||(O?O.setLatLng([Z,X]):O=V_.marker([Z,X]).addTo(j),j.flyTo([Z,X],14,{duration:.5}),h.value=K,h.dataset.lat=String(Z),h.dataset.lon=String(X),e.onSelected?.({name:K,lat:Z,lon:X}),w.innerHTML="",$())},W=()=>{A&&window.clearTimeout(A);const z=k.value.trim();if(!z){w.innerHTML="";return}A=window.setTimeout(async()=>{try{const K="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(z),Z=await fetch(K,{headers:{Accept:"application/json"}});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const X=await Z.json();if(!Array.isArray(X)||X.length===0){w.innerHTML='<li style="padding:8px"> </li>';return}const q=X.slice(0,12).map((J,ee)=>{const le=J.display_name.split(",").slice(0,3).map(V=>V.trim()).join("  "),ae="padding:8px;cursor:pointer;outline:none;",B=ee===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${Og(le)}"
                    data-lat="${Og(J.lat)}"
                    data-lon="${Og(J.lon)}"
                    data-active="${ee===0?"1":"0"}"
                    style="${ae}${B}"
                  >${Og(le)}</li>`}).join("");w.innerHTML=q}catch(K){console.error(K),w.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},Y=z=>{const K=z.target;K.tagName==="LI"&&U(K)},F=z=>{if(z.key==="Enter"){const K=w.querySelector('li[data-active="1"]')??w.querySelector("li");K&&U(K)}};return p.addEventListener("click",P),y.addEventListener("click",$),S&&S.addEventListener("click",$),k.addEventListener("input",W),k.addEventListener("keydown",F),w.addEventListener("click",Y),()=>{p.removeEventListener("click",P),y.removeEventListener("click",$),S&&S.removeEventListener("click",$),k.removeEventListener("input",W),k.removeEventListener("keydown",F),w.removeEventListener("click",Y),b.removeEventListener("keydown",D,!0),b.removeEventListener("keyup",D,!0),A&&(window.clearTimeout(A),A=null),j&&(j.remove(),j=null)}}function xd(){return document.getElementById("suggestions")}function Pb(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Z_(e,t){const n=Pb(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(o=>{o.tabIndex=-1,o.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}const eX='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';function tX({open:e,setOpen:t,setBtnText:n,setLocalValue:r,nameRef:i,latRef:a,lonRef:o,triggerBtnRef:l,onSelect:u}){_.useEffect(()=>{if(!e)return;const d=QZ({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:A=>{n(""),r(A.name),i.current&&(i.current.value=A.name),a.current&&(a.current.value=String(A.lat)),o.current&&(o.current.value=String(A.lon)),u?.(A),t(!1)}}),h=document.getElementById("inputBirthPlaceBtn");h&&h.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const p=document.getElementById("mapModal");if(!p)return;const b=document.getElementById("searchBox"),y=xd();setTimeout(()=>b?.focus(),0);const k=A=>{if(A.key==="Escape"){A.preventDefault(),t(!1);return}if(A.key!=="Tab")return;const C=xd();if(C&&C.contains(document.activeElement))return;const D=Array.from(p.querySelectorAll(eX)).filter(W=>!W.hasAttribute("disabled")&&W.tabIndex!==-1);if(D.length===0)return;const P=D[0],$=D[D.length-1],U=document.activeElement;A.shiftKey?(U===P||!p.contains(U))&&(A.preventDefault(),$.focus()):(U===$||!p.contains(U))&&(A.preventDefault(),P.focus())};p.addEventListener("keydown",k);const w=A=>{if(A.key!=="ArrowDown")return;const C=xd();!C||Pb(C).length===0||A.preventDefault()};b?.addEventListener("keydown",w);const S=A=>{if(A.target.value.trim()===""){const D=xd();D&&(D.innerHTML="")}};b?.addEventListener("input",S);const j=A=>{const C=xd();if(!C)return;const D=Pb(C);if(D.length===0)return;const P=document.activeElement,$=P?D.indexOf(P):-1;if($===-1)return;const U=W=>{A.preventDefault(),Z_(C,$+W)};switch(A.key){case"Tab":A.preventDefault(),U(A.shiftKey?-1:1);break;case"ArrowDown":A.preventDefault(),U(1);break;case"ArrowUp":A.preventDefault(),U(-1);break;case"Home":A.preventDefault(),Z_(C,0);break;case"End":A.preventDefault(),Z_(C,D.length-1);break;case"Enter":case" ":A.preventDefault(),P.click();break;case"Backspace":A.preventDefault(),C.innerHTML="",b?.focus();break}A.stopPropagation()};let O=null;return y&&(y.addEventListener("keydown",j),O=new MutationObserver(()=>{const A=xd();!A||Pb(A).length}),O.observe(y,{childList:!0,subtree:!1})),()=>{p.removeEventListener("keydown",k),b?.removeEventListener("keydown",w),b?.removeEventListener("input",S),y&&y.removeEventListener("keydown",j),O?.disconnect(),d?.()}},[e,u,n,r,t,i,a,o]),_.useEffect(()=>{e||setTimeout(()=>l.current?.focus(),0)},[e,l])}function zB({onSelect:e,placeholderText:t=" ",buttonStyle:n,value:r}){const i=VZ({placeholderText:t,value:r});return tX({...i,onSelect:e}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:i.localValue&&i.localValue.trim()!==""?i.localValue:t}),g.jsx("button",{ref:i.triggerBtnRef,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>i.setOpen(!0),"aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":"mapModal",children:i.btnText}),g.jsx("input",{ref:i.nameRef,type:"hidden",name:"birthPlace_name",defaultValue:""}),g.jsx("input",{ref:i.latRef,type:"hidden",name:"birthPlace_lat",defaultValue:""}),g.jsx("input",{ref:i.lonRef,type:"hidden",name:"birthPlace_lon",defaultValue:""}),i.open&&g.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:g.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{id:"mapModalTitle",className:"font-bold",children:" "}),g.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>i.setOpen(!1),children:""})]}),g.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{id:"searchBox",placeholder:":  / seoul / / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),g.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),g.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:g.jsx("div",{id:"map",className:"h-full w-full"})}),g.jsxs("div",{className:"gap-2 p-3",children:[g.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[g.jsxs("p",{className:"flex mb-1",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"   ."})]}),g.jsxs("p",{className:"flex",children:[g.jsx("span",{className:"mr-1",children:"*"}),g.jsx("span",{children:"       ."})]})]}),g.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function ur(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nX=typeof Symbol=="function"&&Symbol.observable||"@@observable",IM=nX,X_=()=>Math.random().toString(36).substring(7).split("").join("."),rX={INIT:`@@redux/INIT${X_()}`,REPLACE:`@@redux/REPLACE${X_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X_()}`},ay=rX;function ZE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XE(e,t,n){if(typeof e!="function")throw new Error(ur(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(XE)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function d(){o===a&&(o=new Map,a.forEach((S,j)=>{o.set(j,S)}))}function h(){if(u)throw new Error(ur(3));return i}function p(S){if(typeof S!="function")throw new Error(ur(4));if(u)throw new Error(ur(5));let j=!0;d();const O=l++;return o.set(O,S),function(){if(j){if(u)throw new Error(ur(6));j=!1,d(),o.delete(O),a=null}}}function b(S){if(!ZE(S))throw new Error(ur(7));if(typeof S.type>"u")throw new Error(ur(8));if(typeof S.type!="string")throw new Error(ur(17));if(u)throw new Error(ur(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=o).forEach(O=>{O()}),S}function y(S){if(typeof S!="function")throw new Error(ur(10));r=S,b({type:ay.REPLACE})}function k(){const S=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(ur(11));function O(){const C=j;C.next&&C.next(h())}return O(),{unsubscribe:S(O)}},[IM](){return this}}}return b({type:ay.INIT}),{dispatch:b,subscribe:p,getState:h,replaceReducer:y,[IM]:k}}function iX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ay.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:ay.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function UB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{iX(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],b=n[p],y=o[p],k=b(y,l);if(typeof k>"u")throw l&&l.type,new Error(ur(14));d[p]=k,u=u||k!==y}return u=u||r.length!==Object.keys(o).length,u?d:o}}function $M(e,t){return function(...n){return t(e.apply(this,n))}}function BM(e,t){if(typeof e=="function")return $M(e,t);if(typeof e!="object"||e===null)throw new Error(ur(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=$M(i,t))}return n}function Rm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function FB(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ur(15))};const o={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=e.map(u=>u(o));return a=Rm(...l)(i.dispatch),{...i,dispatch:a}}}function HB(e){return ZE(e)&&"type"in e&&typeof e.type=="string"}var J_={exports:{}},Q_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM;function aX(){if(zM)return Q_;zM=1;var e=hf();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Q_.useSyncExternalStoreWithSelector=function(u,d,h,p,b){var y=i(null);if(y.current===null){var k={hasValue:!1,value:null};y.current=k}else k=y.current;y=o(function(){function S(D){if(!j){if(j=!0,O=D,D=p(D),b!==void 0&&k.hasValue){var P=k.value;if(b(P,D))return A=P}return A=D}if(P=A,n(O,D))return P;var $=p(D);return b!==void 0&&b(P,$)?(O=D,P):(O=D,A=$)}var j=!1,O,A,C=h===void 0?null:h;return[function(){return S(d())},C===null?void 0:function(){return S(C())}]},[d,h,p,b]);var w=r(u,y[0],y[1]);return a(function(){k.hasValue=!0,k.value=w},[w]),l(w),w},Q_}var UM;function oX(){return UM||(UM=1,J_.exports=aX()),J_.exports}oX();var sX=_.version.startsWith("19"),lX=Symbol.for(sX?"react.transitional.element":"react.element"),cX=Symbol.for("react.portal"),uX=Symbol.for("react.fragment"),dX=Symbol.for("react.strict_mode"),fX=Symbol.for("react.profiler"),hX=Symbol.for("react.consumer"),mX=Symbol.for("react.context"),GB=Symbol.for("react.forward_ref"),pX=Symbol.for("react.suspense"),gX=Symbol.for("react.suspense_list"),JE=Symbol.for("react.memo"),bX=Symbol.for("react.lazy"),yX=GB,vX=JE;function xX(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case lX:switch(e=e.type,e){case uX:case fX:case dX:case pX:case gX:return e;default:switch(e=e&&e.$$typeof,e){case mX:case GB:case bX:case JE:return e;case hX:return e;default:return t}}case cX:return t}}}function wX(e){return xX(e)===JE}function _X(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:o}){let l=!1,u,d,h,p,b;function y(O,A){return u=O,d=A,h=e(u,d),p=t(r,d),b=n(h,p,d),l=!0,b}function k(){return h=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function w(){return e.dependsOnOwnProps&&(h=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),b=n(h,p,d),b}function S(){const O=e(u,d),A=!o(O,h);return h=O,A&&(b=n(h,p,d)),b}function j(O,A){const C=!a(A,d),D=!i(O,u,A,d);return u=O,d=A,C&&D?k():C?w():D?S():b}return function(A,C){return l?j(A,C):y(A,C)}}function SX(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),o=n(e,i),l=r(e,i);return _X(a,o,l,e,i)}function kX(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function Yk(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function FM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function qB(e,t){return function(r,{displayName:i}){const a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=e,a.dependsOnOwnProps=FM(e);let d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=FM(d),d=a(l,u)),d},a}}function QE(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function EX(e){return e&&typeof e=="object"?Yk(t=>kX(e,t)):e?typeof e=="function"?qB(e):QE(e,"mapDispatchToProps"):Yk(t=>({dispatch:t}))}function TX(e){return e?typeof e=="function"?qB(e):QE(e,"mapStateToProps"):Yk(()=>({}))}function jX(e,t,n){return{...n,...e,...t}}function AX(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,o;return function(u,d,h){const p=e(u,d,h);return a?i(p,o)||(o=p):(a=!0,o=p),o}}}function NX(e){return e?typeof e=="function"?AX(e):QE(e,"mergeProps"):()=>jX}function OX(e){e()}function CX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){OX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var HM={notify(){},get:()=>[]};function YB(e,t){let n,r=HM,i=0,a=!1;function o(w){h();const S=r.subscribe(w);let j=!1;return()=>{j||(j=!0,S(),p())}}function l(){r.notify()}function u(){k.onStateChange&&k.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=CX())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HM)}function b(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const k={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return k}var MX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DX=MX(),PX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RX=PX(),LX=()=>DX||RX?_.useLayoutEffect:_.useEffect,oy=LX();function GM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Rb(e,t){if(GM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!GM(e[n[i]],t[n[i]]))return!1;return!0}var IX={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$X={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},BX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zX={[yX]:BX,[vX]:KB};function qM(e){return wX(e)?KB:zX[e.$$typeof]||IX}var UX=Object.defineProperty,FX=Object.getOwnPropertyNames,YM=Object.getOwnPropertySymbols,HX=Object.getOwnPropertyDescriptor,GX=Object.getPrototypeOf,KM=Object.prototype;function Kk(e,t){if(typeof t!="string"){if(KM){const a=GX(t);a&&a!==KM&&Kk(e,a)}let n=FX(t);YM&&(n=n.concat(YM(t)));const r=qM(e),i=qM(t);for(let a=0;a<n.length;++a){const o=n[a];if(!$X[o]&&!(i&&i[o])&&!(r&&r[o])){const l=HX(t,o);try{UX(e,o,l)}catch{}}}}return e}var qX=Symbol.for("react-redux-context"),YX=typeof globalThis<"u"?globalThis:{};function KX(){if(!_.createContext)return{};const e=YX[qX]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var WB=KX(),WX=[null,null];function VX(e,t,n){oy(()=>e(...t),n)}function ZX(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function XX(e,t,n,r,i,a,o,l,u,d,h){if(!e)return()=>{};let p=!1,b=null;const y=()=>{if(p||!l.current)return;const w=t.getState();let S,j;try{S=r(w,i.current)}catch(O){j=O,b=O}j||(b=null),S===a.current?o.current||d():(a.current=S,u.current=S,o.current=!0,h())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,b)throw b}}function JX(e,t){return e===t}function QX(e,t,n,{pure:r,areStatesEqual:i=JX,areOwnPropsEqual:a=Rb,areStatePropsEqual:o=Rb,areMergedPropsEqual:l=Rb,forwardRef:u=!1,context:d=WB}={}){const h=d,p=TX(e),b=EX(t),y=NX(n),k=!!e;return S=>{const j=S.displayName||S.name||"Component",O=`Connect(${j})`,A={shouldHandleStateChanges:k,displayName:O,wrappedComponentName:j,WrappedComponent:S,initMapStateToProps:p,initMapDispatchToProps:b,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:a,areMergedPropsEqual:l};function C($){const[U,W,Y]=_.useMemo(()=>{const{reactReduxForwardedRef:se,...Ue}=$;return[$.context,se,Ue]},[$]),F=_.useMemo(()=>{let se=h;return U?.Consumer,se},[U,h]),z=_.useContext(F),K=!!$.store&&!!$.store.getState&&!!$.store.dispatch,Z=!!z&&!!z.store,X=K?$.store:z.store,q=Z?z.getServerState:X.getState,J=_.useMemo(()=>SX(X.dispatch,A),[X]),[ee,le]=_.useMemo(()=>{if(!k)return WX;const se=YB(X,K?void 0:z.subscription),Ue=se.notifyNestedSubs.bind(se);return[se,Ue]},[X,K,z]),ae=_.useMemo(()=>K?z:{...z,subscription:ee},[K,z,ee]),B=_.useRef(void 0),V=_.useRef(Y),ne=_.useRef(void 0),oe=_.useRef(!1),fe=_.useRef(!1),ye=_.useRef(void 0);oy(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const pe=_.useMemo(()=>()=>ne.current&&Y===V.current?ne.current:J(X.getState(),Y),[X,Y]),Ae=_.useMemo(()=>Ue=>ee?XX(k,X,ee,J,V,B,oe,fe,ne,le,Ue):()=>{},[ee]);VX(ZX,[V,B,oe,Y,ne,le]);let re;try{re=_.useSyncExternalStore(Ae,pe,q?()=>J(q(),Y):pe)}catch(se){throw ye.current&&(se.message+=`
The error may be correlated with this previous error:
${ye.current.stack}

`),se}oy(()=>{ye.current=void 0,ne.current=void 0,B.current=re});const Ee=_.useMemo(()=>_.createElement(S,{...re,ref:W}),[W,S,re]);return _.useMemo(()=>k?_.createElement(F.Provider,{value:ae},Ee):Ee,[F,Ee,ae])}const P=_.memo(C);if(P.WrappedComponent=S,P.displayName=C.displayName=O,u){const U=_.forwardRef(function(Y,F){return _.createElement(P,{...Y,reactReduxForwardedRef:F})});return U.displayName=O,U.WrappedComponent=S,Kk(U,S)}return Kk(P,S)}}var VB=QX;function eJ(e){const{children:t,context:n,serverState:r,store:i}=e,a=_.useMemo(()=>{const u=YB(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=_.useMemo(()=>i.getState(),[i]);oy(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||WB;return _.createElement(l.Provider,{value:a},t)}var ZB=eJ,tJ="Invariant failed";function nJ(e,t){throw new Error(tJ)}var Za=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,o=r-a,l=i-n,u={top:n,right:r,bottom:i,left:a,width:o,height:l,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return u},eT=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},WM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},rJ=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},e1={top:0,right:0,bottom:0,left:0},tT=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?e1:r,a=t.border,o=a===void 0?e1:a,l=t.padding,u=l===void 0?e1:l,d=Za(eT(n,i)),h=Za(WM(n,o)),p=Za(WM(h,u));return{marginBox:d,borderBox:Za(n),paddingBox:h,contentBox:p,margin:i,border:o,padding:u}},la=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&nJ(),i},iJ=function(){return{x:window.pageXOffset,y:window.pageYOffset}},sy=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,o=t.padding,l=rJ(r,n);return tT({borderBox:l,border:i,margin:a,padding:o})},ly=function(t,n){return n===void 0&&(n=iJ()),sy(t,n)},XB=function(t,n){var r={top:la(n.marginTop),right:la(n.marginRight),bottom:la(n.marginBottom),left:la(n.marginLeft)},i={top:la(n.paddingTop),right:la(n.paddingRight),bottom:la(n.paddingBottom),left:la(n.paddingLeft)},a={top:la(n.borderTopWidth),right:la(n.borderRightWidth),bottom:la(n.borderBottomWidth),left:la(n.borderLeftWidth)};return tT({borderBox:t,margin:r,padding:i,border:a})},JB=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return XB(n,r)},Lm=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(null,arguments)}function QB(e,t){}QB.bind(null,"warn");QB.bind(null,"error");function $l(){}function aJ(e,t){return{...e,...t}}function ma(e,t,n){const r=t.map(i=>{const a=aJ(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const oJ="Invariant failed";class uy extends Error{}uy.prototype.toString=function(){return this.message};function Le(e,t){throw new uy(oJ)}class sJ extends Zt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=$l,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof uy&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ma(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof uy){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const lJ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,dy=e=>e+1,cJ=e=>`
  You have lifted an item in position ${dy(e.source.index)}
`,e4=(e,t)=>{const n=e.droppableId===t.droppableId,r=dy(e.index),i=dy(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},t4=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,uJ=e=>{const t=e.destination;if(t)return e4(e.source,t);const n=e.combine;return n?t4(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},VM=e=>`
  The item has returned to its starting position
  of ${dy(e.index)}
`,dJ=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${VM(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${e4(e.source,t)}
    `:n?`
      You have dropped the item.
      ${t4(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${VM(e.source)}
  `},Lb={dragHandleUsageInstructions:lJ,onDragStart:cJ,onDragUpdate:uJ,onDragEnd:dJ};function fJ(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function n4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!fJ(e[n],t[n]))return!1;return!0}function kt(e,t){const n=_.useState(()=>({inputs:t,result:e()}))[0],r=_.useRef(!0),i=_.useRef(n),o=r.current||!!(t&&i.current.inputs&&n4(t,i.current.inputs))?i.current:{inputs:t,result:e()};return _.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Je(e,t){return kt(()=>e,t)}const mr={x:0,y:0},Er=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ui=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Bl=(e,t)=>e.x===t.x&&e.y===t.y,vf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),pu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Im=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),ZM=(e,t)=>Math.min(...t.map(n=>Im(e,n))),r4=e=>t=>({x:e(t.x),y:e(t.y)});var hJ=(e,t)=>{const n=Za({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const bp=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),XM=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],mJ={top:0,right:0,bottom:0,left:0},pJ=(e,t)=>t?bp(e,t.scroll.diff.displacement):e,gJ=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,bJ=(e,t)=>t&&t.shouldClipSubject?hJ(t.pageMarginBox,e):Za(e);var Jd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=pJ(e.marginBox,r),a=gJ(i,n,t),o=bJ(a,r);return{page:e,withPlaceholder:t,active:o}},nT=(e,t)=>{e.frame||Le();const n=e.frame,r=Ui(t,n.scroll.initial),i=vf(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Jd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:o}};function hr(e,t=n4){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const i4=hr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),a4=hr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Dv=hr(e=>Object.values(e)),yJ=hr(e=>Object.values(e));var xf=hr((e,t)=>yJ(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function rT(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Pv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Rv=hr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),vJ=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!rT(i))return null;function o(y){const k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:k}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?o(u):null;const d=Rv(t,r);if(!u){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===u);h===-1&&Le();const p=h-1;if(p<0)return null;const b=d[p];return o(b.descriptor.id)},wf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const o4={point:mr,value:0},$m={invisible:{},visible:{},all:[]},xJ={displaced:$m,displacedBy:o4,at:null};var va=(e,t)=>n=>e<=n&&n<=t,s4=e=>{const t=va(e.top,e.bottom),n=va(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&o||d&&a}},wJ=e=>{const t=va(e.top,e.bottom),n=va(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const iT={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},l4={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var _J=e=>t=>{const n=va(t.top,t.bottom),r=va(t.left,t.right);return i=>e===iT?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const SJ=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:mr;return bp(e,n)},kJ=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,EJ=(e,t,n)=>n(t)(e),aT=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?SJ(e,t):e;return kJ(a,t,i)&&EJ(a,n,i)},TJ=e=>aT({...e,isVisibleThroughFrameFn:s4}),c4=e=>aT({...e,isVisibleThroughFrameFn:wJ}),jJ=e=>aT({...e,isVisibleThroughFrameFn:_J(e.destination.axis)}),AJ=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function NJ(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Za(eT(n,r))}function Bm({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(l,u){const d=NJ(u,n),h=u.descriptor.id;if(l.all.push(h),!TJ({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const b=AJ(h,a,i),y={draggableId:h,shouldAnimate:b};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function OJ(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function JM({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=OJ(e,{inHomeList:t});return{displaced:$m,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function fy({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:o,forceShouldAnimate:l}){const u=wf(e,n);if(o==null)return JM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(k=>k.descriptor.index===o);if(!d)return JM({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const h=Rv(e,t),p=t.indexOf(d),b=h.slice(p);return{displaced:Bm({afterDragging:b,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Hl(e,t){return!!t.effected[e]}var CJ=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return Hl(a,i)?e?l:l-1:e?l+1:l},MJ=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return a<o||a>u?null:a},DJ=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:o,viewport:l,afterCritical:u})=>{const d=o.at;if(d||Le(),d.type==="REORDER"){const p=MJ({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return p==null?null:fy({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=CJ({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:u});return h==null?null:fy({draggable:n,insideDestination:a,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},PJ=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Hl(n,t)?i?mr:vf(r.point):i?r.point:mr},RJ=({afterCritical:e,impact:t,draggables:n})=>{const r=Pv(t);r||Le();const i=r.draggableId,a=n[i].page.borderBox.center,o=PJ({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Er(a,o)};const u4=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,LJ=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,oT=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,QM=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.end]+u4(e,n),oT(e,t.marginBox,n)),eD=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.start]-LJ(e,n),oT(e,t.marginBox,n)),IJ=({axis:e,moveInto:t,isMoving:n})=>pu(e.line,t.contentBox[e.start]+u4(e,n),oT(e,t.contentBox,n));var $J=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=xf(r.descriptor.id,n),o=t.page,l=r.axis;if(!a.length)return IJ({axis:l,moveInto:r.page,isMoving:o});const{displaced:u,displacedBy:d}=e,h=u.all[0];if(h){const b=n[h];if(Hl(h,i))return eD({axis:l,moveRelativeTo:b.page,isMoving:o});const y=sy(b.page,d.point);return eD({axis:l,moveRelativeTo:y,isMoving:o})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Hl(p.descriptor.id,i)){const b=sy(p.page,vf(i.displacedBy.point));return QM({axis:l,moveRelativeTo:b,isMoving:o})}return QM({axis:l,moveRelativeTo:p.page,isMoving:o})},Wk=(e,t)=>{const n=e.frame;return n?Er(t,n.scroll.diff.displacement):t};const BJ=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,o=e.at;return!n||!o?a:o.type==="REORDER"?$J({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):RJ({impact:e,draggables:r,afterCritical:i})};var Lv=e=>{const t=BJ(e),n=e.droppable;return n?Wk(n,t):t},d4=(e,t)=>{const n=Ui(t,e.scroll.initial),r=vf(n);return{frame:Za({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function tD(e,t){return e.map(n=>t[n])}function zJ(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var UJ=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=d4(t,Er(t.scroll.current,i)),o=n.frame?nT(n,Er(n.frame.scroll.current,i)):n,l=e.displaced,u=Bm({afterDragging:tD(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=Bm({afterDragging:tD(l.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),h={},p={},b=[l,u,d];return l.all.forEach(k=>{const w=zJ(k,b);if(w){p[k]=w;return}h[k]=!0}),{...e,displaced:{all:l.all,invisible:h,visible:p}}},FJ=(e,t)=>Er(e.scroll.diff.displacement,t),sT=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=FJ(n,e),i=Ui(r,t.page.borderBox.center);return Er(t.client.borderBox.center,i)},f4=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const o=Ui(n,e.page.borderBox.center),u={target:bp(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return a?jJ(u):c4(u)},HJ=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=xf(n.descriptor.id,r),h=wf(t,n),p=vJ({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||DJ({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;const b=Lv({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(f4({draggable:t,destination:n,newPageBorderBoxCenter:b,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:sT({pageBorderBoxCenter:b,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const k=Ui(b,o),w=UJ({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:k});return{clientSelection:l,impact:w,scrollJumpRequest:k}};const qr=e=>{const t=e.subject.active;return t||Le(),t};var GJ=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const o=n.axis,l=va(a[o.start],a[o.end]),u=Dv(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>s4(i.frame)(qr(h))).filter(h=>{const p=qr(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(h=>{const p=qr(h),b=va(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||b(a[o.start])||b(a[o.end])}).sort((h,p)=>{const b=qr(h)[o.crossAxisStart],y=qr(p)[o.crossAxisStart];return e?b-y:y-b}).filter((h,p,b)=>qr(h)[o.crossAxisStart]===qr(b[0])[o.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(h=>va(qr(h)[o.start],qr(h)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>qr(h)[o.start]-qr(p)[o.start])[0]:u.sort((h,p)=>{const b=ZM(t,XM(qr(h))),y=ZM(t,XM(qr(p)));return b!==y?b-y:qr(h)[o.start]-qr(p)[o.start]})[0]};const nD=(e,t)=>{const n=e.page.borderBox.center;return Hl(e.descriptor.id,t)?Ui(n,t.displacedBy.point):n},qJ=(e,t)=>{const n=e.page.borderBox;return Hl(e.descriptor.id,t)?bp(n,vf(t.displacedBy.point)):n};var YJ=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>c4({target:qJ(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const u=Im(e,Wk(n,nD(o,i))),d=Im(e,Wk(n,nD(l,i)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index})[0]||null,yp=hr(function(t,n){const r=n[t.line];return{value:r,point:pu(t.line,r)}});const KJ=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return pu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=xf(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:pu(r.line,u)},h4=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),m4=(e,t,n)=>{const r=e.frame;wf(t,e)&&Le(),e.subject.withPlaceholder&&Le();const i=yp(e.axis,t.displaceBy).point,a=KJ(e,i,n),o={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Jd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:h}}const l=a?Er(r.scroll.max,a):r.scroll.max,u=h4(r,l),d=Jd({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},WJ=e=>{const t=e.subject.withPlaceholder;t||Le();const n=e.frame;if(!n){const o=Jd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||Le();const i=h4(n,r),a=Jd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var VJ=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:o,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:$m,displacedBy:o4,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},b=Lv({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:l}),y=wf(r,a)?a:m4(a,r,i);return f4({draggable:r,destination:y,newPageBorderBoxCenter:b,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),h=yp(a.axis,r.displaceBy);return fy({draggable:r,insideDestination:n,destination:a,viewport:o,displacedBy:h,last:$m,index:d})},ZJ=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:o,afterCritical:l})=>{const u=GJ({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:o});if(!u)return null;const d=xf(u.descriptor.id,i),h=YJ({pageBorderBoxCenter:t,viewport:o,destination:u,insideDestination:d,afterCritical:l}),p=VJ({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const b=Lv({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:sT({pageBorderBoxCenter:b,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null}},Hi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const XJ=(e,t)=>{const n=Hi(e);return n?t[n]:null};var JJ=({state:e,type:t})=>{const n=XJ(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,o=a.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:b}=e.dimensions;return l?HJ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):ZJ({isMovingForward:u,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:p,droppables:b,viewport:e.viewport,afterCritical:e.afterCritical})};function Zc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function p4(e){const t=va(e.top,e.bottom),n=va(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function QJ(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function eQ({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const o=a.axis,l=pu(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Im(r,l)}}).sort((a,o)=>o.distance-a.distance);return i[0]?i[0].id:null}function tQ({pageBorderBox:e,draggable:t,droppables:n}){const r=Dv(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!QJ(e,a))return!1;if(p4(a)(e.center))return!0;const o=i.axis,l=a.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],h=va(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(u),b=h(d);return!p&&!b?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:eQ({pageBorderBox:e,draggable:t,candidates:r}):null}const g4=(e,t)=>Za(bp(e,t));var nQ=(e,t)=>{const n=e.frame;return n?g4(t,n.scroll.diff.value):t};function b4({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function rQ({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var iQ=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:o})=>{const l=n.axis,u=yp(n.axis,t.displaceBy),d=u.value,h=e[l.start],p=e[l.end],y=Rv(t,r).find(w=>{const S=w.descriptor.id,j=w.page.borderBox.center[l.line],O=Hl(S,o),A=b4({displaced:i,id:S});return O?A?p<=j:h<j-d:A?p<=j+d:h<j})||null,k=rQ({draggable:t,closest:y,inHomeList:wf(t,n)});return fy({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:u,index:k})};const aQ=4;var oQ=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=yp(r.axis,e.displaceBy),u=l.value,d=t[o.start],h=t[o.end],b=Rv(e,i).find(k=>{const w=k.descriptor.id,S=k.page.borderBox,O=S[o.size]/aQ,A=Hl(w,a),C=b4({displaced:n.displaced,id:w});return A?C?h>S[o.start]+O&&h<S[o.end]-O:d>S[o.start]-u+O&&d<S[o.end]-u-O:C?h>S[o.start]+u+O&&h<S[o.end]+u-O:d>S[o.start]+O&&d<S[o.end]-O});return b?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:b.descriptor.id,droppableId:r.descriptor.id}}}:null},y4=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:o})=>{const l=g4(t.page.borderBox,e),u=tQ({pageBorderBox:l,draggable:t,droppables:r});if(!u)return xJ;const d=r[u],h=xf(d.descriptor.id,n),p=nQ(d,l);return oQ({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||iQ({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:o})},lT=(e,t)=>({...e,[t.descriptor.id]:t});const sQ=({previousImpact:e,impact:t,droppables:n})=>{const r=Hi(e),i=Hi(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const o=WJ(a);return lT(n,o)};var lQ=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=sQ({previousImpact:r,impact:i,droppables:n}),o=Hi(i);if(!o)return a;const l=n[o];if(wf(e,l)||l.subject.withPlaceholder)return a;const u=m4(l,e,t);return lT(a,u)},Em=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const o=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=Ui(u,e.initial.client.selection),h={offset:d,selection:u,borderBoxCenter:Er(e.initial.client.borderBoxCenter,d)},p={selection:Er(h.selection,o.scroll.current),borderBoxCenter:Er(h.borderBoxCenter,o.scroll.current),offset:Er(h.offset,o.scroll.diff.value)},b={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:b};const y=l.draggables[e.critical.draggable.id],k=i||y4({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=lQ({draggable:y,impact:k,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:b,dimensions:{draggables:l.draggables,droppables:w},impact:k,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function cQ(e,t){return e.map(n=>t[n])}var v4=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,o=cQ(a.all,n),l=Bm({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:l}},x4=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const o=Lv({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return sT({pageBorderBoxCenter:o,draggable:t,viewport:i})},w4=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Le();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:o,droppables:l}=a,u=o[e.critical.draggable.id],d=Hi(r);d||Le();const h=l[d],p=v4({impact:r,viewport:i,destination:h,draggables:o}),b=x4({impact:p,draggable:u,droppable:h,draggables:o,viewport:i,afterCritical:e.afterCritical});return Em({impact:p,clientSelection:b,state:e,dimensions:a,viewport:i})},uQ=e=>({index:e.index,droppableId:e.droppableId}),_4=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=yp(t.axis,e.displaceBy),a=xf(t.descriptor.id,n),o=a.indexOf(e);o===-1&&Le();const l=a.slice(o+1),u=l.reduce((b,y)=>(b[y.descriptor.id]=!0,b),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Bm({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:uQ(e.descriptor)}},afterCritical:d}},dQ=(e,t)=>({draggables:e.draggables,droppables:lT(e.droppables,t)}),fQ=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=sy(e.client,t),i=ly(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},hQ=e=>{const t=e.frame;return t||Le(),t},mQ=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,o=t[a],u=hQ(o).scroll.diff.value,d=Er(r,u);return fQ({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},pQ=({state:e,published:t})=>{const n=t.modified.map(j=>{const O=e.dimensions.droppables[j.droppableId];return nT(O,j.scroll)}),r={...e.dimensions.droppables,...i4(n)},i=a4(mQ({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const o={droppables:r,draggables:a},l=Hi(e.impact),u=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],{impact:p,afterCritical:b}=_4({draggable:d,home:h,draggables:a,viewport:e.viewport}),y=u&&u.isCombineEnabled?e.impact:p,k=y4({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:e.viewport,afterCritical:b}),w={...e,phase:"DRAGGING",impact:k,onLiftImpact:p,dimensions:o,afterCritical:b,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Vk=e=>e.movementMode==="SNAP",t1=(e,t,n)=>{const r=dQ(e.dimensions,t);return!Vk(e)||n?Em({state:e,dimensions:r}):w4({state:e,dimensions:r})};function n1(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const rD={phase:"IDLE",completed:null,shouldFlush:!1};var gQ=(e=rD,t)=>{if(t.type==="FLUSH")return{...rD,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:o}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:mr},h={client:d,page:{selection:Er(d.selection,i.scroll.initial),borderBoxCenter:Er(d.selection,i.scroll.initial),offset:Er(d.selection,i.scroll.diff.value)}},p=Dv(a.droppables).every(w=>!w.isFixedOnPage),{impact:b,afterCritical:y}=_4({draggable:l,home:u,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:b,afterCritical:y,onLiftImpact:b,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),pQ({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Le();const{client:n}=t.payload;return Bl(n,e.current.client.selection)?e:Em({state:e,clientSelection:n,impact:Vk(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return n1(e);Zc(e)||Le();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=nT(i,r);return t1(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Le();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isEnabled===r&&Le();const a={...i,isEnabled:r};return t1(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Zc(e)||Le();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isCombineEnabled===r&&Le();const a={...i,isCombineEnabled:r};return t1(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Zc(e)||Le(),e.isWindowScrollAllowed||Le();const n=t.payload.newScroll;if(Bl(e.viewport.scroll.current,n))return n1(e);const r=d4(e.viewport,n);return Vk(e)?w4({state:e,viewport:r}):Em({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Zc(e))return e;const n=t.payload.maxScroll;if(Bl(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const n=JJ({state:e,type:t.type});return n?Em({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Lt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const bQ=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),yQ=e=>({type:"LIFT",payload:e}),vQ=e=>({type:"INITIAL_PUBLISH",payload:e}),xQ=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),wQ=()=>({type:"COLLECTION_STARTING",payload:null}),_Q=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),SQ=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),kQ=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),S4=e=>({type:"MOVE",payload:e}),EQ=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),TQ=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),jQ=()=>({type:"MOVE_UP",payload:null}),AQ=()=>({type:"MOVE_DOWN",payload:null}),NQ=()=>({type:"MOVE_RIGHT",payload:null}),OQ=()=>({type:"MOVE_LEFT",payload:null}),cT=()=>({type:"FLUSH",payload:null}),CQ=e=>({type:"DROP_ANIMATE",payload:e}),uT=e=>({type:"DROP_COMPLETE",payload:e}),k4=e=>({type:"DROP",payload:e}),MQ=e=>({type:"DROP_PENDING",payload:e}),E4=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var DQ=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Lt(i,"LIFT")){r(i);return}const{id:a,clientSelection:o,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(uT({completed:u.completed})),t().phase!=="IDLE"&&Le(),n(cT()),n(bQ({draggableId:a,movementMode:l}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:b,viewport:y}=e.startPublishing(h);n(vQ({critical:p,dimensions:b,clientSelection:o,movementMode:l,viewport:y}))},PQ=e=>()=>t=>n=>{Lt(n,"INITIAL_PUBLISH")&&e.dragging(),Lt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Lt(n,"FLUSH")||Lt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const dT={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},zm={opacity:{drop:0,combining:.7},scale:{drop:.75}},T4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zc=`${T4.outOfTheWay}s ${dT.outOfTheWay}`,Tm={fluid:`opacity ${zc}`,snap:`transform ${zc}, opacity ${zc}`,drop:e=>{const t=`${e}s ${dT.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${zc}`,placeholder:`height ${zc}, width ${zc}, margin ${zc}`},iD=e=>Bl(e,mr)?void 0:`translate(${e.x}px, ${e.y}px)`,Zk={moveTo:iD,drop:(e,t)=>{const n=iD(e);if(n)return t?`${n} scale(${zm.scale.drop})`:n}},{minDropTime:Xk,maxDropTime:j4}=T4,RQ=j4-Xk,aD=1500,LQ=.6;var IQ=({current:e,destination:t,reason:n})=>{const r=Im(e,t);if(r<=0)return Xk;if(r>=aD)return j4;const i=r/aD,a=Xk+RQ*i,o=n==="CANCEL"?a*LQ:a;return Number(o.toFixed(2))},$Q=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:o}=n,l=Hi(e),u=l?o[l]:null,d=o[t.descriptor.droppableId],h=x4({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:u||d,viewport:r});return Ui(h,t.client.borderBox.center)},BQ=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:v4({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:$m},didDropInsideDroppable:!0};const zQ=({getState:e,dispatch:t})=>n=>r=>{if(!Lt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(MQ({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Le(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Le();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=BQ({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),b=p?rT(h):null,y=p?Pv(h):null,k={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:b,combine:y},S=$Q({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:h};if(!(!Bl(i.current.client.offset,S)||!!w.combine)){t(uT({completed:j}));return}const A=IQ({current:i.current.client.offset,destination:S,reason:a});t(CQ({newHomeClientOffset:S,dropDuration:A,completed:j}))};var A4=()=>({x:window.pageXOffset,y:window.pageYOffset});function UQ(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function FQ({onWindowScroll:e}){function t(){e(A4())}const n=Lm(t),r=UQ(n);let i=$l;function a(){return i!==$l}function o(){a()&&Le(),i=ma(window,[r])}function l(){a()||Le(),n.cancel(),i(),i=$l}return{start:o,stop:l,isActive:a}}const HQ=e=>Lt(e,"DROP_COMPLETE")||Lt(e,"DROP_ANIMATE")||Lt(e,"FLUSH"),GQ=e=>{const t=FQ({onWindowScroll:n=>{e.dispatch(EQ({newScroll:n}))}});return n=>r=>{!t.isActive()&&Lt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&HQ(r)&&t.stop(),n(r)}};var qQ=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},YQ=()=>{const e=[],t=i=>{const a=e.findIndex(l=>l.timerId===i);a===-1&&Le();const[o]=e.splice(a,1);o.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),o={timerId:a,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const KQ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,WQ=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,VQ=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},qh=(e,t)=>{t()},Cg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function r1(e,t,n,r){if(!e){n(r(t));return}const i=qQ(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var ZQ=(e,t)=>{const n=YQ();let r=null;const i=(p,b)=>{r&&Le(),qh("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:b})})},a=(p,b)=>{r&&Le(),qh("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(Cg(p,b))})},o=(p,b)=>{r&&Le();const y=Cg(p,b);r={mode:b,lastCritical:p,lastLocation:y.source,lastCombine:null},n.add(()=>{qh("onDragStart",()=>r1(e().onDragStart,y,t,Lb.onDragStart))})},l=(p,b)=>{const y=rT(b),k=Pv(b);r||Le();const w=!VQ(p,r.lastCritical);w&&(r.lastCritical=p);const S=!KQ(r.lastLocation,y);S&&(r.lastLocation=y);const j=!WQ(r.lastCombine,k);if(j&&(r.lastCombine=k),!w&&!S&&!j)return;const O={...Cg(p,r.mode),combine:k,destination:y};n.add(()=>{qh("onDragUpdate",()=>r1(e().onDragUpdate,O,t,Lb.onDragUpdate))})},u=()=>{r||Le(),n.flush()},d=p=>{r||Le(),r=null,qh("onDragEnd",()=>r1(e().onDragEnd,p,t,Lb.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Cg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},XQ=(e,t)=>{const n=ZQ(e,t);return r=>i=>a=>{if(Lt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Lt(a,"INITIAL_PUBLISH")){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),i(a),n.start(l,a.payload.movementMode);return}if(Lt(a,"DROP_COMPLETE")){const l=a.payload.completed.result;n.flush(),i(a),n.drop(l);return}if(i(a),Lt(a,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const JQ=e=>t=>n=>{if(!Lt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(uT({completed:r.completed}))},QQ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Lt(a,"FLUSH")||Lt(a,"DROP_COMPLETE")||Lt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Lt(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(E4())}};n=requestAnimationFrame(()=>{n=null,t=ma(window,[o])})}};var eee=e=>()=>t=>n=>{(Lt(n,"DROP_COMPLETE")||Lt(n,"FLUSH")||Lt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},tee=e=>{let t=!1;return()=>n=>r=>{if(Lt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Lt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Lt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const nee=e=>Lt(e,"DROP_COMPLETE")||Lt(e,"DROP_ANIMATE")||Lt(e,"FLUSH");var ree=e=>t=>n=>r=>{if(nee(r)){e.stop(),n(r);return}if(Lt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Le(),e.start(i);return}n(r),e.scroll(t.getState())};const iee=e=>t=>n=>{if(t(n),!Lt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(k4({reason:r.reason})))},aee=Rm;var oee=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>XE(gQ,aee(FB(PQ(n),eee(e),DQ(e),zQ,JQ,QQ,iee,ree(a),GQ,tee(t),XQ(r,i))));const i1=()=>({additions:{},removals:{},modified:{}});function see({registry:e,callbacks:t}){let n=i1(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:h}=n,p=Object.keys(u).map(k=>e.draggable.getById(k).getDimension(mr)).sort((k,w)=>k.descriptor.index-w.descriptor.index),b=Object.keys(h).map(k=>{const S=e.droppable.getById(k).callbacks.getScrollWhileDragging();return{droppableId:k,scroll:S}}),y={additions:p,removals:Object.keys(d),modified:b};n=i1(),t.publish(y)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=i1())}}}var N4=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ui({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},O4=()=>{const e=document.documentElement;return e||Le(),e},C4=()=>{const e=O4();return N4({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},lee=()=>{const e=A4(),t=C4(),n=e.y,r=e.x,i=O4(),a=i.clientWidth,o=i.clientHeight,l=r+a,u=n+o;return{frame:Za({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:mr,displacement:mr}}}},cee=({critical:e,scrollOptions:t,registry:n})=>{const r=lee(),i=r.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:a4(l),droppables:i4(o)},critical:e,viewport:r}};function oD(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var uee=(e,t)=>{let n=null;const r=see({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(b,y)=>{e.droppable.exists(b)||Le(),n&&t.updateDroppableIsEnabled({id:b,isEnabled:y})},a=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableIsCombineEnabled({id:b,isCombineEnabled:y}))},o=(b,y)=>{n&&(e.droppable.exists(b)||Le(),t.updateDroppableScroll({id:b,newScroll:y}))},l=(b,y)=>{n&&e.droppable.getById(b).callbacks.scroll(y)},u=()=>{if(!n)return;r.stop();const b=n.critical.droppable;e.droppable.getAllByType(b.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},d=b=>{n||Le();const y=n.critical.draggable;b.type==="ADDITION"&&oD(e,y,b.value)&&r.add(b.value),b.type==="REMOVAL"&&oD(e,y,b.value)&&r.remove(b.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:b=>{n&&Le();const y=e.draggable.getById(b.draggableId),k=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:k.descriptor},S=e.subscribe(d);return n={critical:w,unsubscribe:S},cee({critical:w,registry:e,scrollOptions:b.scrollOptions})},stopPublishing:u}},M4=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",dee=e=>{window.scrollBy(e.x,e.y)};const fee=hr(e=>Dv(e).filter(t=>!(!t.isEnabled||!t.frame))),hee=(e,t)=>fee(t).find(r=>(r.frame||Le(),p4(r.frame.pageMarginBox)(e)))||null;var mee=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return hee(e,n)};const Um={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var pee=(e,t,n=()=>Um)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},D4=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},fT=1,gee=(e,t,n=()=>Um)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return fT;const a=1-D4({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)},bee=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,o=t,l=a,d=Date.now()-o;if(d>=a)return e;if(d<i)return fT;const h=D4({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(h);return Math.ceil(p)},sD=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=gee(e,t,i);return a===0?0:r?Math.max(bee(a,n,i),fT):a},lD=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=pee(e,r,a);return t[r.end]<t[r.start]?sD({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*sD({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},yee=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const vee=r4(e=>e===0?0:e);var P4=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=lD({container:t,distanceToEdges:o,dragStartTime:e,axis:iT,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),u=lD({container:t,distanceToEdges:o,dragStartTime:e,axis:l4,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=vee({x:u,y:l});if(Bl(d,mr))return null;const h=yee({container:t,subject:n,proposedScroll:d});return h?Bl(h,mr)?null:h:null};const xee=r4(e=>e===0?0:e>0?1:-1),hT=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Er(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Bl(a,mr)?null:a}})(),R4=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=xee(n),a=hT({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},mT=(e,t)=>R4({current:e.scroll.current,max:e.scroll.max,change:t}),wee=(e,t)=>{if(!mT(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return hT({current:r,max:n,change:t})},pT=(e,t)=>{const n=e.frame;return n?R4({current:n.scroll.current,max:n.scroll.max,change:t}):!1},_ee=(e,t)=>{const n=e.frame;return!n||!pT(e,t)?null:hT({current:n.scroll.current,max:n.scroll.max,change:t})};var See=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=P4({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return o&&mT(e,o)?o:null},kee=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const o=e.frame;if(!o)return null;const l=P4({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return l&&pT(e,l)?l:null},cD=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const o=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,b=See({dragStartTime:t,viewport:p,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(b){r(b);return}}const d=mee({center:o,destination:Hi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=kee({dragStartTime:t,droppable:d,subject:u,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},Eee=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Um})=>{const r=Lm(e),i=Lm(t);let a=null;const o=d=>{a||Le();const{shouldUseTimeDampening:h,dragStartTime:p}=a;cD({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&Le();const h=Date.now();let p=!1;const b=()=>{p=!0};cD({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:b,scrollDroppable:b,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:o}},Tee=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=Er(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!pT(l,u))return u;const d=_ee(l,u);if(!d)return t(l.descriptor.id,u),null;const h=Ui(u,d);return t(l.descriptor.id,h),Ui(u,h)},a=(l,u,d)=>{if(!l||!mT(u,d))return d;const h=wee(u,d);if(!h)return n(d),null;const p=Ui(d,h);return n(p),Ui(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=Hi(l.impact);d||Le();const h=i(l.dimensions.droppables[d],u);if(!h)return;const p=l.viewport,b=a(l.isWindowScrollAllowed,p,h);b&&r(l,b)}},jee=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Eee({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Tee({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:i.start,stop:i.stop}};const Qd="data-rfd",ef=(()=>{const e=`${Qd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Jk=(()=>{const e=`${Qd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Aee=(()=>{const e=`${Qd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),uD={contextId:`${Qd}-scroll-container-context-id`},Nee=e=>t=>`[${t}="${e}"]`,Yh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Oee="pointer-events: none;";var Cee=e=>{const t=Nee(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ef.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Oee,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Tm.outOfTheWay};
    `;return{selector:t(Jk.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(Aee.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Yh(o,"always"),resting:Yh(o,"resting"),dragging:Yh(o,"dragging"),dropAnimating:Yh(o,"dropAnimating"),userCancel:Yh(o,"userCancel")}};const Gi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,a1=()=>{const e=document.querySelector("head");return e||Le(),e},dD=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Mee(e,t){const n=kt(()=>Cee(e),[e]),r=_.useRef(null),i=_.useRef(null),a=Je(hr(p=>{const b=i.current;b||Le(),b.textContent=p}),[]),o=Je(p=>{const b=r.current;b||Le(),b.textContent=p},[]);Gi(()=>{!r.current&&!i.current||Le();const p=dD(t),b=dD(t);return r.current=p,i.current=b,p.setAttribute(`${Qd}-always`,e),b.setAttribute(`${Qd}-dynamic`,e),a1().appendChild(p),a1().appendChild(b),o(n.always),a(n.resting),()=>{const y=k=>{const w=k.current;w||Le(),a1().removeChild(w),k.current=null};y(r),y(i)}},[t,o,a,n.always,n.resting,e]);const l=Je(()=>a(n.dragging),[a,n.dragging]),u=Je(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=Je(()=>{i.current&&a(n.resting)},[a,n.resting]);return kt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function L4(e,t){return Array.from(e.querySelectorAll(t))}var I4=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Iv(e){return e instanceof I4(e).HTMLElement}function Dee(e,t){const n=`[${ef.contextId}="${e}"]`,r=L4(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(ef.draggableId)===t);return!i||!Iv(i)?null:i}function Pee(e){const t=_.useRef({}),n=_.useRef(null),r=_.useRef(null),i=_.useRef(!1),a=Je(function(b,y){const k={id:b,focus:y};return t.current[b]=k,function(){const S=t.current;S[b]!==k&&delete S[b]}},[]),o=Je(function(b){const y=Dee(e,b);y&&y!==document.activeElement&&y.focus()},[e]),l=Je(function(b,y){n.current===b&&(n.current=y)},[]),u=Je(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const b=n.current;b&&o(b)}))},[o]),d=Je(function(b){n.current=null;const y=document.activeElement;y&&y.getAttribute(ef.draggableId)===b&&(n.current=b)},[]);return Gi(()=>(i.current=!0,function(){i.current=!1;const b=r.current;b&&cancelAnimationFrame(b)}),[]),kt(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[a,d,u,l])}function Ree(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const y=t.indexOf(p);y!==-1&&t.splice(y,1)}}function r(p){t.length&&t.forEach(b=>b(p))}function i(p){return e.draggables[p]||null}function a(p){const b=i(p);return b||Le(),b}const o={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,b)=>{const y=e.draggables[b.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[b.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const b=p.descriptor.id,y=i(b);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[b],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(b=>b.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const b=l(p);return b||Le(),b}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const b=l(p.descriptor.id);b&&p.uniqueId===b.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(b=>b.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:h}}function Lee(){const e=kt(Ree,[]);return _.useEffect(()=>function(){e.clean()},[e]),e}var gT=Zt.createContext(null),hy=()=>{const e=document.body;return e||Le(),e};const Iee={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},$ee=e=>`rfd-announcement-${e}`;function Bee(e){const t=kt(()=>$ee(e),[e]),n=_.useRef(null);return _.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),cy(a.style,Iee),hy().appendChild(a),function(){setTimeout(function(){const u=hy();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Je(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const zee={separator:"::"};function bT(e,t=zee){const n=Zt.useId();return kt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Uee({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Fee({contextId:e,text:t}){const n=bT("hidden-text",{separator:"-"}),r=kt(()=>Uee({contextId:e,uniqueId:n}),[n,e]);return _.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",hy().appendChild(a),function(){const l=hy();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var $v=Zt.createContext(null);function $4(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),t}function Hee(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&Le();const l={abandon:o};return e=l,l}function i(){e||Le(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Fm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Gee=9,qee=13,yT=27,B4=32,Yee=33,Kee=34,Wee=35,Vee=36,Zee=37,Xee=38,Jee=39,Qee=40,ete={[qee]:!0,[Gee]:!0};var z4=e=>{ete[e.keyCode]&&e.preventDefault()};const Bv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),U4=0,fD=5;function tte(e,t){return Math.abs(t.x-e.x)>=fD||Math.abs(t.y-e.y)>=fD}const hD={type:"IDLE"};function nte({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:o,clientY:l}=i;if(a!==U4)return;const u={x:o,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&Le();const h=d.point;if(!tte(h,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===yT){i.preventDefault(),e();return}z4(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Le(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Bv,fn:e}]}function rte(e){const t=_.useRef(hD),n=_.useRef($l),r=kt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==U4||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const b=e.findClosestDraggableId(p);if(!b)return;const y=e.tryGetLock(b,o,{sourceEvent:p});if(!y)return;p.preventDefault();const k={x:p.clientX,y:p.clientY};n.current(),d(y,k)}}),[e]),i=kt(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const b=e.findOptionsForDraggable(p);b&&(b.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),a=Je(function(){const p={passive:!1,capture:!0};n.current=ma(window,[i,r],p)},[i,r]),o=Je(()=>{t.current.type!=="IDLE"&&(t.current=hD,n.current(),a())},[a]),l=Je(()=>{const h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Je(function(){const p={capture:!0,passive:!1},b=nte({cancel:l,completed:o,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=ma(window,b,p)},[l,o]),d=Je(function(p,b){t.current.type!=="IDLE"&&Le(),t.current={type:"PENDING",point:b,actions:p},u()},[u]);Gi(function(){return a(),function(){n.current()}},[a])}function ite(){}const ate={[Kee]:!0,[Yee]:!0,[Vee]:!0,[Wee]:!0};function ote(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===yT){i.preventDefault(),n();return}if(i.keyCode===B4){i.preventDefault(),r();return}if(i.keyCode===Qee){i.preventDefault(),e.moveDown();return}if(i.keyCode===Xee){i.preventDefault(),e.moveUp();return}if(i.keyCode===Jee){i.preventDefault(),e.moveRight();return}if(i.keyCode===Zee){i.preventDefault(),e.moveLeft();return}if(ate[i.keyCode]){i.preventDefault();return}z4(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Bv,fn:n}]}function ste(e){const t=_.useRef(ite),n=kt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==B4)return;const o=e.findClosestDraggableId(a);if(!o)return;const l=e.tryGetLock(o,h,{sourceEvent:a});if(!l)return;a.preventDefault();let u=!0;const d=l.snapLift();t.current();function h(){u||Le(),u=!1,t.current(),r()}t.current=ma(window,ote(d,h),{capture:!0,passive:!1})}}),[e]),r=Je(function(){const a={passive:!1,capture:!0};t.current=ma(window,[n],a)},[n]);Gi(function(){return r(),function(){t.current()}},[r])}const o1={type:"IDLE"},lte=120,cte=.15;function ute({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===yT&&n.preventDefault(),e()}},{eventName:Bv,fn:e}]}function dte({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:o}=r.touches[0],l={x:a,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Le();const a=r.touches[0];if(!a||!(a.force>=cte))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Bv,fn:e}]}function fte(e){const t=_.useRef(o1),n=_.useRef($l),r=Je(function(){return t.current},[]),i=Je(function(y){t.current=y},[]),a=kt(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const k=e.findClosestDraggableId(y);if(!k)return;const w=e.tryGetLock(k,l,{sourceEvent:y});if(!w)return;const S=y.touches[0],{clientX:j,clientY:O}=S,A={x:j,y:O};n.current(),p(w,A)}}),[e]),o=Je(function(){const y={capture:!0,passive:!1};n.current=ma(window,[a],y)},[a]),l=Je(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),i(o1),n.current(),o())},[o,i]),u=Je(()=>{const b=t.current;l(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[l]),d=Je(function(){const y={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:r},w=ma(window,dte(k),y),S=ma(window,ute(k),y);n.current=function(){w(),S()}},[u,r,l]),h=Je(function(){const y=r();y.type!=="PENDING"&&Le();const k=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[r,i]),p=Je(function(y,k){r().type!=="IDLE"&&Le();const w=setTimeout(h,lte);i({type:"PENDING",point:k,actions:y,longPressTimerId:w}),d()},[d,r,i,h]);Gi(function(){return o(),function(){n.current();const k=r();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(o1))}},[r,o,i]),Gi(function(){return ma(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const hte=["input","button","textarea","select","option","optgroup","video","audio"];function F4(e,t){if(t==null)return!1;if(hte.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:F4(e,t.parentElement)}function mte(e,t){const n=t.target;return Iv(n)?F4(e,n):!1}var pte=e=>Za(e.getBoundingClientRect()).center;function gte(e){return e instanceof I4(e).Element}const bte=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function H4(e,t){return e==null?null:e[bte](t)?e:H4(e.parentElement,t)}function yte(e,t){return e.closest?e.closest(t):H4(e,t)}function vte(e){return`[${ef.contextId}="${e}"]`}function xte(e,t){const n=t.target;if(!gte(n))return null;const r=vte(e),i=yte(n,r);return!i||!Iv(i)?null:i}function wte(e,t){const n=xte(e,t);return n?n.getAttribute(ef.draggableId):null}function _te(e,t){const n=`[${Jk.contextId}="${e}"]`,i=L4(document,n).find(a=>a.getAttribute(Jk.id)===t);return!i||!Iv(i)?null:i}function Ste(e){e.preventDefault()}function Mg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function G4({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!M4(t.getState(),r))}function kte({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:o}){if(!G4({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=_te(t,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&mte(d,o))return null;const h=e.claim(a||$l);let p="PRE_DRAG";function b(){return u.options.shouldRespectForcePress}function y(){return e.isActive(h)}function k(D,P){Mg({expected:D,phase:p,isLockActive:y,shouldWarn:!0})&&n.dispatch(P())}const w=k.bind(null,"DRAGGING");function S(D){function P(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(P(),Le()),n.dispatch(yQ(D.liftActionArgs)),p="DRAGGING";function $(U,W={shouldBlockNextClick:!1}){if(D.cleanup(),W.shouldBlockNextClick){const Y=ma(window,[{eventName:"click",fn:Ste,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Y)}P(),n.dispatch(k4({reason:U}))}return{isActive:()=>Mg({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,drop:U=>$("DROP",U),cancel:U=>$("CANCEL",U),...D.actions}}function j(D){const P=Lm(U=>{w(()=>S4({client:U}))});return{...S({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>P.cancel(),actions:{move:P}}),move:P}}function O(){const D={moveUp:()=>w(jQ),moveRight:()=>w(NQ),moveDown:()=>w(AQ),moveLeft:()=>w(OQ)};return S({liftActionArgs:{id:i,clientSelection:pte(d),movementMode:"SNAP"},cleanup:$l,actions:D})}function A(){Mg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>Mg({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:b,fluidLift:j,snapLift:O,abort:A}}const Ete=[rte,ste,fte];function Tte({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Ete:[],...r||[]],o=_.useState(()=>Hee())[0],l=Je(function(S,j){Fm(S)&&!Fm(j)&&o.tryAbandon()},[o]);Gi(function(){let S=t.getState();return t.subscribe(()=>{const O=t.getState();l(S,O),S=O})},[o,t,l]),Gi(()=>o.tryAbandon,[o.tryAbandon]);const u=Je(w=>G4({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),d=Je((w,S,j)=>kte({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:S||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,n,t]),h=Je(w=>wte(e,w),[e]),p=Je(w=>{const S=n.draggable.findById(w);return S?S.options:null},[n.draggable]),b=Je(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(cT()))},[o,t]),y=Je(()=>o.isClaimed(),[o]),k=kt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:b,isLockClaimed:y}),[u,d,h,p,b,y]);for(let w=0;w<a.length;w++)a[w](k)}const jte=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Eu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Ate=e=>({...Um,...e.autoScrollerOptions,durationDampening:{...Um.durationDampening,...e.autoScrollerOptions}});function Kh(e){return e.current||Le(),e.current}function Nte(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,o=_.useRef(null),l=$4(e),u=Je(()=>jte(l.current),[l]),d=Je(()=>Ate(l.current),[l]),h=Bee(t),p=Fee({contextId:t,text:a}),b=Mee(t,i),y=Je(Y=>{Kh(o).dispatch(Y)},[]),k=kt(()=>BM({publishWhileDragging:xQ,updateDroppableScroll:_Q,updateDroppableIsEnabled:SQ,updateDroppableIsCombineEnabled:kQ,collectionStarting:wQ},y),[y]),w=Lee(),S=kt(()=>uee(w,k),[w,k]),j=kt(()=>jee({scrollWindow:dee,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:d,...BM({move:S4},y)}),[S.scrollDroppable,y,d]),O=Pee(t),A=kt(()=>oee({announce:h,autoScroller:j,dimensionMarshal:S,focusMarshal:O,getResponders:u,styleMarshal:b}),[h,j,S,O,u,b]);o.current=A;const C=Je(()=>{const Y=Kh(o);Y.getState().phase!=="IDLE"&&Y.dispatch(cT())},[]),D=Je(()=>{const Y=Kh(o).getState();return Y.phase==="DROP_ANIMATING"?!0:Y.phase==="IDLE"?!1:Y.isDragging},[]),P=kt(()=>({isDragging:D,tryAbort:C}),[D,C]);n(P);const $=Je(Y=>M4(Kh(o).getState(),Y),[]),U=Je(()=>Zc(Kh(o).getState()),[]),W=kt(()=>({marshal:S,focus:O,contextId:t,canLift:$,isMovementAllowed:U,dragHandleUsageInstructionsId:p,registry:w}),[t,S,p,O,$,U,w]);return Tte({contextId:t,store:A,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),_.useEffect(()=>C,[C]),Zt.createElement($v.Provider,{value:W},Zt.createElement(ZB,{context:gT,store:A},e.children))}function Ote(){return Zt.useId()}function vp(e){const t=Ote(),n=e.dragHandleUsageInstructions||Lb.dragHandleUsageInstructions;return Zt.createElement(sJ,null,r=>Zt.createElement(Nte,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const mD={dragging:5e3,dropAnimating:4500},Cte=(e,t)=>t?Tm.drop(t.duration):e?Tm.snap:Tm.fluid,Mte=(e,t)=>{if(e)return t?zm.opacity.drop:zm.opacity.combining},Dte=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Pte(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,o=!!i,l=Dte(e),u=!!a,d=u?Zk.drop(r,o):Zk.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Cte(l,a),transform:d,opacity:Mte(o,u),zIndex:u?mD.dropAnimating:mD.dragging,pointerEvents:"none"}}function Rte(e){return{transform:Zk.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Lte(e){return e.type==="DRAGGING"?Pte(e):Rte(e)}function Ite(e,t,n=mr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=XB(i,r),o=ly(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:a,page:o}}function $te(e){const t=bT("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}=e,u=kt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}),[a,l,o]),d=Je(y=>{const k=i();return k||Le(),Ite(n,k,y)},[n,i]),h=kt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=_.useRef(h),b=_.useRef(!0);Gi(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Gi(()=>{if(b.current){b.current=!1;return}const y=p.current;p.current=h,r.draggable.update(h,y)},[h,r.draggable])}var vT=Zt.createContext(null);function my(e){const t=_.useContext(e);return t||Le(),t}function Bte(e){e.preventDefault()}const zte=e=>{const t=_.useRef(null),n=Je((P=null)=>{t.current=P},[]),r=Je(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:o}=my($v),{type:l,droppableId:u}=my(vT),d=kt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:h,draggableId:p,isEnabled:b,shouldRespectForcePress:y,canDragInteractiveElements:k,isClone:w,mapped:S,dropAnimationFinished:j}=e;if(!w){const P=kt(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:b}),[d,o,r,k,y,b]);$te(P)}const O=kt(()=>b?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Bte}:null,[i,a,p,b]),A=Je(P=>{S.type==="DRAGGING"&&S.dropping&&P.propertyName==="transform"&&Eu.flushSync(j)},[j,S]),C=kt(()=>{const P=Lte(S),$=S.type==="DRAGGING"&&S.dropping?A:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:P,onTransitionEnd:$},dragHandleProps:O}},[i,O,p,S,A,n]),D=kt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Zt.createElement(Zt.Fragment,null,h(C,S.snapshot,D))};var q4=(e,t)=>e===t,Y4=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Ute=e=>e.combine?e.combine.draggableId:null,Fte=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Hte(){const e=hr((i,a)=>({x:i,y:a})),t=hr((i,a,o=null,l=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),n=hr((i,a,o,l,u=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:h,snapshot:t(a,l,u,d,null)}}));return(i,a)=>{if(Fm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[a.draggableId],u=Hi(i.impact),d=Fte(i.impact),h=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,l,a.isClone,u,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==a.draggableId)return null;const l=a.isClone,u=i.dimensions.draggables[a.draggableId],d=o.result,h=d.mode,p=Y4(d),b=Ute(d),k={duration:i.dropDuration,curve:dT.drop,moveTo:i.newHomeClientOffset,opacity:b?zm.opacity.drop:null,scale:b?zm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:k,draggingOver:p,combineWith:b,mode:h,forceShouldAnimate:null,snapshot:t(h,l,p,b,k)}}}return null}}function K4(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Gte={mapped:{type:"SECONDARY",offset:mr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:K4(null)}};function qte(){const e=hr((o,l)=>({x:o,y:l})),t=hr(K4),n=hr((o,l=null,u)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=o=>o?n(mr,o,!0):null,i=(o,l,u,d)=>{const h=u.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),b=Pv(u),y=b&&b.draggableId===o?l:null;if(!h){if(!p)return r(y);if(u.displaced.invisible[o])return null;const S=vf(d.displacedBy.point),j=e(S.x,S.y);return n(j,y,!0)}if(p)return r(y);const k=u.displacedBy.point,w=e(k.x,k.y);return n(w,y,h.shouldAnimate)};return(o,l)=>{if(Fm(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const Yte=()=>{const e=Hte(),t=qte();return(r,i)=>e(r,i)||t(r,i)||Gte},Kte={dropAnimationFinished:E4},Wte=VB(Yte,Kte,null,{context:gT,areStatePropsEqual:q4})(zte);function W4(e){return my(vT).isUsingCloneFor===e.draggableId&&!e.isClone?null:Zt.createElement(Wte,e)}function _f(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Zt.createElement(W4,cy({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const V4=e=>t=>e===t,Vte=V4("scroll"),Zte=V4("auto"),pD=(e,t)=>t(e.overflowX)||t(e.overflowY),Xte=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return pD(n,Vte)||pD(n,Zte)},Jte=()=>!1,Z4=e=>e==null?null:e===document.body?Jte()?e:null:e===document.documentElement?null:Xte(e)?e:Z4(e.parentElement);var Qk=e=>({x:e.scrollLeft,y:e.scrollTop});const X4=e=>e?window.getComputedStyle(e).position==="fixed"?!0:X4(e.parentElement):!1;var Qte=e=>{const t=Z4(e),n=X4(e);return{closestScrollable:t,isFixedOnPage:n}},ene=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:o,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:b,client:y}=l,k=N4({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:b,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:k,diff:{value:mr,displacement:mr}}}})(),d=i==="vertical"?iT:l4,h=Jd({page:o,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:o,frame:u,subject:h}};const tne=(e,t)=>{const n=JB(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,o=i+t.scrollWidth,u=eT({top:r,right:o,bottom:a,left:i},n.border);return tT({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var nne=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:o,shouldClipSubject:l})=>{const u=n.closestScrollable,d=tne(e,u),h=ly(d,r),p=(()=>{if(!u)return null;const y=JB(u),k={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:ly(y,r),scroll:Qk(u),scrollSize:k,shouldClipSubject:l}})();return ene({descriptor:t,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const rne={passive:!1},ine={passive:!0};var gD=e=>e.shouldPublishImmediately?rne:ine;const Dg=e=>e&&e.env.closestScrollable||null;function ane(e){const t=_.useRef(null),n=my($v),r=bT("droppable"),{registry:i,marshal:a}=n,o=$4(e),l=kt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=_.useRef(l),d=kt(()=>hr((C,D)=>{t.current||Le();const P={x:C,y:D};a.updateDroppableScroll(l.id,P)}),[l.id,a]),h=Je(()=>{const C=t.current;return!C||!C.env.closestScrollable?mr:Qk(C.env.closestScrollable)},[]),p=Je(()=>{const C=h();d(C.x,C.y)},[h,d]),b=kt(()=>Lm(p),[p]),y=Je(()=>{const C=t.current,D=Dg(C);if(C&&D||Le(),C.scrollOptions.shouldPublishImmediately){p();return}b()},[b,p]),k=Je((C,D)=>{t.current&&Le();const P=o.current,$=P.getDroppableRef();$||Le();const U=Qte($),W={ref:$,descriptor:l,env:U,scrollOptions:D};t.current=W;const Y=nne({ref:$,descriptor:l,env:U,windowScroll:C,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),F=U.closestScrollable;return F&&(F.setAttribute(uD.contextId,n.contextId),F.addEventListener("scroll",y,gD(W.scrollOptions))),Y},[n.contextId,l,y,o]),w=Je(()=>{const C=t.current,D=Dg(C);return C&&D||Le(),Qk(D)},[]),S=Je(()=>{const C=t.current;C||Le();const D=Dg(C);t.current=null,D&&(b.cancel(),D.removeAttribute(uD.contextId),D.removeEventListener("scroll",y,gD(C.scrollOptions)))},[y,b]),j=Je(C=>{const D=t.current;D||Le();const P=Dg(D);P||Le(),P.scrollTop+=C.y,P.scrollLeft+=C.x},[]),O=kt(()=>({getDimensionAndWatchScroll:k,getScrollWhileDragging:w,dragStopped:S,scroll:j}),[S,k,w,j]),A=kt(()=>({uniqueId:r,descriptor:l,callbacks:O}),[O,l,r]);Gi(()=>(u.current=A.descriptor,i.droppable.register(A),()=>{t.current&&S(),i.droppable.unregister(A)}),[O,l,S,A,a,i.droppable]),Gi(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Gi(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function s1(){}const bD={width:0,height:0,margin:mJ},one=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?bD:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},sne=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=one({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Tm.placeholder:null}},lne=e=>{const t=_.useRef(null),n=Je(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:o}=e,[l,u]=_.useState(e.animate==="open");_.useEffect(()=>l?r!=="open"?(n(),u(!1),s1):t.current?s1:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):s1,[r,l,n]);const d=Je(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=sne({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return Zt.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var cne=Zt.memo(lne);class une extends Zt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const dne=e=>{const t=_.useContext($v);t||Le();const{contextId:n,isMovementAllowed:r}=t,i=_.useRef(null),a=_.useRef(null),{children:o,droppableId:l,type:u,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:b,isCombineEnabled:y,snapshot:k,useClone:w,updateViewportMaxScroll:S,getContainerForClone:j}=e,O=Je(()=>i.current,[]),A=Je((F=null)=>{i.current=F},[]);Je(()=>a.current,[]);const C=Je((F=null)=>{a.current=F},[]),D=Je(()=>{r()&&S({maxScroll:C4()})},[r,S]);ane({droppableId:l,type:u,mode:d,direction:h,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:O});const P=kt(()=>Zt.createElement(une,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:z,animate:K})=>Zt.createElement(cne,{placeholder:z,onClose:F,innerRef:C,animate:K,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,C]),$=kt(()=>({innerRef:A,placeholder:P,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,P,A]),U=w?w.dragging.draggableId:null,W=kt(()=>({droppableId:l,type:u,isUsingCloneFor:U}),[l,U,u]);function Y(){if(!w)return null;const{dragging:F,render:z}=w,K=Zt.createElement(W4,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Z,X)=>z(Z,X,F));return pY.createPortal(K,j())}return Zt.createElement(vT.Provider,{value:W},o($,k),Y())};function fne(){return document.body||Le(),document.body}const yD={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:fne},J4=e=>{let t={...e},n;for(n in yD)e[n]===void 0&&(t={...t,[n]:yD[n]});return t},l1=(e,t)=>e===t.droppable.type,vD=(e,t)=>t.draggables[e.draggable.id],hne=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=hr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=hr((a,o,l,u,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===a){const k=h?{render:h,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:k}}if(!o)return t;if(!u)return e;const y={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(a,o)=>{const l=J4(o),u=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(Fm(a)){const b=a.critical;if(!l1(d,b))return t;const y=vD(b,a.dimensions),k=Hi(a.impact)===u;return r(u,h,k,k,y,p)}if(a.phase==="DROP_ANIMATING"){const b=a.completed;if(!l1(d,b.critical))return t;const y=vD(b.critical,a.dimensions);return r(u,h,Y4(b.result)===u,Hi(b.impact)===u,y,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const b=a.completed;if(!l1(d,b.critical))return t;const y=Hi(b.impact)===u,k=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===u;return y?k?e:t:w?e:t}return t}},mne={updateViewportMaxScroll:TQ},Sf=VB(hne,mne,(e,t,n)=>({...J4(n),...e,...t}),{context:gT,areStatePropsEqual:q4})(dne),pne={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Hm(e,t,n){const r=pne[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function gne(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),o=e.getUTCMinutes(),l=e.getUTCSeconds(),u=(a-12)/24+o/1440+l/86400,d=2*Math.PI/365*(i-1+u);return 229.18*(75e-6+.001868*Math.cos(d)-.032077*Math.sin(d)-.014615*Math.cos(2*d)-.040849*Math.sin(2*d))}function bne(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function xp(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=bne(i),o=4*(i-a),l=gne(r);return new Date(r.getTime()+(o+l)*60*1e3)}function Q4(e){return e.replace(/\D/g,"")}function yne(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||e<1800||e>2200||t<1||t>12||n<1||n>31)return!1;const r=new Date(e,t-1,n);return r.getFullYear()===e&&r.getMonth()+1===t&&r.getDate()===n}function vne(e,t){return!(!Number.isFinite(e)||!Number.isFinite(t)||e<0||e>23||t<0||t>59)}function kf(e){const t=Q4(e.trim());if(t.length!==8)return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8));return yne(n,r,i)?{y:n,m:r,d:i}:null}function wp(e){const t=e.trim();if(!t||t==="")return null;const n=Q4(t);if(n.length!==4)return null;const r=Number(n.slice(0,2)),i=Number(n.slice(2,4));return vne(r,i)?{hh:r,mm:i}:null}function zv(e){const t=e.trim(),n=kf(t);if(!n)return t;const r=String(n.y).padStart(4,"0"),i=String(n.m).padStart(2,"0"),a=String(n.d).padStart(2,"0");return`${r}${i}${a}`}function Uv(e){const t=e.trim();if(t==="")return"";const n=wp(t);if(!n)return t;const r=String(n.hh).padStart(2,"0"),i=String(n.mm).padStart(2,"0");return`${r}${i}`}var Ib={exports:{}},xne=Ib.exports,xD;function wne(){return xD||(xD=1,(function(e,t){(function(n,r){e.exports=r()})(xne,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var i={};return r.m=n,r.c=i,r.d=function(a,o,l){r.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=(function(l){return l&&l.__esModule?l:{default:l}})(a);r.default=o.default,n.exports=r.default},function(n,r,i){function a(K){return K&&K.__esModule?K:{default:K}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),l=a(o),u=i(3),d=a(u),h=i(4),p=a(h),b=i(5),y=a(b),k=i(6),w=a(k),S=i(7),j=a(S),O=i(8),A=a(O),C=i(9),D=a(C),P=i(10),$=a(P),U=i(11),W=a(U),Y=i(12),F=a(Y),z={lunarInfo:l.default,solarMonth:d.default,gan:p.default,zhi:y.default,animals:w.default,lunarTerm:j.default,lTermInfo:A.default,nStr1:D.default,nStr2:$.default,nStr3:W.default,nStr4:F.default,lYearDays:function(K){var Z,X=348;for(Z=32768;Z>8;Z>>=1)X+=z.lunarInfo[K-1900]&Z?1:0;return X+z.leapDays(K)},leapMonth:function(K){return 15&z.lunarInfo[K-1900]},leapDays:function(K){return z.leapMonth(K)?65536&z.lunarInfo[K-1900]?30:29:0},monthDays:function(K,Z){return Z>12||Z<1?-1:z.lunarInfo[K-1900]&65536>>Z?30:29},solarDays:function(K,Z){if(Z>12||Z<1)return-1;var X=Z-1;return X==1?K%4==0&&K%100!=0||K%400==0?29:28:z.solarMonth[X]},toGanZhi:function(K){return z.gan[K%10]+z.zhi[K%12]},getTerm:function(K,Z){if(K<1900||K>2100||Z<1||Z>24)return-1;var X=z.lTermInfo[K-1900],q=[parseInt("0x"+X.substr(0,5)).toString(),parseInt("0x"+X.substr(5,5)).toString(),parseInt("0x"+X.substr(10,5)).toString(),parseInt("0x"+X.substr(15,5)).toString(),parseInt("0x"+X.substr(20,5)).toString(),parseInt("0x"+X.substr(25,5)).toString()],J=[q[0].substr(0,1),q[0].substr(1,2),q[0].substr(3,1),q[0].substr(4,2),q[1].substr(0,1),q[1].substr(1,2),q[1].substr(3,1),q[1].substr(4,2),q[2].substr(0,1),q[2].substr(1,2),q[2].substr(3,1),q[2].substr(4,2),q[3].substr(0,1),q[3].substr(1,2),q[3].substr(3,1),q[3].substr(4,2),q[4].substr(0,1),q[4].substr(1,2),q[4].substr(3,1),q[4].substr(4,2),q[5].substr(0,1),q[5].substr(1,2),q[5].substr(3,1),q[5].substr(4,2)];return parseInt(J[Z-1])},toChinaYear:function(K){var Z=parseInt(K/1e3),X=parseInt(K%1e3/100),q=parseInt(K%100/10),J=K%10;return z.nStr4[Z]+z.nStr4[X]+z.nStr4[q]+z.nStr4[J]+""},toChinaMonth:function(K){if(K>12||K<1)return-1;var Z=z.nStr3[K-1];return Z+=""},toChinaDay:function(K){var Z;switch(K){case 10:Z="";break;case 20:Z="";break;case 30:Z="";break;default:Z=z.nStr2[Math.floor(K/10)],Z+=z.nStr1[K%10]}return Z},getAnimal:function(K){return z.animals[(K-4)%12]},solar2lunar:function(le,ae,B){if(le<1900||le>2100||le==1900&&ae==1&&B<31)return-1;if(le)var q=new Date(le,parseInt(ae)-1,B);else var q=new Date;var J,Ae=0,ee=0,le=q.getFullYear(),ae=q.getMonth()+1,B=q.getDate(),V=(Date.UTC(q.getFullYear(),q.getMonth(),q.getDate())-Date.UTC(1900,0,31))/864e5;for(J=1900;J<2101&&V>0;J++)ee=z.lYearDays(J),V-=ee;V<0&&(V+=ee,J--);var ne=new Date,oe=!1;ne.getFullYear()==le&&ne.getMonth()+1==ae&&ne.getDate()==B&&(oe=!0);var fe=q.getDay(),ye=z.nStr1[fe];fe==0&&(fe=7);var pe=J,Ae=z.leapMonth(J),re=!1;for(J=1;J<13&&V>0;J++)Ae>0&&J==Ae+1&&re==0?(--J,re=!0,ee=z.leapDays(pe)):ee=z.monthDays(pe,J),re==1&&J==Ae+1&&(re=!1),V-=ee;V==0&&Ae>0&&J==Ae+1&&(re?re=!1:(re=!0,--J)),V<0&&(V+=ee,--J);var Ee=J,_e=V+1,se=ae-1,Ue=z.getTerm(le,3),Fe=z.toGanZhi(le-4),Ce=new Date(le,1,Ue).getTime();new Date(le,se,B).getTime()<Ce&&(Fe=z.toGanZhi(le-5));var Pe=z.getTerm(le,2*ae-1),Ge=z.getTerm(le,2*ae),Ne=z.toGanZhi(12*(le-1900)+ae+11);B>=Pe&&(Ne=z.toGanZhi(12*(le-1900)+ae+12));var De=!1,Be="";Pe==B&&(De=!0,Be=z.lunarTerm[2*ae-2]),Ge==B&&(De=!0,Be=z.lunarTerm[2*ae-1]);var st=Date.UTC(le,se,1,0,0,0,0)/864e5+25567+10,ce=z.toGanZhi(st+B-1);return{lYear:pe,lMonth:Ee,lDay:_e,animal:z.getAnimal(pe),yearCn:z.toChinaYear(pe),monthCn:(re&&Ae===Ee?"":"")+z.toChinaMonth(Ee),dayCn:z.toChinaDay(_e),cYear:le,cMonth:ae,cDay:B,gzYear:Fe,gzMonth:Ne,gzDay:ce,isToday:oe,isLeap:re,nWeek:fe,ncWeek:""+ye,isTerm:De,term:Be}},lunar2solar:function(K,Z,X,q){var J=z.leapMonth(K);if(z.leapDays(K),q&&J!=Z||K==2100&&Z==12&&X>1||K==1900&&Z==1&&X<31)return-1;var ee=z.monthDays(K,Z);if(K<1900||K>2100||X>ee)return-1;for(var le=0,ae=1900;ae<K;ae++)le+=z.lYearDays(ae);for(var B=0,V=!1,ae=1;ae<Z;ae++)B=z.leapMonth(K),V||B<=ae&&B>0&&(le+=z.leapDays(K),V=!0),le+=z.monthDays(K,ae);q&&(le+=ee);var ne=Date.UTC(1900,1,30,0,0,0),oe=new Date(864e5*(le+X-31)+ne),fe=oe.getUTCFullYear(),ye=oe.getUTCMonth()+1,pe=oe.getUTCDate();return z.solar2lunar(fe,ye,pe)}};r.default=z,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(Ib)),Ib.exports}var e6=wne();const _ne=_i(e6),Sne=NE({__proto__:null,default:_ne},[e6]);function xT(e){return typeof e=="object"&&e!==null}function kne(e){return xT(e)&&"default"in e}function Ene(e){return xT(e)&&typeof e.lunar2solar=="function"}function Tne(e){if(!xT(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function jne(e){const t=kne(e)?e.default:e;if(!Ene(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,o)=>{const l=t.lunar2solar(r,i,a,o);return Tne(l)}}}const Ane=jne(Sne);function Wi(e,t,n,r=4,i=0){const a=Ane.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const wD=e=>e<10?`0${e}`:`${e}`;function Ef(e){if(e.calendarType!=="lunar")return e;const t=kf(e.birthDay??"");if(!t)return e;try{const n=Wi(t.y,t.m,t.d,0,0),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return{...e,birthDay:`${r}${wD(i)}${wD(a)}`,calendarType:"solar"}}catch{return e}}function wT(e){const t=e.mingSikType??"/",n=kf(e.birthDay??"");if(!n){const C=e.corrected instanceof Date?e.corrected:new Date(NaN),D=typeof e.ganji=="string"?e.ganji:"",P=typeof e.ganjiText=="string"?e.ganjiText:D,$=typeof e.dayStem=="string"?e.dayStem:"";return{corrected:C,correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganji:D,ganjiText:P,dayStem:$}}let r=n.y,i=n.m,a=n.d;if(e.calendarType==="lunar")try{const C=Wi(r,i,a,0,0);r=C.getFullYear(),i=C.getMonth()+1,a=C.getDate()}catch{}const o=wp(e.birthTime??""),l=!e.birthTime||e.birthTime===""||!o,u=l?4:o.hh,d=l?30:o.mm,h=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,p=new Date(r,i-1,a,u,d,0,0),b=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",y=xp(p,h,b),k=l?"":y.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=lt(y,h),S=St(y,h),j=mt(y,t),O=l?null:Ja(y,t),A=[` : ${w} ${S} ${j}`,O?`${O}`:null].filter(Boolean).join(" ");return{corrected:y,correctedLocal:k,ganji:A,ganjiText:A,dayStem:j.charAt(0)}}function _D(e,t){return e instanceof Date&&!Number.isNaN(e.getTime())?e:t}function _p(e){return(typeof e=="string"?e.trim():"")===""?"":""}function SD(e){if(typeof e!="string")return null;const t=e.match(/\s*:\s*(.)/);return t?t[1]:null}function Nne(e){const t=SD(e.ganjiText)??SD(e.ganji);if(!t)return"forward";const r=["","","","",""].includes(t),i=_p(e.gender)==="";return r?i?"forward":"backward":i?"backward":"forward"}function Gm(e){const t={...e,birthDay:zv(e.birthDay??""),birthTime:e.birthTime===""?"":Uv(e.birthTime??""),gender:_p(e.gender),dateObj:_D(e.dateObj,new Date),corrected:_D(e.corrected,new Date(NaN)),correctedLocal:typeof e.correctedLocal=="string"?e.correctedLocal:"",ganjiText:typeof e.ganjiText=="string"?e.ganjiText:"",ganji:typeof e.ganji=="string"?e.ganji:"",dayStem:typeof e.dayStem=="string"?e.dayStem:"",calendarType:e.calendarType==="lunar"?"lunar":"solar",dir:e.dir==="backward"?"backward":"forward"},n=wT(t),r={...t,...n};return{...r,dir:Nne(r)}}function One(e){return e===""||e==="/"||e===""?e:"/"}function Cne(e){return e==="lunar"?"lunar":"solar"}function Mne(e,t){if(t||!e||e.name==="")return{name:"",lat:0,lon:127.5};const n=Number.isFinite(e.lat)?e.lat:0,r=Number.isFinite(e.lon)?e.lon:127.5;return{name:typeof e.name=="string"&&e.name.trim()?e.name.trim():"",lat:n,lon:r}}function Dne(e,t){const n=typeof e=="string"?e.trim():"";return n?{ok:!0,value:n}:t?{ok:!1,message:" ."}:{ok:!0,value:""}}function _T(e,t){const r=zv(typeof e=="string"?e:""),i=kf(r);if(!i)return{ok:!1,message:"(YYYYMMDD)  ."};if(i.y<1900||i.y>2100)return{ok:!1,message:"(YYYY) 1900~2100  ."};if(t==="solar"){const a=new Date(i.y,i.m-1,i.d);if(a.getFullYear()!==i.y||a.getMonth()+1!==i.m||a.getDate()!==i.d)return{ok:!1,message:"  ."}}else try{Wi(i.y,i.m,i.d,0,0)}catch{return{ok:!1,message:"      ."}}return{ok:!0,value:r}}function ST(e,t){if(t)return{ok:!0,value:""};const r=Uv(typeof e=="string"?e:"");return wp(r)?{ok:!0,value:r}:{ok:!1,message:"  HHmm  ."}}function t6(e,t){const n=t?.requireName??!1,r=Dne(e.name,n);if(!r.ok)return r;const i=Cne(e.calendarType),a=_T(e.birthDay,i);if(!a.ok)return a;const o=ST(e.birthTime,e.unknownTime);if(!o.ok)return o;const l=One(e.mingSikType),u={id:e.id,name:r.value,birthDay:a.value,birthTime:o.value,gender:_p(e.gender),sortOrder:e.sortOrder,birthPlace:Mne(e.birthPlace,e.unknownPlace),relationship:e.relationship??"",memo:e.memo??"",folder:e.folder,mingSikType:l,DayChangeRule:l===""?"":"",favorite:e.favorite??!1,deletedAt:e.deletedAt??null,dateObj:e.dateObj??new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:i,dir:"forward"};return{ok:!0,value:Gm(u)}}function Gl(e,t=0){const n=Ef(e),r=kf(n.birthDay??"");if(!r)throw new Error(`Invalid date: ${e.birthDay}`);const i=wp(n.birthTime??""),a=i?i.hh:0,o=i?i.mm:0,l=new Date(r.y,r.m-1,r.d,a,o,0,0);if(Number.isNaN(l.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const u=!n.birthPlace||typeof n.birthPlace=="object"&&n.birthPlace.name==="",d=n.birthPlace?.lon??127.5,h=xp(l,d,u);return t!==0?new Date(h.getTime()+t*60*1e3):h}function Pne(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ru(e){return[...e].sort((t,n)=>{const r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:-1,i=typeof n.sortOrder=="number"&&Number.isFinite(n.sortOrder)?n.sortOrder:-1;if(r!==i)return r-i;const a=(t.name??"").toString(),o=(n.name??"").toString(),l=a.localeCompare(o);return l!==0?l:t.id.localeCompare(n.id)})}function e2(e){if(!Pne(e))return null;const t=typeof e.id=="string"?e.id:null,n=typeof e.user_id=="string"?e.user_id:null;if(!t||!n)return null;const r=o=>typeof o=="number"&&Number.isFinite(o)?o:null,i=o=>typeof o=="string"?o:null,a=o=>typeof o=="boolean"?o:null;return{id:t,user_id:n,name:i(e.name),birth_day:i(e.birth_day),birth_time:i(e.birth_time),gender:i(e.gender),birth_place_name:i(e.birth_place_name),birth_place_lat:r(e.birth_place_lat),birth_place_lon:r(e.birth_place_lon),relationship:i(e.relationship),memo:i(e.memo),folder:i(e.folder),ming_sik_type:i(e.ming_sik_type),day_change_rule:i(e.day_change_rule),calendar_type:i(e.calendar_type),favorite:a(e.favorite),sort_order:typeof e.sort_order=="string"||typeof e.sort_order=="number"?e.sort_order:null,created_at:i(e.created_at),deleted_at:i(e.deleted_at),updated_at:i(e.updated_at)}}function n6(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:zv(e.birth_day??""),birthTime:Uv(e.birth_time??""),gender:_p(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:e.calendar_type==="lunar"?"lunar":"solar",dir:"forward"};return Gm(i)}function Rne(e,t){const n=typeof e.folder=="string"?e.folder.trim():"",r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,sort_order:r,folder:n||null,favorite:!!e.favorite,updated_at:new Date().toISOString()}}function kD(e,t){const n=zv(e.birthDay??""),r=Uv(e.birthTime??""),i=e.birthPlace??{name:"",lat:0,lon:127.5},a=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:n||null,birth_time:r||null,gender:_p(e.gender),birth_place_name:i.name??null,birth_place_lat:typeof i.lat=="number"?i.lat:null,birth_place_lon:typeof i.lon=="number"?i.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:typeof e.folder=="string"?e.folder:null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,calendar_type:e.calendarType??"solar",favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:a,updated_at:new Date().toISOString()}}const t2="hm_session_started_at_ms",Lne=7200*1e3;function r6(){return typeof window>"u"?null:window.localStorage}function Ine(){const e=r6();if(!e)return Date.now();const t=e.getItem(t2),n=t?Number(t):NaN;if(Number.isFinite(n))return n;const r=Date.now();return e.setItem(t2,String(r)),r}function $ne(e=Date.now()){const t=r6();if(t)try{t.setItem(t2,String(e))}catch{}}function Bne(e=Date.now()){const t=Ine();return e-t>=Lne}const Pg="myeongsik-list";function zne(e){try{return JSON.parse(e)}catch{return null}}async function Une(e){if(typeof window>"u")return;const t=window.localStorage.getItem(Pg);if(!t)return;const n=zne(t);if(!n){window.localStorage.removeItem(Pg);return}const r=n.state??{},i=Array.isArray(r.list)?r.list:[];if(i.length===0){window.localStorage.removeItem(Pg);return}const a=await e.getUser();if(!a)return;const o=await e.fetchRows(a.id),l=new Set(o.map(d=>d.id)),u=i.filter(d=>!!d&&typeof d.id=="string"&&d.id.trim()!==""&&!l.has(d.id));for(const d of u)await e.upsertOne(a.id,d);window.localStorage.removeItem(Pg)}const Fne=250;function Hne(e){return e.map(t=>{const n=typeof t.folder=="string"?t.folder.trim():"",r=typeof t.sortOrder=="number"&&Number.isFinite(t.sortOrder)?t.sortOrder:"",i=t.favorite?1:0;return`${t.id}:${r}:${n}:${i}`}).join("|")}function Gne(e){if(typeof window>"u")return;const t=window,n="__hm_reorder_flush_installed__";t[n]!==!0&&(t[n]=!0,window.addEventListener("beforeunload",()=>e()),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}))}function qne(e){let t=null,n=null,r=!1,i="";async function a(){if(!r){r=!0;try{for(;n;){const l=n;if(n=null,l.key&&l.key===i){l.resolve();continue}const u=await e.getUser();if(!u){console.warn("reorder flush skipped: no user"),l.resolve();continue}await e.upsertOrderPatch(u.id,l.list),i=l.key,l.resolve()}}finally{r=!1}}}Gne(()=>{a()});function o(l,u){const d=Hne(l);if(d&&d===i&&!n)return Promise.resolve();if(n)n.key=d,n.list=l;else{let h;const p=new Promise(b=>{h=b});n={key:d,list:l,promise:p,resolve:h}}return typeof window>"u"?(a(),n.promise):(t&&window.clearTimeout(t),u?.immediate?a():t=window.setTimeout(()=>{t=null,a()},Fne),n.promise)}return{queue:o,flushNow:a}}const fr="__UNASSIGNED__",Yne=[" ",""],zl=e=>typeof e=="string"?e.trim():"",i6=e=>Yne.includes(e);function Rd(e,t){const n=[],r=[];for(const i of e){const a=zl(i);a&&(t[a]?n.push(a):r.push(a))}return[...n,...r]}function Fv(e,t){const n=new Set(t.map(o=>zl(o)).filter(o=>o!=="")),r=new Set,i=Object.create(null),a=(o,l)=>{i[o]||(i[o]=[]),i[o].push(l)};for(const o of e){const l=String(o.id??"");if(!l||r.has(l))continue;r.add(l);const u=zl(o.folder),d=!u||i6(u)?fr:n.has(u)?u:fr;a(d,o)}i[fr]||(i[fr]=[]);for(const o of t){const l=zl(o);l&&(i[l]||(i[l]=[]))}return i}function kT(e,t){const n=[];for(const i of t){const a=zl(i);if(!a)continue;const o=e[a];Array.isArray(o)&&n.push(...o)}const r=e[fr];return Array.isArray(r)&&r.length&&n.push(...r),n}function Kne(e){const{list:t,orderedFolders:n,source:r,destination:i}=e,a=Fv(t,n),o=r.droppableId===fr?fr:r.droppableId,l=i.droppableId===fr?fr:i.droppableId,u=[...a[o]??[]],d=o===l?u:[...a[l]??[]],h=u[r.index];if(!h)return{nextList:t,changedIds:[]};u.splice(r.index,1);const b=o!==l&&l===fr,y=Math.max(0,Math.min(i.index,d.length)),k=b?d.length:y;o===l?u.splice(k,0,h):d.splice(k,0,h);const w=String(h.id),S=new Set([w]),j={...h,folder:l===fr?"":l};return a[o]=u,a[l]=o===l?u:d,a[l]=(a[l]??[]).map(O=>String(O.id)===w?j:O),{nextList:kT(a,n),changedIds:Array.from(S)}}function Wne(e){const{list:t,orderedFolders:n,targetId:r,nextFolder:i}=e,a=Fv(t,n),o=[...n.map(j=>zl(j)),fr].filter(Boolean);let l=null,u=-1;for(const j of o){const A=(a[j]??[]).findIndex(C=>String(C.id)===r);if(A>=0){l=j,u=A;break}}if(!l||u<0)return{nextList:t,changedIds:[]};const d=[...a[l]??[]],h=d[u];if(!h)return{nextList:t,changedIds:[]};d.splice(u,1);const p=zl(i),b=!p||i6(p)?fr:p,y=l!==b,k=y?[...a[b]??[]]:d,w=String(h.id),S={...h,folder:b===fr?"":b};return y?k.push(S):d.splice(u,0,S),a[l]=d,a[b]=y?k:d,{nextList:kT(a,n),changedIds:[w]}}function Vne(e){const{list:t,targetId:n,orderedFolders:r}=e,i=Fv(t,r);let a=null,o=null;const l=[...r.map(y=>zl(y)),fr].filter(Boolean);for(const y of l){const k=i[y]??[],w=k.findIndex(S=>String(S.id)===n);if(w>=0){a=y,o=k[w]??null;break}}if(!a||!o)return{nextList:t,nextItem:null};const u=[...i[a]??[]],d=u.findIndex(y=>String(y.id)===n);if(d<0)return{nextList:t,nextItem:null};const h=u[d],p=!h.favorite,b={...h,favorite:p};return u.splice(d,1),p?u.unshift(b):u.push(b),i[a]=u,{nextList:kT(i,r),nextItem:b}}function Zne(e){const{list:t,folderName:n}=e,r=n.trim();if(!r)return{nextList:t,changedIds:[]};const i=[],a=[],o=[];for(const l of t){if((l.folder??"").trim()!==r){a.push(l);continue}i.push(String(l.id)),o.push({...l,folder:""})}return{nextList:[...a,...o],changedIds:i}}function a6(e){return e.trim().length>0}const Wh=e=>e.toLowerCase().replace(/\s+/g," ").trim(),Xne=e=>e.replace(/\D/g,""),Jne=e=>{const t=typeof e.birthDay=="string"?e.birthDay:"",n=Xne(t);if(n.length!==8)return t?[t]:[];const r=n.slice(0,4),i=n.slice(4,6),a=n.slice(6,8);return[n,`${r}-${i}-${a}`,`${r}.${i}.${a}`,`${r}/${i}/${a}`,`${r}${i}${a}`]},Qne=e=>{const t=[],n=typeof e.ganji=="string"?e.ganji:"",r=typeof e.ganjiText=="string"?e.ganjiText:"",i=typeof e.dayStem=="string"?e.dayStem:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},ere=e=>{const t=[],n=typeof e.memo=="string"?e.memo:"",r=typeof e.relationship=="string"?e.relationship:"",i=e.birthPlace&&typeof e.birthPlace=="object"&&typeof e.birthPlace.name=="string"?e.birthPlace.name:"";return n&&t.push(n),r&&t.push(r),i&&t.push(i),t},ED=(e,t,n)=>{const r=Wh(t);if(!r)return!0;const i=Wh(typeof e.name=="string"?e.name:""),a=Jne(e).map(Wh),o=Qne(e).map(Wh),l=ere(e).map(Wh),u=h=>h.includes(r),d=h=>h.some(u);switch(n){case"name":return u(i);case"birth":return d(a);case"ganji":return d(o);case"memo":return d(l);case"all":default:return u(i)||d(a)||d(o)||d(l)}};function tre(e){const{search:t,searchMode:n,orderedFolders:r,grouped:i,unassignedItems:a}=e;if(!a6(t)){const d={};for(const h of r){const p=typeof h=="string"?h.trim():"";p&&(d[p]=i[p]??[])}return{filteredGrouped:d,filteredUnassigned:a??[],totalMatches:(a?.length??0)+r.reduce((h,p)=>h+(i[p]?.length??0),0)}}const o={};let l=0;for(const d of r){const h=typeof d=="string"?d.trim():"";if(!h)continue;const b=(i[h]??[]).filter(y=>ED(y,t,n));o[h]=b,l+=b.length}const u=(a??[]).filter(d=>ED(d,t,n));return l+=u.length,{filteredGrouped:o,filteredUnassigned:u,totalMatches:l}}function nre(e){return"source"in e&&"destination"in e?e:{orderedFolders:e.orderedFolders,source:{droppableId:(e.sourceFolder??fr).toString(),index:e.sourceIndex},destination:{droppableId:(e.destinationFolder??fr).toString(),index:e.destinationIndex}}}function rre(e,t){const n=String(t.eventType??""),r=e2(t.new),i=e2(t.old),a=r??i;if(!a)return e;if(n==="DELETE"||a.deleted_at)return e.filter(d=>d.id!==a.id);const o=n6(a),u=e.some(d=>d.id===o.id)?e.map(d=>d.id===o.id?o:d):[...e,o];return ru(u)}async function ire(e){if(!e)return;const t=Re;if(typeof t.removeChannel=="function"){await t.removeChannel(e);return}if(typeof t.removeSubscription=="function"){await t.removeSubscription(e);return}}function are(){return["id","user_id","name","birth_day","birth_time","gender","birth_place_name","birth_place_lat","birth_place_lon","relationship","memo","folder","ming_sik_type","day_change_rule","calendar_type","favorite","deleted_at","created_at","updated_at","sort_order"].join(", ")}function ore(){return{async getUser(){const{data:e,error:t}=await Re.auth.getUser();return t||!e.user?null:{id:e.user.id}},async fetchRows(e){const{data:t,error:n}=await Re.from("myeongsik").select(are()).eq("user_id",e).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1});return n||!t?[]:(Array.isArray(t)?t:[]).map(i=>e2(i)).filter(i=>i!==null).filter(i=>i.user_id===e)},async upsertOne(e,t){const n=kD(t,e),{error:r}=await Re.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik upsert error:",r)},async updateOne(e,t,n){const r=kD(n,e),{error:i}=await Re.from("myeongsik").update(r).eq("id",t);i&&console.error("myeongsik update error:",i)},async softDelete(e){const t=new Date().toISOString(),{error:n}=await Re.from("myeongsik").update({deleted_at:t}).eq("id",e);n&&console.error("myeongsik softDelete error:",n)},async upsertOrderPatch(e,t){const n=t.map(i=>Rne(i,e)),{error:r}=await Re.from("myeongsik").upsert(n,{onConflict:"id"});r&&console.error("myeongsik orderPatch upsert error:",r)},async subscribe(e,t,n){const r=Re.channel(`myeongsik:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"myeongsik",filter:`user_id=eq.${e}`},a=>{typeof a!="object"||a===null||t(a)}).subscribe(a=>{n&&n(String(a))});return{async unsubscribe(){await ire(r)}}}}}function sre(e){return e.trim().toLowerCase().replace(/\s+/g,"").replace(/-/g,"_")}function vm(e){if(!e)return"FREE";const t=sre(e);return t==="free"?"FREE":t==="basic"?"BASIC":t==="pro"?"PRO":t==="prompt_hidden"||t==="prompt_hide"||t==="hidden"||t==="hide"||t==="prompt_locked"||t==="prompt_lock"||t==="locked"||t==="lock"?"FREE":t==="prompt_full"||t==="full"?"PRO":t==="ms_all"||t==="msall"||t==="basic_3"||t==="basic3"||t==="basic_5"||t==="basic5"||t==="basic_10"||t==="basic10"?"BASIC":t==="pro_select"||t==="proselect"?"PRO":"FREE"}function n2(e){switch(e){case"FREE":return{maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1};case"BASIC":return{maxMyeongsik:9999,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!1};case"PRO":return{maxMyeongsik:null,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!0,canUseAdvancedReport:!0,canRemoveAds:!0}}}const Rg={plan:"FREE",maxMyeongsik:1,canManageMyeongsik:!0,canUseLuckTabs:!0,canUseMultiMode:!0,canUseAllPrompts:!1,canUseAdvancedReport:!1,canRemoveAds:!1,canUseMyoViewer:!1,startsAt:null,expiresAt:null};function lre(e,t){if(typeof e=="number"&&Number.isFinite(e))return Math.floor(e);if(typeof e=="string"&&e.trim()!==""){const n=Number(e);return Number.isFinite(n)?Math.floor(n):t}return t}function TD(e){if(typeof e!="string"||e.trim()==="")return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t}function jD(e,t,n=Date.now()){return!(e&&e.getTime()>n||t&&t.getTime()<=n)}function cre(e){return e?e.can_use_myo_viewer===!0:!1}async function ure(e){const{data:t,error:n}=await Re.from("user_entitlements").select("plan,max_myeongsik,starts_at,expires_at,can_use_myo_viewer").eq("user_id",e).maybeSingle();return n?null:t??null}const dn=Uo((e,t)=>({loaded:!1,loading:!1,userId:null,...Rg,reset:()=>{e({loaded:!1,loading:!1,userId:null,...Rg})},loadFromServer:async n=>{if(!t().loading){e({loading:!0});try{const{data:i,error:a}=await Re.auth.getUser(),o=i.user?.id??null;if(a||!o){e({...Rg,loaded:!0,userId:null});return}const l=t();if(!n?.force&&l.loaded&&l.userId===o)return;const u=await ure(o);if(!u){const O=n2("FREE");e({loaded:!0,userId:o,plan:"FREE",maxMyeongsik:O.maxMyeongsik===null?9999:O.maxMyeongsik,canManageMyeongsik:O.canManageMyeongsik,canUseLuckTabs:O.canUseLuckTabs,canUseMultiMode:O.canUseMultiMode,canUseAllPrompts:O.canUseAllPrompts,canUseAdvancedReport:O.canUseAdvancedReport,canRemoveAds:O.canRemoveAds,canUseMyoViewer:!1,startsAt:null,expiresAt:null});return}const d=TD(u.starts_at??null),h=TD(u.expires_at??null),p=jD(d,h),b=vm(u.plan??null),y=p?b:"FREE",k=n2(y),w=k.maxMyeongsik===null?9999:k.maxMyeongsik,S=lre(u.max_myeongsik,w),j=Math.max(1,Math.max(S,w));e({loaded:!0,userId:o,plan:y,maxMyeongsik:j,canManageMyeongsik:k.canManageMyeongsik,canUseLuckTabs:k.canUseLuckTabs,canUseMultiMode:k.canUseMultiMode,canUseAllPrompts:k.canUseAllPrompts,canUseAdvancedReport:k.canUseAdvancedReport,canRemoveAds:k.canRemoveAds,canUseMyoViewer:cre(u),startsAt:d,expiresAt:h})}catch(i){console.error("loadFromServer(entitlements) exception:",i),e({...Rg,loaded:!0,userId:null})}finally{e({loading:!1})}}},isActiveNow:()=>{const{startsAt:n,expiresAt:r}=t();return jD(n,r)},getRemainingMs:n=>{if(!n)return null;const r=n.getTime()-Date.now();return r>0?r:0},formatRemaining:n=>{const r=Math.floor(n/1e3),i=r%60,a=Math.floor(r/60),o=a%60,l=Math.floor(a/60),u=l%24,d=Math.floor(l/24),h=[];return d>0&&h.push(`${d}`),u>0&&h.push(`${u}`),d===0&&o>0&&h.push(`${o}`),h.length===0&&h.push(`${i}`),h.join(" ")},canAddMyeongsik:()=>({ok:!0}),canManageNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canManageMyeongsik},canUseLuckTabsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseLuckTabs},canUseMultiModeNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseMultiMode},canUseAllPromptsNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAllPrompts},canUseAdvancedReportNow:()=>{const n=t();return n.loaded&&n.isActiveNow()&&n.canUseAdvancedReport},shouldShowAdsNow:()=>{const n=t();return!n.loaded||!n.isActiveNow()?!0:!n.canRemoveAds},canUseMyoViewerNow:()=>{const n=t();return n.loaded&&n.canUseMyoViewer}})),ET="guest_myeongsik_v1";function o6(e){return typeof e=="object"&&e!==null}function r2(e,t){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const n=Number(e);if(Number.isFinite(n))return n}return t}function Ri(e,t=""){return typeof e=="string"?e:t}function dre(e,t=!1){return typeof e=="boolean"?e:t}function fre(e){return o6(e)?{name:Ri(e.name,""),lat:r2(e.lat,0),lon:r2(e.lon,0)}:{name:"",lat:0,lon:0}}function hre(e){return{id:e.id,sortOrder:typeof e.sortOrder=="number"?e.sortOrder:1,name:e.name??"",birthDay:e.birthDay??"",birthTime:e.birthTime??"",gender:e.gender??"",birthPlace:e.birthPlace??{name:"",lat:0,lon:0},relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:e.mingSikType??"/",DayChangeRule:e.DayChangeRule??"",favorite:!!e.favorite,calendarType:e.calendarType??"solar",dir:e.dir??"forward"}}function mre(e){if(!o6(e))return null;const t={id:Ri(e.id,""),sortOrder:r2(e.sortOrder,1),name:Ri(e.name,""),birthDay:Ri(e.birthDay,""),birthTime:Ri(e.birthTime,""),gender:Ri(e.gender,""),birthPlace:fre(e.birthPlace),relationship:Ri(e.relationship,""),memo:Ri(e.memo,""),folder:Ri(e.folder,""),mingSikType:Ri(e.mingSikType,"/"),DayChangeRule:Ri(e.DayChangeRule,""),favorite:dre(e.favorite,!1),calendarType:Ri(e.calendarType,"solar"),dir:Ri(e.dir,"forward")};return t.id?Gm(t):null}function s6(){try{const e=localStorage.getItem(ET);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const n=t.map(mre).filter(r=>r!==null);return ru(n)}catch{return[]}}function Nl(e){try{const t=e.map(hre);localStorage.setItem(ET,JSON.stringify(t))}catch{}}function l6(){try{localStorage.removeItem(ET)}catch{}}const ws=Uo(e=>({open:!1,reason:"HEADER",openWith:t=>e({open:!0,reason:t}),close:()=>e({open:!1})})),zn=ore(),pre=qne(zn);function Uc(){const t=dn.getState().canManageNow();return t||console.warn("[myeongsik] blocked: canManageNow=false"),t}function gre(e){const n=dn.getState().canAddMyeongsik(e);return n.ok||console.warn("[myeongsik] blocked: canAddMyeongsik",n.message),n.ok}async function AD(e){const t=s6();if(t.length)try{for(const n of t)await zn.upsertOne(e,n);l6()}catch(n){console.warn("[myeongsik] migrateGuestListToServerIfAny failed:",n)}}const yn=Uo((e,t)=>({loading:!1,loaded:!1,loadedUserId:null,realtimeReady:!1,list:[],currentId:null,_rtSub:null,_rtUserId:null,getCurrent:()=>{const{list:n,currentId:r}=t();return r?n.find(i=>i.id===r)??null:null},setCurrentId:n=>e({currentId:n}),startRealtime:async()=>{if(typeof window>"u")return;if(Bne()){$ne(Date.now()),window.location.reload();return}const n=await zn.getUser();if(!n){await t().stopRealtime(),e({realtimeReady:!1});return}if(t()._rtUserId===n.id&&t()._rtSub){e({realtimeReady:!0});return}await t().stopRealtime();const r=await zn.subscribe(n.id,i=>{e(a=>({list:rre(a.list,i)}))},i=>{i==="SUBSCRIBED"&&e({realtimeReady:!0})});e({_rtSub:r,_rtUserId:n.id})},stopRealtime:async()=>{const n=t()._rtSub;if(n)try{await n.unsubscribe()}catch(r){console.warn("stopRealtime error",r)}e({_rtSub:null,_rtUserId:null,realtimeReady:!1})},loadFromServer:async()=>{if(!t().loading){e({loading:!0});try{const n=await zn.getUser(),r=t();if(n&&r.loaded&&r.loadedUserId===n.id){e({loading:!1});return}if(!n){const u=s6(),d=u[0]?.id??null;e({list:u,currentId:d,loaded:!0,loadedUserId:null}),await t().stopRealtime();return}await AD(n.id);const i=await zn.fetchRows(n.id),a=ru(i.map(n6)),o=t().currentId,l=o&&a.some(u=>u.id===o)?o:a[0]?.id??null;e({list:a,currentId:l,loaded:!0,loadedUserId:n.id}),await t().startRealtime()}catch(n){console.error("useMyeongSikStore.loadFromServer exception:",n)}finally{e({loading:!1})}}},migrateLocalToServer:async()=>{try{await Une(zn);const n=await zn.getUser();n&&await AD(n.id)}catch(n){console.error("useMyeongSikStore.migrateLocalToServer exception:",n)}},add:async n=>{const r=await zn.getUser(),i=t().list.length;if(!gre(i)){r||ws.getState().openWith("ADD_LIMIT");return}const a=(i||0)+1,o={...n,sortOrder:n.sortOrder??a},l=Gm(o),u=t().list,d=ru([...u,l]),h=t().currentId??l.id;if(e({list:d,currentId:h}),!r){Nl(d),d.length===1&&ws.getState().openWith("PERSIST_SAVE");return}await zn.upsertOne(r.id,l)},update:async(n,r)=>{const i=await zn.getUser();if(i&&!Uc())return;const a=t().list.find(u=>u.id===n);if(!a)return;const o=Gm({...a,...r}),l=ru(t().list.map(u=>u.id===n?o:u));if(e({list:l}),!i){Nl(l);return}await zn.updateOne(i.id,n,o)},remove:async n=>{const r=await zn.getUser();if(r&&!Uc())return;const a=t().list.filter(l=>l.id!==n),o=t().currentId===n?a[0]?.id??null:t().currentId;if(e({list:a,currentId:o}),!r){Nl(a);return}await zn.softDelete(n)},moveItemByDnD:async n=>{const r=t().list,i=nre(n),o=Kne({list:r,orderedFolders:i.orderedFolders,source:i.source,destination:i.destination}).nextList;e({list:o});const l=await zn.getUser();if(l&&!Uc()){e({list:r});return}if(!l){Nl(o);return}await t().reorder(o)},applyNextList:async n=>{const r=t().list;e({list:n});const i=await zn.getUser();if(i&&!Uc()){e({list:r});return}if(!i){Nl(n);return}await t().reorder(n)},toggleFavoriteWithReorder:async(n,r)=>{const i=await zn.getUser();if(i&&!Uc())return;const o=Vne({list:t().list,targetId:n,orderedFolders:r}).nextList;if(e({list:o}),!i){Nl(o);return}await t().reorder(o)},unsetFolderForFolder:async n=>{const r=await zn.getUser();if(r&&!Uc())return;const i=(n??"").trim();if(!i)return;const a=t().list,o=Zne({list:a,folderName:i}),l=ru(o.nextList),u=new Set(o.changedIds);if(u.size===0)return;if(e({list:l}),!r){Nl(l);return}const d=l.filter(h=>u.has(h.id));await zn.upsertOrderPatch(r.id,d)},reorder:async n=>{const r=await zn.getUser();if(r&&!Uc())return;const i=n.map((o,l)=>({...o,sortOrder:l+1})),a=ru(i);if(e({list:a}),!r){Nl(a);return}await pre.queue(a)},clear:()=>{e({currentId:null,list:[],loaded:!1,loadedUserId:null}),l6()}})),ND="__custom__",Lg=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],c6=({value:e,onChange:t})=>{const[n,r]=_.useState(Lg),[i,a]=_.useState(""),[o,l]=_.useState(!1),[u,d]=_.useState(""),[h,p]=_.useState(!1),{list:b}=yn(),y=(e??i??"").trim(),k=y==="",w=b.some(P=>(P.relationship??"").trim()===""),S=w&&!k?n.filter(P=>P.value!==""):n,j=_.useMemo(()=>{const P=S.find($=>$.value==="");return P?[P,...S.filter($=>$.value!=="")]:S},[S]);_.useEffect(()=>{e!==void 0&&a(e)},[e]),_.useEffect(()=>{y||w||(a(""),t?.(""))},[y,w,t]);const O=P=>{const $=P.target.value;$===ND?(l(!0),a(""),t?.("")):(l(!1),d(""),a($),t?.($))};_.useEffect(()=>{const P=localStorage.getItem("relationshipOptions");if(P)try{const $=JSON.parse(P),U=new Set,W=[...$,...Lg].filter(Y=>!Y||!Y.value||U.has(Y.value)?!1:(U.add(Y.value),!0));r(W)}catch{r(Lg)}},[]),_.useEffect(()=>{(async()=>{const{data:{user:$},error:U}=await Re.auth.getUser();if(U||!$)return;const{data:W,error:Y}=await Re.from("user_settings").select("payload").eq("user_id",$.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const F=W?.payload?.relationshipOptions;if(!Array.isArray(F))return;const z=F.map(K=>K&&typeof K=="object"&&typeof K.value=="string"&&typeof K.label=="string"?{value:K.value,label:K.label}:typeof K=="string"?{value:K,label:K}:null).filter(K=>!!K);z.length&&r(K=>{const Z=new Set,X=[...z,...K,...Lg].filter(q=>Z.has(q.value)?!1:(Z.add(q.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(X)),X})})()},[]),_.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:$},error:U}=await Re.auth.getUser();if(U||!$)return;const{data:W,error:Y}=await Re.from("user_settings").select("payload").eq("user_id",$.id).single();if(Y&&Y.code!=="PGRST116"){console.error("load relationships settings error",Y.message);return}const F={...W?.payload??{},relationshipOptions:n},{error:z}=await Re.from("user_settings").upsert({user_id:$.id,payload:F,updated_at:new Date().toISOString()});z&&console.error("save relationships settings error",z.message)})()},[n]);const A=()=>{const P=u.trim();if(!P)return;const $={value:P,label:P};r(U=>[...U,$]),a(P),t?.(P),d(""),l(!1)},C=P=>{r(n.filter($=>$.value!==P)),i===P&&a("")},D=P=>{if(!P.destination)return;const $=Array.from(n),[U]=$.splice(P.source.index,1);$.splice(P.destination.index,0,U),r($)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rel_set flex items-center gap-2",children:[g.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:O,children:[g.jsx("option",{value:"",hidden:!0,children:" "}),j.map(P=>g.jsx("option",{value:P.value,children:P.label},P.value)),g.jsx("option",{value:ND,children:" "})]}),g.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:" "})]}),o&&!h&&g.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[g.jsx("input",{type:"text",placeholder:"  ",value:u,onChange:P=>d(P.target.value)}),g.jsx("button",{type:"button",onClick:A,className:"btn_style",children:" "})]}),h&&g.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2",children:" "}),g.jsx(vp,{onDragEnd:D,children:g.jsx(Sf,{droppableId:"relList",children:P=>g.jsxs("ul",{ref:P.innerRef,...P.droppableProps,className:"space-y-1",children:[n.map(($,U)=>g.jsx(_f,{draggableId:$.value,index:U,children:W=>g.jsxs("li",{ref:W.innerRef,...W.draggableProps,...W.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[g.jsx("span",{className:"cursor-grab mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:$.label}),g.jsx("button",{type:"button",className:"text-red-500 cursor-pointer",onClick:()=>C($.value),children:""})]})},$.value)),P.placeholder]})})}),g.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},bn=" ",u6=["","","","","",""],d6="ms_folders",f6="ms_folder_order",OD="ms_folder_favs",i2="ms_disabled_presets",ql="myeoun:folder-updated";function uu(e){if(e!==bn)return e||void 0}function Hv(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function TT(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function bre(){const e=Hv(i2);return u6.filter(t=>!e.includes(t))}function jT(){return Hv(d6)}function AT(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];TT(d6,t),typeof window<"u"&&window.dispatchEvent(new Event(ql))}function py(){const e=bre(),t=jT(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function yre(){return[bn,...py()]}function h6(e){const t=e.trim();if(!t||t===bn)return;const n=jT();if(n.includes(t))return;const r=[...n,t];AT(r)}function vre(e){const t=jT(),n=t.filter(r=>r!==e);n.length!==t.length&&AT(n)}function xre(e){const t=Hv(i2);if(t.includes(e))return;const n=[...t,e];TT(i2,n),typeof window<"u"&&window.dispatchEvent(new Event(ql))}function gy(){return Hv(f6)}function Ld(e){TT(f6,e),typeof window<"u"&&window.dispatchEvent(new Event(ql))}function jm(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function wre(e){return Array.from(new Set(e))}function Ig(e){const t=e.filter(n=>n!==bn);return{rest:t,withUnassigned:[bn,...t]}}function _re(e,t){return jm(t,e)}function Sre({value:e,onChange:t}){const[n,r]=_.useState([bn]),[i,a]=_.useState(!1),[o,l]=_.useState(""),[u,d]=_.useState(!1),h=_.useCallback(async S=>{const{data:{user:j},error:O}=await Re.auth.getUser();if(O||!j)return;const A=S.map((D,P)=>({user_id:j.id,folder_name:D,sort_order:P+1,updated_at:new Date().toISOString()})),{error:C}=await Re.from("user_folder_order").upsert(A,{onConflict:"user_id,folder_name"});C&&console.error("save folder order error",C.message)},[]),p=_.useCallback(()=>{if(typeof window>"u")return;const S=wre(yre()),j=S.includes(bn)?S:[bn,...S],{rest:O}=Ig(j),A=gy(),C=_re(A,O),D=[bn,...C];r(D),A.length===C.length&&A.every(($,U)=>$===C[U])||(Ld(C),h(C))},[h]);_.useEffect(()=>{if(p(),typeof window<"u"){const S=()=>p();return window.addEventListener(ql,S),()=>window.removeEventListener(ql,S)}},[p]);const b=_.useMemo(()=>e||bn,[e]),y=S=>{const{rest:j}=Ig(S);Ld(j),h(j)},k=S=>{const{source:j,destination:O}=S;if(!O||O.index===j.index)return;const{rest:A}=Ig(n),C=Array.from(A),[D]=C.splice(j.index,1);C.splice(O.index,0,D);const P=[bn,...C];r(P),y(P)},w=S=>{const j=uu(S);j&&(h6(j),p())};return g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":b,onChange:S=>{const j=S.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(uu(j))},children:[n.map(S=>g.jsx("option",{value:S,children:S},S)),g.jsx("option",{value:"__custom__",children:"+   "})]}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>d(S=>!S),children:u?" ":" "})]}),i&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),g.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const S=o.trim();S&&(w(S),t(uu(S)),a(!1),l(""))},children:""})]}),u&&g.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[g.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),g.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[g.jsx("span",{className:"opacity-60 select-none",children:""}),g.jsxs("span",{className:"flex-1 px-2",children:[bn," ()"]})]}),g.jsx(vp,{onDragEnd:k,children:g.jsx(Sf,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:S=>g.jsxs("ul",{ref:S.innerRef,...S.droppableProps,className:"space-y-1",children:[Ig(n).rest.map((j,O)=>g.jsx(_f,{draggableId:j,index:O,children:A=>g.jsxs("li",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[g.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),g.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),S.placeholder]})})})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:['   "',bn,'" .      .']})]})}function m6({message:e,onClose:t,ms:n=2e3}){return _.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),g.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}const CD=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:"",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:"",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],kre=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Ere=["","/",""],Tre=["",""],p6={gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"};function jre(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function Are(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function Nre(){const[e,t]=_.useState(0),[n,r]=_.useState({...p6}),[i,a]=_.useState(null),[o,l]=_.useState(!1),[u,d]=_.useState(!1);return{stepIndex:e,setStepIndex:t,form:n,setForm:r,toast:i,setToast:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d}}function Ore({currentStepKey:e,birthPlace:t,unknownPlace:n,stepIndex:r}){_.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(e)){const a=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(a){a.focus();return}}if(e==="mingSikType"){const a=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="gender"){const a=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(a){a.focus();return}}if(e==="birthPlace"){if(t||n){const a=()=>{const o=document.querySelector(".current-step form button[type='submit']");o&&o.focus()};a(),setTimeout(a,0)}else{const a=document.getElementById("inputBirthPlaceBtn");a&&a.focus()}return}if(e==="relationship"||e==="folder"){setTimeout(()=>{const a=document.querySelector(".current-step select");a&&a.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[n,r,e,t])}function Cre(e,t){if(e!=="lunar"||!t||t.length!==8)return null;try{const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=Wi(n,r,i);return` ${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}catch(n){const r=n instanceof Error?n.message:void 0;return` ${r?`: ${r}`:""}`}}function Mre(e,t,n,r){switch(e){case"birthPlace":return r?"":t.birthPlace?.name||"";case"birthTime":return n?"":t.birthTime||"";case"folder":return t.folder?String(t.folder):bn;default:{const a=t[e];return typeof a=="string"?a:a!=null?String(a):""}}}function Dre({form:e,unknownTime:t,unknownPlace:n,stepIndex:r}){const i=CD[r],a=_.useMemo(()=>Cre(e.calendarType,e.birthDay),[e.calendarType,e.birthDay]);return{steps:CD,currentStep:i,lunarPreview:a,displayValue:l=>Mre(l,e,t,n),CALENDAR_OPTIONS:kre,MING_OPTIONS:Ere,GENDER_OPTIONS:Tre,nextIndex:jre,focusById:Are,isDST:Hm}}function Pre(){return{add:yn(t=>t.add)}}const Sr=[];for(let e=0;e<256;++e)Sr.push((e+256).toString(16).slice(1));function Rre(e,t=0){return(Sr[e[t+0]]+Sr[e[t+1]]+Sr[e[t+2]]+Sr[e[t+3]]+"-"+Sr[e[t+4]]+Sr[e[t+5]]+"-"+Sr[e[t+6]]+Sr[e[t+7]]+"-"+Sr[e[t+8]]+Sr[e[t+9]]+"-"+Sr[e[t+10]]+Sr[e[t+11]]+Sr[e[t+12]]+Sr[e[t+13]]+Sr[e[t+14]]+Sr[e[t+15]]).toLowerCase()}let c1;const Lre=new Uint8Array(16);function Ire(){if(!c1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c1=crypto.getRandomValues.bind(crypto)}return c1(Lre)}const $re=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),MD={randomUUID:$re};function g6(e,t,n){if(MD.randomUUID&&!e)return MD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Ire();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Rre(r)}function Bre(e,t,n){const r=uu(e.folder);return t6({id:g6(),name:e.name,birthDay:e.birthDay??"",calendarType:e.calendarType??"solar",birthTime:e.birthTime,unknownTime:t,gender:e.gender,birthPlace:e.birthPlace,unknownPlace:n,relationship:e.relationship,memo:e.memo,folder:r,mingSikType:e.mingSikType,dateObj:e.dateObj||new Date},{requireName:!1})}function zre(e,t,n,r){if(e==="name"&&!t.name)return{ok:!0,message:"  '' .",nextForm:{...t,name:""}};if(e==="birthDay"){const i=_T(t.birthDay??"",t.calendarType??"solar");if(!i.ok)return{ok:!1,message:i.message};if(t.birthDay!==i.value)return{ok:!0,nextForm:{...t,birthDay:i.value}}}if(e==="birthTime"){const i=ST(t.birthTime??"",n);if(!i.ok)return{ok:!1,message:i.message};if(i.value!==""&&t.birthTime!==i.value)return{ok:!0,nextForm:{...t,birthTime:i.value}}}return e==="birthPlace"&&!t.birthPlace&&!r?{ok:!1,message:"  ''  ."}:{ok:!0}}function Ure({form:e,setForm:t,stepIndex:n,setStepIndex:r,stepsLength:i,currentStepKey:a,unknownTime:o,setUnknownTime:l,unknownPlace:u,setUnknownPlace:d,setToast:h,onSave:p}){const{add:b}=Pre(),y=_.useCallback(()=>{const w=zre(a,e,o,u);if(!w.ok){h(w.message??" .");return}if(w.nextForm&&(t(w.nextForm),w.message&&h(w.message)),n<i-1){r(n+1);return}const S=Bre(e,o,u);if(!S.ok){h(S.message);return}const j=S.value;b(j),p(j),h(" !"),t({...p6}),l(!1),d(!1),r(0)},[a,e,o,u,h,t,n,i,r,b,p,l,d]),k=_.useCallback(w=>{if(w.key!=="Enter")return;const S=w.target,j=S.getAttribute("role");if(j==="radio"||j==="checkbox")return;const O=document.getElementById("mapModal");if(O&&O.contains(S))return;const A=S.tagName.toLowerCase(),C=S instanceof HTMLInputElement?S.type:"";if(A==="textarea"){if(w.shiftKey)return;w.preventDefault(),y();return}if(C==="radio"||C==="checkbox"){w.preventDefault(),S instanceof HTMLInputElement&&S.click();return}A==="button"&&S.type!=="submit"||(w.preventDefault(),y())},[y]);return{handleNext:y,handleFormKeyDown:k}}function Fre({onSave:e}){const t=Nre(),n=Dre({form:t.form,unknownTime:t.unknownTime,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});Ore({currentStepKey:n.currentStep.key,birthPlace:t.form.birthPlace,unknownPlace:t.unknownPlace,stepIndex:t.stepIndex});const r=Ure({form:t.form,setForm:t.setForm,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,stepsLength:n.steps.length,currentStepKey:n.currentStep.key,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,setToast:t.setToast,onSave:e});return{steps:n.steps,stepIndex:t.stepIndex,setStepIndex:t.setStepIndex,currentStep:n.currentStep,form:t.form,setForm:t.setForm,toast:t.toast,setToast:t.setToast,unknownTime:t.unknownTime,setUnknownTime:t.setUnknownTime,unknownPlace:t.unknownPlace,setUnknownPlace:t.setUnknownPlace,lunarPreview:n.lunarPreview,handleNext:r.handleNext,handleFormKeyDown:r.handleFormKeyDown,displayValue:n.displayValue,CALENDAR_OPTIONS:n.CALENDAR_OPTIONS,MING_OPTIONS:n.MING_OPTIONS,GENDER_OPTIONS:n.GENDER_OPTIONS,nextIndex:n.nextIndex,focusById:n.focusById,isDST:n.isDST}}function Hre({onSave:e,onClose:t}){const n=Fre({onSave:e});return g.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[n.toast&&g.jsx(m6,{message:n.toast,onClose:()=>n.setToast(null)}),n.steps.slice(0,n.stepIndex).map((r,i)=>g.jsxs("button",{onClick:()=>n.setStepIndex(i),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[g.jsx("span",{className:"font-semibold",children:r.label}),g.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:n.displayValue(r.key)})]},r.key)),g.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:g.jsxs("form",{onSubmit:r=>{r.preventDefault(),n.handleNext()},onKeyDown:n.handleFormKeyDown,children:[g.jsx("label",{className:"block mb-2 font-bold",children:n.currentStep.label}),n.currentStep.key==="name"&&g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.name||"",onChange:r=>n.setForm({...n.form,name:r.target.value})}),n.currentStep.key==="birthDay"&&g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.birthDay||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthDay:i.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:n.CALENDAR_OPTIONS.map(({value:r,label:i,id:a})=>{const o=n.form.calendarType===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:a,name:"calendarType",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:a,id:`${a}_lbl`,role:"radio","aria-checked":o,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":o?"true":"false",onKeyDown:l=>{if(l.stopPropagation(),l.key===" "||l.key==="Enter"){l.preventDefault(),n.setForm({...n.form,calendarType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(l.key))return;l.preventDefault();const d=n.CALENDAR_OPTIONS.findIndex(b=>b.value===n.form.calendarType),h=n.nextIndex(d<0?0:d,n.CALENDAR_OPTIONS.length,l.key),p=n.CALENDAR_OPTIONS[h].value;n.setForm({...n.form,calendarType:p}),n.focusById(`${n.CALENDAR_OPTIONS[h].id}_lbl`)},onClick:l=>{l.preventDefault(),n.setForm({...n.form,calendarType:r})},children:i})]},r)})})]}),n.form.calendarType==="lunar"&&g.jsx("div",{className:"flex items-center justify-end",children:g.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:n.lunarPreview})}),n.form.birthDay&&n.form.birthDay.length===8&&(()=>{const r=Number(n.form.birthDay.slice(0,4)),i=Number(n.form.birthDay.slice(4,6)),a=Number(n.form.birthDay.slice(6,8));return n.isDST(r,i,a)?g.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"  ."}):null})()]}),n.currentStep.key==="birthTime"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.unknownTime?"":n.form.birthTime||"",onChange:r=>{const i=r.target.value.replace(/\D/g,"");n.setForm({...n.form,birthTime:i.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:n.unknownTime}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":n.unknownTime,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownTime?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownTime(!n.unknownTime))},onClick:r=>{r.preventDefault(),n.setUnknownTime(!n.unknownTime)},children:""})]})]}),n.currentStep.key==="mingSikType"&&g.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:n.MING_OPTIONS.map(r=>{const i=`ming_${r}`,a=(n.form.mingSikType??"/")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"mingSikType",type:"radio",style:{display:"none"}}),g.jsxs("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,mingSikType:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.mingSikType??"/",d=n.MING_OPTIONS.indexOf(u),h=n.nextIndex(d,n.MING_OPTIONS.length,o.key),p=n.MING_OPTIONS[h];n.setForm({...n.form,mingSikType:p}),n.focusById(`ming_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,mingSikType:r})},children:[r," "]})]},r)})}),n.currentStep.key==="gender"&&g.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:n.GENDER_OPTIONS.map(r=>{const i=`gender_${r}`,a=(n.form.gender??"")===r;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:i,name:"gender",type:"radio",style:{display:"none"}}),g.jsx("label",{htmlFor:i,id:`${i}_lbl`,role:"radio","aria-checked":a,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":a?"true":"false",onKeyDown:o=>{if(o.stopPropagation(),o.key===" "||o.key==="Enter"){o.preventDefault(),n.setForm({...n.form,gender:r});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(o.key))return;o.preventDefault();const u=n.form.gender??"",d=n.GENDER_OPTIONS.indexOf(u),h=n.nextIndex(d,n.GENDER_OPTIONS.length,o.key),p=n.GENDER_OPTIONS[h];n.setForm({...n.form,gender:p}),n.focusById(`gender_${p}_lbl`)},onClick:o=>{o.preventDefault(),n.setForm({...n.form,gender:r})},children:r})]},r)})}),n.currentStep.key==="birthPlace"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(zB,{onSelect:r=>n.setForm({...n.form,birthPlace:r}),value:n.unknownPlace?"":n.form.birthPlace?.name??""}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),g.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":n.unknownPlace,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":n.unknownPlace?"true":"false",onKeyDown:r=>{r.stopPropagation(),(r.key===" "||r.key==="Enter")&&(r.preventDefault(),n.setUnknownPlace(!n.unknownPlace))},onClick:r=>{r.preventDefault(),n.setUnknownPlace(!n.unknownPlace)},children:""})]})]}),n.currentStep.key==="relationship"&&g.jsx(c6,{value:n.form.relationship||"",onChange:r=>n.setForm({...n.form,relationship:r})}),n.currentStep.key==="folder"&&g.jsx(Sre,{value:uu(n.form.folder),onChange:r=>n.setForm({...n.form,folder:r})}),n.currentStep.key==="memo"&&g.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:n.currentStep.placeholder,value:n.form.memo||"",onChange:r=>n.setForm({...n.form,memo:r.target.value})}),g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),g.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:n.stepIndex===n.steps.length-1?"":""})]})]})})]})}var $g={},DD;function Gre(){if(DD)return $g;DD=1,$g.match=a,$g.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(h,p){return o(h).some(function(b){var y=b.inverse,k=b.type==="all"||p.type===b.type;if(k&&y||!(k||y))return!1;var w=b.expressions.every(function(S){var j=S.feature,O=S.modifier,A=S.value,C=p[j];if(!C)return!1;switch(j){case"orientation":case"scan":return C.toLowerCase()===A.toLowerCase();case"width":case"height":case"device-width":case"device-height":A=d(A),C=d(C);break;case"resolution":A=u(A),C=u(C);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":A=l(A),C=l(C);break;case"grid":case"color":case"color-index":case"monochrome":A=parseInt(A,10)||1,C=parseInt(C,10)||0;break}switch(O){case"min":return C>=A;case"max":return C<=A;default:return C===A}});return w&&!y||!w&&y})}function o(h){return h.split(",").map(function(p){p=p.trim();var b=p.match(e),y=b[1],k=b[2],w=b[3]||"",S={};return S.inverse=!!y&&y.toLowerCase()==="not",S.type=k?k.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],S.expressions=w.map(function(j){var O=j.match(t),A=O[1].toLowerCase().match(n);return{modifier:A[1],feature:A[2],value:O[2]}}),S})}function l(h){var p=Number(h),b;return p||(b=h.match(/^(\d+)\s*\/\s*(\d+)$/),p=b[1]/b[2]),p}function u(h){var p=parseFloat(h),b=String(h).match(i)[1];switch(b){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function d(h){var p=parseFloat(h),b=String(h).match(r)[1];switch(b){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return $g}var u1,PD;function qre(){if(PD)return u1;PD=1;var e=Gre().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,o){var l=this,u;t&&!o&&(u=t.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=d,this.removeListener=h,this.dispose=b;function d(y){u&&u.addListener(y)}function h(y){u&&u.removeListener(y)}function p(y){l.matches=y.matches,l.media=y.media}function b(){u&&u.removeListener(p)}}function r(i,a,o){return new n(i,a,o)}return u1=r,u1}var Yre=qre();const Kre=_i(Yre);var Wre=/[A-Z]/g,Vre=/^ms-/,d1={};function Zre(e){return"-"+e.toLowerCase()}function b6(e){if(d1.hasOwnProperty(e))return d1[e];var t=e.replace(Wre,Zre);return d1[e]=Vre.test(t)?"-"+t:t}function Xre(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const o=n[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var f1={exports:{}},h1,RD;function Jre(){if(RD)return h1;RD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return h1=e,h1}var m1,LD;function Qre(){if(LD)return m1;LD=1;var e=Jre();function t(){}function n(){}return n.resetWarningCache=t,m1=function(){function r(o,l,u,d,h,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},m1}var ID;function eie(){return ID||(ID=1,f1.exports=Qre()()),f1.exports}var tie=eie();const Mt=_i(tie),Kr=Mt.oneOfType([Mt.string,Mt.number]),y6={all:Mt.bool,grid:Mt.bool,aural:Mt.bool,braille:Mt.bool,handheld:Mt.bool,print:Mt.bool,projection:Mt.bool,screen:Mt.bool,tty:Mt.bool,tv:Mt.bool,embossed:Mt.bool},nie={orientation:Mt.oneOf(["portrait","landscape"]),scan:Mt.oneOf(["progressive","interlace"]),aspectRatio:Mt.string,deviceAspectRatio:Mt.string,height:Kr,deviceHeight:Kr,width:Kr,deviceWidth:Kr,color:Mt.bool,colorIndex:Mt.bool,monochrome:Mt.bool,resolution:Kr,type:Object.keys(y6)},{type:mCe,...rie}=nie,iie={minAspectRatio:Mt.string,maxAspectRatio:Mt.string,minDeviceAspectRatio:Mt.string,maxDeviceAspectRatio:Mt.string,minHeight:Kr,maxHeight:Kr,minDeviceHeight:Kr,maxDeviceHeight:Kr,minWidth:Kr,maxWidth:Kr,minDeviceWidth:Kr,maxDeviceWidth:Kr,minColor:Mt.number,maxColor:Mt.number,minColorIndex:Mt.number,maxColorIndex:Mt.number,minMonochrome:Mt.number,maxMonochrome:Mt.number,minResolution:Kr,maxResolution:Kr,...rie},aie={...y6,...iie};var oie={all:aie};const sie=e=>`not ${e}`,lie=(e,t)=>{const n=b6(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?sie(n):`(${n}: ${t})`},cie=e=>e.join(" and "),uie=e=>{const t=[];return Object.keys(oie.all).forEach(n=>{const r=e[n];r!=null&&t.push(lie(n,r))}),cie(t)},die=_.createContext(void 0),fie=e=>e.query||uie(e),$D=e=>e?Object.keys(e).reduce((n,r)=>(n[b6(r)]=e[r],n),{}):void 0,v6=()=>{const e=_.useRef(!1);return _.useEffect(()=>{e.current=!0},[]),e.current},hie=e=>{const t=_.useContext(die),n=()=>$D(e)||$D(t),[r,i]=_.useState(n);return _.useEffect(()=>{const a=n();Xre(r,a)||i(a)},[e,t]),r},mie=e=>{const t=()=>fie(e),[n,r]=_.useState(t);return _.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},pie=(e,t)=>{const n=()=>Kre(e,t||{},!!t),[r,i]=_.useState(n),a=v6();return _.useEffect(()=>{if(a){const o=n();return i(o),()=>{o&&o.dispose()}}},[e,t]),r},gie=e=>{const[t,n]=_.useState(e.matches);return _.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},bie=(e,t,n)=>{const r=hie(t),i=mie(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=pie(i,r),o=gie(a);return v6(),_.useEffect(()=>{},[o]),_.useEffect(()=>()=>{a&&a.dispose()},[]),o},x6={Classic:"",Modern:""};function Fo(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function yie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function vie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function xie(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function wie(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function Ho(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?yie(t,n):vie(t,n):i?xie(t,n):wie(t,n)}const Jr=Uo()(h$((e,t)=>{const n=new Date,r="/",i=127.5,a=0,o=(b,y)=>y?new Date(b.getTime()+y*60*1e3):b,l=i,u=o(n,a),d=lt(u,l),h=St(u,l),p=mt(u,r);return{date:n,scope:"",rule:r,lon:i,dstOffsetMinutes:a,yearGZ:d,monthGZ:h,dayGZ:p,setDate:b=>{const{rule:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,j=o(b,w);e({date:b,yearGZ:lt(j,S),monthGZ:St(j,S),dayGZ:mt(j,y)})},resetDate:()=>{const{rule:b,lon:y,dstOffsetMinutes:k}=t(),w=new Date,S=typeof y=="number"?y:void 0,j=o(w,k);e({date:w,yearGZ:lt(j,S),monthGZ:St(j,S),dayGZ:mt(j,b)})},resetMonth:()=>{const{lon:b,dstOffsetMinutes:y}=t(),k=new Date,w=typeof b=="number"?b:void 0,S=o(k,y);e({date:k,monthGZ:St(S,w)})},setScope:b=>e({scope:b}),setRule:b=>{const{date:y,lon:k,dstOffsetMinutes:w}=t(),S=typeof k=="number"?k:void 0,j=o(y,w);e({rule:b,yearGZ:lt(j,S),monthGZ:St(j,S),dayGZ:mt(j,b)})},setLon:b=>{const{date:y,rule:k,dstOffsetMinutes:w}=t(),S=typeof b=="number"?b:void 0,j=o(y,w);e({lon:b,yearGZ:lt(j,S),monthGZ:St(j,S),dayGZ:mt(j,k)})},setDstOffsetMinutes:b=>{const{date:y,rule:k,lon:w}=t(),S=typeof w=="number"?w:void 0,j=o(y,b);e({dstOffsetMinutes:b,yearGZ:lt(j,S),monthGZ:St(j,S),dayGZ:mt(j,k)})},setFromEvent:(b,y)=>{const{rule:k,lon:w,dstOffsetMinutes:S}=t(),j=typeof w=="number"?w:void 0,O=o(b.at,S);e({date:b.at,scope:y,yearGZ:lt(O,j),monthGZ:St(O,j),dayGZ:mt(O,k)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),_ie=60*1e3,w6=60*_ie,Sie=24*w6,kie=(e,t)=>{const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))},a2=e=>{const t=new Date(e);return t.setSeconds(0,0),t},$b={HOUR:w6,DAY:Sie},wi=e=>{const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(l=>({name:l.name,date:jn(t,l.deg)})).concat([{name:r.name,date:jn(t+1,r.deg)},{name:"",date:jn(t+1,285)}]),a=jn(t,315),o=jn(t+1,315);return i.filter(l=>l.date>=a&&l.date<o).sort((l,u)=>l.date.getTime()-u.date.getTime())},_6=(()=>{const e=[];for(let t=0;t<60;t+=1)e.push(`${Xr[t%10]}${vi[t%12]}`);return e})(),Eie=e=>{const t=_6.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t},by=(e,t,n=1)=>{const r=Eie(e),i=t==="forward"?n:-n;return _6[(r+i+60*1e3)%60]},wd=2*$b.HOUR,BD=e=>(Math.floor((e+1)/2)*2-1+24)%24,Tie=(e,t)=>{const n=e.getHours(),r=BD(n),i=new Date(e);i.setHours(r,0,0,0),i.getTime()>e.getTime()&&i.setTime(i.getTime()-wd);const a=new Date(i.getTime()+wd),o=e.getTime()-i.getTime(),l=a.getTime()-e.getTime();if(o<0||o>wd||l<0||l>wd){const u=new Date(e);for(u.setHours(BD(e.getHours()),0,0,0);u.getTime()>e.getTime();)u.setTime(u.getTime()-wd);const d=new Date(u.getTime()+wd),h=e.getTime()-u.getTime(),p=d.getTime()-e.getTime();return t==="backward"?h:p}return t==="backward"?o:l},S6=(e,t,n,r=120)=>{const i=a2(e),a=Tie(i,n),o=10*$b.DAY/(2*$b.HOUR),l=a2(new Date(i.getTime()+a*o)),u=kie(e,r).getTime(),d=[];let h=by(t,n,1);for(let p=l.getTime();p<=u;p+=10*$b.DAY)d.push({at:new Date(p),gz:h}),h=by(h,n,1);return{firstChange:l,events:d}},k6=(e,t)=>{const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n},E6=(e,t,n,r)=>{const i=k6(r,n);let a=t;const o=[];for(const l of e.events){const u=l.gz.charAt(1);i(u)&&(a=by(a,n,1),o.push({at:l.at,gz:a}))}return{events:o}},o2=7200*1e3,jie=(e,t,n)=>{const r=e.charAt(0),i=e.charAt(1),a=Xr.indexOf(r),o=vi.indexOf(i),l=t==="forward"?n:-n,u=(a+l%10+10)%10,d=(o+l%12+12)%12;return Xr[u]+vi[d]},Aie=e=>(Math.floor((e+1)/2)*2-1+24)%24,Nie=e=>{const t=e.getHours(),n=Aie(t),r=new Date(e);return r.setHours(n,0,0,0),r.getTime()>e.getTime()&&r.setTime(r.getTime()-o2),r},Oie=(e,t)=>{const n=wi(e).sort((p,b)=>p.date.getTime()-b.date.getTime()),r=e.getTime();let i;if(t==="forward"){let p=n.find(b=>b.date.getTime()>r);if(!p){const b=new Date(e.getFullYear()+1,0,2,12,0,0,0);p=wi(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).find(k=>k.date.getTime()>r)}if(!p)throw new Error("    .");i=p.date}else{let p=n.filter(b=>b.date.getTime()<r);if(p.length===0){const b=new Date(e.getFullYear()-1,11,31,12,0,0,0);p=wi(b).sort((k,w)=>k.date.getTime()-w.date.getTime()).filter(k=>k.date.getTime()<r)}if(p.length===0)throw new Error("    .");i=p[p.length-1].date}const a=Nie(e),o=t==="forward"?o2:-o2,l=i.getTime();let u=new Date(a.getTime()),d=0;const h=365*24/2;for(;d<h;){const p=u.getTime();if(t==="forward"){if(p>=l)return u}else if(p<=l)return u;u=new Date(u.getTime()+o),d++}throw new Error("     .")},Cie=(e,t)=>{const i=Math.abs(t.getTime()-e.getTime())*120;return new Date(e.getTime()+i)},Sp=(e,t,n,r=120,i)=>{console.log(i);const a=Oie(e,n),o=Cie(e,a),l=Math.floor(r/10),u=[];for(let d=0;d<l;d++){const h=new Date(o);h.setFullYear(h.getFullYear()+d*10),h.setSeconds(0,0);const p=jie(t,n,d+1);u.push({at:h,gz:p})}return u.sort((d,h)=>d.at.getTime()-h.at.getTime()),{natalMonthPillar:t,firstChange:o,mPillars:[],events:u}},Mie=(e,t)=>{const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))},T6=(e,t,n,r,i)=>{const a=k6(r,n);let o=t;const l=[];for(const u of e.events){const d=u.gz.charAt(1);a(d)&&(o=by(o,n,1),l.push({at:u.at,gz:o,age:Mie(i,u.at)}))}return{events:l}},Die=e=>{const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)},Gv=(e,t)=>{const n=Die(e),r=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",i=xp(n,e.birthPlace?.lon??null,r),a=t?.dstOffsetMinutes??0,o=a!==0?new Date(i.getTime()+a*60*1e3):i;return a2(o)},NT=(e,t,n)=>{const r=e.birthPlace?.lon??127.5,i=Gv(e,n),a=mt(i,t),o=Ja(i,t,a.charAt(0));return{year:lt(i,r),month:St(i,r),day:a,hour:o}},Pie=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${Xr[t%10]}${vi[t%12]}`);return e})(),Rie=e=>Pie.indexOf(e),p1=e=>{if(Rie(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function Lie(e,t="/",n=0){const r=_.useMemo(()=>Ef(e),[e]),i=_.useMemo(()=>Gv(r,{dstOffsetMinutes:n}),[r,n]),a=_.useMemo(()=>NT(r,t,{dstOffsetMinutes:n}),[r,t,n]);return _.useMemo(()=>{const o=Sp(i,a.month,r.dir,120,r?.birthPlace?.lon??127.5),l=new Date;function u(C,D){let P=null;const $=D.getTime();for(const U of C)if(U.at.getTime()<=$)P=U;else break;return P}const d=u(o.events,l)?.gz??a.month,h=p1(d),p=l.getFullYear(),b=jn(p,315),k=b&&l>=b?p:p-1,w=lt(new Date(k,1,10,0,0,0),127.5),S=p1(w),j=St(l,127.5),O=p1(j),A=[];return O&&A.push({key:"wolun",label:"",data:O}),S&&A.push({key:"seun",label:"",data:S}),h&&A.push({key:"daeun",label:"",data:h}),A},[i,r.dir,a.month,r.birthPlace?.lon])}function Tu(e,t="/",n=100,r=0){const i=_.useMemo(()=>Ef(e),[e]),a=_.useMemo(()=>Gv(i,{dstOffsetMinutes:r}),[i,r]),o=_.useMemo(()=>NT(i,t,{dstOffsetMinutes:r}),[i,t,r]),l=(d,h)=>(h.getTime()-d.getTime())/(365.2425*24*60*60*1e3),u=d=>d<1?1+d:d;return _.useMemo(()=>{const d=Sp(a,o.month,i.dir,n,i.birthPlace?.lon??127.5),h={at:a,gz:d.natalMonthPillar},p=d.events[0]?l(a,d.events[0].at):0,b=u(p);return[h,...d.events].map((y,k)=>{const w=k===0?1:b+(k-1)*10,S=y.at.getFullYear();return{...y,age:w,startYear:S}})},[a,o.month,i.dir,n,i.birthPlace?.lon])}function g1(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function Iie(e,t){if(!Array.isArray(e)||e.length===0||!g1(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const o=n[a],l=n[a+1];if(!g1(o.at))continue;if(t.getTime()>=o.at.getTime()&&(!l||g1(l.at)&&t.getTime()<l.at.getTime()))return{gz:o.gz??"",at:o.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function qv(e,t,n,r){const{date:i,rule:a,lon:o}=Jr(),l=_.useMemo(()=>n??i??new Date,[n,i]),u=r?.dstOffsetMinutes??0,d=Tu(e,e?.mingSikType,100,u),h=u!==0?new Date(l.getTime()+u*60*1e3):l,{gz:p}=Iie(d,h);return _.useMemo(()=>{try{const b=o??e?.birthPlace?.lon??127.5,y=a??e?.mingSikType??t??"/";return{dae:{gz:p,at:h},se:{gz:lt(h,b),at:h},wol:{gz:St(h,b),at:h},il:{gz:mt(h,y),at:h}}}catch{const b=new Date;return{dae:{gz:"",at:b},se:{gz:"",at:b},wol:{gz:"",at:b},il:{gz:"",at:b}}}},[a,o,e,t,p,h])}const yy=Uo(e=>({useDST:!1,setUseDST:t=>e({useDST:t}),toggleDST:()=>e(t=>({useDST:!t.useDST}))})),Xl=()=>yy(e=>e.useDST?-60:0),gn=["","","",""],zD={month:1},UD=["","","",""],kp=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],j6=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],FD=[{name:"",members:["","",""]},{name:"",members:["","",""]}],$ie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},s2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ie(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=$ie[r[1]]??r[1],a=s2[r[2]]??r[2];return`${i}${a}`}return""}const vy=e=>e&&e.length>=1?e[0]:"",Ii=e=>e&&e.length>=2?e[1]:"",OT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],CT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],MT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],DT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],PT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],RT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],LT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],IT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],$T=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],BT=[{pair:["",""],label:""}],zT=new Set(["","","",""]),xy=new Set(["","","",""]),UT=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],A6=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}];function pi(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function tn(e,t){e.includes(t)||e.push(t)}const Bie=e=>[...e].sort((t,n)=>t-n).map(t=>gn[t]).join("X");function zie(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),o=Math.max(r,i);n.push([a,o])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),o=Math.abs(i[0]-i[1]);return a!==o?a-o:0})}function Uie(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],o=n[i];t.push([a,o])}return t}const N6=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Fie(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const O6=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function Hie(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function C6(e){for(const t of O6){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Fie(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=Hie(e.jijiHyeong),e}function Gie(e,t){for(let n=0;n<e.length;n++)if((e[n]??"").includes(t))return n;return-1}function qie(e,t){for(const n of kp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function HD(e,t,n){Gie(e,n)<0&&tn(e,t)}function Yv(e,t={}){const{emitGanjiAmhap:n=!0,fillNone:r=!0}=t,i=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],a={title:"",cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},o=i.map(b=>vy(b)),l=i.map(b=>Ii(b));function u(b,y){if(b===y)return;const k=o[b],w=o[y];if(!k||!w)return;const S=pi(OT,k,w);S&&tn(a.cheonganHap,`#${gn[b]}X${gn[y]}_${S}`);const j=pi(CT,k,w);j&&tn(a.cheonganChung,`#${gn[b]}X${gn[y]}_${j}`)}for(let b=0;b<4;b++)for(let y=b+1;y<4;y++)u(b,y);function d(b,y,k,w,S=!0){const j=[],O=[];for(let C=0;C<4;C++)l[C]===b&&j.push(C),l[C]===y&&O.push(C);const A=zie(j,O);for(const[C,D]of A){const P=`#${gn[C]}X${gn[D]}_${k}`;S?HD(w,P,k):tn(w,P)}}const h=(b,y)=>{for(const{pair:[k,w],label:S}of b)d(k,w,S,y)};h(MT,a.jijiYukhap),h(DT,a.jijiChung),h(PT,a.jijiPa),h(RT,a.jijiHae),h(LT,a.jijiWonjin),h(IT,a.jijiGwimun);for(const b of kp){if(!b.members.every(S=>l.includes(S)))continue;const k=[];for(let S=0;S<4;S++)b.members.includes(l[S])&&k.push(S);const w=Bie(k);tn(a.jijiSamhap,`#${w}_${b.name}`)}for(const{pair:[b,y],label:k}of A6)qie(b,y)&&d(b,y,k,a.jijiBanhap,!1);for(const{pair:[b,y],label:k}of $T)d(b,y,k,a.jijiHyeong);for(const{pair:[b,y],label:k}of BT)d(b,y,k,a.jijiHyeong);for(const b of zT){const y=l.map((k,w)=>k===b?w:-1).filter(k=>k>=0);if(!(y.length<2))for(const[k,w]of Uie(y)){const S=`#${gn[k]}X${gn[w]}_${b}`;HD(a.jijiHyeong,S,`${b}`)}}for(const{pair:[b,y],label:k}of UT)d(b,y,k,a.amhap);if(n)for(let b=0;b<4;b++){const y=i[b]??"";if(y.length<2)continue;const k=`${y[0]}${y[1]}`;xy.has(k)&&tn(a.ganjiAmhap,`#${N6(gn[b])}_${k}`)}const p=C6(a);if(r)for(const b of Object.keys(p)){if(b==="title")continue;const y=p[b];Array.isArray(y)&&y.length===0&&(p[b]=["#"])}return p}function Yie(e,t){for(const n of kp)if(!(n.wang!==e&&n.wang!==t)&&n.members.includes(e)&&n.members.includes(t))return!0;return!1}function Kie(e,t){const n=[],r=new Set;for(const i of e)for(const a of t){if(i===a)continue;const o=Math.min(i,a),l=Math.max(i,a),u=`${o}-${l}`;r.has(u)||(r.add(u),n.push([o,l]))}return n}function Ll(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[Ie(e.natal[0]??""),Ie(e.natal[1]??""),Ie(e.natal[2]??""),Ie(e.natal[3]??"")],a=[Ie(e.daewoon??""),Ie(e.sewoon??""),Ie(e.wolwoon??"")].some(p=>p.length>=2),o={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},l=r.map(p=>{const b=Ii(p??"");return s2[b]??b});for(const{pair:[p,b],label:y}of A6){if(!Yie(p,b))continue;const k=[],w=[];for(let j=0;j<4;j++)l[j]===p&&k.push(j),l[j]===b&&w.push(j);const S=Kie(k,w);for(const[j,O]of S){const A=`#${gn[j]}X${gn[O]}_${y}`;tn(o.jijiBanhap,A)}}if(n&&a)for(let p=0;p<4;p++){const b=r[p]??"";if(b.length<2)continue;const y=`${b[0]}${b[1]}`;xy.has(y)&&tn(o.ganjiAmhap,`#${N6(gn[p])}_${y}`)}const u=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,h=!1;for(const[p,b]of u){if(!b)continue;const y=Ie(b);if(!y||y.length<2)continue;const k=vy(y),w=Ii(y);{const j=`${k}${w}`;xy.has(j)&&tn(o.ganjiAmhap,`#${p}_${j}`)}for(let j=0;j<4;j++){const O=r[j]??"";if(O.length<2)continue;const A=gn[j],C=vy(O),D=Ii(O),P=pi(OT,k,C);P&&tn(o.cheonganHap,`#${p}X${A}_${P}`);const $=pi(CT,k,C);$&&tn(o.cheonganChung,`#${p}X${A}_${$}`);const U=pi(MT,w,D);U&&tn(o.jijiYukhap,`#${p}X${A}_${U}`);const W=pi(DT,w,D);W&&tn(o.jijiChung,`#${p}X${A}_${W}`);const Y=pi(PT,w,D);Y&&tn(o.jijiPa,`#${p}X${A}_${Y}`);const F=pi(RT,w,D);F&&tn(o.jijiHae,`#${p}X${A}_${F}`);const z=pi(LT,w,D);z&&tn(o.jijiWonjin,`#${p}X${A}_${z}`);const K=pi(IT,w,D);K&&tn(o.jijiGwimun,`#${p}X${A}_${K}`);const Z=pi($T,w,D);if(Z)tn(o.jijiHyeong,`#${p}X${A}_${Z}`);else{const q=pi(BT,w,D);q?tn(o.jijiHyeong,`#${p}X${A}_${q}`):w===D&&zT.has(w)&&tn(o.jijiHyeong,`#${p}X${A}_${w}${D}`)}const X=pi(UT,w,D);X&&tn(o.amhap,`#${p}X${A}_${X}`)}for(const j of kp){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:gn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,$)=>gn.indexOf(P)-gn.indexOf($));tn(o.jijiSamhap,`#${p}X${C}X${D}_(${j.name})`)}}for(const j of FD){if(!j.members.includes(w))continue;const O=j.members.filter(C=>C!==w),A=l.map((C,D)=>({b:C,pos:gn[D]})).filter(C=>C.b&&O.includes(C.b));if(new Set(A.map(C=>C.b)).size===2){const[C,D]=A.map(P=>P.pos).sort((P,$)=>gn.indexOf(P)-gn.indexOf($));tn(o.jijiHyeong,`#${p}X${C}X${D}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(h=!0)}}const S=[...r.map((j,O)=>({b:s2[Ii(j)]??Ii(j),pos:gn[O]}))];for(const j of j6){const O=S.filter(A=>j.members.includes(A.b));if(new Set(O.map(A=>A.b)).size===3){const A=O.map(C=>C.pos).join("X");tn(o.jijiBanghap,`#${A}_(${j.name})`)}}}{const p=[],b=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,k]of b){const w=Ie(k??"");w.length>=2&&p.push({kind:y,b:Ii(w)})}if(p.length>=2){const y=r.map((k,w)=>({pos:gn[w],b:Ii(k)}));for(const k of FD)for(let w=0;w<p.length;w++)for(let S=w+1;S<p.length;S++){const j=p[w],O=p[S];for(const A of y){const C=new Set([A.b,j.b,O.b]);if(C.size===3&&k.members.every(D=>C.has(D))){const D=[j.kind,O.kind].sort(($,U)=>UD.indexOf($)-UD.indexOf(U)).join("X"),P=`${A.pos}X${D}`;tn(o.jijiHyeong,`#${P}_${k.name}`),k.name===""&&(d=!0),k.name===""&&(h=!0)}}}}}return(d||h)&&(o.jijiHyeong=o.jijiHyeong.filter(p=>!(d&&/(||)/.test(p)||h&&/(||)/.test(p)))),C6(Wie(o))}function Wie(e){const t=/(|||)X(|||)/,n={...e};for(const r of Object.keys(e)){if(r==="title")continue;const i=e[r];Array.isArray(i)&&(n[r]=i.filter(a=>!t.test(a??"")))}return n}const Vie={:"",:"",:"",:"",:""},GD={:"",:"",:"",:"",:""},Zie={:"",:"",:"",:"",:""},Xie={:"",:"",:"",:"",:""},Jie={:.15,:.1,:-.15,:-.2,:-.25};function Qie(e,t){const n=Array.from(new Set(t)).sort((r,i)=>r-i);if(n.length<3)return!1;for(let r=0;r<n.length;r++){const i=n[r],a=n[r+1],o=n[r+2];if(!(a==null||o==null)&&o-i<=2&&(e===i||e===a||e===o))return!0}return!1}function eae(e){const t=e.includes(zD.month),n=Qie(zD.month,e)||e.length>=3;return t&&n?"":t||e.length>=2?"":""}function tae(e,t,n,r){const i=r===""?2:r===""?1:.5;e[t]=(e[t]??0)-i,e[n]=(e[n]??0)+i}function nae(e,t,n={}){const{includeBanghap:r=!0,includeSamhap:i=!0}=n,a=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],o=a.map(h=>Ii(h)).filter(Boolean),l=[],u={...t},d=(h,p)=>{const b=[];for(let j=0;j<a.length;j++){const O=Ii(a[j]??"");p.members.includes(O)&&b.push(j)}if(!p.members.every(j=>o.includes(j)))return;const k=eae(b),w=p.out,S=GD[w];tae(u,S,w,k),l.push({type:h,name:p.name,out:p.out,strength:k})};if(i)for(const h of kp)d("",h);if(r)for(const h of j6)d("",h);return{applied:l,score:u,strengthAdj:Jie,shengNext:Vie,shengPrev:GD,ke:Zie,keInv:Xie}}function wy(e){return gn[e]}function qD(e){const t=new Map,n=new Map;for(let r=0;r<4;r++){const i=Ie(e[r]??""),a=vy(i),o=Ii(i);a&&t.set(a,[...t.get(a)??[],r]),o&&n.set(o,[...n.get(o)??[],r])}return{stemPos:t,branchPos:n}}function Vh(e,t,n){const r=[];for(const i of t)for(const a of n)r.push(`#${wy(i)}X${wy(a)}_${e}`);return r}function rae(e,t){const n=qD(e),r=qD(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]},a=(l,u)=>{l.includes(u)||l.push(u)};for(const{pair:[l,u],label:d}of OT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Vh(d,h,p))a(i.,b)}for(const{pair:[l,u],label:d}of CT){const h=[...n.stemPos.get(l)??[],...n.stemPos.get(u)??[]],p=[...r.stemPos.get(l)??[],...r.stemPos.get(u)??[]];if(h.length&&p.length)for(const b of Vh(d,h,p))a(i.,b)}const o=(l,u)=>{const d=Array.from(n.branchPos.keys()),h=Array.from(r.branchPos.keys());for(const p of d)for(const b of h){const y=pi(u,p,b);if(!y)continue;const k=n.branchPos.get(p)??[],w=r.branchPos.get(b)??[];for(const S of Vh(y,k,w))a(i[l],S)}};o("",MT),o("",DT),o("",PT),o("",RT),o("",LT),o("",IT),o("",$T),o("",BT);for(const l of zT){const u=n.branchPos.get(l)??[],d=r.branchPos.get(l)??[];if(!(!u.length||!d.length))for(const h of Vh(`${l}`,u,d))a(i.,h)}for(const{label:l,pair:[u,d]}of UT){const h=[...n.branchPos.get(u)??[],...n.branchPos.get(d)??[]],p=[...r.branchPos.get(u)??[],...r.branchPos.get(d)??[]];if(!(!h.length||!p.length))for(const b of Vh(l,h,p))a(i.,b)}{const l=Array.from(n.stemPos.keys()),u=Array.from(r.stemPos.keys());for(const d of l)for(const h of u){const p=n.stemPos.get(d)??[],b=r.stemPos.get(h)??[];for(const y of p){const k=Ii(Ie(e[y]??"")),w=`${d}${k}`;if(xy.has(w))for(const S of b){const j=Ii(Ie(t[S]??""));`${h}${j}`===w&&a(i.,`#${wy(y)}X${wy(S)}_${w}`)}}}}return i}const M6=new Set(Object.keys(Gn)),D6=new Set(Object.keys(Qn)),iae=e=>e.slice(0,1),aae=e=>e.slice(-1);function _s(e){return Vd.has(e)?e:M6.has(e)?Gn[e]??e:e}function Ar(e){return Mm.has(e)?e:D6.has(e)?Qn[e]??e:e}function jo(e){return _s(iae(e))}function Kt(e){return Ar(aae(e))}function oae(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Vd.has(i)||M6.has(i))&&(n=_s(i)),(Mm.has(i)||D6.has(i))&&(r=Ar(i));return n&&r?{stem:n,branch:r}:null}function sae(e){return e.map(Kt)}function Bg(e,t,n="classic"){const r=jo(t),i=Kt(t),a=(n==="hgc"?Cv:Ov)[i]??[];return[r,...a].includes(e)}const l2=[["",""],["",""],["",""],["",""],["",""],["",""]],c2=[["",""],["",""],["",""],["",""],["",""],["",""]],lae=new Set(["","","",""]),P6=[["",""],["",""]],cae=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Am(e,t,n){const r=Ar(t),i=Ar(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return!0;return!1}function YD(e,t,n){const r=Ar(t),i=Ar(n);for(const[a,o]of e)if(a===r&&o===i||a===i&&o===r)return`${a}${o}`;return`${r}${i}`}function _y(e){for(const t of cae)if(t.set.has(e))return t.voids;return null}function u2(e){const t=Ar(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}const Zn={2:4,1:3,3:2,0:1},Id={1:4,2:3,0:2,3:1},we={year:0,month:1,day:2,hour:3};function uae(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const gu=e=>e===0?"":e===1?"":e===2?"":"",Tf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",dae=(e,t)=>`#X${gu(t)}_${e}`,qd=(e,t,n)=>t===we.month&&n===we.day?`#X_${e}`:t===we.year&&n===we.month?`#X_${e}`:t===we.year&&n===we.day?`#X_${e}`:t===we.month&&n===we.hour?`#X_${e}`:t===we.day&&n===we.hour?`#X_${e}`:`#${gu(t)}X${gu(n)}_${e}`,zg=(e,t)=>`#${gu(t)}_${e}`,R6=(e,t)=>`#X${gu(t)}_${e}`,fae=(e,t)=>`#(${e==="day"?"":""})X${gu(t)}_`,_d=e=>`#_${e}`,Sd=(e,t)=>`#X${Tf(t)}_${e}`,Zh=(e,t)=>`#X${Tf(t)}_${e}`,b1=(e,t,n)=>`#${gu(n)}X${Tf(t)}_${e}`,hae=(e,t)=>`#(${t==="day"?"":""})_${Tf(e)}_`,mae=(e,t)=>`#(${t==="day"?"":""})X${Tf(e)}_`,KD=(e,t)=>`#X${Tf(e)}_${t}`;function d2(e,t){const n=Ar(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(Kt(t[i])===n)return{pos:i,weight:Zn[i]??0};return null}function FT(e,t,n){return Kt(t[n])===Ar(e)?{pos:n,weight:Zn[n]}:null}function pae(e,t){const n=_s(e),r=[we.day,we.month,we.hour,we.year];for(const i of r)if(jo(t[i])===n)return{pos:i,weight:Zn[i]??0};return null}const gae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Ar(t.trim())).filter(Boolean),mn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[_s(t),gae(n)])),bae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),L6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),vae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),I6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Eae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Aae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),WD=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Oae=mn({:"",:"",:"",:"",:""}),Cae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),VD=mn({:"",:"",:""}),ZD=mn({:"",:"",:""}),Mae=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),B6=mn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),z6=mn({:"",:"",:"",:"",:"",:"",:""}),Dae=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>Ar(t.trim())).filter(Boolean),ja=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ar(t),(Array.isArray(n)?n:[n]).map(r=>Ar(r))])),Kv=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ar(t),Dae(n)])),U6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},F6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},H6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},G6={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),XD=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Rae=Kv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lae=Kv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Iae=Kv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ae=Kv({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bae=ja({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),zae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Uae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hae=ja({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),q6=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Yae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kae=ja({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ar(t),(Array.isArray(n)?n:[n]).map(r=>Ar(r))])),Wae=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Y6=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vae=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zae=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xae=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),K6=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jae=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qae=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),eoe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),toe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),noe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),W6=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),roe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ioe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),aoe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ooe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),soe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),loe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),V6=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),coe=W6,uoe=Y6,doe=V6,foe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hoe=K6,moe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),poe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),goe=xn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""});function Ep(e,t){e.push(t)}function y1(e,t,n,r,i=0){const a=Id[n]>=Id[r]?n:r;e.push({name:qd(t,n,r),weight:Zn[a]+i,pos:a})}function boe(e,t,n,r,i){const a=Kt(e[we.year]),o=t[a];if(!o)return;const l=n==="MONTH"?[we.month]:n==="DAY"?[we.day]:n==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=FT(u,e,d);h&&Ep(i,{name:qd(r,we.year,d),weight:h.weight,pos:d})}}function yoe(e,t,n,r){const i=Kt(e[we.month]),a=t[i];if(!a)return;const o=_s(a),l=pae(o,e);l&&Ep(r,{name:R6(n,l.pos),weight:l.weight,pos:l.pos})}function JD(e,t,n,r,i="ALL"){const a=Kt(e[we.month]),o=t[a];if(!o)return;const l=i==="YEAR"?[we.year]:i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:i==="DAY_HOUR"?[we.day,we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=FT(u,e,d);if(!h)continue;const p=d===we.month?`#_${n}`:R6(n,d);Ep(r,{name:p,weight:h.weight,pos:d})}}function QD(e,t,n,r){const i=Kt(e[we.month]),a=t[i];if(!a)return;const o=e[we.day];a.includes(o)&&Ep(r,{name:qd(n,we.month,we.day),weight:Zn[we.day],pos:we.day})}function eP(e,t,n,r,i){const a=jo(e[we.day]),o=t[a];if(!o)return;const l=i==="DAY"?[we.day]:i==="HOUR"?[we.hour]:[we.year,we.month,we.day,we.hour];for(const u of o)for(const d of l){const h=FT(u,e,d);h&&Ep(r,{name:dae(n,d),weight:h.weight,pos:d})}}function voe({natal:e,daewoon:t,basis:n}){const r=jo(e[we.day]),i=Kt(e[we.day]),a=Kt(e[we.month]),o=Kt(e[we.year]),l=sae(e),u=[],d=[],h=[[Wae,"MONTH",""],[Y6,"DAY",""],[Zae,"MONTH",""],[Xae,"MONTH",""],[Jae,"ALL",""],[Qae,"HOUR",""],[eoe,"ALL",""],[toe,"ALL",""],[noe,"ALL",""],[W6,"ALL",""],[roe,"ALL",""],[ioe,"ALL",""],[aoe,"ALL",""],[ooe,"ALL",""],[soe,"ALL",""],[loe,"ALL",""],[V6,"ALL",""],[coe,"ALL",""],[uoe,"ALL",""],[doe,"ALL",""],[foe,"ALL",""],[hoe,"ALL",""],[moe,"ALL",""],[poe,"ALL",""],[goe,"ALL",""]];for(const[C,D,P]of h)boe(e,C,D,P,d);const p=[[U6,""],[F6,""],[H6,""],[G6,""]];for(const[C,D]of p)yoe(e,C,D,u);const b=[[Pae,"","ALL"],[XD,"","YEAR"],[XD,"","DAY"],[Bae,"","ALL"],[zae,"","ALL"],[Uae,"","ALL"],[Fae,"","ALL"],[Hae,"","ALL"]];for(const[C,D,P]of b)JD(e,C,D,d,P);const y=[[q6,"","ALL"],[Gae,"","DAY_HOUR"],[qae,"","DAY_HOUR"],[Yae,"","ALL"],[Kae,"","ALL"]];for(const[C,D,P]of y)JD(e,C,D,u,P);const k=[[Rae,""],[$ae,""]];for(const[C,D]of k)QD(e,C,D,u);const w=[[Lae,""],[Iae,""]];for(const[C,D]of w)QD(e,C,D,d);const S=[[bae,"","ALL"],[L6,"","ALL"],[yae,"","ALL"],[vae,"","ALL"],[xae,"","ALL"],[wae,"","ALL"],[_ae,"","ALL"],[I6,"","ALL"],[Sae,"","ALL"],[kae,"","ALL"],[Eae,"","ALL"],[Tae,"","ALL"],[jae,"","ALL"],[Mae,"","ALL"]];for(const[C,D,P]of S)eP(e,C,D,u,P);const j=[[$6,"","ALL"],[Aae,"","ALL"],[Nae,"","ALL"],[WD,"","DAY"],[WD,"","HOUR"],[VD,"","DAY"],[VD,"","HOUR"],[ZD,"","DAY"],[ZD,"","HOUR"],[Oae,"","DAY"],[Cae,"","ALL"],[B6,"","ALL"]];for(const[C,D,P]of j)eP(e,C,D,d,P);if(new Set(["","","",""]).has(e[we.day])){d.push({name:_d(""),weight:Zn[we.day],pos:we.day});for(const D of[we.year,we.month,we.hour])e[D]===e[we.day]&&d.push({name:zg("",D),weight:Zn[D],pos:D})}{const C=z6[r];if(C)for(const D of[we.year,we.month,we.day,we.hour]){const P=jo(e[D]),$=Kt(e[D]);P===r&&C.includes($)&&d.push({name:zg("",D),weight:Zn[D],pos:D})}}for(const[C,D]of P6){const P=d2(C,e),$=d2(D,e);P&&$&&y1(d,"",P.pos,$.pos)}{const C=new Set(["",""]),D=new Set(["","","",""]);for(let P=0;P<=3;P++){const $=jo(e[P]),U=Kt(e[P]);(C.has($)||D.has(U))&&d.push({name:zg("",P),weight:Zn[P],pos:P})}}{const C=e[we.hour],D=($,U)=>$.includes(r)&&U.includes(C);(D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""])||D(["",""],["",""]))&&d.push({name:_d(""),weight:Zn[we.hour],pos:we.hour})}["","","",""].every(C=>l.includes(C))&&u.push({name:_d(""),weight:Zn[we.day],pos:we.day});{const C=e[we.day],D=e[we.hour];(C===""&&D===""||C===""&&D==="")&&d.push({name:qd("",we.day,we.hour),weight:Zn[we.hour],pos:we.hour})}{const C=Kt(e[we.year]),D=new Set(l.slice(1)),P=(U,W)=>U.every(Y=>D.has(Y))&&C===W;(P(["","",""],"")||P(["","",""],"")||P(["","",""],"")||P(["","",""],""))&&u.push({name:_d(""),weight:Zn[we.day],pos:we.day})}(e[we.day]===""||e[we.day]==="")&&u.push({name:_d(""),weight:Zn[we.day],pos:we.day});{const D={:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""},:{rok:"",maStem:""}}[r];D&&e.some($=>Kt($)===D.rok)&&jo(e[we.hour])===D.maStem&&u.push({name:qd("",we.day,we.hour),weight:Zn[we.hour],pos:we.hour})}{const C=Kt(e[we.hour]),P={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[r];if(P){const $=i===P.rok,U=C===P.ma,W=Bg(P.rokStem,e[we.day],"classic")||Bg(P.rokStem,e[we.hour],"classic"),Y=Bg(P.maStem,e[we.day],"classic")||Bg(P.maStem,e[we.hour],"classic");$&&U&&(W||Y)&&u.push({name:qd("",we.day,we.hour),weight:Zn[we.hour],pos:we.hour})}}{const C=new Set(["","","","","",""]),D=e.map(jo),P=e.map(Kt),$=D.concat(P).filter(F=>C.has(F)).length,U=t?jo(t):"",W=t?Kt(t):"",Y=C.has(U)||C.has(W);($>=4||$===3&&Y)&&d.push({name:_d(""),weight:Zn[we.day],pos:we.day})}{const C=new Set(["",""]),D=new Set(["",""]);for(let P=0;P<=3;P++){const $=jo(e[P]),U=Kt(e[P]);(C.has($)||D.has(U))&&d.push({name:zg("",P),weight:Zn[P],pos:P})}}{const C=[[we.year,we.month],[we.year,we.day],[we.month,we.day],[we.month,we.hour],[we.day,we.hour]];for(const[D,P]of C){const $=Kt(e[D]),U=Kt(e[P]);if(Am(l2,$,U)){const W=YD(l2,$,U);y1(d,`${W}`,D,P)}}}{const C=[[we.year,we.month,0],[we.month,we.day,1],[we.month,we.hour,0],[we.day,we.hour,0]];for(const[D,P,$]of C){const U=Kt(e[D]),W=Kt(e[P]);if(Am(c2,U,W)){const Y=YD(c2,U,W),F=($?1:0)+(lae.has(U+W)?1:0);y1(d,`${Y}`,D,P,F)}}}const O=_y(e[we.day]),A=_y(e[we.year]);{const C=(n?.voidBasis??"day")==="day"?O:A;if(C){const[D,P]=C.map(Ar);for(const $ of[we.year,we.month,we.day,we.hour]){const U=Kt(e[$]);(U===D||U===P)&&d.push({name:fae(n?.voidBasis??"day",$),weight:Zn[$],pos:$})}}}return{goodPos:u,badPos:d,dayVoid:O,yearVoid:A,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l}}function Ug({src:e,luck:t,natal:n,dStem:r,dBranch:i,mBranch:a,yBranch:o,branches:l,dayVoid:u,yearVoid:d,basis:h}){const p=[],b=[],y=(O,A)=>{O.includes(A)||O.push(A)},k=oae(t??null);if(!k)return{good:p,bad:b};const w=k.branch,S=k.stem;_s(U6[a]??"")===S&&y(p,Zh("",e)),_s(F6[a]??"")===S&&y(p,Zh("",e)),_s(H6[a]??"")===S&&y(p,Zh("",e)),_s(G6[a]??"")===S&&y(p,Zh("",e)),q6[a]?.includes(w)&&y(p,Zh("",e)),L6[r]?.includes(w)&&y(p,Sd("",e)),I6[r]?.includes(w)&&y(p,Sd("",e)),$6[r]?.includes(w)&&y(b,Sd("",e)),B6[r]?.includes(w)&&y(b,Sd("",e)),z6[r]?.includes(w)&&y(b,Sd("",e)),e==="se"&&(Vae[o]?.includes(w)&&y(b,KD(e,"")),K6[o]?.includes(w)&&y(b,KD(e,"")));for(const O of l)if(Am(P6,w,O)){const A=d2(O,n)?.pos;A!==void 0&&y(b,b1("",e,A));break}new Set(["",""]).has(r)&&new Set(["","","",""]).has(w)&&y(b,Sd("",e));const j=(h?.voidBasis??"day")==="day"?u:d;j&&(w===j[0]||w===j[1])&&y(b,hae(e,h?.voidBasis??"day"));for(let O=0;O<=3;O++){const A=Kt(n[O]);Am(l2,w,A)&&y(b,b1("",e,O)),Am(c2,w,A)&&y(b,b1("",e,O))}if(e==="se"){const O=(h?.samjaeBasis??"day")==="day"?i:o,A=O?u2(O):null;A&&A.includes(w)&&y(b,mae(e,h?.samjaeBasis??"day"))}return{good:p,bad:b}}const xoe=/^#(|||)X\1_/,woe=e=>xoe.test(e);function tP(e){const t=new Map;for(const n of e){if(woe(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function _oe(e){const t=e.lastIndexOf("_");return t>=0?e.slice(t+1):e}const Soe=new Set(["",""]);function koe(e){return Soe.has(e)?!0:e.endsWith("")||e.endsWith("")}function nP(e){const t=new Map;for(const r of e){const i=_oe(r.name);t.has(i)||t.set(i,[]),t.get(i).push(r)}const n=[];for(const[r,i]of t)if(koe(r))n.push(...i);else{const a=i.sort((o,l)=>Id[o.pos]!==Id[l.pos]?Id[l.pos]-Id[o.pos]:l.weight-o.weight)[0];n.push(a)}return n}function rP(e,t){const n={si:[],il:[],yeon:[],wol:[]},r=uae;for(const i of e)n[r(i.pos)].push(i.name);return n}function tf({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const{goodPos:o,badPos:l,dayVoid:u,yearVoid:d,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k}=voe({natal:e,daewoon:t,basis:a}),w=nP(tP(o)),S=nP(tP(l)),j=rP(w),O=rP(S),A=Ug({src:"dae",luck:t??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),C=Ug({src:"se",luck:n??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),D=Ug({src:"wol",luck:r??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a}),P=Ug({src:"il",luck:i??null,natal:e,dStem:h,dBranch:p,mBranch:b,yBranch:y,branches:k,dayVoid:u,yearVoid:d,basis:a});return{good:{...j,dae:A.good,se:C.good,wolun:D.good,ilun:P.good},bad:{...O,dae:A.bad,se:C.bad,wolun:D.bad,ilun:P.bad},meta:{voidPair:{day:_y(e[we.day])??void 0,year:_y(e[we.year])??void 0},samjaeYears:{day:u2(Kt(e[we.day]))??void 0,year:u2(Kt(e[we.year]))??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function Eoe(e){return typeof e=="object"&&e!==null}function jf(e){const t=x6;return Eoe(t)&&("Classic"in t||"Modern"in t||"classic"in t||"modern"in t)?e==="classic"?t.Classic:t.Modern:e}const iP=["","","","","","","","","",""],Toe=["","","","","","","","","","","",""],joe=["","","","","","","","","","","",""];function Aoe(e){const t=Mv(e);return t===""||t===""?0:t===""||t===""?2:t===""||t===""?4:t===""||t===""?6:8}function Noe(e,t){const n=Aoe(e);return(t?joe:Toe).map((i,a)=>`${iP[(n+a)%10]??iP[0]}${i}`)}function Nm(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function aP(e){return e<10?`0${e}`:`${e}`}function f2(e){return`${aP(e.getHours())}:${aP(e.getMinutes())}`}function HT(e){return!e||e===""?!0:!/^\d{4}$/.test(e)}function oP(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||HT(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Ooe(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":f2(i)}const sP=["","/",""],Coe="/";function Z6(e,t){return e&&sP.includes(e)?e:t&&sP.includes(t)?t:Coe}function lP(e){return e===""}function Moe(e){return e===""?"":""}function Doe(e){switch(e){case"":return 1;case"":return 2;case"":return 3;case"":default:return 0}}const Poe=e=>e instanceof Date&&!Number.isNaN(e.getTime());function h2(e,t){const n=HT(e.birthTime);let r=Number(e.birthDay?.slice(0,4)??2e3),i=Number(e.birthDay?.slice(4,6)??1),a=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Wi(r,i,a);r=A.getFullYear(),i=A.getMonth()+1,a=A.getDate()}const o=n?4:Number(e.birthTime?.slice(0,2)??4),l=n?30:Number(e.birthTime?.slice(2,4)??30),u=new Date(r,i-1,a,o,l,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon,h=d?127.5:e.birthPlace.lon,p=Poe(e.corrected);let b;p?b=e.corrected:d?b=u:b=xp(u,h,n);const y=t?new Date(b.getTime()-3600*1e3):b,k=Z6(e.mingSikType),w=lt(y,h),S=St(y,h),j=mt(y,k),O=n?null:Ja(y,k);return{corrected:y,year:{stem:w.charAt(0),branch:w.charAt(1)},month:{stem:S.charAt(0),branch:S.charAt(1)},day:{stem:j.charAt(0),branch:j.charAt(1)},hour:O?{stem:O.charAt(0),branch:O.charAt(1)}:null}}const Roe=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],Loe=(()=>{const e={};for(const t of Roe){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})(),Ioe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function $oe(e,t){const n=`${Mv(e)}${VE(t)}`;return Loe[n]??null}function Boe(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}function zoe(e){switch(Ioe[VE(e)]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function Uoe({stem:e,branch:t}){const n=$oe(e,t);if(!n)return null;const r=Boe(n.elem);return g.jsx("span",{className:`inline-block mt-1 px-1.5 py-[2px] rounded ${r} border border-white/10 text-nowrap`,title:`${n.label}  ${n.elem}`,children:n.label})}function cP({value:e,kind:t,charType:n,thinEum:r,highlighted:i}){const{settings:a}=vn(),o=Yi(e,t,a),l=xi(e,t,n),u=Qa(e,t),d=r&&u?"font-thin":"font-bold",h=i?"border-purple-500 border-3":"border-neutral-200 dark:border-neutral-800";return g.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${o}
                  flex items-center justify-center border ${h}`,children:g.jsx("span",{className:`text-[24px] md:text-2xl ${d} `,children:l})})}function X6({title:e,data:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:y="regular",highlightedStem:k=!1,highlightedBranch:w=!1}){const S=y==="compact"?"py-1 text-center text-xs tracking-wider":"px-2 py-1 text-center text-xs tracking-wider",j=y==="compact"?"py-2":"p-2";return g.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:`${S} bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300`,children:e}),g.jsx("div",{className:`${j} flex flex-col items-center gap-1`,children:t?g.jsxs(g.Fragment,{children:[a&&g.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:wa(n,{stem:t.stem})}),g.jsx(cP,{value:t.stem,kind:"stem",charType:r,thinEum:i,highlighted:k}),g.jsx(cP,{value:t.branch,kind:"branch",charType:r,thinEum:i,highlighted:w}),g.jsx(DB,{branch:t.branch,dayStem:n,mode:d,mapping:h}),(o||l||u)&&g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 w-full",children:[o&&g.jsx("div",{children:p(t.branch)}),l&&g.jsx("div",{children:b(t.branch)}),u&&g.jsx(Uoe,{stem:t.stem,branch:t.branch})]})]}):g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]})}const Foe=(e,t,n,r)=>{let i=e.data.stem,a=e.data.branch;return e.key==="daeun"&&t&&(i=t.charAt(0),a=t.charAt(1)),e.key==="seun"&&n&&(i=n.charAt(0),a=n.charAt(1)),e.key==="wolun"&&r&&(i=r.charAt(0),a=r.charAt(1)),{stem:i,branch:a}};function Hoe({cards:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,daeGz:y,seGz:k,wolGz:w,highlightMap:S={}}){const j=t?"regular":"compact",O=e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-3",A="rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",C=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",D=t?`grid gap-2 p-3 ${O}`:`grid gap-1 p-0 ${O}`;return g.jsxs("div",{className:A,children:[g.jsx("div",{className:C,children:g.jsx("b",{children:""})}),g.jsx("div",{className:"pb-2",children:g.jsx("div",{className:D,children:e.map(P=>{const $=Foe(P,y,k,w),U=S[P.key]??{stem:!1,branch:!1};return g.jsx(X6,{title:P.label,data:$,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:j,highlightedStem:U.stem,highlightedBranch:U.branch},P.key)})})})]})}function Goe({pillars:e,isDesktop:t,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,highlightMap:y={}}){const k=t?"regular":"compact",w=t?"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300":"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",S=t?"grid grid-cols-4 gap-2 p-3":"grid grid-cols-4 gap-1";return g.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[g.jsx("div",{className:w,children:g.jsx("b",{children:""})}),g.jsx("div",{className:t?"pb-2":"px-1 pb-2",children:g.jsx("div",{className:S,children:e.map(j=>{const O=y[j.key]??{stem:!1,branch:!1};return g.jsx(X6,{title:j.label,data:j.data,dayStem:n,charType:r,thinEum:i,showSipSin:a,showUnseong:o,showShinsal:l,showNabeum:u,hiddenMode:d,hiddenStemMode:h,calcUnseong:p,calcShinsal:b,size:k,highlightedStem:O.stem,highlightedBranch:O.branch},j.key)})})})]})}function qoe({hourCandidates:e,useInsi:t,onToggleRule:n,manualHour:r,onSelectHour:i}){return g.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("button",{onClick:n,className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:t?" : ":" : "})]}),g.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map(a=>{const o=a.charAt(0),l=a.charAt(1),u=r?.stem===o&&r?.branch===l;return g.jsx("button",{onClick:()=>i(o,l),className:`p-2 text-xs rounded border cursor-pointer ${u?zoe(l):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${a} ( )`,children:a},a)})})]})}function Yoe(e){const i=e.trim().replace(/^#?(|||)(X(|||))?_/u,"").replace(/\((|||)\)$/u,"").replace(/\s+/g," ").trim(),a=i.includes("_")?i.split("_").pop()??i:i;return a.includes("")?"":a.includes("")?"":a.includes("")?"":a===""||a===""||a===""?"":a}const Xh={:{title:"()",kind:"",oneLine:"     .",bullets:["  ,   ."]},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   :   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" ,    ."},:{title:"()",kind:"",oneLine:"  (  ) ."},:{title:"()",kind:"",oneLine:"     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"  / ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"()   ."},:{title:"()",kind:"",oneLine:"  ()  ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"+     ."},:{title:"()",kind:"",oneLine:"///   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"() / ",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"   : //."},:{title:"",kind:"",oneLine:"  :   ."},:{title:"",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//     ."},:{title:"()",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" //  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:": /  ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"  ."},:{title:"()",kind:"",oneLine:" / :   ."},:{title:"()",kind:"",oneLine:"()  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:" / :    ."},:{title:"()",kind:"",oneLine:" :   / ."},:{title:"",kind:"",oneLine:"   ."},:{title:"()",kind:"",oneLine:"() //  ."},:{title:"()",kind:"",oneLine:" :      ."},:{title:"()",kind:"",oneLine:" ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"//    ."},:{title:"()",kind:"",oneLine:"    : ."},:{title:"",kind:"",oneLine:"  : //."},:{title:"()",kind:"",oneLine:"/  ."},:{title:"()",kind:"",oneLine:"  : ."},:{title:"()",kind:"",oneLine:" : /  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:" () ."},:{title:"()",kind:"",oneLine:"  ,    ."},:{title:"",kind:"",oneLine:":  ."},:{title:"",kind:"",oneLine:" /  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"/ :  ."},:{title:"()",kind:"",oneLine:"      :    ."},:{title:"",kind:"",oneLine:"    ."},:{title:"()",kind:"",oneLine:" .       ."},:{title:"()",kind:"",oneLine:" .     ."},:{title:"()",kind:"",oneLine:"  .      ."},:{title:"()",kind:"",oneLine:" :  ."},:{title:"()",kind:"",oneLine:"  :  ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:" :  /,   ."},:{title:"",kind:"",oneLine:"      ."},:{title:"()",kind:"",oneLine:"/  :    ."},:{title:"()",kind:"",oneLine:"  :   ."},:{title:"()",kind:"",oneLine:"  : /  ."},:{title:"()",kind:"",oneLine:"  : // ."},:{title:"()",kind:"",oneLine:"   :  ."},:{title:"()",kind:"",oneLine:"//   ."},:{title:"()",kind:"",oneLine:"/  :  ."},:{title:"()",kind:"",oneLine:"/    ."},:{title:"()",kind:"",oneLine:" :    ,  /  ."}};function Koe(e){const t=Yoe(e),n=Xh[t];if(n)return n;if(t.endsWith("")){const r=t.replace(/$/,"");if(Xh[r])return Xh[r]}else{const r=`${t}`;if(Xh[r])return Xh[r]}return{title:t||"",kind:"",oneLine:" "}}function Woe(e){const t=`${e.title}  ${e.kind}`,n=e.oneLine,r=(e.bullets??[]).map(i=>`- ${i}`).join(`
`);return r?`${t}
${n}
${r}`:`${t}
${n}`}function _o({columnKey:e,title:t,goodTags:n,badTags:r,isDesktop:i,openTagKey:a,setOpenTagKey:o}){const l=m2(n,Sy),u=m2(r,Sy),d=i||l.length>0,h=i||u.length>0;return!i&&l.length===0&&u.length===0?null:g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:t}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[d&&g.jsx("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 mb-1",children:""}),g.jsx(uP,{tags:n,idPrefix:`${e}-good`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]}),g.jsxs("div",{children:[h&&g.jsx("div",{className:"text-[10px] text-rose-600 dark:text-rose-400 mb-1",children:""}),g.jsx(uP,{tags:r,idPrefix:`${e}-bad`,isDesktop:i,openTagKey:a,setOpenTagKey:o})]})]})]})}function uP({tags:e,idPrefix:t,isDesktop:n,openTagKey:r,setOpenTagKey:i}){const a=m2(e,Sy);return a.length===0?n?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):null:g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:a.map((o,l)=>{const u=`${t}-${l}`;return g.jsx(Voe,{tag:o,id:u,openTagKey:r,setOpenTagKey:i},u)})})}function Voe({tag:e,id:t,openTagKey:n,setOpenTagKey:r}){const i=n===t,a=Koe(e),o=a?Woe(a):"",l=Sy(e),u=_.useRef(null),d=_.useRef(null),[h,p]=_.useState("center");return _.useLayoutEffect(()=>{if(!i)return;const b=d.current;if(!b)return;const y=b.getBoundingClientRect(),w=Math.min(300,window.innerWidth-16*2),S=y.left,j=window.innerWidth-y.right;j<w/2&&S>j?p("right"):S<w/2&&j>S?p("left"):p("center")},[i]),_.useLayoutEffect(()=>{if(!i)return;const b=y=>{const k=y.target;!u.current||k&&u.current.contains(k)||r(null)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[i,r]),g.jsxs("div",{ref:u,className:"relative",children:[g.jsx("button",{ref:d,type:"button",onClick:()=>r(i?null:t),className:["px-2 py-1 text-[12px] desk:text-[11px] text-center  rounded border desk:break-keep w-full cursor-pointer ",i?"bg-purple-500/20 text-purple-200 border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:l,children:l}),a&&i&&g.jsx("div",{className:["absolute top-full mt-2 z-50",h==="left"?"left-0":h==="right"?"right-0":"left-1/2 -translate-x-1/2"].join(" "),children:g.jsx("div",{className:"relative whitespace-pre-wrap break-words break-keep rounded-md border border-neutral-700 bg-neutral-900 text-neutral-100 text-[10px] leading-4 p-2 shadow-lg text-center",style:{width:"min(190px, calc(100vw - 24px))"},children:o})})]})}function Sy(e){const t=e.replace(/^#/,""),n=t.split("_"),r=n.length>1?n[n.length-1]:t,i=r.split(" ").filter(Boolean);return i.length>0?i[i.length-1]:r}function m2(e,t){const n=new Set,r=[];for(const i of e){const a=t(i);n.has(a)||(n.add(a),r.push(i))}return r}function Zoe({isDesktop:e,exposureLevel:t,relationChips:n,relationByPillar:r,activeRelationTag:i,onToggleRelationTag:a,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:u,etcShinsalBad:d}){const[h,p]=_.useState(!0),[b,y]=_.useState(!0),[k,w]=_.useState(null);return g.jsxs(g.Fragment,{children:[o&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>p(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",h?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:h?"":""})]}),h&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 pl-1 mb-2",children:"     ."}),n.length===0?g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."}):g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"border-t desk:border-0 border-neutral-200 dark:border-neutral-800 pt-2 desk:pt-0 order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(So,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol"),t>=2&&g.jsx(So,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=1&&g.jsx(So,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae")]:[t>=1&&g.jsx(So,{title:"",tags:r.luck.dae,activeTag:i,onToggle:a},"dae"),t>=2&&g.jsx(So,{title:"",tags:r.luck.se,activeTag:i,onToggle:a},"se"),t>=3&&g.jsx(So,{title:"",tags:r.luck.wol,activeTag:i,onToggle:a},"wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2 desk:pl-0 desk:border-t-0 desk:border-l-0",children:[g.jsx(So,{title:"",tags:r.natal.hour,activeTag:i,onToggle:a}),g.jsx(So,{title:"",tags:r.natal.day,activeTag:i,onToggle:a}),g.jsx(So,{title:"",tags:r.natal.month,activeTag:i,onToggle:a}),g.jsx(So,{title:"",tags:r.natal.year,activeTag:i,onToggle:a})]})]})]})]})}),l&&g.jsx("div",{className:"px-2 desk:px-0 py-2",children:g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("button",{type:"button",onClick:()=>y(S=>!S),className:["w-full flex items-center justify-between pl-1 text-xs text-neutral-600 dark:text-neutral-300 cursor-pointer",b?"mb-1":"mb-0"].join(" "),children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px]",children:b?"":""})]}),b&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pl-1 text-[11px] text-amber-600 dark:text-amber-300 mb-2",children:"       ."}),dP(u)||dP(d)?g.jsxs("div",{className:"grid w-full gap-2 desk:gap-4 grid-cols-1",style:{gridTemplateColumns:e?t>=3?"4fr 5fr":t>=2?"3.5fr 6.5fr":t>=1?"2fr 8fr":"1fr":void 0},children:[g.jsx("div",{className:"order-2 desk:order-1 flex-4 grid grid-cols-1 gap-1 desk:gap-2",style:{gridTemplateColumns:e?`repeat(${t>=3?3:t>=2?2:t>=1?1:0}, minmax(60px, 1fr))`:void 0},children:(e?[t>=3&&g.jsx(_o,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol"),t>=2&&g.jsx(_o,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=1&&g.jsx(_o,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae")]:[t>=1&&g.jsx(_o,{columnKey:"etc-luck-dae",title:"",goodTags:u.luck.dae,badTags:d.luck.dae,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-dae"),t>=2&&g.jsx(_o,{columnKey:"etc-luck-se",title:"",goodTags:u.luck.se,badTags:d.luck.se,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-se"),t>=3&&g.jsx(_o,{columnKey:"etc-luck-wol",title:"",goodTags:u.luck.wol,badTags:d.luck.wol,isDesktop:e,openTagKey:k,setOpenTagKey:w},"luck-wol")]).filter(Boolean)}),g.jsxs("div",{className:"order-1 desk:order-2 flex flex-col desk:flex-row flex-5 gap-1 desk:gap-2",children:[g.jsx(_o,{columnKey:"etc-natal-hour",title:"",goodTags:u.natal.hour,badTags:d.natal.hour,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(_o,{columnKey:"etc-natal-day",title:"",goodTags:u.natal.day,badTags:d.natal.day,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(_o,{columnKey:"etc-natal-month",title:"",goodTags:u.natal.month,badTags:d.natal.month,isDesktop:e,openTagKey:k,setOpenTagKey:w}),g.jsx(_o,{columnKey:"etc-natal-year",title:"",goodTags:u.natal.year,badTags:d.natal.year,isDesktop:e,openTagKey:k,setOpenTagKey:w})]})]}):g.jsx("div",{className:"text-xs text-neutral-400",children:"  ."})]})]})})]})}function So({title:e,tags:t,activeTag:n,onToggle:r}){return g.jsxs("div",{className:"flex-1 rounded-md border border-neutral-200 dark:border-neutral-800 p-2",children:[g.jsx("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mb-1",children:e}),t.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 text-center",children:""}):g.jsx("div",{className:"flex flex-row flex-wrap desk:flex-col gap-1",children:t.map(i=>{const a=n===i;return g.jsx("button",{type:"button",onClick:()=>r(a?null:i),className:["px-2 py-1 text-[12px] desk:text-[11px] rounded border transition desk:break-keep cursor-pointer",a?"bg-purple-500 text-white border-purple-500":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700"].join(" "),title:i,children:Xoe(i)},i)})})]})}function Xoe(e){const t=e.replace(/^#/,""),n=t.split("_");return(n.length>1?n.slice(1).join("_"):t).replace(/_/g," ")}function dP(e){const{natal:t,luck:n}=e;return t.hour.length>0||t.day.length>0||t.month.length>0||t.year.length>0||n.dae.length>0||n.se.length>0||n.wol.length>0}function fP(e){return String(e).padStart(2,"0")}function Joe(e,t,n){if(!e||e.length<8)return oP(e,t);const r=oP(e,t);if(n!=="lunar")return r;try{const i=Number(e.slice(0,4)),a=Number(e.slice(4,6)),o=Number(e.slice(6,8)),l=Wi(i,a,o);return` ${`${l.getFullYear()}.${fP(l.getMonth()+1)}.${fP(l.getDate())}`} ( ${r})`}catch{return` ${r}`}}function Qoe({data:e,hourTable:t}){const{date:n,setDstOffsetMinutes:r}=Jr(),i=vn(Ne=>Ne.settings),a=i.showNabeum??!0,o=i.showRelationBox??!0,l=i.showEtcShinsal??!0,u=Z6(e.mingSikType,t),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:h,solarM:p,solarD:b}=_.useMemo(()=>{let Ne=Number(e.birthDay?.slice(0,4)??2e3),De=Number(e.birthDay?.slice(4,6)??1),Be=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const st=Wi(Ne,De,Be);Ne=st.getFullYear(),De=st.getMonth()+1,Be=st.getDate()}return{solarY:Ne,solarM:De,solarD:Be}},[e.birthDay,e.calendarType]),y=yy(Ne=>Ne.useDST),k=yy(Ne=>Ne.setUseDST);_.useEffect(()=>{h&&p&&b&&k(Hm(h,p,b))},[h,p,b,k]),_.useEffect(()=>{r(y?-60:0)},[y,r]);const w=HT(e.birthTime),[S,j]=_.useState(()=>h2(e,y));_.useEffect(()=>{j(h2(e,y))},[e,y]);const O=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,A=S.day.stem,[C,D]=_.useState(null),[P,$]=_.useState(()=>lP(e.mingSikType));_.useEffect(()=>{D(null),$(lP(e.mingSikType))},[O,e.mingSikType]),_.useEffect(()=>{_e(null)},[O]);const U=_.useMemo(()=>Noe(A,P),[P,A]),W=C??S.hour,Y=gp(Ne=>Ne.setManualHour),F=(Ne,De)=>{const Be={stem:Ne,branch:De};D(Be),Y(Be)},z=Moe(i.sinsalBase)===""?S.day.branch:S.year.branch,K=Ne=>i.showSibiUnseong?Fo(A,Ne):null,Z=Ne=>i.showSibiSinsal?Ho({baseBranch:z,targetBranch:Ne,era:jf(i.sinsalMode),gaehwa:i.sinsalBloom}):null,X=y?-60:0,q=Lie(e,u,X),J=bie({query:"(min-width: 992px)"}),ee=i.hiddenStem==="regular"?"main":"all",le=Doe(i.exposure),ae=le===0?[]:q.filter(Ne=>(Ne.key==="daeun"?1:Ne.key==="seun"?2:3)<=le),B=Hm(h,p,b),V=()=>k(!y),ne=_.useMemo(()=>{const Ne=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??""));return Number.isNaN(Ne.getTime())?S.corrected:Ne},[e.corrected,S.corrected]),oe=_.useMemo(()=>ne&&(B&&y?new Date(ne.getTime()-3600*1e3):ne),[ne,B,y]),fe=_.useMemo(()=>{const Ne=B&&y?"":e.correctedLocal;return Ooe(Ne,oe??new Date,w)},[e.correctedLocal,oe,w,B,y]),ye=qv(e,t,n,{dstOffsetMinutes:X}),pe=ye.dae.gz,Ae=ye.se.gz,re=ye.wol.gz,[Ee,_e]=_.useState(null),se=_.useMemo(()=>{const Ne=Oe=>Oe?.stem&&Oe?.branch?`${Oe.stem}${Oe.branch}`:"",De=[Ne(S.year),Ne(S.month),Ne(S.day),Ne(W)],Be=Ll({natal:[...De],daewoon:le>=1?pe??void 0:void 0,sewoon:le>=2?Ae??void 0:void 0,wolwoon:le>=3?re??void 0:void 0}),st=Yv([...De],{fillNone:!1}),ce={...Be};for(const Oe of O6)ce[Oe]=Array.from(new Set([...ce[Oe]??[],...st[Oe]??[]]));return ce},[S,W,pe,Ae,re,le]),Ue=_.useMemo(()=>{const Ne=[...se.cheonganHap,...se.cheonganChung,...se.jijiSamhap,...se.jijiBanhap,...se.jijiBanghap,...se.jijiYukhap,...se.jijiChung,...se.jijiHyeong,...se.jijiPa,...se.jijiHae,...se.amhap,...se.ganjiAmhap].filter(De=>De&&De!=="#");return Array.from(new Set(Ne))},[se]),Fe=_.useMemo(()=>{const Ne=(Be,st)=>{Be.includes(st)||Be.push(st)},De={luck:{wol:[],se:[],dae:[]},natal:{hour:[],day:[],month:[],year:[]}};for(const Be of Ue){const ce=(Be.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean);ce.includes("")&&Ne(De.luck.wol,Be),ce.includes("")&&Ne(De.luck.se,Be),ce.includes("")&&Ne(De.luck.dae,Be),ce.includes("")&&Ne(De.natal.hour,Be),ce.includes("")&&Ne(De.natal.day,Be),ce.includes("")&&Ne(De.natal.month,Be),ce.includes("")&&Ne(De.natal.year,Be)}return De},[Ue]),Ce=_.useMemo(()=>{const Ne=st=>st?.stem&&st?.branch?`${st.stem}${st.branch}`:"",De=tf({natal:[Ne(S.year),Ne(S.month),Ne(S.day),Ne(W)],daewoon:le>=1?pe??void 0:void 0,sewoon:le>=2?Ae??void 0:void 0,wolwoon:le>=3?re??void 0:void 0}),Be=st=>Array.from(new Set(st.filter(ce=>ce&&ce!=="#")));return{good:{natal:{hour:Be(De.good.si??[]),day:Be(De.good.il??[]),month:Be(De.good.wol??[]),year:Be(De.good.yeon??[])},luck:{dae:Be(De.good.dae??[]),se:Be(De.good.se??[]),wol:Be(De.good.wolun??[])}},bad:{natal:{hour:Be(De.bad.si??[]),day:Be(De.bad.il??[]),month:Be(De.bad.wol??[]),year:Be(De.bad.yeon??[])},luck:{dae:Be(De.bad.dae??[]),se:Be(De.bad.se??[]),wol:Be(De.bad.wolun??[])}}}},[S,W,pe,Ae,re,le]),Pe=_.useMemo(()=>{const Ne={},De=(Be,st)=>{for(const ce of Be)Ne[ce]=st};return De(se.cheonganHap,"stem"),De(se.cheonganChung,"stem"),De(se.jijiSamhap,"branch"),De(se.jijiBanhap,"branch"),De(se.jijiBanghap,"branch"),De(se.jijiYukhap,"branch"),De(se.jijiChung,"branch"),De(se.jijiHyeong,"branch"),De(se.jijiPa,"branch"),De(se.jijiHae,"branch"),De(se.amhap,"branch"),De(se.ganjiAmhap,"both"),Ne},[se]),Ge=_.useMemo(()=>{if(!Ee)return{};const Ne=Pe[Ee]??"branch",Be=(Ee.replace(/^#/,"").split("_")[0]??"").split("X").filter(Boolean),st={:"year",:"month",:"day",:"hour",:"daeun",:"seun",:"wolun",:"ilun"},ce={};for(const Oe of Be){const ze=st[Oe];if(!ze)continue;const it=ce[ze]??{stem:!1,branch:!1};Ne==="stem"?it.stem=!0:(Ne==="branch"||(it.stem=!0),it.branch=!0),ce[ze]=it}return ce},[Ee,Pe]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"mb-1 gap-2 p-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",g.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),B&&g.jsxs("button",{onClick:V,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${y?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",y?"ON":"OFF"]})]}),g.jsxs("div",{className:"text-xs desk:text-sm text-neutral-600 dark:text-neutral-400",children:[Joe(e.birthDay,e.birthTime,e.calendarType)," : ",fe]})]}),g.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.birthPlace?.name?`: ${e.birthPlace.name}`:""," /  : ",d.toFixed(2),"  ",u," "]})]}),g.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ae.length===0?"grid-cols-1":ae.length===1?"grid-cols-[2fr_8fr]":ae.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ae.length>0&&g.jsx(Hoe,{cards:ae,isDesktop:J,dayStem:A,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ee,hiddenStemMode:i.hiddenStemMode,calcUnseong:K,calcShinsal:Z,daeGz:pe,seGz:Ae,wolGz:re,highlightMap:Ge}),g.jsx(Goe,{isDesktop:J,dayStem:A,charType:i.charType,thinEum:i.thinEum,showSipSin:i.showSipSin,showUnseong:i.showSibiUnseong,showShinsal:i.showSibiSinsal,showNabeum:a,hiddenMode:ee,hiddenStemMode:i.hiddenStemMode,calcUnseong:K,calcShinsal:Z,highlightMap:Ge,pillars:[{key:"hour",label:"",data:W},{key:"day",label:"",data:S.day},{key:"month",label:"",data:S.month},{key:"year",label:"",data:S.year}]})]}),g.jsx(Zoe,{isDesktop:J,exposureLevel:le,relationChips:Ue,relationByPillar:Fe,activeRelationTag:Ee,onToggleRelationTag:_e,showRelationBox:o,showEtcShinsalBox:l,etcShinsalGood:Ce.good,etcShinsalBad:Ce.bad}),w&&g.jsx(qoe,{hourCandidates:U,useInsi:P,onToggleRule:()=>$(Ne=>!Ne),manualHour:C,onSelectHour:F})]})}function Wv(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let o=0;o<n-1;o+=1){const l=e[o].at.getTime(),u=e[o+1].at.getTime();if(a>=l&&a<u)return o}return 0}function ese({data:e}){const t=Xl(),n=Tu(e,e.mingSikType,100,t),r=_.useMemo(()=>{const P=Ef(e);return Gl(P,t)},[e,t]),i=_.useMemo(()=>{const P=e.mingSikType??"/";return mt(r,P).charAt(0)},[r,e.mingSikType]),{date:a,setFromEvent:o}=Jr(),l=_.useMemo(()=>Wv(n,a),[n,a]),u=vn(P=>P.settings),{charType:d,thinEum:h,showSipSin:p,showSibiUnseong:b,showSibiSinsal:y,sinsalBase:k,sinsalMode:w,sinsalBloom:S}=u,j=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,O=e.mingSikType??"/",A=k===""?mt(r,O).charAt(1):lt(r,j).charAt(1),C=P=>b?Fo(i,P):null,D=P=>y?Ho({baseBranch:A,targetBranch:P,era:jf(w),gaehwa:!!S}):null;return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:n.map((P,$)=>{const U=P.gz.charAt(0),W=P.gz.charAt(1),Y=tse(P.age),F=$===l,z=xi(U,"stem",d),K=xi(W,"branch",d),Z=Qa(U,"stem"),X=Qa(W,"branch"),q=h&&Z?"font-thin":"font-bold",J=h&&X?"font-thin":"font-bold",ee=C(W),le=D(W);return g.jsxs("div",{onClick:()=>o(P,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${F?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${P.gz}  ${P.at.toLocaleDateString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[p&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(i,{stem:U})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Yi(U,"stem",u)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${q}`,children:z})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Yi(W,"branch",u)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:K})}),p&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(i,{branch:W})}),(b||y)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[b&&g.jsx("div",{children:ee}),y&&g.jsx("div",{children:le})]})]})]},`${P.gz}-${$}`)})})]})}function tse(e){return e>=2?String(Math.floor(e)):Number.isInteger(e)?String(e):e.toFixed(4).replace(/\.?0+$/,"")}function Vv(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",o=typeof n.birthMinute=="number";if(r||!(i||a||o)){const u=new Date(t);return u.setDate(u.getDate()+1),u.setHours(4,30,0,0),u}return t}const nse=!1,hP=e=>e<10?`0${e}`:`${e}`;function GT(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8)),l=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let u=!1;for(const d of l){const h=t[d];if(typeof h=="boolean"){u=h;break}if(typeof h=="number"){u=h===1;break}if(typeof h=="string"){u=h==="1"||h.toLowerCase()==="true";break}}if(r==="lunar")try{const d=Wi(i,a,o,0,0),h=`${d.getFullYear()}${hP(d.getMonth()+1)}${hP(d.getDate())}`;return{...e,birthDay:h,calendarType:"solar"}}catch{return e}return e}function v1(e){return new Date(e,6,2,12,0,0,0)}function rse(e,t){return t-e+1}function ise({data:e,list:t,onSelect:n}){const r=vn(U=>U.settings),{date:i,setFromEvent:a}=Jr(),o=Xl(),[l,u]=_.useState(()=>t);_.useEffect(()=>{t&&t.length>0&&u(t)},[t]);const d=Gl(e,o),h=_.useMemo(()=>Vv(e,d),[e,d]),p=_.useMemo(()=>h.getFullYear(),[h]),b=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,y=_.useMemo(()=>{if(!i)return[];const U=i.getFullYear(),W=v1(U),Y=lt(W,b);return[{at:W,gz:Y}]},[i,b]),k=t.length>0?t:l.length>0?l:y,w=_.useMemo(()=>[...k].sort((U,W)=>U.at.getTime()-W.at.getTime()),[k]),S=_.useMemo(()=>{if(w.length===0)return 0;const U=Wv(w,i);return U<0?0:U>=w.length?w.length-1:U},[w,i]),[j,O]=_.useState(null);_.useEffect(()=>{O(null)},[i,w]);const A=j??S,C=_.useMemo(()=>{const U=GT(e);return Gl(U,o)},[e,o]),D=e.mingSikType??"/",P=_.useMemo(()=>mt(C,D).charAt(0),[C,D]),$=_.useMemo(()=>r.sinsalBase===""?mt(h,D).charAt(1):lt(h,b).charAt(1),[h,D,b,r.sinsalBase]);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:w.map((U,W)=>{const Y=U.at.getFullYear(),F=v1(Y),z=lt(F,b),K=z.charAt(0),Z=z.charAt(1),X=W===A,q=xi(K,"stem",r.charType),J=xi(Z,"branch",r.charType),ee=Qa(K,"stem"),le=Qa(Z,"branch"),ae=r.thinEum&&ee?"font-thin":"font-bold",B=r.thinEum&&le?"font-thin":"font-bold",V=r.showSibiUnseong?Fo(P,Z):null,ne=r.showSibiSinsal?Ho({baseBranch:$,targetBranch:Z,era:jf(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,oe=rse(p,Y);return g.jsxs("div",{onClick:()=>{O(W);const fe=v1(Y),ye=lt(fe,b);a({at:fe,gz:ye},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(Y)):Promise.resolve().then(()=>n(Y)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${X?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${z}  ${U.at.toLocaleDateString()}  ${oe}`,children:[g.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[oe,""]}),g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:Y}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(P,{stem:K})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Yi(K,"stem",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${ae}`,children:q})}),g.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${Yi(Z,"branch",r)}`,children:g.jsx("span",{className:`text-[20px] md:text-xl ${B}`,children:J})}),r.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(P,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&V&&g.jsx("div",{children:V}),r.showSibiSinsal&&ne&&g.jsx("div",{children:ne})]})]})]},`${Y}-${U.gz||W}`)})})]})}const ase=new Set(["","","","","","","","","","","",""]);function ose(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...wi(new Date(n-1,5,15,12,0))??[],...wi(new Date(n,5,15,12,0))??[],...wi(new Date(n+1,5,15,12,0))??[]].map(u=>({name:String(u.name),date:new Date(u.date)})).sort((u,d)=>u.date.getTime()-d.date.getTime()).filter(u=>ase.has(u.name));let a=i.findIndex((u,d)=>i[d].date<=t&&t<i[d+1]?.date);a<0&&(a=0);const o=i[a],l=i[a+1];return{start:new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate(),0,0,0,0),end:new Date(l.date.getFullYear(),l.date.getMonth(),l.date.getDate(),0,0,0,0),cur:o,next:l}}const sse=new Set(["","","","","","","","","","","",""]);function lse(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function cse(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function x1(e){return new Date(e,5,15,12,0,0,0)}function use(e){const n=[...wi(x1(e-1))??[],...wi(x1(e))??[],...wi(x1(e+1))??[]].map(l=>({name:String(l.name),date:new Date(l.date)})).sort((l,u)=>l.date.getTime()-u.date.getTime()).filter(l=>sse.has(l.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(l=>l.name===""&&l.date>=r&&l.date<i);if(a===-1)return[];const o=[];for(let l=0;l<12;l++){const u=n[a+l];if(!u)break;const d=new Date(u.date),h=lse(d);o.push({name:u.name,termAt:d,at00:h})}return o}function dse({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=vn(j=>j.settings),a=Xl(),o=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,l=Gl(e,a),u=_.useMemo(()=>Vv(e,l),[e,l]),d=_.useMemo(()=>{const j=GT(e);return Gl(j,a)},[e,a]),h=e.mingSikType??"/",p=_.useMemo(()=>mt(d,h).charAt(0),[d,h]),b=i.sinsalBase===""?mt(u,h).charAt(1):lt(u,o).charAt(1),y=_.useMemo(()=>t?use(t).map(O=>{const A=O.termAt,C=new Date(O.termAt.getTime()+1860*1e3),D=St(C,o);return{at:A,gz:D,term:O.name,termAt:O.termAt}}):[],[t,o]),{date:k,setFromEvent:w}=Jr(),S=Wv(y,k);return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),g.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:y.map((j,O)=>{const A=j.gz.charAt(0),C=j.gz.charAt(1),D=`${cse(j.at)}`,P=O===S,$=xi(A,"stem",i.charType),U=xi(C,"branch",i.charType),W=Qa(A,"stem"),Y=Qa(C,"branch"),F=i.thinEum&&W?"font-thin":"font-bold",z=i.thinEum&&Y?"font-thin":"font-bold",K=i.showSibiUnseong?Fo(p,C):null,Z=i.showSibiSinsal?Ho({baseBranch:b,targetBranch:C,era:jf(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return g.jsxs("div",{onClick:()=>{r(j.at);const X=new Date(j.at),{start:q}=ose(X);n?.(q.getFullYear(),q.getMonth()),w({at:X,gz:St(X,o)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${P?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${j.term}   ${j.gz}  ${j.termAt.toLocaleString()}`,children:[g.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:D}),g.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(p,{stem:A})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Yi(A,"stem",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${F}`,children:$})}),g.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${Yi(C,"branch",i)}`,children:g.jsx("span",{className:`text-base md:text-xl ${z}`,children:U})}),i.showSipSin&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:wa(p,{branch:C})}),(i.showSibiUnseong||i.showSibiSinsal)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&K&&g.jsx("div",{children:K}),i.showSibiSinsal&&Z&&g.jsx("div",{children:Z})]}),g.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:j.term})]})]},`${j.term}-${j.at.toISOString()}`)})})]})}function fse(){const e=vn(r=>r.settings),{date:t,setFromEvent:n}=Jr();return{settings:e,pickedDate:t,setFromEvent:n}}const hse=(e,t)=>new Date(e,t,15,12,0,0,0),p2=e=>{const t=new Date(e);return t.setHours(23,59,0,0),t},mse=new Set(["","","","","","","","","","","",""]),J6=e=>[...wi(new Date(e-1,5,15,12,0))??[],...wi(new Date(e,5,15,12,0))??[],...wi(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime()),pse=e=>{const t=J6(e.getFullYear()),n=t.filter(o=>mse.has(o.name));if(n.length<12){const o=t.findIndex(d=>d.date>e),l=t[Math.max(0,o-1)],u=t[Math.min(t.length-1,o)];return{start:new Date(l.date),end:new Date(u.date),cur:l,next:u}}let r=n.findIndex(o=>o.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}},gse=e=>{if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const o of t)o.type==="month"&&(n=o.value),o.type==="day"&&(r=o.value),o.type==="hour"&&(i=o.value),o.type==="minute"&&(a=o.value);return`${n}/${r} ${i}:${a}`};function bse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i=0,settings:a,pickedDate:o}){const l=a.ilunRule||"/",u=e.mingSikType??"/",d=_.useMemo(()=>{const Y=GT(e);return Gl(Y,i)},[e,i]),h=_.useMemo(()=>d?mt(d,u).charAt(0):void 0,[d,u]),p=_.useMemo(()=>e?Gl(e,i):null,[e,i]),b=_.useMemo(()=>e&&p?Vv(e,p):null,[e,p]),y=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,k=e&&b?a.sinsalBase===""?mt(b,u).charAt(1):lt(b,y).charAt(1):null,w=_.useMemo(()=>hse(t,n),[t,n]),S=_.useMemo(()=>o?p2(new Date(o)):null,[o]),j=_.useMemo(()=>r?p2(r):null,[r]),O=_.useMemo(()=>S??j??w,[S,j,w]),{start:A,end:C,cur:D,next:P}=_.useMemo(()=>pse(O),[O]),$=_.useMemo(()=>{const Y=[],F=new Date(A);for(;F<C;)Y.push(new Date(F)),F.setDate(F.getDate()+1);return Y},[A,C]),U=_.useMemo(()=>{const Y=J6(O.getFullYear()),F=Y.filter(K=>K.date>=A&&K.date<C),z=Y.find(K=>K.date>=C);return z?[...F,z]:F},[O,A,C]),W=_.useMemo(()=>{const Y=[];let F=[];const z=new Date(A).getDay();for(let K=0;K<z;K+=1)F.push(null);for(const K of $)F.length===7&&(Y.push(F),F=[]),F.push(K);for(;F.length<7;)F.push(null);return Y.push(F),Y},[$,A]);return{rule:l,dayStem:h,baseBranch:k,pickerNoon:S,termMarks:U,weeks:W,cur:D??null,next:P??null}}function yse({setFromEvent:e}){return{handleDayClick:_.useCallback(n=>{e({at:n},"")},[e])}}function vse({data:e,year:t,month:n,selectedMonth:r}){const i=Xl(),a=fse(),o=bse({data:e,year:t,month:n,selectedMonth:r,dstOffsetMinutes:i,settings:a.settings,pickedDate:a.pickedDate}),l=yse({setFromEvent:a.setFromEvent});return g.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[g.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:g.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[o.cur?.name?g.jsxs(g.Fragment,{children:[o.cur.name," "," ~ ",o.next?.name??""]}):`${t} ${n}`,o.termMarks.length>0&&g.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",o.termMarks.map((u,d)=>g.jsxs("span",{children:[u.name," ",gse(u.date),d<o.termMarks.length-1?"  ":""]},`${u.name}_${u.date.getTime()}_${d}`)),"]"]})]})}),g.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(u=>g.jsx("div",{className:"py-1",children:u},u))}),g.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:o.weeks.map((u,d)=>u.map((h,p)=>{if(!h)return g.jsx("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800"},`${d}-${p}`);const b=p2(h),y=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0,0),k=new Date,w=b.getFullYear()===k.getFullYear()&&b.getMonth()===k.getMonth()&&b.getDate()===k.getDate(),j=!!o.pickerNoon&&b.getFullYear()===o.pickerNoon.getFullYear()&&b.getMonth()===o.pickerNoon.getMonth()&&b.getDate()===o.pickerNoon.getDate()||!o.pickerNoon&&w,O=i!==0?new Date(y.getTime()+i*60*1e3):y,A=NK(O,o.rule),C=A.charAt(0),D=A.charAt(1),P=xi(C,"stem",a.settings.charType),$=xi(D,"branch",a.settings.charType),U=a.settings.thinEum&&Qa(C,"stem")?"font-thin":"font-bold",W=a.settings.thinEum&&Qa(D,"branch")?"font-thin":"font-bold",Y=!!o.dayStem&&a.settings.showSipSin,F=!!o.dayStem&&a.settings.showSibiUnseong,z=!!o.dayStem&&o.baseBranch!=null&&a.settings.showSibiSinsal,K=Y?wa(o.dayStem,{stem:C}):"",Z=Y?wa(o.dayStem,{branch:D}):"",X=F?Fo(o.dayStem,D):"",q=z?Ho({baseBranch:o.baseBranch,targetBranch:D,era:jf(a.settings.sinsalMode),gaehwa:!!a.settings.sinsalBloom}):"",J=o.termMarks.find(ee=>ee.date.getFullYear()===b.getFullYear()&&ee.date.getMonth()===b.getMonth()&&ee.date.getDate()===b.getDate());return g.jsxs("div",{onClick:()=>l.handleDayClick(y),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${j?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${A} (${b.toLocaleDateString()})`,children:[g.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[g.jsx("span",{children:b.getDate()}),J&&g.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:J.name})]}),Y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:K}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Yi(C,"stem",a.settings)}`,children:g.jsx("span",{className:U,children:P})}),g.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${Yi(D,"branch",a.settings)}`,children:g.jsx("span",{className:W,children:$})}),Y&&g.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Z}),(F||z)&&g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[F&&X&&g.jsx("div",{children:X}),z&&q&&g.jsx("div",{children:q})]})]},h.toISOString())}))})]})}function mP(e,t){const n=e.startYear??e.at.getFullYear(),r=t?t.startYear??t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const o=jn(a,315),l=lt(new Date(a,1,10));i.push({at:o,gz:l})}return i}function xse({data:e}){const t=Xl(),n=Tu(e,e.mingSikType,100,t),[r,i]=_.useState(null),[a,o]=_.useState(null),[l,u]=_.useState("il"),[d,h]=_.useState(null);_.useEffect(()=>{if(!n.length)return;const S=new Date,j=n.findIndex((O,A)=>{const C=n[A+1]?.at;return S>=O.at&&(!C||S<C)});j!==-1&&i(j)},[n]);const p=S=>S<=0&&n.length>1?1:S;_.useEffect(()=>{if(r===null)return;const S=p(r),j=n[S],O=n[S+1];if(!j)return;const A=mP(j,O);if(!Array.isArray(A)||A.length===0)return;const C=A.filter(U=>!!U&&U.at instanceof Date&&!Number.isNaN(U.at.getTime()));if(!C.length)return;const D=new Date,P=D.getTime();C.findIndex((U,W)=>{const Y=C[W+1]?.at,F=U.at.getTime(),z=Y?Y.getTime():null;return P>=F&&(z===null||P<z)})!==-1&&o({year:D.getFullYear(),month:D.getMonth()})},[r,n]);const b=qv(e,void 0,void 0,{dstOffsetMinutes:t}),{date:y}=Jr(),k=y.getMonth()+1===1?y.getFullYear()-1:y.getFullYear(),w=_.useMemo(()=>{if(!b?.dae?.gz)return[];const S=n.findIndex((D,P)=>{const $=n[P+1]?.at;return b.dae.at>=D.at&&(!$||b.dae.at<$)});if(S===-1)return[];const j=p(S),O=n[j],A=n[j+1],C=mP(O,A);return Array.isArray(C)?C.filter(D=>!!D&&D.at instanceof Date&&!Number.isNaN(D.at.getTime())):[]},[n,b?.dae]);return g.jsxs("div",{className:"w-full space-y-4",children:[g.jsx(ese,{data:e}),l==="se"||l==="wol"||l==="il"?g.jsx(ise,{data:e,list:w,onSelect:()=>{u("wol")}}):null,l==="wol"||l==="il"?g.jsx(dse,{data:e,activeYear:k,onSelect:(S,j)=>{o({year:S,month:j}),u("il")},onSelectMonth:h}):null,l==="il"&&a&&g.jsx(vse,{data:e,year:a.year,month:a.month+1,selectedMonth:d})]})}const wse=new Set(bK),_se=new Set(yK);function pP(e){return typeof e=="string"&&e.length>=2&&wse.has(e[0])&&_se.has(e[1])}function Pi(e,...t){if(pP(e))return e;for(const n of t)if(pP(n))return n;return""}const Sse={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22};function Fg(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function kse({data:e}){const t=vn(K=>K.settings),{manualHour:n}=gp(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:o,sinsalBloom:l}=t,{date:u}=Jr(),d=Xl(),h=e.mingSikType??"/",p=e.DayChangeRule??(e.mingSikType===""?"":""),b=_.useMemo(()=>Ef(e),[e]),y=_.useMemo(()=>Gv(b,{dstOffsetMinutes:d}),[b,d]),k=_.useMemo(()=>NT(b,h,{dstOffsetMinutes:d}),[b,d,h]),w=_.useMemo(()=>Mv(k.day?.charAt(0)??""),[k.day]),S=!e.birthTime||e.birthTime==="",j=_.useMemo(()=>S6(y,k.hour,e.dir??"forward",120),[y,k.hour,e.dir]),O=_.useMemo(()=>E6(j,k.day,e.dir??"forward",p),[j,k.day,e.dir,p]),A=_.useMemo(()=>Sp(y,k.month,e.dir??"forward",120,b.birthPlace?.lon??127.5),[y,k.month,e.dir,b.birthPlace?.lon]),C=_.useMemo(()=>T6(A,k.year,e.dir??"forward",p,y),[A,k.year,e.dir,y,p]),D=_.useMemo(()=>{const K=j?.events?.[0];return K?{at:K.at,from:Pi(k.hour),to:Pi(K.gz)}:null},[j?.events,k.hour]),P=_.useMemo(()=>{const K=A?.events?.[0];return A?.firstChange?{at:A.firstChange,from:Pi(k.month),to:Pi(K?.gz??k.month)}:null},[A?.firstChange,A?.events,k.month]),$=_.useMemo(()=>{const K=S?n?n.stem+n.branch:"":Pi(Fg(j.events,u)?.gz,k.hour);let Z;if(S&&n){const X=u.getFullYear(),q=u.getMonth(),J=u.getDate(),ee=Sse[n.branch]??0,le=new Date(X,q,J,ee,0),ae=mt(le,h);Z=Pi(ae,k.day)}else Z=Pi(Fg(O.events,u)?.gz,k.day);return{si:K,il:Z,wl:Pi(Fg(A.events,u)?.gz,k.month),yn:Pi(Fg(C.events,u)?.gz,k.year)}},[u,j.events,O.events,A.events,C.events,k,S,n,h]),U=_.useMemo(()=>({si:Pi(Ja(u,h)),il:Pi(mt(u,h)),wl:Pi(St(u)),yn:Pi(lt(u))}),[u,h]),W=_.useMemo(()=>a===""?k.day.charAt(1):k.year.charAt(1),[a,k.day,k.year]),Y=_.useMemo(()=>jf(o),[o]),F=K=>{if(!K)return{unseong:"",shinsal:""};const Z=xi(w,"stem",""),X=xi(K.charAt(1),"branch",""),q=xi(W,"branch","");return{unseong:r&&Fo(Z,X)||"",shinsal:i&&Ho({baseBranch:q,targetBranch:X,era:Y,gaehwa:!!l})||""}},z=(K,Z,X="myoun")=>{const q=Z,{unseong:J,shinsal:ee}=Z?F(Z):{unseong:"",shinsal:""},le=X==="myoun"&&S&&(K===""||K==="");return g.jsx(Pd,{label:K,gz:q,dayStem:w,settings:t,unseongText:Z?J:"",shinsalText:Z?ee:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:le},`${X}-${K}`)};return g.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[g.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:g.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",g.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",Nm(y),")"]})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[z("",$.si,"myoun"),z("",$.il,"myoun"),z("",$.wl,"myoun"),z("",$.yn,"myoun")]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[z("",U.si,"live"),z("",U.il,"live"),z("",U.wl,"live"),z("",U.yn,"live")]})]})]}),g.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsx("div",{className:"font-semibold",children:"  "}),g.jsxs("div",{children:[":"," ",D?`${Nm(D.at)} (${D.from}  ${D.to})`:" "]}),g.jsxs("div",{children:[":"," ",P?`${Nm(P.at)} (${P.from}  ${P.to})`:" "]})]})]})}const Ese=["","","","","","","","","",""],Tse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},jse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Q6={:"",:"",:"",:"",:""},e7={:"",:"",:"",:"",:""},t7={:"",:"",:"",:"",:""};function Ase(e,t){switch(e){case"":return t;case"":return Q6[t];case"":return e7[t];case"":return t7[t];case"":return n7[t];default:return t}}const n7={:"",:"",:"",:"",:""};function Nse({data:e,perStemElementScaled:t,dayStem:n,yongshinTop:r,yongshinKind:i,width:a=340,height:o=360}){const l=a/2,u=o/2-20,d=Math.min(a,o)*.33,h=_.useMemo(()=>{const w=(n??"").charAt(0);return jse[w]??null},[n]),p=_.useMemo(()=>e.map((w,S)=>{const j=Math.PI/2+2*-Math.PI*S/5;return{...w,angle:j,x:l+d*Math.cos(j),y:u-d*Math.sin(j)}}),[e,l,u,d]),b=w=>w?w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":w.includes("")?"":null:null,y=(w,S)=>S===w?"":Q6[w]===S?"":e7[w]===S?"":t7[w]===S?"":n7[w]===S?"":"",k=_.useMemo(()=>{if(!e||e.length===0)return null;const w=[...e].sort((P,$)=>$.value-P.value),S=w[0],O=w[w.length-1]?.name??"",A=b(r),C=h&&A?y(h,A):O;return{summary:i==="GYEOKGUK"?`${S.name}   ,    ${S.name}  .`:`${S.name}   ,  ${C}     .`,advice:S.value>45?`${S.name}         .`:"       ."}},[e,h,r,i]);return g.jsxs("div",{className:"w-full flex flex-col items-center p-6 bg-white dark:bg-neutral-900 rounded-[2.5rem] border border-neutral-100 dark:border-neutral-800 shadow-xl tracking-tighter transition-colors",children:[g.jsx("div",{className:"text-center mb-4",children:g.jsxs("h3",{className:"text-lg font-black text-neutral-800 dark:text-neutral-100",children:[n,"  "]})}),g.jsxs("svg",{width:a,height:o,className:"overflow-visible",children:[g.jsx("defs",{children:g.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,3.5 L0,7 Z",fill:"#94a3b8",opacity:"0.4"})})}),p.map((w,S)=>{const j=p[(S+2)%5];return g.jsx("line",{x1:w.x,y1:w.y,x2:j.x,y2:j.y,stroke:"currentColor",className:"text-neutral-200 dark:text-neutral-800",strokeWidth:1.5,strokeDasharray:"4 4"},`line-ke-${S}`)}),p.map((w,S)=>{const j=p[(S+1)%5],O=(w.x+j.x)/2,A=(w.y+j.y)/2,C=O-l,D=A-u,P=l+C*1.45,$=u+D*1.45;return g.jsx("path",{d:`M${w.x},${w.y} Q${P},${$} ${j.x},${j.y}`,stroke:"#94a3b8",strokeWidth:2,strokeOpacity:.25,fill:"none",markerEnd:"url(#arrow)"},`path-sheng-${S}`)}),p.map(w=>{const S=w.name,j=h?Ase(S,h):null,O=j?Ese.filter(A=>Tse[A]===j).map(A=>[A,t?.[A]??0]):[];return g.jsxs("g",{transform:`translate(${w.x},${w.y})`,children:[g.jsx("circle",{r:40,fill:w.color,className:"stroke-white/20 dark:stroke-black/20",strokeWidth:1}),g.jsx("circle",{r:40,fill:"black",opacity:.05}),g.jsx("text",{textAnchor:"middle",dy:"-5",fontSize:15,className:"fill-white font-black",children:w.name}),g.jsxs("text",{textAnchor:"middle",dy:"15",fontSize:13,className:"fill-white/90 font-bold",children:[w.value,"%"]}),g.jsx("g",{transform:"translate(0, 48)",children:O.map(([A,C],D)=>{const P=A.charAt(0),$=Math.round(C),U=$===0;return g.jsxs("g",{transform:`translate(${(D===0?-1:1)*25}, 0)`,children:[g.jsx("rect",{x:"-21",y:"0",width:"42",height:"21",rx:"10.5",fill:U?"rgba(0,0,0,0.1)":"rgba(0,0,0,0.3)"}),g.jsxs("text",{textAnchor:"middle",y:"14.5",fontSize:12,className:`font-black ${U?"fill-neutral-400 dark:fill-neutral-500":"fill-white"}`,children:[g.jsx("tspan",{children:P}),g.jsx("tspan",{dx:"1",children:$})]})]},A)})})]},w.name)})]}),k&&g.jsxs("div",{className:"w-full mt-6 space-y-3",children:[g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800 text-center",children:g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold",children:k.summary})}),g.jsx("div",{className:"px-4 py-3 bg-blue-50/50 dark:bg-blue-900/10 rounded-2xl border border-blue-100/30 text-center",children:g.jsxs("p",{className:"text-[11.5px] text-blue-700 dark:text-blue-300 font-bold",children:[" ",k.advice]})})]})]})}const Ose=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function qT(e){return Math.max(0,Math.min(100,e))}function r7(e){const t=qT(e);return Ose.find(r=>t>=r.min&&t<r.max)?.name??""}const Cse=[10,20,35,45,55,65,80];function Mse({value:e}){const[t,n]=_.useState(!1),r=_.useMemo(()=>qT(e),[e]),i=_.useMemo(()=>r7(r),[r]);_.useEffect(()=>{n(!0)},[]);const a=_.useMemo(()=>r>=80?{tag:"",desc:"      .",advice:"  () ()   ."}:r>=55?{tag:"",desc:"      .",advice:"      ."}:r>=45?{tag:"",desc:"        .",advice:"      ."}:r>=20?{tag:"",desc:"       .",advice:"() ()       ."}:{tag:"",desc:"       .",advice:"        ."},[r]);return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-lg border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-end mb-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"    "}),g.jsx("p",{className:"text-[10px] text-neutral-400 uppercase tracking-tighter",children:"  "})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-2xl font-black text-neutral-800 dark:text-white",children:r.toFixed(0)}),g.jsx("span",{className:"text-xs font-bold text-neutral-500",children:"%"})]})]}),g.jsxs("div",{className:"relative mb-8 pt-4",children:[g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-2 px-1",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"translate-x-1",children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"relative h-3 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 via-emerald-400 via-yellow-400 to-red-500 opacity-80"}),Cse.map(o=>g.jsx("div",{className:"absolute top-0 h-3 w-[1.5px] bg-white/30 dark:bg-black/20",style:{left:`${o}%`}},o)),g.jsx("div",{className:"absolute left-1/2 top-0 w-0.5 h-3 bg-white/50 -translate-x-1/2 z-10"}),g.jsx("div",{className:"absolute -top-1.5 h-6 w-3 bg-white dark:bg-neutral-100 rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.3)] border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:t?`${r}%`:"50%",transform:"translateX(-50%)"},children:g.jsx("div",{className:"w-full h-full flex items-center justify-center",children:g.jsx("div",{className:"w-1 h-2 bg-neutral-300 rounded-full"})})})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:`px-3 py-1 rounded-full text-[11px] font-black border-2 ${r>=55?"border-red-500/20 bg-red-50 text-red-600":r>=45?"border-emerald-500/20 bg-emerald-50 text-emerald-600":"border-blue-500/20 bg-blue-50 text-blue-600"}`,children:[a.tag," (",i,")"]}),g.jsx("div",{className:"h-[1px] flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsxs("div",{className:"px-1",children:[g.jsx("p",{className:"text-[12px] text-neutral-700 dark:text-neutral-300 font-bold leading-snug mb-1",children:a.desc}),g.jsxs("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed italic",children:[" ",a.advice]})]})]})]})}const gP={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Dse=["year","month","day","hour"],Pse=new Set(["","","","",""]),Hg=new Set(["","","","",""]),bP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Rse={:5,:7,:5,:-5,:-7,:-5};function Lse({natal:e,perStemElementScaled:t}){const[n,r]=_.useState(!1);_.useEffect(()=>{const b=setTimeout(()=>r(!0),100);return()=>clearTimeout(b)},[e]);const i=_.useMemo(()=>{if(!t||!e||e.length<4)return null;let b=0,y=0;Object.entries(t).forEach(([K,Z])=>{Hg.has(K.charAt(0))?b+=Z:y+=Z});const k=b+y>0?(b-y)/(b+y):0;let w=0,S=0,j=0,O=0;e.forEach(K=>{[K[0],bP[K[1]]].forEach(Z=>{Z&&(Pse.has(Z)?w+=1:S+=1,Hg.has(Z)?j+=1:O+=1)})});const A=w+S>0?(w-S)/(w+S):0,C=j+O>0?(j-O)/(j+O):0;let D=0,P=0;e.forEach((K,Z)=>{const X=Dse[Z],q=gP[X].stem,J=gP[X].branch;Hg.has(K[0])?D+=q:P+=q;const ee=bP[K[1]];ee&&Hg.has(ee)?D+=J:P+=J});const $=D+P>0?(D-P)/(D+P):0,U=e[1]?.charAt(1),W=(Rse[U]||0)/100,Y=A*.3+C*.3+k*.2+$*.2+W,F=(Math.min(1,Math.max(-1,Y))+1)*50,z=100-Math.abs(F-50)*2;return{yang:F,yin:100-F,essencePos:(A+1)*50,naturePos:(C+1)*50,harmony:z,category:F>=55?"":F<=45?"":""}},[e,t]),a=_.useMemo(()=>{if(!i)return null;const{yang:b,essencePos:y,naturePos:k,category:w,harmony:S}=i,j=Math.abs(y-k);let O="";w===""?O="              .":w===""?O=b>75?"    .       .":"         .":O=b<25?"    .         .":"   .         .";let A="";j<15?A="     .      .":j<40?A="       .    .":A="        .      .";let C="";return S>85?C="    .   .":w===""?C="         .":C="          .",{natureDetail:O,consistencyDetail:A,advice:C}},[i]);if(!i||!a)return null;const{yang:o,yin:l,essencePos:u,naturePos:d,harmony:h,category:p}=i;return g.jsxs("div",{className:"w-full p-6 bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-bold text-neutral-800 dark:text-neutral-100 leading-tight",children:"   "})}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-xl text-center border border-emerald-100 dark:border-emerald-800/50",children:[g.jsx("div",{className:"text-[9px] font-bold text-emerald-600 mb-0.5 uppercase",children:""}),g.jsxs("div",{className:"text-base font-black text-emerald-500 leading-none",children:[h.toFixed(0),"%"]})]})]}),g.jsxs("div",{className:"relative mb-14 px-1",children:[n&&g.jsxs("div",{className:"absolute -top-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${u}%`,transform:"translateX(-50%)"},children:[g.jsx("span",{className:"text-[10px] font-bold text-blue-500 mb-1",children:""}),g.jsx("div",{className:"w-[1.5px] h-3 bg-blue-500/40 rounded-full"})]}),g.jsxs("div",{className:"relative w-full h-8 bg-neutral-100 dark:bg-neutral-800 rounded-2xl flex overflow-hidden shadow-inner border-[3px] border-white dark:border-neutral-900",children:[g.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000 ease-out",style:{width:n?`${l}%`:"50%"}}),g.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000 ease-out",style:{width:n?`${o}%`:"50%"}}),g.jsx("div",{className:"absolute left-1/2 top-0 w-[1px] h-full bg-white/30 -translate-x-1/2 z-10"})]}),n&&g.jsxs("div",{className:"absolute -bottom-8 transition-all duration-1000 ease-out flex flex-col items-center",style:{left:`${d}%`,transform:"translateX(-50%)"},children:[g.jsx("div",{className:"w-[1.5px] h-3 bg-red-500/40 rounded-full"}),g.jsx("span",{className:"text-[10px] font-bold text-red-500 mt-1",children:""})]})]}),g.jsxs("div",{className:"space-y-3 mb-5 mt-6",children:[g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-red-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.natureDetail})]}),g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/40 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("h4",{className:"text-[11.5px] font-bold text-neutral-800 dark:text-neutral-300 mb-1.5 flex items-center gap-1.5",children:[g.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"  "]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed",children:a.consistencyDetail})]})]}),g.jsxs("div",{className:`text-center py-3 rounded-xl text-[11px] font-bold tracking-tight shadow-sm ${p===""?"bg-red-50 text-red-600 dark:bg-red-950/20":p===""?"bg-blue-50 text-blue-600 dark:bg-blue-950/20":"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/20"}`,children:[" ",a.advice]})]})}function Jh(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function ca({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const o=n.length+r.length+i.length+a.length>0,l=t.length>0?t:["#"],u=o?l.filter(p=>p!=="#"):l,h=u.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:h,children:e}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"natal"),children:p},`natal-${b}`)),n.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"dae"),children:p},`dae-${b}`)),r.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"se"),children:p},`se-${b}`)),i.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"wol"),children:p},`wol-${b}`)),a.map((p,b)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Jh(p,"il"),children:p},`il-${b}`))]})]})}function g2(e){return Array.isArray(e)?e:[]}function Gg(e,t){const n=new Set(g2(e));return g2(t).filter(i=>!n.has(i))}function Ise({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const o=Yv(e),l=Ll({natal:e}),u=t?Ll({natal:e,daewoon:t}):l,d=n?Ll({natal:e,daewoon:t,sewoon:n}):u,h=r?Ll({natal:e,daewoon:t,sewoon:n,wolwoon:r}):d,p=i?Ll({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):h,b=w=>({natal:g2(o[w]),dae:Gg(l[w],u[w]),se:Gg(u[w],d[w]),wol:Gg(d[w],h[w]),il:Gg(h[w],p[w])}),y={cheonganHap:b("cheonganHap"),cheonganChung:b("cheonganChung"),jijiSamhap:b("jijiSamhap"),jijiBanhap:b("jijiBanhap"),jijiBanghap:b("jijiBanghap"),jijiYukhap:b("jijiYukhap"),amhap:b("amhap"),ganjiAmhap:b("ganjiAmhap"),jijiChung:b("jijiChung"),jijiHyeong:b("jijiHyeong"),jijiPa:b("jijiPa"),jijiHae:b("jijiHae")},k=w=>a===""?{natal:w.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:[],wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:[],il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:[]}:a===""?{natal:w.natal,dae:w.dae,se:w.se,wol:w.wol,il:w.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:""}),g.jsx(ca,{label:"",...k(y.cheonganHap)}),g.jsx(ca,{label:"",...k(y.cheonganChung)}),g.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),g.jsx(ca,{label:"",...k(y.jijiSamhap)}),g.jsx(ca,{label:"",...k(y.jijiBanhap)}),g.jsx(ca,{label:"",...k(y.jijiBanghap)}),g.jsx(ca,{label:"",...k(y.jijiYukhap)}),g.jsx(ca,{label:"",...k(y.amhap)}),g.jsx(ca,{label:"",...k(y.ganjiAmhap)}),g.jsx(ca,{label:"",...k(y.jijiChung)}),g.jsx(ca,{label:"",...k(y.jijiHyeong)}),g.jsx(ca,{label:"",...k(y.jijiPa)}),g.jsx(ca,{label:"",...k(y.jijiHae)})]})}function $se(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function Bse({items:e,source:t}){const n=e.length>0?e:["#"];return g.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+$se(r,t),children:r},`${t}-${i}-${r}`))})}function yP({title:e,rows:t}){return g.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[g.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return g.jsxs("div",{className:"flex items-start gap-3 p-1 rounded-sm",children:[g.jsx("div",{className:i,children:n.label}),g.jsx(Bse,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function zse({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:o}=vn(),[l,u]=_.useState(""),[d,h]=_.useState("");_.useEffect(()=>{o.sinsalBase===""?(u(""),h("")):(u(""),h(""))},[o.sinsalBase]);const p=_.useMemo(()=>({voidBasis:l===""?"day":"year",samjaeBasis:d===""?"day":"year"}),[l,d]),b=_.useMemo(()=>tf({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:y,bad:k,meta:w}=b,S=Y=>Y.map(F=>F==="#"?F:` ${F}`),j=(Y,F)=>{const z=["natal"];return F===""&&z.push("natal"),F===""&&z.push("natal","dae"),F===""&&z.push("natal","dae","se"),F===""&&z.push("natal","dae","se","wol"),F===""&&z.push("natal","dae","se","wol","il"),Y.filter(K=>z.includes(K.source))},O=[{label:"",items:S(y.si),source:"natal"},{label:"",items:S(y.il),source:"natal"},{label:"",items:S(y.wol),source:"natal"},{label:"",items:S(y.yeon),source:"natal"},{label:"",items:y.dae,source:"dae"},{label:"",items:y.se,source:"se"},{label:"",items:y.wolun,source:"wol"},{label:"",items:y.ilun,source:"il"}],A=[{label:"",items:S(k.si),source:"natal"},{label:"",items:S(k.il),source:"natal"},{label:"",items:S(k.wol),source:"natal"},{label:"",items:S(k.yeon),source:"natal"},{label:"",items:k.dae,source:"dae"},{label:"",items:k.se,source:"se"},{label:"",items:k.wolun,source:"wol"},{label:"",items:k.ilun,source:"il"}],C=j(O,a),D=j(A,a),P=w.voidPair.day?`(${w.voidPair.day.join("")})`:"()",$=w.voidPair.year?`(${w.voidPair.year.join("")})`:"()",U=w.samjaeYears.day?`(${w.samjaeYears.day.join("")})`:"()",W=w.samjaeYears.year?`(${w.samjaeYears.year.join("")})`:"()";return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 text-xs",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:l,onChange:Y=>u(Y.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:P}),g.jsx("option",{value:"",children:$})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),g.jsxs("select",{value:d,onChange:Y=>h(Y.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:U}),g.jsx("option",{value:"",children:W})]})]})]}),g.jsxs("div",{className:"desk:flex",children:[g.jsx(yP,{title:"()",rows:C}),g.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),g.jsx(yP,{title:"()",rows:D})]})]})}const pa={year:0,month:1,day:2,hour:3},i7={[pa.year]:.3,[pa.month]:.5,[pa.day]:.3,[pa.hour]:.3},a7={[pa.year]:.15,[pa.month]:.2,[pa.day]:0,[pa.hour]:.15},Use=e=>Mm.has(e)?e:Qn[e]??e,Fse=e=>Vd.has(e)?e:Gn[e]??e,Hse=e=>typeof e=="string"&&e.length>=2?Use(e.slice(-1)):"",Gse=e=>typeof e=="string"&&e.length>=1?Fse(e.slice(0,1)):"",En=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),qse={:En(2,0,.5,2),:En(2,0,0,2),:En(2,0,0,2),:En(0,2,2,0),:En(0,2,2,0),:En(0,2,1,2),:En(0,2,2,.5),:En(0,2,2,0),:En(0,2,2,1),:En(2,0,0,2),:En(2,0,0,2),:En(2,0,1,1)},Yse={:En(0,1,1,0),:En(0,1,1,0),:En(0,2,2,0),:En(0,2,2,0),:En(0,0,1,0),:En(0,0,0,1),:En(1,0,0,1),:En(1,0,0,1),:En(2,0,0,2),:En(2,0,0,2)},vP=e=>Math.max(0,Math.min(100,e));function xP(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function Kse(e){let t=0,n=0,r=0,i=0;return[pa.year,pa.month,pa.day,pa.hour].forEach(a=>{const o=qse[Hse(e[a])],l=Yse[Gse(e[a])],u=i7[a],d=a7[a];u>0&&o&&(t+=o.han*u,n+=o.nan*u,r+=o.jo*u,i+=o.seup*u),d>0&&l&&(t+=l.han*d,n+=l.nan*d,r+=l.jo*d,i+=l.seup*d)}),{han:t,nan:n,jo:r,seup:i}}function Wse(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function Vse(e){const t=Wse(e);return _.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=Kse(t),o=xP(n,r),l=xP(a,i);return{hanNanPct:vP(o),joSeupPct:vP(l),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:i7,stem:a7}}},[t])}function wP({label:e,percent:t,leftHint:n,midHint:r,rightHint:i,gradientClass:a}){const[o,l]=_.useState(!1),u=_.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),d=[20,35,50,65,80];return _.useEffect(()=>{l(!0)},[]),g.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-neutral-900 rounded-3xl shadow-sm border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[11px] font-black text-neutral-400 uppercase",children:e}),g.jsxs("span",{className:"text-sm font-black dark:text-white",children:[u.toFixed(0),"%"]})]}),g.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-neutral-400 mb-1.5 px-0.5",children:[g.jsx("span",{children:n}),g.jsx("span",{children:r}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"relative h-2.5 rounded-full bg-neutral-100 dark:bg-neutral-800 overflow-visible shadow-inner",children:[g.jsx("div",{className:`absolute inset-0 rounded-full opacity-80 ${a}`}),d.map(h=>g.jsx("div",{className:"absolute top-0 h-2.5 w-[1px] bg-white/20 dark:bg-black/10",style:{left:`${h}%`}},h)),g.jsx("div",{className:"absolute -top-1.5 h-5 w-2.5 bg-white dark:bg-neutral-100 rounded-full shadow-md border-2 border-neutral-800 dark:border-white z-20 transition-all duration-1000 ease-out",style:{left:o?`${u}%`:"50%",transform:"translateX(-50%)"}})]})]})}function Zse({natal:e}){const{hanNanPct:t,joSeupPct:n}=Vse(e),r=_.useMemo(()=>{let i="";return t>60?i+="   , ":t<40?i+="   , ":i+="    , ",n>60?i+="     .":n<40?i+="      .":i+="     .",i},[t,n]);return g.jsxs("div",{className:"w-full space-y-3",children:[g.jsxs("div",{className:"flex gap-3",children:[g.jsx(wP,{label:" ()",percent:t,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-blue-500 via-neutral-200 to-red-500"}),g.jsx(wP,{label:" ()",percent:n,leftHint:"",midHint:"",rightHint:"",gradientClass:"bg-gradient-to-r from-teal-600 via-neutral-200 to-orange-600"})]}),g.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/30 rounded-2xl border border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11.5px] text-neutral-600 dark:text-neutral-400 leading-relaxed text-center font-medium",children:[g.jsx("span",{className:"text-neutral-400 mr-2",children:" :"}),r]})})]})}const Wr={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},qa={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xse={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ky={:"",:"",:"",:"",:""},o7={:"",:"",:"",:"",:""},qm={:"",:"",:"",:"",:""},s7={:"",:"",:"",:"",:""},Jse={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:7},:{stem:"",w:7},:{stem:"",w:16}}},Qse={:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}},:{:{stem:"",w:100}},:{:{stem:"",w:20},:{stem:"",w:30},:{stem:"",w:50}},:{:{stem:"",w:30},:{stem:"",w:70}}};function YT(e){return e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""||e===""}function l7(e){return(typeof e=="string"?e.trim().toLowerCase():"")==="hgc"?"hgc":"classic"}function KT(e){return e==="hgc"?Qse:Jse}const ele={:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""]},w1={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c7={:"",:"",:"",:"",:""},u7={:"",:"",:"",:""},tle=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],nle=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],rle={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},Xe=(e,t)=>`${e}${t}`,Li=(e,t,n)=>`${e}${t}${n}`,ile={:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]},_P={[Xe("","")]:[""],[Xe("","")]:["",""],[Xe("","")]:["",""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:["",""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:["",""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""],[Xe("","")]:[""]},SP={[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:[""],[Li("","","")]:["",""]},ale={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ga(e){return["","","","",""].includes(e)}function ole(e){return["","","","","",""].includes(e)}const _1=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,da=e=>e&&e.length>=1?e.charAt(0):"",Cn=e=>e&&e.length>=2?e.charAt(1):"",sle=e=>Array.from(new Set(e));function lle(e,t){const n=ele[e];if(!n)return!1;const r=new Set(t.filter(Boolean));return n.filter(a=>a!==e).every(a=>r.has(a))}function cle(e){return Wr[e]??""}function Ya(e,t){const n=Wr[e],r=Wr[t];if(!n||!r)return"";let i;r===n?i="":r===ky[n]?i="":r===qm[n]?i="":r===s7[n]?i="":r===o7[n]?i="":i="";const a=ga(e)===ga(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function ule(e,t){const n=Wr[e],r=qa[t];if(!n||!r)return"";let i;r===n?i="":r===ky[n]?i="":r===qm[n]?i="":r===s7[n]?i="":r===o7[n]?i="":i="";const a=ole(t)===ga(e);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function dle(e){return{:"",:"",:"",:"",:""}[e]??""}function b2(e,t){const n=cle(e),r=ga(e);let i;t===n?i="":ky[n]===t?i="":ky[t]===n?i="":qm[n]===t?i="":qm[t]===n?i="":i="";const a=r===ga(dle(t));switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}const fle={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hle=e=>/^(|||||||||)$/.test(e);function mle(e){return e?hle(e)?e:fle[e]??"":""}function qg(e){return mle(da(e))}function ple(e){return e?.charAt(0)??""}function gle(e){return e?.charAt(1)??""}function ble(e,t,n){const[r,i,a,o]=(e??[]).slice(0,4),l=ce=>(ce?.length??0)>=1?ce.charAt(0):"",u=ce=>(ce?.length??0)>=2?ce.charAt(1):"",d=[r,i,a,o].map(l).filter(Boolean),h=new Set(Object.keys(qa)),p=[r,i,a,o].map(u).filter(ce=>!!ce&&h.has(ce)),b=l(a),y=rle[b]??!1,k=new Set,w=t==="classic"?Ov:Cv,S=new Set(["","","","","","","","","",""]),j=ce=>(w[ce]??[]).filter(Oe=>S.has(Oe)),O=(ce,Oe)=>{const ze=qa[Oe];return ze?b2(ce,ze):null},A={:0,:0,:0,:0,:0};for(const ce of d){const Oe=Wr[ce];Oe&&(A[Oe]+=10)}const C=[];for(const ce of p){const Oe=Xse[ce];Oe&&C.push(Oe);const ze=qa[ce];ze&&(A[ze]+=6)}const P=[...d,...C].map(ce=>Ya(b,ce)),$={:["",""],:["",""],:["",""],:["",""],:["",""]},U=ce=>P.filter(Oe=>Oe===ce).length,W=ce=>P.filter(Oe=>$[ce].includes(Oe)).length,Y=p[1],F=!!b&&ale[b]===Y,z=n.elementPercent100;z.>=20&&z.>=20&&z.>=15&&k.add("");const K=[r,i,a,o].filter(Boolean),Z=[];for(const ce of K){const Oe=ce.charAt(0),ze=ce.charAt(1);Z.push(Ya(b,Oe)),Z.push(O(b,ze))}const X=(ce,Oe)=>{const ze=(it,Et)=>!!it&&!!Et&&ce.includes(it)&&Oe.includes(Et)||Oe.includes(it)&&ce.includes(Et);for(let it=0;it+1<Z.length;it+=2)if(ze(Z[it],Z[it+1]))return!0;return!1},q=ce=>Z.some(Oe=>!!Oe&&ce.includes(Oe)),J=U("")+U(""),ee=U(""),le=W(""),ae=W(""),B=X(["",""],["",""]);if((ee>=1||J>=2)&&le>=1&&J>le&&ae<=1&&B&&k.add(""),q($.)&&q($.)&&X($.,$.)){const ce=P.includes("");k.add(ce?"":"")}W("")>=2&&W("")>=2&&Math.abs(W("")-W(""))<=1&&W("")<=1&&W("")<=1&&k.add("");const V=U(""),ne=U(""),oe=U("")+U(""),fe=U("")+U(""),ye=W("");ne>=2&&oe>=1&&A.+A.>=20&&k.add(""),ne>=2&&fe>=1&&A.+A.>=20&&k.add(""),ne>=2&&fe>=1&&A.+A.>=20&&X([""],["",""])&&ye<=1&&k.add(""),V>=2&&fe>=1&&A.+A.>=20&&X([""],["",""])&&ye<=1&&k.add("");const pe=(ce,Oe)=>{const ze=Wr[ce],it=qa[Oe];return!!ze&&!!it&&ze===it},Ae=[r,i,a,o].filter(Boolean),re=u(a),Ee=pe(b,re),_e=Ae.map(ce=>ce.charAt(0)).filter(ce=>["",""].includes(Ya(b,ce)));let se=!1;for(const ce of Ae){const Oe=ce.charAt(0),ze=ce.charAt(1);if(_e.includes(Oe)&&pe(Oe,ze)){se=!0;break}}Ee&&se&&k.add(""),W("")>=3&&W("")>=.5*(W("")+W("")+W("")+W(""))&&k.add(""),W("")>=3&&W("")>=.5*(W("")+W("")+W("")+W(""))&&k.add(""),W("")>=3&&W("")>=1&&k.add(""),W("")>=3&&W("")+W("")<=1&&k.add("");const Ue=U("");W("")+W("")>=2&&Ue===1&&W("")>=1&&k.add(""),Ue>=2&&oe+W("")>=3&&k.add("");const Fe=V+ne;(V>=2||Fe>=2)&&fe>=1&&Fe>fe&&k.add(""),ne>=2&&fe>=1&&Fe>fe&&k.add("");const Ce=U(""),Pe=U("");Ce>=2&&Ue+Pe>=1&&k.add(""),Ce>=2&&Ue+Pe===0&&k.add(""),y&&Ce>=2&&Ue>=1&&k.add(""),!y&&Ce>=2&&Ue>=1&&k.add(""),U("")>=2&&U("")>=1&&k.add(""),U("")>=1&&U("")>=1&&X([""],[""])&&k.add(""),F&&Ue>=1&&W("")+W("")>=2&&k.add("");const Ge=[u(r),u(i),u(a),u(o)].filter(Boolean),Ne=[r?.charAt(0),i?.charAt(0),o?.charAt(0)].filter(Boolean),De=new Set(Ne.map(ce=>Ya(b,ce))),Be=new Set(Ge.flatMap(ce=>{const Oe=qa[ce];return Oe?[b2(b,Oe)]:[]})),st=new Set(Ge.flatMap(ce=>j(ce).map(Oe=>Ya(b,Oe))));return["","","","",""].forEach(ce=>{const Oe=$[ce],ze=Oe.some(pt=>De.has(pt)),it=Oe.some(pt=>Be.has(pt)),Et=Oe.some(pt=>st.has(pt));!ze&&!it&&!Et?k.add(`${ce}`):!ze&&!it&&Et&&k.add(`${ce}`)}),Array.from(k)}const yle=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=da(n),i=Cn(n),a=Wr[r],o=qa[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t};function vle(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,o,l,u]=(t??[]).slice(0,4),d=[da(a),da(o),da(l),da(u)].filter(Boolean),h=[Cn(a),Cn(o),Cn(l),Cn(u)].filter(Boolean),p=Wr[n],b=d.map(ce=>Ya(n,ce)),y=[],k=ce=>d.filter(Oe=>Oe===ce).length,w=ce=>h.filter(Oe=>Oe===ce).length,S=ce=>ce.every(Oe=>h.includes(Oe)),j=ce=>b.some(Oe=>ce.includes(Oe)),O=da(o),A=ce=>ga(ce),C=()=>{const ce=d.map(Oe=>Wr[Oe]);return ce.length===4&&ce.every(Oe=>Oe===ce[0])},D=()=>{if(d.length!==4)return!1;const ce=d.map(A),Oe=ce[0]&&!ce[1]&&ce[2]&&!ce[3],ze=!ce[0]&&ce[1]&&!ce[2]&&ce[3];return Oe||ze};ga(n)&&c7[n]===r&&y.push("");const P=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[ce,Oe]of P)if(n===ce&&r===Oe){y.push("");break}!ga(n)&&u7[n]===r&&y.push("");const $=w1[n];$&&Cn(l)===$&&p===qa[Cn(l)]&&y.push(""),$&&Cn(u)===$&&p===qa[Cn(u)]&&y.push("");const U=[a,o,l,u].map(ple),W=[a,o,l,u].map(gle);for(const ce of U);for(const ce of W);const Y=i==="hgc"?Cv:Ov;function F(ce){return(Y[ce]??[]).filter(Oe=>["","","","","","","","","",""].includes(Oe))}const z=[a,o,l,u].filter(Boolean),Z=z.flatMap(ce=>[ce.charAt(0),ce.charAt(1)]).flatMap(ce=>{try{if(["","","","","","","","","",""].includes(ce))return[Ya(n,ce)];if(["","","","","","","","","","","",""].includes(ce)){const Oe=ule(n,ce),ze=F(ce).map(it=>Ya(n,it));return[Oe,...ze]}return[]}catch{return[]}}),X=ce=>Z.some(Oe=>ce.includes(Oe)),q=(ce,Oe)=>{const ze=[],it=[];for(const pt of z){const Jt=pt.charAt(0),Br=pt.charAt(1);ze.push(Ya(n,Jt));const zr=qa[Br];zr?it.push(b2(n,zr)):it.push(null)}const Et=(pt,Jt)=>!!pt&&!!Jt&&(ce.includes(pt)&&Oe.includes(Jt)||Oe.includes(pt)&&ce.includes(Jt));for(let pt=0;pt<ze.length;pt++)if(Et(ze[pt],it[pt]))return!0;for(let pt=0;pt<ze.length-1;pt++)if(Et(ze[pt],ze[pt+1])||Et(it[pt],it[pt+1]))return!0;return!1},J={:["",""],:["",""],:["",""],:["",""]};X([...J.])&&X([...J.])&&q([...J.],[...J.])&&y.push(""),X([...J.])&&X([...J.])&&q([...J.],[...J.])&&y.push("");const ee=ce=>b.filter(Oe=>ce.includes(Oe)).length,le=ee(["",""]),ae=ee([""]),B=ee([""]),V=ee(["",""]),ne=ee(["",""]),oe=ee(["",""]);ae>=1&&le>=1&&le>=ae&&B<=ae&&y.push("");const fe=ee([""]);fe>=1&&V>=1&&fe>=V&&y.push(""),b.includes("")&&V>=1&&y.push("");const pe=yle(t),Ae=Object.entries(pe).sort((ce,Oe)=>Oe[1]-ce[1]),re=Ae[0];if(re&&re[1]>=60&&y.push(`(${re[0]})`),Ae.length>=2){const[ce,Oe]=Ae[0],[,ze]=Ae[1];Oe>=75&&Oe-ze>=12&&p!==ce&&y.push(`(${ce})`)}for(const ce of tle){const Oe=d.includes(ce.a),ze=d.includes(ce.b);if(!Oe||!ze)continue;const it=ce.to,Et=pe[it]??0,pt=Wr[ce.a],Jt=Wr[ce.b],Br=Math.max(pe[pt]??0,pe[Jt]??0),zr=qa[r]===it,io=Object.entries(pe).sort((an,Ur)=>Ur[1]-an[1])[0]?.[0]===it;let It=!1;Et>=60&&(zr||io)&&Br<=20&&Et-Br>=20&&(y.push(`(${it})`),It=!0),!It&&Et>=50&&(zr||io)&&Br<=25&&(y.push(`(${it})`),It=!0),!It&&Et>=35&&y.push(`(${it})`)}const Ee=`${da(u)}${Cn(u)}`;["",""].includes(n)&&["","",""].includes(Ee)&&y.push(""),["","","",""].includes(Cn(u))&&y.push(""),["",""].includes(n)&&(Cn(l)===""||Cn(o)==="")&&!h.includes("")&&y.push("");const _e=d.some(ce=>ce===""||ce===""),se=h.some(ce=>ce===""||ce==="");["",""].includes(Cn(l))&&!_e&&!se&&y.push(""),["","",""].every(ce=>d.includes(ce))&&y.push(""),["","",""].every(ce=>d.includes(ce))&&y.push(""),["","",""].every(ce=>d.includes(ce))&&y.push("");const Ue=Object.values(pe).sort((ce,Oe)=>Oe-ce);Ue.length>=3&&Ue[0]-Ue[2]<=8&&Ue[0]+Ue[1]+Ue[2]>=80&&y.push(""),ne>=1&&oe>=1&&Math.abs(ne-oe)<=1&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),S(["","","",""])&&y.push(""),h.length===4&&h.every(ce=>ce===h[0])&&y.push(""),d.length===4&&C()&&D()&&y.push(""),t.every(ce=>ce&&ce===t[0])&&y.push(""),d.length===4&&d.every(ce=>ce===d[0])&&h.length===4&&h.every(ce=>ce===h[0])&&y.push(""),le>=1&&(Cn(l)===w1[n]||Cn(u)===w1[n])&&y.push(""),k("")>=3&&S(["","",""])&&["","",""].includes(Cn(l))&&y.push("");const Ce=n===""||n==="",Pe=[["","",""],["","",""]],Ge=[["","",""],["","",""]];Ce&&(Pe.some(ce=>S(ce))||Ge.some(ce=>S(ce)))&&y.push("");const Ne=new Set(["","","","","",""]),De=`${da(l)}${Cn(l)}`;if(Ne.has(De)&&w("")>=2&&(j(["",""])||h.includes("")||h.includes("")||j(["",""])||y.push("")),new Set(["","","","","",""]).has(De)&&w("")>=2&&h.includes("")&&y.push(""),n===""&&`${da(u)}${Cn(u)}`==""){const ce=Ya(n,O);!["","","",""].includes(ce)&&j(["",""])&&!h.includes("")&&!h.includes("")&&y.push("")}return new Set(["","",""]).has(De)&&`${da(u)}${Cn(u)}`==""&&!h.includes("")&&!j(["",""])&&y.push(""),De===""&&w("")+w("")>=2&&y.push(""),(De===""||De==="")&&w("")>=2&&!j(["",""])&&!h.includes("")&&y.push(""),n===""&&S(["","",""])&&y.push(""),De===""&&`${da(u)}${Cn(u)}`==""&&y.push(""),sle(y)}function xle(e){const t=[];for(const n of e)switch(n.kind){case"BUNIL_PICK":t.push(`: ${n.from} `);break;case"WANGJI_FIXED_JUNGI":t.push(":   ");break;case"SAENGJI_EMITTED_ONE":t.push(`: ${n.from}  `);break;case"SAENGJI_EMITTED_MULTI":t.push(`:      ${n.from} `);break;case"SAENGJI_NOT_EMITTED_USE_JUNGI":t.push(":    ");break;case"GOJI_SAMHAP_USE_JUNGI":t.push(":     ");break;case"GOJI_EARLY_JEOLIP_USE_CHOGI":t.push(":  +12    ");break;case"GOJI_LATE_JEOLIP_USE_JUNGI":t.push(":  +12    ");break;case"NEUTRALIZED":t.push(":   / ");break;case"EX_GEONLOK":t.push(": /   ");break;case"EX_YANGIN":t.push(":    ");break;case"EX_WOLGEOP":t.push(":    ");break;case"EX_EXCLUDED_BIGEOP":t.push(": /  ");break}return t}function wle(e){return e===""?"()":{:"",:"",:"",:"",:"",:"",:"",:""}[e]??"-"}const kP=1e3*60*60*24;function Yg(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function _le(e){let t=wi(e);const n=t[0]?.date;if(n&&e.getTime()<n.getTime()){const r=new Date(e);r.setFullYear(e.getFullYear()-1),t=wi(r)}return t}function Sle(e){const t=ile[e];return Array.isArray(t)&&t.length>0?t[0]:null}function kle(e,t){const n=Sle(e);if(!n)return null;const r=_le(t),i=r.findIndex(d=>d.name===n);if(i<0)return null;const a=r[i]?.date,o=r[i+1]?.date;if(!a)return null;const l=Math.floor((Yg(t)-Yg(a))/kP)+1,u=o?Math.max(1,Math.floor((Yg(o)-Yg(a))/kP)):30;return{dayIdx:l<1?1:l,spanDays:u}}function Ele(e){return(e.?.w??0)+(e.?.w??0)+e..w}function Tle(e,t,n){const r=Math.max(1,Ele(e)),i=Math.max(1,Math.min(n,t)),a=Math.max(1,Math.min(r,Math.ceil(i*r/n))),o=e.?.w??0,l=e.?.w??0;return e.&&a<=o?{stem:e..stem,from:""}:e.&&a<=o+l?{stem:e..stem,from:""}:{stem:e..stem,from:""}}function d7(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:o=[],isNeutralized:l,mapping:u}=e,d=[],h=l7(u),p=KT(h);if(!YT(n))return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const b=p[n];if(!b)return{:"-",:"-",:"-",:"-",:"-",:"-",:[],reason:["  "],reasonTokens:[]};const y={:b.?{stem:_1(b..stem),w:b..w}:void 0,:b.?{stem:_1(b..stem),w:b..w}:void 0,:{stem:_1(b..stem),w:b..w}},k=y..stem;let w=k;const S=kle(n,r);if(["","","",""].includes(n)&&lle(n,o)&&y.)w=y..stem,d.push({kind:"GOJI_SAMHAP_USE_JUNGI"});else if(S){const z=Tle(y,S.dayIdx,S.spanDays);w=z.stem,d.push({kind:"BUNIL_PICK",from:z.from})}else w=k,d.push({kind:"BUNIL_FALLBACK_USE_WOLRYEONG"});function j(z,K){if(!z)return!1;if(K.includes(z))return!0;const Z=Wr[z];return Z?K.some(X=>Wr[X]===Z):!1}let O="";w&&j(w,a)&&!l?.(w)?(O=w,d.push({kind:"DANRYEONG_CONFIRMED_BY_EMIT"})):w&&l?.(w)&&d.push({kind:"NEUTRALIZED"});const A=O||k;let C="";const D=Wr[A];if(D){const z=Object.entries(qm).find(([,K])=>K===D)?.[0]??null;z&&(C=Object.entries(Wr).find(([Z,X])=>X===z&&ga(Z)===ga(A))?.[0]??"")}let P="-";const $=Ya(t,A),U=nle.some(([z,K])=>z===t&&K===n),W=ga(t)&&c7[t]===n,Y=!ga(t)&&u7[t]===n;$===""||$===""?U?(P="",d.push({kind:"EX_GEONLOK"})):W?(P="",d.push({kind:"EX_YANGIN"})):Y?(P="",d.push({kind:"EX_WOLGEOP"})):d.push({kind:"EX_EXCLUDED_BIGEOP"}):P=wle($);const F=vle({pillars:i,dayStem:t,monthBranch:n,mapping:u});return{:k,:w,:O||"-",:A||"-",:C||"-",:P,:F,reason:xle(d),reasonTokens:d}}function jle(e){const[t,n,r,i]=e,a=qg(i),o=qg(r),l=qg(n),u=qg(t),d=[],h=[[a,o],[o,l],[l,u]];for(const[b,y]of h){if(!b||!y)continue;const k=Xe(b,y),w=_P[k];w?.length&&d.push(...w);const S=Xe(y,b);if(S!==k){const j=_P[S];j?.length&&d.push(...j)}}const p=[[a,o,l],[o,l,u]];for(const[b,y,k]of p){if(!b||!y||!k)continue;const w=Li(b,y,k),S=SP[w];S?.length&&d.push(...S);const j=Li(k,y,b);if(j!==w){const O=SP[j];O?.length&&d.push(...O)}}return Array.from(new Set(d))}const Ale=["","","","",""];function Nle(e){return Ale.includes(e)}function Ole(e){const t=/^(.+?)\((.+)\)$/.exec(e.trim());return t?{base:t[1].trim(),inner:t[2].trim()}:{base:e.trim()}}function Qh(e,t){if(!t)return e;const n=(Nle(t),t);return`${e}(${n})`}const Cle={:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:" 3    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"   ."}},Mle={:e=>({title:Qh("",e),short:"     ."}),:e=>({title:Qh("",e),short:"   ."}),:e=>({title:Qh("",e),short:"   ."}),:e=>({title:Qh("",e),short:"    ."}),:e=>({title:Qh("",e),short:"    ."})};function Dle(e){const{base:t,inner:n}=Ole(e);return t===""||t===""||t===""||t===""||t===""?Mle[t](n):Cle[t]}function Ple(e){const t=Dle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Rle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),EP={:"   .   .",:"   .",:"  .",:"    .",:"  .",:"  .  .",:"   .",:"  .   .",:"   .",:"  .",:"   .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"   .",:"   .",:"   .",:"   .",:"   .",:"   .",:"  .",:"   .",:"  .  .",:"   .",:"   .",:"  .",:"  .",:"   .",:"    .",:"      .",:"  .",:"  .",:"    .",:"  .",:"  .",:"   .",:"  .",:"   .",:"   .",:"   .",:"   .",:"  .",:"  .",:"  .",:"    .",:"   .",:"  .",:"    .",:"     .",:"   .",:"  .",:"     .",:"    .",:"   .",:"    .",:"    .",:"   .",:"   .",:" .",:"   .",:"   .",:"   .",:"   ."};function Lle(e){if(Rle(EP,e))return EP[e]}const TP={:"(/)",:"(/)",:"(/)",:"(/)",:"(/)"},Ile={:{title:"",short:"    .",detail:"       ."},:{title:"",short:"      .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +     ."},:{title:"",short:"     .",detail:"  +  ."},:{title:"",short:"      .",detail:"     ."},:{title:"",short:"    ."},:{title:"",short:"    .",detail:"  +    ."},:{title:"",short:"()    .",hint:"     "},:{title:"",short:"     ."},:{title:"",short:"    ."},:{title:"",short:"  +    ."},:{title:"",short:"   ."},:{title:"",short:"   ."},:{title:"",short:"    ."},:{title:"",short:"   ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"      ."},:{title:"",short:"    ."},:{title:"",short:"       ."},:{title:"",short:"    ."},:{title:"",short:"     ."},:{title:"",short:"     ."},:{title:"",short:"    ."}};function $le(e){const t=/^(|)(||||)$/.exec(e);if(!t)return null;const n=t[1],r=t[2];return n===""?{kind:"",group:r}:{kind:"",group:r}}function Ble(e,t){return e===""?{title:`${t}`,short:`${TP[t]}() //   .`,hint:"( ) +  +   "}:{title:`${t}`,short:`${TP[t]}()     .`,hint:" X /  O"}}function zle(e){const t=$le(e);return t?Ble(t.kind,t.group):Ile[e]}function Ule(e){const t=zle(e);if(t)return t.detail?`${t.short}

${t.detail}`:t.short}const Fle={:{title:"",text:"()  /  .   ."},:{title:"",text:" (//)     .  ."},:{title:"",text:"       .     ."},:{title:"",text:" (/)    ( ).    ."},:{title:"",text:" (/)   ,           ."}};function Hle(e){return Fle[e]?.text}const Gle=e=>{switch(e){case"":return"( )";case"":return"";case"":return"()"}},qle={BUNIL_PICK:{title:"",text:"    //     ."},BUNIL_FALLBACK_USE_WOLRYEONG:{title:" ",text:"    ()    ."},DANRYEONG_CONFIRMED_BY_EMIT:{title:" ",text:"      ."},WANGJI_FIXED_JUNGI:{title:"",text:"       ."},SAENGJI_EMITTED_ONE:{title:" ",text:"        ."},SAENGJI_EMITTED_MULTI:{title:"  ",text:"          ."},SAENGJI_NOT_EMITTED_USE_JUNGI:{title:" ",text:"        ."},GOJI_SAMHAP_USE_JUNGI:{title:" + ",text:"      ."},GOJI_EARLY_JEOLIP_USE_CHOGI:{title:" +  ",text:"   12    ."},GOJI_LATE_JEOLIP_USE_JUNGI:{title:" +  ",text:"   12    ."},NEUTRALIZED:{title:"",text:"       ."},EX_GEONLOK:{title:" ",text:"       ."},EX_YANGIN:{title:" ",text:"       ."},EX_WOLGEOP:{title:" ",text:"        ."},EX_EXCLUDED_BIGEOP:{title:" ",text:"   ."}},Yle={:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},"()":{title:"()",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"      ."},:{title:"",text:"/       ."},:{title:"",text:"/        ."},:{title:"",text:"/       ."}},Kle=e=>e.replace(/^\s*:\s*/,"").trim();function Wle(e){const t=Kle(e);return Yle[t]}function Vle(e){const t=qle[e.kind];if(t)return"from"in e?{...t,text:`${t.text} ( : ${Gle(e.from)})`}:t}const Fc=_.memo(({text:e,color:t,onClick:n})=>{const r={violet:"bg-violet-50 text-violet-700 border-violet-200 dark:bg-violet-900/20 dark:text-violet-300 dark:border-violet-800",amber:"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800",blue:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800",green:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800",red:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"};return g.jsx("button",{type:"button",onClick:n,className:`px-2.5 py-1 text-[11px] font-bold rounded-lg border shadow-sm whitespace-nowrap active:scale-95 transition-transform cursor-pointer ${r[t]}`,children:e})}),kd=({text:e})=>g.jsxs("div",{className:"absolute z-50 left-0 top-full mt-2 w-[220px] p-3 bg-white dark:bg-neutral-800 rounded-xl shadow-xl border border-neutral-200 dark:border-neutral-700 text-[11px] leading-relaxed text-left text-neutral-700 dark:text-neutral-200 pointer-events-none transition-none",children:[g.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-white dark:bg-neutral-800 border-t border-l border-neutral-200 dark:border-neutral-700 rotate-45"}),e]}),Kg=_.memo(({title:e,children:t})=>g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"text-[10px] font-black text-neutral-400 dark:text-neutral-500 uppercase pl-1",children:e}),g.jsx("div",{className:"flex flex-wrap gap-1.5",children:t})]}));function Zle({pillars:e,tab:t,birthDate:n,emittedStems:r,otherBranches:i,isNeutralized:a,mapping:o,unified:l}){const[u,d]=_.useState(null);_.useEffect(()=>{d(null)},[t,e]);const h=_.useMemo(()=>{const[w,S,j,O]=e,A=U=>U&&U.length>=1?U.charAt(0):"",C=U=>U&&U.length>=2?U.charAt(1):"",D=n instanceof Date&&!Number.isNaN(n.getTime())?n:new Date,P=[A(w),A(S),A(j),A(O)].filter(U=>!!U),$=[C(w),C(j),C(O)].filter(U=>!!U);return d7({dayStem:A(j),monthBranch:C(S),date:D,pillars:e,emittedStems:r??P,otherBranches:i??$,isNeutralized:a,mapping:o})},[e,n,r,i,a,o]),p=_.useMemo(()=>jle(e),[e]),b=_.useMemo(()=>ble(e,o,l),[e,o,l]),y=w=>{d(S=>S===w?null:w)},k=[{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.},{key:"",value:h.}];return g.jsxs("div",{className:"p-6 rounded-[2rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-sm space-y-6 overflow-visible",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"font-black text-lg text-neutral-800 dark:text-neutral-100 italic",children:"   "}),g.jsx("span",{className:"text-[10px] bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-0.5 rounded-full font-bold",children:"     "})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx(Kg,{title:"////",children:k.map(({key:w,value:S})=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:`${w}: ${S||"-"}`,color:"violet",onClick:()=>y(`env-${w}`)}),u===`env-${w}`&&g.jsx(kd,{text:Hle(w)??" ."})]},w))}),g.jsxs(Kg,{title:"",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:`: ${h.||"-"}`,color:"amber",onClick:()=>y("naegyeok")}),u==="naegyeok"&&g.jsx(kd,{text:Wle(h.||"")?.text??"  ."})]}),h.reasonTokens?.map((w,S)=>{const j=Vle(w),O=`reason-${S}`;return g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:j?.title??(h.reason[S]||w.kind),color:"amber",onClick:()=>y(O)}),u===O&&g.jsx(kd,{text:j?.text??"  ."})]},O)})]}),g.jsx(Kg,{title:"",children:h.&&h..length>0?h..map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:`: ${w}`,color:"blue",onClick:()=>y(`outer-${S}`)}),u===`outer-${S}`&&g.jsx(kd,{text:Ple(w)??" "})]},`outer-${S}`)):g.jsx(Fc,{text:": -",color:"blue"})}),(p.length>0||b.length>0)&&g.jsxs(Kg,{title:"  ",children:[p.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:w,color:"green",onClick:()=>y(`mul-${S}`)}),u===`mul-${S}`&&g.jsx(kd,{text:Lle(w)??" "})]},`mul-${S}`)),b.map((w,S)=>g.jsxs("div",{className:"relative",children:[g.jsx(Fc,{text:w,color:"red",onClick:()=>y(`str-${S}`)}),u===`str-${S}`&&g.jsx(kd,{text:Ule(w)??" "})]},`str-${S}`))]})]}),!h.reasonTokens?.length&&h.reason.length>0&&g.jsx("div",{className:"pt-4 border-t border-neutral-100 dark:border-neutral-800",children:g.jsxs("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-medium",children:[g.jsx("span",{className:"font-bold mr-1 text-neutral-400",children:"  :"}),h.reason.join(" / ")]})})]})}const Xle=Object.fromEntries(ro..map((e,t)=>[e,Xr[t]])),Jle=Object.fromEntries(Xr.map((e,t)=>[e,ro.[t]])),Qle=Object.fromEntries(ro..map((e,t)=>[e,vi[t]])),ece=Object.fromEntries(vi.map((e,t)=>[e,ro.[t]])),tce=e=>Xle[e]??e,nce=e=>Qle[e]??e,rce=e=>Jle[e]??e,ice=e=>ece[e]??e;function ace(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?tce(n):rce(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function WT(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?nce(n):ice(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const oce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},sce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},f7={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},lce={...f7,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},jP=ace(oce),AP=WT(sce);WT(f7);WT(lce);const cce=["","","","",""];function uce(){const[e,t]=_.useState("   "),[n,r]=_.useState(""),[i,a]=_.useState(!0);return{bigTab:e,setBigTab:t,blendTab:n,setBlendTab:r,demoteAbsent:i,setDemoteAbsent:a}}const dce={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},fce={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function h7(e){const t=fce[e]??"";return dce[t]}const hce=Object.fromEntries(ro..map((e,t)=>[e,Xr[t]])),mce=Object.fromEntries(Xr.map((e,t)=>[e,ro.[t]])),pce=Object.fromEntries(ro..map((e,t)=>[e,vi[t]])),gce=Object.fromEntries(vi.map((e,t)=>[e,ro.[t]])),bce=e=>hce[e]??e,yce=e=>pce[e]??e,vce=e=>mce[e]??e,xce=e=>gce[e]??e;function m7(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${bce(r)}${yce(i)}`:`${vce(r)}${xce(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const p7={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},wce={...p7,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},_ce=m7(p7),Sce=m7(wce),kce={:"",:"",:"",:"",:""},Ece={:"",:"",:"",:"",:""},Tce={:"",:"",:"",:"",:""},jce={:"",:"",:"",:"",:""},Ace=e=>Gn[e]??e,Nce=e=>Qn[e]??e;function g7(e){return!e||e.length<2?"":`${Ace(e[0])}${Nce(e[1])}`}const b7=e=>e&&e.length>=1?e[0]:"",y7=e=>e&&e.length>=2?e[1]:"";function v7(e){return{:e,:kce[e],:Ece[e],:Tce[e],:jce[e]}}const x7={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Oce(e,t){const n=(e??[]).slice(0,4).map(g7);if(n.length!==4||n.some(b=>b.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=b7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(b=>y7(b)),o={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},l=x7[r]??[],u=a[1];l.includes(u)&&(o..=!0,o..=!0);const d=a[2];l.includes(d)&&(o..=!0,o..=!0);const h=v7(i).,p=t[h]??0;return o..=p>=30,{flags:o,monthBranch:u,dayEl:i}}function w7(e,t){const n=(e??[]).slice(0,4).map(g7);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const k={:!1,:!1,:!1};return{flags:{:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k},:{...k}},monthBranch:"",dayEl:""}}const r=b7(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(k=>y7(k)),o={:!1,:!1,:!1},l={:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o},:{...o}},u=x7[r]??[],d=a[1];u.includes(d)&&(l..=!0,l..=!0,l..=!0,l..=!0);const h=a[2];u.includes(h)&&(l..=!0,l..=!0,l..=!0,l..=!0);const p=v7(i).;return(t[p]??0)>=30&&(l..=!0,l..=!0,l..=!0,l..=!0),{flags:l,monthBranch:d,dayEl:i}}const Cce=Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e])),Mce=Object.fromEntries(Object.entries(Qn).map(([e,t])=>[t,e])),Dce=e=>Gn[e]??e,Pce=e=>Qn[e]??e;function Rce(e){return!e||e.length<2?"":`${Dce(e[0])}${Pce(e[1])}`}function Hc(e){return jP[e]??jP[Cce[e]??""]}function Gc(e){return AP[e]??AP[Mce[e]??""]}const S1=["year","month","day","hour"],Lce={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},Ice={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},$ce=new Set(["","","","",""]),Bce=new Set(["","","","","",""]),zce=new Set(["","","",""]),k1=e=>$ce.has(e)?"":"",E1=e=>{const t=Bce.has(e)?"":"";return zce.has(e)?t===""?"":"":t};function NP(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.floor(l+.5)),i=100-r.reduce((l,u)=>l+u,0);if(i===0)return r;const a=n.map((l,u)=>({i:u,frac:l-Math.floor(l+.5)})).sort((l,u)=>u.frac-l.frac),o=r.slice();if(i>0)for(let l=0;l<i;l++)o[a[l].i]+=1;else for(let l=0;l<-i;l++)o[a[a.length-1-l].i]-=1;return o}function Uce(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const Wg={:.15,:.1,:-.15,:-.2,:-.25},Os={:"",:"",:"",:"",:""},bu={:"",:"",:"",:"",:""},Ro={:"",:"",:"",:"",:""},Zv={:"",:"",:"",:"",:""};function Vg(e,t){return e===t?"":Os[t]===e?"":Os[e]===t?"":Ro[e]===t?"":Ro[t]===e?"":""}const qc=e=>e&&e.length>=1?e[0]:"",Yc=e=>e&&e.length>=2?e[1]:"";function Fce(e,t){const n=e.reduce((u,d)=>u+d,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(u=>u/n*t),i=r.map(u=>Math.floor(u));let a=t-i.reduce((u,d)=>u+d,0);const o=r.map((u,d)=>({i:d,frac:u-Math.floor(u)})).sort((u,d)=>d.frac-u.frac),l=i.slice();for(let u=0;u<o.length&&a>0;u++)l[o[u].i]+=1,a-=1;return l}function OP(e,t){switch(e){case"":return t;case"":return Os[t];case"":return Ro[t];case"":return Zv[t];case"":return bu[t];default:return t}}const CP={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Hce=["","","","",""],Gce={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},MP={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},qce={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}};function Yce(e){return e.length===4&&!!e[0]&&e[0].length>=2&&!!e[1]&&e[1].length>=2&&!!e[2]&&e[2].length>=2}function Kce(e){const t=Hce.map(n=>({name:n,value:0,color:"#999999"}));return{overlay:{totalsSub:{...MP},perStemAugBare:{},perStemAugFull:{}},totals:t,perTenGod:{...Gce},PerTenGodSub:{...MP},elementScoreRaw:e,deukFlags:{...qce},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}function Wce(e,t){const n=e[2]?.[0]??"",r=t??n;return{dayStem:r,dayEl:r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":""}}function y2(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:o,luck:l}=e,u=o==="modern"?Lce:Ice,d=r==="classic"?Sce:_ce,h={:0,:0,:0,:0,:0},p={},b=(t??[]).slice(0,4).map(Rce);if(!Yce(b))return Kce(h);const{dayStem:y,dayEl:k}=Wce(b,n),w=[{val:0},{val:0},{val:0},{val:0}],S=[[],[],[],[]];for(const B of b){if(!B)continue;const V=B.charAt(0),ne=B.charAt(1);p[V]=(p[V]??0)+50;const oe=CP[ne];oe&&(p[oe]=(p[oe]??0)+50)}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=S1[B],oe=qc(V),fe=Yc(V),ye=u[ne],pe=Hc(oe);pe&&(h[pe]+=ye.stem,w[B]={stem:oe,el:pe,pol:k1(oe),val:ye.stem});const Ae=Gc(fe);Ae&&(h[Ae]+=ye.branch,S[B].push({el:Ae,pol:E1(fe),val:ye.branch}))}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=S1[B],oe=d[V]??0;if(oe===0)continue;const fe=qc(V),ye=Hc(fe);if(!ye)continue;const pe=u[ne].stem*oe;h[ye]+=pe,w[B].val+=pe}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=Yc(V),oe=Gc(ne);if(!oe)continue;const fe=u[S1[B]].branch,ye=E1(ne);let pe=0;const Ae=[B];B-1>=0&&Ae.push(B-1),B+1<=3&&Ae.push(B+1),B-2>=0&&Ae.push(B-2),B+2<=3&&Ae.push(B+2);const re=Array.from(new Set(Ae));for(const Ee of re){if(!b[Ee]||b[Ee].length<2)continue;const _e=qc(b[Ee]),se=Hc(_e);if(!se||se!==oe)continue;const Ue=k1(_e)===ye,Fe=Math.abs(Ee-B),Ce=Uce(Fe,Ue);pe+=fe*Ce}pe!==0&&(h[oe]+=pe,S[B].push({el:oe,pol:ye,val:pe}))}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=qc(V),oe=Hc(ne);if(!oe)continue;let fe=0;const ye=Yc(b[B]),pe=Gc(ye);pe&&(fe+=Wg[Vg(oe,pe)]);const Ae=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Ee of Ae){const _e=qc(b[Ee]),se=Hc(_e);se&&(fe+=Wg[Vg(oe,se)])}const re=w[B].val;if(re!==0&&fe!==0){const Ee=Math.round(re*(1+fe)*10)/10,_e=Ee-re;h[oe]+=_e,w[B].val=Ee}}for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=Yc(V),oe=Gc(ne);if(!oe)continue;let fe=0;const ye=qc(b[B]),pe=Hc(ye);pe&&(fe+=Wg[Vg(oe,pe)]);const Ae=B===0?[1]:B===3?[2]:[B-1,B+1];for(const Ee of Ae){if(!b[Ee]||b[Ee].length<2)continue;const _e=Yc(b[Ee]),se=Gc(_e);se&&(fe+=Wg[Vg(oe,se)])}const re=S[B].reduce((Ee,_e)=>Ee+_e.val,0);if(re!==0&&fe!==0){const _e=Math.round(re*(1+fe)*10)/10-re;h[oe]+=_e,S[B].length>0&&(S[B][0].val+=_e)}}a&&nae(b,h);const j={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},O=[];if(!(!l||l.tab==="")){let B=function(V,ne){const oe=V?Ie(V):"";if(!oe||oe.length<2)return;const fe=qc(oe),ye=Yc(oe),pe=Hc(fe),Ae=Gc(ye),re=Math.max(1,(h.??0)+(h.??0)+(h.??0)+(h.??0)+(h.??0)),Ee=j[ne];if(pe){const _e=Math.round(re*Ee.stem);h[pe]+=_e,O.push({stem:fe,el:pe,pol:k1(fe),val:_e})}if(Ae){const _e=Math.round(re*Ee.branch);h[Ae]+=_e,O.push({el:Ae,pol:E1(ye),val:_e})}};B(l.dae,"dae"),(l.tab===""||l.tab===""||l.tab==="")&&B(l.se,"se"),(l.tab===""||l.tab==="")&&B(l.wol,"wol"),l.tab===""&&B(l.il,"il")}const A={:0,:0,:0,:0,:0};Object.entries(h).forEach(([B,V])=>{const ne=W(B,k);A[ne]+=V});const C=["","","","",""],D=NP(C.map(B=>A[B])),P=h7(y),$=C.map((B,V)=>({name:B,value:D[V],color:P[B]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function W(B,V){return B===V?"":Os[V]===B?"":Ro[V]===B?"":Ro[B]===V?"":bu[V]===B?"":""}function Y(B,V){switch(W(B,k)){case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break;case"":U.+=V*.5,U.+=V*.5;break}}Object.entries(h).forEach(([B,V])=>{V>0&&Y(B,V)});const F={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const B of C){const V=$.find(Ae=>Ae.name===B)?.value??0,ne=F[B].a,oe=F[B].b,fe=U[ne]??0,ye=U[oe]??0,pe=fe+ye;if(pe>0){const Ae=Math.floor(V*fe/pe+.5),re=V-Ae;F[B].aVal=Ae,F[B].bVal=re}else F[B].aVal=Math.floor(V/2+.5),F[B].bVal=V-F[B].aVal}const{flags:z}=Oce(b,h),K={};w.forEach(B=>{if(B.stem&&B.el&&B.val){const V=`${B.stem}${B.el}`;K[V]=(K[V]??0)+B.val}});for(let B=0;B<4;B++){const V=b[B];if(!V||V.length<2)continue;const ne=Yc(V),oe=CP[ne],fe=Gc(ne);if(!oe||!fe)continue;const ye=`${oe}${fe}`,pe=S[B].reduce((Ae,re)=>Ae+re.val,0);K[ye]=(K[ye]??0)+pe}const Z=["","","","","","","","","",""],X={};Z.forEach(B=>{X[B]=0}),C.forEach(B=>{const V=$.find(re=>re.name===B)?.value??0,ne=OP(B,k),oe=Object.entries(K).filter(([re])=>re.endsWith(ne)),fe=oe.map(([re])=>re),ye=oe.map(([,re])=>re),pe=Math.max(0,Math.round(V*10)),Ae=Fce(ye.length?ye:[1,1],pe);if(fe.length===2)X[fe[0]]=(Ae[0]??Math.round(pe/2))/10,X[fe[1]]=(Ae[1]??pe-(Ae[0]??0))/10;else if(fe.length===1)X[fe[0]]=pe/10;else{const re=ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:ne===""?["",""]:["",""],Ee=Math.floor(pe/2),_e=pe-Ee;X[re[0]]+=Ee/10,X[re[1]]+=_e/10}});const q=["","","","",""],J={:0,:0,:0,:0,:0};for(const B of $){const V=OP(B.name,k);J[V]+=B.value}const ee=NP(q.map(B=>J[B])),le={:ee[0],:ee[1],:ee[2],:ee[3],:ee[4]};return i&&console.log({elementScore:h,totals:$,perTenGod:F,perStemRaw:K,perStemElementScaled:X,elementPercent100:le}),{overlay:{totalsSub:U,perStemAugBare:K,perStemAugFull:X},totals:$,perTenGod:F,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:h,deukFlags:z,perStemElement:K,perStemElementScaled:X,elementPercent100:le}}const Zg={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Vce=["","","","",""];function DP(e){return Vce.includes(e)}const Zce={:"",:"",:"",:"",:""},Xce={:"",:"",:"",:"",:""},Jce={:"",:"",:"",:"",:""},Qce={:"",:"",:"",:"",:""},v2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},eue=["","","","","","","","","",""],tue={natal:50,dae:30,se:20,wol:7,il:3};function Ey(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Gn[t])return Gn[t];if(["","","","","","","","","","","",""].includes(t))return Zg[t]??null;if(Qn[t])return Zg[Qn[t]]??null;const n=t.charAt(0);return Gn[n]?Gn[n]:["","","","","","","","","",""].includes(n)?n:Qn[n]?Zg[Qn[n]]??null:["","","","","","","","","","","",""].includes(n)?Zg[n]??null:null}function nue(e,t){const n=v2[e],r=v2[t];if(!n||!r)return"";let i;r===n?i="":r===Zce[n]?i="":r===Xce[n]?i="":r===Jce[n]?i="":r===Qce[n]?i="":i="";const a=DP(e)===DP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Ty(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.round(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.round(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function PP(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Ey(r);if(!a)continue;const o=nue(t,a);n[o]+=i}return Ty(n)}function rue(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function RP(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Ey(n);i&&(t[i]=(t[i]??0)+r)}return t}function LP(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of eue){const i=v2[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function IP(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function iue(e,t){const n=t?.dae?Xg(t.dae):{},r=t?.se?Xg(t.se):{},i=t?.wol?Xg(t.wol):{},a=t?.il?Xg(t.il):{},o={},l=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:d,bare:h}of l){const p=tue[d];if(!h||Object.keys(h).length===0)continue;const b=Ty(h);for(const[y,k]of Object.entries(b))o[y]=(o[y]??0)+k*p}const u=Object.values(o).reduce((d,h)=>d+h,0);if(u>0)for(const d of Object.keys(o))o[d]=o[d]/u*100;return o}function aue(e){if(!e)return[];const t=Ey(e.charAt(0)),n=Ey(e.charAt(1));return[t,n].filter(Boolean)}function Xg(e){const t=aue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Xv(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[Ie(t[0]??""),Ie(t[1]??""),Ie(t[2]??""),Ie(t[3]??"")],o=a[2]?.charAt(0)??"",{hiddenStemMode:l,hiddenStem:u}=Rl,d=l==="classic"?"classic":"hgc",h=r?{tab:n,dae:r.dae?Ie(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?Ie(r.se):void 0,wol:(n===""||n==="")&&r.wol?Ie(r.wol):void 0,il:n===""&&r.il?Ie(r.il):void 0}:{tab:n},p=y2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:h}),b=y2({pillars:a,dayStem:o,mode:d,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),y=RP(p.perStemElementScaled),k=n===""?y:iue(y,r),w=Ty(k),S=PP(k,o),j=rue(S),O=LP(w),A=RP(b.perStemElementScaled),C=PP(A,o),D=Ty(A),P=LP(D);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:o,mergedStems:w,perTenGodSub:S,perTenGod:j,overlay:{totalsSub:S,perStemAugBare:k,perStemAugFull:O},natalFixed:{elementScoreRaw:IP(b.elementScoreRaw),elementPercent100:IP(b.elementPercent100),totalsSub:C,overlay:{totalsSub:C,perStemAugBare:A,perStemAugFull:P}}}}const Ao=["","","","",""],Yl={:0,:0,:0,:0,:0},oue=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],sue={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}},T1=24,lue=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]],jy=20;Object.fromEntries(Object.entries(Gn).map(([e,t])=>[t,e]));Object.fromEntries(Object.entries(Qn).map(([e,t])=>[t,e]));const _7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},cue={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function S7(e){return Math.max(0,Math.min(100,e))}function nf(e,t,n){return Math.max(t,Math.min(n,e))}function uue(e){const t=S7(e);return oue.find(n=>t>=n.min&&t<n.max)?.name??""}function due(e){const t=e?.[2]?.charAt(0)??"";return _7[t]??null}function fue(e){return(e?.[1]?.charAt(1)??"")||null}function k7(e){return Zv[e]}function hue(e){return e?{peer:e,resource:bu[e],leak:Os[e],wealth:Ro[e],officer:k7(e)}:null}function mue(e){const t={...Yl};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=_7[r],o=cue[i];a&&(t[a]+=10),o&&(t[o]+=6)}return t}function pue(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={...Yl};return Ao.forEach(r=>{n[r]=e[r]/t*100}),n}function gue(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return S7((n("")+n(""))/t*100)}function bue(e,t){return!e||!t?null:t===e?"":Os[e]===t?"":Ro[e]===t?"":k7(e)===t?"":bu[e]===t?"":null}function yue(e){for(const[t,n]of lue)if(e>=t)return n;return 1}const $P=(e,t)=>nf((jy-(t[e]??0))/jy,0,1),BP=(e,t)=>nf(((t[e]??0)-jy)/jy,0,1);function vue(e,t,n,r){const i=bue(e,n);if(!e||!i)return 0;const a=nf((50-t)/50,0,1),o=nf((t-50)/50,0,1),l=$P(n,r),u=BP(n,r),d=$P(e,r),h=BP(e,r),p=6.5;let b=0;if(a>0)switch(i){case"":b=+(.3+.4*d+.15*l)*a;break;case"":b=+(.18+.45*d)*a;break;case"":b=-(.08+.2*(1-l)+.1*h)*a;break;case"":b=-(.22+.25*(1-l)+.1*(1-d))*a;break;case"":b=-(.35+.25*(1-l)+.1*(1-d))*a;break}else if(o>0)switch(i){case"":b=-(.25+.25*(1-l)+.2*h)*o;break;case"":b=-(.28+.2*h)*o;break;case"":b=+(.18+.2*l+.15*h)*o;break;case"":b=+(.22+.25*l+.1*h)*o;break;case"":b=+(.2+.2*l)*o;break}else switch(i){case"":b=.08*(d+l);break;case"":b=.05*d-.03*h;break;case"":b=.02*l-.02*u;break;case"":b=.01*l-.06*u;break;case"":b=-.05*(1-l);break}return Math.round(p*b*10)/10}function xue(e,t,n){const r=["","",""].includes(t),i=["","","",""].includes(t),a={...Yl};if(r){const o=Os[e],l=Ro[e],u=Zv[e];a[o]+=28,a[l]+=22,a[u]+=20,n.get(o)?.push(":    ()"),n.get(l)?.push(":     "),n.get(u)?.push(":     ")}if(i){const o=bu[e],l=e;a[o]+=28,a[l]+=22,n.get(o)?.push(":     "),n.get(l)?.push(":     ")}return a}function zP(e,t){if(!e)return{...Yl};const n=sue[e]??{temp:"mild",wet:"normal"},r={...Yl};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function UP(e,t){const n={...Yl};for(const r of Ao){const i=Ro[r],a=Math.max(0,(e[r]??0)-(e[i]??0));if(a<=0)continue;const o=Os[r],l=Math.round(a*.35);l>0&&(n[o]+=l,t.get(o)?.push(`: ${r}${i} `))}return n}function FP(e,t){const n={...Yl},r=Object.entries(e),i=Math.min(...r.map(([,o])=>o)),a=r.filter(([,o])=>o<=Math.max(6,i));for(const[o]of a)n[o]+=12,t.get(o)?.push(":  ");return n}const Jg=()=>new Map(Ao.map(e=>[e,[]]));function rf(e,t){const n=due(e),r=fue(e),i=mue(e),a=pue(i);let o=gue(t);if(o==null)if(!n)o=50;else{const F=n,z=bu[n],K=Object.values(i).reduce((Z,X)=>Z+X,0)||1;o=Math.min(100,Math.max(0,((i[F]??0)+(i[z]??0))/K*100))}const l=uue(o),u={...Yl},d=Jg();if(n){const F=xue(n,l,d);Ao.forEach(z=>{u[z]+=F[z]??0})}const h=zP(r,d);Ao.forEach(F=>{u[F]+=h[F]??0});const p=UP(i,d);Ao.forEach(F=>{u[F]+=p[F]??0});const b=FP(i,d);Ao.forEach(F=>{u[F]+=b[F]??0});const y=hue(n),k={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const F of t)k[F.name]=F.value;if(o>=45&&o<=55&&y){const F=k.>=30||k.>=Math.max(k.,k.,k.,k.)+5;o<=50?(u[y.resource]+=14,d.get(y.resource)?.push(": -"),u[y.peer]+=10,d.get(y.peer)?.push(": -"),u[y.leak]+=6,d.get(y.leak)?.push(": -"),u[y.wealth]+=3,d.get(y.wealth)?.push(": -"),F&&(u[y.officer]=Math.round(u[y.officer]*.8*10)/10,d.get(y.officer)?.push(":   "))):(u[y.leak]+=14,d.get(y.leak)?.push(": -"),u[y.wealth]+=10,d.get(y.wealth)?.push(": -"),u[y.officer]+=6,d.get(y.officer)?.push(": -"),u[y.resource]+=3,d.get(y.resource)?.push(": -"))}Ao.forEach(F=>{const z=vue(n,o,F,a);u[F]=nf(Math.round((u[F]+z)*10)/10,0,999)});const S=o<50;Ao.forEach(F=>{const z=a[F]??0,K=S&&n===F;if(z>=T1&&!K){const Z=yue(z);u[F]=Math.round(u[F]*Z*10)/10;const X=Math.min(14,Math.max(0,Math.ceil((z-T1)*.5)));X>0&&(u[F]=nf(u[F]-X,0,999)),d.get(F)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const F=Os[n],z=Ro[n],K=Zv[n],Z=n,X=bu[n];j[F].push(""),j[z].push(""),j[K].push(""),j[Z].push(""),j[X].push("")}const O={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},A=F=>{const z=a[F]??0;return z>=T1&&!(S&&n===F)?z>=55?4:z>=45?3:2:O[F]?0:1},C=zP(r,Jg()),D=UP(i,Jg()),P=FP(i,Jg()),$=Ao.map(F=>({element:F,score:Math.round(u[F]*10)/10,via:wue(F,C,D,P),reasons:(d.get(F)??[]).slice(),tenGodHints:j[F]})).sort((F,z)=>{const K=A(F.element),Z=A(z.element);return K!==Z?K-Z:z.score!==F.score?z.score-F.score:F.element.localeCompare(z.element)}),U=_ue(l,C,D,P),W={:0,:0,:0,:0,:0},Y=t?t.reduce((F,z)=>(F[z.name]=z.value,F),{...W}):void 0;return{chosenType:U,ordered:$,debug:{band:l,overallPct:o,elementScore:i,tenGodTotals:Y,monthBranch:r??void 0}}}function wue(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function _ue(e,t,n,r){if(["","","",""].includes(e))return"";const a=d=>Object.values(d).reduce((h,p)=>h+p,0),o=a(t),l=a(n),u=a(r);return o>Math.max(l,u)?"":l>=u?"":""}function Sue(e){const t=e.reduce((l,u)=>l+u,0);if(t<=0)return e.map(()=>0);const n=e.map(l=>l*100/t),r=n.map(l=>Math.round(l));let a=100-r.reduce((l,u)=>l+u,0);const o=n.map((l,u)=>({i:u,f:l-Math.round(l)})).sort((l,u)=>u.f-l.f);for(let l=0;l<o.length&&a>0;l++)r[o[l].i]+=1,a-=1;return r}const HP=["","","","",""];function kue(e,t){const n=[Ie(e[0]??""),Ie(e[1]??""),Ie(e[2]??""),Ie(e[3]??"")],{elementScoreRaw:r}=y2({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=HP.map(l=>r[l]??0),a=Sue(i),o={:0,:0,:0,:0,:0};return HP.forEach((l,u)=>{o[l]=a[u]}),o}function E7(e,t){const n=kue(e,t),r=Ie(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const o={:"",:"",:"",:"",:""},l=n[a]??0,u=n[o[a]]??0;return l+u*.7}const af={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},T7={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qg={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Eue=["","","","",""];function GP(e){return Eue.includes(e)}const Tue={:"",:"",:"",:"",:""},jue={:"",:"",:"",:"",:""},Aue={:"",:"",:"",:"",:""},Nue={:"",:"",:"",:"",:""};function Ym(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Gn[t])return Gn[t];if(["","","","","","","","","","","",""].includes(t))return Qg[t]??null;if(Qn[t])return Qg[Qn[t]]??null;const n=t.charAt(0);return Gn[n]?Gn[n]:["","","","","","","","","",""].includes(n)?n:Qn[n]?Qg[Qn[n]]??null:["","","","","","","","","","","",""].includes(n)?Qg[n]??null:null}function Oue(e,t){const n=af[e],r=af[t];if(!n||!r)return"";let i;r===n?i="":r===Tue[n]?i="":r===jue[n]?i="":r===Aue[n]?i="":r===Nue[n]?i="":i="";const a=GP(e)===GP(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Cue(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function Jv(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}function Mue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=af[Ym(n)];i&&r>0&&(t[i]+=r)}return Jv(t)}function Due(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Ym(r);if(!a)continue;const o=Oue(t,a);n[o]+=i}return n}function Pue(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Cue(n);t[i]+=r}return Jv(t)}function qP(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Ie(n??"");return i||(r<=2?"--":"")})}function j7(e,t){const n=!!t?.includeBranches,r={:!1,:!1,:!1,:!1,:!1};for(const i of e){if(!i)continue;const a=af[i.charAt(0)];if(a&&(r[a]=!0),n){const o=T7[i.charAt(1)];o&&(r[o]=!0)}}return r}function A7(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=af[n.charAt(0)],i=T7[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function j1(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const Rue=["","","","","","","","","",""];function Lue(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Ym(n);i&&(t[i]=(t[i]??0)+r)}return t}function Iue(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of Rue){const i=af[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const $ue={natal:50,dae:30,se:20,wol:7,il:3};function Bue(e){const t={};for(const{kind:r,bare:i}of e){const a=$ue[r]??0;if(a<=0)continue;const o=Jv(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function zue(e){if(!e)return[];const t=Ym(e.charAt(0)),n=Ym(e.charAt(1));return[t,n].filter(Boolean)}function eb(e){const t=zue(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}const x2=["","","","",""];function Uue(e){const t=(e??"").trim(),n=t?t[t.length-1]:"";return["","",""].includes(n)?"WINTER":["","",""].includes(n)?"SUMMER":["","",""].includes(n)?"SPRING":["","",""].includes(n)?"AUTUMN":"UNKNOWN"}function Fue(e,t){const n=x2.filter(u=>t[u]),r=n.map(u=>e[u]??0),i=r.length?Math.max(...r):0,a=r.length?Math.min(...r):0,o=Math.round(i-a),l=n.length>=3&&o<=12;return{presentEls:n,spread:o,balancedPresent:l}}function VT(e){return/||wood/i.test(e)?"":/||fire/i.test(e)?"":/||earth/i.test(e)?"":/||metal/i.test(e)?"":/||water/i.test(e)?"":null}function Hue(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function YP(e){switch(e){case"":return"";case"":return"";case"":return"";case"":return"";case"":return""}}function Gue(e){const n=[["",""],["",""],["",""],["",""],["",""]],r=[];for(const[i,a]of n){const o=e[i]??0,l=e[a]??0;if(o<20||l<20)continue;let u=null,d=null;if(YP(i)===a)u=i,d=a;else if(YP(a)===i)u=a,d=i;else continue;const h=Hue(u),p=`${u}()${d}    ${h}( )`;r.push({a:i,b:a,controller:u,controlled:d,mediator:h,reason:p})}return r}function ZT(e,t){const n=Math.max(.1,1-t/120);return Math.max(0,Math.round(e*n))}function em(e,t,n){return n?e.map(r=>!r.elNorm||t[r.elNorm]?r:{...r,score:0,reasons:[...r.reasons,":     "]}):e}function tm(e,t,n){const r=i=>i?t[i]:!1;return[...e].sort((i,a)=>{if(n){const o=r(i.elNorm)?1:0,l=r(a.elNorm)?1:0;if(o!==l)return l-o}return a.score!==i.score?a.score-i.score:(i.elNorm??i.element).localeCompare(a.elNorm??a.element,"ko")})}function que(e,t){const n=(e??"").trim(),r=n?n[n.length-1]:"",i=new Set(["","",""]),a=new Set(["","",""]),o=new Set(["","",""]),l=new Set(["","",""]);let u=[];return i.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:60,why:" :      "}]:a.has(r)?u=[{el:"",base:110,why:"():     "},{el:"",base:70,why:" :   () "}]:o.has(r)?u=[{el:"",base:90,why:"():     /"},{el:"",base:55,why:" : ()    "}]:l.has(r)?u=[{el:"",base:85,why:"():     "},{el:"",base:75,why:"():     "}]:u=[{el:"",base:60,why:":       ()"},{el:"",base:60,why:":       ()"}],u.map(d=>({element:d.el,elNorm:d.el,score:ZT(d.base,t[d.el]??0),reasons:[d.why,` ${d.el}  ${Math.round(t[d.el]??0)}%`]}))}function Yue(e){const t=Gue(e);if(!t.length)return{applicable:!1,items:[],note:"       "};const n=new Map;for(const i of t){const a=e[i.a]??0,o=e[i.b]??0,l=Math.min(a,o),u=95+Math.round(l/2),d=n.get(i.mediator),h=[i.reason,`(${i.a} ${Math.round(a)}%  ${i.b} ${Math.round(o)}%)`,` : ${i.controller}${i.mediator}${i.controlled}`];d?n.set(i.mediator,{score:Math.max(d.score,u),reasons:[...d.reasons,...h]}):n.set(i.mediator,{score:u,reasons:h})}return{applicable:!0,items:Array.from(n.entries()).map(([i,a])=>({element:i,elNorm:i,score:ZT(a.score,e[i]??0),reasons:a.reasons})),note:"////       ( )  "}}function Kue(e,t){let n="",r=e.??0;for(const d of x2){const h=e[d]??0;h<r&&(r=h,n=d)}const i=x2.some(d=>!t[d]);if(!(i||r<=8))return{applicable:!1,items:[],note:"    ( )  "};const l=ZT((i?85:70)+Math.round((8-Math.min(8,r))*6),e[n]??0);return{applicable:!0,items:[{element:n,elNorm:n,score:l,reasons:[i?"():  /  ":"():      ",`  ${n} = ${Math.round(r)}%`]}],note:" ()  ( 8% )      "}}function XT(e){const{eokbuList:t,monthGz:n,elemPct:r,presentMap:i,demoteAbsent:a,gyeokgukList:o}=e,l=tm(em(t,i,a),i,a),u=tm(em(que(n,r),i,a),i,a),d=Uue(n),h=Fue(r,i),p=d==="WINTER"||d==="SUMMER"?.85:.55,b=1.25,y=Yue(r),k=tm(em(y.items,i,a),i,a),w=Kue(r,i),S=tm(em(w.items,i,a),i,a),j=Array.isArray(o)?o:[],O=j.length>0,A=tm(em(j,i,a),i,a),C=z=>Math.max(0,...z.map(K=>Number.isFinite(K.score)?K.score:0)),P=[{kind:"EOKBU",title:"",marker:"",priority:1,weight:b,applicable:l.length>0,note:"1.  /()  ",candidates:l},{kind:"JOHU",title:"",marker:"",priority:2,weight:p,applicable:!0,note:d==="WINTER"?"2. ()   ":d==="SUMMER"?"2. ()   ":"2.    ,   ",candidates:u},{kind:"TONGGWAN",title:"",marker:"",priority:3,weight:.7,applicable:y.applicable,note:y.note,candidates:k},{kind:"BYEONGYAK",title:"",marker:"",priority:3,weight:.7,applicable:w.applicable,note:w.note,candidates:S},{kind:"GYEOKGUK",title:"",marker:"",priority:4,weight:.55,applicable:O,note:O?"/     ( )":"  (//  )",candidates:A}].map(z=>{const K=C(z.candidates),Z=z.candidates[0];let X=0;if(z.applicable&&Z){if(X=Z.score*z.weight,z.kind==="EOKBU"&&!h.balancedPresent){const q=Math.min(35,Math.round(h.spread*.9));X+=q}z.kind==="EOKBU"&&h.balancedPresent&&(X*=.75),Z.elNorm&&!i[Z.elNorm]&&(X*=.25)}return{...z,maxScore:K,fitScore:Math.round(X),finalScore:Math.round(X)}}).sort((z,K)=>z.priority-K.priority),$=[...P].filter(z=>z.applicable&&z.candidates.length>0).sort((z,K)=>K.fitScore!==z.fitScore?K.fitScore-z.fitScore:z.priority-K.priority)[0],U=Math.max(0,...P.map(z=>z.fitScore)),W=$?.kind??null,Y=P.map(z=>{if(!W)return z;if(z.kind===W){const K=z.fitScore<U?U+1:z.fitScore;return{...z,finalScore:K}}return{...z,finalScore:z.fitScore}}),F=W?Y.find(z=>z.kind===W)??null:null;return{bestKind:W,best:F,groups:Y}}const Wue={:"",:"",:"",:"",:""},Vue={:"",:"",:"",:"",:""},Zue={:"",:"",:"",:"",:""},Xue={:"",:"",:"",:"",:""};function A1(e){switch(e){case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";case"":case"":case"":case"":return"";default:return null}}function Jue(e){const t=(e||"").trim();return!t||t==="-"?null:t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":t.includes("")?"":t.includes("")||t.includes("")?"":t.includes("")?"":null}function Que(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":""}function ede(e,t){switch(t){case"":return e;case"":return Wue[e];case"":return Zue[e];case"":return Xue[e];case"":return Vue[e]}}function tde(e,t){const n=new Map,r=(u,d,h)=>{if(!u)return;const p=n.get(u);if(!p){n.set(u,{element:u,score:d,reasons:[h]});return}p.score=Math.max(p.score,d),p.reasons=p.reasons.includes(h)?p.reasons:[...p.reasons,h]},i=A1(t),a=Jue(e.);if(i&&a){const u=Que(a),d=ede(i,u);r(d,92,` ${e.}  ${u} (${d})`)}const o=A1(e.);o&&r(o,86,` ${e.}  (${o})`);const l=A1(e.);return l&&r(l,70,` ${e.}  (${l})`),Array.from(n.values()).sort((u,d)=>d.score-u.score)}const nm=e=>e&&e.length>=1?e.charAt(0):"",tb=e=>e&&e.length>=2?e.charAt(1):"";function nde(e){const t=String(e??"");if(!/^\d{8}$/.test(t))return new Date;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i,12,0,0,0);return Number.isNaN(a.getTime())?new Date:a}function rde({data:e,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:i,demoteAbsent:a}){const{date:o,yearGZ:l,monthGZ:u,dayGZ:d}=Jr(),h=_.useMemo(()=>Ie(l),[l]),p=_.useMemo(()=>Ie(u),[u]),b=_.useMemo(()=>Ie(d),[d]),y=Tu(e,e?.mingSikType),k=_.useMemo(()=>{if(!y?.length)return 0;const Ce=y.findIndex((Pe,Ge)=>{const Ne=y[Ge+1]?.at;return o>=Pe.at&&(!Ne||o<Ne)});return Ce!==-1?Ce:o<y[0].at?0:y.length-1},[y,o]),w=_.useMemo(()=>{const Ce=r??y?.[k]?.gz??"";return Ie(Ce)||null},[r,y,k]),{manualHour:S}=gp(),j=e.mingSikType??"/",O=_.useMemo(()=>qP(t),[t]),A=_.useMemo(()=>qP(n),[n]),C=_.useMemo(()=>{const Ce=[...O];return(!Ce[3]||Ce[3]===""||Ce[3]==="--")&&S&&(Ce[3]=S.stem+S.branch),Ce},[O,S]),D=_.useMemo(()=>{const Ce=[...A];return(!Ce[3]||Ce[3]===""||Ce[3]==="--")&&S&&(Ce[3]=S.stem+S.branch),Ce},[A,S]),P=_.useMemo(()=>{const Ce=Number(e.birthDay?.slice(0,4)),Pe=Number(e.birthDay?.slice(4,6)),Ge=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(Ce)||!Number.isFinite(Pe)||!Number.isFinite(Ge))return null;const Ne=new Date(Ce,Pe-1,Ge,12,0,0,0),De=Ie(lt(Ne)||""),Be=Ie(St(Ne)||""),st=Ie(mt(Ne,j)||"");return[De,Be,st,""]},[e.birthDay,j]),$=j1(C),U=j1(D),Y=(e.calendarType==="lunar"?"lunar":"solar")==="lunar"?U?"lunar":$?"solar":"lunar":$?"solar":U?"lunar":"solar",F=_.useMemo(()=>{const Pe=[...Y==="lunar"?U?D:$?C:P??["","","",""]:$?C:U?D:P??["","","",""]];return(!Pe[3]||Pe[3]===""||Pe[3]==="--")&&S&&(Pe[3]=S.stem+S.branch),Pe[3]==="--"&&(Pe[3]=""),Pe},[Y,$,U,C,D,P,S]),z=_.useMemo(()=>nm(F[2]??""),[F]),K=_.useMemo(()=>tb(F[1]??""),[F]),Z=_.useMemo(()=>nde(e.birthDay),[e.birthDay]),X=_.useMemo(()=>S?S.stem+S.branch:F[3]||"",[S,F]),q=_.useMemo(()=>({dae:i!==""?w??null:null,se:i===""||i===""||i===""?h??null:null,wol:i===""||i===""?p??null:null,il:i===""?b??null:null}),[i,w,h,p,b]),J=_.useMemo(()=>Xv({natal:F,tab:i,chain:q,hourKey:X}),[F,i,q,X]),ee=_.useMemo(()=>{if(!J)return null;const Ce=Lue(J.perStemElementScaled),Pe=q.dae?eb(q.dae):{},Ge=q.se?eb(q.se):{},Ne=q.wol?eb(q.wol):{},De=q.il?eb(q.il):{},Be=Bue([{kind:"natal",bare:Ce},{kind:"dae",bare:Pe},{kind:"se",bare:Ge},{kind:"wol",bare:Ne},{kind:"il",bare:De}]),st=Jv(Be),ce=Iue(st),Oe=Due(Be,J.dayStem),ze=Pue(Oe),it=Mue(Be);return{perStemAugBare:Be,perStemAugFull:ce,elemPct100:it,totalsMain:ze,totalsSub:Oe}},[J,q]),le=_.useMemo(()=>j7(F,{includeBranches:!0}),[F]),ae=_.useMemo(()=>["","","","",""].some(Ce=>!le[Ce]),[le]),B=ee?.elemPct100??J?.elementPercent100??A7(F),V=_.useMemo(()=>{if(!J||!ee)return[];const Ce=h7(J.dayStem);return Object.entries(ee.totalsMain).map(([Pe,Ge])=>({name:Pe,value:Ge,color:Ce[Pe]}))},[J,ee]),ne=ee?.elemPct100??{:0,:0,:0,:0,:0},oe=ee?.totalsSub??J?.perTenGodSub??null,fe=_.useMemo(()=>[i,w??"",h??"",p??"",b??"",o?.toISOString?.()??"",X].join("|"),[i,w,h,p,b,o,X]),ye=_.useMemo(()=>{const Ce=oe?Object.entries(oe).sort(([Ge],[Ne])=>Ge.localeCompare(Ne)).map(([Ge,Ne])=>`${Ge}:${Ne}`).join(","):"none",Pe=V.map(Ge=>`${Ge.name}:${Ge.value}`).join(",");return`${fe}||${F.join("")}||${Pe}||${Ce}`},[fe,F,V,oe]),pe=typeof rf=="function"?rf(F,J?.totals):null,Ae=_.useMemo(()=>(pe?.ordered??[]).map(Pe=>{const Ge=Pe.element??"",Ne=/||wood/i.test(Ge)?"":/||fire/i.test(Ge)?"":/||earth/i.test(Ge)?"":/||metal/i.test(Ge)?"":/||water/i.test(Ge)?"":null,De=typeof Pe.score=="number"?Pe.score:Ne?B[Ne]??0:0,Be=Array.isArray(Pe.reasons)?Pe.reasons:[];return{element:Ge,elNorm:Ne,score:De,reasons:Be}}),[pe,B]),re=_.useMemo(()=>Ae.map(Ce=>({element:Ce.element,elNorm:Ce.elNorm,score:Ce.score,reasons:Ce.reasons})),[Ae]),Ee=_.useMemo(()=>{if(!z||!K)return[];const[Ce,Pe,Ge,Ne]=F,De=[nm(Ce),nm(Pe),nm(Ge),nm(Ne)].filter(Boolean),Be=[tb(Ce),tb(Ge),tb(Ne)].filter(Boolean),st=d7({dayStem:z,monthBranch:K,date:Z,pillars:F,emittedStems:De,otherBranches:Be}),ce=tde(st,z),Oe=ze=>/||wood/i.test(ze)?"":/||fire/i.test(ze)?"":/||earth/i.test(ze)?"":/||metal/i.test(ze)?"":/||water/i.test(ze)?"":null;return(ce??[]).map(ze=>({element:ze.element,elNorm:Oe(ze.element),score:Number.isFinite(ze.score)?ze.score:0,reasons:Array.isArray(ze.reasons)?ze.reasons:[]}))},[F,z,K,Z]),_e=_.useMemo(()=>{const Ce=F[1]||"";return XT({eokbuList:re,monthGz:Ce,elemPct:B,presentMap:le,demoteAbsent:a,gyeokgukList:Ee})},[F,re,B,le,a,Ee]),se=_.useMemo(()=>{const Ce=_e.best;return Ce?.candidates?.length?Ce.candidates.map(Pe=>({element:Pe.element,elNorm:Pe.elNorm,score:Pe.score,reasons:Pe.reasons})):Ae},[_e,Ae]),Ue=_.useMemo(()=>Math.max(0,...se.map(Ce=>Number.isFinite(Ce.score)?Ce.score:0)),[se]),Fe=_.useMemo(()=>E7(F,{criteriaMode:"modern",useHarmonyOverlay:!0}),[F]);return{seGz:h,wolGz:p,ilGz:b,daewoonGz:w,activePillars:F,chain:q,unified:J,overlay:ee,chartData:V,elementPct:ne,tenSubTotals100:oe,hourKeyForUi:X,revKey:ye,yongshinMulti:_e,yongshinRecommend:_e,yongshinList:se,maxScore:Ue,hasAbsent:ae,dayElementPercent:Fe,isValidActive:j1(F)}}function ide(e){if(typeof e!="object"||e===null)return!1;const t=e,n=t.at,r=t.gz;return n instanceof Date&&!Number.isNaN(n.getTime())&&typeof r=="string"}function ade(e){const t=new Date(e,1,15,12,0,0,0);return Ie(lt(t)||"")}function ode(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=VT(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}const sde={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ay(e){return sde[e]??null}function lde(e,t){const n={:!1,:!1,:!1,:!1,:!1},r=KT(t);for(const i of e){const a=i?.charAt(0)??"",o=i?.charAt(1)??"",l=Ay(a);if(l&&(n[l]=!0),YT(o)){const u=r[o],d=[u.,u.,u.].filter(Boolean);for(const h of d){const p=Ay(h.stem);p&&h.w>0&&(n[p]=!0)}}}return n}function cde(e,t){const n=KT(t),r={:0,:0,:0,:0,:0};for(const o of e){const l=o?.charAt(0)??"",u=o?.charAt(1)??"",d=Ay(l);if(d&&(r[d]+=50),YT(u)){const h=n[u],p=[h.,h.,h.].filter(Boolean),b=p.reduce((k,w)=>k+(Number.isFinite(w.w)?w.w:0),0),y=b>0?b:1;for(const k of p){const w=Ay(k.stem);w&&(r[w]+=50*k.w/y)}}}const i=r.+r.+r.+r.+r.,a=i>0?i:1;return{:r./a*100,:r./a*100,:r./a*100,:r./a*100,:r./a*100}}function ude(e,t,n){return e||cde(t,n)}function dde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,gyeokgukList:a,hiddenStemMode:o}=e,l=_.useMemo(()=>l7(o),[o]),u=Tu(t,t?.mingSikType),d=_.useMemo(()=>Array.isArray(u)?u.filter(ide).slice(0,10):[],[u]),[h,p]=_.useState(0),[b,y]=_.useState(0),k=Math.max(0,Math.min(d.length-1,h)),w=d[k]??null,S=_.useMemo(()=>{if(!w)return[];const W=w.at.getFullYear();return Array.from({length:10},(Y,F)=>{const z=W+F;return{year:z,gz:ade(z)}})},[w]),j=b==null?null:Math.max(0,Math.min(S.length-1,b)),O=j==null?null:S[j]??null,A=_.useMemo(()=>lde(n,l),[n,l]),C=_.useMemo(()=>["","","","",""].some(W=>!A[W]),[A]),D=_.useMemo(()=>{const W=w?Ie(w.gz):null,Y=O?Ie(O.gz):null;return{dae:W||null,se:Y||null,wol:null,il:null}},[w,O]),P=_.useMemo(()=>D.se?"":"",[D.se]),$=_.useMemo(()=>{const W=w?`${w.at.getFullYear()}~ ${Ie(w.gz)}`:" -",Y=O?` / ${O.year} ${Ie(O.gz)}`:"";return`${W}${Y}`},[w,O]),U=_.useMemo(()=>{if(!w)return null;const W=Xv({natal:n,tab:P,chain:D,hourKey:r}),Y=ude(W?.elementPercent100,n,l),F=typeof rf=="function"?rf(n,W?.totals):null,z=ode(F,Y);return XT({eokbuList:z,monthGz:n[1]||"",elemPct:Y,presentMap:A,demoteAbsent:i,gyeokgukList:Array.isArray(a)?a:null})},[w,n,P,D,r,A,i,a,l]);return{daeIndex:k,setDaeIndex:p,seIndex:j,setSeIndex:y,dae10:d,se10:S,chain:D,tab:P,label:$,recommend:U,presentMap:A,hasAbsent:C}}const fde={EOKBU:"",JOHU:"",TONGGWAN:"",BYEONGYAK:"",GYEOKGUK:""};function w2(e){return e?fde[e]??e:""}function hde(e){if(typeof e!="object"||e===null)return!1;const t=e;return t.at instanceof Date&&!Number.isNaN(t.at.getTime())&&typeof t.gz=="string"}function mde(e){const t=new Date(e,1,15,12,0,0,0);return Ie(lt(t)||"")}function N1(e){const t=e?.best??null,n=t?.candidates?.[0]??null,r=t?.kind??null,i=n?.element??null,a=n?.elNorm??(n?.element?VT(n.element):null),o=typeof t?.fitScore=="number"?t.fitScore:0,l=r&&i?`${w2(r)}:${i}`:r?`${w2(r)}:`:"";return{kind:r,top1:i,top1ElNorm:a,fit:o,label:l,result:e}}function pde(e,t){return(e?.ordered??[]).map(r=>{const i=r.element??"",a=VT(i),o=typeof r.score=="number"?r.score:a?t[a]??0:0;return{element:i,elNorm:a,score:o,reasons:Array.isArray(r.reasons)?r.reasons:[]}})}function KP(e){const{pillars:t,hourKey:n,chain:r,tab:i,demoteAbsent:a,presentMap:o,gyeokgukList:l}=e,u=Xv({natal:t,tab:i,chain:r,hourKey:n}),d=u?.elementPercent100??A7(t),h=typeof rf=="function"?rf(t,u?.totals):null,p=pde(h,d);return XT({eokbuList:p,monthGz:t[1]||"",elemPct:d,presentMap:o,demoteAbsent:a,gyeokgukList:Array.isArray(l)?l:null})}function gde(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push({fromYear:n.year,toYear:n.year,snap:n.snap});continue}r.snap.label===n.snap.label?r.toYear=n.year:t.push({fromYear:n.year,toYear:n.year,snap:n.snap})}return t}const No=({text:e,tone:t="base",onClick:n,title:r})=>{const i=t==="pick"?"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":t==="diff"?"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800 cursor-pointer":"bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700",a=g.jsx("span",{className:`inline-flex items-center text-[11px] px-2 py-0.5 rounded-full border whitespace-nowrap ${i}`,title:r,children:e});return n?g.jsx("button",{type:"button",className:"inline-flex",onClick:n,title:r,children:a}):a};function WP({snap:e}){const t=e.result?.best??null,n=t?.candidates?.slice(0,3)??[];return t?g.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(No,{text:`: ${w2(t.kind)}`,tone:"pick"}),g.jsx(No,{text:` ${t.fitScore}`}),n[0]?.element?g.jsx(No,{text:`1 ${n[0].element}`,tone:"diff"}):null]}),t.note?g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:t.note}):null,n.length?g.jsx("ul",{className:"mt-2 space-y-2",children:n.map((r,i)=>g.jsx("li",{className:"text-xs",children:g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(No,{text:`${i+1} ${r.element}`}),g.jsx(No,{text:` ${r.score}`}),(r.reasons??[]).slice(0,4).map((a,o)=>g.jsx(No,{text:a},o))]})},`${r.elNorm??r.element}-${i}`))}):g.jsx("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:" "})]}):g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:" "})}function bde(e){const{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:a}=e,o=_.useMemo(()=>j7(n,{includeBranches:!0}),[n]),l=Tu(t,t?.mingSikType),u=_.useMemo(()=>Array.isArray(l)?l.filter(hde).slice(0,10):[],[l]),d=_.useMemo(()=>N1(a),[a]),[h,p]=_.useState(null),b=w=>p(S=>S===w?null:w),y=_.useMemo(()=>u.map((w,S)=>{const j=Ie(w.gz)||"",A=KP({pillars:n,hourKey:r,chain:{dae:j||null,se:null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),C=N1(A),D=w.at.getFullYear(),P=Array.from({length:10},(F,z)=>{const K=D+z,Z=mde(K),q=KP({pillars:n,hourKey:r,chain:{dae:j||null,se:Z||null,wol:null,il:null},tab:"",demoteAbsent:i,presentMap:o}),J=N1(q);return{year:K,snap:J}}),U=gde(P).filter(F=>F.snap.top1ElNorm!==C.top1ElNorm),W=C.top1ElNorm!==d.top1ElNorm,Y=W||U.length>0;return{idx:S,dae:w,daeLabel:`${D}~ ${j||""}`,daeSnap:C,daeDiffFromNatal:W,segDiffOnly:U,hasAnyChange:Y}}).filter(w=>w.hasAnyChange),[u,n,r,i,o,d.top1ElNorm]),k=_.useMemo(()=>y.some(w=>w.hasAnyChange),[y]);return g.jsxs("div",{className:"rounded-xl bg-neutral-100 dark:bg-neutral-900 p-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-sm font-bold",children:"  "}),g.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 whitespace-normal break-words",children:["(): ",d.label," /  ",d.fit]})]}),k?g.jsx("div",{className:"space-y-3",children:y.map(w=>{const S=`dae:${w.idx}`,j=h===S;return g.jsxs("div",{className:"rounded-lg border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx(No,{text:` ${w.daeLabel}`,tone:"base"}),g.jsx(No,{text:` ${w.daeSnap.label} ( ${w.daeSnap.fit})`,tone:w.daeDiffFromNatal?"diff":"base",onClick:()=>b(S),title:" (top3) "}),w.daeDiffFromNatal?g.jsx(No,{text:" ",tone:"diff"}):null]}),w.segDiffOnly.length?g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.segDiffOnly.map((O,A)=>{const C=`seg:${w.idx}:${A}`,D=h===C,P=O.fromYear===O.toYear?`${O.fromYear}`:`${O.fromYear}~${O.toYear}`;return g.jsxs("div",{className:"inline-flex flex-col",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(No,{text:` ${P}  ${O.snap.label} ( ${O.snap.fit})`,tone:"diff",onClick:()=>b(C),title:" (top3) "})}),D?g.jsx(WP,{snap:O.snap}):null]},C)})}):null,j?g.jsx(WP,{snap:w.daeSnap}):null]},S)})}):g.jsx("div",{className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-400 text-center",children:"  ."})]})}const Ny=({children:e,variant:t="neutral"})=>{const n={neutral:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",violet:"bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-300",amber:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300",indigo:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"};return g.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold tracking-tight shadow-sm ${n[t]}`,children:e})};function yde(e,t){if(t<=0)return"12%";const n=Math.round(e/t*100);return`${Math.max(5,Math.min(100,n))}%`}function vde({g:e,isBest:t,demoteAbsent:n,hasAbsent:r,onDemoteAbsentChange:i}){const a=e.candidates.slice(0,3);return g.jsxs("details",{open:t,className:`group rounded-2xl border transition-all duration-300 ${t?"border-violet-200 dark:border-violet-800 bg-white dark:bg-neutral-900 shadow-md":"border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50"}`,children:[g.jsx("summary",{className:"list-none cursor-pointer p-4 select-none",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:`text-sm ${t?"font-black text-violet-600":"font-bold text-neutral-700 dark:text-neutral-300"}`,children:[e.marker," ",e.title]}),t&&g.jsx(Ny,{variant:"violet",children:" "}),!e.applicable&&g.jsx(Ny,{variant:"neutral",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] font-medium text-neutral-400",children:""}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:e.fitScore}),g.jsx("span",{className:"text-neutral-300 group-open:rotate-180 transition-transform",children:""})]})]}),g.jsx("p",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 leading-relaxed whitespace-normal break-words pr-4",children:e.note})]})}),g.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.length===0?g.jsx("div",{className:"text-[11px] text-neutral-400 py-2 text-center border-t border-neutral-100 dark:border-neutral-800",children:"  ."}):g.jsx("div",{className:"space-y-2 border-t border-neutral-100 dark:border-neutral-800 pt-3",children:a.map((o,l)=>g.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-100 dark:border-neutral-800",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[40px]",children:[g.jsxs("span",{className:"text-[9px] font-bold text-neutral-400 uppercase",children:[l+1,"st"]}),g.jsx("span",{className:"text-sm font-black text-neutral-800 dark:text-neutral-100",children:o.element})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-2 w-full rounded-full bg-neutral-200 dark:bg-neutral-700 overflow-hidden shadow-inner",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${t?"bg-gradient-to-r from-violet-400 to-indigo-500":"bg-neutral-400"}`,style:{width:yde(o.score??0,e.maxScore)}})}),g.jsx("div",{className:"flex flex-wrap gap-1",children:(o.reasons??[]).slice(0,4).map((u,d)=>g.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-white dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border border-neutral-100 dark:border-neutral-600 shadow-sm",children:u},d))})]})]},`${e.kind}-${o.element}-${l}`))}),r&&g.jsxs("button",{type:"button",onClick:()=>i?.(!n),className:`px-2 py-1 rounded-full text-[10px] font-bold border transition cursor-pointer ${n?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-800 dark:text-neutral-400 dark:border-neutral-700"}`,"aria-pressed":n,children:[" ",n?"ON":"OFF"]})]})]})}function xde({best:e}){const t=e?.candidates?.[0]??null;return g.jsxs("div",{className:"relative overflow-hidden rounded-[2rem] border border-violet-200 dark:border-violet-800 p-6 bg-gradient-to-br from-violet-50 to-white dark:from-violet-950/20 dark:to-neutral-900 shadow-sm",children:[g.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-violet-100 dark:bg-violet-900/20 rounded-full blur-3xl"}),g.jsxs("div",{className:"relative z-10 flex flex-col gap-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Ny,{variant:"indigo",children:" "}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx("span",{className:"text-[10px] text-neutral-400 font-bold uppercase",children:" "}),g.jsx("span",{className:"text-lg font-black text-violet-600 dark:text-violet-400",children:e?.fitScore??0})]})]}),g.jsxs("div",{className:"flex items-end gap-3",children:[g.jsx("h4",{className:"text-2xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter",children:e?`${e.marker} ${e.title}`:"  "}),t?.element&&g.jsxs("div",{className:"mb-1 flex items-center gap-1",children:[g.jsx("span",{className:"text-xs text-neutral-400 font-medium",children:"1:"}),g.jsx("span",{className:"text-base font-black text-indigo-500",children:t.element})]})]}),e?.note&&g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 leading-relaxed font-medium",children:e.note})]})]})}function wde({recommend:e,data:t,pillars:n,hourKey:r,demoteAbsent:i,onDemoteAbsentChange:a,hasAbsent:o,hiddenStemMode:l}){const u=dde({data:t,pillars:n,hourKey:r,demoteAbsent:i,hiddenStemMode:l}),d=o??u.hasAbsent;return g.jsxs("div",{className:"w-full p-6 rounded-[2.5rem] bg-white dark:bg-neutral-900 border border-neutral-100 dark:border-neutral-800 shadow-xl space-y-8",children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx("div",{className:"space-y-1",children:g.jsx("h2",{className:"text-xl font-black text-neutral-800 dark:text-neutral-100 tracking-tighter uppercase",children:" "})}),d&&g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx(Ny,{variant:"amber",children:"  "}),i&&g.jsx("span",{className:"text-[9px] text-amber-500 font-bold mt-1",children:" "})]})]}),g.jsx(xde,{best:e.best}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"}),g.jsx("span",{className:"text-[10px] font-black text-neutral-300 dark:text-neutral-600 uppercase tracking-widest",children:" "}),g.jsx("div",{className:"h-px flex-1 bg-neutral-100 dark:bg-neutral-800"})]}),g.jsx("div",{className:"grid gap-3",children:e.groups.map(h=>g.jsx(vde,{g:h,isBest:e.bestKind===h.kind,demoteAbsent:i,hasAbsent:d,onDemoteAbsentChange:a},h.kind))})]}),g.jsx("div",{className:"pt-2",children:g.jsx(bde,{data:t,pillars:n,hourKey:r,demoteAbsent:i,natal:e})})]})}const VP=e=>e<10?`0${e}`:`${e}`;function _de(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Wi(i,a,o),u=`${l.getFullYear()}${VP(l.getMonth()+1)}${VP(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}function Sde(e){if(typeof e!="number"&&typeof e!="string")return null;const t=String(e);if(!/^\d{8}$/.test(t))return null;const n=Number(t.slice(0,4)),r=Number(t.slice(4,6)),i=Number(t.slice(6,8)),a=new Date(n,r-1,i);return Number.isNaN(a.getTime())?null:a}const kde=["  ","   ","","",""];function Ede(e){return e==="  "||e===""}function Tde({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=vn(p=>p.settings),a=uce(),o=_de(e),l=Sde(o.birthDay)||void 0,u=dn(p=>p.canUseAdvancedReportNow()),d=rde({data:o,pillars:t,lunarPillars:n,daewoonGzProp:r,blendTab:a.blendTab,demoteAbsent:a.demoteAbsent}),h=_.useMemo(()=>"    100   ! (  )",[]);return d.isValidActive?g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"flex gap-2 justify-center flex-wrap mb-4",children:cce.map(p=>{const b=a.blendTab===p;return g.jsx("button",{onClick:()=>a.setBlendTab(p),className:`
                  px-4 py-1.5 text-[11px] font-bold rounded-full transition-all duration-200 active:scale-95 cursor-pointer
                  ${b?"bg-amber-400 text-amber-950 shadow-[0_2px_10px_rgba(251,191,36,0.4)] border border-amber-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-500 dark:text-neutral-400 border border-transparent hover:bg-neutral-200 dark:hover:bg-neutral-700"}
                `,children:p},p)})}),g.jsxs("div",{className:"flex items-start gap-2 px-4 py-2 bg-amber-50/50 dark:bg-amber-900/10 rounded-xl border border-amber-100/50 dark:border-amber-900/20",children:[g.jsx("span",{className:"text-amber-500 text-[12px] mt-0.5",children:""}),g.jsxs("p",{className:"text-[10.5px] text-amber-700 dark:text-amber-400/80 leading-relaxed font-medium",children:["    ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "})," ",g.jsx("span",{className:"font-bold underline decoration-amber-300/50 underline-offset-2 text-amber-800 dark:text-amber-300",children:" "}),"   ."]})]})]}),g.jsx("div",{className:"flex gap-2 mb-8 justify-center flex-wrap",children:kde.map(p=>{const b=!u&&Ede(p),y=a.bigTab===p;return g.jsxs("button",{title:b?h:void 0,onClick:()=>a.setBigTab(p),className:`
                relative px-4 py-2 text-sm font-bold rounded-2xl border transition-all duration-300 active:scale-95 flex items-center gap-1.5 cursor-pointer
                ${y?"bg-violet-600 text-white border-violet-500 shadow-[0_4px_12px_rgba(139,92,246,0.3)] z-10":"bg-white dark:bg-neutral-900 text-neutral-500 dark:text-neutral-400 border-neutral-200 dark:border-neutral-800 hover:border-violet-300 dark:hover:border-violet-700"}
                ${b?"opacity-70 bg-neutral-50 dark:bg-neutral-900/50":""}
              `,children:[g.jsx("span",{className:b?"mr-1":"",children:p}),b&&g.jsx("span",{className:"flex items-center justify-center w-4 h-4 bg-neutral-200 dark:bg-neutral-800 rounded-full text-[10px]",children:""}),y&&!b&&g.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"})]},p)})}),a.bigTab===""&&g.jsx(Ise,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`harm-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="   "&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(Nse,{data:d.chartData,perStemElementScaled:d.overlay?.perStemAugFull,dayStem:d.activePillars[2]?.charAt(0)??null,yongshinTop:d.yongshinMulti?.best?.candidates?.[0]?.element??null,yongshinKind:d.yongshinMulti?.bestKind??null},`pentagon-${d.revKey}`),g.jsx(Lse,{natal:d.activePillars,perStemElementScaled:d.overlay?.perStemAugFull}),g.jsx(Mse,{value:d.dayElementPercent}),g.jsx(Zse,{natal:d.activePillars})]}),a.bigTab===""&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:""}),"   .   100  !"]}),a.bigTab===""&&u&&g.jsx(wde,{recommend:d.yongshinMulti,data:o,pillars:d.activePillars,hourKey:d.hourKeyForUi,demoteAbsent:a.demoteAbsent,onDemoteAbsentChange:a.setDemoteAbsent,hasAbsent:d.hasAbsent,hiddenStemMode:i.hiddenStemMode},`yongshin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab===""&&g.jsx(zse,{pillars:d.activePillars,daewoon:d.daewoonGz||void 0,sewoon:d.seGz||void 0,wolwoon:d.wolGz||void 0,ilwoon:d.ilGz||void 0,tab:a.blendTab},`shin-${a.blendTab}-${d.hourKeyForUi}`),a.bigTab==="  "&&!u&&g.jsxs("div",{className:"p-4 rounded-xl border border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-600 dark:text-neutral-300 text-center",children:["   ",g.jsx("b",{children:"  "}),"   .   100  !"]}),a.bigTab==="  "&&u&&g.jsx(Zle,{unified:d.unified,pillars:d.activePillars,tab:a.blendTab,mapping:i.hiddenStemMode,birthDate:l},`gyeok-${a.blendTab}-${d.hourKeyForUi}`)]}):g.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const nb=e=>typeof e=="string"&&e.length>=2,jde=e=>!Array.isArray(e)||e.length!==4?!1:nb(e[0])&&nb(e[1])&&nb(e[2])&&(e[3]===""||nb(e[3]));function Ade({data:e}){const[t,n]=_.useState("un"),r=Xl(),i=dn(d=>d.canUseMyoViewerNow());_.useEffect(()=>{t==="myoun"&&!i&&n("un")},[t,i]);const a=_.useMemo(()=>{try{const d=Ef(e);return Gl(d,r)}catch{return new Date}},[e,r]),o=_.useMemo(()=>Vv(e,a),[e,a]),l=!e.birthTime||e.birthTime==="",u=_.useMemo(()=>{try{const d=lt(o,e.birthPlace?.lon),h=St(o,e.birthPlace?.lon),p=mt(o,e.mingSikType),b=l?"":Ja(o,e.mingSikType);return[d,h,p,b]}catch{return[]}},[o,e?.mingSikType,e?.birthPlace?.lon,l]);return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto",children:[g.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[g.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),i?g.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}):null,g.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&g.jsx(xse,{data:e}),t==="myoun"&&i&&g.jsx(kse,{data:e}),t==="report"&&g.jsx(Tde,{data:e,pillars:jde(u)?u:[]})]})}function Nde({onOpenSidebar:e,onAddNew:t,onOpenCustom:n,isLoggedIn:r}){const i=yn(C=>C.list.length),a=dn(C=>C.canAddMyeongsik),[o,l]=_.useState(!1);_.useEffect(()=>{let C=!0;Re.auth.getSession().then(({data:P})=>{C&&l(!!P.session?.user)});const{data:D}=Re.auth.onAuthStateChange((P,$)=>{l(!!$?.user)});return()=>{C=!1,D.subscription.unsubscribe()}},[]);const u=r||o,d=a(i),h=!d.ok,p=h?d.message:"",b=()=>{if(h){fa(p||"   ");return}t()},y=()=>{if(h){fa(p||"   ");return}n()},k=()=>{ws.getState().openWith("HEADER")},w=async()=>{const{error:C}=await Re.auth.signOut();if(C){console.error(C),fa("  ");return}fa(" ")},S="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md text-white focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors",j="bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 cursor-pointer",O="bg-orange-600 hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 cursor-pointer",A="bg-neutral-300 dark:bg-neutral-800 text-neutral-100 cursor-not-allowed opacity-80";return g.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:g.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[g.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:g.jsx(jZ,{size:22})}),g.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("button",{type:"button",onClick:b,"aria-label":" ",disabled:h,title:" ",className:`${S} ${h?A:j}`,children:[g.jsx($Z,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),g.jsxs("button",{type:"button",onClick:y,"aria-label":"  ",disabled:h,title:"  ",className:`${S} ${h?A:O}`,children:[g.jsx(RZ,{size:18}),h?g.jsx("span",{className:"ml-1 text-[12px]",children:""}):null]}),u?g.jsx("button",{type:"button",onClick:w,"aria-label":"",title:"",className:"inline-flex items-center gap-1 text-xs cursor-pointer text-neutral-700 dark:text-neutral-200 hover:text-purple-600 dark:hover:text-purple-400",children:g.jsx("ins",{children:""})}):g.jsx("button",{type:"button",onClick:k,"aria-label":"",title:"",className:"text-xs cursor-pointer",children:g.jsx("ins",{children:""})})]})]})})}function Ode(e){_.useEffect(()=>{const t=e??L5()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");$5(t),e&&I5(e)},[e])}const N7=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Cde(e){return typeof e=="string"&&N7.includes(e)}function _2(e){const t=Array.isArray(e)?e.filter(Cde):[],n=N7.filter(r=>!t.includes(r));return[...t,...n]}function S2(e){return{...Rl,...e,sectionOrder:_2(e.sectionOrder)}}function Mde(e,t){return e.theme??t.theme??"dark"}function Dde({open:e,settings:t}){const n=_.useMemo(()=>_2(t.sectionOrder),[t.sectionOrder]),r=_.useMemo(()=>S2(t),[t]),[i,a]=_.useState(n),[o,l]=_.useState(r),[u,d]=_.useState(null),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e||h)return;const y=_2(t.sectionOrder);l({...S2(t),sectionOrder:y}),a(y),p(!1)},[e,t,h]),{order:i,setOrder:a,localSettings:o,setLocalSettings:l,updateSetting:(y,k)=>{l(w=>{const S={...w,[y]:k};return p(!0),S})},toastMessage:u,setToastMessage:d,dirty:h,setDirty:p}}function Pde(){try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}}function O7(e){I5(e)}function Rde({setSettings:e,saveToServer:t}){return{applyChanges:_.useCallback(async(r,i,a)=>{const o={...S2(r),sectionOrder:i};Pde(),_.startTransition(()=>{e(o)}),o.theme&&O7(o.theme),a(),t(!0)},[e,t])}}function Lde({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=vn(),a=Dde({open:e,settings:n}),o=Rde({setSettings:r,saveToServer:i}),l=()=>a.setToastMessage(null),u=Mde(a.localSettings,n);Ode(u),_.useEffect(()=>{O7(u)},[u]);const d=()=>{o.applyChanges(a.localSettings,a.order,()=>{a.setToastMessage(" "),a.setDirty(!1),t()})},h=b=>{const{destination:y,source:k}=b;if(!y||y.index===k.index)return;const w=Array.from(a.order),[S]=w.splice(k.index,1);w.splice(y.index,0,S),a.setOrder(w)},p=b=>{switch(b){case"theme":return g.jsx(Ba,{title:"",children:g.jsx(Ide,{value:a.localSettings.theme??"dark",onChange:y=>a.updateSetting("theme",y)})});case"hiddenStem":return g.jsx(Ba,{title:"  ",children:g.jsx(Ed,{value:a.localSettings.hiddenStem,onChange:y=>a.updateSetting("hiddenStem",y),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return g.jsx(Ba,{title:" ",children:g.jsx(Ed,{value:a.localSettings.hiddenStemMode,onChange:y=>a.updateSetting("hiddenStemMode",y),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return g.jsx(Ba,{title:"",children:g.jsx(Ed,{value:a.localSettings.sinsalMode,onChange:y=>a.updateSetting("sinsalMode",y),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return g.jsx(Ba,{title:"",children:g.jsx(Ed,{value:a.localSettings.sinsalBase,onChange:y=>a.updateSetting("sinsalBase",y),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return g.jsx(Ba,{title:" ",children:g.jsx(ko,{label:" ",checked:!!a.localSettings.sinsalBloom,onChange:y=>a.updateSetting("sinsalBloom",y)})});case"exposure":return g.jsx(Ba,{title:" ",children:g.jsx(Ed,{value:a.localSettings.exposure,onChange:y=>a.updateSetting("exposure",y),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return g.jsx(Ba,{title:" ",children:g.jsx(Ed,{value:a.localSettings.charType,onChange:y=>a.updateSetting("charType",y),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return g.jsx(Ba,{title:" ",children:g.jsx(ko,{label:" ",checked:!!a.localSettings.thinEum,onChange:y=>a.updateSetting("thinEum",y)})});case"visibility":return g.jsx(Ba,{title:" ",children:g.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[g.jsx(ko,{label:" ",checked:!!a.localSettings.showSipSin,onChange:y=>a.updateSetting("showSipSin",y)}),g.jsx(ko,{label:" ",checked:!!a.localSettings.showSibiUnseong,onChange:y=>a.updateSetting("showSibiUnseong",y)}),g.jsx(ko,{label:" ",checked:!!a.localSettings.showSibiSinsal,onChange:y=>a.updateSetting("showSibiSinsal",y)}),g.jsx(ko,{label:" ",checked:!!a.localSettings.showNabeum,onChange:y=>a.updateSetting("showNabeum",y)}),g.jsx(ko,{label:" BOX ",checked:!!a.localSettings.showEtcShinsal,onChange:y=>a.updateSetting("showEtcShinsal",y)}),g.jsx(ko,{label:" BOX ",checked:!!a.localSettings.showRelationBox,onChange:y=>a.updateSetting("showRelationBox",y)}),g.jsx(ko,{label:" BOX ",checked:!!a.localSettings.showPromptBox,onChange:y=>a.updateSetting("showPromptBox",y)})]})});case"difficultyMode":return g.jsx(Ba,{title:" UP ver.",children:g.jsx(ko,{label:" UP ",checked:!!a.localSettings.difficultyMode,onChange:y=>a.updateSetting("difficultyMode",y)})});default:return null}};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-bold",children:""}),g.jsx("button",{onClick:d,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]}),e&&g.jsx(vp,{onDragEnd:h,children:g.jsx(Sf,{droppableId:"settings-sections",children:b=>g.jsxs("ul",{ref:b.innerRef,...b.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[a.order.map((y,k)=>g.jsx(_f,{draggableId:y,index:k,children:w=>g.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[g.jsx("span",{className:"mr-2 select-none text-neutral-500",children:"::"}),g.jsx("div",{className:"flex-1 min-w-0",children:p(y)})]})},y)),b.placeholder]})})})]}),a.toastMessage&&g.jsx(m6,{message:a.toastMessage,onClose:l,ms:1800})]})}function Ide({value:e,onChange:t}){const n=e==="dark";return g.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[g.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),g.jsx("span",{children:n?"":""})]})}function Ba({title:e,children:t}){return g.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),g.jsx("div",{className:"flex justify-center",children:t})]})}function Ed({value:e,onChange:t,options:n}){return g.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return g.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function ko({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return g.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[g.jsx("span",{children:e}),g.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),g.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-indigo-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-indigo-600"})]})}function $de(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=yn(h=>h.list),a=Vl();_.useEffect(()=>{r(yn.getState().loading);const h=yn.subscribe(p=>{r(p.loading)});return()=>h()},[]);const o=()=>{if(!n){if(i.length===0){alert("    !");return}a("/iching")}},d={bottom:"var(--bottom-dock, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed min-w-[320px] h-[64px] px-2 box-border left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",style:d,children:g.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[g.jsx(rm,{icon:g.jsx(xZ,{size:22}),label:"",onClick:()=>a("/")}),g.jsx(rm,{icon:g.jsx(yZ,{size:22}),label:"",onClick:()=>a("/couple")}),g.jsx(rm,{icon:g.jsx(IB,{size:22}),label:"FAQ",onClick:()=>a("/faq")}),g.jsx(rm,{icon:g.jsx(CZ,{size:22}),label:"",onClick:()=>t(!0)}),g.jsx(rm,{icon:g.jsx(DZ,{size:22}),label:"",onClick:o})]})}),g.jsx(Lde,{open:e,onClose:()=>t(!1)})]})}function rm({icon:e,label:t,onClick:n,disabled:r}){return g.jsxs("button",{onClick:n,disabled:r,className:"flex flex-1 flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,g.jsx("span",{className:"mt-1",children:t})]})}const C7=e=>e.map(t=>typeof t=="string"?t.trim():"").filter(t=>t!==""),Oy=e=>C7(e).join(""),Bde=()=>{const[e,t]=_.useState(()=>{if(typeof window>"u")return{};try{const u=localStorage.getItem(OD);return u?JSON.parse(u):{}}catch{return{}}});_.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(OD,JSON.stringify(e))}catch{}},[e]);const[n,r]=_.useState({}),[i,a]=_.useState(""),[o,l]=_.useState(()=>{const u=py(),d=gy(),h=d.length?jm(u,d):u;return Rd(h,e)});return _.useEffect(()=>{l(u=>{const d=Rd(u,e);return Oy(d)===Oy(u)?u:d})},[e]),_.useEffect(()=>{r(u=>{const d={...u};for(const h of o)d[h]===void 0&&(d[h]=!0);return d})},[o]),{folderFavMap:e,setFolderFavMap:t,folderOpenMap:n,setFolderOpenMap:r,newFolderName:i,setNewFolderName:a,orderedFolders:o,setOrderedFolders:l}},zde=({list:e,orderedFolders:t})=>{const{grouped:n,unassignedItems:r}=_.useMemo(()=>{const i=Fv(e,t),a={};for(const o of t)a[o]=i[o]??[];return{grouped:a,unassignedItems:i[fr]??[]}},[e,t]);return{grouped:n,unassignedItems:r}},im=async()=>{const{data:e,error:t}=await Re.auth.getUser();return t||!e.user?null:e.user.id},Ude=async e=>{const{data:t,error:n}=await Re.from("user_custom_folders").select("folder_name").eq("user_id",e);return n&&n.code==="PGRST205"?{data:[],error:n,disabled:!0}:n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?a.folder_name.trim():"").filter(a=>a!==""),error:null}},Fde=async e=>{const{data:t,error:n}=await Re.from("user_folder_order").select("folder_name, sort_order").eq("user_id",e).order("sort_order",{ascending:!0,nullsFirst:!0});return n?{data:[],error:n}:{data:(t??[]).map(a=>a.folder_name?String(a.folder_name):"").filter(a=>a.trim()!==""),error:null}},Hde=async(e,t)=>{const n=t.filter(i=>typeof i=="string"&&i.trim()!=="").map((i,a)=>({user_id:e,folder_name:i.trim(),sort_order:a+1,updated_at:new Date().toISOString()}));if(!n.length){const{error:i}=await Re.from("user_folder_order").delete().eq("user_id",e);return{data:null,error:i}}const{error:r}=await Re.from("user_folder_order").upsert(n,{onConflict:"user_id,folder_name"});return{data:null,error:r}},Gde=async(e,t)=>{const{error:n}=await Re.from("user_folder_order").delete().eq("user_id",e).eq("folder_name",t);return{data:null,error:n}},qde=async(e,t)=>{const{error:n}=await Re.from("user_custom_folders").upsert({user_id:e,folder_name:t,updated_at:new Date().toISOString()});return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Yde=async(e,t)=>{const{error:n}=await Re.from("user_custom_folders").delete().eq("user_id",e).eq("folder_name",t);return n&&n.code==="PGRST205"?{data:null,error:n,disabled:!0}:{data:null,error:n}},Kde=({folderFavMap:e,setFolderFavMap:t,setOrderedFolders:n,unsetFolderForFolder:r})=>{const[i,a]=_.useState(!1),o=_.useRef(e),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>{o.current=e},[e]),_.useEffect(()=>{(async()=>{if(i)return;const O=await im();if(!O)return;try{if(!u.current){const $=await Ude(O);$.disabled&&(u.current=!0),$.error?console.error("load custom folders from server error:",$.error):$.data.length&&AT($.data)}}catch($){console.error("load custom folders exception:",$)}const A=await Fde(O);if(A.error){console.error("load folder order from server error:",A.error),a(!0);return}const C=py(),D=A.data,P=D.length?jm(C,D):jm(C,gy());n(Rd(P,o.current)),D.length&&Ld(D),a(!0)})()},[i,n]);const d=_.useCallback(async j=>{const O=await im();if(!O)return;const A=await Hde(O,j);A.error&&console.error("save folder order to server error:",A.error)},[]),h=_.useRef(null),p=_.useRef(null),b=_.useRef(""),y=_.useCallback((j,O)=>{const A=C7(j),C=Oy(A);if(C&&C===b.current)return;h.current=A;const D=async()=>{const P=h.current;if(h.current=null,!P)return;const $=Oy(P);$&&$===b.current||(await d(P),b.current=$)};if(O?.immediate){p.current&&(window.clearTimeout(p.current),p.current=null),D();return}p.current&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{p.current=null,D()},300)},[d]);_.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=null);const j=h.current;h.current=null,j&&j.length&&d(j)},[d]),_.useEffect(()=>{if(typeof window>"u")return;const j=()=>{if(l.current){l.current=!1;return}const O=py(),A=gy(),C=A.length?jm(O,A):O;n(Rd(C,o.current))};return window.addEventListener(ql,j),()=>window.removeEventListener(ql,j)},[n]);const k=_.useCallback(j=>{const{source:O,destination:A,type:C}=j;if(!A||C!=="FOLDER")return;const D=O.index,P=A.index;D!==P&&n($=>{if(!$.length)return $;const U=[...$],[W]=U.splice(D,1);U.splice(P,0,W);const Y=Rd(U,o.current);return l.current=!0,Ld(Y),y(Y),Y})},[y,n]),w=_.useCallback(j=>{const O=j.trim();!O||O===bn||(h6(O),(async()=>{if(u.current)return;const A=await im();if(!A)return;const C=await qde(A,O);C.disabled&&(u.current=!0),C.error&&console.error("save custom folder error:",C.error)})(),n(A=>{if(A.includes(O))return A;const C=[...A,O],D=Rd(C,o.current);return Ld(D),y(D,{immediate:!0}),D}))},[y,n]),S=_.useCallback(j=>{r(j),t(O=>{const A={...O};return delete A[j],A}),n(O=>{const A=O.filter(C=>C!==j);return Ld(A),y(A,{immediate:!0}),(async()=>{const C=await im();if(!C)return;const D=await Gde(C,j);D.error&&console.error("delete folder order entry error:",D.error)})(),A}),u6.includes(j)?xre(j):(vre(j),(async()=>{if(u.current)return;const O=await im();if(!O)return;const A=await Yde(O,j);A.disabled&&(u.current=!0),A.error&&console.error("delete custom folder error:",A.error)})())},[y,t,n,r]);return{handleDragEnd:k,createFolder:w,deleteFolder:S,UNASSIGNED_LABEL:bn}};function Wde(e,t){const n=Bde(),r=zde({list:e,orderedFolders:n.orderedFolders}),i=Kde({folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,setOrderedFolders:n.setOrderedFolders,unsetFolderForFolder:t.unsetFolderForFolder});return{folderFavMap:n.folderFavMap,setFolderFavMap:n.setFolderFavMap,folderOpenMap:n.folderOpenMap,setFolderOpenMap:n.setFolderOpenMap,newFolderName:n.newFolderName,setNewFolderName:n.setNewFolderName,orderedFolders:n.orderedFolders,grouped:r.grouped,unassignedItems:r.unassignedItems,handleDragEnd:i.handleDragEnd,createFolder:i.createFolder,deleteFolder:i.deleteFolder,UNASSIGNED_LABEL:i.UNASSIGNED_LABEL}}function Vde({onClose:e,onAddNew:t,isLoggedIn:n,onLogin:r}){const i=yn(p=>p.list.length),o=dn(p=>p.canAddMyeongsik)(i),l=!o.ok,u=l?o.message:"",d=()=>{if(l){fa(u||"  ");return}t()},h=async()=>{const{error:p}=await Re.auth.signOut();if(p){console.error(p),fa(" ");return}fa(" ")};return g.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("h2",{className:"text-lg font-bold",children:" "})}),g.jsxs("div",{className:"flex items-center gap-2",children:[n?g.jsxs("button",{type:"button",onClick:h,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx(EZ,{size:16})," "]}):g.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                       bg-neutral-200 text-neutral-800 hover:bg-neutral-300
                       dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700`,title:"",children:[g.jsx($B,{size:16})," "]}),g.jsxs("button",{type:"button",onClick:d,disabled:l,title:u,className:l?"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-80":"inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer bg-purple-600 hover:bg-purple-500 text-white",children:[g.jsx(NZ,{size:16}),"  ",l?"":""]}),g.jsx("button",{type:"button",onClick:e,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900","aria-label":" ",title:"",children:g.jsx(iy,{size:22})})]})]})}function Zde({search:e,setSearch:t,searchMode:n,setSearchMode:r,isFiltering:i,totalMatches:a}){return g.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:n,onChange:o=>r(o.target.value),className:"h-30 text-xs rounded px-2 py-1 cursor-pointer bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40",children:[g.jsx("option",{value:"name",children:""}),g.jsx("option",{value:"ganji",children:""}),g.jsx("option",{value:"birth",children:""})]}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"text",value:e,onChange:o=>t(o.target.value),placeholder:n==="name"?" ":n==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:"w-full pl-7 pr-8 py-1 h-30 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-[16px] text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-amber-500/40"}),e&&g.jsx("button",{type:"button",onClick:()=>t(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:g.jsx(gZ,{size:16})})]}),i&&g.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[a,""]})]})})}function Xde({newFolderName:e,setNewFolderName:t,onCreate:n,isFiltering:r,totalCount:i,collapsed:a,onToggleCollapse:o}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[g.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"  ",className:"flex-1 w-[60%] px-2 py-1 rounded h-30 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100 placeholder-neutral-400 dark:placeholder-neutral-500",onClick:l=>l.stopPropagation()}),g.jsx("button",{type:"button",className:"px-3 rounded h-30 text-sm cursor-pointer bg-neutral-100 hover:bg-neutral-200 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700",onClick:l=>{l.stopPropagation(),n()},children:""})]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:r?"   .":"/      ."}),g.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"  "}),g.jsx("span",{className:"mx-1",children:""}),g.jsxs("span",{className:"font-semibold text-amber-500 dark:text-amber-600",children:[i,""]})]}),g.jsx("button",{type:"button",onClick:o,className:"px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-xs text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:a?"  ":"  "})]}),g.jsx("div",{className:"text-xs mb-2 text-neutral-900 dark:text-neutral-100",children:"         !"})]})}function ZP({droppableId:e,items:t,isDropDisabled:n,className:r}){return g.jsx(Sf,{droppableId:e,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:n,children:i=>g.jsx("div",{ref:i.innerRef,...i.droppableProps,className:r,children:g.jsxs("ul",{className:"flex flex-col gap-2",children:[t,i.placeholder]})})})}function Jde({folderName:e,folderIndex:t,isOpen:n,isFavorite:r,itemCount:i,isDragDisabled:a,onToggleOpen:o,onToggleFavorite:l,onDelete:u,inner:d}){return g.jsx(_f,{draggableId:`folder-${e}`,index:t,isDragDisabled:a,children:h=>g.jsxs("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[g.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded bg-neutral-50 dark:bg-neutral-900/70 border border-neutral-200 dark:border-neutral-800 text-neutral-800 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",onClick:p=>{p.stopPropagation(),o()},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[n?g.jsx(hZ,{size:16}):g.jsx(dZ,{size:16}),g.jsx("span",{className:"text-sm font-semibold",children:e})]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),l()},className:`p-1 rounded cursor-pointer ${r?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":"  ",title:r?" ":"",children:g.jsx(BB,{size:16,fill:r?"currentColor":"none"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"opacity-60 text-xs",children:[i,""]}),g.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),u()},className:"px-2 py-1 rounded text-xs cursor-pointer border border-red-300 dark:border-red-700 text-red-700 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30",children:""})]})]}),n?d:null]})},`folder-${e}`)}const Qde=()=>({canManage:dn(()=>!0)}),Km="";function efe(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===Km?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function tfe(e){if(!e||e==="")return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=o=>t.find(l=>o.some(u=>l.endsWith(u))),r=n(["","","","",""]),i=n(["","","","","",""]);return t.length===1||!n(["","","","","","","","","","",""])&&!n(["","","","","",""])?e:r&&i?`${r} ${i}`:r||e}function XP(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function nfe(e,t){const n=kf(e),r=wp(t);if(!n||!r)return null;const i=new Date(n.y,n.m-1,n.d,r.hh,r.mm,0,0),a=new Date(i.getTime()-3600*1e3),o=String(a.getFullYear()).padStart(4,"0"),l=String(a.getMonth()+1).padStart(2,"0"),u=String(a.getDate()).padStart(2,"0"),d=String(a.getHours()).padStart(2,"0"),h=String(a.getMinutes()).padStart(2,"0");return{birthDay:`${o}${l}${u}`,birthTime:`${d}${h}`}}function rfe(e){const t=XP(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Hm(r,i,a)||!e.birthTime||e.birthTime===Km)return t;const o=nfe(n,e.birthTime);if(!o)return t;const l=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(l.getTime()))return t;const u=new Date(l.getTime()-3600*1e3),d=wT({...e,birthDay:o.birthDay,birthTime:o.birthTime,corrected:u});return XP({...e,...d})}function ife(e){const t=String(e??"").trim();if(/^\d{8}$/.test(t)){const r=Number(t.slice(0,4));return Number.isFinite(r)?r:NaN}const n=new Date(t);return Number.isNaN(n.getTime())?NaN:n.getFullYear()}function afe(e,t){return Number.isNaN(e)?0:t-e+1}function ofe(e){return{...e,transition:e?.transform?"transform 0.15s ease":"none"}}function sfe(e){return e===""?"":e===""?"":e??""}function lfe(e){const t=e.trim(),n=/^(\d{1,2}):(\d{2})$/.exec(t);if(!n)return null;const r=Number(n[1]),i=Number(n[2]);if(!Number.isFinite(r)||!Number.isFinite(i)||r<0||r>23||i<0||i>59)return null;const a=r-1<0?23:r-1;return`${String(a).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function cfe(e,t){if(t)return Km;const n=String(e.birthDay??"").trim(),r=String(e.correctedLocal??"").trim(),i=e.corrected instanceof Date?e.corrected:new Date(String(e.corrected??"")),a=!Number.isNaN(i.getTime()),o=r||(a?f2(i):"");if(!/^\d{8}$/.test(n))return o;const l=Number(n.slice(0,4)),u=Number(n.slice(4,6)),d=Number(n.slice(6,8));if(!Hm(l,u,d)||!e.birthTime||e.birthTime===Km)return o;if(a){const p=new Date(i.getTime()-36e5);return f2(p)}return lfe(r)??o}function ufe({m:e,memoOpen:t,isDragDisabled:n}){const r=n,i=`item:${e.id}`,a=rfe(e),o=tfe(e.birthPlace?.name),l=e.relationship?.trim()?e.relationship:" ",u=sfe(e.gender),d=!e.birthTime||e.birthTime===Km,h=cfe(e,d),p=!!(o||h),b=efe(e.birthDay,e.birthTime),y=e.calendarType==="lunar"?"":"",k=ife(e.birthDay),w=afe(k,new Date().getFullYear()),S=!!(e.memo&&e.memo.trim()!==""),j=t?" ":" ",O=e.mingSikType??"/",A=r?" ":"::",C=e.favorite?" ":"";return{keyId:i,dragDisabled:r,dragHandleLabel:A,ganji:a,placeDisplay:o,relationshipLabel:l,genderLabel:u,birthDisplay:b,calendarLabel:y,correctedLabel:h,showMetaLine:p,showMemo:S,memoToggleLabel:j,age:w,mingSikTypeValue:O,favoriteLabel:C,editLabel:"",deleteLabel:"",getDragStyle:ofe}}const dfe=({m:e,unassignedLabel:t,onToggleMemo:n,onChangeFolder:r,onChangeMingSikType:i,onView:a,onEdit:o,onDelete:l,onToggleFavorite:u})=>{const d=_.useCallback(S=>{S?.stopPropagation(),n(e.id)},[n,e.id]),h=_.useCallback(S=>{S?.stopPropagation(),a(e)},[a,e]),p=_.useCallback(S=>{S?.stopPropagation(),o(e)},[o,e]),b=_.useCallback(S=>{S?.stopPropagation(),l(e)},[l,e]),y=_.useCallback(S=>{S?.stopPropagation(),u(e.id)},[u,e.id]),k=_.useCallback(S=>{const j=S===t?void 0:S;r(e.id,j)},[r,e.id,t]),w=_.useCallback(S=>{i(e,S)},[i,e]);return{handleToggleMemo:d,handleView:h,handleEdit:p,handleDelete:b,handleToggleFavorite:y,handleFolderChange:k,handleMingSikTypeChange:w}};function JP({m:e,index:t,orderedFolders:n,unassignedLabel:r,isDragDisabled:i,collapsed:a,memoOpen:o,onToggleMemo:l,onToggleCollapsed:u,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k}){Qde();const w=ufe({m:e,memoOpen:o,isDragDisabled:i}),S=a,j=dfe({m:e,unassignedLabel:r,onToggleMemo:l,onChangeFolder:d,onChangeMingSikType:h,onView:p,onEdit:b,onDelete:y,onToggleFavorite:k});return g.jsx(_f,{draggableId:w.keyId,index:t,isDragDisabled:i,children:O=>g.jsx("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:O.draggableProps.style,className:`list-none select-none rounded-xl border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-100 ${i?"cursor-default":"cursor-grab active:cursor-grabbing"}`,onClick:()=>{S&&j.handleView()},children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[e.name," (",w.age,"",w.genderLabel,")"]}),g.jsx("span",{className:"opacity-40",children:""}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:w.relationshipLabel}),g.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.jsx("span",{className:"opacity-50 select-none",children:w.dragHandleLabel}),g.jsx("button",{type:"button",onClick:A=>{A.stopPropagation(),u()},className:"text-xs px-2 py-1 rounded border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-900 cursor-pointer",children:S?" ":" "})]})]}),!S&&g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[w.birthDisplay,", ",w.calendarLabel]}),!S&&w.showMetaLine&&g.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[w.placeDisplay,w.correctedLabel&&g.jsxs("span",{className:"opacity-70",children:["  ",w.correctedLabel]})]}),w.ganji&&g.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:w.ganji}),!S&&w.showMemo&&g.jsxs("div",{children:[g.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:j.handleToggleMemo,children:w.memoToggleLabel}),g.jsx("div",{className:o?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:e.memo})]}),!S&&g.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[g.jsx("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:e.folder??r,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),j.handleFolderChange(A.target.value)},children:[r,...n].map(A=>g.jsx("option",{value:A,children:A},A))}),g.jsxs("select",{className:"h-30 text-xs rounded px-2 py-1 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-amber-500/40 cursor-pointer",value:w.mingSikTypeValue,onClick:A=>A.stopPropagation(),onChange:A=>{A.stopPropagation(),j.handleMingSikTypeChange(A.target.value)},children:[g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"/",children:"/"}),g.jsx("option",{value:"",children:""})]})]}),!S&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{type:"button",onClick:j.handleView,className:"px-3 py-1 rounded text-white text-sm cursor-pointer bg-indigo-600 hover:bg-indigo-500",children:""}),g.jsx("button",{type:"button",title:"",onClick:j.handleEdit,className:"px-3 py-1 rounded text-white text-sm bg-amber-600 hover:bg-amber-500 cursor-pointer",children:w.editLabel}),g.jsx("button",{type:"button",title:"",onClick:j.handleDelete,className:"px-3 py-1 rounded text-white text-sm bg-red-600 hover:bg-red-500 cursor-pointer",children:w.deleteLabel}),g.jsx("button",{type:"button",title:w.favoriteLabel,onClick:j.handleToggleFavorite,className:`ml-auto p-1 rounded cursor-pointer ${e.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,"aria-label":w.favoriteLabel,children:g.jsx(BB,{size:16,fill:e.favorite?"currentColor":"none"})})]})]})})},w.keyId)}const ffe="list:__unassigned__",hfe=e=>`list:${e}`,QP=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},mfe=({search:e,searchMode:t,orderedFolders:n,grouped:r,unassignedItems:i})=>{const a=a6(e),{filteredUnassigned:o,filteredGrouped:l,totalMatches:u}=_.useMemo(()=>tre({search:e,searchMode:t,orderedFolders:n,unassignedItems:i,grouped:r}),[e,t,n,i,r]);return{isFiltering:a,filteredUnassigned:o,filteredGrouped:l,totalMatches:u}},pfe=({list:e,orderedFolders:t})=>{const[n,r]=_.useState(""),[i,a]=_.useState("name"),[o,l]=_.useState({}),u=_.useRef(null),d=_.useRef(null);return _.useEffect(()=>{if(d.current==null)return;const b=u.current;b&&(b.scrollTop=d.current,d.current=null)},[e,t]),{search:n,setSearch:r,searchMode:i,setSearchMode:a,memoOpenMap:o,toggleMemo:b=>{l(y=>({...y,[b]:!y[b]}))},scrollRef:u,stashScrollTop:()=>{const b=u.current;b&&(d.current=b.scrollTop)}}},eR=()=>{typeof window>"u"||window.dispatchEvent(new Event(ql))},gfe=({list:e,orderedFolders:t,isFiltering:n,handleFolderDragEnd:r,moveItemByDnD:i,applyNextList:a,update:o,remove:l,onView:u,onClose:d,onDeleteView:h,folderFavMap:p,setFolderFavMap:b,setFolderOpenMap:y,createFolder:k,deleteFolder:w,newFolderName:S,setNewFolderName:j,stashScrollTop:O})=>{const A=_.useCallback((z,K)=>{const{nextList:Z}=Wne({list:e,orderedFolders:t,targetId:z,nextFolder:K??""});a(Z)},[e,t,a]),C=_.useCallback((z,K)=>{const Z={...z,mingSikType:K},X=wT(Z);o(z.id,{mingSikType:K,...X}),u({...Z,...X}),d()},[o,u,d]),D=_.useCallback(z=>{u(z),d()},[u,d]),P=_.useCallback(z=>{confirm(`'${z.name}'  ?`)&&(l(z.id),h&&h())},[l,h]),$=_.useCallback(()=>{const z=S.trim();z&&(k(z),j(""),eR())},[S,k,j]),U=_.useCallback(z=>{if(p[z]){alert(`'${z}'   .
   .`);return}confirm(`'${z}'  ?
(   )`)&&(w(z),eR())},[p,w]),W=_.useCallback(z=>{y(K=>({...K,[z]:!K[z]}))},[y]),Y=_.useCallback(z=>{b(K=>({...K,[z]:!K[z]}))},[b]);return{handleDrop:_.useCallback(z=>{const{type:K,source:Z,destination:X,draggableId:q}=z;if(X&&!n){if(O(),K==="FOLDER"){r(z);return}if(K==="ITEM"){if(!q.replace(/^item:/,""))return;const ee=QP(Z.droppableId),le=QP(X.droppableId);i({orderedFolders:t,sourceFolder:ee,sourceIndex:Z.index,destinationFolder:le,destinationIndex:X.index})}}},[n,O,r,i,t]),changeFolder:A,changeMingSikType:C,viewAndClose:D,requestDelete:P,createFolderAndNotify:$,requestDeleteFolder:U,toggleFolderOpen:W,toggleFolderFavorite:Y}};function bfe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a,isLoggedIn:o}){const[l,u]=_.useState(!1),d=vn(_e=>_e.settings),h=vn(_e=>_e.setKey),p=vn(_e=>_e.saveToServer),{list:b,remove:y,update:k,moveItemByDnD:w,toggleFavoriteWithReorder:S,unsetFolderForFolder:j,applyNextList:O}=yn(),{folderFavMap:A,setFolderFavMap:C,folderOpenMap:D,setFolderOpenMap:P,newFolderName:$,setNewFolderName:U,orderedFolders:W,grouped:Y,unassignedItems:F,handleDragEnd:z,createFolder:K,deleteFolder:Z,UNASSIGNED_LABEL:X}=Wde(b,{unsetFolderForFolder:j}),q=pfe({list:b,orderedFolders:W}),J=d.sidebarCardsCollapsed,ee=d.sidebarCardCollapsedMap,le=_e=>ee[_e]??J,ae=_e=>{h("sidebarCardCollapsedMap",_e),p()},B=_e=>{h("sidebarCardsCollapsed",_e);const se=b.reduce((Ue,Fe)=>(Ue[Fe.id]=_e,Ue),{});ae(se)},V=_e=>{ae({...ee,[_e]:!(ee[_e]??!0)})},{isFiltering:ne,filteredUnassigned:oe,filteredGrouped:fe,totalMatches:ye}=mfe({search:q.search,searchMode:q.searchMode,orderedFolders:W,unassignedItems:F,grouped:Y}),pe=gfe({list:b,applyNextList:O,orderedFolders:W,isFiltering:ne,handleFolderDragEnd:z,moveItemByDnD:w,update:k,remove:y,onView:n,onClose:t,onDeleteView:a,folderFavMap:A,setFolderFavMap:C,setFolderOpenMap:P,createFolder:K,deleteFolder:Z,newFolderName:$,setNewFolderName:U,stashScrollTop:q.stashScrollTop}),Ae=()=>{u(!0)},re=_e=>{Eu.flushSync(()=>{u(!1),pe.handleDrop(_e)})},Ee=()=>{ws.getState().openWith("HEADER")};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-100 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),g.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-101 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[g.jsx(Vde,{onClose:t,onAddNew:()=>{r(),t()},onLogin:()=>{Ee()},isLoggedIn:o}),g.jsx(vp,{onBeforeDragStart:Ae,onDragEnd:re,children:g.jsxs("div",{ref:q.scrollRef,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:l?"none":"pan-y"},children:[g.jsxs(g.Fragment,{children:[g.jsx(Zde,{search:q.search,setSearch:q.setSearch,searchMode:q.searchMode,setSearchMode:q.setSearchMode,isFiltering:ne,totalMatches:ye}),g.jsx(Xde,{newFolderName:$,setNewFolderName:U,isFiltering:ne,onCreate:pe.createFolderAndNotify,totalCount:b.length,collapsed:J,onToggleCollapse:()=>B(!J)})]}),g.jsx(ZP,{droppableId:ffe,isDropDisabled:ne,className:"mb-6",items:oe.map((_e,se)=>g.jsx(JP,{m:_e,index:se,orderedFolders:W,unassignedLabel:X,isDragDisabled:ne,collapsed:le(_e.id),memoOpen:!!q.memoOpenMap[_e.id],onToggleMemo:q.toggleMemo,onToggleCollapsed:()=>V(_e.id),onChangeFolder:pe.changeFolder,onChangeMingSikType:pe.changeMingSikType,onView:pe.viewAndClose,onEdit:Ue=>i(Ue),onDelete:pe.requestDelete,onToggleFavorite:Ue=>void S(Ue,W)},_e.id))}),g.jsx(Sf,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:ne,children:_e=>g.jsxs("div",{ref:_e.innerRef,..._e.droppableProps,children:[W.map((se,Ue)=>{const Fe=hfe(se),Ce=fe[se]||[],Pe=!!D[se],Ge=!!A[se];return g.jsx(Jde,{folderName:se,folderIndex:Ue,isOpen:Pe,isFavorite:Ge,itemCount:Ce.length,isDragDisabled:ne,onToggleOpen:()=>pe.toggleFolderOpen(se),onToggleFavorite:()=>pe.toggleFolderFavorite(se),onDelete:()=>pe.requestDeleteFolder(se),inner:g.jsx(ZP,{droppableId:Fe,isDropDisabled:ne,className:"mt-2",items:Ce.map((Ne,De)=>g.jsx(JP,{m:Ne,index:De,orderedFolders:W,unassignedLabel:X,isDragDisabled:ne,collapsed:le(Ne.id),memoOpen:!!q.memoOpenMap[Ne.id],onToggleMemo:q.toggleMemo,onToggleCollapsed:()=>V(Ne.id),onChangeFolder:pe.changeFolder,onChangeMingSikType:pe.changeMingSikType,onView:pe.viewAndClose,onEdit:Be=>i(Be),onDelete:pe.requestDelete,onToggleFavorite:Be=>void S(Be,W)},Ne.id))})},`folder-${se}`)}),_e.placeholder]})})]})})]})]})}function tR(e){return{...e,calendarType:e.calendarType??"solar"}}function nR(e){return!e.birthTime||e.birthTime===""}function rR(e){return!e.birthPlace||e.birthPlace.name===""}function yfe(e,t){if(t!=="lunar"||!e||e.length!==8)return null;try{const n=Number(e.slice(0,4)),r=Number(e.slice(4,6)),i=Number(e.slice(6,8)),a=Wi(n,r,i),o=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return`  ${a.getFullYear()}-${o}-${l}`}catch(n){const r=n instanceof Error?n.message:void 0;return`  ${r?`: ${r}`:""}`}}const M7="ms_folders";function vfe(){try{const e=JSON.parse(localStorage.getItem(M7)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function xfe(e){localStorage.setItem(M7,JSON.stringify(e))}function wfe(e){const[t,n]=_.useState(!1),[r,i]=_.useState(()=>tR(e)),[a,o]=_.useState(nR(e)),[l,u]=_.useState(rR(e)),[d,h]=_.useState([]);return _.useEffect(()=>{h(vfe())},[]),{isEditing:t,setIsEditing:n,form:r,setForm:i,updateForm:(y,k)=>{i(w=>({...w,[y]:k}))},unknownTime:a,setUnknownTime:o,unknownPlace:l,setUnknownPlace:u,customFolders:d,setCustomFolders:h,resetForm:()=>{i(tR(e)),o(nR(e)),u(rR(e))}}}const D7=["","","","","",""];function _fe(e,t){const n=Array.from(new Set(e.map(a=>a.folder).filter(Boolean))),r=new Set([...D7,...t,...n]),i=Array.from(r).sort((a,o)=>a.localeCompare(o));return[bn,...i]}function Sfe({list:e,customFolders:t,form:n}){const r=_.useMemo(()=>_fe(e,t),[e,t]),i=_.useMemo(()=>yfe(n.birthDay,n.calendarType),[n.birthDay,n.calendarType]);return{folderOptions:r,lunarPreview:i}}function kfe(e,t,n){if(!e.name||e.name.trim()==="")return"";const r=_T(e.birthDay??"",e.calendarType??"solar");if(!r.ok)return r.message;const i=ST(e.birthTime??"",t);return i.ok?!n&&!e.birthPlace?"":null:i.message}function Efe({item:e,form:t,unknownTime:n,unknownPlace:r,customFolders:i,setCustomFolders:a,update:o,remove:l,onClose:u,onSaved:d}){return{save:()=>{const b=kfe(t,n,r);if(b){alert(b);return}const y=uu(t.folder===bn?void 0:t.folder),k=t6({id:e.id,name:t.name,birthDay:t.birthDay??"",calendarType:t.calendarType??"solar",birthTime:t.birthTime,unknownTime:n,gender:t.gender,birthPlace:t.birthPlace,unknownPlace:r,relationship:t.relationship,memo:t.memo,folder:y,mingSikType:t.mingSikType,favorite:e.favorite,deletedAt:e.deletedAt??null,sortOrder:e.sortOrder,dateObj:e.dateObj},{requireName:!0});if(!k.ok){alert(k.message);return}const w={...e,...k.value};if(w.folder&&!D7.includes(w.folder)&&!i.includes(w.folder)){const S=[...i,w.folder];a(S),xfe(S)}o(e.id,w),d?.(),u?.()},removeThis:()=>{confirm(`'${e.name}'  ?`)&&l(e.id)}}}const O1="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",Tfe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",jfe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",bs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",Afe="text-xs text-neutral-500 dark:text-neutral-400",rb="accent-violet-600 dark:accent-violet-400",iR="accent-violet-600 dark:accent-violet-400",Qv="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",Nfe=`${Qv} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,Ofe=`${Qv} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,aR=`${Qv} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,Cfe=`${Qv} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function Mfe({item:e,onClose:t}){const{list:n,update:r,remove:i}=yn(),a=wfe(e),o=Sfe({list:n,customFolders:a.customFolders,form:a.form}),l=Efe({item:e,form:a.form,unknownTime:a.unknownTime,unknownPlace:a.unknownPlace,customFolders:a.customFolders,setCustomFolders:a.setCustomFolders,update:r,remove:i,onClose:t,onSaved:()=>a.setIsEditing(!1)});return a.isEditing?g.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[g.jsx("h3",{className:"text-lg font-bold",children:" "}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("input",{className:O1,value:a.form.name||"",onChange:u=>a.updateForm("name",u.target.value),placeholder:""})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:bs,children:" (YYYYMMDD)"}),g.jsx("input",{className:O1,value:a.form.birthDay||"",onChange:u=>a.updateForm("birthDay",u.target.value.replace(/\D/g,"").slice(0,8)),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),g.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:rb,name:"calendarType",checked:a.form.calendarType==="solar",onChange:()=>a.updateForm("calendarType","solar"),id:"editor_calendar_solar"}),g.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:rb,name:"calendarType",checked:a.form.calendarType==="lunar",onChange:()=>a.updateForm("calendarType","lunar"),id:"editor_calendar_lunar"}),g.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),o.lunarPreview&&g.jsx("span",{className:Afe,children:o.lunarPreview})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:"  (HHMM)"}),g.jsx("input",{className:`${O1} disabled:opacity-50`,value:a.unknownTime?"":a.form.birthTime||"",onChange:u=>a.updateForm("birthTime",u.target.value.replace(/\D/g,"").slice(0,4)),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:a.unknownTime}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:iR,checked:a.unknownTime,onChange:u=>a.setUnknownTime(u.target.checked),id:"editor_birthTimeX"}),g.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:bs,children:" "}),g.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(u=>{const d=`editor_ming_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:rb,name:"mingSikType",checked:(a.form.mingSikType??"")===u,onChange:()=>a.updateForm("mingSikType",u),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(u=>{const d=`editor_gender_${u}`;return g.jsxs("span",{className:"inline-flex items-center gap-1",children:[g.jsx("input",{type:"radio",className:rb,name:"gender",value:u,checked:a.form.gender===u,onChange:h=>a.updateForm("gender",h.target.value),id:d}),g.jsx("label",{htmlFor:d,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:u})]},u)})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:" "}),g.jsx(zB,{onSelect:u=>a.updateForm("birthPlace",u),value:a.unknownPlace?"":a.form.birthPlace?.name??""}),g.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",className:iR,checked:a.unknownPlace,onChange:u=>a.setUnknownPlace(u.target.checked),id:"editor_birthPlaceX"}),g.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx(c6,{value:a.form.relationship||"",onChange:u=>a.updateForm("relationship",u)})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("select",{className:Tfe,value:a.form.folder??bn,onChange:u=>{const d=u.target.value;d===bn?a.updateForm("folder",void 0):a.updateForm("folder",d)},children:o.folderOptions.map(u=>g.jsx("option",{value:u===bn?bn:u,children:u},u))})]}),g.jsxs("div",{children:[g.jsx("label",{className:bs,children:""}),g.jsx("textarea",{className:jfe,value:a.form.memo||"",onChange:u=>a.updateForm("memo",u.target.value),placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{className:aR,onClick:()=>{a.resetForm(),a.setIsEditing(!1)},children:""}),g.jsx("button",{className:Cfe,onClick:l.save,children:""})]})]}):g.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:Nfe,onClick:()=>a.setIsEditing(!0),children:""}),g.jsx("button",{className:Ofe,onClick:l.removeThis,children:""}),t&&g.jsx("button",{className:aR,onClick:t,children:""})]})]}),g.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("div",{children:[": ",e.gender]}),g.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),g.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),g.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),g.jsxs("div",{children:[": ",e.relationship||"-"]}),g.jsxs("div",{children:[": ",e.folder??bn]})]}),e.ganji&&g.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&g.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[g.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function Dfe({children:e}){const t=$r(),[n,r]=_.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return g.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[g.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[g.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[g.jsx("span",{className:"desk:block hidden",children:""}),g.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),g.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const o=t.pathname.startsWith(a.href);return g.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${o?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),g.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[g.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[g.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),g.jsx("div",{className:"font-semibold",children:" "}),g.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/",children:" "})]}),g.jsx("div",{className:"flex-1",children:e})]})]})}function Pfe(){const[e,t]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{(async()=>{const{data:a}=await Re.auth.getUser(),o=a.user?.id;if(!o){t(null),r(!1);return}const{data:l}=await Re.from("admin_roles").select("role").eq("user_id",o).maybeSingle();t(l?.role??null),r(!1)})()},[]),{role:e,loading:n}}function Rfe({allow:e,children:t}){const{role:n,loading:r}=Pfe();return r?g.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?g.jsx("div",{className:"text-red-400 p-6",children:" ."}):g.jsx(g.Fragment,{children:t})}function P7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=P7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=P7(e))&&(r&&(r+=" "),r+=t);return r}var Lfe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JT(e){if(typeof e!="string")return!1;var t=Lfe;return t.includes(e)}var Ife=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$fe=new Set(Ife);function R7(e){return typeof e!="string"?!1:$fe.has(e)}function L7(e){return typeof e=="string"&&e.startsWith("data-")}function eo(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(R7(n)||L7(n))&&(t[n]=e[n]);return t}function ex(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return eo(t)}return typeof e=="object"&&!Array.isArray(e)?eo(e):null}function _a(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(R7(n)||L7(n)||JT(n))&&(t[n]=e[n]);return t}function Bfe(e){return e==null?null:_.isValidElement(e)?_a(e.props):typeof e=="object"&&!Array.isArray(e)?_a(e):null}var zfe=["children","width","height","viewBox","className","style","title","desc"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k2.apply(null,arguments)}function Ufe(e,t){if(e==null)return{};var n,r,i=Ffe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ffe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var I7=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:d}=e,h=Ufe(e,zfe),p=a||{width:r,height:i,x:0,y:0},b=rn("recharts-surface",o);return _.createElement("svg",k2({},_a(h),{className:b,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,d),n)}),Hfe=["children","className"];function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E2.apply(null,arguments)}function Gfe(e,t){if(e==null)return{};var n,r,i=qfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lo=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Gfe(e,Hfe),a=rn("recharts-layer",r);return _.createElement("g",E2({className:a},_a(i),{ref:t}),n)}),Yfe=_.createContext(null);function Tn(e){return function(){return e}}const T2=Math.PI,j2=2*T2,Xc=1e-6,Kfe=j2-Xc;function $7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $7;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$7:Wfe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,d=i-n,h=o-t,p=l-n,b=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Xc)if(!(Math.abs(p*u-d*h)>Xc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,k=i-l,w=u*u+d*d,S=y*y+k*k,j=Math.sqrt(w),O=Math.sqrt(b),A=a*Math.tan((T2-Math.acos((w+b-S)/(2*j*O)))/2),C=A/O,D=A/j;Math.abs(C-1)>Xc&&this._append`L${t+C*h},${n+C*p}`,this._append`A${a},${a},0,0,${+(p*y>h*k)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,h=n+u,p=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Xc||Math.abs(this._y1-h)>Xc)&&this._append`L${d},${h}`,r&&(b<0&&(b=b%j2+j2),b>Kfe?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:b>Xc&&this._append`A${r},${r},0,${+(b>=T2)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function B7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Vfe(t)}function QT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z7(e){this._context=e}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tx(e){return new z7(e)}function U7(e){return e[0]}function F7(e){return e[1]}function H7(e,t){var n=Tn(!0),r=null,i=tx,a=null,o=B7(l);e=typeof e=="function"?e:e===void 0?U7:Tn(e),t=typeof t=="function"?t:t===void 0?F7:Tn(t);function l(u){var d,h=(u=QT(u)).length,p,b=!1,y;for(r==null&&(a=i(y=o())),d=0;d<=h;++d)!(d<h&&n(p=u[d],d,u))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+e(p,d,u),+t(p,d,u));if(y)return a=null,y+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Tn(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Tn(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Tn(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function ib(e,t,n){var r=null,i=Tn(!0),a=null,o=tx,l=null,u=B7(d);e=typeof e=="function"?e:e===void 0?U7:Tn(+e),t=typeof t=="function"?t:Tn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?F7:Tn(+n);function d(p){var b,y,k,w=(p=QT(p)).length,S,j=!1,O,A=new Array(w),C=new Array(w);for(a==null&&(l=o(O=u())),b=0;b<=w;++b){if(!(b<w&&i(S=p[b],b,p))===j)if(j=!j)y=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=b-1;k>=y;--k)l.point(A[k],C[k]);l.lineEnd(),l.areaEnd()}j&&(A[b]=+e(S,b,p),C[b]=+t(S,b,p),l.point(r?+r(S,b,p):A[b],n?+n(S,b,p):C[b]))}if(O)return l=null,O+""||null}function h(){return H7().defined(i).curve(o).context(a)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Tn(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Tn(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Tn(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Tn(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Tn(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Tn(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Tn(!!p),d):i},d.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),d):o},d.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),d):a},d}class G7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Zfe(e){return new G7(e,!0)}function Xfe(e){return new G7(e,!1)}function Cy(){}function My(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function q7(e){this._context=e}q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:My(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:My(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jfe(e){return new q7(e)}function Y7(e){this._context=e}Y7.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:My(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qfe(e){return new Y7(e)}function K7(e){this._context=e}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:My(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ehe(e){return new K7(e)}function W7(e){this._context=e}W7.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function the(e){return new W7(e)}function oR(e){return e<0?-1:1}function sR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(oR(a)+oR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function lR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function C1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function Dy(e){this._context=e}Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C1(this,this._t0,lR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,C1(this,lR(this,n=sR(this,e,t)),n);break;default:C1(this,this._t0,n=sR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function V7(e){this._context=new Z7(e)}(V7.prototype=Object.create(Dy.prototype)).point=function(e,t){Dy.prototype.point.call(this,t,e)};function Z7(e){this._context=e}Z7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function nhe(e){return new Dy(e)}function rhe(e){return new V7(e)}function X7(e){this._context=e}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cR(e),i=cR(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cR(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ihe(e){return new X7(e)}function nx(e,t){this._context=e,this._t=t}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ahe(e){return new nx(e,.5)}function ohe(e){return new nx(e,0)}function she(e){return new nx(e,1)}function of(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function A2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function lhe(e,t){return e[t]}function che(e){const t=[];return t.key=e,t}function uhe(){var e=Tn([]),t=A2,n=of,r=lhe;function i(a){var o=Array.from(e.apply(this,arguments),che),l,u=o.length,d=-1,h;for(const p of a)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(p,o[l].key,d,a)]).data=p;for(l=0,h=QT(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Tn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Tn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?A2:typeof a=="function"?a:Tn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??of,i):n},i}function dhe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}of(e,t)}}function fhe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}of(e,t)}}function hhe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,d=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,b=h[r-1][1]||0,y=(p-b)/2,k=0;k<l;++k){var w=e[t[k]],S=w[r][1]||0,j=w[r-1][1]||0;y+=S-j}u+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,of(e,t)}}var M1={},D1={},uR;function mhe(){return uR||(uR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(D1)),D1}var P1={},dR;function J7(){return dR||(dR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(P1)),P1}var R1={},fR;function ej(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(R1)),R1}var L1={},I1={},hR;function phe(){return hR||(hR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(I1)),I1}var mR;function tj(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=phe(),n=ej();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];d?p==="\\"&&l+1<o?(l++,u+=i[l]):p===d?d="":u+=p:h?p==='"'||p==="'"?d=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(L1)),L1}var pR;function nj(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mhe(),n=J7(),r=ej(),i=tj();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function o(l,u,d){if(u.length===0)return d;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return d;h=h[u[p]]}return h===void 0?d:h}e.get=a})(M1)),M1}var $1,gR;function ghe(){return gR||(gR=1,$1=nj().get),$1}var bhe=ghe();const rx=_i(bhe);var ba=e=>e===0?0:e>0?1:-1,to=e=>typeof e=="number"&&e!=+e,Cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!to(e),Io=e=>Qe(e)||typeof e=="string",yhe=0,Wm=e=>{var t=++yhe;return"".concat(e||"").concat(t)},Kl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var a;if(Cs(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return to(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Q7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Oo(e,t,n){return Qe(e)&&Qe(t)?e+n*(t-e):t}function e9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):rx(r,t))===n)}var jr=e=>e===null||typeof e>"u",rj=e=>jr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function vhe(e){return e!=null}function Tp(){}var t9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ij=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{JT(i)&&(r[i]=(a=>n[i](n,a)))}),r},xhe=(e,t,n)=>r=>(e(t,n,r),null),whe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];JT(i)&&typeof a=="function"&&(r||(r={}),r[i]=xhe(a,t,n))}),r};function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(n),!0).forEach(function(r){She(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function She(e,t,n){return(t=khe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function khe(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(e,t){var n=_he({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}var B1={},z1={},yR;function The(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(z1)),z1}var U1={},vR;function n9(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(U1)),U1}var F1={},H1={},G1={},xR;function jhe(){return xR||(xR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(G1)),G1}var wR;function aj(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jhe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(H1)),H1}var q1={},_R;function Ahe(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(q1)),q1}var SR;function Nhe(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aj(),n=Ahe();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(F1)),F1}var Y1={},K1={},kR;function Ohe(){return kR||(kR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj();function n(r){return function(i){return t.get(i,r)}}e.property=n})(K1)),K1}var W1={},V1={},Z1={},X1={},ER;function r9(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(X1)),X1}var J1={},TR;function i9(){return TR||(TR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(J1)),J1}var Q1={},jR;function a9(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Q1)),Q1}var AR;function Che(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9(),n=i9(),r=a9();function i(h,p,b){return typeof b!="function"?i(h,p,()=>{}):a(h,p,function y(k,w,S,j,O,A){const C=b(k,w,S,j,O,A);return C!==void 0?!!C:a(k,w,y,A)},new Map)}function a(h,p,b,y){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,b,y);case"function":return Object.keys(p).length>0?a(h,{...p},b,y):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,b,y){if(p==null)return!0;if(Array.isArray(p))return u(h,p,b,y);if(p instanceof Map)return l(h,p,b,y);if(p instanceof Set)return d(h,p,b,y);const k=Object.keys(p);if(h==null)return k.length===0;if(k.length===0)return!0;if(y?.has(p))return y.get(p)===h;y?.set(p,h);try{for(let w=0;w<k.length;w++){const S=k[w];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!b(h[S],p[S],S,h,p,y))return!1}return!0}finally{y?.delete(p)}}function l(h,p,b,y){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[k,w]of p.entries()){const S=h.get(k);if(b(S,w,k,h,p,y)===!1)return!1}return!0}function u(h,p,b,y){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const k=new Set;for(let w=0;w<p.length;w++){const S=p[w];let j=!1;for(let O=0;O<h.length;O++){if(k.has(O))continue;const A=h[O];let C=!1;if(b(A,S,w,h,p,y)&&(C=!0),C){k.add(O),j=!0;break}}if(!j)return!1}return!0}function d(h,p,b,y){return p.size===0?!0:h instanceof Set?u([...h],[...p],b,y):!1}e.isMatchWith=i,e.isSetMatch=d})(Z1)),Z1}var NR;function o9(){return NR||(NR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Che();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(V1)),V1}var eS={},tS={},nS={},OR;function Mhe(){return OR||(OR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(nS)),nS}var rS={},CR;function s9(){return CR||(CR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(rS)),rS}var iS={},MR;function l9(){return MR||(MR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",p="[object Function]",b="[object ArrayBuffer]",y="[object Object]",k="[object Error]",w="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",$="[object Int32Array]",U="[object BigInt64Array]",W="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=k,e.float32ArrayTag=W,e.float64ArrayTag=Y,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=$,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(iS)),iS}var aS={},DR;function Dhe(){return DR||(DR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(aS)),aS}var PR;function c9(){return PR||(PR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mhe(),n=s9(),r=l9(),i=i9(),a=Dhe();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,b,y=new Map,k=void 0){const w=k?.(h,p,b,y);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=l(h[j],j,b,y,k);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[j,O]of h)S.set(j,l(O,j,b,y,k));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const j of h)S.add(l(j,void 0,b,y,k));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let j=0;j<h.length;j++)S[j]=l(h[j],j,b,y,k);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),u(S,h,b,y,k),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,b,y,k),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof Number){const S=new Number(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(h instanceof String){const S=new String(h.valueOf());return y.set(h,S),u(S,h,b,y,k),S}if(typeof h=="object"&&d(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),u(S,h,b,y,k),S}return h}function u(h,p,b=h,y,k){const w=[...Object.keys(p),...t.getSymbols(p)];for(let S=0;S<w.length;S++){const j=w[S],O=Object.getOwnPropertyDescriptor(h,j);(O==null||O.writable)&&(h[j]=l(p[j],j,b,y,k))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(tS)),tS}var RR;function Phe(){return RR||(RR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c9();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(eS)),eS}var LR;function Rhe(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o9(),n=Phe();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(W1)),W1}var oS={},sS={},lS={},IR;function Lhe(){return IR||(IR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c9(),n=l9();function r(i,a){return t.cloneDeepWith(i,(o,l,u,d)=>{const h=a?.(o,l,u,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(lS)),lS}var $R;function Ihe(){return $R||($R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lhe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(sS)),sS}var cS={},uS={},BR;function u9(){return BR||(BR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uS)),uS}var dS={},zR;function $he(){return zR||(zR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s9();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(dS)),dS}var UR;function Bhe(){return UR||(UR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J7(),n=u9(),r=$he(),i=tj();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let h=0;h<u.length;h++){const p=u[h];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=a})(cS)),cS}var FR;function zhe(){return FR||(FR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o9(),n=ej(),r=Ihe(),i=nj(),a=Bhe();function o(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?a.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(oS)),oS}var HR;function Uhe(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n9(),n=Ohe(),r=Rhe(),i=zhe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Y1)),Y1}var GR;function Fhe(){return GR||(GR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=The(),n=n9(),r=Nhe(),i=Uhe();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(B1)),B1}var fS,qR;function Hhe(){return qR||(qR=1,fS=Fhe().uniqBy),fS}var Ghe=Hhe();const YR=_i(Ghe);function qhe(e,t,n){return t===!0?YR(e,n):typeof t=="function"?YR(e,t):e}var hS={exports:{}},mS={},pS={exports:{}},gS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function Yhe(){if(KR)return gS;KR=1;var e=hf();function t(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,b){var y=b(),k=r({inst:{value:y,getSnapshot:b}}),w=k[0].inst,S=k[1];return a(function(){w.value=y,w.getSnapshot=b,u(w)&&S({inst:w})},[p,y,b]),i(function(){return u(w)&&S({inst:w}),p(function(){u(w)&&S({inst:w})})},[p]),o(y),y}function u(p){var b=p.getSnapshot;p=p.value;try{var y=b();return!n(p,y)}catch{return!0}}function d(p,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return gS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,gS}var WR;function Khe(){return WR||(WR=1,pS.exports=Yhe()),pS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function Whe(){if(VR)return mS;VR=1;var e=hf(),t=Khe();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return mS.useSyncExternalStoreWithSelector=function(d,h,p,b,y){var k=a(null);if(k.current===null){var w={hasValue:!1,value:null};k.current=w}else w=k.current;k=l(function(){function j(P){if(!O){if(O=!0,A=P,P=b(P),y!==void 0&&w.hasValue){var $=w.value;if(y($,P))return C=$}return C=P}if($=C,r(A,P))return $;var U=b(P);return y!==void 0&&y($,U)?(A=P,$):(A=P,C=U)}var O=!1,A,C,D=p===void 0?null:p;return[function(){return j(h())},D===null?void 0:function(){return j(D())}]},[h,p,b,y]);var S=i(d,k[0],k[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},mS}var ZR;function Vhe(){return ZR||(ZR=1,hS.exports=Whe()),hS.exports}var Zhe=Vhe(),oj=_.createContext(null),Xhe=e=>e,pr=()=>{var e=_.useContext(oj);return e?e.store.dispatch:Xhe},Bb=()=>{},Jhe=()=>Bb,Qhe=(e,t)=>e===t;function tt(e){var t=_.useContext(oj);return Zhe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Jhe,t?t.store.getState:Bb,t?t.store.getState:Bb,t?e:Bb,Qhe)}function eme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function tme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nme(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var XR=e=>Array.isArray(e)?e:[e];function rme(e){const t=Array.isArray(e[0])?e[0]:e;return nme(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ime(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ame=class{constructor(e){this.value=e}deref(){return this.value}},ome=typeof WeakRef<"u"?WeakRef:ame,sme=0,JR=1;function ab(){return{s:sme,v:void 0,o:null,p:null}}function d9(e,t={}){let n=ab();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=n;const{length:u}=arguments;for(let p=0,b=u;p<b;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let k=l.o;k===null&&(l.o=k=new WeakMap);const w=k.get(y);w===void 0?(l=ab(),k.set(y,l)):l=w}else{let k=l.p;k===null&&(l.p=k=new Map);const w=k.get(y);w===void 0?(l=ab(),k.set(y,l)):l=w}}const d=l;let h;if(l.s===JR)h=l.v;else if(h=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new ome(h):h}return d.s=JR,d.v=h,h}return o.clearCache=()=>{n=ab(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function lme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),eme(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:b=[],argsMemoize:y=d9,argsMemoizeOptions:k=[]}=h,w=XR(b),S=XR(k),j=rme(i),O=p(function(){return a++,d.apply(null,arguments)},...w),A=y(function(){o++;const D=ime(j,arguments);return l=O.apply(null,D),l},...S);return Object.assign(A,{resultFunc:d,memoizedResultFunc:O,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var xe=lme(d9),cme=Object.assign((e,t=xe)=>{tme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>cme}),bS={},yS={},vS={},QR;function ume(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(vS)),vS}var xS={},wS={},e3;function f9(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(wS)),wS}var t3;function dme(){return t3||(t3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(xS)),xS}var n3;function fme(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ume(),n=dme(),r=tj();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,k)=>{let w=y;for(let S=0;S<k.length&&w!=null;++S)w=w[k[S]];return w},h=(y,k)=>k==null||y==null?k:typeof y=="object"&&"key"in y?Object.hasOwn(k,y.key)?k[y.key]:d(k,y.path):typeof y=="function"?y(k):Array.isArray(y)?d(k,y):typeof k=="object"?k[y]:k,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(k=>h(k,y))})).slice().sort((y,k)=>{for(let w=0;w<p.length;w++){const S=t.compareValues(y.criteria[w],k.criteria[w],l[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=i})(yS)),yS}var _S={},r3;function hme(){return r3||(r3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(_S)),_S}var SS={},i3;function h9(){return i3||(i3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9(),n=aj(),r=r9(),i=a9();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(SS)),SS}var a3;function mme(){return a3||(a3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fme(),n=hme(),r=h9();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(bS)),bS}var kS,o3;function pme(){return o3||(o3=1,kS=mme().sortBy),kS}var gme=pme();const ix=_i(gme);var m9=e=>e.legend.settings,bme=e=>e.legend.size,yme=e=>e.legend.payload;xe([yme,m9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ix(r,n):r});var ob=1;function vme(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>ob||Math.abs(o.left-t.left)>ob||Math.abs(o.top-t.top)>ob||Math.abs(o.width-t.width)>ob)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var p9=Symbol.for("immer-nothing"),s3=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Ka(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fi=Object,sf=Fi.getPrototypeOf,Py="constructor",ax="prototype",N2="configurable",Ry="enumerable",zb="writable",Vm="value",Ms=e=>!!e&&!!e[Qr];function no(e){return e?g9(e)||ox(e)||!!e[s3]||!!e[Py]?.[s3]||sx(e)||lx(e):!1}var xme=Fi[ax][Py].toString(),l3=new WeakMap;function g9(e){if(!e||!sj(e))return!1;const t=sf(e);if(t===null||t===Fi[ax])return!0;const n=Fi.hasOwnProperty.call(t,Py)&&t[Py];if(n===Object)return!0;if(!Dd(n))return!1;let r=l3.get(n);return r===void 0&&(r=Function.toString.call(n),l3.set(n,r)),r===xme}function jp(e,t,n=!0){Ap(e)===0?(n?Reflect.ownKeys(e):Fi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ap(e){const t=e[Qr];return t?t.type_:ox(e)?1:sx(e)?2:lx(e)?3:0}var c3=(e,t,n=Ap(e))=>n===2?e.has(t):Fi[ax].hasOwnProperty.call(e,t),O2=(e,t,n=Ap(e))=>n===2?e.get(t):e[t],Ly=(e,t,n,r=Ap(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function wme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ox=Array.isArray,sx=e=>e instanceof Map,lx=e=>e instanceof Set,sj=e=>typeof e=="object",Dd=e=>typeof e=="function",ES=e=>typeof e=="boolean",ys=e=>e.copy_||e.base_,lj=e=>e.modified_?e.copy_:e.base_;function C2(e,t){if(sx(e))return new Map(e);if(lx(e))return new Set(e);if(ox(e))return Array[ax].slice.call(e);const n=g9(e);if(t===!0||t==="class_only"&&!n){const r=Fi.getOwnPropertyDescriptors(e);delete r[Qr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[zb]===!1&&(l[zb]=!0,l[N2]=!0),(l.get||l.set)&&(r[o]={[N2]:!0,[zb]:!0,[Ry]:l[Ry],[Vm]:e[o]})}return Fi.create(sf(e),r)}else{const r=sf(e);if(r!==null&&n)return{...e};const i=Fi.create(r);return Fi.assign(i,e)}}function cj(e,t=!1){return cx(e)||Ms(e)||!no(e)||(Ap(e)>1&&Fi.defineProperties(e,{set:sb,add:sb,clear:sb,delete:sb}),Fi.freeze(e),t&&jp(e,(n,r)=>{cj(r,!0)},!1)),e}function _me(){Ka(2)}var sb={[Vm]:_me};function cx(e){return e===null||!sj(e)?!0:Fi.isFrozen(e)}var Iy="MapSet",M2="Patches",b9={};function lf(e){const t=b9[e];return t||Ka(0,e),t}var Sme=e=>!!b9[e],Zm,y9=()=>Zm,kme=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sme(Iy)?lf(Iy):void 0});function u3(e,t){t&&(e.patchPlugin_=lf(M2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function D2(e){P2(e),e.drafts_.forEach(Eme),e.drafts_=null}function P2(e){e===Zm&&(Zm=e.parent_)}var d3=e=>Zm=kme(Zm,e);function Eme(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function f3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qr].modified_&&(D2(t),Ka(4)),no(e)&&(e=h3(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Qr].base_,e,t)}else e=h3(t,n);return Tme(t,e,!0),D2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==p9?e:void 0}function h3(e,t){if(cx(t))return t;const n=t[Qr];if(!n)return uj(t,e.handledSet_,e);if(!ux(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);w9(n,e)}return n.copy_}function Tme(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cj(t,n)}function v9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ux=(e,t)=>e.scope_===t,jme=[];function x9(e,t,n,r){const i=ys(e),a=e.type_;if(r!==void 0&&O2(i,r,a)===t){Ly(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;jp(i,(u,d)=>{if(Ms(d)){const h=l.get(d)||[];h.push(u),l.set(d,h)}})}const o=e.draftLocations_.get(t)??jme;for(const l of o)Ly(i,l,n,a)}function Ame(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!ux(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=lj(a);x9(e,a.draft_??a,o,n),w9(a,i)})}function w9(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}v9(e)}}function Nme(e,t,n){const{scope_:r}=e;if(Ms(n)){const i=n[Qr];ux(i,r)&&i.callbacks_.push(function(){Ub(e);const o=lj(i);x9(e,n,o,t)})}else no(n)&&e.callbacks_.push(function(){const a=ys(e);O2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&uj(O2(e.copy_,t,e.type_),r.handledSet_,r)})}function uj(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(e)||t.has(e)||!no(e)||cx(e)||(t.add(e),jp(e,(r,i)=>{if(Ms(i)){const a=i[Qr];if(ux(a,n)){const o=lj(a);Ly(e,r,o,e.type_),v9(a)}}else no(i)&&uj(i,t,n)})),e}function Ome(e,t){const n=ox(e),r={type_:n?1:0,scope_:t?t.scope_:y9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=dj;n&&(i=[r],a=Xm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var dj={get(e,t){if(t===Qr)return e;const n=ys(e);if(!c3(n,t,e.type_))return Cme(e,n,t);const r=n[t];if(e.finalized_||!no(r))return r;if(r===TS(e.base_,t)){Ub(e);const i=e.type_===1?+t:t,a=L2(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in ys(e)},ownKeys(e){return Reflect.ownKeys(ys(e))},set(e,t,n){const r=_9(ys(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=TS(ys(e),t),a=i?.[Qr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(wme(n,i)&&(n!==void 0||c3(e.base_,t,e.type_)))return!0;Ub(e),R2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Nme(e,t,n)),!0},deleteProperty(e,t){return Ub(e),TS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),R2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[zb]:!0,[N2]:e.type_!==1||t!=="length",[Ry]:r[Ry],[Vm]:n[t]}},defineProperty(){Ka(11)},getPrototypeOf(e){return sf(e.base_)},setPrototypeOf(){Ka(12)}},Xm={};jp(dj,(e,t)=>{Xm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Xm.deleteProperty=function(e,t){return Xm.set.call(this,e,t,void 0)};Xm.set=function(e,t,n){return dj.set.call(this,e[0],t,n,e[0])};function TS(e,t){const n=e[Qr];return(n?ys(n):e)[t]}function Cme(e,t,n){const r=_9(t,n);return r?Vm in r?r[Vm]:r.get?.call(e.draft_):void 0}function _9(e,t){if(!(t in e))return;let n=sf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sf(n)}}function R2(e){e.modified_||(e.modified_=!0,e.parent_&&R2(e.parent_))}function Ub(e){e.copy_||(e.assigned_=new Map,e.copy_=C2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Mme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Dd(n)&&!Dd(r)){const o=r;r=n;const l=this;return function(d=o,...h){return l.produce(d,p=>r.call(this,p,...h))}}Dd(r)||Ka(6),i!==void 0&&!Dd(i)&&Ka(7);let a;if(no(n)){const o=d3(this),l=L2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?D2(o):P2(o)}return u3(o,i),f3(a,o)}else if(!n||!sj(n)){if(a=r(n),a===void 0&&(a=n),a===p9&&(a=void 0),this.autoFreeze_&&cj(a,!0),i){const o=[],l=[];lf(M2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ka(1,n)},this.produceWithPatches=(n,r)=>{if(Dd(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},ES(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ES(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ES(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){no(t)||Ka(8),Ms(t)&&(t=Xa(t));const n=d3(this),r=L2(n,t,void 0);return r[Qr].isManual_=!0,P2(n),r}finishDraft(t,n){const r=t&&t[Qr];(!r||!r.isManual_)&&Ka(9);const{scope_:i}=r;return u3(i,n),f3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=lf(M2).applyPatches_;return Ms(t)?i(t,n):this.produce(t,a=>i(a,n))}};function L2(e,t,n,r){const[i,a]=sx(t)?lf(Iy).proxyMap_(t,n):lx(t)?lf(Iy).proxySet_(t,n):Ome(t,n);return(n?.scope_??y9()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?Ame(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=u;a.modified_&&d&&d.generatePatches_(a,[],u)}),i}function Xa(e){return Ms(e)||Ka(10,e),S9(e)}function S9(e){if(!no(e)||cx(e))return e;const t=e[Qr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=C2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=C2(e,!0);return jp(n,(i,a)=>{Ly(n,i,S9(a))},r),t&&(t.finalized_=!1),n}var Dme=new Mme,k9=Dme.produce;function E9(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Pme=E9(),Rme=E9,Lme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rm:Rm.apply(null,arguments)};function Sa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(qi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>HB(r)&&r.type===e,n}var T9=class xm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xm.prototype)}static get[Symbol.species](){return xm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xm(...t[0].concat(this)):new xm(...t.concat(this))}};function m3(e){return no(e)?k9(e,()=>{}):e}function lb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ime(e){return typeof e=="boolean"}var $me=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new T9;return n&&(Ime(n)?o.push(Pme):o.push(Rme(n.extraArgument))),o},j9="RTK_autoBatch",un=()=>e=>({payload:e,meta:{[j9]:!0}}),p3=e=>t=>{setTimeout(t,e)},A9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:p3(10):e.type==="callback"?e.queueNotification:p3(e.timeout),d=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),b=r.subscribe(p);return l.add(h),()=>{b(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[j9],a=!i,a&&(o||(o=!0,u(d))),r.dispatch(h)}finally{i=!0}}})},Bme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new T9(e);return r&&i.push(A9(typeof r=="object"?r:void 0)),i};function zme(e){const t=$me(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(ZE(n))l=UB(n);else throw new Error(qi(1));let u;typeof r=="function"?u=r(t):u=t();let d=Rm;i&&(d=Lme({trace:!1,...typeof i=="object"&&i}));const h=FB(...u),p=Bme(h);let b=typeof o=="function"?o(p):p();const y=d(...b);return XE(l,a,y)}function N9(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(qi(28));if(l in t)throw new Error(qi(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Ume(e){return typeof e=="function"}function Fme(e,t){let[n,r,i]=N9(t),a;if(Ume(e))a=()=>m3(e());else{const l=m3(e);a=()=>l}function o(l=a(),u){let d=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,p)=>{if(p)if(Ms(h)){const y=p(h,u);return y===void 0?h:y}else{if(no(h))return k9(h,b=>p(b,u));{const b=p(h,u);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},l)}return o.getInitialState=a,o}var Hme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gme=(e=21)=>{let t="",n=e;for(;n--;)t+=Hme[Math.random()*64|0];return t},qme=Symbol.for("rtk-slice-createasyncthunk");function Yme(e,t){return`${e}/${t}`}function Kme({creators:e}={}){const t=e?.asyncThunk?.[qme];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(qi(11));const o=(typeof r.reducers=="function"?r.reducers(Vme()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,C){const D=typeof A=="string"?A:A.type;if(!D)throw new Error(qi(12));if(D in u.sliceCaseReducersByType)throw new Error(qi(13));return u.sliceCaseReducersByType[D]=C,d},addMatcher(A,C){return u.sliceMatchers.push({matcher:A,reducer:C}),d},exposeAction(A,C){return u.actionCreators[A]=C,d},exposeCaseReducer(A,C){return u.sliceCaseReducersByName[A]=C,d}};l.forEach(A=>{const C=o[A],D={reducerName:A,type:Yme(i,A),createNotation:typeof r.reducers=="function"};Xme(C)?Qme(D,C,d,t):Zme(D,C,d)});function h(){const[A={},C=[],D=void 0]=typeof r.extraReducers=="function"?N9(r.extraReducers):[r.extraReducers],P={...A,...u.sliceCaseReducersByType};return Fme(r.initialState,$=>{for(let U in P)$.addCase(U,P[U]);for(let U of u.sliceMatchers)$.addMatcher(U.matcher,U.reducer);for(let U of C)$.addMatcher(U.matcher,U.reducer);D&&$.addDefaultCase(D)})}const p=A=>A,b=new Map,y=new WeakMap;let k;function w(A,C){return k||(k=h()),k(A,C)}function S(){return k||(k=h()),k.getInitialState()}function j(A,C=!1){function D($){let U=$[A];return typeof U>"u"&&C&&(U=lb(y,D,S)),U}function P($=p){const U=lb(b,C,()=>new WeakMap);return lb(U,$,()=>{const W={};for(const[Y,F]of Object.entries(r.selectors??{}))W[Y]=Wme(F,$,()=>lb(y,$,S),C);return W})}return{reducerPath:A,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const O={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...j(a),injectInto(A,{reducerPath:C,...D}={}){const P=C??a;return A.inject({reducerPath:P,reducer:w},D),{...O,...j(P,!0)}}};return O}}function Wme(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Si=Kme();function Vme(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Zme({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Jme(r))throw new Error(qi(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Sa(e,o):Sa(e))}function Xme(e){return e._reducerDefinitionType==="asyncThunk"}function Jme(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Qme({type:e,reducerName:t},n,r,i){if(!i)throw new Error(qi(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:d,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:o||cb,pending:l||cb,rejected:u||cb,settled:d||cb})}function cb(){}var epe="task",O9="listener",C9="completed",fj="cancelled",tpe=`task-${fj}`,npe=`task-${C9}`,I2=`${O9}-${fj}`,rpe=`${O9}-${C9}`,dx=class{constructor(e){this.code=e,this.message=`${epe} ${fj} (reason: ${e})`}name="TaskAbortError";message},hj=(e,t)=>{if(typeof e!="function")throw new TypeError(qi(32))},$y=()=>{},M9=(e,t=$y)=>(e.catch(t),e),D9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),du=e=>{if(e.aborted)throw new dx(e.reason)};function P9(e,t){let n=$y;return new Promise((r,i)=>{const a=()=>i(new dx(e.reason));if(e.aborted){a();return}n=D9(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=$y})}var ipe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof dx?"cancelled":"rejected",error:n}}finally{t?.()}},By=e=>t=>M9(P9(e,t).then(n=>(du(e),n))),R9=e=>{const t=By(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Yd}=Object,g3={},fx="listenerMiddleware",ape=(e,t)=>{const n=r=>D9(e,()=>r.abort(e.reason));return(r,i)=>{hj(r);const a=new AbortController;n(a);const o=ipe(async()=>{du(e),du(a.signal);const l=await r({pause:By(a.signal),delay:R9(a.signal),signal:a.signal});return du(a.signal),l},()=>a.abort(npe));return i?.autoJoin&&t.push(o.catch($y)),{result:By(e)(o),cancel(){a.abort(tpe)}}}},ope=(e,t)=>{const n=async(r,i)=>{du(t);let a=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:r,effect:(p,b)=>{b.unsubscribe(),u([p,b.getState(),b.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await P9(t,Promise.race(l));return du(t),u}finally{a()}};return(r,i)=>M9(n(r,i))},L9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Sa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(qi(21));return hj(a),{predicate:i,type:t,effect:a}},I9=Yd(e=>{const{type:t,predicate:n,effect:r}=L9(e);return{id:Gme(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qi(22))}}},{withTypes:()=>I9}),b3=(e,t)=>{const{type:n,effect:r,predicate:i}=L9(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},$2=e=>{e.pending.forEach(t=>{t.abort(I2)})},spe=(e,t)=>()=>{for(const n of t.keys())$2(n);e.clear()},y3=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},$9=Yd(Sa(`${fx}/add`),{withTypes:()=>$9}),lpe=Sa(`${fx}/removeAll`),B9=Yd(Sa(`${fx}/remove`),{withTypes:()=>B9}),cpe=(...e)=>{console.error(`${fx}/error`,...e)},Np=(e={})=>{const t=new Map,n=new Map,r=y=>{const k=n.get(y)??0;n.set(y,k+1)},i=y=>{const k=n.get(y)??1;k===1?n.delete(y):n.set(y,k-1)},{extra:a,onError:o=cpe}=e;hj(o);const l=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),k=>{y.unsubscribe(),k?.cancelActive&&$2(y)}),u=y=>{const k=b3(t,y)??I9(y);return l(k)};Yd(u,{withTypes:()=>u});const d=y=>{const k=b3(t,y);return k&&(k.unsubscribe(),y.cancelActive&&$2(k)),!!k};Yd(d,{withTypes:()=>d});const h=async(y,k,w,S)=>{const j=new AbortController,O=ope(u,j.signal),A=[];try{y.pending.add(j),r(y),await Promise.resolve(y.effect(k,Yd({},w,{getOriginalState:S,condition:(C,D)=>O(C,D).then(Boolean),take:O,delay:R9(j.signal),pause:By(j.signal),extra:a,signal:j.signal,fork:ape(j.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,D,P)=>{C!==j&&(C.abort(I2),P.delete(C))})},cancel:()=>{j.abort(I2),y.pending.delete(j)},throwIfCancelled:()=>{du(j.signal)}})))}catch(C){C instanceof dx||y3(o,C,{raisedBy:"effect"})}finally{await Promise.all(A),j.abort(rpe),i(y),y.pending.delete(j)}},p=spe(t,n);return{middleware:y=>k=>w=>{if(!HB(w))return k(w);if($9.match(w))return u(w.payload);if(lpe.match(w)){p();return}if(B9.match(w))return d(w.payload);let S=y.getState();const j=()=>{if(S===g3)throw new Error(qi(23));return S};let O;try{if(O=k(w),t.size>0){const A=y.getState(),C=Array.from(t.values());for(const D of C){let P=!1;try{P=D.predicate(w,A,S)}catch($){P=!1,y3(o,$,{raisedBy:"predicate"})}P&&h(D,w,y,j)}}}finally{S=g3}return O},startListening:u,stopListening:d,clearListeners:p}};function qi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var upe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},z9=Si({name:"chartLayout",initialState:upe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dpe,setLayout:fpe,setChartSize:hpe,setScale:mpe}=z9.actions,ppe=z9.reducer;function U9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(r){gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gpe(e,t,n){return(t=bpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bpe(e){var t=ype(e,"string");return typeof t=="symbol"?t:t+""}function ype(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ir(e,t,n){return jr(e)||jr(t)?n:Io(t)?rx(e,t,n):typeof t=="function"?t(e):n}var vpe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Qe(e[a]))return $d($d({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Qe(e[o]))return $d($d({},e),{},{[o]:e[o]+(i||0)})}return e},$s=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",F9=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},H9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:p,niceTicks:b,axisType:y}=e;if(!o)return null;var k=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=i==="category"&&o.bandwidth?o.bandwidth()/k:0;if(w=y==="angleAxis"&&a&&a.length>=2?ba(a[0]-a[1])*2*w:w,p||b){var S=(p||b||[]).map((j,O)=>{var A=r?r.indexOf(j):j;return{coordinate:o(A)+w,value:j,offset:w,index:O}});return S.filter(j=>!to(j.coordinate))}return u&&d?d.map((j,O)=>({coordinate:o(j)+w,value:j,index:O,offset:w})):o.ticks&&h!=null?o.ticks(h).map((j,O)=>({coordinate:o(j)+w,value:j,offset:w,index:O})):o.domain().map((j,O)=>({coordinate:o(j)+w,value:r?r[j]:j,index:O,offset:w}))},x3=1e-4,xpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-x3,a=Math.max(r[0],r[1])+x3,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},wpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var l=to(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},_pe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=to(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Spe={sign:wpe,expand:dhe,none:of,silhouette:fhe,wiggle:hhe,positive:_pe},kpe=(e,t,n)=>{var r=Spe[n],i=uhe().keys(t).value((a,o)=>Number(Ir(a,o,0))).order(A2).offset(r);return i(e)};function Epe(e){return e==null?void 0:String(e)}function w3(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jr(i[t.dataKey])){var l=e9(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Ir(i,jr(o)?t.dataKey:o);return jr(u)?null:t.scale(u)}var Tpe=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},jpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ape=(e,t,n)=>{if(e!=null)return jpe(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,l=o.reduce((u,d)=>{var h=U9(d,t,n),p=Tpe(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},_3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ix(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function k3(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return $d($d({},t),{},{dataKey:n,payload:r,value:i,name:a})}function G9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Npe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Ope=(e,t)=>t==="centric"?e.angle:e.radius,Bs=e=>e.layout.width,zs=e=>e.layout.height,Cpe=e=>e.layout.scale,q9=e=>e.layout.margin,hx=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),mx=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Mpe="data-recharts-item-index",Dpe="data-recharts-item-data-key",Op=60;function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(r){Ppe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ppe(e,t,n){return(t=Rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rpe(e){var t=Lpe(e,"string");return typeof t=="symbol"?t:t+""}function Lpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ipe=e=>e.brush.height;function $pe(e){var t=mx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Op;return n+i}return n},0)}function Bpe(e){var t=mx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Op;return n+i}return n},0)}function zpe(e){var t=hx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Upe(e){var t=hx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Or=xe([Bs,zs,q9,Ipe,$pe,Bpe,zpe,Upe,m9,bme],(e,t,n,r,i,a,o,l,u,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},b=ub(ub({},p),h),y=b.bottom;b.bottom+=r,b=vpe(b,u,d);var k=e-b.left-b.right,w=t-b.top-b.bottom;return ub(ub({brushBottom:y},b),{},{width:Math.max(k,0),height:Math.max(w,0)})}),Fpe=xe(Or,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Y9=xe(Bs,zs,(e,t)=>({x:0,y:0,width:e,height:t})),Hpe=_.createContext(null),ki=()=>_.useContext(Hpe)!=null,px=e=>e.brush,gx=xe([px,Or,q9],(e,t,n)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qe(e.width)?e.width:t.width})),jS={},AS={},NS={},T3;function Gpe(){return T3||(T3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{d&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},k=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{k(),o=void 0,l=null},S=()=>{h()},j=function(...O){if(i?.aborted)return;o=this,l=O;const A=b==null;y(),u&&A&&h()};return j.schedule=y,j.cancel=w,j.flush=S,i?.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(NS)),NS}var j3;function qpe(){return j3||(j3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gpe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let h,p=null;const b=t.debounce(function(...w){h=r.apply(this,w),p=null},i,{edges:d}),y=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,w),p=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},k=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=k,y}e.debounce=n})(AS)),AS}var A3;function Ype(){return A3||(A3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(jS)),jS}var OS,N3;function Kpe(){return N3||(N3=1,OS=Ype().throttle),OS}var Wpe=Kpe();const Vpe=_i(Wpe);var Uy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},K9=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=Cs(r)?e:Number(r),u=Cs(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},Zpe={width:0,height:0,overflow:"visible"},Xpe={width:0,overflowX:"visible"},Jpe={height:0,overflowY:"visible"},Qpe={},e0e=e=>{var{width:t,height:n}=e,r=Cs(t),i=Cs(n);return r&&i?Zpe:r?Xpe:i?Jpe:Qpe};function t0e(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function An(e){return Number.isFinite(e)}function $o(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B2.apply(null,arguments)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(r){n0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n0e(e,t,n){return(t=r0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r0e(e){var t=i0e(e,"string");return typeof t=="symbol"?t:t+""}function i0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W9=_.createContext({width:-1,height:-1});function a0e(e){return $o(e.width)&&$o(e.height)}function V9(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return a0e(i)?_.createElement(W9.Provider,{value:i},t):null}var mj=()=>_.useContext(W9),o0e=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:p,className:b,onResize:y,style:k={}}=e,w=_.useRef(null),S=_.useRef();S.current=y,_.useImperativeHandle(t,()=>w.current);var[j,O]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((U,W)=>{O(Y=>{var F=Math.round(U),z=Math.round(W);return Y.containerWidth===F&&Y.containerHeight===z?Y:{containerWidth:F,containerHeight:z}})},[]);_.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Tp;var U=z=>{var K,{width:Z,height:X}=z[0].contentRect;A(Z,X),(K=S.current)===null||K===void 0||K.call(S,Z,X)};h>0&&(U=Vpe(U,h,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),{width:Y,height:F}=w.current.getBoundingClientRect();return A(Y,F),W.observe(w.current),()=>{W.disconnect()}},[A,h]);var{containerWidth:C,containerHeight:D}=j;Uy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:$}=K9(C,D,{width:i,height:a,aspect:n,maxHeight:u});return Uy(P!=null&&P>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,$,i,a,o,l,n),_.createElement("div",{id:p?"".concat(p):void 0,className:rn("recharts-responsive-container",b),style:C3(C3({},k),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:w},_.createElement("div",{style:e0e({width:i,height:a})},_.createElement(V9,{width:P,height:$},d)))}),s0e=_.forwardRef((e,t)=>{var n=mj();if($o(n.width)&&$o(n.height))return e.children;var{width:r,height:i}=t0e({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=K9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Qe(a)&&Qe(o)?_.createElement(V9,{width:a,height:o},e.children):_.createElement(o0e,B2({},e,{width:r,height:i,ref:t}))});function Z9(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var bx=()=>{var e,t=ki(),n=tt(Fpe),r=tt(gx),i=(e=tt(px))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},l0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},X9=()=>{var e;return(e=tt(Or))!==null&&e!==void 0?e:l0e},J9=()=>tt(Bs),Q9=()=>tt(zs),Xt=e=>e.layout.layoutType,Cp=()=>tt(Xt),c0e=()=>{var e=Cp();if(e==="horizontal"||e==="vertical")return e},u0e=()=>{var e=Cp();return e!==void 0},yx=e=>{var t=pr(),n=ki(),{width:r,height:i}=e,a=mj(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),_.useEffect(()=>{!n&&$o(o)&&$o(l)&&t(hpe({width:o,height:l}))},[t,n,o,l]),null},e8=Symbol.for("immer-nothing"),M3=Symbol.for("immer-draftable"),Ki=Symbol.for("immer-state");function Wa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jm=Object.getPrototypeOf;function cf(e){return!!e&&!!e[Ki]}function yu(e){return e?t8(e)||Array.isArray(e)||!!e[M3]||!!e.constructor?.[M3]||Mp(e)||xx(e):!1}var d0e=Object.prototype.constructor.toString(),D3=new WeakMap;function t8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=D3.get(n);return r===void 0&&(r=Function.toString.call(n),D3.set(n,r)),r===d0e}function Fy(e,t,n=!0){vx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function vx(e){const t=e[Ki];return t?t.type_:Array.isArray(e)?1:Mp(e)?2:xx(e)?3:0}function z2(e,t){return vx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function n8(e,t,n){const r=vx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function f0e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mp(e){return e instanceof Map}function xx(e){return e instanceof Set}function Jc(e){return e.copy_||e.base_}function U2(e,t){if(Mp(e))return new Map(e);if(xx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=t8(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ki];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Jm(e),r)}else{const r=Jm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function pj(e,t=!1){return wx(e)||cf(e)||!yu(e)||(vx(e)>1&&Object.defineProperties(e,{set:db,add:db,clear:db,delete:db}),Object.freeze(e),t&&Object.values(e).forEach(n=>pj(n,!0))),e}function h0e(){Wa(2)}var db={value:h0e};function wx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var m0e={};function vu(e){const t=m0e[e];return t||Wa(0,e),t}var Qm;function r8(){return Qm}function p0e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function P3(e,t){t&&(vu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F2(e){H2(e),e.drafts_.forEach(g0e),e.drafts_=null}function H2(e){e===Qm&&(Qm=e.parent_)}function R3(e){return Qm=p0e(Qm,e)}function g0e(e){const t=e[Ki];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function L3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ki].modified_&&(F2(t),Wa(4)),yu(e)&&(e=Hy(t,e),t.parent_||Gy(t,e)),t.patches_&&vu("Patches").generateReplacementPatches_(n[Ki].base_,e,t.patches_,t.inversePatches_)):e=Hy(t,n,[]),F2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e8?e:void 0}function Hy(e,t,n){if(wx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ki];if(!i)return Fy(t,(a,o)=>I3(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Gy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),Fy(o,(u,d)=>I3(e,i,a,u,d,n,l),r),Gy(e,a,!1),n&&e.patches_&&vu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function I3(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=wx(i);if(!(l&&!o)){if(cf(i)){const u=a&&t&&t.type_!==3&&!z2(t.assigned_,r)?a.concat(r):void 0,d=Hy(e,i,u);if(n8(n,r,d),cf(d))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(yu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Hy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Mp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Gy(e,i)}}}function Gy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pj(t,n)}function b0e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:r8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=gj;n&&(i=[r],a=ep);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var gj={get(e,t){if(t===Ki)return e;const n=Jc(e);if(!z2(n,t))return y0e(e,n,t);const r=n[t];return e.finalized_||!yu(r)?r:r===CS(e.base_,t)?(MS(e),e.copy_[t]=q2(r,e)):r},has(e,t){return t in Jc(e)},ownKeys(e){return Reflect.ownKeys(Jc(e))},set(e,t,n){const r=i8(Jc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=CS(Jc(e),t),a=i?.[Ki];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(f0e(n,i)&&(n!==void 0||z2(e.base_,t)))return!0;MS(e),G2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return CS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,MS(e),G2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Jc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Wa(11)},getPrototypeOf(e){return Jm(e.base_)},setPrototypeOf(){Wa(12)}},ep={};Fy(gj,(e,t)=>{ep[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ep.deleteProperty=function(e,t){return ep.set.call(this,e,t,void 0)};ep.set=function(e,t,n){return gj.set.call(this,e[0],t,n,e[0])};function CS(e,t){const n=e[Ki];return(n?Jc(n):e)[t]}function y0e(e,t,n){const r=i8(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function i8(e,t){if(!(t in e))return;let n=Jm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jm(n)}}function G2(e){e.modified_||(e.modified_=!0,e.parent_&&G2(e.parent_))}function MS(e){e.copy_||(e.copy_=U2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var v0e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Wa(6),r!==void 0&&typeof r!="function"&&Wa(7);let i;if(yu(t)){const a=R3(this),o=q2(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?F2(a):H2(a)}return P3(a,r),L3(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===e8&&(i=void 0),this.autoFreeze_&&pj(i,!0),r){const a=[],o=[];vu("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Wa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yu(e)||Wa(8),cf(e)&&(e=x0e(e));const t=R3(this),n=q2(e,void 0);return n[Ki].isManual_=!0,H2(t),n}finishDraft(e,t){const n=e&&e[Ki];(!n||!n.isManual_)&&Wa(9);const{scope_:r}=n;return P3(r,t),L3(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=vu("Patches").applyPatches_;return cf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function q2(e,t){const n=Mp(e)?vu("MapSet").proxyMap_(e,t):xx(e)?vu("MapSet").proxySet_(e,t):b0e(e,t);return(t?t.scope_:r8()).drafts_.push(n),n}function x0e(e){return cf(e)||Wa(10,e),a8(e)}function a8(e){if(!yu(e)||wx(e))return e;const t=e[Ki];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=U2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=U2(e,!0);return Fy(n,(i,a)=>{n8(n,i,a8(a))},r),t&&(t.finalized_=!1),n}var w0e=new v0e;w0e.produce;var _0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},o8=Si({name:"legend",initialState:_0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:un()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xa(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:un()},removeLegendPayload:{reducer(e,t){var n=Xa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:un()}}}),{setLegendSize:gCe,setLegendSettings:bCe,addLegendPayload:S0e,replaceLegendPayload:k0e,removeLegendPayload:E0e}=o8.actions,T0e=o8.reducer;function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y2.apply(null,arguments)}function $3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(n),!0).forEach(function(r){j0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j0e(e,t,n){return(t=A0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A0e(e){var t=N0e(e,"string");return typeof t=="symbol"?t:t+""}function N0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0e(e){return Array.isArray(e)&&Io(e[0])&&Io(e[1])?e.join(" ~ "):e}var C0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:p,accessibilityLayer:b=!1}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(l?ix(a,l):a).map(($,U)=>{if($.type==="none")return null;var W=$.formatter||o||O0e,{value:Y,name:F}=$,z=Y,K=F;if(W){var Z=W(Y,F,$,U,a);if(Array.isArray(Z))[z,K]=Z;else if(Z!=null)z=Z;else return null}var X=DS({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:X},Io(K)?_.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Io(K)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},z),_.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},k=DS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=DS({margin:0},i),S=!jr(h),j=S?h:"",O=rn("recharts-default-tooltip",u),A=rn("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(j=p(h,a));var C=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Y2({className:O,style:k},C),_.createElement("p",{className:A,style:w},_.isValidElement(j)?j:"".concat(j)),y())},am="recharts-tooltip-wrapper",M0e={visibility:"hidden"};function D0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return rn(am,{["".concat(am,"-right")]:Qe(n)&&t&&Qe(t.x)&&n>=t.x,["".concat(am,"-left")]:Qe(n)&&t&&Qe(t.x)&&n<t.x,["".concat(am,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(am,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function B3(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(a&&Qe(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var b=u[r];if(b==null)return 0;if(o[r]){var y=h,k=b;return y<k?Math.max(p,b):Math.max(h,b)}if(d==null)return 0;var w=p+l,S=b+d;return w>S?Math.max(h,b):Math.max(p,b)}function P0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function R0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,h,p;return o.height>0&&o.width>0&&n?(h=B3({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=B3({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=P0e({translateX:h,translateY:p,useTranslate3d:l})):d=M0e,{cssProperties:d,cssClasses:D0e({translateX:h,translateY:p,coordinate:n})}}function z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(n),!0).forEach(function(r){K2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K2(e,t,n){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $0e extends _.PureComponent{constructor(){super(...arguments),K2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),K2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:p,useTranslate3d:b,viewBox:y,wrapperStyle:k,lastBoundingBox:w,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:O,cssProperties:A}=R0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),C=j?{}:fb(fb({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=fb(fb({},C),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},k);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:S},a)}}var s8=()=>{var e;return(e=tt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W2.apply(null,arguments)}function U3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(n),!0).forEach(function(r){B0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B0e(e,t,n){return(t=z0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z0e(e){var t=U0e(e,"string");return typeof t=="symbol"?t:t+""}function U0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H3={curveBasisClosed:Qfe,curveBasisOpen:ehe,curveBasis:Jfe,curveBumpX:Zfe,curveBumpY:Xfe,curveLinearClosed:the,curveLinear:tx,curveMonotoneX:nhe,curveMonotoneY:rhe,curveNatural:ihe,curveStep:ahe,curveStepAfter:she,curveStepBefore:ohe},qy=e=>An(e.x)&&An(e.y),G3=e=>e.base!=null&&qy(e.base)&&qy(e),om=e=>e.x,sm=e=>e.y,F0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(rj(e));return(n==="curveMonotone"||n==="curveBump")&&t?H3["".concat(n).concat(t==="vertical"?"Y":"X")]:H3[n]||tx},H0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=F0e(t,i),l=a?n.filter(qy):n,u;if(Array.isArray(r)){var d=n.map((y,k)=>F3(F3({},y),{},{base:r[k]}));i==="vertical"?u=ib().y(sm).x1(om).x0(y=>y.base.x):u=ib().x(om).y1(sm).y0(y=>y.base.y);var h=u.defined(G3).curve(o),p=a?d.filter(G3):d;return h(p)}i==="vertical"&&Qe(r)?u=ib().y(sm).x1(om).x0(r):Qe(r)?u=ib().x(om).y1(sm).y0(r):u=H7().x(om).y(sm);var b=u.defined(qy).curve(o);return b(l)},Fb=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?H0e(e):r;return _.createElement("path",W2({},eo(e),ij(e),{className:rn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},G0e=["x","y","top","left","width","height","className"];function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(null,arguments)}function q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(n),!0).forEach(function(r){Y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y0e(e,t,n){return(t=K0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K0e(e){var t=W0e(e,"string");return typeof t=="symbol"?t:t+""}function W0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0e(e,t){if(e==null)return{};var n,r,i=Z0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var X0e=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),J0e=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=V0e(e,G0e),d=q0e({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Qe(t)||!Qe(n)||!Qe(a)||!Qe(o)||!Qe(r)||!Qe(i)?null:_.createElement("path",V2({},_a(d),{className:rn("recharts-cross",l),d:X0e(t,n,a,o,r,i)}))};function Q0e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(n),!0).forEach(function(r){ege(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ege(e,t,n){return(t=tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tge(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rge=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ige=(e,t,n)=>e.map(r=>"".concat(rge(r)," ").concat(t,"ms ").concat(n)).join(","),age=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),tp=(e,t)=>Object.keys(t).reduce((n,r)=>K3(K3({},n),{},{[r]:e(r,t[r])}),{});function W3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(n),!0).forEach(function(r){oge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oge(e,t,n){return(t=sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sge(e){var t=lge(e,"string");return typeof t=="symbol"?t:t+""}function lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yy=(e,t,n)=>e+(t-e)*n,Z2=e=>{var{from:t,to:n}=e;return t!==n},l8=(e,t,n)=>{var r=tp((i,a)=>{if(Z2(a)){var[o,l]=e(a.from,a.to,a.velocity);return Jn(Jn({},a),{},{from:o,velocity:l})}return a},t);return n<1?tp((i,a)=>Z2(a)?Jn(Jn({},a),{},{velocity:Yy(a.velocity,r[i].velocity,n),from:Yy(a.from,r[i].from,n)}):a,t):l8(e,r,n-1)};function cge(e,t,n,r,i,a){var o,l=r.reduce((b,y)=>Jn(Jn({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>tp((b,y)=>y.from,l),d=()=>!Object.values(l).filter(Z2).length,h=null,p=b=>{o||(o=b);var y=b-o,k=y/n.dt;l=l8(n,l,k),i(Jn(Jn(Jn({},e),t),u())),o=b,d()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var b;(b=h)===null||b===void 0||b()})}function uge(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,b)=>Jn(Jn({},p),{},{[b]:[e[b],t[b]]}),{}),d,h=p=>{d||(d=p);var b=(p-d)/r,y=tp((w,S)=>Yy(...S,n(b)),u);if(a(Jn(Jn(Jn({},e),t),y)),b<1)l=o.setTimeout(h);else{var k=tp((w,S)=>Yy(...S,n(1)),u);a(Jn(Jn(Jn({},e),t),k))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const dge=(e,t,n,r,i,a)=>{var o=age(e,t);return n==null?()=>(i(Jn(Jn({},e),t)),()=>{}):n.isStepper===!0?cge(e,t,n,o,i,a):uge(e,t,n,r,o,i,a)};var Ky=1e-4,c8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],u8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),V3=(e,t)=>n=>{var r=c8(e,t);return u8(r,n)},fge=(e,t)=>n=>{var r=c8(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return u8(i,n)},hge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},mge=(e,t,n,r)=>{var i=V3(e,n),a=V3(t,r),o=fge(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var h=d>1?1:d,p=h,b=0;b<8;++b){var y=i(p)-h,k=o(p);if(Math.abs(y-h)<Ky||k<Ky)return a(p);p=l(p-y/k)}return a(p)};return u.isStepper=!1,u},Z3=function(){return mge(...hge(...arguments))},pge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var d=-(o-l)*n,h=u*r,p=u+(d-h)*i/1e3,b=u*i/1e3+o;return Math.abs(b-l)<Ky&&Math.abs(p)<Ky?[l,0]:[b,p]};return a.isStepper=!0,a.dt=i,a},gge=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Z3(e);case"spring":return pge();default:if(e.split("(")[0]==="cubic-bezier")return Z3(e)}return typeof e=="function"?e:null};function bge(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,d),u);return}a(u),i=e.setTimeout(a.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class yge{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function vge(){return bge(new yge)}var xge=_.createContext(vge);function wge(e,t){var n=_.useContext(xge);return _.useMemo(()=>t??n(e),[e,t,n])}var _ge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Af={devToolsEnabled:!1,isSsr:_ge()},Sge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},X3={t:0},PS={t:1};function d8(e){var t=Vi(e,Sge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,h=n==="auto"?!Af.isSsr:n,p=wge(t.animationId,t.animationManager),[b,y]=_.useState(h?X3:PS),k=_.useRef(null);return _.useEffect(()=>{h||y(PS)},[h]),_.useEffect(()=>{if(!h||!r)return Tp;var w=dge(X3,PS,gge(a),i,y,p.getTimeoutController()),S=()=>{k.current=w()};return p.start([u,o,S,i,l]),()=>{p.stop(),k.current&&k.current(),l()}},[h,r,i,a,o,u,l,p]),d(b.t)}function f8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Wm(t)),r=_.useRef(e);return r.current!==e&&(n.current=Wm(t),r.current=e),n.current}var kge=["radius"],Ege=["radius"];function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(r){Tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tge(e,t,n){return(t=jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jge(e){var t=Age(e,"string");return typeof t=="symbol"?t:t+""}function Age(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function eL(e,t){if(e==null)return{};var n,r,i=Nge(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tL=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,b=4;p<b;p++)h[p]=i[p]>a?a:i[p];d="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*h[1])),d+="L ".concat(e+n,",").concat(t+r-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),d+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);d="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(t,`
            L `).concat(e+n-l*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(t+r,`
            L `).concat(e+l*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},nL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oge=e=>{var t=Vi(e,nL),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:d,className:h}=t,{animationEasing:p,animationDuration:b,animationBegin:y,isAnimationActive:k,isUpdateAnimationActive:w}=t,S=_.useRef(l),j=_.useRef(u),O=_.useRef(a),A=_.useRef(o),C=_.useMemo(()=>({x:a,y:o,width:l,height:u,radius:d}),[a,o,l,u,d]),D=f8(C,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var P=rn("recharts-rectangle",h);if(!w){var $=_a(t),{radius:U}=$,W=eL($,kge);return _.createElement("path",Wy({},W,{radius:typeof d=="number"?d:void 0,className:P,d:tL(a,o,l,u,d)}))}var Y=S.current,F=j.current,z=O.current,K=A.current,Z="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),q=ige(["strokeDasharray"],b,typeof p=="string"?p:nL.animationEasing);return _.createElement(d8,{animationId:D,key:D,canBegin:r>0,duration:b,easing:p,isActive:w,begin:y},J=>{var ee=Oo(Y,l,J),le=Oo(F,u,J),ae=Oo(z,a,J),B=Oo(K,o,J);n.current&&(S.current=ee,j.current=le,O.current=ae,A.current=B);var V;k?J>0?V={transition:q,strokeDasharray:X}:V={strokeDasharray:Z}:V={strokeDasharray:X};var ne=_a(t),{radius:oe}=ne,fe=eL(ne,Ege);return _.createElement("path",Wy({},fe,{radius:typeof d=="number"?d:void 0,className:P,d:tL(ae,B,ee,le,d),ref:n,style:Q3(Q3({},V),t.style)}))})};function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(r){Cge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cge(e,t,n){return(t=Mge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mge(e){var t=Dge(e,"string");return typeof t=="symbol"?t:t+""}function Dge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vy=Math.PI/180,Pge=e=>e*180/Math.PI,Tr=(e,t,n,r)=>({x:e+Math.cos(-Vy*r)*n,y:t+Math.sin(-Vy*r)*n}),Rge=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Lge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Ige=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Lge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:Pge(u),angleInRadian:u}},$ge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Bge=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},zge=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=Ige({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=$ge(t),h=a,p;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=u}return p?iL(iL({},t),{},{radius:i,angle:Bge(h,t)}):null};function h8(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Tr(t,n,r,i),l=Tr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X2.apply(null,arguments)}var Uge=(e,t)=>{var n=ba(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},hb=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+r,h=Math.asin(l/d)/Vy,p=u?i:i+a*h,b=Tr(t,n,d,p),y=Tr(t,n,r,p),k=u?i-a*h:i,w=Tr(t,n,d*Math.cos(h*Vy),k);return{center:b,circleTangency:y,lineTangency:w,theta:h}},m8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=Uge(a,o),u=a+l,d=Tr(t,n,i,a),h=Tr(t,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Tr(t,n,r,a),y=Tr(t,n,r,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(b.x,",").concat(b.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Fge=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=ba(d-u),{circleTangency:p,lineTangency:b,theta:y}=hb({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:w,theta:S}=hb({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),j=l?Math.abs(u-d):Math.abs(u-d)-y-S;if(j<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):m8({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:C,theta:D}=hb({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:P,lineTangency:$,theta:U}=hb({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),W=l?Math.abs(u-d):Math.abs(u-d)-D-U;if(W<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},Hge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gge=e=>{var t=Vi(e,Hge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:p}=t;if(a<i||d===h)return null;var b=rn("recharts-sector",p),y=a-i,k=Kl(o,y,0,!0),w;return k>0&&Math.abs(d-h)<360?w=Fge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):w=m8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),_.createElement("path",X2({},_a(t),{className:b,d:w}))};function qge(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(t9(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=Tr(r,i,a,l),d=Tr(r,i,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return h8(t)}}var RS={},LS={},IS={},aL;function Yge(){return aL||(aL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(IS)),IS}var oL;function Kge(){return oL||(oL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yge();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(LS)),LS}var sL;function Wge(){return sL||(sL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9(),n=Kge();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}e.range=r})(RS)),RS}var $S,lL;function Vge(){return lL||(lL=1,$S=Wge().range),$S}var Zge=Vge();const p8=_i(Zge);function Ul(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bj(e){let t,n,r;e.length!==2?(t=Ul,n=(l,u)=>Ul(e(l),u),r=(l,u)=>e(l)-u):(t=e===Ul||e===Xge?e:Jge,n=e,r=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<0?d=p+1:h=p}while(d<h)}return d}function a(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const p=d+h>>>1;n(l[p],u)<=0?d=p+1:h=p}while(d<h)}return d}function o(l,u,d=0,h=l.length){const p=i(l,u,d,h-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function Jge(){return 0}function g8(e){return e===null?NaN:+e}function*Qge(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ebe=bj(Ul),Dp=ebe.right;bj(g8).center;class cL extends Map{constructor(t,n=rbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(uL(this,t))}has(t){return super.has(uL(this,t))}set(t,n){return super.set(tbe(this,t),n)}delete(t){return super.delete(nbe(this,t))}}function uL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nbe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function rbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ibe(e=Ul){if(e===Ul)return b8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function b8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const abe=Math.sqrt(50),obe=Math.sqrt(10),sbe=Math.sqrt(2);function Zy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=abe?10:a>=obe?5:a>=sbe?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?Zy(e,t,n*2):[l,u,d]}function J2(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Zy(t,e,n):Zy(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(a-d)/-o;else for(let d=0;d<l;++d)u[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function Q2(e,t,n){return t=+t,e=+e,n=+n,Zy(e,t,n)[2]}function eE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Q2(t,e,n):Q2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function dL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function fL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function y8(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?b8:ibe(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(t-d*p/u+b)),k=Math.min(r,Math.floor(t+(u-d)*p/u+b));y8(e,t,y,k,i)}const a=e[t];let o=n,l=r;for(lm(e,n,t),i(e[r],a)>0&&lm(e,n,r);o<l;){for(lm(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?lm(e,n,l):(++l,lm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function lm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function lbe(e,t,n){if(e=Float64Array.from(Qge(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return fL(e);if(t>=1)return dL(e);var r,i=(r-1)*t,a=Math.floor(i),o=dL(y8(e,a).subarray(0,a+1)),l=fL(e.subarray(a+1));return o+(l-o)*(i-a)}}function cbe(e,t,n=g8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function ube(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Aa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Us(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tE=Symbol("implicit");function yj(){var e=new cL,t=[],n=[],r=tE;function i(a){let o=e.get(a);if(o===void 0){if(r!==tE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new cL;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yj(t,n).unknown(r)},Aa.apply(i,arguments),i}function vj(){var e=yj().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,d=0,h=.5;delete e.unknown;function p(){var b=t().length,y=i<r,k=y?i:r,w=y?r:i;a=(w-k)/Math.max(1,b-u+d*2),l&&(a=Math.floor(a)),k+=(w-k-a*(b-u))*h,o=a*(1-u),l&&(k=Math.round(k),o=Math.round(o));var S=ube(b).map(function(j){return k+a*j});return n(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(b){return arguments.length?(l=!!b,p()):l},e.padding=function(b){return arguments.length?(u=Math.min(1,d=+b),p()):u},e.paddingInner=function(b){return arguments.length?(u=Math.min(1,b),p()):u},e.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),p()):h},e.copy=function(){return vj(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Aa.apply(p(),arguments)}function v8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return v8(t())},e}function dbe(){return v8(vj.apply(null,arguments).paddingInner(1))}function xj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function x8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pp(){}var np=.7,Xy=1/np,Kd="\\s*([+-]?\\d+)\\s*",rp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fbe=/^#([0-9a-f]{3,8})$/,hbe=new RegExp(`^rgb\\(${Kd},${Kd},${Kd}\\)$`),mbe=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),pbe=new RegExp(`^rgba\\(${Kd},${Kd},${Kd},${rp}\\)$`),gbe=new RegExp(`^rgba\\(${Po},${Po},${Po},${rp}\\)$`),bbe=new RegExp(`^hsl\\(${rp},${Po},${Po}\\)$`),ybe=new RegExp(`^hsla\\(${rp},${Po},${Po},${rp}\\)$`),hL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xj(Pp,ip,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mL,formatHex:mL,formatHex8:vbe,formatHsl:xbe,formatRgb:pL,toString:pL});function mL(){return this.rgb().formatHex()}function vbe(){return this.rgb().formatHex8()}function xbe(){return w8(this).formatHsl()}function pL(){return this.rgb().formatRgb()}function ip(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fbe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gL(t):n===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hbe.exec(e))?new yi(t[1],t[2],t[3],1):(t=mbe.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pbe.exec(e))?mb(t[1],t[2],t[3],t[4]):(t=gbe.exec(e))?mb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bbe.exec(e))?vL(t[1],t[2]/100,t[3]/100,1):(t=ybe.exec(e))?vL(t[1],t[2]/100,t[3]/100,t[4]):hL.hasOwnProperty(e)?gL(hL[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function gL(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function mb(e,t,n,r){return r<=0&&(e=t=n=NaN),new yi(e,t,n,r)}function wbe(e){return e instanceof Pp||(e=ip(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function nE(e,t,n,r){return arguments.length===1?wbe(e):new yi(e,t,n,r??1)}function yi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xj(yi,nE,x8(Pp,{brighter(e){return e=e==null?Xy:Math.pow(Xy,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?np:Math.pow(np,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(fu(this.r),fu(this.g),fu(this.b),Jy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bL,formatHex:bL,formatHex8:_be,formatRgb:yL,toString:yL}));function bL(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}`}function _be(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}${ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function yL(){const e=Jy(this.opacity);return`${e===1?"rgb(":"rgba("}${fu(this.r)}, ${fu(this.g)}, ${fu(this.b)}${e===1?")":`, ${e})`}`}function Jy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ou(e){return e=fu(e),(e<16?"0":"")+e.toString(16)}function vL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function w8(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof Pp||(e=ip(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Va(o,l,u,e.opacity)}function Sbe(e,t,n,r){return arguments.length===1?w8(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xj(Va,Sbe,x8(Pp,{brighter(e){return e=e==null?Xy:Math.pow(Xy,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?np:Math.pow(np,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yi(BS(e>=240?e-240:e+120,i,r),BS(e,i,r),BS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Va(xL(this.h),pb(this.s),pb(this.l),Jy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jy(this.opacity);return`${e===1?"hsl(":"hsla("}${xL(this.h)}, ${pb(this.s)*100}%, ${pb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xL(e){return e=(e||0)%360,e<0?e+360:e}function pb(e){return Math.max(0,Math.min(1,e||0))}function BS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wj=e=>()=>e;function kbe(e,t){return function(n){return e+n*t}}function Ebe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Tbe(e){return(e=+e)==1?_8:function(t,n){return n-t?Ebe(t,n,e):wj(isNaN(t)?n:t)}}function _8(e,t){var n=t-e;return n?kbe(e,n):wj(isNaN(e)?t:e)}const wL=(function e(t){var n=Tbe(t);function r(i,a){var o=n((i=nE(i)).r,(a=nE(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=_8(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function jbe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Abe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nbe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Nf(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Obe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cbe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Nf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var rE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zS=new RegExp(rE.source,"g");function Mbe(e){return function(){return e}}function Dbe(e){return function(t){return e(t)+""}}function Pbe(e,t){var n=rE.lastIndex=zS.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=rE.exec(e))&&(i=zS.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Qy(r,i)})),n=zS.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Dbe(u[0].x):Mbe(t):(t=u.length,function(d){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(d);return l.join("")})}function Nf(e,t){var n=typeof t,r;return t==null||n==="boolean"?wj(t):(n==="number"?Qy:n==="string"?(r=ip(t))?(t=r,wL):Pbe:t instanceof ip?wL:t instanceof Date?Obe:Abe(t)?jbe:Array.isArray(t)?Nbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cbe:Qy)(e,t)}function _j(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Rbe(e,t){t===void 0&&(t=e,e=Nf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Lbe(e){return function(){return e}}function ev(e){return+e}var _L=[0,1];function Vr(e){return e}function iE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Lbe(isNaN(t)?NaN:.5)}function Ibe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function $be(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=iE(i,r),a=n(o,a)):(r=iE(r,i),a=n(a,o)),function(l){return a(r(l))}}function Bbe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=iE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Dp(e,l,1,r)-1;return a[u](i[u](l))}}function Rp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _x(){var e=_L,t=_L,n=Nf,r,i,a,o=Vr,l,u,d;function h(){var b=Math.min(e.length,t.length);return o!==Vr&&(o=Ibe(e[0],e[b-1])),l=b>2?Bbe:$be,u=d=null,p}function p(b){return b==null||isNaN(b=+b)?a:(u||(u=l(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((d||(d=l(t,e.map(r),Qy)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,ev),h()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=_j,h()},p.clamp=function(b){return arguments.length?(o=b?!0:Vr,h()):o!==Vr},p.interpolate=function(b){return arguments.length?(n=b,h()):n},p.unknown=function(b){return arguments.length?(a=b,p):a},function(b,y){return r=b,i=y,h()}}function Sj(){return _x()(Vr,Vr)}function zbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uf(e){return e=tv(Math.abs(e)),e?e[1]:NaN}function Ube(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Fbe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(e){if(!(t=Hbe.exec(e)))throw new Error("invalid format: "+e);var t;return new kj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ap.prototype=kj.prototype;function kj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gbe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var S8;function qbe(e,t){var n=tv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(S8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+tv(e,Math.max(0,t+a-1))[0]}function SL(e,t){var n=tv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SL(e*100,t),r:SL,s:qbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EL(e){return e}var TL=Array.prototype.map,jL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ybe(e){var t=e.grouping===void 0||e.thousands===void 0?EL:Ube(TL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?EL:Fbe(TL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p){p=ap(p);var b=p.fill,y=p.align,k=p.sign,w=p.symbol,S=p.zero,j=p.width,O=p.comma,A=p.precision,C=p.trim,D=p.type;D==="n"?(O=!0,D="g"):kL[D]||(A===void 0&&(A=12),C=!0,D="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$=w==="$"?r:/[%p]/.test(D)?o:"",U=kL[D],W=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function Y(F){var z=P,K=$,Z,X,q;if(D==="c")K=U(F)+K,F="";else{F=+F;var J=F<0||1/F<0;if(F=isNaN(F)?u:U(Math.abs(F),A),C&&(F=Gbe(F)),J&&+F==0&&k!=="+"&&(J=!1),z=(J?k==="("?k:l:k==="-"||k==="("?"":k)+z,K=(D==="s"?jL[8+S8/3]:"")+K+(J&&k==="("?")":""),W){for(Z=-1,X=F.length;++Z<X;)if(q=F.charCodeAt(Z),48>q||q>57){K=(q===46?i+F.slice(Z+1):F.slice(Z))+K,F=F.slice(0,Z);break}}}O&&!S&&(F=t(F,1/0));var ee=z.length+F.length+K.length,le=ee<j?new Array(j-ee+1).join(b):"";switch(O&&S&&(F=t(le+F,le.length?j-K.length:1/0),le=""),y){case"<":F=z+F+K+le;break;case"=":F=z+le+F+K;break;case"^":F=le.slice(0,ee=le.length>>1)+z+F+K+le.slice(ee);break;default:F=le+z+F+K;break}return a(F)}return Y.toString=function(){return p+""},Y}function h(p,b){var y=d((p=ap(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(uf(b)/3)))*3,w=Math.pow(10,-k),S=jL[8+k/3];return function(j){return y(w*j)+S}}return{format:d,formatPrefix:h}}var gb,Ej,k8;Kbe({thousands:",",grouping:[3],currency:["$",""]});function Kbe(e){return gb=Ybe(e),Ej=gb.format,k8=gb.formatPrefix,gb}function Wbe(e){return Math.max(0,-uf(Math.abs(e)))}function Vbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uf(t)/3)))*3-uf(Math.abs(e)))}function Zbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uf(t)-uf(e))+1}function E8(e,t,n,r){var i=eE(e,t,n),a;switch(r=ap(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Vbe(i,o))&&(r.precision=a),k8(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Zbe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Wbe(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ej(r)}function Jl(e){var t=e.domain;return e.ticks=function(n){var r=t();return J2(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return E8(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=Q2(o,l,n),d===u)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function T8(){var e=Sj();return e.copy=function(){return Rp(e,T8())},Aa.apply(e,arguments),Jl(e)}function j8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ev),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return j8(e).unknown(t)},e=arguments.length?Array.from(e,ev):[0,1],Jl(n)}function A8(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function AL(e){return Math.log(e)}function NL(e){return Math.exp(e)}function Xbe(e){return-Math.log(-e)}function Jbe(e){return-Math.exp(-e)}function Qbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eye(e){return e===10?Qbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OL(e){return(t,n)=>-e(-t,n)}function Tj(e){const t=e(AL,NL),n=t.domain;let r=10,i,a;function o(){return i=tye(r),a=eye(r),n()[0]<0?(i=OL(i),a=OL(a),e(Xbe,Jbe)):e(AL,NL),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let d=u[0],h=u[u.length-1];const p=h<d;p&&([d,h]=[h,d]);let b=i(d),y=i(h),k,w;const S=l==null?10:+l;let j=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),d>0){for(;b<=y;++b)for(k=1;k<r;++k)if(w=b<0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}}else for(;b<=y;++b)for(k=r-1;k>=1;--k)if(w=b>0?k/a(-b):k*a(b),!(w<d)){if(w>h)break;j.push(w)}j.length*2<S&&(j=J2(d,h,S))}else j=J2(b,y,Math.min(y-b,S)).map(a);return p?j.reverse():j},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ap(u)).precision==null&&(u.trim=!0),u=Ej(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=d?u(h):""}},t.nice=()=>n(A8(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function N8(){const e=Tj(_x()).domain([1,10]);return e.copy=()=>Rp(e,N8()).base(e.base()),Aa.apply(e,arguments),e}function CL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ML(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jj(e){var t=1,n=e(CL(t),ML(t));return n.constant=function(r){return arguments.length?e(CL(t=+r),ML(t)):t},Jl(n)}function O8(){var e=jj(_x());return e.copy=function(){return Rp(e,O8()).constant(e.constant())},Aa.apply(e,arguments)}function DL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rye(e){return e<0?-e*e:e*e}function Aj(e){var t=e(Vr,Vr),n=1;function r(){return n===1?e(Vr,Vr):n===.5?e(nye,rye):e(DL(n),DL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Jl(t)}function Nj(){var e=Aj(_x());return e.copy=function(){return Rp(e,Nj()).exponent(e.exponent())},Aa.apply(e,arguments),e}function iye(){return Nj.apply(null,arguments).exponent(.5)}function PL(e){return Math.sign(e)*e*e}function aye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function C8(){var e=Sj(),t=[0,1],n=!1,r;function i(a){var o=aye(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(PL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ev)).map(PL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return C8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Aa.apply(i,arguments),Jl(i)}function M8(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=cbe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Dp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return M8().domain(e).range(t).unknown(r)},Aa.apply(a,arguments)}function D8(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Dp(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return D8().domain([e,t]).range(i).unknown(a)},Aa.apply(Jl(o),arguments)}function P8(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Dp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return P8().domain(e).range(t).unknown(n)},Aa.apply(i,arguments)}const US=new Date,FS=new Date;function er(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let d;do u.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return u},i.filter=a=>er(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(US.setTime(+a),FS.setTime(+o),e(US),e(FS),Math.floor(n(US,FS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const nv=er(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?er(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):nv);nv.range;const Ss=1e3,ya=Ss*60,ks=ya*60,Ds=ks*24,Oj=Ds*7,RL=Ds*30,HS=Ds*365,su=er(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getUTCSeconds());su.range;const Cj=er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ss)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getMinutes());Cj.range;const Mj=er(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCMinutes());Mj.range;const Dj=er(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ss-e.getMinutes()*ya)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());Dj.range;const Pj=er(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());Pj.range;const Lp=er(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ya)/Ds,e=>e.getDate()-1);Lp.range;const Sx=er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>e.getUTCDate()-1);Sx.range;const R8=er(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>Math.floor(e/Ds));R8.range;function ju(e){return er(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ya)/Oj)}const kx=ju(0),rv=ju(1),oye=ju(2),sye=ju(3),df=ju(4),lye=ju(5),cye=ju(6);kx.range;rv.range;oye.range;sye.range;df.range;lye.range;cye.range;function Au(e){return er(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Oj)}const Ex=Au(0),iv=Au(1),uye=Au(2),dye=Au(3),ff=Au(4),fye=Au(5),hye=Au(6);Ex.range;iv.range;uye.range;dye.range;ff.range;fye.range;hye.range;const Rj=er(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rj.range;const Lj=er(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lj.range;const Ps=er(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:er(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ps.range;const Rs=er(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:er(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rs.range;function L8(e,t,n,r,i,a){const o=[[su,1,Ss],[su,5,5*Ss],[su,15,15*Ss],[su,30,30*Ss],[a,1,ya],[a,5,5*ya],[a,15,15*ya],[a,30,30*ya],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[r,1,Ds],[r,2,2*Ds],[n,1,Oj],[t,1,RL],[t,3,3*RL],[e,1,HS]];function l(d,h,p){const b=h<d;b&&([d,h]=[h,d]);const y=p&&typeof p.range=="function"?p:u(d,h,p),k=y?y.range(d,+h+1):[];return b?k.reverse():k}function u(d,h,p){const b=Math.abs(h-d)/p,y=bj(([,,S])=>S).right(o,b);if(y===o.length)return e.every(eE(d/HS,h/HS,p));if(y===0)return nv.every(Math.max(eE(d,h,p),1));const[k,w]=o[b/o[y-1][2]<o[y][2]/b?y-1:y];return k.every(w)}return[l,u]}const[mye,pye]=L8(Rs,Lj,Ex,R8,Pj,Mj),[gye,bye]=L8(Ps,Rj,kx,Lp,Dj,Cj);function GS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=um(i),h=dm(i),p=um(a),b=dm(a),y=um(o),k=dm(o),w=um(l),S=dm(l),j=um(u),O=dm(u),A={a:J,A:ee,b:le,B:ae,c:null,d:UL,e:UL,f:Uye,g:Xye,G:Qye,H:$ye,I:Bye,j:zye,L:I8,m:Fye,M:Hye,p:B,q:V,Q:GL,s:qL,S:Gye,u:qye,U:Yye,V:Kye,w:Wye,W:Vye,x:null,X:null,y:Zye,Y:Jye,Z:eve,"%":HL},C={a:ne,A:oe,b:fe,B:ye,c:null,d:FL,e:FL,f:ive,g:mve,G:gve,H:tve,I:nve,j:rve,L:B8,m:ave,M:ove,p:pe,q:Ae,Q:GL,s:qL,S:sve,u:lve,U:cve,V:uve,w:dve,W:fve,x:null,X:null,y:hve,Y:pve,Z:bve,"%":HL},D={a:Y,A:F,b:z,B:K,c:Z,d:BL,e:BL,f:Pye,g:$L,G:IL,H:zL,I:zL,j:Oye,L:Dye,m:Nye,M:Cye,p:W,q:Aye,Q:Lye,s:Iye,S:Mye,u:Sye,U:kye,V:Eye,w:_ye,W:Tye,x:X,X:q,y:$L,Y:IL,Z:jye,"%":Rye};A.x=P(n,A),A.X=P(r,A),A.c=P(t,A),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(re,Ee){return function(_e){var se=[],Ue=-1,Fe=0,Ce=re.length,Pe,Ge,Ne;for(_e instanceof Date||(_e=new Date(+_e));++Ue<Ce;)re.charCodeAt(Ue)===37&&(se.push(re.slice(Fe,Ue)),(Ge=LL[Pe=re.charAt(++Ue)])!=null?Pe=re.charAt(++Ue):Ge=Pe==="e"?" ":"0",(Ne=Ee[Pe])&&(Pe=Ne(_e,Ge)),se.push(Pe),Fe=Ue+1);return se.push(re.slice(Fe,Ue)),se.join("")}}function $(re,Ee){return function(_e){var se=cm(1900,void 0,1),Ue=U(se,re,_e+="",0),Fe,Ce;if(Ue!=_e.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ee&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Fe=qS(cm(se.y,0,1)),Ce=Fe.getUTCDay(),Fe=Ce>4||Ce===0?iv.ceil(Fe):iv(Fe),Fe=Sx.offset(Fe,(se.V-1)*7),se.y=Fe.getUTCFullYear(),se.m=Fe.getUTCMonth(),se.d=Fe.getUTCDate()+(se.w+6)%7):(Fe=GS(cm(se.y,0,1)),Ce=Fe.getDay(),Fe=Ce>4||Ce===0?rv.ceil(Fe):rv(Fe),Fe=Lp.offset(Fe,(se.V-1)*7),se.y=Fe.getFullYear(),se.m=Fe.getMonth(),se.d=Fe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ce="Z"in se?qS(cm(se.y,0,1)).getUTCDay():GS(cm(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ce+5)%7:se.w+se.U*7-(Ce+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,qS(se)):GS(se)}}function U(re,Ee,_e,se){for(var Ue=0,Fe=Ee.length,Ce=_e.length,Pe,Ge;Ue<Fe;){if(se>=Ce)return-1;if(Pe=Ee.charCodeAt(Ue++),Pe===37){if(Pe=Ee.charAt(Ue++),Ge=D[Pe in LL?Ee.charAt(Ue++):Pe],!Ge||(se=Ge(re,_e,se))<0)return-1}else if(Pe!=_e.charCodeAt(se++))return-1}return se}function W(re,Ee,_e){var se=d.exec(Ee.slice(_e));return se?(re.p=h.get(se[0].toLowerCase()),_e+se[0].length):-1}function Y(re,Ee,_e){var se=y.exec(Ee.slice(_e));return se?(re.w=k.get(se[0].toLowerCase()),_e+se[0].length):-1}function F(re,Ee,_e){var se=p.exec(Ee.slice(_e));return se?(re.w=b.get(se[0].toLowerCase()),_e+se[0].length):-1}function z(re,Ee,_e){var se=j.exec(Ee.slice(_e));return se?(re.m=O.get(se[0].toLowerCase()),_e+se[0].length):-1}function K(re,Ee,_e){var se=w.exec(Ee.slice(_e));return se?(re.m=S.get(se[0].toLowerCase()),_e+se[0].length):-1}function Z(re,Ee,_e){return U(re,t,Ee,_e)}function X(re,Ee,_e){return U(re,n,Ee,_e)}function q(re,Ee,_e){return U(re,r,Ee,_e)}function J(re){return o[re.getDay()]}function ee(re){return a[re.getDay()]}function le(re){return u[re.getMonth()]}function ae(re){return l[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function V(re){return 1+~~(re.getMonth()/3)}function ne(re){return o[re.getUTCDay()]}function oe(re){return a[re.getUTCDay()]}function fe(re){return u[re.getUTCMonth()]}function ye(re){return l[re.getUTCMonth()]}function pe(re){return i[+(re.getUTCHours()>=12)]}function Ae(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Ee=P(re+="",A);return Ee.toString=function(){return re},Ee},parse:function(re){var Ee=$(re+="",!1);return Ee.toString=function(){return re},Ee},utcFormat:function(re){var Ee=P(re+="",C);return Ee.toString=function(){return re},Ee},utcParse:function(re){var Ee=$(re+="",!0);return Ee.toString=function(){return re},Ee}}}var LL={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,vye=/^%/,xye=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function wye(e){return e.replace(xye,"\\$&")}function um(e){return new RegExp("^(?:"+e.map(wye).join("|")+")","i")}function dm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _ye(e,t,n){var r=gr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Sye(e,t,n){var r=gr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function kye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Eye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Tye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function IL(e,t,n){var r=gr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $L(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Aye(e,t,n){var r=gr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Nye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function BL(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Oye(e,t,n){var r=gr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zL(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Cye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Mye(e,t,n){var r=gr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Dye(e,t,n){var r=gr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Pye(e,t,n){var r=gr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Rye(e,t,n){var r=vye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Lye(e,t,n){var r=gr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Iye(e,t,n){var r=gr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function UL(e,t){return Ot(e.getDate(),t,2)}function $ye(e,t){return Ot(e.getHours(),t,2)}function Bye(e,t){return Ot(e.getHours()%12||12,t,2)}function zye(e,t){return Ot(1+Lp.count(Ps(e),e),t,3)}function I8(e,t){return Ot(e.getMilliseconds(),t,3)}function Uye(e,t){return I8(e,t)+"000"}function Fye(e,t){return Ot(e.getMonth()+1,t,2)}function Hye(e,t){return Ot(e.getMinutes(),t,2)}function Gye(e,t){return Ot(e.getSeconds(),t,2)}function qye(e){var t=e.getDay();return t===0?7:t}function Yye(e,t){return Ot(kx.count(Ps(e)-1,e),t,2)}function $8(e){var t=e.getDay();return t>=4||t===0?df(e):df.ceil(e)}function Kye(e,t){return e=$8(e),Ot(df.count(Ps(e),e)+(Ps(e).getDay()===4),t,2)}function Wye(e){return e.getDay()}function Vye(e,t){return Ot(rv.count(Ps(e)-1,e),t,2)}function Zye(e,t){return Ot(e.getFullYear()%100,t,2)}function Xye(e,t){return e=$8(e),Ot(e.getFullYear()%100,t,2)}function Jye(e,t){return Ot(e.getFullYear()%1e4,t,4)}function Qye(e,t){var n=e.getDay();return e=n>=4||n===0?df(e):df.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function eve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function FL(e,t){return Ot(e.getUTCDate(),t,2)}function tve(e,t){return Ot(e.getUTCHours(),t,2)}function nve(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function rve(e,t){return Ot(1+Sx.count(Rs(e),e),t,3)}function B8(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function ive(e,t){return B8(e,t)+"000"}function ave(e,t){return Ot(e.getUTCMonth()+1,t,2)}function ove(e,t){return Ot(e.getUTCMinutes(),t,2)}function sve(e,t){return Ot(e.getUTCSeconds(),t,2)}function lve(e){var t=e.getUTCDay();return t===0?7:t}function cve(e,t){return Ot(Ex.count(Rs(e)-1,e),t,2)}function z8(e){var t=e.getUTCDay();return t>=4||t===0?ff(e):ff.ceil(e)}function uve(e,t){return e=z8(e),Ot(ff.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function dve(e){return e.getUTCDay()}function fve(e,t){return Ot(iv.count(Rs(e)-1,e),t,2)}function hve(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function mve(e,t){return e=z8(e),Ot(e.getUTCFullYear()%100,t,2)}function pve(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function gve(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ff(e):ff.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function bve(){return"+0000"}function HL(){return"%"}function GL(e){return+e}function qL(e){return Math.floor(+e/1e3)}var Td,U8,F8;yve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yve(e){return Td=yye(e),U8=Td.format,Td.parse,F8=Td.utcFormat,Td.utcParse,Td}function vve(e){return new Date(e)}function xve(e){return e instanceof Date?+e:+new Date(+e)}function Ij(e,t,n,r,i,a,o,l,u,d){var h=Sj(),p=h.invert,b=h.domain,y=d(".%L"),k=d(":%S"),w=d("%I:%M"),S=d("%I %p"),j=d("%a %d"),O=d("%b %d"),A=d("%B"),C=d("%Y");function D(P){return(u(P)<P?y:l(P)<P?k:o(P)<P?w:a(P)<P?S:r(P)<P?i(P)<P?j:O:n(P)<P?A:C)(P)}return h.invert=function(P){return new Date(p(P))},h.domain=function(P){return arguments.length?b(Array.from(P,xve)):b().map(vve)},h.ticks=function(P){var $=b();return e($[0],$[$.length-1],P??10)},h.tickFormat=function(P,$){return $==null?D:d($)},h.nice=function(P){var $=b();return(!P||typeof P.range!="function")&&(P=t($[0],$[$.length-1],P??10)),P?b(A8($,P)):h},h.copy=function(){return Rp(h,Ij(e,t,n,r,i,a,o,l,u,d))},h}function wve(){return Aa.apply(Ij(gye,bye,Ps,Rj,kx,Lp,Dj,Cj,su,U8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ve(){return Aa.apply(Ij(mye,pye,Rs,Lj,Ex,Sx,Pj,Mj,su,F8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tx(){var e=0,t=1,n,r,i,a,o=Vr,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(o=p,d):o};function h(p){return function(b){var y,k;return arguments.length?([y,k]=b,o=p(y,k),d):[o(0),o(1)]}}return d.range=h(Nf),d.rangeRound=h(_j),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function H8(){var e=Jl(Tx()(Vr));return e.copy=function(){return Ql(e,H8())},Us.apply(e,arguments)}function G8(){var e=Tj(Tx()).domain([1,10]);return e.copy=function(){return Ql(e,G8()).base(e.base())},Us.apply(e,arguments)}function q8(){var e=jj(Tx());return e.copy=function(){return Ql(e,q8()).constant(e.constant())},Us.apply(e,arguments)}function $j(){var e=Aj(Tx());return e.copy=function(){return Ql(e,$j()).exponent(e.exponent())},Us.apply(e,arguments)}function Sve(){return $j.apply(null,arguments).exponent(.5)}function Y8(){var e=[],t=Vr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Dp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ul),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>lbe(e,a/r))},n.copy=function(){return Y8(t).domain(e)},Us.apply(n,arguments)}function jx(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,d=Vr,h,p=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-a)*(r*w<r*a?l:u),d(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(d=w,y):d};function k(w){return function(S){var j,O,A;return arguments.length?([j,O,A]=S,d=Rbe(w,[j,O,A]),y):[d(0),d(.5),d(1)]}}return y.range=k(Nf),y.rangeRound=k(_j),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,i=w(e),a=w(t),o=w(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function K8(){var e=Jl(jx()(Vr));return e.copy=function(){return Ql(e,K8())},Us.apply(e,arguments)}function W8(){var e=Tj(jx()).domain([.1,1,10]);return e.copy=function(){return Ql(e,W8()).base(e.base())},Us.apply(e,arguments)}function V8(){var e=jj(jx());return e.copy=function(){return Ql(e,V8()).constant(e.constant())},Us.apply(e,arguments)}function Bj(){var e=Aj(jx());return e.copy=function(){return Ql(e,Bj()).exponent(e.exponent())},Us.apply(e,arguments)}function kve(){return Bj.apply(null,arguments).exponent(.5)}const wm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vj,scaleDiverging:K8,scaleDivergingLog:W8,scaleDivergingPow:Bj,scaleDivergingSqrt:kve,scaleDivergingSymlog:V8,scaleIdentity:j8,scaleImplicit:tE,scaleLinear:T8,scaleLog:N8,scaleOrdinal:yj,scalePoint:dbe,scalePow:Nj,scaleQuantile:M8,scaleQuantize:D8,scaleRadial:C8,scaleSequential:H8,scaleSequentialLog:G8,scaleSequentialPow:$j,scaleSequentialQuantile:Y8,scaleSequentialSqrt:Sve,scaleSequentialSymlog:q8,scaleSqrt:iye,scaleSymlog:O8,scaleThreshold:P8,scaleTime:wve,scaleUtc:_ve,tickFormat:E8},Symbol.toStringTag,{value:"Module"}));var ec=e=>e.chartData,Eve=xe([ec],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zj=(e,t,n,r)=>r?Eve(e):ec(e);function Wl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(An(t)&&An(n))return!0}return!1}function YL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Z8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(An(n))i=n;else if(typeof n=="function")return;if(An(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Wl(o))return o}}function Tve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Wl(r))return YL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Qe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&_3.test(i)){var u=_3.exec(i);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(Qe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&S3.test(a)){var h=S3.exec(a);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t?.[1];var b=[o,l];if(Wl(b))return t==null?b:YL(b,t,n)}}}var Of=1e9,jve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fj,fn=!0,ka="[DecimalError] ",hu=ka+"Invalid argument: ",Uj=ka+"Exponent out of range: ",Cf=Math.floor,Qc=Math.pow,Ave=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi,dr=1e7,nn=7,X8=9007199254740991,av=Cf(X8/nn),He={};He.absoluteValue=He.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};He.comparedTo=He.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};He.decimalPlaces=He.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};He.dividedBy=He.div=function(e){return Ts(this,new this.constructor(e))};He.dividedToIntegerBy=He.idiv=function(e){var t=this,n=t.constructor;return Wt(Ts(t,new n(e),0,1),n.precision)};He.equals=He.eq=function(e){return!this.cmp(e)};He.exponent=function(){return qn(this)};He.greaterThan=He.gt=function(e){return this.cmp(e)>0};He.greaterThanOrEqualTo=He.gte=function(e){return this.cmp(e)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(e){return this.cmp(e)<0};He.lessThanOrEqualTo=He.lte=function(e){return this.cmp(e)<1};He.logarithm=He.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(zi))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(zi)?new r(0):(fn=!1,t=Ts(op(n,a),op(e,a),a),fn=!0,Wt(t,i))};He.minus=He.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ez(t,e):J8(t,(e.s=-e.s,e))};He.modulo=He.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ka+"NaN");return n.s?(fn=!1,t=Ts(n,e,0,1).times(e),fn=!0,n.minus(t)):Wt(new r(n),i)};He.naturalExponential=He.exp=function(){return Q8(this)};He.naturalLogarithm=He.ln=function(){return op(this)};He.negated=He.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};He.plus=He.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?J8(t,e):ez(t,(e.s=-e.s,e))};He.precision=He.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hu+e);if(t=qn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};He.squareRoot=He.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ka+"NaN")}for(e=qn(l),fn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Mo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Cf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(Ts(l,a,o+2)).times(.5),Mo(a.d).slice(0,o)===(t=Mo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Wt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return fn=!0,Wt(r,n)};He.times=He.mul=function(e){var t,n,r,i,a,o,l,u,d,h=this,p=h.constructor,b=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=b.length,d=y.length,u<d&&(a=b,b=y,y=a,o=u,u=d,d=o),a=[],o=u+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+y[r]*b[i-r-1]+t,a[i--]=l%dr|0,t=l/dr|0;a[i]=(a[i]+t)%dr|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,fn?Wt(e,p.precision):e};He.toDecimalPlaces=He.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Bo(e,0,Of),t===void 0?t=r.rounding:Bo(t,0,8),Wt(n,e+qn(n)+1,t))};He.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=xu(r,!0):(Bo(e,0,Of),t===void 0?t=i.rounding:Bo(t,0,8),r=Wt(new i(r),e+1,t),n=xu(r,!0,e+1)),n};He.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?xu(i):(Bo(e,0,Of),t===void 0?t=a.rounding:Bo(t,0,8),r=Wt(new a(i),e+qn(i)+1,t),n=xu(r.abs(),!1,e+qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};He.toInteger=He.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),qn(e)+1,t.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(zi);if(l=new u(l),!l.s){if(e.s<1)throw Error(ka+"Infinity");return l}if(l.eq(zi))return l;if(r=u.precision,e.eq(zi))return Wt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=X8){for(i=new u(zi),t=Math.ceil(r/nn+4),fn=!1;n%2&&(i=i.times(l),WL(i.d,t)),n=Cf(n/2),n!==0;)l=l.times(l),WL(l.d,t);return fn=!0,e.s<0?new u(zi).div(i):Wt(i,r)}}else if(a<0)throw Error(ka+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,fn=!1,i=e.times(op(l,r+d)),fn=!0,i=Q8(i),i.s=a,i};He.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=qn(i),r=xu(i,n<=a.toExpNeg||n>=a.toExpPos)):(Bo(e,1,Of),t===void 0?t=a.rounding:Bo(t,0,8),i=Wt(new a(i),e,t),n=qn(i),r=xu(i,e<=n||n<=a.toExpNeg,e)),r};He.toSignificantDigits=He.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Bo(e,1,Of),t===void 0?t=r.rounding:Bo(t,0,8)),Wt(new r(n),e,t)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qn(e),n=e.constructor;return xu(e,t<=n.toExpNeg||t>=n.toExpPos)};function J8(e,t){var n,r,i,a,o,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),fn?Wt(t,p):t;if(u=e.d,d=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(p/nn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/dr|0,u[a]%=dr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,fn?Wt(t,p):t}function Bo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hu+e)}function Mo(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=nn-r.length,n&&(a+=Ol(n)),a+=r;o=e[t],r=o+"",n=nn-r.length,n&&(a+=Ol(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ts=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%dr|0,o=a/dr|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*dr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,d,h,p,b,y,k,w,S,j,O,A,C,D,P,$,U,W=r.constructor,Y=r.s==i.s?1:-1,F=r.d,z=i.d;if(!r.s)return new W(r);if(!i.s)throw Error(ka+"Division by zero");for(u=r.e-i.e,$=z.length,D=F.length,y=new W(Y),k=y.d=[],d=0;z[d]==(F[d]||0);)++d;if(z[d]>(F[d]||0)&&--u,a==null?O=a=W.precision:o?O=a+(qn(r)-qn(i))+1:O=a,O<0)return new W(0);if(O=O/nn+2|0,d=0,$==1)for(h=0,z=z[0],O++;(d<D||h)&&O--;d++)A=h*dr+(F[d]||0),k[d]=A/z|0,h=A%z|0;else{for(h=dr/(z[0]+1)|0,h>1&&(z=e(z,h),F=e(F,h),$=z.length,D=F.length),C=$,w=F.slice(0,$),S=w.length;S<$;)w[S++]=0;U=z.slice(),U.unshift(0),P=z[0],z[1]>=dr/2&&++P;do h=0,l=t(z,w,$,S),l<0?(j=w[0],$!=S&&(j=j*dr+(w[1]||0)),h=j/P|0,h>1?(h>=dr&&(h=dr-1),p=e(z,h),b=p.length,S=w.length,l=t(p,w,b,S),l==1&&(h--,n(p,$<b?U:z,b))):(h==0&&(l=h=1),p=z.slice()),b=p.length,b<S&&p.unshift(0),n(w,p,S),l==-1&&(S=w.length,l=t(z,w,$,S),l<1&&(h++,n(w,$<S?U:z,S))),S=w.length):l===0&&(h++,w=[0]),k[d++]=h,l&&w[0]?w[S++]=F[C]||0:(w=[F[C]],S=1);while((C++<D||w[0]!==void 0)&&O--)}return k[0]||k.shift(),y.e=u,Wt(y,o?a+qn(y)+1:a)}})();function Q8(e,t){var n,r,i,a,o,l,u=0,d=0,h=e.constructor,p=h.precision;if(qn(e)>16)throw Error(Uj+qn(e));if(!e.s)return new h(zi);for(fn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(Qc(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(zi),h.precision=l;;){if(i=Wt(i.times(e),l),n=n.times(++u),o=a.plus(Ts(i,n,l)),Mo(o.d).slice(0,l)===Mo(a.d).slice(0,l)){for(;d--;)a=Wt(a.times(a),l);return h.precision=p,t==null?(fn=!0,Wt(a,p)):a}a=o}}function qn(e){for(var t=e.e*nn,n=e.d[0];n>=10;n/=10)t++;return t}function YS(e,t,n){if(t>e.LN10.sd())throw fn=!0,n&&(e.precision=n),Error(ka+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function Ol(e){for(var t="";e--;)t+="0";return t}function op(e,t){var n,r,i,a,o,l,u,d,h,p=1,b=10,y=e,k=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(ka+(y.s?"NaN":"-Infinity"));if(y.eq(zi))return new w(0);if(t==null?(fn=!1,d=S):d=t,y.eq(10))return t==null&&(fn=!0),YS(w,d);if(d+=b,w.precision=d,n=Mo(k),r=n.charAt(0),a=qn(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Mo(y.d),r=n.charAt(0),p++;a=qn(y),r>1?(y=new w("0."+n),a++):y=new w(r+"."+n.slice(1))}else return u=YS(w,d+2,S).times(a+""),y=op(new w(r+"."+n.slice(1)),d-b).plus(u),w.precision=S,t==null?(fn=!0,Wt(y,S)):y;for(l=o=y=Ts(y.minus(zi),y.plus(zi),d),h=Wt(y.times(y),d),i=3;;){if(o=Wt(o.times(h),d),u=l.plus(Ts(o,new w(i),d)),Mo(u.d).slice(0,d)===Mo(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(YS(w,d+2,S).times(a+""))),l=Ts(l,new w(p),d),w.precision=S,t==null?(fn=!0,Wt(l,S)):l;l=u,i+=2}}function KL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Cf(n/nn),e.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nn;r<i;)e.d.push(+t.slice(r,r+=nn));t=t.slice(r),r=nn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),fn&&(e.e>av||e.e<-av))throw Error(Uj+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,n){var r,i,a,o,l,u,d,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=nn,i=t,d=p[h=0];else{if(h=Math.ceil((r+1)/nn),a=p.length,h>=a)return e;for(d=a=p[h],o=1;a>=10;a/=10)o++;r%=nn,i=r-nn+o}if(n!==void 0&&(a=Qc(10,o-i-1),l=d/a%10|0,u=t<0||p[h+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Qc(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=qn(e),p.length=1,t=t-a-1,p[0]=Qc(10,(nn-t%nn)%nn),e.e=Cf(-t/nn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Qc(10,nn-r),p[h]=i>0?(d/Qc(10,o-i)%Qc(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==dr&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=dr)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(fn&&(e.e>av||e.e<-av))throw Error(Uj+qn(e));return e}function ez(e,t){var n,r,i,a,o,l,u,d,h,p,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),fn?Wt(t,y):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(y/nn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=dr-1;--u[a],u[i]+=dr}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,fn?Wt(t,y):t):new b(0)}function xu(e,t,n){var r,i=qn(e),a=Mo(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ol(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ol(-i-1)+a,n&&(r=n-o)>0&&(a+=Ol(r))):i>=o?(a+=Ol(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ol(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ol(r))),e.s<0?"-"+a:a}function WL(e,t){if(e.length>t)return e.length=t,!0}function tz(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return KL(o,a.toString())}else if(typeof a!="string")throw Error(hu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ave.test(a))KL(o,a);else throw Error(hu+a)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tz,i.config=i.set=Nve,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Nve(e){if(!e||typeof e!="object")throw Error(ka+"Object expected");var t,n,r,i=["precision",1,Of,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Cf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(hu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hu+n+": "+r);return this}var Fj=tz(jve);zi=new Fj(1);const zt=Fj;var Ove=e=>e,nz={},rz=e=>e===nz,VL=e=>function t(){return arguments.length===0||arguments.length===1&&rz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},iz=(e,t)=>e===1?t:VL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==nz).length;return a>=e?t(...r):iz(e-a,VL(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(h=>rz(h)?l.shift():h);return t(...d,...l)}))}),Cve=e=>iz(e.length,e),aE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Mve=Cve((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Dve=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Ove;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}},oE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function az(e){var t;return e===0?t=1:t=Math.floor(new zt(e).abs().log(10).toNumber())+1,t}function oz(e,t,n){for(var r=new zt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var sz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},lz=(e,t,n)=>{if(e.lte(0))return new zt(0);var r=az(e.toNumber()),i=new zt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new zt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new zt(u.toNumber()):new zt(Math.ceil(u.toNumber()))},Pve=(e,t,n)=>{var r=new zt(1),i=new zt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zt(10).pow(az(e)-1),i=new zt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zt(Math.floor(e)))}else e===0?i=new zt(Math.floor((t-1)/2)):n||(i=new zt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Dve(Mve(u=>i.add(new zt(u-o).mul(r)).toNumber()),aE);return l(0,t)},cz=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var o=lz(new zt(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new zt(0):(l=new zt(t).add(n).div(2),l=l.sub(new zt(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new zt(n).sub(l).div(o).toNumber()),h=u+d+1;return h>r?cz(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new zt(u).mul(o)),tickMax:l.add(new zt(d).mul(o))})},Rve=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=sz([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...aE(0,i-1).map(()=>1/0)]:[...aE(0,i-1).map(()=>-1/0),u];return n>r?oE(d):d}if(l===u)return Pve(l,i,a);var{step:h,tickMin:p,tickMax:b}=cz(l,u,o,a,0),y=oz(p,b.add(new zt(.1).mul(h)),h);return n>r?oE(y):y},Lve=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=sz([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),d=lz(new zt(l).sub(o).div(u-1),a,0),h=[...oz(new zt(o),new zt(l),d),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?oE(h):h},Ive=e=>e.rootProps.barCategoryGap,Ax=e=>e.rootProps.stackOffset,uz=e=>e.rootProps.reverseStackOrder,Hj=e=>e.options.chartName,Gj=e=>e.rootProps.syncId,dz=e=>e.rootProps.syncMethod,qj=e=>e.options.eventEmitter,$ve=e=>e.rootProps.baseValue,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$i={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Nx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Bve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},zve={allowDataOverflow:$i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:$i.tickCount,ticks:void 0,type:$i.type,unit:void 0},Uve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Fve={allowDataOverflow:$i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$i.scale,tick:$i.tick,tickCount:$i.tickCount,ticks:void 0,type:"category",unit:void 0},Yj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Uve:Bve,Kj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Fve:zve,Ox=e=>e.polarOptions,Wj=xe([Bs,zs,Or],Rge),fz=xe([Ox,Wj],(e,t)=>{if(e!=null)return Kl(e.innerRadius,t,0)}),hz=xe([Ox,Wj],(e,t)=>{if(e!=null)return Kl(e.outerRadius,t,t*.8)}),Hve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},mz=xe([Ox],Hve);xe([Yj,mz],Nx);var pz=xe([Wj,fz,hz],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([Kj,pz],Nx);var gz=xe([Xt,Ox,fz,hz,Bs,zs],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:Kl(o,i,i/2),cy:Kl(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),tr=(e,t)=>t,Cx=(e,t,n)=>n;function Vj(e){return e?.id}function bz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var h=Vj(l);d.forEach((p,b)=>{var y=a==null||i?b:String(Ir(p,a,null)),k=Ir(p,l.dataKey,0),w;o.has(y)?w=o.get(y):w={},Object.assign(w,{[h]:k}),o.set(y,w)})}}),Array.from(o.values())}function Zj(e){return e.stackId!=null&&e.dataKey!=null}var Mx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Dx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Gve(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var nr=e=>{var t=Xt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mf=e=>e.tooltip.settings.axisId;function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(r){qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qve(e,t,n){return(t=Yve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yve(e){var t=Kve(e,"string");return typeof t=="symbol"?t:t+""}function Kve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sE=[0,"auto"],lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yz=(e,t)=>e.cartesianAxis.xAxis[t],Fs=(e,t)=>{var n=yz(e,t);return n??lr},cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Op},vz=(e,t)=>e.cartesianAxis.yAxis[t],Hs=(e,t)=>{var n=vz(e,t);return n??cr},Wve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xj=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Wve},ei=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Hs(e,n);case"zAxis":return Xj(e,n);case"angleAxis":return Yj(e,n);case"radiusAxis":return Kj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vve=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Hs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ip=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Hs(e,n);case"angleAxis":return Yj(e,n);case"radiusAxis":return Kj(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function wz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var _z=e=>e.graphicalItems.cartesianItems,Zve=xe([tr,Cx],wz),Sz=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),$p=xe([_z,ei,Zve],Sz,{memoizeOptions:{resultEqualityCheck:Dx}}),kz=xe([$p],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Zj)),Ez=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Xve=xe([$p],Ez),Tz=e=>e.map(t=>t.data).filter(Boolean).flat(1),Jve=xe([$p],Tz,{memoizeOptions:{resultEqualityCheck:Dx}}),jz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Jj=xe([Jve,zj],jz),Az=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ir(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ir(i,r)}))):e.map(r=>({value:r})),Px=xe([Jj,ei,$p],Az);function Nz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hb(e){if(Io(e)||e instanceof Date){var t=Number(e);if(An(t))return t}}function XL(e){if(Array.isArray(e)){var t=[Hb(e[0]),Hb(e[1])];return Wl(t)?t:void 0}var n=Hb(e);if(n!=null)return[n,n]}function Ls(e){return e.map(Hb).filter(vhe)}function Qve(e,t,n){return!n||typeof t!="number"||to(t)?[]:n.length?Ls(n.flatMap(r=>{var i=Ir(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!An(a)||!An(o)))return[t-a,t+o]})):[]}var rr=e=>{var t=nr(e),n=Mf(e);return Ip(e,t,n)},Bp=xe([rr],e=>e?.dataKey),exe=xe([kz,zj,rr],bz),Oz=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,d=r?[...u].reverse():u,h=d.map(Vj);return[l,{stackedData:kpe(e,h,n),graphicalItems:d}]}))},lE=xe([exe,kz,Ax,uz],Oz),Cz=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=Ape(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},txe=xe([ei],e=>e.allowDataOverflow),Qj=e=>{var t;if(e==null||!("domain"in e))return sE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ls(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:sE},Mz=xe([ei],Qj),Dz=xe([Mz,txe],Z8),nxe=xe([lE,ec,tr,Dz],Cz,{memoizeOptions:{resultEqualityCheck:Mx}}),eA=e=>e.errorBars,rxe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Nz(n,r)),sv=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},Pz=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,h,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(j=>Nz(i,j)),b=Ir(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),y=Qve(l,b,p);if(y.length>=2){var k=Math.min(...y),w=Math.max(...y);(a==null||k<a)&&(a=k),(o==null||w>o)&&(o=w)}var S=XL(b);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=XL(Ir(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),An(a)&&An(o))return[a,o]},ixe=xe([Jj,ei,Xve,eA,tr],Pz,{memoizeOptions:{resultEqualityCheck:Mx}});function axe(e){var{value:t}=e;if(Io(t)||t instanceof Date)return t}var oxe=(e,t,n)=>{var r=e.map(axe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Q7(r))?p8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Rz=e=>e.referenceElements.dots,Df=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),sxe=xe([Rz,tr,Cx],Df),Lz=e=>e.referenceElements.areas,lxe=xe([Lz,tr,Cx],Df),Iz=e=>e.referenceElements.lines,cxe=xe([Iz,tr,Cx],Df),$z=(e,t)=>{var n=Ls(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uxe=xe(sxe,tr,$z),Bz=(e,t)=>{var n=Ls(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dxe=xe([lxe,tr],Bz);function fxe(e){var t;if(e.x!=null)return Ls([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ls(n)}function hxe(e){var t;if(e.y!=null)return Ls([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ls(n)}var zz=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?fxe(r):hxe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mxe=xe([cxe,tr],zz),pxe=xe(uxe,mxe,dxe,(e,t,n)=>sv(e,n,t)),Uz=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?sv(r,a,i):sv(a,i);return Tve(t,d,e.allowDataOverflow)},gxe=xe([ei,Mz,Dz,nxe,ixe,pxe,Xt,tr],Uz,{memoizeOptions:{resultEqualityCheck:Mx}}),bxe=[0,1],Fz=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=$s(t,a);if(d&&l==null){var h;return p8(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?oxe(r,e,d):i==="expand"?bxe:o}},tA=xe([ei,Xt,Jj,Px,Ax,tr,gxe],Fz),Hz=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(rj(a));return l in wm?l:"point"}}},zp=xe([ei,Xt,xz,Hj,tr],Hz);function yxe(e){if(e!=null){if(e in wm)return wm[e]();var t="scale".concat(rj(e));if(t in wm)return wm[t]()}}function nA(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=yxe(t);if(i!=null){var a=i.domain(n).range(r);return xpe(a),a}}}var Gz=(e,t,n)=>{var r=Qj(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wl(e))return Rve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wl(e))return Lve(e,t.tickCount,t.allowDecimals)}},rA=xe([tA,Ip,zp],Gz),qz=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Wl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},vxe=xe([ei,tA,rA,tr],qz),xxe=xe(Px,ei,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ls(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),Yz=xe(xxe,Xt,Ive,Or,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!An(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Kl(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),wxe=(e,t)=>{var n=Fs(e,t);return n==null||typeof n.padding!="string"?0:Yz(e,"xAxis",t,n.padding)},_xe=(e,t)=>{var n=Hs(e,t);return n==null||typeof n.padding!="string"?0:Yz(e,"yAxis",t,n.padding)},Sxe=xe(Fs,wxe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),kxe=xe(Hs,_xe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Exe=xe([Or,Sxe,gx,px,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Txe=xe([Or,Xt,kxe,gx,px,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Up=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Exe(e,n,r);case"yAxis":return Txe(e,n,r);case"zAxis":return(i=Xj(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return mz(e);case"radiusAxis":return pz(e,n);default:return}},Kz=xe([ei,Up],Nx),Pf=xe([ei,zp,vxe,Kz],nA);xe([$p,eA,tr],rxe);function Wz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Rx=(e,t)=>t,Lx=(e,t,n)=>n,jxe=xe(hx,Rx,Lx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Wz)),Axe=xe(mx,Rx,Lx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Wz)),Vz=(e,t)=>({width:e.width,height:t.height}),Nxe=(e,t)=>{var n=typeof t.width=="number"?t.width:Op;return{width:n,height:e.height}},Oxe=xe(Or,Fs,Vz),Cxe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Mxe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Dxe=xe(zs,Or,jxe,Rx,Lx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Vz(t,l);o==null&&(o=Cxe(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),a}),Pxe=xe(Bs,Or,Axe,Rx,Lx,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=Nxe(t,l);o==null&&(o=Mxe(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),a}),Rxe=(e,t)=>{var n=Fs(e,t);if(n!=null)return Dxe(e,n.orientation,n.mirror)},Lxe=xe([Or,Fs,Rxe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Ixe=(e,t)=>{var n=Hs(e,t);if(n!=null)return Pxe(e,n.orientation,n.mirror)},$xe=xe([Or,Hs,Ixe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Bxe=xe(Or,Hs,(e,t)=>{var n=typeof t.width=="number"?t.width:Op;return{width:n,height:e.height}}),Zz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=$s(e,r),u=t.map(d=>d.value);if(o&&l&&a==="category"&&i&&Q7(u))return u}},iA=xe([Xt,Px,ei,tr],Zz),Xz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=$s(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},aA=xe([Xt,Px,Ip,tr],Xz),JL=xe([Xt,Vve,zp,Pf,iA,aA,Up,rA,tr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var d=$s(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}}),zxe=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var d=$s(e,u),{type:h,ticks:p,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=h==="category"&&r.bandwidth?r.bandwidth()/y:0;k=u==="angleAxis"&&a!=null&&a.length>=2?ba(a[0]-a[1])*2*k:k;var w=p||i;if(w){var S=w.map((j,O)=>{var A=o?o.indexOf(j):j;return{index:O,coordinate:r(A)+k,value:j,offset:k}});return S.filter(j=>An(j.coordinate))}return d&&l?l.map((j,O)=>({coordinate:r(j)+k,value:j,index:O,offset:k})).filter(j=>An(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+k,value:j,offset:k})):r.domain().map((j,O)=>({coordinate:r(j)+k,value:o?o[j]:j,index:O,offset:k}))}},Jz=xe([Xt,Ip,zp,Pf,rA,Up,iA,aA,tr],zxe),Uxe=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=$s(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&r?.length>=2?ba(r[0]-r[1])*2*d:d,l&&a?a.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:i?i[h]:h,index:p,offset:d}))}},Qz=xe([Xt,Ip,Pf,Up,iA,aA,tr],Uxe),eU=xe(ei,Pf,(e,t)=>{if(!(e==null||t==null))return ov(ov({},e),{},{scale:t})}),Fxe=xe([ei,zp,tA,Kz],nA);xe((e,t,n)=>Xj(e,n),Fxe,(e,t)=>{if(!(e==null||t==null))return ov(ov({},e),{},{scale:t})});var Hxe=xe([Xt,hx,mx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tU=e=>e.options.defaultTooltipEventType,nU=e=>e.options.validateTooltipEventTypes;function rU(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function oA(e,t){var n=tU(e),r=nU(e);return rU(t,n,r)}function Gxe(e){return tt(t=>oA(t,e))}var iU=(e,t)=>{var n,r=Number(t);if(!(to(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},qxe=e=>e.tooltip.settings,Il={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Yxe={itemInteraction:{click:Il,hover:Il},axisInteraction:{click:Il,hover:Il},keyboardInteraction:Il,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aU=Si({name:"tooltip",initialState:Yxe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:un()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xa(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:un()},removeTooltipEntrySettings:{reducer(e,t){var n=Xa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:un()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Kxe,replaceTooltipEntrySettings:Wxe,removeTooltipEntrySettings:Vxe,setTooltipSettingsState:Zxe,setActiveMouseOverItemIndex:Xxe,mouseLeaveItem:yCe,mouseLeaveChart:oU,setActiveClickItemIndex:vCe,setMouseOverAxisIndex:sU,setMouseClickAxisIndex:Jxe,setSyncInteraction:cE,setKeyboardInteraction:uE}=aU.actions,Qxe=aU.reducer;function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(r){ewe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ewe(e,t,n){return(t=twe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function twe(e){var t=nwe(e,"string");return typeof t=="symbol"?t:t+""}function nwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rwe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function iwe(e){return e.index!=null}var lU=(e,t,n,r)=>{if(t==null)return Il;var i=rwe(e,t,n);if(i==null)return Il;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(iwe(i)){if(a)return bb(bb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return bb(bb({},Il),{},{coordinate:i.coordinate})};function awe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function owe(e,t){var n=awe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function swe(e,t,n){if(n==null||t==null)return!0;var r=Ir(e,t);return r==null||!Wl(n)?!0:owe(r,n)}var sA=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!An(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),d=t[u];return d==null||swe(d,n,r)?String(u):null},cU=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},uU=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Fp=e=>e.options.tooltipPayloadSearcher,Rf=e=>e.tooltip;function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){lwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lwe(e,t,n){return(t=cwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cwe(e){var t=uwe(e,"string");return typeof t=="symbol"?t:t+""}function uwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dwe(e,t){return e??t}var dU=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=n,p=[];return e.reduce((b,y)=>{var k,{dataDefinedOnItem:w,settings:S}=y,j=dwe(w,l),O=Array.isArray(j)?U9(j,d,h):j,A=(k=S?.dataKey)!==null&&k!==void 0?k:r,C=S?.nameKey,D;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?D=e9(O,r,i):D=a(O,t,u,C),Array.isArray(D))D.forEach($=>{var U=tI(tI({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(k3({tooltipEntrySettings:U,dataKey:$.dataKey,payload:$.payload,value:Ir($.payload,$.dataKey),name:$.name}))});else{var P;b.push(k3({tooltipEntrySettings:S,dataKey:A,payload:D,value:Ir(D,A),name:(P=Ir(D,C))!==null&&P!==void 0?P:S?.name}))}return b},p)}},lA=xe([rr,Xt,xz,Hj,nr],Hz),fwe=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hwe=xe([nr,Mf],wz),Hp=xe([fwe,rr,hwe],Sz,{memoizeOptions:{resultEqualityCheck:Dx}}),mwe=xe([Hp],e=>e.filter(Zj)),pwe=xe([Hp],Tz,{memoizeOptions:{resultEqualityCheck:Dx}}),Lf=xe([pwe,ec],jz),gwe=xe([mwe,ec,rr],bz),cA=xe([Lf,rr,Hp],Az),fU=xe([rr],Qj),bwe=xe([rr],e=>e.allowDataOverflow),hU=xe([fU,bwe],Z8),ywe=xe([Hp],e=>e.filter(Zj)),vwe=xe([gwe,ywe,Ax,uz],Oz),xwe=xe([vwe,ec,nr,hU],Cz),wwe=xe([Hp],Ez),_we=xe([Lf,rr,wwe,eA,nr],Pz,{memoizeOptions:{resultEqualityCheck:Mx}}),Swe=xe([Rz,nr,Mf],Df),kwe=xe([Swe,nr],$z),Ewe=xe([Lz,nr,Mf],Df),Twe=xe([Ewe,nr],Bz),jwe=xe([Iz,nr,Mf],Df),Awe=xe([jwe,nr],zz),Nwe=xe([kwe,Awe,Twe],sv),Owe=xe([rr,fU,hU,xwe,_we,Nwe,Xt,nr],Uz),Gp=xe([rr,Xt,Lf,cA,Ax,nr,Owe],Fz),Cwe=xe([Gp,rr,lA],Gz),Mwe=xe([rr,Gp,Cwe,nr],qz),mU=e=>{var t=nr(e),n=Mf(e),r=!1;return Up(e,t,n,r)},pU=xe([rr,mU],Nx),gU=xe([rr,lA,Mwe,pU],nA),Dwe=xe([Xt,cA,rr,nr],Zz),Pwe=xe([Xt,cA,rr,nr],Xz),Rwe=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,d=$s(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?ba(i[0]-i[1])*2*p:p,d&&o?o.map((b,y)=>({coordinate:r(b)+p,value:b,index:y,offset:p})):r.domain().map((b,y)=>({coordinate:r(b)+p,value:a?a[b]:b,index:y,offset:p}))}}},Gs=xe([Xt,rr,lA,gU,mU,Dwe,Pwe,nr],Rwe),uA=xe([tU,nU,qxe],(e,t,n)=>rU(n.shared,e,t)),bU=e=>e.tooltip.settings.trigger,dA=e=>e.tooltip.settings.defaultIndex,qp=xe([Rf,uA,bU,dA],lU),sp=xe([qp,Lf,Bp,Gp],sA),yU=xe([Gs,sp],iU),Lwe=xe([qp],e=>{if(e)return e.dataKey});xe([qp],e=>{if(e)return e.graphicalItemId});var vU=xe([Rf,uA,bU,dA],uU),Iwe=xe([Bs,zs,Xt,Or,Gs,dA,vU,Fp],cU),$we=xe([qp,Iwe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Bwe=xe([qp],e=>e.active),zwe=xe([vU,sp,ec,Bp,yU,Fp,uA],dU),Uwe=xe([zwe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){Fwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fwe(e,t,n){return(t=Hwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hwe(e){var t=Gwe(e,"string");return typeof t=="symbol"?t:t+""}function Gwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qwe=()=>tt(rr),Ywe=()=>{var e=qwe(),t=tt(Gs),n=tt(gU);return zy(!e||!n?void 0:rI(rI({},e),{},{scale:n}),t)};function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){Kwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kwe(e,t,n){return(t=Wwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wwe(e){var t=Vwe(e,"string");return typeof t=="symbol"?t:t+""}function Vwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zwe=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Xwe=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return jd(jd(jd({},r),Tr(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return jd(jd(jd({},r),Tr(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jwe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var xU=(e,t,n,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,b=void 0;if(ba(h-d)!==ba(p-h)){var y=[];if(ba(p-h)===ba(i[1]-i[0])){b=p;var k=h+i[1]-i[0];y[0]=Math.min(k,(k+d)/2),y[1]=Math.max(k,(k+d)/2)}else{b=d;var w=p+i[1]-i[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var j=Math.min(d,p),O=Math.max(d,p);if(e>(j+h)/2&&e<=(O+h)/2){({index:o}=n[u]);break}}}else if(t){for(var A=0;A<l;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===l-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:o}=t[A]);break}}return o},wU=()=>tt(Hj),fA=(e,t)=>t,_U=(e,t,n)=>n,hA=(e,t,n,r)=>r,Qwe=xe(Gs,e=>ix(e,t=>t.coordinate)),mA=xe([Rf,fA,_U,hA],lU),pA=xe([mA,Lf,Bp,Gp],sA),e_e=(e,t,n)=>{if(t!=null){var r=Rf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},SU=xe([Rf,fA,_U,hA],uU),lv=xe([Bs,zs,Xt,Or,Gs,hA,SU,Fp],cU),t_e=xe([mA,lv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),kU=xe([Gs,pA],iU),n_e=xe([SU,pA,ec,Bp,kU,Fp,fA],dU),r_e=xe([mA,pA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),i_e=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&Jwe(e,o)){var l=Npe(e,t),u=xU(l,a,i,n,r),d=Zwe(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},a_e=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=zge(e,n);if(l){var u=Ope(l,t),d=xU(u,o,a,r,i),h=Xwe(t,a,d,l);return{activeIndex:String(d),activeCoordinate:h}}}},o_e=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?i_e(e,t,r,i,a,o,l):a_e(e,t,n,r,i,a,o)},s_e=xe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),l_e=xe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Zr)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Gve}});function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(r){c_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c_e(e,t,n){return(t=u_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u_e(e){var t=d_e(e,"string");return typeof t=="symbol"?t:t+""}function d_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_e={},h_e={zIndexMap:Object.values(Zr).reduce((e,t)=>oI(oI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),f_e)},m_e=new Set(Object.values(Zr));function p_e(e){return m_e.has(e)}var EU=Si({name:"zIndex",initialState:h_e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:un()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!p_e(n)&&delete e.zIndexMap[n])},prepare:un()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:un()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:un()}}}),{registerZIndexPortal:g_e,unregisterZIndexPortal:b_e,registerZIndexPortalId:y_e,unregisterZIndexPortalId:v_e}=EU.actions,x_e=EU.reducer;function qs(e){var{zIndex:t,children:n}=e,r=u0e(),i=r&&t!==void 0&&t!==0,a=ki(),o=pr();_.useLayoutEffect(()=>i?(o(g_e({zIndex:t})),()=>{o(b_e({zIndex:t}))}):Tp,[o,t,i]);var l=tt(d=>s_e(d,t,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?Eu.createPortal(n,u):null}function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dE.apply(null,arguments)}function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){w_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w_e(e,t,n){return(t=__e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __e(e){var t=S_e(e,"string");return typeof t=="symbol"?t:t+""}function S_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k_e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function E_e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:h}=e,p=n,b=r,y=i;if(!u||!p||h!=="ScatterChart"&&d!=="axis")return null;var k,w,S;if(h==="ScatterChart")k=p,w=J0e,S=Zr.cursorLine;else if(h==="BarChart")k=Q0e(l,p,a,o),w=Oge,S=Zr.cursorRectangle;else if(l==="radial"&&t9(p)){var{cx:j,cy:O,radius:A,startAngle:C,endAngle:D}=h8(p);k={cx:j,cy:O,startAngle:C,endAngle:D,innerRadius:A,outerRadius:A},w=Gge,S=Zr.cursorLine}else k={points:qge(l,p,a)},w=Fb,S=Zr.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,$=yb(yb(yb(yb({stroke:"#ccc",pointerEvents:"none"},a),k),ex(u)),{},{payload:b,payloadIndex:y,className:rn("recharts-tooltip-cursor",P)});return _.createElement(qs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},_.createElement(k_e,{cursor:u,cursorComp:w,cursorProps:$}))}function T_e(e){var t=Ywe(),n=X9(),r=Cp(),i=wU();return t==null||n==null||r==null||i==null?null:_.createElement(E_e,dE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var TU=_.createContext(null),j_e=()=>_.useContext(TU),KS={exports:{}},lI;function A_e(){return lI||(lI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function a(u,d,h,p,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||u,b),k=n?n+d:d;return u._events[k]?u._events[k].fn?u._events[k]=[u._events[k],y]:u._events[k].push(y):(u._events[k]=y,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,y=p.length,k=new Array(y);b<y;b++)k[b]=p[b].fn;return k},l.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,h,p,b,y,k){var w=n?n+d:d;if(!this._events[w])return!1;var S=this._events[w],j=arguments.length,O,A;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,b),!0;case 5:return S.fn.call(S.context,h,p,b,y),!0;case 6:return S.fn.call(S.context,h,p,b,y,k),!0}for(A=1,O=new Array(j-1);A<j;A++)O[A-1]=arguments[A];S.fn.apply(S.context,O)}else{var C=S.length,D;for(A=0;A<C;A++)switch(S[A].once&&this.removeListener(d,S[A].fn,void 0,!0),j){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,p);break;case 4:S[A].fn.call(S[A].context,h,p,b);break;default:if(!O)for(D=1,O=new Array(j-1);D<j;D++)O[D-1]=arguments[D];S[A].fn.apply(S[A].context,O)}}return!0},l.prototype.on=function(d,h,p){return a(this,d,h,p,!1)},l.prototype.once=function(d,h,p){return a(this,d,h,p,!0)},l.prototype.removeListener=function(d,h,p,b){var y=n?n+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var k=this._events[y];if(k.fn)k.fn===h&&(!b||k.once)&&(!p||k.context===p)&&o(this,y);else{for(var w=0,S=[],j=k.length;w<j;w++)(k[w].fn!==h||b&&!k[w].once||p&&k[w].context!==p)&&S.push(k[w]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(KS)),KS.exports}var N_e=A_e();const O_e=_i(N_e);var lp=new O_e,fE="recharts.syncEvent.tooltip",cI="recharts.syncEvent.brush";function C_e(e,t){if(t){var n=Number.parseInt(t,10);if(!to(n))return e?.[n]}}var M_e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jU=Si({name:"options",initialState:M_e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),D_e=jU.reducer,{createEventEmitter:P_e}=jU.actions;function R_e(e){return e.tooltip.syncInteraction}var L_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AU=Si({name:"chartData",initialState:L_e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:uI,setDataStartEndIndexes:I_e,setComputedData:xCe}=AU.actions,$_e=AU.reducer,B_e=["x","y"];function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){z_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_e(e,t,n){return(t=U_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U_e(e){var t=F_e(e,"string");return typeof t=="symbol"?t:t+""}function F_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H_e(e,t){if(e==null)return{};var n,r,i=G_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function q_e(){var e=tt(Gj),t=tt(qj),n=pr(),r=tt(dz),i=tt(Gs),a=Cp(),o=bx(),l=tt(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return Tp;var u=(d,h,p)=>{if(t!==p&&e===d){if(r==="index"){var b;if(o&&h!==null&&h!==void 0&&(b=h.payload)!==null&&b!==void 0&&b.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:k,y:w}=y,S=H_e(y,B_e),{x:j,y:O,width:A,height:C}=h.payload.sourceViewBox,D=Ad(Ad({},S),{},{x:o.x+(A?(k-j)/A:0)*o.width,y:o.y+(C?(w-O)/C:0)*o.height});n(Ad(Ad({},h),{},{payload:Ad(Ad({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var P;if(typeof r=="function"){var $={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=r(i,$);P=i[U]}else r==="value"&&(P=i.find(q=>String(q.value)===h.payload.label));var{coordinate:W}=h.payload;if(P==null||h.payload.active===!1||W==null||o==null){n(cE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:F}=W,z=Math.min(Y,o.x+o.width),K=Math.min(F,o.y+o.height),Z={x:a==="horizontal"?P.coordinate:z,y:a==="horizontal"?K:P.coordinate},X=cE({active:h.payload.active,coordinate:Z,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(X)}}};return lp.on(fE,u),()=>{lp.off(fE,u)}},[l,n,t,e,r,i,a,o])}function Y_e(){var e=tt(Gj),t=tt(qj),n=pr();_.useEffect(()=>{if(e==null)return Tp;var r=(i,a,o)=>{t!==o&&e===i&&n(I_e(a))};return lp.on(cI,r),()=>{lp.off(cI,r)}},[n,t,e])}function K_e(){var e=pr();_.useEffect(()=>{e(P_e())},[e]),q_e(),Y_e()}function W_e(e,t,n,r,i,a){var o=tt(y=>e_e(y,e,t)),l=tt(qj),u=tt(Gj),d=tt(dz),h=tt(R_e),p=h?.active,b=bx();_.useEffect(()=>{if(!p&&u!=null&&l!=null){var y=cE({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});lp.emit(fE,u,y,l)}},[p,n,o,i,r,l,u,d,a,b])}function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(r){V_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V_e(e,t,n){return(t=Z_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z_e(e){var t=X_e(e,"string");return typeof t=="symbol"?t:t+""}function X_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_e(e){return e.dataKey}function Q_e(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(C0e,t)}var mI=[],e1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function t1e(e){var t,n,r=Vi(e,e1e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:h,offset:p,payloadUniqBy:b,position:y,reverseDirection:k,useTranslate3d:w,wrapperStyle:S,cursor:j,shared:O,trigger:A,defaultIndex:C,portal:D,axisId:P}=r,$=pr(),U=typeof C=="number"?String(C):C;_.useEffect(()=>{$(Zxe({shared:O,trigger:A,axisId:P,active:i,defaultIndex:U}))},[$,O,A,P,i,U]);var W=bx(),Y=s8(),F=Gxe(O),{activeIndex:z,isActive:K}=(t=tt(pe=>r_e(pe,F,A,U)))!==null&&t!==void 0?t:{},Z=tt(pe=>n_e(pe,F,A,U)),X=tt(pe=>kU(pe,F,A,U)),q=tt(pe=>t_e(pe,F,A,U)),J=Z,ee=j_e(),le=(n=i??K)!==null&&n!==void 0?n:!1,[ae,B]=vme([J,le]),V=F==="axis"?X:void 0;W_e(F,A,q,V,z,le);var ne=D??ee;if(ne==null||W==null||F==null)return null;var oe=J??mI;le||(oe=mI),d&&oe.length&&(oe=qhe(oe.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),b,J_e));var fe=oe.length>0,ye=_.createElement($0e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:le,coordinate:q,hasPayload:fe,offset:p,position:y,reverseDirection:k,useTranslate3d:w,viewBox:W,wrapperStyle:S,lastBoundingBox:ae,innerRef:B,hasPortalFromProps:!!D},Q_e(u,hI(hI({},r),{},{payload:oe,label:V,active:le,activeIndex:z,coordinate:q,accessibilityLayer:Y})));return _.createElement(_.Fragment,null,Eu.createPortal(ye,ne),le&&_.createElement(T_e,{cursor:j,tooltipEventType:F,coordinate:q,payload:oe,index:z}))}function n1e(e,t,n){return(t=r1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r1e(e){var t=i1e(e,"string");return typeof t=="symbol"?t:t+""}function i1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class a1e{constructor(t){n1e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){s1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s1e(e,t,n){return(t=l1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l1e(e){var t=c1e(e,"string");return typeof t=="symbol"?t:t+""}function c1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u1e={cacheSize:2e3,enableCache:!0},NU=o1e({},u1e),gI=new a1e(NU.cacheSize),d1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bI="recharts_measurement_span";function f1e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var yI=(e,t)=>{try{var n=document.getElementById(bI);n||(n=document.createElement("span"),n.setAttribute("id",bI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,d1e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Om=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Af.isSsr)return{width:0,height:0};if(!NU.enableCache)return yI(t,n);var r=f1e(t,n),i=gI.get(r);if(i)return i;var a=yI(t,n);return gI.set(r,a),a},vI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,m1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},p1e=Object.keys(OU),Bd="NaN";function g1e(e,t){return e*OU[t]}class gi{static parse(t){var n,[,r,i]=(n=m1e.exec(t))!==null&&n!==void 0?n:[];return new gi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,to(t)&&(this.unit=""),n!==""&&!h1e.test(n)&&(this.num=NaN,this.unit=""),p1e.includes(n)&&(this.num=g1e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return to(this.num)}}function CU(e){if(e.includes(Bd))return Bd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=vI.exec(t))!==null&&n!==void 0?n:[],o=gi.parse(r??""),l=gi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Bd;t=t.replace(vI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,p,b]=(d=xI.exec(t))!==null&&d!==void 0?d:[],y=gi.parse(h??""),k=gi.parse(b??""),w=p==="+"?y.add(k):y.subtract(k);if(w.isNaN())return Bd;t=t.replace(xI,w.toString())}return t}var wI=/\(([^()]*)\)/;function b1e(e){for(var t=e,n;(n=wI.exec(t))!=null;){var[,r]=n;t=t.replace(wI,CU(r))}return t}function y1e(e){var t=e.replace(/\s+/g,"");return t=b1e(t),t=CU(t),t}function v1e(e){try{return y1e(e)}catch{return Bd}}function WS(e){var t=v1e(e.slice(5,-1));return t===Bd?"":t}var x1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],w1e=["dx","dy","angle","className","breakAll"];function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hE.apply(null,arguments)}function _I(e,t){if(e==null)return{};var n,r,i=_1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MU=/[ \f\n\r\t\v\u2028\u2029]+/,DU=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];jr(t)||(n?i=t.toString().split(""):i=t.toString().split(MU));var a=i.map(l=>({word:l,width:Om(l,r).width})),o=n?0:Om("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function S1e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PU=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var d={words:[o],width:l};i.push(d)}return i},[]),RU=e=>e.reduce((t,n)=>t.width>n.width?t:n),k1e="",SI=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),d=DU({breakAll:n,style:r,children:u+k1e});if(!d)return[!1,[]];var h=PU(d.wordsWithComputedWidth,a,o,l),p=h.length>i||RU(h).width>Number(a);return[p,h]},E1e=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,d=Qe(a),h=String(o),p=PU(t,r,n,i);if(!d||i)return p;var b=p.length>a||RU(p).width>Number(r);if(!b)return p;for(var y=0,k=h.length-1,w=0,S;y<=k&&w<=h.length-1;){var j=Math.floor((y+k)/2),O=j-1,[A,C]=SI(h,O,u,l,a,r,n,i),[D]=SI(h,j,u,l,a,r,n,i);if(!A&&!D&&(y=j+1),A&&D&&(k=j-1),!A&&D){S=C;break}w++}return S||p},kI=e=>{var t=jr(e)?[]:e.toString().split(MU);return[{words:t,width:void 0}]},T1e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Af.isSsr){var l,u,d=DU({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:p}=d;l=h,u=p}else return kI(r);return E1e({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return kI(r)},LU="#808080",j1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:LU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},gA=_.forwardRef((e,t)=>{var n=Vi(e,j1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:h}=n,p=_I(n,x1e),b=_.useMemo(()=>T1e({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:k,angle:w,className:S,breakAll:j}=p,O=_I(p,w1e);if(!Io(r)||!Io(i)||b.length===0)return null;var A=Number(r)+(Qe(y)?y:0),C=Number(i)+(Qe(k)?k:0);if(!An(A)||!An(C))return null;var D;switch(h){case"start":D=WS("calc(".concat(o,")"));break;case"middle":D=WS("calc(".concat((b.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=WS("calc(".concat(b.length-1," * -").concat(a,")"));break}var P=[];if(u){var $=b[0].width,{width:U}=p;P.push("scale(".concat(Qe(U)&&Qe($)?U/$:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(A,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),_.createElement("text",hE({},_a(O),{ref:t,x:A,y:C,className:rn("recharts-text",S),textAnchor:d,fill:l.includes("url")?LU:l}),b.map((W,Y)=>{var F=W.words.join(j?"":" ");return _.createElement("tspan",{x:A,dy:Y===0?D:a,key:"".concat(F,"-").concat(Y)},F)}))});gA.displayName="Text";var A1e=["labelRef"];function N1e(e,t){if(e==null)return{};var n,r,i=O1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){C1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C1e(e,t,n){return(t=M1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M1e(e){var t=D1e(e,"string");return typeof t=="symbol"?t:t+""}function D1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(null,arguments)}var IU=_.createContext(null),P1e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return _.createElement(IU.Provider,{value:u},l)},$U=()=>{var e=_.useContext(IU),t=bx();return e||Z9(t)},R1e=_.createContext(null),L1e=()=>{var e=_.useContext(R1e),t=tt(gz);return e||t},I1e=e=>{var{value:t,formatter:n}=e,r=jr(e.children)?t:e.children;return typeof n=="function"?n(r):r},bA=e=>e!=null&&typeof e=="function",$1e=(e,t)=>{var n=ba(t-e),r=Math.min(Math.abs(t-e),360);return n*r},B1e=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:p,endAngle:b,clockWise:y}=i,k=(d+h)/2,w=$1e(p,b),S=w>=0?1:-1,j,O;switch(t){case"insideStart":j=p+S*a,O=y;break;case"insideEnd":j=b-S*a,O=!y;break;case"end":j=b+S*a,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var A=Tr(l,u,k,j),C=Tr(l,u,k,j+(O?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),P=jr(e.id)?Wm("recharts-radial-line-"):e.id;return _.createElement("text",xs({},r,{dominantBaseline:"central",className:rn("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:P,d:D})),_.createElement("textPath",{xlinkHref:"#".concat(P)},n))},z1e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:h,y:p}=Tr(r,i,o+t,d);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(a+o)/2,{x:y,y:k}=Tr(r,i,b,d);return{x:y,y:k,textAnchor:"middle",verticalAnchor:"middle"}},mE=e=>"cx"in e&&Qe(e.cx),U1e=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!mE(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:h}=t,p=o,b=o+(u-d)/2,y=(p+b)/2,k=(u+d)/2,w=p+u/2,S=h>=0?1:-1,j=S*r,O=S>0?"end":"start",A=S>0?"start":"end",C=u>=0?1:-1,D=C*r,P=C>0?"end":"start",$=C>0?"start":"end";if(i==="top"){var U={x:p+u/2,y:l-j,textAnchor:"middle",verticalAnchor:O};return Mn(Mn({},U),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var W={x:b+d/2,y:l+h+j,textAnchor:"middle",verticalAnchor:A};return Mn(Mn({},W),a?{height:Math.max(a.y+a.height-(l+h),0),width:d}:{})}if(i==="left"){var Y={x:y-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"};return Mn(Mn({},Y),a?{width:Math.max(Y.x-a.x,0),height:h}:{})}if(i==="right"){var F={x:y+k+D,y:l+h/2,textAnchor:$,verticalAnchor:"middle"};return Mn(Mn({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:h}:{})}var z=a?{width:k,height:h}:{};return i==="insideLeft"?Mn({x:y+D,y:l+h/2,textAnchor:$,verticalAnchor:"middle"},z):i==="insideRight"?Mn({x:y+k-D,y:l+h/2,textAnchor:P,verticalAnchor:"middle"},z):i==="insideTop"?Mn({x:p+u/2,y:l+j,textAnchor:"middle",verticalAnchor:A},z):i==="insideBottom"?Mn({x:b+d/2,y:l+h-j,textAnchor:"middle",verticalAnchor:O},z):i==="insideTopLeft"?Mn({x:p+D,y:l+j,textAnchor:$,verticalAnchor:A},z):i==="insideTopRight"?Mn({x:p+u-D,y:l+j,textAnchor:P,verticalAnchor:A},z):i==="insideBottomLeft"?Mn({x:b+D,y:l+h-j,textAnchor:$,verticalAnchor:O},z):i==="insideBottomRight"?Mn({x:b+d-D,y:l+h-j,textAnchor:P,verticalAnchor:O},z):i&&typeof i=="object"&&(Qe(i.x)||Cs(i.x))&&(Qe(i.y)||Cs(i.y))?Mn({x:o+Kl(i.x,k),y:l+Kl(i.y,h),textAnchor:"end",verticalAnchor:"end"},z):Mn({x:w,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},F1e={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function Cl(e){var t=Vi(e,F1e),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:d}=t,h=L1e(),p=$U(),b=r==="center"?p:h??p,y,k,w;if(n==null?y=b:mE(n)?y=n:y=Z9(n),!y||jr(i)&&jr(a)&&!_.isValidElement(o)&&typeof o!="function")return null;var S=Mn(Mn({},t),{},{viewBox:y});if(_.isValidElement(o)){var{labelRef:j}=S,O=N1e(S,A1e);return _.cloneElement(o,O)}if(typeof o=="function"){if(k=_.createElement(o,S),_.isValidElement(k))return k}else k=I1e(t);var A=_a(t);if(mE(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return B1e(t,r,k,A,y);w=z1e(y,t.offset,t.position)}else w=U1e(t,y);return _.createElement(qs,{zIndex:t.zIndex},_.createElement(gA,xs({ref:d,className:rn("recharts-label",l)},A,w,{textAnchor:S1e(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:u}),k))}Cl.displayName="Label";var H1e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(Cl,xs({key:"label-implicit"},r)):Io(e)?_.createElement(Cl,xs({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===Cl?_.cloneElement(e,Mn({key:"label-implicit"},r)):_.createElement(Cl,xs({key:"label-implicit",content:e},r)):bA(e)?_.createElement(Cl,xs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(Cl,xs({},e,{key:"label-implicit"},r)):null};function G1e(e){var{label:t,labelRef:n}=e,r=$U();return H1e(t,r,n)||null}var VS={},ZS={},TI;function q1e(){return TI||(TI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ZS)),ZS}var XS={},jI;function Y1e(){return jI||(jI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(XS)),XS}var AI;function K1e(){return AI||(AI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1e(),n=Y1e(),r=aj();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(VS)),VS}var JS,NI;function W1e(){return NI||(NI=1,JS=K1e().last),JS}var V1e=W1e();const Z1e=_i(V1e);var X1e=["valueAccessor"],J1e=["dataKey","clockWise","id","textBreakAll","zIndex"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(null,arguments)}function OI(e,t){if(e==null)return{};var n,r,i=Q1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eSe=e=>Array.isArray(e.value)?Z1e(e.value):e.value,BU=_.createContext(void 0),tSe=BU.Provider,zU=_.createContext(void 0);zU.Provider;function nSe(){return _.useContext(BU)}function rSe(){return _.useContext(zU)}function Gb(e){var{valueAccessor:t=eSe}=e,n=OI(e,X1e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=OI(n,J1e),d=nSe(),h=rSe(),p=d||h;return!p||!p.length?null:_.createElement(qs,{zIndex:l??Zr.label},_.createElement(Lo,{className:"recharts-label-list"},p.map((b,y)=>{var k,w=jr(r)?t(b,y):Ir(b&&b.payload,r),S=jr(a)?{}:{id:"".concat(a,"-").concat(y)};return _.createElement(Cl,cv({key:"label-".concat(y)},_a(b),u,S,{fill:(k=n.fill)!==null&&k!==void 0?k:b.fill,parentViewBox:b.parentViewBox,value:w,textBreakAll:o,viewBox:b.viewBox,index:y,zIndex:0}))})))}Gb.displayName="LabelList";function iSe(e){var{label:t}=e;return t?t===!0?_.createElement(Gb,{key:"labelList-implicit"}):_.isValidElement(t)||bA(t)?_.createElement(Gb,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(Gb,cv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(null,arguments)}var UU=e=>{var{cx:t,cy:n,r,className:i}=e,a=rn("recharts-dot",i);return Qe(t)&&Qe(n)&&Qe(r)?_.createElement("circle",pE({},eo(e),ij(e),{className:a,cx:t,cy:n,r})):null},aSe={radiusAxis:{},angleAxis:{}},FU=Si({name:"polarAxis",initialState:aSe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:wCe,removeRadiusAxis:_Ce,addAngleAxis:SCe,removeAngleAxis:kCe}=FU.actions,oSe=FU.reducer,QS={exports:{}},Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function sSe(){if(CI)return Rt;CI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,b=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,k=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case u:case d:case r:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case l:case h:case k:case y:case o:return D;default:return P}}case n:return P}}}function C(D){return A(D)===d}return Rt.AsyncMode=u,Rt.ConcurrentMode=d,Rt.ContextConsumer=l,Rt.ContextProvider=o,Rt.Element=t,Rt.ForwardRef=h,Rt.Fragment=r,Rt.Lazy=k,Rt.Memo=y,Rt.Portal=n,Rt.Profiler=a,Rt.StrictMode=i,Rt.Suspense=p,Rt.isAsyncMode=function(D){return C(D)||A(D)===u},Rt.isConcurrentMode=C,Rt.isContextConsumer=function(D){return A(D)===l},Rt.isContextProvider=function(D){return A(D)===o},Rt.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},Rt.isForwardRef=function(D){return A(D)===h},Rt.isFragment=function(D){return A(D)===r},Rt.isLazy=function(D){return A(D)===k},Rt.isMemo=function(D){return A(D)===y},Rt.isPortal=function(D){return A(D)===n},Rt.isProfiler=function(D){return A(D)===a},Rt.isStrictMode=function(D){return A(D)===i},Rt.isSuspense=function(D){return A(D)===p},Rt.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===d||D===a||D===i||D===p||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===y||D.$$typeof===o||D.$$typeof===l||D.$$typeof===h||D.$$typeof===S||D.$$typeof===j||D.$$typeof===O||D.$$typeof===w)},Rt.typeOf=A,Rt}var MI;function lSe(){return MI||(MI=1,QS.exports=sSe()),QS.exports}lSe();var HU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function cSe(e){var{tooltipEntrySettings:t}=e,n=pr(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(Kxe(t)):i.current!==t&&n(Wxe({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(Vxe(i.current)),i.current=null)},[n]),null}function uSe(e){var{legendPayload:t}=e,n=pr(),r=ki(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(S0e(t)):i.current!==t&&n(k0e({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(E0e(i.current)),i.current=null)},[n]),null}var ek,dSe=()=>{var[e]=_.useState(()=>Wm("uid-"));return e},fSe=(ek=HG.useId)!==null&&ek!==void 0?ek:dSe;function GU(e,t){var n=fSe();return t||(e?"".concat(e,"-").concat(n):n)}var hSe=_.createContext(void 0),mSe=e=>{var{id:t,type:n,children:r}=e,i=GU("recharts-".concat(n),t);return _.createElement(hSe.Provider,{value:i},r(i))},pSe={cartesianItems:[],polarItems:[]},qU=Si({name:"graphicalItems",initialState:pSe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:un()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:un()},removeCartesianGraphicalItem:{reducer(e,t){var n=Xa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:un()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:un()},removePolarGraphicalItem:{reducer(e,t){var n=Xa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:un()}}}),{addCartesianGraphicalItem:gSe,replaceCartesianGraphicalItem:bSe,removeCartesianGraphicalItem:ySe,addPolarGraphicalItem:ECe,removePolarGraphicalItem:TCe}=qU.actions,vSe=qU.reducer,xSe=e=>{var t=pr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(gSe(e)):n.current!==e&&t(bSe({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(ySe(n.current)),n.current=null)},[t]),null},wSe=_.memo(xSe),_Se=["points"];function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){SSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SSe(e,t,n){return(t=kSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kSe(e){var t=ESe(e,"string");return typeof t=="symbol"?t:t+""}function ESe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(null,arguments)}function TSe(e,t){if(e==null)return{};var n,r,i=jSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ASe(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=rn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=TSe(a,_Se);return _.createElement(UU,uv({},l,{className:i}))}function NSe(e,t){return e==null?!1:t?!0:e.length===1}function OSe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Zr.scatter}=e;if(!NSe(t,n))return null;var h=HU(n),p=Bfe(n),b=t.map((k,w)=>{var S,j,O=tk(tk(tk({r:3},o),p),{},{index:w,cx:(S=k.x)!==null&&S!==void 0?S:void 0,cy:(j=k.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return _.createElement(ASe,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),y={};return l&&u!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),_.createElement(qs,{zIndex:d},_.createElement(Lo,uv({className:r},y),b))}function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){CSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CSe(e,t,n){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PSe={xAxis:{},yAxis:{},zAxis:{}},YU=Si({name:"cartesianAxis",initialState:PSe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:un()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:un()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:un()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:un()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:un()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:un()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:un()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:un()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:un()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=RI(RI({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:RSe,replaceXAxis:LSe,removeXAxis:ISe,addYAxis:$Se,replaceYAxis:BSe,removeYAxis:zSe,addZAxis:jCe,replaceZAxis:ACe,removeZAxis:NCe,updateYAxisWidth:USe}=YU.actions,FSe=YU.reducer,HSe=xe([Or],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),GSe=xe([HSe,Bs,zs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),yA=()=>tt(GSe),qSe=()=>tt(Uwe);function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){YSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YSe(e,t,n){return(t=KSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KSe(e){var t=WSe(e,"string");return typeof t=="symbol"?t:t+""}function WSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VSe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=nk(nk(nk({},l),ex(i)),ij(i)),d;return _.isValidElement(i)?d=_.cloneElement(i,u):typeof i=="function"?d=i(u):d=_.createElement(UU,u),_.createElement(Lo,{className:"recharts-active-dot",clipPath:o},d)};function II(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Zr.activeDot}=e,l=tt(sp),u=qSe();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return jr(d)?null:_.createElement(qs,{zIndex:o},_.createElement(VSe,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ZSe={},KU=Si({name:"errorBars",initialState:ZSe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:OCe,replaceErrorBar:CCe,removeErrorBar:MCe}=KU.actions,XSe=KU.reducer;function WU(e,t){var n,r,i=tt(d=>Fs(d,e)),a=tt(d=>Hs(d,t)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:lr.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:cr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function JSe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=yA(),{needClipX:a,needClipY:o,needClip:l}=WU(t,n);if(!l||!i)return null;var{x:u,y:d,width:h,height:p}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?u:u-h/2,y:o?d:d-p/2,width:a?h:h*2,height:o?p:p*2}))}var QSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function eke(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function vA(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(QSe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Rb(e[r],t[r]))return!1}else if(!eke(e[r],t[r]))return!1;return!0}var tke=e=>{var{chartData:t}=e,n=pr(),r=ki();return _.useEffect(()=>r?()=>{}:(n(uI(t)),()=>{n(uI(void 0))}),[t,n,r]),null},$I={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VU=Si({name:"brush",initialState:$I,reducers:{setBrushSettings(e,t){return t.payload==null?$I:t.payload}}}),{setBrushSettings:DCe}=VU.actions,nke=VU.reducer;function rke(e,t,n){return(t=ike(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ike(e){var t=ake(e,"string");return typeof t=="symbol"?t:t+""}function ake(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xA{static create(t){return new xA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}rke(xA,"EPS",1e-4);function oke(e){return(e%180+180)%180}var ske=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=oke(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},lke={dots:[],areas:[],lines:[]},ZU=Si({name:"referenceElements",initialState:lke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Xa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Xa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Xa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:PCe,removeDot:RCe,addArea:LCe,removeArea:ICe,addLine:$Ce,removeLine:BCe}=ZU.actions,cke=ZU.reducer,uke=_.createContext(void 0),dke=e=>{var{children:t}=e,[n]=_.useState("".concat(Wm("recharts"),"-clip")),r=yA();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return _.createElement(uke.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function XU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function fke(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ske(r,n)}function hke(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function dv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function mke(e,t){return XU(e,t+1)}function pke(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,d=1,h=o,p=function(){var k=r?.[u];if(k===void 0)return{v:XU(r,d)};var w=u,S,j=()=>(S===void 0&&(S=n(k,w)),S),O=k.coordinate,A=u===0||dv(e,O,j,h,l);A||(u=0,h=o,d+=1),A&&(h=O+e*(j()/2+i),u+=d)},b;d<=a.length;)if(b=p(),b)return b.v;return[]}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){gke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gke(e,t,n){return(t=bke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bke(e){var t=yke(e,"string");return typeof t=="symbol"?t:t+""}function yke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vke(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,d=function(b){var y=a[b],k,w=()=>(k===void 0&&(k=n(y,b)),k);if(b===o-1){var S=e*(y.coordinate+e*w()/2-u);a[b]=y=Rr(Rr({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else a[b]=y=Rr(Rr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=dv(e,y.tickCoord,w,l,u);j&&(u=y.tickCoord-e*(w()/2+i),a[b]=Rr(Rr({},y),{},{isShow:!0}))}},h=o-1;h>=0;h--)d(h);return a}function xke(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=t;if(a){var h=r[l-1],p=n(h,l-1),b=e*(h.coordinate+e*p/2-d);if(o[l-1]=h=Rr(Rr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate}),h.tickCoord!=null){var y=dv(e,h.tickCoord,()=>p,u,d);y&&(d=h.tickCoord-e*(p/2+i),o[l-1]=Rr(Rr({},h),{},{isShow:!0}))}}for(var k=a?l-1:l,w=function(O){var A=o[O],C,D=()=>(C===void 0&&(C=n(A,O)),C);if(O===0){var P=e*(A.coordinate-e*D()/2-u);o[O]=A=Rr(Rr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else o[O]=A=Rr(Rr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var $=dv(e,A.tickCoord,D,u,d);$&&(u=A.tickCoord+e*(D()/2+i),o[O]=Rr(Rr({},A),{},{isShow:!0}))}},S=0;S<k;S++)w(S);return o}function wA(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(Qe(u)||Af.isSsr){var b;return(b=mke(i,Qe(u)?u:0))!==null&&b!==void 0?b:[]}var y=[],k=l==="top"||l==="bottom"?"width":"height",w=h&&k==="width"?Om(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(A,C)=>{var D=typeof d=="function"?d(A.value,C):A.value;return k==="width"?fke(Om(D,{fontSize:t,letterSpacing:n}),w,p):Om(D,{fontSize:t,letterSpacing:n})[k]},j=i.length>=2?ba(i[1].coordinate-i[0].coordinate):1,O=hke(a,j,k);return u==="equidistantPreserveStart"?pke(j,O,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=xke(j,O,S,i,o,u==="preserveStartEnd"):y=vke(j,O,S,i,o),y.filter(A=>A.isShow))}var wke=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=o+u+l+(n?r:0);return Math.round(d)}return 0},_ke=["axisLine","width","height","className","hide","ticks","axisType"];function Ske(e,t){if(e==null)return{};var n,r,i=kke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(null,arguments)}function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){Eke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eke(e,t,n){return(t=Tke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tke(e){var t=jke(e,"string");return typeof t=="symbol"?t:t+""}function jke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var js={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function Ake(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=Hn(Hn(Hn({},u),eo(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);d=Hn(Hn({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);d=Hn(Hn({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return _.createElement("line",wu({},d,{className:rn("recharts-cartesian-axis-line",rx(l,"className"))}))}function Nke(e,t,n,r,i,a,o,l,u){var d,h,p,b,y,k,w=l?-1:1,S=e.tickSize||o,j=Qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,b=n+ +!l*i,p=b-w*S,k=p-w*u,y=j;break;case"left":p=b=e.coordinate,h=t+ +!l*r,d=h-w*S,y=d-w*u,k=j;break;case"right":p=b=e.coordinate,h=t+ +l*r,d=h+w*S,y=d+w*u,k=j;break;default:d=h=e.coordinate,b=n+ +l*i,p=b+w*S,k=p+w*u,y=j;break}return{line:{x1:d,y1:p,x2:h,y2:b},tick:{x:y,y:k}}}function Oke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Cke(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Mke(e){var{option:t,tickProps:n,value:r}=e,i,a=rn(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,Hn(Hn({},n),{},{className:a}));else if(typeof t=="function")i=t(Hn(Hn({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=rn(o,t?.className)),i=_.createElement(gA,wu({},n,{className:o}),r)}return i}var Dke=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:h,mirror:p,x:b,y,width:k,height:w,tickSize:S,tickMargin:j,fontSize:O,letterSpacing:A,getTicksConfig:C,events:D,axisType:P}=e,$=wA(Hn(Hn({},C),{},{ticks:n}),O,A),U=Oke(h,p),W=Cke(h,p),Y=eo(C),F=ex(r),z={};typeof i=="object"&&(z=i);var K=Hn(Hn({},Y),{},{fill:"none"},z),Z=$.map(J=>Hn({entry:J},Nke(J,b,y,k,w,h,S,p,j))),X=Z.map(J=>{var{entry:ee,line:le}=J;return _.createElement(Lo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&_.createElement("line",wu({},K,le,{className:rn("recharts-cartesian-axis-tick-line",rx(i,"className"))})))}),q=Z.map((J,ee)=>{var{entry:le,tick:ae}=J,B=Hn(Hn(Hn(Hn({textAnchor:U,verticalAnchor:W},Y),{},{stroke:"none",fill:a},F),ae),{},{index:ee,payload:le,visibleTicksCount:$.length,tickFormatter:o,padding:u},d);return _.createElement(Lo,wu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},whe(D,le,ee)),r&&_.createElement(Mke,{option:r,tickProps:B,value:"".concat(typeof o=="function"?o(le.value,ee):le.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},q.length>0&&_.createElement(qs,{zIndex:Zr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},q)),X.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},X))}),Pke=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,d=Ske(e,_ke),[h,p]=_.useState(""),[b,y]=_.useState(""),k=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return wke({ticks:k.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=j;var O=j[0];if(O){var A=window.getComputedStyle(O),C=A.fontSize,D=A.letterSpacing;(C!==h||D!==b)&&(p(C),y(D))}}},[h,b]);return o||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(qs,{zIndex:e.zIndex},_.createElement(Lo,{className:rn("recharts-cartesian-axis",a)},_.createElement(Ake,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:eo(e)}),_.createElement(Dke,{ref:w,axisType:u,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:b,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(P1e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(G1e,{label:e.label,labelRef:e.labelRef}),e.children)))}),_A=_.forwardRef((e,t)=>{var n=Vi(e,js);return _.createElement(Pke,wu({},n,{ref:t}))});_A.displayName="CartesianAxis";var Rke=["x1","y1","x2","y2","key"],Lke=["offset"],Ike=["xAxisId","yAxisId"],$ke=["xAxisId","yAxisId"];function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){Bke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bke(e,t,n){return(t=zke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zke(e){var t=Uke(e,"string");return typeof t=="symbol"?t:t+""}function Uke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(null,arguments)}function fv(e,t){if(e==null)return{};var n,r,i=Fke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hke=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return _.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JU(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:d}=n,h=fv(n,Rke),p=(i=eo(h))!==null&&i!==void 0?i:{},{offset:b}=p,y=fv(p,Lke);r=_.createElement("line",lu({},y,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:d}))}return r}function Gke(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=fv(e,Ike),u=i.map((d,h)=>{var p=Lr(Lr({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return _.createElement(JU,{key:"line-".concat(h),option:r,lineItemProps:p})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function qke(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=fv(e,$ke),u=i.map((d,h)=>{var p=Lr(Lr({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return _.createElement(JU,{option:r,lineItemProps:p,key:"line-".concat(h)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Yke(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%t.length;return _.createElement("rect",{key:"react-".concat(b),y:p,x:r,height:k,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Kke(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,b)=>p-b);i!==d[0]&&d.unshift(0);var h=d.map((p,b)=>{var y=!d[b+1],k=y?i+o-p:d[b+1]-p;if(k<=0)return null;var w=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:p,y:a,width:k,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wke=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return F9(wA(Lr(Lr(Lr({},js),n),{},{ticks:H9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Vke=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return F9(wA(Lr(Lr(Lr({},js),n),{},{ticks:H9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Zke={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function QU(e){var t=J9(),n=Q9(),r=X9(),i=Lr(Lr({},Vi(e,Zke)),{},{x:Qe(e.x)?e.x:r.left,y:Qe(e.y)?e.y:r.top,width:Qe(e.width)?e.width:r.width,height:Qe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:d,height:h,syncWithTicks:p,horizontalValues:b,verticalValues:y}=i,k=ki(),w=tt(W=>JL(W,"xAxis",a,k)),S=tt(W=>JL(W,"yAxis",o,k));if(!$o(d)||!$o(h)||!Qe(l)||!Qe(u))return null;var j=i.verticalCoordinatesGenerator||Wke,O=i.horizontalCoordinatesGenerator||Vke,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof O=="function"){var D=b&&b.length,P=O({yAxis:S?Lr(Lr({},S),{},{ticks:D?b:S.ticks}):void 0,width:t??d,height:n??h,offset:r},D?!0:p);Uy(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&typeof j=="function"){var $=y&&y.length,U=j({xAxis:w?Lr(Lr({},w),{},{ticks:$?y:w.ticks}):void 0,width:t??d,height:n??h,offset:r},$?!0:p);Uy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(C=U)}return _.createElement(qs,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Hke,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(Yke,lu({},i,{horizontalPoints:A})),_.createElement(Kke,lu({},i,{verticalPoints:C})),_.createElement(Gke,lu({},i,{offset:r,horizontalPoints:A,xAxis:w,yAxis:S})),_.createElement(qke,lu({},i,{offset:r,verticalPoints:C,xAxis:w,yAxis:S}))))}QU.displayName="CartesianGrid";function Xke(e){var t=ex(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var eF=(e,t,n,r)=>eU(e,"xAxis",t,r),tF=(e,t,n,r)=>Qz(e,"xAxis",t,r),nF=(e,t,n,r)=>eU(e,"yAxis",n,r),rF=(e,t,n,r)=>Qz(e,"yAxis",n,r),Jke=xe([Xt,eF,nF,tF,rF],(e,t,n,r,i)=>$s(e,"xAxis")?zy(t,r,!1):zy(n,i,!1)),Qke=(e,t,n,r,i)=>i,iF=xe([_z,Qke],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),e2e=(e,t,n,r,i)=>{var a,o=iF(e,t,n,r,i);if(o!=null){var l=Xt(e),u=$s(l,"xAxis"),d;if(u?d=lE(e,"yAxis",n,r):d=lE(e,"xAxis",t,r),d!=null){var{stackId:h}=o,p=Vj(o);if(!(h==null||p==null)){var b=(a=d[h])===null||a===void 0?void 0:a.stackedData;return b?.find(y=>y.key===p)}}}},t2e=xe([Xt,eF,nF,tF,rF,e2e,zj,Jke,iF,$ve],(e,t,n,r,i,a,o,l,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:b}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=u,k;if(y&&y.length>0?k=y:k=h?.slice(p,b+1),k!=null)return x2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:k,chartBaseValue:d,bandSize:l})}}),n2e=["id"],r2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}function aF(e,t){if(e==null)return{};var n,r,i=i2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){a2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a2e(e,t,n){return(t=o2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o2e(e){var t=s2e(e,"string");return typeof t=="symbol"?t:t+""}function s2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hv(e,t){return e&&e!=="none"?e:t}var l2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:hv(r,i),value:G9(n,t),payload:e}]},c2e=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:G9(o,t),hide:l,type:d,color:hv(r,a),unit:u}};return _.createElement(cSe,{tooltipEntrySettings:h})});function u2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=eo(r);return _.createElement(OSe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function d2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zd(zd({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(tSe,{value:t?i:void 0},n)}function HI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:h}=a,{id:p}=a,b=aF(a,n2e),y=eo(b),k=_a(b);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(Lo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Fb,mu({},k,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(Fb,mu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&h&&_.createElement(Fb,mu({},y,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),_.createElement(u2e,{points:t,props:b,clipPathId:i}))}function f2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,o=r[r.length-1].y;if(!An(a)||!An(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.x||0));return Qe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),Qe(u)?_.createElement("rect",{x:0,y:a<o?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function h2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,o=r[r.length-1].x;if(!An(a)||!An(o))return null;var l=t*Math.abs(a-o),u=Math.max(...r.map(d=>d.y||0));return Qe(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),Qe(u)?_.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function m2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?_.createElement(f2e,{alpha:t,points:r,baseLine:i,strokeWidth:a}):_.createElement(h2e,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function p2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:p,onAnimationStart:b,onAnimationEnd:y}=r,k=_.useMemo(()=>({points:o,baseLine:l}),[o,l]),w=f8(k,"recharts-area-"),S=c0e(),[j,O]=_.useState(!1),A=!j,C=_.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),D=_.useCallback(()=>{typeof b=="function"&&b(),O(!0)},[b]);if(S==null)return null;var P=i.current,$=a.current;return _.createElement(d2e,{showLabels:A,points:o},r.children,_.createElement(d8,{animationId:w,begin:d,duration:h,isActive:u,easing:p,onAnimationEnd:C,onAnimationStart:D,key:w},U=>{if(P){var W=P.length/o.length,Y=U===1?o:o.map((z,K)=>{var Z=Math.floor(K*W);if(P[Z]){var X=P[Z];return zd(zd({},z),{},{x:Oo(X.x,z.x,U),y:Oo(X.y,z.y,U)})}return z}),F;return Qe(l)?F=Oo($,l,U):jr(l)||to(l)?F=Oo($,0,U):F=l.map((z,K)=>{var Z=Math.floor(K*W);if(Array.isArray($)&&$[Z]){var X=$[Z];return zd(zd({},z),{},{x:Oo(X.x,z.x,U),y:Oo(X.y,z.y,U)})}return z}),U>0&&(i.current=Y,a.current=F),_.createElement(HI,{points:Y,baseLine:F,needClip:t,clipPathId:n,props:r})}return U>0&&(i.current=o,a.current=l),_.createElement(Lo,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(m2e,{alpha:U,points:o,baseLine:l,layout:S,strokeWidth:r.strokeWidth}))),_.createElement(Lo,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(HI,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),_.createElement(iSe,{label:r.label}))}function g2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=_.useRef(null),a=_.useRef();return _.createElement(p2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class b2e extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:p,id:b,baseLine:y,zIndex:k}=this.props;if(t)return null;var w=rn("recharts-area",i),S=b,{r:j,strokeWidth:O}=Xke(n),A=HU(n),C=j*2+O,D=l?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return _.createElement(qs,{zIndex:k},_.createElement(Lo,{className:w},l&&_.createElement("defs",null,_.createElement(JSe,{clipPathId:S,xAxisId:u,yAxisId:d}),!A&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:o-C/2,y:a-C/2,width:h+C,height:p+C}))),_.createElement(g2e,{needClip:l,clipPathId:S,props:this.props})),_.createElement(II,{points:r,mainColor:hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&_.createElement(II,{points:y,mainColor:hv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var oF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Zr.area};function y2e(e){var t,n=Vi(e,oF),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:d,fillOpacity:h,hide:p,isAnimationActive:b,legendType:y,stroke:k,xAxisId:w,yAxisId:S}=n,j=aF(n,r2e),O=Cp(),A=wU(),{needClip:C}=WU(w,S),D=ki(),{points:P,isRange:$,baseLine:U}=(t=tt(Z=>t2e(Z,w,S,D,e.id)))!==null&&t!==void 0?t:{},W=yA();if(O!=="horizontal"&&O!=="vertical"||W==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:Y,width:F,x:z,y:K}=W;return!P||!P.length?null:_.createElement(b2e,mu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:U,connectNulls:l,dot:u,fill:d,fillOpacity:h,height:Y,hide:p,layout:O,isAnimationActive:b==="auto"?!Af.isSsr:b,isRange:$,legendType:y,needClip:C,points:P,stroke:k,width:F,left:z,top:K,xAxisId:w,yAxisId:S}))}var v2e=(e,t,n,r,i)=>{var a=n??t;if(Qe(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function x2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:h,xAxisTicks:p,yAxisTicks:b,bandSize:y}=e,k=i&&i.length,w=v2e(a,o,n,l,u),S=a==="horizontal",j=!1,O=d.map((C,D)=>{var P;k?P=i[h+D]:(P=Ir(C,r),Array.isArray(P)?j=!0:P=[w,P]);var $=P[1]==null||k&&!t&&Ir(C,r)==null;return S?{x:w3({axis:l,ticks:p,bandSize:y,entry:C,index:D}),y:$?null:u.scale(P[1]),value:P,payload:C}:{x:$?null:l.scale(P[1]),y:w3({axis:u,ticks:b,bandSize:y,entry:C,index:D}),value:P,payload:C}}),A;return k||j?A=O.map(C=>{var D=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:D!=null&&C.y!=null?u.scale(D):null,payload:C.payload}:{x:D!=null?l.scale(D):null,y:C.y,payload:C.payload}}):A=S?u.scale(w):l.scale(w),{points:O,baseLine:A,isRange:j}}function w2e(e){var t=Vi(e,oF),n=ki();return _.createElement(mSe,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(uSe,{legendPayload:l2e(t)}),_.createElement(c2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),_.createElement(wSe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Epe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(y2e,mu({},t,{id:r}))))}var sF=_.memo(w2e,vA);sF.displayName="Area";var _2e=["domain","range"],S2e=["domain","range"];function GI(e,t){if(e==null)return{};var n,r,i=k2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function lF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=GI(e,_2e),{domain:a,range:o}=t,l=GI(t,S2e);return!qI(n,a)||!qI(r,o)?!1:vA(i,l)}var E2e=["dangerouslySetInnerHTML","ticks"],T2e=["id"];function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gE.apply(null,arguments)}function YI(e,t){if(e==null)return{};var n,r,i=j2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function A2e(e){var t=pr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(RSe(e)):n.current!==e&&t(LSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(ISe(n.current)),n.current=null)},[t]),null}var N2e=e=>{var{xAxisId:t,className:n}=e,r=tt(Y9),i=ki(),a="xAxis",o=tt(S=>Pf(S,a,t,i)),l=tt(S=>Jz(S,a,t,i)),u=tt(S=>Oxe(S,t)),d=tt(S=>Lxe(S,t)),h=tt(S=>yz(S,t));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:b}=e,y=YI(e,E2e),{id:k}=h,w=YI(h,T2e);return _.createElement(_A,gE({},y,w,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:rn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},O2e={allowDataOverflow:lr.allowDataOverflow,allowDecimals:lr.allowDecimals,allowDuplicatedCategory:lr.allowDuplicatedCategory,angle:lr.angle,axisLine:js.axisLine,height:lr.height,hide:!1,includeHidden:lr.includeHidden,interval:lr.interval,minTickGap:lr.minTickGap,mirror:lr.mirror,orientation:lr.orientation,padding:lr.padding,reversed:lr.reversed,scale:lr.scale,tick:lr.tick,tickCount:lr.tickCount,tickLine:js.tickLine,tickSize:js.tickSize,type:lr.type,xAxisId:0},C2e=e=>{var t=Vi(e,O2e);return _.createElement(_.Fragment,null,_.createElement(A2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(N2e,t))},cF=_.memo(C2e,lF);cF.displayName="XAxis";var M2e=["dangerouslySetInnerHTML","ticks"],D2e=["id"];function bE(){return bE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bE.apply(null,arguments)}function KI(e,t){if(e==null)return{};var n,r,i=P2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function R2e(e){var t=pr(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t($Se(e)):n.current!==e&&t(BSe({prev:n.current,next:e})),n.current=e},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(zSe(n.current)),n.current=null)},[t]),null}var L2e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=_.useRef(null),o=_.useRef(null),l=tt(Y9),u=ki(),d=pr(),h="yAxis",p=tt(D=>Pf(D,h,t,u)),b=tt(D=>Bxe(D,t)),y=tt(D=>$xe(D,t)),k=tt(D=>Jz(D,h,t,u)),w=tt(D=>vz(D,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!b||bA(i)||_.isValidElement(i)||w==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(b.width)!==Math.round(P)&&d(USe({id:t,width:P}))}}},[k,b,d,i,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,O=KI(e,M2e),{id:A}=w,C=KI(w,D2e);return _.createElement(_A,bE({},O,C,{ref:a,labelRef:o,scale:p,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:rn("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:k,axisType:h}))},I2e={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,angle:cr.angle,axisLine:js.axisLine,hide:!1,includeHidden:cr.includeHidden,interval:cr.interval,minTickGap:cr.minTickGap,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,tickLine:js.tickLine,tickSize:js.tickSize,type:cr.type,width:cr.width,yAxisId:0},$2e=e=>{var t=Vi(e,I2e);return _.createElement(_.Fragment,null,_.createElement(R2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(L2e,t))},uF=_.memo($2e,lF);uF.displayName="YAxis";var B2e=(e,t)=>t,SA=xe([B2e,Xt,gz,nr,pU,Gs,Qwe,Or],o_e),kA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},dF=Sa("mouseClick"),fF=Np();fF.startListening({actionCreator:dF,effect:(e,t)=>{var n=e.payload,r=SA(t.getState(),kA(n));r?.activeIndex!=null&&t.dispatch(Jxe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yE=Sa("mouseMove"),hF=Np(),vb=null;hF.startListening({actionCreator:yE,effect:(e,t)=>{var n=e.payload;vb!==null&&cancelAnimationFrame(vb);var r=kA(n);vb=requestAnimationFrame(()=>{var i=t.getState(),a=oA(i,i.tooltip.settings.shared);if(a==="axis"){var o=SA(i,r);o?.activeIndex!=null?t.dispatch(sU({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(oU())}vb=null})}});var WI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},mF=Si({name:"rootProps",initialState:WI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:WI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),z2e=mF.reducer,{updateOptions:U2e}=mF.actions,pF=Si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zCe}=pF.actions,F2e=pF.reducer,gF=Sa("keyDown"),bF=Sa("focus"),EA=Np();EA.startListening({actionCreator:gF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=sA(i,Lf(n),Bp(n),Gp(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Gs(n);if(a==="Enter"){var d=lv(n,"axis","hover",String(i.index));t.dispatch(uE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Hxe(n),p=h==="left-to-right"?1:-1,b=a==="ArrowRight"?1:-1,y=l+b*p;if(!(u==null||y>=u.length||y<0)){var k=lv(n,"axis","hover",String(y));t.dispatch(uE({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});EA.startListening({actionCreator:bF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=lv(n,"axis","hover",String(a));t.dispatch(uE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var ua=Sa("externalEvent"),yF=Np(),rk=new Map;yF.startListening({actionCreator:ua,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=rk.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:$we(l),activeDataKey:Lwe(l),activeIndex:sp(l),activeLabel:yU(l),activeTooltipIndex:sp(l),isTooltipActive:Bwe(l)};n(u,r)}finally{rk.delete(i)}});rk.set(i,o)}}});var H2e=xe([Rf],e=>e.tooltipItemPayloads),G2e=xe([H2e,Fp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),vF=Sa("touchMove"),xF=Np();xF.startListening({actionCreator:vF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=oA(r,r.tooltip.settings.shared);if(i==="axis"){var a=SA(r,kA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(sU({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Mpe),h=(o=u.getAttribute(Dpe))!==null&&o!==void 0?o:void 0,p=G2e(t.getState(),d,h);t.dispatch(Xxe({activeDataKey:h,activeIndex:d,activeCoordinate:p}))}}}});var q2e=UB({brush:nke,cartesianAxis:FSe,chartData:$_e,errorBars:XSe,graphicalItems:vSe,layout:ppe,legend:T0e,options:D_e,polarAxis:oSe,polarOptions:F2e,referenceElements:cke,rootProps:z2e,tooltip:Qxe,zIndex:x_e}),Y2e=function(t){return zme({reducer:q2e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([fF.middleware,hF.middleware,EA.middleware,yF.middleware,xF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(A9({type:"raf"}))},devTools:Af.devToolsEnabled})};function K2e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ki(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=Y2e(t));var o=oj;return _.createElement(ZB,{context:o,store:a.current},n)}function W2e(e){var{layout:t,margin:n}=e,r=pr(),i=ki();return _.useEffect(()=>{i||(r(fpe(t)),r(dpe(n)))},[r,i,t,n]),null}var V2e=_.memo(W2e,vA);function Z2e(e){var t=pr();return _.useEffect(()=>{t(U2e(e))},[t,e]),null}function VI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=GU("".concat(r).concat(t)),a=pr();return _.useLayoutEffect(()=>(a(y_e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(v_e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),_.createElement("g",{tabIndex:-1,id:i})}function ZI(e){var{children:t,isPanorama:n}=e,r=tt(l_e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return _.createElement(_.Fragment,null,i.map(o=>_.createElement(VI,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>_.createElement(VI,{key:o,zIndex:o,isPanorama:n})))}var X2e=["children"];function J2e(e,t){if(e==null)return{};var n,r,i=Q2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(null,arguments)}var eEe={width:"100%",height:"100%",display:"block"},tEe=_.forwardRef((e,t)=>{var n=J9(),r=Q9(),i=s8();if(!$o(n)||!$o(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,d,h;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),_.createElement(I7,mv({},o,{title:l,desc:u,role:h,tabIndex:d,width:n,height:r,style:eEe,ref:t}),a)}),nEe=e=>{var{children:t}=e,n=tt(gx);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return _.createElement(I7,{width:r,height:i,x:o,y:a},t)},XI=_.forwardRef((e,t)=>{var{children:n}=e,r=J2e(e,X2e),i=ki();return i?_.createElement(nEe,null,_.createElement(ZI,{isPanorama:!0},n)):_.createElement(tEe,mv({ref:t},r),_.createElement(ZI,{isPanorama:!1},n))});function rEe(){var e=pr(),[t,n]=_.useState(null),r=tt(Cpe);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;An(a)&&a!==r&&e(mpe(a))}},[t,e,r]),n}function JI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(n),!0).forEach(function(r){aEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aEe(e,t,n){return(t=oEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oEe(e){var t=sEe(e,"string");return typeof t=="symbol"?t:t+""}function sEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(null,arguments)}var lEe=()=>(K_e(),null);function pv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var cEe=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[a,o]=_.useState({containerWidth:pv((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:pv((r=e.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((d,h)=>{o(p=>{var b=Math.round(d),y=Math.round(h);return p.containerWidth===b&&p.containerHeight===y?p:{containerWidth:b,containerHeight:y}})},[]),u=_.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=d.getBoundingClientRect();l(h,p);var b=k=>{var{width:w,height:S}=k[0].contentRect;l(w,S)},y=new ResizeObserver(b);y.observe(d),i.current=y}},[t,l]);return _.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(yx,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",_u({ref:u},e)))}),uEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=_.useState({containerWidth:pv(n),containerHeight:pv(r)}),o=_.useCallback((u,d)=>{a(h=>{var p=Math.round(u),b=Math.round(d);return h.containerWidth===p&&h.containerHeight===b?h:{containerWidth:p,containerHeight:b}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();o(d,h)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(yx,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",_u({ref:l},e)))}),dEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(yx,{width:n,height:r}),_.createElement("div",_u({ref:t},e)))}),fEe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return Cs(n)||Cs(r)?_.createElement(uEe,_u({},e,{ref:t})):_.createElement(dEe,_u({},e,{ref:t}))});function hEe(e){return e===!0?cEe:fEe}var mEe=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:p,onMouseUp:b,onTouchEnd:y,onTouchMove:k,onTouchStart:w,style:S,width:j,responsive:O,dispatchTouchEvents:A=!0}=e,C=_.useRef(null),D=pr(),[P,$]=_.useState(null),[U,W]=_.useState(null),Y=rEe(),F=mj(),z=F?.width>0?F.width:j,K=F?.height>0?F.height:i,Z=_.useCallback(re=>{Y(re),typeof t=="function"&&t(re),$(re),W(re),re!=null&&(C.current=re)},[Y,t,$,W]),X=_.useCallback(re=>{D(dF(re)),D(ua({handler:a,reactEvent:re}))},[D,a]),q=_.useCallback(re=>{D(yE(re)),D(ua({handler:d,reactEvent:re}))},[D,d]),J=_.useCallback(re=>{D(oU()),D(ua({handler:h,reactEvent:re}))},[D,h]),ee=_.useCallback(re=>{D(yE(re)),D(ua({handler:p,reactEvent:re}))},[D,p]),le=_.useCallback(()=>{D(bF())},[D]),ae=_.useCallback(re=>{D(gF(re.key))},[D]),B=_.useCallback(re=>{D(ua({handler:o,reactEvent:re}))},[D,o]),V=_.useCallback(re=>{D(ua({handler:l,reactEvent:re}))},[D,l]),ne=_.useCallback(re=>{D(ua({handler:u,reactEvent:re}))},[D,u]),oe=_.useCallback(re=>{D(ua({handler:b,reactEvent:re}))},[D,b]),fe=_.useCallback(re=>{D(ua({handler:w,reactEvent:re}))},[D,w]),ye=_.useCallback(re=>{A&&D(vF(re)),D(ua({handler:k,reactEvent:re}))},[D,A,k]),pe=_.useCallback(re=>{D(ua({handler:y,reactEvent:re}))},[D,y]),Ae=hEe(O);return _.createElement(TU.Provider,{value:P},_.createElement(Yfe.Provider,{value:U},_.createElement(Ae,{width:z??S?.width,height:K??S?.height,className:rn("recharts-wrapper",r),style:iEe({position:"relative",cursor:"default",width:z,height:K},S),onClick:X,onContextMenu:B,onDoubleClick:V,onFocus:le,onKeyDown:ae,onMouseDown:ne,onMouseEnter:q,onMouseLeave:J,onMouseMove:ee,onMouseUp:oe,onTouchEnd:pe,onTouchMove:ye,onTouchStart:fe,ref:Z},_.createElement(lEe,null),n)))}),pEe=["width","height","responsive","children","className","style","compact","title","desc"];function gEe(e,t){if(e==null)return{};var n,r,i=bEe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yEe=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:d,desc:h}=e,p=gEe(e,pEe),b=eo(p);return u?_.createElement(_.Fragment,null,_.createElement(yx,{width:n,height:r}),_.createElement(XI,{otherAttributes:b,title:d,desc:h},a)):_.createElement(mEe,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(XI,{otherAttributes:b,title:d,desc:h,ref:t},_.createElement(dke,null,a)))});function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(null,arguments)}var vEe={top:5,right:5,bottom:5,left:5},xEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},wEe=_.forwardRef(function(t,n){var r,i=Vi(t.categoricalChartProps,xEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(K2e,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},_.createElement(tke,{chartData:d.data}),_.createElement(V2e,{layout:i.layout,margin:i.margin}),_.createElement(Z2e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(yEe,vE({},i,{ref:n})))}),_Ee=["axis"],SEe=_.forwardRef((e,t)=>_.createElement(wEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_Ee,tooltipPayloadSearcher:C_e,categoricalChartProps:e,ref:t}));function wF(e){return typeof e=="object"&&e!==null}function iu(e,t=0){return typeof e=="number"&&Number.isFinite(e)?e:t}function kEe(e,t=""){return typeof e=="string"?e:t}function EEe(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!wF(n))continue;const r=kEe(n.day),i=iu(n.dau),a=iu(n.total_active_ms);r&&t.push({day:r,dau:i,total_active_ms:a})}return t}function TEe(e){return wF(e)?{online_now:iu(e.online_now),active_today:iu(e.active_today),active_7d:iu(e.active_7d),active_30d:iu(e.active_30d),active_365d:iu(e.active_365d),series:EEe(e.series)}:null}function jEe(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function QI(){const[e,t]=_.useState(30),[n,r]=_.useState(null),[i,a]=_.useState(0),[o,l]=_.useState(!1),[u,d]=_.useState(""),h=_.useRef(!1),p=_.useRef(!1),b=_.useCallback(async()=>{if(!h.current){h.current=!0,l(!0),d("");try{const{data:S,error:j}=await Re.rpc("admin_dashboard_stats",{p_days:e});if(j){d(j.message||"RPC error"),r(null);return}const O=TEe(S);if(!O){d("   ( )"),r(null);return}r(O),a(O.online_now)}finally{l(!1),h.current=!1}}},[e]),y=_.useCallback(async()=>{if(!p.current){p.current=!0;try{const{data:S,error:j}=await Re.rpc("admin_online_now");if(j)return;const O=typeof S=="number"?S:typeof S=="string"?Number(S):0;Number.isFinite(O)&&a(O)}finally{p.current=!1}}},[]);_.useEffect(()=>{b()},[b]),_.useEffect(()=>{y();const S=window.setInterval(()=>void y(),3e4);return()=>window.clearInterval(S)},[y]),_.useEffect(()=>{const S=window.setInterval(()=>void b(),3e5);return()=>window.clearInterval(S)},[b]);const k=_.useMemo(()=>n?.series??[],[n]),w=_.useMemo(()=>k.reduce((S,j)=>S+(j.total_active_ms||0),0),[k]);return g.jsx(Rfe,{allow:["admin","operator","viewer"],children:g.jsxs("div",{className:"p-6 text-white",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("select",{value:e,onChange:S=>{const j=Number(S.target.value);(j===30||j===60||j===90)&&t(j)},className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",title:"DAU  ",children:[g.jsx("option",{value:30,children:" 30"}),g.jsx("option",{value:60,children:" 60"}),g.jsx("option",{value:90,children:" 90"})]}),g.jsx("button",{type:"button",onClick:()=>void b(),className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer text-sm",children:""})]})]}),u?g.jsx("div",{className:"text-red-400 mb-3",children:u}):null,o?g.jsx("div",{className:"text-neutral-300 mb-3",children:"Loading..."}):null,g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-10",children:[g.jsx(fm,{label:" ",value:i}),g.jsx(fm,{label:" (DAU)",value:n?.active_today??0}),g.jsx(fm,{label:" 7 ",value:n?.active_7d??0}),g.jsx(fm,{label:" 30 ",value:n?.active_30d??0}),g.jsx(fm,{label:" 1 ",value:n?.active_365d??0})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex items-end justify-between gap-3 mb-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"DAU "}),g.jsx("div",{className:"text-xs text-neutral-400",children:"(     )"})]}),g.jsx(AEe,{data:k})]}),g.jsxs("section",{className:"mt-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   ()"}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"series.total_active_ms  (day    )"}),g.jsx("div",{className:"text-2xl font-bold mt-1",children:jEe(w)})]})]})]})})}function fm({label:e,value:t}){return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsx("div",{className:"text-neutral-400 text-sm",children:e}),g.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function AEe({data:e}){return g.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:g.jsx(s0e,{width:"100%",height:"100%",children:g.jsxs(SEe,{data:e,children:[g.jsx(QU,{strokeDasharray:"3 3"}),g.jsx(cF,{dataKey:"day"}),g.jsx(uF,{}),g.jsx(t1e,{formatter:(t,n)=>n==="dau"?[t,"DAU"]:[t,n]}),g.jsx(sF,{type:"monotone",dataKey:"dau"})]})})})}function NEe(){const[e,t]=_.useState(""),[n,r]=_.useState("ACTIVE"),[i,a]=_.useState("LAST_SEEN_DESC"),[o,l]=_.useState(1),[u,d]=_.useState({});return{search:e,setSearch:t,tab:n,setTab:r,sort:i,setSort:a,page:o,setPage:l,draftByUser:u,setDraftByUser:d,setDraft:(p,b)=>{d(y=>{const k=y[p]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1};return{...y,[p]:{...k,...b}}})}}}const xE=20;function OEe(e){return typeof e=="object"&&e!==null}function Eo(e){return typeof e=="string"?e:null}function e5(e){return typeof e=="boolean"?e:null}function ik(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()!==""){const t=Number(e);return Number.isFinite(t)?t:null}return null}function _F(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function CEe(e){return _F(e)?e:null}function MEe(e){if(!OEe(e))return null;const t=Eo(e.user_id);return t?{user_id:t,name:Eo(e.name),nickname:Eo(e.nickname),email:Eo(e.email),disabled_at:Eo(e.disabled_at),created_at:Eo(e.created_at),plan:CEe(e.plan),starts_at:Eo(e.starts_at),expires_at:Eo(e.expires_at),can_use_myo_viewer:e5(e.can_use_myo_viewer),myeongsik_count:ik(e.myeongsik_count),last_seen_at:Eo(e.last_seen_at),last_path:Eo(e.last_path),total_active_ms:ik(e.total_active_ms),online:e5(e.online),total_count:ik(e.total_count)}:null}function t5(e){const t=(e??"").trim();return t.length?t:null}function SF(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return!1;const n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i)||r<1||r>12)return!1;const a=new Date(Date.UTC(n,r-1,i));return a.getUTCFullYear()===n&&a.getUTCMonth()===r-1&&a.getUTCDate()===i}function DEe(e,t){if(!SF(e))throw new Error(`   : ${e}`);const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!n)throw new Error(`   : ${e}`);const r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=new Date(Date.UTC(r,i-1,a));o.setUTCDate(o.getUTCDate()+t);const l=String(o.getUTCFullYear()).padStart(4,"0"),u=String(o.getUTCMonth()+1).padStart(2,"0"),d=String(o.getUTCDate()).padStart(2,"0");return`${l}-${u}-${d}`}function n5(e){if(!SF(e))throw new Error(`   : ${e}`);return`${e}T00:00:00.000Z`}function PEe(e){return typeof e=="object"&&e!==null}function REe(e,t){if(console.error(e,t),PEe(t)&&console.error(`${e} fields`,{message:t.message,code:t.code,details:t.details,hint:t.hint}),typeof t=="object"&&t!==null)try{console.error(`${e} ownKeys`,Object.getOwnPropertyNames(t))}catch{}try{console.error(`${e} json`,JSON.stringify(t))}catch{}}function LEe(){const[e,t]=_.useState([]),[n,r]=_.useState(0),[i,a]=_.useState(!1),[o,l]=_.useState(null),u=_.useCallback(async h=>{const{search:p,tab:b,sort:y,page:k}=h;a(!0),l(null);try{const w=Math.max(0,(Math.max(1,k)-1)*xE),{data:S,error:j}=await Re.rpc("admin_list_users",{p_search:p&&p.trim()?p.trim():null,p_tab:b,p_sort:y,p_limit:xE,p_offset:w});if(j)throw j;const A=(Array.isArray(S)?S:[]).map(MEe).filter(C=>C!==null);t(A),r(A[0]?.total_count??0)}catch(w){t([]),r(0),l(w instanceof Error?w.message:"  ")}finally{a(!1)}},[]),d=_.useCallback(async(h,p,b,y)=>{if(p){l(null),b(h,{saving:!0});try{if(!_F(p.plan))throw new Error(`  : ${String(p.plan)}`);const k=t5(p.startDate),w=t5(p.endDate),S=k?n5(k):null,j=w?n5(DEe(w,1)):null;if(S&&j){const C=Date.parse(S),D=Date.parse(j);if(!Number.isFinite(C)||!Number.isFinite(D))throw new Error("  ");if(D<=C)throw new Error("  .")}const O={p_target_user_id:h,p_plan:p.plan,p_can_use_myo_viewer:p.myoViewer==="ON",p_starts_at:S,p_expires_at:j},{error:A}=await Re.rpc("admin_set_user_entitlements",O);if(A)throw REe("admin_set_user_entitlements error",A),A;b(h,{saving:!1,lastSavedAt:Date.now()}),await y()}catch(k){throw b(h,{saving:!1}),l(k instanceof Error?k.message:" "),k}}},[]);return{rows:e,totalCount:n,loading:i,error:o,setError:l,fetchList:u,saveEntitlements:d}}const kF=[{value:"FREE",label:"FREE ()"},{value:"BASIC",label:"BASIC (ON)"},{value:"PRO",label:"PRO (OFF)"}];function IEe(e){return e==="FREE"||e==="BASIC"||e==="PRO"}function $Ee(e){const t=e??"FREE";return kF.find(n=>n.value===t)?.label??String(t)}function BEe(e){if(!e)return" ";const t=Date.parse(e);if(!Number.isFinite(t))return" ";const n=Date.now()-t,r=Math.floor(n/1e3);if(r<15)return"";if(r<60)return`${r} `;const i=Math.floor(r/60);if(i<60)return`${i} `;const a=Math.floor(i/60);return a<24?`${a} `:`${Math.floor(a/24)} `}function r5(e){if(!e||e<=0)return"0";const t=Math.floor(e/1e3),n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return n>=1?`${n} ${r}`:r>=1?`${r} ${i}`:`${i}`}function gv(e){if(!e)return"";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toISOString().slice(0,10):""}function zEe(e,t){const n=gv(e),r=gv(t);return!n&&!r?" ":n&&!r?`${n} ~`:!n&&r?`~ ${r}`:`${n} ~ ${r}`}function UEe(e,t){const n={...e};for(const r of t){const i=r.plan??"FREE",a=gv(r.starts_at),o=gv(r.expires_at),l=r.can_use_myo_viewer===!0?"ON":"OFF",u=n[r.user_id];if(!u){n[r.user_id]={plan:i,startDate:a,endDate:o,myoViewer:l,saving:!1};continue}u.saving||(u.plan!==i||u.startDate!==a||u.endDate!==o||u.myoViewer!==l)&&(n[r.user_id]={...u,plan:i,startDate:a,endDate:o,myoViewer:l})}return n}function FEe(){const e=NEe(),{search:t,setSearch:n,tab:r,setTab:i,sort:a,setSort:o,page:l,setPage:u,draftByUser:d,setDraftByUser:h,setDraft:p}=e,{rows:b,totalCount:y,loading:k,error:w,fetchList:S,saveEntitlements:j}=LEe(),O=_.useMemo(()=>Math.max(1,Math.ceil(y/xE)),[y]);return _.useEffect(()=>{u(1)},[r,a]),_.useEffect(()=>{S({search:t,tab:r,sort:a,page:l})},[S,t,r,a,l]),_.useEffect(()=>{l>O&&u(O)},[l,O,u]),_.useEffect(()=>{h(A=>UEe(A,b))},[b,h]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center mb-4",children:[g.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm",placeholder:"Search (name, email, userId...)",value:t,onChange:A=>{n(A.target.value),u(1)}}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:r,onChange:A=>{const C=A.target.value;i(C==="DISABLED"?"DISABLED":C==="ALL"?"ALL":"ACTIVE")},children:[g.jsx("option",{value:"ACTIVE",children:""}),g.jsx("option",{value:"DISABLED",children:""}),g.jsx("option",{value:"ALL",children:""})]}),g.jsxs("select",{className:"px-2 py-2 bg-neutral-800 border border-neutral-700 rounded text-sm",value:a,onChange:A=>{const C=A.target.value;(C==="LAST_SEEN_DESC"||C==="LAST_SEEN_ASC"||C==="CREATED_DESC"||C==="CREATED_ASC"||C==="PLAN_DESC"||C==="ONLINE_ACTIVE_MS_DESC"||C==="TOTAL_ACTIVE_MS_DESC")&&o(C)},children:[g.jsx("option",{value:"LAST_SEEN_DESC",children:" "}),g.jsx("option",{value:"CREATED_DESC",children:" "}),g.jsx("option",{value:"PLAN_DESC",children:""}),g.jsx("option",{value:"ONLINE_ACTIVE_MS_DESC",children:"+"}),g.jsx("option",{value:"TOTAL_ACTIVE_MS_DESC",children:""}),g.jsx("option",{value:"LAST_SEEN_ASC",children:" "}),g.jsx("option",{value:"CREATED_ASC",children:" "})]})]})]}),w&&g.jsx("div",{className:"text-red-400 mb-2",children:w}),k&&g.jsx("div",{children:"Loading..."}),g.jsx("div",{className:"space-y-3",children:b.map(A=>{const C=A.name||A.nickname||"(no profile)",D=A.email||"",P=d[A.user_id]??{plan:"FREE",startDate:"",endDate:"",myoViewer:"OFF",saving:!1,lastSavedAt:void 0},$=Date.now(),U=(A.starts_at?Date.parse(A.starts_at)<=$:!0)&&(A.expires_at?Date.parse(A.expires_at)>$:!0),W=A.plan??"FREE",Y=U?W:"FREE",F=A.can_use_myo_viewer===!0?"ON":"OFF",z=A.last_seen_at??null,K=A.online===!0,Z=A.total_active_ms??null;return g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg hover:bg-neutral-800",children:[g.jsxs("div",{className:"font-semibold text-lg flex flex-col desk:flex-row item-start desk:items-center justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0 flex flex-col desk:flex-row item-start desk:items-center gap-2",children:[g.jsx("span",{className:"text-nowrap mr-1",children:C}),D?g.jsxs("span",{className:"text-sm text-neutral-400",children:["(",D,")"]}):null,g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${K?"bg-emerald-900/40 border-emerald-700 text-emerald-300":"bg-neutral-800 border-neutral-700 text-neutral-300"}`,title:z?new Date(z).toLocaleString():" ",children:[K?"":"","  ",BEe(z)]}),g.jsxs("span",{className:"text-[11px] px-2 py-0.5 rounded-full border bg-neutral-800 border-neutral-700 text-neutral-300",title:" ",children:[" ",r5(Z)]})]})]}),g.jsx("span",{className:"text-neutral-500 text-sm shrink-0",children:A.user_id})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",A.myeongsik_count??0,"",z?g.jsxs(g.Fragment,{children:["    ",new Date(z).toLocaleString()]}):g.jsx(g.Fragment,{children:"     "}),g.jsxs(g.Fragment,{children:["   ",r5(Z)]})]}),g.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",$Ee(Y),"  ",zEe(A.starts_at,A.expires_at),"    ",F,!U&&A.plan&&A.plan!=="FREE"?" ()":""]}),g.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"mb-1",children:[g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.startDate,onChange:X=>p(A.user_id,{startDate:X.target.value})}),g.jsx("span",{className:"text-neutral-500 mx-1",children:"~"}),g.jsx("input",{type:"date",className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.endDate,onChange:X=>p(A.user_id,{endDate:X.target.value})})]}),g.jsx("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.plan,onChange:X=>{const q=X.target.value;IEe(q)&&p(A.user_id,{plan:q})},children:kF.map(X=>g.jsx("option",{value:X.value,children:X.label},X.value))}),g.jsxs("select",{className:"px-2 py-1 bg-neutral-800 border border-neutral-700 rounded text-sm",value:P.myoViewer,onChange:X=>p(A.user_id,{myoViewer:X.target.value==="ON"?"ON":"OFF"}),children:[g.jsx("option",{value:"ON",children:"  ON"}),g.jsx("option",{value:"OFF",children:"  OFF"})]}),g.jsx("button",{type:"button",disabled:P.saving,onClick:()=>void j(A.user_id,P,e.setDraft,()=>S({search:t,tab:r,sort:a,page:l})),className:"px-3 py-1 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-50 cursor-pointer",children:P.saving?" ...":""}),g.jsx("button",{type:"button",onClick:()=>location.href=`/admin/user/${A.user_id}`,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""})]}),P.lastSavedAt!=null?g.jsxs("div",{className:"text-xs text-emerald-400",children:["  ",new Date(P.lastSavedAt).toLocaleString()]}):null]})]},A.user_id)})}),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{disabled:l<=1,onClick:()=>u(A=>A-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),g.jsxs("span",{children:[l," / ",O," ( ",y,")"]}),g.jsx("button",{disabled:l>=O,onClick:()=>u(A=>A+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}function HEe(){const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,a]=_.useState(!1);return{profile:e,setProfile:t,myeongsikList:n,setMyeongsikList:r,saving:i,setSaving:a}}function GEe(e){return{isDisabled:!!e?.disabled_at,hasProfile:!!e}}async function TA({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Re.auth.getSession()).data.session?.user?.id;a&&await Re.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}const qEe=async e=>{const{data:t}=await Re.from("profiles").select("*").eq("user_id",e).maybeSingle();return t??null},YEe=async e=>{const{data:t}=await Re.from("myeongsik").select("*").eq("user_id",e).order("created_at",{ascending:!1});return t??[]},KEe=async e=>{await Re.from("profiles").insert({user_id:e,name:"",nickname:"",email:"",mgr_memo:""})},WEe=async(e,t)=>{await Re.from("profiles").update({name:t.name,nickname:t.nickname,email:t.email,mgr_memo:t.mgr_memo}).eq("user_id",e)},VEe=async e=>{await Re.from("profiles").update({disabled_at:null}).eq("user_id",e),await Re.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await TA({action:"restore_account",targetUserId:e,payload:{source:"admin_user_detail"}})},ZEe=async e=>{await Re.from("myeongsik").update({deleted_at:null}).eq("user_id",e),await TA({action:"restore_myeongsik_all",targetUserId:e,payload:{source:"admin_user_detail"}})},i5=async(e,t,n)=>{const{error:r}=await Re.rpc("admin_set_myeongsik_deleted",{p_target_user_id:e,p_myeongsik_id:t,p_deleted_at:n});if(r)throw console.error("admin_set_myeongsik_deleted error:",{message:r.message,details:r.details,hint:r.hint,code:r.code}),r;await TA({action:n?"delete_myeongsik":"restore_myeongsik",targetUserId:e,targetRecordId:t,payload:{deleted_at:n,source:"admin_user_detail"}})};function XEe(e,t){if(t&&typeof t=="object"){const n=t;console.error(e,{message:n.message,details:n.details,hint:n.hint,code:n.code});return}console.error(e,t)}function JEe({userId:e,profile:t,setProfile:n,setMyeongsikList:r,setSaving:i}){const a=_.useCallback(async()=>{const S=await qEe(e);n(S)},[e,n]),o=_.useCallback(async()=>{const S=await YEe(e);r(S)},[e,r]);_.useEffect(()=>{a(),o()},[a,o]);const l=_.useCallback(async()=>{if(e){i(!0);try{await KEe(e),await a()}catch(S){throw console.error("handleCreateProfile failed:",S),S}finally{i(!1)}}},[e,i,a]),u=_.useCallback(async()=>{if(e&&t){i(!0);try{await WEe(e,t),await a()}catch(S){throw console.error("handleSaveProfile failed:",S),S}finally{i(!1)}}},[e,t,i,a]),d=_.useCallback(async()=>{if(e&&t){i(!0);try{const S=t.disabled_at==null,{data:j,error:O}=await Re.rpc("admin_set_profile_disabled",{p_target_user_id:e,p_disabled:S});if(O)throw XEe("admin_set_profile_disabled error:",O),O;n({...t,disabled_at:typeof j=="string"?j:null})}finally{i(!1)}}},[e,t,n,i]),h=_.useCallback(async()=>{if(e){i(!0);try{await VEe(e),await a(),await o()}catch(S){throw console.error("handleRestoreAccount failed:",S),S}finally{i(!1)}}},[e,i,a,o]),p=_.useCallback(async()=>{if(e){i(!0);try{await ZEe(e),await o()}catch(S){throw console.error("handleRestoreAllMyeongsik failed:",S),S}finally{i(!1)}}},[e,i,o]),b=_.useCallback(async S=>{if(e&&S){i(!0);try{await i5(e,S,null),await o()}catch(j){throw console.error("handleRestoreMyeongsik failed:",j),j}finally{i(!1)}}},[e,i,o]),y=_.useCallback(S=>{const j=typeof window<"u"?window.location.origin:"",O=S?`${j}/impersonate?userId=${e}&myeongsikId=${S}`:`${j}/impersonate?userId=${e}`;window.open(O,"_blank")},[e]),k=_.useCallback(async(S,j)=>{if(!e||!S)return;const O=j?null:new Date().toISOString();i(!0);try{await i5(e,S,O),await o()}catch(A){throw console.error("toggleDeleteMyeongsik failed:",A),A}finally{i(!1)}},[e,i,o]),w=_.useCallback(S=>{window.location.href=S},[]);return{handleCreateProfile:l,handleSaveProfile:u,toggleDisable:d,handleRestoreAccount:h,handleRestoreAllMyeongsik:p,handleRestoreMyeongsik:b,handleViewAsUser:y,toggleDeleteMyeongsik:k,goTo:w}}function QEe({params:e}){const t=e.userId,n=HEe(),r=GEe(n.profile),i=JEe({userId:t,profile:n.profile,setProfile:n.setProfile,setMyeongsikList:n.setMyeongsikList,setSaving:n.setSaving});return g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>i.goTo("/admin/user"),children:"  "}),g.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("h2",{className:"text-xl font-semibold",children:""}),g.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>i.handleViewAsUser(),children:" ( )"})]})}),!r.hasProfile&&g.jsx("button",{onClick:i.handleCreateProfile,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:n.saving,children:" "}),r.hasProfile&&n.profile&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.name??"",onChange:a=>n.setProfile({...n.profile,name:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:""}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.nickname??"",onChange:a=>n.setProfile({...n.profile,nickname:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Email"}),g.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.profile.email??"",onChange:a=>n.setProfile({...n.profile,email:a.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{children:" "}),g.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.profile.mgr_memo??"",onChange:a=>n.setProfile({...n.profile,mgr_memo:a.target.value})})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:i.handleSaveProfile,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:n.saving,children:""}),r.isDisabled&&g.jsx("button",{onClick:i.handleRestoreAccount,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:n.saving,children:" + "}),g.jsx("button",{onClick:i.toggleDisable,className:`px-3 py-2 rounded cursor-pointer text-xs ${r.isDisabled?"bg-yellow-600":"bg-gray-600"}`,children:r.isDisabled?" ":" "})]})]})]}),g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-semibold",children:" "}),g.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:i.handleRestoreAllMyeongsik,disabled:n.saving,children:"  "})]}),n.myeongsikList.map(a=>g.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:a.name||"(no name)"}),g.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",a.birth_json?.birthDay??"-"," "," ",a.created_at?new Date(a.created_at).toLocaleString():"-"]})]}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"text-nowrap px-2 py-1 border border-emerald-500 text-emerald-100 rounded cursor-pointer text-xs",onClick:()=>i.handleRestoreMyeongsik(a.id),disabled:n.saving,children:"  "})})]})},a.id)),n.myeongsikList.length===0&&g.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function eTe({open:e,onClose:t,children:n}){return e?g.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[g.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const a5=50;function tTe(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState([]),[o,l]=_.useState(1),[u,d]=_.useState("all"),[h,p]=_.useState("all"),[b,y]=_.useState("30"),[k,w]=_.useState(""),[S,j]=_.useState(!1),O=_.useCallback(async C=>{await Re.from("audit_logs").delete().eq("id",C),a(D=>D.filter(P=>P.id!==C))},[]),A=_.useCallback(async()=>{j(!0);const C=new Date;b!=="all"&&C.setDate(C.getDate()-Number(b));let D=Re.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((o-1)*a5,o*a5-1);b!=="all"&&(D=D.gte("created_at",C.toISOString())),u!=="all"&&(D=D.eq("action",u)),h!=="all"&&(D=D.eq("actor_admin_id",h));const{data:P}=await D;let $=P||[];if(k.trim()!==""){const U=k.toLowerCase();$=$.filter(W=>(JSON.stringify(W).toLowerCase()+(W.payload?JSON.stringify(W.payload).toLowerCase():"")).includes(U))}a($),j(!1)},[o,u,h,b,k]);return _.useEffect(()=>{A()},[A]),g.jsxs("div",{className:"p-6 text-white",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:u,onChange:C=>d(C.target.value),children:[g.jsx("option",{value:"all",children:" Action"}),g.jsx("option",{value:"delete_myeongsik",children:" "}),g.jsx("option",{value:"restore_myeongsik",children:" "}),g.jsx("option",{value:"update_profile",children:" "}),g.jsx("option",{value:"impersonate_user",children:""})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:h,onChange:C=>p(C.target.value),children:[g.jsx("option",{value:"all",children:" "}),g.jsx("option",{value:"",children:""}),g.jsx("option",{value:"system",children:"System"})]}),g.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:b,onChange:C=>y(C.target.value),children:[g.jsx("option",{value:"1",children:"24"}),g.jsx("option",{value:"7",children:"7"}),g.jsx("option",{value:"30",children:"30"}),g.jsx("option",{value:"all",children:""})]}),g.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:k,onChange:C=>w(C.target.value)})]}),S?g.jsx("div",{children:"Loading..."}):i.map(C=>g.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(C),r(!0)},children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("div",{className:"font-semibold text-lg",children:C.action}),g.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:D=>{D.stopPropagation(),O(C.id)},children:""})]}),g.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[g.jsxs("div",{children:["Actor: ",C.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",C.target_user_id||"-"]}),g.jsxs("div",{children:["Target Record: ",C.target_record_id||"-"]}),g.jsxs("div",{children:["Time: ",new Date(C.created_at).toLocaleString()]})]}),C.payload&&g.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(C.payload,null,2)})]},C.id)),g.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40 cursor-pointer",disabled:o===1,onClick:()=>l(C=>C-1),children:" "}),g.jsxs("span",{className:"text-neutral-400",children:["Page ",o]}),g.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded cursor-pointer",onClick:()=>l(C=>C+1),children:" "})]}),g.jsx(eTe,{open:n,onClose:()=>r(!1),children:e&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),g.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[g.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),g.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),g.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),g.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),g.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const nTe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function EF(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1);if(_.useEffect(()=>{(async()=>{const{data:l}=await Re.auth.getUser(),u=l.user?.id;r(!!u&&nTe.includes(u)),t(!0)})()},[]),!e)return g.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return g.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=g.jsx(QI,{});if(i.startsWith("/admin/user/")){const o=i.replace("/admin/user/","");a=g.jsx(QEe,{params:{userId:o}})}else i.startsWith("/admin/user")?a=g.jsx(FEe,{}):i.startsWith("/admin/logs")?a=g.jsx(tTe,{}):i.startsWith("/admin/dashboard")&&(a=g.jsx(QI,{}));return g.jsx(Dfe,{children:a})}function rTe({pillarsA:e,pillarsB:t}){const n=rae(e,t);return g.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[g.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?g.jsxs("div",{className:"flex gap-2 text-xs",children:[g.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,o)=>g.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},o))})]},r):null)]})}const iTe=["","","","","","","","","",""],aTe=["","","","","","","","","",""],oTe=["","","","","","","","","","","",""],sTe=["","","","","","","","","","","",""],lTe=new Set([...iTe,...aTe]),cTe=new Set([...oTe,...sTe]);function uTe(e){return typeof e=="object"&&e!==null}function o5(e){return typeof e=="string"&&e.length>=2&&lTe.has(e[0])&&cTe.has(e[1])}function cn(e,...t){if(o5(e))return e;for(const n of t)if(o5(n))return n;return""}function xb(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function dTe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function s5(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,o]=t,l=new Date(+n,+r-1,+i,+a,+o);return Number.isNaN(l.getTime())?null:l}function bv(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function fTe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const o=e;return typeof o.birthTime=="string"&&o.birthTime.length>=4&&(i=Number(o.birthTime.slice(0,2)),a=Number(o.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Ix(e){const{y:t,m:n,d:r,hh:i,mm:a}=fTe(e),o=e.corrected instanceof Date&&!Number.isNaN(e.corrected.getTime())?e.corrected:new Date(t,n-1,r,i,a),l=o.getHours(),u=o.getMinutes();return e.calendarType==="lunar"?Wi(t,n,r,l,u):new Date(t,n-1,r,l,u)}function hTe(e){const t=Ix(e);return`${bv(e)}-${t.toISOString()}`}function Nd(e){const t=e;return typeof t.id=="string"&&t.id?t.id:hTe(e)}function mTe(e){return uTe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function pTe(e){const t=x6;return mTe(t)?e==="classic"?t.Classic:t.Modern:e}function gTe(e){if(!e)return"";const t=e,n=l=>typeof t[l]=="string"?String(t[l]).trim().toLowerCase():null,r=l=>typeof t[l]=="boolean"?t[l]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(l=>!!l);for(const l of i){if(["","","male","m","boy","man"].includes(l))return"";if(["","","female","f","girl","woman"].includes(l))return""}const a=r("isMale"),o=r("isFemale");return a===!0?"":o===!0?"":""}const ak="people_picker_order_v1";function bTe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function l5({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=_.useState("");_.useEffect(()=>{e||a("")},[e]);const o=_.useMemo(()=>t.map(Nd),[t]),l=_.useMemo(()=>new Set(o),[o]),[u,d]=_.useState([]);_.useEffect(()=>{const w=localStorage.getItem(ak),S=w?JSON.parse(w):[],j=S.filter(A=>l.has(A)),O=[...j,...o.filter(A=>!j.includes(A))];d(O),JSON.stringify(O)!==JSON.stringify(S)&&localStorage.setItem(ak,JSON.stringify(O))},[o,l]);const h=w=>{d(w),localStorage.setItem(ak,JSON.stringify(w))},p=_.useMemo(()=>{const w=new Map(t.map(A=>[Nd(A),A])),S=[];for(const A of u){const C=w.get(A);C&&S.push(C)}w.forEach((A,C)=>{u.includes(C)||S.push(A)});const j=[],O=[];for(const A of S)(typeof A.relationship=="string"?A.relationship.trim():"")===""?j.push(A):O.push(A);return[...j,...O]},[t,u]),b=_.useMemo(()=>{const w=i.trim().toLowerCase();return w?p.filter(S=>{const j=typeof S.relationship=="string"?S.relationship.trim():"";return`${bv(S)} ${j}`.toLowerCase().includes(w)}):p},[p,i]),y=i.trim()==="",k=w=>{const{destination:S,source:j}=w;if(!S||!y||S.index===j.index)return;const O=b.map(Nd),A=bTe(O,j.index,S.index),D=p.map(Nd).filter($=>!O.includes($)),P=[...A,...D].filter(($,U,W)=>W.indexOf($)===U);h(P)};return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),g.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),g.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),g.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("input",{value:i,onChange:w=>a(w.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-sm"}),g.jsx("div",{className:"text-[11px] text-neutral-500 mt-1",children:"    ."})]}),g.jsx(vp,{onDragEnd:k,children:g.jsx(Sf,{droppableId:"people-picker",children:w=>g.jsxs("ul",{className:"space-y-2",ref:w.innerRef,...w.droppableProps,children:[b.map((S,j)=>{const O=Ix(S),A=typeof S.relationship=="string"?S.relationship.trim():"",C=A||" ",D=bv(S),P=A&&D===" "?A:D;return g.jsx(_f,{draggableId:Nd(S),index:j,isDragDisabled:!y,children:$=>g.jsx("li",{ref:$.innerRef,...$.draggableProps,...$.dragHandleProps,className:"flex items-center justify-between gap-2 px-3 py-2 rounded border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:g.jsxs("button",{onClick:()=>n(S),className:"flex-1 text-left cursor-pointer",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-900 dark:text-neutral-100",children:[g.jsx("span",{children:P}),g.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border border-neutral-300 dark:border-neutral-700 ${A?"text-neutral-600 dark:text-neutral-300":"text-neutral-400 dark:text-neutral-500"}`,children:C})]}),g.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:Nm(O)})]})})},Nd(S))}),w.placeholder]})})})]})]})}function ok({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:o,sinsalBaseBranch:l,sinsalMode:u,sinsalBloom:d}){const h=w=>{const S=o.showSibiUnseong?Fo(a,w):"",j=o.showSibiSinsal?Ho({baseBranch:l,targetBranch:w,era:pTe(u),gaehwa:!!d}):"";return{unseongText:S||void 0,shinsalText:j||void 0}},p=cn(t).charAt(1),b=cn(n).charAt(1),y=cn(r).charAt(1),k=cn(i).charAt(1);return g.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[g.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),g.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",cn(t),p],["",cn(n),b],["",cn(r),y],["",cn(i),k]].map(([w,S,j])=>{const{unseongText:O,shinsalText:A}=h(j);return g.jsx(Pd,{label:w,gz:S,dayStem:a,settings:vn.getState().settings,unseongText:O,shinsalText:A,hideBranchSipSin:!0,size:"sm"},`${e}-${w}`)})})]})}function Od({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=vn(P=>P.settings),o=_.useMemo(()=>t?Ix(t):null,[t]),l="/",u=cn(o?Ja(o,l):void 0),d=cn(o?mt(o,l):void 0),h=cn(o?St(o):void 0),p=cn(o?lt(o):void 0),b=_.useMemo(()=>d.charAt(0)||"",[d]),y=o,k=_.useMemo(()=>{const P=t?.birthPlace;return!P||P.name===""||!P.lon?127.5:P.lon},[t]),w=t?.mingSikType??l,S=_.useMemo(()=>{const P=y?mt(y,w).charAt(1):d.charAt(1)||"",$=y?lt(y,k).charAt(1):p.charAt(1)||"";return(a.sinsalBase??"")===""?P:$},[a.sinsalBase,y,w,k,d,p]),j=_.useMemo(()=>{if(n!==""||!o||!t)return null;try{const P=S6(o,u,t.dir,120),$=E6(P,d,t.dir,t.DayChangeRule),U=Sp(o,h,t.dir,120,t?.birthPlace?.lon??127.5),W=T6(U,p,t.dir,t.DayChangeRule,o),Y=r;return{si:cn(xb(P.events,Y)?.gz,u),il:cn(xb($.events,Y)?.gz,d),wl:cn(xb(U.events,Y)?.gz,h),yn:cn(xb(W.events,Y)?.gz,p)}}catch{return null}},[n,o,u,d,h,p,r,t]),O=_.useMemo(()=>{if(n!=="")return null;const P=r;return{si:cn(Ja(P,l)),il:cn(mt(P,l)),wl:cn(St(P)),yn:cn(lt(P))}},[n,r]),A=t?bv(t):"",C=o?Nm(o):"",D=t?gTe(t):"";return t?g.jsxs("div",{className:"space-y-2",children:[g.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:"  ",children:" "}),g.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[g.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),g.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:A}),D&&g.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",D]}),C&&g.jsx("span",{className:"block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:C})]}),n===""&&g.jsx(ok,{label:"",gzHour:u,gzDay:d,gzMonth:h,gzYear:p,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&g.jsx(ok,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&O&&g.jsx(ok,{label:"",gzHour:O.si,gzDay:O.il,gzMonth:O.wl,gzYear:O.yn,dayStem:b,cardSettings:a,sinsalBaseBranch:S,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):g.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:g.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function yTe({people:e=[]}){const[t,n]=_.useState(),[r,i]=_.useState(),[a,o]=_.useState(!1),[l,u]=_.useState(!1),d=_.useRef(new Date),[h,p]=_.useState(()=>dTe(d.current)),b=_.useRef(s5(h)??d.current),y=_.useMemo(()=>{const C=s5(h);return C&&(b.current=C),b.current},[h]),[k,w]=_.useState(!1),[S,j]=_.useState(!1);function O(C){if(!C)return["","","",""];try{const D=Ix(C),P="/",$={hour:cn(Ja(D,P)),day:cn(mt(D,P)),month:cn(St(D)),year:cn(lt(D))};return[$.year,$.month,$.day,$.hour]}catch{return["","","",""]}}const A=dn(C=>C.canUseMyoViewerNow());return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[g.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[g.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[A?g.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:a,onChange:C=>o(C.target.checked),className:"accent-indigo-500"})," "]}):null,g.jsx("button",{onClick:()=>u(C=>!C),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:l?" ":" "})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[g.jsx(Od,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),g.jsx(Od,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),a&&t&&g.jsx(Od,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),a&&r&&g.jsx(Od,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)}),l&&t&&g.jsx(Od,{label:" A",data:t,mode:"",effectiveDate:y,onPick:()=>w(!0)}),l&&r&&g.jsx(Od,{label:" B",data:r,mode:"",effectiveDate:y,onPick:()=>j(!0)})]}),t&&r&&g.jsx("div",{className:"mt-4",children:g.jsx(rTe,{pillarsA:O(t),pillarsB:O(r)})}),g.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[g.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:" /"}),g.jsx("input",{type:"datetime-local",value:h,onChange:C=>p(C.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),g.jsx(l5,{open:k,list:e||[],onSelect:C=>{n(C),w(!1)},onClose:()=>w(!1)}),g.jsx(l5,{open:S,list:e||[],onSelect:C=>{i(C),j(!1)},onClose:()=>j(!1)})]})}function vTe(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),i=async()=>{try{const{data:{user:a}}=await Re.auth.getUser();if(!a){alert("  .");return}const o=a.id,l=new Date().toISOString();await Re.from("profiles").update({disabled_at:l}).eq("id",o),await Re.from("myeongsik").update({deleted_at:l}).eq("user_id",o),await Re.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return g.jsxs(g.Fragment,{children:[g.jsxs("footer",{className:"py-8 pb-[calc(64px+env(safe-area-inset-bottom,0px)+var(--bottom-dock,0px))] px-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),g.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[g.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),g.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"     ,    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-1",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsxs("p",{className:"mb-2",children:["    (, )",g.jsx("br",{}),"       ( ,  ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"    /  ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"         "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-1",children:"       ."}),g.jsx("p",{className:"mb-2",children:"   3  ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:g.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[g.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),g.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",g.jsx("br",{}),"    ."]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),g.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function xTe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function sk(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return null;const[t,n,r]=e.split("-"),i=Number(t),a=Number(n),o=Number(r);if(!Number.isFinite(i)||!Number.isFinite(a)||!Number.isFinite(o)||a<1||a>12)return null;const l=new Date(i,a,0).getDate();return o<1||o>l?null:{y:i,m:a,d:o}}function c5(e,t,n){return e<t?t:e>n?n:e}function TF({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31",className:i="px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}){const a=_.useMemo(()=>e instanceof Date&&!Number.isNaN(e.getTime())?e:new Date,[e]),o=_.useMemo(()=>xTe(a),[a]),[l,u]=_.useState(o);_.useEffect(()=>{u(o)},[o]);const d=h=>{if(!sk(h))return;const b=c5(h,n,r),{y,m:k,d:w}=sk(b),S=a.getHours(),j=a.getMinutes(),O=a.getSeconds(),A=a.getMilliseconds(),C=new Date(y,k-1,w,S,j,O,A);Number.isNaN(C.getTime())||t(C)};return g.jsx("input",{type:"date",value:l,min:n,max:r,onChange:h=>{const p=h.target.value;u(p),p&&d(p)},onBlur:()=>{if(!l||!sk(l)){u(o);return}const h=c5(l,n,r);h!==l&&(u(h),d(h))},className:i,"aria-label":" "})}function wTe({ms:e}){const{date:t,setDate:n}=Jr(),r=Xl(),i=_.useMemo(()=>{const d=typeof e.id=="string"?e.id:"";if(d)return d;const h=typeof e.birthDay=="string"||typeof e.birthDay=="number"?String(e.birthDay):"",p=typeof e.birthTime=="string"?e.birthTime:"";return[typeof e.ganji=="string"?e.ganji:"",h,p].filter(Boolean).join("|")},[e]);_.useEffect(()=>{n(new Date)},[i]);const a=qv(e,void 0,void 0,{dstOffsetMinutes:r}),o=t instanceof Date&&!Number.isNaN(t.getTime())?t:new Date,l=_.useMemo(()=>{const d=typeof e.ganji=="string"?e.ganji:"",h=a?.dae?.gz?`${a.dae.gz}`:null,p=a?.se?.gz?`${a.se.gz}`:null,b=a?.wol?.gz?`${a.wol.gz}`:null,y=[h,p,b].filter(Boolean).join(" ");return[d,y].filter(Boolean).join(" + ")},[e.ganji,a]),u=d=>{n(d)};return g.jsxs("div",{className:"w-[calc(100%_-_16px)] max-w-[625px] desk:max-w-[640px] mx-auto mb-4 px-2 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[l&&g.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:l}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsxs("label",{className:"w-full flex justify-center items-center",children:[g.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),g.jsx(TF,{date:o,onChange:u,min:"1900-01-01",max:"2100-12-31"})]})})]})}function _Te({useWoldu:e,useSiju:t,hourRule:n,gender:r,onToggleWoldu:i,onToggleSiju:a,onChangeHourRule:o,onChangeGender:l}){return g.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:"/"}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useWoldu",checked:e,onChange:u=>i(u.target.checked)}),g.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"checkbox",id:"useSidu",checked:t,onChange:u=>a(u.target.checked)}),g.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:" "}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"jasi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"insi",checked:n==="",onChange:()=>o("")}),g.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsxs("span",{className:"mr-3 chkContainer",children:[g.jsx("input",{type:"radio",id:"male",checked:r==="male",onChange:()=>l("male")}),g.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",id:"female",checked:r==="female",onChange:()=>l("female")}),g.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]})}function STe({pillars:e,active:t,canEnterOthers:n,onActivate:r}){return g.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([i,a])=>{const o=!n&&!(i==="yearStem"||i==="yearBranch"||i==="dayStem"||i==="dayBranch"),l=t===i;return g.jsxs("button",{onClick:()=>!o&&r(i),disabled:o,className:["border rounded p-2 text-center cursor-pointer",l?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",o?"opacity-50 cursor-not-allowed":""].join(" "),children:[a,g.jsx("br",{}),g.jsx("span",{className:"font-bold",children:e[i]??"-"})]},i)})})}function kTe({results:e,selectedRow:t,onSelectRow:n,gender:r}){return e?e.length===0?g.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):g.jsxs("table",{className:"w-full text-xs",children:[g.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""}),g.jsx("th",{className:"p-1 text-center",children:""})]})}),g.jsx("tbody",{children:e.map((i,a)=>g.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[g.jsx("td",{className:"p-1 text-center",children:g.jsxs("span",{className:"chkContainer",children:[g.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${a}`,checked:t===a,onChange:()=>n(a)}),g.jsx("label",{htmlFor:`selectRow-${a}`,children:"ON"})]})}),g.jsx("td",{className:"p-1 text-center",children:i.date}),g.jsx("td",{className:"p-1 text-center",children:i.year}),g.jsx("td",{className:"p-1 text-center",children:i.month}),g.jsx("td",{className:"p-1 text-center",children:i.day}),g.jsx("td",{className:"p-1 text-center",children:g.jsx("div",{className:"flex flex-wrap gap-1",children:i.hourSlots.map((o,l)=>g.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:g.jsx("b",{children:o.branch})},l))})}),g.jsx("td",{className:"p-1 text-center",children:r==="male"?"":""})]},`${i.date}-${a}`))})]}):g.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"    ."})}function ETe({toast:e,showToast4:t,searchToast:n,error:r}){return g.jsxs(g.Fragment,{children:[e&&g.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:g.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:e})}),t&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),n&&g.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:g.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:["  .",g.jsx("br",{}),"   ."]})}),r&&g.jsx("div",{className:"mt-3 text-xs text-red-600 text-center",children:r})]})}function TTe({choices:e,onChoose:t}){return!e||e.length===0?null:g.jsxs("div",{className:"mb-3",children:[g.jsx("p",{className:"text-sm mb-1",children:"  ."}),g.jsx("div",{className:"flex gap-2",children:e.map(n=>g.jsx("button",{onClick:()=>t(n),className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:n},n))})]})}const jA=["","","","","","","","","",""],Yp=["","","","","","","","","","","",""],jTe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},jF=["","","","","","","","","","","",""],ATe=Yp,NTe=jF,OTe=["23:00~0:59","01:00~2:59","03:00~4:59","05:00~6:59","07:00~8:59","09:00~10:59","11:00~12:59","13:00~14:59","15:00~16:59","17:00~18:59","19:00~20:59","21:00~22:59"],CTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},MTe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function cp(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=jTe[n],i=jF.indexOf(t),a=(r+(i>=0?i:0))%10;return jA[a]}function $x(e,t){const n=t===""?ATe:NTe,r=e===""||e===""?0:e===""||e===""?2:e===""||e===""?4:e===""||e===""?6:8,i=Yp.reduce((a,o)=>(a[o]="",a),{});for(let a=0;a<12;a++){const o=jA[(r+a)%10],l=n[a];i[l]=`${o}${l}`}return i}const DTe={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};function PTe(e){return e==="yearStem"?"yearBranch":e==="yearBranch"?"yearStem":e==="monthStem"?"monthBranch":e==="monthBranch"?"monthStem":e==="dayStem"?"dayBranch":e==="dayBranch"?"dayStem":e==="hourStem"?"hourBranch":"hourStem"}function RTe({active:e,pillars:t,activeIsStem:n,activeIsBranch:r,onSelect:i,settingsObj:a}){return e?g.jsxs("div",{className:"w-full",children:[n&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-5 gap-2",children:jA.map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Yi(o,"stem",a)}`,children:o},o))})]}),r&&g.jsxs("div",{children:[g.jsx("p",{className:"font-medium mb-2",children:""}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:Yp.filter(o=>{const l=PTe(e),u=t[l];return u?MTe[o]===CTe[u]:!0}).map(o=>g.jsx("button",{onClick:()=>i(o),className:`border rounded px-2 py-1 cursor-pointer ${Yi(o,"branch",a)}`,children:o},o))})]})]}):g.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"   ."})}function LTe(){const[e,t]=_.useState({}),[n,r]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!0),[h,p]=_.useState(""),[b,y]=_.useState("male"),[k,w]=_.useState(null),[S,j]=_.useState(!1),[O,A]=_.useState(null),[C,D]=_.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[P,$]=_.useState(!1),[U,W]=_.useState(null),[Y,F]=_.useState(null),[z,K]=_.useState(!1),[Z,X]=_.useState(!1),q=J=>{F(J),setTimeout(()=>F(null),1800)};return _.useEffect(()=>{if(!z)return;const J=setTimeout(()=>K(!1),2e3);return()=>clearTimeout(J)},[z]),_.useEffect(()=>{if(!Z)return;const J=setTimeout(()=>X(!1),2e3);return()=>clearTimeout(J)},[Z]),{pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,gender:b,setGender:y,results:k,setResults:w,searching:S,setSearching:j,selectedRow:O,setSelectedRow:A,form:C,setForm:D,unknownPlace:P,setUnknownPlace:$,error:U,setError:W,toast:Y,showToast4:z,setShowToast:K,searchToast:Z,setSearchToast:X,showToast:q}}function AF(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}function u5(e,t){return Yp.filter(n=>cp(e,n)===t)}function d5(e,t,n){if(!n||!e.yearStem)return{next:e,monthBranchChoices:null};const r={...e};if(!r.yearStem)return{next:r,monthBranchChoices:null};if(t==="monthStem"&&r.monthStem){const i=u5(r.yearStem,r.monthStem);return i.length>=2?{next:r,monthBranchChoices:i.slice(0,2)}:(i.length===1&&(r.monthBranch=i[0]),{next:r,monthBranchChoices:null})}if(t==="monthBranch"&&r.monthBranch)return r.monthStem=cp(r.yearStem,r.monthBranch),{next:r,monthBranchChoices:null};if(t==="yearStem")if(r.monthStem&&!r.monthBranch){const i=u5(r.yearStem,r.monthStem);if(i.length>=2)return{next:r,monthBranchChoices:i.slice(0,2)};i.length===1&&(r.monthBranch=i[0])}else r.monthBranch&&!r.monthStem&&(r.monthStem=cp(r.yearStem,r.monthBranch));return{next:r,monthBranchChoices:null}}function ITe(e,t,n,r){if(!n||!e.dayStem)return e;const i={...e};if(!i.dayStem)return i;const a=$x(i.dayStem,r),o=u=>Object.entries(a).find(([,d])=>d.startsWith(u)),l=u=>a[u];if(t==="hourStem"&&i.hourStem){const u=o(i.hourStem);return u&&(i.hourBranch=u[0]),i}if(t==="hourBranch"&&i.hourBranch){const u=l(i.hourBranch);return u&&(i.hourStem=u.slice(0,1)),i}if(t==="dayStem"){if(i.hourStem&&!i.hourBranch){const u=o(i.hourStem);u&&(i.hourBranch=u[0])}else if(i.hourBranch&&!i.hourStem){const u=l(i.hourBranch);u&&(i.hourStem=u.slice(0,1))}}return i}function $Te(e,t){return!t||!e.yearStem?!1:e.monthBranch&&e.monthStem?cp(e.yearStem,e.monthBranch)!==e.monthStem:!1}function BTe(e,t,n){if(!t||!e.dayStem)return!1;if(e.hourBranch&&e.hourStem){const i=$x(e.dayStem,n)[e.hourBranch];return i?i.slice(0,1)!==e.hourStem:!1}return!1}function lk(e,t,n){const i=$x(e,t)[n];return i?i.slice(0,1):null}function zTe({pillars:e,setPillars:t,active:n,setActive:r,monthBranchChoices:i,setMonthBranchChoices:a,useWoldu:o,setUseWoldu:l,useSiju:u,setUseSiju:d,hourRule:h,setHourRule:p,setResults:b,setError:y,showToast:k}){const w=o||u,S=!!(e.yearStem&&e.yearBranch),j=!!(e.dayStem&&e.dayBranch),O=!w||S||j,A=!!n&&n.endsWith("Stem"),C=!!n&&n.endsWith("Branch"),D=_.useMemo(()=>AF(e),[e]);return _.useEffect(()=>{if(!(!u||!e.dayStem||!e.hourBranch)&&(e.hourBranch===""||e.hourBranch==="")){const z=lk(e.dayStem,h,e.hourBranch);z&&t(K=>({...K,hourStem:z}))}},[h,u,e.dayStem,e.hourBranch,t]),{needStartFromYearOrDay:w,canEnterOthers:O,activeIsStem:A,activeIsBranch:C,filledAll:D,monthBranchChoices:i,handleSelect:z=>{if(!n)return;if(!O&&!(n==="yearStem"||n==="yearBranch"||n==="dayStem"||n==="dayBranch")){y("/      ."),setTimeout(()=>y(null),1500);return}let Z={...e,[n]:z};if(n==="yearStem"||n==="monthStem"||n==="monthBranch"){const J=d5(Z,n,o);Z=J.next,a(J.monthBranchChoices)}(n==="dayStem"||n==="hourStem"||n==="hourBranch")&&(Z=ITe(Z,n,u,h));let X=!1;$Te(Z,o)&&(l(!1),X=!0),BTe(Z,u,h)&&(d(!1),X=!0),X&&k("/  .  ."),t(Z),b(null),r(n==="yearStem"?"yearBranch":n==="yearBranch"?"yearStem":n==="monthStem"?"monthBranch":n==="monthBranch"?"monthStem":n==="dayStem"?"dayBranch":n==="dayBranch"?"dayStem":n==="hourStem"?"hourBranch":"hourStem"),setTimeout(()=>{const J={...Z};if(J.yearStem&&J.yearBranch&&!J.monthStem){r("monthStem");return}if(J.monthStem&&J.monthBranch&&!J.dayStem){r("dayStem");return}if(J.dayStem&&J.dayBranch&&!J.hourStem){r("hourStem");return}},0)},handleMonthBranchChoice:z=>{let K={...e,monthBranch:z};a(null),K=d5(K,"monthBranch",o).next,t(K),r("dayStem")},clearAll:()=>{t({}),b(null),y(null),r(null),a(null)},onToggleWoldu:z=>{b(null),z&&t(K=>{const Z={...K};return Z.yearStem&&Z.monthBranch&&(Z.monthStem=cp(Z.yearStem,Z.monthBranch)),Z}),l(z)},onToggleSiju:z=>{b(null),z&&t(K=>{const Z={...K};if(Z.dayStem&&Z.hourBranch){const X=lk(Z.dayStem,h,Z.hourBranch);X&&(Z.hourStem=X)}return Z}),d(z)},onChangeHourRule:z=>{if(b(null),p(z),u&&e.dayStem&&e.hourBranch&&(e.hourBranch===""||e.hourBranch==="")){const K=lk(e.dayStem,z,e.hourBranch);K&&t(Z=>({...Z,hourStem:K}))}}}}function UTe(e){const{selectedRow:t,results:n,gender:r,hourRule:i,form:a,unknownPlace:o}=e,l=t!==null?n?.filter((Y,F)=>F===t)??[]:[];if(l.length===0)return{error:"  ."};const u=l[0],d=i===""?"/":"",[h,p,b]=u.date.split("-").map(Number);let y=0,k=0;if(u.hourSlots.length>0){const Y=u.hourSlots[0].branch,F=DTe[Y];F&&(y=F.hh,k=F.mi)}const w=new Date(h,p-1,b,y,k),S=w,j="",O=r==="male"?"":"",A=FTe(u.year.charAt(0),O),C=lt(S,127.5),D=St(S,127.5),P=mt(S,d),$=Ja(S,d),U=[`: ${C} ${D} ${P}`,$?`${$}`:null].filter(Boolean).join(" ");return{payload:{id:g6(),name:"",birthDay:`${h}${String(p).padStart(2,"0")}${String(b).padStart(2,"0")}`,birthTime:`${String(y).padStart(2,"0")}${String(k).padStart(2,"0")}`,gender:O,birthPlace:o?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",folder:uu(a.folder),mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",calendarType:a.calendarType??"solar",ganjiText:`: ${u.year} ${u.month} ${u.day} ${u.hour}`,ganji:U,dayStem:u.day.charAt(0),dateObj:w,corrected:S,correctedLocal:j,dir:A,favorite:!1}}}function FTe(e,t){const r=["","","","","","","","","",""].includes(e),i=t==="";return r?i?"forward":"backward":i?"backward":"forward"}function HTe(e){yn.getState().add(e)}function GTe(e,t,n,r=300){if(!e.yearStem||!e.yearBranch)return[];if(!e.monthStem||!e.monthBranch)return[];if(!e.dayStem||!e.dayBranch)return[];if(!e.hourStem||!e.hourBranch)return[];const i=`${e.yearStem}${e.yearBranch}`,a=`${e.monthStem}${e.monthBranch}`,o=`${e.dayStem}${e.dayBranch}`,l=`${e.hourStem}${e.hourBranch}`,u=[],d=new Date(1900,0,1,12,0,0),h=new Date(2100,11,31,12,0,0);for(let p=d.getTime();p<=h.getTime();p+=24*3600*1e3){const b=new Date(p),y=lt(b);if(y!==i)continue;const k=St(b);if(k!==a)continue;const w=mt(b,n);if(w!==o)continue;const S=$x(e.dayStem,t),j=[];for(let O=0;O<12;O++){const A=Yp[O];S[A]===l&&j.push({branch:A,time:OTe[O]})}if(j.length!==0&&(u.push({date:`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`,year:y,month:k,day:w,hour:l,hourSlots:j}),u.length>=r))break}return u}function qTe({pillars:e,hourRule:t,results:n,selectedRow:r,gender:i,form:a,unknownPlace:o,setResults:l,setSearching:u,setError:d,setSearchToast:h,setForm:p,setUnknownPlace:b,showToast:y,onSave:k,onClose:w}){return{doSearch:()=>{if(l(null),d(null),!AF(e)){d(" 4  .");return}u(!0);try{const A=GTe(e,t,t===""?"/":"");A.length===0&&d("  . (: 1900~2100)"),l(A)}catch(O){O instanceof Error?d(O.message):d(String(O))}finally{u(!1)}},handleSave:()=>{const O=UTe({selectedRow:r,results:n,gender:i,hourRule:t,form:a,unknownPlace:o});if("error"in O){h(!0);return}Eu.flushSync(()=>{HTe(O.payload)}),k(O.payload),y(" !"),p({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),b(!1),w()}}}function YTe({open:e,onClose:t,onSave:n}){const{settings:r}=vn(),i=LTe(),a=zTe({pillars:i.pillars,setPillars:i.setPillars,active:i.active,setActive:i.setActive,monthBranchChoices:i.monthBranchChoices,setMonthBranchChoices:i.setMonthBranchChoices,useWoldu:i.useWoldu,setUseWoldu:i.setUseWoldu,useSiju:i.useSiju,setUseSiju:i.setUseSiju,hourRule:i.hourRule,setHourRule:i.setHourRule,setResults:i.setResults,setError:i.setError,showToast:i.showToast}),o=qTe({pillars:i.pillars,hourRule:i.hourRule,results:i.results,selectedRow:i.selectedRow,gender:i.gender,form:i.form,unknownPlace:i.unknownPlace,setResults:i.setResults,setSearching:i.setSearching,setError:i.setError,setSearchToast:i.setSearchToast,setForm:i.setForm,setUnknownPlace:i.setUnknownPlace,showToast:i.showToast,onSave:n,onClose:t});return e?g.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:g.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[g.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:g.jsx(iy,{size:20})}),g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),g.jsx(_Te,{useWoldu:i.useWoldu,useSiju:i.useSiju,hourRule:i.hourRule,gender:i.gender,onToggleWoldu:a.onToggleWoldu,onToggleSiju:a.onToggleSiju,onChangeHourRule:a.onChangeHourRule,onChangeGender:i.setGender}),a.needStartFromYearOrDay&&!a.canEnterOthers&&g.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",g.jsx("br",{}),g.jsx("b",{children:""}),"  ",g.jsx("b",{children:""})," ."]}),g.jsx(STe,{pillars:i.pillars,active:i.active,canEnterOthers:a.canEnterOthers,onActivate:i.setActive}),g.jsx(TTe,{choices:i.monthBranchChoices,onChoose:a.handleMonthBranchChoice}),g.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:g.jsx(RTe,{active:i.active,pillars:i.pillars,activeIsStem:a.activeIsStem,activeIsBranch:a.activeIsBranch,onSelect:a.handleSelect,settingsObj:r})}),g.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[g.jsx("span",{children:g.jsx("button",{type:"button",onClick:()=>{if(!a.filledAll){i.setShowToast(!0);return}o.doSearch()},disabled:i.searching,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:i.searching?"..":""})}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("button",{type:"button",onClick:a.clearAll,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:o.handleSave,className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),g.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:g.jsx(kTe,{results:i.results,selectedRow:i.selectedRow,onSelectRow:i.setSelectedRow,gender:i.gender})}),g.jsx(ETe,{toast:i.toast,showToast4:i.showToast4,searchToast:i.searchToast,error:i.error})]})}):null}function KTe(){return g.jsx("div",{className:"flex flex-col desk:flex-row desk:items-center desk:justify-between gap-2",children:g.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"AI  "})})}function WTe({sections:e,toggleSection:t}){return g.jsxs("div",{className:"mt-3 border-t pt-2",children:[g.jsxs("div",{className:"text-[11px] font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["   ",g.jsx("span",{className:"text-amber-500",children:"(TIP.  AI  . ex.,  )"})]}),g.jsx("p",{className:"text-amber-500",children:"      . (     .)"}),g.jsx("p",{className:"text-amber-500",children:" AI     .  ,   ."}),g.jsx("p",{className:"text-amber-500",children:"  AI ,    .  ."})]}),g.jsxs("div",{className:"grid grid-cols-4 desk:grid-cols-8 gap-2 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveUnseong,onChange:()=>t("twelveUnseong"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.twelveShinsal,onChange:()=>t("twelveShinsal"),className:"w-3 h-3"}),""]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.shinsal,onChange:()=>t("shinsal"),className:"w-3 h-3"})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:e.nabeum,onChange:()=>t("nabeum"),className:"w-3 h-3"}),""]})]})]})}function VTe({tone:e,toneMeta:t,setTone:n,friendMode:r,setFriendMode:i,teacherMode:a,setTeacherMode:o}){return g.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[g.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),g.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(t).map(l=>g.jsx("button",{type:"button",onClick:()=>n(l),className:`flex-1 p-1 text-[10px] rounded border cursor-pointer ${e===l?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:t[l].label},l))}),g.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:t[e].desc}),g.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[g.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"friendMode",checked:r,onChange:i,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" "})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"teacherMode",checked:a,onChange:o,className:"w-3 h-3"}),g.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:" (/)"})]})]})]})}function ZTe({mainCategory:e,subCategory:t,mainCategoryMeta:n,currentSubList:r,onMainCategoryChange:i,onSubCategoryChange:a}){return g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsx("select",{value:e,onChange:o=>i(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(n).map(o=>g.jsx("option",{value:o,children:n[o].label},o))}),r.length>0&&g.jsx("select",{value:t,onChange:o=>a(o.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:r.map(o=>g.jsx("option",{value:o.key,children:o.label},o.key))})]})}function XTe({visible:e,relationMode:t,setRelationMode:n,partnerId:r,setPartnerId:i,partnerOptions:a}){return e?g.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:" "}),g.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[g.jsx("button",{type:"button",onClick:()=>n("solo"),className:`px-3 py-1 cursor-pointer ${t==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),g.jsx("button",{type:"button",onClick:()=>n("couple"),className:`px-3 py-1 cursor-pointer ${t==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),t==="couple"&&g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-semibold",children:"  "}),g.jsxs("select",{value:r,onChange:o=>i(o.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[g.jsx("option",{value:"",children:" "}),a.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))]})]})]}):null}function JTe({isMultiMode:e,setIsMultiMode:t,canUseMultiMode:n}){const r=!n;return g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${e?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),g.jsxs("button",{type:"button",onClick:()=>t(!0),disabled:r,title:r?" .":" (  )",className:`px-3 py-1.5 text-xs rounded-md border transition-colors ${r?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300 cursor-pointer"}`,children:[" (  ) ",r?"":""]})]})}function QTe({tabs:e,activeTab:t,setActiveTab:n,date:r,setDate:i,canUseLuckTabs:a}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(o=>{const l=!a&&o!=="",u=!l&&t===o;return g.jsxs("button",{type:"button",onClick:()=>{l||n(o)},disabled:l,title:l?" .":o,className:["px-2 py-1 text-xs rounded-md border transition-colors",l?"bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400 cursor-not-allowed opacity-70":"cursor-pointer",u?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":l?"":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"].join(" "),children:[o," ",l?"":""]},o)})}),g.jsx(TF,{date:r,onChange:i})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsx("p",{children:"      ."}),g.jsx("p",{children:"     ."}),g.jsx("p",{children:"      ."})]})]})}function eje({multiTab:e,setMultiTab:t,daeList:n,selectedDaeIdx:r,onToggleDae:i,seStartYear:a,seEndYear:o,onSeStartChange:l,onSeEndChange:u,onSeStartBlur:d,onSeEndBlur:h,seYearsCount:p,wolStartDate:b,wolEndDate:y,onWolStartChange:k,onWolEndChange:w,onWolStartBlur:S,onWolEndBlur:j,wolMonthsCount:O,ilStartDate:A,ilEndDate:C,onIlStartChange:D,onIlEndChange:P,onIlStartBlur:$,onIlEndBlur:U,ilDaysCount:W}){return g.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[g.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(Y=>g.jsx("button",{type:"button",onClick:()=>t(Y),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${e===Y?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:Y},Y))}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),g.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:n.map((Y,F)=>g.jsxs("button",{type:"button",onClick:()=>i(F),className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${r.includes(F)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[g.jsx("div",{className:"font-mono",children:Y.gz}),g.jsxs("div",{className:"text-[10px] opacity-80",children:[Y.age," (",Y.startYear,"~",Y.endYear,")"]})]},F))})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"number",value:a,onChange:Y=>l(Number(Y.target.value)),onBlur:d,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"number",value:o,onChange:Y=>u(Number(Y.target.value)),onBlur:h,className:"w-24 px-2 h-30 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",p,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"month",value:b,onChange:Y=>k(Y.target.value),onBlur:S,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"month",value:y,onChange:Y=>w(Y.target.value),onBlur:j,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",O,""]})]}),e===""&&g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("input",{type:"date",value:A,onChange:Y=>D(Y.target.value),onBlur:$,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),g.jsx("span",{className:"text-xs",children:"~"}),g.jsx("input",{type:"date",value:C,onChange:Y=>P(Y.target.value),onBlur:U,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),g.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" : ",W,""]})]}),g.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[g.jsxs("p",{children:[" ",e,"   ."]}),g.jsx("p",{children:"    ."})]})]})}function tje({questionDraft:e,onChangeDraft:t,onAddQuestion:n,extraQuestions:r,onClearAll:i,onRemoveQuestion:a,locked:o=!1,lockTitle:l}){const u=l?" ":"";return g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),r.length>0&&g.jsx("button",{type:"button",onClick:i,disabled:o,title:o?l:void 0,className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),g.jsx("textarea",{value:e,onChange:t,readOnly:o,disabled:o,title:o?l:void 0,placeholder:" AI     , ' '  .",rows:3,className:"w-full placeholder:text-xs text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),g.jsxs("div",{className:"mb-4 text-center",children:[g.jsx("button",{type:"button",onClick:n,disabled:o,title:o?l:void 0,className:["w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border",o?"cursor-not-allowed opacity-50 bg-neutral-400 text-white dark:bg-neutral-700":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer"].join(" "),children:o?` ${u}`:" "}),r.length>0&&g.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:["  ",r.length,""]})]}),r.length>0&&g.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:r.map((d,h)=>g.jsxs("li",{className:"flex gap-1 items-start",children:[g.jsxs("span",{className:"shrink-0",children:[h+1,"."]}),g.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:d}),g.jsx("button",{type:"button",onClick:()=>a(h),disabled:o,title:o?l:void 0,className:["shrink-0 ml-2 text-[10px]",o?"text-neutral-400 cursor-not-allowed":"text-red-500 hover:underline"].join(" "),children:""})]},h))})]})}function nje({value:e,lockSelection:t=!1}){const[n,r]=_.useState(!1);return t?g.jsx("div",{className:"w-full h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 select-none flex items-center justify-center text-center text-neutral-500","aria-readonly":"true",children:"   "}):g.jsxs("div",{children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{readOnly:!0,value:e,placeholder:"   ",className:["w-full text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2 resize-none transition-[height] duration-200","desk:h-[270px] desk:overflow-y-auto",n?"h-[270px] overflow-y-auto pointer-events-auto":"h-[150px] overflow-hidden pointer-events-none desk:pointer-events-auto"].join(" ")}),!n&&g.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 rounded-b-md bg-gradient-to-t from-white/95 dark:from-neutral-800/95 to-transparent"})]}),g.jsx("div",{className:"mt-2 mb-3 flex justify-center desk:hidden",children:g.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"px-3 py-1 rounded-full border text-xs bg-white text-neutral-700 border-neutral-300 dark:bg-neutral-900 dark:text-neutral-200 dark:border-neutral-700",children:n?"":""})})]})}const rje={analysis:{label:"",desc:`-   ,   
- //    
-   `},mentor:{label:"",desc:`-   
-     
-    `},dryHumor:{label:" ",desc:`-     
-   `},softWarm:{label:" ",desc:`-   
-  `},etc:{label:" ",desc:"-     "}},ije=["","","","",""],aje={personality:{label:"    "},lifeFlow:{label:"   "},love:{label:"    "},career:{label:"    "},money:{label:"    "},family:{label:"      "},baby:{label:"    "},health:{label:"    "},move:{label:"     "},social:{label:"  "},compat:{label:"   "},risk:{label:"  "},meta:{label:"    "},etc:{label:"  "}},f5={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:" "},{key:"personality_shadow",label:""},{key:"personality_relationshipStyle",label:" "},{key:"personality_workStyle",label:" "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:"/ "},{key:"love_partner",label:" "},{key:"love_current",label:" /"},{key:"love_breakup",label:" "},{key:"love_marriageChange",label:"/ "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs "},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:" "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:"/ "},{key:"money_asset",label:" "},{key:"money_debt",label:"/ "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"/ "},{key:"family_current",label:" /"},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:"/"},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:""},{key:"health_physical",label:" "},{key:"health_mental",label:""},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:" "},{key:"move_timing",label:" "},{key:"move_chance",label:" "},{key:"move_targetHouse",label:"  "},{key:"move_environment",label:"  "},{key:"move_finance",label:" "}],social:[{key:"overview",label:"  "},{key:"social_overall",label:" "},{key:"social_friend",label:" "},{key:"social_workspace",label:" "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:" "},{key:"compat_overall",label:"  "},{key:"compat_love",label:"/ "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:"/ "},{key:"compat_family",label:" "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:"/ "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:" "},{key:"meta_usage",label:" "}],etc:[]};function oje(){const[e,t]=_.useState(null);return _.useEffect(()=>{let n=!0;return Re.auth.getUser().then(({data:r})=>{n&&t(r.user?.id??null)}),()=>{n=!1}},[]),e}const sje={twelveUnseong:!0,twelveShinsal:!0,shinsal:!0,nabeum:!0},yv=Uo(e=>({sections:sje,setSections:t=>e({sections:t}),toggleSection:t=>e(n=>({sections:{...n.sections,[t]:!n.sections[t]}}))})),ck=1e3*60*60*24;function uk(e,t){return(t.getFullYear()-e.getFullYear())*12+(t.getMonth()-e.getMonth())}function wb(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function _b(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function h5(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function m5(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function lje(){const e=new Date().getFullYear(),[t,n]=_.useState(e),[r,i]=_.useState(e),[a,o]=_.useState(()=>m5()),[l,u]=_.useState(()=>m5()),[d,h]=_.useState(()=>h5()),[p,b]=_.useState(()=>h5()),y=X=>{n(X)},k=X=>{i(X)},w=()=>{const X=t;let q=r;q<X&&(q=X),q-X>9&&(q=X+9),i(q)},S=()=>{let X=t;const q=r;q<X&&(X=q),q-X>9&&(X=q-9),n(X)},j=_.useMemo(()=>{if(!Number.isFinite(t)||!Number.isFinite(r))return 0;const X=r-t+1;return X>0?X:0},[t,r]),O=_.useMemo(()=>{const X=[];if(!Number.isFinite(t)||!Number.isFinite(r))return X;for(let q=t;q<=r&&X.length<10;q++)X.push(q);return X},[t,r]),A=X=>{o(X)},C=X=>{u(X)},D=()=>{const[X,q]=a.split("-").map(Number),[J,ee]=l.split("-").map(Number),le=new Date(X,q-1),ae=new Date(J,ee-1);if(ae<le){u(wb(le));return}if(uk(le,ae)>11){const V=new Date(le);V.setMonth(le.getMonth()+11),u(wb(V))}},P=()=>{const[X,q]=a.split("-").map(Number),[J,ee]=l.split("-").map(Number),le=new Date(X,q-1),ae=new Date(J,ee-1);if(ae<le){o(wb(ae));return}if(uk(le,ae)>11){const V=new Date(ae);V.setMonth(ae.getMonth()-11),o(wb(V))}},$=_.useMemo(()=>{const[X,q]=(a||"").split("-").map(Number),[J,ee]=(l||"").split("-").map(Number);if(!Number.isFinite(X)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(ee))return 0;const le=new Date(X,q-1,1),ae=new Date(J,ee-1,1),B=uk(le,ae)+1;return B>0?B:0},[a,l]),U=_.useMemo(()=>{const X=[],[q,J]=a.split("-").map(Number),[ee,le]=l.split("-").map(Number),ae=new Date(q,J-1),B=new Date(ee,le-1);if(Number.isNaN(ae.getTime())||Number.isNaN(B.getTime()))return X;for(;ae<=B&&X.length<12;)X.push(`${ae.getFullYear()}-${String(ae.getMonth()+1).padStart(2,"0")}`),ae.setMonth(ae.getMonth()+1);return X},[a,l]),W=X=>{h(X)},Y=X=>{b(X)},F=()=>{if(!d||!p)return;const[X,q,J]=d.split("-").map(Number),[ee,le,ae]=p.split("-").map(Number),B=new Date(X,q-1,J,4,0,0),V=new Date(ee,le-1,ae,4,0,0);if(V<B){b(_b(B));return}if(Math.floor((V.getTime()-B.getTime())/ck)>7){const oe=new Date(B);oe.setDate(B.getDate()+6),b(_b(oe))}},z=()=>{if(!d||!p)return;const[X,q,J]=d.split("-").map(Number),[ee,le,ae]=p.split("-").map(Number),B=new Date(X,q-1,J,4,0,0),V=new Date(ee,le-1,ae,4,0,0);if(B>V){h(_b(V));return}if(Math.floor((V.getTime()-B.getTime())/ck)>7){const oe=new Date(V);oe.setDate(V.getDate()-6),h(_b(oe))}},K=_.useMemo(()=>{const[X,q,J]=(d||"").split("-").map(Number),[ee,le,ae]=(p||"").split("-").map(Number);if(!Number.isFinite(X)||!Number.isFinite(q)||!Number.isFinite(J)||!Number.isFinite(ee)||!Number.isFinite(le)||!Number.isFinite(ae))return 0;const B=new Date(X,q-1,J,4,0,0),V=new Date(ee,le-1,ae,4,0,0),ne=Math.floor((V.getTime()-B.getTime())/ck)+1;return ne>0?ne:0},[d,p]),Z=_.useMemo(()=>{const X=[],[q,J,ee]=d.split("-").map(Number),[le,ae,B]=p.split("-").map(Number),V=new Date(q,J-1,ee,4,0,0),ne=new Date(le,ae-1,B,4,0,0);if(Number.isNaN(V.getTime())||Number.isNaN(ne.getTime()))return X;const oe=new Date(V);for(;oe<=ne&&X.length<31;){const fe=oe.getFullYear(),ye=String(oe.getMonth()+1).padStart(2,"0"),pe=String(oe.getDate()).padStart(2,"0");X.push(`${fe}-${ye}-${pe}`),oe.setDate(oe.getDate()+1)}return X},[d,p]);return{seStartYear:t,seEndYear:r,wolStartYM:a,wolEndYM:l,ilStartDate:d,ilEndDate:p,onSeStartChange:y,onSeEndChange:k,onSeStartBlur:w,onSeEndBlur:S,onWolStartChange:A,onWolEndChange:C,onWolStartBlur:D,onWolEndBlur:P,onIlStartChange:W,onIlEndChange:Y,onIlStartBlur:F,onIlEndBlur:z,seYearsCount:j,wolMonthsCount:$,ilDaysCount:K,seYearsList:O,wolMonthsList:U,ilDaysList:Z}}function cje({msId:e,canUseMultiMode:t,canUseLuckTabs:n}){const r=yv(ae=>ae.sections),i=yv(ae=>ae.toggleSection),[a,o]=_.useState("analysis"),[l,u]=_.useState(!1),[d,h]=_.useState(!1),[p,b]=_.useState(""),[y,k]=_.useState("personality"),[w,S]=_.useState("overview"),[j,O]=_.useState("solo"),[A,C]=_.useState(""),[D,P]=_.useState(!1),[$,U]=_.useState(""),[W,Y]=_.useState([]),[F,z]=_.useState(""),[K,Z]=_.useState([]),X=lje();_.useEffect(()=>{y!=="love"&&y!=="compat"&&(O("solo"),b(""))},[y]),_.useEffect(()=>{!t&&D&&P(!1)},[t,D]),_.useEffect(()=>{!n&&A!==""&&C("")},[n,A]),_.useEffect(()=>{$!==""&&Y([])},[$]),_.useEffect(()=>{z(""),Z([])},[e]);function q(){const ae=F.trim();ae&&(Z(B=>[...B,ae]),z(""))}function J(ae){Z(B=>B.filter((V,ne)=>ne!==ae))}function ee(){Z([])}function le(ae){Y(B=>B.includes(ae)?B.filter(V=>V!==ae):[...B,ae])}return{sections:r,toggleSection:i,tone:a,setTone:o,friendMode:l,setFriendMode:u,teacherMode:d,setTeacherMode:h,partnerId:p,setPartnerId:b,mainCategory:y,setMainCategory:k,subCategory:w,setSubCategory:S,relationMode:j,setRelationMode:O,activeTab:A,setActiveTab:C,isMultiMode:D,setIsMultiMode:P,multiTab:$,setMultiTab:U,selectedDaeIdx:W,setSelectedDaeIdx:Y,handleToggleDae:le,rangeControls:X,questionDraft:F,setQuestionDraft:z,extraQuestions:K,setExtraQuestions:Z,handleAddQuestion:q,handleRemoveQuestion:J,handleClearQuestions:ee}}const NF=Uo(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function AA(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const A=Wi(t,n,r);t=A.getFullYear(),n=A.getMonth()+1,r=A.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),o=i?30:Number(e.birthTime.slice(2,4)),l=new Date(t,n-1,r,a,o,0,0),u=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,d=xp(l,u,i),h=e.mingSikType??"/",p=lt(d,u),b=St(d,u),y=mt(d,h),k=i?null:Ja(d,h),w=Ie(p),S=Ie(b),j=Ie(y),O=k?Ie(k):"";return[w,S,j,O]}function OF(e){const t=new Date(e.corrected),n=AA(e),r=n[0].charAt(0),a=["","","","",""].includes(r),o=e.gender==="",l=o&&a||!o&&!a?"forward":"backward",u=Sp(t,n[1],l,120,e.birthPlace?.lon??127.5),d=u.firstChange;if(!d)return[];const h=[];let p=Ie(u.events[0]?.gz??n[1]);for(let b=0;b<10;b++){const y=new Date(d);if(y.setFullYear(y.getFullYear()+b*10),b>0){const k=u.events[b];k&&(p=Ie(k.gz))}h.push(`${y.getFullYear()} ${String(y.getMonth()+1).padStart(2,"0")} ${p}  `)}return h}const uje=["- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    .","-      ,    ."],dje=["- :     . ////  .","- :  ,  .    . //   .","- : ~  //     .    .","- , /      , ////   .",""," ( )","-  + (///)  /","-      +   ","- :   +    ","-  + :      ()   ","-  :  ","- : /(  )",""," ","-  .  /  /  ","-   =  . 1~2 "];function fje(e,t){e.push("### ()");const n=t?dje:uje;e.push(...n)}function hje(e,t){const{mode:n,tab:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);n==="single"?r?i?a("","##  ()",`-  : (${r})  ,    ( + / )  .`,"-     /      ()  ."):a("","##  ()",`-    (${r})   ,         .`,"-   ,          ."):a("","##  ()","-   ,      /  ."):i?a("","##  ()","-       .    .","-      (/// )  1~2 ."):a("","##  ()","-  (///)  ,           ."),i&&e.push("- (teacherMode)     ,   .","-      (/ / )  1~2 .")}function mje(e,t){const{topic:n,subTopic:r,relationMode:i,isStudyTone:a}=t,o=(...l)=>e.push(...l);switch(n){case"personality":return a?o("","## ()","-     //   .","-    .   + /(   ) +   ,   .","-   :   XX  YY .   .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."):o("","## ()","-  /  .","-         .","-        .","1)   : /, , /,        ,      .","2)   :    VS   ,   VS   ,  VS      . ","3) /:   ,     , /        . ","4)   : //  ,    ,       . ","5)  :     ,    ,       ."),r==="personality_shadow"&&o("-    ,    / ,    ."),r==="personality_relationshipStyle"&&o("-  / ,   /  ."),r==="personality_workStyle"&&o("-     /    ."),r==="personality_stressPattern"&&o("-       ."),!0;case"lifeFlow":return a?o("","## ( )","-   . //    .","-   :   +  () + /  +   .","-    /  ."):o("","## ( )","-       .","-     ."),r==="lifeFlow_turningPoint"&&o("-   A/B ,     ."),!0;case"love":return a?o("","## ()","-   : /////// .","- ( )   . +      .","- ///  /  () ."):o("","## ()","- //   .","-  ,   ,    ."),i==="solo"?o("-  :  / ,     ."):i==="couple"&&o("-  :        (//)  ."),!0;case"career":return a?o("","## ()","-  : ///// / .","- ///        .","- (//)   ,  +  ."):o("","## ()","- ///   ."),r==="career_jobChange"&&o("-    / ."),r==="career_promotion"&&o("-     //   ."),!0;case"money":return a?o("","## ()","-   :  /, / ,   , /, , , /  .","-    .   +   +    /  .","-  (    )    ."):o("","## ()","- //   ."),r==="money_debt"&&o("- //   (// )."),r==="money_bigEvent"&&o("-          ."),!0}return!1}function pje(e,t){const{topic:n,subTopic:r,isStudyTone:i}=t,a=(...o)=>e.push(...o);switch(n){case"family":return i?a("","## ()","-  : /  ,   ,  /,   , / .","- /     ,   ."):a("","## ()","- /   ."),!0;case"baby":return i?a("","## ()","-  :  /,  ,    .","-  /   .  / /  ."):a("","## ()","- //   ."),!0;case"health":return i?a("","## ()","-   : ,   , /, /.","-   .  //      .","-   + /      ."):a("","## ()","- /   ."),r==="health_accident"&&a("-  /(/// ) ."),!0;case"move":return i?a("","## ()","-    : , , , / ,  .","- ()()(/)    .","- /  /    ."):a("","## ()","- /  ."),!0;case"social":return i?a("","## ()","-  ////   .","- ()/()/()     ."):a("","## ()","- /   ."),!0;case"compat":return i?a("","## ( )","-    ,        .","- // ,  //   ."):a("","## ( )","- /    ."),!0;case"risk":return i?a("","## ()","-  .        .","- //  + /    ."):a("","## ()","- /   ."),!0;case"meta":return i?a("","## ()","-    ,        .","- ,  3~7 .   "):a("","## ()","-       ."),!0}return!1}function gje(e,t){mje(e,t)||pje(e,t)}function bje(e){return e==="multi"?"multi":"single"}function CF(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:o}=e;if(!t)return"";const l=bje(r),u=[],d=o===!0;return fje(u,d),t==="etc"||(hje(u,{mode:l,tab:i,isStudyTone:d}),gje(u,{topic:t,subTopic:n,relationMode:a,isStudyTone:d})),u.join(`
`)}const yje=!1,p5=e=>e<10?`0${e}`:`${e}`;function vje(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),o=Number(n.slice(6,8));if(r==="lunar")try{const l=Wi(i,a,o,0,0),u=`${l.getFullYear()}${p5(l.getMonth()+1)}${p5(l.getDate())}`;return{...e,birthDay:u,calendarType:"solar"}}catch{return e}return e}const _m={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Sm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Su={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Sb={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},xje=["","","","",""];function g5(e){return xje.includes(e)}const MF={:"",:"",:"",:"",:""},DF={:"",:"",:"",:"",:""},PF={:"",:"",:"",:"",:""},RF={:"",:"",:"",:"",:""};function wE(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(_m[t])return _m[t];if(["","","","","","","","","","","",""].includes(t))return Sb[t]??null;if(Sm[t])return Sb[Sm[t]]??null;const n=t.charAt(0);return _m[n]?_m[n]:["","","","","","","","","",""].includes(n)?n:Sm[n]?Sb[Sm[n]]??null:["","","","","","","","","","","",""].includes(n)?Sb[n]??null:null}function wje(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=wE(n);i&&(t[i]=(t[i]??0)+r)}return t}function _je(e){if(!e)return[];const t=wE(e.charAt(0)),n=wE(e.charAt(1));return[t,n].filter(Boolean)}function kb(e){const t=_je(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Sje(e,t){const n=Su[e],r=Su[t];if(!n||!r)return"";let i;r===n?i="":r===MF[n]?i="":r===DF[n]?i="":r===PF[n]?i="":r===RF[n]?i="":i="";const a=g5(e)===g5(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function LF(e,t){return t===e?"":t===MF[e]?"":t===DF[e]?"":t===PF[e]?"":t===RF[e]?"":""}function IF(e){const t=Object.entries(e),n=t.reduce((d,[,h])=>d+(h>0?h:0),0);if(n<=0)return Object.fromEntries(t.map(([d])=>[d,0]));const r=t.map(([d,h])=>[d,(h>0?h:0)*100/n]),i=r.map(([d,h])=>[d,Math.floor(h)]);let a=i.reduce((d,[,h])=>d+h,0);const o=r.map(([d,h])=>[d,h-Math.floor(h)]).sort((d,h)=>h[1]-d[1]),l=Object.fromEntries(i.map(([d,h])=>[d,h]));let u=0;for(;a<100&&u<o.length;)l[o[u][0]]+=1,a+=1,u+=1;return l}const kje={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"()",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"(  )",keywords:""},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"   ",keywords:" "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""}},Eje=e=>{if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=_m[t]??t,i=Sm[n]??n;return`${r}${i}`},NA=e=>{const t=Eje(e),n=kje[t];return n?{...n,code:t}:null};function $F(e,t){const n=vje(e),r=n.birthDay??"",i=r.slice(0,4),a=r.slice(4,6),o=r.slice(6,8);let l="";if(n.corrected instanceof Date&&!Number.isNaN(n.corrected.getTime())){const u=String(n.corrected.getHours()).padStart(2,"0"),d=String(n.corrected.getMinutes()).padStart(2,"0");l=t?"":`${u}:${d}`}return`${i} ${a} ${o}  ${l}`}function Tje(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Su[n];i&&(t[i]+=r)}return t}function jje(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=Sje(t,r);n[a]+=i}return n}function Aje(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const Nje={natal:50,dae:30,se:20,wol:7,il:3};function Oje(e){const t={};for(const{kind:r,bare:i}of e){const a=Nje[r]??0;if(a<=0)continue;const o=IF(i);for(const[l,u]of Object.entries(o))t[l]=(t[l]??0)+u*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function BF(e,t,n){const r=wje(e.perStemElementScaled),i=t!==""&&n?.dae?kb(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?kb(n.se):{},o=(t===""||t==="")&&n?.wol?kb(n.wol):{},l=t===""&&n?.il?kb(n.il):{},u=Oje([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:o},{kind:"il",bare:l}]),d=IF(u),h=Tje(d),p=jje(d,e.dayStem),b=Aje(p);return{perStemAugBare:d,elementPercent:h,totalsSub:p,totalsMain:b}}function zF(e){return!e.birthTime||e.birthTime===""}function UF(e,t){return t[3]?["","","",""]:["","",""]}function Cje(e,t){return e.map((n,r)=>t[r]??"")}const Mje=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function vv(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>vv(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(Mje(e)){const t={};for(const[n,r]of Object.entries(e)){const i=vv(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}function Dje(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):""}function Pje(e,t){const n=vv(e);if(n===void 0)return"";const r=Dje(n);if(r!=="")return r;const i=JSON.stringify(n,null,2);return t==="plain"?i:["```json",i,"```"].join(`
`)}function FF(e,t,n){const r=Pje(t,n);return r.trim()?`## ${e}
${r}`:""}const Xn=(e,t)=>FF(e,t,"plain"),Yr=(e,t)=>FF(e,t,"fenced"),Rje=(e,t)=>{if(!e)return{};const n=t,r=l=>{if(!l)return;const u={};for(const[d,h]of Object.entries(l)){if(!Array.isArray(h))continue;const p=h.filter(b=>typeof b=="string"&&b.includes(n));p.length>0&&(u[d]=p)}return Object.keys(u).length>0?u:void 0},i=r(e.good),a=r(e.bad),o={};return i&&(o.good=i),a&&(o.bad=a),o},Lje=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(o=>typeof o=="string"&&o.includes(t))));a.length>0&&(n[r]=a)}return n};function _E(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[`${n}(${LF(t,n)})`,r]))}function Ije(e){const{tab:t,natal:n,posLabels:r,chain:i}=e,a=[];for(let l=0;l<r.length;l++){const u=n[l]??"";u&&a.push({kind:"natal",pos:r[l],gz:u})}if(t===""||!i)return a;const o=[...a];return i.dae&&o.push({kind:"luck",pos:"",gz:i.dae}),(t===""||t===""||t==="")&&i.se&&o.push({kind:"luck",pos:"",gz:i.se}),(t===""||t==="")&&i.wol&&o.push({kind:"luck",pos:"",gz:i.wol}),t===""&&i.il&&o.push({kind:"luck",pos:"",gz:i.il}),o}function $je(e,t){if(!t)return"()";const n=[];return(e===""||e===""||e===""||e==="")&&t.dae&&n.push(`:${Ie(t.dae)}`),(e===""||e===""||e==="")&&t.se&&n.push(`:${Ie(t.se)}`),(e===""||e==="")&&t.wol&&n.push(`:${Ie(t.wol)}`),e===""&&t.il&&n.push(`:${Ie(t.il)}`),n.length>0?n.join(" / "):"()"}function HF(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:o,percent:l,category:u,topic:d,subTopic:h,relationMode:p,teacherMode:b,sections:y}=e,k=y?.tenGod??!0,w=y?.twelveUnseong??!0,S=y?.twelveShinsal??!0,j=y?.shinsal??!0,O=y?.nabeum??!0,A=zF(t),C=Ie(n[3]??""),D=!!C,P=[Ie(n[0]??""),Ie(n[1]??""),Ie(n[2]??""),C],$=OF(t).slice(0,10),U=Ll({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),W=tf({natal:P,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:Y,shinsalGaehwa:F,shinsalBase:z}=NF.getState(),K=z===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",Z=BF(o,a,r),X=Z.elementPercent,q=Z.totalsSub,{flags:J}=w7(P,o.elementScoreRaw),ee=`${u} (${l.toFixed(1)}%)  ${[` ${J..||J..||J..||J..?"":""}`,` ${J..||J..||J..||J..?"":""}`,` ${J..||J..?"":""}`].join(", ")}`,le=UF(t,P),ae=o.dayStem,B=Su[ae]??Su[o.dayStem]??"",V=[` : ${t.name??""} (${$F(t,A)}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(D?` ${P[3]}`:""),`: ${$je(a,r)}`].join(`
`),ne=[];ne.push(Yr("  (10)",$)),ne.push(Yr("",ee)),ne.push(Yr("(  )",_E(o.natalFixed.elementPercent100,B))),a!==""&&ne.push(Yr(`(=${a})`,_E(X,B))),k&&(ne.push(Yr(" ( 10 100)",o.natalFixed.totalsSub)),a!==""&&ne.push(Yr(` ( 10=${a} 100)`,q)));const oe=Ije({tab:a,natal:P,posLabels:le,chain:r});if(w){const re=oe.map(({pos:Ee,gz:_e})=>({pos:Ee,gz:_e,unseong:Fo(P[2]?.charAt(0)??"",_e.charAt(1))}));ne.push(Yr("(+ )",re))}if(S){const re=oe.map(({pos:Ee,gz:_e})=>({pos:Ee,gz:_e,shinsal:Ho({baseBranch:K,targetBranch:_e.charAt(1),era:Y,gaehwa:F})}));ne.push(Yr("(+  )",re))}if(O){const re=[];for(const Ee of oe){const _e=NA(Ee.gz);if(!_e){Ee.kind==="natal"&&re.push({pos:Ee.pos,gz:Ee.gz,nabeum:null});continue}re.push({pos:Ee.pos,gz:Ee.gz,nabeum:_e.name,element:_e.element,code:_e.code})}ne.push(Yr("(+ )",re))}if(ne.push(Yr("()",Yv(le.map((re,Ee)=>P[Ee]??"")))),ne.push(Yr("( :  )",U)),j)if(a===""){const re=tf({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ne.push(Yr("( )",{good:re.good,bad:re.bad,meta:re.meta}))}else ne.push(Yr(`( =${a})`,W));const fe=ne.filter(re=>re&&re.trim().length>0).join(`

`),ye=CF({topic:d,subTopic:h,timeMode:"single",tab:a,relationMode:p,teacherMode:b}),pe=["-----","  ","","1.       (////)  .","2.  ,        ."];ye&&pe.push("","  ( )",ye);const Ae=pe.join(`
`);return{header:V,body:fe,guide:Ae}}function Bje(e){const{header:t,body:n,guide:r}=HF(e);return[t,n,r].join(`

`)}function Do(e){const{scope:t,infoText:n,gz:r,chain:i,natal:a,relationArgs:o,basis:l,unified:u,dayEl:d,baseDayStem:h,show:p,shinsalSettings:b,harmonyMode:y="scope",includeBasicInfo:k=!0}=e,w=BF(u,t,i),S=Ll({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon}),j=p.shinsal?tf({natal:a,daewoon:o.daewoon,sewoon:o.sewoon,wolwoon:o.wolwoon,ilwoon:o.ilwoon,basis:l}):null,O=p.nabeum?NA(r):null,A=p.twelveUnseong?Fo(h,r.charAt(1)):null,C=p.twelveShinsal?Ho({baseBranch:b.baseBranch,targetBranch:r.charAt(1),era:b.era,gaehwa:b.gaehwa}):null,D=y==="full"?S:Lje(S,t);return{...k?{:n,:r}:{},:_E(w.elementPercent,d),...p.tenGod?{:w.totalsSub}:{},:D,...p.shinsal?{:Rje(j,t)}:{},...p.nabeum?{:O?{gz:r,nabeum:O.name,element:O.element,code:O.code}:null}:{},...p.twelveUnseong?{:{pos:t,gz:r,unseong:A}}:{},...p.twelveShinsal?{:{pos:t,gz:r,shinsal:C}}:{}}}function zje(e){const{selectedDaeList:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(n.length===0||t.length===0)return[];const h=[];for(const p of t){const b={dae:p.gz,se:null,wol:null,il:null},y=Do({scope:"",infoText:`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,gz:p.gz,chain:b,natal:r,relationArgs:{daewoon:p.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"full",includeBasicInfo:!1});h.push(Xn(`${p.age} ${p.gz} (${p.startYear}~${p.endYear})`,y))}return h.filter(p=>p.trim().length>0)}function OA(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function GF(e,t){const n=e[t],r=e[t+1];return r?OA(r):new Date(n.endYear+1,0,1)}function qF(e,t,n,r){return e<r&&t>n}function YF(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=OA(l),d=GF(e,o);qF(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function KF(e,t){return YF(e,t,t)}function xv(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let o=0;o<e.length;o++){const l=e[o],u=OA(l),d=GF(e,o);qF(u,d,r,i)&&(a.some(h=>h.gz===l.gz&&h.startYear===l.startYear)||a.push(l))}return a}function SE(e,t){if(!Number.isInteger(t)||t<1||t>12)throw new RangeError(`findSeForMonthPairs: month must be 1..12, got ${t}`);const n=new Date(e,t-1,1,0,0,0,0),r=new Date(e,t,1,0,0,0,0),i=jn(e,315),a=[],o=u=>{const d=lt(new Date(u,5,15,12,0,0,0)),h=Ie(d||"");h&&(a.some(p=>p.useYear===u&&p.gz===h)||a.push({useYear:u,gz:h}))};return n<i&&i<r?(o(e-1),o(e)):r<=i?o(e-1):o(e),a}function Uje(e){const{seYears:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=Array.from(new Set(t)).sort((w,S)=>w-S),p=[],b=h[0],y=h[h.length-1],k=YF(n,b,y);if(k.length>0){const w=b,S=lt(new Date(w,5,15,12,0,0)),j=Ie(S||""),O={:k.map(A=>{const C={dae:A.gz,se:j||null,wol:null,il:null};return Do({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:j||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};p.push(Xn("",O))}for(const w of h){const S=new Date(w,5,15,12,0,0),j=lt(S),O=KF(n,w),A=O.length>0?O[0]:null,C=Ie(j||""),D=w,P={dae:A?A.gz:null,se:C||null,wol:null,il:null},$=Do({scope:"",infoText:`${D} ${C}`,gz:C,chain:P,natal:r,relationArgs:{daewoon:A?.gz,sewoon:C||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Xn(` ${D}`,{:$}))}return p.filter(w=>w.trim().length>0)}function dk(e){return String(e).padStart(2,"0")}function Fje(e,t){const n=new Date(e,t-1,1,12,0,0,0),r=new Date(e,t,1,12,0,0,0),i=jn(e,315),a=SE(e,t);if(!(n<i&&i<r)){const k=a[a.length-1]??(()=>{const w=Ie(lt(new Date(e,5,15,12,0,0,0))||"");return{useYear:e,gz:w}})();return[{label:`${e}-${dk(t)}`,repDate:new Date(e,t-1,15,12,0,0,0),se:k}]}const l=1440*60*1e3,u=new Date(i.getTime()-l);u.setHours(12,0,0,0);const d=new Date(i.getTime()+l);d.setHours(12,0,0,0);const h=a.find(k=>k.useYear===e-1)??a[0],p=a.find(k=>k.useYear===e)??a[a.length-1],b=h??{useYear:e-1,gz:Ie(lt(new Date(e-1,5,15,12,0,0,0))||"")},y=p??{useYear:e,gz:Ie(lt(new Date(e,5,15,12,0,0,0))||"")};return[{label:`${e}-${dk(t)}()`,repDate:u,se:b},{label:`${e}-${dk(t)}()`,repDate:d,se:y}]}function Hje(e){const{wolMonths:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d}=e;if(t.length===0)return[];const h=[],p=[],b=new Map;for(const O of t){const[A,C]=O.split("-").map(Number),D=xv(n,A,C);for(const $ of D)p.some(U=>U.gz===$.gz&&U.startYear===$.startYear)||p.push($);const P=SE(A,C);for(const $ of P){const U=`${$.useYear}:${$.gz}`;b.has(U)||b.set(U,{year:$.useYear,month:C,gz:$.gz})}}const[y,k]=t[0].split("-").map(Number),w=SE(y,k),S=w[w.length-1]?.gz??Ie(lt(new Date(y,5,15,12,0,0,0))||"");if(p.length>0){const O={:p.map(A=>{const C={dae:A.gz,se:S||null,wol:null,il:null};return Do({scope:"",infoText:`${A.age} ${A.gz} (${A.startYear}~${A.endYear})`,gz:A.gz,chain:C,natal:r,relationArgs:{daewoon:A.gz,sewoon:S||void 0,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Xn("",O))}const j=Array.from(b.keys()).sort((O,A)=>{const C=Number(O.split(":")[0]),D=Number(A.split(":")[0]);return C-D});if(j.length>0){const O={:j.map(A=>{const C=b.get(A),D=C.year,P=C.gz,U=KF(n,D)[0]??p[0]??null,W={dae:U?U.gz:null,se:P,wol:null,il:null};return Do({scope:"",infoText:`${D} ${P}`,gz:P,chain:W,natal:r,relationArgs:{daewoon:U?.gz,sewoon:P,wolwoon:void 0,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})})};h.push(Xn("",O))}for(const O of t){const[A,C]=O.split("-").map(Number),D=xv(n,A,C),P=D.length>0?D[0]:null,U=Fje(A,C).map(W=>{const Y=St(W.repDate),F=Ie(Y||""),z={dae:P?P.gz:null,se:W.se.gz||null,wol:F,il:null};return Do({scope:"",infoText:`${W.label} ${F}  ${W.se.useYear} ${W.se.gz}`,gz:F,chain:z,natal:r,relationArgs:{daewoon:P?.gz,sewoon:W.se.gz||void 0,wolwoon:F,ilwoon:void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});h.push(Xn(` ${O}`,{:U}))}return h.filter(O=>O.trim().length>0)}function fk(e){const t=e.getFullYear(),n=jn(t,315),r=e<n?t-1:t,i=lt(new Date(r,5,15,12,0,0,0)),a=Ie(i||"");return{useYear:r,gz:a}}function Gje(e){const{ilDays:t,daeList:n,natal:r,basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,dayBoundaryRule:h}=e;if(t.length===0)return[];const p=[],[b,y,k]=t[0].split("-").map(Number),w=new Date(b,y-1,k,4,0),S=new Date(b,y-1,k,12,0);if(!Number.isNaN(w.getTime())){const j=xv(n,b,y),O=j.length>0?j[0]:null,A=[];for(const Y of t){const[F,z,K]=Y.split("-").map(Number),Z=new Date(F,z-1,K,12,0),X=new Date(F,z-1,K,4,0);if(Number.isNaN(Z.getTime())||Number.isNaN(X.getTime()))continue;const q=fk(Z),J=Ie(St(Z)||""),ee=Ie(mt(X,h)||""),le=`${q.useYear}|${q.gz}|${J}`;A.some(ae=>ae.key===le)||A.push({key:le,repDateStr:Y,seYear:q.useYear,seGZ:q.gz,wolGZ:J,ilGZ:ee})}const C=Ie(mt(w,h)||""),D=Ie(St(S)||""),P=fk(S),$=A.length>0?A:[{key:`${P.useYear}|${P.gz}|${D}`,repDateStr:t[0],seYear:P.useYear,seGZ:P.gz,wolGZ:D,ilGZ:C}];if(O){const Y=$[$.length-1],F={dae:O.gz,se:Y.seGZ,wol:Y.wolGZ,il:Y.ilGZ},z=Do({scope:"",infoText:`${O.age} ${O.gz} (${O.startYear}~${O.endYear})`,gz:O.gz,chain:F,natal:r,relationArgs:{daewoon:O.gz,sewoon:Y.seGZ,wolwoon:Y.wolGZ,ilwoon:Y.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Xn("",z))}const U=$.filter(Y=>Y.seGZ.trim().length>0).map(Y=>{const F={dae:O?O.gz:null,se:Y.seGZ,wol:Y.wolGZ,il:Y.ilGZ};return Do({scope:"",infoText:`${Y.seYear} ${Y.seGZ} (${Y.repDateStr} )`,gz:Y.seGZ,chain:F,natal:r,relationArgs:{daewoon:O?.gz,sewoon:Y.seGZ,wolwoon:Y.wolGZ,ilwoon:Y.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});U.length>0&&p.push(Xn("",{:U}));const W=$.filter(Y=>Y.wolGZ.trim().length>0).map(Y=>{const F={dae:O?O.gz:null,se:Y.seGZ,wol:Y.wolGZ,il:Y.ilGZ};return Do({scope:"",infoText:`${Y.repDateStr} ${Y.wolGZ}`,gz:Y.wolGZ,chain:F,natal:r,relationArgs:{daewoon:O?.gz,sewoon:Y.seGZ,wolwoon:Y.wolGZ,ilwoon:Y.ilGZ},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0})});W.length>0&&p.push(Xn("",{:W}))}for(const j of t){const[O,A,C]=j.split("-").map(Number),D=new Date(O,A-1,C,4,0),P=new Date(O,A-1,C,12,0);if(Number.isNaN(D.getTime())||Number.isNaN(P.getTime()))continue;const $=xv(n,O,A),U=$.length>0?$[0]:null,Y=fk(P).gz,F=St(P),z=Ie(F||""),K=mt(D,h),Z=Ie(K||""),X={dae:U?U.gz:null,se:Y||null,wol:z,il:Z},q=Do({scope:"",infoText:`${j} ${Z}`,gz:Z,chain:X,natal:r,relationArgs:{daewoon:U?.gz,sewoon:Y||void 0,wolwoon:z||void 0,ilwoon:Z||void 0},basis:i,unified:a,dayEl:o,baseDayStem:l,show:u,shinsalSettings:d,harmonyMode:"scope",includeBasicInfo:!0});p.push(Xn(` ${j}`,{:q}))}return p.filter(j=>j.trim().length>0)}function WF(e){const{ms:t,natal:n,basis:r,includeTenGod:i,unified:a,percent:o,category:l,selectedDaeList:u,daeList:d,seYears:h,wolMonths:p,ilDays:b,topic:y,subTopic:k,timeMode:w,teacherMode:S,sections:j}=e,O=zF(t),A=Ie(n[3]??""),C=!!A,D=t.mingSikType??"/",P=[Ie(n[0]??""),Ie(n[1]??""),Ie(n[2]??""),A],$=UF(t,P),U=P[2]?.charAt(0)??"",W=Su[U]??Su[a.dayStem]??"",Y=!!i&&(j?.tenGod??!0),F=j?.twelveUnseong??!0,z=j?.twelveShinsal??!0,K=j?.shinsal??!0,Z=j?.nabeum??!0,{shinsalBase:X,shinsalEra:q,shinsalGaehwa:J}=NF.getState(),ee=X===""?P[0]?.charAt(1)??"":P[2]?.charAt(1)??"",le=$F(t,O),ae=[` : ${t.name??""} (${le}) : ${t.gender}`,` ${P[0]} ${P[1]} ${P[2]}`+(C?` ${P[3]}`:"")].join(`
`),B=[],{flags:V}=w7(P,a.elementScoreRaw),ne=`${l} (${o.toFixed(1)}%)  ${[` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`,` ${V..||V..||V..||V..?"":""}`].join("  ")}`;if(B.push(Xn("",ne)),B.push(Xn("()",Object.fromEntries(Object.entries(a.natalFixed.elementPercent100).map(([pe,Ae])=>[`${pe}(${LF(W,pe)})`,Ae])))),Y&&B.push(Xn(" ( 10 100)",a.natalFixed.totalsSub)),F){const pe=Object.fromEntries($.map((Ae,re)=>[Ae,Fo(U,(P[re]??"").charAt(1))]));B.push(Xn("()",pe))}if(z){const pe=Object.fromEntries($.map((Ae,re)=>[Ae,Ho({baseBranch:ee,targetBranch:(P[re]??"").charAt(1),era:q,gaehwa:J})]));B.push(Xn("()",pe))}B.push(Xn("//",V));const oe=Yv(Cje($,P));if(B.push(Xn("()",oe)),K){const pe=tf({natal:P,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});B.push(Xn("()",pe))}if(Z){const pe=Object.fromEntries($.map((Ae,re)=>{const Ee=P[re]??"",_e=NA(Ee);return[Ae,_e?{gz:Ee,nabeum:_e.name,element:_e.element,code:_e.code}:null]}));B.push(Xn("()",pe))}d.length>0&&u.length>0&&B.push(...zje({selectedDaeList:u,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:Y,twelveUnseong:F,twelveShinsal:z,shinsal:K,nabeum:Z},shinsalSettings:{baseBranch:ee,era:q,gaehwa:J}})),h.length>0&&B.push(...Uje({seYears:h,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:Y,twelveUnseong:F,twelveShinsal:z,shinsal:K,nabeum:Z},shinsalSettings:{baseBranch:ee,era:q,gaehwa:J}})),p.length>0&&B.push(...Hje({wolMonths:p,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:Y,twelveUnseong:F,twelveShinsal:z,shinsal:K,nabeum:Z},shinsalSettings:{baseBranch:ee,era:q,gaehwa:J}})),b.length>0&&B.push(...Gje({ilDays:b,daeList:d,natal:P,basis:r,unified:a,dayEl:W,baseDayStem:U,show:{tenGod:Y,twelveUnseong:F,twelveShinsal:z,shinsal:K,nabeum:Z},shinsalSettings:{baseBranch:ee,era:q,gaehwa:J},dayBoundaryRule:D}));const fe=CF({topic:y,subTopic:k,timeMode:w,teacherMode:S}),ye=(vv(B.join(`

`))??"").toString();return{header:ae,body:ye,guide:fe}}function qje(e){const{header:t,body:n,guide:r}=WF(e);return[t,"",n,"",r].join(`
`)}function CA(e){if(!e)return null;const t=e.name||"";let n="";if(e.birthDay&&e.birthDay.length===8){const o=e.birthDay.slice(0,4),l=e.birthDay.slice(4,6),u=e.birthDay.slice(6,8);n=`${o}-${l}-${u}`}else e.birthDay&&(n=e.birthDay);let r="";if(e.birthTime&&e.birthTime.trim().length>0){const l=e.birthTime.trim().padEnd(4,"0").slice(0,4),u=l.slice(0,2),d=l.slice(2,4);r=`${u}:${d}`}let i="";e.birthPlace&&typeof e.birthPlace=="object"&&(i=e.birthPlace.name||"");const a=e.ganji||e.ganjiText||"";return{name:t,birthDate:n,birthTime:r,birthPlace:i,ganjiText:a}}function Yje(e){const{header:t,body:n}=HF(e),r=e.relationMode==="couple"?CA(e.partnerMs??null):null,i=r?Yr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function Kje(e){const{header:t,body:n}=WF(e),r=e.relationMode==="couple"?CA(e.partnerMs??null):null,i=r?Yr("  ",r):"";return[t,n,i].filter(a=>a&&a.trim().length>0).join(`

`)}function Wje(e){const t=(e??"").trim();if(!t)return"";const n=[/\r?\n-----\s*\r?\n/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/,/\r?\n##\s*\s*/,/\r?\n##\s*/,/\r?\n?###\s*/,/\r?\n?\s*\s*/,/\r?\n?\s*\s*/];let r=-1;for(const i of n){const a=t.search(i);a>=0&&(r=r<0?a:Math.min(r,a))}return r>=0?t.slice(0,r).trimEnd():t}function Vje(e){switch(e){case"analysis":return`   ,   .
`;case"mentor":return`     .
`;case"dryHumor":return`    .
`;case"softWarm":return`    .
`;default:return""}}function Zje(e){return e?`    .
`:""}function Xje(e,t){if(e!=="couple")return"";const n=CA(t);return n?["","","[  -   ]","",`-  : ${n.name}`,`-  : ${n.birthDate}`,`-  : ${n.birthTime}`,`-  : ${n.birthPlace}`,`- ${n.ganjiText}`,"","   /  ,","      .",""].join(`
`):""}function Wd(e){return Ie(e)}function Jje(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function b5(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{const i=Ie(n??"");return i||(r<=2?"--":"")})}function Qje(e,t,n){if(e)return{dae:e.dae??null,se:e.se??null,wol:e.wol??null,il:e.il??null};const r=Wd(lt(t)||""),i=Wd(St(t)||""),a=Wd(mt(t,n)||"");return{dae:null,se:r||null,wol:i||null,il:a||null}}function eAe(e,t){const n=b5(e),r=b5(t);return{solarKo:n,lunarKo:r}}function kE(e,t,n){const r=[...e];return n&&(!r[3]||r[3]===""||r[3]==="--")&&t&&(r[3]=t.stem+t.branch),r}function tAe(e,t,n){return e?"solar":t?"lunar":"solar"}function nAe(e,t,n,r,i,a,o,l){return kE(e==="lunar"?n?i:t?r:a??["","","",""]:t?r:n?i:a??["","","",""],o,l)}function rAe(e,t){const n=Number(e.birthDay?.slice(0,4)),r=Number(e.birthDay?.slice(4,6)),i=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(n)||!Number.isFinite(r)||!Number.isFinite(i))return null;const a=new Date(n,r-1,i,12,4,0,0),o=Wd(lt(a)||""),l=Wd(St(a)||""),u=Wd(mt(a,t)||"");return[o,l,u,""]}function iAe(e,t){return t&&e?e.stem+e.branch:""}function aAe(e,t,n){const i=[...AA(e)];return n&&t&&t.length===2&&(i[3]=t),i}function oAe(e){const t=E7(e,{criteriaMode:"modern",useHarmonyOverlay:!0}),n=qT(t);return{percent:n,category:r7(n)}}function sAe(e){const t=OF(e).slice(0,10),n=e.birthDay?Number(e.birthDay.slice(0,4)):0;return t.map((r,i)=>{const a=r.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),o=a?Number(a[1]):0,l=a?Number(a[2]):1,u=1,d=a?a[3]:"",h=n>0?uAe(n,o):i*10;return{gz:d,age:h,startYear:o,startMonth:l,startDay:u,endYear:o+10}})}function lAe(e,t){return e.filter(n=>n.id!==t).map(n=>{const r=(n.name??"").trim()||" ",i=n.birthDay?n.birthDay:"",a=i?`${r} (${i})`:r;return{id:n.id,label:a}})}function cAe(e,t){if(!e)return"";if(t.length===0)return e;const n=["","-----","     ","",...t.map((r,i)=>`${i+1}. ${r}`)];return`${e}
${n.join(`
`)}`}function y5(e){return Jje(e)}function uAe(e,t){return t-e+1}function dAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1,canUseMultiMode:o,canUseLuckTabs:l,input:u}){const{tone:d,friendMode:h,teacherMode:p,partnerId:b,mainCategory:y,subCategory:k,relationMode:w,activeTab:S,isMultiMode:j,multiTab:O,selectedDaeIdx:A,rangeControls:C,extraQuestions:D,sections:P}=u,$=yn(It=>It.list),{date:U,setDate:W}=Jr();_.useEffect(()=>{W(new Date)},[e.id,W]);const Y=_.useMemo(()=>b?$.find(It=>It.id===b)??null:null,[b,$]),F=e.mingSikType??"/",z=_.useMemo(()=>U??new Date,[U]),K=_.useMemo(()=>Qje(r,z,F),[r,z,F]),Z=_.useMemo(()=>l?K:{dae:null,se:null,wol:null,il:null},[l,K]),X=gp(It=>It.manualHour),q=!e.birthTime||e.birthTime===""||!/^\d{4}$/.test(e.birthTime??""),{solarKo:J,lunarKo:ee}=_.useMemo(()=>eAe(t,n),[t,n]),le=_.useMemo(()=>kE(J,X,q),[J,X,q]),ae=_.useMemo(()=>kE(ee,X,q),[ee,X,q]),B=_.useMemo(()=>rAe(e,F),[e,F]),V=y5(le),ne=y5(ae),oe=tAe(V,ne),fe=_.useMemo(()=>nAe(oe,V,ne,le,ae,B,X,q),[oe,V,ne,le,ae,B,X,q]),ye=_.useMemo(()=>q&&X?X.stem+X.branch:fe[3]||"",[X,fe,q]),pe=iAe(X,q),Ae=_.useMemo(()=>aAe(e,pe,q),[e,pe,q]),re=l?S:"",Ee=y==="love"||y==="compat",se=Ee&&w==="couple"?Y??null:null,Ue=Ee?w:void 0,Fe=_.useMemo(()=>Xv({natal:Ae,tab:re,chain:Z,hourKey:ye}),[Ae,re,Z,ye]),{percent:Ce,category:Pe}=_.useMemo(()=>oAe(Ae),[Ae]),Ge=_.useMemo(()=>sAe(e),[e]),Ne=_.useMemo(()=>lAe($??[],e.id),[$,e.id]),De=_.useMemo(()=>A.map(It=>Ge[It]).filter(It=>!!It),[A,Ge]),Be=_.useMemo(()=>O===""?C.seYearsList:[],[O,C.seYearsList]),st=_.useMemo(()=>O===""?C.wolMonthsList:[],[O,C.wolMonthsList]),ce=_.useMemo(()=>O===""?C.ilDaysList:[],[O,C.ilDaysList]),Oe=_.useMemo(()=>e?Bje({ms:e,natal:Ae,chain:Z,basis:i,tab:re,unified:Fe,percent:Ce,category:Pe,topic:y,subTopic:k,relationMode:w,teacherMode:p,sections:P}):"",[e,i,a,re,Z,Fe,Ce,Pe,Ae,y,k,w,se,p,P]),ze=_.useMemo(()=>!e||!j||!o?"":qje({ms:e,natal:Ae,basis:i,includeTenGod:a,unified:Fe,percent:Ce,category:Pe,selectedDaeList:De,daeList:Ge,seYears:Be,wolMonths:st,ilDays:ce,topic:y,subTopic:k,timeMode:"multi",teacherMode:p,sections:P}),[e,j,o,Be,De,Ge,st,ce,Ae,i,a,Fe,Ce,Pe,y,k,Ue,se,p,h,P]),it=_.useMemo(()=>Xje(w,Y),[w,Y]),Et=j?ze:Oe,pt=_.useMemo(()=>Vje(d),[d]),Jt=_.useMemo(()=>Zje(h),[h]),Br=_.useMemo(()=>Et||it?`${Et}${it}
${pt}${Jt}`:"",[pt,Jt,Et,it]),zr=_.useMemo(()=>cAe(Br,D),[Br,D]),Zi=_.useMemo(()=>e?j?Kje({ms:e,natal:Ae,basis:i,includeTenGod:a,unified:Fe,percent:Ce,category:Pe,selectedDaeList:De,daeList:Ge,seYears:Be,wolMonths:st,ilDays:ce,topic:y,subTopic:k,timeMode:"multi",relationMode:Ue,partnerMs:se,teacherMode:p,sections:P}):Yje({ms:e,natal:Ae,chain:Z,basis:i,tab:re,unified:Fe,percent:Ce,category:Pe,topic:y,subTopic:k,relationMode:w,partnerMs:se,teacherMode:p,sections:P}):"",[e,j,Ae,i,a,Fe,Ce,Pe,De,Ge,Be,st,ce,y,k,w,Ue,se,p,h,P,Z,re]),io=_.useMemo(()=>{const It=Zi.trim();if(It)return It;const an=Wje(Et).trim();return an||Et.trim()},[Zi,Et]);return{date:U,setDate:W,partnerMs:Y,partnerOptions:Ne,daeList:Ge,tabForLogic:re,baseText:Et,basePrompt:Br,finalText:zr,infoOnlyText:io,allowManualHour:q,activePillars:fe}}function v5(e,t=1200){const[n,r]=_.useState(!1),i=!!(e&&e.trim().length>0),a=_.useCallback(async()=>{if(i)try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),t)}catch{r(!1)}},[i,e,t]);return{copied:n,canCopy:i,onCopy:a}}function fAe(e,t){const{copied:n,canCopy:r,onCopy:i}=v5(e),{copied:a,canCopy:o,onCopy:l}=v5(t);return{copiedAll:n,copiedInfo:a,canCopyAll:r,canCopyInfo:o,onCopyAll:i,onCopyInfoOnly:l}}function hAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a=!1}){const o=yn(Y=>Y._rtUserId),u=oje()??o??null,d=dn(Y=>Y.loaded),h=dn(Y=>Y.userId),p=dn(Y=>Y.plan),b=_.useMemo(()=>vm(!u||!d||h!==u?"FREE":p??null),[u,d,h,p]),y=_.useMemo(()=>n2(b),[b]),k=y.canUseMultiMode,w=y.canUseLuckTabs,S=y.canUseAllPrompts?"full":"locked",j=cje({msId:e.id,canUseMultiMode:k,canUseLuckTabs:w}),O=dAe({ms:e,natal:t,lunarPillars:n,chain:r,basis:i,includeTenGod:a,canUseMultiMode:k,canUseLuckTabs:w,input:j}),{copiedAll:A,copiedInfo:C,canCopyAll:D,canCopyInfo:P,onCopyAll:$,onCopyInfoOnly:U}=fAe(O.finalText,O.infoOnlyText);function W(Y,F){j.setMainCategory(Y),j.setSubCategory(F?.[0]?.key??"overview")}return{sections:j.sections,toggleSection:j.toggleSection,tone:j.tone,setTone:j.setTone,friendMode:j.friendMode,setFriendMode:j.setFriendMode,teacherMode:j.teacherMode,setTeacherMode:j.setTeacherMode,date:O.date,setDate:O.setDate,planTier:b,promptAccess:S,canUseMultiMode:k,canUseLuckTabs:w,partnerId:j.partnerId,setPartnerId:j.setPartnerId,partnerMs:O.partnerMs,mainCategory:j.mainCategory,subCategory:j.subCategory,setSubCategory:j.setSubCategory,relationMode:j.relationMode,setRelationMode:j.setRelationMode,activeTab:j.activeTab,setActiveTab:j.setActiveTab,isMultiMode:j.isMultiMode,setIsMultiMode:j.setIsMultiMode,multiTab:j.multiTab,setMultiTab:j.setMultiTab,selectedDaeIdx:j.selectedDaeIdx,handleToggleDae:j.handleToggleDae,rangeControls:j.rangeControls,partnerOptions:O.partnerOptions,daeList:O.daeList,tabForLogic:O.tabForLogic,baseText:O.baseText,basePrompt:O.basePrompt,finalText:O.finalText,infoOnlyText:O.infoOnlyText,copiedAll:A,copiedInfo:C,canCopyAll:S==="full"&&D,canCopyInfo:S==="full"&&P,onCopyAll:$,onCopyInfoOnly:U,handleMainCategoryChange:W,setQuestionDraft:j.setQuestionDraft,questionDraft:j.questionDraft,extraQuestions:j.extraQuestions,setExtraQuestions:j.setExtraQuestions,handleAddQuestion:j.handleAddQuestion,handleRemoveQuestion:j.handleRemoveQuestion,handleClearQuestions:j.handleClearQuestions,allowManualHour:O.allowManualHour,activePillars:O.activePillars}}function mAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const o=hAe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a}),l=f5[o.mainCategory];if(!e)return g.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"  ."});const u=o.promptAccess!=="full",d=u?"    . ":void 0,h=!u&&o.canCopyInfo,p=!u&&o.canCopyAll;return g.jsxs("div",{className:"relative rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-2 desk:space-y-3",children:[u?g.jsx("div",{className:"absolute inset-0 z-10 rounded-xl bg-white/70 dark:bg-neutral-900/70 backdrop-blur-[1px] flex items-center justify-center p-4",children:g.jsxs("div",{className:"max-w-sm text-center border border-neutral-300 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-900 px-4 py-3 shadow-sm",children:[g.jsx("div",{className:"text-lg font-semibold",children:"  "}),g.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:["   /  .",g.jsx("br",{}),"    100   ! (  )"]})]})}):null,g.jsx(KTe,{}),g.jsx(WTe,{sections:o.sections,toggleSection:o.toggleSection}),g.jsx(VTe,{tone:o.tone,toneMeta:rje,setTone:o.setTone,friendMode:o.friendMode,setFriendMode:b=>o.setFriendMode(b.target.checked),teacherMode:o.teacherMode,setTeacherMode:b=>o.setTeacherMode(b.target.checked)}),g.jsx(ZTe,{mainCategory:o.mainCategory,subCategory:o.subCategory,mainCategoryMeta:aje,currentSubList:l,onMainCategoryChange:b=>o.handleMainCategoryChange(b,f5[b]),onSubCategoryChange:o.setSubCategory}),g.jsx(XTe,{visible:o.mainCategory==="love"||o.mainCategory==="compat",relationMode:o.relationMode,setRelationMode:o.setRelationMode,partnerId:o.partnerId,setPartnerId:o.setPartnerId,partnerOptions:o.partnerOptions}),g.jsx(JTe,{isMultiMode:o.canUseMultiMode?o.isMultiMode:!1,setIsMultiMode:b=>{!o.canUseMultiMode&&b||o.setIsMultiMode(b)},canUseMultiMode:o.canUseMultiMode}),o.isMultiMode?g.jsx(eje,{multiTab:o.multiTab,setMultiTab:o.setMultiTab,daeList:o.daeList.map(b=>({gz:b.gz,age:b.age,startYear:b.startYear,endYear:b.endYear})),selectedDaeIdx:o.selectedDaeIdx,onToggleDae:o.handleToggleDae,seStartYear:o.rangeControls.seStartYear,seEndYear:o.rangeControls.seEndYear,onSeStartChange:o.rangeControls.onSeStartChange,onSeEndChange:o.rangeControls.onSeEndChange,onSeStartBlur:o.rangeControls.onSeStartBlur,onSeEndBlur:o.rangeControls.onSeEndBlur,seYearsCount:o.rangeControls.seYearsCount,wolStartDate:o.rangeControls.wolStartYM,wolEndDate:o.rangeControls.wolEndYM,onWolStartChange:o.rangeControls.onWolStartChange,onWolEndChange:o.rangeControls.onWolEndChange,onWolStartBlur:o.rangeControls.onWolStartBlur,onWolEndBlur:o.rangeControls.onWolEndBlur,wolMonthsCount:o.rangeControls.wolMonthsCount,ilStartDate:o.rangeControls.ilStartDate,ilEndDate:o.rangeControls.ilEndDate,onIlStartChange:o.rangeControls.onIlStartChange,onIlEndChange:o.rangeControls.onIlEndChange,onIlStartBlur:o.rangeControls.onIlStartBlur,onIlEndBlur:o.rangeControls.onIlEndBlur,ilDaysCount:o.rangeControls.ilDaysCount}):g.jsx(QTe,{tabs:ije,activeTab:o.tabForLogic,setActiveTab:b=>{!o.canUseLuckTabs&&b!==""||o.setActiveTab(b)},date:o.date,setDate:o.setDate,canUseLuckTabs:o.canUseLuckTabs}),g.jsx(tje,{questionDraft:o.questionDraft,onChangeDraft:b=>o.setQuestionDraft(b.target.value),onAddQuestion:o.handleAddQuestion,extraQuestions:o.extraQuestions,onClearAll:o.handleClearQuestions,onRemoveQuestion:o.handleRemoveQuestion,locked:u,lockTitle:d}),g.jsx(nje,{value:o.finalText,lockSelection:u}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("div",{className:"flex gap-2 w-full desk:w-auto",children:[g.jsx("button",{type:"button",onClick:o.onCopyInfoOnly,disabled:!h,title:h?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap border",h?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedInfo?"bg-green-600 text-white border-green-600":h?"bg-orange-600 text-white dark:bg-orange-600":"bg-orange-600/70 text-white border-orange-600/50"].join(" "),children:o.copiedInfo?"":`  ${h?"":" "}`}),g.jsx("button",{type:"button",onClick:o.onCopyAll,disabled:!p,title:p?void 0:d,className:["w-full desk:w-auto px-3 py-1 rounded-md text-xs whitespace-nowrap",p?"cursor-pointer":"cursor-not-allowed opacity-50",o.copiedAll?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"].join(" "),children:o.copiedAll?"":`  ${p?"":" "}`})]})})]})}function pAe(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o]=_.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin"));return{userId:e,setUserId:t,authChecked:n,setAuthChecked:r,isLoggedIn:i,setIsLoggedIn:a,adminMode:o}}function gAe(){const e=yn(r=>r.loading),t=vn(r=>r.loaded),n=dn(r=>r.loaded);return{loading:e,settingsLoaded:t,entLoaded:n}}const x5="app_session_started_at_ms",bAe=7200*1e3;function yAe(){const e=sessionStorage.getItem(x5),t=e?Number(e):NaN;if(!Number.isFinite(t)||t<=0){const n=Date.now();return sessionStorage.setItem(x5,String(n)),n}return t}function vAe(e=Date.now()){const t=yAe();return Math.max(0,e-t)}function xAe(e,t=Date.now()){return vAe(t)>=e}async function wAe(e,t){const{data:n,error:r}=await Re.from("user_settings_kv").select("value").eq("user_id",e).eq("setting_key",t).maybeSingle();if(r)throw r;return n?.value??null}async function _Ae(e,t,n){const{error:r}=await Re.from("user_settings_kv").upsert({user_id:e,setting_key:t,value:n},{onConflict:"user_id,setting_key"});if(r)throw r}const SAe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function Ud(e){if(e===null)return"null";if(e===void 0)return"undefined";const t=typeof e;return t==="string"?JSON.stringify(e):t==="number"||t==="boolean"?String(e):Array.isArray(e)?`[${e.map(Ud).join(",")}]`:SAe(e)?`{${Object.keys(e).sort().map(i=>`${JSON.stringify(i)}:${Ud(e[i])}`).join(",")}}`:e instanceof Date?`{"$date":${JSON.stringify(e.toISOString())}}`:JSON.stringify(String(e))}function kAe(e,t){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)}}function EAe(e,t){const n=t.debounceMs??400;let r=!1,i=null,a=Ud(t.select(t.store.getState()));const o=kAe(async p=>{try{await _Ae(e,t.dbKey,p),a=Ud(p)}catch(b){console.error(`[settings] save failed key=${t.dbKey}`,b)}},n),l=p=>{r=!0;try{t.apply(p),a=Ud(p)}finally{r=!1}},u=p=>{t.validate&&!t.validate(p)||l(p)},d=async()=>{const p=await wAe(e,t.dbKey);p!==null&&u(p)};i=t.store.subscribe(p=>{if(r)return;const b=t.select(p);Ud(b)!==a&&o(b)});const h=()=>{i&&i(),i=null};return{dbKey:t.dbKey,loadFromDb:d,applyRemote:u,stop:h}}function TAe(e){if(typeof e!="object"||e===null)return!1;const t=e;return["twelveUnseong","twelveShinsal","shinsal","nabeum"].every(r=>typeof t[r]=="boolean")}function hk(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function jAe(e){_.useEffect(()=>{if(!e)return;const t=[];t.push(EAe(e,{dbKey:"promptCopy.sections",store:yv,select:o=>o.sections,apply:o=>yv.setState({sections:o}),validate:TAe,debounceMs:250})),Promise.all(t.map(o=>o.loadFromDb())).catch(o=>{console.error("[settings] initial load failed",o)});const n=[{table:"user_settings_kv",filterByUserId:!0}],r=new Map,i=(o,l,u)=>{const d=r.get(o);d&&window.clearTimeout(d);const h=window.setTimeout(()=>{r.delete(o),u()},l);r.set(o,h)},a=Re.channel(`app-sync:${e}`);for(const o of n)a.on("postgres_changes",{event:"*",schema:"public",table:o.table,...o.filterByUserId?{filter:`user_id=eq.${e}`}:{}},l=>{if(xAe(bAe)){window.location.reload();return}if(o.table==="user_settings_kv"){if(!hk(l))return;const u=l.new,d=l.old,h=w=>hk(w)&&typeof w.setting_key=="string"?w.setting_key:null,p=w=>hk(w)?w.value:null,b=h(u)??h(d);if(!b)return;const y=t.find(w=>w.dbKey===b);if(!y)return;const k=typeof l.eventType=="string"?l.eventType:"";if(k==="INSERT"||k==="UPDATE"){y.applyRemote(p(u));return}y.loadFromDb();return}if(o.onChange){const u=typeof o.debounceMs=="number"?o.debounceMs:0;u>0?i(o.table,u,()=>o.onChange?.(l)):o.onChange(l)}});return a.subscribe(),()=>{for(const o of t)o.stop();for(const[,o]of r)window.clearTimeout(o);r.clear(),Re.removeChannel(a)}},[e])}function AAe({setUserId:e,setIsLoggedIn:t,setAuthChecked:n}){_.useEffect(()=>{const r=Re;let i=!1,a=null;const o=h=>{const p=h?.user?.id??null;t(!!h),e(p)},l=h=>{o(h),i||(i=!0,n(!0))};(async()=>{const{data:h,error:p}=await r.auth.getSession();if(p){l(null);return}if(h.session){l(h.session);return}a=window.setTimeout(()=>l(null),1200)})();const{data:{subscription:d}}=r.auth.onAuthStateChange((h,p)=>{a!==null&&(window.clearTimeout(a),a=null),l(p),p||yn.getState().stopRealtime()});return()=>{a!==null&&window.clearTimeout(a),d.unsubscribe()}},[n,t,e])}function NAe(e){AAe({setUserId:e.setUserId,setIsLoggedIn:e.setIsLoggedIn,setAuthChecked:e.setAuthChecked}),jAe(e.userId)}function OAe(e){const[t,n]=_.useState(()=>e.length>0?e[0].id:""),[r,i]=_.useState(!1),[a,o]=_.useState(!1),[l,u]=_.useState(null),[d,h]=_.useState(!0),[p,b]=_.useState(!1),[y,k]=_.useState(!1);return{currentId:t,setCurrentId:n,wizardOpen:r,setWizardOpen:i,showSidebar:a,setShowSidebar:o,editing:l,setEditing:u,showToday:d,setShowToday:h,showCouple:p,setShowCouple:b,openCustom:y,setOpenCustom:k}}function CAe(e){const t=Jr(i=>i.date),n=Jr(i=>i.rule),r=Tu(e);return _.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Wv(r,t),a=i>=0?r[i]?.gz??null:null,o=lt(t),l=St(t),u=mt(t,n);return{dae:a,se:o,wol:l,il:u}},[e,r,t,n])}const MAe=e=>typeof e=="string"&&e.length>=2,DAe=e=>Array.isArray(e)&&e.length===4&&e.every(MAe);function PAe({list:e,currentId:t,settings:n,emptyMs:r}){const i=_.useMemo(()=>e.find(b=>b.id===t)??e[0],[e,t]),a=e.length>0&&!!i&&typeof i.birthDay=="string",o=a?i:r,l=_.useMemo(()=>AA(o),[o]),u=CAe(o),d=dn(b=>b.canAddMyeongsik(e.length).ok),h=n.sinsalBase===""?"day":"year",p=n.sinsalBase===""?"day":"year";return{current:i,hasCurrent:a,msForHooks:o,natal:l,chain:u,isValidPillars:DAe,canAdd:d,voidBasis:h,samjaeBasis:p}}function RAe({canAdd:e,hasCurrent:t,current:n,isLoggedIn:r,setWizardOpen:i,setOpenCustom:a,setShowSidebar:o,setShowToday:l,setShowCouple:u,setCurrentId:d,setEditing:h}){const{settings:p,saveToServer:b,loaded:y}=vn();_.useEffect(()=>{!r||!y||b()},[r,y,p,b]);const k=_.useCallback(()=>{if(!e){Dn.error("   1   .");return}i(!0)},[e,i]),w=_.useCallback(()=>{if(!e){Dn.error("   1   .");return}a(!0)},[e,a]),S=_.useCallback(D=>{d(D.id),o(!1),l(!1),u(!1);const P=new Date;P.setHours(12,0,0,0),Jr.getState().setDate(P),t&&n?.id===D.id&&(l(!1),u(!1),o(!1))},[n,t,d,o,l,u]),j=_.useCallback(D=>{h(D),d(D.id),o(!1),l(!1),u(!1)},[h,d,o,l,u]),O=_.useCallback(()=>{const D=yn.getState().list[0]?.id??"";d(D),l(!0),u(!1)},[d,l,u]),A=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1),requestAnimationFrame(()=>i(!1))},[d,l,u,o,i]),C=_.useCallback(D=>{d(D.id),l(!1),u(!1),o(!1)},[d,l,u,o]);return{openAdd:k,openCustomModal:w,handleSidebarView:S,handleSidebarEdit:j,handleSidebarDeleteView:O,handleWizardSave:A,handleCustomSave:C}}function LAe(){return g.jsx("div",{className:"pt-16 pb-24",children:g.jsxs("div",{className:"max-w-[640px] mx-auto px-4",children:[g.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(IB,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-200"}),g.jsx("h2",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"  "})]})}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.   ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.  ",g.jsx("b",{children:""})," ",g.jsx("b",{children:""}),"   .   ,    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:"*"}),"   ",g.jsx("b",{children:" "})," ",g.jsx("b",{children:"8*"}),"  ",g.jsx("b",{children:"    "}),"      ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:" "}),"     ."]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsxs("p",{children:["A.    . ",g.jsx("b",{children:"*"}),", ",g.jsx("b",{children:"8*"}),"    ."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsx("b",{children:""})," (  8   -  )   ."]}),g.jsxs("p",{className:"mt-2",children:["(    ,    ",g.jsx("b",{children:" "})," .)"]}),g.jsx("p",{className:"mt-2",children:" .    .    ,   ( )     ."})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.     ."}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.     .         ,       ."}),g.jsx("p",{className:"mt-2",children:"    ,      ."}),g.jsxs("p",{className:"mt-2",children:["(   ",g.jsx("b",{children:" "}),"  ^^)",g.jsx("br",{}),g.jsx("a",{href:"https://5seasons.co.kr/",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"   !"})})]})]})]}),g.jsxs("details",{className:"rounded-xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900/40",children:[g.jsx("summary",{className:"text-sm desk:text-base cursor-pointer select-none font-semibold text-neutral-900 dark:text-neutral-100",children:"Q.  ''   ?"}),g.jsxs("div",{className:"mt-3 text-xs desk:text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:[g.jsx("p",{children:"A.      ."}),g.jsx("p",{className:"mt-2",children:"          ^^"}),g.jsx("p",{className:"mt-2",children:g.jsx("a",{href:"https://yavares.tistory.com/345",target:"_blank",children:g.jsx("ins",{className:"text-amber-500",children:"  "})})})]})]})]})]})})}const VF="https://t1.daumcdn.net/kas/static/ba.min.js",IAe="//t1.daumcdn.net/kas/static/ba.min.js";let hm=null,mm=null;function ZF(){return typeof window<"u"&&typeof document<"u"}function w5(e){return typeof e=="object"&&e!==null}function XF(){if(!ZF())return!1;const e=window;if(!w5(e))return!1;const t=e.adfit;return w5(t)?typeof t.destroy=="function":!1}function JF(){return Array.from(document.querySelectorAll(`script[src="${VF}"], script[src="${IAe}"]`))}function QF(e){return e.getAttribute("data-adfit-scan")==="1"}function $Ae(){const t=JF().filter(n=>!QF(n));if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode?.removeChild(r)}}function _5(){return document.body??document.head??document.documentElement}function mk(e,t){return new Promise((n,r)=>{let i=!1;const a=()=>{e.removeEventListener("load",u),e.removeEventListener("error",d)},o=()=>{i||(i=!0,a(),n())},l=()=>{i||(i=!0,a(),r(new Error("AdFit script load failed")))},u=()=>o(),d=()=>l();e.addEventListener("load",u),e.addEventListener("error",d),window.setTimeout(()=>{XF(),o()},t)})}function S5(e){const t=document.createElement("script");return t.async=!0,t.type="text/javascript",t.charset="utf-8",t.src=VF,e?t.setAttribute("data-adfit-scan","1"):t.setAttribute("data-adfit-managed","1"),t}function EE(e){return ZF()?(e?.mode??"boot")==="boot"?hm||(hm=(async()=>{if($Ae(),XF())return{inserted:!1};const r=JF().filter(a=>!QF(a))[0];if(r)return await mk(r,2500),{inserted:!1};const i=S5(!1);return _5().appendChild(i),await mk(i,4e3),{inserted:!0}})().finally(()=>{hm=null}),hm):mm||(mm=(async()=>{const n=S5(!0);_5().appendChild(n);try{return await mk(n,4e3),{inserted:!0}}finally{n.parentNode?.removeChild(n)}})().finally(()=>{mm=null}),mm):Promise.resolve({inserted:!1})}function eH({enabled:e}){return _.useEffect(()=>{e&&EE({mode:"boot"})},[e]),null}function k5(e){return typeof e=="object"&&e!==null}function BAe(e){const t=window;if(!k5(t))return;const n=t.adfit;if(!k5(n))return;const r=n.destroy;if(typeof r=="function")try{r.call(n,e)}catch{}}function cu({adUnit:e,width:t,height:n,enabled:r=!0,isVisible:i=!0,className:a,wrapperStyle:o,reserveSpace:l=!0}){const u=_.useRef(!1),d=_.useRef(!1),h=_.useMemo(()=>({...l?{width:"100%",minHeight:n,display:"flex",justifyContent:"center",alignItems:"flex-start"}:{width:"100%"},...o}),[n,l,o]);return _.useEffect(()=>{if(!r||u.current)return;u.current=!0;let p=!1;return(async()=>{try{if(await EE({mode:"boot"}),p)return}catch{}})(),()=>{p=!0}},[r]),_.useEffect(()=>{if(!r||!i||d.current)return;d.current=!0;let p=!1;return(async()=>{try{if(await EE({mode:"scan"}),p)return}catch{}})(),()=>{p=!0}},[r,i]),_.useEffect(()=>()=>{BAe(e),u.current=!1,d.current=!1},[e]),r?g.jsx("div",{className:a,style:h,children:g.jsx("div",{style:l?{width:t,height:n}:void 0,children:g.jsx("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":e,"data-ad-width":String(t),"data-ad-height":String(n)})})}):null}function tH({enabled:e,adUnit:t,width:n,height:r,showAfterScrollY:i=180,rightPx:a=16,topPx:o=120,breakpointClassName:l="hidden desk:block"}){const[u,d]=_.useState(!1),[h,p]=_.useState(!1);return _.useEffect(()=>{if(!e){d(!1),p(!1);return}p(!0);let b=0;const y=()=>{b||(b=window.requestAnimationFrame(()=>{b=0;const k=window.scrollY||0;d(k>=i)}))};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{b&&window.cancelAnimationFrame(b),window.removeEventListener("scroll",y)}},[e,i]),e?g.jsx("div",{className:l,style:{position:"fixed",right:a,top:o,zIndex:60,pointerEvents:"none",visibility:u?"visible":"hidden",opacity:u?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:u?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx(cu,{enabled:h,isVisible:u,adUnit:t,width:n,height:r,wrapperStyle:{display:"flex",justifyContent:"center"}})})})}):null}function nH(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(!1);_.useEffect(()=>{document.title=" - //";const y=window.setTimeout(()=>t(!0),50),k=window.setTimeout(()=>r(!0),250),w=window.setTimeout(()=>a(!0),450);return()=>{window.clearTimeout(y),window.clearTimeout(k),window.clearTimeout(w)}},[]);const h=()=>u?!0:(fa.error(`   
  .`),!1),p=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Re.auth.signInWithOAuth({provider:"google",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Google Login Error:",w),fa.error("   .");return}if(!k?.url){fa.error(" URL  .");return}window.location.assign(k.url)},b=async()=>{if(!h())return;const y=`${window.location.origin}/auth/callback`;console.log("[oauth] origin =",window.location.origin),console.log("[oauth] redirectTo =",y);const{data:k,error:w}=await Re.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:y,skipBrowserRedirect:!0}});if(console.log("[oauth] authorize url =",k?.url),w){console.error("Kakao Login Error:",w),fa.error("   .");return}if(!k?.url){fa.error(" URL  .");return}window.location.assign(k.url)};return g.jsxs("main",{className:`relative py-6 max-h-[70vh] overflow-auto bg-neutral-950 text-white transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[g.jsxs("header",{className:`transform transition-all duration-500 mb-8 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} text-center max-w-[680px]`,children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:""}),g.jsxs("p",{className:"text-sm text-neutral-300 leading-relaxed",children:["      /       .",g.jsx("br",{}),"   /     "]})]}),g.jsxs("section",{className:`w-full max-w-sm mx-auto rounded-2xl bg-neutral-900 p-4 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,"aria-label":"",children:[g.jsx("h2",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),g.jsxs("p",{className:"mb-5 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",g.jsx("br",{}),"      "]}),g.jsx("div",{className:"mb-5 space-y-2",children:g.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"mt-[2px]"}),g.jsxs("span",{children:["  .",g.jsx("button",{type:"button",onClick:()=>l(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{type:"button",onClick:p,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
              ${u?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),g.jsx("span",{children:"  "})]}),g.jsxs("button",{type:"button",onClick:b,disabled:!u,"aria-disabled":!u,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all
              ${u?"bg-[#FEE500] text-black hover:brightness-95 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-not-allowed"}`,children:[g.jsx("img",{src:"/icons/KakaoTalk_logo.png",alt:"KakaoTalk",className:"h-5"}),g.jsx("span",{children:" "})]})]}),g.jsxs("div",{className:"mt-6 border-t border-neutral-800 pt-4 text-xs text-neutral-400 leading-relaxed",children:[g.jsx("p",{className:"font-semibold text-neutral-300 mb-2",children:"    "}),g.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[g.jsx("li",{children:" /  "}),g.jsx("li",{children:"    "}),g.jsx("li",{children:"/ (  )"})]}),g.jsx("p",{className:"mt-3 text-[11px] text-neutral-500",children:": unique950318@gmail.com   "})]})]}),g.jsx(s$,{position:"top-center",toastOptions:{duration:2e3}}),o&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:g.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:y=>y.stopPropagation(),children:[g.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),g.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[g.jsx("p",{className:"mb-2",children:"( )     ,      ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),g.jsxs("p",{className:"mb-2",children:["   ,  (,  )",g.jsx("br",{}),"       ( ,  )"]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"      ",g.jsx("br",{}),"      "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),g.jsxs("p",{className:"mb-2",children:["     ",g.jsx("br",{}),"           "]}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),g.jsx("p",{className:"mb-2",children:"          ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),g.jsx("p",{className:"mb-2",children:" Supabase        ."}),g.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),g.jsx("p",{children:"   : unique950318@gmail.com"})]}),g.jsx("button",{onClick:()=>l(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition cursor-pointer",children:""})]})})]})}function zAe(e){switch(e){case"PERSIST_SAVE":return"    !";case"ADD_LIMIT":return"    !";case"HEADER":return"";default:return""}}function UAe(){const e=ws(i=>i.open),t=ws(i=>i.reason),n=ws(i=>i.close),r=_.useMemo(()=>zAe(t),[t]);return _.useEffect(()=>{if(!e)return;const i=a=>{a.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,n]),_.useEffect(()=>{const{data:i}=Re.auth.onAuthStateChange((a,o)=>{o?.user&&(dn.getState().loadFromServer(),vn.getState().loadFromServer(),yn.getState().loadFromServer(),ws.getState().close())});return()=>i.subscription.unsubscribe()},[]),e?g.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 flex items-center justify-center p-4",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"w-full max-w-[520px] rounded-2xl bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 shadow-xl overflow-hidden",onClick:i=>i.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-neutral-200 dark:border-neutral-800",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:r}),g.jsx("button",{type:"button",onClick:n,className:`w-8 h-8 rounded-full flex items-center justify-center
                       bg-neutral-100 hover:bg-neutral-200
                       dark:bg-neutral-800 dark:hover:bg-neutral-700
                       text-neutral-700 dark:text-neutral-200 cursor-pointer`,"aria-label":"",title:"",children:""})]}),g.jsx("div",{className:"p-4",children:g.jsx(nH,{})})]})}):null}function FAe(){const e=ws(t=>t.openWith);return g.jsx("div",{className:"max-w-[640px] mx-auto px-3",children:g.jsxs("div",{className:`rounded-xl border border-amber-300/60 bg-amber-50 text-amber-950
                      dark:border-amber-500/30 dark:bg-amber-950/30 dark:text-amber-100
                      shadow-sm px-4 py-3 flex items-center justify-between gap-3`,children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-semibold truncate",children:"   "}),g.jsx("div",{className:"text-xs opacity-90 mt-0.5 leading-relaxed",children:" /   ."})]}),g.jsxs("button",{type:"button",onClick:()=>e("PERSIST_SAVE"),className:`shrink-0 inline-flex items-center gap-1.5
                     px-3 py-2 rounded-lg text-xs font-semibold
                     bg-amber-500 hover:bg-amber-600 text-white
                     border border-amber-600/30
                     cursor-pointer`,"aria-label":"",title:"",children:[g.jsx($B,{size:16}),""]})]})})}const MA="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";let pm=null;function DA(){return typeof window<"u"&&typeof document<"u"}function rH(){return DA()?Array.from(document.querySelectorAll('script[src*="pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"]')):[]}function iH(e,t){const n=`client=${encodeURIComponent(t)}`;return e.includes(n)||e.includes(`client=${t}`)}function E5(e){return rH().some(n=>{const r=n.getAttribute("src")??"";return r.includes(MA)&&iH(r,e)})}function pk(e){const t=rH().filter(n=>{const r=n.getAttribute("src")??"";return r.includes(MA)&&iH(r,e)});if(!(t.length<=1))for(let n=1;n<t.length;n+=1){const r=t[n];r.parentNode&&r.parentNode.removeChild(r)}}function HAe(e){const t=document.createElement("script");return t.async=!0,t.src=`${MA}?client=${encodeURIComponent(e)}`,t.crossOrigin="anonymous",t}function GAe(e){return new Promise((t,n)=>{const r=()=>t(),i=()=>n(new Error("AdSense script failed to load"));e.addEventListener("load",r,{once:!0}),e.addEventListener("error",i,{once:!0})})}function qAe(e){return typeof e!="object"||e===null||!("push"in e)?!1:typeof e.push=="function"}async function T5(e){if(DA()){if(E5(e)){pk(e);return}if(pm)return pm;pm=(async()=>{if(E5(e)){pk(e);return}const t=HAe(e);document.head.appendChild(t),await GAe(t),pk(e)})();try{await pm}finally{pm=null}}}function YAe(e={}){if(!DA())return;const t=window.adsbygoogle;if(Array.isArray(t)){t.push(e);return}if(qAe(t)){t.push(e);return}const n=[];n.push(e),window.adsbygoogle=n}function KAe({enabled:e,isVisible:t,clientId:n,slotId:r,width:i,height:a,testMode:o=!1}){const l=_.useRef(!1),u=_.useRef(null);return _.useEffect(()=>{l.current=!1},[n,r,i,a]),_.useEffect(()=>{e&&T5(n).catch(()=>{})},[e,n]),_.useEffect(()=>{if(!e||!t||l.current)return;let d=!0;return(async()=>{try{if(await Promise.resolve(),!d||(await T5(n),!d))return;YAe({}),l.current=!0}catch{console.log()}})(),()=>{d=!1}},[e,t,n]),e?g.jsx("ins",{ref:u,className:"adsbygoogle",style:{display:"inline-block",width:i,height:a},"data-ad-client":n,"data-ad-slot":r,...o?{"data-adtest":"on"}:{}}):null}function aH({enabled:e,clientId:t,slotId:n,width:r,height:i,showAfterScrollY:a=180,side:o="left",sidePx:l=16,topPx:u=120,breakpointClassName:d="hidden desk:block"}){const[h,p]=_.useState(!1),[b,y]=_.useState(!1);return _.useEffect(()=>{if(!e){p(!1),y(!1);return}y(!0);let k=0;const w=()=>{k||(k=window.requestAnimationFrame(()=>{k=0;const S=window.scrollY||0;p(S>=a)}))};return w(),window.addEventListener("scroll",w,{passive:!0}),()=>{k&&window.cancelAnimationFrame(k),window.removeEventListener("scroll",w)}},[e,a]),e?g.jsx("div",{className:d,style:{position:"fixed",...o==="left"?{left:l}:{right:l},top:u,zIndex:60,pointerEvents:"none",visibility:h?"visible":"hidden",opacity:h?1:0,transition:"opacity 150ms ease"},children:g.jsx("div",{style:{pointerEvents:h?"auto":"none"},children:g.jsx("div",{style:{borderRadius:12,background:"rgba(0,0,0,0.04)",backdropFilter:"blur(6px)",padding:8},children:g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx(KAe,{enabled:b,isVisible:h,clientId:t,slotId:n,width:r,height:i})})})})}):null}const oH="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";function j5(e){return typeof e=="object"&&e!==null&&"push"in e&&typeof e.push=="function"}function WAe(){return document.querySelector(`script[src^="${oH}"]`)}async function A5(e){WAe()||await new Promise((n,r)=>{const i=document.createElement("script");i.async=!0,i.src=`${oH}?client=${encodeURIComponent(e)}`,i.crossOrigin="anonymous",i.onload=()=>n(),i.onerror=()=>r(new Error("Failed to load adsbygoogle.js")),document.head.appendChild(i)})}function VAe(){const e=window.adsbygoogle;if(j5(e)){e.push({});return}window.adsbygoogle||(window.adsbygoogle=[]);const t=window.adsbygoogle;j5(t)&&t.push({})}function ZAe({enabled:e,clientId:t,slotId:n,heightPx:r=100,maxWidthPx:i=750,marginTopPx:a=0,fullWidthResponsive:o=!0,pushOnVisible:l=!0,testMode:u=!1,className:d,style:h}){const p=_.useRef(null),b=_.useRef(!1),y=_.useMemo(()=>`adsense_banner:${t}:${n}`,[t,n]),[k,w]=_.useState(!l);return _.useEffect(()=>{b.current=!1},[t,n]),_.useEffect(()=>{e&&A5(t).catch(()=>{})},[e,t]),_.useEffect(()=>{if(!e||!l)return;const S=p.current;if(!S)return;const j=new IntersectionObserver(O=>{const A=O[0];A&&A.isIntersecting&&w(!0)},{root:null,threshold:.05});return j.observe(S),()=>j.disconnect()},[e,l]),_.useEffect(()=>{if(!e||!k||b.current)return;let S=!0;return(async()=>{try{if(await A5(t),!S||(await Promise.resolve(),!S))return;VAe(),b.current=!0}catch{}})(),()=>{S=!1}},[e,k,t]),e?g.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:a,...h},className:d,children:g.jsx("ins",{ref:p,className:"adsbygoogle",style:{display:"block",width:"100%",height:`${r}px`,maxWidth:`${i}px`},"data-ad-client":t,"data-ad-slot":n,"data-full-width-responsive":o?"true":"false",...u?{"data-adtest":"on"}:{}},y)}):null}const XAe="DAN-GW4jrUdfiXklZ12U",JAe="DAN-CeRuC0yKzSAs5Gju",QAe="DAN-G16gewnPhZou1D9y",eNe="DAN-rdKe9ZODmrZR4hho",tNe="DAN-INfSKh1pW2cEtWNu",nNe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function Eb(){const e=$r(),t=Vl(),n=pAe();NAe(n);const r=gAe(),[i,a]=_.useState(!1),[o,l]=_.useState(()=>typeof window>"u"?!1:window.sessionStorage.getItem("app_loading_shown_v1")==="1"),u=!n.authChecked||!r.entLoaded||!r.settingsLoaded;return _.useEffect(()=>{u||a(!0)},[u]),_.useEffect(()=>{n.authChecked&&(n.isLoggedIn||e.pathname!=="/"&&t("/",{replace:!0}))},[n.authChecked,n.isLoggedIn,e.pathname,t]),_.useEffect(()=>{if(!o&&!i&&u&&(l(!0),typeof window<"u"))try{window.sessionStorage.setItem("app_loading_shown_v1","1")}catch{}},[o,i,u]),n.authChecked&&n.isLoggedIn&&n.adminMode?g.jsx(EF,{}):!i&&u&&!o?g.jsx("main",{className:"flex min-h-screen items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500 animate-pulse",children:n.authChecked?"  ...":"  ..."})}):g.jsx(rNe,{isLoggedIn:n.isLoggedIn})}function rNe({isLoggedIn:e}){const t=$r(),n=Vl(),{list:r}=yn(),i=vn($=>$.settings),a=OAe(r),o=PAe({list:r,currentId:a.currentId,settings:i,emptyMs:nNe}),l=RAe({canAdd:o.canAdd,hasCurrent:o.hasCurrent,current:o.current,isLoggedIn:e,setWizardOpen:a.setWizardOpen,setOpenCustom:a.setOpenCustom,setShowSidebar:a.setShowSidebar,setShowToday:a.setShowToday,setShowCouple:a.setShowCouple,setCurrentId:a.setCurrentId,setEditing:a.setEditing}),[u,d]=_.useState(!1),[h,p]=_.useState(0);_.useEffect(()=>{a.editing&&d(!1)},[a.editing]),_.useEffect(()=>{const $=t.pathname;if($==="/faq"){d(!0),a.setShowCouple(!1),a.setShowToday(!1);return}if($==="/couple"){d(!1),a.setShowCouple(!0),a.setShowToday(!1);return}if($==="/result"){d(!1),a.setShowCouple(!1),a.setShowToday(!1);return}d(!1),a.setShowCouple(!1),a.setShowToday(!0)},[a,t.pathname,a.setShowCouple,a.setShowToday]);const b=dn($=>$.shouldShowAdsNow()),y=o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,k=a.showToday||!o.hasCurrent&&!a.showCouple&&!u&&!a.wizardOpen&&!a.editing,w=!e&&o.hasCurrent&&y,S=!e&&!y,[j,O]=_.useState(!1),A=(...$)=>{d(!1),a.setShowToday(!1),a.setShowCouple(!1),n("/result",{replace:!1}),l.handleSidebarView(...$)},C=()=>{a.setOpenCustom(!1),p($=>$+1)},D=$=>{d(!1),l.handleCustomSave($)},P=$=>{d(!1),l.handleWizardSave($)};return g.jsxs("div",{className:"min-h-screen pb-16",children:[g.jsx(eH,{enabled:b}),b&&y&&g.jsx(aH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(tH,{enabled:b,adUnit:tNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsx(Nde,{isLoggedIn:e,onOpenSidebar:()=>a.setShowSidebar(!0),onAddNew:l.openAdd,onOpenCustom:l.openCustomModal}),g.jsx(UAe,{}),j&&g.jsxs("div",{className:"fixed inset-0 z-[210] bg-black/70 flex items-center justify-center",children:[g.jsx("div",{className:"w-full max-w-[420px] max-h-[90dvh] overflow-auto rounded-2xl",children:g.jsx(nH,{})}),g.jsx("button",{className:"fixed top-4 right-4 text-white text-2xl",onClick:()=>O(!1),children:""})]}),g.jsx(YTe,{open:a.openCustom,onClose:C,onSave:D},h),g.jsx(s$,{position:"top-center"}),g.jsx(bfe,{open:a.showSidebar,onClose:()=>a.setShowSidebar(!1),onView:A,onAddNew:l.openAdd,onEdit:l.handleSidebarEdit,onDeleteView:l.handleSidebarDeleteView,isLoggedIn:e}),S&&g.jsx("div",{className:"absolute w-full left-0 mt-14 desk:mt-16 text-xs desk:text-base text-amber-500 dark:text-amber-400 text-center",children:" .    ."}),u&&g.jsx(LAe,{}),k&&g.jsx(qZ,{}),a.wizardOpen&&g.jsxs(g.Fragment,{children:[g.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),g.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:g.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:g.jsx(Hre,{onSave:P,onClose:()=>a.setWizardOpen(!1)})})})]}),o.hasCurrent&&!a.showToday&&!a.showCouple&&!u&&g.jsxs("div",{className:"pt-16",children:[w&&g.jsx("div",{children:g.jsx(FAe,{})}),g.jsx("div",{className:"pb-4",children:g.jsx(Qoe,{data:o.current,hourTable:o.current?.mingSikType??"/"})}),g.jsx(wTe,{ms:o.current}),g.jsx("div",{children:g.jsx(Ade,{data:o.current})}),b&&y&&i.showPromptBox&&g.jsx("div",{className:"max-w-[760px] mx-auto px-3 mt-6 mb-2",children:g.jsx(ZAe,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"3868873416",heightPx:100,maxWidthPx:750,marginTopPx:10,fullWidthResponsive:!0,testMode:!1})}),i.showPromptBox&&g.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:g.jsx(mAe,{ms:o.current,natal:o.isValidPillars(o.natal)?o.natal:[],chain:o.chain,basis:{voidBasis:o.voidBasis,samjaeBasis:o.samjaeBasis},includeTenGod:!0,lunarPillars:[]})}),b&&y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 pb-6",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(cu,{enabled:!0,adUnit:eNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(cu,{enabled:!0,adUnit:QAe,width:320,height:50})})]})]}),a.showCouple&&g.jsx("div",{className:"pt-18 pb-4",children:g.jsx(yTe,{people:r})}),b&&!y&&g.jsxs("div",{className:"max-w-[760px] mx-auto px-3 mt-1 mb-2",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(cu,{enabled:!0,adUnit:JAe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(cu,{enabled:!0,adUnit:XAe,width:320,height:50})})]}),a.editing&&g.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:g.jsx("div",{className:"overflow-auto bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:g.jsx(Mfe,{item:a.editing,onClose:()=>a.setEditing(null)})})}),g.jsx($de,{}),g.jsx(vTe,{})]})}function iNe(){const e=$r(),[t,n]=_.useState(null),[r,i]=_.useState(null);return _.useEffect(()=>{if(e.pathname!=="/impersonate")return;const a=new URLSearchParams(e.search);n(a.get("userId")),i(a.get("myeongsikId"))},[e.pathname,e.search]),g.jsxs("div",{className:"p-4 text-white",children:[g.jsx("div",{className:"text-sm text-neutral-400",children:"Impersonate"}),g.jsxs("div",{className:"mt-2",children:["userId: ",t??"(none)"]}),g.jsxs("div",{className:"mt-1",children:["myeongsikId: ",r??"(none)"]})]})}function aNe(){const e=$r(),t=Vl(),[n,r]=_.useState("  ...");return _.useEffect(()=>{(async()=>{try{const a=new URLSearchParams(e.search),o=a.get("error"),l=a.get("error_description");if(o){r(` : ${decodeURIComponent(l??o)}`);return}const u=a.get("code");if(!u){r(" code . (redirectTo/PKCE  )");return}const{error:d}=await Re.auth.exchangeCodeForSession(u);if(d){r(`  : ${d.message}`);return}t("/",{replace:!0})}catch(a){r(a instanceof Error?a.message:"   ")}})()},[e.search,t]),g.jsx("main",{className:"min-h-screen flex items-center justify-center",children:g.jsx("p",{className:"text-sm text-neutral-500",children:n})})}function oNe({yinYang:e,changing:t,onClick:n,showChanging:r=!0}){return g.jsxs("button",{type:"button",onClick:n,className:["w-full select-none","rounded-xl px-3 py-2","border border-neutral-200 dark:border-neutral-800","bg-white hover:bg-neutral-50 dark:bg-neutral-900 dark:hover:bg-neutral-800","flex items-center gap-3",n?"cursor-pointer":"cursor-default"].join(" "),title:n?"  (6789)":void 0,children:[g.jsx("div",{className:"flex-1",children:e===1?g.jsx("div",{className:"h-3 rounded bg-neutral-900 dark:bg-neutral-100"}):g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"}),g.jsx("div",{className:"h-3 flex-1 rounded bg-neutral-900 dark:bg-neutral-100"})]})}),r&&g.jsx("div",{className:"w-8 text-right text-sm font-medium text-neutral-700 dark:text-neutral-300",children:t?"":""})]})}function sNe(e){return e===6||e===9}function Bx(e){return e===7||e===9?1:0}function sH(e){return e===6?1:e===9?0:Bx(e)}function lNe(e){return e===6?7:e===7?8:e===8?9:6}function lH(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t>>>0}function cH(e){let t=e>>>0;return()=>{t+=1831565813;let n=t;return n=Math.imul(n^n>>>15,n|1),n^=n+Math.imul(n^n>>>7,n|61),((n^n>>>14)>>>0)/4294967296}}function uH(){return new Date().toISOString()}function dH(){const e=Date.now().toString(36),t=Math.floor(Math.random()*1e9).toString(36);return`ich_${e}_${t}`}function fH(e){const t=[];for(let n=0;n<e.length;n+=1)sNe(e[n].value)&&t.push(n+1);return t}function TE(e){const t=()=>e()<.5?2:3,n=t(),r=t(),i=t(),a=n+r+i;return{value:a===6?6:a===7?7:a===8?8:9,source:"coin",coins:[n,r,i]}}function cNe(e){return e?[e.myeongSikId?`id=${e.myeongSikId}`:"",e.pillarsText?`pillars=${e.pillarsText}`:"",e.birthISO?`birth=${e.birthISO}`:"",e.tz?`tz=${e.tz}`:"",e.luck?.daeun?`daeun=${e.luck.daeun}`:"",e.luck?.seun?`seun=${e.luck.seun}`:"",e.luck?.wolun?`wolun=${e.luck.wolun}`:"",e.luck?.ilun?`ilun=${e.luck.ilun}`:""].filter(Boolean).join("|"):""}const PA=["","","","","","","","","",""],RA=["","","","","","","","","","","",""];function Fl(e,t){const n=e%t;return n<0?n+t:n}function LA(e){const t=e-1984,n=PA[Fl(t,10)],r=RA[Fl(t,12)];return`${n}${r}`}function hH(e,t){if(t<1||t>12)throw new Error(`month must be 1..12, got ${t}`);const n=Fl(e-1984,10),r=n===0||n===5?2:n===1||n===6?4:n===2||n===7?6:n===3||n===8?8:0,i=t===1?1:t===12?0:t,a=Fl(i-2,12),o=Fl(r+a,10),l=PA[o],u=RA[i];return`${l}${u}`}function uNe(e){const t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=Date.UTC(1984,0,31),a=Date.UTC(t,n,r),o=Math.floor((a-i)/864e5),l=Fl(o,60),u=PA[Fl(l,10)],d=RA[Fl(l,12)];return`${u}${d}`}function Ga(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ha(e){const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return null;const n=Number(t[1]),r=Number(t[2])-1,i=Number(t[3]);if(![n,r,i].every(o=>Number.isFinite(o)))return null;const a=new Date(n,r,i,9,0,0,0);return a.getFullYear()!==n||a.getMonth()!==r||a.getDate()!==i?null:a}function mH(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function ku(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0,0,0)}function IA(e,t){return e.getTime()<=t.getTime()?{start:e,end:t}:{start:t,end:e}}function N5(e,t){return e*100+t}function dNe(e,t){const n=[];let r=e.getFullYear(),i=e.getMonth()+1;const a=N5(t.getFullYear(),t.getMonth()+1);for(;N5(r,i)<=a;)n.push({y:r,m1:i}),i+=1,i===13&&(i=1,r+=1);return n}function fNe(e,t=10){const n=ha(e.startYMD)??ku(),r=ha(e.endYMD)??ku(),{start:i,end:a}=IA(n,r),o=i.getFullYear(),l=a.getFullYear(),u=[];for(let d=o;d<=l&&!(u.length>=t);d+=1){const h=new Date(d,5,15,9,0,0,0);u.push({year:d,refDateYMD:Ga(h),seun:LA(d)})}return u}function hNe(e,t=12,n=!1){const r=ha(e.startYMD)??ku(),i=ha(e.endYMD)??ku(),{start:a,end:o}=IA(r,i),l=dNe(a,o),u=[];for(const d of l){if(u.length>=t)break;if(n&&d.m1===1)continue;const h=new Date(d.y,d.m1-1,15,9,0,0,0),p=new Date(d.y,d.m1-1,15,12,0,0,0),b=lt(p)||LA(d.y),y=St(p)||hH(d.y,d.m1);u.push({year:d.y,month:d.m1,refDateYMD:Ga(h),seun:b,wolun:y})}return u}function mNe(e,t=7){const n=ha(e.startYMD)??ku(),r=ha(e.endYMD)??ku(),{start:i,end:a}=IA(n,r),o=[];let l=new Date(i);for(;l.getTime()<=a.getTime()&&!(o.length>=t);){const u=l.getFullYear(),d=l.getMonth()+1,h=new Date(u,d-1,l.getDate(),12,0,0,0),p=lt(h)||LA(u),b=St(h)||hH(u,d);o.push({dateYMD:Ga(l),seun:p,wolun:b,ilun:uNe(l)}),l=mH(l,1)}return o}function pH(e,t){const n=ha(t.startYMD)??ku();if(e==="seun")return new Date(n.getFullYear(),5,15,9,0,0,0);if(e==="wolun"){const r=n.getFullYear(),i=n.getMonth()+1;return new Date(r,i-1,15,9,0,0,0)}return new Date(n.getFullYear(),n.getMonth(),n.getDate(),9,0,0,0)}function gk(e,t){const n=pH(e,t),r=Ga(n);return e==="seun"?{tab:e,baseDateYMD:r,seun:fNe(t,10),wolun:[],ilun:[]}:e==="wolun"?{tab:e,baseDateYMD:r,seun:[],wolun:hNe(t,12,!1),ilun:[]}:{tab:e,baseDateYMD:r,seun:[],wolun:[],ilun:mNe(t,7)}}function gH(e){return e===7||e===9?1:0}const Ea={:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"111",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"110",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"101",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"100",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"011",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"010",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"001",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]},:{key:"",ko:"",hanja:"",symbolHanja:"",bitsBottomUp:"000",element:"",naJiaUpperTopDown:["","",""],naJiaLowerTopDown:["","",""]}},pNe=[{n:1,ko:"",nameHanja:"",upper:"",lower:""},{n:2,ko:"",nameHanja:"",upper:"",lower:""},{n:3,ko:"",nameHanja:"",upper:"",lower:""},{n:4,ko:"",nameHanja:"",upper:"",lower:""},{n:5,ko:"",nameHanja:"",upper:"",lower:""},{n:6,ko:"",nameHanja:"",upper:"",lower:""},{n:7,ko:"",nameHanja:"",upper:"",lower:""},{n:8,ko:"",nameHanja:"",upper:"",lower:""},{n:9,ko:"",nameHanja:"",upper:"",lower:""},{n:10,ko:"",nameHanja:"",upper:"",lower:""},{n:11,ko:"",nameHanja:"",upper:"",lower:""},{n:12,ko:"",nameHanja:"",upper:"",lower:""},{n:13,ko:"",nameHanja:"",upper:"",lower:""},{n:14,ko:"",nameHanja:"",upper:"",lower:""},{n:15,ko:"",nameHanja:"",upper:"",lower:""},{n:16,ko:"",nameHanja:"",upper:"",lower:""},{n:17,ko:"",nameHanja:"",upper:"",lower:""},{n:18,ko:"",nameHanja:"",upper:"",lower:""},{n:19,ko:"",nameHanja:"",upper:"",lower:""},{n:20,ko:"",nameHanja:"",upper:"",lower:""},{n:21,ko:"",nameHanja:"",upper:"",lower:""},{n:22,ko:"",nameHanja:"",upper:"",lower:""},{n:23,ko:"",nameHanja:"",upper:"",lower:""},{n:24,ko:"",nameHanja:"",upper:"",lower:""},{n:25,ko:"",nameHanja:"",upper:"",lower:""},{n:26,ko:"",nameHanja:"",upper:"",lower:""},{n:27,ko:"",nameHanja:"",upper:"",lower:""},{n:28,ko:"",nameHanja:"",upper:"",lower:""},{n:29,ko:"",nameHanja:"",upper:"",lower:""},{n:30,ko:"",nameHanja:"",upper:"",lower:""},{n:31,ko:"",nameHanja:"",upper:"",lower:""},{n:32,ko:"",nameHanja:"",upper:"",lower:""},{n:33,ko:"",nameHanja:"",upper:"",lower:""},{n:34,ko:"",nameHanja:"",upper:"",lower:""},{n:35,ko:"",nameHanja:"",upper:"",lower:""},{n:36,ko:"",nameHanja:"",upper:"",lower:""},{n:37,ko:"",nameHanja:"",upper:"",lower:""},{n:38,ko:"",nameHanja:"",upper:"",lower:""},{n:39,ko:"",nameHanja:"",upper:"",lower:""},{n:40,ko:"",nameHanja:"",upper:"",lower:""},{n:41,ko:"",nameHanja:"",upper:"",lower:""},{n:42,ko:"",nameHanja:"",upper:"",lower:""},{n:43,ko:"",nameHanja:"",upper:"",lower:""},{n:44,ko:"",nameHanja:"",upper:"",lower:""},{n:45,ko:"",nameHanja:"",upper:"",lower:""},{n:46,ko:"",nameHanja:"",upper:"",lower:""},{n:47,ko:"",nameHanja:"",upper:"",lower:""},{n:48,ko:"",nameHanja:"",upper:"",lower:""},{n:49,ko:"",nameHanja:"",upper:"",lower:""},{n:50,ko:"",nameHanja:"",upper:"",lower:""},{n:51,ko:"",nameHanja:"",upper:"",lower:""},{n:52,ko:"",nameHanja:"",upper:"",lower:""},{n:53,ko:"",nameHanja:"",upper:"",lower:""},{n:54,ko:"",nameHanja:"",upper:"",lower:""},{n:55,ko:"",nameHanja:"",upper:"",lower:""},{n:56,ko:"",nameHanja:"",upper:"",lower:""},{n:57,ko:"",nameHanja:"",upper:"",lower:""},{n:58,ko:"",nameHanja:"",upper:"",lower:""},{n:59,ko:"",nameHanja:"",upper:"",lower:""},{n:60,ko:"",nameHanja:"",upper:"",lower:""},{n:61,ko:"",nameHanja:"",upper:"",lower:""},{n:62,ko:"",nameHanja:"",upper:"",lower:""},{n:63,ko:"",nameHanja:"",upper:"",lower:""},{n:64,ko:"",nameHanja:"",upper:"",lower:""}];function wv(e){const t=Object.keys(Ea);for(const n of t)if(Ea[n].bitsBottomUp===e)return n;return null}function gNe(e,t){return`${Ea[t].bitsBottomUp}${Ea[e].bitsBottomUp}`}const bNe=(()=>{const e={};for(const t of pNe){const n=Ea[t.upper],r=Ea[t.lower],i=gNe(t.upper,t.lower);e[i]={number:t.n,titleKo:t.ko,nameHanja:t.nameHanja,titleHanja:`${n.symbolHanja}${r.symbolHanja}${t.nameHanja}`,upperKo:n.ko,lowerKo:r.ko,upperHanja:n.hanja,lowerHanja:r.hanja,upperSymbolHanja:n.symbolHanja,lowerSymbolHanja:r.symbolHanja,bitsBottomUp:i}}return e})();function $A(e){const t=e.join(""),n=bNe[t];if(n)return n;const r=t.slice(0,3),i=t.slice(3,6),a=wv(r),o=wv(i),l=a?Ea[a]:null,u=o?Ea[o]:null;return{number:void 0,titleKo:"",nameHanja:"",titleHanja:u&&l?`${u.symbolHanja}${l.symbolHanja}`:"",upperKo:u?.ko,lowerKo:l?.ko,upperHanja:u?.hanja,lowerHanja:l?.hanja,upperSymbolHanja:u?.symbolHanja,lowerSymbolHanja:l?.symbolHanja,bitsBottomUp:t}}function jE(e){const t=e.map(n=>gH(n.value));return $A(t)}const O5={:[1,44,33,12,20,23,35,14],:[29,60,3,63,49,55,36,7],:[52,22,26,41,38,10,61,53],:[51,16,40,32,46,48,28,17],:[57,9,37,42,25,21,27,18],:[30,56,50,64,4,59,6,13],:[2,24,19,11,34,43,5,8],:[58,47,45,31,39,15,62,54]};function yNe(e){return e===0?"pure":e===1?"1":e===2?"2":e===3?"3":e===4?"4":e===5?"5":e===6?"youhun":"guihun"}function vNe(e){return e==="pure"?6:e==="1"?1:e==="2"?2:e==="3"?3:e==="4"?4:e==="5"?5:e==="youhun"?4:3}function xNe(e){return(e+2)%6+1}function wNe(e){return e===""||e===""?"":e===""||e===""?"":e===""||e===""||e===""||e===""?"":e===""||e===""?"":e===""||e===""?"":null}function C5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function M5(e,t){return e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""||e===""&&t===""}function _Ne(e,t){return t===e?"":C5(t,e)?"":C5(e,t)?"":M5(t,e)?"":M5(e,t)?"":""}function SNe(e){const t=Object.keys(O5);for(const n of t){const r=O5[n].indexOf(e);if(r>=0)return{palace:n,stage:yNe(r)}}return null}function kNe(e){const t=e.join(""),n=t.slice(0,3),r=t.slice(3,6),i=wv(n),a=wv(r);if(!i||!a)return[];const o=Ea[i],u=Ea[a].naJiaUpperTopDown,d=o.naJiaLowerTopDown;return[...u,...d]}function AE(e){const t=e.map(k=>gH(k.value)),n=$A(t),r=typeof n.number=="number"?n.number:null,i=kNe(t),a=r?SNe(r):null,o=a?.palace??null,l=o?Ea[o].element:null,u=a?.stage??"pure",d=vNe(u),h=xNe(d),p=7-d,b=7-h,y=[];if(i.length===6&&l)for(const k of i){const w=wNe(k);if(!w){y.push("");continue}y.push(_Ne(l,w))}return{leftTopDown:y.length?y:[],rightTopDown:i.length?i:[],markers:[{text:"",atLineTopDown:p},{text:"",atLineTopDown:b}],palace:o?{key:o,element:Ea[o].element,stage:u}:void 0}}function bk(e){const t=cH(lH(e)),n=[];for(let r=0;r<6;r+=1)n.push(TE(t));return n}function yk(e,t,n,r,i){return{id:dH(),kind:"iching_sixyao",createdAtISO:uH(),question:e,seedTextUsed:t,linesBottomUp:n,changingLines:fH(n),baseBitsBottomUp:n.map(a=>Bx(a.value)),changedBitsBottomUp:n.map(a=>sH(a.value)),saju:r??void 0,viewMeta:i}}function ENe(e){const{periodTab:t,seunPayload:n,wolunPayload:r,ilunPayload:i,questionText:a,sajuSeedPart:o,saju:l,viewMeta:u}=e,d=[];return t==="seun"&&n?.seun?.length&&n.seun.forEach(h=>{const p=` ${h.year} (${h.seun}`,b=`${a}::${h.refDateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=bk(y),w=yk(a,y,k,l,u);d.push({key:`seun-${h.year}`,title:p,dateYMD:h.refDateYMD,record:w})}),t==="wolun"&&r?.wolun?.length&&r.wolun.forEach(h=>{const p=String(h.month).padStart(2,"0"),b=` ${h.year}-${p} (${h.seun} ${h.wolun}`,y=`${a}::${h.refDateYMD}`,k=o?`${y}::SAJU::${o}`:y,w=bk(k),S=yk(a,k,w,l,u);d.push({key:`wolun-${h.year}-${p}`,title:b,dateYMD:h.refDateYMD,record:S})}),t==="ilun"&&i?.ilun?.length&&i.ilun.forEach(h=>{const p=` ${h.dateYMD} (${h.seun} ${h.wolun} ${h.ilun}`,b=`${a}::${h.dateYMD}`,y=o?`${b}::SAJU::${o}`:b,k=bk(y),w=yk(a,y,k,l,u);d.push({key:`ilun-${h.dateYMD}`,title:p,dateYMD:h.dateYMD,record:w})}),d}function TNe(e){if(!e)return"  ";const t=[e.name?`: ${e.name}`:"",e.gender?`: ${e.gender}`:"",e.pillarsText?`: ${e.pillarsText}`:""].filter(Boolean);return t.length?t.join(`
`):"  "}function jNe(e,t){if(!e||!e.luck)return e;const{daeun:n,seun:r,wolun:i,ilun:a}=e.luck;return{...e,luck:t==="seun"?{daeun:n,seun:r}:t==="wolun"?{daeun:n,seun:r,wolun:i}:{daeun:n,seun:r,wolun:i,ilun:a}}}function ANe(e){const{selectedCardText:t,ready:n,periodCards:r,finalQuestion:i,question:a,baseBits:o,changedBits:l,changingIndexes:u,lineValues:d,lines:h,saju:p,periodTab:b}=e,y=(i.trim()||a.trim()).trim(),k=y||"( )";if(t&&t.trim())return[` : ${k}`,"",t.trim()].join(`
`);if(!n&&r.length===0)return"";const w=o.join(""),S=l.join(""),j=u.length?u.join(", "):"",O=d.join(", "),A=jE(h),C=$A(l),D=typeof A.number=="number"?String(A.number):"",P=A.titleKo||"",$=A.titleHanja||"?",U=A.nameHanja||"?",W=A.upperKo&&A.lowerKo?`${A.upperKo}/${A.lowerKo}`:"",Y=A.upperHanja&&A.lowerHanja?`${A.upperHanja}/${A.lowerHanja}`:"",F=typeof C.number=="number"?String(C.number):"",z=C.upperKo&&C.lowerKo?`${C.upperKo}/${C.lowerKo}`:"",K=C.upperHanja&&C.lowerHanja?`${C.upperHanja}/${C.lowerHanja}`:"",Z=AE(h),X=Z.leftTopDown.length?Z.leftTopDown.join(" "):"()",q=Z.rightTopDown.length?Z.rightTopDown.join(" "):"()",J=Z.markers.length?Z.markers.map(ne=>`${ne.text}${ne.atLineTopDown}`).join(", "):"()",ee=TNe(p),le=r.length>0?[" (  )",...r.flatMap((ne,oe)=>{const fe=jE(ne.record.linesBottomUp),ye=AE(ne.record.linesBottomUp),pe=ne.record.baseBitsBottomUp.join(""),Ae=ne.record.changedBitsBottomUp.join(""),re=ne.record.changingLines.length?ne.record.changingLines.join(", "):"",Ee=ne.record.linesBottomUp.map(Pe=>Pe.value).join(", "),_e=fe.titleKo||"",se=typeof fe.number=="number"?String(fe.number):"",Ue=ye.leftTopDown.length?ye.leftTopDown.join(" "):"()",Fe=ye.rightTopDown.length?ye.rightTopDown.join(" "):"()",Ce=ye.markers.length?ye.markers.map(Pe=>`${Pe.text}${Pe.atLineTopDown}`).join(", "):"()";return[`${oe+1}. ${ne.title}`,`-  /: ${se}  ${_e}`,`-  (): ${pe}`,`-  (): ${Ae}`,`- : ${re}`,`- (): ${Ee}`,`- (): ${Ue}`,`- (): ${Fe}`,`- ///: ${Ce}`]}),""]:[],ae=n&&h.length===6?[" ()",`-  : ${D}`,`- (): ${P}`,`- (): ${$} (${U})`,`- / : ${W} (${Y})`,""," ()",`-  : ${F}`,`- / : ${z} (${K})`,""," ",`-  (): ${w}`,`-  (): ${S}`,`- : ${j}`,`- (): ${O}`,`- (): ${X}`,`- (): ${q}`,`- ///: ${J}`,""]:[" ","- /   ",""],B=n&&r.length===0,V=B?jNe(p??null,b):null;return[" / .        .","",`: ${k}`,"",...ae," ",ee,"",...B?["(JSON)",JSON.stringify(V??{},null,2),""]:[],"",...le,"","-     ","-        ","-    "].join(`
`)}const D5=[`1.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`2.  () 

 
 ()	( ,  : ,  : ) (() )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`3.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`4.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`5.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`6.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`7.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`8.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`9.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`10.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`11.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`12.  () 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`13.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`14.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`15.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`16.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`17.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`18.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`19.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`20.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`21.  

  
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`22.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`23.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`24.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + () -  `,`25.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`26.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`27.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`28.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`29.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`30.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + () -  
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`31.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`32.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`33.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`34.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`35.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + () -  
2() - () + ()
() - () +  +  + ()`,`36.  

  
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`37.  
 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`38.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + () -  
() - () +  +  + ()`,`39.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`40.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`41.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`42.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`43.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`44.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + () -  
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`45.  () 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`46.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + () -  
5() - () +  + ()
4() - () +  + ()
3() - () + () -  
2() - () +  + ()
() - () +  + ()`,`47.  

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + () -  
2() - () + ()
() - () +  + ()`,`48.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  +  + ()
4() - () + ()
3() - () + ()
2() - () +  +  + ()
() - () + ()`,`49.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + () -  `,`50.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + () -  `,`51.  () (() )  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`52. () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`53.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`54.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + () -  
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`55.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`56.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`57.  () (() ) 

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + () -  
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`58.  () (() ) 

 
 ()	( ,  : (),  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + () -  
3() - () +  + ()
2() - () +  + ()
() - () + ()`,`59.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () +  + ()
4() - () + ()
3() - () +  + ()
2() - () +  + () -  
() - () + ()`,`60.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + () -  
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`,`61.  

 
 ()	( ,  : ,  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () +  + ()
4() - () +  + ()
3() - () + ()
2() - () +  + ()
() - () +  + ()`,`62.  

 
 ()	( ,  : (),  : ) (: )

 = 
 = 
 = 
 = 

() - () + ()
5() - () + ()
4() - () +  +  + ()
3() - () + ()
2() - () + ()
() - () +  +  + ()`,`63.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  +  + ()
5() - () + ()
4() - () + ()
3() - () +  +  + ()
2() - () + ()
() - () + ()`,`64.  

 
 ()	( ,  : ,  : )

 = 
 = 
 = 
 = 

() - () +  + ()
5() - () + ()
4() - () +  + ()
3() - () +  + ()
2() - () + ()
() - () +  + ()`];function NNe({saju:e,viewMeta:t,initialQuestion:n="",onBaseDateChange:r}){const[i,a]=_.useState(n),[o,l]=_.useState(""),[u,d]=_.useState("all"),[h,p]=_.useState("seun"),[b,y]=_.useState(()=>{const Me=new Date,nt=new Date(Me.getFullYear(),0,1,9,0,0,0),Dt=new Date(Me.getFullYear()+9,11,31,9,0,0,0);return{startYMD:Ga(nt),endYMD:Ga(Dt)}}),[k,w]=_.useState(()=>{const Me=new Date,nt=new Date(Me.getFullYear(),Me.getMonth(),1,9,0,0,0),Dt=new Date(nt);return Dt.setMonth(Dt.getMonth()+11),{startYMD:Ga(nt),endYMD:Ga(Dt)}}),[S,j]=_.useState(()=>{const Me=new Date,nt=new Date(Me.getFullYear(),Me.getMonth(),Me.getDate(),9,0,0,0),Dt=mH(nt,6);return{startYMD:Ga(nt),endYMD:Ga(Dt)}}),[O,A]=_.useState([]),[C,D]=_.useState(null),[P,$]=_.useState([]),[U,W]=_.useState(!1),[Y,F]=_.useState(!1),[z,K]=_.useState(null),Z=_.useRef(null),X=_.useRef(null),q=_.useRef(null);_.useEffect(()=>{a(n),l(n)},[n]),_.useEffect(()=>{$([])},[h,b.startYMD,b.endYMD,k.startYMD,k.endYMD,S.startYMD,S.endYMD]),_.useEffect(()=>{if(!z)return;const Me=window.setTimeout(()=>K(null),2200);return()=>window.clearTimeout(Me)},[z]);const J=_.useMemo(()=>{const Me=ha(b.startYMD);if(Me&&Me.getMonth()===0){const nt=new Date(Me.getFullYear(),1,1,9,0,0,0);return{...b,startYMD:Ga(nt)}}return b},[b]),ee=h,le=_.useMemo(()=>ee?pH(ee,ee==="seun"?J:ee==="wolun"?k:S):new Date,[ee,S,J,k]);_.useEffect(()=>{r&&r(le??null)},[le,r]);const ae=_.useMemo(()=>cNe(e),[e]),B=_.useMemo(()=>`${o.trim()}::${le.toISOString()}`,[le,o]),V=_.useMemo(()=>ae?`${B}::SAJU::${ae}`:B,[B,ae]),ne=_.useMemo(()=>{const Me=lH(V);return cH(Me)},[V]),oe=_.useMemo(()=>h==="seun"?gk("seun",J):null,[h,J]),fe=_.useMemo(()=>h==="wolun"?gk("wolun",k):null,[h,k]),ye=_.useMemo(()=>h==="ilun"?gk("ilun",S):null,[h,S]),pe=_.useMemo(()=>{const Me=ha(b.startYMD);return Me?String(Me.getFullYear()):""},[b.startYMD]),Ae=_.useMemo(()=>{const Me=ha(b.endYMD);return Me?String(Me.getFullYear()):""},[b.endYMD]),re=_.useMemo(()=>{const Me=ha(k.startYMD);if(!Me)return"";const nt=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${nt}`},[k.startYMD]),Ee=_.useMemo(()=>{const Me=ha(k.endYMD);if(!Me)return"";const nt=String(Me.getMonth()+1).padStart(2,"0");return`${Me.getFullYear()}-${nt}`},[k.endYMD]),_e=_.useMemo(()=>{if(h==="seun"){const Me=oe?.seun[0];return Me?` ${Me.year} - ${Me.seun}`:""}if(h==="wolun"){const Me=fe?.wolun[0];if(!Me)return"";const nt=String(Me.month).padStart(2,"0");return` ${Me.year}-${nt} - ${Me.seun} ${Me.wolun}`}if(h==="ilun"){const Me=ye?.ilun[0];return Me?` ${Me.dateYMD} - ${Me.seun} ${Me.wolun} ${Me.ilun}`:""}return""},[h,oe,fe,ye]),se=_.useCallback((Me,nt,Dt)=>{Me(br=>({...br,[nt]:Dt}))},[]),Ue=_.useCallback((Me,nt)=>{if(!nt)return;const Dt=Number(nt);if(!Number.isFinite(Dt))return;const br=Math.trunc(Dt);y(ti=>({...ti,[Me]:`${br}-06-15`}))},[]),Fe=_.useCallback((Me,nt)=>{if(!nt)return;const Dt=/^(\d{4})-(\d{2})$/.exec(nt);Dt&&w(br=>({...br,[Me]:`${Dt[1]}-${Dt[2]}-15`}))},[]),Ce=O.length===6,Pe=_.useMemo(()=>O.map(Me=>Bx(Me.value)),[O]),Ge=_.useMemo(()=>O.map(Me=>sH(Me.value)),[O]),Ne=_.useMemo(()=>fH(O),[O]),De=_.useMemo(()=>O.map(Me=>Me.value),[O]),Be=O.length>0||!!C,st=P.length>0,ce=o.trim().length>0,Oe=!ce||Y||st||Ce,ze=!ce||U||Be||st||Y,it=_.useCallback(()=>{window.setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),Et=_.useCallback(()=>{window.setTimeout(()=>{X.current?.scrollIntoView({behavior:"smooth",block:"start"})},50)},[]),pt=_.useCallback(()=>{A([]),D(null),$([]),W(!1),F(!1),K(null)},[]),Jt=_.useCallback(()=>o.trim()?!0:(alert("  !"),window.setTimeout(()=>{q.current?.focus()},0),!1),[o]),Br=_.useCallback(()=>{if(!Jt()||Oe)return;W(!0);let Me=0;A(nt=>nt.length>=6?nt:(Me=nt.length+1,[...nt,TE(ne)])),window.setTimeout(()=>{if(W(!1),Me>=6){it();return}Me>0&&K(`${Me}  !  ${Me+1} ?`)},350)},[Jt,Oe,ne,it]),zr=_.useCallback(()=>{if(!Jt()||Oe)return;W(!0);const Me=[];for(let nt=0;nt<6;nt+=1)Me.push(TE(ne));A(Me),window.setTimeout(()=>{W(!1),it()},350)},[Jt,Oe,ne,it]),Zi=_.useMemo(()=>{if(O.length!==6)return"";const Me=jE(O);if(typeof Me.number!="number")return"";const nt=Me.number-1;return nt<0||nt>=D5.length?"":D5[nt]??""},[O]),io=_.useCallback(Me=>{A(nt=>{if(Me<0||Me>=nt.length)return nt;const Dt=[...nt],br=Dt[Me];return Dt[Me]={value:lNe(br.value),source:"manual"},Dt})},[]),It=_.useCallback(()=>{if(O.length!==6)return;const Me=(o.trim()||i.trim()).trim(),nt={id:dH(),kind:"iching_sixyao",createdAtISO:uH(),question:Me,seedTextUsed:V,linesBottomUp:O,changingLines:Ne,baseBitsBottomUp:Pe,changedBitsBottomUp:Ge,saju:e??void 0,viewMeta:t};D(nt)},[Pe,Ge,Ne,V,o,O,i,e,t]);_.useEffect(()=>{O.length===6&&It()},[It,O.length]);const an=_.useMemo(()=>[{value:7,source:"manual"}].concat(Array.from({length:5},()=>({value:7,source:"manual"}))),[]),Ur=_.useCallback(()=>{if(!Jt()||ze)return;F(!0);const Me=(o.trim()||i.trim()).trim(),nt=ENe({periodTab:h,seunPayload:oe,wolunPayload:fe,ilunPayload:ye,questionText:Me,sajuSeedPart:ae,saju:e,viewMeta:t});$(nt),window.setTimeout(()=>{F(!1),Et()},400)},[Jt,ze,o,ye,h,i,e,ae,oe,t,fe,Et]),Yn=_.useMemo(()=>ANe({selectedCardText:Zi,ready:Ce,periodCards:P,finalQuestion:o,question:i,baseBits:Pe,changedBits:Ge,changingIndexes:Ne,lineValues:De,lines:O,saju:e,periodTab:h}),[Zi,Ce,P,o,i,Pe,Ge,Ne,De,O,e,le,oe,fe,ye,h]),Go=_.useCallback(async()=>{if(Yn)try{await navigator.clipboard.writeText(Yn),alert("  !")}catch{alert("  .   .")}},[Yn]),If=_.useMemo(()=>{if(!Ce)return null;const Me=AE(O),nt=Me.leftTopDown.join(" "),Dt=Me.rightTopDown.join(" "),br=Me.markers.map(ti=>`${ti.text}${ti.atLineTopDown}`).join(", ");return{liuQin:nt,zhi:Dt,marks:br}},[O,Ce]);return{saju:e,question:i,setQuestion:a,finalQuestion:o,setFinalQuestion:l,questionInputRef:q,drawMode:u,setDrawMode:d,periodTab:h,setPeriodTab:p,seunRange:b,setSeunRange:y,wolunRange:k,setWolunRange:w,ilunRange:S,setIlunRange:j,seunStartYear:pe,seunEndYear:Ae,wolunStartYM:re,wolunEndYM:Ee,activePeriodLabel:_e,onRangeChange:se,onSeunYearChange:Ue,onWolunMonthChange:Fe,ready:Ce,baseBits:Pe,changedBits:Ge,changingIndexes:Ne,lineValues:De,autoSideSummary:If,selectedCardText:Zi,drawOne:Br,drawAll:zr,reset:pt,onEditLine:io,lines:O,record:C,periodCards:P,placeholderLines:an,copyPrompt:Go,isDrawing:U,isPeriodDrawing:Y,toast:z,disableSingleDraw:Oe,disablePeriodDraw:ze,resultRef:Z,periodCardsRef:X,buildPeriodCards:Ur}}const ONe="DAN-GW4jrUdfiXklZ12U",CNe="DAN-CeRuC0yKzSAs5Gju";function MNe(e){const{saju:t,question:n,setQuestion:r,finalQuestion:i,setFinalQuestion:a,questionInputRef:o,drawMode:l,setDrawMode:u,lines:d,isDrawing:h,disableSingleDraw:p,selectedCardText:b,drawOne:y,drawAll:k,reset:w,copyPrompt:S,toast:j,resultRef:O}=NNe(e),A=b?b.split(/\r?\n/):[],C=A[0]??"",D=A.slice(1).join("\\n").trim(),P=d.length?[...d].reverse():[],$=A.map(U=>U.trim()).map(U=>{const W=/^(|5|4|3|2|)\((|)\)\s*-\s*(.+)$/.exec(U);if(!W)return null;const Y=W[1],F=W[2],z=//.test(W[3]),Z=W[3].replace(/\s*-\s*\s*?/g,"").trim().split(" + ").map(ee=>ee.trim()).filter(Boolean),X=Z.filter(ee=>ee===""||ee===""||ee===""||ee===""),q=Z.find(ee=>/\([]\)/.test(ee))??"",J=Z.find(ee=>/\(.+\)/.test(ee)&&ee!==q)??"";return{label:Y,yinYang:F,liuQin:J,zhi:q,markers:X,hasDonghyo:z}}).filter(Boolean);return g.jsxs("div",{className:"w-full max-w-[768px] mx-auto pb-12 desk:pb-4 p-4",children:[g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"   ,     ."}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),t?g.jsxs("div",{className:"mt-1 text-sm text-neutral-700 dark:text-neutral-300 space-y-1",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.name?t.name:" ",t.gender?`  ${t.gender}`:""]}),t.pillarsText?g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:":"})," ",t.pillarsText]}):null]}):g.jsx("div",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),g.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("div",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-200",children:""}),g.jsx("textarea",{ref:o,value:n,onChange:U=>r(U.target.value),rows:3,className:"mt-1 w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-neutral-400 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",placeholder:"      !"})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("button",{type:"button",onClick:()=>a(n.trim()),className:"rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:" "}),g.jsxs("span",{children:[" : ",i.trim()?i:""]})]}),g.jsxs("div",{className:"rounded-2xl border border-neutral-200 bg-neutral-50 p-3 dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="all",onChange:()=>u("all")})," "]}),g.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"radio",name:"drawMode",checked:l==="step",onChange:()=>u("step")})," "]})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:l==="all"?k:y,disabled:p||h,className:"rounded-xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white hover:bg-neutral-800 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-neutral-200 cursor-pointer",children:l==="all"?" ":`1  (${d.length}/6)`}),g.jsx("button",{type:"button",onClick:w,className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:""}),h?g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[g.jsx("span",{children:" "}),g.jsx("span",{className:"animate-pulse",children:"..."})]}):null]})]})]}),g.jsxs("div",{className:"mt-4",ref:O,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("div",{className:"hidden md:block",children:g.jsx(cu,{enabled:!0,adUnit:CNe,width:728,height:90})}),g.jsx("div",{className:"md:hidden",children:g.jsx(cu,{enabled:!0,adUnit:ONe,width:320,height:50})})]}),b?g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-gradient-to-b from-amber-50 to-white p-4 shadow-sm dark:border-neutral-800 dark:from-neutral-900 dark:to-neutral-950",children:g.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[g.jsxs("div",{className:"w-full md:w-[180px]",children:[g.jsx("div",{className:"rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm font-semibold text-amber-900 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:C}),g.jsxs("div",{className:"mt-3 rounded-xl border border-amber-200 bg-white px-3 py-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-300",children:" "}),g.jsx("div",{className:"mt-2 flex flex-col gap-2",children:P.map((U,W)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:6-W}),g.jsx(oNe,{yinYang:Bx(U.value),changing:!1,showChanging:!1})]},`line-${W}`))})]})]}),g.jsxs("div",{className:"flex-1 rounded-xl border border-amber-200 bg-white p-4 dark:border-neutral-700 dark:bg-neutral-900",children:[g.jsx("div",{className:"space-y-2",children:($.length?$:[]).map(U=>g.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-amber-100 bg-amber-50/50 px-3 py-2 text-sm dark:border-neutral-800 dark:bg-neutral-950",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:[U.label," (",U.yinYang,")"]}),g.jsxs("div",{className:"text-xs text-neutral-700 dark:text-neutral-300",children:[U.liuQin||"-"," ",U.zhi?`  ${U.zhi}`:""]})]}),g.jsxs("div",{className:"flex flex-wrap gap-1 text-[10px] font-semibold text-amber-900 dark:text-neutral-200",children:[U.hasDonghyo&&g.jsx("span",{className:"rounded border border-red-200 bg-red-50 px-1.5 py-0.5 text-red-600 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300",children:""}),U.markers.map(W=>g.jsx("span",{className:"rounded border border-amber-200 bg-white px-1.5 py-0.5 dark:border-neutral-700 dark:bg-neutral-900",children:W},`${U.label}-${W}`))]})]},U.label))}),!$.length&&g.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-neutral-800 dark:text-neutral-100",children:D})]})]})}):g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"   ."})]}),g.jsxs("div",{className:"mt-4 rounded-2xl border border-neutral-200 bg-white p-4 dark:border-neutral-800 dark:bg-neutral-900",children:[g.jsx("div",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:" "}),g.jsx("div",{className:"mt-1 text-xs text-neutral-600 dark:text-neutral-400",children:"   AI    ."}),b?g.jsx("button",{type:"button",onClick:S,className:"mt-3 w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-xs font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:"AI   "}):g.jsx("div",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:"  ."})]}),j?g.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 w-[90%] max-w-sm -translate-x-1/2",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white px-4 py-3 text-sm text-neutral-900 shadow-lg dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-100",children:j})}):null]})}const DNe="DAN-INfSKh1pW2cEtWNu";function Tb(e){return!e?.stem||!e?.branch?"":`${e.stem}${e.branch}`}function PNe(e){const t=[e.year?`${e.year}`:"",e.month?`${e.month}`:"",e.day?`${e.day}`:"",e.hour?`${e.hour}`:""].filter(Boolean);return t.length?t.join(" "):""}function vk(e){if(typeof e!="string")return!1;const t=e.trim();return t===""||t===""||t===""||t==="self"||t===""||t===""}function RNe({current:e}){const t=yy(h=>h.useDST),n=e.mingSikType,r=_.useMemo(()=>h2(e,t),[e,t]),[i,a]=_.useState(null),o=Jr(h=>h.date),l=qv(e,n,i??o??void 0),u=_.useMemo(()=>{const h={year:Tb(r.year),month:Tb(r.month),day:Tb(r.day),hour:Tb(r.hour)},p=e.ganjiText?.trim()||e.ganji?.trim()||PNe(h),b={daeun:l.dae.gz||void 0,seun:l.se.gz||void 0,wolun:l.wol.gz||void 0,ilun:l.il.gz||void 0};return{name:e.name||void 0,gender:e.gender||void 0,pillarsText:p,pillars:h,luck:b}},[e,l,r]),d=_.useMemo(()=>({sourceRoute:"/iching",currentId:e.id,currentName:e.name??null}),[e.id,e.name]);return g.jsx("div",{className:"py-2",children:g.jsx(MNe,{saju:u,viewMeta:d,onBaseDateChange:a},e.id)})}function LNe(){const e=yn(w=>w.list),t=yn(w=>w.loading),n=yn(w=>w.currentId),r=yn(w=>w.setCurrentId),i=Vl(),a=_.useRef(!1),[o,l]=_.useState(!1),u=_.useRef(!1),d=dn(w=>w.shouldShowAdsNow()),h=_.useMemo(()=>e.find(S=>vk(S.relationship))?.id??null,[e]);_.useEffect(()=>{if(t||e.length===0)return;const w=h??e[0]?.id??null;if(!a.current){w&&n!==w&&r(w),a.current=!0;return}n&&!e.some(S=>S.id===n)&&w&&r(w)},[t,e,n,h,r]),_.useEffect(()=>{t&&l(!0)},[t]);const p=_.useMemo(()=>e.find(w=>w.id===n)??null,[e,n]),b=_.useMemo(()=>p||(e.find(S=>vk(S.relationship))??e[0]??null),[p,e]),y=_.useMemo(()=>{const w=e.find(S=>vk(S.relationship));return w?[w,...e.filter(S=>S.id!==w.id)]:e},[e]);_.useEffect(()=>{o&&(t||e.length>0||u.current||(u.current=!0,alert("   .  ."),i("/",{replace:!0})))},[o,e.length,t,i]),_.useEffect(()=>{let w=!0;Re.auth.getSession().then(({data:j})=>{w&&(j.session?.user||i("/",{replace:!0}))});const{data:S}=Re.auth.onAuthStateChange((j,O)=>{O?.user||i("/",{replace:!0})});return()=>{w=!1,S.subscription.unsubscribe()}},[i]);const k=_.useMemo(()=>n||h||(e[0]?.id??""),[n,h,e]);return g.jsxs("div",{className:"min-h-screen bg-neutral-100 dark:bg-neutral-950",children:[g.jsx(eH,{enabled:d}),d&&g.jsx(aH,{enabled:!0,clientId:"ca-pub-4729618898154189",slotId:"1598573921",width:160,height:600,showAfterScrollY:0,side:"left",sidePx:16,topPx:60,breakpointClassName:"hidden desk:block"}),g.jsx("div",{className:"hidden desk:block",children:g.jsx(tH,{enabled:d,adUnit:DNe,width:160,height:600,showAfterScrollY:0,rightPx:16,topPx:60,breakpointClassName:"hidden desk:block"})}),g.jsxs("div",{className:"w-full max-w-[768px] mx-auto px-4 pt-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"   "}),g.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"    ."})]}),g.jsx(IE,{to:"/",className:"rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-semibold text-neutral-800 hover:bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:hover:bg-neutral-800",children:""})]}),e.length>0&&g.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("label",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:" "}),g.jsxs("select",{className:"w-full sm:w-[320px] rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",value:k,onChange:w=>{const S=w.target.value;S&&r(S)},children:[g.jsx("option",{value:"",disabled:!0,children:""}),y.map(w=>g.jsx("option",{value:w.id,children:w.name?.trim()?w.name:" "},w.id))]})]})]}),t&&e.length===0&&g.jsx("div",{className:"w-full max-w-[768px] mx-auto px-4 py-10",children:g.jsx("div",{className:"rounded-2xl border border-neutral-200 bg-white p-4 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:" .."})}),b&&g.jsx(RNe,{current:b})]})}function INe(e){return typeof e=="object"&&e!==null}function $Ne(e){if(!INe(e))return null;const t=typeof e.ok=="boolean"?e.ok:void 0,n=typeof e.total_active_ms=="number"?e.total_active_ms:void 0,r=typeof e.upgraded_to_basic=="boolean"?e.upgraded_to_basic:void 0;return{ok:t,total_active_ms:n,upgraded_to_basic:r}}function bH({enabled:e=!0,intervalMs:t=6e4,path:n,onBasicUnlocked:r,onTotalActiveMs:i}){const a=_.useRef(!1),o=_.useRef(""),l=_.useRef(!1),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(0);return _.useEffect(()=>{o.current=n??""},[n]),_.useEffect(()=>{let b=null;return(async()=>{const{data:k}=await Re.auth.getSession();u.current=k.session?.user?.id??null;const S=Re.auth.onAuthStateChange((j,O)=>{u.current=O?.user?.id??null,l.current=!1}).data?.subscription;S&&typeof S.unsubscribe=="function"&&(b=()=>S.unsubscribe())})(),()=>{b&&b()}},[]),_.useEffect(()=>{if(!e)return;const b=async w=>{if(document.visibilityState!=="visible")return;const S=Date.now();if(!(w!=="init"&&S-p.current<1e4)&&(p.current=S,!a.current)){a.current=!0;try{if(!u.current)return;const O=o.current||null,{data:A,error:C}=await Re.rpc("ping_activity",{p_last_path:O});if(C)return;const D=$Ne(A);if(!D)return;typeof D.total_active_ms=="number"&&i?.(D.total_active_ms),D.upgraded_to_basic===!0&&!l.current&&(l.current=!0,r?.())}finally{a.current=!1}}};b("init");const y=Math.floor(Math.random()*5e3);h.current=window.setTimeout(()=>{b("interval"),d.current=window.setInterval(()=>void b("interval"),t)},y);const k=()=>{document.visibilityState==="visible"&&b("visible")};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k),h.current!==null&&(window.clearTimeout(h.current),h.current=null),d.current!==null&&(window.clearInterval(d.current),d.current=null)}},[e,t,r,i]),null}function BNe(){const e=yn(a=>a.loadFromServer),t=yn(a=>a.migrateLocalToServer),n=vn(a=>a.loadFromServer),r=dn(a=>a.loadFromServer),i=_.useCallback(async()=>{await t(),await Promise.all([r(),n(),e()])},[t,r,n,e]);return _.useEffect(()=>{i();const{data:a}=Re.auth.onAuthStateChange(o=>{o==="TOKEN_REFRESHED"||o==="INITIAL_SESSION"||i()});return()=>{a.subscription.unsubscribe()}},[i]),null}function zNe(e){try{const t=localStorage.getItem(e);if(!t)return 0;const n=Number(t);return Number.isFinite(n)?n:0}catch{return 0}}function UNe(e,t){try{localStorage.setItem(e,String(t))}catch{}}function FNe(e){return e<=0?0:Math.floor(Math.random()*e)}function HNe({enabled:e=!0,href:t="https://open.kakao.com/o/sjBRz57h",hintTexts:n=["    !"," .",",  ."," ,   ,  !","  !  ! "],hideHintHours:r=24,cycleMs:i=4200,mobilePaddingX:a=0,bottomDockCssVarName:o="--bottom-dock"}){const l=_.useMemo(()=>"kakao_chat_hint_hide_until",[]),[u,d]=_.useState(!1),[h,p]=_.useState(()=>FNe(n.length)),b=_.useRef(null),y=_.useCallback(S=>{if(typeof document>"u")return;const j=`${Math.max(0,Math.floor(S))}px`;document.documentElement.style.setProperty(o,j)},[o]);if(_.useEffect(()=>{if(n.length<=0){p(0);return}p(S=>S%n.length)},[n.length]),_.useEffect(()=>{if(!e){d(!1);return}const S=zNe(l),j=Date.now();if(S>j){d(!1);return}const O=window.setTimeout(()=>d(!0),900);return()=>window.clearTimeout(O)},[e,l]),_.useEffect(()=>{if(!e||!u||n.length<=1)return;const S=window.setInterval(()=>{p(j=>j+1>=n.length?0:j+1)},i);return()=>window.clearInterval(S)},[e,u,n.length,i]),_.useEffect(()=>{if(!e||!u){y(0);return}const S=b.current;if(!S){y(0);return}const j=()=>{const O=Math.ceil(S.getBoundingClientRect().height);y(O)};if(j(),typeof ResizeObserver<"u"){const O=new ResizeObserver(j);return O.observe(S),()=>{O.disconnect(),y(0)}}return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),y(0)}},[e,u,y]),!e)return null;const k=()=>{UNe(l,Date.now()+r*60*60*1e3),d(!1),y(0)},w=n[h]??"";return g.jsxs(g.Fragment,{children:[g.jsx("style",{children:`
        @keyframes hintFadeCycle {
          0%   { opacity: 0; transform: translate3d(0, 6px, 0); }
          14%  { opacity: 1; transform: translate3d(0, 0, 0); }
          78%  { opacity: 1; transform: translate3d(0, 0, 0); }
          100% { opacity: 0; transform: translate3d(0, -2px, 0); }
        }
      `}),u&&n.length>0?g.jsx("div",{ref:b,className:"desk:hidden fixed left-0 right-0 bottom-0 z-[99] pointer-events-none",style:{paddingLeft:a,paddingRight:a,paddingBottom:0},children:g.jsxs("div",{className:"pointer-events-auto w-full border border-neutral-700 bg-neutral-900/95 text-white shadow-lg",style:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:10,padding:"4px 8px"},children:[g.jsx("div",{className:"min-w-0 text-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},title:w,children:w}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[g.jsx("button",{type:"button",onClick:k,"aria-label":" ",title:"",className:"w-8 h-8 rounded-full bg-neutral-800 border border-neutral-700 text-[14px] flex items-center justify-center hover:bg-neutral-700",children:g.jsx(iy,{})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`w-8 h-8 rounded-full bg-neutral-800 hover:bg-neutral-700 border border-neutral-700
                           flex items-center justify-center transition-colors`,children:g.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}):null,g.jsxs("div",{className:"hidden desk:block fixed right-5 bottom-5 z-[999]",children:[u&&n.length>0&&g.jsx("div",{className:"absolute bottom-14 right-0 w-max max-w-[260px]",children:g.jsxs("div",{className:"relative rounded-xl bg-neutral-900 text-white border border-neutral-700 shadow-lg px-3 py-2 text-xs whitespace-pre-line",style:{animationName:"hintFadeCycle",animationDuration:`${i}ms`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite"},children:[w,g.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-neutral-800 border border-neutral-700 text-[12px] flex items-center justify-center hover:bg-neutral-700 cursor-pointer","aria-label":" ",title:"",children:g.jsx(iy,{size:12})}),g.jsx("div",{className:"absolute -bottom-2 right-4 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-neutral-900"})]})}),g.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"  ",title:"( )",className:`flex items-center justify-center w-12 h-12 rounded-full shadow-lg
                     bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 transition-colors`,children:g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[g.jsx("path",{d:"M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7C20 13.88 18.88 15 17.5 15H10l-4.5 4V15H6.5C5.12 15 4 13.88 4 12.5v-7Z",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round"}),g.jsx("path",{d:"M7.5 7.5h9M7.5 10.5h6",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]})}function GNe(e){const t=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],n=[];for(let r=0;r<e;r+=1)n.push({leftPct:Math.random()*100,size:6+Math.floor(Math.random()*8),delayMs:Math.floor(Math.random()*300),durationMs:1200+Math.floor(Math.random()*900),rotate:Math.floor(Math.random()*360),driftPx:-40+Math.floor(Math.random()*80),color:t[r%t.length]});return n}function qNe({open:e,onClose:t}){const n=_.useMemo(()=>GNe(48),[]);return _.useEffect(()=>{if(!e)return;const r=a=>{a.key==="Escape"&&t()};window.addEventListener("keydown",r);const i=window.setTimeout(()=>t(),6e3);return()=>{window.removeEventListener("keydown",r),window.clearTimeout(i)}},[e,t]),e?g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center",children:[g.jsx("style",{children:`
        @keyframes confettiFall {
          0%   { transform: translate3d(var(--dx), -20px, 0) rotate(var(--rot)); opacity: 0; }
          10%  { opacity: 1; }
          100% { transform: translate3d(var(--dx), 560px, 0) rotate(calc(var(--rot) + 360deg)); opacity: 0; }
        }
        @keyframes pop {
          0% { transform: scale(0.98); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
      `}),g.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n.map((r,i)=>{const a={position:"absolute",top:0,left:`${r.leftPct}%`,width:r.size,height:Math.max(8,r.size+6),background:r.color,borderRadius:2,transform:`rotate(${r.rotate}deg)`,animation:`confettiFall ${r.durationMs}ms ease-out ${r.delayMs}ms forwards`,"--dx":`${r.driftPx}px`,"--rot":`${r.rotate}deg`};return g.jsx("span",{style:a},i)})}),g.jsxs("div",{className:`relative w-[92%] max-w-[420px] rounded-2xl bg-white dark:bg-neutral-950
                   border border-neutral-200 dark:border-neutral-800 shadow-xl p-5`,style:{animation:"pop 160ms ease-out"},children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("div",{className:"text-xl font-extrabold text-neutral-900 dark:text-neutral-50",children:"BASIC  !"}),g.jsx("div",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-300",children:"     ! "})]}),g.jsx("div",{className:"mt-4 flex justify-center gap-2",children:g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-neutral-900 text-white hover:bg-neutral-800 cursor-pointer",children:""})})]})]}):null}function P5(e){if(typeof e!="string")return"FREE";const t=e.toUpperCase();return t==="BASIC"?"BASIC":t==="PRO"?"PRO":"FREE"}function YNe(){const e=$r(),t=e.pathname+e.search,n=!e.pathname.startsWith("/admin")&&!e.pathname.startsWith("/impersonate")&&!e.pathname.startsWith("/auth/callback"),[r,i]=_.useState(!1),a=dn(b=>b.loaded),o=dn(b=>b.loading),l=dn(b=>b.userId),u=dn(b=>P5(b.plan)),d=_.useRef(!1);_.useEffect(()=>{n&&(a||o||dn.getState().loadFromServer())},[n,a,o]);const h=_.useCallback(async()=>{if(d.current)return;d.current=!0;const{data:b,error:y}=await Re.rpc("mark_basic_celebrated");if(y){console.warn("[basic celebration] rpc error:",y.message);return}b===!0&&i(!0)},[]);_.useEffect(()=>{n&&a&&l&&u==="BASIC"&&h()},[n,a,l,u,h]);const p=_.useCallback(()=>{(async()=>(await dn.getState().loadFromServer(),P5(dn.getState().plan)==="BASIC"&&(d.current=!1,await h())))()},[h]);return g.jsxs(g.Fragment,{children:[g.jsx(bH,{enabled:n,path:t,onBasicUnlocked:p}),g.jsx(HNe,{enabled:n}),g.jsx(qNe,{open:r,onClose:()=>i(!1)})]})}function KNe(e){return typeof e=="object"&&e!==null}function WNe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!KNe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}function VNe(){const e=Vl(),t=$r(),n=_.useRef(!1);return _.useEffect(()=>{const r=async()=>{if(!n.current){n.current=!0;try{const{data:o}=await Re.auth.getSession(),l=o.session?.user?.id??null;if(!l)return;const{data:u,error:d}=await Re.rpc("get_my_account_status");if(!d){!!WNe(u)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0});return}const{data:h,error:p}=await Re.from("profiles").select("disabled_at").eq("user_id",l).maybeSingle();if(p)return;(h?.disabled_at??null)&&t.pathname!=="/disabled"&&e("/disabled",{replace:!0})}finally{n.current=!1}}};r();const{data:i}=Re.auth.onAuthStateChange(()=>{r()}),a=()=>{document.visibilityState==="visible"&&r()};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a),i.subscription.unsubscribe()}},[e,t.pathname]),null}function ZNe(e){return typeof e=="object"&&e!==null}function XNe(e){if(!Array.isArray(e)||e.length===0)return null;const t=e[0];if(!ZNe(t))return null;const n=t.disabled_at;return typeof n=="string"?n:null}const JNe=Uo((e,t)=>({loaded:!1,loading:!1,userId:null,disabledAt:null,reset:()=>{e({loaded:!0,loading:!1,userId:null,disabledAt:null})},loadFromServer:async n=>{if(!t().loading){e({loading:!0,userId:n});try{const{data:i,error:a}=await Re.rpc("get_my_account_status");if(!a){const d=XNe(i);e({loaded:!0,loading:!1,disabledAt:d});return}const{data:o,error:l}=await Re.from("profiles").select("disabled_at").eq("user_id",n).maybeSingle();if(l){console.error("[accountStatus] load error:",l),e({loaded:!0,loading:!1,disabledAt:null});return}const u=o?.disabled_at??null;e({loaded:!0,loading:!1,disabledAt:typeof u=="string"?u:null})}catch(i){console.error("[accountStatus] exception:",i),e({loaded:!0,loading:!1,disabledAt:null})}}}}));function QNe(e){if(!e)return"-";const t=Date.parse(e);return Number.isFinite(t)?new Date(t).toLocaleString():e}function eOe(){const e=JNe(n=>n.disabledAt),t=_.useCallback(async()=>{try{await Re.auth.signOut(),window.location.href="/"}catch(n){console.error("signOut error:",n),window.location.href="/"}},[]);return g.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 text-white",children:g.jsxs("div",{className:"w-full max-w-[520px] bg-neutral-900 border border-neutral-700 rounded-xl p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-3",children:" "}),g.jsxs("div",{className:"text-sm text-neutral-300 leading-6",children:["        .",g.jsx("span",{className:"font-semibold text-neutral-100",children:QNe(e)})]}),g.jsx("div",{className:"mt-5 p-3 bg-neutral-800 border border-neutral-700 rounded text-sm text-neutral-300",children:"    ."}),g.jsxs("div",{className:"mt-6 flex gap-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600 cursor-pointer",children:""}),g.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-4 py-2 rounded bg-blue-700 hover:bg-blue-600 cursor-pointer",children:""})]})]})})}function tOe(){const e=$r();return _.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[e.pathname]),g.jsxs(g.Fragment,{children:[g.jsx(BNe,{}),g.jsx(YNe,{}),g.jsx(VNe,{}),g.jsx(bH,{}),g.jsxs(Lq,{children:[g.jsx(za,{path:"/auth/callback",element:g.jsx(aNe,{})}),g.jsx(za,{path:"/disabled",element:g.jsx(eOe,{})}),g.jsx(za,{path:"/iching",element:g.jsx(LNe,{})}),g.jsx(za,{path:"/",element:g.jsx(Eb,{})}),g.jsx(za,{path:"/faq",element:g.jsx(Eb,{})}),g.jsx(za,{path:"/couple",element:g.jsx(Eb,{})}),g.jsx(za,{path:"/result",element:g.jsx(Eb,{})}),g.jsx(za,{path:"/admin/*",element:g.jsx(EF,{})}),g.jsx(za,{path:"/impersonate",element:g.jsx(iNe,{})}),g.jsx(za,{path:"*",element:g.jsx(Pq,{to:"/",replace:!0})})]})]})}FG.createRoot(document.getElementById("root")).render(g.jsx(aY,{children:g.jsx(tOe,{})}));
