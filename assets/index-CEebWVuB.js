function c2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Mx={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function bU(){if(Xj)return xh;Xj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return xh.Fragment=t,xh.jsx=n,xh.jsxs=n,xh}var Jj;function _U(){return Jj||(Jj=1,Mx.exports=bU()),Mx.exports}var _=_U();const k3="harim.theme",wS="harim.settings.v1";function O3(){try{const e=localStorage.getItem(k3);if(e==="dark"||e==="light")return e;const t=localStorage.getItem(wS);if(t){const r=JSON.parse(t)?.theme;if(r==="dark"||r==="light")return r}return null}catch{return null}}function F0(e){try{localStorage.setItem(k3,e);const t=localStorage.getItem(wS),n=t?JSON.parse(t):{};localStorage.setItem(wS,JSON.stringify({...n,theme:e}))}catch{}}function j3(e){const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.style.setProperty("color-scheme",e)}(function(){try{const e=O3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");j3(e)}catch{}})();var Dx={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function xU(){if(Qj)return ft;Qj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function j(Y,B,X){this.props=Y,this.context=B,this.refs=E,this.updater=X||x}j.prototype.isReactComponent={},j.prototype.setState=function(Y,B){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,B,"setState")},j.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function D(){}D.prototype=j.prototype;function O(Y,B,X){this.props=Y,this.context=B,this.refs=E,this.updater=X||x}var M=O.prototype=new D;M.constructor=O,T(M,j.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function R(){}var $={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function G(Y,B,X){var ee=X.ref;return{$$typeof:e,type:Y,key:B,ref:ee!==void 0?ee:null,props:X}}function V(Y,B){return G(Y.type,B,Y.props)}function H(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function U(Y){var B={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(X){return B[X]})}var Z=/\/+/g;function re(Y,B){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):B.toString(36)}function ve(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(R,R):(Y.status="pending",Y.then(function(B){Y.status==="pending"&&(Y.status="fulfilled",Y.value=B)},function(B){Y.status==="pending"&&(Y.status="rejected",Y.reason=B)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function J(Y,B,X,ee,q){var W=typeof Y;(W==="undefined"||W==="boolean")&&(Y=null);var le=!1;if(Y===null)le=!0;else switch(W){case"bigint":case"string":case"number":le=!0;break;case"object":switch(Y.$$typeof){case e:case t:le=!0;break;case m:return le=Y._init,J(le(Y._payload),B,X,ee,q)}}if(le)return q=q(Y),le=ee===""?"."+re(Y,0):ee,N(q)?(X="",le!=null&&(X=le.replace(Z,"$&/")+"/"),J(q,B,X,"",function(de){return de})):q!=null&&(H(q)&&(q=V(q,X+(q.key==null||Y&&Y.key===q.key?"":(""+q.key).replace(Z,"$&/")+"/")+le)),B.push(q)),1;le=0;var fe=ee===""?".":ee+":";if(N(Y))for(var Q=0;Q<Y.length;Q++)ee=Y[Q],W=fe+re(ee,Q),le+=J(ee,B,X,W,q);else if(Q=b(Y),typeof Q=="function")for(Y=Q.call(Y),Q=0;!(ee=Y.next()).done;)ee=ee.value,W=fe+re(ee,Q++),le+=J(ee,B,X,W,q);else if(W==="object"){if(typeof Y.then=="function")return J(ve(Y),B,X,ee,q);throw B=String(Y),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return le}function ae(Y,B,X){if(Y==null)return Y;var ee=[],q=0;return J(Y,ee,"","",function(W){return B.call(X,W,q++)}),ee}function ne(Y){if(Y._status===-1){var B=Y._result;B=B(),B.then(function(X){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=X)},function(X){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=X)}),Y._status===-1&&(Y._status=0,Y._result=B)}if(Y._status===1)return Y._result.default;throw Y._result}var ce=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},te={map:ae,forEach:function(Y,B,X){ae(Y,function(){B.apply(this,arguments)},X)},count:function(Y){var B=0;return ae(Y,function(){B++}),B},toArray:function(Y){return ae(Y,function(B){return B})||[]},only:function(Y){if(!H(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ft.Activity=p,ft.Children=te,ft.Component=j,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=O,ft.StrictMode=r,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ft.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return $.H.useMemoCache(Y)}},ft.cache=function(Y){return function(){return Y.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(Y,B,X){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ee=T({},Y.props),q=Y.key;if(B!=null)for(W in B.key!==void 0&&(q=""+B.key),B)!z.call(B,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&B.ref===void 0||(ee[W]=B[W]);var W=arguments.length-2;if(W===1)ee.children=X;else if(1<W){for(var le=Array(W),fe=0;fe<W;fe++)le[fe]=arguments[fe+2];ee.children=le}return G(Y.type,q,ee)},ft.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},ft.createElement=function(Y,B,X){var ee,q={},W=null;if(B!=null)for(ee in B.key!==void 0&&(W=""+B.key),B)z.call(B,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(q[ee]=B[ee]);var le=arguments.length-2;if(le===1)q.children=X;else if(1<le){for(var fe=Array(le),Q=0;Q<le;Q++)fe[Q]=arguments[Q+2];q.children=fe}if(Y&&Y.defaultProps)for(ee in le=Y.defaultProps,le)q[ee]===void 0&&(q[ee]=le[ee]);return G(Y,W,q)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(Y){return{$$typeof:c,render:Y}},ft.isValidElement=H,ft.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ne}},ft.memo=function(Y,B){return{$$typeof:f,type:Y,compare:B===void 0?null:B}},ft.startTransition=function(Y){var B=$.T,X={};$.T=X;try{var ee=Y(),q=$.S;q!==null&&q(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(R,ce)}catch(W){ce(W)}finally{B!==null&&X.types!==null&&(B.types=X.types),$.T=B}},ft.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ft.use=function(Y){return $.H.use(Y)},ft.useActionState=function(Y,B,X){return $.H.useActionState(Y,B,X)},ft.useCallback=function(Y,B){return $.H.useCallback(Y,B)},ft.useContext=function(Y){return $.H.useContext(Y)},ft.useDebugValue=function(){},ft.useDeferredValue=function(Y,B){return $.H.useDeferredValue(Y,B)},ft.useEffect=function(Y,B){return $.H.useEffect(Y,B)},ft.useEffectEvent=function(Y){return $.H.useEffectEvent(Y)},ft.useId=function(){return $.H.useId()},ft.useImperativeHandle=function(Y,B,X){return $.H.useImperativeHandle(Y,B,X)},ft.useInsertionEffect=function(Y,B){return $.H.useInsertionEffect(Y,B)},ft.useLayoutEffect=function(Y,B){return $.H.useLayoutEffect(Y,B)},ft.useMemo=function(Y,B){return $.H.useMemo(Y,B)},ft.useOptimistic=function(Y,B){return $.H.useOptimistic(Y,B)},ft.useReducer=function(Y,B,X){return $.H.useReducer(Y,B,X)},ft.useRef=function(Y){return $.H.useRef(Y)},ft.useState=function(Y){return $.H.useState(Y)},ft.useSyncExternalStore=function(Y,B,X){return $.H.useSyncExternalStore(Y,B,X)},ft.useTransition=function(){return $.H.useTransition()},ft.version="19.2.1",ft}var eN;function of(){return eN||(eN=1,Dx.exports=xU()),Dx.exports}var A=of();const cn=Pi(A),wU=c2({__proto__:null,default:cn},[A]);var Px={exports:{}},wh={},Rx={exports:{}},Lx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function SU(){return tN||(tN=1,(function(e){function t(J,ae){var ne=J.length;J.push(ae);e:for(;0<ne;){var ce=ne-1>>>1,te=J[ce];if(0<i(te,ae))J[ce]=ae,J[ne]=te,ne=ce;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],ne=J.pop();if(ne!==ae){J[0]=ne;e:for(var ce=0,te=J.length,Y=te>>>1;ce<Y;){var B=2*(ce+1)-1,X=J[B],ee=B+1,q=J[ee];if(0>i(X,ne))ee<te&&0>i(q,X)?(J[ce]=q,J[ee]=ne,ce=ee):(J[ce]=X,J[B]=ne,ce=B);else if(ee<te&&0>i(q,ne))J[ce]=q,J[ee]=ne,ce=ee;else break e}}return ae}function i(J,ae){var ne=J.sortIndex-ae.sortIndex;return ne!==0?ne:J.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],m=1,p=null,y=3,b=!1,x=!1,T=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(J){for(var ae=n(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=J)r(f),ae.sortIndex=ae.expirationTime,t(d,ae);else break;ae=n(f)}}function N(J){if(T=!1,M(J),!x)if(n(d)!==null)x=!0,R||(R=!0,U());else{var ae=n(f);ae!==null&&ve(N,ae.startTime-J)}}var R=!1,$=-1,z=5,G=-1;function V(){return E?!0:!(e.unstable_now()-G<z)}function H(){if(E=!1,R){var J=e.unstable_now();G=J;var ae=!0;try{e:{x=!1,T&&(T=!1,D($),$=-1),b=!0;var ne=y;try{t:{for(M(J),p=n(d);p!==null&&!(p.expirationTime>J&&V());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,y=p.priorityLevel;var te=ce(p.expirationTime<=J);if(J=e.unstable_now(),typeof te=="function"){p.callback=te,M(J),ae=!0;break t}p===n(d)&&r(d),M(J)}else r(d);p=n(d)}if(p!==null)ae=!0;else{var Y=n(f);Y!==null&&ve(N,Y.startTime-J),ae=!1}}break e}finally{p=null,y=ne,b=!1}ae=void 0}}finally{ae?U():R=!1}}}var U;if(typeof O=="function")U=function(){O(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,re=Z.port2;Z.port1.onmessage=H,U=function(){re.postMessage(null)}}else U=function(){j(H,0)};function ve(J,ae){$=j(function(){J(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ne=y;y=ae;try{return J()}finally{y=ne}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=y;y=J;try{return ae()}finally{y=ne}},e.unstable_scheduleCallback=function(J,ae,ne){var ce=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ce+ne:ce):ne=ce,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ne+te,J={id:m++,callback:ae,priorityLevel:J,startTime:ne,expirationTime:te,sortIndex:-1},ne>ce?(J.sortIndex=ne,t(f,J),n(d)===null&&J===n(f)&&(T?(D($),$=-1):T=!0,ve(N,ne-ce))):(J.sortIndex=te,t(d,J),x||b||(x=!0,R||(R=!0,U()))),J},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(J){var ae=y;return function(){var ne=y;y=ae;try{return J.apply(this,arguments)}finally{y=ne}}}})(Lx)),Lx}var nN;function EU(){return nN||(nN=1,Rx.exports=SU()),Rx.exports}var Ix={exports:{}},Yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function AU(){if(rN)return Yr;rN=1;var e=of();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,m)},Yr.flushSync=function(d){var f=s.T,m=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=f,r.p=m,r.d.f()}},Yr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Yr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Yr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Yr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Yr.requestFormReset=function(d){r.d.r(d)},Yr.unstable_batchedUpdates=function(d,f){return d(f)},Yr.useFormState=function(d,f,m){return s.H.useFormState(d,f,m)},Yr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Yr.version="19.2.1",Yr}var iN;function N3(){if(iN)return Ix.exports;iN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ix.exports=AU(),Ix.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function TU(){if(aN)return wh;aN=1;var e=EU(),t=of(),n=N3();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,v=l;;){var S=h.return;if(S===null)break;var k=S.alternate;if(k===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===k.child){for(k=S.child;k;){if(k===h)return d(S),o;if(k===v)return d(S),l;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=S,v=k;else{for(var I=!1,K=S.child;K;){if(K===h){I=!0,h=S,v=k;break}if(K===v){I=!0,v=S,h=k;break}K=K.sibling}if(!I){for(K=k.child;K;){if(K===h){I=!0,h=k,v=S;break}if(K===v){I=!0,v=k,h=S;break}K=K.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Symbol.for("react.client.reference");function re(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList";case G:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case O:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case M:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return l=o.displayName||null,l!==null?l:re(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return re(o(l))}catch{}}return null}var ve=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ce=[],te=-1;function Y(o){return{current:o}}function B(o){0>te||(o.current=ce[te],ce[te]=null,te--)}function X(o,l){te++,ce[te]=o.current,o.current=l}var ee=Y(null),q=Y(null),W=Y(null),le=Y(null);function fe(o,l){switch(X(W,l),X(q,o),X(ee,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?_j(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=_j(l),o=xj(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}B(ee),X(ee,o)}function Q(){B(ee),B(q),B(W)}function de(o){o.memoizedState!==null&&X(le,o);var l=ee.current,h=xj(l,o.type);l!==h&&(X(q,o),X(ee,h))}function we(o){q.current===o&&(B(ee),B(q)),le.current===o&&(B(le),vh._currentValue=ne)}var se,Ne;function be(o){if(se===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);se=l&&l[1]||"",Ne=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+o+Ne}var Le=!1;function Me(o,l){if(!o||Le)return"";Le=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Te){var Ae=Te}Reflect.construct(o,[],Pe)}else{try{Pe.call()}catch(Te){Ae=Te}o.call(Pe.prototype)}}else{try{throw Error()}catch(Te){Ae=Te}(Pe=o())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Te){if(Te&&Ae&&typeof Te.stack=="string")return[Te.stack,Ae.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),I=k[0],K=k[1];if(I&&K){var oe=I.split(`
`),Se=K.split(`
`);for(S=v=0;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Se.length&&!Se[S].includes("DetermineComponentFrameRoot");)S++;if(v===oe.length||S===Se.length)for(v=oe.length-1,S=Se.length-1;1<=v&&0<=S&&oe[v]!==Se[S];)S--;for(;1<=v&&0<=S;v--,S--)if(oe[v]!==Se[S]){if(v!==1||S!==1)do if(v--,S--,0>S||oe[v]!==Se[S]){var je=`
`+oe[v].replace(" at new "," at ");return o.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",o.displayName)),je}while(1<=v&&0<=S);break}}}finally{Le=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?be(h):""}function Ie(o,l){switch(o.tag){case 26:case 27:case 5:return be(o.type);case 16:return be("Lazy");case 13:return o.child!==l&&l!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return Me(o.type,!1);case 11:return Me(o.type.render,!1);case 1:return Me(o.type,!0);case 31:return be("Activity");default:return""}}function Be(o){try{var l="",h=null;do l+=Ie(o,h),h=o,o=o.return;while(o);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var ye=Object.prototype.hasOwnProperty,$e=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ge=e.unstable_shouldYield,Ue=e.unstable_requestPaint,ze=e.unstable_now,He=e.unstable_getCurrentPriorityLevel,ut=e.unstable_ImmediatePriority,it=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,Kn=e.unstable_LowPriority,zn=e.unstable_IdlePriority,Ur=e.log,ti=e.unstable_setDisableYieldValue,En=null,$t=null;function Cn(o){if(typeof Ur=="function"&&ti(o),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(En,o)}catch{}}var An=Math.clz32?Math.clz32:Ga,Ii=Math.log,Ks=Math.LN2;function Ga(o){return o>>>=0,o===0?32:31-(Ii(o)/Ks|0)|0}var Un=256,Wn=262144,_o=4194304;function mi(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Hr(o,l,h){var v=o.pendingLanes;if(v===0)return 0;var S=0,k=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var K=v&134217727;return K!==0?(v=K&~k,v!==0?S=mi(v):(I&=K,I!==0?S=mi(I):h||(h=K&~o,h!==0&&(S=mi(h))))):(K=v&~k,K!==0?S=mi(K):I!==0?S=mi(I):h||(h=v&~o,h!==0&&(S=mi(h)))),S===0?0:l!==0&&l!==S&&(l&k)===0&&(k=S&-S,h=l&-l,k>=h||k===32&&(h&4194048)!==0)?l:S}function fa(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Ws(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var o=_o;return _o<<=1,(_o&62914560)===0&&(_o=4194304),o}function Ql(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function qa(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ec(o,l,h,v,S,k){var I=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var K=o.entanglements,oe=o.expirationTimes,Se=o.hiddenUpdates;for(h=I&~h;0<h;){var je=31-An(h),Pe=1<<je;K[je]=0,oe[je]=-1;var Ae=Se[je];if(Ae!==null)for(Se[je]=null,je=0;je<Ae.length;je++){var Te=Ae[je];Te!==null&&(Te.lane&=-536870913)}h&=~Pe}v!==0&&Vs(o,v,0),k!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=k&~(I&~l))}function Vs(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var v=31-An(l);o.entangledLanes|=l,o.entanglements[v]=o.entanglements[v]|1073741824|h&261930}function tc(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-An(h),S=1<<v;S&l|o[v]&l&&(o[v]|=l),h&=~S}}function nc(o,l){var h=l&-l;return h=(h&42)!==0?1:rr(h),(h&(o.suspendedLanes|l))!==0?0:h}function rr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xe(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Yo(){var o=ae.p;return o!==0?o:(o=window.event,o===void 0?32:Gj(o.type))}function pi(o,l){var h=ae.p;try{return ae.p=o,l()}finally{ae.p=h}}var Fr=Math.random().toString(36).slice(2),gn="__reactFiber$"+Fr,Hn="__reactProps$"+Fr,$i="__reactContainer$"+Fr,ha="__reactEvents$"+Fr,_e="__reactListeners$"+Fr,Ye="__reactHandles$"+Fr,ht="__reactResources$"+Fr,_t="__reactMarker$"+Fr;function ot(o){delete o[gn],delete o[Hn],delete o[ha],delete o[_e],delete o[Ye]}function gt(o){var l=o[gn];if(l)return l;for(var h=o.parentNode;h;){if(l=h[$i]||h[gn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=Oj(o);o!==null;){if(h=o[gn])return h;o=Oj(o)}return l}o=h,h=o.parentNode}return null}function Tt(o){if(o=o[gn]||o[$i]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function bt(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ir(o){var l=o[ht];return l||(l=o[ht]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function kt(o){o[_t]=!0}var Zs=new Set,rc={};function ma(o,l){Or(o,l),Or(o+"Capture",l)}function Or(o,l){for(rc[o]=l,o=0;o<l.length;o++)Zs.add(l[o])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},ac={};function oc(o){return ye.call(ac,o)?!0:ye.call(ic,o)?!1:Ko.test(o)?ac[o]=!0:(ic[o]=!0,!1)}function xt(o,l,h){if(oc(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function Kt(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function gi(o,l,h,v){if(v===null)o.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+v)}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Wo(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Af(o,l,h){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,k=v.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(I){h=""+I,k.call(this,I)}}),Object.defineProperty(o,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function dt(o){if(!o._valueTracker){var l=Wo(o)?"checked":"value";o._valueTracker=Af(o,l,""+o[l])}}function vn(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=Wo(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function Xs(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ou=/[\n"\\]/g;function dn(o){return o.replace(Ou,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tf(o,l,h,v,S,k,I,K){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),l!=null?I==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+ar(l)):o.value!==""+ar(l)&&(o.value=""+ar(l)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),l!=null?Ya(o,I,ar(l)):h!=null?Ya(o,I,ar(h)):v!=null&&o.removeAttribute("value"),S==null&&k!=null&&(o.defaultChecked=!!k),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.name=""+ar(K):o.removeAttribute("name")}function sc(o,l,h,v,S,k,I,K){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),l!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||l!=null)){dt(o);return}h=h!=null?""+ar(h):"",l=l!=null?""+ar(l):h,K||l===o.value||(o.value=l),o.defaultValue=l}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=K?o.checked:!!v,o.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I),dt(o)}function Ya(o,l,h){l==="number"&&Xs(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Jt(o,l,h,v){if(o=o.options,l){l={};for(var S=0;S<h.length;S++)l["$"+h[S]]=!0;for(h=0;h<o.length;h++)S=l.hasOwnProperty("$"+o[h].value),o[h].selected!==S&&(o[h].selected=S),S&&v&&(o[h].defaultSelected=!0)}else{for(h=""+ar(h),l=null,S=0;S<o.length;S++){if(o[S].value===h){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function xo(o,l,h){if(l!=null&&(l=""+ar(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+ar(h):""}function Js(o,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(r(92));if(ve(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=ar(l),o.defaultValue=h,v=o.textContent,v===h&&v!==""&&v!==null&&(o.value=v),dt(o)}function pa(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(o,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":v?o.setProperty(l,h):typeof h!="number"||h===0||kf.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function ju(o,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var S in l)v=l[S],l.hasOwnProperty(S)&&h[S]!==v&&Qs(o,S,v)}else for(var k in l)l.hasOwnProperty(k)&&Qs(o,k,l[k])}function lc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(o){return Of.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function vi(){}var Cu=null;function cc(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var tl=null,ct=null;function Bi(o){var l=Tt(o);if(l&&(o=l.stateNode)){var h=o[Hn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Tf(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+dn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var S=v[Hn]||null;if(!S)throw Error(r(90));Tf(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===o.form&&vn(v)}break e;case"textarea":xo(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Jt(o,!!h.multiple,l,!1)}}}var Ut=!1;function jf(o,l,h){if(Ut)return o(l,h);Ut=!0;try{var v=o(l);return v}finally{if(Ut=!1,(tl!==null||ct!==null)&&(dg(),tl&&(l=tl,o=ct,ct=tl=null,Bi(l),o)))for(l=0;l<o.length;l++)Bi(o[l])}}function Vo(o,l){var h=o.stateNode;if(h===null)return null;var v=h[Hn]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(zi)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){uc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{uc=!1}var ga=null,Zo=null,Mn=null;function wo(){if(Mn)return Mn;var o,l=Zo,h=l.length,v,S="value"in ga?ga.value:ga.textContent,k=S.length;for(o=0;o<h&&l[o]===S[o];o++);var I=h-o;for(v=1;v<=I&&l[h-v]===S[k-v];v++);return Mn=S.slice(o,1<v?1-v:void 0)}function dc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function fc(){return!0}function gp(){return!1}function jr(o){function l(h,v,S,k,I){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(h=o[K],this[K]=h?h(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?fc:gp,this.isPropagationStopped=gp,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),l}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=jr(Ka),nl=p({},Ka,{view:0,detail:0}),Ot=jr(nl),Nf,ni,Wa,hc=p({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wa&&(Wa&&o.type==="mousemove"?(Nf=o.screenX-Wa.screenX,ni=o.screenY-Wa.screenY):ni=Nf=0,Wa=o),Nf)},movementY:function(o){return"movementY"in o?o.movementY:ni}}),vp=jr(hc),Cf=p({},hc,{dataTransfer:0}),Hb=jr(Cf),yp=p({},nl,{relatedTarget:0}),Mf=jr(yp),Fb=p({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=jr(Fb),Gb=p({},Ka,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),va=jr(Gb),qb=p({},Ka,{data:0}),Pf=jr(qb),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rf(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=_p[o])?!!l[o]:!1}function Lf(){return Rf}var xp=p({},nl,{key:function(o){if(o.key){var l=So[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=dc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?bp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lf,charCode:function(o){return o.type==="keypress"?dc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?dc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wp=jr(xp),Yb=p({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sp=jr(Yb),If=p({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lf}),Kb=jr(If),Ep=p({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=jr(Ep),Du=p({},hc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=jr(Du),Wb=p({},Ka,{newState:0,oldState:0}),mc=jr(Wb),yi=[9,13,27,32],Pu=zi&&"CompositionEvent"in window,rl=null;zi&&"documentMode"in document&&(rl=document.documentMode);var Vb=zi&&"TextEvent"in window&&!rl,Ru=zi&&(!Pu||rl&&8<rl&&11>=rl),Lu=" ",Tp=!1;function kp(o,l){switch(o){case"keyup":return yi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var il=!1;function Hi(o,l){switch(o){case"compositionend":return $f(l);case"keypress":return l.which!==32?null:(Tp=!0,Lu);case"textInput":return o=l.data,o===Lu&&Tp?null:o;default:return null}}function al(o,l){if(il)return o==="compositionend"||!Pu&&kp(o,l)?(o=wo(),Mn=Zo=ga=null,il=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ru&&l.locale!=="ko"?null:l.data;default:return null}}var Zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ya(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Zb[o.type]:l==="textarea"}function Op(o,l,h,v){tl?ct?ct.push(v):ct=[v]:tl=v,l=yg(l,"onChange"),0<l.length&&(h=new Mu("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var ba=null,pc=null;function gc(o){mj(o,0)}function vc(o){var l=bt(o);if(vn(l))return o}function yc(o,l){if(o==="change")return l}var jp=!1;if(zi){var _a;if(zi){var ol="oninput"in document;if(!ol){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),ol=typeof Np.oninput=="function"}_a=ol}else _a=!1;jp=_a&&(!document.documentMode||9<document.documentMode)}function Iu(){ba&&(ba.detachEvent("onpropertychange",Cp),pc=ba=null)}function Cp(o){if(o.propertyName==="value"&&vc(pc)){var l=[];Op(l,pc,o,cc(o)),jf(gc,l)}}function Va(o,l,h){o==="focusin"?(Iu(),ba=l,pc=h,ba.attachEvent("onpropertychange",Cp)):o==="focusout"&&Iu()}function Xb(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return vc(pc)}function sl(o,l){if(o==="click")return vc(l)}function Jb(o,l){if(o==="input"||o==="change")return vc(l)}function Za(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var pr=typeof Object.is=="function"?Object.is:Za;function ll(o,l){if(pr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!ye.call(l,S)||!pr(o[S],l[S]))return!1}return!0}function $u(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function bc(o,l){var h=$u(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$u(h)}}function Bu(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Bu(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function _c(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Xs(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Xs(o.document)}return l}function Eo(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var zu=zi&&"documentMode"in document&&11>=document.documentMode,Ao=null,Uu=null,xc=null,cl=!1;function Mp(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;cl||Ao==null||Ao!==Xs(v)||(v=Ao,"selectionStart"in v&&Eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),xc&&ll(xc,v)||(xc=v,v=yg(Uu,"onSelect"),0<v.length&&(l=new Mu("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=Ao)))}function To(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var ul={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},Hu={},Dp={};zi&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function gr(o){if(Hu[o])return Hu[o];if(!ul[o])return o;var l=ul[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Dp)return Hu[o]=l[h];return o}var wc=gr("animationend"),Pp=gr("animationiteration"),Sc=gr("animationstart"),Qb=gr("transitionrun"),Rp=gr("transitionstart"),e_=gr("transitioncancel"),dl=gr("transitionend"),Lp=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function bi(o,l){Lp.set(o,l),ma(l,[o])}var Ec=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},_i=[],Gr=0,Fu=0;function Ac(){for(var o=Gr,l=Fu=Gr=0;l<o;){var h=_i[l];_i[l++]=null;var v=_i[l];_i[l++]=null;var S=_i[l];_i[l++]=null;var k=_i[l];if(_i[l++]=null,v!==null&&S!==null){var I=v.pending;I===null?S.next=S:(S.next=I.next,I.next=S),v.pending=S}k!==0&&fl(h,S,k)}}function Oo(o,l,h,v){_i[Gr++]=o,_i[Gr++]=l,_i[Gr++]=h,_i[Gr++]=v,Fu|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Bf(o,l,h,v){return Oo(o,l,h,v),Tc(o)}function xa(o,l){return Oo(o,null,null,l),Tc(o)}function fl(o,l,h){o.lanes|=h;var v=o.alternate;v!==null&&(v.lanes|=h);for(var S=!1,k=o.return;k!==null;)k.childLanes|=h,v=k.alternate,v!==null&&(v.childLanes|=h),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(S=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,S&&l!==null&&(S=31-An(h),o=k.hiddenUpdates,v=o[S],v===null?o[S]=[l]:v.push(l),l.lane=h|536870912),k):null}function Tc(o){if(50<uh)throw uh=0,nx=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Jo={};function t_(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(o,l,h,v){return new t_(o,l,h,v)}function Gu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wa(o,l){var h=o.alternate;return h===null?(h=qr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function zf(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function kc(o,l,h,v,S,k){var I=0;if(v=o,typeof o=="function")Gu(o)&&(I=1);else if(typeof o=="string")I=sU(o,h,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case G:return o=qr(31,h,l,S),o.elementType=G,o.lanes=k,o;case T:return Qo(h.children,S,k,l);case E:I=8,S|=24;break;case j:return o=qr(12,h,l,S|2),o.elementType=j,o.lanes=k,o;case N:return o=qr(13,h,l,S),o.elementType=N,o.lanes=k,o;case R:return o=qr(19,h,l,S),o.elementType=R,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:I=10;break e;case D:I=9;break e;case M:I=11;break e;case $:I=14;break e;case z:I=16,v=null;break e}I=29,h=Error(r(130,o===null?"null":typeof o,"")),v=null}return l=qr(I,h,l,S),l.elementType=o,l.type=v,l.lanes=k,l}function Qo(o,l,h,v){return o=qr(7,o,v,l),o.lanes=h,o}function qu(o,l,h){return o=qr(6,o,null,l),o.lanes=h,o}function Uf(o){var l=qr(18,null,null,0);return l.stateNode=o,l}function Hf(o,l,h){return l=qr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var u=new WeakMap;function g(o,l){if(typeof o=="object"&&o!==null){var h=u.get(o);return h!==void 0?h:(l={value:o,source:l,stack:Be(l)},u.set(o,l),l)}return{value:o,source:l,stack:Be(l)}}var w=[],C=0,P=null,F=0,ie=[],pe=0,Ee=null,De=1,Ge="";function et(o,l){w[C++]=F,w[C++]=P,P=o,F=l}function vt(o,l,h){ie[pe++]=De,ie[pe++]=Ge,ie[pe++]=Ee,Ee=o;var v=De;o=Ge;var S=32-An(v)-1;v&=~(1<<S),h+=1;var k=32-An(l)+S;if(30<k){var I=S-S%5;k=(v&(1<<I)-1).toString(32),v>>=I,S-=I,De=1<<32-An(l)+S|h<<S|v,Ge=k+o}else De=1<<k|h<<S|v,Ge=o}function or(o){o.return!==null&&(et(o,1),vt(o,1,0))}function Dn(o){for(;o===P;)P=w[--C],w[C]=null,F=w[--C],w[C]=null;for(;o===Ee;)Ee=ie[--pe],ie[pe]=null,Ge=ie[--pe],ie[pe]=null,De=ie[--pe],ie[pe]=null}function ri(o,l){ie[pe++]=De,ie[pe++]=Ge,ie[pe++]=Ee,De=l.id,Ge=l.overflow,Ee=o}var Dt=null,Pt=null,wt=!1,jo=null,xi=!1,Yu=Error(r(519));function No(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oc(g(l,o)),Yu}function Ff(o){var l=o.stateNode,h=o.type,v=o.memoizedProps;switch(l[gn]=o,l[Hn]=v,h){case"dialog":Et("cancel",l),Et("close",l);break;case"iframe":case"object":case"embed":Et("load",l);break;case"video":case"audio":for(h=0;h<fh.length;h++)Et(fh[h],l);break;case"source":Et("error",l);break;case"img":case"image":case"link":Et("error",l),Et("load",l);break;case"details":Et("toggle",l);break;case"input":Et("invalid",l),sc(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Et("invalid",l);break;case"textarea":Et("invalid",l),Js(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||yj(l.textContent,h)?(v.popover!=null&&(Et("beforetoggle",l),Et("toggle",l)),v.onScroll!=null&&Et("scroll",l),v.onScrollEnd!=null&&Et("scrollend",l),v.onClick!=null&&(l.onclick=vi),l=!0):l=!1,l||No(o,!0)}function Tn(o){for(Dt=o.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Dt=Dt.return}}function Xa(o){if(o!==Dt)return!1;if(!wt)return Tn(o),wt=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||vx(o.type,o.memoizedProps)),h=!h),h&&Pt&&No(o),Tn(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Pt=kj(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Pt=kj(o)}else l===27?(l=Pt,Tl(o.type)?(o=wx,wx=null,Pt=o):Pt=l):Pt=Dt?Ea(o.stateNode.nextSibling):null;return!0}function es(){Pt=Dt=null,wt=!1}function Gf(){var o=jo;return o!==null&&(Ai===null?Ai=o:Ai.push.apply(Ai,o),jo=null),o}function Oc(o){jo===null?jo=[o]:jo.push(o)}var jc=Y(null),Co=null,Ja=null;function hl(o,l,h){X(jc,l._currentValue),l._currentValue=h}function ts(o){o._currentValue=jc.current,B(jc)}function n_(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function r_(o,l,h,v){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var k=S.dependencies;if(k!==null){var I=S.child;k=k.firstContext;e:for(;k!==null;){var K=k;k=S;for(var oe=0;oe<l.length;oe++)if(K.context===l[oe]){k.lanes|=h,K=k.alternate,K!==null&&(K.lanes|=h),n_(k.return,h,o),v||(I=null);break e}k=K.next}}else if(S.tag===18){if(I=S.return,I===null)throw Error(r(341));I.lanes|=h,k=I.alternate,k!==null&&(k.lanes|=h),n_(I,h,o),I=null}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===o){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}}function Ku(o,l,h,v){o=null;for(var S=l,k=!1;S!==null;){if(!k){if((S.flags&524288)!==0)k=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var I=S.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var K=S.type;pr(S.pendingProps.value,I.value)||(o!==null?o.push(K):o=[K])}}else if(S===le.current){if(I=S.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(vh):o=[vh])}S=S.return}o!==null&&r_(l,o,h,v),l.flags|=262144}function Ip(o){for(o=o.firstContext;o!==null;){if(!pr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Nc(o){Co=o,Ja=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Nr(o){return rk(Co,o)}function $p(o,l){return Co===null&&Nc(o),rk(o,l)}function rk(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ja===null){if(o===null)throw Error(r(308));Ja=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ja=Ja.next=l;return h}var r8=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,v){o.push(v)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},i8=e.unstable_scheduleCallback,a8=e.unstable_NormalPriority,Vn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function i_(){return{controller:new r8,data:new Map,refCount:0}}function qf(o){o.refCount--,o.refCount===0&&i8(a8,function(){o.controller.abort()})}var Yf=null,a_=0,Wu=0,Vu=null;function o8(o,l){if(Yf===null){var h=Yf=[];a_=0,Wu=lx(),Vu={status:"pending",value:void 0,then:function(v){h.push(v)}}}return a_++,l.then(ik,ik),l}function ik(){if(--a_===0&&Yf!==null){Vu!==null&&(Vu.status="fulfilled");var o=Yf;Yf=null,Wu=0,Vu=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function s8(o,l){var h=[],v={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return o.then(function(){v.status="fulfilled",v.value=l;for(var S=0;S<h.length;S++)(0,h[S])(l)},function(S){for(v.status="rejected",v.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),v}var ak=J.S;J.S=function(o,l){HO=ze(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&o8(o,l),ak!==null&&ak(o,l)};var Cc=Y(null);function o_(){var o=Cc.current;return o!==null?o:Qt.pooledCache}function Bp(o,l){l===null?X(Cc,Cc.current):X(Cc,l.pool)}function ok(){var o=o_();return o===null?null:{parent:Vn._currentValue,pool:o}}var Zu=Error(r(460)),s_=Error(r(474)),zp=Error(r(542)),Up={then:function(){}};function sk(o){return o=o.status,o==="fulfilled"||o==="rejected"}function lk(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(vi,vi),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,uk(o),o;default:if(typeof l.status=="string")l.then(vi,vi);else{if(o=Qt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(v){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=v}},function(v){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,uk(o),o}throw Dc=l,Zu}}function Mc(o){try{var l=o._init;return l(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Dc=h,Zu):h}}var Dc=null;function ck(){if(Dc===null)throw Error(r(459));var o=Dc;return Dc=null,o}function uk(o){if(o===Zu||o===zp)throw Error(r(483))}var Xu=null,Kf=0;function Hp(o){var l=Kf;return Kf+=1,Xu===null&&(Xu=[]),lk(Xu,o,l)}function Wf(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Fp(o,l){throw l.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function dk(o){function l(me,ue){if(o){var xe=me.deletions;xe===null?(me.deletions=[ue],me.flags|=16):xe.push(ue)}}function h(me,ue){if(!o)return null;for(;ue!==null;)l(me,ue),ue=ue.sibling;return null}function v(me){for(var ue=new Map;me!==null;)me.key!==null?ue.set(me.key,me):ue.set(me.index,me),me=me.sibling;return ue}function S(me,ue){return me=wa(me,ue),me.index=0,me.sibling=null,me}function k(me,ue,xe){return me.index=xe,o?(xe=me.alternate,xe!==null?(xe=xe.index,xe<ue?(me.flags|=67108866,ue):xe):(me.flags|=67108866,ue)):(me.flags|=1048576,ue)}function I(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function K(me,ue,xe,Ce){return ue===null||ue.tag!==6?(ue=qu(xe,me.mode,Ce),ue.return=me,ue):(ue=S(ue,xe),ue.return=me,ue)}function oe(me,ue,xe,Ce){var rt=xe.type;return rt===T?je(me,ue,xe.props.children,Ce,xe.key):ue!==null&&(ue.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===z&&Mc(rt)===ue.type)?(ue=S(ue,xe.props),Wf(ue,xe),ue.return=me,ue):(ue=kc(xe.type,xe.key,xe.props,null,me.mode,Ce),Wf(ue,xe),ue.return=me,ue)}function Se(me,ue,xe,Ce){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==xe.containerInfo||ue.stateNode.implementation!==xe.implementation?(ue=Hf(xe,me.mode,Ce),ue.return=me,ue):(ue=S(ue,xe.children||[]),ue.return=me,ue)}function je(me,ue,xe,Ce,rt){return ue===null||ue.tag!==7?(ue=Qo(xe,me.mode,Ce,rt),ue.return=me,ue):(ue=S(ue,xe),ue.return=me,ue)}function Pe(me,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=qu(""+ue,me.mode,xe),ue.return=me,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return xe=kc(ue.type,ue.key,ue.props,null,me.mode,xe),Wf(xe,ue),xe.return=me,xe;case x:return ue=Hf(ue,me.mode,xe),ue.return=me,ue;case z:return ue=Mc(ue),Pe(me,ue,xe)}if(ve(ue)||U(ue))return ue=Qo(ue,me.mode,xe,null),ue.return=me,ue;if(typeof ue.then=="function")return Pe(me,Hp(ue),xe);if(ue.$$typeof===O)return Pe(me,$p(me,ue),xe);Fp(me,ue)}return null}function Ae(me,ue,xe,Ce){var rt=ue!==null?ue.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return rt!==null?null:K(me,ue,""+xe,Ce);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return xe.key===rt?oe(me,ue,xe,Ce):null;case x:return xe.key===rt?Se(me,ue,xe,Ce):null;case z:return xe=Mc(xe),Ae(me,ue,xe,Ce)}if(ve(xe)||U(xe))return rt!==null?null:je(me,ue,xe,Ce,null);if(typeof xe.then=="function")return Ae(me,ue,Hp(xe),Ce);if(xe.$$typeof===O)return Ae(me,ue,$p(me,xe),Ce);Fp(me,xe)}return null}function Te(me,ue,xe,Ce,rt){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return me=me.get(xe)||null,K(ue,me,""+Ce,rt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case b:return me=me.get(Ce.key===null?xe:Ce.key)||null,oe(ue,me,Ce,rt);case x:return me=me.get(Ce.key===null?xe:Ce.key)||null,Se(ue,me,Ce,rt);case z:return Ce=Mc(Ce),Te(me,ue,xe,Ce,rt)}if(ve(Ce)||U(Ce))return me=me.get(xe)||null,je(ue,me,Ce,rt,null);if(typeof Ce.then=="function")return Te(me,ue,xe,Hp(Ce),rt);if(Ce.$$typeof===O)return Te(me,ue,xe,$p(ue,Ce),rt);Fp(ue,Ce)}return null}function Ve(me,ue,xe,Ce){for(var rt=null,Rt=null,Je=ue,yt=ue=0,Nt=null;Je!==null&&yt<xe.length;yt++){Je.index>yt?(Nt=Je,Je=null):Nt=Je.sibling;var Lt=Ae(me,Je,xe[yt],Ce);if(Lt===null){Je===null&&(Je=Nt);break}o&&Je&&Lt.alternate===null&&l(me,Je),ue=k(Lt,ue,yt),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt,Je=Nt}if(yt===xe.length)return h(me,Je),wt&&et(me,yt),rt;if(Je===null){for(;yt<xe.length;yt++)Je=Pe(me,xe[yt],Ce),Je!==null&&(ue=k(Je,ue,yt),Rt===null?rt=Je:Rt.sibling=Je,Rt=Je);return wt&&et(me,yt),rt}for(Je=v(Je);yt<xe.length;yt++)Nt=Te(Je,me,yt,xe[yt],Ce),Nt!==null&&(o&&Nt.alternate!==null&&Je.delete(Nt.key===null?yt:Nt.key),ue=k(Nt,ue,yt),Rt===null?rt=Nt:Rt.sibling=Nt,Rt=Nt);return o&&Je.forEach(function(Cl){return l(me,Cl)}),wt&&et(me,yt),rt}function st(me,ue,xe,Ce){if(xe==null)throw Error(r(151));for(var rt=null,Rt=null,Je=ue,yt=ue=0,Nt=null,Lt=xe.next();Je!==null&&!Lt.done;yt++,Lt=xe.next()){Je.index>yt?(Nt=Je,Je=null):Nt=Je.sibling;var Cl=Ae(me,Je,Lt.value,Ce);if(Cl===null){Je===null&&(Je=Nt);break}o&&Je&&Cl.alternate===null&&l(me,Je),ue=k(Cl,ue,yt),Rt===null?rt=Cl:Rt.sibling=Cl,Rt=Cl,Je=Nt}if(Lt.done)return h(me,Je),wt&&et(me,yt),rt;if(Je===null){for(;!Lt.done;yt++,Lt=xe.next())Lt=Pe(me,Lt.value,Ce),Lt!==null&&(ue=k(Lt,ue,yt),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return wt&&et(me,yt),rt}for(Je=v(Je);!Lt.done;yt++,Lt=xe.next())Lt=Te(Je,me,yt,Lt.value,Ce),Lt!==null&&(o&&Lt.alternate!==null&&Je.delete(Lt.key===null?yt:Lt.key),ue=k(Lt,ue,yt),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return o&&Je.forEach(function(yU){return l(me,yU)}),wt&&et(me,yt),rt}function Zt(me,ue,xe,Ce){if(typeof xe=="object"&&xe!==null&&xe.type===T&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:e:{for(var rt=xe.key;ue!==null;){if(ue.key===rt){if(rt=xe.type,rt===T){if(ue.tag===7){h(me,ue.sibling),Ce=S(ue,xe.props.children),Ce.return=me,me=Ce;break e}}else if(ue.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===z&&Mc(rt)===ue.type){h(me,ue.sibling),Ce=S(ue,xe.props),Wf(Ce,xe),Ce.return=me,me=Ce;break e}h(me,ue);break}else l(me,ue);ue=ue.sibling}xe.type===T?(Ce=Qo(xe.props.children,me.mode,Ce,xe.key),Ce.return=me,me=Ce):(Ce=kc(xe.type,xe.key,xe.props,null,me.mode,Ce),Wf(Ce,xe),Ce.return=me,me=Ce)}return I(me);case x:e:{for(rt=xe.key;ue!==null;){if(ue.key===rt)if(ue.tag===4&&ue.stateNode.containerInfo===xe.containerInfo&&ue.stateNode.implementation===xe.implementation){h(me,ue.sibling),Ce=S(ue,xe.children||[]),Ce.return=me,me=Ce;break e}else{h(me,ue);break}else l(me,ue);ue=ue.sibling}Ce=Hf(xe,me.mode,Ce),Ce.return=me,me=Ce}return I(me);case z:return xe=Mc(xe),Zt(me,ue,xe,Ce)}if(ve(xe))return Ve(me,ue,xe,Ce);if(U(xe)){if(rt=U(xe),typeof rt!="function")throw Error(r(150));return xe=rt.call(xe),st(me,ue,xe,Ce)}if(typeof xe.then=="function")return Zt(me,ue,Hp(xe),Ce);if(xe.$$typeof===O)return Zt(me,ue,$p(me,xe),Ce);Fp(me,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ue!==null&&ue.tag===6?(h(me,ue.sibling),Ce=S(ue,xe),Ce.return=me,me=Ce):(h(me,ue),Ce=qu(xe,me.mode,Ce),Ce.return=me,me=Ce),I(me)):h(me,ue)}return function(me,ue,xe,Ce){try{Kf=0;var rt=Zt(me,ue,xe,Ce);return Xu=null,rt}catch(Je){if(Je===Zu||Je===zp)throw Je;var Rt=qr(29,Je,null,me.mode);return Rt.lanes=Ce,Rt.return=me,Rt}finally{}}}var Pc=dk(!0),fk=dk(!1),ml=!1;function l_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function c_(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function gl(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Bt&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,l=Tc(o),fl(o,null,h),l}return Oo(o,v,l,h),Tc(o)}function Vf(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,tc(o,h)}}function u_(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?S=k=I:k=k.next=I,h=h.next}while(h!==null);k===null?S=k=l:k=k.next=l}else S=k=l;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var d_=!1;function Zf(){if(d_){var o=Vu;if(o!==null)throw o}}function Xf(o,l,h,v){d_=!1;var S=o.updateQueue;ml=!1;var k=S.firstBaseUpdate,I=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var oe=K,Se=oe.next;oe.next=null,I===null?k=Se:I.next=Se,I=oe;var je=o.alternate;je!==null&&(je=je.updateQueue,K=je.lastBaseUpdate,K!==I&&(K===null?je.firstBaseUpdate=Se:K.next=Se,je.lastBaseUpdate=oe))}if(k!==null){var Pe=S.baseState;I=0,je=Se=oe=null,K=k;do{var Ae=K.lane&-536870913,Te=Ae!==K.lane;if(Te?(jt&Ae)===Ae:(v&Ae)===Ae){Ae!==0&&Ae===Wu&&(d_=!0),je!==null&&(je=je.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Ve=o,st=K;Ae=l;var Zt=h;switch(st.tag){case 1:if(Ve=st.payload,typeof Ve=="function"){Pe=Ve.call(Zt,Pe,Ae);break e}Pe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=st.payload,Ae=typeof Ve=="function"?Ve.call(Zt,Pe,Ae):Ve,Ae==null)break e;Pe=p({},Pe,Ae);break e;case 2:ml=!0}}Ae=K.callback,Ae!==null&&(o.flags|=64,Te&&(o.flags|=8192),Te=S.callbacks,Te===null?S.callbacks=[Ae]:Te.push(Ae))}else Te={lane:Ae,tag:K.tag,payload:K.payload,callback:K.callback,next:null},je===null?(Se=je=Te,oe=Pe):je=je.next=Te,I|=Ae;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Te=K,K=Te.next,Te.next=null,S.lastBaseUpdate=Te,S.shared.pending=null}}while(!0);je===null&&(oe=Pe),S.baseState=oe,S.firstBaseUpdate=Se,S.lastBaseUpdate=je,k===null&&(S.shared.lanes=0),xl|=I,o.lanes=I,o.memoizedState=Pe}}function hk(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function mk(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)hk(h[o],l)}var Ju=Y(null),Gp=Y(0);function pk(o,l){o=us,X(Gp,o),X(Ju,l),us=o|l.baseLanes}function f_(){X(Gp,us),X(Ju,Ju.current)}function h_(){us=Gp.current,B(Ju),B(Gp)}var Fi=Y(null),Sa=null;function vl(o){var l=o.alternate;X(Fn,Fn.current&1),X(Fi,o),Sa===null&&(l===null||Ju.current!==null||l.memoizedState!==null)&&(Sa=o)}function m_(o){X(Fn,Fn.current),X(Fi,o),Sa===null&&(Sa=o)}function gk(o){o.tag===22?(X(Fn,Fn.current),X(Fi,o),Sa===null&&(Sa=o)):yl()}function yl(){X(Fn,Fn.current),X(Fi,Fi.current)}function Gi(o){B(Fi),Sa===o&&(Sa=null),B(Fn)}var Fn=Y(0);function qp(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||_x(h)||xx(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ns=0,mt=null,Wt=null,Zn=null,Yp=!1,Qu=!1,Rc=!1,Kp=0,Jf=0,ed=null,l8=0;function Pn(){throw Error(r(321))}function p_(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!pr(o[h],l[h]))return!1;return!0}function g_(o,l,h,v,S,k){return ns=k,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=o===null||o.memoizedState===null?Qk:C_,Rc=!1,k=h(v,S),Rc=!1,Qu&&(k=yk(l,h,v,S)),vk(o),k}function vk(o){J.H=th;var l=Wt!==null&&Wt.next!==null;if(ns=0,Zn=Wt=mt=null,Yp=!1,Jf=0,ed=null,l)throw Error(r(300));o===null||Xn||(o=o.dependencies,o!==null&&Ip(o)&&(Xn=!0))}function yk(o,l,h,v){mt=o;var S=0;do{if(Qu&&(ed=null),Jf=0,Qu=!1,25<=S)throw Error(r(301));if(S+=1,Zn=Wt=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=eO,k=l(h,v)}while(Qu);return k}function c8(){var o=J.H,l=o.useState()[0];return l=typeof l.then=="function"?Qf(l):l,o=o.useState()[0],(Wt!==null?Wt.memoizedState:null)!==o&&(mt.flags|=1024),l}function v_(){var o=Kp!==0;return Kp=0,o}function y_(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function b_(o){if(Yp){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Yp=!1}ns=0,Zn=Wt=mt=null,Qu=!1,Jf=Kp=0,ed=null}function ii(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?mt.memoizedState=Zn=o:Zn=Zn.next=o,Zn}function Gn(){if(Wt===null){var o=mt.alternate;o=o!==null?o.memoizedState:null}else o=Wt.next;var l=Zn===null?mt.memoizedState:Zn.next;if(l!==null)Zn=l,Wt=o;else{if(o===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Wt=o,o={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Zn===null?mt.memoizedState=Zn=o:Zn=Zn.next=o}return Zn}function Wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qf(o){var l=Jf;return Jf+=1,ed===null&&(ed=[]),o=lk(ed,o,l),l=mt,(Zn===null?l.memoizedState:Zn.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?Qk:C_),o}function Vp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Qf(o);if(o.$$typeof===O)return Nr(o)}throw Error(r(438,String(o)))}function __(o){var l=null,h=mt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=mt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Wp(),mt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),v=0;v<o;v++)h[v]=V;return l.index++,h}function rs(o,l){return typeof l=="function"?l(o):l}function Zp(o){var l=Gn();return x_(l,Wt,o)}function x_(o,l,h){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var S=o.baseQueue,k=v.pending;if(k!==null){if(S!==null){var I=S.next;S.next=k.next,k.next=I}l.baseQueue=S=k,v.pending=null}if(k=o.baseState,S===null)o.memoizedState=k;else{l=S.next;var K=I=null,oe=null,Se=l,je=!1;do{var Pe=Se.lane&-536870913;if(Pe!==Se.lane?(jt&Pe)===Pe:(ns&Pe)===Pe){var Ae=Se.revertLane;if(Ae===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Pe===Wu&&(je=!0);else if((ns&Ae)===Ae){Se=Se.next,Ae===Wu&&(je=!0);continue}else Pe={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(K=oe=Pe,I=k):oe=oe.next=Pe,mt.lanes|=Ae,xl|=Ae;Pe=Se.action,Rc&&h(k,Pe),k=Se.hasEagerState?Se.eagerState:h(k,Pe)}else Ae={lane:Pe,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(K=oe=Ae,I=k):oe=oe.next=Ae,mt.lanes|=Pe,xl|=Pe;Se=Se.next}while(Se!==null&&Se!==l);if(oe===null?I=k:oe.next=K,!pr(k,o.memoizedState)&&(Xn=!0,je&&(h=Vu,h!==null)))throw h;o.memoizedState=k,o.baseState=I,o.baseQueue=oe,v.lastRenderedState=k}return S===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function w_(o){var l=Gn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var v=h.dispatch,S=h.pending,k=l.memoizedState;if(S!==null){h.pending=null;var I=S=S.next;do k=o(k,I.action),I=I.next;while(I!==S);pr(k,l.memoizedState)||(Xn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,v]}function bk(o,l,h){var v=mt,S=Gn(),k=wt;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=l();var I=!pr((Wt||S).memoizedState,h);if(I&&(S.memoizedState=h,Xn=!0),S=S.queue,A_(wk.bind(null,v,S,o),[o]),S.getSnapshot!==l||I||Zn!==null&&Zn.memoizedState.tag&1){if(v.flags|=2048,td(9,{destroy:void 0},xk.bind(null,v,S,h,l),null),Qt===null)throw Error(r(349));k||(ns&127)!==0||_k(v,l,h)}return h}function _k(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=mt.updateQueue,l===null?(l=Wp(),mt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function xk(o,l,h,v){l.value=h,l.getSnapshot=v,Sk(l)&&Ek(o)}function wk(o,l,h){return h(function(){Sk(l)&&Ek(o)})}function Sk(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!pr(o,h)}catch{return!0}}function Ek(o){var l=xa(o,2);l!==null&&Ti(l,o,2)}function S_(o){var l=ii();if(typeof o=="function"){var h=o;if(o=h(),Rc){Cn(!0);try{h()}finally{Cn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:o},l}function Ak(o,l,h,v){return o.baseState=h,x_(o,Wt,typeof v=="function"?v:rs)}function u8(o,l,h,v,S){if(Qp(o))throw Error(r(485));if(o=l.action,o!==null){var k={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){k.listeners.push(I)}};J.T!==null?h(!0):k.isTransition=!1,v(k),h=l.pending,h===null?(k.next=l.pending=k,Tk(l,k)):(k.next=h.next,l.pending=h.next=k)}}function Tk(o,l){var h=l.action,v=l.payload,S=o.state;if(l.isTransition){var k=J.T,I={};J.T=I;try{var K=h(S,v),oe=J.S;oe!==null&&oe(I,K),kk(o,l,K)}catch(Se){E_(o,l,Se)}finally{k!==null&&I.types!==null&&(k.types=I.types),J.T=k}}else try{k=h(S,v),kk(o,l,k)}catch(Se){E_(o,l,Se)}}function kk(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){Ok(o,l,v)},function(v){return E_(o,l,v)}):Ok(o,l,h)}function Ok(o,l,h){l.status="fulfilled",l.value=h,jk(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,Tk(o,h)))}function E_(o,l,h){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,jk(l),l=l.next;while(l!==v)}o.action=null}function jk(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Nk(o,l){return l}function Ck(o,l){if(wt){var h=Qt.formState;if(h!==null){e:{var v=mt;if(wt){if(Pt){t:{for(var S=Pt,k=xi;S.nodeType!==8;){if(!k){S=null;break t}if(S=Ea(S.nextSibling),S===null){S=null;break t}}k=S.data,S=k==="F!"||k==="F"?S:null}if(S){Pt=Ea(S.nextSibling),v=S.data==="F!";break e}}No(v)}v=!1}v&&(l=h[0])}}return h=ii(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nk,lastRenderedState:l},h.queue=v,h=Zk.bind(null,mt,v),v.dispatch=h,v=S_(!1),k=N_.bind(null,mt,!1,v.queue),v=ii(),S={state:l,dispatch:null,action:o,pending:null},v.queue=S,h=u8.bind(null,mt,S,k,h),S.dispatch=h,v.memoizedState=o,[l,h,!1]}function Mk(o){var l=Gn();return Dk(l,Wt,o)}function Dk(o,l,h){if(l=x_(o,l,Nk)[0],o=Zp(rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Qf(l)}catch(I){throw I===Zu?zp:I}else v=l;l=Gn();var S=l.queue,k=S.dispatch;return h!==l.memoizedState&&(mt.flags|=2048,td(9,{destroy:void 0},d8.bind(null,S,h),null)),[v,k,o]}function d8(o,l){o.action=l}function Pk(o){var l=Gn(),h=Wt;if(h!==null)return Dk(l,h,o);Gn(),l=l.memoizedState,h=Gn();var v=h.queue.dispatch;return h.memoizedState=o,[l,v,!1]}function td(o,l,h,v){return o={tag:o,create:h,deps:v,inst:l,next:null},l=mt.updateQueue,l===null&&(l=Wp(),mt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o),o}function Rk(){return Gn().memoizedState}function Xp(o,l,h,v){var S=ii();mt.flags|=o,S.memoizedState=td(1|l,{destroy:void 0},h,v===void 0?null:v)}function Jp(o,l,h,v){var S=Gn();v=v===void 0?null:v;var k=S.memoizedState.inst;Wt!==null&&v!==null&&p_(v,Wt.memoizedState.deps)?S.memoizedState=td(l,k,h,v):(mt.flags|=o,S.memoizedState=td(1|l,k,h,v))}function Lk(o,l){Xp(8390656,8,o,l)}function A_(o,l){Jp(2048,8,o,l)}function f8(o){mt.flags|=4;var l=mt.updateQueue;if(l===null)l=Wp(),mt.updateQueue=l,l.events=[o];else{var h=l.events;h===null?l.events=[o]:h.push(o)}}function Ik(o){var l=Gn().memoizedState;return f8({ref:l,nextImpl:o}),function(){if((Bt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function $k(o,l){return Jp(4,2,o,l)}function Bk(o,l){return Jp(4,4,o,l)}function zk(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Uk(o,l,h){h=h!=null?h.concat([o]):null,Jp(4,4,zk.bind(null,l,o),h)}function T_(){}function Hk(o,l){var h=Gn();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&p_(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function Fk(o,l){var h=Gn();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&p_(l,v[1]))return v[0];if(v=o(),Rc){Cn(!0);try{o()}finally{Cn(!1)}}return h.memoizedState=[v,l],v}function k_(o,l,h){return h===void 0||(ns&1073741824)!==0&&(jt&261930)===0?o.memoizedState=l:(o.memoizedState=h,o=GO(),mt.lanes|=o,xl|=o,h)}function Gk(o,l,h,v){return pr(h,l)?h:Ju.current!==null?(o=k_(o,h,v),pr(o,l)||(Xn=!0),o):(ns&42)===0||(ns&1073741824)!==0&&(jt&261930)===0?(Xn=!0,o.memoizedState=h):(o=GO(),mt.lanes|=o,xl|=o,l)}function qk(o,l,h,v,S){var k=ae.p;ae.p=k!==0&&8>k?k:8;var I=J.T,K={};J.T=K,N_(o,!1,l,h);try{var oe=S(),Se=J.S;if(Se!==null&&Se(K,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var je=s8(oe,v);eh(o,l,je,Ki(o))}else eh(o,l,v,Ki(o))}catch(Pe){eh(o,l,{then:function(){},status:"rejected",reason:Pe},Ki())}finally{ae.p=k,I!==null&&K.types!==null&&(I.types=K.types),J.T=I}}function h8(){}function O_(o,l,h,v){if(o.tag!==5)throw Error(r(476));var S=Yk(o).queue;qk(o,S,l,ne,h===null?h8:function(){return Kk(o),h(v)})}function Yk(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ne},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Kk(o){var l=Yk(o);l.next===null&&(l=o.alternate.memoizedState),eh(o,l.next.queue,{},Ki())}function j_(){return Nr(vh)}function Wk(){return Gn().memoizedState}function Vk(){return Gn().memoizedState}function m8(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ki();o=pl(h);var v=gl(l,o,h);v!==null&&(Ti(v,l,h),Vf(v,l,h)),l={cache:i_()},o.payload=l;return}l=l.return}}function p8(o,l,h){var v=Ki();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qp(o)?Xk(l,h):(h=Bf(o,l,h,v),h!==null&&(Ti(h,o,v),Jk(h,l,v)))}function Zk(o,l,h){var v=Ki();eh(o,l,h,v)}function eh(o,l,h,v){var S={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Qp(o))Xk(l,S);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var I=l.lastRenderedState,K=k(I,h);if(S.hasEagerState=!0,S.eagerState=K,pr(K,I))return Oo(o,l,S,0),Qt===null&&Ac(),!1}catch{}finally{}if(h=Bf(o,l,S,v),h!==null)return Ti(h,o,v),Jk(h,l,v),!0}return!1}function N_(o,l,h,v){if(v={lane:2,revertLane:lx(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Qp(o)){if(l)throw Error(r(479))}else l=Bf(o,h,v,2),l!==null&&Ti(l,o,2)}function Qp(o){var l=o.alternate;return o===mt||l!==null&&l===mt}function Xk(o,l){Qu=Yp=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function Jk(o,l,h){if((h&4194048)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,tc(o,h)}}var th={readContext:Nr,use:Vp,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};th.useEffectEvent=Pn;var Qk={readContext:Nr,use:Vp,useCallback:function(o,l){return ii().memoizedState=[o,l===void 0?null:l],o},useContext:Nr,useEffect:Lk,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,Xp(4194308,4,zk.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Xp(4194308,4,o,l)},useInsertionEffect:function(o,l){Xp(4,2,o,l)},useMemo:function(o,l){var h=ii();l=l===void 0?null:l;var v=o();if(Rc){Cn(!0);try{o()}finally{Cn(!1)}}return h.memoizedState=[v,l],v},useReducer:function(o,l,h){var v=ii();if(h!==void 0){var S=h(l);if(Rc){Cn(!0);try{h(l)}finally{Cn(!1)}}}else S=l;return v.memoizedState=v.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},v.queue=o,o=o.dispatch=p8.bind(null,mt,o),[v.memoizedState,o]},useRef:function(o){var l=ii();return o={current:o},l.memoizedState=o},useState:function(o){o=S_(o);var l=o.queue,h=Zk.bind(null,mt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:T_,useDeferredValue:function(o,l){var h=ii();return k_(h,o,l)},useTransition:function(){var o=S_(!1);return o=qk.bind(null,mt,o.queue,!0,!1),ii().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var v=mt,S=ii();if(wt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),Qt===null)throw Error(r(349));(jt&127)!==0||_k(v,l,h)}S.memoizedState=h;var k={value:h,getSnapshot:l};return S.queue=k,Lk(wk.bind(null,v,k,o),[o]),v.flags|=2048,td(9,{destroy:void 0},xk.bind(null,v,k,h,l),null),h},useId:function(){var o=ii(),l=Qt.identifierPrefix;if(wt){var h=Ge,v=De;h=(v&~(1<<32-An(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Kp++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=l8++,l="_"+l+"r_"+h.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:j_,useFormState:Ck,useActionState:Ck,useOptimistic:function(o){var l=ii();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=N_.bind(null,mt,!0,h),h.dispatch=l,[o,l]},useMemoCache:__,useCacheRefresh:function(){return ii().memoizedState=m8.bind(null,mt)},useEffectEvent:function(o){var l=ii(),h={impl:o};return l.memoizedState=h,function(){if((Bt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},C_={readContext:Nr,use:Vp,useCallback:Hk,useContext:Nr,useEffect:A_,useImperativeHandle:Uk,useInsertionEffect:$k,useLayoutEffect:Bk,useMemo:Fk,useReducer:Zp,useRef:Rk,useState:function(){return Zp(rs)},useDebugValue:T_,useDeferredValue:function(o,l){var h=Gn();return Gk(h,Wt.memoizedState,o,l)},useTransition:function(){var o=Zp(rs)[0],l=Gn().memoizedState;return[typeof o=="boolean"?o:Qf(o),l]},useSyncExternalStore:bk,useId:Wk,useHostTransitionStatus:j_,useFormState:Mk,useActionState:Mk,useOptimistic:function(o,l){var h=Gn();return Ak(h,Wt,o,l)},useMemoCache:__,useCacheRefresh:Vk};C_.useEffectEvent=Ik;var eO={readContext:Nr,use:Vp,useCallback:Hk,useContext:Nr,useEffect:A_,useImperativeHandle:Uk,useInsertionEffect:$k,useLayoutEffect:Bk,useMemo:Fk,useReducer:w_,useRef:Rk,useState:function(){return w_(rs)},useDebugValue:T_,useDeferredValue:function(o,l){var h=Gn();return Wt===null?k_(h,o,l):Gk(h,Wt.memoizedState,o,l)},useTransition:function(){var o=w_(rs)[0],l=Gn().memoizedState;return[typeof o=="boolean"?o:Qf(o),l]},useSyncExternalStore:bk,useId:Wk,useHostTransitionStatus:j_,useFormState:Pk,useActionState:Pk,useOptimistic:function(o,l){var h=Gn();return Wt!==null?Ak(h,Wt,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:__,useCacheRefresh:Vk};eO.useEffectEvent=Ik;function M_(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:p({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var D_={enqueueSetState:function(o,l,h){o=o._reactInternals;var v=Ki(),S=pl(v);S.payload=l,h!=null&&(S.callback=h),l=gl(o,S,v),l!==null&&(Ti(l,o,v),Vf(l,o,v))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=Ki(),S=pl(v);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=gl(o,S,v),l!==null&&(Ti(l,o,v),Vf(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Ki(),v=pl(h);v.tag=2,l!=null&&(v.callback=l),l=gl(o,v,h),l!==null&&(Ti(l,o,h),Vf(l,o,h))}};function tO(o,l,h,v,S,k,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,k,I):l.prototype&&l.prototype.isPureReactComponent?!ll(h,v)||!ll(S,k):!0}function nO(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&D_.enqueueReplaceState(l,l.state,null)}function Lc(o,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(o=o.defaultProps){h===l&&(h=p({},h));for(var S in o)h[S]===void 0&&(h[S]=o[S])}return h}function rO(o){Ec(o)}function iO(o){console.error(o)}function aO(o){Ec(o)}function eg(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function oO(o,l,h){try{var v=o.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function P_(o,l,h){return h=pl(h),h.tag=3,h.payload={element:null},h.callback=function(){eg(o,l)},h}function sO(o){return o=pl(o),o.tag=3,o}function lO(o,l,h,v){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var k=v.value;o.payload=function(){return S(k)},o.callback=function(){oO(l,h,v)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){oO(l,h,v),typeof S!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function g8(o,l,h,v,S){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&Ku(l,h,S,!0),h=Fi.current,h!==null){switch(h.tag){case 31:case 13:return Sa===null?fg():h.alternate===null&&Rn===0&&(Rn=3),h.flags&=-257,h.flags|=65536,h.lanes=S,v===Up?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),ax(o,v,S)),!1;case 22:return h.flags|=65536,v===Up?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),ax(o,v,S)),!1}throw Error(r(435,h.tag))}return ax(o,v,S),fg(),!1}if(wt)return l=Fi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,v!==Yu&&(o=Error(r(422),{cause:v}),Oc(g(o,h)))):(v!==Yu&&(l=Error(r(423),{cause:v}),Oc(g(l,h))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,v=g(v,h),S=P_(o.stateNode,v,S),u_(o,S),Rn!==4&&(Rn=2)),!1;var k=Error(r(520),{cause:v});if(k=g(k,h),ch===null?ch=[k]:ch.push(k),Rn!==4&&(Rn=2),l===null)return!0;v=g(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=S&-S,h.lanes|=o,o=P_(h.stateNode,v,o),u_(h,o),!1;case 1:if(l=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(wl===null||!wl.has(k))))return h.flags|=65536,S&=-S,h.lanes|=S,S=sO(S),lO(S,o,h,v),u_(h,S),!1}h=h.return}while(h!==null);return!1}var R_=Error(r(461)),Xn=!1;function Cr(o,l,h,v){l.child=o===null?fk(l,null,h,v):Pc(l,o.child,h,v)}function cO(o,l,h,v,S){h=h.render;var k=l.ref;if("ref"in v){var I={};for(var K in v)K!=="ref"&&(I[K]=v[K])}else I=v;return Nc(l),v=g_(o,l,h,I,k,S),K=v_(),o!==null&&!Xn?(y_(o,l,S),is(o,l,S)):(wt&&K&&or(l),l.flags|=1,Cr(o,l,v,S),l.child)}function uO(o,l,h,v,S){if(o===null){var k=h.type;return typeof k=="function"&&!Gu(k)&&k.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=k,dO(o,l,k,v,S)):(o=kc(h.type,null,v,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,!F_(o,S)){var I=k.memoizedProps;if(h=h.compare,h=h!==null?h:ll,h(I,v)&&o.ref===l.ref)return is(o,l,S)}return l.flags|=1,o=wa(k,v),o.ref=l.ref,o.return=l,l.child=o}function dO(o,l,h,v,S){if(o!==null){var k=o.memoizedProps;if(ll(k,v)&&o.ref===l.ref)if(Xn=!1,l.pendingProps=v=k,F_(o,S))(o.flags&131072)!==0&&(Xn=!0);else return l.lanes=o.lanes,is(o,l,S)}return L_(o,l,h,v,S)}function fO(o,l,h,v){var S=v.children,k=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,o!==null){for(v=l.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~k}else v=0,l.child=null;return hO(o,l,k,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Bp(l,k!==null?k.cachePool:null),k!==null?pk(l,k):f_(),gk(l);else return v=l.lanes=536870912,hO(o,l,k!==null?k.baseLanes|h:h,h,v)}else k!==null?(Bp(l,k.cachePool),pk(l,k),yl(),l.memoizedState=null):(o!==null&&Bp(l,null),f_(),yl());return Cr(o,l,S,h),l.child}function nh(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function hO(o,l,h,v,S){var k=o_();return k=k===null?null:{parent:Vn._currentValue,pool:k},l.memoizedState={baseLanes:h,cachePool:k},o!==null&&Bp(l,null),f_(),gk(l),o!==null&&Ku(o,l,v,!0),l.childLanes=S,null}function tg(o,l){return l=rg({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function mO(o,l,h){return Pc(l,o.child,null,h),o=tg(l,l.pendingProps),o.flags|=2,Gi(l),l.memoizedState=null,o}function v8(o,l,h){var v=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(wt){if(v.mode==="hidden")return o=tg(l,v),l.lanes=536870912,nh(null,o);if(m_(l),(o=Pt)?(o=Tj(o,xi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:De,overflow:Ge}:null,retryLane:536870912,hydrationErrors:null},h=Uf(o),h.return=l,l.child=h,Dt=l,Pt=null)):o=null,o===null)throw No(l);return l.lanes=536870912,null}return tg(l,v)}var k=o.memoizedState;if(k!==null){var I=k.dehydrated;if(m_(l),S)if(l.flags&256)l.flags&=-257,l=mO(o,l,h);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Xn||Ku(o,l,h,!1),S=(h&o.childLanes)!==0,Xn||S){if(v=Qt,v!==null&&(I=nc(v,h),I!==0&&I!==k.retryLane))throw k.retryLane=I,xa(o,I),Ti(v,o,I),R_;fg(),l=mO(o,l,h)}else o=k.treeContext,Pt=Ea(I.nextSibling),Dt=l,wt=!0,jo=null,xi=!1,o!==null&&ri(l,o),l=tg(l,v),l.flags|=4096;return l}return o=wa(o.child,{mode:v.mode,children:v.children}),o.ref=l.ref,l.child=o,o.return=l,o}function ng(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function L_(o,l,h,v,S){return Nc(l),h=g_(o,l,h,v,void 0,S),v=v_(),o!==null&&!Xn?(y_(o,l,S),is(o,l,S)):(wt&&v&&or(l),l.flags|=1,Cr(o,l,h,S),l.child)}function pO(o,l,h,v,S,k){return Nc(l),l.updateQueue=null,h=yk(l,v,h,S),vk(o),v=v_(),o!==null&&!Xn?(y_(o,l,k),is(o,l,k)):(wt&&v&&or(l),l.flags|=1,Cr(o,l,h,k),l.child)}function gO(o,l,h,v,S){if(Nc(l),l.stateNode===null){var k=Jo,I=h.contextType;typeof I=="object"&&I!==null&&(k=Nr(I)),k=new h(v,k),l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=D_,l.stateNode=k,k._reactInternals=l,k=l.stateNode,k.props=v,k.state=l.memoizedState,k.refs={},l_(l),I=h.contextType,k.context=typeof I=="object"&&I!==null?Nr(I):Jo,k.state=l.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(M_(l,h,I,v),k.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(I=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),I!==k.state&&D_.enqueueReplaceState(k,k.state,null),Xf(l,v,k,S),Zf(),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(o===null){k=l.stateNode;var K=l.memoizedProps,oe=Lc(h,K);k.props=oe;var Se=k.context,je=h.contextType;I=Jo,typeof je=="object"&&je!==null&&(I=Nr(je));var Pe=h.getDerivedStateFromProps;je=typeof Pe=="function"||typeof k.getSnapshotBeforeUpdate=="function",K=l.pendingProps!==K,je||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(K||Se!==I)&&nO(l,k,v,I),ml=!1;var Ae=l.memoizedState;k.state=Ae,Xf(l,v,k,S),Zf(),Se=l.memoizedState,K||Ae!==Se||ml?(typeof Pe=="function"&&(M_(l,h,Pe,v),Se=l.memoizedState),(oe=ml||tO(l,h,oe,v,Ae,Se,I))?(je||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=Se),k.props=v,k.state=Se,k.context=I,v=oe):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{k=l.stateNode,c_(o,l),I=l.memoizedProps,je=Lc(h,I),k.props=je,Pe=l.pendingProps,Ae=k.context,Se=h.contextType,oe=Jo,typeof Se=="object"&&Se!==null&&(oe=Nr(Se)),K=h.getDerivedStateFromProps,(Se=typeof K=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==Pe||Ae!==oe)&&nO(l,k,v,oe),ml=!1,Ae=l.memoizedState,k.state=Ae,Xf(l,v,k,S),Zf();var Te=l.memoizedState;I!==Pe||Ae!==Te||ml||o!==null&&o.dependencies!==null&&Ip(o.dependencies)?(typeof K=="function"&&(M_(l,h,K,v),Te=l.memoizedState),(je=ml||tO(l,h,je,v,Ae,Te,oe)||o!==null&&o.dependencies!==null&&Ip(o.dependencies))?(Se||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,Te,oe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,Te,oe)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Te),k.props=v,k.state=Te,k.context=oe,v=je):(typeof k.componentDidUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Ae===o.memoizedState||(l.flags|=1024),v=!1)}return k=v,ng(o,l),v=(l.flags&128)!==0,k||v?(k=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:k.render(),l.flags|=1,o!==null&&v?(l.child=Pc(l,o.child,null,S),l.child=Pc(l,null,h,S)):Cr(o,l,h,S),l.memoizedState=k.state,o=l.child):o=is(o,l,S),o}function vO(o,l,h,v){return es(),l.flags|=256,Cr(o,l,h,v),l.child}var I_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $_(o){return{baseLanes:o,cachePool:ok()}}function B_(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=Yi),o}function yO(o,l,h){var v=l.pendingProps,S=!1,k=(l.flags&128)!==0,I;if((I=k)||(I=o!==null&&o.memoizedState===null?!1:(Fn.current&2)!==0),I&&(S=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,o===null){if(wt){if(S?vl(l):yl(),(o=Pt)?(o=Tj(o,xi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Ee!==null?{id:De,overflow:Ge}:null,retryLane:536870912,hydrationErrors:null},h=Uf(o),h.return=l,l.child=h,Dt=l,Pt=null)):o=null,o===null)throw No(l);return xx(o)?l.lanes=32:l.lanes=536870912,null}var K=v.children;return v=v.fallback,S?(yl(),S=l.mode,K=rg({mode:"hidden",children:K},S),v=Qo(v,S,h,null),K.return=l,v.return=l,K.sibling=v,l.child=K,v=l.child,v.memoizedState=$_(h),v.childLanes=B_(o,I,h),l.memoizedState=I_,nh(null,v)):(vl(l),z_(l,K))}var oe=o.memoizedState;if(oe!==null&&(K=oe.dehydrated,K!==null)){if(k)l.flags&256?(vl(l),l.flags&=-257,l=U_(o,l,h)):l.memoizedState!==null?(yl(),l.child=o.child,l.flags|=128,l=null):(yl(),K=v.fallback,S=l.mode,v=rg({mode:"visible",children:v.children},S),K=Qo(K,S,h,null),K.flags|=2,v.return=l,K.return=l,v.sibling=K,l.child=v,Pc(l,o.child,null,h),v=l.child,v.memoizedState=$_(h),v.childLanes=B_(o,I,h),l.memoizedState=I_,l=nh(null,v));else if(vl(l),xx(K)){if(I=K.nextSibling&&K.nextSibling.dataset,I)var Se=I.dgst;I=Se,v=Error(r(419)),v.stack="",v.digest=I,Oc({value:v,source:null,stack:null}),l=U_(o,l,h)}else if(Xn||Ku(o,l,h,!1),I=(h&o.childLanes)!==0,Xn||I){if(I=Qt,I!==null&&(v=nc(I,h),v!==0&&v!==oe.retryLane))throw oe.retryLane=v,xa(o,v),Ti(I,o,v),R_;_x(K)||fg(),l=U_(o,l,h)}else _x(K)?(l.flags|=192,l.child=o.child,l=null):(o=oe.treeContext,Pt=Ea(K.nextSibling),Dt=l,wt=!0,jo=null,xi=!1,o!==null&&ri(l,o),l=z_(l,v.children),l.flags|=4096);return l}return S?(yl(),K=v.fallback,S=l.mode,oe=o.child,Se=oe.sibling,v=wa(oe,{mode:"hidden",children:v.children}),v.subtreeFlags=oe.subtreeFlags&65011712,Se!==null?K=wa(Se,K):(K=Qo(K,S,h,null),K.flags|=2),K.return=l,v.return=l,v.sibling=K,l.child=v,nh(null,v),v=l.child,K=o.child.memoizedState,K===null?K=$_(h):(S=K.cachePool,S!==null?(oe=Vn._currentValue,S=S.parent!==oe?{parent:oe,pool:oe}:S):S=ok(),K={baseLanes:K.baseLanes|h,cachePool:S}),v.memoizedState=K,v.childLanes=B_(o,I,h),l.memoizedState=I_,nh(o.child,v)):(vl(l),h=o.child,o=h.sibling,h=wa(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,o!==null&&(I=l.deletions,I===null?(l.deletions=[o],l.flags|=16):I.push(o)),l.child=h,l.memoizedState=null,h)}function z_(o,l){return l=rg({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function rg(o,l){return o=qr(22,o,null,l),o.lanes=0,o}function U_(o,l,h){return Pc(l,o.child,null,h),o=z_(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function bO(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),n_(o.return,l,h)}function H_(o,l,h,v,S,k){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S,treeForkCount:k}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=h,I.tailMode=S,I.treeForkCount=k)}function _O(o,l,h){var v=l.pendingProps,S=v.revealOrder,k=v.tail;v=v.children;var I=Fn.current,K=(I&2)!==0;if(K?(I=I&1|2,l.flags|=128):I&=1,X(Fn,I),Cr(o,l,v,h),v=wt?F:0,!K&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&bO(o,h,l);else if(o.tag===19)bO(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(h=l.child,S=null;h!==null;)o=h.alternate,o!==null&&qp(o)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),H_(l,!1,S,h,k,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&qp(o)===null){l.child=S;break}o=S.sibling,S.sibling=h,h=S,S=o}H_(l,!0,h,null,k,v);break;case"together":H_(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function is(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),xl|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(Ku(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=wa(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=wa(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function F_(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Ip(o)))}function y8(o,l,h){switch(l.tag){case 3:fe(l,l.stateNode.containerInfo),hl(l,Vn,o.memoizedState.cache),es();break;case 27:case 5:de(l);break;case 4:fe(l,l.stateNode.containerInfo);break;case 10:hl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,m_(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(vl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?yO(o,l,h):(vl(l),o=is(o,l,h),o!==null?o.sibling:null);vl(l);break;case 19:var S=(o.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(Ku(o,l,h,!1),v=(h&l.childLanes)!==0),S){if(v)return _O(o,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),X(Fn,Fn.current),v)break;return null;case 22:return l.lanes=0,fO(o,l,h,l.pendingProps);case 24:hl(l,Vn,o.memoizedState.cache)}return is(o,l,h)}function xO(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)Xn=!0;else{if(!F_(o,h)&&(l.flags&128)===0)return Xn=!1,y8(o,l,h);Xn=(o.flags&131072)!==0}else Xn=!1,wt&&(l.flags&1048576)!==0&&vt(l,F,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(o=Mc(l.elementType),l.type=o,typeof o=="function")Gu(o)?(v=Lc(o,v),l.tag=1,l=gO(null,l,o,v,h)):(l.tag=0,l=L_(null,l,o,v,h));else{if(o!=null){var S=o.$$typeof;if(S===M){l.tag=11,l=cO(null,l,o,v,h);break e}else if(S===$){l.tag=14,l=uO(null,l,o,v,h);break e}}throw l=re(o)||o,Error(r(306,l,""))}}return l;case 0:return L_(o,l,l.type,l.pendingProps,h);case 1:return v=l.type,S=Lc(v,l.pendingProps),gO(o,l,v,S,h);case 3:e:{if(fe(l,l.stateNode.containerInfo),o===null)throw Error(r(387));v=l.pendingProps;var k=l.memoizedState;S=k.element,c_(o,l),Xf(l,v,null,h);var I=l.memoizedState;if(v=I.cache,hl(l,Vn,v),v!==k.cache&&r_(l,[Vn],h,!0),Zf(),v=I.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){l=vO(o,l,v,h);break e}else if(v!==S){S=g(Error(r(424)),l),Oc(S),l=vO(o,l,v,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Pt=Ea(o.firstChild),Dt=l,wt=!0,jo=null,xi=!0,h=fk(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(es(),v===S){l=is(o,l,h);break e}Cr(o,l,v,h)}l=l.child}return l;case 26:return ng(o,l),o===null?(h=Mj(l.type,null,l.pendingProps,null))?l.memoizedState=h:wt||(h=l.type,o=l.pendingProps,v=bg(W.current).createElement(h),v[gn]=l,v[Hn]=o,Mr(v,h,o),kt(v),l.stateNode=v):l.memoizedState=Mj(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return de(l),o===null&&wt&&(v=l.stateNode=jj(l.type,l.pendingProps,W.current),Dt=l,xi=!0,S=Pt,Tl(l.type)?(wx=S,Pt=Ea(v.firstChild)):Pt=S),Cr(o,l,l.pendingProps.children,h),ng(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&wt&&((S=v=Pt)&&(v=W8(v,l.type,l.pendingProps,xi),v!==null?(l.stateNode=v,Dt=l,Pt=Ea(v.firstChild),xi=!1,S=!0):S=!1),S||No(l)),de(l),S=l.type,k=l.pendingProps,I=o!==null?o.memoizedProps:null,v=k.children,vx(S,k)?v=null:I!==null&&vx(S,I)&&(l.flags|=32),l.memoizedState!==null&&(S=g_(o,l,c8,null,null,h),vh._currentValue=S),ng(o,l),Cr(o,l,v,h),l.child;case 6:return o===null&&wt&&((o=h=Pt)&&(h=V8(h,l.pendingProps,xi),h!==null?(l.stateNode=h,Dt=l,Pt=null,o=!0):o=!1),o||No(l)),null;case 13:return yO(o,l,h);case 4:return fe(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=Pc(l,null,v,h):Cr(o,l,v,h),l.child;case 11:return cO(o,l,l.type,l.pendingProps,h);case 7:return Cr(o,l,l.pendingProps,h),l.child;case 8:return Cr(o,l,l.pendingProps.children,h),l.child;case 12:return Cr(o,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,hl(l,l.type,v.value),Cr(o,l,v.children,h),l.child;case 9:return S=l.type._context,v=l.pendingProps.children,Nc(l),S=Nr(S),v=v(S),l.flags|=1,Cr(o,l,v,h),l.child;case 14:return uO(o,l,l.type,l.pendingProps,h);case 15:return dO(o,l,l.type,l.pendingProps,h);case 19:return _O(o,l,h);case 31:return v8(o,l,h);case 22:return fO(o,l,h,l.pendingProps);case 24:return Nc(l),v=Nr(Vn),o===null?(S=o_(),S===null&&(S=Qt,k=i_(),S.pooledCache=k,k.refCount++,k!==null&&(S.pooledCacheLanes|=h),S=k),l.memoizedState={parent:v,cache:S},l_(l),hl(l,Vn,S)):((o.lanes&h)!==0&&(c_(o,l),Xf(l,null,null,h),Zf()),S=o.memoizedState,k=l.memoizedState,S.parent!==v?(S={parent:v,cache:v},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),hl(l,Vn,v)):(v=k.cache,hl(l,Vn,v),v!==S.cache&&r_(l,[Vn],h,!0))),Cr(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function as(o){o.flags|=4}function G_(o,l,h,v,S){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(WO())o.flags|=8192;else throw Dc=Up,s_}else o.flags&=-16777217}function wO(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Ij(l))if(WO())o.flags|=8192;else throw Dc=Up,s_}function ig(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Jl():536870912,o.lanes|=l,ad|=l)}function rh(o,l){if(!wt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function fn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var S=o.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function b8(o,l,h){var v=l.pendingProps;switch(Dn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(l),null;case 1:return fn(l),null;case 3:return h=l.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),ts(Vn),Q(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Xa(l)?as(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gf())),fn(l),null;case 26:var S=l.type,k=l.memoizedState;return o===null?(as(l),k!==null?(fn(l),wO(l,k)):(fn(l),G_(l,S,null,v,h))):k?k!==o.memoizedState?(as(l),fn(l),wO(l,k)):(fn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==v&&as(l),fn(l),G_(l,S,o,v,h)),null;case 27:if(we(l),h=W.current,S=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&as(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return fn(l),null}o=ee.current,Xa(l)?Ff(l):(o=jj(S,v,h),l.stateNode=o,as(l))}return fn(l),null;case 5:if(we(l),S=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&as(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return fn(l),null}if(k=ee.current,Xa(l))Ff(l);else{var I=bg(W.current);switch(k){case 1:k=I.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:k=I.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":k=I.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":k=I.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":k=I.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?I.createElement("select",{is:v.is}):I.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?I.createElement(S,{is:v.is}):I.createElement(S)}}k[gn]=l,k[Hn]=v;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)k.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=k;e:switch(Mr(k,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&as(l)}}return fn(l),G_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,h),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==v&&as(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(o=W.current,Xa(l)){if(o=l.stateNode,h=l.memoizedProps,v=null,S=Dt,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}o[gn]=l,o=!!(o.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||yj(o.nodeValue,h)),o||No(l,!0)}else o=bg(o).createTextNode(v),o[gn]=l,l.stateNode=o}return fn(l),null;case 31:if(h=l.memoizedState,o===null||o.memoizedState!==null){if(v=Xa(l),h!==null){if(o===null){if(!v)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[gn]=l}else es(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),o=!1}else h=Gf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return l.flags&256?(Gi(l),l):(Gi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return fn(l),null;case 13:if(v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=Xa(l),v!==null&&v.dehydrated!==null){if(o===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[gn]=l}else es(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;fn(l),S=!1}else S=Gf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Gi(l),l):(Gi(l),null)}return Gi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,o=o!==null&&o.memoizedState!==null,h&&(v=l.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==S&&(v.flags|=2048)),h!==o&&h&&(l.child.flags|=8192),ig(l,l.updateQueue),fn(l),null);case 4:return Q(),o===null&&fx(l.stateNode.containerInfo),fn(l),null;case 10:return ts(l.type),fn(l),null;case 19:if(B(Fn),v=l.memoizedState,v===null)return fn(l),null;if(S=(l.flags&128)!==0,k=v.rendering,k===null)if(S)rh(v,!1);else{if(Rn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(k=qp(o),k!==null){for(l.flags|=128,rh(v,!1),o=k.updateQueue,l.updateQueue=o,ig(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)zf(h,o),h=h.sibling;return X(Fn,Fn.current&1|2),wt&&et(l,v.treeForkCount),l.child}o=o.sibling}v.tail!==null&&ze()>cg&&(l.flags|=128,S=!0,rh(v,!1),l.lanes=4194304)}else{if(!S)if(o=qp(k),o!==null){if(l.flags|=128,S=!0,o=o.updateQueue,l.updateQueue=o,ig(l,o),rh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!wt)return fn(l),null}else 2*ze()-v.renderingStartTime>cg&&h!==536870912&&(l.flags|=128,S=!0,rh(v,!1),l.lanes=4194304);v.isBackwards?(k.sibling=l.child,l.child=k):(o=v.last,o!==null?o.sibling=k:l.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ze(),o.sibling=null,h=Fn.current,X(Fn,S?h&1|2:h&1),wt&&et(l,v.treeForkCount),o):(fn(l),null);case 22:case 23:return Gi(l),h_(),v=l.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(fn(l),l.subtreeFlags&6&&(l.flags|=8192)):fn(l),h=l.updateQueue,h!==null&&ig(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),o!==null&&B(Cc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ts(Vn),fn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function _8(o,l){switch(Dn(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ts(Vn),Q(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return we(l),null;case 31:if(l.memoizedState!==null){if(Gi(l),l.alternate===null)throw Error(r(340));es()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Gi(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));es()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return B(Fn),null;case 4:return Q(),null;case 10:return ts(l.type),null;case 22:case 23:return Gi(l),h_(),o!==null&&B(Cc),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ts(Vn),null;case 25:return null;default:return null}}function SO(o,l){switch(Dn(l),l.tag){case 3:ts(Vn),Q();break;case 26:case 27:case 5:we(l);break;case 4:Q();break;case 31:l.memoizedState!==null&&Gi(l);break;case 13:Gi(l);break;case 19:B(Fn);break;case 10:ts(l.type);break;case 22:case 23:Gi(l),h_(),o!==null&&B(Cc);break;case 24:ts(Vn)}}function ih(o,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&o)===o){v=void 0;var k=h.create,I=h.inst;v=k(),I.destroy=v}h=h.next}while(h!==S)}}catch(K){qt(l,l.return,K)}}function bl(o,l,h){try{var v=l.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var k=S.next;v=k;do{if((v.tag&o)===o){var I=v.inst,K=I.destroy;if(K!==void 0){I.destroy=void 0,S=l;var oe=h,Se=K;try{Se()}catch(je){qt(S,oe,je)}}}v=v.next}while(v!==k)}}catch(je){qt(l,l.return,je)}}function EO(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{mk(l,h)}catch(v){qt(o,o.return,v)}}}function AO(o,l,h){h.props=Lc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(v){qt(o,l,v)}}function ah(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof h=="function"?o.refCleanup=h(v):h.current=v}}catch(S){qt(o,l,S)}}function Mo(o,l){var h=o.ref,v=o.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(S){qt(o,l,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){qt(o,l,S)}else h.current=null}function TO(o){var l=o.type,h=o.memoizedProps,v=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(S){qt(o,o.return,S)}}function q_(o,l,h){try{var v=o.stateNode;H8(v,o.type,h,l),v[Hn]=l}catch(S){qt(o,o.return,S)}}function kO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Tl(o.type)||o.tag===4}function Y_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||kO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Tl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function K_(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=vi));else if(v!==4&&(v===27&&Tl(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(K_(o,l,h),o=o.sibling;o!==null;)K_(o,l,h),o=o.sibling}function ag(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(v===27&&Tl(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(ag(o,l,h),o=o.sibling;o!==null;)ag(o,l,h),o=o.sibling}function OO(o){var l=o.stateNode,h=o.memoizedProps;try{for(var v=o.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Mr(l,v,h),l[gn]=o,l[Hn]=h}catch(k){qt(o,o.return,k)}}var os=!1,Jn=!1,W_=!1,jO=typeof WeakSet=="function"?WeakSet:Set,vr=null;function x8(o,l){if(o=o.containerInfo,px=Tg,o=_c(o),Eo(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var I=0,K=-1,oe=-1,Se=0,je=0,Pe=o,Ae=null;t:for(;;){for(var Te;Pe!==h||S!==0&&Pe.nodeType!==3||(K=I+S),Pe!==k||v!==0&&Pe.nodeType!==3||(oe=I+v),Pe.nodeType===3&&(I+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Ae=Pe,Pe=Te;for(;;){if(Pe===o)break t;if(Ae===h&&++Se===S&&(K=I),Ae===k&&++je===v&&(oe=I),(Te=Pe.nextSibling)!==null)break;Pe=Ae,Ae=Pe.parentNode}Pe=Te}h=K===-1||oe===-1?null:{start:K,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(gx={focusedElem:o,selectionRange:h},Tg=!1,vr=l;vr!==null;)if(l=vr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,vr=o;else for(;vr!==null;){switch(l=vr,k=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)S=o[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,h=l,S=k.memoizedProps,k=k.memoizedState,v=h.stateNode;try{var Ve=Lc(h.type,S);o=v.getSnapshotBeforeUpdate(Ve,k),v.__reactInternalSnapshotBeforeUpdate=o}catch(st){qt(h,h.return,st)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)bx(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":bx(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,vr=o;break}vr=l.return}}function NO(o,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:ls(o,h),v&4&&ih(5,h);break;case 1:if(ls(o,h),v&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(I){qt(h,h.return,I)}else{var S=Lc(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(S,l,o.__reactInternalSnapshotBeforeUpdate)}catch(I){qt(h,h.return,I)}}v&64&&EO(h),v&512&&ah(h,h.return);break;case 3:if(ls(o,h),v&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{mk(o,l)}catch(I){qt(h,h.return,I)}}break;case 27:l===null&&v&4&&OO(h);case 26:case 5:ls(o,h),l===null&&v&4&&TO(h),v&512&&ah(h,h.return);break;case 12:ls(o,h);break;case 31:ls(o,h),v&4&&DO(o,h);break;case 13:ls(o,h),v&4&&PO(o,h),v&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=N8.bind(null,h),Z8(o,h))));break;case 22:if(v=h.memoizedState!==null||os,!v){l=l!==null&&l.memoizedState!==null||Jn,S=os;var k=Jn;os=v,(Jn=l)&&!k?cs(o,h,(h.subtreeFlags&8772)!==0):ls(o,h),os=S,Jn=k}break;case 30:break;default:ls(o,h)}}function CO(o){var l=o.alternate;l!==null&&(o.alternate=null,CO(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ot(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var yn=null,wi=!1;function ss(o,l,h){for(h=h.child;h!==null;)MO(o,l,h),h=h.sibling}function MO(o,l,h){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(En,h)}catch{}switch(h.tag){case 26:Jn||Mo(h,l),ss(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Jn||Mo(h,l);var v=yn,S=wi;Tl(h.type)&&(yn=h.stateNode,wi=!1),ss(o,l,h),mh(h.stateNode),yn=v,wi=S;break;case 5:Jn||Mo(h,l);case 6:if(v=yn,S=wi,yn=null,ss(o,l,h),yn=v,wi=S,yn!==null)if(wi)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(h.stateNode)}catch(k){qt(h,l,k)}else try{yn.removeChild(h.stateNode)}catch(k){qt(h,l,k)}break;case 18:yn!==null&&(wi?(o=yn,Ej(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),hd(o)):Ej(yn,h.stateNode));break;case 4:v=yn,S=wi,yn=h.stateNode.containerInfo,wi=!0,ss(o,l,h),yn=v,wi=S;break;case 0:case 11:case 14:case 15:bl(2,h,l),Jn||bl(4,h,l),ss(o,l,h);break;case 1:Jn||(Mo(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&AO(h,l,v)),ss(o,l,h);break;case 21:ss(o,l,h);break;case 22:Jn=(v=Jn)||h.memoizedState!==null,ss(o,l,h),Jn=v;break;default:ss(o,l,h)}}function DO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hd(o)}catch(h){qt(l,l.return,h)}}}function PO(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hd(o)}catch(h){qt(l,l.return,h)}}function w8(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new jO),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new jO),l;default:throw Error(r(435,o.tag))}}function og(o,l){var h=w8(o);l.forEach(function(v){if(!h.has(v)){h.add(v);var S=C8.bind(null,o,v);v.then(S,S)}})}function Si(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v],k=o,I=l,K=I;e:for(;K!==null;){switch(K.tag){case 27:if(Tl(K.type)){yn=K.stateNode,wi=!1;break e}break;case 5:yn=K.stateNode,wi=!1;break e;case 3:case 4:yn=K.stateNode.containerInfo,wi=!0;break e}K=K.return}if(yn===null)throw Error(r(160));MO(k,I,S),yn=null,wi=!1,k=S.alternate,k!==null&&(k.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)RO(l,o),l=l.sibling}var Qa=null;function RO(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Si(l,o),Ei(o),v&4&&(bl(3,o,o.return),ih(3,o),bl(5,o,o.return));break;case 1:Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),v&64&&os&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var S=Qa;if(Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),v&4){var k=h!==null?h.memoizedState:null;if(v=o.memoizedState,h===null)if(v===null)if(o.stateNode===null){e:{v=o.type,h=o.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":k=S.getElementsByTagName("title")[0],(!k||k[_t]||k[gn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=S.createElement(v),S.head.insertBefore(k,S.querySelector("head > title"))),Mr(k,v,h),k[gn]=o,kt(k),v=k;break e;case"link":var I=Rj("link","href",S).get(v+(h.href||""));if(I){for(var K=0;K<I.length;K++)if(k=I[K],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(K,1);break t}}k=S.createElement(v),Mr(k,v,h),S.head.appendChild(k);break;case"meta":if(I=Rj("meta","content",S).get(v+(h.content||""))){for(K=0;K<I.length;K++)if(k=I[K],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(K,1);break t}}k=S.createElement(v),Mr(k,v,h),S.head.appendChild(k);break;default:throw Error(r(468,v))}k[gn]=o,kt(k),v=k}o.stateNode=v}else Lj(S,o.type,o.stateNode);else o.stateNode=Pj(S,v,o.memoizedProps);else k!==v?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,v===null?Lj(S,o.type,o.stateNode):Pj(S,v,o.memoizedProps)):v===null&&o.stateNode!==null&&q_(o,o.memoizedProps,h.memoizedProps)}break;case 27:Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),h!==null&&v&4&&q_(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Si(l,o),Ei(o),v&512&&(Jn||h===null||Mo(h,h.return)),o.flags&32){S=o.stateNode;try{pa(S,"")}catch(Ve){qt(o,o.return,Ve)}}v&4&&o.stateNode!=null&&(S=o.memoizedProps,q_(o,S,h!==null?h.memoizedProps:S)),v&1024&&(W_=!0);break;case 6:if(Si(l,o),Ei(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,h=o.stateNode;try{h.nodeValue=v}catch(Ve){qt(o,o.return,Ve)}}break;case 3:if(wg=null,S=Qa,Qa=_g(l.containerInfo),Si(l,o),Qa=S,Ei(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{hd(l.containerInfo)}catch(Ve){qt(o,o.return,Ve)}W_&&(W_=!1,LO(o));break;case 4:v=Qa,Qa=_g(o.stateNode.containerInfo),Si(l,o),Ei(o),Qa=v;break;case 12:Si(l,o),Ei(o);break;case 31:Si(l,o),Ei(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,og(o,v)));break;case 13:Si(l,o),Ei(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(lg=ze()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,og(o,v)));break;case 22:S=o.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,Se=os,je=Jn;if(os=Se||S,Jn=je||oe,Si(l,o),Jn=je,os=Se,Ei(o),v&8192)e:for(l=o.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(h===null||oe||os||Jn||Ic(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){oe=h=l;try{if(k=oe.stateNode,S)I=k.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{K=oe.stateNode;var Pe=oe.memoizedProps.style,Ae=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;K.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ve){qt(oe,oe.return,Ve)}}}else if(l.tag===6){if(h===null){oe=l;try{oe.stateNode.nodeValue=S?"":oe.memoizedProps}catch(Ve){qt(oe,oe.return,Ve)}}}else if(l.tag===18){if(h===null){oe=l;try{var Te=oe.stateNode;S?Aj(Te,!0):Aj(oe.stateNode,!1)}catch(Ve){qt(oe,oe.return,Ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=o.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,og(o,h))));break;case 19:Si(l,o),Ei(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,og(o,v)));break;case 30:break;case 21:break;default:Si(l,o),Ei(o)}}function Ei(o){var l=o.flags;if(l&2){try{for(var h,v=o.return;v!==null;){if(kO(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,k=Y_(o);ag(o,k,S);break;case 5:var I=h.stateNode;h.flags&32&&(pa(I,""),h.flags&=-33);var K=Y_(o);ag(o,K,I);break;case 3:case 4:var oe=h.stateNode.containerInfo,Se=Y_(o);K_(o,Se,oe);break;default:throw Error(r(161))}}catch(je){qt(o,o.return,je)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function LO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;LO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ls(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)NO(o,l.alternate,l),l=l.sibling}function Ic(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:bl(4,l,l.return),Ic(l);break;case 1:Mo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&AO(l,l.return,h),Ic(l);break;case 27:mh(l.stateNode);case 26:case 5:Mo(l,l.return),Ic(l);break;case 22:l.memoizedState===null&&Ic(l);break;case 30:Ic(l);break;default:Ic(l)}o=o.sibling}}function cs(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,S=o,k=l,I=k.flags;switch(k.tag){case 0:case 11:case 15:cs(S,k,h),ih(4,k);break;case 1:if(cs(S,k,h),v=k,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Se){qt(v,v.return,Se)}if(v=k,S=v.updateQueue,S!==null){var K=v.stateNode;try{var oe=S.shared.hiddenCallbacks;if(oe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<oe.length;S++)hk(oe[S],K)}catch(Se){qt(v,v.return,Se)}}h&&I&64&&EO(k),ah(k,k.return);break;case 27:OO(k);case 26:case 5:cs(S,k,h),h&&v===null&&I&4&&TO(k),ah(k,k.return);break;case 12:cs(S,k,h);break;case 31:cs(S,k,h),h&&I&4&&DO(S,k);break;case 13:cs(S,k,h),h&&I&4&&PO(S,k);break;case 22:k.memoizedState===null&&cs(S,k,h),ah(k,k.return);break;case 30:break;default:cs(S,k,h)}l=l.sibling}}function V_(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&qf(h))}function Z_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&qf(o))}function eo(o,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)IO(o,l,h,v),l=l.sibling}function IO(o,l,h,v){var S=l.flags;switch(l.tag){case 0:case 11:case 15:eo(o,l,h,v),S&2048&&ih(9,l);break;case 1:eo(o,l,h,v);break;case 3:eo(o,l,h,v),S&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&qf(o)));break;case 12:if(S&2048){eo(o,l,h,v),o=l.stateNode;try{var k=l.memoizedProps,I=k.id,K=k.onPostCommit;typeof K=="function"&&K(I,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(oe){qt(l,l.return,oe)}}else eo(o,l,h,v);break;case 31:eo(o,l,h,v);break;case 13:eo(o,l,h,v);break;case 23:break;case 22:k=l.stateNode,I=l.alternate,l.memoizedState!==null?k._visibility&2?eo(o,l,h,v):oh(o,l):k._visibility&2?eo(o,l,h,v):(k._visibility|=2,nd(o,l,h,v,(l.subtreeFlags&10256)!==0||!1)),S&2048&&V_(I,l);break;case 24:eo(o,l,h,v),S&2048&&Z_(l.alternate,l);break;default:eo(o,l,h,v)}}function nd(o,l,h,v,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var k=o,I=l,K=h,oe=v,Se=I.flags;switch(I.tag){case 0:case 11:case 15:nd(k,I,K,oe,S),ih(8,I);break;case 23:break;case 22:var je=I.stateNode;I.memoizedState!==null?je._visibility&2?nd(k,I,K,oe,S):oh(k,I):(je._visibility|=2,nd(k,I,K,oe,S)),S&&Se&2048&&V_(I.alternate,I);break;case 24:nd(k,I,K,oe,S),S&&Se&2048&&Z_(I.alternate,I);break;default:nd(k,I,K,oe,S)}l=l.sibling}}function oh(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,v=l,S=v.flags;switch(v.tag){case 22:oh(h,v),S&2048&&V_(v.alternate,v);break;case 24:oh(h,v),S&2048&&Z_(v.alternate,v);break;default:oh(h,v)}l=l.sibling}}var sh=8192;function rd(o,l,h){if(o.subtreeFlags&sh)for(o=o.child;o!==null;)$O(o,l,h),o=o.sibling}function $O(o,l,h){switch(o.tag){case 26:rd(o,l,h),o.flags&sh&&o.memoizedState!==null&&lU(h,Qa,o.memoizedState,o.memoizedProps);break;case 5:rd(o,l,h);break;case 3:case 4:var v=Qa;Qa=_g(o.stateNode.containerInfo),rd(o,l,h),Qa=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=sh,sh=16777216,rd(o,l,h),sh=v):rd(o,l,h));break;default:rd(o,l,h)}}function BO(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function lh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];vr=v,UO(v,o)}BO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zO(o),o=o.sibling}function zO(o){switch(o.tag){case 0:case 11:case 15:lh(o),o.flags&2048&&bl(9,o,o.return);break;case 3:lh(o);break;case 12:lh(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,sg(o)):lh(o);break;default:lh(o)}}function sg(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];vr=v,UO(v,o)}BO(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:bl(8,l,l.return),sg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,sg(l));break;default:sg(l)}o=o.sibling}}function UO(o,l){for(;vr!==null;){var h=vr;switch(h.tag){case 0:case 11:case 15:bl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:qf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,vr=v;else e:for(h=o;vr!==null;){v=vr;var S=v.sibling,k=v.return;if(CO(v),v===h){vr=null;break e}if(S!==null){S.return=k,vr=S;break e}vr=k}}}var S8={getCacheForType:function(o){var l=Nr(Vn),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h},cacheSignal:function(){return Nr(Vn).controller.signal}},E8=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Qt=null,St=null,jt=0,Gt=0,qi=null,_l=!1,id=!1,X_=!1,us=0,Rn=0,xl=0,$c=0,J_=0,Yi=0,ad=0,ch=null,Ai=null,Q_=!1,lg=0,HO=0,cg=1/0,ug=null,wl=null,sr=0,Sl=null,od=null,ds=0,ex=0,tx=null,FO=null,uh=0,nx=null;function Ki(){return(Bt&2)!==0&&jt!==0?jt&-jt:J.T!==null?lx():Yo()}function GO(){if(Yi===0)if((jt&536870912)===0||wt){var o=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),Yi=o}else Yi=536870912;return o=Fi.current,o!==null&&(o.flags|=32),Yi}function Ti(o,l,h){(o===Qt&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)&&(sd(o,0),El(o,jt,Yi,!1)),qa(o,h),((Bt&2)===0||o!==Qt)&&(o===Qt&&((Bt&2)===0&&($c|=h),Rn===4&&El(o,jt,Yi,!1)),Do(o))}function qO(o,l,h){if((Bt&6)!==0)throw Error(r(327));var v=!h&&(l&127)===0&&(l&o.expiredLanes)===0||fa(o,l),S=v?k8(o,l):ix(o,l,!0),k=v;do{if(S===0){id&&!v&&El(o,l,0,!1);break}else{if(h=o.current.alternate,k&&!A8(h)){S=ix(o,l,!1),k=!1;continue}if(S===2){if(k=l,o.errorRecoveryDisabledLanes&k)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var K=o;S=ch;var oe=K.current.memoizedState.isDehydrated;if(oe&&(sd(K,I).flags|=256),I=ix(K,I,!1),I!==2){if(X_&&!oe){K.errorRecoveryDisabledLanes|=k,$c|=k,S=4;break e}k=Ai,Ai=S,k!==null&&(Ai===null?Ai=k:Ai.push.apply(Ai,k))}S=I}if(k=!1,S!==2)continue}}if(S===1){sd(o,0),El(o,l,0,!0);break}e:{switch(v=o,k=S,k){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:El(v,l,Yi,!_l);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(S=lg+300-ze(),10<S)){if(El(v,l,Yi,!_l),Hr(v,0,!0)!==0)break e;ds=l,v.timeoutHandle=wj(YO.bind(null,v,h,Ai,ug,Q_,l,Yi,$c,ad,_l,k,"Throttled",-0,0),S);break e}YO(v,h,Ai,ug,Q_,l,Yi,$c,ad,_l,k,null,-0,0)}}break}while(!0);Do(o)}function YO(o,l,h,v,S,k,I,K,oe,Se,je,Pe,Ae,Te){if(o.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},$O(l,k,Pe);var Ve=(k&62914560)===k?lg-ze():(k&4194048)===k?HO-ze():0;if(Ve=cU(Pe,Ve),Ve!==null){ds=k,o.cancelPendingCommit=Ve(ej.bind(null,o,l,k,h,v,S,I,K,oe,je,Pe,null,Ae,Te)),El(o,k,I,!Se);return}}ej(o,l,k,h,v,S,I,K,oe)}function A8(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var S=h[v],k=S.getSnapshot;S=S.value;try{if(!pr(k(),S))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function El(o,l,h,v){l&=~J_,l&=~$c,o.suspendedLanes|=l,o.pingedLanes&=~l,v&&(o.warmLanes|=l),v=o.expirationTimes;for(var S=l;0<S;){var k=31-An(S),I=1<<k;v[k]=-1,S&=~I}h!==0&&Vs(o,h,l)}function dg(){return(Bt&6)===0?(dh(0),!1):!0}function rx(){if(St!==null){if(Gt===0)var o=St.return;else o=St,Ja=Co=null,b_(o),Xu=null,Kf=0,o=St;for(;o!==null;)SO(o.alternate,o),o=o.return;St=null}}function sd(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,q8(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),ds=0,rx(),Qt=o,St=h=wa(o.current,null),jt=l,Gt=0,qi=null,_l=!1,id=fa(o,l),X_=!1,ad=Yi=J_=$c=xl=Rn=0,Ai=ch=null,Q_=!1,(l&8)!==0&&(l|=l&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=l;0<v;){var S=31-An(v),k=1<<S;l|=o[S],v&=~k}return us=l,Ac(),h}function KO(o,l){mt=null,J.H=th,l===Zu||l===zp?(l=ck(),Gt=3):l===s_?(l=ck(),Gt=4):Gt=l===R_?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qi=l,St===null&&(Rn=1,eg(o,g(l,o.current)))}function WO(){var o=Fi.current;return o===null?!0:(jt&4194048)===jt?Sa===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Sa:!1}function VO(){var o=J.H;return J.H=th,o===null?th:o}function ZO(){var o=J.A;return J.A=S8,o}function fg(){Rn=4,_l||(jt&4194048)!==jt&&Fi.current!==null||(id=!0),(xl&134217727)===0&&($c&134217727)===0||Qt===null||El(Qt,jt,Yi,!1)}function ix(o,l,h){var v=Bt;Bt|=2;var S=VO(),k=ZO();(Qt!==o||jt!==l)&&(ug=null,sd(o,l)),l=!1;var I=Rn;e:do try{if(Gt!==0&&St!==null){var K=St,oe=qi;switch(Gt){case 8:rx(),I=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(l=!0);var Se=Gt;if(Gt=0,qi=null,ld(o,K,oe,Se),h&&id){I=0;break e}break;default:Se=Gt,Gt=0,qi=null,ld(o,K,oe,Se)}}T8(),I=Rn;break}catch(je){KO(o,je)}while(!0);return l&&o.shellSuspendCounter++,Ja=Co=null,Bt=v,J.H=S,J.A=k,St===null&&(Qt=null,jt=0,Ac()),I}function T8(){for(;St!==null;)XO(St)}function k8(o,l){var h=Bt;Bt|=2;var v=VO(),S=ZO();Qt!==o||jt!==l?(ug=null,cg=ze()+500,sd(o,l)):id=fa(o,l);e:do try{if(Gt!==0&&St!==null){l=St;var k=qi;t:switch(Gt){case 1:Gt=0,qi=null,ld(o,l,k,1);break;case 2:case 9:if(sk(k)){Gt=0,qi=null,JO(l);break}l=function(){Gt!==2&&Gt!==9||Qt!==o||(Gt=7),Do(o)},k.then(l,l);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:sk(k)?(Gt=0,qi=null,JO(l)):(Gt=0,qi=null,ld(o,l,k,7));break;case 5:var I=null;switch(St.tag){case 26:I=St.memoizedState;case 5:case 27:var K=St;if(I?Ij(I):K.stateNode.complete){Gt=0,qi=null;var oe=K.sibling;if(oe!==null)St=oe;else{var Se=K.return;Se!==null?(St=Se,hg(Se)):St=null}break t}}Gt=0,qi=null,ld(o,l,k,5);break;case 6:Gt=0,qi=null,ld(o,l,k,6);break;case 8:rx(),Rn=6;break e;default:throw Error(r(462))}}O8();break}catch(je){KO(o,je)}while(!0);return Ja=Co=null,J.H=v,J.A=S,Bt=h,St!==null?0:(Qt=null,jt=0,Ac(),Rn)}function O8(){for(;St!==null&&!ge();)XO(St)}function XO(o){var l=xO(o.alternate,o,us);o.memoizedProps=o.pendingProps,l===null?hg(o):St=l}function JO(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=pO(h,l,l.pendingProps,l.type,void 0,jt);break;case 11:l=pO(h,l,l.pendingProps,l.type.render,l.ref,jt);break;case 5:b_(l);default:SO(h,l),l=St=zf(l,us),l=xO(h,l,us)}o.memoizedProps=o.pendingProps,l===null?hg(o):St=l}function ld(o,l,h,v){Ja=Co=null,b_(l),Xu=null,Kf=0;var S=l.return;try{if(g8(o,S,l,h,jt)){Rn=1,eg(o,g(h,o.current)),St=null;return}}catch(k){if(S!==null)throw St=S,k;Rn=1,eg(o,g(h,o.current)),St=null;return}l.flags&32768?(wt||v===1?o=!0:id||(jt&536870912)!==0?o=!1:(_l=o=!0,(v===2||v===9||v===3||v===6)&&(v=Fi.current,v!==null&&v.tag===13&&(v.flags|=16384))),QO(l,o)):hg(l)}function hg(o){var l=o;do{if((l.flags&32768)!==0){QO(l,_l);return}o=l.return;var h=b8(l.alternate,l,us);if(h!==null){St=h;return}if(l=l.sibling,l!==null){St=l;return}St=l=o}while(l!==null);Rn===0&&(Rn=5)}function QO(o,l){do{var h=_8(o.alternate,o);if(h!==null){h.flags&=32767,St=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){St=o;return}St=o=h}while(o!==null);Rn=6,St=null}function ej(o,l,h,v,S,k,I,K,oe){o.cancelPendingCommit=null;do mg();while(sr!==0);if((Bt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(k=l.lanes|l.childLanes,k|=Fu,ec(o,h,k,I,K,oe),o===Qt&&(St=Qt=null,jt=0),od=l,Sl=o,ds=h,ex=k,tx=S,FO=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,M8(tn,function(){return aj(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,S=ae.p,ae.p=2,I=Bt,Bt|=4;try{x8(o,l,h)}finally{Bt=I,ae.p=S,J.T=v}}sr=1,tj(),nj(),rj()}}function tj(){if(sr===1){sr=0;var o=Sl,l=od,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var v=ae.p;ae.p=2;var S=Bt;Bt|=4;try{RO(l,o);var k=gx,I=_c(o.containerInfo),K=k.focusedElem,oe=k.selectionRange;if(I!==K&&K&&K.ownerDocument&&Bu(K.ownerDocument.documentElement,K)){if(oe!==null&&Eo(K)){var Se=oe.start,je=oe.end;if(je===void 0&&(je=Se),"selectionStart"in K)K.selectionStart=Se,K.selectionEnd=Math.min(je,K.value.length);else{var Pe=K.ownerDocument||document,Ae=Pe&&Pe.defaultView||window;if(Ae.getSelection){var Te=Ae.getSelection(),Ve=K.textContent.length,st=Math.min(oe.start,Ve),Zt=oe.end===void 0?st:Math.min(oe.end,Ve);!Te.extend&&st>Zt&&(I=Zt,Zt=st,st=I);var me=bc(K,st),ue=bc(K,Zt);if(me&&ue&&(Te.rangeCount!==1||Te.anchorNode!==me.node||Te.anchorOffset!==me.offset||Te.focusNode!==ue.node||Te.focusOffset!==ue.offset)){var xe=Pe.createRange();xe.setStart(me.node,me.offset),Te.removeAllRanges(),st>Zt?(Te.addRange(xe),Te.extend(ue.node,ue.offset)):(xe.setEnd(ue.node,ue.offset),Te.addRange(xe))}}}}for(Pe=[],Te=K;Te=Te.parentNode;)Te.nodeType===1&&Pe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Pe.length;K++){var Ce=Pe[K];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Tg=!!px,gx=px=null}finally{Bt=S,ae.p=v,J.T=h}}o.current=l,sr=2}}function nj(){if(sr===2){sr=0;var o=Sl,l=od,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var v=ae.p;ae.p=2;var S=Bt;Bt|=4;try{NO(o,l.alternate,l)}finally{Bt=S,ae.p=v,J.T=h}}sr=3}}function rj(){if(sr===4||sr===3){sr=0,Ue();var o=Sl,l=od,h=ds,v=FO;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?sr=5:(sr=0,od=Sl=null,ij(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(wl=null),Xe(h),l=l.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(En,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=J.T,S=ae.p,ae.p=2,J.T=null;try{for(var k=o.onRecoverableError,I=0;I<v.length;I++){var K=v[I];k(K.value,{componentStack:K.stack})}}finally{J.T=l,ae.p=S}}(ds&3)!==0&&mg(),Do(o),S=o.pendingLanes,(h&261930)!==0&&(S&42)!==0?o===nx?uh++:(uh=0,nx=o):uh=0,dh(0)}}function ij(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,qf(l)))}function mg(){return tj(),nj(),rj(),aj()}function aj(){if(sr!==5)return!1;var o=Sl,l=ex;ex=0;var h=Xe(ds),v=J.T,S=ae.p;try{ae.p=32>h?32:h,J.T=null,h=tx,tx=null;var k=Sl,I=ds;if(sr=0,od=Sl=null,ds=0,(Bt&6)!==0)throw Error(r(331));var K=Bt;if(Bt|=4,zO(k.current),IO(k,k.current,I,h),Bt=K,dh(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(En,k)}catch{}return!0}finally{ae.p=S,J.T=v,ij(o,l)}}function oj(o,l,h){l=g(h,l),l=P_(o.stateNode,l,2),o=gl(o,l,2),o!==null&&(qa(o,2),Do(o))}function qt(o,l,h){if(o.tag===3)oj(o,o,h);else for(;l!==null;){if(l.tag===3){oj(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(wl===null||!wl.has(v))){o=g(h,o),h=sO(2),v=gl(l,h,2),v!==null&&(lO(h,v,l,o),qa(v,2),Do(v));break}}l=l.return}}function ax(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new E8;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(h)||(X_=!0,S.add(h),o=j8.bind(null,o,l,h),l.then(o,o))}function j8(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Qt===o&&(jt&h)===h&&(Rn===4||Rn===3&&(jt&62914560)===jt&&300>ze()-lg?(Bt&2)===0&&sd(o,0):J_|=h,ad===jt&&(ad=0)),Do(o)}function sj(o,l){l===0&&(l=Jl()),o=xa(o,l),o!==null&&(qa(o,l),Do(o))}function N8(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),sj(o,h)}function C8(o,l){var h=0;switch(o.tag){case 31:case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),sj(o,h)}function M8(o,l){return $e(o,l)}var pg=null,cd=null,ox=!1,gg=!1,sx=!1,Al=0;function Do(o){o!==cd&&o.next===null&&(cd===null?pg=cd=o:cd=cd.next=o),gg=!0,ox||(ox=!0,P8())}function dh(o,l){if(!sx&&gg){sx=!0;do for(var h=!1,v=pg;v!==null;){if(o!==0){var S=v.pendingLanes;if(S===0)var k=0;else{var I=v.suspendedLanes,K=v.pingedLanes;k=(1<<31-An(42|o)+1)-1,k&=S&~(I&~K),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,dj(v,k))}else k=jt,k=Hr(v,v===Qt?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||fa(v,k)||(h=!0,dj(v,k));v=v.next}while(h);sx=!1}}function D8(){lj()}function lj(){gg=ox=!1;var o=0;Al!==0&&G8()&&(o=Al);for(var l=ze(),h=null,v=pg;v!==null;){var S=v.next,k=cj(v,l);k===0?(v.next=null,h===null?pg=S:h.next=S,S===null&&(cd=h)):(h=v,(o!==0||(k&3)!==0)&&(gg=!0)),v=S}sr!==0&&sr!==5||dh(o),Al!==0&&(Al=0)}function cj(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var I=31-An(k),K=1<<I,oe=S[I];oe===-1?((K&h)===0||(K&v)!==0)&&(S[I]=Ws(K,l)):oe<=l&&(o.expiredLanes|=K),k&=~K}if(l=Qt,h=jt,h=Hr(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,h===0||o===l&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&he(v),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||fa(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(v!==null&&he(v),Xe(h)){case 2:case 8:h=it;break;case 32:h=tn;break;case 268435456:h=zn;break;default:h=tn}return v=uj.bind(null,o),h=$e(h,v),o.callbackPriority=l,o.callbackNode=h,l}return v!==null&&v!==null&&he(v),o.callbackPriority=2,o.callbackNode=null,2}function uj(o,l){if(sr!==0&&sr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(mg()&&o.callbackNode!==h)return null;var v=jt;return v=Hr(o,o===Qt?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(qO(o,v,l),cj(o,ze()),o.callbackNode!=null&&o.callbackNode===h?uj.bind(null,o):null)}function dj(o,l){if(mg())return null;qO(o,l,!0)}function P8(){Y8(function(){(Bt&6)!==0?$e(ut,D8):lj()})}function lx(){if(Al===0){var o=Wu;o===0&&(o=Un,Un<<=1,(Un&261888)===0&&(Un=256)),Al=o}return Al}function fj(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:el(""+o)}function hj(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function R8(o,l,h,v,S){if(l==="submit"&&h&&h.stateNode===S){var k=fj((S[Hn]||null).action),I=v.submitter;I&&(l=(l=I[Hn]||null)?fj(l.formAction):I.getAttribute("formAction"),l!==null&&(k=l,I=null));var K=new Mu("action","action",null,v,S);o.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Al!==0){var oe=I?hj(S,I):new FormData(S);O_(h,{pending:!0,data:oe,method:S.method,action:k},null,oe)}}else typeof k=="function"&&(K.preventDefault(),oe=I?hj(S,I):new FormData(S),O_(h,{pending:!0,data:oe,method:S.method,action:k},k,oe))},currentTarget:S}]})}}for(var cx=0;cx<ko.length;cx++){var ux=ko[cx],L8=ux.toLowerCase(),I8=ux[0].toUpperCase()+ux.slice(1);bi(L8,"on"+I8)}bi(wc,"onAnimationEnd"),bi(Pp,"onAnimationIteration"),bi(Sc,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Qb,"onTransitionRun"),bi(Rp,"onTransitionStart"),bi(e_,"onTransitionCancel"),bi(dl,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fh));function mj(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],S=v.event;v=v.listeners;e:{var k=void 0;if(l)for(var I=v.length-1;0<=I;I--){var K=v[I],oe=K.instance,Se=K.currentTarget;if(K=K.listener,oe!==k&&S.isPropagationStopped())break e;k=K,S.currentTarget=Se;try{k(S)}catch(je){Ec(je)}S.currentTarget=null,k=oe}else for(I=0;I<v.length;I++){if(K=v[I],oe=K.instance,Se=K.currentTarget,K=K.listener,oe!==k&&S.isPropagationStopped())break e;k=K,S.currentTarget=Se;try{k(S)}catch(je){Ec(je)}S.currentTarget=null,k=oe}}}}function Et(o,l){var h=l[ha];h===void 0&&(h=l[ha]=new Set);var v=o+"__bubble";h.has(v)||(pj(l,o,2,!1),h.add(v))}function dx(o,l,h){var v=0;l&&(v|=4),pj(h,o,v,l)}var vg="_reactListening"+Math.random().toString(36).slice(2);function fx(o){if(!o[vg]){o[vg]=!0,Zs.forEach(function(h){h!=="selectionchange"&&($8.has(h)||dx(h,!1,o),dx(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[vg]||(l[vg]=!0,dx("selectionchange",!1,l))}}function pj(o,l,h,v){switch(Gj(l)){case 2:var S=fU;break;case 8:S=hU;break;default:S=kx}h=S.bind(null,l,h,o),S=void 0,!uc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(l,h,{capture:!0,passive:S}):o.addEventListener(l,h,!0):S!==void 0?o.addEventListener(l,h,{passive:S}):o.addEventListener(l,h,!1)}function hx(o,l,h,v,S){var k=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var K=v.stateNode.containerInfo;if(K===S)break;if(I===4)for(I=v.return;I!==null;){var oe=I.tag;if((oe===3||oe===4)&&I.stateNode.containerInfo===S)return;I=I.return}for(;K!==null;){if(I=gt(K),I===null)return;if(oe=I.tag,oe===5||oe===6||oe===26||oe===27){v=k=I;continue e}K=K.parentNode}}v=v.return}jf(function(){var Se=k,je=cc(h),Pe=[];e:{var Ae=Lp.get(o);if(Ae!==void 0){var Te=Mu,Ve=o;switch(o){case"keypress":if(dc(h)===0)break e;case"keydown":case"keyup":Te=wp;break;case"focusin":Ve="focus",Te=Mf;break;case"focusout":Ve="blur",Te=Mf;break;case"beforeblur":case"afterblur":Te=Mf;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Kb;break;case wc:case Pp:case Sc:Te=Df;break;case dl:Te=Ap;break;case"scroll":case"scrollend":Te=Ot;break;case"wheel":Te=Xo;break;case"copy":case"cut":case"paste":Te=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Sp;break;case"toggle":case"beforetoggle":Te=mc}var st=(l&4)!==0,Zt=!st&&(o==="scroll"||o==="scrollend"),me=st?Ae!==null?Ae+"Capture":null:Ae;st=[];for(var ue=Se,xe;ue!==null;){var Ce=ue;if(xe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||xe===null||me===null||(Ce=Vo(ue,me),Ce!=null&&st.push(hh(ue,Ce,xe))),Zt)break;ue=ue.return}0<st.length&&(Ae=new Te(Ae,Ve,null,h,je),Pe.push({event:Ae,listeners:st}))}}if((l&7)===0){e:{if(Ae=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",Ae&&h!==Cu&&(Ve=h.relatedTarget||h.fromElement)&&(gt(Ve)||Ve[$i]))break e;if((Te||Ae)&&(Ae=je.window===je?je:(Ae=je.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Te?(Ve=h.relatedTarget||h.toElement,Te=Se,Ve=Ve?gt(Ve):null,Ve!==null&&(Zt=a(Ve),st=Ve.tag,Ve!==Zt||st!==5&&st!==27&&st!==6)&&(Ve=null)):(Te=null,Ve=Se),Te!==Ve)){if(st=vp,Ce="onMouseLeave",me="onMouseEnter",ue="mouse",(o==="pointerout"||o==="pointerover")&&(st=Sp,Ce="onPointerLeave",me="onPointerEnter",ue="pointer"),Zt=Te==null?Ae:bt(Te),xe=Ve==null?Ae:bt(Ve),Ae=new st(Ce,ue+"leave",Te,h,je),Ae.target=Zt,Ae.relatedTarget=xe,Ce=null,gt(je)===Se&&(st=new st(me,ue+"enter",Ve,h,je),st.target=xe,st.relatedTarget=Zt,Ce=st),Zt=Ce,Te&&Ve)t:{for(st=B8,me=Te,ue=Ve,xe=0,Ce=me;Ce;Ce=st(Ce))xe++;Ce=0;for(var rt=ue;rt;rt=st(rt))Ce++;for(;0<xe-Ce;)me=st(me),xe--;for(;0<Ce-xe;)ue=st(ue),Ce--;for(;xe--;){if(me===ue||ue!==null&&me===ue.alternate){st=me;break t}me=st(me),ue=st(ue)}st=null}else st=null;Te!==null&&gj(Pe,Ae,Te,st,!1),Ve!==null&&Zt!==null&&gj(Pe,Zt,Ve,st,!0)}}e:{if(Ae=Se?bt(Se):window,Te=Ae.nodeName&&Ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ae.type==="file")var Rt=yc;else if(ya(Ae))if(jp)Rt=Jb;else{Rt=Xb;var Je=Va}else Te=Ae.nodeName,!Te||Te.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Se&&lc(Se.elementType)&&(Rt=yc):Rt=sl;if(Rt&&(Rt=Rt(o,Se))){Op(Pe,Rt,h,je);break e}Je&&Je(o,Ae,Se),o==="focusout"&&Se&&Ae.type==="number"&&Se.memoizedProps.value!=null&&Ya(Ae,"number",Ae.value)}switch(Je=Se?bt(Se):window,o){case"focusin":(ya(Je)||Je.contentEditable==="true")&&(Ao=Je,Uu=Se,xc=null);break;case"focusout":xc=Uu=Ao=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,Mp(Pe,h,je);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":Mp(Pe,h,je)}var yt;if(Pu)e:{switch(o){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else il?kp(o,h)&&(Nt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ru&&h.locale!=="ko"&&(il||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&il&&(yt=wo()):(ga=je,Zo="value"in ga?ga.value:ga.textContent,il=!0)),Je=yg(Se,Nt),0<Je.length&&(Nt=new Pf(Nt,o,null,h,je),Pe.push({event:Nt,listeners:Je}),yt?Nt.data=yt:(yt=$f(h),yt!==null&&(Nt.data=yt)))),(yt=Vb?Hi(o,h):al(o,h))&&(Nt=yg(Se,"onBeforeInput"),0<Nt.length&&(Je=new Pf("onBeforeInput","beforeinput",null,h,je),Pe.push({event:Je,listeners:Nt}),Je.data=yt)),R8(Pe,o,Se,h,je)}mj(Pe,l)})}function hh(o,l,h){return{instance:o,listener:l,currentTarget:h}}function yg(o,l){for(var h=l+"Capture",v=[];o!==null;){var S=o,k=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||k===null||(S=Vo(o,h),S!=null&&v.unshift(hh(o,S,k)),S=Vo(o,l),S!=null&&v.push(hh(o,S,k))),o.tag===3)return v;o=o.return}return[]}function B8(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function gj(o,l,h,v,S){for(var k=l._reactName,I=[];h!==null&&h!==v;){var K=h,oe=K.alternate,Se=K.stateNode;if(K=K.tag,oe!==null&&oe===v)break;K!==5&&K!==26&&K!==27||Se===null||(oe=Se,S?(Se=Vo(h,k),Se!=null&&I.unshift(hh(h,Se,oe))):S||(Se=Vo(h,k),Se!=null&&I.push(hh(h,Se,oe)))),h=h.return}I.length!==0&&o.push({event:l,listeners:I})}var z8=/\r\n?/g,U8=/\u0000|\uFFFD/g;function vj(o){return(typeof o=="string"?o:""+o).replace(z8,`
`).replace(U8,"")}function yj(o,l){return l=vj(l),vj(o)===l}function Vt(o,l,h,v,S,k){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||pa(o,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&pa(o,""+v);break;case"className":Kt(o,"class",v);break;case"tabIndex":Kt(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(o,h,v);break;case"style":ju(o,v,k);break;case"data":if(l!=="object"){Kt(o,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=el(""+v),o.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(l!=="input"&&Vt(o,l,"name",S.name,S,null),Vt(o,l,"formEncType",S.formEncType,S,null),Vt(o,l,"formMethod",S.formMethod,S,null),Vt(o,l,"formTarget",S.formTarget,S,null)):(Vt(o,l,"encType",S.encType,S,null),Vt(o,l,"method",S.method,S,null),Vt(o,l,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(h);break}v=el(""+v),o.setAttribute(h,v);break;case"onClick":v!=null&&(o.onclick=vi);break;case"onScroll":v!=null&&Et("scroll",o);break;case"onScrollEnd":v!=null&&Et("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}h=el(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""+v):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":v===!0?o.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(h,v):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(h,v):o.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(h):o.setAttribute(h,v);break;case"popover":Et("beforetoggle",o),Et("toggle",o),xt(o,"popover",v);break;case"xlinkActuate":gi(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":gi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":gi(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":gi(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":gi(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":gi(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":gi(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":gi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":gi(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":xt(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Nu.get(h)||h,xt(o,h,v))}}function mx(o,l,h,v,S,k){switch(h){case"style":ju(o,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof v=="string"?pa(o,v):(typeof v=="number"||typeof v=="bigint")&&pa(o,""+v);break;case"onScroll":v!=null&&Et("scroll",o);break;case"onScrollEnd":v!=null&&Et("scrollend",o);break;case"onClick":v!=null&&(o.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),l=h.slice(2,S?h.length-7:void 0),k=o[Hn]||null,k=k!=null?k[h]:null,typeof k=="function"&&o.removeEventListener(l,k,S),typeof v=="function")){typeof k!="function"&&k!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,v,S);break e}h in o?o[h]=v:v===!0?o.setAttribute(h,""):xt(o,h,v)}}}function Mr(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",o),Et("load",o);var v=!1,S=!1,k;for(k in h)if(h.hasOwnProperty(k)){var I=h[k];if(I!=null)switch(k){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(o,l,k,I,h,null)}}S&&Vt(o,l,"srcSet",h.srcSet,h,null),v&&Vt(o,l,"src",h.src,h,null);return;case"input":Et("invalid",o);var K=k=I=S=null,oe=null,Se=null;for(v in h)if(h.hasOwnProperty(v)){var je=h[v];if(je!=null)switch(v){case"name":S=je;break;case"type":I=je;break;case"checked":oe=je;break;case"defaultChecked":Se=je;break;case"value":k=je;break;case"defaultValue":K=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,l));break;default:Vt(o,l,v,je,h,null)}}sc(o,k,K,oe,Se,I,S,!1);return;case"select":Et("invalid",o),v=I=k=null;for(S in h)if(h.hasOwnProperty(S)&&(K=h[S],K!=null))switch(S){case"value":k=K;break;case"defaultValue":I=K;break;case"multiple":v=K;default:Vt(o,l,S,K,h,null)}l=k,h=I,o.multiple=!!v,l!=null?Jt(o,!!v,l,!1):h!=null&&Jt(o,!!v,h,!0);return;case"textarea":Et("invalid",o),k=S=v=null;for(I in h)if(h.hasOwnProperty(I)&&(K=h[I],K!=null))switch(I){case"value":v=K;break;case"defaultValue":S=K;break;case"children":k=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Vt(o,l,I,K,h,null)}Js(o,v,S,k);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(v=h[oe],v!=null))switch(oe){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Vt(o,l,oe,v,h,null)}return;case"dialog":Et("beforetoggle",o),Et("toggle",o),Et("cancel",o),Et("close",o);break;case"iframe":case"object":Et("load",o);break;case"video":case"audio":for(v=0;v<fh.length;v++)Et(fh[v],o);break;case"image":Et("error",o),Et("load",o);break;case"details":Et("toggle",o);break;case"embed":case"source":case"link":Et("error",o),Et("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(v=h[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(o,l,Se,v,h,null)}return;default:if(lc(l)){for(je in h)h.hasOwnProperty(je)&&(v=h[je],v!==void 0&&mx(o,l,je,v,h,void 0));return}}for(K in h)h.hasOwnProperty(K)&&(v=h[K],v!=null&&Vt(o,l,K,v,h,null))}function H8(o,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,k=null,I=null,K=null,oe=null,Se=null,je=null;for(Te in h){var Pe=h[Te];if(h.hasOwnProperty(Te)&&Pe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":oe=Pe;default:v.hasOwnProperty(Te)||Vt(o,l,Te,null,v,Pe)}}for(var Ae in v){var Te=v[Ae];if(Pe=h[Ae],v.hasOwnProperty(Ae)&&(Te!=null||Pe!=null))switch(Ae){case"type":k=Te;break;case"name":S=Te;break;case"checked":Se=Te;break;case"defaultChecked":je=Te;break;case"value":I=Te;break;case"defaultValue":K=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,l));break;default:Te!==Pe&&Vt(o,l,Ae,Te,v,Pe)}}Tf(o,I,K,oe,Se,je,k,S);return;case"select":Te=I=K=Ae=null;for(k in h)if(oe=h[k],h.hasOwnProperty(k)&&oe!=null)switch(k){case"value":break;case"multiple":Te=oe;default:v.hasOwnProperty(k)||Vt(o,l,k,null,v,oe)}for(S in v)if(k=v[S],oe=h[S],v.hasOwnProperty(S)&&(k!=null||oe!=null))switch(S){case"value":Ae=k;break;case"defaultValue":K=k;break;case"multiple":I=k;default:k!==oe&&Vt(o,l,S,k,v,oe)}l=K,h=I,v=Te,Ae!=null?Jt(o,!!h,Ae,!1):!!v!=!!h&&(l!=null?Jt(o,!!h,l,!0):Jt(o,!!h,h?[]:"",!1));return;case"textarea":Te=Ae=null;for(K in h)if(S=h[K],h.hasOwnProperty(K)&&S!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Vt(o,l,K,null,v,S)}for(I in v)if(S=v[I],k=h[I],v.hasOwnProperty(I)&&(S!=null||k!=null))switch(I){case"value":Ae=S;break;case"defaultValue":Te=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==k&&Vt(o,l,I,S,v,k)}xo(o,Ae,Te);return;case"option":for(var Ve in h)if(Ae=h[Ve],h.hasOwnProperty(Ve)&&Ae!=null&&!v.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:Vt(o,l,Ve,null,v,Ae)}for(oe in v)if(Ae=v[oe],Te=h[oe],v.hasOwnProperty(oe)&&Ae!==Te&&(Ae!=null||Te!=null))switch(oe){case"selected":o.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:Vt(o,l,oe,Ae,v,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in h)Ae=h[st],h.hasOwnProperty(st)&&Ae!=null&&!v.hasOwnProperty(st)&&Vt(o,l,st,null,v,Ae);for(Se in v)if(Ae=v[Se],Te=h[Se],v.hasOwnProperty(Se)&&Ae!==Te&&(Ae!=null||Te!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Vt(o,l,Se,Ae,v,Te)}return;default:if(lc(l)){for(var Zt in h)Ae=h[Zt],h.hasOwnProperty(Zt)&&Ae!==void 0&&!v.hasOwnProperty(Zt)&&mx(o,l,Zt,void 0,v,Ae);for(je in v)Ae=v[je],Te=h[je],!v.hasOwnProperty(je)||Ae===Te||Ae===void 0&&Te===void 0||mx(o,l,je,Ae,v,Te);return}}for(var me in h)Ae=h[me],h.hasOwnProperty(me)&&Ae!=null&&!v.hasOwnProperty(me)&&Vt(o,l,me,null,v,Ae);for(Pe in v)Ae=v[Pe],Te=h[Pe],!v.hasOwnProperty(Pe)||Ae===Te||Ae==null&&Te==null||Vt(o,l,Pe,Ae,v,Te)}function bj(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F8(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var S=h[v],k=S.transferSize,I=S.initiatorType,K=S.duration;if(k&&K&&bj(I)){for(I=0,K=S.responseEnd,v+=1;v<h.length;v++){var oe=h[v],Se=oe.startTime;if(Se>K)break;var je=oe.transferSize,Pe=oe.initiatorType;je&&bj(Pe)&&(oe=oe.responseEnd,I+=je*(oe<K?1:(K-Se)/(oe-Se)))}if(--v,l+=8*(k+I)/(S.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var px=null,gx=null;function bg(o){return o.nodeType===9?o:o.ownerDocument}function _j(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xj(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function vx(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var yx=null;function G8(){var o=window.event;return o&&o.type==="popstate"?o===yx?!1:(yx=o,!0):(yx=null,!1)}var wj=typeof setTimeout=="function"?setTimeout:void 0,q8=typeof clearTimeout=="function"?clearTimeout:void 0,Sj=typeof Promise=="function"?Promise:void 0,Y8=typeof queueMicrotask=="function"?queueMicrotask:typeof Sj<"u"?function(o){return Sj.resolve(null).then(o).catch(K8)}:wj;function K8(o){setTimeout(function(){throw o})}function Tl(o){return o==="head"}function Ej(o,l){var h=l,v=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(v===0){o.removeChild(S),hd(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")mh(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,mh(h);for(var k=h.firstChild;k;){var I=k.nextSibling,K=k.nodeName;k[_t]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=I}}else h==="body"&&mh(o.ownerDocument.body);h=S}while(h);hd(l)}function Aj(o,l){var h=o;o=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=v}while(h)}function bx(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":bx(h),ot(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function W8(o,l,h,v){for(;o.nodeType===1;){var S=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[_t])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var k=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=Ea(o.nextSibling),o===null)break}return null}function V8(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Ea(o.nextSibling),o===null))return null;return o}function Tj(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Ea(o.nextSibling),o===null))return null;return o}function _x(o){return o.data==="$?"||o.data==="$~"}function xx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Z8(o,l){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function Ea(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var wx=null;function kj(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(l===0)return Ea(o.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}o=o.nextSibling}return null}function Oj(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return o;l--}else h!=="/$"&&h!=="/&"||l++}o=o.previousSibling}return null}function jj(o,l,h){switch(l=bg(h),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function mh(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ot(o)}var Aa=new Map,Nj=new Set;function _g(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var fs=ae.d;ae.d={f:X8,r:J8,D:Q8,C:eU,L:tU,m:nU,X:iU,S:rU,M:aU};function X8(){var o=fs.f(),l=dg();return o||l}function J8(o){var l=Tt(o);l!==null&&l.tag===5&&l.type==="form"?Kk(l):fs.r(o)}var ud=typeof document>"u"?null:document;function Cj(o,l,h){var v=ud;if(v&&typeof l=="string"&&l){var S=dn(l);S='link[rel="'+o+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),Nj.has(S)||(Nj.add(S),o={rel:o,crossOrigin:h,href:l},v.querySelector(S)===null&&(l=v.createElement("link"),Mr(l,"link",o),kt(l),v.head.appendChild(l)))}}function Q8(o){fs.D(o),Cj("dns-prefetch",o,null)}function eU(o,l){fs.C(o,l),Cj("preconnect",o,l)}function tU(o,l,h){fs.L(o,l,h);var v=ud;if(v&&o&&l){var S='link[rel="preload"][as="'+dn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+dn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+dn(h.imageSizes)+'"]')):S+='[href="'+dn(o)+'"]';var k=S;switch(l){case"style":k=dd(o);break;case"script":k=fd(o)}Aa.has(k)||(o=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Aa.set(k,o),v.querySelector(S)!==null||l==="style"&&v.querySelector(ph(k))||l==="script"&&v.querySelector(gh(k))||(l=v.createElement("link"),Mr(l,"link",o),kt(l),v.head.appendChild(l)))}}function nU(o,l){fs.m(o,l);var h=ud;if(h&&o){var v=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+dn(v)+'"][href="'+dn(o)+'"]',k=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=fd(o)}if(!Aa.has(k)&&(o=p({rel:"modulepreload",href:o},l),Aa.set(k,o),h.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(gh(k)))return}v=h.createElement("link"),Mr(v,"link",o),kt(v),h.head.appendChild(v)}}}function rU(o,l,h){fs.S(o,l,h);var v=ud;if(v&&o){var S=ir(v).hoistableStyles,k=dd(o);l=l||"default";var I=S.get(k);if(!I){var K={loading:0,preload:null};if(I=v.querySelector(ph(k)))K.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Aa.get(k))&&Sx(o,h);var oe=I=v.createElement("link");kt(oe),Mr(oe,"link",o),oe._p=new Promise(function(Se,je){oe.onload=Se,oe.onerror=je}),oe.addEventListener("load",function(){K.loading|=1}),oe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,xg(I,l,v)}I={type:"stylesheet",instance:I,count:1,state:K},S.set(k,I)}}}function iU(o,l){fs.X(o,l);var h=ud;if(h&&o){var v=ir(h).hoistableScripts,S=fd(o),k=v.get(S);k||(k=h.querySelector(gh(S)),k||(o=p({src:o,async:!0},l),(l=Aa.get(S))&&Ex(o,l),k=h.createElement("script"),kt(k),Mr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(S,k))}}function aU(o,l){fs.M(o,l);var h=ud;if(h&&o){var v=ir(h).hoistableScripts,S=fd(o),k=v.get(S);k||(k=h.querySelector(gh(S)),k||(o=p({src:o,async:!0,type:"module"},l),(l=Aa.get(S))&&Ex(o,l),k=h.createElement("script"),kt(k),Mr(k,"link",o),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(S,k))}}function Mj(o,l,h,v){var S=(S=W.current)?_g(S):null;if(!S)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=dd(h.href),h=ir(S).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=dd(h.href);var k=ir(S).hoistableStyles,I=k.get(o);if(I||(S=S.ownerDocument||S,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,I),(k=S.querySelector(ph(o)))&&!k._p&&(I.instance=k,I.state.loading=5),Aa.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Aa.set(o,h),k||oU(S,o,h,I.state))),l&&v===null)throw Error(r(528,""));return I}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fd(h),h=ir(S).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function dd(o){return'href="'+dn(o)+'"'}function ph(o){return'link[rel="stylesheet"]['+o+"]"}function Dj(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function oU(o,l,h,v){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=o.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Mr(l,"link",h),kt(l),o.head.appendChild(l))}function fd(o){return'[src="'+dn(o)+'"]'}function gh(o){return"script[async]"+o}function Pj(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=o.querySelector('style[data-href~="'+dn(h.href)+'"]');if(v)return l.instance=v,kt(v),v;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),kt(v),Mr(v,"style",S),xg(v,h.precedence,o),l.instance=v;case"stylesheet":S=dd(h.href);var k=o.querySelector(ph(S));if(k)return l.state.loading|=4,l.instance=k,kt(k),k;v=Dj(h),(S=Aa.get(S))&&Sx(v,S),k=(o.ownerDocument||o).createElement("link"),kt(k);var I=k;return I._p=new Promise(function(K,oe){I.onload=K,I.onerror=oe}),Mr(k,"link",v),l.state.loading|=4,xg(k,h.precedence,o),l.instance=k;case"script":return k=fd(h.src),(S=o.querySelector(gh(k)))?(l.instance=S,kt(S),S):(v=h,(S=Aa.get(k))&&(v=p({},h),Ex(v,S)),o=o.ownerDocument||o,S=o.createElement("script"),kt(S),Mr(S,"link",v),o.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,xg(v,h.precedence,o));return l.instance}function xg(o,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,k=S,I=0;I<v.length;I++){var K=v[I];if(K.dataset.precedence===l)k=K;else if(k!==S)break}k?k.parentNode.insertBefore(o,k.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function Sx(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Ex(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var wg=null;function Rj(o,l,h){if(wg===null){var v=new Map,S=wg=new Map;S.set(h,v)}else S=wg,v=S.get(h),v||(v=new Map,S.set(h,v));if(v.has(o))return v;for(v.set(o,null),h=h.getElementsByTagName(o),S=0;S<h.length;S++){var k=h[S];if(!(k[_t]||k[gn]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var I=k.getAttribute(l)||"";I=o+I;var K=v.get(I);K?K.push(k):v.set(I,[k])}}return v}function Lj(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function sU(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Ij(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function lU(o,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=dd(v.href),k=l.querySelector(ph(S));if(k){l=k._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Sg.bind(o),l.then(o,o)),h.state.loading|=4,h.instance=k,kt(k);return}k=l.ownerDocument||l,v=Dj(v),(S=Aa.get(S))&&Sx(v,S),k=k.createElement("link"),kt(k);var I=k;I._p=new Promise(function(K,oe){I.onload=K,I.onerror=oe}),Mr(k,"link",v),h.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Sg.bind(o),l.addEventListener("load",h),l.addEventListener("error",h))}}var Ax=0;function cU(o,l){return o.stylesheets&&o.count===0&&Ag(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var v=setTimeout(function(){if(o.stylesheets&&Ag(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+l);0<o.imgBytes&&Ax===0&&(Ax=62500*F8());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Ag(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>Ax?50:800)+l);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function Sg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Eg=null;function Ag(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Eg=new Map,l.forEach(uU,o),Eg=null,Sg.call(o))}function uU(o,l){if(!(l.state.loading&4)){var h=Eg.get(o);if(h)var v=h.get(null);else{h=new Map,Eg.set(o,h);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<S.length;k++){var I=S[k];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),v=I)}v&&h.set(null,v)}S=l.instance,I=S.getAttribute("data-precedence"),k=h.get(I)||v,k===v&&h.set(null,S),h.set(I,S),this.count++,v=Sg.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),k?k.parentNode.insertBefore(S,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),l.state.loading|=4}}var vh={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function dU(o,l,h,v,S,k,I,K,oe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=k,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function $j(o,l,h,v,S,k,I,K,oe,Se,je,Pe){return o=new dU(o,l,h,I,oe,Se,je,Pe,K),l=1,k===!0&&(l|=24),k=qr(3,null,null,l),o.current=k,k.stateNode=o,l=i_(),l.refCount++,o.pooledCache=l,l.refCount++,k.memoizedState={element:v,isDehydrated:h,cache:l},l_(k),o}function Bj(o){return o?(o=Jo,o):Jo}function zj(o,l,h,v,S,k){S=Bj(S),v.context===null?v.context=S:v.pendingContext=S,v=pl(l),v.payload={element:h},k=k===void 0?null:k,k!==null&&(v.callback=k),h=gl(o,v,l),h!==null&&(Ti(h,o,l),Vf(h,o,l))}function Uj(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Tx(o,l){Uj(o,l),(o=o.alternate)&&Uj(o,l)}function Hj(o){if(o.tag===13||o.tag===31){var l=xa(o,67108864);l!==null&&Ti(l,o,67108864),Tx(o,67108864)}}function Fj(o){if(o.tag===13||o.tag===31){var l=Ki();l=rr(l);var h=xa(o,l);h!==null&&Ti(h,o,l),Tx(o,l)}}var Tg=!0;function fU(o,l,h,v){var S=J.T;J.T=null;var k=ae.p;try{ae.p=2,kx(o,l,h,v)}finally{ae.p=k,J.T=S}}function hU(o,l,h,v){var S=J.T;J.T=null;var k=ae.p;try{ae.p=8,kx(o,l,h,v)}finally{ae.p=k,J.T=S}}function kx(o,l,h,v){if(Tg){var S=Ox(v);if(S===null)hx(o,l,v,kg,h),qj(o,v);else if(pU(S,o,l,h,v))v.stopPropagation();else if(qj(o,v),l&4&&-1<mU.indexOf(o)){for(;S!==null;){var k=Tt(S);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var I=mi(k.pendingLanes);if(I!==0){var K=k;for(K.pendingLanes|=2,K.entangledLanes|=2;I;){var oe=1<<31-An(I);K.entanglements[1]|=oe,I&=~oe}Do(k),(Bt&6)===0&&(cg=ze()+500,dh(0))}}break;case 31:case 13:K=xa(k,2),K!==null&&Ti(K,k,2),dg(),Tx(k,2)}if(k=Ox(v),k===null&&hx(o,l,v,kg,h),k===S)break;S=k}S!==null&&v.stopPropagation()}else hx(o,l,v,null,h)}}function Ox(o){return o=cc(o),jx(o)}var kg=null;function jx(o){if(kg=null,o=gt(o),o!==null){var l=a(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=s(l),o!==null)return o;o=null}else if(h===31){if(o=c(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return kg=o,null}function Gj(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case ut:return 2;case it:return 8;case tn:case Kn:return 32;case zn:return 268435456;default:return 32}default:return 32}}var Nx=!1,kl=null,Ol=null,jl=null,yh=new Map,bh=new Map,Nl=[],mU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qj(o,l){switch(o){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":yh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(l.pointerId)}}function _h(o,l,h,v,S,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[S]},l!==null&&(l=Tt(l),l!==null&&Hj(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function pU(o,l,h,v,S){switch(l){case"focusin":return kl=_h(kl,o,l,h,v,S),!0;case"dragenter":return Ol=_h(Ol,o,l,h,v,S),!0;case"mouseover":return jl=_h(jl,o,l,h,v,S),!0;case"pointerover":var k=S.pointerId;return yh.set(k,_h(yh.get(k)||null,o,l,h,v,S)),!0;case"gotpointercapture":return k=S.pointerId,bh.set(k,_h(bh.get(k)||null,o,l,h,v,S)),!0}return!1}function Yj(o){var l=gt(o.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=s(h),l!==null){o.blockedOn=l,pi(o.priority,function(){Fj(h)});return}}else if(l===31){if(l=c(h),l!==null){o.blockedOn=l,pi(o.priority,function(){Fj(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Og(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Ox(o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);Cu=v,h.target.dispatchEvent(v),Cu=null}else return l=Tt(h),l!==null&&Hj(l),o.blockedOn=h,!1;l.shift()}return!0}function Kj(o,l,h){Og(o)&&h.delete(l)}function gU(){Nx=!1,kl!==null&&Og(kl)&&(kl=null),Ol!==null&&Og(Ol)&&(Ol=null),jl!==null&&Og(jl)&&(jl=null),yh.forEach(Kj),bh.forEach(Kj)}function jg(o,l){o.blockedOn===l&&(o.blockedOn=null,Nx||(Nx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gU)))}var Ng=null;function Wj(o){Ng!==o&&(Ng=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ng===o&&(Ng=null);for(var l=0;l<o.length;l+=3){var h=o[l],v=o[l+1],S=o[l+2];if(typeof v!="function"){if(jx(v||h)===null)continue;break}var k=Tt(h);k!==null&&(o.splice(l,3),l-=3,O_(k,{pending:!0,data:S,method:h.method,action:v},v,S))}}))}function hd(o){function l(oe){return jg(oe,o)}kl!==null&&jg(kl,o),Ol!==null&&jg(Ol,o),jl!==null&&jg(jl,o),yh.forEach(l),bh.forEach(l);for(var h=0;h<Nl.length;h++){var v=Nl[h];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Nl.length&&(h=Nl[0],h.blockedOn===null);)Yj(h),h.blockedOn===null&&Nl.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var S=h[v],k=h[v+1],I=S[Hn]||null;if(typeof k=="function")I||Wj(h);else if(I){var K=null;if(k&&k.hasAttribute("formAction")){if(S=k,I=k[Hn]||null)K=I.formAction;else if(jx(S)!==null)continue}else K=I.action;typeof K=="function"?h[v+1]=K:(h.splice(v,3),v-=3),Wj(h)}}}function Vj(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(I){return S=I})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function Cx(o){this._internalRoot=o}Cg.prototype.render=Cx.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,v=Ki();zj(h,v,o,l,null,null)},Cg.prototype.unmount=Cx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;zj(o.current,2,null,o,null,null),dg(),l[$i]=null}};function Cg(o){this._internalRoot=o}Cg.prototype.unstable_scheduleHydration=function(o){if(o){var l=Yo();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Nl.length&&l!==0&&l<Nl[h].priority;h++);Nl.splice(h,0,o),h===0&&Yj(o)}};var Zj=t.version;if(Zj!=="19.2.1")throw Error(r(527,Zj,"19.2.1"));ae.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var vU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mg.isDisabled&&Mg.supportsFiber)try{En=Mg.inject(vU),$t=Mg}catch{}}return wh.createRoot=function(o,l){if(!i(o))throw Error(r(299));var h=!1,v="",S=rO,k=iO,I=aO;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=$j(o,1,!1,null,null,h,v,null,S,k,I,Vj),o[$i]=l.current,fx(o),new Cx(l)},wh.hydrateRoot=function(o,l,h){if(!i(o))throw Error(r(299));var v=!1,S="",k=rO,I=iO,K=aO,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError),h.formState!==void 0&&(oe=h.formState)),l=$j(o,1,!0,l,h??null,v,S,oe,k,I,K,Vj),l.context=Bj(null),h=l.current,v=Ki(),v=rr(v),S=pl(v),S.callback=null,gl(h,S,v),h=v,l.current.lanes=h,qa(l,h),Do(l),o[$i]=l.current,fx(o),new Cg(l)},wh.version="19.2.1",wh}var oN;function kU(){if(oN)return Px.exports;oN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Px.exports=TU(),Px.exports}var OU=kU();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sN="popstate";function jU(e={}){function t(i,a){let{pathname:s="/",search:c="",hash:d=""}=Su(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),SS("",{pathname:s,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:rm(a))}function r(i,a){Ia(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return CU(t,n,r,e)}function jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ia(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NU(){return Math.random().toString(36).substring(2,10)}function lN(e,t){return{usr:e.state,key:e.key,idx:t}}function SS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Su(t):t,state:n,key:t&&t.key||r||NU()}}function rm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Su(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function CU(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",d=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function p(){c="POP";let E=m(),j=E==null?null:E-f;f=E,d&&d({action:c,location:T.location,delta:j})}function y(E,j){c="PUSH";let D=SS(T.location,E,j);n&&n(D,E),f=m()+1;let O=lN(D,f),M=T.createHref(D);try{s.pushState(O,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(M)}a&&d&&d({action:c,location:T.location,delta:1})}function b(E,j){c="REPLACE";let D=SS(T.location,E,j);n&&n(D,E),f=m();let O=lN(D,f),M=T.createHref(D);s.replaceState(O,"",M),a&&d&&d({action:c,location:T.location,delta:0})}function x(E){return MU(E)}let T={get action(){return c},get location(){return e(i,s)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(sN,p),d=E,()=>{i.removeEventListener(sN,p),d=null}},createHref(E){return t(i,E)},createURL:x,encodeLocation(E){let j=x(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:b,go(E){return s.go(E)}};return T}function MU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:rm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function C3(e,t,n="/"){return DU(e,t,n,!1)}function DU(e,t,n,r){let i=typeof t=="string"?Su(t):t,a=js(i.pathname||"/",n);if(a==null)return null;let s=M3(e);PU(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=qU(a);c=FU(s[d],f,r)}return c}function M3(e,t=[],n=[],r="",i=!1){let a=(s,c,d=i,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;jn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Ts([r,m.relativePath]),y=n.concat(m);s.children&&s.children.length>0&&(jn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),M3(s.children,t,y,p,d)),!(s.path==null&&!s.index)&&t.push({path:p,score:UU(p,s.index),routesMeta:y})};return e.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let d of D3(s.path))a(s,c,!0,d)}),t}function D3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=D3(r.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function PU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RU=/^:[\w-]+$/,LU=3,IU=2,$U=1,BU=10,zU=-2,cN=e=>e==="*";function UU(e,t){let n=e.split("/"),r=n.length;return n.some(cN)&&(r+=zU),t&&(r+=IU),n.filter(i=>!cN(i)).reduce((i,a)=>i+(RU.test(a)?LU:a===""?$U:BU),r)}function HU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function FU(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",p=uv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=uv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Ts([a,p.pathname]),pathnameBase:ZU(Ts([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Ts([a,p.pathnameBase]))}return s}function uv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let x=c[y]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[y];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function GU(e,t=!1,n=!0){Ia(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function qU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ia(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function js(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var YU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KU=e=>YU.test(e);function WU(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Su(e):e,a;if(n)if(KU(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Ia(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=uN(n.substring(1),"/"):a=uN(n,t)}else a=t;return{pathname:a,search:XU(r),hash:JU(i)}}function uN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $x(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function P3(e){let t=VU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function R3(e,t,n,r=!1){let i;typeof e=="string"?i=Su(e):(i={...e},jn(!i.pathname||!i.pathname.includes("?"),$x("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),$x("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),$x("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}c=p>=0?t[p]:"/"}let d=WU(i,c),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),ZU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function eH(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L3=["POST","PUT","PATCH","DELETE"];new Set(L3);var tH=["GET",...L3];new Set(tH);var sf=A.createContext(null);sf.displayName="DataRouter";var ky=A.createContext(null);ky.displayName="DataRouterState";A.createContext(!1);var I3=A.createContext({isTransitioning:!1});I3.displayName="ViewTransition";var nH=A.createContext(new Map);nH.displayName="Fetchers";var rH=A.createContext(null);rH.displayName="Await";var bo=A.createContext(null);bo.displayName="Navigation";var Rm=A.createContext(null);Rm.displayName="Location";var Is=A.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var u2=A.createContext(null);u2.displayName="RouteError";function iH(e,{relative:t}={}){jn(Lm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(bo),{hash:i,pathname:a,search:s}=Im(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Ts([n,a])),r.createHref({pathname:c,search:s,hash:i})}function Lm(){return A.useContext(Rm)!=null}function Kl(){return jn(Lm(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Rm).location}var $3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B3(e){A.useContext(bo).static||A.useLayoutEffect(e)}function aH(){let{isDataRoute:e}=A.useContext(Is);return e?yH():oH()}function oH(){jn(Lm(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(sf),{basename:t,navigator:n}=A.useContext(bo),{matches:r}=A.useContext(Is),{pathname:i}=Kl(),a=JSON.stringify(P3(r)),s=A.useRef(!1);return B3(()=>{s.current=!0}),A.useCallback((d,f={})=>{if(Ia(s.current,$3),!s.current)return;if(typeof d=="number"){n.go(d);return}let m=R3(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ts([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,a,i,e])}A.createContext(null);function Im(e,{relative:t}={}){let{matches:n}=A.useContext(Is),{pathname:r}=Kl(),i=JSON.stringify(P3(n));return A.useMemo(()=>R3(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function sH(e,t){return z3(e,t)}function z3(e,t,n,r,i){jn(Lm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(bo),{matches:s}=A.useContext(Is),c=s[s.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let D=p&&p.path||"";U3(f,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Kl(),b;if(t){let D=typeof t=="string"?Su(t):t;jn(m==="/"||D.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=y;let x=b.pathname||"/",T=x;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(D.length).join("/")}let E=C3(e,{pathname:T});Ia(p||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ia(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=fH(E&&E.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Ts([m,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:Ts([m,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,n,r,i);return t&&j?A.createElement(Rm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function lH(){let e=vH(),t=QU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}var cH=A.createElement(lH,null),uH=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(Is.Provider,{value:this.props.routeContext},A.createElement(u2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dH({routeContext:e,match:t,children:n}){let r=A.useContext(sf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Is.Provider,{value:e},n)}function fH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n?.errors;if(s!=null){let m=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);jn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:b}=n,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(m,p)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:eH(n.matches),errorInfo:p})}:void 0;return a.reduceRight((m,p,y)=>{let b,x=!1,T=null,E=null;n&&(b=s&&p.route.id?s[p.route.id]:void 0,T=p.route.errorElement||cH,c&&(d<0&&y===0?(U3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):d===y&&(x=!0,E=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,y+1)),D=()=>{let O;return b?O=T:x?O=E:p.route.Component?O=A.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=m,A.createElement(dH,{match:p,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?A.createElement(uH,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):D()},null)}function d2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hH(e){let t=A.useContext(sf);return jn(t,d2(e)),t}function mH(e){let t=A.useContext(ky);return jn(t,d2(e)),t}function pH(e){let t=A.useContext(Is);return jn(t,d2(e)),t}function f2(e){let t=pH(e),n=t.matches[t.matches.length-1];return jn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function gH(){return f2("useRouteId")}function vH(){let e=A.useContext(u2),t=mH("useRouteError"),n=f2("useRouteError");return e!==void 0?e:t.errors?.[n]}function yH(){let{router:e}=hH("useNavigate"),t=f2("useNavigate"),n=A.useRef(!1);return B3(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{Ia(n.current,$3),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var dN={};function U3(e,t,n){!t&&!dN[e]&&(dN[e]=!0,Ia(!1,n))}A.memo(bH);function bH({routes:e,future:t,state:n,unstable_onError:r}){return z3(e,void 0,n,r,t)}function G0(e){jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _H({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){jn(!Lm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[c,i,a,s]);typeof n=="string"&&(n=Su(n));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:b="default"}=n,x=A.useMemo(()=>{let T=js(f,c);return T==null?null:{location:{pathname:T,search:m,hash:p,state:y,key:b},navigationType:r}},[c,f,m,p,y,b,r]);return Ia(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:A.createElement(bo.Provider,{value:d},A.createElement(Rm.Provider,{children:t,value:x}))}function xH({children:e,location:t}){return sH(ES(e),t)}function ES(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let a=[...t,i];if(r.type===A.Fragment){n.push.apply(n,ES(r.props.children,a));return}jn(r.type===G0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ES(r.props.children,a)),n.push(s)}),n}var q0="get",Y0="application/x-www-form-urlencoded";function Oy(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function wH(e){return Oy(e)&&e.tagName.toLowerCase()==="button"}function SH(e){return Oy(e)&&e.tagName.toLowerCase()==="form"}function EH(e){return Oy(e)&&e.tagName.toLowerCase()==="input"}function AH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TH(e,t){return e.button===0&&(!t||t==="_self")&&!AH(e)}var Dg=null;function kH(){if(Dg===null)try{new FormData(document.createElement("form"),0),Dg=!1}catch{Dg=!0}return Dg}var OH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bx(e){return e!=null&&!OH.has(e)?(Ia(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Y0}"`),null):e}function jH(e,t){let n,r,i,a,s;if(SH(e)){let c=e.getAttribute("action");r=c?js(c,t):null,n=e.getAttribute("method")||q0,i=Bx(e.getAttribute("enctype"))||Y0,a=new FormData(e)}else if(wH(e)||EH(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?js(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||q0,i=Bx(e.getAttribute("formenctype"))||Bx(c.getAttribute("enctype"))||Y0,a=new FormData(c,e),!kH()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(Oy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=q0,r=null,i=Y0,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&js(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CH(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function DH(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await CH(a,n);return s.links?s.links():[]}return[]}));return IH(r.flat(1).filter(MH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fN(e,t,n,r,i,a){let s=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,f)=>s(d,f)||c(d,f)):a==="data"?t.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(s(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function PH(e,t,{includeHydrateFallback:n}={}){return RH(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function RH(e){return[...new Set(e)]}function LH(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function IH(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(LH(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function H3(){let e=A.useContext(sf);return h2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $H(){let e=A.useContext(ky);return h2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var m2=A.createContext(void 0);m2.displayName="FrameworkContext";function F3(){let e=A.useContext(m2);return h2(e,"You must render this element inside a <HydratedRouter> element"),e}function BH(e,t){let n=A.useContext(m2),[r,i]=A.useState(!1),[a,s]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let T=j=>{j.forEach(D=>{s(D.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[e]),A.useEffect(()=>{if(r){let T=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(T)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Sh(c,b),onBlur:Sh(d,x),onMouseEnter:Sh(f,b),onMouseLeave:Sh(m,x),onTouchStart:Sh(p,b)}]:[!1,y,{}]}function Sh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function zH({page:e,...t}){let{router:n}=H3(),r=A.useMemo(()=>C3(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(HH,{page:e,matches:r,...t}):null}function UH(e){let{manifest:t,routeModules:n}=F3(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return DH(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function HH({page:e,matches:t,...n}){let r=Kl(),{manifest:i,routeModules:a}=F3(),{basename:s}=H3(),{loaderData:c,matches:d}=$H(),f=A.useMemo(()=>fN(e,t,d,i,r,"data"),[e,t,d,i,r]),m=A.useMemo(()=>fN(e,t,d,i,r,"assets"),[e,t,d,i,r]),p=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,T=!1;if(t.forEach(j=>{let D=i.routes[j.route.id];!D||!D.hasLoader||(!f.some(O=>O.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:x.add(j.route.id))}),x.size===0)return[];let E=NH(e,s,"data");return T&&x.size>0&&E.searchParams.set("_routes",t.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[E.pathname+E.search]},[s,c,r,i,f,t,e,a]),y=A.useMemo(()=>PH(m,i),[m,i]),b=UH(m);return A.createElement(A.Fragment,null,p.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),y.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:T})=>A.createElement("link",{key:x,nonce:n.nonce,...T})))}function FH(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var G3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G3&&(window.__reactRouterVersion="7.10.1")}catch{}function GH({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=jU({window:r,v5Compat:!0}));let a=i.current,[s,c]=A.useState({action:a.action,location:a.location}),d=A.useCallback(f=>{n===!1?c(f):A.startTransition(()=>c(f))},[n]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.createElement(_H,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}var q3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y3=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,...y},b){let{basename:x,unstable_useTransitions:T}=A.useContext(bo),E=typeof f=="string"&&q3.test(f),j,D=!1;if(typeof f=="string"&&E&&(j=f,G3))try{let V=new URL(window.location.href),H=f.startsWith("//")?new URL(V.protocol+f):new URL(f),U=js(H.pathname,x);H.origin===V.origin&&U!=null?f=U+H.search+H.hash:D=!0}catch{Ia(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=iH(f,{relative:i}),[M,N,R]=BH(r,y),$=WH(f,{replace:s,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:p,unstable_useTransitions:T});function z(V){t&&t(V),V.defaultPrevented||$(V)}let G=A.createElement("a",{...y,...R,href:j||O,onClick:D||a?t:z,ref:FH(b,N),target:d,"data-discover":!E&&n==="render"?"true":void 0});return M&&!E?A.createElement(A.Fragment,null,G,A.createElement(zH,{page:O})):G});Y3.displayName="Link";var qH=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:d,...f},m){let p=Im(s,{relative:f.relative}),y=Kl(),b=A.useContext(ky),{navigator:x,basename:T}=A.useContext(bo),E=b!=null&&QH(p)&&c===!0,j=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,D=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&T&&(O=js(O,T)||O);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let N=D===j||!i&&D.startsWith(j)&&D.charAt(M)==="/",R=O!=null&&(O===j||!i&&O.startsWith(j)&&O.charAt(j.length)==="/"),$={isActive:N,isPending:R,isTransitioning:E},z=N?t:void 0,G;typeof r=="function"?G=r($):G=[r,N?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a($):a;return A.createElement(Y3,{...f,"aria-current":z,className:G,ref:m,style:V,to:s,viewTransition:c},typeof d=="function"?d($):d)});qH.displayName="NavLink";var YH=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=q0,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,...y},b)=>{let{unstable_useTransitions:x}=A.useContext(bo),T=XH(),E=JH(c,{relative:f}),j=s.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&q3.test(c),O=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let N=M.nativeEvent.submitter,R=N?.getAttribute("formmethod")||s,$=()=>T(N||M.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:i,state:a,relative:f,preventScrollReset:m,viewTransition:p});x&&n!==!1?A.startTransition(()=>$()):$()};return A.createElement("form",{ref:b,method:j,action:E,onSubmit:r?d:O,...y,"data-discover":!D&&e==="render"?"true":void 0})});YH.displayName="Form";function KH(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K3(e){let t=A.useContext(sf);return jn(t,KH(e)),t}function WH(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:c}={}){let d=aH(),f=Kl(),m=Im(e,{relative:a});return A.useCallback(p=>{if(TH(p,t)){p.preventDefault();let y=n!==void 0?n:rm(f)===rm(m),b=()=>d(e,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s});c?A.startTransition(()=>b()):b()}},[f,d,m,n,r,t,e,i,a,s,c])}var VH=0,ZH=()=>`__${String(++VH)}__`;function XH(){let{router:e}=K3("useSubmit"),{basename:t}=A.useContext(bo),n=gH(),r=e.fetch,i=e.navigate;return A.useCallback(async(a,s={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=jH(a,t);if(s.navigate===!1){let y=s.fetcherKey||ZH();await r(y,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,flushSync:s.flushSync})}else await i(s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function JH(e,{relative:t}={}){let{basename:n}=A.useContext(bo),r=A.useContext(Is);jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Im(e||".",{relative:t})},s=Kl();if(e==null){a.search=s.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ts([n,a.pathname])),rm(a)}function QH(e,{relative:t}={}){let n=A.useContext(I3);jn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=K3("useViewTransitionState"),i=Im(e,{relative:t});if(!n.isTransitioning)return!1;let a=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uv(i.pathname,s)!=null||uv(i.pathname,a)!=null}var lf=N3();const eF=Pi(lf);let tF={data:""},nF=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||tF,rF=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iF=/\/\*[^]*?\*\/|  +/g,hN=/\n+/g,Ll=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Ll(s,a):a+"{"+Ll(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=Ll(s,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ll.p?Ll.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},hs={},W3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+W3(e[n]);return t}return e},aF=(e,t,n,r,i)=>{let a=W3(e),s=hs[a]||(hs[a]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(a));if(!hs[s]){let d=a!==e?e:(f=>{let m,p,y=[{}];for(;m=rF.exec(f.replace(iF,""));)m[4]?y.shift():m[3]?(p=m[3].replace(hN," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][m[1]]=m[2].replace(hN," ").trim();return y[0]})(e);hs[s]=Ll(i?{["@keyframes "+s]:d}:d,n?"":"."+s)}let c=n&&hs.g?hs.g:null;return n&&(hs.g=hs[s]),((d,f,m,p)=>{p?f.data=f.data.replace(p,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(hs[s],t,r,c),s},oF=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let c=s(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;s=d?"."+d:c&&typeof c=="object"?c.props?"":Ll(c,""):c===!1?"":c}return r+i+(s??"")},"");function jy(e){let t=this||{},n=e.call?e(t.p):e;return aF(n.unshift?n.raw?oF(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,nF(t.target),t.g,t.o,t.k)}let V3,AS,TS;jy.bind({g:1});let Ns=jy.bind({k:1});function sF(e,t,n,r){Ll.p=t,V3=e,AS=n,TS=r}function Wl(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let c=Object.assign({},a),d=c.className||i.className;n.p=Object.assign({theme:AS&&AS()},c),n.o=/ *go\d+/.test(d),c.className=jy.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=c.as||e,delete c.as),TS&&f[0]&&TS(c),V3(f,c)}return i}}var lF=e=>typeof e=="function",dv=(e,t)=>lF(e)?e(t):e,cF=(()=>{let e=0;return()=>(++e).toString()})(),Z3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),uF=20,p2="default",X3=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return X3(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},K0=[],J3={toasts:[],pausedAt:void 0,settings:{toastLimit:uF}},$o={},Q3=(e,t=p2)=>{$o[t]=X3($o[t]||J3,e),K0.forEach(([n,r])=>{n===t&&r($o[t])})},eI=e=>Object.keys($o).forEach(t=>Q3(e,t)),dF=e=>Object.keys($o).find(t=>$o[t].toasts.some(n=>n.id===e)),Ny=(e=p2)=>t=>{Q3(t,e)},fF={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hF=(e={},t=p2)=>{let[n,r]=A.useState($o[t]||J3),i=A.useRef($o[t]);A.useEffect(()=>(i.current!==$o[t]&&r($o[t]),K0.push([t,r]),()=>{let s=K0.findIndex(([c])=>c===t);s>-1&&K0.splice(s,1)}),[t]);let a=n.toasts.map(s=>{var c,d,f;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((c=e[s.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:s.duration||((d=e[s.type])==null?void 0:d.duration)||e?.duration||fF[s.type],style:{...e.style,...(f=e[s.type])==null?void 0:f.style,...s.style}}});return{...n,toasts:a}},mF=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||cF()}),$m=e=>(t,n)=>{let r=mF(t,e,n);return Ny(r.toasterId||dF(r.id))({type:2,toast:r}),r.id},ur=(e,t)=>$m("blank")(e,t);ur.error=$m("error");ur.success=$m("success");ur.loading=$m("loading");ur.custom=$m("custom");ur.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ny(t)(n):eI(n)};ur.dismissAll=e=>ur.dismiss(void 0,e);ur.remove=(e,t)=>{let n={type:4,toastId:e};t?Ny(t)(n):eI(n)};ur.removeAll=e=>ur.remove(void 0,e);ur.promise=(e,t,n)=>{let r=ur.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?dv(t.success,i):void 0;return a?ur.success(a,{id:r,...n,...n?.success}):ur.dismiss(r),i}).catch(i=>{let a=t.error?dv(t.error,i):void 0;a?ur.error(a,{id:r,...n,...n?.error}):ur.dismiss(r)}),e};var pF=1e3,gF=(e,t="default")=>{let{toasts:n,pausedAt:r}=hF(e,t),i=A.useRef(new Map).current,a=A.useCallback((p,y=pF)=>{if(i.has(p))return;let b=setTimeout(()=>{i.delete(p),s({type:4,toastId:p})},y);i.set(p,b)},[]);A.useEffect(()=>{if(r)return;let p=Date.now(),y=n.map(b=>{if(b.duration===1/0)return;let x=(b.duration||0)+b.pauseDuration-(p-b.createdAt);if(x<0){b.visible&&ur.dismiss(b.id);return}return setTimeout(()=>ur.dismiss(b.id,t),x)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let s=A.useCallback(Ny(t),[t]),c=A.useCallback(()=>{s({type:5,time:Date.now()})},[s]),d=A.useCallback((p,y)=>{s({type:1,toast:{id:p,height:y}})},[s]),f=A.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),m=A.useCallback((p,y)=>{let{reverseOrder:b=!1,gutter:x=8,defaultPosition:T}=y||{},E=n.filter(O=>(O.position||T)===(p.position||T)&&O.height),j=E.findIndex(O=>O.id===p.id),D=E.filter((O,M)=>M<j&&O.visible).length;return E.filter(O=>O.visible).slice(...b?[D+1]:[0,D]).reduce((O,M)=>O+(M.height||0)+x,0)},[n]);return A.useEffect(()=>{n.forEach(p=>{if(p.dismissed)a(p.id,p.removeDelay);else{let y=i.get(p.id);y&&(clearTimeout(y),i.delete(p.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:d,startPause:c,endPause:f,calculateOffset:m}}},vF=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yF=Ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bF=Ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_F=Wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yF} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bF} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xF=Ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wF=Wl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${xF} 1s linear infinite;
`,SF=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,EF=Ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AF=Wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SF} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${EF} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,TF=Wl("div")`
  position: absolute;
`,kF=Wl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OF=Ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jF=Wl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OF} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NF=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?A.createElement(jF,null,t):t:n==="blank"?null:A.createElement(kF,null,A.createElement(wF,{...r}),n!=="loading"&&A.createElement(TF,null,n==="error"?A.createElement(_F,{...r}):A.createElement(AF,{...r})))},CF=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,MF=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,DF="0%{opacity:0;} 100%{opacity:1;}",PF="0%{opacity:1;} 100%{opacity:0;}",RF=Wl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LF=Wl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,IF=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Z3()?[DF,PF]:[CF(n),MF(n)];return{animation:t?`${Ns(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ns(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$F=A.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?IF(e.position||t||"top-center",e.visible):{opacity:0},a=A.createElement(NF,{toast:e}),s=A.createElement(LF,{...e.ariaProps},dv(e.message,e));return A.createElement(RF,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:s}):A.createElement(A.Fragment,null,a,s))});sF(A.createElement);var BF=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=A.useCallback(s=>{if(s){let c=()=>{let d=s.getBoundingClientRect().height;r(e,d)};c(),new MutationObserver(c).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return A.createElement("div",{ref:a,className:t,style:n},i)},zF=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Z3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},UF=jy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pg=16,tI=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:s,containerClassName:c})=>{let{toasts:d,handlers:f}=gF(n,a);return A.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Pg,left:Pg,right:Pg,bottom:Pg,pointerEvents:"none",...s},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let p=m.position||t,y=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=zF(p,y);return A.createElement(BF,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?UF:"",style:b},m.type==="custom"?dv(m.message,m):i?i(m):A.createElement($F,{toast:m,position:p}))}))},HF=ur;function FF(e,t,n,r=0,i=0){t<=2&&(e-=1,t+=12);const a=Math.floor(e/100),s=2-a+Math.floor(a/4),c=n+(r+i/60)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+c+s-1524.5}const GF=864e5;function qF(e){const t=(e-24405875e-1)*GF;return new Date(t)}function YF(e,t=7){const n=e+(t-.5)/12;if(n>=1986&&n<2005){const i=n-2e3;return 63.86+.3345*i-.060374*i*i+.0017275*i**3+651814e-9*i**4+2373599e-11*i**5}if(n>=2005&&n<2050){const i=n-2e3;return 62.92+.32217*i+.005589*i*i}if(n>=2050&&n<=2150){const i=(n-1820)/100;return-20+32*i*i-.5628*(2150-n)}if(n>=1900&&n<1986)return-2.79+1.494119*(n-1900)-.0598939*(n-1900)**2+.0061966*(n-1900)**3-197e-6*(n-1900)**4;if(n>=1800&&n<1900){const i=(n-1800)/100;return 13.72-33.244*i+68.612*i**2-65.3*i**3-1.653*i**4+.3343*i**5-.012125*i**6+1348e-7*i**7-175e-8*i**8}const r=(n-1820)/100;return-20+32*r*r}function KF(e){const t=Math.floor(e+.5),n=e+.5-t;let r=t;if(t>=2299161){const p=Math.floor((t-186721625e-2)/36524.25);r=t+1+p-Math.floor(p/4)}const i=r+1524,a=Math.floor((i-122.1)/365.25),s=Math.floor(365.25*a),c=Math.floor((i-s)/30.6001),d=i-s-Math.floor(30.6001*c)+n;let f=c-1;f>12&&(f-=12);let m=a-4715;return f>2&&(m-=1),[m,f,d]}const Xh=Math.PI,tu=Xh/180,WF=180/Xh,VF=86400;function ZF(e){return e%=360,e<0?e+360:e}function XF(e,t){return(e-t+540)%360-180}function mN(e,t){for(;e-t>180;)e-=360;for(;e-t<-180;)e+=360;return e}function JF(e){const[t,n]=KF(e);return e+YF(t,Math.round(n))/VF}function pN(e,t){let n=0,r=1;for(let i=0;i<e.length;i++){let a=0;for(const[s,c,d]of e[i])a+=s*Math.cos(c+d*t);n+=a*r,r*=t}return n*1e-8}function QF(e){const t=(e-2451545)/36525,n=(297.85036+445267.11148*t-.0019142*t*t+t*t*t/189474)*tu,r=(357.52772+35999.05034*t-1603e-7*t*t-t*t*t/3e5)*tu,i=(134.96298+477198.867398*t+.0086972*t*t+t*t*t/56250)*tu,a=(93.27191+483202.017538*t-.0036825*t*t+t*t*t/327270)*tu,s=(125.04452-1934.136261*t+.0020708*t*t+t*t*t/45e4)*tu,c=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[0,0,2,-2,2,-13187,-1.6,5736,-3.1],[0,0,2,0,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[1,0,0,0,0,712,.1,-7,0],[0,1,2,-2,2,-517,1.2,224,-.6],[0,0,2,0,1,-386,-.4,200,0],[1,0,2,0,2,-301,0,129,-.1],[0,-1,2,-2,2,217,-.5,-95,.3]];let d=0,f=0;for(const[m,p,y,b,x,T,E,j,D]of c){const O=m*n+p*r+y*i+b*a+x*s;d+=(T+E*t)*Math.sin(O),f+=(j+D*t)*Math.cos(O)}return d*=1e-4,f*=1e-4,{dpsi:d,deps:f}}function Rg(e){const t=JF(e),n=(t-2451545)/365250,r=pN(gN.L,n),i=pN(gN.R,n);let a=r+Xh;a>2*Xh&&(a-=2*Xh);const{dpsi:s}=QF(t),c=s/3600*tu,d=20.4898/(3600*i),f=a+c-d*tu;return ZF(f*WF)}function lr(e,t,n){const r=(t%360+360)%360,i=FF(e,1,1),a=Rg(i);let s=r-a;s<0&&(s+=360);let c=i+s/.98564736;const d=1e-6,f=5e-6;for(let y=0;y<25;y++){const b=Rg(c),x=XF(r,b);if(Math.abs(x)<d)break;const T=Rg(c+f),E=Rg(c-f),j=mN(T,b),D=mN(E,b),O=(j-D)/(2*f);c+=x/O}const m=qF(c),p=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),0,0);if(Number.isFinite(n)){const y=n/15-9;if(Math.abs(y)>1e-12)return new Date(p.getTime()+y*36e5)}return p}const gN={L:[[[175347046,0,0],[3341656,4.6692568,6283.07585],[34894,4.6261,12566.1517],[3497,2.7441,5753.3849],[3418,2.8289,3.5231],[3136,3.6277,77713.7715],[2676,4.4181,7860.4194],[2343,6.1352,3930.2097],[1324,.7425,11506.7698],[1273,2.0371,529.691],[1199,1.1096,1577.3435],[990,5.233,5884.927],[902,2.045,26.298],[857,3.508,398.149],[780,1.179,5223.694],[753,2.533,5507.553],[505,4.583,18849.228],[492,4.205,775.523],[357,2.92,.067],[317,5.849,11790.629]],[[628331966747,0,0],[206059,2.678235,6283.07585],[4303,2.6351,12566.1517],[425,1.59,3.523],[119,5.796,26.298],[109,2.966,1577.344],[93,2.59,18849.23],[72,1.14,529.69],[68,1.87,398.15],[67,4.41,5507.55],[59,2.89,5223.69],[56,2.17,155.42]],[[52919,0,0],[8720,1.0721,6283.0758],[309,.867,12566.152]],[[289,5.844,6283.076],[35,0,0]],[[114,3.142,0],[8,4.13,6283.08]],[[1,3.14,0]]],R:[[[100013989,0,0],[1670700,3.0984635,6283.07585],[13956,3.05525,12566.1517],[3084,5.1985,77713.7715],[1628,1.1739,5753.3849],[1576,2.8469,7860.4194],[925,5.453,11506.77],[542,4.564,3930.21],[472,3.661,5884.927],[346,.964,5507.553],[329,5.9,5223.694]],[[103019,1.10749,6283.07585],[1721,1.0644,12566.1517],[702,3.142,0],[32,1.02,18849.23]],[[4359,5.7846,6283.0758],[124,5.579,12566.152],[12,3.14,0]],[[145,4.273,6283.076]]]},di=["","","","","","","","","",""],Mi=["","","","","","","","","","","",""],Ra={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},ca={:["","","","","","","","","",""],:["","","","","","","","","","","",""]},eG=["","","","","","","","","",""],tG=["","","","","","","","","","","",""],nG=["","","","","","","","","","","","","","","","","","","",""],rG=["","","","","","","","","","","","","","","","","","","","","","","",""],Cy=new Set(di),g2=new Set(Mi),My={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},y2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b2={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},nI={:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""]},vN=[{branch:"",hanja:"",start:1380,end:60},{branch:"",hanja:"",start:60,end:180},{branch:"",hanja:"",start:180,end:300},{branch:"",hanja:"",start:300,end:420},{branch:"",hanja:"",start:420,end:540},{branch:"",hanja:"",start:540,end:660},{branch:"",hanja:"",start:660,end:780},{branch:"",hanja:"",start:780,end:900},{branch:"",hanja:"",start:900,end:1020},{branch:"",hanja:"",start:1020,end:1140},{branch:"",hanja:"",start:1140,end:1260},{branch:"",hanja:"",start:1260,end:1380}],iG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},aG={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}};function oG(e,t=127.5){return(pt(e,t)||"").charAt(0)}const yN=new Map;function rI(e,t=127.5){const n=`${e}@${t}`,r=yN.get(n);if(r)return r;const i=lr(e,315,t);if(!i)throw new Error(`    : year=${e}, lon=${t}`);return yN.set(n,i),i}const sG=(e,t)=>(e%t+t)%t,iI=e=>e instanceof Date&&!Number.isNaN(e.getTime());function aI(e,t=127.5){if(!iI(e))throw new Error("resolveYearIndex: invalid date");const n=e.getFullYear(),r=rI(n,t),i=e<r?n-1:n,a=sG(i-4,60);return{useYear:i,index60Num:a}}function pt(e,t=127.5){const{index60Num:n}=aI(e,t);return y2[n]}const lG=[2,4,6,8,0,2,4,6,8,0];function cG(e,t=127.5){const n=new Array(12);return n[0]=rI(e,t),n[1]=lr(e,345,t),n[2]=lr(e,15,t),n[3]=lr(e,45,t),n[4]=lr(e,75,t),n[5]=lr(e,105,t),n[6]=lr(e,135,t),n[7]=lr(e,165,t),n[8]=lr(e,195,t),n[9]=lr(e,225,t),n[10]=lr(e,255,t),n[11]=lr(e+1,285,t),n.map(r=>new Date(r.getTime()+1800*1e3))}function uG(e,t=127.5){const{useYear:n}=aI(e,t),r=cG(n,t);let i=0;for(let s=0;s<12;s++)e>=r[s]&&(i=s);return{monthIndex:i+1,useYear:n,boundaries:r}}function dG(e,t=127.5){const n=oG(e,t),r=Ra..indexOf(n);if(r<0)throw new Error(`resolveFirstMonthStemIdx: invalid year stem "${n}"`);return lG[r]}function fG(e,t,n=127.5){return(dG(e,n)+(t-1))%10}function Mt(e,t=127.5){if(!iI(e))return"";const{monthIndex:n}=uG(e,t),r=(2+(n-1))%12,i=Ra.[r],a=fG(e,n,t);return Ra.[a]+i}const oI=(e,t)=>(e%t+t)%t;function sI(e,t,n,r=0,i=0,a=0){t<=2&&(e-=1,t+=12);const s=Math.floor(e/100),c=2-s+Math.floor(s/4),d=(r+i/60+a/3600)/24;return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+d+c-1524.5}function hG(e,t){const n=e.getHours(),r=e.getMinutes(),i=n*60+r,a=lI(e);return t===""&&a===""?i>=1380?1:0:t===""&&(a===""||a==="")?i<180?-1:0:(i<0,0)}function mG(e,t){const r=e.getHours()*60+e.getMinutes();return t===""?r>=1380?1:0:t===""&&r<180?-1:0}const fv={JDN:2445731,idx:0};function At(e,t){const n=hG(e,t),r=new Date(e.getTime());r.setDate(r.getDate()+n);const i=sI(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes()),a=Math.floor(i+.5),s=oI(a-fv.JDN+fv.idx,60),c=y2[s];if(!c)throw new Error(`getDayGanZhi: idx=${s} out of range (jdn=${a}, jd=${i})`);return c}function pG(e,t){const n=new Date(e),r=mG(n,t),i=new Date(e.getTime());i.setDate(i.getDate()+r);const a=sI(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes()),s=Math.floor(a+.5),c=oI(s-fv.JDN+fv.idx,60),d=y2[c];if(!d)throw new Error(`getDayGanZhi: idx=${c} out of range (jdn=${s}, jd=${a})`);return d}function lI(e){e instanceof Date||(e=new Date(e));const t=e.getHours()*60+e.getMinutes();for(let n=0;n<vN.length;n++){const{branch:r,start:i,end:a}=vN[n];if(i<a){if(t>=i&&t<a)return r}else if(t>=i||t<a)return r}return""}function gG(e,t,n,r){const i=di.indexOf(t);if(i<0)return"";let a=(i%5*2+n)%10;const s=e.getHours();return(r===""||r==="/"&&s>=3)&&(n===0||n===1)&&(a=(a+2)%10),di[a]}function $a(e,t,n){e instanceof Date||(e=new Date(e));const r=lI(e),i=Mi.indexOf(r),s=(n??At(e,t)).charAt(0);return gG(e,s,i,t)+r}const bN=e=>{let t;const n=new Set,r=(f,m)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=m??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(r,i,c);return c},vG=(e=>e?bN(e):bN),yG=e=>e;function bG(e,t=yG){const n=cn.useSyncExternalStore(e.subscribe,cn.useCallback(()=>t(e.getState()),[e,t]),cn.useCallback(()=>t(e.getInitialState()),[e,t]));return cn.useDebugValue(n),n}const _N=e=>{const t=vG(e),n=r=>bG(t,r);return Object.assign(n,t),n},Bm=(e=>e?_N(e):_N);function _G(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const s=d=>d===null?null:JSON.parse(d,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(s):s(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const kS=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return kS(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return kS(r)(n)}}}},xG=(e,t)=>(n,r,i)=>{let a={storage:_G(()=>localStorage),partialize:T=>T,version:0,merge:(T,E)=>({...E,...T}),...t},s=!1;const c=new Set,d=new Set;let f=a.storage;if(!f)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...T)},r,i);const m=()=>{const T=a.partialize({...r()});return f.setItem(a.name,{state:T,version:a.version})},p=i.setState;i.setState=(T,E)=>(p(T,E),m());const y=e((...T)=>(n(...T),m()),r,i);i.getInitialState=()=>y;let b;const x=()=>{var T,E;if(!f)return;s=!1,c.forEach(D=>{var O;return D((O=r())!=null?O:y)});const j=((E=a.onRehydrateStorage)==null?void 0:E.call(a,(T=r())!=null?T:y))||void 0;return kS(f.getItem.bind(f))(a.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==a.version){if(a.migrate){const O=a.migrate(D.state,D.version);return O instanceof Promise?O.then(M=>[!0,M]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var O;const[M,N]=D;if(b=a.merge(N,(O=r())!=null?O:y),n(b,!0),M)return m()}).then(()=>{j?.(b,void 0),b=r(),s=!0,d.forEach(D=>D(b))}).catch(D=>{j?.(void 0,D)})};return i.persist={setOptions:T=>{a={...a,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:T=>(c.add(T),()=>{c.delete(T)}),onFinishHydration:T=>(d.add(T),()=>{d.delete(T)})},a.skipHydration||x(),b||y},cI=xG;var ms={},Lg={},OS=function(e,t){return OS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},OS(e,t)};function uI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");OS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hv=function(){return hv=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hv.apply(this,arguments)};function cf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dI(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function fI(e,t){return function(n,r){t(n,r,e)}}function hI(e,t,n,r,i,a){function s(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),p,y=!1,b=n.length-1;b>=0;b--){var x={};for(var T in r)x[T]=T==="access"?{}:r[T];for(var T in r.access)x.access[T]=r.access[T];x.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(j||null))};var E=(0,n[b])(c==="accessor"?{get:m.get,set:m.set}:m[d],x);if(c==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(p=s(E.get))&&(m.get=p),(p=s(E.set))&&(m.set=p),(p=s(E.init))&&i.unshift(p)}else(p=s(E))&&(c==="field"?i.unshift(p):m[d]=p)}f&&Object.defineProperty(f,r.name,m),y=!0}function mI(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function pI(e){return typeof e=="symbol"?e:"".concat(e)}function gI(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function vI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ze(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(m){try{f(r.next(m))}catch(p){s(p)}}function d(m){try{f(r.throw(m))}catch(p){s(p)}}function f(m){m.done?a(m.value):i(m.value).then(c,d)}f((r=r.apply(e,t||[])).next())})}function yI(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Dy=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function bI(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Dy(t,e,n)}function mv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function _I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_2(arguments[t]));return e}function xI(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,c=a.length;s<c;s++,i++)r[i]=a[s];return r}function wI(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Gd(e){return this instanceof Gd?(this.v=e,this):new Gd(e)}function SI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(x){return Promise.resolve(x).then(b,p)}}function c(b,x){r[b]&&(i[b]=function(T){return new Promise(function(E,j){a.push([b,T,E,j])>1||d(b,T)})},x&&(i[b]=x(i[b])))}function d(b,x){try{f(r[b](x))}catch(T){y(a[0][3],T)}}function f(b){b.value instanceof Gd?Promise.resolve(b.value.v).then(m,p):y(a[0][2],b)}function m(b){d("next",b)}function p(b){d("throw",b)}function y(b,x){b(x),a.shift(),a.length&&d(a[0][0],a[0][1])}}function EI(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:Gd(e[i](s)),done:!1}:a?a(s):s}:a}}function AI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof mv=="function"?mv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},s)}}function TI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var wG=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},jS=function(e){return jS=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},jS(e)};function kI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=jS(e),r=0;r<n.length;r++)n[r]!=="default"&&Dy(t,e,n[r]);return wG(t,e),t}function OI(e){return e&&e.__esModule?e:{default:e}}function jI(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function NI(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function CI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function MI(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var SG=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function DI(e){function t(a){e.error=e.hasError?new SG(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function PI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?t?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):e}const EG={__extends:uI,__assign:hv,__rest:cf,__decorate:dI,__param:fI,__esDecorate:hI,__runInitializers:mI,__propKey:pI,__setFunctionName:gI,__metadata:vI,__awaiter:Ze,__generator:yI,__createBinding:Dy,__exportStar:bI,__values:mv,__read:_2,__spread:_I,__spreadArrays:xI,__spreadArray:wI,__await:Gd,__asyncGenerator:SI,__asyncDelegator:EI,__asyncValues:AI,__makeTemplateObject:TI,__importStar:kI,__importDefault:OI,__classPrivateFieldGet:jI,__classPrivateFieldSet:NI,__classPrivateFieldIn:CI,__addDisposableResource:MI,__disposeResources:DI,__rewriteRelativeImportExtension:PI},AG=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:MI,get __assign(){return hv},__asyncDelegator:EI,__asyncGenerator:SI,__asyncValues:AI,__await:Gd,__awaiter:Ze,__classPrivateFieldGet:jI,__classPrivateFieldIn:CI,__classPrivateFieldSet:NI,__createBinding:Dy,__decorate:dI,__disposeResources:DI,__esDecorate:hI,__exportStar:bI,__extends:uI,__generator:yI,__importDefault:OI,__importStar:kI,__makeTemplateObject:TI,__metadata:vI,__param:fI,__propKey:pI,__read:_2,__rest:cf,__rewriteRelativeImportExtension:PI,__runInitializers:mI,__setFunctionName:gI,__spread:_I,__spreadArray:wI,__spreadArrays:xI,__values:mv,default:EG},Symbol.toStringTag,{value:"Module"})),TG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Py=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},RI=class extends Py{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},NS=class extends Py{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},CS=class extends Py{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var pv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pv||(pv={}));class kG{constructor(t,{headers:n={},customFetch:r,region:i=pv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TG(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ze(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:c,method:d,body:f,signal:m,timeout:p}=r;let y={},{region:b}=r;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(y["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let T;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(y["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(y["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;let E=m;p&&(s=new AbortController,a=setTimeout(()=>s.abort(),p),m?(E=s.signal,m.addEventListener("abort",()=>s.abort())):E=s.signal);const j=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:T,signal:E}).catch(N=>{throw new RI(N)}),D=j.headers.get("x-relay-error");if(D&&D==="true")throw new NS(j);if(!j.ok)throw new CS(j);let O=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield j.json():O==="application/octet-stream"||O==="application/pdf"?M=yield j.blob():O==="text/event-stream"?M=j:O==="multipart/form-data"?M=yield j.formData():M=yield j.text(),{data:M,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof CS||c instanceof NS?c.context:void 0}}finally{a&&clearTimeout(a)}})}}const OG=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return pv},FunctionsClient:kG,FunctionsError:Py,FunctionsFetchError:RI,FunctionsHttpError:CS,FunctionsRelayError:NS},Symbol.toStringTag,{value:"Module"})),LI=Pm(OG);var Kr={};const uf=Pm(AG);var Ig={},$g={},Bg={},zg={},Ug={},Hg={},xN;function II(){if(xN)return Hg;xN=1,Object.defineProperty(Hg,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hg.default=e,Hg}var wN;function $I(){if(wN)return Ug;wN=1,Object.defineProperty(Ug,"__esModule",{value:!0});const t=uf.__importDefault(II());let n=class{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,p,y;let b=null,x=null,T=null,E=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?x=N:x=JSON.parse(N))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),M=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");O&&M&&M.length>1&&(T=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,T=null,E=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const O=await d.text();try{b=JSON.parse(O),Array.isArray(b)&&d.status===404&&(x=[],b=null,E=200,j="OK")}catch{d.status===404&&O===""?(E=204,j="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((y=b?.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,E=200,j="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:x,count:T,status:E,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,p,y,b,x;let T="";const E=d?.cause;if(E){const j=(f=E?.message)!==null&&f!==void 0?f:"",D=(m=E?.code)!==null&&m!==void 0?m:"";T=`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,T+=`

Caused by: ${(y=E?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,D&&(T+=` (${D})`),E?.stack&&(T+=`
${E.stack}`)}else T=(b=d?.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(x=d?.name)!==null&&x!==void 0?x:"FetchError"}: ${d?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}};return Ug.default=n,Ug}var SN;function BI(){if(SN)return zg;SN=1,Object.defineProperty(zg,"__esModule",{value:!0});const t=uf.__importDefault($I());let n=class extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:c=s}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[i?"analyze":null,a?"verbose":null,s?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return zg.default=n,zg}var EN;function x2(){if(EN)return Bg;EN=1,Object.defineProperty(Bg,"__esModule",{value:!0});const t=uf.__importDefault(BI()),n=new RegExp("[,()]");let r=class extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const c=Array.from(new Set(s)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${f}fts${m}.${s}`),this}match(a){return Object.entries(a).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(a,s,c){return this.url.searchParams.append(a,`not.${s}.${c}`),this}or(a,{foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,s,c){return this.url.searchParams.append(a,`${s}.${c}`),this}};return Bg.default=r,Bg}var AN;function zI(){if(AN)return $g;AN=1,Object.defineProperty($g,"__esModule",{value:!0});const t=uf.__importDefault(x2());let n=class{constructor(i,{headers:a={},schema:s,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=c}select(i,a){const{head:s=!1,count:c}=a??{},d=s?"HEAD":"GET";let f=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var s;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return $g.default=n,$g}var TN;function jG(){if(TN)return Ig;TN=1,Object.defineProperty(Ig,"__esModule",{value:!0});const e=uf,t=e.__importDefault(zI()),n=e.__importDefault(x2());let r=class UI{constructor(a,{headers:s={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(s),this.schemaName=c,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new UI(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${a}`);let b;c||d?(p=c?"HEAD":"GET",Object.entries(s).filter(([T,E])=>E!==void 0).map(([T,E])=>[T,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([T,E])=>{y.searchParams.append(T,E)})):(p="POST",b=s);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new n.default({method:p,url:y,headers:x,schema:this.schemaName,body:b,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Ig.default=r,Ig}var kN;function HI(){if(kN)return Kr;kN=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.PostgrestError=Kr.PostgrestBuilder=Kr.PostgrestTransformBuilder=Kr.PostgrestFilterBuilder=Kr.PostgrestQueryBuilder=Kr.PostgrestClient=void 0;const e=uf,t=e.__importDefault(jG());Kr.PostgrestClient=t.default;const n=e.__importDefault(zI());Kr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(x2());Kr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(BI());Kr.PostgrestTransformBuilder=i.default;const a=e.__importDefault($I());Kr.PostgrestBuilder=a.default;const s=e.__importDefault(II());return Kr.PostgrestError=s.default,Kr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Kr}class FI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NG="2.86.2",CG=`realtime-js/${NG}`,GI="1.0.0",MG="2.0.0",ON=GI,MS=1e4,DG=1e3,PG=100;var nu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nu||(nu={}));var Qn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qn||(Qn={}));var oo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oo||(oo={}));var DS;(function(e){e.websocket="websocket"})(DS||(DS={}));var ru;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ru||(ru={}));class RG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,a;const s=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(b),T=0;x.setUint8(T++,this.KINDS.userBroadcastPush),x.setUint8(T++,d.length),x.setUint8(T++,c.length),x.setUint8(T++,s.length),x.setUint8(T++,f.length),x.setUint8(T++,p.length),x.setUint8(T++,n),Array.from(d,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(c,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(s,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(f,j=>x.setUint8(T++,j.charCodeAt(0))),Array.from(p,j=>x.setUint8(T++,j.charCodeAt(0)));var E=new Uint8Array(b.byteLength+r.byteLength);return E.set(new Uint8Array(b),0),E.set(new Uint8Array(r),b.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,s,c,d]=r;return n({join_ref:i,ref:a,topic:s,event:c,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),c=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const m=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+s));d=d+s;const y=t.slice(d,t.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,x={type:this.BROADCAST_EVENT,event:m,payload:b};return s>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class qI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rn||(rn={}));const jN=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=LG(s,e,t,i),a),{}):{}},LG=(e,t,n,r)=>{const i=t.find(c=>c.name===e),a=i?.type,s=n[e];return a&&!r.includes(a)?YI(a,s):PS(s)},YI=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return zG(t,n)}switch(e){case rn.bool:return IG(t);case rn.float4:case rn.float8:case rn.int2:case rn.int4:case rn.int8:case rn.numeric:case rn.oid:return $G(t);case rn.json:case rn.jsonb:return BG(t);case rn.timestamp:return UG(t);case rn.abstime:case rn.date:case rn.daterange:case rn.int4range:case rn.int8range:case rn.money:case rn.reltime:case rn.text:case rn.time:case rn.timestamptz:case rn.timetz:case rn.tsrange:case rn.tstzrange:return PS(t);default:return PS(t)}},PS=e=>e,IG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$G=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zG=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(c=>YI(t,c))}return e},UG=e=>typeof e=="string"?e.replace(" ","T"):e,KI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class zx{constructor(t,n,r={},i=MS){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var RS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(RS||(RS={}));let WI=class W0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=W0.syncState(this.state,i,a,s),this.pendingDiffs.forEach(d=>{this.state=W0.syncDiff(this.state,d,a,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=W0.syncDiff(this.state,i,a,s),c())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),c={},d={};return this.map(a,(f,m)=>{s[f]||(d[f]=m)}),this.map(s,(f,m)=>{const p=a[f];if(p){const y=m.map(E=>E.presence_ref),b=p.map(E=>E.presence_ref),x=m.filter(E=>b.indexOf(E.presence_ref)<0),T=p.filter(E=>y.indexOf(E.presence_ref)<0);x.length>0&&(c[f]=x),T.length>0&&(d[f]=T)}else c[f]=m}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(b=>b.presence_ref),y=m.filter(b=>p.indexOf(b.presence_ref)<0);t[c].unshift(...y)}r(c,m,d)}),this.map(s,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,i(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var LS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(LS||(LS={}));var $d;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($d||($d={}));var Lo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lo||(Lo={}));const HG=Qn;let VI=class ZI{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zx(this,oo.join,this.params,this.timeout),this.rejoinTimer=new qI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new WI(this),this.broadcastEndpointURL=KI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qn.closed){const{config:{broadcast:s,presence:c,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[$d.PRESENCE]&&this.bindings[$d.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:s,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(Lo.CHANNEL_ERROR,b)),this._onClose(()=>t?.(Lo.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){t?.(Lo.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,E=(x=T?.length)!==null&&x!==void 0?x:0,j=[];for(let D=0;D<E;D++){const O=T[D],{filter:{event:M,schema:N,table:R,filter:$}}=O,z=b&&b[D];if(z&&z.event===M&&z.schema===N&&z.table===R&&z.filter===$)j.push(Object.assign(Object.assign({},O),{id:z.id}));else{this.unsubscribe(),this.state=Qn.errored,t?.(Lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Lo.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qn.errored,t?.(Lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(Lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Qn.joined&&t===$d.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zx(this,oo.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zx(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>PG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=oo;if(r&&[c,d,f,m].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var x,T,E;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(T=b.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(b=>b.callback(y,r)):(a=this.bindings[s])===null||a===void 0||a.filter(b=>{var x,T,E,j,D,O;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const M=b.id,N=(x=b.filter)===null||x===void 0?void 0:x.event;return M&&((T=n.ids)===null||T===void 0?void 0:T.includes(M))&&(N==="*"||N?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const M=(D=(j=b?.filter)===null||j===void 0?void 0:j.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return M==="*"||M===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:T,table:E,commit_timestamp:j,type:D,errors:O}=x;y=Object.assign(Object.assign({},{schema:T,table:E,commit_timestamp:j,eventType:D,new:{},old:{},errors:O}),this._getPayloadRecords(x))}b.callback(y,r)})}_isClosed(){return this.state===Qn.closed}_isJoined(){return this.state===Qn.joined}_isJoining(){return this.state===Qn.joining}_isLeaving(){return this.state===Qn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ZI.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oo.close,{},t)}_onError(t){this._on(oo.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=jN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=jN(t.columns,t.old_record)),n}};const Ux=()=>{},Fg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FG=[1e3,2e3,5e3,1e4],GG=1e4,qG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let YG=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=MS,this.transport=null,this.heartbeatIntervalMs=Fg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ux,this.ref=0,this.reconnectTimer=null,this.vsn=ON,this.logger=Ux,this.conn=null,this.sendBuffer=[],this.serializer=new RG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${DS.websocket}`,this.httpEndpoint=KI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nu.connecting:return ru.Connecting;case nu.open:return ru.Open;case nu.closing:return ru.Closing;default:return ru.Closed}}isConnected(){return this.connectionState()===ru.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new VI(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(DG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,c=s?`(${s})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===nu.open||this.conn.readyState===nu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(oo.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qG],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:CG};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(oo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new qI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,c,d,f,m,p,y,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:MS,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Fg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Ux,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:ON,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>FG[x-1]||GG),this.vsn){case GI:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,T)=>T(JSON.stringify(x))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((x,T)=>T(JSON.parse(x)));break;case MG:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const KG=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:HG,get REALTIME_LISTEN_TYPES(){return $d},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return LS},get REALTIME_PRESENCE_LISTEN_EVENTS(){return RS},get REALTIME_SUBSCRIBE_STATES(){return Lo},RealtimeChannel:VI,RealtimeClient:YG,RealtimePresence:WI,WebSocketFactory:FI},Symbol.toStringTag,{value:"Module"})),XI=Pm(KG);class zm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class JI extends zm{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gv extends zm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const w2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WG=()=>Response,IS=e=>{if(Array.isArray(e))return e.map(n=>IS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=IS(r)}),t},VG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Hx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},XG=(e,t,n)=>Ze(void 0,void 0,void 0,function*(){const r=yield WG();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,s=i?.statusCode||a+"";t(new JI(Hx(i),a,s))}).catch(i=>{t(new gv(Hx(i),i))}):t(new gv(Hx(e),e))}),JG=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(VG(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Um(e,t,n,r,i,a){return Ze(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,JG(t,r,i,a)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>XG(d,c,r))})})}function im(e,t,n,r){return Ze(this,void 0,void 0,function*(){return Um(e,"GET",t,n,r)})}function ao(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Um(e,"POST",t,r,i,n)})}function $S(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Um(e,"PUT",t,r,i,n)})}function QG(e,t,n,r){return Ze(this,void 0,void 0,function*(){return Um(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function S2(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return Um(e,"DELETE",t,r,i,n)})}class eq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ze(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bn(t))return{data:null,error:t};throw t}})}}var QI;class tq{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[QI]="BlobDownloadBuilder",this.promise=null}asStream(){return new eq(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ze(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bn(t))return{data:null,error:t};throw t}})}}QI=Symbol.toStringTag;const nq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rq{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=w2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ze(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},NN),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),p=yield(t=="PUT"?$S:ao)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ze(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:NN.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield $S(this.fetch,c.toString(),d,{headers:m});return{data:{path:a,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(bn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield ao(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),c=s.searchParams.get("token");if(!c)throw new zm("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ze(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield ao(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ze(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ao(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ze(this,void 0,void 0,function*(){try{const i=yield ao(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),s=a?`?${a}`:"",c=this._getFinalPath(t),d=()=>im(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0});return new tq(d,this.shouldThrowOnError)}info(t){return Ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield im(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:IS(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}exists(t){return Ze(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield QG(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r)&&r instanceof gv){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${f}`)}}}remove(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ze(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},nq),n),{prefix:t||""});return{data:yield ao(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ze(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ao(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const e$="2.86.2",t$={"X-Client-Info":`storage-js/${e$}`};class iq{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t$),n),this.fetch=w2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ze(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield im(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield im(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ze(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield $S(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var am=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aq(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function oq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const c=aq(e.baseUrl,r,i),d=await oq(e.auth),f=await t(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...s},body:a?JSON.stringify(a):void 0}),m=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),y=p&&m?JSON.parse(m):m;if(!f.ok){const b=p?y:void 0,x=b?.error;throw new am(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:b})}return{status:f.status,headers:f.headers,data:y}}}}function Gg(e){return e.join("")}var lq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Gg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gg(e.namespace)}`}),!0}catch(t){if(t instanceof am&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof am&&n.status===409)return;throw n}}};function md(e){return e.join("")}var cq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof am&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof am&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},uq=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new lq(this.client,t),this.tableOps=new cq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class n${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t$),n),this.fetch=w2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ze(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield im(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}from(t){if(!ZG(t))throw new zm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new uq({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ze(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const E2={"X-Client-Info":`storage-js/${e$}`,"Content-Type":"application/json"};class A2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ni(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class V0 extends A2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class r$ extends A2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var BS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(BS||(BS={}));const Ry=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dq=()=>Response,i$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fq=e=>Array.from(new Float32Array(e)),hq=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},CN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mq=(e,t,n)=>Ze(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const c=s?.statusCode||s?.code||i+"";t(new V0(CN(s),i,c))}).catch(()=>{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new V0(c,i,s))});else{const s=i+"",c=a.statusText||`HTTP ${i} error`;t(new V0(c,i,s))}}else t(new r$(CN(e),e))}),pq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(i$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function gq(e,t,n,r,i,a){return Ze(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,pq(t,r,i,a)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>mq(d,c,r))})})}function ea(e,t,n,r,i){return Ze(this,void 0,void 0,function*(){return gq(e,"POST",t,r,i,n)})}class a${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E2),n),this.fetch=Ry(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ni(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ze(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ni(r))return{data:null,error:r};throw r}})}}class o${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E2),n),this.fetch=Ry(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ea(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}getVectors(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}listVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ea(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ea(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}}class s${constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E2),n),this.fetch=Ry(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}getBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}listBuckets(){return Ze(this,arguments,void 0,function*(t={}){try{return{data:yield ea(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield ea(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ni(n))return{data:null,error:n};throw n}})}}class l$ extends s${constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new c$(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ze(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ze(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ze(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ze(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class c$ extends a${constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ze(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ze(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ze(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ze(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new u$(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class u$ extends o${constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ze(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ze(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ze(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ze(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ze(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vq extends iq{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new rq(this.url,this.headers,t,this.fetch)}get vectors(){return new l$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new n$(this.url+"/iceberg",this.headers,this.fetch)}}const yq=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:n$,StorageApiError:JI,StorageClient:vq,StorageError:zm,StorageUnknownError:gv,StorageVectorsApiError:V0,StorageVectorsClient:l$,StorageVectorsError:A2,get StorageVectorsErrorCode(){return BS},StorageVectorsUnknownError:r$,VectorBucketApi:s$,VectorBucketScope:c$,VectorDataApi:o$,VectorIndexApi:a$,VectorIndexScope:u$,isPlainObject:i$,isStorageError:bn,isStorageVectorsError:Ni,normalizeToFloat32:fq,resolveFetch:Ry,resolveResponse:dq,validateVectorDimension:hq},Symbol.toStringTag,{value:"Module"})),bq=Pm(yq);var Fx={},Eh={},MN;function _q(){return MN||(MN=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.version=void 0,Eh.version="2.86.2"),Eh}var DN;function xq(){return DN||(DN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=_q();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Fx)),Fx}var Gx={},PN;function wq(){return PN||(PN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,a,s)=>{const c=(0,e.resolveFetch)(s),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var p;const y=(p=await a())!==null&&p!==void 0?p:i;let b=new d(m?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${y}`),c(f,Object.assign(Object.assign({},m),{headers:b}))}};e.fetchWithAuth=r})(Gx)),Gx}var ps={},RN;function Sq(){if(RN)return ps;RN=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.isBrowser=void 0,ps.uuid=e,ps.ensureTrailingSlash=t,ps.applySettingDefaults=r,ps.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var s=Math.random()*16|0,c=a=="x"?s:s&3|8;return c.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ps.isBrowser=n;function r(a,s){var c,d;const{db:f,auth:m,realtime:p,global:y}=a,{db:b,auth:x,realtime:T,global:E}=s,j={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},x),m),realtime:Object.assign(Object.assign({},T),p),storage:{},global:Object.assign(Object.assign(Object.assign({},E),y),{headers:Object.assign(Object.assign({},(c=E?.headers)!==null&&c!==void 0?c:{}),(d=y?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return a.accessToken?j.accessToken=a.accessToken:delete j.accessToken,j}function i(a){const s=a?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ps}var Ah={};const d$="2.86.2",kd=30*1e3,zS=3,qx=zS*kd,Eq="http://localhost:9999",Aq="supabase.auth.token",Tq={"X-Client-Info":`gotrue-js/${d$}`},US="X-Supabase-Api-Version",f$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oq=600*1e3;let qd=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let h$=class extends qd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function m$(e){return Qe(e)&&e.name==="AuthApiError"}let Il=class extends qd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},$s=class extends qd{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},ki=class extends $s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function p$(e){return Qe(e)&&e.name==="AuthSessionMissingError"}let Wc=class extends $s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hh=class extends $s{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Fh=class extends $s{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function g$(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}let HS=class extends $s{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vv=class extends $s{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Z0(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}let FS=class extends $s{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function jq(e){return Qe(e)&&e.name==="AuthWeakPasswordError"}let yv=class extends $s{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const bv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LN=` 	
\r=`.split(""),Nq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<LN.length;t+=1)e[LN[t].charCodeAt(0)]=-2;for(let t=0;t<bv.length;t+=1)e[bv[t].charCodeAt(0)]=t;return e})();function IN(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bv[r]),t.queuedBits-=6}}function v$(e,t,n){const r=Nq[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $N(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Dq(s,r,n)};for(let s=0;s<e.length;s+=1)v$(e.charCodeAt(s),i,a);return t.join("")}function Cq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Mq(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Cq(r,t)}}function Dq(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Bd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)v$(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Pq(e){const t=[];return Mq(e,n=>t.push(n)),new Uint8Array(t)}function iu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>IN(i,n,r)),IN(null,n,r),t.join("")}function Rq(e){return Math.round(Date.now()/1e3)+e}function Lq(){return Symbol("auth-callback")}const Rr=()=>typeof window<"u"&&typeof document<"u",Bc={tested:!1,writable:!1},y$=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bc.tested)return Bc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bc.tested=!0,Bc.writable=!0}catch{Bc.tested=!0,Bc.writable=!1}return Bc.writable};function Iq(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const b$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$q=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Od=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},zc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dr=async(e,t)=>{await e.removeItem(t)};class Ly{constructor(){this.promise=new Ly.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ly.promiseConstructor=Promise;function Yx(e){const t=e.split(".");if(t.length!==3)throw new yv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!kq.test(t[r]))throw new yv("JWT not in base64url format");return{header:JSON.parse($N(t[0])),payload:JSON.parse($N(t[1])),signature:Bd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zq(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Uq(e){return("0"+e.toString(16)).substr(-2)}function Hq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Uq).join("")}async function Fq(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Gq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Fq(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pd(e,t,n=!1){const r=Hq();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Od(e,`${t}-code-verifier`,i);const a=await Gq(r);return[a,r===a?"plain":"s256"]}const qq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yq(e){const t=e.headers.get(US);if(!t||!t.match(qq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gd(e){if(!Vq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zq(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function BN(e){return JSON.parse(JSON.stringify(e))}const Vc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xq=[502,503,504];async function zN(e){var t;if(!$q(e))throw new vv(Vc(e),0);if(Xq.includes(e.status))throw new vv(Vc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Il(Vc(a),a)}let r;const i=Yq(e);if(i&&i.getTime()>=f$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new FS(Vc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ki}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new FS(Vc(n),e.status,n.weak_password.reasons);throw new h$(Vc(n),e.status||500,r)}const Jq=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function lt(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[US]||(a[US]=f$["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await Qq(e,t,n+c,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Qq(e,t,n,r,i,a){const s=Jq(t,r,i,a);let c;try{c=await e(n,Object.assign({},s))}catch(d){throw console.error(d),new vv(Vc(d),0)}if(c.ok||await zN(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await zN(d)}}function ro(e){var t;let n=null;nY(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Rq(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function UN(e){const t=ro(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $l(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eY(e){return{data:e,error:null}}function tY(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=cf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function HN(e){return e}function nY(e){return e.access_token&&e.refresh_token&&e.expires_in}const X0=["global","local","others"];let T2=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=b$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=X0[0]){if(X0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X0.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$l})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cf(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tY,redirectTo:n?.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$l})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:HN});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);f[`${E}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){gd(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$l})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gd(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$l})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gd(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$l})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gd(t.userId);try{const{data:n,error:r}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gd(t.userId),gd(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:HN});if(m.error)throw m.error;const p=await m.json(),y=(s=m.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(x=>{const T=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);f[`${E}Page`]=T}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}};function FN(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Zc={debug:!!(globalThis&&y$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class k2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let _$=class extends k2{};class rY extends k2{}async function x$(e,t,n){Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const GN={};async function iY(e,t,n){var r;const i=(r=GN[e])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((s,c)=>{setTimeout(()=>{c(new rY(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await n());return GN[e]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}function aY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oY(e){return parseInt(e,16)}function sY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function lY(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=w$(e.address),x=m?`${m}://${r}`:r,T=e.statement?`${e.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${b}

${T}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let D=`
Resources:`;for(const O of f){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);D+=`
- ${O}`}j+=D}return`${E}
${j}`}class er extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class _v extends er{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function cY({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(S$(s)){if(a.rp.id!==s)return new er({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function uY({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(S$(r)){if(n.rpId!==r)return new er({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dY{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fY=new dY;function hY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cf(e,["challenge","user","excludeCredentials"]),a=Bd(t).buffer,s=Object.assign(Object.assign({},n),{id:Bd(n.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Bd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function mY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cf(e,["challenge","allowCredentials"]),i=Bd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const c=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},c),{id:Bd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function pY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:iu(new Uint8Array(e.response.attestationObject)),clientDataJSON:iu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:iu(new Uint8Array(i.authenticatorData)),clientDataJSON:iu(new Uint8Array(i.clientDataJSON)),signature:iu(new Uint8Array(i.signature)),userHandle:i.userHandle?iu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function S$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qN(){var e,t;return!!(Rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _v("Browser returned unexpected credential type",t)}:{data:null,error:new _v("Empty credential response",t)}}catch(t){return{data:null,error:cY({error:t,options:e})}}}async function yY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _v("Browser returned unexpected credential type",t)}:{data:null,error:new _v("Empty credential response",t)}}catch(t){return{data:null,error:uY({error:t,options:e})}}}const bY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_Y={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const c=r[a];t(c)?r[a]=xv(c,s):r[a]=xv(s)}else r[a]=s}return r}function xY(e,t){return xv(bY,e,t||{})}function wY(e,t){return xv(_Y,e,t||{})}class SY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:c};const d=i??fY.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=xY(s.webauthn.credential_options.publicKey,a?.create),{data:m,error:p}=await vY({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=wY(s.webauthn.credential_options.publicKey,a?.request),{data:m,error:p}=await yY(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new Il("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new qd("rpId is required for WebAuthn authentication")};try{if(!qN())return{data:null,error:new Il("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:c};const{webauthn:d}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new Il("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new qd("rpId is required for WebAuthn registration")};try{if(!qN())return{data:null,error:new Il("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new Il("Unexpected error in register",s)}}}}aY();const EY={url:Eq,storageKey:Aq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function YN(e,t,n){return await n()}const vd={};let O2=class GS{get jwks(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vd[this.storageKey]=Object.assign(Object.assign({},vd[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},EY),t);if(this.storageKey=a.storageKey,this.instanceID=(n=GS.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,GS.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Rr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new T2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=b$(a.fetch),this.lock=a.lock||YN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Rr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=x$:this.lock=YN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:y$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=FN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=FN(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${d$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Rr()&&(n=Iq(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Rr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),g$(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?this._returnResult({error:n}):this._returnResult({error:new Il("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ro}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:m,password:p,options:y}=t;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await pd(this.storage,this.storageKey)),a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:b,code_challenge_method:x},xform:ro})}else if("phone"in t){const{phone:m,password:p,options:y}=t;a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ro})}else throw new Hh("You must provide either an email or phone number and a password");const{data:s,error:c}=a;if(c||!s)return await Dr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:c}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:UN})}else if("phone"in t){const{phone:a,password:s,options:c}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:UN})}else throw new Hh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Wc;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,c,d,f,m,p,y;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:T,wallet:E,statement:j,options:D}=t;let O;if(Rr())if(typeof E=="object")O=E;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")O=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const M=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),N=await O.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=w$(N[0]);let $=(r=D?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const G=await O.request({method:"eth_chainId"});$=oY(G)}const z={domain:M.host,address:R,statement:j,uri:M.href,version:"1",chainId:$,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.resources};b=lY(z),x=await O.request({method:"personal_sign",params:[sY(b),R]})}try{const{data:T,error:E}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ro});if(E)throw E;if(!T||!T.session||!T.user){const j=new Wc;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:E})}catch(T){if(Qe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var n,r,i,a,s,c,d,f,m,p,y,b;let x,T;if("message"in t)x=t.message,T=t.signature;else{const{chain:E,wallet:j,statement:D,options:O}=t;let M;if(Rr())if(typeof j=="object")M=j;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))M=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const N=new URL((n=O?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const R=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),D?{statement:D}:null));let $;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")$=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)$=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)x=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),T=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=O?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=O?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((s=O?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((d=O?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((p=(m=O?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const R=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=R}}try{const{data:E,error:j}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:iu(T)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ro});if(j)throw j;if(!E||!E.session||!E.user){const D=new Wc;return this._returnResult({data:{user:null,session:null},error:D})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(Qe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await zc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ro});if(await Dr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const c=new Wc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,c=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ro}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Wc;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await pd(this.storage,this.storageKey));const{error:p}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Hh("You must provide either an email or phone number.")}catch(c){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:c}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ro});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pd(this.storage,this.storageKey));const f=await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:eY});return!((a=f.data)===null||a===void 0)&&a.url&&Rr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ki;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:c}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new Hh("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await zc(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Kx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Zq(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$l}):await this._useSession(async n=>{var r,i,a;const{data:s,error:c}=n;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:$l})})}catch(n){if(Qe(n))return p$(n)&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ki;const s=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await pd(this.storage,this.storageKey));const{data:f,error:m}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:$l});if(m)throw m;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ki;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Yx(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:c}=n;if(c)throw c;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ki;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Rr())throw new Fh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new HS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new HS("No code detected.");const{data:D,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=t;if(!a||!c||!s||!f)throw new Fh("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;d&&(y=parseInt(d));const b=y-m;b*1e3<=kd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const x=y-p;m-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,y,m):m-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,y,m);const{data:T,error:E}=await this._getUser(a);if(E)throw E;const j={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:s,token_type:f,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await zc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(m$(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Lq(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pd(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,c,d,f,m;const{data:p,error:y}=a;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Rr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:c,token:d,access_token:f,nonce:m}=t,p=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ro}),{data:y,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Wc}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(await Dr(this.storage,`${this.storageKey}-code-verifier`),Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zq(async i=>(i>0&&await Bq(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ro})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Z0(a)&&Date.now()+s-r<kd})}catch(r){if(this._debug(n,"error",r),Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await zc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Od(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Kx()}else if(i&&!i.user&&!i.user){const s=await zc(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Dr(this.storage,this.storageKey+"-user"),await Od(this.storage,this.storageKey,i)):i.user=Kx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qx;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${qx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Z0(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ly;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ki;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Qe(a)){const s={data:null,error:a};return Z0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Od(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=BN(i);await Od(this.storage,this.storageKey,a)}else{const i=BN(n);await Od(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kd}ms, refresh threshold is ${zS} ticks`),i<=zS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof k2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await pd(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pY(t.webauthn.credential_response):gY(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:hY(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:mY(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Yx(r.access_token);let s=null;a.aal&&(s=a.aal);let c=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ki})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ki});const s=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Rr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ki});const s=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Rr()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ki})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ki})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+Oq>i)return r;const{data:a,error:s}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});r=b.session.access_token}const{header:i,payload:a,signature:s,raw:{header:c,payload:d}}=Yx(r);n?.allowExpired||Kq(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:s},error:null}}const m=Wq(i.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,s,Pq(`${c}.${d}`)))throw new yv("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}};O2.nextInstanceID={};const AY=T2,TY=O2,kY=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:AY,AuthApiError:h$,AuthClient:TY,AuthError:qd,AuthImplicitGrantRedirectError:Fh,AuthInvalidCredentialsError:Hh,AuthInvalidJwtError:yv,AuthInvalidTokenResponseError:Wc,AuthPKCEGrantCodeExchangeError:HS,AuthRetryableFetchError:vv,AuthSessionMissingError:ki,AuthUnknownError:Il,AuthWeakPasswordError:FS,CustomAuthError:$s,GoTrueAdminApi:T2,GoTrueClient:O2,NavigatorLockAcquireTimeoutError:_$,SIGN_OUT_SCOPES:X0,isAuthApiError:m$,isAuthError:Qe,isAuthImplicitGrantRedirectError:g$,isAuthRetryableFetchError:Z0,isAuthSessionMissingError:p$,isAuthWeakPasswordError:jq,lockInternals:Zc,navigatorLock:x$,processLock:iY},Symbol.toStringTag,{value:"Module"})),E$=Pm(kY);var KN;function OY(){if(KN)return Ah;KN=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.SupabaseAuthClient=void 0;const e=E$;let t=class extends e.AuthClient{constructor(r){super(r)}};return Ah.SupabaseAuthClient=t,Ah}var WN;function VN(){if(WN)return Lg;WN=1,Object.defineProperty(Lg,"__esModule",{value:!0});const e=LI,t=HI(),n=XI,r=bq,i=xq(),a=wq(),s=Sq(),c=OY();class d{constructor(m,p,y){var b,x,T;this.supabaseUrl=m,this.supabaseKey=p;const E=(0,s.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const j=`sb-${E.hostname.split(".")[0]}-auth-token`,D={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},O=(0,s.applySettingDefaults)(y??{},D);this.storageKey=(b=O.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(x=O.global.headers)!==null&&x!==void 0?x:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(M,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=O.auth)!==null&&T!==void 0?T:{},this.headers,O.global.fetch),this.fetch=(0,a.fetchWithAuth)(p,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,y)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(p=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:x,storageKey:T,flowType:E,lock:j,debug:D,throwOnError:O},M,N){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},R),M),storageKey:T,autoRefreshToken:m,persistSession:p,detectSessionInUrl:y,storage:b,userStorage:x,flowType:E,lock:j,debug:D,throwOnError:O,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some($=>$.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,y)=>{this._handleTokenChanged(p,"CLIENT",y?.access_token)})}_handleTokenChanged(m,p,y){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Lg.default=d,Lg}var ZN;function jY(){return ZN||(ZN=1,(function(e){var t=ms&&ms.__createBinding||(Object.create?(function(m,p,y,b){b===void 0&&(b=y);var x=Object.getOwnPropertyDescriptor(p,y);(!x||("get"in x?!p.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return p[y]}}),Object.defineProperty(m,b,x)}):(function(m,p,y,b){b===void 0&&(b=y),m[b]=p[y]})),n=ms&&ms.__exportStar||function(m,p){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(p,y)&&t(p,m,y)},r=ms&&ms.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(VN());n(E$,e);var a=HI();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var s=LI;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),n(XI,e);var c=VN();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(c).default}});const d=(m,p,y)=>new i.default(m,p,y);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ms)),ms}var A$=jY();const T$=Pi(A$),NY=c2({__proto__:null,default:T$},[A$]),{PostgrestError:zwe,FunctionsHttpError:Uwe,FunctionsFetchError:Hwe,FunctionsRelayError:Fwe,FunctionsError:Gwe,FunctionRegion:qwe,SupabaseClient:Ywe,createClient:CY,GoTrueAdminApi:Kwe,GoTrueClient:Wwe,AuthAdminApi:Vwe,AuthClient:Zwe,navigatorLock:Xwe,NavigatorLockAcquireTimeoutError:Jwe,lockInternals:Qwe,processLock:e1e,SIGN_OUT_SCOPES:t1e,AuthError:n1e,AuthApiError:r1e,AuthUnknownError:i1e,CustomAuthError:a1e,AuthSessionMissingError:o1e,AuthInvalidTokenResponseError:s1e,AuthInvalidCredentialsError:l1e,AuthImplicitGrantRedirectError:c1e,AuthPKCEGrantCodeExchangeError:u1e,AuthRetryableFetchError:d1e,AuthWeakPasswordError:f1e,AuthInvalidJwtError:h1e,isAuthError:m1e,isAuthApiError:p1e,isAuthSessionMissingError:g1e,isAuthImplicitGrantRedirectError:v1e,isAuthRetryableFetchError:y1e,isAuthWeakPasswordError:b1e,RealtimePresence:_1e,RealtimeChannel:x1e,RealtimeClient:w1e,REALTIME_LISTEN_TYPES:S1e,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:E1e,REALTIME_PRESENCE_LISTEN_EVENTS:A1e,REALTIME_SUBSCRIBE_STATES:T1e,REALTIME_CHANNEL_STATES:k1e}=T$||NY,Ke=CY("https://jouhybyquybxbnqztxum.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage}}),k$="settings_v1",qS=()=>{try{typeof window<"u"&&window.localStorage.removeItem(k$)}catch{}},lu={hiddenStem:"all",hiddenStemMode:"classic",ilunRule:"/",sinsalMode:"classic",sinsalBase:"",sinsalBloom:!1,exposure:"",charType:"",thinEum:!1,showSipSin:!0,showSibiSinsal:!0,showSibiUnseong:!0,showNabeum:!0,theme:"dark",difficultyMode:!1,sectionOrder:["hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"]},XN=["theme","hiddenStem","hiddenStemMode","ilunRule","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"],MY=e=>{const t=Array.isArray(e)?e.filter(r=>typeof r=="string"&&XN.includes(r)):[],n=XN.filter(r=>!t.includes(r));return[...t,...n]},zd=e=>({...lu,...e,sectionOrder:MY(e.sectionOrder)}),DY=e=>{if(e&&typeof e=="object"){const t=e;if(t.settings&&typeof t.settings=="object")return zd(t.settings);if(t.state&&typeof t.state=="object"){const n=t.state;if(n.settings&&typeof n.settings=="object")return zd(n.settings)}}return zd(e??{})},PY=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.state||t.settings)};qS();const Er=Bm()(cI((e,t)=>({settings:lu,syncing:!1,loaded:!1,setSettings:n=>e({settings:zd(n)}),setKey:(n,r)=>e({settings:zd({...t().settings,[n]:r})}),reset:()=>e({settings:lu}),loadFromServer:async()=>{try{e({syncing:!0}),qS();const{data:{user:n},error:r}=await Ke.auth.getUser();if(r||!n){e({syncing:!1,loaded:!1});return}const{data:i,error:a}=await Ke.from("user_settings").select("payload").eq("user_id",n.id).single();if(a&&a.code!=="PGRST116"){console.error("loadFromServer(settings) error:",a),e({syncing:!1,loaded:!0});return}if(i?.payload){const s=DY(i.payload);e({settings:s,syncing:!1,loaded:!0}),PY(i.payload)&&await Ke.from("user_settings").upsert({user_id:n.id,payload:s,updated_at:new Date().toISOString()});return}await t().saveToServer(!0),e({syncing:!1,loaded:!0})}catch(n){console.error("loadFromServer(settings) exception:",n),e({syncing:!1,loaded:!0})}},saveToServer:async(n=!1)=>{try{if(!t().loaded&&!n)return;e({syncing:!0}),qS();const{data:{user:r},error:i}=await Ke.auth.getUser();if(i||!r){e({syncing:!1});return}const a=zd(t().settings),{error:s}=await Ke.from("user_settings").upsert({user_id:r.id,payload:a,updated_at:new Date().toISOString()});s&&console.error("saveToServer(settings) error:",s),e({syncing:!1,loaded:!0})}catch(r){console.error("saveToServer(settings) exception:",r),e({syncing:!1})}}}),{name:k$,storage:{getItem:()=>null,setItem:()=>null,removeItem:()=>null},merge:(e,t)=>t}));function YS(e){const t=di.indexOf(e);if(t!==-1)return di[t];const n=ca..indexOf(e);return n!==-1?di[n]:null}function O$(e){const t=Mi.indexOf(e);if(t!==-1)return Mi[t];const n=ca..indexOf(e);return n!==-1?Mi[n]:null}function JN(e,t){if(t?.difficultyMode)return t?.theme==="light"?"bg-white border border-gray-300 text-neutral-900":"bg-white text-black";switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-500 text-white";case"":return"bg-gray-400 text-white";case"":return"bg-black text-white";default:return"bg-neutral-700 text-white"}}function sa(e,t,n){if(t==="stem"){const r=YS(e);if(!r)return console.warn("Invalid stem:",e),"bg-neutral-700";const i=di.indexOf(r),a=i>=0?eG[i]:void 0;return JN(a,n)}else{const r=O$(e);if(!r)return console.warn("Invalid branch:",e),"bg-neutral-700";const i=Mi.indexOf(r),a=i>=0?tG[i]:void 0;return JN(a,n)}}function li(e,t){const n=YS(e);if(!n)throw new Error(`getSipSin: invalid dayStem ${e}`);if(t.stem){const r=YS(t.stem);if(!r)throw new Error(`getSipSin: invalid stem ${t.stem}`);return iG[n][r]}if(t.branch){const r=O$(t.branch);if(!r)throw new Error(`getSipSin: invalid branch ${t.branch}`);return aG[n][r]}throw new Error("getSipSin: stem or branch required")}const Iy={:["","(-)",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","",""],:["","(-)",""],:["","",""],:["","",""]},$y={:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""],:["(-)","(-)",""],:["","",""],:["(-)","",""]};function Gh({branch:e,dayStem:t,mode:n="all",mapping:r="classic",variant:i="auto",isUnknownTime:a=!1}){const s=(r==="hgc"?$y:Iy)[e]??[],c=n==="main"?[s[2]]:s,d=i==="white",f=d?"text-white":"text-neutral-800 dark:text-white",m=d?"border-white":"border-neutral-800 dark: border-neutral-200",p=d?"text-yellow-900":"text-red-600 dark:text-yellow-300";return _.jsx("div",{className:"w-full flex flex-col gap-1 mt-1",children:c.map((y,b)=>y==="(-)"||a?_.jsx("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs text-neutral-500 py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap`,children:"(-) ()"},b):_.jsxs("div",{className:`w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border ${m} ${f} rounded text-center text-nowrap 
            ${n==="main"||b===2?`jeonggi bg-neutral-500/50 ${p} font-bold`:""}`,children:[y," (",li(t,{stem:y}),")"]},b))})}const Hm=Bm(e=>({manualHour:null,setManualHour:t=>e({manualHour:t}),clearManualHour:()=>e({manualHour:null})})),j2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},j$=Object.fromEntries(Object.entries(j2).map(([e,t])=>[t,e])),N2={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},N$=Object.fromEntries(Object.entries(N2).map(([e,t])=>[t,e]));function QN(e){return Ra..includes(e)}function eC(e){return Ra..includes(e)}function RY(e){return ca..includes(e)}function LY(e){return ca..includes(e)}function tC(e,t,n){return n===""?t==="stem"?j2[e]??e:N2[e]??e:t==="stem"?j$[e]??e:N$[e]??e}function nC(e){const t=j$[e]??e;return RY(t)?t:""}function IY(e){const t=N$[e]??e;return LY(t)?t:""}function $Y(e){if(QN(e))return e;const t=j2[e]??e;return QN(t)?t:""}function BY(e){if(eC(e))return e;const t=N2[e]??e;return eC(t)?t:""}const zY=new Set(["","","","","","","","","",""]),UY=new Set(["","","","","","","","","","","",""]),HY=e=>zY.has(e),FY=e=>UY.has(e);function Nd({label:e,gz:t,dayStem:n,settings:r,unseongText:i,shinsalText:a,hideBranchSipSin:s=!0,hideHiddenStems:c=!1,size:d="sm",variant:f="auto",isUnknownTime:m=!1}){const{manualHour:p}=Hm(),y=m&&!p,b=t.charAt(0),x=t.charAt(1),T=tC(b,"stem",r.charType),E=tC(x,"branch",r.charType),j=nC(b),D=IY(x),O=nC(n),M=BY(x),N=$Y(n),R=r.showSipSin?li(O,{stem:j}):null,$=!s&&r.showSipSin?li(O,{branch:D}):null,z=r.thinEum&&HY(b)?"font-thin":"font-bold",G=r.thinEum&&FY(x)?"font-thin":"font-bold",V={sm:"w-10 h-10 sm:w-12 sm:h-12",md:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16",lg:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20"},H=!c&&!!r.hiddenStem,U=r.hiddenStem==="regular"?"main":"all",Z=r.hiddenStemMode==="hgc"?"hgc":"classic",re=f==="white",ve=re?"bg-white text-neutral-900 border border-neutral-200":"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-800",J=re?"bg-neutral-100 text-neutral-700":"bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",ae=re?"border-neutral-200":"border-neutral-200 dark:border-neutral-800",ne=re?"text-neutral-500":"text-neutral-400",ce=re?"text-neutral-500":"text-neutral-400",{settings:te}=Er(),Y=y?`bg-white ${ae}`:`${sa(j,"stem",te)} ${ae}`,B=y?`bg-white ${ae}`:`${sa(D,"branch",te)} ${ae}`,X=y?"text-black":te.difficultyMode?te.theme==="light"?"text-neutral-900":"text-black":"text-white",ee=y?"text-black":te.difficultyMode?te.theme==="light"?"text-neutral-900":"text-black":"text-white";return _.jsxs("div",{className:`rounded-sm desk:rounded-xl overflow-hidden ${ve}`,children:[_.jsx("div",{className:`py-2 text-center text-[10px] desk:text-xs tracking-wider ${J} text-nowrap`,children:e}),_.jsxs("div",{className:"py-3 flex flex-col items-center gap-1",children:[R&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ne} text-nowrap`,children:m&&!p?"-":R}),_.jsx("div",{className:`${V[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${Y}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${X} ${z}`,children:y?"-":T})}),_.jsx("div",{className:`${V[d]} rounded-sm desk:rounded-lg flex items-center justify-center border ${B}`,children:_.jsx("span",{className:`text-2xl md:text-3xl ${ee} ${G}`,children:y?"-":E})}),H&&_.jsx(Gh,{branch:M,dayStem:N,mode:U,mapping:Z,isUnknownTime:m&&!p&&(e===""||e==="")}),$&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ce}`,children:m&&!p?"-":$}),r.showSibiUnseong&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:m&&!p?"-":i||""}),r.showSibiSinsal&&_.jsx("div",{className:`text-[10px] desk:text-xs ${ce} text-nowrap`,children:m&&!p?"-":a||""})]})]})}const GY=new Set(ca.);function qY(e){return Cy.has(e)?e:GY.has(e)?My[e]:""}function YY({label:e,settings:t,hideBranchSipSin:n=!0}){const r=t.showSipSin,i=!!t.hiddenStem,s=(t.hiddenStem==="regular"?"main":"all")==="main"?1:3,c=t.showSipSin&&!n;return _.jsxs("div",{className:"rounded-sm desk:rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden transition-colors",children:[_.jsx("div",{className:"py-2 text-center text-[10px] desk:text-xs tracking-wider bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200 text-nowrap",children:e}),_.jsxs("div",{className:"p-3 flex flex-col items-center gap-1",children:[r&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:"-"}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-sm desk:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 bg-white",children:_.jsx("span",{className:"text-2xl md:text-3xl font-bold text-neutral-900",children:"-"})}),i&&_.jsx("div",{className:"flex flex-col gap-1 mt-1 w-full",children:Array.from({length:s}).map((d,f)=>_.jsx("div",{className:"w-full max-w-[80px] mx-auto text-[10px] desk:text-xs py-0.5 desk:px-1 border border-neutral-200 dark:border-neutral-800 rounded text-center text-nowrap text-neutral-500 dark:text-neutral-400",children:"-"},f))}),c&&_.jsx("div",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:"-"})]})]})}function KY(){const e=Er(x=>x.settings),[t,n]=A.useState(new Date),[r,i]=A.useState(!0),[a,s]=A.useState("/"),[c,d]=A.useState(!1);A.useEffect(()=>{if(!r)return;const x=setInterval(()=>n(new Date),1e3);return()=>clearInterval(x)},[r]);const f=pt(t),m=Mt(t),p=At(t,a),y=$a(t,"/"),b=qY(p.charAt(0));return _.jsx("div",{className:"flex justify-center items-center mt-12 w-full h-[calc(100dvh_-_112px)] ",children:_.jsxs("div",{className:`w-[96%] max-w-[640px] mx-auto mb-4 p-4
                      bg-white dark:bg-neutral-950
                      text-neutral-900 dark:text-neutral-100
                      rounded-xl shadow border border-neutral-200 dark:border-neutral-800 transition-colors`,children:[_.jsxs("header",{className:"flex flex-col desk:flex-row items-center justify-center desk:justify-between mb-4 gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[" "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(",r?"":"",") ",ZY(t)]})]}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsxs("select",{value:a,onChange:x=>s(x.target.value),className:`text-xs rounded px-2 py-1 h-30 cursor-pointer
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"",children:" ( 23)"}),_.jsx("option",{value:"/",children:"/ ()"}),_.jsx("option",{value:"",children:" ( 3)"})]}),_.jsx("button",{onClick:()=>i(!r),className:`text-xs px-3 py-1 rounded transition-colors cursor-pointer
                        bg-neutral-100 hover:bg-neutral-200
                        dark:bg-neutral-800 dark:hover:bg-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        border border-neutral-200 dark:border-neutral-700`,children:r?" ":" "})]})]}),_.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[c?_.jsx(YY,{label:"",settings:e,hideBranchSipSin:!0}):_.jsx(Nd,{label:"",gz:y,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:p,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:m,dayStem:b,settings:e,hideBranchSipSin:!0}),_.jsx(Nd,{label:"",gz:f,dayStem:b,settings:e,hideBranchSipSin:!0})]}),_.jsxs("div",{className:"flex flex-col desk:flex-row gap-2 desk:gap-3 items-center",children:[_.jsx("label",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"/ "}),_.jsx("input",{type:"datetime-local",value:WY(t),disabled:r,onChange:x=>{const T=VY(x.target.value);T&&n(T)},className:`rounded px-3 py-1 text-sm transition-colors
                        bg-white dark:bg-neutral-900
                        border border-neutral-300 dark:border-neutral-700
                        text-neutral-900 dark:text-neutral-100
                        focus:outline-none focus:ring-2 focus:ring-amber-500/40
                        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,min:"1900-01-01T00:00",max:"2100-12-31T23:59"}),_.jsx("button",{onClick:()=>d(x=>!x),className:`text-xs px-3 py-1 rounded border transition-colors cursor-pointer
                        ${c?"bg-white text-neutral-900 border-neutral-300 hover:bg-neutral-100":"bg-neutral-100 text-neutral-900 border-neutral-200 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-700 dark:hover:bg-neutral-700"}`,title:"     ",children:c?" ":" "})]})]})})}function WY(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function VY(e){if(!e)return null;const[t,n]=e.split("T");if(!t||!n)return null;const[r,i,a]=t.split("-").map(Number),[s,c]=n.split(":").map(Number),d=new Date(r,i-1,a,s,c);return Number.isNaN(d.getTime())?null:d}function ZY(e){const t=n=>n.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`}const Pr=[];for(let e=0;e<256;++e)Pr.push((e+256).toString(16).slice(1));function XY(e,t=0){return(Pr[e[t+0]]+Pr[e[t+1]]+Pr[e[t+2]]+Pr[e[t+3]]+"-"+Pr[e[t+4]]+Pr[e[t+5]]+"-"+Pr[e[t+6]]+Pr[e[t+7]]+"-"+Pr[e[t+8]]+Pr[e[t+9]]+"-"+Pr[e[t+10]]+Pr[e[t+11]]+Pr[e[t+12]]+Pr[e[t+13]]+Pr[e[t+14]]+Pr[e[t+15]]).toLowerCase()}let Wx;const JY=new Uint8Array(16);function QY(){if(!Wx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wx=crypto.getRandomValues.bind(crypto)}return Wx(JY)}const eK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rC={randomUUID:eK};function C$(e,t,n){if(rC.randomUUID&&!e)return rC.randomUUID();e=e||{};const r=e.random??e.rng?.()??QY();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XY(r)}var qh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tK=qh.exports,iC;function nK(){return iC||(iC=1,(function(e,t){(function(n,r){r(t)})(tK,(function(n){var r="1.9.4";function i(u){var g,w,C,P;for(w=1,C=arguments.length;w<C;w++){P=arguments[w];for(g in P)u[g]=P[g]}return u}var a=Object.create||(function(){function u(){}return function(g){return u.prototype=g,new u}})();function s(u,g){var w=Array.prototype.slice;if(u.bind)return u.bind.apply(u,w.call(arguments,1));var C=w.call(arguments,2);return function(){return u.apply(g,C.length?C.concat(w.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function f(u,g,w){var C,P,F,ie;return ie=function(){C=!1,P&&(F.apply(w,P),P=!1)},F=function(){C?P=arguments:(u.apply(w,arguments),setTimeout(ie,g),C=!0)},F}function m(u,g,w){var C=g[1],P=g[0],F=C-P;return u===C&&w?u:((u-P)%F+F)%F+P}function p(){return!1}function y(u,g){if(g===!1)return u;var w=Math.pow(10,g===void 0?6:g);return Math.round(u*w)/w}function b(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function x(u){return b(u).split(/\s+/)}function T(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var w in g)u.options[w]=g[w];return u.options}function E(u,g,w){var C=[];for(var P in u)C.push(encodeURIComponent(w?P.toUpperCase():P)+"="+encodeURIComponent(u[P]));return(!g||g.indexOf("?")===-1?"?":"&")+C.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function D(u,g){return u.replace(j,function(w,C){var P=g[C];if(P===void 0)throw new Error("No value provided for variable "+w);return typeof P=="function"&&(P=P(g)),P})}var O=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function M(u,g){for(var w=0;w<u.length;w++)if(u[w]===g)return w;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var $=0;function z(u){var g=+new Date,w=Math.max(0,16-(g-$));return $=g+w,window.setTimeout(u,w)}var G=window.requestAnimationFrame||R("RequestAnimationFrame")||z,V=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function H(u,g,w){if(w&&G===z)u.call(g);else return G.call(window,s(u,g))}function U(u){u&&V.call(window,u)}var Z={__proto__:null,extend:i,create:a,bind:s,get lastId(){return c},stamp:d,throttle:f,wrapNum:m,falseFn:p,formatNum:y,trim:b,splitWords:x,setOptions:T,getParamString:E,template:D,isArray:O,indexOf:M,emptyImageUrl:N,requestFn:G,cancelFn:V,requestAnimFrame:H,cancelAnimFrame:U};function re(){}re.extend=function(u){var g=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=g.__super__=this.prototype,C=a(w);C.constructor=g,g.prototype=C;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(g[P]=this[P]);return u.statics&&i(g,u.statics),u.includes&&(ve(u.includes),i.apply(null,[C].concat(u.includes))),i(C,u),delete C.statics,delete C.includes,C.options&&(C.options=w.options?a(w.options):{},i(C.options,u.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,ie=C._initHooks.length;F<ie;F++)C._initHooks[F].call(this)}},g},re.include=function(u){var g=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},re.mergeOptions=function(u){return i(this.prototype.options,u),this},re.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),w=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function ve(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=O(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(u,g,w){if(typeof u=="object")for(var C in u)this._on(C,u[C],g);else{u=x(u);for(var P=0,F=u.length;P<F;P++)this._on(u[P],g,w)}return this},off:function(u,g,w){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var C in u)this._off(C,u[C],g);else{u=x(u);for(var P=arguments.length===1,F=0,ie=u.length;F<ie;F++)P?this._off(u[F]):this._off(u[F],g,w)}return this},_on:function(u,g,w,C){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,w)===!1){w===this&&(w=void 0);var P={fn:g,ctx:w};C&&(P.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(P)}},_off:function(u,g,w){var C,P,F;if(this._events&&(C=this._events[u],!!C)){if(arguments.length===1){if(this._firingCount)for(P=0,F=C.length;P<F;P++)C[P].fn=p;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var ie=this._listens(u,g,w);if(ie!==!1){var pe=C[ie];this._firingCount&&(pe.fn=p,this._events[u]=C=C.slice()),C.splice(ie,1)}}},fire:function(u,g,w){if(!this.listens(u,w))return this;var C=i({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var P=this._events[u];if(P){this._firingCount=this._firingCount+1||1;for(var F=0,ie=P.length;F<ie;F++){var pe=P[F],Ee=pe.fn;pe.once&&this.off(u,Ee,pe.ctx),Ee.call(pe.ctx||this,C)}this._firingCount--}}return w&&this._propagateEvent(C),this},listens:function(u,g,w,C){typeof u!="string"&&console.warn('"string" type argument expected');var P=g;typeof g!="function"&&(C=!!g,P=void 0,w=void 0);var F=this._events&&this._events[u];if(F&&F.length&&this._listens(u,P,w)!==!1)return!0;if(C){for(var ie in this._eventParents)if(this._eventParents[ie].listens(u,g,w,C))return!0}return!1},_listens:function(u,g,w){if(!this._events)return!1;var C=this._events[u]||[];if(!g)return!!C.length;w===this&&(w=void 0);for(var P=0,F=C.length;P<F;P++)if(C[P].fn===g&&C[P].ctx===w)return P;return!1},once:function(u,g,w){if(typeof u=="object")for(var C in u)this._on(C,u[C],g,!0);else{u=x(u);for(var P=0,F=u.length;P<F;P++)this._on(u[P],g,w,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var ae=re.extend(J);function ne(u,g,w){this.x=w?Math.round(u):u,this.y=w?Math.round(g):g}var ce=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(u){return this.clone()._add(te(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(te(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ne(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ne(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(u){u=te(u);var g=u.x-this.x,w=u.y-this.y;return Math.sqrt(g*g+w*w)},equals:function(u){return u=te(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=te(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function te(u,g,w){return u instanceof ne?u:O(u)?new ne(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ne(u.x,u.y):new ne(u,g,w)}function Y(u,g){if(u)for(var w=g?[u,g]:u,C=0,P=w.length;C<P;C++)this.extend(w[C])}Y.prototype={extend:function(u){var g,w;if(!u)return this;if(u instanceof ne||typeof u[0]=="number"||"x"in u)g=w=te(u);else if(u=B(u),g=u.min,w=u.max,!g||!w)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=w.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(u){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,w;return typeof u[0]=="number"||u instanceof ne?u=te(u):u=B(u),u instanceof Y?(g=u.min,w=u.max):g=w=u,g.x>=this.min.x&&w.x<=this.max.x&&g.y>=this.min.y&&w.y<=this.max.y},intersects:function(u){u=B(u);var g=this.min,w=this.max,C=u.min,P=u.max,F=P.x>=g.x&&C.x<=w.x,ie=P.y>=g.y&&C.y<=w.y;return F&&ie},overlaps:function(u){u=B(u);var g=this.min,w=this.max,C=u.min,P=u.max,F=P.x>g.x&&C.x<w.x,ie=P.y>g.y&&C.y<w.y;return F&&ie},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,w=this.max,C=Math.abs(g.x-w.x)*u,P=Math.abs(g.y-w.y)*u;return B(te(g.x-C,g.y-P),te(w.x+C,w.y+P))},equals:function(u){return u?(u=B(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function B(u,g){return!u||u instanceof Y?u:new Y(u,g)}function X(u,g){if(u)for(var w=g?[u,g]:u,C=0,P=w.length;C<P;C++)this.extend(w[C])}X.prototype={extend:function(u){var g=this._southWest,w=this._northEast,C,P;if(u instanceof q)C=u,P=u;else if(u instanceof X){if(C=u._southWest,P=u._northEast,!C||!P)return this}else return u?this.extend(W(u)||ee(u)):this;return!g&&!w?(this._southWest=new q(C.lat,C.lng),this._northEast=new q(P.lat,P.lng)):(g.lat=Math.min(C.lat,g.lat),g.lng=Math.min(C.lng,g.lng),w.lat=Math.max(P.lat,w.lat),w.lng=Math.max(P.lng,w.lng)),this},pad:function(u){var g=this._southWest,w=this._northEast,C=Math.abs(g.lat-w.lat)*u,P=Math.abs(g.lng-w.lng)*u;return new X(new q(g.lat-C,g.lng-P),new q(w.lat+C,w.lng+P))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof q||"lat"in u?u=W(u):u=ee(u);var g=this._southWest,w=this._northEast,C,P;return u instanceof X?(C=u.getSouthWest(),P=u.getNorthEast()):C=P=u,C.lat>=g.lat&&P.lat<=w.lat&&C.lng>=g.lng&&P.lng<=w.lng},intersects:function(u){u=ee(u);var g=this._southWest,w=this._northEast,C=u.getSouthWest(),P=u.getNorthEast(),F=P.lat>=g.lat&&C.lat<=w.lat,ie=P.lng>=g.lng&&C.lng<=w.lng;return F&&ie},overlaps:function(u){u=ee(u);var g=this._southWest,w=this._northEast,C=u.getSouthWest(),P=u.getNorthEast(),F=P.lat>g.lat&&C.lat<w.lat,ie=P.lng>g.lng&&C.lng<w.lng;return F&&ie},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=ee(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(u,g){return u instanceof X?u:new X(u,g)}function q(u,g,w){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,w!==void 0&&(this.alt=+w)}q.prototype={equals:function(u,g){if(!u)return!1;u=W(u);var w=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return w<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+y(this.lat,u)+", "+y(this.lng,u)+")"},distanceTo:function(u){return fe.distance(this,W(u))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,w=g/Math.cos(Math.PI/180*this.lat);return ee([this.lat-g,this.lng-w],[this.lat+g,this.lng+w])},clone:function(){return new q(this.lat,this.lng,this.alt)}};function W(u,g,w){return u instanceof q?u:O(u)&&typeof u[0]!="object"?u.length===3?new q(u[0],u[1],u[2]):u.length===2?new q(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new q(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new q(u,g,w)}var le={latLngToPoint:function(u,g){var w=this.projection.project(u),C=this.scale(g);return this.transformation._transform(w,C)},pointToLatLng:function(u,g){var w=this.scale(g),C=this.transformation.untransform(u,w);return this.projection.unproject(C)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,w=this.scale(u),C=this.transformation.transform(g.min,w),P=this.transformation.transform(g.max,w);return new Y(C,P)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?m(u.lng,this.wrapLng,!0):u.lng,w=this.wrapLat?m(u.lat,this.wrapLat,!0):u.lat,C=u.alt;return new q(w,g,C)},wrapLatLngBounds:function(u){var g=u.getCenter(),w=this.wrapLatLng(g),C=g.lat-w.lat,P=g.lng-w.lng;if(C===0&&P===0)return u;var F=u.getSouthWest(),ie=u.getNorthEast(),pe=new q(F.lat-C,F.lng-P),Ee=new q(ie.lat-C,ie.lng-P);return new X(pe,Ee)}},fe=i({},le,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var w=Math.PI/180,C=u.lat*w,P=g.lat*w,F=Math.sin((g.lat-u.lat)*w/2),ie=Math.sin((g.lng-u.lng)*w/2),pe=F*F+Math.cos(C)*Math.cos(P)*ie*ie,Ee=2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe));return this.R*Ee}}),Q=6378137,de={R:Q,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,w=this.MAX_LATITUDE,C=Math.max(Math.min(w,u.lat),-w),P=Math.sin(C*g);return new ne(this.R*u.lng*g,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(u){var g=180/Math.PI;return new q((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(function(){var u=Q*Math.PI;return new Y([-u,-u],[u,u])})()};function we(u,g,w,C){if(O(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=w,this._d=C}we.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new ne((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function se(u,g,w,C){return new we(u,g,w,C)}var Ne=i({},fe,{code:"EPSG:3857",projection:de,transformation:(function(){var u=.5/(Math.PI*de.R);return se(u,.5,-u,.5)})()}),be=i({},Ne,{code:"EPSG:900913"});function Le(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Me(u,g){var w="",C,P,F,ie,pe,Ee;for(C=0,F=u.length;C<F;C++){for(pe=u[C],P=0,ie=pe.length;P<ie;P++)Ee=pe[P],w+=(P?"L":"M")+Ee.x+" "+Ee.y;w+=g?Xe.svg?"z":"x":""}return w||"M0 0"}var Ie=document.documentElement.style,Be="ActiveXObject"in window,ye=Be&&!document.addEventListener,$e="msLaunchUri"in navigator&&!("documentMode"in document),he=rr("webkit"),ge=rr("android"),Ue=rr("android 2")||rr("android 3"),ze=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=ge&&rr("Google")&&ze<537&&!("AudioNode"in window),ut=!!window.opera,it=!$e&&rr("chrome"),tn=rr("gecko")&&!he&&!ut&&!Be,Kn=!it&&rr("safari"),zn=rr("phantom"),Ur="OTransition"in Ie,ti=navigator.platform.indexOf("Win")===0,En=Be&&"transition"in Ie,$t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ue,Cn="MozPerspective"in Ie,An=!window.L_DISABLE_3D&&(En||$t||Cn)&&!Ur&&!zn,Ii=typeof orientation<"u"||rr("mobile"),Ks=Ii&&he,Ga=Ii&&$t,Un=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||Un),_o="ontouchstart"in window||!!window.TouchEvent,mi=!window.L_NO_TOUCH&&(_o||Wn),Hr=Ii&&ut,fa=Ii&&tn,Ws=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jl=(function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return u})(),Ql=(function(){return!!document.createElement("canvas").getContext})(),qa=!!(document.createElementNS&&Le("svg").createSVGRect),ec=!!qa&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Vs=!qa&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),tc=navigator.platform.indexOf("Mac")===0,nc=navigator.platform.indexOf("Linux")===0;function rr(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Xe={ie:Be,ielt9:ye,edge:$e,webkit:he,android:ge,android23:Ue,androidStock:He,opera:ut,chrome:it,gecko:tn,safari:Kn,phantom:zn,opera12:Ur,win:ti,ie3d:En,webkit3d:$t,gecko3d:Cn,any3d:An,mobile:Ii,mobileWebkit:Ks,mobileWebkit3d:Ga,msPointer:Un,pointer:Wn,touch:mi,touchNative:_o,mobileOpera:Hr,mobileGecko:fa,retina:Ws,passiveEvents:Jl,canvas:Ql,svg:qa,vml:Vs,inlineSvg:ec,mac:tc,linux:nc},Yo=Xe.msPointer?"MSPointerDown":"pointerdown",pi=Xe.msPointer?"MSPointerMove":"pointermove",Fr=Xe.msPointer?"MSPointerUp":"pointerup",gn=Xe.msPointer?"MSPointerCancel":"pointercancel",Hn={touchstart:Yo,touchmove:pi,touchend:Fr,touchcancel:gn},$i={touchstart:ir,touchmove:bt,touchend:bt,touchcancel:bt},ha={},_e=!1;function Ye(u,g,w){return g==="touchstart"&&Tt(),$i[g]?(w=$i[g].bind(this,w),u.addEventListener(Hn[g],w,!1),w):(console.warn("wrong event specified:",g),p)}function ht(u,g,w){if(!Hn[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(Hn[g],w,!1)}function _t(u){ha[u.pointerId]=u}function ot(u){ha[u.pointerId]&&(ha[u.pointerId]=u)}function gt(u){delete ha[u.pointerId]}function Tt(){_e||(document.addEventListener(Yo,_t,!0),document.addEventListener(pi,ot,!0),document.addEventListener(Fr,gt,!0),document.addEventListener(gn,gt,!0),_e=!0)}function bt(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var w in ha)g.touches.push(ha[w]);g.changedTouches=[g],u(g)}}function ir(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Mn(g),bt(u,g)}function kt(u){var g={},w,C;for(C in u)w=u[C],g[C]=w&&w.bind?w.bind(u):w;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Zs=200;function rc(u,g){u.addEventListener("dblclick",g);var w=0,C;function P(F){if(F.detail!==1){C=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var ie=dc(F);if(!(ie.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})&&!ie.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement}))){var pe=Date.now();pe-w<=Zs?(C++,C===2&&g(kt(F))):C=1,w=pe}}}return u.addEventListener("click",P),{dblclick:g,simDblclick:P}}function ma(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var Or=sc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ko=sc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ic=Ko==="webkitTransition"||Ko==="OTransition"?Ko+"End":"transitionend";function ac(u){return typeof u=="string"?document.getElementById(u):u}function oc(u,g){var w=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!w||w==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(u,null);w=C?C[g]:null}return w==="auto"?null:w}function xt(u,g,w){var C=document.createElement(u);return C.className=g||"",w&&w.appendChild(C),C}function Kt(u){var g=u.parentNode;g&&g.removeChild(u)}function gi(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function ar(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function Wo(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function Af(u,g){if(u.classList!==void 0)return u.classList.contains(g);var w=Ou(u);return w.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(w)}function dt(u,g){if(u.classList!==void 0)for(var w=x(g),C=0,P=w.length;C<P;C++)u.classList.add(w[C]);else if(!Af(u,g)){var F=Ou(u);Xs(u,(F?F+" ":"")+g)}}function vn(u,g){u.classList!==void 0?u.classList.remove(g):Xs(u,b((" "+Ou(u)+" ").replace(" "+g+" "," ")))}function Xs(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function Ou(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function dn(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&Tf(u,g)}function Tf(u,g){var w=!1,C="DXImageTransform.Microsoft.Alpha";try{w=u.filters.item(C)}catch{if(g===1)return}g=Math.round(g*100),w?(w.Enabled=g!==100,w.Opacity=g):u.style.filter+=" progid:"+C+"(opacity="+g+")"}function sc(u){for(var g=document.documentElement.style,w=0;w<u.length;w++)if(u[w]in g)return u[w];return!1}function Ya(u,g,w){var C=g||new ne(0,0);u.style[Or]=(Xe.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(w?" scale("+w+")":"")}function Jt(u,g){u._leaflet_pos=g,Xe.any3d?Ya(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function xo(u){return u._leaflet_pos||new ne(0,0)}var Js,pa,kf;if("onselectstart"in document)Js=function(){ct(window,"selectstart",Mn)},pa=function(){Ut(window,"selectstart",Mn)};else{var Qs=sc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Js=function(){if(Qs){var u=document.documentElement.style;kf=u[Qs],u[Qs]="none"}},pa=function(){Qs&&(document.documentElement.style[Qs]=kf,kf=void 0)}}function ju(){ct(window,"dragstart",Mn)}function lc(){Ut(window,"dragstart",Mn)}var Nu,Of;function el(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(vi(),Nu=u,Of=u.style.outlineStyle,u.style.outlineStyle="none",ct(window,"keydown",vi))}function vi(){Nu&&(Nu.style.outlineStyle=Of,Nu=void 0,Of=void 0,Ut(window,"keydown",vi))}function Cu(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function cc(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var tl={__proto__:null,TRANSFORM:Or,TRANSITION:Ko,TRANSITION_END:ic,get:ac,getStyle:oc,create:xt,remove:Kt,empty:gi,toFront:ar,toBack:Wo,hasClass:Af,addClass:dt,removeClass:vn,setClass:Xs,getClass:Ou,setOpacity:dn,testProp:sc,setTransform:Ya,setPosition:Jt,getPosition:xo,get disableTextSelection(){return Js},get enableTextSelection(){return pa},disableImageDrag:ju,enableImageDrag:lc,preventOutline:el,restoreOutline:vi,getSizedParentNode:Cu,getScale:cc};function ct(u,g,w,C){if(g&&typeof g=="object")for(var P in g)zi(u,P,g[P],w);else{g=x(g);for(var F=0,ie=g.length;F<ie;F++)zi(u,g[F],w,C)}return this}var Bi="_leaflet_events";function Ut(u,g,w,C){if(arguments.length===1)jf(u),delete u[Bi];else if(g&&typeof g=="object")for(var P in g)uc(u,P,g[P],w);else if(g=x(g),arguments.length===2)jf(u,function(pe){return M(g,pe)!==-1});else for(var F=0,ie=g.length;F<ie;F++)uc(u,g[F],w,C);return this}function jf(u,g){for(var w in u[Bi]){var C=w.split(/\d/)[0];(!g||g(C))&&uc(u,C,null,null,w)}}var Vo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zi(u,g,w,C){var P=g+d(w)+(C?"_"+d(C):"");if(u[Bi]&&u[Bi][P])return this;var F=function(pe){return w.call(C||u,pe||window.event)},ie=F;!Xe.touchNative&&Xe.pointer&&g.indexOf("touch")===0?F=Ye(u,g,F):Xe.touch&&g==="dblclick"?F=rc(u,F):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(Vo[g]||g,F,Xe.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(F=function(pe){pe=pe||window.event,Ka(u,pe)&&ie(pe)},u.addEventListener(Vo[g],F,!1)):u.addEventListener(g,ie,!1):u.attachEvent("on"+g,F),u[Bi]=u[Bi]||{},u[Bi][P]=F}function uc(u,g,w,C,P){P=P||g+d(w)+(C?"_"+d(C):"");var F=u[Bi]&&u[Bi][P];if(!F)return this;!Xe.touchNative&&Xe.pointer&&g.indexOf("touch")===0?ht(u,g,F):Xe.touch&&g==="dblclick"?ma(u,F):"removeEventListener"in u?u.removeEventListener(Vo[g]||g,F,!1):u.detachEvent("on"+g,F),u[Bi][P]=null}function Ui(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function ga(u){return zi(u,"wheel",Ui),this}function Zo(u){return ct(u,"mousedown touchstart dblclick contextmenu",Ui),u._leaflet_disable_click=!0,this}function Mn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function wo(u){return Mn(u),Ui(u),this}function dc(u){if(u.composedPath)return u.composedPath();for(var g=[],w=u.target;w;)g.push(w),w=w.parentNode;return g}function fc(u,g){if(!g)return new ne(u.clientX,u.clientY);var w=cc(g),C=w.boundingClientRect;return new ne((u.clientX-C.left)/w.x-g.clientLeft,(u.clientY-C.top)/w.y-g.clientTop)}var gp=Xe.linux&&Xe.chrome?window.devicePixelRatio:Xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jr(u){return Xe.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/gp:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Ka(u,g){var w=g.relatedTarget;if(!w)return!0;try{for(;w&&w!==u;)w=w.parentNode}catch{return!1}return w!==u}var Mu={__proto__:null,on:ct,off:Ut,stopPropagation:Ui,disableScrollPropagation:ga,disableClickPropagation:Zo,preventDefault:Mn,stop:wo,getPropagationPath:dc,getMousePosition:fc,getWheelDelta:jr,isExternalTarget:Ka,addListener:ct,removeListener:Ut},nl=ae.extend({run:function(u,g,w,C){this.stop(),this._el=u,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=xo(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,w=this._duration*1e3;g<w?this._runFrame(this._easeOut(g/w),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var w=this._startPos.add(this._offset.multiplyBy(u));g&&w._round(),Jt(this._el,w),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Ot=ae.extend({options:{crs:Ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=T(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(W(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ko&&Xe.any3d&&!Xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ct(this._proxy,ic,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,w){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(W(u),g,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=i({animate:w.animate},w.zoom),w.pan=i({animate:w.animate,duration:w.duration},w.pan));var C=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,w.zoom):this._tryAnimatedPan(u,w.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,w.pan&&w.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(Xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,w){var C=this.getZoomScale(g),P=this.getSize().divideBy(2),F=u instanceof ne?u:this.latLngToContainerPoint(u),ie=F.subtract(P).multiplyBy(1-1/C),pe=this.containerPointToLatLng(P.add(ie));return this.setView(pe,g,{zoom:w})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():ee(u);var w=te(g.paddingTopLeft||g.padding||[0,0]),C=te(g.paddingBottomRight||g.padding||[0,0]),P=this.getBoundsZoom(u,!1,w.add(C));if(P=typeof g.maxZoom=="number"?Math.min(g.maxZoom,P):P,P===1/0)return{center:u.getCenter(),zoom:P};var F=C.subtract(w).divideBy(2),ie=this.project(u.getSouthWest(),P),pe=this.project(u.getNorthEast(),P),Ee=this.unproject(ie.add(pe).divideBy(2).add(F),P);return{center:Ee,zoom:P}},fitBounds:function(u,g){if(u=ee(u),!u.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(u,g);return this.setView(w.center,w.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=te(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,w,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,w){if(w=w||{},w.animate===!1||!Xe.any3d)return this.setView(u,g,w);this._stop();var C=this.project(this.getCenter()),P=this.project(u),F=this.getSize(),ie=this._zoom;u=W(u),g=g===void 0?ie:g;var pe=Math.max(F.x,F.y),Ee=pe*this.getZoomScale(ie,g),De=P.distanceTo(C)||1,Ge=1.42,et=Ge*Ge;function vt(Tn){var Xa=Tn?-1:1,es=Tn?Ee:pe,Gf=Ee*Ee-pe*pe+Xa*et*et*De*De,Oc=2*es*et*De,jc=Gf/Oc,Co=Math.sqrt(jc*jc+1)-jc,Ja=Co<1e-9?-18:Math.log(Co);return Ja}function or(Tn){return(Math.exp(Tn)-Math.exp(-Tn))/2}function Dn(Tn){return(Math.exp(Tn)+Math.exp(-Tn))/2}function ri(Tn){return or(Tn)/Dn(Tn)}var Dt=vt(0);function Pt(Tn){return pe*(Dn(Dt)/Dn(Dt+Ge*Tn))}function wt(Tn){return pe*(Dn(Dt)*ri(Dt+Ge*Tn)-or(Dt))/et}function jo(Tn){return 1-Math.pow(1-Tn,1.5)}var xi=Date.now(),Yu=(vt(1)-Dt)/Ge,No=w.duration?1e3*w.duration:1e3*Yu*.8;function Ff(){var Tn=(Date.now()-xi)/No,Xa=jo(Tn)*Yu;Tn<=1?(this._flyToFrame=H(Ff,this),this._move(this.unproject(C.add(P.subtract(C).multiplyBy(wt(Xa)/De)),ie),this.getScaleZoom(pe/Pt(Xa),ie),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),Ff.call(this),this},flyToBounds:function(u,g){var w=this._getBoundsCenterZoom(u,g);return this.flyTo(w.center,w.zoom,g)},setMaxBounds:function(u){return u=ee(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var w=this.getCenter(),C=this._limitCenter(w,this._zoom,ee(u));return w.equals(C)||this.panTo(C,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var w=te(g.paddingTopLeft||g.padding||[0,0]),C=te(g.paddingBottomRight||g.padding||[0,0]),P=this.project(this.getCenter()),F=this.project(u),ie=this.getPixelBounds(),pe=B([ie.min.add(w),ie.max.subtract(C)]),Ee=pe.getSize();if(!pe.contains(F)){this._enforcingBounds=!0;var De=F.subtract(pe.getCenter()),Ge=pe.extend(F).getSize().subtract(Ee);P.x+=De.x<0?-Ge.x:Ge.x,P.y+=De.y<0?-Ge.y:Ge.y,this.panTo(this.unproject(P),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),C=g.divideBy(2).round(),P=w.divideBy(2).round(),F=C.subtract(P);return!F.x&&!F.y?this:(u.animate&&u.pan?this.panBy(F):(u.pan&&this._rawPanBy(F),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=s(this._handleGeolocationResponse,this),w=s(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,w,u):navigator.geolocation.getCurrentPosition(g,w,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,w=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,w=u.coords.longitude,C=new q(g,w),P=C.toBounds(u.coords.accuracy*2),F=this._locateOptions;if(F.setView){var ie=this.getBoundsZoom(P);this.setView(C,F.maxZoom?Math.min(ie,F.maxZoom):ie)}var pe={latlng:C,bounds:P,timestamp:u.timestamp};for(var Ee in u.coords)typeof u.coords[Ee]=="number"&&(pe[Ee]=u.coords[Ee]);this.fire("locationfound",pe)}},addHandler:function(u,g){if(!g)return this;var w=this[u]=new g(this);return this._handlers.push(w),this.options[u]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Kt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var w="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),C=xt("div",w,g||this._mapPane);return u&&(this._panes[u]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),w=this.unproject(u.getTopRight());return new X(g,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,w){u=ee(u),w=te(w||[0,0]);var C=this.getZoom()||0,P=this.getMinZoom(),F=this.getMaxZoom(),ie=u.getNorthWest(),pe=u.getSouthEast(),Ee=this.getSize().subtract(w),De=B(this.project(pe,C),this.project(ie,C)).getSize(),Ge=Xe.any3d?this.options.zoomSnap:1,et=Ee.x/De.x,vt=Ee.y/De.y,or=g?Math.max(et,vt):Math.min(et,vt);return C=this.getScaleZoom(or,C),Ge&&(C=Math.round(C/(Ge/100))*(Ge/100),C=g?Math.ceil(C/Ge)*Ge:Math.floor(C/Ge)*Ge),Math.max(P,Math.min(F,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var w=this._getTopLeftPoint(u,g);return new Y(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var w=this.options.crs;return g=g===void 0?this._zoom:g,w.scale(u)/w.scale(g)},getScaleZoom:function(u,g){var w=this.options.crs;g=g===void 0?this._zoom:g;var C=w.zoom(u*w.scale(g));return isNaN(C)?1/0:C},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(W(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(te(u),g)},layerPointToLatLng:function(u){var g=te(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(W(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(W(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ee(u))},distance:function(u,g){return this.options.crs.distance(W(u),W(g))},containerPointToLayerPoint:function(u){return te(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return te(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(te(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(u)))},mouseEventToContainerPoint:function(u){return fc(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=ac(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ct(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xe.any3d,dt(u,"leaflet-container"+(Xe.touch?" leaflet-touch":"")+(Xe.retina?" leaflet-retina":"")+(Xe.ielt9?" leaflet-oldie":"")+(Xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=oc(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(u.markerPane,"leaflet-zoom-hide"),dt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,w){Jt(this._mapPane,new ne(0,0));var C=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var P=this._zoom!==g;this._moveStart(P,w)._move(u,g)._moveEnd(P),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,w,C){g===void 0&&(g=this._zoom);var P=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),C?w&&w.pinch&&this.fire("zoom",w):((P||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Jt(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var g=u?Ut:ct;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Xe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var w=[],C,P=g==="mouseout"||g==="mouseover",F=u.target||u.srcElement,ie=!1;F;){if(C=this._targets[d(F)],C&&(g==="click"||g==="preclick")&&this._draggableMoved(C)){ie=!0;break}if(C&&C.listens(g,!0)&&(P&&!Ka(F,u)||(w.push(C),P))||F===this._container)break;F=F.parentNode}return!w.length&&!ie&&!P&&this.listens(g,!0)&&(w=[this]),w},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var w=u.type;w==="mousedown"&&el(g),this._fireDOMEvent(u,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,w){if(u.type==="click"){var C=i({},u);C.type="preclick",this._fireDOMEvent(C,C.type,w)}var P=this._findEventTargets(u,g);if(w){for(var F=[],ie=0;ie<w.length;ie++)w[ie].listens(g,!0)&&F.push(w[ie]);P=F.concat(P)}if(P.length){g==="contextmenu"&&Mn(u);var pe=P[0],Ee={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var De=pe.getLatLng&&(!pe._radius||pe._radius<=10);Ee.containerPoint=De?this.latLngToContainerPoint(pe.getLatLng()):this.mouseEventToContainerPoint(u),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=De?pe.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ie=0;ie<P.length;ie++)if(P[ie].fire(g,Ee,!0),Ee.originalEvent._stopped||P[ie].options.bubblingMouseEvents===!1&&M(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return xo(this._mapPane)||new ne(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var w=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var w=this.getSize()._divideBy(2);return this.project(u,g)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,w){var C=this._getNewPixelOrigin(w,g);return this.project(u,g)._subtract(C)},_latLngBoundsToNewLayerBounds:function(u,g,w){var C=this._getNewPixelOrigin(w,g);return B([this.project(u.getSouthWest(),g)._subtract(C),this.project(u.getNorthWest(),g)._subtract(C),this.project(u.getSouthEast(),g)._subtract(C),this.project(u.getNorthEast(),g)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,w){if(!w)return u;var C=this.project(u,g),P=this.getSize().divideBy(2),F=new Y(C.subtract(P),C.add(P)),ie=this._getBoundsOffset(F,w,g);return Math.abs(ie.x)<=1&&Math.abs(ie.y)<=1?u:this.unproject(C.add(ie),g)},_limitOffset:function(u,g){if(!g)return u;var w=this.getPixelBounds(),C=new Y(w.min.add(u),w.max.add(u));return u.add(this._getBoundsOffset(C,g))},_getBoundsOffset:function(u,g,w){var C=B(this.project(g.getNorthEast(),w),this.project(g.getSouthWest(),w)),P=C.min.subtract(u.min),F=C.max.subtract(u.max),ie=this._rebound(P.x,-F.x),pe=this._rebound(P.y,-F.y);return new ne(ie,pe)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),w=this.getMaxZoom(),C=Xe.any3d?this.options.zoomSnap:1;return C&&(u=Math.round(u/C)*C),Math.max(g,Math.min(w,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var w=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,g),!0)},_createAnimProxy:function(){var u=this._proxy=xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var w=Or,C=this._proxy.style[w];Ya(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),C===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();Ya(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(g),P=this._getCenterOffset(u)._divideBy(1-1/C);return w.animate!==!0&&!this.getSize().contains(P)?!1:(H(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,w,C){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nf(u,g){return new Ot(u,g)}var ni=re.extend({options:{position:"topright"},initialize:function(u){T(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),w=this.getPosition(),C=u._controlCorners[w];return dt(g,"leaflet-control"),w.indexOf("bottom")!==-1?C.insertBefore(g,C.firstChild):C.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Wa=function(u){return new ni(u)};Ot.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",w=this._controlContainer=xt("div",g+"control-container",this._container);function C(P,F){var ie=g+P+" "+g+F;u[P+F]=xt("div",ie,w)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Kt(this._controlCorners[u]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hc=ni.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,w,C){return w<C?-1:C<w?1:0}},initialize:function(u,g,w){T(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in u)this._addLayer(u[C],C);for(C in g)this._addLayer(g[C],C,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ni.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):vn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=xt("div",u),w=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Zo(g),ga(g);var C=this._section=xt("section",u+"-list");w&&(this._map.on("click",this.collapse,this),ct(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=xt("a",u+"-toggle",g);P.href="#",P.title="Layers",P.setAttribute("role","button"),ct(P,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){Mn(F),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=xt("div",u+"-base",C),this._separator=xt("div",u+"-separator",C),this._overlaysList=xt("div",u+"-overlays",C),g.appendChild(C)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,w){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:w}),this.options.sortLayers&&this._layers.sort(s(function(C,P){return this.options.sortFunction(C.layer,P.layer,C.name,P.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gi(this._baseLayersList),gi(this._overlaysList),this._layerControlInputs=[];var u,g,w,C,P=0;for(w=0;w<this._layers.length;w++)C=this._layers[w],this._addItem(C),g=g||C.overlay,u=u||!C.overlay,P+=C.overlay?0:1;return this.options.hideSingleBase&&(u=u&&P>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(d(u.target)),w=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;w&&this._map.fire(w,g)},_createRadioElement:function(u,g){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=w,C.firstChild},_addItem:function(u){var g=document.createElement("label"),w=this._map.hasLayer(u.layer),C;u.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=w):C=this._createRadioElement("leaflet-base-layers_"+d(this),w),this._layerControlInputs.push(C),C.layerId=d(u.layer),ct(C,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+u.name;var F=document.createElement("span");g.appendChild(F),F.appendChild(C),F.appendChild(P);var ie=u.overlay?this._overlaysList:this._baseLayersList;return ie.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,w,C=[],P=[];this._handlingClick=!0;for(var F=u.length-1;F>=0;F--)g=u[F],w=this._getLayer(g.layerId).layer,g.checked?C.push(w):g.checked||P.push(w);for(F=0;F<P.length;F++)this._map.hasLayer(P[F])&&this._map.removeLayer(P[F]);for(F=0;F<C.length;F++)this._map.hasLayer(C[F])||this._map.addLayer(C[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,w,C=this._map.getZoom(),P=u.length-1;P>=0;P--)g=u[P],w=this._getLayer(g.layerId).layer,g.disabled=w.options.minZoom!==void 0&&C<w.options.minZoom||w.options.maxZoom!==void 0&&C>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,ct(u,"click",Mn),this.expand();var g=this;setTimeout(function(){Ut(u,"click",Mn),g._preventClick=!1})}}),vp=function(u,g,w){return new hc(u,g,w)},Cf=ni.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",w=xt("div",g+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,g+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,g+"-out",w,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,w,C,P){var F=xt("a",w,C);return F.innerHTML=u,F.href="#",F.title=g,F.setAttribute("role","button"),F.setAttribute("aria-label",g),Zo(F),ct(F,"click",wo),ct(F,"click",P,this),ct(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";vn(this._zoomInButton,g),vn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(dt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(dt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ot.mergeOptions({zoomControl:!0}),Ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cf,this.addControl(this.zoomControl))});var Hb=function(u){return new Cf(u)},yp=ni.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",w=xt("div",g),C=this.options;return this._addScales(C,g+"-line",w),u.on(C.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),w},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,w){u.metric&&(this._mScale=xt("div",g,w)),u.imperial&&(this._iScale=xt("div",g,w))},_update:function(){var u=this._map,g=u.getSize().y/2,w=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(w)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),w=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,w,g/u)},_updateImperial:function(u){var g=u*3.2808399,w,C,P;g>5280?(w=g/5280,C=this._getRoundNum(w),this._updateScale(this._iScale,C+" mi",C/w)):(P=this._getRoundNum(g),this._updateScale(this._iScale,P+" ft",P/g))},_updateScale:function(u,g,w){u.style.width=Math.round(this.options.maxWidth*w)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),w=u/g;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,g*w}}),Mf=function(u){return new yp(u)},Fb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Df=ni.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Xe.inlineSvg?Fb+" ":"")+"Leaflet</a>"},initialize:function(u){T(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=xt("div","leaflet-control-attribution"),Zo(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var w=[];this.options.prefix&&w.push(this.options.prefix),u.length&&w.push(u.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});Ot.mergeOptions({attributionControl:!0}),Ot.addInitHook(function(){this.options.attributionControl&&new Df().addTo(this)});var Gb=function(u){return new Df(u)};ni.Layers=hc,ni.Zoom=Cf,ni.Scale=yp,ni.Attribution=Df,Wa.layers=vp,Wa.zoom=Hb,Wa.scale=Mf,Wa.attribution=Gb;var va=re.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});va.addTo=function(u,g){return u.addHandler(g,this),this};var qb={Events:J},Pf=Xe.touch?"touchstart mousedown":"mousedown",So=ae.extend({options:{clickTolerance:3},initialize:function(u,g,w,C){T(this,C),this._element=u,this._dragStartTarget=g||u,this._preventOutline=w},enable:function(){this._enabled||(ct(this._dragStartTarget,Pf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(So._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,Pf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Af(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){So._dragging===this&&this.finishDrag();return}if(!(So._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(So._dragging=this,this._preventOutline&&el(this._element),ju(),Js(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,w=Cu(this._element);this._startPoint=new ne(g.clientX,g.clientY),this._startPos=xo(this._element),this._parentScale=cc(w);var C=u.type==="mousedown";ct(document,C?"mousemove":"touchmove",this._onMove,this),ct(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,w=new ne(g.clientX,g.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Mn(u),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Jt(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){vn(document.body,"leaflet-dragging"),this._lastTarget&&(vn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),lc(),pa();var g=this._moved&&this._moving;this._moving=!1,So._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function bp(u,g,w){var C,P=[1,4,2,8],F,ie,pe,Ee,De,Ge,et,vt;for(F=0,Ge=u.length;F<Ge;F++)u[F]._code=Xo(u[F],g);for(pe=0;pe<4;pe++){for(et=P[pe],C=[],F=0,Ge=u.length,ie=Ge-1;F<Ge;ie=F++)Ee=u[F],De=u[ie],Ee._code&et?De._code&et||(vt=Du(De,Ee,et,g,w),vt._code=Xo(vt,g),C.push(vt)):(De._code&et&&(vt=Du(De,Ee,et,g,w),vt._code=Xo(vt,g),C.push(vt)),C.push(Ee));u=C}return u}function _p(u,g){var w,C,P,F,ie,pe,Ee,De,Ge;if(!u||u.length===0)throw new Error("latlngs not passed");yi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var et=W([0,0]),vt=ee(u),or=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());or<1700&&(et=Rf(u));var Dn=u.length,ri=[];for(w=0;w<Dn;w++){var Dt=W(u[w]);ri.push(g.project(W([Dt.lat-et.lat,Dt.lng-et.lng])))}for(pe=Ee=De=0,w=0,C=Dn-1;w<Dn;C=w++)P=ri[w],F=ri[C],ie=P.y*F.x-F.y*P.x,Ee+=(P.x+F.x)*ie,De+=(P.y+F.y)*ie,pe+=ie*3;pe===0?Ge=ri[0]:Ge=[Ee/pe,De/pe];var Pt=g.unproject(te(Ge));return W([Pt.lat+et.lat,Pt.lng+et.lng])}function Rf(u){for(var g=0,w=0,C=0,P=0;P<u.length;P++){var F=W(u[P]);g+=F.lat,w+=F.lng,C++}return W([g/C,w/C])}var Lf={__proto__:null,clipPolygon:bp,polygonCenter:_p,centroid:Rf};function xp(u,g){if(!g||!u.length)return u.slice();var w=g*g;return u=Kb(u,w),u=Sp(u,w),u}function wp(u,g,w){return Math.sqrt(mc(u,g,w,!0))}function Yb(u,g,w){return mc(u,g,w)}function Sp(u,g){var w=u.length,C=typeof Uint8Array<"u"?Uint8Array:Array,P=new C(w);P[0]=P[w-1]=1,If(u,P,g,0,w-1);var F,ie=[];for(F=0;F<w;F++)P[F]&&ie.push(u[F]);return ie}function If(u,g,w,C,P){var F=0,ie,pe,Ee;for(pe=C+1;pe<=P-1;pe++)Ee=mc(u[pe],u[C],u[P],!0),Ee>F&&(ie=pe,F=Ee);F>w&&(g[ie]=1,If(u,g,w,C,ie),If(u,g,w,ie,P))}function Kb(u,g){for(var w=[u[0]],C=1,P=0,F=u.length;C<F;C++)Wb(u[C],u[P])>g&&(w.push(u[C]),P=C);return P<F-1&&w.push(u[F-1]),w}var Ep;function Ap(u,g,w,C,P){var F=C?Ep:Xo(u,w),ie=Xo(g,w),pe,Ee,De;for(Ep=ie;;){if(!(F|ie))return[u,g];if(F&ie)return!1;pe=F||ie,Ee=Du(u,g,pe,w,P),De=Xo(Ee,w),pe===F?(u=Ee,F=De):(g=Ee,ie=De)}}function Du(u,g,w,C,P){var F=g.x-u.x,ie=g.y-u.y,pe=C.min,Ee=C.max,De,Ge;return w&8?(De=u.x+F*(Ee.y-u.y)/ie,Ge=Ee.y):w&4?(De=u.x+F*(pe.y-u.y)/ie,Ge=pe.y):w&2?(De=Ee.x,Ge=u.y+ie*(Ee.x-u.x)/F):w&1&&(De=pe.x,Ge=u.y+ie*(pe.x-u.x)/F),new ne(De,Ge,P)}function Xo(u,g){var w=0;return u.x<g.min.x?w|=1:u.x>g.max.x&&(w|=2),u.y<g.min.y?w|=4:u.y>g.max.y&&(w|=8),w}function Wb(u,g){var w=g.x-u.x,C=g.y-u.y;return w*w+C*C}function mc(u,g,w,C){var P=g.x,F=g.y,ie=w.x-P,pe=w.y-F,Ee=ie*ie+pe*pe,De;return Ee>0&&(De=((u.x-P)*ie+(u.y-F)*pe)/Ee,De>1?(P=w.x,F=w.y):De>0&&(P+=ie*De,F+=pe*De)),ie=u.x-P,pe=u.y-F,C?ie*ie+pe*pe:new ne(P,F)}function yi(u){return!O(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Pu(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(u)}function rl(u,g){var w,C,P,F,ie,pe,Ee,De;if(!u||u.length===0)throw new Error("latlngs not passed");yi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ge=W([0,0]),et=ee(u),vt=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());vt<1700&&(Ge=Rf(u));var or=u.length,Dn=[];for(w=0;w<or;w++){var ri=W(u[w]);Dn.push(g.project(W([ri.lat-Ge.lat,ri.lng-Ge.lng])))}for(w=0,C=0;w<or-1;w++)C+=Dn[w].distanceTo(Dn[w+1])/2;if(C===0)De=Dn[0];else for(w=0,F=0;w<or-1;w++)if(ie=Dn[w],pe=Dn[w+1],P=ie.distanceTo(pe),F+=P,F>C){Ee=(F-C)/P,De=[pe.x-Ee*(pe.x-ie.x),pe.y-Ee*(pe.y-ie.y)];break}var Dt=g.unproject(te(De));return W([Dt.lat+Ge.lat,Dt.lng+Ge.lng])}var Vb={__proto__:null,simplify:xp,pointToSegmentDistance:wp,closestPointOnSegment:Yb,clipSegment:Ap,_getEdgeIntersection:Du,_getBitCode:Xo,_sqClosestPointOnSegment:mc,isFlat:yi,_flat:Pu,polylineCenter:rl},Ru={project:function(u){return new ne(u.lng,u.lat)},unproject:function(u){return new q(u.y,u.x)},bounds:new Y([-180,-90],[180,90])},Lu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,w=this.R,C=u.lat*g,P=this.R_MINOR/w,F=Math.sqrt(1-P*P),ie=F*Math.sin(C),pe=Math.tan(Math.PI/4-C/2)/Math.pow((1-ie)/(1+ie),F/2);return C=-w*Math.log(Math.max(pe,1e-10)),new ne(u.lng*g*w,C)},unproject:function(u){for(var g=180/Math.PI,w=this.R,C=this.R_MINOR/w,P=Math.sqrt(1-C*C),F=Math.exp(-u.y/w),ie=Math.PI/2-2*Math.atan(F),pe=0,Ee=.1,De;pe<15&&Math.abs(Ee)>1e-7;pe++)De=P*Math.sin(ie),De=Math.pow((1-De)/(1+De),P/2),Ee=Math.PI/2-2*Math.atan(F*De)-ie,ie+=Ee;return new q(ie*g,u.x*g/w)}},Tp={__proto__:null,LonLat:Ru,Mercator:Lu,SphericalMercator:de},kp=i({},fe,{code:"EPSG:3395",projection:Lu,transformation:(function(){var u=.5/(Math.PI*Lu.R);return se(u,.5,-u,.5)})()}),$f=i({},fe,{code:"EPSG:4326",projection:Ru,transformation:se(1/180,1,-1/180,.5)}),il=i({},le,{projection:Ru,transformation:se(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var w=g.lng-u.lng,C=g.lat-u.lat;return Math.sqrt(w*w+C*C)},infinite:!0});le.Earth=fe,le.EPSG3395=kp,le.EPSG3857=Ne,le.EPSG900913=be,le.EPSG4326=$f,le.Simple=il;var Hi=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var w=this.getEvents();g.on(w,this),this.once("remove",function(){g.off(w,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Ot.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=d(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,g){for(var w in this._layers)u.call(g,this._layers[w]);return this},_addLayers:function(u){u=u?O(u)?u:[u]:[];for(var g=0,w=u.length;g<w;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=d(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,w=this._getZoomSpan();for(var C in this._zoomBoundLayers){var P=this._zoomBoundLayers[C].options;u=P.minZoom===void 0?u:Math.min(u,P.minZoom),g=P.maxZoom===void 0?g:Math.max(g,P.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var al=Hi.extend({initialize:function(u,g){T(this,g),this._layers={};var w,C;if(u)for(w=0,C=u.length;w<C;w++)this.addLayer(u[w])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),w,C;for(w in this._layers)C=this._layers[w],C[u]&&C[u].apply(C,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var w in this._layers)u.call(g,this._layers[w]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),Zb=function(u,g){return new al(u,g)},ya=al.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),al.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),al.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new X;for(var g in this._layers){var w=this._layers[g];u.extend(w.getBounds?w.getBounds():w.getLatLng())}return u}}),Op=function(u,g){return new ya(u,g)},ba=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){T(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var w=this._getIconUrl(u);if(!w){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(w,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(C,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(u,g){var w=this.options,C=w[g+"Size"];typeof C=="number"&&(C=[C,C]);var P=te(C),F=te(g==="shadow"&&w.shadowAnchor||w.iconAnchor||P&&P.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(w.className||""),F&&(u.style.marginLeft=-F.x+"px",u.style.marginTop=-F.y+"px"),P&&(u.style.width=P.x+"px",u.style.height=P.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return Xe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function pc(u){return new ba(u)}var gc=ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof gc.imagePath!="string"&&(gc.imagePath=this._detectIconPath()),(this.options.imagePath||gc.imagePath)+ba.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(w,C,P){var F=C.exec(w);return F&&F[P]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=xt("div","leaflet-default-icon-path",document.body),g=oc(u,"background-image")||oc(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),vc=va.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new So(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,w=g._map,C=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,F=xo(g._icon),ie=w.getPixelBounds(),pe=w.getPixelOrigin(),Ee=B(ie.min._subtract(pe).add(P),ie.max._subtract(pe).subtract(P));if(!Ee.contains(F)){var De=te((Math.max(Ee.max.x,F.x)-Ee.max.x)/(ie.max.x-Ee.max.x)-(Math.min(Ee.min.x,F.x)-Ee.min.x)/(ie.min.x-Ee.min.x),(Math.max(Ee.max.y,F.y)-Ee.max.y)/(ie.max.y-Ee.max.y)-(Math.min(Ee.min.y,F.y)-Ee.min.y)/(ie.min.y-Ee.min.y)).multiplyBy(C);w.panBy(De,{animate:!1}),this._draggable._newPos._add(De),this._draggable._startPos._add(De),Jt(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=H(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,w=g._shadow,C=xo(g._icon),P=g._map.layerPointToLatLng(C);w&&Jt(w,C),g._latlng=P,u.latlng=P,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),yc=Hi.extend({options:{icon:new gc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){T(this,g),this._latlng=W(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=u.icon.createIcon(this._icon),C=!1;w!==this._icon&&(this._icon&&this._removeIcon(),C=!0,u.title&&(w.title=u.title),w.tagName==="IMG"&&(w.alt=u.alt||"")),dt(w,g),u.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(w,"focus",this._panOnFocus,this);var P=u.icon.createShadow(this._shadow),F=!1;P!==this._shadow&&(this._removeShadow(),F=!0),P&&(dt(P,g),P.alt=""),this._shadow=P,u.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&F&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Jt(this._icon,u),this._shadow&&Jt(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vc)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vc(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&dn(this._icon,u),this._shadow&&dn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,w=g.iconSize?te(g.iconSize):te(0,0),C=g.iconAnchor?te(g.iconAnchor):te(0,0);u.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:w.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jp(u,g){return new yc(u,g)}var _a=Hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return T(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ol=_a.extend({options:{fill:!0,radius:10},initialize:function(u,g){T(this,g),this._latlng=W(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=W(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return _a.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,w=this._clickTolerance(),C=[u+w,g+w];this._pxBounds=new Y(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Np(u,g){return new ol(u,g)}var Iu=ol.extend({initialize:function(u,g,w){if(typeof g=="number"&&(g=i({},w,{radius:g})),T(this,g),this._latlng=W(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:_a.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,w=this._map,C=w.options.crs;if(C.distance===fe.distance){var P=Math.PI/180,F=this._mRadius/fe.R/P,ie=w.project([g+F,u]),pe=w.project([g-F,u]),Ee=ie.add(pe).divideBy(2),De=w.unproject(Ee).lat,Ge=Math.acos((Math.cos(F*P)-Math.sin(g*P)*Math.sin(De*P))/(Math.cos(g*P)*Math.cos(De*P)))/P;(isNaN(Ge)||Ge===0)&&(Ge=F/Math.cos(Math.PI/180*g)),this._point=Ee.subtract(w.getPixelOrigin()),this._radius=isNaN(Ge)?0:Ee.x-w.project([De,u-Ge]).x,this._radiusY=Ee.y-ie.y}else{var et=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(et).x}this._updateBounds()}});function Cp(u,g,w){return new Iu(u,g,w)}var Va=_a.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){T(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,w=null,C=mc,P,F,ie=0,pe=this._parts.length;ie<pe;ie++)for(var Ee=this._parts[ie],De=1,Ge=Ee.length;De<Ge;De++){P=Ee[De-1],F=Ee[De];var et=C(u,P,F,!0);et<g&&(g=et,w=C(u,P,F))}return w&&(w.distance=Math.sqrt(g)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=W(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new X,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],w=yi(u),C=0,P=u.length;C<P;C++)w?(g[C]=W(u[C]),this._bounds.extend(g[C])):g[C]=this._convertLatLngs(u[C]);return g},_project:function(){var u=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new ne(u,u);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,w){var C=u[0]instanceof q,P=u.length,F,ie;if(C){for(ie=[],F=0;F<P;F++)ie[F]=this._map.latLngToLayerPoint(u[F]),w.extend(ie[F]);g.push(ie)}else for(F=0;F<P;F++)this._projectLatlngs(u[F],g,w)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,w,C,P,F,ie,pe,Ee;for(w=0,P=0,F=this._rings.length;w<F;w++)for(Ee=this._rings[w],C=0,ie=Ee.length;C<ie-1;C++)pe=Ap(Ee[C],Ee[C+1],u,C,!0),pe&&(g[P]=g[P]||[],g[P].push(pe[0]),(pe[1]!==Ee[C+1]||C===ie-2)&&(g[P].push(pe[1]),P++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,w=0,C=u.length;w<C;w++)u[w]=xp(u[w],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var w,C,P,F,ie,pe,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(w=0,F=this._parts.length;w<F;w++)for(pe=this._parts[w],C=0,ie=pe.length,P=ie-1;C<ie;P=C++)if(!(!g&&C===0)&&wp(u,pe[P],pe[C])<=Ee)return!0;return!1}});function Xb(u,g){return new Va(u,g)}Va._flat=Pu;var sl=Va.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _p(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Va.prototype._convertLatLngs.call(this,u),w=g.length;return w>=2&&g[0]instanceof q&&g[0].equals(g[w-1])&&g.pop(),g},_setLatLngs:function(u){Va.prototype._setLatLngs.call(this,u),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,w=new ne(g,g);if(u=new Y(u.min.subtract(w),u.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,P=this._rings.length,F;C<P;C++)F=bp(this._rings[C],u,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,w,C,P,F,ie,pe,Ee,De;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(F=0,Ee=this._parts.length;F<Ee;F++)for(w=this._parts[F],ie=0,De=w.length,pe=De-1;ie<De;pe=ie++)C=w[ie],P=w[pe],C.y>u.y!=P.y>u.y&&u.x<(P.x-C.x)*(u.y-C.y)/(P.y-C.y)+C.x&&(g=!g);return g||Va.prototype._containsPoint.call(this,u,!0)}});function Jb(u,g){return new sl(u,g)}var Za=ya.extend({initialize:function(u,g){T(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=O(u)?u:u.features,w,C,P;if(g){for(w=0,C=g.length;w<C;w++)P=g[w],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var F=this.options;if(F.filter&&!F.filter(u))return this;var ie=pr(u,F);return ie?(ie.feature=zu(u),ie.defaultOptions=ie.options,this.resetStyle(ie),F.onEachFeature&&F.onEachFeature(u,ie),this.addLayer(ie)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function pr(u,g){var w=u.type==="Feature"?u.geometry:u,C=w?w.coordinates:null,P=[],F=g&&g.pointToLayer,ie=g&&g.coordsToLatLng||$u,pe,Ee,De,Ge;if(!C&&!w)return null;switch(w.type){case"Point":return pe=ie(C),ll(F,u,pe,g);case"MultiPoint":for(De=0,Ge=C.length;De<Ge;De++)pe=ie(C[De]),P.push(ll(F,u,pe,g));return new ya(P);case"LineString":case"MultiLineString":return Ee=bc(C,w.type==="LineString"?0:1,ie),new Va(Ee,g);case"Polygon":case"MultiPolygon":return Ee=bc(C,w.type==="Polygon"?1:2,ie),new sl(Ee,g);case"GeometryCollection":for(De=0,Ge=w.geometries.length;De<Ge;De++){var et=pr({geometry:w.geometries[De],type:"Feature",properties:u.properties},g);et&&P.push(et)}return new ya(P);case"FeatureCollection":for(De=0,Ge=w.features.length;De<Ge;De++){var vt=pr(w.features[De],g);vt&&P.push(vt)}return new ya(P);default:throw new Error("Invalid GeoJSON object.")}}function ll(u,g,w,C){return u?u(g,w):new yc(w,C&&C.markersInheritOptions&&C)}function $u(u){return new q(u[1],u[0],u[2])}function bc(u,g,w){for(var C=[],P=0,F=u.length,ie;P<F;P++)ie=g?bc(u[P],g-1,w):(w||$u)(u[P]),C.push(ie);return C}function Bu(u,g){return u=W(u),u.alt!==void 0?[y(u.lng,g),y(u.lat,g),y(u.alt,g)]:[y(u.lng,g),y(u.lat,g)]}function _c(u,g,w,C){for(var P=[],F=0,ie=u.length;F<ie;F++)P.push(g?_c(u[F],yi(u[F])?0:g-1,w,C):Bu(u[F],C));return!g&&w&&P.length>0&&P.push(P[0].slice()),P}function Eo(u,g){return u.feature?i({},u.feature,{geometry:g}):zu(g)}function zu(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Ao={toGeoJSON:function(u){return Eo(this,{type:"Point",coordinates:Bu(this.getLatLng(),u)})}};yc.include(Ao),Iu.include(Ao),ol.include(Ao),Va.include({toGeoJSON:function(u){var g=!yi(this._latlngs),w=_c(this._latlngs,g?1:0,!1,u);return Eo(this,{type:(g?"Multi":"")+"LineString",coordinates:w})}}),sl.include({toGeoJSON:function(u){var g=!yi(this._latlngs),w=g&&!yi(this._latlngs[0]),C=_c(this._latlngs,w?2:g?1:0,!0,u);return g||(C=[C]),Eo(this,{type:(w?"Multi":"")+"Polygon",coordinates:C})}}),al.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(w){g.push(w.toGeoJSON(u).geometry.coordinates)}),Eo(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var w=g==="GeometryCollection",C=[];return this.eachLayer(function(P){if(P.toGeoJSON){var F=P.toGeoJSON(u);if(w)C.push(F.geometry);else{var ie=zu(F);ie.type==="FeatureCollection"?C.push.apply(C,ie.features):C.push(ie)}}}),w?Eo(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Uu(u,g){return new Za(u,g)}var xc=Uu,cl=Hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,w){this._url=u,this._bounds=ee(g),T(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&ar(this._image),this},bringToBack:function(){return this._map&&Wo(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ee(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:xt("img");if(dt(g,"leaflet-image-layer"),this._zoomAnimated&&dt(g,"leaflet-zoom-animated"),this.options.className&&dt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=s(this.fire,this,"load"),g.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Ya(this._image,w,g)},_reset:function(){var u=this._image,g=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=g.getSize();Jt(u,g.min),u.style.width=w.x+"px",u.style.height=w.y+"px"},_updateOpacity:function(){dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Mp=function(u,g,w){return new cl(u,g,w)},To=cl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:xt("video");if(dt(g,"leaflet-image-layer"),this._zoomAnimated&&dt(g,"leaflet-zoom-animated"),this.options.className&&dt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=s(this.fire,this,"load"),u){for(var w=g.getElementsByTagName("source"),C=[],P=0;P<w.length;P++)C.push(w[P].src);this._url=w.length>0?C:[g.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var ie=xt("source");ie.src=this._url[F],g.appendChild(ie)}}});function ul(u,g,w){return new To(u,g,w)}var Hu=cl.extend({_initImage:function(){var u=this._image=this._url;dt(u,"leaflet-image-layer"),this._zoomAnimated&&dt(u,"leaflet-zoom-animated"),this.options.className&&dt(u,this.options.className),u.onselectstart=p,u.onmousemove=p}});function Dp(u,g,w){return new Hu(u,g,w)}var gr=Hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof q||O(u))?(this._latlng=W(u),T(this,g)):(T(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&dn(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(dn(this._container,0),this._removeTimeout=setTimeout(s(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(vn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=W(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ar(this._container),this},bringToBack:function(){return this._map&&Wo(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof ya){g=null;var w=this._source._layers;for(var C in w)if(w[C]._map){g=w[C];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=te(this.options.offset),w=this._getAnchor();this._zoomAnimated?Jt(this._container,u.add(w)):g=g.add(u).add(w);var C=this._containerBottom=-g.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=C+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});Ot.include({_initOverlay:function(u,g,w,C){var P=g;return P instanceof u||(P=new u(C).setContent(g)),w&&P.setLatLng(w),P}}),Hi.include({_initOverlay:function(u,g,w,C){var P=w;return P instanceof u?(T(P,C),P._source=this):(P=g&&!C?g:new u(C,this),P.setContent(w)),P}});var wc=gr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,gr.prototype.openOn.call(this,u)},onAdd:function(u){gr.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _a||this._source.on("preclick",Ui))},onRemove:function(u){gr.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _a||this._source.off("preclick",Ui))},getEvents:function(){var u=gr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=xt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=xt("div",u+"-content-wrapper",g);if(this._contentNode=xt("div",u+"-content",w),Zo(g),ga(this._contentNode),ct(g,"contextmenu",Ui),this._tipContainer=xt("div",u+"-tip-container",g),this._tip=xt("div",u+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=xt("a",u+"-close-button",g);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',ct(C,"click",function(P){Mn(P),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var w=u.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),g.width=w+1+"px",g.whiteSpace="",g.height="";var C=u.offsetHeight,P=this.options.maxHeight,F="leaflet-popup-scrolled";P&&C>P?(g.height=P+"px",dt(u,F)):vn(u,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),w=this._getAnchor();Jt(this._container,g.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(oc(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+g,C=this._containerWidth,P=new ne(this._containerLeft,-w-this._containerBottom);P._add(xo(this._container));var F=u.layerPointToContainerPoint(P),ie=te(this.options.autoPanPadding),pe=te(this.options.autoPanPaddingTopLeft||ie),Ee=te(this.options.autoPanPaddingBottomRight||ie),De=u.getSize(),Ge=0,et=0;F.x+C+Ee.x>De.x&&(Ge=F.x+C-De.x+Ee.x),F.x-Ge-pe.x<0&&(Ge=F.x-pe.x),F.y+w+Ee.y>De.y&&(et=F.y+w-De.y+Ee.y),F.y-et-pe.y<0&&(et=F.y-pe.y),(Ge||et)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Ge,et]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pp=function(u,g){return new wc(u,g)};Ot.mergeOptions({closePopupOnClick:!0}),Ot.include({openPopup:function(u,g,w){return this._initOverlay(wc,u,g,w).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Hi.include({bindPopup:function(u,g){return this._popup=this._initOverlay(wc,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ya||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){wo(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof _a)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Sc=gr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){gr.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){gr.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=gr.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,w,C=this._map,P=this._container,F=C.latLngToContainerPoint(C.getCenter()),ie=C.layerPointToContainerPoint(u),pe=this.options.direction,Ee=P.offsetWidth,De=P.offsetHeight,Ge=te(this.options.offset),et=this._getAnchor();pe==="top"?(g=Ee/2,w=De):pe==="bottom"?(g=Ee/2,w=0):pe==="center"?(g=Ee/2,w=De/2):pe==="right"?(g=0,w=De/2):pe==="left"?(g=Ee,w=De/2):ie.x<F.x?(pe="right",g=0,w=De/2):(pe="left",g=Ee+(Ge.x+et.x)*2,w=De/2),u=u.subtract(te(g,w,!0)).add(Ge).add(et),vn(P,"leaflet-tooltip-right"),vn(P,"leaflet-tooltip-left"),vn(P,"leaflet-tooltip-top"),vn(P,"leaflet-tooltip-bottom"),dt(P,"leaflet-tooltip-"+pe),Jt(P,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&dn(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qb=function(u,g){return new Sc(u,g)};Ot.include({openTooltip:function(u,g,w){return this._initOverlay(Sc,u,g,w).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Hi.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sc,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[g](w),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ya||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(ct(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),ct(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,w,C;this._tooltip.options.sticky&&u.originalEvent&&(w=this._map.mouseEventToContainerPoint(u.originalEvent),C=this._map.containerPointToLayerPoint(w),g=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(g)}});var Rp=ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),w=this.options;if(w.html instanceof Element?(gi(g),g.appendChild(w.html)):g.innerHTML=w.html!==!1?w.html:"",w.bgPos){var C=te(w.bgPos);g.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function e_(u){return new Rp(u)}ba.Default=gc;var dl=Hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){T(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Kt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ar(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ne?u:new ne(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,w=-u(-1/0,1/0),C=0,P=g.length,F;C<P;C++)F=g[C].style.zIndex,g[C]!==this._container&&F&&(w=u(w,+F));isFinite(w)&&(this.options.zIndex=w+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Xe.ielt9){dn(this._container,this.options.opacity);var u=+new Date,g=!1,w=!1;for(var C in this._tiles){var P=this._tiles[C];if(!(!P.current||!P.loaded)){var F=Math.min(1,(u-P.loaded)/200);dn(P.el,F),F<1?g=!0:(P.active?w=!0:this._onOpaqueTile(P),P.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),g&&(U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===u?(this._levels[w].el.style.zIndex=g-Math.abs(u-w),this._onUpdateLevel(w)):(Kt(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var C=this._levels[u],P=this._map;return C||(C=this._levels[u]={},C.el=xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=g,C.origin=P.project(P.unproject(P.getPixelOrigin()),u).round(),C.zoom=u,this._setZoomTransform(C,P.getCenter(),P.getZoom()),p(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var u,g,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var C=g.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Kt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,w,C){var P=Math.floor(u/2),F=Math.floor(g/2),ie=w-1,pe=new ne(+P,+F);pe.z=+ie;var Ee=this._tileCoordsToKey(pe),De=this._tiles[Ee];return De&&De.active?(De.retain=!0,!0):(De&&De.loaded&&(De.retain=!0),ie>C?this._retainParent(P,F,ie,C):!1)},_retainChildren:function(u,g,w,C){for(var P=2*u;P<2*u+2;P++)for(var F=2*g;F<2*g+2;F++){var ie=new ne(P,F);ie.z=w+1;var pe=this._tileCoordsToKey(ie),Ee=this._tiles[pe];if(Ee&&Ee.active){Ee.retain=!0;continue}else Ee&&Ee.loaded&&(Ee.retain=!0);w+1<C&&this._retainChildren(P,F,w+1,C)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,w,C){var P=Math.round(g);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var F=this.options.updateWhenZooming&&P!==this._tileZoom;(!C||F)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(u),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var w in this._levels)this._setZoomTransform(this._levels[w],u,g)},_setZoomTransform:function(u,g,w){var C=this._map.getZoomScale(w,u.zoom),P=u.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(g,w)).round();Xe.any3d?Ya(u.el,P,C):Jt(u.el,P)},_resetGrid:function(){var u=this._map,g=u.options.crs,w=this._tileSize=this.getTileSize(),C=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],C).x/w.x),Math.ceil(u.project([0,g.wrapLng[1]],C).x/w.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],C).y/w.x),Math.ceil(u.project([g.wrapLat[1],0],C).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,w=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),C=g.getZoomScale(w,this._tileZoom),P=g.project(u,this._tileZoom).floor(),F=g.getSize().divideBy(C*2);return new Y(P.subtract(F),P.add(F))},_update:function(u){var g=this._map;if(g){var w=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(u),P=this._pxBoundsToTileRange(C),F=P.getCenter(),ie=[],pe=this.options.keepBuffer,Ee=new Y(P.getBottomLeft().subtract([pe,-pe]),P.getTopRight().add([pe,-pe]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var De in this._tiles){var Ge=this._tiles[De].coords;(Ge.z!==this._tileZoom||!Ee.contains(new ne(Ge.x,Ge.y)))&&(this._tiles[De].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(u,w);return}for(var et=P.min.y;et<=P.max.y;et++)for(var vt=P.min.x;vt<=P.max.x;vt++){var or=new ne(vt,et);if(or.z=this._tileZoom,!!this._isValidTile(or)){var Dn=this._tiles[this._tileCoordsToKey(or)];Dn?Dn.current=!0:ie.push(or)}}if(ie.sort(function(Dt,Pt){return Dt.distanceTo(F)-Pt.distanceTo(F)}),ie.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ri=document.createDocumentFragment();for(vt=0;vt<ie.length;vt++)this._addTile(ie[vt],ri);this._level.el.appendChild(ri)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var w=this._globalTileRange;if(!g.wrapLng&&(u.x<w.min.x||u.x>w.max.x)||!g.wrapLat&&(u.y<w.min.y||u.y>w.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(u);return ee(this.options.bounds).overlaps(C)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,w=this.getTileSize(),C=u.scaleBy(w),P=C.add(w),F=g.unproject(C,u.z),ie=g.unproject(P,u.z);return[F,ie]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),w=new X(g[0],g[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),w=new ne(+g[0],+g[1]);return w.z=+g[2],w},_removeTile:function(u){var g=this._tiles[u];g&&(Kt(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){dt(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=p,u.onmousemove=p,Xe.ielt9&&this.options.opacity<1&&dn(u,this.options.opacity)},_addTile:function(u,g){var w=this._getTilePos(u),C=this._tileCoordsToKey(u),P=this.createTile(this._wrapCoords(u),s(this._tileReady,this,u));this._initTile(P),this.createTile.length<2&&H(s(this._tileReady,this,u,null,P)),Jt(P,w),this._tiles[C]={el:P,coords:u,current:!0},g.appendChild(P),this.fire("tileloadstart",{tile:P,coords:u})},_tileReady:function(u,g,w){g&&this.fire("tileerror",{error:g,tile:w,coords:u});var C=this._tileCoordsToKey(u);w=this._tiles[C],w&&(w.loaded=+new Date,this._map._fadeAnimated?(dn(w.el,0),U(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),g||(dt(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Xe.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new ne(this._wrapX?m(u.x,this._wrapX):u.x,this._wrapY?m(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new Y(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Lp(u){return new dl(u)}var ko=dl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=T(this,g),g.detectRetina&&Xe.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var w=document.createElement("img");return ct(w,"load",s(this._tileOnLoad,this,g,w)),ct(w,"error",s(this._tileOnError,this,g,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(u),w},getTileUrl:function(u){var g={r:Xe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=w),g["-y"]=w}return D(this._url,i(g,this.options))},_tileOnLoad:function(u,g){Xe.ielt9?setTimeout(s(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,w){var C=this.options.errorTileUrl;C&&g.getAttribute("src")!==C&&(g.src=C),u(w,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,w=this.options.zoomReverse,C=this.options.zoomOffset;return w&&(u=g-u),u+C},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=p,g.onerror=p,!g.complete)){g.src=N;var w=this._tiles[u].coords;Kt(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:w})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",N),dl.prototype._removeTile.call(this,u)},_tileReady:function(u,g,w){if(!(!this._map||w&&w.getAttribute("src")===N))return dl.prototype._tileReady.call(this,u,g,w)}});function bi(u,g){return new ko(u,g)}var Ec=ko.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var w=i({},this.defaultWmsParams);for(var C in g)C in this.options||(w[C]=g[C]);g=T(this,g);var P=g.detectRetina&&Xe.retina?2:1,F=this.getTileSize();w.width=F.x*P,w.height=F.y*P,this.wmsParams=w},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ko.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),w=this._crs,C=B(w.project(g[0]),w.project(g[1])),P=C.min,F=C.max,ie=(this._wmsVersion>=1.3&&this._crs===$f?[P.y,P.x,F.y,F.x]:[P.x,P.y,F.x,F.y]).join(","),pe=ko.prototype.getTileUrl.call(this,u);return pe+E(this.wmsParams,pe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ie},setParams:function(u,g){return i(this.wmsParams,u),g||this.redraw(),this}});function _i(u,g){return new Ec(u,g)}ko.WMS=Ec,bi.wms=_i;var Gr=Hi.extend({options:{padding:.1},initialize:function(u){T(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var w=this._map.getZoomScale(g,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,g),F=C.multiplyBy(-w).add(P).subtract(this._map._getNewPixelOrigin(u,g));Xe.any3d?Ya(this._container,F,w):Jt(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),w=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new Y(w,w.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fu=Gr.extend({options:{tolerance:0},getEvents:function(){var u=Gr.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");ct(u,"mousemove",this._onMouseMove,this),ct(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ct(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Kt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gr.prototype._update.call(this);var u=this._bounds,g=this._container,w=u.getSize(),C=Xe.retina?2:1;Jt(g,u.min),g.width=C*w.x,g.height=C*w.y,g.style.width=w.x+"px",g.style.height=w.y+"px",Xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){Gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,w=g.next,C=g.prev;w?w.prev=C:this._drawLast=C,C?C.next=w:this._drawFirst=w,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),w=[],C,P;for(P=0;P<g.length;P++){if(C=Number(g[P]),isNaN(C))return;w.push(C)}u.options._dashArray=w}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var w=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)u=C.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var w,C,P,F,ie=u._parts,pe=ie.length,Ee=this._ctx;if(pe){for(Ee.beginPath(),w=0;w<pe;w++){for(C=0,P=ie[w].length;C<P;C++)F=ie[w][C],Ee[C?"lineTo":"moveTo"](F.x,F.y);g&&Ee.closePath()}this._fillStroke(Ee,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,w=this._ctx,C=Math.max(Math.round(u._radius),1),P=(Math.max(Math.round(u._radiusY),1)||C)/C;P!==1&&(w.save(),w.scale(1,P)),w.beginPath(),w.arc(g.x,g.y/P,C,0,Math.PI*2,!1),P!==1&&w.restore(),this._fillStroke(w,u)}},_fillStroke:function(u,g){var w=g.options;w.fill&&(u.globalAlpha=w.fillOpacity,u.fillStyle=w.fillColor||w.color,u.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=w.opacity,u.lineWidth=w.weight,u.strokeStyle=w.color,u.lineCap=w.lineCap,u.lineJoin=w.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),w,C,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(w))&&(C=w);this._fireEvent(C?[C]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(vn(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var w,C,P=this._drawFirst;P;P=P.next)w=P.layer,w.options.interactive&&w._containsPoint(g)&&(C=w);C!==this._hoveredLayer&&(this._handleMouseOut(u),C&&(dt(this._container,"leaflet-interactive"),this._fireEvent([C],u,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,w){this._map._fireDOMEvent(g,w||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var w=g.next,C=g.prev;if(w)w.prev=C;else return;C?C.next=w:w&&(this._drawFirst=w),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var w=g.next,C=g.prev;if(C)C.next=w;else return;w?w.prev=C:C&&(this._drawLast=C),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Ac(u){return Xe.canvas?new Fu(u):null}var Oo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Bf={_initContainer:function(){this._container=xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gr.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=Oo("shape");dt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=Oo("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;Kt(g),u.removeInteractiveTarget(g),delete this._layers[d(u)]},_updateStyle:function(u){var g=u._stroke,w=u._fill,C=u.options,P=u._container;P.stroked=!!C.stroke,P.filled=!!C.fill,C.stroke?(g||(g=u._stroke=Oo("stroke")),P.appendChild(g),g.weight=C.weight+"px",g.color=C.color,g.opacity=C.opacity,C.dashArray?g.dashStyle=O(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=C.lineCap.replace("butt","flat"),g.joinstyle=C.lineJoin):g&&(P.removeChild(g),u._stroke=null),C.fill?(w||(w=u._fill=Oo("fill")),P.appendChild(w),w.color=C.fillColor||C.color,w.opacity=C.fillOpacity):w&&(P.removeChild(w),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),w=Math.round(u._radius),C=Math.round(u._radiusY||w);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+w+","+C+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){ar(u._container)},_bringToBack:function(u){Wo(u._container)}},xa=Xe.vml?Oo:Le,fl=Gr.extend({_initContainer:function(){this._container=xa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gr.prototype._update.call(this);var u=this._bounds,g=u.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,w.setAttribute("width",g.x),w.setAttribute("height",g.y)),Jt(w,u.min),w.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=xa("path");u.options.className&&dt(g,u.options.className),u.options.interactive&&dt(g,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Kt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,w=u.options;g&&(w.stroke?(g.setAttribute("stroke",w.color),g.setAttribute("stroke-opacity",w.opacity),g.setAttribute("stroke-width",w.weight),g.setAttribute("stroke-linecap",w.lineCap),g.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?g.setAttribute("stroke-dasharray",w.dashArray):g.removeAttribute("stroke-dasharray"),w.dashOffset?g.setAttribute("stroke-dashoffset",w.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),w.fill?(g.setAttribute("fill",w.fillColor||w.color),g.setAttribute("fill-opacity",w.fillOpacity),g.setAttribute("fill-rule",w.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,Me(u._parts,g))},_updateCircle:function(u){var g=u._point,w=Math.max(Math.round(u._radius),1),C=Math.max(Math.round(u._radiusY),1)||w,P="a"+w+","+C+" 0 1,0 ",F=u._empty()?"M0 0":"M"+(g.x-w)+","+g.y+P+w*2+",0 "+P+-w*2+",0 ";this._setPath(u,F)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){ar(u._path)},_bringToBack:function(u){Wo(u._path)}});Xe.vml&&fl.include(Bf);function Tc(u){return Xe.svg||Xe.vml?new fl(u):null}Ot.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Ac(u)||Tc(u)}});var Jo=sl.extend({initialize:function(u,g){sl.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=ee(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function t_(u,g){return new Jo(u,g)}fl.create=xa,fl.pointsToPath=Me,Za.geometryToLayer=pr,Za.coordsToLatLng=$u,Za.coordsToLatLngs=bc,Za.latLngToCoords=Bu,Za.latLngsToCoords=_c,Za.getFeature=Eo,Za.asFeature=zu,Ot.mergeOptions({boxZoom:!0});var qr=va.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Js(),ju(),this._startPoint=this._map.mouseEventToContainerPoint(u),ct(document,{contextmenu:wo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=xt("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new Y(this._point,this._startPoint),w=g.getSize();Jt(this._box,g.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Kt(this._box),vn(this._container,"leaflet-crosshair")),pa(),lc(),Ut(document,{contextmenu:wo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var g=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ot.addInitHook("addHandler","boxZoom",qr),Ot.mergeOptions({doubleClickZoom:!0});var Gu=va.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,w=g.getZoom(),C=g.options.zoomDelta,P=u.originalEvent.shiftKey?w-C:w+C;g.options.doubleClickZoom==="center"?g.setZoom(P):g.setZoomAround(u.containerPoint,P)}});Ot.addInitHook("addHandler","doubleClickZoom",Gu),Ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wa=va.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new So(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vn(this._map._container,"leaflet-grab"),vn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ee(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),w=this._initialWorldOffset,C=this._draggable._newPos.x,P=(C-g+w)%u+g-w,F=(C+g+w)%u-g-w,ie=Math.abs(P+w)<Math.abs(F+w)?P:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ie},_onDragEnd:function(u){var g=this._map,w=g.options,C=!w.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),C)g.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,ie=w.easeLinearity,pe=P.multiplyBy(ie/F),Ee=pe.distanceTo([0,0]),De=Math.min(w.inertiaMaxSpeed,Ee),Ge=pe.multiplyBy(De/Ee),et=De/(w.inertiaDeceleration*ie),vt=Ge.multiplyBy(-et/2).round();!vt.x&&!vt.y?g.fire("moveend"):(vt=g._limitOffset(vt,g.options.maxBounds),H(function(){g.panBy(vt,{duration:et,easeLinearity:ie,noMoveStart:!0,animate:!0})}))}}});Ot.addInitHook("addHandler","dragging",wa),Ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zf=va.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),ct(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,w=u.scrollTop||g.scrollTop,C=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(C,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},w=this.keyCodes,C,P;for(C=0,P=w.left.length;C<P;C++)g[w.left[C]]=[-1*u,0];for(C=0,P=w.right.length;C<P;C++)g[w.right[C]]=[u,0];for(C=0,P=w.down.length;C<P;C++)g[w.down[C]]=[0,u];for(C=0,P=w.up.length;C<P;C++)g[w.up[C]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},w=this.keyCodes,C,P;for(C=0,P=w.zoomIn.length;C<P;C++)g[w.zoomIn[C]]=u;for(C=0,P=w.zoomOut.length;C<P;C++)g[w.zoomOut[C]]=-u},_addHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,w=this._map,C;if(g in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(C=this._panKeys[g],u.shiftKey&&(C=te(C).multiplyBy(3)),w.options.maxBounds&&(C=w._limitOffset(te(C),w.options.maxBounds)),w.options.worldCopyJump){var P=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(C)));w.panTo(P)}else w.panBy(C)}else if(g in this._zoomKeys)w.setZoom(w.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;wo(u)}}});Ot.addInitHook("addHandler","keyboard",zf),Ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var kc=va.extend({addHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=jr(u),w=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var C=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),C),wo(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),w=this._map.options.zoomSnap||0;u._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,F=w?Math.ceil(P/w)*w:P,ie=u._limitZoom(g+(this._delta>0?F:-F))-g;this._delta=0,this._startTime=null,ie&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+ie):u.setZoomAround(this._lastMousePos,g+ie))}});Ot.addInitHook("addHandler","scrollWheelZoom",kc);var Qo=600;Ot.mergeOptions({tapHold:Xe.touchNative&&Xe.safari&&Xe.mobile,tapTolerance:15});var qu=va.extend({addHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new ne(g.clientX,g.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(ct(document,"touchend",Mn),ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),Qo),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Ut(document,"touchend",Mn),Ut(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new ne(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var w=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});w._simulated=!0,g.target.dispatchEvent(w)}});Ot.addInitHook("addHandler","tapHold",qu),Ot.mergeOptions({touchZoom:Xe.touch,bounceAtZoomLimits:!0});var Uf=va.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vn(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var w=g.mouseEventToContainerPoint(u.touches[0]),C=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(w.add(C)._divideBy(2))),this._startDist=w.distanceTo(C),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),Mn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,w=g.mouseEventToContainerPoint(u.touches[0]),C=g.mouseEventToContainerPoint(u.touches[1]),P=w.distanceTo(C)/this._startDist;if(this._zoom=g.getScaleZoom(P,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&P<1||this._zoom>g.getMaxZoom()&&P>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var F=w._add(C)._divideBy(2)._subtract(this._centerPoint);if(P===1&&F.x===0&&F.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var ie=s(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(ie,this,!0),Mn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ot.addInitHook("addHandler","touchZoom",Uf),Ot.BoxZoom=qr,Ot.DoubleClickZoom=Gu,Ot.Drag=wa,Ot.Keyboard=zf,Ot.ScrollWheelZoom=kc,Ot.TapHold=qu,Ot.TouchZoom=Uf,n.Bounds=Y,n.Browser=Xe,n.CRS=le,n.Canvas=Fu,n.Circle=Iu,n.CircleMarker=ol,n.Class=re,n.Control=ni,n.DivIcon=Rp,n.DivOverlay=gr,n.DomEvent=Mu,n.DomUtil=tl,n.Draggable=So,n.Evented=ae,n.FeatureGroup=ya,n.GeoJSON=Za,n.GridLayer=dl,n.Handler=va,n.Icon=ba,n.ImageOverlay=cl,n.LatLng=q,n.LatLngBounds=X,n.Layer=Hi,n.LayerGroup=al,n.LineUtil=Vb,n.Map=Ot,n.Marker=yc,n.Mixin=qb,n.Path=_a,n.Point=ne,n.PolyUtil=Lf,n.Polygon=sl,n.Polyline=Va,n.Popup=wc,n.PosAnimation=nl,n.Projection=Tp,n.Rectangle=Jo,n.Renderer=Gr,n.SVG=fl,n.SVGOverlay=Hu,n.TileLayer=ko,n.Tooltip=Sc,n.Transformation=we,n.Util=Z,n.VideoOverlay=To,n.bind=s,n.bounds=B,n.canvas=Ac,n.circle=Cp,n.circleMarker=Np,n.control=Wa,n.divIcon=e_,n.extend=i,n.featureGroup=Op,n.geoJSON=Uu,n.geoJson=xc,n.gridLayer=Lp,n.icon=pc,n.imageOverlay=Mp,n.latLng=W,n.latLngBounds=ee,n.layerGroup=Zb,n.map=Nf,n.marker=jp,n.point=te,n.polygon=Jb,n.polyline=Xb,n.popup=Pp,n.rectangle=t_,n.setOptions=T,n.stamp=d,n.svg=Tc,n.svgOverlay=Dp,n.tileLayer=bi,n.tooltip=Qb,n.transformation=se,n.version=r,n.videoOverlay=ul;var Hf=window.L;n.noConflict=function(){return window.L=Hf,this},window.L=n}))})(qh,qh.exports)),qh.exports}var rK=nK();const Vx=Pi(rK),qg=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");function Uc(e){const t=document.getElementById(e);if(!t)throw new Error(`#${e} not found`);return t}function iK(e){const{buttonId:t,buttonInputId:n,modalId:r,closeMapId:i,mapCloseBtnId:a,searchBoxId:s,suggestionsId:c,mapId:d}=e.ids,f=e.initialCenter??{lat:37.5665,lon:126.978},m=Uc(n),p=Uc(t),y=Uc(r),b=Uc(a),x=Uc(s),T=Uc(c),E=i?Uc(i):null;let j=null,D=null,O=null;const M=U=>U.code==="Space"||U.key===" "||U.key==="Spacebar"||U.key==="Space",N=U=>{M(U)&&document.activeElement!==x&&(U.preventDefault(),U.stopPropagation(),x.focus())},R=()=>{y.style.display="flex",j?setTimeout(()=>j?.invalidateSize(),200):setTimeout(()=>{j=Vx.map(d,{keyboard:!1}).setView([f.lat,f.lon],11),Vx.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap"}).addTo(j),j.invalidateSize()},0),y.addEventListener("keydown",N,!0),y.addEventListener("keyup",N,!0),x.focus()},$=()=>{y.style.display="none",x.value="",T.innerHTML="",O&&(window.clearTimeout(O),O=null),y.removeEventListener("keydown",N,!0),y.removeEventListener("keyup",N,!0)},z=U=>{const Z=U.dataset.name??"",re=Number(U.dataset.lat??""),ve=Number(U.dataset.lon??"");!Number.isFinite(re)||!Number.isFinite(ve)||!j||(D?D.setLatLng([re,ve]):D=Vx.marker([re,ve]).addTo(j),j.flyTo([re,ve],14,{duration:.5}),m.value=Z,m.dataset.lat=String(re),m.dataset.lon=String(ve),e.onSelected?.({name:Z,lat:re,lon:ve}),T.innerHTML="",$())},G=()=>{O&&window.clearTimeout(O);const U=x.value.trim();if(!U){T.innerHTML="";return}O=window.setTimeout(async()=>{try{const Z="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=12&accept-language=ko&addressdetails=1&dedupe=1&email=unique950318@gmail.com&q="+encodeURIComponent(U),re=await fetch(Z,{headers:{Accept:"application/json"}});if(!re.ok)throw new Error(`HTTP ${re.status}`);const ve=await re.json();if(!Array.isArray(ve)||ve.length===0){T.innerHTML='<li style="padding:8px"> </li>';return}const J=ve.slice(0,12).map((ae,ne)=>{const ce=ae.display_name.split(",").slice(0,3).map(B=>B.trim()).join("  "),te="padding:8px;cursor:pointer;outline:none;",Y=ne===0?"background-color:#1f2937;border-radius:4px;":"";return`<li
                    role="option"
                    data-name="${qg(ce)}"
                    data-lat="${qg(ae.lat)}"
                    data-lon="${qg(ae.lon)}"
                    data-active="${ne===0?"1":"0"}"
                    style="${te}${Y}"
                  >${qg(ce)}</li>`}).join("");T.innerHTML=J}catch(Z){console.error(Z),T.innerHTML='<li style="padding:8px;color:#b91c1c"> </li>'}},250)},V=U=>{const Z=U.target;Z.tagName==="LI"&&z(Z)},H=U=>{if(U.key==="Enter"){const Z=T.querySelector('li[data-active="1"]')??T.querySelector("li");Z&&z(Z)}};return p.addEventListener("click",R),b.addEventListener("click",$),E&&E.addEventListener("click",$),x.addEventListener("input",G),x.addEventListener("keydown",H),T.addEventListener("click",V),()=>{p.removeEventListener("click",R),b.removeEventListener("click",$),E&&E.removeEventListener("click",$),x.removeEventListener("input",G),x.removeEventListener("keydown",H),T.removeEventListener("click",V),y.removeEventListener("keydown",N,!0),y.removeEventListener("keyup",N,!0),O&&(window.clearTimeout(O),O=null),j&&(j.remove(),j=null)}}function yd(){return document.getElementById("suggestions")}function J0(e){const t=Array.from(e.querySelectorAll('li, [role="option"]'));return t.forEach((n,r)=>{n.getAttribute("role")||n.setAttribute("role","option"),n.setAttribute("aria-selected",n===document.activeElement?"true":"false"),n.tabIndex=-1,n.id||(n.id=`suggestion-item-${r}`)}),t}function Zx(e,t){const n=J0(e);if(n.length===0)return;const r=n.length;let i=t;i<0&&(i=r-1),i>=r&&(i=0),n.forEach(s=>{s.tabIndex=-1,s.setAttribute("aria-selected","false")});const a=n[i];a.tabIndex=0,a.setAttribute("aria-selected","true"),a.focus()}function M$({onSelect:e,placeholderText:t="",buttonStyle:n,value:r}){const[i,a]=A.useState(t),[s,c]=A.useState(!1),[d,f]=A.useState(r??""),m=A.useRef(null),p=A.useRef(null),y=A.useRef(null),b=A.useRef(null);return A.useEffect(()=>{r!==void 0&&f(r)},[r]),A.useEffect(()=>{if(!s)return;const x=iK({ids:{buttonInputId:"inputBirthPlace",buttonId:"inputBirthPlaceBtn",modalId:"mapModal",closeMapId:"closeMap",mapCloseBtnId:"mapCloseBtn",searchBoxId:"searchBox",suggestionsId:"suggestions",mapId:"map"},onSelected:G=>{a(""),f(G.name),m.current&&(m.current.value=G.name),p.current&&(p.current.value=String(G.lat)),y.current&&(y.current.value=String(G.lon)),e?.(G),c(!1)}}),T=document.getElementById("inputBirthPlaceBtn");T&&T.dispatchEvent(new MouseEvent("click",{bubbles:!0}));const E=document.getElementById("mapModal"),j=document.getElementById("searchBox"),D=yd();setTimeout(()=>j?.focus(),0);const O='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',M=G=>{if(G.key==="Escape"){G.preventDefault(),c(!1);return}if(G.key!=="Tab")return;const V=yd();if(V&&V.contains(document.activeElement))return;const H=Array.from(E.querySelectorAll(O)).filter(ve=>!ve.hasAttribute("disabled")&&ve.tabIndex!==-1);if(H.length===0)return;const U=H[0],Z=H[H.length-1],re=document.activeElement;G.shiftKey?(re===U||!E.contains(re))&&(G.preventDefault(),Z.focus()):(re===Z||!E.contains(re))&&(G.preventDefault(),U.focus())};E.addEventListener("keydown",M);const N=G=>{if(G.key!=="ArrowDown")return;const V=yd();!V||J0(V).length===0||G.preventDefault()};j?.addEventListener("keydown",N);const R=G=>{if(G.target.value.trim()===""){const H=yd();H&&(H.innerHTML="")}};j?.addEventListener("input",R);const $=G=>{const V=yd();if(!V)return;const H=J0(V);if(H.length===0)return;const U=document.activeElement,Z=U?H.indexOf(U):-1;if(Z===-1)return;const re=ve=>{G.preventDefault(),Zx(V,Z+ve)};switch(G.key){case"Tab":G.preventDefault(),re(G.shiftKey?-1:1);break;case"ArrowDown":G.preventDefault(),re(1);break;case"ArrowUp":G.preventDefault(),re(-1);break;case"Home":G.preventDefault(),Zx(V,0);break;case"End":G.preventDefault(),Zx(V,H.length-1);break;case"Enter":case" ":G.preventDefault(),U.click();break;case"Backspace":G.preventDefault(),V.innerHTML="",j?.focus();break}G.stopPropagation()};let z=null;return D&&(D.addEventListener("keydown",$),z=new MutationObserver(()=>{const G=yd();!G||J0(G).length}),z.observe(D,{childList:!0,subtree:!1})),()=>{E.removeEventListener("keydown",M),j?.removeEventListener("keydown",N),j?.removeEventListener("input",R),D&&D.removeEventListener("keydown",$),z?.disconnect(),x?.()}},[s,e]),A.useEffect(()=>{s||setTimeout(()=>b.current?.focus(),0)},[s]),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("input",{className:`w-[60%] desk:w-[70%] mr-2 border rounded-lg p-2
                   bg-white dark:bg-neutral-900
                   border-neutral-300 dark:border-neutral-700
                   text-neutral-900 dark:text-neutral-100
                   placeholder-neutral-400 dark:placeholder-neutral-500`,type:"text",id:"inputBirthPlace",readOnly:!0,"aria-readonly":"true",value:d&&d.trim()!==""?d:t}),_.jsx("button",{ref:b,type:"button",id:"inputBirthPlaceBtn",className:"btn_style text-sm desk:text-base w-[calc(40%_-_8px)] desk:w-[calc(30%_-_8px)] p-0",style:n,onClick:()=>c(!0),"aria-haspopup":"dialog","aria-expanded":s,"aria-controls":"mapModal",children:i}),_.jsx("input",{ref:m,type:"hidden",name:"birthPlace_name",defaultValue:""}),_.jsx("input",{ref:p,type:"hidden",name:"birthPlace_lat",defaultValue:""}),_.jsx("input",{ref:y,type:"hidden",name:"birthPlace_lon",defaultValue:""}),s&&_.jsx("div",{id:"mapModal",role:"dialog","aria-modal":"true","aria-labelledby":"mapModalTitle",className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 dark:bg-black/60 p-4",children:_.jsxs("div",{className:`w-[96vw] desk:w-[920px] rounded-2xl shadow-2xl overflow-hidden flex flex-col
                          bg-white dark:bg-neutral-950
                          text-neutral-900 dark:text-neutral-100
                          border border-neutral-200 dark:border-neutral-800`,children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("div",{id:"mapModalTitle",className:"font-bold",children:""}),_.jsx("button",{id:"mapCloseBtn","aria-label":"",className:"text-xl hover:opacity-70 cursor-pointer",onClick:()=>c(!1),children:""})]}),_.jsxs("div",{className:"relative grid gap-2 px-3 py-3 border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("label",{htmlFor:"searchBox",className:"text-xs text-neutral-500 dark:text-neutral-400",children:"/ "}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{id:"searchBox",placeholder:":   / seoul /  / tokyo",className:`h-10 w-full rounded-lg border px-3 outline-none
                             bg-white dark:bg-neutral-900
                             border-neutral-300 dark:border-neutral-700
                             placeholder-neutral-400 dark:placeholder-neutral-500
                             text-neutral-900 dark:text-neutral-100
                             focus:border-neutral-400 dark:focus:border-neutral-600`,autoComplete:"off"}),_.jsx("ul",{id:"suggestions",role:"listbox","aria-label":" ",className:`absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto rounded-lg border shadow-xl z-[1005]
                             bg-white dark:bg-neutral-900
                             border-neutral-200 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             divide-y divide-neutral-200 dark:divide-neutral-800`})]})]}),_.jsx("div",{className:"relative h-[250px] desk:h-[360px] border-y border-neutral-200 dark:border-neutral-800",children:_.jsx("div",{id:"map",className:"h-full w-full"})}),_.jsxs("div",{className:"gap-2 p-3",children:[_.jsxs("div",{id:"footerHint",className:"pr-2 text-xs text-neutral-600 dark:text-neutral-300 flex-1",children:[_.jsxs("p",{className:"flex mb-1",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:" ,  ."})]}),_.jsxs("p",{className:"flex",children:[_.jsx("span",{className:"mr-1",children:"*"}),_.jsx("span",{children:"       ,   ."})]})]}),_.jsx("button",{id:"closeMap",style:{display:"none"},"aria-hidden":"true",tabIndex:-1})]})]})})]})}function xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aK=typeof Symbol=="function"&&Symbol.observable||"@@observable",aC=aK,Xx=()=>Math.random().toString(36).substring(7).split("").join("."),oK={INIT:`@@redux/INIT${Xx()}`,REPLACE:`@@redux/REPLACE${Xx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xx()}`},wv=oK;function C2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function M2(e,t,n){if(typeof e!="function")throw new Error(xr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xr(1));return n(M2)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,d=!1;function f(){s===a&&(s=new Map,a.forEach((E,j)=>{s.set(j,E)}))}function m(){if(d)throw new Error(xr(3));return i}function p(E){if(typeof E!="function")throw new Error(xr(4));if(d)throw new Error(xr(5));let j=!0;f();const D=c++;return s.set(D,E),function(){if(j){if(d)throw new Error(xr(6));j=!1,f(),s.delete(D),a=null}}}function y(E){if(!C2(E))throw new Error(xr(7));if(typeof E.type>"u")throw new Error(xr(8));if(typeof E.type!="string")throw new Error(xr(17));if(d)throw new Error(xr(9));try{d=!0,i=r(i,E)}finally{d=!1}return(a=s).forEach(D=>{D()}),E}function b(E){if(typeof E!="function")throw new Error(xr(10));r=E,y({type:wv.REPLACE})}function x(){const E=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(xr(11));function D(){const M=j;M.next&&M.next(m())}return D(),{unsubscribe:E(D)}},[aC](){return this}}}return y({type:wv.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:b,[aC]:x}}function sK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:wv.INIT})>"u")throw new Error(xr(12));if(typeof n(void 0,{type:wv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xr(13))})}function D$(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{sK(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const f={};for(let m=0;m<r.length;m++){const p=r[m],y=n[p],b=s[p],x=y(b,c);if(typeof x>"u")throw c&&c.type,new Error(xr(14));f[p]=x,d=d||x!==b}return d=d||r.length!==Object.keys(s).length,d?f:s}}function oC(e,t){return function(...n){return t(e.apply(this,n))}}function sC(e,t){if(typeof e=="function")return oC(e,t);if(typeof e!="object"||e===null)throw new Error(xr(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=oC(i,t))}return n}function om(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function P$(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(xr(15))};const s={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(s));return a=om(...c)(i.dispatch),{...i,dispatch:a}}}function R$(e){return C2(e)&&"type"in e&&typeof e.type=="string"}var Jx={exports:{}},Qx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function lK(){if(lC)return Qx;lC=1;var e=of();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return Qx.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function E(N){if(!j){if(j=!0,D=N,N=p(N),y!==void 0&&x.hasValue){var R=x.value;if(y(R,N))return O=R}return O=N}if(R=O,n(D,N))return R;var $=p(N);return y!==void 0&&y(R,$)?(D=N,R):(D=N,O=$)}var j=!1,D,O,M=m===void 0?null:m;return[function(){return E(f())},M===null?void 0:function(){return E(M())}]},[f,m,p,y]);var T=r(d,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=T},[T]),c(T),T},Qx}var cC;function cK(){return cC||(cC=1,Jx.exports=lK()),Jx.exports}cK();var uK=A.version.startsWith("19"),dK=Symbol.for(uK?"react.transitional.element":"react.element"),fK=Symbol.for("react.portal"),hK=Symbol.for("react.fragment"),mK=Symbol.for("react.strict_mode"),pK=Symbol.for("react.profiler"),gK=Symbol.for("react.consumer"),vK=Symbol.for("react.context"),L$=Symbol.for("react.forward_ref"),yK=Symbol.for("react.suspense"),bK=Symbol.for("react.suspense_list"),D2=Symbol.for("react.memo"),_K=Symbol.for("react.lazy"),xK=L$,wK=D2;function SK(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case dK:switch(e=e.type,e){case hK:case pK:case mK:case yK:case bK:return e;default:switch(e=e&&e.$$typeof,e){case vK:case L$:case _K:case D2:return e;case gK:return e;default:return t}}case fK:return t}}}function EK(e){return SK(e)===D2}function AK(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let c=!1,d,f,m,p,y;function b(D,O){return d=D,f=O,m=e(d,f),p=t(r,f),y=n(m,p,f),c=!0,y}function x(){return m=e(d,f),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function T(){return e.dependsOnOwnProps&&(m=e(d,f)),t.dependsOnOwnProps&&(p=t(r,f)),y=n(m,p,f),y}function E(){const D=e(d,f),O=!s(D,m);return m=D,O&&(y=n(m,p,f)),y}function j(D,O){const M=!a(O,f),N=!i(D,d,O,f);return d=D,f=O,M&&N?x():M?T():N?E():y}return function(O,M){return c?j(O,M):b(O,M)}}function TK(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),s=n(e,i),c=r(e,i);return AK(a,s,c,e,i)}function kK(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function KS(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function uC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function I$(e,t){return function(r,{displayName:i}){const a=function(c,d){return a.dependsOnOwnProps?a.mapToProps(c,d):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,d){a.mapToProps=e,a.dependsOnOwnProps=uC(e);let f=a(c,d);return typeof f=="function"&&(a.mapToProps=f,a.dependsOnOwnProps=uC(f),f=a(c,d)),f},a}}function P2(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function OK(e){return e&&typeof e=="object"?KS(t=>kK(e,t)):e?typeof e=="function"?I$(e):P2(e,"mapDispatchToProps"):KS(t=>({dispatch:t}))}function jK(e){return e?typeof e=="function"?I$(e):P2(e,"mapStateToProps"):KS(()=>({}))}function NK(e,t,n){return{...n,...e,...t}}function CK(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,s;return function(d,f,m){const p=e(d,f,m);return a?i(p,s)||(s=p):(a=!0,s=p),s}}}function MK(e){return e?typeof e=="function"?CK(e):P2(e,"mergeProps"):()=>NK}function DK(e){e()}function PK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var dC={notify(){},get:()=>[]};function $$(e,t){let n,r=dC,i=0,a=!1;function s(T){m();const E=r.subscribe(T);let j=!1;return()=>{j||(j=!0,E(),p())}}function c(){r.notify()}function d(){x.onStateChange&&x.onStateChange()}function f(){return a}function m(){i++,n||(n=t?t.addNestedSub(d):e.subscribe(d),r=PK())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dC)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,p())}const x={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return x}var RK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LK=RK(),IK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$K=IK(),BK=()=>LK||$K?A.useLayoutEffect:A.useEffect,Sv=BK();function fC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Q0(e,t){if(fC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fC(e[n[i]],t[n[i]]))return!1;return!0}var zK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},UK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},HK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FK={[xK]:HK,[wK]:B$};function hC(e){return EK(e)?B$:FK[e.$$typeof]||zK}var GK=Object.defineProperty,qK=Object.getOwnPropertyNames,mC=Object.getOwnPropertySymbols,YK=Object.getOwnPropertyDescriptor,KK=Object.getPrototypeOf,pC=Object.prototype;function WS(e,t){if(typeof t!="string"){if(pC){const a=KK(t);a&&a!==pC&&WS(e,a)}let n=qK(t);mC&&(n=n.concat(mC(t)));const r=hC(e),i=hC(t);for(let a=0;a<n.length;++a){const s=n[a];if(!UK[s]&&!(i&&i[s])&&!(r&&r[s])){const c=YK(t,s);try{GK(e,s,c)}catch{}}}}return e}var WK=Symbol.for("react-redux-context"),VK=typeof globalThis<"u"?globalThis:{};function ZK(){if(!A.createContext)return{};const e=VK[WK]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var z$=ZK(),XK=[null,null];function JK(e,t,n){Sv(()=>e(...t),n)}function QK(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function eW(e,t,n,r,i,a,s,c,d,f,m){if(!e)return()=>{};let p=!1,y=null;const b=()=>{if(p||!c.current)return;const T=t.getState();let E,j;try{E=r(T,i.current)}catch(D){j=D,y=D}j||(y=null),E===a.current?s.current||f():(a.current=E,d.current=E,s.current=!0,m())};return n.onStateChange=b,n.trySubscribe(),b(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function tW(e,t){return e===t}function nW(e,t,n,{pure:r,areStatesEqual:i=tW,areOwnPropsEqual:a=Q0,areStatePropsEqual:s=Q0,areMergedPropsEqual:c=Q0,forwardRef:d=!1,context:f=z$}={}){const m=f,p=jK(e),y=OK(t),b=MK(n),x=!!e;return E=>{const j=E.displayName||E.name||"Component",D=`Connect(${j})`,O={shouldHandleStateChanges:x,displayName:D,wrappedComponentName:j,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:y,initMergeProps:b,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:c};function M($){const[z,G,V]=A.useMemo(()=>{const{reactReduxForwardedRef:se,...Ne}=$;return[$.context,se,Ne]},[$]),H=A.useMemo(()=>{let se=m;return z?.Consumer,se},[z,m]),U=A.useContext(H),Z=!!$.store&&!!$.store.getState&&!!$.store.dispatch,re=!!U&&!!U.store,ve=Z?$.store:U.store,J=re?U.getServerState:ve.getState,ae=A.useMemo(()=>TK(ve.dispatch,O),[ve]),[ne,ce]=A.useMemo(()=>{if(!x)return XK;const se=$$(ve,Z?void 0:U.subscription),Ne=se.notifyNestedSubs.bind(se);return[se,Ne]},[ve,Z,U]),te=A.useMemo(()=>Z?U:{...U,subscription:ne},[Z,U,ne]),Y=A.useRef(void 0),B=A.useRef(V),X=A.useRef(void 0),ee=A.useRef(!1),q=A.useRef(!1),W=A.useRef(void 0);Sv(()=>(q.current=!0,()=>{q.current=!1}),[]);const le=A.useMemo(()=>()=>X.current&&V===B.current?X.current:ae(ve.getState(),V),[ve,V]),fe=A.useMemo(()=>Ne=>ne?eW(x,ve,ne,ae,B,Y,ee,q,X,ce,Ne):()=>{},[ne]);JK(QK,[B,Y,ee,V,X,ce]);let Q;try{Q=A.useSyncExternalStore(fe,le,J?()=>ae(J(),V):le)}catch(se){throw W.current&&(se.message+=`
The error may be correlated with this previous error:
${W.current.stack}

`),se}Sv(()=>{W.current=void 0,X.current=void 0,Y.current=Q});const de=A.useMemo(()=>A.createElement(E,{...Q,ref:G}),[G,E,Q]);return A.useMemo(()=>x?A.createElement(H.Provider,{value:te},de):de,[H,de,te])}const R=A.memo(M);if(R.WrappedComponent=E,R.displayName=M.displayName=D,d){const z=A.forwardRef(function(V,H){return A.createElement(R,{...V,reactReduxForwardedRef:H})});return z.displayName=D,z.WrappedComponent=E,WS(z,E)}return WS(R,E)}}var U$=nW;function rW(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const d=$$(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);Sv(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||z$;return A.createElement(c.Provider,{value:a},t)}var H$=rW,iW="Invariant failed";function aW(e,t){throw new Error(iW)}var fo=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,s=r-a,c=i-n,d={top:n,right:r,bottom:i,left:a,width:s,height:c,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return d},R2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},gC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},oW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},ew={top:0,right:0,bottom:0,left:0},L2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?ew:r,a=t.border,s=a===void 0?ew:a,c=t.padding,d=c===void 0?ew:c,f=fo(R2(n,i)),m=fo(gC(n,s)),p=fo(gC(m,d));return{marginBox:f,borderBox:fo(n),paddingBox:m,contentBox:p,margin:i,border:s,padding:d}},Ta=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&aW(),i},sW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ev=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,s=t.padding,c=oW(r,n);return L2({borderBox:c,border:i,margin:a,padding:s})},Av=function(t,n){return n===void 0&&(n=sW()),Ev(t,n)},F$=function(t,n){var r={top:Ta(n.marginTop),right:Ta(n.marginRight),bottom:Ta(n.marginBottom),left:Ta(n.marginLeft)},i={top:Ta(n.paddingTop),right:Ta(n.paddingRight),bottom:Ta(n.paddingBottom),left:Ta(n.paddingLeft)},a={top:Ta(n.borderTopWidth),right:Ta(n.borderRightWidth),bottom:Ta(n.borderBottomWidth),left:Ta(n.borderLeftWidth)};return L2({borderBox:t,margin:r,padding:i,border:a})},G$=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return F$(n,r)},sm=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];n=c,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(null,arguments)}function q$(e,t){}q$.bind(null,"warn");q$.bind(null,"error");function zl(){}function lW(e,t){return{...e,...t}}function ja(e,t,n){const r=t.map(i=>{const a=lW(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const cW="Invariant failed";class kv extends Error{}kv.prototype.toString=function(){return this.message};function Fe(e,t){throw new kv(cW)}class uW extends cn.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=zl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof kv&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ja(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof kv){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const dW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ov=e=>e+1,fW=e=>`
  You have lifted an item in position ${Ov(e.source.index)}
`,Y$=(e,t)=>{const n=e.droppableId===t.droppableId,r=Ov(e.index),i=Ov(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},K$=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,hW=e=>{const t=e.destination;if(t)return Y$(e.source,t);const n=e.combine;return n?K$(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},vC=e=>`
  The item has returned to its starting position
  of ${Ov(e.index)}
`,mW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${vC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Y$(e.source,t)}
    `:n?`
      You have dropped the item.
      ${K$(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${vC(e.source)}
  `},ev={dragHandleUsageInstructions:dW,onDragStart:fW,onDragUpdate:hW,onDragEnd:mW};function pW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function W$(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!pW(e[n],t[n]))return!1;return!0}function Ct(e,t){const n=A.useState(()=>({inputs:t,result:e()}))[0],r=A.useRef(!0),i=A.useRef(n),s=r.current||!!(t&&i.current.inputs&&W$(t,i.current.inputs))?i.current:{inputs:t,result:e()};return A.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function tt(e,t){return Ct(()=>e,t)}const Ar={x:0,y:0},Ir=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),na=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ul=(e,t)=>e.x===t.x&&e.y===t.y,df=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),pu=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},lm=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),yC=(e,t)=>Math.min(...t.map(n=>lm(e,n))),V$=e=>t=>({x:e(t.x),y:e(t.y)});var gW=(e,t)=>{const n=fo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Fm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),bC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],vW={top:0,right:0,bottom:0,left:0},yW=(e,t)=>t?Fm(e,t.scroll.diff.displacement):e,bW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,_W=(e,t)=>t&&t.shouldClipSubject?gW(t.pageMarginBox,e):fo(e);var Yd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=yW(e.marginBox,r),a=bW(i,n,t),s=_W(a,r);return{page:e,withPlaceholder:t,active:s}},I2=(e,t)=>{e.frame||Fe();const n=e.frame,r=na(t,n.scroll.initial),i=df(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Yd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};function Sr(e,t=W$){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const Z$=Sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),X$=Sr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),By=Sr(e=>Object.values(e)),xW=Sr(e=>Object.values(e));var ff=Sr((e,t)=>xW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function $2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function zy(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Uy=Sr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),wW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!$2(i))return null;function s(b){const x={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return{...i,at:x}}const c=i.displaced.all,d=c.length?c[0]:null;if(e)return d?s(d):null;const f=Uy(t,r);if(!d){if(!f.length)return null;const b=f[f.length-1];return s(b.descriptor.id)}const m=f.findIndex(b=>b.descriptor.id===d);m===-1&&Fe();const p=m-1;if(p<0)return null;const y=f[p];return s(y.descriptor.id)},hf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const J$={point:Ar,value:0},cm={invisible:{},visible:{},all:[]},SW={displaced:cm,displacedBy:J$,at:null};var La=(e,t)=>n=>e<=n&&n<=t,Q$=e=>{const t=La(e.top,e.bottom),n=La(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;const d=r.top<e.top&&r.bottom>e.bottom,f=r.left<e.left&&r.right>e.right;return d&&f?!0:d&&s||f&&a}},EW=e=>{const t=La(e.top,e.bottom),n=La(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const B2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},eB={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var AW=e=>t=>{const n=La(t.top,t.bottom),r=La(t.left,t.right);return i=>e===B2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const TW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Ar;return Fm(e,n)},kW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,OW=(e,t,n)=>n(t)(e),z2=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?TW(e,t):e;return kW(a,t,i)&&OW(a,n,i)},jW=e=>z2({...e,isVisibleThroughFrameFn:Q$}),tB=e=>z2({...e,isVisibleThroughFrameFn:EW}),NW=e=>z2({...e,isVisibleThroughFrameFn:AW(e.destination.axis)}),CW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function MW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return fo(R2(n,r))}function um({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(c,d){const f=MW(d,n),m=d.descriptor.id;if(c.all.push(m),!jW({target:f,destination:t,viewport:r,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const y=CW(m,a,i),b={draggableId:m,shouldAnimate:y};return c.visible[m]=b,c},{all:[],visible:{},invisible:{}})}function DW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function _C({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=DW(e,{inHomeList:t});return{displaced:cm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function jv({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:s,forceShouldAnimate:c}){const d=hf(e,n);if(s==null)return _C({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const f=t.find(x=>x.descriptor.index===s);if(!f)return _C({insideDestination:t,inHomeList:d,displacedBy:i,destination:n});const m=Uy(e,t),p=t.indexOf(f),y=m.slice(p);return{displaced:um({afterDragging:y,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Fl(e,t){return!!t.effected[e]}var PW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,c=n[a].descriptor.index;return Fl(a,i)?e?c:c-1:e?c+1:c},RW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=t?c:c+1;return a<s||a>d?null:a},LW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:s,viewport:c,afterCritical:d})=>{const f=s.at;if(f||Fe(),f.type==="REORDER"){const p=RW({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:a});return p==null?null:jv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:p})}const m=PW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:f.combine,afterCritical:d});return m==null?null:jv({draggable:n,insideDestination:a,destination:i,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:m})},IW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Fl(n,t)?i?Ar:df(r.point):i?r.point:Ar},$W=({afterCritical:e,impact:t,draggables:n})=>{const r=zy(t);r||Fe();const i=r.draggableId,a=n[i].page.borderBox.center,s=IW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Ir(a,s)};const nB=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,BW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,U2=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,xC=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.end]+nB(e,n),U2(e,t.marginBox,n)),wC=({axis:e,moveRelativeTo:t,isMoving:n})=>pu(e.line,t.marginBox[e.start]-BW(e,n),U2(e,t.marginBox,n)),zW=({axis:e,moveInto:t,isMoving:n})=>pu(e.line,t.contentBox[e.start]+nB(e,n),U2(e,t.contentBox,n));var UW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=ff(r.descriptor.id,n),s=t.page,c=r.axis;if(!a.length)return zW({axis:c,moveInto:r.page,isMoving:s});const{displaced:d,displacedBy:f}=e,m=d.all[0];if(m){const y=n[m];if(Fl(m,i))return wC({axis:c,moveRelativeTo:y.page,isMoving:s});const b=Ev(y.page,f.point);return wC({axis:c,moveRelativeTo:b,isMoving:s})}const p=a[a.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Fl(p.descriptor.id,i)){const y=Ev(p.page,df(i.displacedBy.point));return xC({axis:c,moveRelativeTo:y,isMoving:s})}return xC({axis:c,moveRelativeTo:p.page,isMoving:s})},VS=(e,t)=>{const n=e.frame;return n?Ir(t,n.scroll.diff.displacement):t};const HW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,s=e.at;return!n||!s?a:s.type==="REORDER"?UW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):$W({impact:e,draggables:r,afterCritical:i})};var Hy=e=>{const t=HW(e),n=e.droppable;return n?VS(n,t):t},rB=(e,t)=>{const n=na(t,e.scroll.initial),r=df(n);return{frame:fo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function SC(e,t){return e.map(n=>t[n])}function FW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var GW=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=rB(t,Ir(t.scroll.current,i)),s=n.frame?I2(n,Ir(n.frame.scroll.current,i)):n,c=e.displaced,d=um({afterDragging:SC(c.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),f=um({afterDragging:SC(c.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),m={},p={},y=[c,d,f];return c.all.forEach(x=>{const T=FW(x,y);if(T){p[x]=T;return}m[x]=!0}),{...e,displaced:{all:c.all,invisible:m,visible:p}}},qW=(e,t)=>Ir(e.scroll.diff.displacement,t),H2=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=qW(n,e),i=na(r,t.page.borderBox.center);return Ir(t.client.borderBox.center,i)},iB=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=na(n,e.page.borderBox.center),d={target:Fm(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return a?NW(d):tB(d)},YW=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:c,afterCritical:d})=>{if(!n.isEnabled)return null;const f=ff(n.descriptor.id,r),m=hf(t,n),p=wW({isMovingForward:e,draggable:t,destination:n,insideDestination:f,previousImpact:i})||LW({isMovingForward:e,isInHomeList:m,draggable:t,draggables:r,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:d});if(!p)return null;const y=Hy({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:d});if(iB({draggable:t,destination:n,newPageBorderBoxCenter:y,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:H2({pageBorderBoxCenter:y,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};const x=na(y,s),T=GW({impact:p,viewport:a,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:c,impact:T,scrollJumpRequest:x}};const ai=e=>{const t=e.subject.active;return t||Fe(),t};var KW=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const s=n.axis,c=La(a[s.start],a[s.end]),d=By(r).filter(m=>m!==n).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>Q$(i.frame)(ai(m))).filter(m=>{const p=ai(m);return e?a[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<a[s.crossAxisStart]}).filter(m=>{const p=ai(m),y=La(p[s.start],p[s.end]);return c(p[s.start])||c(p[s.end])||y(a[s.start])||y(a[s.end])}).sort((m,p)=>{const y=ai(m)[s.crossAxisStart],b=ai(p)[s.crossAxisStart];return e?y-b:b-y}).filter((m,p,y)=>ai(m)[s.crossAxisStart]===ai(y[0])[s.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(m=>La(ai(m)[s.start],ai(m)[s.end])(t[s.line]));return f.length===1?f[0]:f.length>1?f.sort((m,p)=>ai(m)[s.start]-ai(p)[s.start])[0]:d.sort((m,p)=>{const y=yC(t,bC(ai(m))),b=yC(t,bC(ai(p)));return y!==b?y-b:ai(m)[s.start]-ai(p)[s.start]})[0]};const EC=(e,t)=>{const n=e.page.borderBox.center;return Fl(e.descriptor.id,t)?na(n,t.displacedBy.point):n},WW=(e,t)=>{const n=e.page.borderBox;return Fl(e.descriptor.id,t)?Fm(n,df(t.displacedBy.point)):n};var VW=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>tB({target:WW(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,c)=>{const d=lm(e,VS(n,EC(s,i))),f=lm(e,VS(n,EC(c,i)));return d<f?-1:f<d?1:s.descriptor.index-c.descriptor.index})[0]||null,Gm=Sr(function(t,n){const r=n[t.line];return{value:r,point:pu(t.line,r)}});const ZW=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return pu(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],d=ff(e.descriptor.id,n).reduce((f,m)=>f+m.client.marginBox[r.size],0)+t[r.line]-i;return d<=0?null:pu(r.line,d)},aB=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),oB=(e,t,n)=>{const r=e.frame;hf(t,e)&&Fe(),e.subject.withPlaceholder&&Fe();const i=Gm(e.axis,t.displaceBy).point,a=ZW(e,i,n),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const m=Yd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:m}}const c=a?Ir(r.scroll.max,a):r.scroll.max,d=aB(r,c),f=Yd({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:d});return{...e,subject:f,frame:d}},XW=e=>{const t=e.subject.withPlaceholder;t||Fe();const n=e.frame;if(!n){const s=Yd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Fe();const i=aB(n,r),a=Yd({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var JW=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:s,afterCritical:c})=>{if(!t){if(n.length)return null;const p={displaced:cm,displacedBy:J$,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},y=Hy({impact:p,draggable:r,droppable:a,draggables:i,afterCritical:c}),b=hf(r,a)?a:oB(a,r,i);return iB({draggable:r,destination:b,newPageBorderBoxCenter:y,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const d=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||d?p:p+1})(),m=Gm(a.axis,r.displaceBy);return jv({draggable:r,insideDestination:n,destination:a,viewport:s,displacedBy:m,last:cm,index:f})},QW=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:s,afterCritical:c})=>{const d=KW({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:s});if(!d)return null;const f=ff(d.descriptor.id,i),m=VW({pageBorderBoxCenter:t,viewport:s,destination:d,insideDestination:f,afterCritical:c}),p=JW({previousPageBorderBoxCenter:t,destination:d,draggable:n,draggables:i,moveRelativeTo:m,insideDestination:f,viewport:s,afterCritical:c});if(!p)return null;const y=Hy({impact:p,draggable:n,droppable:d,draggables:i,afterCritical:c});return{clientSelection:H2({pageBorderBoxCenter:y,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},ia=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const eV=(e,t)=>{const n=ia(e);return n?t[n]:null};var tV=({state:e,type:t})=>{const n=eV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,s=a.axis.direction,c=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:p,droppables:y}=e.dimensions;return c?YW({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):QW({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,isOver:a,draggables:p,droppables:y,viewport:e.viewport,afterCritical:e.afterCritical})};function Xc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function sB(e){const t=La(e.top,e.bottom),n=La(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function nV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function rV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const s=a.axis,c=pu(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:lm(r,c)}}).sort((a,s)=>s.distance-a.distance);return i[0]?i[0].id:null}function iV({pageBorderBox:e,draggable:t,droppables:n}){const r=By(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!nV(e,a))return!1;if(sB(a)(e.center))return!0;const s=i.axis,c=a.center[s.crossAxisLine],d=e[s.crossAxisStart],f=e[s.crossAxisEnd],m=La(a[s.crossAxisStart],a[s.crossAxisEnd]),p=m(d),y=m(f);return!p&&!y?!0:p?d<c:f>c});return r.length?r.length===1?r[0].descriptor.id:rV({pageBorderBox:e,draggable:t,candidates:r}):null}const lB=(e,t)=>fo(Fm(e,t));var aV=(e,t)=>{const n=e.frame;return n?lB(t,n.scroll.diff.value):t};function cB({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function oV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var sV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:s})=>{const c=n.axis,d=Gm(n.axis,t.displaceBy),f=d.value,m=e[c.start],p=e[c.end],b=Uy(t,r).find(T=>{const E=T.descriptor.id,j=T.page.borderBox.center[c.line],D=Fl(E,s),O=cB({displaced:i,id:E});return D?O?p<=j:m<j-f:O?p<=j+f:m<j})||null,x=oV({draggable:t,closest:b,inHomeList:hf(t,n)});return jv({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:d,index:x})};const lV=4;var cV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const s=r.axis,c=Gm(r.axis,e.displaceBy),d=c.value,f=t[s.start],m=t[s.end],y=Uy(e,i).find(x=>{const T=x.descriptor.id,E=x.page.borderBox,D=E[s.size]/lV,O=Fl(T,a),M=cB({displaced:n.displaced,id:T});return O?M?m>E[s.start]+D&&m<E[s.end]-D:f>E[s.start]-d+D&&f<E[s.end]-d-D:M?m>E[s.start]+d+D&&m<E[s.end]+d-D:f>E[s.start]+D&&f<E[s.end]-D});return y?{displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:r.descriptor.id}}}:null},uB=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:s})=>{const c=lB(t.page.borderBox,e),d=iV({pageBorderBox:c,draggable:t,droppables:r});if(!d)return SW;const f=r[d],m=ff(f.descriptor.id,n),p=aV(f,c);return cV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:f,insideDestination:m,afterCritical:s})||sV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:m,last:i.displaced,viewport:a,afterCritical:s})},F2=(e,t)=>({...e,[t.descriptor.id]:t});const uV=({previousImpact:e,impact:t,droppables:n})=>{const r=ia(e),i=ia(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const s=XW(a);return F2(n,s)};var dV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=uV({previousImpact:r,impact:i,droppables:n}),s=ia(i);if(!s)return a;const c=n[s];if(hf(e,c)||c.subject.withPlaceholder)return a;const d=oB(c,e,t);return F2(a,d)},Jh=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const s=r||e.viewport,c=n||e.dimensions,d=t||e.current.client.selection,f=na(d,e.initial.client.selection),m={offset:f,selection:d,borderBoxCenter:Ir(e.initial.client.borderBoxCenter,f)},p={selection:Ir(m.selection,s.scroll.current),borderBoxCenter:Ir(m.borderBoxCenter,s.scroll.current),offset:Ir(m.offset,s.scroll.diff.value)},y={client:m,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:s,current:y};const b=c.draggables[e.critical.draggable.id],x=i||uB({pageOffset:p.offset,draggable:b,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),T=dV({draggable:b,impact:x,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:y,dimensions:{draggables:c.draggables,droppables:T},impact:x,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function fV(e,t){return e.map(n=>t[n])}var dB=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,s=fV(a.all,n),c=um({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:c}},fB=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const s=Hy({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return H2({pageBorderBoxCenter:s,draggable:t,viewport:i})},hB=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Fe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:s,droppables:c}=a,d=s[e.critical.draggable.id],f=ia(r);f||Fe();const m=c[f],p=dB({impact:r,viewport:i,destination:m,draggables:s}),y=fB({impact:p,draggable:d,droppable:m,draggables:s,viewport:i,afterCritical:e.afterCritical});return Jh({impact:p,clientSelection:y,state:e,dimensions:a,viewport:i})},hV=e=>({index:e.index,droppableId:e.droppableId}),mB=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Gm(t.axis,e.displaceBy),a=ff(t.descriptor.id,n),s=a.indexOf(e);s===-1&&Fe();const c=a.slice(s+1),d=c.reduce((y,b)=>(y[b.descriptor.id]=!0,y),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:d};return{impact:{displaced:um({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:hV(e.descriptor)}},afterCritical:f}},mV=(e,t)=>({draggables:e.draggables,droppables:F2(e.droppables,t)}),pV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Ev(e.client,t),i=Av(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},gV=e=>{const t=e.frame;return t||Fe(),t},vV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,s=t[a],d=gV(s).scroll.diff.value,f=Ir(r,d);return pV({draggable:i,offset:f,initialWindowScroll:n.scroll.initial})})},yV=({state:e,published:t})=>{const n=t.modified.map(j=>{const D=e.dimensions.droppables[j.droppableId];return I2(D,j.scroll)}),r={...e.dimensions.droppables,...Z$(n)},i=X$(vV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(j=>{delete a[j]});const s={droppables:r,draggables:a},c=ia(e.impact),d=c?s.droppables[c]:null,f=s.draggables[e.critical.draggable.id],m=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:y}=mB({draggable:f,home:m,draggables:a,viewport:e.viewport}),b=d&&d.isCombineEnabled?e.impact:p,x=uB({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:b,viewport:e.viewport,afterCritical:y}),T={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:y,forceShouldAnimate:!1};return e.phase==="COLLECTING"?T:{...T,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ZS=e=>e.movementMode==="SNAP",tw=(e,t,n)=>{const r=mV(e.dimensions,t);return!ZS(e)||n?Jh({state:e,dimensions:r}):hB({state:e,dimensions:r})};function nw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const AC={phase:"IDLE",completed:null,shouldFlush:!1};var bV=(e=AC,t)=>{if(t.type==="FLUSH")return{...AC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Fe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:s}=t.payload,c=a.draggables[n.draggable.id],d=a.droppables[n.droppable.id],f={selection:r,borderBoxCenter:c.client.borderBox.center,offset:Ar},m={client:f,page:{selection:Ir(f.selection,i.scroll.initial),borderBoxCenter:Ir(f.selection,i.scroll.initial),offset:Ir(f.selection,i.scroll.diff.value)}},p=By(a.droppables).every(T=>!T.isFixedOnPage),{impact:y,afterCritical:b}=mB({draggable:c,home:d,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:m,current:m,isWindowScrollAllowed:p,impact:y,afterCritical:b,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Fe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Fe(),yV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Xc(e)||Fe();const{client:n}=t.payload;return Ul(n,e.current.client.selection)?e:Jh({state:e,clientSelection:n,impact:ZS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return nw(e);Xc(e)||Fe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=I2(i,r);return tw(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xc(e)||Fe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Fe(),i.isEnabled===r&&Fe();const a={...i,isEnabled:r};return tw(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xc(e)||Fe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Fe(),i.isCombineEnabled===r&&Fe();const a={...i,isCombineEnabled:r};return tw(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Xc(e)||Fe(),e.isWindowScrollAllowed||Fe();const n=t.payload.newScroll;if(Ul(e.viewport.scroll.current,n))return nw(e);const r=rB(e.viewport,n);return ZS(e)?hB({state:e,viewport:r}):Jh({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Xc(e))return e;const n=t.payload.maxScroll;if(Ul(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Fe();const n=tV({state:e,type:t.type});return n?Jh({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Fe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Fe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ft(e,t){return e instanceof Object&&"type"in e&&e.type===t}const _V=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),xV=e=>({type:"LIFT",payload:e}),wV=e=>({type:"INITIAL_PUBLISH",payload:e}),SV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),EV=()=>({type:"COLLECTION_STARTING",payload:null}),AV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),TV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),kV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),pB=e=>({type:"MOVE",payload:e}),OV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),jV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),NV=()=>({type:"MOVE_UP",payload:null}),CV=()=>({type:"MOVE_DOWN",payload:null}),MV=()=>({type:"MOVE_RIGHT",payload:null}),DV=()=>({type:"MOVE_LEFT",payload:null}),G2=()=>({type:"FLUSH",payload:null}),PV=e=>({type:"DROP_ANIMATE",payload:e}),q2=e=>({type:"DROP_COMPLETE",payload:e}),gB=e=>({type:"DROP",payload:e}),RV=e=>({type:"DROP_PENDING",payload:e}),vB=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var LV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Ft(i,"LIFT")){r(i);return}const{id:a,clientSelection:s,movementMode:c}=i.payload,d=t();d.phase==="DROP_ANIMATING"&&n(q2({completed:d.completed})),t().phase!=="IDLE"&&Fe(),n(G2()),n(_V({draggableId:a,movementMode:c}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:y,viewport:b}=e.startPublishing(m);n(wV({critical:p,dimensions:y,clientSelection:s,movementMode:c,viewport:b}))},IV=e=>()=>t=>n=>{Ft(n,"INITIAL_PUBLISH")&&e.dragging(),Ft(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ft(n,"FLUSH")||Ft(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Y2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},dm={opacity:{drop:0,combining:.7},scale:{drop:.75}},yB={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hc=`${yB.outOfTheWay}s ${Y2.outOfTheWay}`,Qh={fluid:`opacity ${Hc}`,snap:`transform ${Hc}, opacity ${Hc}`,drop:e=>{const t=`${e}s ${Y2.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Hc}`,placeholder:`height ${Hc}, width ${Hc}, margin ${Hc}`},TC=e=>Ul(e,Ar)?void 0:`translate(${e.x}px, ${e.y}px)`,XS={moveTo:TC,drop:(e,t)=>{const n=TC(e);if(n)return t?`${n} scale(${dm.scale.drop})`:n}},{minDropTime:JS,maxDropTime:bB}=yB,$V=bB-JS,kC=1500,BV=.6;var zV=({current:e,destination:t,reason:n})=>{const r=lm(e,t);if(r<=0)return JS;if(r>=kC)return bB;const i=r/kC,a=JS+$V*i,s=n==="CANCEL"?a*BV:a;return Number(s.toFixed(2))},UV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:s}=n,c=ia(e),d=c?s[c]:null,f=s[t.descriptor.droppableId],m=fB({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:d||f,viewport:r});return na(m,t.client.borderBox.center)},HV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:dB({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:cm},didDropInsideDroppable:!0};const FV=({getState:e,dispatch:t})=>n=>r=>{if(!Ft(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(RV({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Fe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Fe();const c=i.critical,d=i.dimensions,f=d.draggables[i.critical.draggable.id],{impact:m,didDropInsideDroppable:p}=HV({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),y=p?$2(m):null,b=p?zy(m):null,x={index:c.draggable.index,droppableId:c.droppable.id},T={draggableId:f.descriptor.id,type:f.descriptor.type,source:x,reason:a,mode:i.movementMode,destination:y,combine:b},E=UV({impact:m,draggable:f,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),j={critical:i.critical,afterCritical:i.afterCritical,result:T,impact:m};if(!(!Ul(i.current.client.offset,E)||!!T.combine)){t(q2({completed:j}));return}const O=zV({current:i.current.client.offset,destination:E,reason:a});t(PV({newHomeClientOffset:E,dropDuration:O,completed:j}))};var _B=()=>({x:window.pageXOffset,y:window.pageYOffset});function GV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function qV({onWindowScroll:e}){function t(){e(_B())}const n=sm(t),r=GV(n);let i=zl;function a(){return i!==zl}function s(){a()&&Fe(),i=ja(window,[r])}function c(){a()||Fe(),n.cancel(),i(),i=zl}return{start:s,stop:c,isActive:a}}const YV=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH"),KV=e=>{const t=qV({onWindowScroll:n=>{e.dispatch(OV({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ft(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&YV(r)&&t.stop(),n(r)}};var WV=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},VV=()=>{const e=[],t=i=>{const a=e.findIndex(c=>c.timerId===i);a===-1&&Fe();const[s]=e.splice(a,1);s.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),s={timerId:a,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const ZV=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,XV=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,JV=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Th=(e,t)=>{t()},Yg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function rw(e,t,n,r){if(!e){n(r(t));return}const i=WV(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var QV=(e,t)=>{const n=VV();let r=null;const i=(p,y)=>{r&&Fe(),Th("onBeforeCapture",()=>{const b=e().onBeforeCapture;b&&b({draggableId:p,mode:y})})},a=(p,y)=>{r&&Fe(),Th("onBeforeDragStart",()=>{const b=e().onBeforeDragStart;b&&b(Yg(p,y))})},s=(p,y)=>{r&&Fe();const b=Yg(p,y);r={mode:y,lastCritical:p,lastLocation:b.source,lastCombine:null},n.add(()=>{Th("onDragStart",()=>rw(e().onDragStart,b,t,ev.onDragStart))})},c=(p,y)=>{const b=$2(y),x=zy(y);r||Fe();const T=!JV(p,r.lastCritical);T&&(r.lastCritical=p);const E=!ZV(r.lastLocation,b);E&&(r.lastLocation=b);const j=!XV(r.lastCombine,x);if(j&&(r.lastCombine=x),!T&&!E&&!j)return;const D={...Yg(p,r.mode),combine:x,destination:b};n.add(()=>{Th("onDragUpdate",()=>rw(e().onDragUpdate,D,t,ev.onDragUpdate))})},d=()=>{r||Fe(),n.flush()},f=p=>{r||Fe(),r=null,Th("onDragEnd",()=>rw(e().onDragEnd,p,t,ev.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:s,update:c,flush:d,drop:f,abort:()=>{if(!r)return;const p={...Yg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},eZ=(e,t)=>{const n=QV(e,t);return r=>i=>a=>{if(Ft(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ft(a,"INITIAL_PUBLISH")){const c=a.payload.critical;n.beforeStart(c,a.payload.movementMode),i(a),n.start(c,a.payload.movementMode);return}if(Ft(a,"DROP_COMPLETE")){const c=a.payload.completed.result;n.flush(),i(a),n.drop(c);return}if(i(a),Ft(a,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const tZ=e=>t=>n=>{if(!Ft(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Fe(),e.dispatch(q2({completed:r.completed}))},nZ=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((Ft(a,"FLUSH")||Ft(a,"DROP_COMPLETE")||Ft(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!Ft(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(vB())}};n=requestAnimationFrame(()=>{n=null,t=ja(window,[s])})}};var rZ=e=>()=>t=>n=>{(Ft(n,"DROP_COMPLETE")||Ft(n,"FLUSH")||Ft(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},iZ=e=>{let t=!1;return()=>n=>r=>{if(Ft(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ft(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ft(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const aZ=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH");var oZ=e=>t=>n=>r=>{if(aZ(r)){e.stop(),n(r);return}if(Ft(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Fe(),e.start(i);return}n(r),e.scroll(t.getState())};const sZ=e=>t=>n=>{if(t(n),!Ft(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(gB({reason:r.reason})))},lZ=om;var cZ=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>M2(bV,lZ(P$(IV(n),rZ(e),LV(e),FV,tZ,nZ,sZ,oZ(a),KV,iZ(t),eZ(r,i))));const iw=()=>({additions:{},removals:{},modified:{}});function uZ({registry:e,callbacks:t}){let n=iw(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:d,removals:f,modified:m}=n,p=Object.keys(d).map(x=>e.draggable.getById(x).getDimension(Ar)).sort((x,T)=>x.descriptor.index-T.descriptor.index),y=Object.keys(m).map(x=>{const E=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:E}}),b={additions:p,removals:Object.keys(f),modified:y};n=iw(),t.publish(b)}))};return{add:d=>{const f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},remove:d=>{const f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=iw())}}}var xB=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=na({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},wB=()=>{const e=document.documentElement;return e||Fe(),e},SB=()=>{const e=wB();return xB({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},dZ=()=>{const e=_B(),t=SB(),n=e.y,r=e.x,i=wB(),a=i.clientWidth,s=i.clientHeight,c=r+a,d=n+s;return{frame:fo({top:n,left:r,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:Ar,displacement:Ar}}}},fZ=({critical:e,scrollOptions:t,registry:n})=>{const r=dZ(),i=r.scroll.current,a=e.droppable,s=n.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(i,t)),c=n.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(i));return{dimensions:{draggables:X$(c),droppables:Z$(s)},critical:e,viewport:r}};function OC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var hZ=(e,t)=>{let n=null;const r=uZ({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(y,b)=>{e.droppable.exists(y)||Fe(),n&&t.updateDroppableIsEnabled({id:y,isEnabled:b})},a=(y,b)=>{n&&(e.droppable.exists(y)||Fe(),t.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:b}))},s=(y,b)=>{n&&(e.droppable.exists(y)||Fe(),t.updateDroppableScroll({id:y,newScroll:b}))},c=(y,b)=>{n&&e.droppable.getById(y).callbacks.scroll(b)},d=()=>{if(!n)return;r.stop();const y=n.critical.droppable;e.droppable.getAllByType(y.type).forEach(b=>b.callbacks.dragStopped()),n.unsubscribe(),n=null},f=y=>{n||Fe();const b=n.critical.draggable;y.type==="ADDITION"&&OC(e,b,y.value)&&r.add(y.value),y.type==="REMOVAL"&&OC(e,b,y.value)&&r.remove(y.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:s,startPublishing:y=>{n&&Fe();const b=e.draggable.getById(y.draggableId),x=e.droppable.getById(b.descriptor.droppableId),T={draggable:b.descriptor,droppable:x.descriptor},E=e.subscribe(f);return n={critical:T,unsubscribe:E},fZ({critical:T,registry:e,scrollOptions:y.scrollOptions})},stopPublishing:d}},EB=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",mZ=e=>{window.scrollBy(e.x,e.y)};const pZ=Sr(e=>By(e).filter(t=>!(!t.isEnabled||!t.frame))),gZ=(e,t)=>pZ(t).find(r=>(r.frame||Fe(),sB(r.frame.pageMarginBox)(e)))||null;var vZ=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return gZ(e,n)};const fm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var yZ=(e,t,n=()=>fm)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},AB=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},K2=1,bZ=(e,t,n=()=>fm)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return K2;const a=1-AB({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(a);return Math.ceil(s)},_Z=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,s=t,c=a,f=Date.now()-s;if(f>=a)return e;if(f<i)return K2;const m=AB({startOfRange:i,endOfRange:c,current:f}),p=e*r.ease(m);return Math.ceil(p)},jC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=bZ(e,t,i);return a===0?0:r?Math.max(_Z(a,n,i),K2):a},NC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=yZ(e,r,a);return t[r.end]<t[r.start]?jC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*jC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},xZ=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const wZ=V$(e=>e===0?0:e);var TB=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=NC({container:t,distanceToEdges:s,dragStartTime:e,axis:B2,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=NC({container:t,distanceToEdges:s,dragStartTime:e,axis:eB,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=wZ({x:d,y:c});if(Ul(f,Ar))return null;const m=xZ({container:t,subject:n,proposedScroll:f});return m?Ul(m,Ar)?null:m:null};const SZ=V$(e=>e===0?0:e>0?1:-1),W2=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Ir(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Ul(a,Ar)?null:a}})(),kB=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=SZ(n),a=W2({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},V2=(e,t)=>kB({current:e.scroll.current,max:e.scroll.max,change:t}),EZ=(e,t)=>{if(!V2(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return W2({current:r,max:n,change:t})},Z2=(e,t)=>{const n=e.frame;return n?kB({current:n.scroll.current,max:n.scroll.max,change:t}):!1},AZ=(e,t)=>{const n=e.frame;return!n||!Z2(e,t)?null:W2({current:n.scroll.current,max:n.scroll.max,change:t})};var TZ=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=TB({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&V2(e,s)?s:null},kZ=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=e.frame;if(!s)return null;const c=TB({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return c&&Z2(e,c)?c:null},CC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,y=TZ({dragStartTime:t,viewport:p,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(y){r(y);return}}const f=vZ({center:s,destination:ia(e.impact),droppables:e.dimensions.droppables});if(!f)return;const m=kZ({dragStartTime:t,droppable:f,subject:d,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});m&&i(f.descriptor.id,m)},OZ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>fm})=>{const r=sm(e),i=sm(t);let a=null;const s=f=>{a||Fe();const{shouldUseTimeDampening:m,dragStartTime:p}=a;CC({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:m,getAutoScrollerOptions:n})};return{start:f=>{a&&Fe();const m=Date.now();let p=!1;const y=()=>{p=!0};CC({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:n}),a={dragStartTime:m,shouldUseTimeDampening:p},p&&s(f)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:s}},jZ=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(c,d)=>{const f=Ir(c.current.client.selection,d);e({client:f})},i=(c,d)=>{if(!Z2(c,d))return d;const f=AZ(c,d);if(!f)return t(c.descriptor.id,d),null;const m=na(d,f);return t(c.descriptor.id,m),na(d,m)},a=(c,d,f)=>{if(!c||!V2(d,f))return f;const m=EZ(d,f);if(!m)return n(f),null;const p=na(f,m);return n(p),na(f,p)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const f=ia(c.impact);f||Fe();const m=i(c.dimensions.droppables[f],d);if(!m)return;const p=c.viewport,y=a(c.isWindowScrollAllowed,p,m);y&&r(c,y)}},NZ=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=OZ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=jZ({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:d=>{if(!(r().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&a(d)}},start:i.start,stop:i.stop}};const Kd="data-rfd",Wd=(()=>{const e=`${Kd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),QS=(()=>{const e=`${Kd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),CZ=(()=>{const e=`${Kd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),MC={contextId:`${Kd}-scroll-container-context-id`},MZ=e=>t=>`[${t}="${e}"]`,kh=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),DZ="pointer-events: none;";var PZ=e=>{const t=MZ(e),n=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Wd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:DZ,dropAnimating:c}}})(),r=(()=>{const c=`
      transition: ${Qh.outOfTheWay};
    `;return{selector:t(QS.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),i={selector:t(CZ.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:kh(s,"always"),resting:kh(s,"resting"),dragging:kh(s,"dragging"),dropAnimating:kh(s,"dropAnimating"),userCancel:kh(s,"userCancel")}};const aa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,aw=()=>{const e=document.querySelector("head");return e||Fe(),e},DC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function RZ(e,t){const n=Ct(()=>PZ(e),[e]),r=A.useRef(null),i=A.useRef(null),a=tt(Sr(p=>{const y=i.current;y||Fe(),y.textContent=p}),[]),s=tt(p=>{const y=r.current;y||Fe(),y.textContent=p},[]);aa(()=>{!r.current&&!i.current||Fe();const p=DC(t),y=DC(t);return r.current=p,i.current=y,p.setAttribute(`${Kd}-always`,e),y.setAttribute(`${Kd}-dynamic`,e),aw().appendChild(p),aw().appendChild(y),s(n.always),a(n.resting),()=>{const b=x=>{const T=x.current;T||Fe(),aw().removeChild(T),x.current=null};b(r),b(i)}},[t,s,a,n.always,n.resting,e]);const c=tt(()=>a(n.dragging),[a,n.dragging]),d=tt(p=>{if(p==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),f=tt(()=>{i.current&&a(n.resting)},[a,n.resting]);return Ct(()=>({dragging:c,dropping:d,resting:f}),[c,d,f])}function OB(e,t){return Array.from(e.querySelectorAll(t))}var jB=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Fy(e){return e instanceof jB(e).HTMLElement}function LZ(e,t){const n=`[${Wd.contextId}="${e}"]`,r=OB(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Wd.draggableId)===t);return!i||!Fy(i)?null:i}function IZ(e){const t=A.useRef({}),n=A.useRef(null),r=A.useRef(null),i=A.useRef(!1),a=tt(function(y,b){const x={id:y,focus:b};return t.current[y]=x,function(){const E=t.current;E[y]!==x&&delete E[y]}},[]),s=tt(function(y){const b=LZ(e,y);b&&b!==document.activeElement&&b.focus()},[e]),c=tt(function(y,b){n.current===y&&(n.current=b)},[]),d=tt(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const y=n.current;y&&s(y)}))},[s]),f=tt(function(y){n.current=null;const b=document.activeElement;b&&b.getAttribute(Wd.draggableId)===y&&(n.current=y)},[]);return aa(()=>(i.current=!0,function(){i.current=!1;const y=r.current;y&&cancelAnimationFrame(y)}),[]),Ct(()=>({register:a,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[a,f,d,c])}function $Z(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const b=t.indexOf(p);b!==-1&&t.splice(b,1)}}function r(p){t.length&&t.forEach(y=>y(p))}function i(p){return e.draggables[p]||null}function a(p){const y=i(p);return y||Fe(),y}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,y)=>{const b=e.draggables[y.descriptor.id];b&&b.uniqueId===p.uniqueId&&(delete e.draggables[y.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const y=p.descriptor.id,b=i(y);b&&p.uniqueId===b.uniqueId&&(delete e.draggables[y],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:a,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(y=>y.descriptor.type===p)};function c(p){return e.droppables[p]||null}function d(p){const y=c(p);return y||Fe(),y}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const y=c(p.descriptor.id);y&&p.uniqueId===y.uniqueId&&delete e.droppables[p.descriptor.id]},getById:d,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(y=>y.descriptor.type===p)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:f,subscribe:n,clean:m}}function BZ(){const e=Ct($Z,[]);return A.useEffect(()=>function(){e.clean()},[e]),e}var X2=cn.createContext(null),Nv=()=>{const e=document.body;return e||Fe(),e};const zZ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},UZ=e=>`rfd-announcement-${e}`;function HZ(e){const t=Ct(()=>UZ(e),[e]),n=A.useRef(null);return A.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Tv(a.style,zZ),Nv().appendChild(a),function(){setTimeout(function(){const d=Nv();d.contains(a)&&d.removeChild(a),a===n.current&&(n.current=null)})}},[t]),tt(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const FZ={separator:"::"};function J2(e,t=FZ){const n=cn.useId();return Ct(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function GZ({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function qZ({contextId:e,text:t}){const n=J2("hidden-text",{separator:"-"}),r=Ct(()=>GZ({contextId:e,uniqueId:n}),[n,e]);return A.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Nv().appendChild(a),function(){const c=Nv();c.contains(a)&&c.removeChild(a)}},[r,t]),r}var Gy=cn.createContext(null);function NB(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),t}function YZ(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Fe();const c={abandon:s};return e=c,c}function i(){e||Fe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function hm(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const KZ=9,WZ=13,Q2=27,CB=32,VZ=33,ZZ=34,XZ=35,JZ=36,QZ=37,eX=38,tX=39,nX=40,rX={[WZ]:!0,[KZ]:!0};var MB=e=>{rX[e.keyCode]&&e.preventDefault()};const qy=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),DB=0,PC=5;function iX(e,t){return Math.abs(t.x-e.x)>=PC||Math.abs(t.y-e.y)>=PC}const RC={type:"IDLE"};function aX({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:s,clientY:c}=i;if(a!==DB)return;const d={x:s,y:c},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Fe();const m=f.point;if(!iX(m,d))return;i.preventDefault();const p=f.actions.fluidLift(d);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===Q2){i.preventDefault(),e();return}MB(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&Fe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:qy,fn:e}]}function oX(e){const t=A.useRef(RC),n=A.useRef(zl),r=Ct(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==DB||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const y=e.findClosestDraggableId(p);if(!y)return;const b=e.tryGetLock(y,s,{sourceEvent:p});if(!b)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),f(b,x)}}),[e]),i=Ct(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const y=e.findOptionsForDraggable(p);y&&(y.shouldRespectForcePress||e.canGetLock(p)&&m.preventDefault())}}),[e]),a=tt(function(){const p={passive:!1,capture:!0};n.current=ja(window,[i,r],p)},[i,r]),s=tt(()=>{t.current.type!=="IDLE"&&(t.current=RC,n.current(),a())},[a]),c=tt(()=>{const m=t.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),d=tt(function(){const p={capture:!0,passive:!1},y=aX({cancel:c,completed:s,getPhase:()=>t.current,setPhase:b=>{t.current=b}});n.current=ja(window,y,p)},[c,s]),f=tt(function(p,y){t.current.type!=="IDLE"&&Fe(),t.current={type:"PENDING",point:y,actions:p},d()},[d]);aa(function(){return a(),function(){n.current()}},[a])}function sX(){}const lX={[ZZ]:!0,[VZ]:!0,[JZ]:!0,[XZ]:!0};function cX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Q2){i.preventDefault(),n();return}if(i.keyCode===CB){i.preventDefault(),r();return}if(i.keyCode===nX){i.preventDefault(),e.moveDown();return}if(i.keyCode===eX){i.preventDefault(),e.moveUp();return}if(i.keyCode===tX){i.preventDefault(),e.moveRight();return}if(i.keyCode===QZ){i.preventDefault(),e.moveLeft();return}if(lX[i.keyCode]){i.preventDefault();return}MB(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:qy,fn:n}]}function uX(e){const t=A.useRef(sX),n=Ct(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==CB)return;const s=e.findClosestDraggableId(a);if(!s)return;const c=e.tryGetLock(s,m,{sourceEvent:a});if(!c)return;a.preventDefault();let d=!0;const f=c.snapLift();t.current();function m(){d||Fe(),d=!1,t.current(),r()}t.current=ja(window,cX(f,m),{capture:!0,passive:!1})}}),[e]),r=tt(function(){const a={passive:!1,capture:!0};t.current=ja(window,[n],a)},[n]);aa(function(){return r(),function(){t.current()}},[r])}const ow={type:"IDLE"},dX=120,fX=.15;function hX({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Q2&&n.preventDefault(),e()}},{eventName:qy,fn:e}]}function mX({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:s}=r.touches[0],c={x:a,y:s};r.preventDefault(),i.actions.move(c)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Fe();const a=r.touches[0];if(!a||!(a.force>=fX))return;const c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&e();return}if(c){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:qy,fn:e}]}function pX(e){const t=A.useRef(ow),n=A.useRef(zl),r=tt(function(){return t.current},[]),i=tt(function(b){t.current=b},[]),a=Ct(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const x=e.findClosestDraggableId(b);if(!x)return;const T=e.tryGetLock(x,c,{sourceEvent:b});if(!T)return;const E=b.touches[0],{clientX:j,clientY:D}=E,O={x:j,y:D};n.current(),p(T,O)}}),[e]),s=tt(function(){const b={capture:!0,passive:!1};n.current=ja(window,[a],b)},[a]),c=tt(()=>{const y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(ow),n.current(),s())},[s,i]),d=tt(()=>{const y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),f=tt(function(){const b={capture:!0,passive:!1},x={cancel:d,completed:c,getPhase:r},T=ja(window,mX(x),b),E=ja(window,hX(x),b);n.current=function(){T(),E()}},[d,r,c]),m=tt(function(){const b=r();b.type!=="PENDING"&&Fe();const x=b.actions.fluidLift(b.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=tt(function(b,x){r().type!=="IDLE"&&Fe();const T=setTimeout(m,dX);i({type:"PENDING",point:x,actions:b,longPressTimerId:T}),f()},[f,r,i,m]);aa(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(ow))}},[r,s,i]),aa(function(){return ja(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const gX=["input","button","textarea","select","option","optgroup","video","audio"];function PB(e,t){if(t==null)return!1;if(gX.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:PB(e,t.parentElement)}function vX(e,t){const n=t.target;return Fy(n)?PB(e,n):!1}var yX=e=>fo(e.getBoundingClientRect()).center;function bX(e){return e instanceof jB(e).Element}const _X=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function RB(e,t){return e==null?null:e[_X](t)?e:RB(e.parentElement,t)}function xX(e,t){return e.closest?e.closest(t):RB(e,t)}function wX(e){return`[${Wd.contextId}="${e}"]`}function SX(e,t){const n=t.target;if(!bX(n))return null;const r=wX(e),i=xX(n,r);return!i||!Fy(i)?null:i}function EX(e,t){const n=SX(e,t);return n?n.getAttribute(Wd.draggableId):null}function AX(e,t){const n=`[${QS.contextId}="${e}"]`,i=OB(document,n).find(a=>a.getAttribute(QS.id)===t);return!i||!Fy(i)?null:i}function TX(e){e.preventDefault()}function Kg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function LB({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!EB(t.getState(),r))}function kX({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:s}){if(!LB({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const d=r.draggable.getById(i),f=AX(t,d.descriptor.id);if(!f||s&&!d.options.canDragInteractiveElements&&vX(f,s))return null;const m=e.claim(a||zl);let p="PRE_DRAG";function y(){return d.options.shouldRespectForcePress}function b(){return e.isActive(m)}function x(N,R){Kg({expected:N,phase:p,isLockActive:b,shouldWarn:!0})&&n.dispatch(R())}const T=x.bind(null,"DRAGGING");function E(N){function R(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(R(),Fe()),n.dispatch(xV(N.liftActionArgs)),p="DRAGGING";function $(z,G={shouldBlockNextClick:!1}){if(N.cleanup(),G.shouldBlockNextClick){const V=ja(window,[{eventName:"click",fn:TX,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}R(),n.dispatch(gB({reason:z}))}return{isActive:()=>Kg({expected:"DRAGGING",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,drop:z=>$("DROP",z),cancel:z=>$("CANCEL",z),...N.actions}}function j(N){const R=sm(z=>{T(()=>pB({client:z}))});return{...E({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function D(){const N={moveUp:()=>T(NV),moveRight:()=>T(MV),moveDown:()=>T(CV),moveLeft:()=>T(DV)};return E({liftActionArgs:{id:i,clientSelection:yX(f),movementMode:"SNAP"},cleanup:zl,actions:N})}function O(){Kg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!0})&&e.release()}return{isActive:()=>Kg({expected:"PRE_DRAG",phase:p,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:j,snapLift:D,abort:O}}const OX=[oX,uX,pX];function jX({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?OX:[],...r||[]],s=A.useState(()=>YZ())[0],c=tt(function(E,j){hm(E)&&!hm(j)&&s.tryAbandon()},[s]);aa(function(){let E=t.getState();return t.subscribe(()=>{const D=t.getState();c(E,D),E=D})},[s,t,c]),aa(()=>s.tryAbandon,[s.tryAbandon]);const d=tt(T=>LB({lockAPI:s,registry:n,store:t,draggableId:T}),[s,n,t]),f=tt((T,E,j)=>kX({lockAPI:s,registry:n,contextId:e,store:t,draggableId:T,forceSensorStop:E||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,s,n,t]),m=tt(T=>EX(e,T),[e]),p=tt(T=>{const E=n.draggable.findById(T);return E?E.options:null},[n.draggable]),y=tt(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(G2()))},[s,t]),b=tt(()=>s.isClaimed(),[s]),x=Ct(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:y,isLockClaimed:b}),[d,f,m,p,y,b]);for(let T=0;T<a.length;T++)a[T](x)}const NX=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};lf.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),CX=e=>({...fm,...e.autoScrollerOptions,durationDampening:{...fm.durationDampening,...e.autoScrollerOptions}});function Oh(e){return e.current||Fe(),e.current}function MX(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,s=A.useRef(null),c=NB(e),d=tt(()=>NX(c.current),[c]),f=tt(()=>CX(c.current),[c]),m=HZ(t),p=qZ({contextId:t,text:a}),y=RZ(t,i),b=tt(V=>{Oh(s).dispatch(V)},[]),x=Ct(()=>sC({publishWhileDragging:SV,updateDroppableScroll:AV,updateDroppableIsEnabled:TV,updateDroppableIsCombineEnabled:kV,collectionStarting:EV},b),[b]),T=BZ(),E=Ct(()=>hZ(T,x),[T,x]),j=Ct(()=>NZ({scrollWindow:mZ,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:f,...sC({move:pB},b)}),[E.scrollDroppable,b,f]),D=IZ(t),O=Ct(()=>cZ({announce:m,autoScroller:j,dimensionMarshal:E,focusMarshal:D,getResponders:d,styleMarshal:y}),[m,j,E,D,d,y]);s.current=O;const M=tt(()=>{const V=Oh(s);V.getState().phase!=="IDLE"&&V.dispatch(G2())},[]),N=tt(()=>{const V=Oh(s).getState();return V.phase==="DROP_ANIMATING"?!0:V.phase==="IDLE"?!1:V.isDragging},[]),R=Ct(()=>({isDragging:N,tryAbort:M}),[N,M]);n(R);const $=tt(V=>EB(Oh(s).getState(),V),[]),z=tt(()=>Xc(Oh(s).getState()),[]),G=Ct(()=>({marshal:E,focus:D,contextId:t,canLift:$,isMovementAllowed:z,dragHandleUsageInstructionsId:p,registry:T}),[t,E,p,D,$,z,T]);return jX({contextId:t,store:O,registry:T,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),A.useEffect(()=>M,[M]),cn.createElement(Gy.Provider,{value:G},cn.createElement(H$,{context:X2,store:O},e.children))}function DX(){return cn.useId()}function qm(e){const t=DX(),n=e.dragHandleUsageInstructions||ev.dragHandleUsageInstructions;return cn.createElement(uW,null,r=>cn.createElement(MX,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const LC={dragging:5e3,dropAnimating:4500},PX=(e,t)=>t?Qh.drop(t.duration):e?Qh.snap:Qh.fluid,RX=(e,t)=>{if(e)return t?dm.opacity.drop:dm.opacity.combining},LX=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function IX(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,s=!!i,c=LX(e),d=!!a,f=d?XS.drop(r,s):XS.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:PX(c,a),transform:f,opacity:RX(s,d),zIndex:d?LC.dropAnimating:LC.dragging,pointerEvents:"none"}}function $X(e){return{transform:XS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function BX(e){return e.type==="DRAGGING"?IX(e):$X(e)}function zX(e,t,n=Ar){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=F$(i,r),s=Av(a,n),c={client:a,tagName:t.tagName.toLowerCase(),display:r.display},d={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:a,page:s}}function UX(e){const t=J2("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}=e,d=Ct(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}),[a,c,s]),f=tt(b=>{const x=i();return x||Fe(),zX(n,x,b)},[n,i]),m=Ct(()=>({uniqueId:t,descriptor:n,options:d,getDimension:f}),[n,f,d,t]),p=A.useRef(m),y=A.useRef(!0);aa(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),aa(()=>{if(y.current){y.current=!1;return}const b=p.current;p.current=m,r.draggable.update(m,b)},[m,r.draggable])}var eA=cn.createContext(null);function Cv(e){const t=A.useContext(e);return t||Fe(),t}function HX(e){e.preventDefault()}const FX=e=>{const t=A.useRef(null),n=tt((R=null)=>{t.current=R},[]),r=tt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=Cv(Gy),{type:c,droppableId:d}=Cv(eA),f=Ct(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:m,draggableId:p,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:x,isClone:T,mapped:E,dropAnimationFinished:j}=e;if(!T){const R=Ct(()=>({descriptor:f,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:b,isEnabled:y}),[f,s,r,x,b,y]);UX(R)}const D=Ct(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:HX}:null,[i,a,p,y]),O=tt(R=>{E.type==="DRAGGING"&&E.dropping&&R.propertyName==="transform"&&lf.flushSync(j)},[j,E]),M=Ct(()=>{const R=BX(E),$=E.type==="DRAGGING"&&E.dropping?O:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:R,onTransitionEnd:$},dragHandleProps:D}},[i,D,p,E,O,n]),N=Ct(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return cn.createElement(cn.Fragment,null,m(M,E.snapshot,N))};var IB=(e,t)=>e===t,$B=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const GX=e=>e.combine?e.combine.draggableId:null,qX=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function YX(){const e=Sr((i,a)=>({x:i,y:a})),t=Sr((i,a,s=null,c=null,d=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!d,dropAnimation:d,mode:i,draggingOver:s,combineWith:c,combineTargetFor:null})),n=Sr((i,a,s,c,d=null,f=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:a,offset:i,dimension:s,forceShouldAnimate:m,snapshot:t(a,c,d,f,null)}}));return(i,a)=>{if(hm(i)){if(i.critical.draggable.id!==a.draggableId)return null;const s=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],d=ia(i.impact),f=qX(i.impact),m=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,c,a.isClone,d,f,m)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==a.draggableId)return null;const c=a.isClone,d=i.dimensions.draggables[a.draggableId],f=s.result,m=f.mode,p=$B(f),y=GX(f),x={duration:i.dropDuration,curve:Y2.drop,moveTo:i.newHomeClientOffset,opacity:y?dm.opacity.drop:null,scale:y?dm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:d,dropping:x,draggingOver:p,combineWith:y,mode:m,forceShouldAnimate:null,snapshot:t(m,c,p,y,x)}}}return null}}function BB(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const KX={mapped:{type:"SECONDARY",offset:Ar,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:BB(null)}};function WX(){const e=Sr((s,c)=>({x:s,y:c})),t=Sr(BB),n=Sr((s,c=null,d)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),r=s=>s?n(Ar,s,!0):null,i=(s,c,d,f)=>{const m=d.displaced.visible[s],p=!!(f.inVirtualList&&f.effected[s]),y=zy(d),b=y&&y.draggableId===s?c:null;if(!m){if(!p)return r(b);if(d.displaced.invisible[s])return null;const E=df(f.displacedBy.point),j=e(E.x,E.y);return n(j,b,!0)}if(p)return r(b);const x=d.displacedBy.point,T=e(x.x,x.y);return n(T,b,m.shouldAnimate)};return(s,c)=>{if(hm(s))return s.critical.draggable.id===c.draggableId?null:i(c.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const d=s.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const VX=()=>{const e=YX(),t=WX();return(r,i)=>e(r,i)||t(r,i)||KX},ZX={dropAnimationFinished:vB},XX=U$(VX,ZX,null,{context:X2,areStatePropsEqual:IB})(FX);function zB(e){return Cv(eA).isUsingCloneFor===e.draggableId&&!e.isClone?null:cn.createElement(XX,e)}function Vd(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return cn.createElement(zB,Tv({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const UB=e=>t=>e===t,JX=UB("scroll"),QX=UB("auto"),IC=(e,t)=>t(e.overflowX)||t(e.overflowY),eJ=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return IC(n,JX)||IC(n,QX)},tJ=()=>!1,HB=e=>e==null?null:e===document.body?tJ()?e:null:e===document.documentElement?null:eJ(e)?e:HB(e.parentElement);var eE=e=>({x:e.scrollLeft,y:e.scrollTop});const FB=e=>e?window.getComputedStyle(e).position==="fixed"?!0:FB(e.parentElement):!1;var nJ=e=>{const t=HB(e),n=FB(e);return{closestScrollable:t,isFixedOnPage:n}},rJ=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:s,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:y,client:b}=c,x=xB({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:b,scrollSize:y,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:Ar,displacement:Ar}}}})(),f=i==="vertical"?B2:eB,m=Yd({page:s,withPlaceholder:null,axis:f,frame:d});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:f,isEnabled:t,client:a,page:s,frame:d,subject:m}};const iJ=(e,t)=>{const n=G$(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,s=i+t.scrollWidth,d=R2({top:r,right:s,bottom:a,left:i},n.border);return L2({borderBox:d,margin:n.margin,border:n.border,padding:n.padding})};var aJ=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:c})=>{const d=n.closestScrollable,f=iJ(e,d),m=Av(f,r),p=(()=>{if(!d)return null;const b=G$(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:b,page:Av(b,r),scroll:eE(d),scrollSize:x,shouldClipSubject:c}})();return rJ({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:m,closest:p})};const oJ={passive:!1},sJ={passive:!0};var $C=e=>e.shouldPublishImmediately?oJ:sJ;const Wg=e=>e&&e.env.closestScrollable||null;function lJ(e){const t=A.useRef(null),n=Cv(Gy),r=J2("droppable"),{registry:i,marshal:a}=n,s=NB(e),c=Ct(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=A.useRef(c),f=Ct(()=>Sr((M,N)=>{t.current||Fe();const R={x:M,y:N};a.updateDroppableScroll(c.id,R)}),[c.id,a]),m=tt(()=>{const M=t.current;return!M||!M.env.closestScrollable?Ar:eE(M.env.closestScrollable)},[]),p=tt(()=>{const M=m();f(M.x,M.y)},[m,f]),y=Ct(()=>sm(p),[p]),b=tt(()=>{const M=t.current,N=Wg(M);if(M&&N||Fe(),M.scrollOptions.shouldPublishImmediately){p();return}y()},[y,p]),x=tt((M,N)=>{t.current&&Fe();const R=s.current,$=R.getDroppableRef();$||Fe();const z=nJ($),G={ref:$,descriptor:c,env:z,scrollOptions:N};t.current=G;const V=aJ({ref:$,descriptor:c,env:z,windowScroll:M,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),H=z.closestScrollable;return H&&(H.setAttribute(MC.contextId,n.contextId),H.addEventListener("scroll",b,$C(G.scrollOptions))),V},[n.contextId,c,b,s]),T=tt(()=>{const M=t.current,N=Wg(M);return M&&N||Fe(),eE(N)},[]),E=tt(()=>{const M=t.current;M||Fe();const N=Wg(M);t.current=null,N&&(y.cancel(),N.removeAttribute(MC.contextId),N.removeEventListener("scroll",b,$C(M.scrollOptions)))},[b,y]),j=tt(M=>{const N=t.current;N||Fe();const R=Wg(N);R||Fe(),R.scrollTop+=M.y,R.scrollLeft+=M.x},[]),D=Ct(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:T,dragStopped:E,scroll:j}),[E,x,T,j]),O=Ct(()=>({uniqueId:r,descriptor:c,callbacks:D}),[D,c,r]);aa(()=>(d.current=O.descriptor,i.droppable.register(O),()=>{t.current&&E(),i.droppable.unregister(O)}),[D,c,E,O,a,i.droppable]),aa(()=>{t.current&&a.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),aa(()=>{t.current&&a.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function sw(){}const BC={width:0,height:0,margin:vW},cJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?BC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},uJ=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=cJ({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Qh.placeholder:null}},dJ=e=>{const t=A.useRef(null),n=tt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=e,[c,d]=A.useState(e.animate==="open");A.useEffect(()=>c?r!=="open"?(n(),d(!1),sw):t.current?sw:(t.current=setTimeout(()=>{t.current=null,d(!1)}),n):sw,[r,c,n]);const f=tt(p=>{p.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),m=uJ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return cn.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":s,onTransitionEnd:f,ref:e.innerRef})};var fJ=cn.memo(dJ);class hJ extends cn.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const mJ=e=>{const t=A.useContext(Gy);t||Fe();const{contextId:n,isMovementAllowed:r}=t,i=A.useRef(null),a=A.useRef(null),{children:s,droppableId:c,type:d,mode:f,direction:m,ignoreContainerClipping:p,isDropDisabled:y,isCombineEnabled:b,snapshot:x,useClone:T,updateViewportMaxScroll:E,getContainerForClone:j}=e,D=tt(()=>i.current,[]),O=tt((H=null)=>{i.current=H},[]);tt(()=>a.current,[]);const M=tt((H=null)=>{a.current=H},[]),N=tt(()=>{r()&&E({maxScroll:SB()})},[r,E]);lJ({droppableId:c,type:d,mode:f,direction:m,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:D});const R=Ct(()=>cn.createElement(hJ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:H,data:U,animate:Z})=>cn.createElement(fJ,{placeholder:U,onClose:H,innerRef:M,animate:Z,contextId:n,onTransitionEnd:N})),[n,N,e.placeholder,e.shouldAnimatePlaceholder,M]),$=Ct(()=>({innerRef:O,placeholder:R,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,R,O]),z=T?T.dragging.draggableId:null,G=Ct(()=>({droppableId:c,type:d,isUsingCloneFor:z}),[c,z,d]);function V(){if(!T)return null;const{dragging:H,render:U}=T,Z=cn.createElement(zB,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(re,ve)=>U(re,ve,H));return eF.createPortal(Z,j())}return cn.createElement(eA.Provider,{value:G},s($,x),V())};function pJ(){return document.body||Fe(),document.body}const zC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:pJ},GB=e=>{let t={...e},n;for(n in zC)e[n]===void 0&&(t={...t,[n]:zC[n]});return t},lw=(e,t)=>e===t.droppable.type,UC=(e,t)=>t.draggables[e.draggable.id],gJ=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Sr(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Sr((a,s,c,d,f,m)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===a){const x=m?{render:m,dragging:n(f.descriptor)}:null,T={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:x}}if(!s)return t;if(!d)return e;const b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(a,s)=>{const c=GB(s),d=c.droppableId,f=c.type,m=!c.isDropDisabled,p=c.renderClone;if(hm(a)){const y=a.critical;if(!lw(f,y))return t;const b=UC(y,a.dimensions),x=ia(a.impact)===d;return r(d,m,x,x,b,p)}if(a.phase==="DROP_ANIMATING"){const y=a.completed;if(!lw(f,y.critical))return t;const b=UC(y.critical,a.dimensions);return r(d,m,$B(y.result)===d,ia(y.impact)===d,b,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const y=a.completed;if(!lw(f,y.critical))return t;const b=ia(y.impact)===d,x=!!(y.impact.at&&y.impact.at.type==="COMBINE"),T=y.critical.droppable.id===d;return b?x?e:t:T?e:t}return t}},vJ={updateViewportMaxScroll:jV},cu=U$(gJ,vJ,(e,t,n)=>({...GB(n),...e,...t}),{context:X2,areStatePropsEqual:IB})(mJ),yJ={1948:{start:new Date(1948,4,1),end:new Date(1948,7,13)},1949:{start:new Date(1949,2,3),end:new Date(1949,7,11)},1950:{start:new Date(1950,2,1),end:new Date(1950,7,10)},1951:{start:new Date(1951,3,6),end:new Date(1951,7,9)},1955:{start:new Date(1955,3,5),end:new Date(1955,7,9)},1956:{start:new Date(1956,3,20),end:new Date(1956,7,30)},1957:{start:new Date(1957,3,5),end:new Date(1957,7,22)},1958:{start:new Date(1958,3,4),end:new Date(1958,7,21)},1959:{start:new Date(1959,3,3),end:new Date(1959,7,20)},1960:{start:new Date(1960,3,1),end:new Date(1960,7,18)},1987:{start:new Date(1987,3,10),end:new Date(1987,8,11)},1988:{start:new Date(1988,3,8),end:new Date(1988,8,9)}};function Mv(e,t,n){const r=yJ[e];if(!r)return!1;const i=new Date(e,t-1,n,0,0,0,0);return i>=r.start&&i<r.end}function bJ(e){if(!isFinite(e.getTime()))return 0;const t=e.getUTCFullYear(),n=Date.UTC(t,0,1),i=Math.floor((e.getTime()-n)/864e5)+1,a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),d=(a-12)/24+s/1440+c/86400,f=2*Math.PI/365*(i-1+d);return 229.18*(75e-6+.001868*Math.cos(f)-.032077*Math.sin(f)-.014615*Math.cos(2*f)-.040849*Math.sin(2*f))}function _J(e){return e=(e+540)%360-180,e>=124&&e<=132||e>=129&&e<=146?135:e>=73&&e<=135?120:e>=-161&&e<=-154?-150:e>=-170&&e<-161?-165:e>=-150&&e<-141?-135:e>=-141&&e<-126?-120:e>=-126&&e<-111?-105:e>=-111&&e<-96?-90:e>=-96&&e<-81?-75:Math.round(e/15)*15}function Eu(e,t,n=!1){const r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0,0);if(n)return new Date(r.getTime()-1800*1e3);if(t==null||!isFinite(t))return r;let i=t;Math.abs(i)<=Math.PI+1e-6&&(i=i*180/Math.PI),i=(i+540)%360-180;const a=_J(i),s=4*(i-a),c=bJ(r);return new Date(r.getTime()+(s+c)*60*1e3)}var tv={exports:{}},xJ=tv.exports,HC;function wJ(){return HC||(HC=1,(function(e,t){(function(n,r){e.exports=r()})(xJ,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(a,s,c){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:c})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=0)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),s=(function(c){return c&&c.__esModule?c:{default:c}})(a);r.default=s.default,n.exports=r.default},function(n,r,i){function a(Z){return Z&&Z.__esModule?Z:{default:Z}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(2),c=a(s),d=i(3),f=a(d),m=i(4),p=a(m),y=i(5),b=a(y),x=i(6),T=a(x),E=i(7),j=a(E),D=i(8),O=a(D),M=i(9),N=a(M),R=i(10),$=a(R),z=i(11),G=a(z),V=i(12),H=a(V),U={lunarInfo:c.default,solarMonth:f.default,gan:p.default,zhi:b.default,animals:T.default,lunarTerm:j.default,lTermInfo:O.default,nStr1:N.default,nStr2:$.default,nStr3:G.default,nStr4:H.default,lYearDays:function(Z){var re,ve=348;for(re=32768;re>8;re>>=1)ve+=U.lunarInfo[Z-1900]&re?1:0;return ve+U.leapDays(Z)},leapMonth:function(Z){return 15&U.lunarInfo[Z-1900]},leapDays:function(Z){return U.leapMonth(Z)?65536&U.lunarInfo[Z-1900]?30:29:0},monthDays:function(Z,re){return re>12||re<1?-1:U.lunarInfo[Z-1900]&65536>>re?30:29},solarDays:function(Z,re){if(re>12||re<1)return-1;var ve=re-1;return ve==1?Z%4==0&&Z%100!=0||Z%400==0?29:28:U.solarMonth[ve]},toGanZhi:function(Z){return U.gan[Z%10]+U.zhi[Z%12]},getTerm:function(Z,re){if(Z<1900||Z>2100||re<1||re>24)return-1;var ve=U.lTermInfo[Z-1900],J=[parseInt("0x"+ve.substr(0,5)).toString(),parseInt("0x"+ve.substr(5,5)).toString(),parseInt("0x"+ve.substr(10,5)).toString(),parseInt("0x"+ve.substr(15,5)).toString(),parseInt("0x"+ve.substr(20,5)).toString(),parseInt("0x"+ve.substr(25,5)).toString()],ae=[J[0].substr(0,1),J[0].substr(1,2),J[0].substr(3,1),J[0].substr(4,2),J[1].substr(0,1),J[1].substr(1,2),J[1].substr(3,1),J[1].substr(4,2),J[2].substr(0,1),J[2].substr(1,2),J[2].substr(3,1),J[2].substr(4,2),J[3].substr(0,1),J[3].substr(1,2),J[3].substr(3,1),J[3].substr(4,2),J[4].substr(0,1),J[4].substr(1,2),J[4].substr(3,1),J[4].substr(4,2),J[5].substr(0,1),J[5].substr(1,2),J[5].substr(3,1),J[5].substr(4,2)];return parseInt(ae[re-1])},toChinaYear:function(Z){var re=parseInt(Z/1e3),ve=parseInt(Z%1e3/100),J=parseInt(Z%100/10),ae=Z%10;return U.nStr4[re]+U.nStr4[ve]+U.nStr4[J]+U.nStr4[ae]+""},toChinaMonth:function(Z){if(Z>12||Z<1)return-1;var re=U.nStr3[Z-1];return re+=""},toChinaDay:function(Z){var re;switch(Z){case 10:re="";break;case 20:re="";break;case 30:re="";break;default:re=U.nStr2[Math.floor(Z/10)],re+=U.nStr1[Z%10]}return re},getAnimal:function(Z){return U.animals[(Z-4)%12]},solar2lunar:function(ce,te,Y){if(ce<1900||ce>2100||ce==1900&&te==1&&Y<31)return-1;if(ce)var J=new Date(ce,parseInt(te)-1,Y);else var J=new Date;var ae,fe=0,ne=0,ce=J.getFullYear(),te=J.getMonth()+1,Y=J.getDate(),B=(Date.UTC(J.getFullYear(),J.getMonth(),J.getDate())-Date.UTC(1900,0,31))/864e5;for(ae=1900;ae<2101&&B>0;ae++)ne=U.lYearDays(ae),B-=ne;B<0&&(B+=ne,ae--);var X=new Date,ee=!1;X.getFullYear()==ce&&X.getMonth()+1==te&&X.getDate()==Y&&(ee=!0);var q=J.getDay(),W=U.nStr1[q];q==0&&(q=7);var le=ae,fe=U.leapMonth(ae),Q=!1;for(ae=1;ae<13&&B>0;ae++)fe>0&&ae==fe+1&&Q==0?(--ae,Q=!0,ne=U.leapDays(le)):ne=U.monthDays(le,ae),Q==1&&ae==fe+1&&(Q=!1),B-=ne;B==0&&fe>0&&ae==fe+1&&(Q?Q=!1:(Q=!0,--ae)),B<0&&(B+=ne,--ae);var de=ae,we=B+1,se=te-1,Ne=U.getTerm(ce,3),be=U.toGanZhi(ce-4),Le=new Date(ce,1,Ne).getTime();new Date(ce,se,Y).getTime()<Le&&(be=U.toGanZhi(ce-5));var Me=U.getTerm(ce,2*te-1),Ie=U.getTerm(ce,2*te),Be=U.toGanZhi(12*(ce-1900)+te+11);Y>=Me&&(Be=U.toGanZhi(12*(ce-1900)+te+12));var ye=!1,$e="";Me==Y&&(ye=!0,$e=U.lunarTerm[2*te-2]),Ie==Y&&(ye=!0,$e=U.lunarTerm[2*te-1]);var he=Date.UTC(ce,se,1,0,0,0,0)/864e5+25567+10,ge=U.toGanZhi(he+Y-1);return{lYear:le,lMonth:de,lDay:we,animal:U.getAnimal(le),yearCn:U.toChinaYear(le),monthCn:(Q&&fe===de?"":"")+U.toChinaMonth(de),dayCn:U.toChinaDay(we),cYear:ce,cMonth:te,cDay:Y,gzYear:be,gzMonth:Be,gzDay:ge,isToday:ee,isLeap:Q,nWeek:q,ncWeek:""+W,isTerm:ye,term:$e}},lunar2solar:function(Z,re,ve,J){var ae=U.leapMonth(Z);if(U.leapDays(Z),J&&ae!=re||Z==2100&&re==12&&ve>1||Z==1900&&re==1&&ve<31)return-1;var ne=U.monthDays(Z,re);if(Z<1900||Z>2100||ve>ne)return-1;for(var ce=0,te=1900;te<Z;te++)ce+=U.lYearDays(te);for(var Y=0,B=!1,te=1;te<re;te++)Y=U.leapMonth(Z),B||Y<=te&&Y>0&&(ce+=U.leapDays(Z),B=!0),ce+=U.monthDays(Z,te);J&&(ce+=ne);var X=Date.UTC(1900,1,30,0,0,0),ee=new Date(864e5*(ce+ve-31)+X),q=ee.getUTCFullYear(),W=ee.getUTCMonth()+1,le=ee.getUTCDate();return U.solar2lunar(q,W,le)}};r.default=U,n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=[31,28,31,30,31,30,31,31,30,31,30,31],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","","","","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","","",""],n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=["","","","","","","","","","",""],n.exports=r.default}])})})(tv)),tv.exports}var qB=wJ();const SJ=Pi(qB),tA=c2({__proto__:null,default:SJ},[qB]);function tE(e){return typeof e=="object"&&e!==null}function EJ(e){if(!tE(e))throw new Error("Invalid lunar2solar result");const t=e,n=t.cYear,r=t.cMonth,i=t.cDay;if(typeof n!="number"||typeof r!="number"||typeof i!="number")throw new Error("Invalid lunar2solar fields");const a=t.isLeap;return{cYear:n,cMonth:r,cDay:i,isLeap:typeof a=="boolean"?a:void 0}}function AJ(e){const t=tE(e)&&"default"in e?e.default:e;if(!tE(t))throw new Error("solarlunar module invalid");const n=t.lunar2solar;if(typeof n!="function")throw new Error("solarlunar.lunar2solar not found");return(r,i,a)=>EJ(n(r,i,a,!1))}const TJ=AJ(tA);function Yy(e){const t=e.mingSikType??"/";let n=Number(e.birthDay.slice(0,4)),r=Number(e.birthDay.slice(4,6)),i=Number(e.birthDay.slice(6,8));if(e.calendarType==="lunar"){const D=TJ(n,r,i);n=D.cYear,r=D.cMonth,i=D.cDay}const a=!e.birthTime||e.birthTime==="",s=a?4:Number(e.birthTime.slice(0,2)),c=a?30:Number(e.birthTime.slice(2,4)),d=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,f=new Date(n,r-1,i,s,c,0,0),m=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",p=Eu(f,d,m),y=a?"":p.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),b=pt(p,d),x=Mt(p,d),T=At(p,t),E=a?null:$a(p,t),j=[` : ${b} ${x} ${T}`,E?`${E}`:null].filter(Boolean).join(" ");return{corrected:p,correctedLocal:y,ganji:j}}function nA(e){const t=(e??"").trim();return t?t===""||t.toLowerCase()==="female"||t==="2"||t.toUpperCase()==="F"?"":(t===""||t.toLowerCase()==="male"||t==="1"||t.toUpperCase()==="M",""):""}function FC(e){if(!e)return null;const t=e.match(/(|||||||||)(|||||||||||)/);if(t)return t[1];const n=e.split(/\s+/).find(r=>r.endsWith(""));return n&&n.length>0?n.charAt(0):null}function GC(e){const t=nA(e.gender),n=FC(e.ganjiText)??FC(e.ganji);if(!n)return"forward";const i=["","","","",""].includes(n),a=t==="";return i&&!a||!i&&a?"forward":"backward"}function kJ(e){const t=e.dateObj instanceof Date?e.dateObj:e.dateObj?new Date(e.dateObj):new Date,n=e.corrected instanceof Date?e.corrected:e.corrected?new Date(e.corrected):new Date(NaN),r={...e,dateObj:t,corrected:n};try{const i=Yy(r),a={...r,...i},s=GC(a);return{...a,dir:s}}catch(i){console.error("[useMyeongSikStore] recalcGanjiSnapshot error:",i);const a=GC(r);return{...r,dir:a}}}function OJ(e){const t={name:e.birth_place_name??"",lat:e.birth_place_lat??0,lon:e.birth_place_lon??127.5},n=e.sort_order===null||e.sort_order===void 0?void 0:Number(e.sort_order),r=typeof n=="number"&&Number.isFinite(n)?n:void 0,i={id:e.id,name:e.name??"",birthDay:e.birth_day??"",birthTime:e.birth_time??"",gender:nA(e.gender),birthPlace:t,relationship:e.relationship??"",memo:e.memo??"",folder:e.folder??"",mingSikType:["","/",""].includes(e.ming_sik_type)?e.ming_sik_type:"",DayChangeRule:e.day_change_rule===""||e.day_change_rule===""?e.day_change_rule:"",favorite:e.favorite??!1,deletedAt:e.deleted_at??null,sortOrder:r,dateObj:new Date,corrected:new Date(NaN),correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};return kJ(i)}function Vg(e,t){const n=e.birthPlace??{name:"",lat:0,lon:127.5},r=typeof e.sortOrder=="number"&&Number.isFinite(e.sortOrder)?e.sortOrder:null;return{id:e.id,user_id:t,name:e.name??null,birth_day:e.birthDay??null,birth_time:e.birthTime??null,gender:nA(e.gender),birth_place_name:n.name??null,birth_place_lat:typeof n.lat=="number"?n.lat:null,birth_place_lon:typeof n.lon=="number"?n.lon:null,relationship:e.relationship??null,memo:e.memo??null,folder:e.folder??null,ming_sik_type:e.mingSikType??null,day_change_rule:e.DayChangeRule??null,favorite:e.favorite??!1,deleted_at:e.deletedAt??null,sort_order:r,updated_at:new Date().toISOString()}}const ho=Bm((e,t)=>({currentId:null,list:[],loading:!0,setCurrent:n=>e({currentId:n}),loadFromServer:async()=>{e({loading:!0});const{data:{user:n},error:r}=await Ke.auth.getUser();if(r||!n){console.error("loadFromServer: user not found / error",r),e({list:[],currentId:null,loading:!1});return}const a=await Ke.from("myeongsik").select("id, user_id, name, birth_day, birth_time, gender, birth_place_name, birth_place_lat, birth_place_lon, relationship, memo, folder, ming_sik_type, day_change_rule, favorite, deleted_at, created_at, updated_at"+", sort_order").eq("user_id",n.id).is("deleted_at",null).order("sort_order",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!1}),s=a.data,c=a.error;if(c||!s){console.error("loadFromServer error:",c),e({loading:!1});return}const f=s.filter(y=>y.user_id===n.id).map(OJ),m=t().currentId,p=m&&f.some(y=>y.id===m)?m:f[0]?.id??null;e({list:f,currentId:p,loading:!1})},migrateLocalToServer:async()=>{if(typeof window>"u")return;const n=window.localStorage.getItem("myeongsik-list");if(!n)return;let r;try{r=JSON.parse(n)}catch(x){console.error("migrateLocalToServer: JSON parse error",x),window.localStorage.removeItem("myeongsik-list");return}const i=r.state??{},a=Array.isArray(i.list)?i.list:[];if(a.length===0){window.localStorage.removeItem("myeongsik-list");return}const{data:{user:s},error:c}=await Ke.auth.getUser();if(c||!s){console.warn("migrateLocalToServer: no user, skip");return}const{data:d,error:f}=await Ke.from("myeongsik").select("id").eq("user_id",s.id);if(f){console.error("migrateLocalToServer: fetch existing ids error",f);return}const m=new Set((d??[]).map(x=>x.id)),p=a.filter(x=>!!x&&!m.has(x.id));if(p.length===0){window.localStorage.removeItem("myeongsik-list");return}const y=p.map(x=>Vg(x,s.id)),{error:b}=await Ke.from("myeongsik").upsert(y,{onConflict:"id"});if(b){console.error("migrateLocalToServer upsert error:",b);return}window.localStorage.removeItem("myeongsik-list")},add:async n=>{const r=(t().list.length||0)+1,i={...n,sortOrder:n.sortOrder??r},{data:{user:a},error:s}=await Ke.auth.getUser();if(s||!a){console.error("add: user not found",s);return}e(f=>({list:[...f.list,i],currentId:f.currentId??i.id}));const c=Vg(i,a.id),{error:d}=await Ke.from("myeongsik").upsert(c,{onConflict:"id"});d&&console.error("add upsert error:",d)},update:async(n,r)=>{const i=t().list.find(m=>m.id===n);if(!i)return;const a={...i,...r};e(m=>({list:m.list.map(p=>p.id===n?a:p)}));const{data:{user:s},error:c}=await Ke.auth.getUser();if(c||!s){console.error("update: user not found",c);return}const d=Vg(a,s.id),{error:f}=await Ke.from("myeongsik").update(d).eq("id",n);f&&console.error("update error:",f)},remove:async n=>{e(a=>{const s=a.list.filter(d=>d.id!==n),c=a.currentId===n?s[0]?.id??null:a.currentId;return{list:s,currentId:c}});const r=new Date().toISOString(),{error:i}=await Ke.from("myeongsik").update({deleted_at:r}).eq("id",n);i&&console.error("remove error:",i)},reorder:async n=>{const r=n.map((d,f)=>({...d,sortOrder:f+1}));e({list:r});const{data:{user:i},error:a}=await Ke.auth.getUser();if(a||!i){console.error("reorder: user not found",a);return}const s=r.map(d=>Vg(d,i.id)),{error:c}=await Ke.from("myeongsik").upsert(s,{onConflict:"id"});c&&console.error("reorder upsert error:",c)},clear:()=>{e({currentId:null,list:[]})}})),qC="__custom__",YC=[{value:"",label:" (1 )"},{value:"/",label:" / "},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""},{value:"",label:""}],YB=({value:e,onChange:t})=>{const[n,r]=A.useState(YC),[i,a]=A.useState(""),[s,c]=A.useState(!1),[d,f]=A.useState(""),[m,p]=A.useState(!1),{list:y}=ho(),x=y.some(O=>O.relationship==="")?n.filter(O=>O.value!==""):n;A.useEffect(()=>{e!==void 0&&a(e)},[e]);const T=O=>{const M=O.target.value;M===qC?(c(!0),a(""),t?.("")):(c(!1),f(""),a(M),t?.(M))};A.useEffect(()=>{const O=localStorage.getItem("relationshipOptions");O&&r(JSON.parse(O))},[]),A.useEffect(()=>{(async()=>{const{data:{user:M},error:N}=await Ke.auth.getUser();if(N||!M)return;const{data:R,error:$}=await Ke.from("user_settings").select("payload").eq("user_id",M.id).single();if($&&$.code!=="PGRST116"){console.error("load relationships settings error",$.message);return}const z=R?.payload?.relationshipOptions;if(!Array.isArray(z))return;const G=z.map(V=>V&&typeof V=="object"&&typeof V.value=="string"&&typeof V.label=="string"?{value:V.value,label:V.label}:typeof V=="string"?{value:V,label:V}:null).filter(V=>!!V);G.length&&r(V=>{const H=new Set,U=[...G,...V,...YC].filter(Z=>H.has(Z.value)?!1:(H.add(Z.value),!0));return localStorage.setItem("relationshipOptions",JSON.stringify(U)),U})})()},[]),A.useEffect(()=>{localStorage.setItem("relationshipOptions",JSON.stringify(n)),(async()=>{const{data:{user:M},error:N}=await Ke.auth.getUser();if(N||!M)return;const{data:R,error:$}=await Ke.from("user_settings").select("payload").eq("user_id",M.id).single();if($&&$.code!=="PGRST116"){console.error("load relationships settings error",$.message);return}const z={...R?.payload??{},relationshipOptions:n},{error:G}=await Ke.from("user_settings").upsert({user_id:M.id,payload:z,updated_at:new Date().toISOString()});G&&console.error("save relationships settings error",G.message)})()},[n]);const E=()=>{const O=d.trim();if(!O)return;const M={value:O,label:O};r(N=>[...N,M]),a(O),t?.(O),f(""),c(!1)},j=O=>{r(n.filter(M=>M.value!==O)),i===O&&a("")},D=O=>{if(!O.destination)return;const M=Array.from(n),[N]=M.splice(O.source.index,1);M.splice(O.destination.index,0,N),r(M)};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rel_set flex items-center gap-2",children:[_.jsxs("select",{name:"relationship",id:"relationship",value:i,onChange:T,children:[_.jsx("option",{value:"",hidden:!0,children:""}),x.map(O=>_.jsx("option",{value:O.value,children:O.label},O.value)),_.jsx("option",{value:qC,children:" "})]}),_.jsx("button",{type:"button",onClick:()=>p(!0),className:"btn_style",children:""})]}),s&&!m&&_.jsxs("div",{className:"rel_set flex items-center mt-2 gap-2",children:[_.jsx("input",{type:"text",placeholder:" ",value:d,onChange:O=>f(O.target.value)}),_.jsx("button",{type:"button",onClick:E,className:"btn_style",children:""})]}),m&&_.jsxs("div",{className:"p-3 border mt-2 rounded bg-gray-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2",children:" "}),_.jsx(qm,{onDragEnd:D,children:_.jsx(cu,{droppableId:"relList",children:O=>_.jsxs("ul",{ref:O.innerRef,...O.droppableProps,className:"space-y-1",children:[n.map((M,N)=>_.jsx(Vd,{draggableId:M.value,index:N,children:R=>_.jsxs("li",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:"flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base",children:[_.jsx("span",{className:"cursor-grab mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:M.label}),_.jsx("button",{type:"button",className:"text-red-500",onClick:()=>j(M.value),children:""})]})},M.value)),O.placeholder]})})}),_.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full btn_style mt-2",children:""})]})]})},On=" ",KB=["","","","","",""],WB="ms_folders",VB="ms_folder_order",KC="ms_folder_favs",nE="ms_disabled_presets",gu="myeoun:folder-updated";function uu(e){if(e!==On)return e||void 0}function Ky(e){if(typeof window>"u")return[];const t=window.localStorage.getItem(e);if(!t)return[];try{const n=JSON.parse(t);return Array.isArray(n)?n.filter(r=>typeof r=="string"):[]}catch{return[]}}function rA(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}function jJ(){const e=Ky(nE);return KB.filter(t=>!e.includes(t))}function iA(){return Ky(WB)}function aA(e){const t=Array.isArray(e)?e.filter(n=>typeof n=="string"&&n.trim()!==""):[];rA(WB,t),typeof window<"u"&&window.dispatchEvent(new Event(gu))}function nv(){const e=jJ(),t=iA(),n=new Set,r=[];for(const i of[...e,...t])n.has(i)||(n.add(i),r.push(i));return r}function NJ(){return[On,...nv()]}function ZB(e){const t=e.trim();if(!t||t===On)return;const n=iA();if(n.includes(t))return;const r=[...n,t];aA(r)}function CJ(e){const t=iA(),n=t.filter(r=>r!==e);n.length!==t.length&&aA(n)}function MJ(e){const t=Ky(nE);if(t.includes(e))return;const n=[...t,e];rA(nE,n),typeof window<"u"&&window.dispatchEvent(new Event(gu))}function rv(){return Ky(VB)}function Cd(e){rA(VB,e),typeof window<"u"&&window.dispatchEvent(new Event(gu))}function Yh(e,t){const n=new Set(e),r=[];for(const i of t)n.has(i)&&!r.includes(i)&&r.push(i);for(const i of e)r.includes(i)||r.push(i);return r}function DJ(e){return Array.from(new Set(e))}function Zg(e){const t=e.filter(n=>n!==On);return{rest:t,withUnassigned:[On,...t]}}function PJ(e,t){return Yh(t,e)}function RJ({value:e,onChange:t}){const[n,r]=A.useState([On]),[i,a]=A.useState(!1),[s,c]=A.useState(""),[d,f]=A.useState(!1),m=A.useCallback(async E=>{const{data:{user:j},error:D}=await Ke.auth.getUser();if(D||!j)return;const O=E.map((N,R)=>({user_id:j.id,folder_name:N,sort_order:R+1,updated_at:new Date().toISOString()})),{error:M}=await Ke.from("user_folder_order").upsert(O,{onConflict:"user_id,folder_name"});M&&console.error("save folder order error",M.message)},[]),p=A.useCallback(()=>{if(typeof window>"u")return;const E=DJ(NJ()),j=E.includes(On)?E:[On,...E],{rest:D}=Zg(j),O=rv(),M=PJ(O,D),N=[On,...M];r(N),O.length===M.length&&O.every(($,z)=>$===M[z])||(Cd(M),m(M))},[m]);A.useEffect(()=>{if(p(),typeof window<"u"){const E=()=>p();return window.addEventListener(gu,E),()=>window.removeEventListener(gu,E)}},[p]);const y=A.useMemo(()=>e||On,[e]),b=E=>{const{rest:j}=Zg(E);Cd(j),m(j)},x=E=>{const{source:j,destination:D}=E;if(!D||D.index===j.index)return;const{rest:O}=Zg(n),M=Array.from(O),[N]=M.splice(j.index,1);M.splice(D.index,0,N);const R=[On,...M];r(R),b(R)},T=E=>{const j=uu(E);j&&(ZB(j),p())};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{className:"flex-1 border rounded-lg p-2",value:i?"__custom__":y,onChange:E=>{const j=E.target.value;if(j==="__custom__"){a(!0),t(void 0);return}a(!1),t(uu(j))},children:[n.map(E=>_.jsx("option",{value:E,children:E},E)),_.jsx("option",{value:"__custom__",children:"+   "})]}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-800 dark:hover:bg-neutral-700 text-sm cursor-pointer",onClick:()=>f(E=>!E),children:d?" ":" "})]}),i&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"text",value:s,onChange:E=>c(E.target.value),placeholder:"  ",className:"flex-1 border rounded-lg p-2"}),_.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-neutral-800 hover:bg-neutral-700 text-sm text-white cursor-pointer",onClick:()=>{const E=s.trim();E&&(T(E),t(uu(E)),a(!1),c(""))},children:""})]}),d&&_.jsxs("div",{className:"p-3 border rounded bg-neutral-50 dark:bg-neutral-900",children:[_.jsx("h4",{className:"font-bold mb-2 text-s",children:"  "}),_.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm mb-2",children:[_.jsx("span",{className:"opacity-60 select-none",children:""}),_.jsxs("span",{className:"flex-1 px-2",children:[On," ()"]})]}),_.jsx(qm,{onDragEnd:x,children:_.jsx(cu,{droppableId:"folderList",direction:"vertical",type:"FOLDER",children:E=>_.jsxs("ul",{ref:E.innerRef,...E.droppableProps,className:"space-y-1",children:[Zg(n).rest.map((j,D)=>_.jsx(Vd,{draggableId:j,index:D,children:O=>_.jsxs("li",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,className:"flex items-center justify-between bg-white dark:bg-neutral-800 p-2 rounded border text-sm",children:[_.jsx("span",{className:"cursor-grab select-none mr-2",children:""}),_.jsx("span",{className:"flex-1 pr-1",children:j})]})},j)),E.placeholder]})})})]}),_.jsxs("p",{className:"text-xs text-gray-500",children:['   "',On,'" .      .']})]})}function XB({message:e,onClose:t,ms:n=2e3}){return A.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),_.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-lg shadow-lg z-[9999]",children:e})}function Wy(e){return typeof e=="object"&&e!==null}function LJ(e){return Wy(e)&&"default"in e}function IJ(e){return Wy(e)&&typeof e.lunar2solar=="function"}function $J(e){if(!Wy(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function BJ(e){const t=LJ(e)?e.default:e;if(!IJ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,s);return $J(c)}}}const zJ=BJ(tA);function Jr(e,t,n,r=4,i=0){const a=zJ.lunar2solar(e,t,n,!1);return new Date(a.cYear,a.cMonth-1,a.cDay,r,i)}const jh=[{key:"name",label:"",placeholder:" ",type:"text"},{key:"birthDay",label:"",placeholder:": 19900101",type:"tel"},{key:"birthTime",label:" ",placeholder:": 1524",type:"tel"},{key:"mingSikType",label:" ",type:"mingrule"},{key:"gender",label:"",type:"radio"},{key:"birthPlace",label:" ",type:"place"},{key:"relationship",label:"",type:"relationship"},{key:"folder",label:" ",type:"folder"},{key:"memo",label:"",placeholder:" ",type:"textarea"}],Nh=[{value:"solar",label:"",id:"calendarType_solar"},{value:"lunar",label:"",id:"calendarType_lunar"}],Xg=["","/",""],Jg=["",""];function cw(e,t,n){return n==="ArrowRight"||n==="ArrowDown"?(e+1)%t:n==="ArrowLeft"||n==="ArrowUp"?(e-1+t)%t:n==="Home"?0:n==="End"?t-1:e}function uw(e){const t=document.getElementById(e);t instanceof HTMLElement&&t.focus()}function UJ({onSave:e,onClose:t}){const{add:n}=ho(),[r,i]=A.useState(0),[a,s]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[c,d]=A.useState(null),[f,m]=A.useState(!1),[p,y]=A.useState(!1),b=jh[r],x=M=>d(M);A.useEffect(()=>{if(["name","birthDay","birthTime","memo"].includes(b.key)){const N=document.querySelector(".current-step input[type='text']:not([disabled]), .current-step textarea:not([disabled])");if(N){N.focus();return}}if(b.key==="mingSikType"){const N=document.querySelector("[id^='ming_'][id$='_lbl'][aria-checked='true']");if(N){N.focus();return}}if(b.key==="gender"){const N=document.querySelector("[id^='gender_'][id$='_lbl'][aria-checked='true']");if(N){N.focus();return}}if(a.birthPlace||p){const N=()=>{const R=document.querySelector(".current-step form button[type='submit']");R&&R.focus()};N(),setTimeout(N,0)}else{const N=document.getElementById("inputBirthPlaceBtn");N&&N.focus()}if(b.key==="relationship"){setTimeout(()=>{const N=document.querySelector(".current-step select");N&&N.focus()},0);return}if(b.key==="folder"){setTimeout(()=>{const N=document.querySelector(".current-step select");N&&N.focus()},0);return}document.querySelector(".current-step button, .current-step [tabindex='0']")?.focus()},[p,r,b.key,a.birthPlace]);const T=A.useMemo(()=>{if(a.calendarType!=="lunar"||!a.birthDay||a.birthDay.length!==8)return null;try{const M=Number(a.birthDay.slice(0,4)),N=Number(a.birthDay.slice(4,6)),R=Number(a.birthDay.slice(6,8)),$=Jr(M,N,R);return`  ${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`}catch(M){const N=M instanceof Error?M.message:void 0;return`  ${N?`: ${N}`:""}`}},[a.calendarType,a.birthDay]),E=()=>{const M=jh[r];if(M.key==="name"&&(a.name||(s({...a,name:""}),x("   '' ."))),M.key==="birthDay"){const N=/^\d{8}$/;if(!a.birthDay||!N.test(a.birthDay))return x(" YYYYMMDD  ."),!1;const R=Number(a.birthDay.substring(0,4)),$=Number(a.birthDay.substring(4,6)),z=Number(a.birthDay.substring(6,8));if(R<1900||R>2100)return x("  1900~2100  ."),!1;if($<1||$>12)return x("  01~12  ."),!1;if(z<1||z>31)return x("  01~31  ."),!1;if(a.calendarType==="solar"){const G=new Date(R,$-1,z);if(G.getFullYear()!==R||G.getMonth()+1!==$||G.getDate()!==z)return x("  ."),!1}else try{Jr(R,$,z)}catch(G){return x(G instanceof Error?G.message:"   ."),!1}}if(M.key==="birthTime"){if(!a.birthTime&&!f)return x("   ''  ."),!1;if(a.birthTime){const N=Number(a.birthTime);if(Number.isNaN(N)||N<0||N>2359)return x("  00002359  ."),!1;const R=Number(a.birthTime.slice(0,2)),$=Number(a.birthTime.slice(2,4));if(R>23||$>59)return x("  00002359  ."),!1}}return M.key==="birthPlace"&&!a.birthPlace&&!p?(x("   ''  ."),!1):!0},j=()=>{if(!E())return;if(r<jh.length-1){i(r+1);return}const M=uu(a.folder),N=!a.birthTime||a.birthTime==="",R=!a.birthPlace||typeof a.birthPlace=="object"&&a.birthPlace.name==="";let $=Number(a.birthDay.slice(0,4)),z=Number(a.birthDay.slice(4,6)),G=Number(a.birthDay.slice(6,8));if(a.calendarType==="lunar"){const W=Jr($,z,G);$=W.getFullYear(),z=W.getMonth()+1,G=W.getDate()}const V=N?4:Number(a.birthTime.slice(0,2)),H=N?30:Number(a.birthTime.slice(2,4)),U=new Date($,z-1,G,V,H,0,0),Z=p||!a.birthPlace||a.birthPlace.lon===0?127.5:a.birthPlace.lon,re=Eu(U,Z,R),ve=a.mingSikType??"/",J=N?"":re.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),ae=pt(re,Z),ne=Mt(re,Z),ce=At(re,ve),te=N?null:$a(re,ve),Y=[` : ${ae} ${ne} ${ce}`,te?`${te}`:null].filter(Boolean).join(" ");function B(W,le){const Q=["","","","","","","","","",""].includes(W),de=le==="";return Q?de?"forward":"backward":de?"backward":"forward"}const X=ae.charAt(0),ee=B(X,a.gender??""),q={id:C$(),name:a.name?.trim()||"",birthDay:a.birthDay||"",birthTime:N?"":a.birthTime||"",gender:a.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:a.birthPlace??{name:"",lat:0,lon:127.5},relationship:a.relationship??"",memo:a.memo??"",mingSikType:a.mingSikType??"/",DayChangeRule:a.mingSikType===""?"":"",folder:M,correctedLocal:J,ganji:Y,calendarType:a.calendarType??"solar",dir:ee,corrected:re,dateObj:a.dateObj||new Date,dayStem:a.dayStem||"",ganjiText:a.ganjiText||"   "};n(q),e(q),d(" !"),s({gender:"",mingSikType:"/",calendarType:"solar"}),m(!1),y(!1),i(0)},D=M=>{if(M.key!=="Enter")return;const N=M.target,R=N.getAttribute("role");if(R==="radio"||R==="checkbox")return;const $=document.getElementById("mapModal");if($&&$.contains(N))return;const z=N.tagName.toLowerCase(),G=N instanceof HTMLInputElement?N.type:"";if(z==="textarea"){if(M.shiftKey)return;M.preventDefault(),j();return}if(G==="radio"||G==="checkbox"){M.preventDefault(),N instanceof HTMLInputElement&&N.click();return}z==="button"&&N.type!=="submit"||(M.preventDefault(),j())},O=M=>{switch(M){case"birthPlace":return p?"":a.birthPlace?.name||"";case"birthTime":return f?"":a.birthTime||"";case"folder":return a.folder?String(a.folder):On;default:{const R=a[M];return typeof R=="string"?R:R!=null?String(R):""}}};return _.jsxs("div",{className:"mx-auto mt-10 space-y-2 max-w-[640px] w-[96%] text-neutral-900 dark:text-neutral-100",children:[c&&_.jsx(XB,{message:c,onClose:()=>d(null)}),jh.slice(0,r).map((M,N)=>_.jsxs("button",{onClick:()=>i(N),className:"p-3 rounded-lg bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 flex justify-between w-full text-left hover:bg-neutral-200 dark:hover:bg-neutral-800/80 transition-colors",children:[_.jsx("span",{className:"font-semibold",children:M.label}),_.jsx("span",{className:"text-neutral-600 dark:text-neutral-300",children:O(M.key)})]},M.key)),_.jsx("div",{className:"p-4 border rounded-lg shadow current-step bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800",children:_.jsxs("form",{onSubmit:M=>{M.preventDefault(),j()},onKeyDown:D,children:[_.jsx("label",{className:"block mb-2 font-bold",children:b.label}),b.key==="name"&&_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.name||"",onChange:M=>s({...a,name:M.target.value})}),b.key==="birthDay"&&_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-1 items-center",children:[_.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.birthDay||"",onChange:M=>{const N=M.target.value.replace(/\D/g,"");s({...a,birthDay:N.slice(0,8)})},inputMode:"numeric",pattern:"\\d*",maxLength:8}),_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex gap-1 text-sm",children:Nh.map(({value:M,label:N,id:R})=>{const $=a.calendarType===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:R,name:"calendarType",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:R,id:`${R}_lbl`,role:"radio","aria-checked":$,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                     border-neutral-300 dark:border-neutral-700
                                     bg-white dark:bg-neutral-900
                                     focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                     data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                     dark:data-[checked=true]:bg-amber-500/10`,"data-checked":$?"true":"false",onKeyDown:z=>{if(z.stopPropagation(),z.key===" "||z.key==="Enter"){z.preventDefault(),s({...a,calendarType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(z.key))return;z.preventDefault();const V=Nh.findIndex(Z=>Z.value===a.calendarType),H=cw(V<0?0:V,Nh.length,z.key),U=Nh[H].value;s({...a,calendarType:U}),uw(`${Nh[H].id}_lbl`)},onClick:z=>{z.preventDefault(),s({...a,calendarType:M})},children:N})]},M)})})]}),a.calendarType==="lunar"&&_.jsx("div",{className:"flex items-center justify-end",children:_.jsx("span",{className:"text-xs text-neutral-600 dark:text-neutral-300",children:T})}),a.birthDay&&a.birthDay.length===8&&(()=>{const M=Number(a.birthDay.slice(0,4)),N=Number(a.birthDay.slice(4,6)),R=Number(a.birthDay.slice(6,8));return Mv(M,N,R)?_.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:" ."}):null})()]}),b.key==="birthTime"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",className:"w-full border rounded-lg p-2 disabled:opacity-50 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:f?"":a.birthTime||"",onChange:M=>{const N=M.target.value.replace(/\D/g,"");s({...a,birthTime:N.slice(0,4)})},inputMode:"numeric",pattern:"\\d*",maxLength:4,disabled:f}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthTimeX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthTimeX",role:"checkbox","aria-checked":f,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":f?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),m(!f))},onClick:M=>{M.preventDefault(),m(!f)},children:""})]})]}),b.key==="mingSikType"&&_.jsx("fieldset",{role:"radiogroup","aria-label":" ",className:"flex flex-wrap gap-3",children:Xg.map(M=>{const N=`ming_${M}`,R=(a.mingSikType??"/")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:N,name:"mingSikType",type:"radio",style:{display:"none"}}),_.jsxs("label",{htmlFor:N,id:`${N}_lbl`,role:"radio","aria-checked":R,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":R?"true":"false",onKeyDown:$=>{if($.stopPropagation(),$.key===" "||$.key==="Enter"){$.preventDefault(),s({...a,mingSikType:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes($.key))return;$.preventDefault();const G=a.mingSikType??"/",V=Xg.indexOf(G),H=cw(V,Xg.length,$.key),U=Xg[H];s({...a,mingSikType:U}),uw(`ming_${U}_lbl`)},onClick:$=>{$.preventDefault(),s({...a,mingSikType:M})},children:[M,""]})]},M)})}),b.key==="gender"&&_.jsx("fieldset",{role:"radiogroup","aria-label":"",className:"flex gap-2",children:Jg.map(M=>{const N=`gender_${M}`,R=(a.gender??"")===M;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:N,name:"gender",type:"radio",style:{display:"none"}}),_.jsx("label",{htmlFor:N,id:`${N}_lbl`,role:"radio","aria-checked":R,tabIndex:0,className:`cursor-pointer select-none px-2 py-1 rounded-md border
                                 border-neutral-300 dark:border-neutral-700
                                 bg-white dark:bg-neutral-900
                                 focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                                 data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                                 dark:data-[checked=true]:bg-amber-500/10`,"data-checked":R?"true":"false",onKeyDown:$=>{if($.stopPropagation(),$.key===" "||$.key==="Enter"){$.preventDefault(),s({...a,gender:M});return}if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes($.key))return;$.preventDefault();const G=a.gender??"",V=Jg.indexOf(G),H=cw(V,Jg.length,$.key),U=Jg[H];s({...a,gender:U}),uw(`gender_${U}_lbl`)},onClick:$=>{$.preventDefault(),s({...a,gender:M})},children:M})]},M)})}),b.key==="birthPlace"&&_.jsxs("div",{className:"space-y-2",children:[_.jsx(M$,{onSelect:M=>s({...a,birthPlace:M}),value:p?"":a.birthPlace?.name??""}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{id:"birthPlaceX",type:"checkbox",style:{display:"none"}}),_.jsx("label",{htmlFor:"birthPlaceX",role:"checkbox","aria-checked":p,tabIndex:0,className:`text-sm select-none cursor-pointer px-2 py-1 rounded-md border
                             border-neutral-300 dark:border-neutral-700
                             bg-white dark:bg-neutral-900
                             focus-visible:outline focus-visible:outline-2 focus-visible:outline-amber-500
                             data-[checked=true]:border-amber-400 data-[checked=true]:bg-amber-50
                             dark:data-[checked=true]:bg-amber-500/10`,"data-checked":p?"true":"false",onKeyDown:M=>{M.stopPropagation(),(M.key===" "||M.key==="Enter")&&(M.preventDefault(),y(!p))},onClick:M=>{M.preventDefault(),y(!p)},children:""})]})]}),b.key==="relationship"&&_.jsx(YB,{value:a.relationship||"",onChange:M=>s({...a,relationship:M})}),b.key==="folder"&&_.jsx(RJ,{value:uu(a.folder),onChange:M=>s({...a,folder:M})}),b.key==="memo"&&_.jsx("textarea",{className:"w-full border rounded-lg p-2 bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 placeholder-neutral-400 dark:placeholder-neutral-500 text-neutral-900 dark:text-neutral-100",placeholder:b.placeholder,value:a.memo||"",onChange:M=>s({...a,memo:M.target.value})}),_.jsxs("div",{className:"flex justify-between gap-2",children:[_.jsx("button",{className:"mt-4 w-full btn_style btn_secondary dark:focus:ring-amber-500",onClick:t,children:""}),_.jsx("button",{type:"submit",className:"mt-4 w-full btn_style dark:focus:ring-amber-500",children:r===jh.length-1?"":""})]})]})})]})}var Qg={},WC;function HJ(){if(WC)return Qg;WC=1,Qg.match=a,Qg.parse=s;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,p){return s(m).some(function(y){var b=y.inverse,x=y.type==="all"||p.type===y.type;if(x&&b||!(x||b))return!1;var T=y.expressions.every(function(E){var j=E.feature,D=E.modifier,O=E.value,M=p[j];if(!M)return!1;switch(j){case"orientation":case"scan":return M.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=f(O),M=f(M);break;case"resolution":O=d(O),M=d(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),M=c(M);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,M=parseInt(M,10)||0;break}switch(D){case"min":return M>=O;case"max":return M<=O;default:return M===O}});return T&&!b||!T&&b})}function s(m){return m.split(",").map(function(p){p=p.trim();var y=p.match(e),b=y[1],x=y[2],T=y[3]||"",E={};return E.inverse=!!b&&b.toLowerCase()==="not",E.type=x?x.toLowerCase():"all",T=T.match(/\([^\)]+\)/g)||[],E.expressions=T.map(function(j){var D=j.match(t),O=D[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:D[2]}}),E})}function c(m){var p=Number(m),y;return p||(y=m.match(/^(\d+)\s*\/\s*(\d+)$/),p=y[1]/y[2]),p}function d(m){var p=parseFloat(m),y=String(m).match(i)[1];switch(y){case"dpcm":return p/2.54;case"dppx":return p*96;default:return p}}function f(m){var p=parseFloat(m),y=String(m).match(r)[1];switch(y){case"em":return p*16;case"rem":return p*16;case"cm":return p*96/2.54;case"mm":return p*96/2.54/10;case"in":return p*96;case"pt":return p*72;case"pc":return p*72/12;default:return p}}return Qg}var dw,VC;function FJ(){if(VC)return dw;VC=1;var e=HJ().match,t=typeof window<"u"?window.matchMedia:null;function n(i,a,s){var c=this,d;t&&!s&&(d=t.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(p)):(this.matches=e(i,a),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=y;function f(b){d&&d.addListener(b)}function m(b){d&&d.removeListener(b)}function p(b){c.matches=b.matches,c.media=b.media}function y(){d&&d.removeListener(p)}}function r(i,a,s){return new n(i,a,s)}return dw=r,dw}var GJ=FJ();const qJ=Pi(GJ);var YJ=/[A-Z]/g,KJ=/^ms-/,fw={};function WJ(e){return"-"+e.toLowerCase()}function JB(e){if(fw.hasOwnProperty(e))return fw[e];var t=e.replace(YJ,WJ);return fw[e]=KJ.test(t)?"-"+t:t}function VJ(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const s=n[a];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var hw={exports:{}},mw,ZC;function ZJ(){if(ZC)return mw;ZC=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mw=e,mw}var pw,XC;function XJ(){if(XC)return pw;XC=1;var e=ZJ();function t(){}function n(){}return n.resetWarningCache=t,pw=function(){function r(s,c,d,f,m,p){if(p!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},pw}var JC;function JJ(){return JC||(JC=1,hw.exports=XJ()()),hw.exports}var QJ=JJ();const zt=Pi(QJ),si=zt.oneOfType([zt.string,zt.number]),QB={all:zt.bool,grid:zt.bool,aural:zt.bool,braille:zt.bool,handheld:zt.bool,print:zt.bool,projection:zt.bool,screen:zt.bool,tty:zt.bool,tv:zt.bool,embossed:zt.bool},eQ={orientation:zt.oneOf(["portrait","landscape"]),scan:zt.oneOf(["progressive","interlace"]),aspectRatio:zt.string,deviceAspectRatio:zt.string,height:si,deviceHeight:si,width:si,deviceWidth:si,color:zt.bool,colorIndex:zt.bool,monochrome:zt.bool,resolution:si,type:Object.keys(QB)},{type:O1e,...tQ}=eQ,nQ={minAspectRatio:zt.string,maxAspectRatio:zt.string,minDeviceAspectRatio:zt.string,maxDeviceAspectRatio:zt.string,minHeight:si,maxHeight:si,minDeviceHeight:si,maxDeviceHeight:si,minWidth:si,maxWidth:si,minDeviceWidth:si,maxDeviceWidth:si,minColor:zt.number,maxColor:zt.number,minColorIndex:zt.number,maxColorIndex:zt.number,minMonochrome:zt.number,maxMonochrome:zt.number,minResolution:si,maxResolution:si,...tQ},rQ={...QB,...nQ};var iQ={all:rQ};const aQ=e=>`not ${e}`,oQ=(e,t)=>{const n=JB(e);return typeof t=="number"&&(t=`${t}px`),t===!0?n:t===!1?aQ(n):`(${n}: ${t})`},sQ=e=>e.join(" and "),lQ=e=>{const t=[];return Object.keys(iQ.all).forEach(n=>{const r=e[n];r!=null&&t.push(oQ(n,r))}),sQ(t)},cQ=A.createContext(void 0),uQ=e=>e.query||lQ(e),QC=e=>e?Object.keys(e).reduce((n,r)=>(n[JB(r)]=e[r],n),{}):void 0,e5=()=>{const e=A.useRef(!1);return A.useEffect(()=>{e.current=!0},[]),e.current},dQ=e=>{const t=A.useContext(cQ),n=()=>QC(e)||QC(t),[r,i]=A.useState(n);return A.useEffect(()=>{const a=n();VJ(r,a)||i(a)},[e,t]),r},fQ=e=>{const t=()=>uQ(e),[n,r]=A.useState(t);return A.useEffect(()=>{const i=t();n!==i&&r(i)},[e]),n},hQ=(e,t)=>{const n=()=>qJ(e,t||{},!!t),[r,i]=A.useState(n),a=e5();return A.useEffect(()=>{if(a){const s=n();return i(s),()=>{s&&s.dispose()}}},[e,t]),r},mQ=e=>{const[t,n]=A.useState(e.matches);return A.useEffect(()=>{const r=i=>{n(i.matches)};return e.addListener(r),n(e.matches),()=>{e.removeListener(r)}},[e]),t},pQ=(e,t,n)=>{const r=dQ(t),i=fQ(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=hQ(i,r),s=mQ(a);return e5(),A.useEffect(()=>{},[s]),A.useEffect(()=>()=>{a&&a.dispose()},[]),s},t5=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${di[t%10]}${Mi[t%12]}`);return e})();function gQ(e){const t=t5.indexOf(e);if(t<0)throw new Error(`Unknown : ${e}`);return t}function Dv(e,t,n=1){const r=gQ(e),i=t==="forward"?n:-n;return t5[(r+i+60*1e3)%60]}const vQ=60*1e3,yQ=60*vQ,bQ=24*yQ;function _Q(e,t){const n=new Date(e.getTime()),r=n.getFullYear()+t,i=n.getMonth(),a=n.getDate();return new Date(Date.UTC(r,i,a,n.getUTCHours(),n.getUTCMinutes()))}function rE(e){const t=new Date(e);return t.setSeconds(0,0),t}function xQ(e,t,n){const r=e.getHours(),i=n==="/"?(Math.floor((r+1)/2)*2-1+24)%24:(Math.floor(r/2)*2+1)%24,a=new Date(e);a.setHours(i,0,0,0);const s=new Date(a);s.setHours(i+2,0,0,0);const c=e.getTime()-a.getTime(),d=s.getTime()-e.getTime();return t==="backward"?c:d}function n5(e,t,n,r=120,i="/"){const a=rE(e),s=xQ(a,n,i),c=rE(new Date(a.getTime()+s*120)),d=_Q(e,r).getTime(),f=[];let m=Dv(t,n,1);for(let p=c.getTime();p<=d;p+=10*bQ)f.push({at:new Date(p),gz:m}),m=Dv(m,n,1);return{firstChange:c,events:f}}function r5(e,t){const n=t==="forward"?e===""?"":"":e===""?"":"";return r=>r===n}function i5(e,t,n,r){const i=r5(r,n);let a=t;const s=[];for(const c of e.events){const d=c.gz.charAt(1);i(d)&&(a=Dv(a,n,1),s.push({at:c.at,gz:a}))}return{events:s}}function mo(e){const t=e.getFullYear(),n=[{deg:315,name:""},{deg:345,name:""},{deg:15,name:""},{deg:45,name:""},{deg:75,name:""},{deg:105,name:""},{deg:135,name:""},{deg:165,name:""},{deg:195,name:""},{deg:225,name:""},{deg:255,name:""},{deg:285,name:""}],r={deg:315,name:""},i=n.map(c=>({name:c.name,date:lr(t,c.deg)})).concat([{name:r.name,date:lr(t+1,r.deg)},{name:"",date:lr(t+1,285)}]),a=lr(t,315),s=lr(t+1,315);return i.filter(c=>c.date>=a&&c.date<s).sort((c,d)=>c.date.getTime()-d.date.getTime())}const wQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},SQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},EQ=e=>wQ[e]??("".includes(e)?e:null),AQ=e=>SQ[e]??("".includes(e)?e:null);function eM(e){const t=EQ(e[0]),n=AQ(e[1]);if(!t||!n)throw new Error(`Invalid GZ: ${e}`);return`${t}${n}`}function Ym(e,t,n,r=120,i){function a(O){return O instanceof Date||(O=new Date(O)),Math.floor((O.getHours()+1)%24/2)}function s(O){return["","","","","","","","","","","",""][a(O)]}function c(O,M,N){const R=O.charAt(0),$=O.charAt(1),z=di.indexOf(R),G=Mi.indexOf($),V=M==="forward"?N:-N,H=(z+V%10+10)%10,U=(G+V%12+12)%12;return di[H]+Mi[U]}const d=mo(e).sort((O,M)=>O.date.getTime()-M.date.getTime());let f;if(n==="forward"){const O=d.findIndex(M=>M.date>=e);O>=0&&(f=d[O].date)}else{const O=d.filter(M=>M.date<=e);O.length&&(f=O[O.length-1].date)}function m(O,M){const N=s(O),R={:23,:1,:3,:5,:7,:9,:11,:13,:15,:17,:19,:21},$=R[N],z=($+2)%24,G=new Date(O);if(G.setSeconds(0,0),n==="backward"&&M){const H=s(M),U=R[H],Z=new Date(M);return Z.setHours(U,0,0,0),Z}if(n==="forward"&&M){const H=s(M),U=R[H],Z=new Date(M);if(Z.setHours(U,0,0,0),Z>G)return Z}const V=new Date(G);return n==="forward"?(V.setHours(z,0,0,0),V<=G&&V.setDate(V.getDate()+1)):(V.setHours($,0,0,0),V>=G&&V.setDate(V.getDate()-1)),V}new Date(e).setSeconds(0,0);const y=eM(Mt(e,127.5)),b=m(e,f),x=Math.floor(n==="forward"?(b.getTime()-e.getTime())/6e4:(e.getTime()-b.getTime())/6e4),T=Math.round(x/120*(14400*60*1e3));let E=new Date(e.getTime()+T);try{const O=eM(Mt(e,i));(n==="forward"&&y!==O||n==="backward"&&y!==O)&&(E=new Date(e.getTime()+6e4))}catch{}const j=r/10,D=[];for(let O=0;O<j;O++){const M=new Date(E);M.setFullYear(M.getFullYear()+O*10),M.setSeconds(0,0);const N=c(t,n,O+1);D.push({at:M,gz:N})}return{natalMonthPillar:t,firstChange:E,mPillars:[],events:D}}function TQ(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.floor(r))}function a5(e,t,n,r,i){const a=r5(r,n);let s=t;const c=[];for(const d of e.events){const f=d.gz.charAt(1);a(f)&&(s=Dv(s,n,1),c.push({at:d.at,gz:s,age:TQ(i,d.at)}))}return{events:c}}function kQ(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=12,a=0;return e.birthTime&&e.birthTime!==""&&/^\d{4}$/.test(e.birthTime)&&(i=Number(e.birthTime.slice(0,2)),a=Number(e.birthTime.slice(2,4))),new Date(t,n-1,r,i,a,0,0)}function Vy(e){const t=kQ(e),n=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="",r=Eu(t,e.birthPlace?.lon??null,n);return rE(r)}function oA(e,t){const n=e.birthPlace?.lon??127.5,r=Vy(e),i=At(r,t),a=$a(r,t,i.charAt(0));return{year:pt(r,n),month:Mt(r,n),day:i,hour:a}}const OQ=(()=>{const e=[];for(let t=0;t<60;t++)e.push(`${di[t%10]}${Mi[t%12]}`);return e})(),jQ=e=>OQ.indexOf(e),gw=e=>{if(jQ(e)<0)throw new Error(`Unknown : ${e}`);return{stem:e[0],branch:e[1]}};function sA(e){return typeof e=="object"&&e!==null}function NQ(e){return sA(e)&&"default"in e}function CQ(e){return sA(e)&&typeof e.lunar2solar=="function"}function MQ(e){if(!sA(e))throw new Error("Invalid lunar2solar result");const t=e.cYear,n=e.cMonth,r=e.cDay,i=e.isLeap;if(typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("Invalid lunar2solar fields");return{cYear:t,cMonth:n,cDay:r,isLeap:typeof i=="boolean"?i:void 0}}function DQ(e){const t=NQ(e)?e.default:e;if(!CQ(t))throw new Error("solarlunar.lunar2solar not found");return{lunar2solar:(r,i,a,s)=>{const c=t.lunar2solar(r,i,a,!!s);return MQ(c)}}}const PQ=DQ(tA),tM=e=>e<10?`0${e}`:`${e}`;function lA(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8||r!=="lunar")return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}try{const f=PQ.lunar2solar(i,a,s,d),m=`${f.cYear}${tM(f.cMonth)}${tM(f.cDay)}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}}function RQ(e,t="/"){const n=A.useMemo(()=>lA(e),[e]),r=A.useMemo(()=>Vy(n),[n]),i=A.useMemo(()=>oA(n,t),[n,t]);return A.useMemo(()=>{const a=Ym(r,i.month,n.dir,120,n?.birthPlace?.lon??127.5),s=new Date;function c(O,M){let N=null;const R=M.getTime();for(const $ of O)if($.at.getTime()<=R)N=$;else break;return N}const d=c(a.events,s)?.gz??i.month,f=gw(d),m=s.getFullYear(),p=lr(m,315),b=p&&s>=p?m:m-1,x=pt(new Date(b,1,10,0,0,0),127.5),T=gw(x),E=Mt(s,127.5),j=gw(E),D=[];return j&&D.push({key:"wolun",label:"",data:j}),T&&D.push({key:"seun",label:"",data:T}),f&&D.push({key:"daeun",label:"",data:f}),D},[r,n.dir,i.month,n.birthPlace?.lon])}function em(e){const t=n=>n.toString().padStart(2,"0");return`${e.getFullYear()} ${t(e.getMonth()+1)} ${t(e.getDate())} ${t(e.getHours())} ${t(e.getMinutes())}`}function nM(e){return e<10?`0${e}`:`${e}`}function iE(e){return`${nM(e.getHours())}:${nM(e.getMinutes())}`}const Di=Bm()(cI((e,t)=>{const n=new Date,r="/",i=127.5,a=i,s=pt(n,a),c=Mt(n,a),d=At(n,r);return{date:n,scope:"",rule:r,lon:i,yearGZ:s,monthGZ:c,dayGZ:d,setDate:f=>{const{rule:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({date:f,yearGZ:pt(f,y),monthGZ:Mt(f,y),dayGZ:At(f,m)})},resetDate:()=>{const{rule:f,lon:m}=t(),p=new Date,y=typeof m=="number"?m:void 0;e({date:p,yearGZ:pt(p,y),monthGZ:Mt(p,y),dayGZ:At(p,f)})},resetMonth:()=>{const{lon:f}=t(),m=new Date;e({date:m,monthGZ:Mt(m,typeof f=="number"?f:void 0)})},setScope:f=>e({scope:f}),setRule:f=>{const{date:m,lon:p}=t(),y=typeof p=="number"?p:void 0;e({rule:f,yearGZ:pt(m,y),monthGZ:Mt(m,y),dayGZ:At(m,f)})},setLon:f=>{const{date:m,rule:p}=t(),y=typeof f=="number"?f:void 0;e({lon:f,yearGZ:pt(m,y),monthGZ:Mt(m,y),dayGZ:At(m,p)})},setFromEvent:(f,m)=>{const{rule:p,lon:y}=t(),b=typeof y=="number"?y:void 0;e({date:f.at,scope:m,yearGZ:pt(f.at,b),monthGZ:Mt(f.at,b),dayGZ:At(f.at,p)})},forceKey:new Date}},{name:"luck-picker-v1",merge:(e,t)=>{const n=e;return n.date&&typeof n.date=="string"&&(n.date=new Date(n.date)),{...t,...n}}})),Au={Classic:"",Modern:""};function sn(e,t){const r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e];return r?r[t]??"":""}function LQ(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function IQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function $Q(e,t){return{:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}}[e]?.[t]??""}function BQ(e,t){const n={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r={:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},:{:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}},i=n[e];return i&&r[i]?r[i][t]??"":""}function ln(e){const{baseBranch:t,targetBranch:n,era:r,gaehwa:i}=e;return!t||!n?"":r===""?i?LQ(t,n):IQ(t,n):i?$Q(t,n):BQ(t,n)}function Km(e,t="/",n=100){const r=A.useMemo(()=>lA(e),[e]),i=A.useMemo(()=>Vy(r),[r]),a=A.useMemo(()=>oA(r,t),[r,t]),s=(c,d)=>{const f=d.getFullYear()-c.getFullYear(),m=d.getMonth()-c.getMonth(),p=d.getDate()-c.getDate(),y=m<0||m===0&&p<0?f-1:f;return Math.max(0,y)};return A.useMemo(()=>Ym(i,a.month,r.dir,n,r.birthPlace?.lon??127.5).events.map(d=>({...d,age:s(i,d.at)})),[i,a.month,r.dir,n,r.birthPlace?.lon])}function vw(e){return e instanceof Date&&!Number.isNaN(e.getTime())}function zQ(e,t){if(!Array.isArray(e)||e.length===0||!vw(t))return{gz:"",at:t,index:-1};const n=e;for(let a=0;a<n.length;a++){const s=n[a],c=n[a+1];if(!vw(s.at))continue;if(t.getTime()>=s.at.getTime()&&(!c||vw(c.at)&&t.getTime()<c.at.getTime()))return{gz:s.gz??"",at:s.at,index:a}}if(t.getTime()<n[0].at.getTime()){const a=n[0];return{gz:a.gz??"",at:a.at,index:0}}const r=n.length-1,i=n[r];return{gz:i.gz??"",at:i.at,index:r}}function cA(e,t,n){const{date:r,rule:i,lon:a}=Di(),s=A.useMemo(()=>n??r??new Date,[n,r]),c=Km(e,e?.mingSikType),{gz:d}=zQ(c,s);return A.useMemo(()=>{try{const f=a??e?.birthPlace?.lon??127.5,m=i??e?.mingSikType??t??"/";return{dae:{gz:d,at:s},se:{gz:pt(s,f),at:s},wol:{gz:Mt(s,f),at:s},il:{gz:At(s,m),at:s}}}catch{const f=new Date;return{dae:{gz:"",at:f},se:{gz:"",at:f},wol:{gz:"",at:f},il:{gz:"",at:f}}}},[s,i,a,e,t,d])}const uA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dA={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},UQ=Object.fromEntries(Object.entries(uA).map(([e,t])=>[t,e])),HQ=Object.fromEntries(Object.entries(dA).map(([e,t])=>[t,e])),FQ=new Set(["","","","","","","","","",""]),GQ=new Set(["","","","","","","","","","","",""]),qQ=[{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""},{keys:["",""],label:"",elem:""}],YQ=(()=>{const e={};for(const t of qQ){const[n,r]=t.keys;e[n]={label:t.label,elem:t.elem},e[r]={label:t.label,elem:t.elem}}return e})();function KQ(e){switch(e){case"":return"bg-green-600 text-white";case"":return"bg-red-600 text-white";case"":return"bg-yellow-600 text-white";case"":return"bg-gray-500 text-white";case"":return"bg-blue-700 text-white";default:return"bg-neutral-700 text-white"}}const WQ={:1,:2,:3};function VQ(e){return e.includes("")?3:e.includes("")?2:(e.includes(""),1)}const ZQ={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function XQ(e){switch(ZQ[e]){case"":return"bg-green-600 text-white border-green-600";case"":return"bg-red-600 text-white border-red-600";case"":return"bg-yellow-500 text-white border-yellow-500";case"":return"bg-gray-400 text-white border-gray-400";case"":return"bg-blue-900 text-white border-blue-600";default:return"bg-neutral-700 text-white border-neutral-700"}}function JQ({data:e,hourTable:t}){const{date:n}=Di(),r=Er(W=>W.settings),i=r.showNabeum??!0,a=e.mingSikType??t??"/",s=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,{solarY:c,solarM:d,solarD:f}=A.useMemo(()=>{let W=Number(e.birthDay?.slice(0,4)??2e3),le=Number(e.birthDay?.slice(4,6)??1),fe=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const Q=Jr(W,le,fe);W=Q.getFullYear(),le=Q.getMonth()+1,fe=Q.getDate()}return{solarY:W,solarM:le,solarD:fe}},[e.birthDay,e.calendarType]),[m,p]=A.useState(!1);A.useEffect(()=>{c&&d&&f&&p(Mv(c,d,f))},[c,d,f]);const y=!e.birthTime||e.birthTime==="";function b(W,le){const fe=!W.birthTime||W.birthTime==="";let Q=Number(W.birthDay.slice(0,4)),de=Number(W.birthDay.slice(4,6)),we=Number(W.birthDay.slice(6,8));if(W.calendarType==="lunar"){const He=Jr(Q,de,we);Q=He.getFullYear(),de=He.getMonth()+1,we=He.getDate()}const se=fe?4:Number(W.birthTime.slice(0,2)),Ne=fe?30:Number(W.birthTime.slice(2,4)),be=new Date(Q,de-1,we,se,Ne,0,0),Le=!W.birthPlace||W.birthPlace.name===""||!W.birthPlace.lon,Me=Le?127.5:W.birthPlace.lon,Ie=W.corrected instanceof Date&&!Number.isNaN(W.corrected.getTime());let Be;Ie?Be=W.corrected:Le?Be=be:Be=Eu(be,Me,fe);const ye=le?new Date(Be.getTime()-3600*1e3):Be,$e=W.mingSikType??"/",he=pt(ye,Me),ge=Mt(ye,Me),Ue=At(ye,$e),ze=fe?null:$a(ye,$e);return{corrected:ye,year:{stem:he.charAt(0),branch:he.charAt(1)},month:{stem:ge.charAt(0),branch:ge.charAt(1)},day:{stem:Ue.charAt(0),branch:Ue.charAt(1)},hour:ze?{stem:ze.charAt(0),branch:ze.charAt(1)}:null}}const[x,T]=A.useState(()=>b(e,m));A.useEffect(()=>{T(b(e,m))},[e,m]);const E=QQ(e.correctedLocal,x.corrected,y),j=e.id??`${e.birthDay}-${e.birthTime}-${e.name??""}`,D=x.day.stem,[O,M]=A.useState(null),[N,R]=A.useState(()=>e.mingSikType==="");A.useEffect(()=>{M(null),R(e.mingSikType==="")},[j,e.mingSikType]);const $=A.useMemo(()=>(N?b2:nI)[D]??[],[N,D]),z=O??x.hour,G=r.sinsalBase===""?x.day.branch:x.year.branch,V=Hm(W=>W.setManualHour),H=(W,le)=>{const fe={stem:W,branch:le};M(fe),V(fe)},U=W=>r.showSibiUnseong?sn(D,W):null,Z=W=>r.showSibiSinsal?ln({baseBranch:G,targetBranch:W,era:yw(r.sinsalMode),gaehwa:r.sinsalBloom}):null,re=RQ(e,a),ve=pQ({query:"(min-width: 992px)"}),J=r.hiddenStem==="regular"?"main":"all",ae=r.exposure,ne=ae===""?0:WQ[ae],ce=ne===0?[]:re.filter(W=>VQ(W.label)<=ne),te=Mv(c,d,f),Y=()=>p(W=>!W),B=cA(e,t,n),X=B.dae.gz,ee=B.se.gz,q=B.wol.gz;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"mb-1 flex flex-wrap items-end justify-between gap-2 p-2",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"text-md desk:text-xl font-bold text-neutral-900 dark:text-neutral-100",children:[(e.name?.trim()||"")+" ",_.jsxs("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 mr-2",children:["(",e.gender,")"]}),te&&_.jsxs("button",{onClick:Y,className:`px-2 py-0.5 text-xs rounded cursor-pointer border
                  ${m?"bg-red-600 text-white border-red-600":"bg-neutral-100 text-neutral-700 border-neutral-300 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,children:[" ",m?"ON":"OFF"]})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[tee(e.birthDay,e.birthTime),e.birthPlace?.name?`  ${": "+e.birthPlace.name}`:""]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[": ",E]})]}),_.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[" : ",s.toFixed(2),"  ",a," "]})]}),_.jsxs("div",{className:`grid gap-2 p-2 desk:p-0 ${ce.length===0?"grid-cols-1":ce.length===1?"grid-cols-[2fr_8fr]":ce.length===2?"grid-cols-[3.5fr_6.5fr]":"grid-cols-[4fr_5fr]"}`,children:[ce.length>0&&(ve?_.jsxs("section",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-2 p-3 ${ce.length===1?"grid-cols-1":ce.length===2?"grid-cols-2":"grid-cols-3"}`,children:ce.map(W=>{let le=W.data.stem,fe=W.data.branch;W.label.includes("")&&X&&(le=X.charAt(0),fe=X.charAt(1)),W.label.includes("")&&ee&&(le=ee.charAt(0),fe=ee.charAt(1)),W.label.includes("")&&q&&(le=q.charAt(0),fe=q.charAt(1));const Q=U(fe),de=Z(fe);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:le})}),_.jsx(Ml,{value:le,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:fe,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:fe,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Q}),r.showSibiSinsal&&_.jsx("div",{children:de}),i&&_.jsx(e0,{stem:le,branch:fe})]})]})]},W.key)})})})]}):_.jsxs("div",{className:"rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:`grid gap-1 p-0 ${ce.length===1?"grid-cols-1":ce.length===2?"grid-cols-2":"grid-cols-3"}`,children:ce.map(W=>{let le=W.data.stem,fe=W.data.branch;W.label.includes("")&&X&&(le=X.charAt(0),fe=X.charAt(1)),W.label.includes("")&&ee&&(le=ee.charAt(0),fe=ee.charAt(1)),W.label.includes("")&&q&&(le=q.charAt(0),fe=q.charAt(1));const Q=U(fe),de=Z(fe);return _.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsxs("div",{className:"py-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:le})}),_.jsx(Ml,{value:le,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:fe,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:fe,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:Q}),r.showSibiSinsal&&_.jsx("div",{children:de}),i&&_.jsx(e0,{stem:le,branch:fe})]})]})]},W.key)})})})]})),ve?_.jsxs("section",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-md text-neutral-600 dark:text-neutral-300",children:_.jsx("b",{children:""})}),_.jsx("div",{className:"pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-2 p-3",children:[{key:"hour",label:"",data:z},{key:"day",label:"",data:x.day},{key:"month",label:"",data:x.month},{key:"year",label:"",data:x.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-2 py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"p-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:W.data.stem})}),_.jsx(Ml,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:sn(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:ln({baseBranch:r.sinsalBase===""?x.day.branch:x.year.branch,targetBranch:W.data.branch,era:yw(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(e0,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-[10px] desk:text-xs text-neutral-500 dark:text-neutral-400",children:" "})})]},W.key))})})]}):_.jsxs("div",{className:"flex-2 rounded-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white border border-neutral-200 dark:border-neutral-700 shadow",children:[_.jsx("div",{className:"px-3 py-1 text-[11px] text-neutral-600 dark:text-neutral-300",children:""}),_.jsx("div",{className:"px-1 pb-2",children:_.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{key:"hour",label:"",data:z},{key:"day",label:"",data:x.day},{key:"month",label:"",data:x.month},{key:"year",label:"",data:x.year}].map(W=>_.jsxs("div",{className:"rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"py-1 text-center text-xs tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:W.label}),_.jsx("div",{className:"py-2 flex flex-col items-center gap-1",children:W.data?_.jsxs(_.Fragment,{children:[r.showSipSin&&_.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:li(D,{stem:W.data.stem})}),_.jsx(Ml,{value:W.data.stem,kind:"stem",charType:r.charType,thinEum:r.thinEum}),_.jsx(Ml,{value:W.data.branch,kind:"branch",charType:r.charType,thinEum:r.thinEum}),_.jsx(Gh,{branch:W.data.branch,dayStem:D,mode:J,mapping:r.hiddenStemMode}),(r.showSibiUnseong||r.showSibiSinsal||i)&&_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5",children:[r.showSibiUnseong&&_.jsx("div",{children:sn(D,W.data.branch)}),r.showSibiSinsal&&_.jsx("div",{children:ln({baseBranch:r.sinsalBase===""?x.day.branch:x.year.branch,targetBranch:W.data.branch,era:yw(r.sinsalMode),gaehwa:r.sinsalBloom})}),i&&_.jsx(e0,{stem:W.data.stem,branch:W.data.branch})]})]}):_.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-nowrap",children:" "})})]},W.key))})})]})]}),y&&_.jsxs("div",{className:"mt-4 p-3 border rounded bg-neutral-50 dark:bg-neutral-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-semibold text-sm text-neutral-700 dark:text-neutral-300",children:" "}),_.jsx("button",{onClick:()=>R(W=>!W),className:"px-2 py-1 text-xs rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-600 cursor-pointer",children:N?" : ":" : "})]}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map(W=>{const le=W.charAt(0),fe=W.charAt(1),Q=O?.stem===le&&O?.branch===fe;return _.jsx("button",{onClick:()=>H(le,fe),className:`p-2 text-xs rounded border cursor-pointer ${Q?XQ(fe):"bg-white dark:bg-neutral-900 text-neutral-700 dark:text-neutral-200 border-neutral-300 dark:border-neutral-600"}`,title:`${W} ( )`,children:W},W)})})]})]})}function QQ(e,t,n){if(n)return"";const r=(e??"").trim();if(r)return r;const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":iE(i)}function e0({stem:e,branch:t}){const n=uA[e]??e,r=dA[t]??t,i=`${n}${r}`,a=YQ[i];if(!a)return null;const s=KQ(a.elem);return _.jsx("span",{className:`inline-block px-1.5 py-[2px] rounded ${s} border border-white/10 text-nowrap`,title:`${a.label}  ${a.elem}`,children:a.label})}function eee(e){return Wy(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function yw(e){const t=Au;return eee(t)?e==="classic"?t.Classic:t.Modern:e}function Ml({value:e,kind:t,charType:n,thinEum:r}){const{settings:i}=Er(),a=sa(e,t,i),s=n===""?t==="stem"?uA[e]??e:dA[e]??e:t==="stem"?UQ[e]??e:HQ[e]??e,c=t==="stem"?FQ.has(e):GQ.has(e),d=r&&c?"font-thin":"font-bold";return _.jsx("div",{className:`w-11 h-11 sm:w-14 sm:h-14 md:w-14 md:h-14 rounded-md ${a}
                  flex items-center justify-center border border-neutral-200 dark:border-neutral-800`,children:_.jsx("span",{className:`text-[24px] md:text-2xl ${d}`,children:s})})}function tee(e,t){if(!e||!/^\d{8}$/.test(e))return"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8),a=`${n}-${r}-${i}`;return!t||t===""||!/^\d{4}$/.test(t)?a:`${a} ${t.slice(0,2)}:${t.slice(2,4)}`}function Gl(e){const t=Number(e.birthDay?.slice(0,4)),n=Number(e.birthDay?.slice(4,6))-1,r=Number(e.birthDay?.slice(6,8)),i=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(0,2)),a=!e.birthTime||e.birthTime===""?0:Number(e.birthTime?.slice(2,4)),s=new Date(t,n,r,i,a,0,0);if(isNaN(s.getTime()))throw new Error(`Invalid date: ${e.birthDay} ${e.birthTime}`);const c=!e.birthPlace||typeof e.birthPlace=="object"&&e.birthPlace.name==="";return Eu(s,e.birthPlace?.lon??127.5,c)}function Zy(e,t){const n=e.length;if(n===0||!t)return 0;const r=e[0].at.getTime(),i=e[n-1].at.getTime(),a=t.getTime();if(a<=r)return 0;if(a>=i)return n-1;for(let s=0;s<n-1;s+=1){const c=e[s].at.getTime(),d=e[s+1].at.getTime();if(a>=c&&a<d)return s}return 0}const o5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},s5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},nee=Object.fromEntries(Object.entries(o5).map(([e,t])=>[t,e])),ree=Object.fromEntries(Object.entries(s5).map(([e,t])=>[t,e]));function rM(e,t,n){return n===""?t==="stem"?o5[e]??e:s5[e]??e:t==="stem"?nee[e]??e:ree[e]??e}const iee=new Set(["","","","","","","","","",""]),aee=new Set(["","","","","","","","","","","",""]);function iM(e,t){return t==="stem"?iee.has(e):aee.has(e)}function oee(e){return typeof e=="object"&&e!==null}function see(e){return oee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function lee(e){const t=Au;return see(t)?e==="classic"?t.Classic:t.Modern:e}const cee=!1,aM=e=>e<10?`0${e}`:`${e}`;function uee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${aM(f.getMonth()+1)}${aM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function dee({data:e}){const t=Km(e),n=A.useMemo(()=>{const N=uee(e);return Gl(N)},[e]),r=A.useMemo(()=>{const N=e.mingSikType??"/";return At(n,N).charAt(0)},[n,e.mingSikType]),{date:i,setFromEvent:a}=Di(),s=A.useMemo(()=>Zy(t,i),[t,i]),c=Er(N=>N.settings),{charType:d,thinEum:f,showSipSin:m,showSibiUnseong:p,showSibiSinsal:y,sinsalBase:b,sinsalMode:x,sinsalBloom:T}=c,E=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,j=e.mingSikType??"/",D=b===""?At(n,j).charAt(1):pt(n,E).charAt(1),O=N=>p?sn(r,N):null,M=N=>y?ln({baseBranch:D,targetBranch:N,era:lee(x),gaehwa:!!T}):null;return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:t.map((N,R)=>{const $=N.gz.charAt(0),z=N.gz.charAt(1),G=fee(n,N.at),V=R===s,H=rM($,"stem",d),U=rM(z,"branch",d),Z=iM($,"stem"),re=iM(z,"branch"),ve=f&&Z?"font-thin":"font-bold",J=f&&re?"font-thin":"font-bold",ae=O(z),ne=M(z);return _.jsxs("div",{onClick:()=>a(N,""),className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${V?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${N.gz}  ${N.at.toLocaleDateString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:G}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-0.5",children:[m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(r,{stem:$})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa($,"stem",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ve}`,children:H})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(z,"branch",c)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${J}`,children:U})}),m&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(r,{branch:z})}),(p||y)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1 text-center space-y-0.5 text-nowrap",children:[p&&_.jsx("div",{children:ae}),y&&_.jsx("div",{children:ne})]})]})]},`${N.gz}-${R}`)})})]})}function fee(e,t){const r=(t.getTime()-e.getTime())/(365.2425*24*60*60*1e3);return Math.max(0,Math.round(r))}function Xy(e,t){const n=e,r=typeof n.isUnknownTime=="boolean"?n.isUnknownTime:!1,i=typeof n.birthTime=="string"&&/^(?:\d{4}|\d{2}:\d{2})$/.test(n.birthTime),a=typeof n.birthHour=="number",s=typeof n.birthMinute=="number";if(r||!(i||a||s)){const d=new Date(t);return d.setDate(d.getDate()+1),d.setHours(4,30,0,0),d}return t}const l5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},c5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},hee=Object.fromEntries(Object.entries(l5).map(([e,t])=>[t,e])),mee=Object.fromEntries(Object.entries(c5).map(([e,t])=>[t,e]));function oM(e,t,n){return n===""?t==="stem"?l5[e]??e:c5[e]??e:t==="stem"?hee[e]??e:mee[e]??e}const pee=new Set(["","","","","","","","","",""]),gee=new Set(["","","","","","","","","","","",""]);function sM(e,t){return t==="stem"?pee.has(e):gee.has(e)}function vee(e){return typeof e=="object"&&e!==null}function yee(e){return vee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function bee(e){const t=Au;return yee(t)?e==="classic"?t.Classic:t.Modern:e}function bw(e){return new Date(e,6,2,12,0,0,0)}function _ee(e,t){return t-e+1}const xee=!1,lM=e=>e<10?`0${e}`:`${e}`;function wee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${lM(f.getMonth()+1)}${lM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function See({data:e,list:t,onSelect:n}){const r=Er($=>$.settings),{date:i,setFromEvent:a}=Di(),[s,c]=A.useState(()=>t);A.useEffect(()=>{t&&t.length>0&&c(t)},[t]);const d=Gl(e),f=A.useMemo(()=>Xy(e,d),[e,d]),m=A.useMemo(()=>f.getFullYear(),[f]),p=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,y=A.useMemo(()=>{if(!i)return[];const $=i.getFullYear(),z=bw($),G=pt(z,p);return[{at:z,gz:G}]},[i,p]),b=t.length>0?t:s.length>0?s:y,x=A.useMemo(()=>[...b].sort(($,z)=>$.at.getTime()-z.at.getTime()),[b]),T=A.useMemo(()=>{if(x.length===0)return 0;const $=Zy(x,i);return $<0?0:$>=x.length?x.length-1:$},[x,i]),[E,j]=A.useState(null);A.useEffect(()=>{j(null)},[i,x]);const D=E??T,O=A.useMemo(()=>{const $=wee(e);return Gl($)},[e]),M=e.mingSikType??"/",N=A.useMemo(()=>At(O,M).charAt(0),[O,M]),R=A.useMemo(()=>r.sinsalBase===""?At(f,M).charAt(1):pt(f,p).charAt(1),[f,M,p,r.sinsalBase]);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:x.map(($,z)=>{const G=$.at.getFullYear(),V=bw(G),H=pt(V,p),U=H.charAt(0),Z=H.charAt(1),re=z===D,ve=oM(U,"stem",r.charType),J=oM(Z,"branch",r.charType),ae=sM(U,"stem"),ne=sM(Z,"branch"),ce=r.thinEum&&ae?"font-thin":"font-bold",te=r.thinEum&&ne?"font-thin":"font-bold",Y=r.showSibiUnseong?sn(N,Z):null,B=r.showSibiSinsal?ln({baseBranch:R,targetBranch:Z,era:bee(r.sinsalMode),gaehwa:!!r.sinsalBloom}):null,X=_ee(m,G);return _.jsxs("div",{onClick:()=>{if(z===0){j(z);return}j(z);const ee=bw(G),q=pt(ee,p);a({at:ee,gz:q},""),n&&(typeof queueMicrotask<"u"?queueMicrotask(()=>n(G)):Promise.resolve().then(()=>n(G)))},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${re?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${H}  ${$.at.toLocaleDateString()}  ${X}`,children:[_.jsxs("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-100 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-200",children:[X,""]}),_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:G}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(N,{stem:U})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${sa(U,"stem",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${ce}`,children:ve})}),_.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border ${sa(Z,"branch",r)}`,children:_.jsx("span",{className:`text-[20px] md:text-xl ${te}`,children:J})}),r.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(N,{branch:Z})}),(r.showSibiUnseong||r.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[r.showSibiUnseong&&Y&&_.jsx("div",{children:Y}),r.showSibiSinsal&&B&&_.jsx("div",{children:B})]})]})]},`${G}-${$.gz||z}`)})})]})}const Eee=new Set(["","","","","","","","","","","",""]);function Aee(e){const t=new Date(e.getFullYear(),e.getMonth()+1),n=t.getFullYear(),i=[...mo(new Date(n-1,5,15,12,0))??[],...mo(new Date(n,5,15,12,0))??[],...mo(new Date(n+1,5,15,12,0))??[]].map(d=>({name:String(d.name),date:new Date(d.date)})).sort((d,f)=>d.date.getTime()-f.date.getTime()).filter(d=>Eee.has(d.name));let a=i.findIndex((d,f)=>i[f].date<=t&&t<i[f+1]?.date);a<0&&(a=0);const s=i[a],c=i[a+1];return{start:new Date(s.date.getFullYear(),s.date.getMonth(),s.date.getDate(),0,0,0,0),end:new Date(c.date.getFullYear(),c.date.getMonth(),c.date.getDate(),0,0,0,0),cur:s,next:c}}const u5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},d5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Tee=Object.fromEntries(Object.entries(u5).map(([e,t])=>[t,e])),kee=Object.fromEntries(Object.entries(d5).map(([e,t])=>[t,e]));function cM(e,t,n){return n===""?t==="stem"?u5[e]??e:d5[e]??e:t==="stem"?Tee[e]??e:kee[e]??e}const Oee=new Set(["","","","","","","","","",""]),jee=new Set(["","","","","","","","","","","",""]);function uM(e,t){return t==="stem"?Oee.has(e):jee.has(e)}function Nee(e){return typeof e=="object"&&e!==null}function Cee(e){return Nee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Mee(e){const t=Au;return Cee(t)?e==="classic"?t.Classic:t.Modern:e}const Dee=new Set(["","","","","","","","","","","",""]);function Pee(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,0,0)}function Ree(e){const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric"}).formatToParts(e);return Number(t.find(n=>n.type==="month")?.value??e.getMonth()+1)}function _w(e){return new Date(e,5,15,12,0,0,0)}function Lee(e){const n=[...mo(_w(e-1))??[],...mo(_w(e))??[],...mo(_w(e+1))??[]].map(c=>({name:String(c.name),date:new Date(c.date)})).sort((c,d)=>c.date.getTime()-d.date.getTime()).filter(c=>Dee.has(c.name)),r=new Date(e,0,1,0,0,0,0),i=new Date(e+1,0,1,0,0,0,0),a=n.findIndex(c=>c.name===""&&c.date>=r&&c.date<i);if(a===-1)return[];const s=[];for(let c=0;c<12;c++){const d=n[a+c];if(!d)break;const f=new Date(d.date),m=Pee(f);s.push({name:d.name,termAt:f,at00:m})}return s}const Iee=!1,dM=e=>e<10?`0${e}`:`${e}`;function $ee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${dM(f.getMonth()+1)}${dM(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function Bee({data:e,activeYear:t,onSelect:n,onSelectMonth:r}){const i=Er(E=>E.settings),a=!e.birthPlace||e.birthPlace.name===""||e.birthPlace.lon===0?127.5:e.birthPlace.lon,s=Gl(e),c=A.useMemo(()=>Xy(e,s),[e,s]),d=A.useMemo(()=>{const E=$ee(e);return Gl(E)},[e]),f=e.mingSikType??"/",m=A.useMemo(()=>At(d,f).charAt(0),[d,f]),p=i.sinsalBase===""?At(c,f).charAt(1):pt(c,a).charAt(1),y=A.useMemo(()=>t?Lee(t).map(j=>{const D=j.termAt,O=new Date(j.termAt.getTime()+1860*1e3),M=Mt(O,a);return{at:D,gz:M,term:j.name,termAt:j.termAt}}):[],[t,a]),{date:b,setFromEvent:x}=Di(),T=Zy(y,b);return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"px-3 py-2 text-sm font-semibold tracking-wider bg-neutral-50 dark:bg-neutral-800/60 text-neutral-700 dark:text-neutral-300",children:""}),_.jsx("div",{className:"flex gap-0.5 desk:gap-1 py-2 desk:p-2 flex-row-reverse",children:y.map((E,j)=>{const D=E.gz.charAt(0),O=E.gz.charAt(1),M=`${Ree(E.at)}`,N=j===T,R=cM(D,"stem",i.charType),$=cM(O,"branch",i.charType),z=uM(D,"stem"),G=uM(O,"branch"),V=i.thinEum&&z?"font-thin":"font-bold",H=i.thinEum&&G?"font-thin":"font-bold",U=i.showSibiUnseong?sn(m,O):null,Z=i.showSibiSinsal?ln({baseBranch:p,targetBranch:O,era:Mee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):null;return _.jsxs("div",{onClick:()=>{r(E.at);const re=new Date(E.at),{start:ve}=Aee(re);n?.(ve.getFullYear(),ve.getMonth()),x({at:re,gz:Mt(re,a)},"")},className:`flex-1 rounded-sm desk:rounded-lg bg-white dark:bg-neutral-900 overflow-hidden cursor-pointer ${N?"border border-yellow-500":"border border-neutral-200 dark:border-neutral-800 hover:border-yellow-500"}`,title:`${E.term}   ${E.gz}  ${E.termAt.toLocaleString()}`,children:[_.jsx("div",{className:"desk:px-2 py-1 text-center text-[10px] bg-neutral-50 dark:bg-neutral-800/60 text-neutral-600 dark:text-neutral-300",children:M}),_.jsxs("div",{className:"p-2 flex flex-col items-center gap-1",children:[i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(m,{stem:D})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(D,"stem",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${V}`,children:R})}),_.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-sm md:rounded-lg flex items-center justify-center border border-neutral-200 dark:border-neutral-800 ${sa(O,"branch",i)}`,children:_.jsx("span",{className:`text-base md:text-xl ${H}`,children:$})}),i.showSipSin&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-nowrap",children:li(m,{branch:O})}),(i.showSibiUnseong||i.showSibiSinsal)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center text-nowrap",children:[i.showSibiUnseong&&U&&_.jsx("div",{children:U}),i.showSibiSinsal&&Z&&_.jsx("div",{children:Z})]}),_.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 text-nowrap",children:E.term})]})]},`${E.term}-${E.at.toISOString()}`)})})]})}const f5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},h5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zee=Object.fromEntries(Object.entries(f5).map(([e,t])=>[t,e])),Uee=Object.fromEntries(Object.entries(h5).map(([e,t])=>[t,e]));function fM(e,t,n){return n===""?t==="stem"?f5[e]??e:h5[e]??e:t==="stem"?zee[e]??e:Uee[e]??e}const Hee=new Set(["","","","","","","","","",""]),Fee=new Set(["","","","","","","","","","","",""]);function hM(e,t){return t==="stem"?Hee.has(e):Fee.has(e)}function Gee(e){return typeof e=="object"&&e!==null}function qee(e){return Gee(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function Yee(e){const t=Au;return qee(t)?e==="classic"?t.Classic:t.Modern:e}const Kee=!1,mM=e=>e<10?`0${e}`:`${e}`;function Wee(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=Jr(i,a,s,0,0),d=`${c.getFullYear()}${mM(c.getMonth()+1)}${mM(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}function Vee(e,t){return new Date(e,t,15,12,0,0,0)}function xw(e){const t=new Date(e);return t.setHours(23,59,0,0),t}const Zee=new Set(["","","","","","","","","","","",""]);function m5(e){return[...mo(new Date(e-1,5,15,12,0))??[],...mo(new Date(e,5,15,12,0))??[],...mo(new Date(e+1,5,15,12,0))??[]].map(n=>({name:String(n.name),date:new Date(n.date)})).sort((n,r)=>n.date.getTime()-r.date.getTime())}function Xee(e){const t=m5(e.getFullYear()),n=t.filter(s=>Zee.has(s.name));if(n.length<12){const s=t.findIndex(f=>f.date>e),c=t[Math.max(0,s-1)],d=t[Math.min(t.length-1,s)];return{start:new Date(c.date),end:new Date(d.date),cur:c,next:d}}let r=n.findIndex(s=>s.date>e)-1;r<0&&(r=n.length-1);const i=n[r],a=n[(r+1)%n.length];return{start:new Date(i.date),end:new Date(a.date),cur:i,next:a}}function Jee({data:e,year:t,month:n,selectedMonth:r}){const i=Er(G=>G.settings),a=i.ilunRule||"/",s=e?Gl(e):null,c=e&&s?Xy(e,s):null,d=A.useMemo(()=>{const G=Wee(e);return Gl(G)},[e]),f=A.useMemo(()=>d?At(d,a).charAt(0):void 0,[d,a]),m=e&&e.birthPlace&&e.birthPlace.name!==""&&e.birthPlace.lon!==0?e.birthPlace.lon:127.5,p=e&&c?i.sinsalBase===""?At(c,a).charAt(1):pt(c,m).charAt(1):null,{date:y,setFromEvent:b}=Di(),x=A.useMemo(()=>Vee(t,n),[t,n]),T=A.useMemo(()=>y?xw(new Date(y)):null,[y]),E=A.useMemo(()=>r?xw(r):null,[r]),j=A.useMemo(()=>T??E??x,[T,E,x]),{start:D,end:O,cur:M,next:N}=A.useMemo(()=>Xee(j),[j]),R=A.useMemo(()=>{const G=[],V=new Date(D);for(;V<O;)G.push(new Date(V)),V.setDate(V.getDate()+1);return G},[D,O]),$=A.useMemo(()=>{const G=m5(j.getFullYear()),V=G.filter(U=>U.date>=D&&U.date<O),H=G.find(U=>U.date>=O);return H?[...V,H]:V},[j,D,O]),z=A.useMemo(()=>{const G=[];let V=[];const H=new Date(D).getDay();for(let U=0;U<H;U++)V.push(null);for(const U of R)V.length===7&&(G.push(V),V=[]),V.push(U);for(;V.length<7;)V.push(null);return G.push(V),G},[R,D]);return _.jsxs("div",{className:"w-full max-w-[800px] mx-auto mb-4 rounded-xl bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[_.jsx("div",{className:"flex justify-center items-center px-2 desk:px-4 py-2 bg-neutral-50 dark:bg-neutral-800/60",children:_.jsxs("div",{className:"text-center text-[11px] desk:text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:[M?.name?_.jsxs(_.Fragment,{children:[M.name," ~ ",N?.name??""]}):`${t} ${n}`,$.length>0&&_.jsxs("div",{className:"mt-0.5 text-[10px] desk:text-xs font-normal text-neutral-500 dark:text-neutral-400",children:["[",$.map((G,V)=>_.jsxs("span",{children:[G.name," ",Qee(G.date),V<$.length-1?"  ":""]},`${G.name}_${G.date.getTime()}_${V}`)),"]"]})]})}),_.jsx("div",{className:"grid grid-cols-7 text-center text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300",children:["","","","","","",""].map(G=>_.jsx("div",{className:"py-1",children:G},G))}),_.jsx("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 dark:bg-neutral-800",children:z.map((G,V)=>G.map((H,U)=>{if(!H)return _.jsx("div",{className:"bg-white dark:bg-neutral-900"},`${V}-${U}`);const Z=xw(H),re=new Date,ve=Z.getFullYear()===re.getFullYear()&&Z.getMonth()===re.getMonth()&&Z.getDate()===re.getDate(),ae=!!T&&Z.getFullYear()===T.getFullYear()&&Z.getMonth()===T.getMonth()&&Z.getDate()===T.getDate()||!T&&ve,ne=pG(Z,a),ce=ne.charAt(0),te=ne.charAt(1),Y=fM(ce,"stem",i.charType),B=fM(te,"branch",i.charType),X=i.thinEum&&hM(ce,"stem")?"font-thin":"font-bold",ee=i.thinEum&&hM(te,"branch")?"font-thin":"font-bold",q=!!f&&i.showSipSin,W=!!f&&i.showSibiUnseong,le=!!f&&p!=null&&i.showSibiSinsal,fe=q?li(f,{stem:ce}):"",Q=q?li(f,{branch:te}):"",de=W?sn(f,te):"",we=le?ln({baseBranch:p,targetBranch:te,era:Yee(i.sinsalMode),gaehwa:!!i.sinsalBloom}):"",se=$.find(Ne=>Ne.date.getFullYear()===Z.getFullYear()&&Ne.date.getMonth()===Z.getMonth()&&Ne.date.getDate()===Z.getDate());return _.jsxs("div",{onClick:()=>b({at:Z},""),className:`space-y-1 bg-white dark:bg-neutral-900 flex flex-col items-center justify-start p-1 text-xs border cursor-pointer ${ae?"border-yellow-500":"border-neutral-200 dark:border-neutral-800"}`,title:`${ne} (${Z.toLocaleDateString()})`,children:[_.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 flex items-center gap-1",children:[_.jsx("span",{children:Z.getDate()}),se&&_.jsx("span",{className:"text-[10px] text-nowrap px-1 rounded bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:se.name})]}),q&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:fe}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${sa(ce,"stem",i)}`,children:_.jsx("span",{className:X,children:Y})}),_.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-base ${sa(te,"branch",i)}`,children:_.jsx("span",{className:ee,children:B})}),q&&_.jsx("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400",children:Q}),(W||le)&&_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 text-center space-y-0.5",children:[W&&de&&_.jsx("div",{children:de}),le&&we&&_.jsx("div",{children:we})]})]},H.toISOString())}))})]})}function Qee(e){if(!e)return null;const t=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(e);let n="",r="",i="",a="";for(const s of t)s.type==="month"&&(n=s.value),s.type==="day"&&(r=s.value),s.type==="hour"&&(i=s.value),s.type==="minute"&&(a=s.value);return`${n}/${r} ${i}:${a}`}function pM(e,t){const n=e.at.getFullYear(),r=t?t.at.getFullYear():n+10,i=[];for(let a=n;a<r;a++){const s=lr(a,315);let c=a;new Date<s&&(c=a-1);const f=pt(new Date(c,1,10));i.push({at:s,gz:f})}return i}function ete({data:e}){const t=Km(e),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState("il"),[d,f]=A.useState(null);A.useEffect(()=>{if(!t.length)return;const x=new Date,T=t.findIndex((E,j)=>{const D=t[j+1]?.at;return x>=E.at&&(!D||x<D)});T!==-1&&r(T)},[t]),A.useEffect(()=>{if(n===null)return;const x=t[n],T=t[n+1];if(!x)return;const E=pM(x,T),j=new Date;E.findIndex((O,M)=>{const N=E[M+1]?.at;return j>=O.at&&(!N||j<N)})!==-1&&a({year:j.getFullYear(),month:j.getMonth()})},[n,t]);const m=cA(e),{date:p}=Di(),y=p.getMonth()+1===1?p.getFullYear()-1:p.getFullYear(),b=A.useMemo(()=>{if(!m?.dae?.gz)return[];const x=t.findIndex((j,D)=>{const O=t[D+1]?.at;return m.dae.at>=j.at&&(!O||m.dae.at<O)});if(x===-1)return[];const T=t[x],E=t[x+1];return pM(T,E)},[t,m?.dae]);return _.jsxs("div",{className:"w-full space-y-4",children:[_.jsx(dee,{data:e}),s==="se"||s==="wol"||s==="il"?_.jsx(See,{data:e,list:b,onSelect:()=>{c("wol")}}):null,s==="wol"||s==="il"?_.jsx(Bee,{data:e,activeYear:y,onSelect:(x,T)=>{a({year:x,month:T}),c("il")},onSelectMonth:f}):null,s==="il"&&i&&_.jsx(Jee,{data:e,year:i.year,month:i.month+1,hourTable:e?.mingSikType,selectedMonth:d})]})}const tte=new Set(nG),nte=new Set(rG);function gM(e){return typeof e=="string"&&e.length>=2&&tte.has(e[0])&&nte.has(e[1])}function Wi(e,...t){if(gM(e))return e;for(const n of t)if(gM(n))return n;return""}const rte={:0,:2,:4,:6,:8,:10,:12,:14,:16,:18,:20,:22},p5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ite={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function vM(e){return!!e&&Ra..includes(e)}function ate(e){return p5[e]??e}function yM(e){return ite[e]??e}function ote(e){if(vM(e))return e;const t=p5[e];return vM(t)?t:""}function ste(e){return typeof e=="object"&&e!==null&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function lte(e){const t=Au;return ste(t)?e==="classic"?t.Classic??t.classic:t.Modern??t.modern:e}function t0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function cte({data:e}){const t=Er(V=>V.settings),{manualHour:n}=Hm(),{showSibiUnseong:r,showSibiSinsal:i,sinsalBase:a,sinsalMode:s,sinsalBloom:c}=t,{date:d}=Di(),f=A.useMemo(()=>lA(e),[e]),m=A.useMemo(()=>Vy(f),[f]),p=A.useMemo(()=>oA(f,"/"),[f]),y=A.useMemo(()=>ote(p.day?.charAt(0)??""),[p.day]),b=!e.birthTime||e.birthTime==="",x=A.useMemo(()=>n5(m,p.hour,e.dir??"forward",120,"/"),[m,p.hour,e.dir]),T=A.useMemo(()=>i5(x,p.day,e.dir??"forward",""),[x,p.day,e.dir]),E=A.useMemo(()=>Ym(m,p.month,e.dir??"forward",120,f.birthPlace?.lon??127.5),[m,p.month,e.dir,f.birthPlace?.lon]),j=A.useMemo(()=>a5(E,p.year,e.dir??"forward","",m),[E,p.year,e.dir,m]),D=A.useMemo(()=>{const V=x?.events?.[0];return V?{at:V.at,from:Wi(p.hour),to:Wi(V.gz)}:null},[x?.events,p.hour]),O=A.useMemo(()=>{const V=E?.events?.[0];return E?.firstChange?{at:E.firstChange,from:Wi(p.month),to:Wi(V?.gz??p.month)}:null},[E?.firstChange,E?.events,p.month]),M=A.useMemo(()=>{const V=b?n?n.stem+n.branch:"":Wi(t0(x.events,d)?.gz,p.hour);let H;if(b&&n){const U=d.getFullYear(),Z=d.getMonth(),re=d.getDate(),ve=rte[n.branch]??0,J=new Date(U,Z,re,ve,0),ae=At(J,e.mingSikType??"/");H=Wi(ae,p.day)}else H=Wi(t0(T.events,d)?.gz,p.day);return{si:V,il:H,wl:Wi(t0(E.events,d)?.gz,p.month),yn:Wi(t0(j.events,d)?.gz,p.year)}},[d,x.events,T.events,E.events,j.events,p,b,n,e.mingSikType]),N=A.useMemo(()=>({si:Wi($a(d,"/")),il:Wi(At(d,"/")),wl:Wi(Mt(d)),yn:Wi(pt(d))}),[d]),R=A.useMemo(()=>a===""?p.day.charAt(1):p.year.charAt(1),[a,p.day,p.year]),$=A.useMemo(()=>lte(s),[s]),z=V=>{if(!V)return{unseong:"",shinsal:""};const H=ate(y),U=yM(V.charAt(1)),Z=yM(R);return{unseong:r&&sn(H,U)||"",shinsal:i&&ln({baseBranch:Z,targetBranch:U,era:$,gaehwa:!!c})||""}},G=(V,H,U="myoun")=>{const Z=H,{unseong:re,shinsal:ve}=H?z(H):{unseong:"",shinsal:""},J=U==="myoun"&&b&&(V===""||V==="");return _.jsx(Nd,{label:V,gz:Z,dayStem:y,settings:t,unseongText:H?re:"",shinsalText:H?ve:"",hideBranchSipSin:!0,size:"sm",isUnknownTime:J},`${U}-${V}`)};return _.jsxs("div",{className:"w-full max-w-[640px] mx-auto mb-4 px-2 py-4 desk:p-4 bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800",children:[_.jsx("header",{className:"flex flex-wrap items-center gap-3 justify-between mb-4",children:_.jsxs("div",{className:"font-semibold text-xs desk:text-sm",children:[" +   "," ",_.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["(: ",em(m),")"]})]})}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4 mb-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:""}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[G("",M.si,"myoun"),G("",M.il,"myoun"),G("",M.wl,"myoun"),G("",M.yn,"myoun")]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs mb-2 text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("div",{className:"grid grid-cols-4 gap-1 desk:gap-2",children:[G("",N.si,"live"),G("",N.il,"live"),G("",N.wl,"live"),G("",N.yn,"live")]})]})]}),_.jsxs("div",{className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 space-y-1",children:[_.jsx("div",{className:"font-semibold",children:"  "}),_.jsxs("div",{children:[":"," ",D?`${em(D.at)} (${D.from}  ${D.to})`:" "]}),_.jsxs("div",{children:[":"," ",O?`${em(O.at)} (${O.from}  ${O.to})`:" "]})]})]})}const bM=["","","","","","","","","",""],ute={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},dte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},fte={:"",:"",:"",:"",:""},hte={:"",:"",:"",:"",:""},mte={:"",:"",:"",:"",:""},pte={:"",:"",:"",:"",:""};function gte(e,t){switch(e){case"":return t;case"":return fte[t];case"":return mte[t];case"":return pte[t];case"":return hte[t];default:return t}}function vte({data:e,perStemElementScaled:t,elementPercent:n,dayStem:r,width:i=280,height:a=280,revKey:s}){const c=i,d=a,f=c/2,m=d/2,p=Math.min(c,d)*.37,y=A.useMemo(()=>{const O=(r??"").charAt(0);return dte[O]??null},[r]),b=O=>Math.PI/2+2*-Math.PI*O/5,x=A.useMemo(()=>e.map((O,M)=>({...O,x:f+p*Math.cos(b(M)),y:m-p*Math.sin(b(M))})),[e,f,m,p]),[T,E]=A.useState(0),j=A.useRef(""),D=A.useMemo(()=>{const O=e.map(R=>`${R.name}:${R.value}`).join(","),M=bM.map(R=>`${R}:${t?.[R]??0}`).join(","),N=n?`:${n.??0},:${n.??0},:${n.??0},:${n.??0},:${n.??0}`:"el:none";return[s??"",O,M,N,r??""].join("||")},[s,e,t,r,n]);return A.useEffect(()=>{D!==j.current&&(j.current=D,E(O=>O+1))},[D]),_.jsx("div",{className:"w-full",children:_.jsxs("svg",{width:c,height:d,className:"mx-auto pt-2",children:[x.map((O,M)=>{const N=x[(M+2)%5];return _.jsx("line",{x1:O.x,y1:O.y,x2:N.x,y2:N.y,stroke:"#94a3b8",strokeWidth:1},`line-${M}`)}),x.map((O,M)=>{const N=x[(M+1)%5],R=(O.x+N.x)/2,$=(O.y+N.y)/2,z=R-f,G=$-m,V=1.5,H=f+z*V,U=m+G*V;return _.jsx("path",{d:`M${O.x},${O.y} Q${H},${U} ${N.x},${N.y}`,stroke:"#ef4444",strokeWidth:1.5,fill:"none",markerEnd:"url(#arrow)"},`curve-${M}`)}),_.jsx("defs",{children:_.jsx("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:_.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#ef4444"})})}),x.map(O=>{const M=O.name,N=y?gte(M,y):null,R=N?bM.filter($=>ute[$]===N).map($=>[$,t?.[$]??0]):[];return _.jsxs("g",{transform:`translate(${O.x},${O.y})`,children:[_.jsx("circle",{r:33,fill:O.color??"#334155",opacity:O.value===0?.7:1}),_.jsxs("text",{textAnchor:"middle",dy:"-6",fontSize:14,className:"fill-white font-semibold",children:[O.name," ",O.value]}),R.map(([$,z],G)=>_.jsxs("text",{textAnchor:"middle",dy:8+G*11,fontSize:10,className:"fill-white",children:[$," ",Math.round(z)]},$))]},`${O.name}-${O.value}`)})]},T)})}const yte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}];function fA(e){return Math.max(0,Math.min(100,e))}function g5(e){const t=fA(e);return yte.find(r=>t>=r.min&&t<r.max)?.name??""}const bte=[10,20,35,45,55,65,80];function _te({value:e}){const t=A.useMemo(()=>fA(e),[e]),n=A.useMemo(()=>g5(t),[t]);return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:""}),_.jsx("span",{children:""}),_.jsx("span",{children:""})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[bte.map(r=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${r}%`},title:`${r}%`},r)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${t}%`,transform:"translateX(-50%)"},"aria-label":`  ${t}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:n}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[t.toFixed(1),"%"]})]})]})}const ys=["","","",""],n0={year:0,month:1,day:2,hour:3},ww="",xte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},v5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function qe(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=xte[r[1]]??r[1],a=v5[r[2]]??r[2];return`${i}${a}`}return""}const Pv=e=>e&&e.length>=1?e[0]:"",bs=e=>e&&e.length>=2?e[1]:"",hA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],mA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],pA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],gA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],vA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],yA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],bA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],_A=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],_M=[{name:"",members:["","",""]},{name:"",members:["","",""]}],xA=[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],wA=[{pair:["",""],label:""}],wte=new Set(["","","",""]),mm=new Set(["","","",""]),Jy=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}],Qy=[{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""},{name:"",members:["","",""],out:"",wang:""}];function $n(e,t,n){for(const{pair:[r,i],label:a}of e)if(t===r&&n===i||t===i&&n===r)return a;return null}function an(e,t){e.includes(t)||e.push(t)}const Fc=e=>[...e].sort((t,n)=>t-n).map(t=>ys[t]).join("X"),Sw=(e,t)=>e===0&&t===3||e===3&&t===0;function xM(e,t){const n=[];for(const r of e)for(const i of t){if(r===i)continue;const a=Math.min(r,i),s=Math.max(r,i);a===0&&s===3||n.push([a,s])}return n.sort((r,i)=>{const a=Math.abs(r[0]-r[1]),s=Math.abs(i[0]-i[1]);return a!==s?a-s:0})}function Ste(e){const t=[],n=[...e].sort((r,i)=>r-i);for(let r=0;r<n.length;r++)for(let i=r+1;i<n.length;i++){const a=n[r],s=n[i];a===0&&s===3||t.push([a,s])}return t}const y5=e=>{switch(e){case"":return"";case"":return"";case"":return"";case"":return""}};function Ete(e){if(!e)return!1;const t=e.normalize("NFC").trim();return/^#\s*$/u.test(t)}const Ate=["cheonganHap","cheonganChung","jijiSamhap","jijiBanhap","jijiBanghap","jijiYukhap","jijiChung","jijiHyeong","jijiPa","jijiHae","jijiWonjin","jijiGwimun","amhap","ganjiAmhap"];function b5(e){for(const t of Ate){const r=(e[t]??[]).map(i=>i&&i.normalize("NFKC")).filter(i=>!!i&&!Ete(i));e[t]=Array.from(new Set(r))}return e.jijiHyeong=_5(e.jijiHyeong),e}const wM=["","","",""];function _5(e){if(!e||e.length===0)return e;const t=Array.from(new Set(e.map(i=>i?.normalize("NFKC")??""))).filter(Boolean),n=t.some(i=>i.includes("")||i.includes("()")),r=t.some(i=>i.includes("")||i.includes("()"));return t.filter(i=>!(n&&(i.includes("")||i.includes("")||i.includes(""))||r&&(i.includes("")||i.includes("")||i.includes(""))))}function SA(e,t={}){const{emitGanjiAmhap:n=!0}=t,r=e.map(qe),i=r.map(y=>Pv(y)),a=r.map(y=>bs(y)),c={title:r.map((y,b)=>`${y}${["","","",""][b]}`).join(" "),cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]},d=(y,b,x,T)=>{const E=i.flatMap((D,O)=>D===y?[O]:[]),j=i.flatMap((D,O)=>D===b?[O]:[]);for(const D of E)for(const O of j)D!==O&&Math.abs(D-O)===1&&an(T,`#${Fc([D,O])}_${x}`)};hA.forEach(({pair:[y,b],label:x})=>d(y,b,x,c.cheonganHap)),mA.forEach(({pair:[y,b],label:x})=>d(y,b,x,c.cheonganChung));const f=y=>{const b=new Set,x=[];for(const T of y)for(let E=0;E<a.length;E++)if(a[E]===T&&!b.has(E)){b.add(E),x.push(E);break}return x};Jy.forEach(({name:y,members:b,wang:x})=>{const T=b.filter(j=>a.includes(j)),E=new Set(T).size;if(E===3){const j=f(b);j.length===3&&an(c.jijiSamhap,`#${Fc(j)}_${y}`)}else if(E===2){if(!T.includes(x))return;const[j,D]=T,O=a.flatMap(($,z)=>$===j?[z]:[]),M=a.flatMap(($,z)=>$===D?[z]:[]),N=xM(O,M),R=N.length>1;for(const[$,z]of N){const G=Sw($,z),V=`#${Fc([$,z])}_${j}${D}${R?"":G?`_${ww}`:""}`;an(c.jijiSamhap,V)}}}),Qy.forEach(({name:y,members:b})=>{const x=b.filter(E=>a.includes(E));if(new Set(x).size===3){const E=f(b);E.length===3&&an(c.jijiBanghap,`#${Fc(E)}_${y}`)}});const m=(y,b,x,T)=>{const E=a.flatMap((M,N)=>M===y?[N]:[]),j=a.flatMap((M,N)=>M===b?[N]:[]),D=xM(E,j),O=D.length>1;for(const[M,N]of D){const R=Sw(M,N),$=`#${Fc([M,N])}_${x}${O?"":R?`_${ww}`:""}`;an(T,$)}};if(pA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiYukhap)),gA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiChung)),vA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiPa)),yA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHae)),bA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiWonjin)),_A.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiGwimun)),[["","",""],["","",""]].forEach(y=>{const b=[],x=new Set;if(y.forEach(T=>{a.forEach((E,j)=>{E===T&&(b.push(j),x.add(T))})}),x.size===3){const T=Array.from(new Set(b)).sort((E,j)=>E-j);an(c.jijiHyeong,`#${Fc(T)}_${y.join("")}`)}}),xA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHyeong)),wA.forEach(({pair:[y,b],label:x})=>m(y,b,x,c.jijiHyeong)),["","","",""].forEach(y=>{const b=a.flatMap((E,j)=>E===y?[j]:[]),x=Ste(b),T=x.length>1;for(const[E,j]of x){const D=Sw(E,j),O=`#${Fc([E,j])}_${y}${y}${T?"":D?`_${ww}`:""}`;an(c.jijiHyeong,O)}}),[{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}].forEach(({pair:[y,b],label:x})=>m(y,b,x,c.amhap)),n)for(let y=0;y<4;y++){const b=r[y]??"";if(b.length<2)continue;const x=`${b[0]}${b[1]}`;mm.has(x)&&an(c.ganjiAmhap,`#${y5(ys[y])}_${x}`)}return c.jijiHyeong=_5(c.jijiHyeong),b5(c)}function Vr(e,t={}){const{emitNatalGanjiAmhap:n=!1}=t,r=[qe(e.natal[0]??""),qe(e.natal[1]??""),qe(e.natal[2]??""),qe(e.natal[3]??"")],a=[qe(e.daewoon??""),qe(e.sewoon??""),qe(e.wolwoon??"")].some(m=>m.length>=2),s={cheonganHap:[],cheonganChung:[],jijiSamhap:[],jijiBanhap:[],jijiBanghap:[],jijiYukhap:[],jijiChung:[],jijiHyeong:[],jijiPa:[],jijiHae:[],jijiWonjin:[],jijiGwimun:[],amhap:[],ganjiAmhap:[]};if(n&&a)for(let m=0;m<4;m++){const p=r[m]??"";if(p.length<2)continue;const y=`${p[0]}${p[1]}`;mm.has(y)&&an(s.ganjiAmhap,`#${y5(ys[m])}_${y}`)}const c=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];let d=!1,f=!1;for(const[m,p]of c){if(!p)continue;const y=qe(p);if(!y||y.length<2)continue;const b=Pv(y),x=bs(y);{const j=`${b}${x}`;mm.has(j)&&an(s.ganjiAmhap,`#${m}_${j}`)}for(let j=0;j<4;j++){const D=r[j]??"";if(D.length<2)continue;const O=ys[j],M=Pv(D),N=bs(D),R=$n(hA,b,M);R&&an(s.cheonganHap,`#${m}X${O}_${R}`);const $=$n(mA,b,M);$&&an(s.cheonganChung,`#${m}X${O}_${$}`);const z=$n(pA,x,N);z&&an(s.jijiYukhap,`#${m}X${O}_${z}`);const G=$n(gA,x,N);G&&an(s.jijiChung,`#${m}X${O}_${G}`);const V=$n(vA,x,N);V&&an(s.jijiPa,`#${m}X${O}_${V}`);const H=$n(yA,x,N);H&&an(s.jijiHae,`#${m}X${O}_${H}`);const U=$n(bA,x,N);U&&an(s.jijiWonjin,`#${m}X${O}_${U}`);const Z=$n(_A,x,N);Z&&an(s.jijiGwimun,`#${m}X${O}_${Z}`);const re=$n(xA,x,N);if(re)an(s.jijiHyeong,`#${m}X${O}_${re}`);else{const ae=$n(wA,x,N);ae?an(s.jijiHyeong,`#${m}X${O}_${ae}`):x===N&&wte.has(x)&&an(s.jijiHyeong,`#${m}X${O}_${x}${N}`)}const J=$n([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],x,N);J&&an(s.amhap,`#${m}X${O}_${J}`)}const T=r.map(j=>{const D=bs(j??"");return v5[D]??D});for(const j of Jy){if(!j.members.includes(x))continue;const D=j.members.filter(M=>M!==x),O=T.map((M,N)=>({b:M,pos:ys[N]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,N]=O.map(R=>R.pos).sort((R,$)=>["","","",""].indexOf(R)-["","","",""].indexOf($));an(s.jijiSamhap,`#${m}X${M}X${N}_(${j.name})`)}}const E=[...r.map((j,D)=>({b:bs(j),pos:ys[D]}))];for(const j of Qy){const D=E.filter(O=>j.members.includes(O.b));if(new Set(D.map(O=>O.b)).size===3){const O=D.map(M=>M.pos).join("X");an(s.jijiBanghap,`#${O}_(${j.name})`)}}for(const j of _M){if(!j.members.includes(x))continue;const D=j.members.filter(M=>M!==x),O=T.map((M,N)=>({b:M,pos:ys[N]})).filter(M=>D.includes(M.b));if(new Set(O.map(M=>M.b)).size===2){const[M,N]=O.map(R=>R.pos).sort((R,$)=>["","","",""].indexOf(R)-["","","",""].indexOf($));an(s.jijiHyeong,`#${m}X${M}X${N}_${j.name}`),j.name===""&&(d=!0),j.name===""&&(f=!0)}}}{const m=[],p=[["",e.daewoon],["",e.sewoon],["",e.wolwoon],["",e.ilwoon]];for(const[y,b]of p){const x=qe(b??"");x.length>=2&&m.push({kind:y,b:bs(x)})}if(m.length>=2){const y=r.map((b,x)=>({pos:ys[x],b:bs(b)}));for(const b of _M)for(let x=0;x<m.length;x++)for(let T=x+1;T<m.length;T++){const E=m[x],j=m[T];for(const D of y){const O=new Set([D.b,E.b,j.b]);if(O.size===3&&b.members.every(M=>O.has(M))){const M=[E.kind,j.kind].sort((R,$)=>wM.indexOf(R)-wM.indexOf($)).join("X"),N=`${D.pos}X${M}`;an(s.jijiHyeong,`#${N}_${b.name}`),b.name===""&&(d=!0),b.name===""&&(f=!0)}}}}}return(d||f)&&(s.jijiHyeong=s.jijiHyeong.filter(m=>!(d&&/(||)/.test(m)||f&&/(||)/.test(m)))),b5(s)}function Tte(e,t){const r=e.map(qe).map(d=>bs(d)),i=n0.month,a=r[i],s=d=>{const f=[];for(let m=0;m<4;m++){const p=r[m];p&&d.has(p)&&f.push(m)}return f},c=d=>{const f=[...d].sort((m,p)=>m-p);return f.length===3&&f[0]+1===f[1]&&f[1]+1===f[2]};for(const d of Jy){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?10:8:t[d.out]+=5:t[d.out]+=3}if(m.length===2&&m.includes(i)){const p=m[0]===i?m[1]:m[0],y=a===d.wang;p===n0.day&&y?t[d.out]+=8:p===n0.year&&y?t[d.out]+=6:p===n0.hour&&(t[d.out]+=y?4:2)}}for(const d of Qy){const f=new Set(d.members),m=s(f);if(m.length===3){const p=m.includes(i),y=a===d.wang;p?c(m)?t[d.out]+=y?8:6:t[d.out]+=4:t[d.out]+=2}}}function SM(e){const t=["","","",""],n=e.map(qe),r=n.map(c=>Pv(c)),i=n.map(c=>bs(c)),a=new Map,s=new Map;for(let c=0;c<4;c++){const d=r[c],f=i[c];d.includes(d)&&a.set(d,[...a.get(d)??[],c]),f.includes(f)&&s.set(f,[...s.get(f)??[],c])}return{stemsByPos:r,brsByPos:i,stemPos:a,brPos:s,names:t}}function Xt(e){return ys[e]}function Wr(e,t){t&&(e.includes(t)||e.push(t))}function kte(e,t){const n=SM(e),r=SM(t),i={:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[],:[]};for(let c=0;c<4;c++){const d=n.stemsByPos[c],f=n.brsByPos[c];for(let m=0;m<4;m++){const p=r.stemsByPos[m],y=r.brsByPos[m],b=$n(hA,d,p);b&&Wr(i.,`${Xt(c)}X${Xt(m)} ${b}`);const x=$n(mA,d,p);x&&Wr(i.,`${Xt(c)}X${Xt(m)} ${x}`);const T=$n(pA,f,y);T&&Wr(i.,`${Xt(c)}X${Xt(m)} ${T}`);const E=$n(gA,f,y);E&&Wr(i.,`${Xt(c)}X${Xt(m)} ${E}`);const j=$n(vA,f,y);j&&Wr(i.,`${Xt(c)}X${Xt(m)} ${j}`);const D=$n(yA,f,y);D&&Wr(i.,`${Xt(c)}X${Xt(m)} ${D}`);const O=$n(bA,f,y);O&&Wr(i.,`${Xt(c)}X${Xt(m)} ${O}`);const M=$n(_A,f,y);M&&Wr(i.,`${Xt(c)}X${Xt(m)} ${M}`);const R=$n([{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""},{pair:["",""],label:""}],f,y);R&&Wr(i.,`${Xt(c)}X${Xt(m)} ${R}`);const $=`${d}${y}`,z=`${p}${f}`;mm.has($)&&Wr(i.,`${Xt(c)}X${Xt(m)} ${$}`),mm.has(z)&&Wr(i.,`${Xt(m)}X${Xt(c)} ${z}`);const G=$n(xA,f,y);if(G)Wr(i.,`${Xt(c)}X${Xt(m)} ${G}`);else{const V=$n(wA,f,y);V&&Wr(i.,`${Xt(c)}X${Xt(m)} ${V}`)}}}const a=new Set(n.brsByPos.filter(Boolean)),s=new Set(r.brsByPos.filter(Boolean));for(const c of Jy){if(c.members.every(m=>a.has(m)||s.has(m))){const m=c.members.filter(y=>a.has(y)).length,p=c.members.filter(y=>s.has(y)).length;m>=1&&p>=1&&Wr(i.,`${c.name}`)}const f=c.members.filter(m=>a.has(m)||s.has(m));if(f.length===2&&f.includes(c.wang)){const m=f.some(y=>a.has(y)),p=f.some(y=>s.has(y));if(m&&p){const[y,b]=f.sort(),x=n.brPos.get(y)?.[0]??n.brPos.get(b)?.[0],T=r.brPos.get(y)?.[0]??r.brPos.get(b)?.[0];x!=null&&T!=null&&Wr(i.,`${Xt(x)}X${Xt(T)} ${y}${b}`)}}}for(const c of Qy)if(c.members.every(f=>a.has(f)||s.has(f))){const f=c.members.filter(p=>a.has(p)).length,m=c.members.filter(p=>s.has(p)).length;f>=1&&m>=1&&Wr(i.,`${c.name}`)}return Object.keys(i).forEach(c=>i[c].sort()),i}function Ch(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function to({label:e,natal:t,dae:n,se:r,wol:i,il:a}){const s=n.length+r.length+i.length+a.length>0,c=t.length>0?t:["#"],d=s?c.filter(p=>p!=="#"):c,m=d.some(p=>p!=="#")||n.length>0||r.length>0||i.length>0||a.length>0?"shrink-0 w-20 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:[_.jsx("div",{className:m,children:e}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"natal"),children:p},`natal-${y}`)),n.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"dae"),children:p},`dae-${y}`)),r.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"se"),children:p},`se-${y}`)),i.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"wol"),children:p},`wol-${y}`)),a.map((p,y)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+Ch(p,"il"),children:p},`il-${y}`))]})]})}function aE(e){return Array.isArray(e)?e:[]}function r0(e,t){const n=new Set(aE(e));return aE(t).filter(i=>!n.has(i))}function Ote({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const s=SA(e),c=Vr({natal:e}),d=t?Vr({natal:e,daewoon:t}):c,f=n?Vr({natal:e,daewoon:t,sewoon:n}):d,m=r?Vr({natal:e,daewoon:t,sewoon:n,wolwoon:r}):f,p=i?Vr({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i}):m,y=T=>({natal:aE(s[T]),dae:r0(c[T],d[T]),se:r0(d[T],f[T]),wol:r0(f[T],m[T]),il:r0(m[T],p[T])}),b={cheonganHap:y("cheonganHap"),cheonganChung:y("cheonganChung"),jijiSamhap:y("jijiSamhap"),jijiBanghap:y("jijiBanghap"),jijiYukhap:y("jijiYukhap"),amhap:y("amhap"),ganjiAmhap:y("ganjiAmhap"),jijiChung:y("jijiChung"),jijiHyeong:y("jijiHyeong"),jijiPa:y("jijiPa"),jijiHae:y("jijiHae")},x=T=>a===""?{natal:T.natal,dae:[],se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:[],wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:[],il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:[]}:a===""?{natal:T.natal,dae:T.dae,se:T.se,wol:T.wol,il:T.il}:{natal:[],dae:[],se:[],wol:[],il:[]};return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:""}),_.jsx(to,{label:"",...x(b.cheonganHap)}),_.jsx(to,{label:"",...x(b.cheonganChung)}),_.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-2"}),_.jsx(to,{label:"",...x(b.jijiSamhap)}),_.jsx(to,{label:"",...x(b.jijiBanghap)}),_.jsx(to,{label:"",...x(b.jijiYukhap)}),_.jsx(to,{label:"",...x(b.amhap)}),_.jsx(to,{label:"",...x(b.ganjiAmhap)}),_.jsx(to,{label:"",...x(b.jijiChung)}),_.jsx(to,{label:"",...x(b.jijiHyeong)}),_.jsx(to,{label:"",...x(b.jijiPa)}),_.jsx(to,{label:"",...x(b.jijiHae)})]})}const jte={:{:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535"},:{:"#DC143C",:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713"},:{:"#F0B100",:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C"},:{:"#a0a0a0",:"#353535",:"#13B713",:"#DC143C",:"#F0B100"},:{:"#353535",:"#13B713",:"#DC143C",:"#F0B100",:"#a0a0a0"}},Nte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function x5(e){const t=Nte[e]??"";return jte[t]}const w5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Cte={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wm={:"",:"",:"",:"",:""},pm={:"",:"",:"",:"",:""},mf={:"",:"",:"",:"",:""},Mte=[{name:"",min:0,max:10},{name:"",min:10,max:20},{name:"",min:20,max:35},{name:"",min:35,max:45},{name:"",min:45,max:55},{name:"",min:55,max:65},{name:"",min:65,max:80},{name:"",min:80,max:100.0001}],Dte={:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"cold",wet:"wet"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"normal"},:{temp:"mild",wet:"wet"},:{temp:"hot",wet:"normal"},:{temp:"hot",wet:"dry"},:{temp:"hot",wet:"wet"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"},:{temp:"mild",wet:"dry"}};function EA(e){return Math.max(0,Math.min(100,e))}function Zd(e,t,n){return Math.max(t,Math.min(n,e))}function Pte(e){const t=EA(e);return Mte.find(n=>t>=n.min&&t<n.max)?.name??""}function Rte(e){const t=e?.[2]?.charAt(0)??"";return w5[t]??null}function Lte(e){return(e?.[1]?.charAt(1)??"")||null}function eb(e){const t=Object.entries(mf);for(const[n,r]of t)if(r===e)return n;return""}function Ite(e){return e?{peer:e,resource:pm[e],leak:Wm[e],wealth:mf[e],officer:eb(e)}:null}function $te(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=n.charAt(0),i=n.charAt(1),a=w5[r],s=Cte[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t}function Bte(e){const t=Object.values(e).reduce((r,i)=>r+i,0);if(t<=0)return{:20,:20,:20,:20,:20};const n={:0,:0,:0,:0,:0};return Object.keys(e).forEach(r=>{n[r]=e[r]/t*100}),n}function zte(e){if(!e||e.length===0)return null;const t=e.reduce((r,i)=>r+(i?.value??0),0)||0;if(t<=0)return null;const n=r=>e.find(i=>i.name===r)?.value??0;return EA((n("")+n(""))/t*100)}function Ute(e,t){return!e||!t?null:t===e?"":Wm[e]===t?"":mf[e]===t?"":eb(e)===t?"":pm[e]===t?"":null}const Ew=24,Hte=[[60,0],[55,.01],[50,.03],[45,.06],[40,.1],[35,.18],[30,.32],[27,.48],[24,.62]];function Fte(e){for(const[t,n]of Hte)if(e>=t)return n;return 1}const Rv=20,EM=(e,t)=>Zd((Rv-(t[e]??0))/Rv,0,1),AM=(e,t)=>Zd(((t[e]??0)-Rv)/Rv,0,1);function Gte(e,t,n,r){const i=Ute(e,n);if(!e||!i)return 0;const a=Zd((50-t)/50,0,1),s=Zd((t-50)/50,0,1),c=EM(n,r),d=AM(n,r),f=EM(e,r),m=AM(e,r),p=6.5;let y=0;if(a>0)switch(i){case"":y=+(.3+.4*f+.15*c)*a;break;case"":y=+(.18+.45*f)*a;break;case"":y=-(.08+.2*(1-c)+.1*m)*a;break;case"":y=-(.22+.25*(1-c)+.1*(1-f))*a;break;case"":y=-(.35+.25*(1-c)+.1*(1-f))*a;break}else if(s>0)switch(i){case"":y=-(.25+.25*(1-c)+.2*m)*s;break;case"":y=-(.28+.2*m)*s;break;case"":y=+(.18+.2*c+.15*m)*s;break;case"":y=+(.22+.25*c+.1*m)*s;break;case"":y=+(.2+.2*c)*s;break}else switch(i){case"":y=.08*(f+c);break;case"":y=.05*f-.03*m;break;case"":y=.02*c-.02*d;break;case"":y=.01*c-.06*d;break;case"":y=-.05*(1-c);break}return Math.round(p*y*10)/10}function qte(e,t,n,r){const i=["","",""].includes(t),a=["","","",""].includes(t),s={:0,:0,:0,:0,:0};if(i){const c=Wm[e],d=mf[e],f=eb(e);s[c]+=28,s[d]+=22,s[f]+=20,r.get(c)?.push(":    ()"),r.get(d)?.push(":     "),r.get(f)?.push(":     ")}if(a){const c=pm[e],d=e;s[c]+=28,s[d]+=22,r.get(c)?.push(":     "),r.get(d)?.push(":     ")}return s}function TM(e,t){if(!e)return{:0,:0,:0,:0,:0};const n=Dte[e]??{temp:"mild",wet:"normal"},r={:0,:0,:0,:0,:0};return n.temp==="cold"?(r.+=16,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.temp==="hot"&&(r.+=14,r.+=6,t.get("")?.push(":   "),t.get("")?.push(":  ")),n.wet==="wet"?(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")):n.wet==="dry"&&(r.+=8,r.+=4,t.get("")?.push(":   "),t.get("")?.push(":  ")),r}function kM(e,t){const n={:0,:0,:0,:0,:0},r=["","","","",""];for(const i of r){const a=mf[i],s=Math.max(0,(e[i]??0)-(e[a]??0));if(s<=0)continue;const c=Wm[i],d=Math.round(s*.35);d>0&&(n[c]+=d,t.get(c)?.push(`: ${i}${a} `))}return n}function OM(e,t){const n={:0,:0,:0,:0,:0},r=Object.entries(e),i=Math.min(...r.map(([,s])=>s)),a=r.filter(([,s])=>s<=Math.max(6,i));for(const[s]of a)n[s]+=12,t.get(s)?.push(":  ");return n}function jM(e,t){const n=Rte(e),r=Lte(e),i=$te(e),a=Bte(i);let s=zte(t);if(s==null)if(!n)s=50;else{const H=n,U=pm[n],Z=Object.values(i).reduce((re,ve)=>re+ve,0)||1;s=EA(((i[H]??0)+(i[U]??0))/Z*100)}const c=Pte(s),d={:0,:0,:0,:0,:0},f=new Map(["","","","",""].map(H=>[H,[]]));if(n){const H=qte(n,c,i,f);Object.keys(d).forEach(U=>{d[U]+=H[U]??0})}const m=TM(r,f);Object.keys(d).forEach(H=>{d[H]+=m[H]??0});const p=kM(i,f);Object.keys(d).forEach(H=>{d[H]+=p[H]??0});const y=OM(i,f);Object.keys(d).forEach(H=>{d[H]+=y[H]??0});const b=Ite(n),x={:0,:0,:0,:0,:0};if(Array.isArray(t))for(const H of t)x[H.name]=H.value;if(s>=45&&s<=55&&b){const H=x.>=30||x.>=Math.max(x.,x.,x.,x.)+5;s<=50?(d[b.resource]+=14,f.get(b.resource)?.push(": -"),d[b.peer]+=10,f.get(b.peer)?.push(": -"),d[b.leak]+=6,f.get(b.leak)?.push(": -"),d[b.wealth]+=3,f.get(b.wealth)?.push(": -"),H&&b.officer&&(d[b.officer]=Math.round(d[b.officer]*.8*10)/10,f.get(b.officer)?.push(":   "))):(d[b.leak]+=14,f.get(b.leak)?.push(": -"),d[b.wealth]+=10,f.get(b.wealth)?.push(": -"),b.officer&&(d[b.officer]+=6,f.get(b.officer)?.push(": -")),d[b.resource]+=3,f.get(b.resource)?.push(": -"))}["","","","",""].forEach(H=>{const U=Gte(n,s,H,a);d[H]=Zd(Math.round((d[H]+U)*10)/10,0,999)});const E=s<50;["","","","",""].forEach(H=>{const U=a[H]??0,Z=E&&n===H;if(U>=Ew&&!Z){const re=Fte(U);d[H]=Math.round(d[H]*re*10)/10;const ve=Math.min(14,Math.max(0,Math.ceil((U-Ew)*.5)));ve>0&&(d[H]=Zd(d[H]-ve,0,999)),f.get(H)?.push(" ()")}});const j={:[],:[],:[],:[],:[]};if(n){const H=Wm[n],U=mf[n],Z=eb(n),re=n,ve=pm[n];j[H].push(""),j[U].push(""),j[Z].push(""),j[re].push(""),j[ve].push("")}const D={:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0,:(i.??0)>0},O=H=>{const U=a[H]??0;return U>=Ew&&!(E&&n===H)?U>=55?4:U>=45?3:2:D[H]?0:1},M=TM(r,new Map),N=kM(i,new Map),R=OM(i,new Map),$=Object.keys(d).map(H=>({element:H,score:Math.round(d[H]*10)/10,via:Yte(H,M,N,R),reasons:(f.get(H)??[]).slice(),tenGodHints:j[H]})).sort((H,U)=>{const Z=O(H.element),re=O(U.element);return Z!==re?Z-re:U.score!==H.score?U.score-H.score:H.element.localeCompare(U.element)}),z=Kte(c,M,N,R),G={:0,:0,:0,:0,:0},V=t?t.reduce((H,U)=>(H[U.name]=U.value,H),{...G}):void 0;return{chosenType:z,ordered:$,debug:{band:c,overallPct:s,elementScore:i,tenGodTotals:V,monthBranch:r??void 0}}}function Yte(e,t,n,r){const i=[];return(t[e]??0)>0&&i.push(""),(n[e]??0)>0&&i.push(""),(r[e]??0)>0&&i.push(""),i.length===0&&i.push(""),i}function Kte(e,t,n,r){if(["","","",""].includes(e))return"";const a=f=>Object.values(f).reduce((m,p)=>m+p,0),s=a(t),c=a(n),d=a(r);return s>Math.max(c,d)?"":c>=d?"":""}const Wte=Object.fromEntries(ca..map((e,t)=>[e,di[t]])),Vte=Object.fromEntries(di.map((e,t)=>[e,ca.[t]])),Zte=Object.fromEntries(ca..map((e,t)=>[e,Mi[t]])),Xte=Object.fromEntries(Mi.map((e,t)=>[e,ca.[t]])),Jte=e=>Wte[e]??e,Qte=e=>Zte[e]??e,ene=e=>Vte[e]??e,tne=e=>Xte[e]??e;function nne(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Jte(n):ene(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}function AA(e){const t={...e};for(const n of Object.keys(e)){const r=/[]/.test(n)?Qte(n):tne(n);r&&t[r]===void 0&&(t[r]=e[n])}return t}const rne={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},ine={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},S5={:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},ane={...S5,:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.5,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.2},{stem:"",ratio:1,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}],:[{stem:"",ratio:.2},{stem:"",ratio:.3},{stem:"",ratio:.7,main:!0}]},NM=nne(rne),CM=AA(ine);AA(S5);AA(ane);const one=["","","","",""],kn={2:4,1:3,3:2,0:1};function i0(e,t,n="classic"){const r=Ji(t),i=on(t),a=(n==="hgc"?$y:Iy)[i]??[];return[r,...a].includes(e)}const Md={1:4,2:3,0:2,3:1},E5=new Set(Object.keys(My)),A5=new Set(Object.keys(v2)),sne=e=>e.slice(0,1),lne=e=>e.slice(-1);function Ss(e){return Cy.has(e)?e:E5.has(e)?My[e]??e:e}function ei(e){return g2.has(e)?e:A5.has(e)?v2[e]??e:e}function Ji(e){return Ss(sne(e))}function on(e){return ei(lne(e))}const Oe={year:0,month:1,day:2,hour:3};function Aw(e,t){const n=ei(e),r=[Oe.day,Oe.month,Oe.hour,Oe.year];for(const i of r)if(on(t[i])===n)return{pos:i,weight:kn[i]??0};return null}function TA(e,t,n){return on(t[n])===ei(e)?{pos:n,weight:kn[n]}:null}function cne(e,t){const n=Ss(e),r=[Oe.day,Oe.month,Oe.hour,Oe.year];for(const i of r)if(Ji(t[i])===n)return{pos:i,weight:kn[i]??0};return null}const une=/^#(|||)X\1_/,dne=e=>une.test(e);function MM(e){const t=new Map;for(const n of e){if(dne(n.name))continue;const r=`${n.name}@${n.pos}`,i=t.get(r);(!i||n.weight>i.weight)&&t.set(r,n)}return Array.from(t.values()).sort((n,r)=>r.weight!==n.weight?r.weight-n.weight:n.name.localeCompare(r.name,"ko"))}function a0(e){return e===3?"si":e===2?"il":e===1?"wol":"yeon"}const vu=e=>e===0?"":e===1?"":e===2?"":"",pf=e=>e==="dae"?"":e==="se"?"":e==="wol"?"":"",fne=(e,t)=>`#X${vu(t)}_${e}`,T5=(e,t)=>t===Oe.month?`#_${e}`:`#X${vu(t)}_${e}`,Ud=(e,t,n)=>`#${vu(t)}X${vu(n)}_${e}`,hne=(e,t)=>`#${e==="day"?"":""}X${vu(t)}_`,Po=e=>`#_${e}`,o0=(e,t)=>`#${vu(t)}_${e}`,bd=(e,t)=>`#X${pf(t)}_${e}`,Mh=(e,t)=>`#X${pf(t)}_${e}`,Tw=(e,t,n)=>`#${pf(t)}X${vu(n)}_${e}`,mne=(e,t)=>`#${t==="day"?"":""}X${pf(e)}_`,pne=(e,t)=>`#${t==="day"?"":""}X${pf(e)}_`,DM=(e,t)=>`#X${pf(e)}_${t}`;function gne(e){if(!e)return null;const t=Array.from(String(e));let n=null,r=null;for(const i of t)!n&&(Cy.has(i)||E5.has(i))&&(n=Ss(i)),(g2.has(i)||A5.has(i))&&(r=ei(i));return n&&r?{stem:n,branch:r}:null}function kw(e){return e.map(on)}const Nn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ei(t),(Array.isArray(n)?n:[n]).map(ei)])),vne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),k5=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),yne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),bne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),_ne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),O5=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),xne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),wne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ene=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Ane=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),j5=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Tne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),kne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),One=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),jne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Nne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Cne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),N5=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Mne=j5,Dne=k5,Pne=N5,Rne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Lne=O5,Ine=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$ne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Bne=Nn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),C5=e=>(Array.isArray(e)?e:String(e).split("")).map(t=>ei(t.trim())).filter(Boolean),Ha=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ei(t),(Array.isArray(n)?n:[n]).map(r=>ei(r))])),PM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},RM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},LM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},IM={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},zne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),$M=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tb=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[ei(t),C5(n)])),Une=tb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Hne=tb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Fne=tb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Gne=tb({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),qne=Ha({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),Yne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Kne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Wne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Vne=Ha({:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""],:["",""]}),BM=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Zne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Xne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Jne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Qne=Ha({:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),Sn=e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[Ss(t),C5(n)])),ere=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),zM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),tre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),nre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),rre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ire=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),are=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),UM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ore=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),sre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),lre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),cre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),ure=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),HM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),dre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),fre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),FM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),hre=Sn({:"",:"",:"",:""}),mre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),GM=Sn({:"",:"",:""}),qM=Sn({:"",:"",:""}),pre=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),YM=Sn({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}),KM=Sn({:"",:"",:"",:"",:"",:"",:""}),Ow=[["",""],["",""],["",""],["",""],["",""],["",""]],jw=[["",""],["",""],["",""],["",""],["",""],["",""]],gre=new Set(["","","",""]),WM=[["",""],["",""]],vre=[{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]},{set:new Set(["","","","","","","","","",""]),voids:["",""]}];function Dh(e,t,n){const r=ei(t),i=ei(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return!0;return!1}function VM(e,t,n){const r=ei(t),i=ei(n);for(const[a,s]of e)if(a===r&&s===i||a===i&&s===r)return`${a}${s}`;return`${r}${i}`}function s0(e){for(const t of vre)if(t.set.has(e))return t.voids;return null}function Nw(e){const t=ei(e),n=[{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])},{group:new Set(["","",""]),years:new Set(["","",""])}];for(const r of n)if(r.group.has(t))return Array.from(r.years);return null}function Vm(e,t){e.push(t)}function Cw(e,t,n,r,i=0){const a=Md[n]>=Md[r]?n:r,s=Ud(t,n,r);e.push({name:s,weight:kn[a]+i,pos:a})}function hn(e,t,n,r,i){const a=on(e[Oe.year]),s=t[a];if(!s)return;const c=n==="MONTH"?[Oe.month]:n==="DAY"?[Oe.day]:n==="HOUR"?[Oe.hour]:[Oe.year,Oe.month,Oe.day,Oe.hour];for(const d of s)for(const f of c){const m=TA(d,e,f);m&&Vm(i,{name:Ud(r,Oe.year,f),weight:m.weight,pos:f})}}function l0(e,t,n,r){const i=on(e[Oe.month]),a=t[i];if(!a)return;const s=Ss(a),c=cne(s,e);c&&Vm(r,{name:T5(n,c.pos),weight:c.weight,pos:c.pos})}function Vi(e,t,n,r,i="ALL"){const a=on(e[Oe.month]),s=t[a];if(!s)return;const c=i==="YEAR"?[Oe.year]:i==="DAY"?[Oe.day]:i==="HOUR"?[Oe.hour]:i==="DAY_HOUR"?[Oe.day,Oe.hour]:[Oe.year,Oe.month,Oe.day,Oe.hour];for(const d of s)for(const f of c){const m=TA(d,e,f);if(!m)continue;const p=f===Oe.month?`#_${n}`:T5(n,f);Vm(r,{name:p,weight:m.weight,pos:f})}}function c0(e,t,n,r){const i=on(e[Oe.month]),a=t[i];if(!a)return;const s=e[Oe.day];a.includes(s)&&Vm(r,{name:Ud(n,Oe.month,Oe.day),weight:kn[Oe.day],pos:Oe.day})}function nn(e,t,n,r,i){const a=Ji(e[Oe.day]),s=t[a];if(!s)return;const c=i==="DAY"?[Oe.day]:i==="HOUR"?[Oe.hour]:[Oe.year,Oe.month,Oe.day,Oe.hour];for(const d of s)for(const f of c){const m=TA(d,e,f);m&&Vm(r,{name:fne(n,f),weight:m.weight,pos:f})}}function Oi({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:a}){const s=Ji(e[Oe.day]),c=on(e[Oe.day]),d=on(e[Oe.month]),f=on(e[Oe.year]),m=kw(e),p=[],y=[],b=new Set(["","","",""]);if(hn(e,vne,"MONTH","",y),hn(e,k5,"DAY","",y),hn(e,bne,"MONTH","",y),hn(e,_ne,"MONTH","",y),hn(e,xne,"ALL","",y),hn(e,wne,"HOUR","",y),hn(e,Sne,"ALL","",y),hn(e,Ene,"ALL","",y),hn(e,Ane,"ALL","",y),hn(e,j5,"ALL","",y),hn(e,Tne,"ALL","",y),hn(e,kne,"ALL","",y),hn(e,One,"ALL","",y),hn(e,jne,"ALL","",y),hn(e,Nne,"ALL","",y),hn(e,Cne,"ALL","",y),hn(e,N5,"ALL","",y),hn(e,Mne,"ALL","",y),hn(e,Dne,"ALL","",y),hn(e,Pne,"ALL","",y),hn(e,Rne,"ALL","",y),hn(e,Lne,"ALL","",y),hn(e,Ine,"ALL","",y),hn(e,$ne,"ALL","",y),hn(e,Bne,"ALL","",y),l0(e,PM,"",p),l0(e,RM,"",p),l0(e,LM,"",p),l0(e,IM,"",p),Vi(e,zne,"",y,"ALL"),Vi(e,$M,"",y,"YEAR"),Vi(e,$M,"",y,"DAY"),c0(e,Une,"",p),c0(e,Hne,"",y),c0(e,Fne,"",y),c0(e,Gne,"",p),Vi(e,qne,"",y,"ALL"),Vi(e,Yne,"",y,"ALL"),Vi(e,Kne,"",y,"ALL"),Vi(e,Wne,"",y,"ALL"),Vi(e,Vne,"",y,"ALL"),Vi(e,BM,"",p,"ALL"),Vi(e,Zne,"",p,"DAY_HOUR"),Vi(e,Xne,"",p,"DAY_HOUR"),Vi(e,Jne,"",p,"ALL"),Vi(e,Qne,"",p,"ALL"),nn(e,ere,"",p,"ALL"),nn(e,zM,"",p,"ALL"),nn(e,tre,"",p,"ALL"),nn(e,nre,"",p,"ALL"),nn(e,rre,"",p,"ALL"),nn(e,ire,"",p,"ALL"),nn(e,are,"",p,"ALL"),nn(e,UM,"",p,"ALL"),nn(e,ore,"",p,"ALL"),nn(e,sre,"",p,"ALL"),nn(e,lre,"",p,"ALL"),nn(e,cre,"",p,"ALL"),nn(e,ure,"",p,"ALL"),nn(e,HM,"",y,"ALL"),nn(e,dre,"",y,"ALL"),nn(e,fre,"",y,"ALL"),nn(e,FM,"",y,"DAY"),nn(e,FM,"",y,"HOUR"),nn(e,GM,"",y,"DAY"),nn(e,GM,"",y,"HOUR"),nn(e,qM,"",y,"DAY"),nn(e,qM,"",y,"HOUR"),nn(e,hre,"",y,"DAY"),nn(e,mre,"",y,"ALL"),nn(e,pre,"",p,"ALL"),nn(e,YM,"",y,"ALL"),b.has(e[Oe.day])){y.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day});for(const te of[Oe.year,Oe.month,Oe.hour])e[te]===e[Oe.day]&&y.push({name:o0("",te),weight:kn[te],pos:te})}const T=KM[s];if(T)for(const te of[Oe.year,Oe.month,Oe.day,Oe.hour]){const Y=Ji(e[te]),B=on(e[te]);Y===s&&T.includes(B)&&y.push({name:o0("",te),weight:kn[te],pos:te})}for(const[te,Y]of WM){const B=Aw(te,e),X=Aw(Y,e);B&&X&&Cw(y,"",B.pos,X.pos)}{const te=new Set(["",""]),Y=new Set(["","","",""]);for(let B=0;B<=3;B++){const X=Ji(e[B]),ee=on(e[B]);(te.has(X)||Y.has(ee))&&y.push({name:o0("",B),weight:kn[B],pos:B})}}{const te=Ji(e[Oe.day]),Y=e[Oe.hour],B=(X,ee)=>X.includes(te)&&ee.includes(Y);B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour}),B(["",""],["",""])&&y.push({name:Po(""),weight:kn[Oe.hour],pos:Oe.hour})}{const te=kw(e);["","","",""].every(B=>te.includes(B))&&p.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day})}{const te=e[Oe.day],Y=e[Oe.hour];(te===""&&Y===""||te===""&&Y==="")&&y.push({name:Ud("",Oe.day,Oe.hour),weight:kn[Oe.hour],pos:Oe.hour})}{const te=on(e[Oe.year]),Y=new Set(kw(e).slice(1)),B=(X,ee)=>X.every(q=>Y.has(q))&&te===ee;(B(["","",""],"")||B(["","",""],"")||B(["","",""],"")||B(["","",""],""))&&p.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day})}["",""].includes(e[Oe.day])&&p.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day});{const te=Ji(e[Oe.day]),B={:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""},:{rok:"",group:["","",""],ma:"",maStem:""}}[te],X=e.some(W=>on(W)===B.rok),q=Ji(e[Oe.hour])===B.maStem;X&&q&&p.push({name:Ud("",Oe.day,Oe.hour),weight:kn[Oe.hour],pos:Oe.hour})}{const te=Ji(e[Oe.day]),Y=on(e[Oe.day]),B=on(e[Oe.hour]),ee={:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""},:{rok:"",ma:"",rokStem:"",maStem:""}}[te];if(ee){const q=Y===ee.rok,W=B===ee.ma,le=i0(ee.rokStem,e[Oe.day],"classic")||i0(ee.rokStem,e[Oe.hour],"classic"),fe=i0(ee.maStem,e[Oe.day],"classic")||i0(ee.maStem,e[Oe.hour],"classic");q&&W&&(le||fe)&&p.push({name:Ud("",Oe.day,Oe.hour),weight:kn[Oe.hour],pos:Oe.hour})}}{const te=new Set(["","","","","",""]),Y=e.map(Ji),B=e.map(on),X=Y.concat(B).filter(le=>te.has(le)).length,ee=t?Ji(t):"",q=t?on(t):"",W=te.has(ee)||te.has(q);(X>=4||X===3&&W)&&y.push({name:Po(""),weight:kn[Oe.day],pos:Oe.day})}{const te=new Set(["",""]),Y=new Set(["",""]);for(let B=0;B<=3;B++){const X=Ji(e[B]),ee=on(e[B]);(te.has(X)||Y.has(ee))&&y.push({name:o0("",B),weight:kn[B],pos:B})}}{const te=[[Oe.year,Oe.month],[Oe.year,Oe.day],[Oe.month,Oe.day],[Oe.month,Oe.hour],[Oe.day,Oe.hour]];for(const[Y,B]of te){const X=on(e[Y]),ee=on(e[B]);if(Dh(Ow,X,ee)){const q=VM(Ow,X,ee);Cw(y,`${q}`,Y,B)}}}{const te=[[Oe.year,Oe.month,0],[Oe.month,Oe.day,1],[Oe.month,Oe.hour,0],[Oe.day,Oe.hour,0]];for(const[Y,B,X]of te){const ee=on(e[Y]),q=on(e[B]);if(Dh(jw,ee,q)){const W=VM(jw,ee,q),le=(X?1:0)+(gre.has(ee+q)?1:0);Cw(y,`${W}`,Y,B,le)}}}function E(te){const Y=te.lastIndexOf("_");return Y>=0?te.slice(Y+1):te}const j=new Set(["",""]);function D(te){return j.has(te)?!0:te.endsWith("")||te.endsWith("")}function O(te){const Y=new Map;for(const X of te){const ee=E(X.name);Y.has(ee)||Y.set(ee,[]),Y.get(ee).push(X)}const B=[];for(const[X,ee]of Y)if(D(X))B.push(...ee);else{const q=ee.sort((W,le)=>Md[W.pos]!==Md[le.pos]?Md[le.pos]-Md[W.pos]:le.weight-W.weight)[0];B.push(q)}return B}const M=s0(e[Oe.day]),N=s0(e[Oe.year]);{const te=(a?.voidBasis??"day")==="day"?M:N;if(te){const[Y,B]=te.map(ei),X=[Oe.year,Oe.month,Oe.day,Oe.hour];for(const ee of X){const q=on(e[ee]);(q===Y||q===B)&&y.push({name:hne(a?.voidBasis??"day",ee),weight:kn[ee],pos:ee})}}}const R=O(MM(p)),$=O(MM(y)),z={si:[],il:[],yeon:[],wol:[]},G={si:[],il:[],yeon:[],wol:[]};for(const te of R)z[a0(te.pos)].push(te.name);for(const te of $)G[a0(te.pos)].push(te.name);const V=[],H=[],U=[],Z=[],re=[],ve=[],J=[],ae=[];function ne(te,Y){te.includes(Y)||te.push(Y)}function ce(te,Y){const B=gne(Y);if(!B)return;const X=B.branch,ee=B.stem;let q,W;switch(te){case"dae":q=V,W=re;break;case"se":q=H,W=ve;break;case"wol":q=U,W=J;break;case"il":q=Z,W=ae;break;default:return}Ss(PM[d])===ee&&ne(q,Mh("",te)),Ss(RM[d])===ee&&ne(q,Mh("",te)),Ss(LM[d])===ee&&ne(q,Mh("",te)),Ss(IM[d])===ee&&ne(q,Mh("",te)),BM[d]?.includes(X)&&ne(q,Mh("",te)),zM[s]?.includes(X)&&ne(q,bd("",te)),UM[s]?.includes(X)&&ne(q,bd("",te)),HM[s]?.includes(X)&&ne(W,bd("",te)),YM[s]?.includes(X)&&ne(W,bd("",te)),KM[s]?.includes(X)&&ne(W,bd("",te)),te==="se"&&(yne[f]?.includes(X)&&ne(W,DM(te,"")),O5[f]?.includes(X)&&ne(W,DM(te,"")));for(const fe of m)if(Dh(WM,X,fe)){const Q=Aw(fe,e)?.pos;Q!==void 0&&ne(W,Tw("",te,Q));break}new Set(["",""]).has(s)&&new Set(["","","",""]).has(X)&&ne(W,bd("",te));const le=(a?.voidBasis??"day")==="day"?M:N;le&&(X===le[0]||X===le[1])&&ne(W,mne(te,a?.voidBasis??"day"));for(let fe=0;fe<=3;fe++){const Q=on(e[fe]);Dh(Ow,X,Q)&&ne(W,Tw("",te,fe)),Dh(jw,X,Q)&&ne(W,Tw("",te,fe))}if(te==="se"){const fe=(a?.samjaeBasis??"day")==="day"?c:f,Q=fe?Nw(fe):null;Q&&Q.includes(X)&&ne(W,pne(te,a?.samjaeBasis??"day"))}}return ce("dae",t??null),ce("se",n??null),ce("wol",r??null),ce("il",i??null),{good:{si:[],il:[],yeon:[],wol:[],...(()=>{const te={si:[],il:[],yeon:[],wol:[]};for(const Y of R)te[a0(Y.pos)].push(Y.name);return te})(),dae:V,se:H,wolun:U,ilun:Z},bad:{si:[],il:[],yeon:[],wol:[],...(()=>{const te={si:[],il:[],yeon:[],wol:[]};for(const Y of $)te[a0(Y.pos)].push(Y.name);return te})(),dae:re,se:ve,wolun:J,ilun:ae},meta:{voidPair:{day:s0(e[Oe.day])??void 0,year:s0(e[Oe.year])??void 0},samjaeYears:{day:Nw(c)??void 0,year:Nw(f)??void 0},currentBasis:{voidBasis:a?.voidBasis??"day",samjaeBasis:a?.samjaeBasis??"day"}}}}function yre(e,t){if(e==="#")return"bg-neutral-100 text-neutral-500 border-neutral-200 dark:bg-neutral-900 dark:text-neutral-500 dark:border-neutral-700";switch(t){case"natal":return"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800";case"dae":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800";case"se":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800";case"wol":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800";case"il":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800";default:return""}}function bre({items:e,source:t}){const n=e.length>0?e:["#"];return _.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((r,i)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap "+yre(r,t),children:r},`${t}-${i}-${r}`))})}function ZM({title:e,rows:t}){return _.jsxs("div",{className:"space-y-2 desk:flex-1 desk:px-1",children:[_.jsx("div",{className:"text-md font-bold text-neutral-800 dark:text-neutral-200 mt-2",children:e}),t.map(n=>{const i=n.items.some(a=>a!=="#")?"shrink-0 w-12 text-xs font-semibold text-orange-700 dark:text-orange-300 mt-1":"shrink-0 w-12 text-xs font-semibold text-neutral-700 dark:text-neutral-300 mt-1";return _.jsxs("div",{className:"flex items-start gap-3 border border-gray-700 dark:border-gray-400 p-2 rounded-sm",children:[_.jsx("div",{className:i,children:n.label}),_.jsx(bre,{items:n.items.length>0?n.items:["#"],source:n.source})]},`${e}-${n.label}`)})]})}function _re({pillars:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,tab:a=""}){const{settings:s}=Er(),[c,d]=A.useState(""),[f,m]=A.useState("");A.useEffect(()=>{s.sinsalBase===""?(d(""),m("")):(d(""),m(""))},[s.sinsalBase]);const p=A.useMemo(()=>({voidBasis:c===""?"day":"year",samjaeBasis:f===""?"day":"year"}),[c,f]),y=A.useMemo(()=>Oi({natal:e,daewoon:t,sewoon:n,wolwoon:r,ilwoon:i,basis:p}),[e,t,n,r,i,p]),{good:b,bad:x,meta:T}=y,E=V=>V.map(H=>H==="#"?H:` ${H}`),j=(V,H)=>{const U=["natal"];return H===""&&U.push("natal"),H===""&&U.push("natal","dae"),H===""&&U.push("natal","dae","se"),H===""&&U.push("natal","dae","se","wol"),H===""&&U.push("natal","dae","se","wol","il"),V.filter(Z=>U.includes(Z.source))},D=[{label:"",items:E(b.si),source:"natal"},{label:"",items:E(b.il),source:"natal"},{label:"",items:E(b.wol),source:"natal"},{label:"",items:E(b.yeon),source:"natal"},{label:"",items:b.dae,source:"dae"},{label:"",items:b.se,source:"se"},{label:"",items:b.wolun,source:"wol"},{label:"",items:b.ilun,source:"il"}],O=[{label:"",items:E(x.si),source:"natal"},{label:"",items:E(x.il),source:"natal"},{label:"",items:E(x.wol),source:"natal"},{label:"",items:E(x.yeon),source:"natal"},{label:"",items:x.dae,source:"dae"},{label:"",items:x.se,source:"se"},{label:"",items:x.wolun,source:"wol"},{label:"",items:x.ilun,source:"il"}],M=j(D,a),N=j(O,a),R=T.voidPair.day?`(${T.voidPair.day.join("")})`:"()",$=T.voidPair.year?`(${T.voidPair.year.join("")})`:"()",z=T.samjaeYears.day?`(${T.samjaeYears.day.join("")})`:"()",G=T.samjaeYears.year?`(${T.samjaeYears.year.join("")})`:"()";return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-base font-bold mb-1",children:"(/)"}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:R}),_.jsx("option",{value:"",children:$})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-neutral-600 dark:text-neutral-300",children:" "}),_.jsxs("select",{value:f,onChange:V=>m(V.target.value),className:"px-2 h-30 rounded border border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:z}),_.jsx("option",{value:"",children:G})]})]})]}),_.jsxs("div",{className:"desk:flex",children:[_.jsx(ZM,{title:"()",rows:M}),_.jsx("div",{className:"block desk:hidden border-t border-neutral-200 dark:border-neutral-800 mt-4 mb-3"}),_.jsx(ZM,{title:"()",rows:N})]})]})}const Na={year:0,month:1,day:2,hour:3},M5={[Na.year]:.3,[Na.month]:.5,[Na.day]:.3,[Na.hour]:.3},D5={[Na.year]:.15,[Na.month]:.2,[Na.day]:0,[Na.hour]:.15},xre=e=>g2.has(e)?e:v2[e]??e,wre=e=>Cy.has(e)?e:My[e]??e,Sre=e=>typeof e=="string"&&e.length>=2?xre(e.slice(-1)):"",Ere=e=>typeof e=="string"&&e.length>=1?wre(e.slice(0,1)):"",Ln=(e,t,n,r)=>({han:e,nan:t,jo:n,seup:r}),Are={:Ln(2,0,.5,2),:Ln(2,0,0,2),:Ln(2,0,0,2),:Ln(0,2,2,0),:Ln(0,2,2,0),:Ln(0,2,1,2),:Ln(0,2,2,.5),:Ln(0,2,2,0),:Ln(0,2,2,1),:Ln(2,0,0,2),:Ln(2,0,0,2),:Ln(2,0,1,1)},Tre={:Ln(0,1,1,0),:Ln(0,1,1,0),:Ln(0,2,2,0),:Ln(0,2,2,0),:Ln(0,0,1,0),:Ln(0,0,0,1),:Ln(1,0,0,1),:Ln(1,0,0,1),:Ln(2,0,0,2),:Ln(2,0,0,2)},XM=e=>Math.max(0,Math.min(100,e));function JM(e,t){const n=Math.max(0,e),r=Math.max(0,t),i=n+r;return i<=0?50:r/i*100}function kre(e){let t=0,n=0,r=0,i=0;return[Na.year,Na.month,Na.day,Na.hour].forEach(a=>{const s=Are[Sre(e[a])],c=Tre[Ere(e[a])],d=M5[a],f=D5[a];d>0&&s&&(t+=s.han*d,n+=s.nan*d,r+=s.jo*d,i+=s.seup*d),f>0&&c&&(t+=c.han*f,n+=c.nan*f,r+=c.jo*f,i+=c.seup*f)}),{han:t,nan:n,jo:r,seup:i}}function Ore(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map(n=>typeof n=="string"?n:"")}function jre(e){const t=Ore(e);return A.useMemo(()=>{const{han:n,nan:r,jo:i,seup:a}=kre(t),s=JM(n,r),c=JM(a,i);return{hanNanPct:XM(s),joSeupPct:XM(c),raw:{han:n,nan:r,jo:i,seup:a},weights:{branch:M5,stem:D5}}},[t])}function QM({label:e,percent:t,leftHint:n,midHint:r,rightHint:i}){const a=A.useMemo(()=>Math.max(0,Math.min(100,t)),[t]),s=[10,20,35,45,55,65,80];return _.jsxs("div",{className:"w-full mx-auto p-2 desk:p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between text-[11px] text-neutral-400 mb-1",children:[_.jsx("span",{children:n}),_.jsx("span",{children:r}),_.jsx("span",{children:i})]}),_.jsxs("div",{className:"relative h-4 rounded bg-gradient-to-r from-blue-500 via-yellow-400 to-red-500",children:[s.map(c=>_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/30",style:{left:`${c}%`},title:`${c}%`},c)),_.jsx("div",{className:"absolute top-0 h-4 w-[1px] bg-black/40",style:{left:"50%"},title:"50%"}),_.jsx("div",{className:"absolute -top-1 h-6 w-2 bg-white rounded shadow-sm",style:{left:`${a}%`,transform:"translateX(-50%)"},"aria-label":`${e} ${a.toFixed(1)}%`})]}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs border border-neutral-600 text-neutral-700 dark:text-neutral-200",children:e}),_.jsxs("span",{className:"text-xs text-neutral-400",children:[a.toFixed(1),"%"]})]})]})}function Nre({natal:e}){const{hanNanPct:t,joSeupPct:n}=jre(e);return _.jsxs("div",{className:"flex gap-2",children:[_.jsx(QM,{label:"",percent:t,leftHint:"",midHint:"",rightHint:""}),_.jsx(QM,{label:"",percent:n,leftHint:"",midHint:"",rightHint:""})]})}const Cre=Object.fromEntries(ca..map((e,t)=>[e,di[t]])),Mre=Object.fromEntries(di.map((e,t)=>[e,ca.[t]])),Dre=Object.fromEntries(ca..map((e,t)=>[e,Mi[t]])),Pre=Object.fromEntries(Mi.map((e,t)=>[e,ca.[t]])),Rre=e=>Cre[e]??e,Lre=e=>Dre[e]??e,Ire=e=>Mre[e]??e,$re=e=>Pre[e]??e;function P5(e){const t={...e};for(const n of Object.keys(e)){if(n.length<2)continue;const r=n.charAt(0),i=n.charAt(1),a=/[]/.test(r)||/[]/.test(i)?`${Rre(r)}${Lre(i)}`:`${Ire(r)}${$re(i)}`;t[a]===void 0&&(t[a]=e[n])}return t}const R5={:1,:.2,:1,:1,:.5,:.7,:0,:.5,:1,:1,:0,:1,:0,:0,:.3,:0,:.5,:.3,:0,:0,:.3,:0,:.8,:.3,:0,:.5,:0,:0,:.3,:.3,:0,:.3,:0,:0,:.8,:0,:0,:.8,:0,:0,:.5,:0,:1,:.5,:0,:0,:.7,:0,:1,:.5,:.7,:0,:.2,:.7,:1,:.7,:.7,:1,:.2,:.7},Bre={...R5,:.8,:.3,:.5,:.5,:.2,:.2,:.8,:.2},zre=P5(R5),Ure=P5(Bre),Hre={:"",:"",:"",:"",:""},Fre={:"",:"",:"",:"",:""},Gre={:"",:"",:"",:"",:""},qre={:"",:"",:"",:"",:""},Yre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Kre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Wre=e=>Yre[e]??e,Vre=e=>Kre[e]??e;function L5(e){return!e||e.length<2?"":`${Wre(e[0])}${Vre(e[1])}`}const I5=e=>e&&e.length>=1?e[0]:"",$5=e=>e&&e.length>=2?e[1]:"";function B5(e){return{:e,:Hre[e],:Fre[e],:Gre[e],:qre[e]}}const z5={:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","","","","","",""],:["","","","","","","",""],:["","","","","","","",""]};function Zre(e,t){const n=(e??[]).slice(0,4).map(L5);if(n.length!==4||n.some(y=>y.length<2))return{flags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},monthBranch:"",dayEl:""};const r=I5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(y=>$5(y)),s={:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},c=z5[r]??[],d=a[1];c.includes(d)&&(s..=!0,s..=!0);const f=a[2];c.includes(f)&&(s..=!0,s..=!0);const m=B5(i).,p=t[m]??0;return s..=p>=30,{flags:s,monthBranch:d,dayEl:i}}function U5(e,t){const n=(e??[]).slice(0,4).map(L5);if(n.length<3||n[0].length<2||n[1].length<2||n[2].length<2){const x={:!1,:!1,:!1};return{flags:{:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x},:{...x}},monthBranch:"",dayEl:""}}const r=I5(n[2]),i=r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":r===""||r===""?"":"",a=n.map(x=>$5(x)),s={:!1,:!1,:!1},c={:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s},:{...s}},d=z5[r]??[],f=a[1];d.includes(f)&&(c..=!0,c..=!0,c..=!0,c..=!0);const m=a[2];d.includes(m)&&(c..=!0,c..=!0,c..=!0,c..=!0);const p=B5(i).;return(t[p]??0)>=30&&(c..=!0,c..=!0,c..=!0,c..=!0),{flags:c,monthBranch:f,dayEl:i}}const Xre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Jre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Qre={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},eie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},tie=e=>Xre[e]??e,nie=e=>Jre[e]??e;function rie(e){return!e||e.length<2?"":`${tie(e[0])}${nie(e[1])}`}function Gc(e){return NM[e]??NM[Qre[e]??""]}function qc(e){return CM[e]??CM[eie[e]??""]}const Mw=["year","month","day","hour"],iie={year:{stem:10,branch:10},month:{stem:15,branch:30},day:{stem:25,branch:25},hour:{stem:15,branch:15}},aie={year:{stem:10,branch:10},month:{stem:15,branch:45},day:{stem:25,branch:40},hour:{stem:15,branch:12.5}},oie=new Set(["","","","",""]),sie=new Set(["","","","","",""]),lie=new Set(["","","",""]),Dw=e=>oie.has(e)?"":"",Pw=e=>{const t=sie.has(e)?"":"";return lie.has(e)?t===""?"":"":t};function eD(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.floor(c+.5)),i=100-r.reduce((c,d)=>c+d,0);if(i===0)return r;const a=n.map((c,d)=>({i:d,frac:c-Math.floor(c+.5)})).sort((c,d)=>d.frac-c.frac),s=r.slice();if(i>0)for(let c=0;c<i;c++)s[a[c].i]+=1;else for(let c=0;c<-i;c++)s[a[a.length-1-c].i]-=1;return s}function cie(e,t){return e===0?t?1:.8:e===1?t?.6:.5:t?.3:.2}const u0={:.15,:.1,:-.15,:-.2,:-.25},Lv={:"",:"",:"",:"",:""},H5={:"",:"",:"",:"",:""},gm={:"",:"",:"",:"",:""},uie={:"",:"",:"",:"",:""};function d0(e,t){return e===t?"":Lv[t]===e?"":Lv[e]===t?"":gm[e]===t?"":gm[t]===e?"":""}const Dl=e=>e&&e.length>=1?e[0]:"",Yc=e=>e&&e.length>=2?e[1]:"";function die(e,t){const n=e.reduce((d,f)=>d+f,0);if(n<=0||t<=0)return new Array(e.length).fill(0);const r=e.map(d=>d/n*t),i=r.map(d=>Math.floor(d));let a=t-i.reduce((d,f)=>d+f,0);const s=r.map((d,f)=>({i:f,frac:d-Math.floor(d)})).sort((d,f)=>f.frac-d.frac),c=i.slice();for(let d=0;d<s.length&&a>0;d++)c[s[d].i]+=1,a-=1;return c}function tD(e,t){switch(e){case"":return t;case"":return Lv[t];case"":return gm[t];case"":return uie[t];case"":return H5[t];default:return t}}function oE(e){const{pillars:t,dayStem:n,mode:r,debug:i,useHarmonyOverlay:a,criteriaMode:s,luck:c}=e,d=s==="modern"?iie:aie,f=r==="classic"?Ure:zre,m={:0,:0,:0,:0,:0},p={},y={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},b=(t??[]).slice(0,4).map(rie),x=b.length===4&&b[0]&&b[0].length>=2&&b[1]&&b[1].length>=2&&b[2]&&b[2].length>=2,T={totalsSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},perStemAugBare:{},perStemAugFull:{}};if(!x){const q=["","","","",""].map(W=>({name:W,value:0,color:"#999999"}));return{overlay:T,totals:q,perTenGod:{:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}},PerTenGodSub:{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0},elementScoreRaw:m,deukFlags:{:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1},:{:!1,:!1,:!1}},perStemElement:{},perStemElementScaled:{},stemScoreRaw:{},elementPercent100:{:0,:0,:0,:0,:0}}}const E=Dl(b[2]),j=n??E,D=j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":j===""||j===""?"":"",O=[{val:0},{val:0},{val:0},{val:0}],M=[[],[],[],[]];for(const q of b){if(!q)continue;const W=q.charAt(0),le=q.charAt(1);p[W]=(p[W]??0)+50;const fe=y[le];fe&&(p[fe]=(p[fe]??0)+50)}for(let q=0;q<4;q++){const W=b[q];if(!W||W.length<2)continue;const le=Mw[q],fe=Dl(W),Q=Yc(W),de=d[le],we=Gc(fe);we&&(m[we]+=de.stem,O[q]={stem:fe,el:we,pol:Dw(fe),val:de.stem});const se=qc(Q);se&&(m[se]+=de.branch,M[q].push({el:se,pol:Pw(Q),val:de.branch}))}for(let q=0;q<4;q++){const W=b[q];if(!W||W.length<2)continue;const le=Mw[q],fe=f[W]??0;if(fe===0)continue;const Q=Dl(W),de=Gc(Q);if(!de)continue;const we=d[le].stem*fe;m[de]+=we,O[q].val+=we}for(let q=0;q<4;q++){const W=b[q];if(!W||W.length<2)continue;const le=Yc(W),fe=qc(le);if(!fe)continue;const Q=d[Mw[q]].branch,de=Pw(le);let we=0;const se=[q];q-1>=0&&se.push(q-1),q+1<=3&&se.push(q+1),q-2>=0&&se.push(q-2),q+2<=3&&se.push(q+2);const Ne=Array.from(new Set(se));for(const be of Ne){if(!b[be]||b[be].length<2)continue;const Le=Dl(b[be]),Me=Gc(Le);if(!Me||Me!==fe)continue;const Ie=Dw(Le)===de,Be=Math.abs(be-q),ye=cie(Be,Ie);we+=Q*ye}we!==0&&(m[fe]+=we,M[q].push({el:fe,pol:de,val:we}))}for(let q=0;q<4;q++){const W=b[q];if(!W||W.length<2)continue;const le=Dl(W),fe=Gc(le);if(!fe)continue;let Q=0;const de=Yc(b[q]),we=qc(de);we&&(Q+=u0[d0(fe,we)]);const se=q===0?[1]:q===3?[2]:[q-1,q+1];for(const be of se){const Le=Dl(b[be]),Me=Gc(Le);Me&&(Q+=u0[d0(fe,Me)])}const Ne=O[q].val;if(Ne!==0&&Q!==0){const be=Math.round(Ne*(1+Q)*10)/10,Le=be-Ne;m[fe]+=Le,O[q].val=be}}for(let q=0;q<4;q++){const W=b[q];if(!W||W.length<2)continue;const le=Yc(W),fe=qc(le);if(!fe)continue;let Q=0;const de=Dl(b[q]),we=Gc(de);we&&(Q+=u0[d0(fe,we)]);const se=q===0?[1]:q===3?[2]:[q-1,q+1];for(const be of se){if(!b[be]||b[be].length<2)continue;const Le=Yc(b[be]),Me=qc(Le);Me&&(Q+=u0[d0(fe,Me)])}const Ne=M[q].reduce((be,Le)=>be+Le.val,0);if(Ne!==0&&Q!==0){const Le=Math.round(Ne*(1+Q)*10)/10-Ne;m[fe]+=Le,M[q].length>0&&(M[q][0].val+=Le)}}a&&Tte(b,m);const N={dae:{stem:.04,branch:.04},se:{stem:.03,branch:.03},wol:{stem:.02,branch:.02},il:{stem:.01,branch:.01}},R=[];if(!(!c||c.tab==="")){let q=function(W,le){const fe=W?qe(W):"";if(!fe||fe.length<2)return;const Q=Dl(fe),de=Yc(fe),we=Gc(Q),se=qc(de),Ne=Math.max(1,(m.??0)+(m.??0)+(m.??0)+(m.??0)+(m.??0)),be=N[le];if(we){const Le=Math.round(Ne*be.stem);m[we]+=Le,R.push({stem:Q,el:we,pol:Dw(Q),val:Le})}if(se){const Le=Math.round(Ne*be.branch);m[se]+=Le,R.push({el:se,pol:Pw(de),val:Le})}};q(c.dae,"dae"),(c.tab===""||c.tab===""||c.tab==="")&&q(c.se,"se"),(c.tab===""||c.tab==="")&&q(c.wol,"wol"),c.tab===""&&q(c.il,"il")}const $={:0,:0,:0,:0,:0};Object.entries(m).forEach(([q,W])=>{const le=Z(q,D);$[le]+=W});const z=["","","","",""],G=eD(z.map(q=>$[q])),V=x5(j),H=z.map((q,W)=>({name:q,value:G[W],color:V[q]})),U={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};function Z(q,W){return q===W?"":Lv[W]===q?"":gm[W]===q?"":gm[q]===W?"":H5[W]===q?"":""}function re(q,W){switch(Z(q,D)){case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break;case"":U.+=W*.5,U.+=W*.5;break}}Object.entries(m).forEach(([q,W])=>{W>0&&re(q,W)});const ve={:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0},:{a:"",b:"",aVal:0,bVal:0}};for(const q of z){const W=H.find(se=>se.name===q)?.value??0,le=ve[q].a,fe=ve[q].b,Q=U[le]??0,de=U[fe]??0,we=Q+de;if(we>0){const se=Math.floor(W*Q/we+.5),Ne=W-se;ve[q].aVal=se,ve[q].bVal=Ne}else ve[q].aVal=Math.floor(W/2+.5),ve[q].bVal=W-ve[q].aVal}const{flags:J}=Zre(b,m),ae={};O.forEach(q=>{if(q.stem&&q.el&&q.val){const W=`${q.stem}${q.el}`;ae[W]=(ae[W]??0)+q.val}});for(let q=0;q<4;q++){const W=b[q];if(!W||W.length<2)continue;const le=Yc(W),fe=y[le],Q=qc(le);if(!fe||!Q)continue;const de=`${fe}${Q}`,we=M[q].reduce((se,Ne)=>se+Ne.val,0);ae[de]=(ae[de]??0)+we}const ne=["","","","","","","","","",""],ce={};ne.forEach(q=>{ce[q]=0}),z.forEach(q=>{const W=H.find(Ne=>Ne.name===q)?.value??0,le=tD(q,D),fe=Object.entries(ae).filter(([Ne])=>Ne.endsWith(le)),Q=fe.map(([Ne])=>Ne),de=fe.map(([,Ne])=>Ne),we=Math.max(0,Math.round(W*10)),se=die(de.length?de:[1,1],we);if(Q.length===2)ce[Q[0]]=(se[0]??Math.round(we/2))/10,ce[Q[1]]=(se[1]??we-(se[0]??0))/10;else if(Q.length===1)ce[Q[0]]=we/10;else{const Ne=le===""?["",""]:le===""?["",""]:le===""?["",""]:le===""?["",""]:["",""],be=Math.floor(we/2),Le=we-be;ce[Ne[0]]+=be/10,ce[Ne[1]]+=Le/10}});const te=["","","","",""],Y={:0,:0,:0,:0,:0};for(const q of H){const W=tD(q.name,D);Y[W]+=q.value}const B=eD(te.map(q=>Y[q])),X={:B[0],:B[1],:B[2],:B[3],:B[4]};return i&&console.log({elementScore:m,totals:H,perTenGod:ve,perStemRaw:ae,perStemElementScaled:ce,elementPercent100:X}),{overlay:{totalsSub:U,perStemAugBare:ae,perStemAugFull:ce},totals:H,perTenGod:ve,PerTenGodSub:U,stemScoreRaw:p,elementScoreRaw:m,deukFlags:J,perStemElement:ae,perStemElementScaled:ce,elementPercent100:X}}function fie(e){const t=e.reduce((c,d)=>c+d,0);if(t<=0)return e.map(()=>0);const n=e.map(c=>c*100/t),r=n.map(c=>Math.round(c));let a=100-r.reduce((c,d)=>c+d,0);const s=n.map((c,d)=>({i:d,f:c-Math.round(c)})).sort((c,d)=>d.f-c.f);for(let c=0;c<s.length&&a>0;c++)r[s[c].i]+=1,a-=1;return r}const nD=["","","","",""];function hie(e,t){const n=[qe(e[0]??""),qe(e[1]??""),qe(e[2]??""),qe(e[3]??"")],{elementScoreRaw:r}=oE({pillars:n,criteriaMode:t?.criteriaMode??"modern",useHarmonyOverlay:t?.useHarmonyOverlay??!0,luck:void 0}),i=nD.map(c=>r[c]??0),a=fie(i),s={:0,:0,:0,:0,:0};return nD.forEach((c,d)=>{s[c]=a[d]}),s}function F5(e,t){const n=hie(e,t),r=qe(e[2]??"").charAt(0),a={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[r];if(!a)return 0;const s={:"",:"",:"",:"",:""},c=n[a]??0,d=n[s[a]]??0;return c+d*.7}const f0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},h0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},m0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},mie=["","","","",""];function rD(e){return mie.includes(e)}const pie={:"",:"",:"",:"",:""},gie={:"",:"",:"",:"",:""},vie={:"",:"",:"",:"",:""},yie={:"",:"",:"",:"",:""},sE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},bie=["","","","","","","","","",""],_ie={natal:50,dae:30,se:20,wol:7,il:3};function Iv(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(f0[t])return f0[t];if(["","","","","","","","","","","",""].includes(t))return m0[t]??null;if(h0[t])return m0[h0[t]]??null;const n=t.charAt(0);return f0[n]?f0[n]:["","","","","","","","","",""].includes(n)?n:h0[n]?m0[h0[n]]??null:["","","","","","","","","","","",""].includes(n)?m0[n]??null:null}function xie(e,t){const n=sE[e],r=sE[t];if(!n||!r)return"";let i;r===n?i="":r===pie[n]?i="":r===gie[n]?i="":r===vie[n]?i="":r===yie[n]?i="":i="";const a=rD(e)===rD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function $v(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.round(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.round(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function iD(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=Iv(r);if(!a)continue;const s=xie(t,a);n[s]+=i}return $v(n)}function wie(e){return{:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.},:{a:"",b:"",aVal:e.,bVal:e.}}}function aD(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=Iv(n);i&&(t[i]=(t[i]??0)+r)}return t}function oD(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of bie){const i=sE[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}function sD(e){const t=["","","","",""],n={:0,:0,:0,:0,:0};for(const r of t)typeof e[r]=="number"&&(n[r]=e[r]);return n}function Sie(e,t){const n=t?.dae?p0(t.dae):{},r=t?.se?p0(t.se):{},i=t?.wol?p0(t.wol):{},a=t?.il?p0(t.il):{},s={},c=[{kind:"natal",bare:e},{kind:"dae",bare:n},{kind:"se",bare:r},{kind:"wol",bare:i},{kind:"il",bare:a}];for(const{kind:f,bare:m}of c){const p=_ie[f];if(!m||Object.keys(m).length===0)continue;const y=$v(m);for(const[b,x]of Object.entries(y))s[b]=(s[b]??0)+x*p}const d=Object.values(s).reduce((f,m)=>f+m,0);if(d>0)for(const f of Object.keys(s))s[f]=s[f]/d*100;return s}function Eie(e){if(!e)return[];const t=Iv(e.charAt(0)),n=Iv(e.charAt(1));return[t,n].filter(Boolean)}function p0(e){const t=Eie(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function G5(e){const{natal:t,tab:n,chain:r,hourKey:i="unified"}=e,a=[qe(t[0]??""),qe(t[1]??""),qe(t[2]??""),qe(t[3]??"")],s=a[2]?.charAt(0)??"",{hiddenStemMode:c,hiddenStem:d}=lu,f=c==="classic"?"classic":"hgc",m=r?{tab:n,dae:r.dae?qe(r.dae):void 0,se:(n===""||n===""||n==="")&&r.se?qe(r.se):void 0,wol:(n===""||n==="")&&r.wol?qe(r.wol):void 0,il:n===""&&r.il?qe(r.il):void 0}:{tab:n},p=oE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:m}),y=oE({pillars:a,dayStem:s,mode:f,criteriaMode:"modern",useHarmonyOverlay:!0,luck:{tab:"",dae:void 0,se:void 0,wol:void 0,il:void 0}}),b=aD(p.perStemElementScaled),x=n===""?b:Sie(b,r),T=$v(x),E=iD(x,s),j=wie(E),D=oD(T),O=aD(y.perStemElementScaled),M=iD(O,s),N=$v(O),R=oD(N);return{elementScoreRaw:p.elementScoreRaw,elementPercent100:p.elementPercent100,totals:p.totals,perStemElementScaled:p.perStemElementScaled,dayStem:s,mergedStems:T,perTenGodSub:E,perTenGod:j,overlay:{totalsSub:E,perStemAugBare:x,perStemAugFull:D},natalFixed:{elementScoreRaw:sD(y.elementScoreRaw),elementPercent100:sD(y.elementPercent100),totalsSub:M,overlay:{totalsSub:M,perStemAugBare:O,perStemAugFull:R}}}}const Ca={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Bo={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Aie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ma(e){return["","","","",""].includes(e)}function Tie(e){return["","","","","",""].includes(e)}const q5={:"",:"",:"",:"",:""},kA={:"",:"",:"",:"",:""},Y5={:"",:"",:"",:"",:""},K5={:"",:"",:"",:"",:""},Rw=e=>({:"",:"",:"",:"",:"",:"",:"",:"",:"",:""})[e]??e,Oa=e=>e&&e.length>=1?e.charAt(0):"",qn=e=>e&&e.length>=2?e.charAt(1):"",kie=e=>Array.from(new Set(e)),Oie={:{:{stem:"",w:10},:{stem:"",w:20}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:10},:{stem:"",w:9},:{stem:"",w:11}},:{:{stem:"",w:9},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:10},:{stem:"",w:7},:{stem:"",w:16}},:{:{stem:"",w:9},:{stem:"",w:20}},:{:{stem:"",w:7},:{stem:"",w:3},:{stem:"",w:18}},:{:{stem:"",w:16},:{stem:"",w:7},:{stem:"",w:16}}},jie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Nie(e,t){const n=jie[e];if(!n)return!1;const i=mo(t).find(c=>c.name===n);if(!i)return!1;const a=new Date(i.date);return Math.floor((t.getTime()-a.getTime())/(1e3*60*60*24))<=12}const Cie={:["","",""],:["","",""],:["","",""],:["","",""]};function Mie(e,t){const n=Cie[e];return n?n.filter(r=>r!==e).every(r=>t.includes(r)):!1}function so(e,t){const n=Ca[e],r=Ca[t];if(!n||!r)return"";let i;r===n?i="":r===q5[n]?i="":r===kA[n]?i="":r===Y5[n]?i="":r===K5[n]?i="":i="";const a=Ma(e)===Ma(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Die(e,t){const n=Ca[e],r=Bo[t];if(!n||!r)return"";let i;r===n?i="":r===q5[n]?i="":r===kA[n]?i="":r===Y5[n]?i="":r===K5[n]?i="":i="";const a=Ma(e)===Tie(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Pie(e){return{:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[e]??""}function lE(e,t){const n=Pie(e),r=Ma(e),i={:"",:"",:"",:"",:""},a={:"",:"",:"",:"",:""};let s;t===n?s="":i[n]===t?s="":i[t]===n?s="":a[n]===t?s="":a[t]===n?s="":s="";const c=r===Ma(Rie(t));switch(s){case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":"";case"":return c?"":""}}function Rie(e){return{:"",:"",:"",:"",:""}[e]}const Lw={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},W5={:"",:"",:"",:"",:""},V5={:"",:"",:"",:""},Lie=[{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""},{a:"",b:"",to:""}],Iie=e=>{const t={:0,:0,:0,:0,:0};for(const n of e){const r=Oa(n),i=qn(n),a=Ca[r],s=Bo[i];a&&(t[a]+=10),s&&(t[s]+=6)}return t};function $ie(e){const{pillars:t,dayStem:n,monthBranch:r,mapping:i}=e,[a,s,c,d]=(t??[]).slice(0,4),f=[Oa(a),Oa(s),Oa(c),Oa(d)].filter(Boolean),m=[qn(a),qn(s),qn(c),qn(d)].filter(Boolean),p=Ca[n],y=f.map(ge=>so(n,ge)),b=[],x=ge=>f.filter(Ue=>Ue===ge).length,T=ge=>m.filter(Ue=>Ue===ge).length,E=ge=>ge.every(Ue=>m.includes(Ue)),j=ge=>y.some(Ue=>ge.includes(Ue)),D=Oa(s),O=ge=>Ma(ge),M=()=>{const ge=f.map(Ue=>Ca[Ue]);return ge.length===4&&ge.every(Ue=>Ue===ge[0])},N=()=>{if(f.length!==4)return!1;const ge=f.map(O),Ue=ge[0]&&!ge[1]&&ge[2]&&!ge[3],ze=!ge[0]&&ge[1]&&!ge[2]&&ge[3];return Ue||ze};Ma(n)&&W5[n]===r&&b.push("");const R=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]];for(const[ge,Ue]of R)if(n===ge&&r===Ue){b.push("");break}!Ma(n)&&V5[n]===r&&b.push("");const $=Lw[n];$&&qn(c)===$&&p===Bo[qn(c)]&&b.push(""),$&&qn(d)===$&&p===Bo[qn(d)]&&b.push("");const z=[a,s,c,d].map(Yie),G=[a,s,c,d].map(Kie);for(const ge of z);for(const ge of G);const V=i==="hgc"?$y:Iy;function H(ge){return(V[ge]??[]).filter(Ue=>["","","","","","","","","",""].includes(Ue))}const U=[a,s,c,d].filter(Boolean),re=U.flatMap(ge=>[ge.charAt(0),ge.charAt(1)]).flatMap(ge=>{try{if(["","","","","","","","","",""].includes(ge))return[so(n,ge)];if(["","","","","","","","","","","",""].includes(ge)){const Ue=Die(n,ge),ze=H(ge).map(He=>so(n,He));return[Ue,...ze]}return[]}catch{return[]}}),ve=ge=>re.some(Ue=>ge.includes(Ue)),J=(ge,Ue)=>{const ze=[],He=[];for(const it of U){const tn=it.charAt(0),Kn=it.charAt(1);ze.push(so(n,tn));const zn=Bo[Kn];zn?He.push(lE(n,zn)):He.push(null)}const ut=(it,tn)=>!!it&&!!tn&&(ge.includes(it)&&Ue.includes(tn)||Ue.includes(it)&&ge.includes(tn));for(let it=0;it<ze.length;it++)if(ut(ze[it],He[it]))return!0;for(let it=0;it<ze.length-1;it++)if(ut(ze[it],ze[it+1])||ut(He[it],He[it+1]))return!0;return!1},ae={:["",""],:["",""],:["",""],:["",""]};ve([...ae.])&&ve([...ae.])&&J([...ae.],[...ae.])&&b.push(""),ve([...ae.])&&ve([...ae.])&&J([...ae.],[...ae.])&&b.push("");const ne=ge=>y.filter(Ue=>ge.includes(Ue)).length,ce=ne(["",""]),te=ne([""]),Y=ne([""]),B=ne(["",""]),X=ne(["",""]),ee=ne(["",""]);te>=1&&ce>=1&&ce>=te&&Y<=te&&b.push("");const q=ne([""]);q>=1&&B>=1&&q>=B&&b.push(""),y.includes("")&&B>=1&&b.push("");const le=Iie(t),fe=Object.entries(le).sort((ge,Ue)=>Ue[1]-ge[1]),Q=fe[0];if(Q&&Q[1]>=60&&b.push(`(${Q[0]})`),fe.length>=2){const[ge,Ue]=fe[0],[,ze]=fe[1];Ue>=75&&Ue-ze>=12&&p!==ge&&b.push(`(${ge})`)}for(const ge of Lie){const Ue=f.includes(ge.a),ze=f.includes(ge.b);if(!Ue||!ze)continue;const He=ge.to,ut=le[He]??0,it=Ca[ge.a],tn=Ca[ge.b],Kn=Math.max(le[it]??0,le[tn]??0),zn=Bo[r]===He,ti=Object.entries(le).sort(($t,Cn)=>Cn[1]-$t[1])[0]?.[0]===He;let En=!1;ut>=60&&(zn||ti)&&Kn<=20&&ut-Kn>=20&&(b.push(`(${He})`),En=!0),!En&&ut>=50&&(zn||ti)&&Kn<=25&&(b.push(`(${He})`),En=!0),!En&&ut>=35&&b.push(`(${He})`)}const de=`${Oa(d)}${qn(d)}`;["",""].includes(n)&&["","",""].includes(de)&&b.push(""),["","","",""].includes(qn(d))&&b.push(""),["",""].includes(n)&&(qn(c)===""||qn(s)==="")&&!m.includes("")&&b.push("");const we=f.some(ge=>ge===""||ge===""),se=m.some(ge=>ge===""||ge==="");["",""].includes(qn(c))&&!we&&!se&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push(""),["","",""].every(ge=>f.includes(ge))&&b.push("");const Ne=Object.values(le).sort((ge,Ue)=>Ue-ge);Ne.length>=3&&Ne[0]-Ne[2]<=8&&Ne[0]+Ne[1]+Ne[2]>=80&&b.push(""),X>=1&&ee>=1&&Math.abs(X-ee)<=1&&b.push(""),E(["","","",""])&&b.push(""),E(["","","",""])&&b.push(""),E(["","","",""])&&b.push(""),m.length===4&&m.every(ge=>ge===m[0])&&b.push(""),f.length===4&&M()&&N()&&b.push(""),t.every(ge=>ge&&ge===t[0])&&b.push(""),f.length===4&&f.every(ge=>ge===f[0])&&m.length===4&&m.every(ge=>ge===m[0])&&b.push(""),ce>=1&&(qn(c)===Lw[n]||qn(d)===Lw[n])&&b.push(""),x("")>=3&&E(["","",""])&&["","",""].includes(qn(c))&&b.push("");const Le=n===""||n==="",Me=[["","",""],["","",""]],Ie=[["","",""],["","",""]];Le&&(Me.some(ge=>E(ge))||Ie.some(ge=>E(ge)))&&b.push("");const Be=new Set(["","","","","",""]),ye=`${Oa(c)}${qn(c)}`;if(Be.has(ye)&&T("")>=2&&(j(["",""])||m.includes("")||m.includes("")||j(["",""])||b.push("")),new Set(["","","","","",""]).has(ye)&&T("")>=2&&m.includes("")&&b.push(""),n===""&&`${Oa(d)}${qn(d)}`==""){const ge=so(n,D);!["","","",""].includes(ge)&&j(["",""])&&!m.includes("")&&!m.includes("")&&b.push("")}return new Set(["","",""]).has(ye)&&`${Oa(d)}${qn(d)}`==""&&!m.includes("")&&!j(["",""])&&b.push(""),ye===""&&T("")+T("")>=2&&b.push(""),(ye===""||ye==="")&&T("")>=2&&!j(["",""])&&!m.includes("")&&b.push(""),n===""&&E(["","",""])&&b.push(""),ye===""&&`${Oa(d)}${qn(d)}`==""&&b.push(""),kie(b)}function Bie(e){const{dayStem:t,monthBranch:n,date:r,pillars:i,emittedStems:a=[],otherBranches:s=[],isNeutralized:c,mapping:d}=e,f=[],m=Oie[n];if(!m)return{:"-",:"-",:"-",:"-",:"-",:[],reason:["  "]};const p={:m.?{stem:Rw(m..stem),w:m..w}:void 0,:m.?{stem:Rw(m..stem),w:m..w}:void 0,:{stem:Rw(m..stem),w:m..w}},y=p..stem;let b=y;if(["","","",""].includes(n))b=p..stem,f.push(":   ");else if(["","","",""].includes(n)){const z=[];p.&&z.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),p.&&z.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)}),z.push({from:"",stem:p..stem,w:p..w,emitted:a.includes(p..stem)});const G=z.filter(V=>V.emitted);G.length===1?(b=G[0].stem,f.push(`: ${G[0].from}  `)):G.length>1?(G.sort((V,H)=>H.w-V.w),b=G[0].stem,f.push(`:      ${G[0].from} `)):(b=p..stem,f.push(":    "))}else["","","",""].includes(n)&&(Mie(n,s)&&p.?(b=p..stem,f.push(":     ")):Nie(n,r)&&p.?(b=p..stem,f.push(":  +12    ")):(b=p..stem,f.push(":  +12    ")));const x=b;let T="";const E=Ca[x];if(E){const z=Object.entries(kA).find(([,G])=>G===E)?.[0]??null;z&&(T=Object.entries(Ca).find(([V,H])=>H===z&&Ma(V)===Ma(x))?.[0]??"")}c?.(x)&&f.push(":   / ");let j="-";const D=so(t,x),M=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]].some(([z,G])=>z===t&&G===n),N=Ma(t)&&W5[t]===n,R=!Ma(t)&&V5[t]===n;D===""||D===""?M?(j="",f.push(": /   ")):N?(j="",f.push(":    ")):R?(j="",f.push(":    ")):f.push(": /  "):D===""?j="()":j={:"",:"",:"",:"",:"",:"",:"",:""}[D]??"-";const $=$ie({pillars:i,dayStem:t,monthBranch:n,mapping:d});return{:y,:b,:x,:T,:j,:$,reason:f}}const Re=(e,t)=>`${e}+${t}`,oi=(e,t,n)=>`${e}+${t}+${n}`,zie={[Re("","")]:[""],[oi("","","")]:void 0,[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[oi("","","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:["",""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""],[Re("","")]:[""]},Uie={[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:[""],[oi("","","")]:["",""]};function Hie(){const e={},t={},n=/[]/g;for(const[r,i]of Object.entries(zie)){if(!i)continue;const a=r.match(n);if(!a||a.length<2)continue;const[s,c]=a;e[r]=i.map(d=>`${s}X${c}_${d}`)}for(const[r,i]of Object.entries(Uie)){if(!i)continue;const a=r.match(n);if(!a||a.length<3)continue;const[s,c,d]=a;t[r]=i.map(f=>`${s}X${c}X${d}_${f}`)}return{newPairs:e,newTris:t}}const{newPairs:Iw,newTris:$w}=Hie();function Fie(e){const[t,n,r,i]=e,a=b=>Oa(b),s=a(i),c=a(r),d=a(n),f=a(t),m=[],p=[[s,c],[c,d],[d,f]];for(const[b,x]of p){if(!b||!x)continue;const T=Re(b,x),E=Iw[T];E&&E.length&&m.push(...E);const j=Re(x,b);j!==T&&Iw[j]&&m.push(...Iw[j])}const y=[[s,c,d],[c,d,f]];for(const[b,x,T]of y){if(!b||!x||!T)continue;const E=oi(b,x,T),j=$w[E];j&&j.length&&m.push(...j);const D=oi(T,x,b);D!==E&&$w[D]&&m.push(...$w[D])}return Array.from(new Set(m))}const Gie={:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1,:!0,:!1},qie={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Yie(e){return e?.charAt(0)??""}function Kie(e){return e?.charAt(1)??""}function Wie(e,t,n){const[r,i,a,s]=(e??[]).slice(0,4),c=he=>(he?.length??0)>=1?he.charAt(0):"",d=he=>(he?.length??0)>=2?he.charAt(1):"",f=[r,i,a,s].map(c).filter(Boolean),m=[r,i,a,s].map(d).filter(Boolean),p=c(a),y=Gie[p]??!1,b=new Set,x=t==="classic"?Iy:$y,T=new Set(["","","","","","","","","",""]),E=he=>(x[he]??[]).filter(ge=>T.has(ge)),j=(he,ge)=>{const Ue=Bo[ge];if(!Ue)throw new Error(`Unknown branch main element: ${ge}`);return lE(he,Ue)},D={:0,:0,:0,:0,:0};for(const he of f){const ge=Ca[he];ge&&(D[ge]+=10)}const O=[];for(const he of m){const ge=Aie[he];ge&&O.push(ge);const Ue=Bo[he];Ue&&(D[Ue]+=6)}const N=[...f,...O].map(he=>so(p,he)),R={:["",""],:["",""],:["",""],:["",""],:["",""]},$=he=>N.filter(ge=>ge===he).length,z=he=>N.filter(ge=>R[he].includes(ge)).length,G=m[1],V=!!p&&qie[p]===G,H=n.elementPercent100;H.>=20&&H.>=20&&H.>=15&&b.add("");const U=[r,i,a,s].filter(Boolean),Z=[];for(const he of U){const ge=he.charAt(0),Ue=he.charAt(1);Z.push(so(p,ge)),Z.push(j(p,Ue))}const re=(he,ge)=>{const Ue=(ze,He)=>!!ze&&!!He&&he.includes(ze)&&ge.includes(He)||ge.includes(ze)&&he.includes(He);for(let ze=0;ze+1<Z.length;ze+=2)if(Ue(Z[ze],Z[ze+1]))return!0;return!1},ve=he=>Z.some(ge=>he.includes(ge)),J=$("")+$(""),ae=$(""),ne=z(""),ce=z(""),te=re(["",""],["",""]);if((ae>=1||J>=2)&&ne>=1&&J>ne&&ce<=1&&te&&b.add(""),ve(R.)&&ve(R.)&&re(R.,R.)){const he=N.includes("");b.add(he?"":"")}z("")>=2&&z("")>=2&&Math.abs(z("")-z(""))<=1&&z("")<=1&&z("")<=1&&b.add("");const Y=$(""),B=$(""),X=$("")+$(""),ee=$("")+$(""),q=z("");B>=2&&X>=1&&D.+D.>=20&&b.add(""),B>=2&&ee>=1&&D.+D.>=20&&b.add(""),B>=2&&ee>=1&&D.+D.>=20&&re([""],["",""])&&q<=1&&b.add(""),Y>=2&&ee>=1&&D.+D.>=20&&re([""],["",""])&&q<=1&&b.add("");const W=(he,ge)=>{const Ue=Ca[he],ze=Bo[ge];return!!Ue&&!!ze&&Ue===ze},le=[r,i,a,s].filter(Boolean),fe=d(a),Q=W(p,fe),de=le.map(he=>he.charAt(0)).filter(he=>["",""].includes(so(p,he)));let we=!1;for(const he of le){const ge=he.charAt(0),Ue=he.charAt(1);if(de.includes(ge)&&W(ge,Ue)){we=!0;break}}Q&&we&&b.add(""),z("")>=3&&z("")>=.5*(z("")+z("")+z("")+z(""))&&b.add(""),z("")>=3&&z("")>=.5*(z("")+z("")+z("")+z(""))&&b.add(""),z("")>=3&&z("")>=1&&b.add(""),z("")>=3&&z("")+z("")<=1&&b.add("");const se=$("");z("")+z("")>=2&&se===1&&z("")>=1&&b.add(""),se>=2&&X+z("")>=3&&b.add("");const Ne=Y+B;(Y>=2||Ne>=2)&&ee>=1&&Ne>ee&&b.add(""),B>=2&&ee>=1&&Ne>ee&&b.add("");const be=$(""),Le=$("");be>=2&&se+Le>=1&&b.add(""),be>=2&&se+Le===0&&b.add(""),y&&be>=2&&se>=1&&b.add(""),!y&&be>=2&&se>=1&&b.add(""),$("")>=2&&$("")>=1&&b.add(""),$("")>=1&&$("")>=1&&re([""],[""])&&b.add(""),V&&se>=1&&z("")+z("")>=2&&b.add("");const Me=[d(r),d(i),d(a),d(s)].filter(Boolean),Ie=[r?.charAt(0),i?.charAt(0),s?.charAt(0)].filter(Boolean),Be=new Set(Ie.map(he=>so(p,he))),ye=new Set(Me.flatMap(he=>{const ge=Bo[he];return ge?[lE(p,ge)]:[]})),$e=new Set(Me.flatMap(he=>E(he).map(ge=>so(p,ge))));return["","","","",""].forEach(he=>{const ge=R[he],Ue=ge.some(ut=>Be.has(ut)),ze=ge.some(ut=>ye.has(ut)),He=ge.some(ut=>$e.has(ut));!Ue&&!ze&&!He?b.add(`${he}`):!Ue&&!ze&&He&&b.add(`${he}`)}),Array.from(b)}function Vie(e){const{pillars:t,tab:n,birthDate:r,emittedStems:i,otherBranches:a,isNeutralized:s,mapping:c,unified:d}=e,[f,m,p,y]=t,b=re=>re&&re.length>=1?re.charAt(0):"",x=re=>re&&re.length>=2?re.charAt(1):"",T=x(m),E=b(p),j=r instanceof Date&&!Number.isNaN(r.getTime())?r:new Date,D=[b(f),b(m),b(p),b(y)].filter(re=>!!(re&&re.length===1)),O=[x(f),x(p),x(y)].filter(re=>!!(re&&re.length===1)),M=Bie({dayStem:E,monthBranch:T,date:j,pillars:t,emittedStems:i??D,otherBranches:a??O,isNeutralized:s,mapping:c}),N=[` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`,` : ${M.||"-"}`],R=[` : ${M.||"-"}`],$=Array.isArray(M.)&&M..length>0?M..map(re=>` : ${re}`):[" : -"],z=Fie(t),G=[...z.length?z.map(re=>`${re}`):[]],H=[...Wie(t,c,d)],U=({text:re,color:ve})=>{const J={violet:"bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",amber:"bg-amber-100 text-amber-800 border-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:border-amber-800",blue:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800",green:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800",red:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800"};return _.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full border whitespace-nowrap ${J[ve]}`,title:re,children:re})},Z=({children:re})=>_.jsx("li",{className:"!flex flex-wrap gap-1 border border-gray-700 dark:border-gray-200 p-2 rounded-sm",children:re});return _.jsxs("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3 text-sm","data-revkey":`gyeok:${n}|${t.join("")}|${N.join(",")}|${R.join(",")}|${$.join(",")}`,children:[_.jsx("div",{className:"font-bold text-base",children:"   "}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx(Z,{children:N.map(re=>_.jsx(U,{text:re,color:"violet"},re))}),_.jsx(Z,{children:R.map(re=>_.jsx(U,{text:re,color:"amber"},re))}),_.jsx(Z,{children:$.map(re=>_.jsx(U,{text:re,color:"blue"},re))}),_.jsx(Z,{children:G.map(re=>_.jsx(U,{text:re,color:"green"},re))}),_.jsx(Z,{children:H.map(re=>_.jsx(U,{text:re,color:"red"},re))})]}),M.reason.length>0&&_.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-400",children:[" ",M.reason.join(" / ")]})]})}const Dd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Pd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Xd={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Z5={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},g0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zie=["","","","",""];function lD(e){return Zie.includes(e)}const Xie={:"",:"",:"",:"",:""},Jie={:"",:"",:"",:"",:""},Qie={:"",:"",:"",:"",:""},eae={:"",:"",:"",:"",:""};function vm(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Dd[t])return Dd[t];if(["","","","","","","","","","","",""].includes(t))return g0[t]??null;if(Pd[t])return g0[Pd[t]]??null;const n=t.charAt(0);return Dd[n]?Dd[n]:["","","","","","","","","",""].includes(n)?n:Pd[n]?g0[Pd[n]]??null:["","","","","","","","","","","",""].includes(n)?g0[n]??null:null}function tae(e,t){const n=Xd[e],r=Xd[t];if(!n||!r)return"";let i;r===n?i="":r===Xie[n]?i="":r===Jie[n]?i="":r===Qie[n]?i="":r===eae[n]?i="":i="";const a=lD(e)===lD(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function nae(e){switch(e){case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return"";case"":case"":return""}}function nb(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function rae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e??{})){const i=Xd[vm(n)];i&&r>0&&(t[i]+=r)}return nb(t)}function iae(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e??{})){if(i<=0)continue;const a=vm(r);if(!a)continue;const s=tae(t,a);n[s]+=i}return n}function aae(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=nae(n);t[i]+=r}return nb(t)}function Bw(e){if(!e)return"";const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);return r?`${Dd[r[1]]}${Pd[r[2]]}`:""}function cD(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${Dd[s[1]]}${Pd[s[2]]}`:r<=2?"--":""})}function oae(e,t){const n={:!1,:!1,:!1,:!1,:!1};for(const r of e){if(!r)continue;const i=Xd[r.charAt(0)];i&&(n[i]=!0);{const a=Z5[r.charAt(1)];a&&(n[a]=!0)}}return n}function sae(e){const t={:0,:0,:0,:0,:0};for(const n of e){if(!n)continue;const r=Xd[n.charAt(0)],i=Z5[n.charAt(1)];r&&(t[r]+=10),i&&(t[i]+=6)}return t}function zw(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}const lae=["","","","","","","","","",""];function cae(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=vm(n);i&&(t[i]=(t[i]??0)+r)}return t}function uae(e){const n={...{:0,:0,:0,:0,:0,:0,:0,:0,:0,:0}};for(const r of lae){const i=Xd[r],a=`${r}${i}`;n[a]=Math.max(0,Math.round(e[r]??0))}return n}const dae={natal:50,dae:30,se:20,wol:7,il:3};function fae(e){const t={};for(const{kind:r,bare:i}of e){const a=dae[r]??0;if(a<=0)continue;const s=nb(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function hae(e){if(!e)return[];const t=vm(e.charAt(0)),n=vm(e.charAt(1));return[t,n].filter(Boolean)}function v0(e){const t=hae(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function mae({data:e,pillars:t,lunarPillars:n,daewoonGz:r}){const i=Er(be=>be.settings),[a,s]=A.useState("   "),[c,d]=A.useState(""),[f,m]=A.useState(!0),{date:p,yearGZ:y,monthGZ:b,dayGZ:x}=Di(),T=A.useMemo(()=>qe(y),[y]),E=A.useMemo(()=>qe(b),[b]),j=A.useMemo(()=>qe(x),[x]),D=Km(e,e?.mingSikType),O=A.useMemo(()=>{if(!D?.length)return 0;const be=D.findIndex((Le,Me)=>{const Ie=D[Me+1]?.at;return p>=Le.at&&(!Ie||p<Ie)});return be!==-1?be:p<D[0].at?0:D.length-1},[D,p]),M=A.useMemo(()=>{const be=r??D?.[O]?.gz??"";return qe(be)||null},[r,D,O]),{manualHour:N}=Hm(),R=e.mingSikType??"/",$=A.useMemo(()=>cD(t),[t]),z=A.useMemo(()=>cD(n),[n]),G=A.useMemo(()=>{const be=[...$];return(!be[3]||be[3]==="")&&N&&(be[3]=N.stem+N.branch),be},[$,N]),V=A.useMemo(()=>{const be=[...z];return(!be[3]||be[3]==="")&&N&&(be[3]=N.stem+N.branch),be},[z,N]),H=A.useMemo(()=>{const be=Number(e.birthDay?.slice(0,4)),Le=Number(e.birthDay?.slice(4,6)),Me=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(be)||!Number.isFinite(Le)||!Number.isFinite(Me))return null;const Ie=new Date(be,Le-1,Me,12,0,0,0),Be=Bw(pt(Ie)||""),ye=Bw(Mt(Ie)||""),$e=Bw(At(Ie,R)||"");return[Be,ye,$e,""]},[e.birthDay,R]),U=zw(G),Z=zw(V),[re]=A.useState("solar"),ve=re==="lunar"?Z?"lunar":U?"solar":"lunar":U?"solar":Z?"lunar":"solar",J=A.useMemo(()=>{const Le=[...ve==="lunar"?Z?V:U?G:H??["","","",""]:U?G:Z?V:H??["","","",""]];return(!Le[3]||Le[3]==="")&&N&&(Le[3]=N.stem+N.branch),Le},[ve,U,Z,G,V,H,N]),ae=A.useMemo(()=>N?N.stem+N.branch:J[3]||"",[N,J]),ne=A.useMemo(()=>({dae:c!==""?M??null:null,se:c===""||c===""||c===""?T??null:null,wol:c===""||c===""?E??null:null,il:c===""?j??null:null}),[c,M,T,E,j]),ce=A.useMemo(()=>G5({natal:J,tab:c,chain:ne,hourKey:ae}),[J,c,ne,ae]),te=A.useMemo(()=>{if(!ce)return null;const be=cae(ce.perStemElementScaled),Le=ne.dae?v0(ne.dae):{},Me=ne.se?v0(ne.se):{},Ie=ne.wol?v0(ne.wol):{},Be=ne.il?v0(ne.il):{},ye=fae([{kind:"natal",bare:be},{kind:"dae",bare:Le},{kind:"se",bare:Me},{kind:"wol",bare:Ie},{kind:"il",bare:Be}]),$e=nb(ye),he=uae($e),ge=iae(ye,ce.dayStem),Ue=aae(ge),ze=rae(ye);return{perStemAugBare:ye,perStemAugFull:he,elemPct100:ze,totalsMain:Ue,totalsSub:ge}},[ce,ne]),Y=A.useMemo(()=>oae(J),[J]),B=A.useMemo(()=>["","","","",""].some(be=>!Y[be]),[Y]),X=te?.elemPct100??ce?.elementPercent100??sae(J),ee=A.useMemo(()=>{if(!ce||!te)return[];const be=x5(ce.dayStem);return Object.entries(te.totalsMain).map(([Le,Me])=>({name:Le,value:Me,color:be[Le]}))},[ce,te]),q=te?.elemPct100??{:0,:0,:0,:0,:0},W=te?.totalsSub??null,le=A.useMemo(()=>N?N.stem+N.branch:J[3]||"",[N,J]),fe=A.useMemo(()=>[c,M??"",T??"",E??"",j??"",p?.toISOString?.()??"",le].join("|"),[c,M,T,E,j,p,le]),Q=A.useMemo(()=>{const be=W?Object.entries(W).sort(([Me],[Ie])=>Me.localeCompare(Ie)).map(([Me,Ie])=>`${Me}:${Ie}`).join(","):"none",Le=ee.map(Me=>`${Me.name}:${Me.value}`).join(",");return`${fe}||${J.join("")}||${Le}||${be}`},[fe,J,ee,W]),de=typeof jM=="function"?jM(J,ce?.totals):null,we=A.useMemo(()=>{const Le=(de?.ordered??[]).map(Be=>{const ye=Be.element??"",$e=/||wood/i.test(ye)?"":/||fire/i.test(ye)?"":/||earth/i.test(ye)?"":/||metal/i.test(ye)?"":/||water/i.test(ye)?"":null,he=typeof Be.score=="number"?Be.score:$e?X[$e]??0:0,ge=Array.isArray(Be.reasons)?Be.reasons:[];return{element:ye,elNorm:$e,score:he,reasons:ge}}),Me=Be=>Be?Y[Be]:!1,Ie=f?Le.map(Be=>Be.elNorm&&!Me(Be.elNorm)?{...Be,score:0,reasons:[...Be.reasons,":    0"]}:Be):Le;return Ie.sort((Be,ye)=>{const $e=Me(Be.elNorm)?1:0,he=Me(ye.elNorm)?1:0;return f&&$e!==he?he-$e:(ye.score??0)!==(Be.score??0)?(ye.score??0)-(Be.score??0):(Be.elNorm??Be.element).localeCompare(ye.elNorm??ye.element)}),Ie},[de,f,X,Y]),se=A.useMemo(()=>Math.max(0,...we.map(be=>Number.isFinite(be.score)?be.score:0)),[we]);function Ne(be){return F5(be,{criteriaMode:"modern",useHarmonyOverlay:!0})}return zw(J)?_.jsxs("div",{className:"space-y-4 mb-4",children:[_.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:one.map(be=>_.jsx("button",{onClick:()=>d(be),className:"px-2 py-1 text-xs rounded border cursor-pointer "+(c===be?"bg-yellow-500 text-black border-yellow-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:be},be))}),_.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:["  ","   ","",""].map(be=>_.jsx("button",{onClick:()=>s(be),className:"px-3 py-1 text-sm rounded border cursor-pointer "+(a===be?"bg-violet-500 text-white border-violet-600":"bg-neutral-400 dark:bg-neutral-900 text-neutral-100 dark:text-neutral-300 border-neutral-400 dark:border-neutral-700"),children:be},be))}),a===""&&_.jsx(Ote,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:E||void 0,ilwoon:j||void 0,tab:c},`harm-${c}-${le}`),a==="   "&&_.jsxs("div",{className:"space-y-4",children:[_.jsx(vte,{data:ee,revKey:Q,perStemElementScaled:te?.perStemAugFull,elementPercent:q,dayStem:J[2]?.charAt(0)??null},`pentagon-${Q}`),_.jsx(_te,{value:Ne(J)}),_.jsx(Nre,{natal:J}),_.jsxs("div",{className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-sm font-bold",children:" "}),B&&_.jsxs("button",{type:"button",onClick:()=>m(be=>!be),className:`text-xs px-2 py-1 rounded-lg border transition cursor-pointer
                    ${f?"bg-violet-100 text-violet-800 border-violet-200 whitespace-nowrap dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-50 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700"}`,"aria-pressed":f,children:[": ",f?"ON":"OFF"]})]}),_.jsx("ul",{className:"space-y-2",children:we.map((be,Le)=>_.jsxs("li",{className:"flex items-start justify-between gap-3 rounded-lg border border-neutral-200 dark:border-neutral-800 p-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200",children:[Le+1,""]}),_.jsx("span",{className:"text-sm font-semibold",children:be.element})]}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"mt-1 h-1.5 w-full rounded bg-neutral-300 dark:bg-neutral-800 overflow-hidden",children:_.jsx("div",{className:"h-1.5 rounded bg-white dark:bg-neutral-100",style:{width:`${se>0?Math.max(2,Math.min(100,Math.round((be.score??0)/se*100))):12}%`},title:` ${be.score}`})}),_.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:(be.reasons??[]).map((Me,Ie)=>_.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300",children:Me},Ie))})]})]},be.elNorm??be.element))})]})]}),a===""&&_.jsx(_re,{pillars:J,daewoon:M||void 0,sewoon:T||void 0,wolwoon:E||void 0,ilwoon:j||void 0,tab:c},`shin-${c}-${le}`),a==="  "&&_.jsx(Vie,{unified:ce,pillars:J,tab:c,mapping:i.hiddenStemMode},`gyeok-${c}-${le}`)]}):_.jsx("div",{className:"p-4 rounded-xl bg-neutral-100 dark:bg-neutral-900 text-sm",children:"   ."})}const pae=!1,uD=e=>e<10?`0${e}`:`${e}`,gae=e=>typeof e=="string"&&e.length>=2,vae=e=>Array.isArray(e)&&e.length===4&&e.every(gae);function yae(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8)),c=["isLeap","isLeapMonth","leapMonth","leap","lunarLeap"];let d=!1;for(const f of c){const m=t[f];if(typeof m=="boolean"){d=m;break}if(typeof m=="number"){d=m===1;break}if(typeof m=="string"){d=m==="1"||m.toLowerCase()==="true";break}}if(r==="lunar")try{const f=Jr(i,a,s,0,0),m=`${f.getFullYear()}${uD(f.getMonth()+1)}${uD(f.getDate())}`;return{...e,birthDay:m,calendarType:"solar"}}catch{return e}return e}function bae({data:e}){const[t,n]=A.useState("un"),r=A.useMemo(()=>{try{const c=yae(e);return Gl(c)}catch{return new Date}},[e]),i=A.useMemo(()=>Xy(e,r),[e,r]),a=!e.birthTime||e.birthTime==="",s=A.useMemo(()=>{try{const c=pt(i,e.birthPlace?.lon),d=Mt(i,e.birthPlace?.lon),f=At(i,e.mingSikType),m=a?"":$a(i,e.mingSikType);return[c,d,f,m]}catch{return[]}},[i,e?.mingSikType,e?.birthPlace?.lon,a]);return _.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto",children:[_.jsxs("div",{className:"flex border-b border-neutral-700 mb-4",children:[_.jsx("button",{onClick:()=>n("un"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="un"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("myoun"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="myoun"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "}),_.jsx("button",{onClick:()=>n("report"),className:`px-2 desk:px-4 py-2 text-xs desk:text-sm cursor-pointer border-b hover:border-purple-500 hover:text-purple-500 font-bold ${t==="report"?"border-purple-500 text-purple-500":"border-transparent text-neutral-400"}`,children:" "})]}),t==="un"&&_.jsx(ete,{data:e}),t==="myoun"&&_.jsx(cte,{data:e}),t==="report"&&_.jsx(mae,{data:e,pillars:vae(s)?s:[]})]})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dD=e=>{const t=xae(e);return t.charAt(0).toUpperCase()+t.slice(1)},X5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),wae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},d)=>A.createElement("svg",{ref:d,...Sae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:X5("lucide",i),...!a&&!wae(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,m])=>A.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(Eae,{ref:a,iconNode:t,className:X5(`lucide-${_ae(dD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=dD(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tae=ua("chevron-down",Aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Oae=ua("chevron-up",kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nae=ua("circle-x",jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Mae=ua("heart-handshake",Cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pae=ua("house",Dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lae=ua("log-out",Rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$ae=ua("menu",Iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zae=ua("plus",Bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hae=ua("settings",Uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]],Gae=ua("square-user",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fD=ua("star",qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Kae=ua("user-plus",Yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J5=ua("x",Wae);function Vae({onOpenSidebar:e,onAddNew:t,onOpenCustom:n}){return _.jsx("header",{className:"fixed min-w-[320px] top-0 left-0 right-0 bg-white dark:bg-neutral-950 border-b border-neutral-200 dark:border-neutral-800 z-55 px-2 desk:px-3 transition-colors",children:_.jsxs("div",{className:"relative max-w-[640px] w-full mx-auto h-12 sm:h-14 flex justify-between items-center",children:[_.jsx("button",{type:"button",onClick:e,"aria-label":" ",className:"p-2 rounded-full text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-purple-600 dark:hover:text-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx($ae,{size:22})}),_.jsx("h1",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 mx-auto text-base sm:text-lg font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:t,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-purple-600 text-white hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Kae,{size:18})}),_.jsx("button",{type:"button",onClick:n,"aria-label":" ",className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center rounded-md bg-orange-600 text-white hover:bg-orange-700 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 cursor-pointer transition-colors",children:_.jsx(Gae,{size:18})})]})]})})}function Zae(e){A.useEffect(()=>{const t=e??O3()??(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");j3(t),e&&F0(e)},[e])}const Q5=["theme","hiddenStem","hiddenStemMode","sinsalMode","sinsalBase","sinsalBloom","exposure","charType","thinEum","visibility","difficultyMode"];function Xae(e){return typeof e=="string"&&Q5.includes(e)}function Uw(e){const t=Array.isArray(e)?e.filter(Xae):[],n=Q5.filter(r=>!t.includes(r));return[...t,...n]}function Jae({open:e,onClose:t}){const{settings:n,setSettings:r,saveToServer:i}=Er(),a=A.useMemo(()=>Uw(n.sectionOrder),[n.sectionOrder]),s=A.useMemo(()=>({...lu,...n,sectionOrder:Uw(n.sectionOrder)}),[n]),[c,d]=A.useState(a),[f,m]=A.useState(s),[p,y]=A.useState(null),[b,x]=A.useState(!1),T=A.useCallback(()=>y(null),[]),E=f.theme??n.theme??"dark";Zae(E),A.useEffect(()=>{F0(E)},[E]),A.useEffect(()=>{if(!e)return;const N=Uw(n.sectionOrder);b||(m({...lu,...n,sectionOrder:N}),d(N),x(!1))},[e,n,b]);const j=(N,R)=>{m($=>{const z={...$,[N]:R};return N==="theme"&&F0(R),x(!0),z})},D=()=>{const N={...lu,...f,sectionOrder:c};try{typeof window<"u"&&window.localStorage.removeItem("settings_v1")}catch{}r(N),N.theme&&F0(N.theme),i(!0),y(" "),x(!1),t()},O=N=>{const{destination:R,source:$}=N;if(!R||R.index===$.index)return;const z=Array.from(c),[G]=z.splice($.index,1);z.splice(R.index,0,G),d(z)},M=N=>{switch(N){case"theme":return _.jsx(no,{title:"",children:_.jsx(Qae,{value:f.theme??"dark",onChange:R=>j("theme",R)})});case"hiddenStem":return _.jsx(no,{title:"  ",children:_.jsx(_d,{value:f.hiddenStem,onChange:R=>j("hiddenStem",R),options:[{label:"",value:"all"},{label:" ",value:"regular"}]})});case"hiddenStemMode":return _.jsx(no,{title:" ",children:_.jsx(_d,{value:f.hiddenStemMode,onChange:R=>j("hiddenStemMode",R),options:[{label:"",value:"classic"},{label:"",value:"hgc"}]})});case"sinsalMode":return _.jsx(no,{title:"",children:_.jsx(_d,{value:f.sinsalMode,onChange:R=>j("sinsalMode",R),options:[{label:"",value:"classic"},{label:"",value:"modern"}]})});case"sinsalBase":return _.jsx(no,{title:"",children:_.jsx(_d,{value:f.sinsalBase,onChange:R=>j("sinsalBase",R),options:[{label:"",value:""},{label:"",value:""}]})});case"sinsalBloom":return _.jsx(no,{title:" ",children:_.jsx(Kc,{label:" ",checked:!!f.sinsalBloom,onChange:R=>j("sinsalBloom",R)})});case"exposure":return _.jsx(no,{title:" ",children:_.jsx(_d,{value:f.exposure,onChange:R=>j("exposure",R),options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})});case"charType":return _.jsx(no,{title:" ",children:_.jsx(_d,{value:f.charType,onChange:R=>j("charType",R),options:[{label:"",value:""},{label:"",value:""}]})});case"thinEum":return _.jsx(no,{title:" ",children:_.jsx(Kc,{label:" ",checked:!!f.thinEum,onChange:R=>j("thinEum",R)})});case"visibility":return _.jsx(no,{title:" ",children:_.jsxs("div",{className:"space-y-2 w-full max-w-[180px] mx-auto",children:[_.jsx(Kc,{label:" ",checked:!!f.showSipSin,onChange:R=>j("showSipSin",R)}),_.jsx(Kc,{label:" ",checked:!!f.showSibiUnseong,onChange:R=>j("showSibiUnseong",R)}),_.jsx(Kc,{label:" ",checked:!!f.showSibiSinsal,onChange:R=>j("showSibiSinsal",R)}),_.jsx(Kc,{label:" ",checked:!!f.showNabeum,onChange:R=>j("showNabeum",R)})]})});case"difficultyMode":return _.jsx(no,{title:" UP ver.",children:_.jsx(Kc,{label:" UP ",checked:!!f.difficultyMode,onChange:R=>j("difficultyMode",R)})});default:return null}};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed inset-x-0 mx-auto w-full max-w-[640px] h-[88dvh] bg-white text-neutral-900 dark:bg-neutral-950 dark:text-white shadow-lg rounded-t-2xl transition-bottom duration-300 z-99 ${e?"bottom-0":"bottom-[-88dvh]"}`,children:[_.jsx("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200 dark:border-neutral-800",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"text-lg font-bold",children:""}),_.jsx("button",{onClick:D,className:"px-3 py-1 rounded bg-indigo-600 hover:bg-indigo-500 text-white text-sm cursor-pointer",children:""})]})}),e&&_.jsx(qm,{onDragEnd:O,children:_.jsx(cu,{droppableId:"settings-sections",children:N=>_.jsxs("ul",{ref:N.innerRef,...N.droppableProps,className:"flex flex-col gap-2 p-4 overflow-y-auto max-h-[80dvh] list-none",children:[c.map((R,$)=>_.jsx(Vd,{draggableId:R,index:$,children:z=>_.jsxs("li",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,className:"!flex justify-between items-center bg-white dark:bg-neutral-800 p-2 rounded border text-sm desk:text-base select-none cursor-grab active:cursor-grabbing",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsx("div",{className:"flex-1 min-w-0",children:M(R)})]})},R)),N.placeholder]})})})]}),p&&_.jsx(XB,{message:p,onClose:T,ms:1800})]})}function Qae({value:e,onChange:t}){const n=e==="dark";return _.jsxs("button",{"data-no-drag":!0,onClick:()=>t(n?"light":"dark"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border text-sm cursor-pointer border-neutral-300 bg-white hover:bg-neutral-100 text-neutral-700 dark:border-neutral-700 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200",title:"/ ","aria-pressed":n,children:[_.jsx("span",{className:"inline-block w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all dark:bg-neutral-700"}),_.jsx("span",{children:n?"":""})]})}function no({title:e,children:t}){return _.jsxs("div",{className:"p-3 rounded-lg bg-neutral-50 border border-neutral-200 text-neutral-900 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-100 space-y-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-center",children:e}),_.jsx("div",{className:"flex justify-center",children:t})]})}function _d({value:e,onChange:t,options:n}){return _.jsx("div",{"data-no-drag":!0,className:"inline-flex rounded-md overflow-hidden border border-neutral-300 bg-white dark:border-neutral-700 dark:bg-neutral-800",onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:n.map(r=>{const i=e===r.value;return _.jsx("button",{type:"button",onClick:()=>t(r.value),className:`px-3 py-1 text-sm transition-colors ${i?"bg-indigo-600 text-white":"text-neutral-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-700 cursor-pointer"}`,children:r.label},r.value)})})}function Kc({label:e,checked:t,onChange:n}){const r=`switch-${e}`;return _.jsxs("label",{"data-no-drag":!0,htmlFor:r,className:"flex items-center justify-between w-full max-w-[180px] text-sm cursor-pointer",children:[_.jsx("span",{children:e}),_.jsx("input",{id:r,type:"checkbox",checked:t,onChange:i=>n(i.target.checked),className:"peer hidden"}),_.jsx("span",{className:"w-10 h-5 bg-neutral-300 rounded-full relative after:content-[''] after:w-4 after:h-4 after:bg-white after:rounded-full after:absolute after:top-0.5 after:left-0.5 after:transition-all peer-checked:bg-green-600 peer-checked:after:translate-x-5 dark:bg-neutral-700 dark:peer-checked:bg-green-600"})]})}function eoe({onShowToday:e,onShowCouple:t}){const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),d=async()=>{if(!i){a(!0);try{await Ke.auth.signOut(),window.location.reload()}catch(f){console.error(f),alert(" .  ."),a(!1)}}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed min-w-[320px] h-[64px] bottom-0 left-0 right-0 bg-white border-t border-neutral-200 py-2 text-xs sm:text-sm z-50 dark:bg-neutral-950 dark:border-neutral-800",children:_.jsxs("nav",{className:"flex justify-around items-center max-w-[640px] w-full mx-auto",children:[_.jsx(y0,{icon:_.jsx(Pae,{size:22}),label:" ",onClick:e}),_.jsx(y0,{icon:_.jsx(Mae,{size:22}),label:"",onClick:t}),_.jsx(y0,{icon:_.jsx(Hae,{size:22}),label:"",onClick:()=>r(!0)}),_.jsx(y0,{icon:_.jsx(Lae,{size:22}),label:"",onClick:()=>c(!0),disabled:i})]})}),_.jsx(Jae,{open:n,onClose:()=>r(!1)}),s&&_.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 p-6 rounded-xl shadow-xl",onClick:f=>f.stopPropagation(),children:[_.jsx("h3",{className:"text-lg font-bold mb-4",children:" ?"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-neutral-200 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 cursor-pointer",onClick:()=>c(!1),children:""}),_.jsx("button",{type:"button",className:"flex-1 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 cursor-pointer",onClick:()=>{c(!1),d()},children:""})]})]})})]})}function y0({icon:e,label:t,onClick:n,disabled:r}){return _.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center text-neutral-600 hover:text-purple-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed dark:text-neutral-300 dark:hover:text-purple-400",children:[e,_.jsx("span",{className:"mt-1",children:t})]})}function toe(e,t){const[n,r]=A.useState(()=>{if(typeof window>"u")return{};try{const z=localStorage.getItem(KC);return z?JSON.parse(z):{}}catch{return{}}});A.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem(KC,JSON.stringify(n))}catch{}},[n]);const[i,a]=A.useState({}),[s,c]=A.useState({}),[d,f]=A.useState(""),[m,p]=A.useState(!1),[y,b]=A.useState(()=>{const z=nv(),G=rv();return G.length?Yh(z,G):z}),x=A.useRef(!1),T=A.useRef(!1);A.useEffect(()=>{(async()=>{if(m)return;const{data:{user:G},error:V}=await Ke.auth.getUser();if(V||!G)return;try{if(!T.current){const{data:J,error:ae}=await Ke.from("user_custom_folders").select("folder_name").eq("user_id",G.id);if(ae?.code==="PGRST205")T.current=!0;else if(!ae&&J){const ne=J.map(ce=>ce.folder_name?ce.folder_name.trim():"").filter(ce=>ce!=="");aA(ne)}else ae&&console.error("load custom folders from server error:",ae)}}catch(J){console.error("load custom folders exception:",J)}const{data:H,error:U}=await Ke.from("user_folder_order").select("folder_name, sort_order").eq("user_id",G.id).order("sort_order",{ascending:!0,nullsFirst:!0});if(U){console.error("load folder order from server error:",U),p(!0);return}const Z=nv(),re=(H??[]).map(J=>J.folder_name?String(J.folder_name):"").filter(J=>J.trim()!==""),ve=re.length?Yh(Z,re):Yh(Z,rv());b(ve),re.length&&Cd(re),p(!0)})()},[m]);const E=A.useCallback(async z=>{const{data:{user:G},error:V}=await Ke.auth.getUser();if(V||!G)return;const H=z.filter(Z=>typeof Z=="string"&&Z.trim()!=="").map((Z,re)=>({user_id:G.id,folder_name:Z.trim(),sort_order:re+1,updated_at:new Date().toISOString()}));if(!H.length){await Ke.from("user_folder_order").delete().eq("user_id",G.id);return}const{error:U}=await Ke.from("user_folder_order").upsert(H,{onConflict:"user_id,folder_name"});U&&console.error("save folder order to server error:",U)},[]),j=A.useCallback(async z=>{if(T.current)return;const{data:{user:G},error:V}=await Ke.auth.getUser();if(V||!G)return;const{error:H}=await Ke.from("user_custom_folders").upsert({user_id:G.id,folder_name:z,updated_at:new Date().toISOString()});H&&(H.code==="PGRST205"?T.current=!0:console.error("save custom folder error:",H))},[]),D=A.useCallback(async z=>{if(T.current)return;const{data:{user:G},error:V}=await Ke.auth.getUser();if(V||!G)return;const{error:H}=await Ke.from("user_custom_folders").delete().eq("user_id",G.id).eq("folder_name",z);H&&(H.code==="PGRST205"?T.current=!0:console.error("delete custom folder error:",H))},[]);A.useEffect(()=>{if(typeof window>"u")return;const z=()=>{if(x.current){x.current=!1;return}const G=nv(),V=rv(),H=V.length?Yh(G,V):G;b(H)};return window.addEventListener(gu,z),()=>window.removeEventListener(gu,z)},[]),A.useEffect(()=>{a(z=>{const G={...z};for(const V of y)G[V]===void 0&&(G[V]=!0);return G})},[y]);const{grouped:O,unassignedItems:M}=A.useMemo(()=>{const z={};y.forEach(H=>{z[H]=[]});const G=[],V=new Set;for(const H of e){if(!H.id||V.has(H.id))continue;const U=H.folder;U&&y.includes(U)?z[U].push(H):G.push(H),V.add(H.id)}return{grouped:z,unassignedItems:G}},[e,y]),N=A.useCallback(z=>{const{source:G,destination:V,type:H}=z;if(!V||H!=="FOLDER")return;const U=G.index,Z=V.index;U!==Z&&b(re=>{if(!re.length)return re;const ve=[...re],[J]=ve.splice(U,1);return ve.splice(Z,0,J),x.current=!0,Cd(ve),E(ve),ve})},[E]);return{folderFavMap:n,setFolderFavMap:r,folderOpenMap:i,setFolderOpenMap:a,memoOpenMap:s,setMemoOpenMap:c,newFolderName:d,setNewFolderName:f,orderedFolders:y,grouped:O,unassignedItems:M,handleDragEnd:N,createFolder:z=>{const G=z.trim();!G||G===On||(ZB(G),j(G),b(V=>{if(V.includes(G))return V;const H=[...V,G];return Cd(H),E(H),E(H),H}))},deleteFolder:z=>{e.forEach(G=>{G.folder===z&&t(G.id,{folder:void 0})}),r(G=>{const V={...G};return delete V[z],V}),b(G=>{const V=G.filter(H=>H!==z);return Cd(V),E(V),E(V),(async()=>{const{data:{user:H},error:U}=await Ke.auth.getUser();U||!H||await Ke.from("user_folder_order").delete().eq("user_id",H.id).eq("folder_name",z)})(),V}),KB.includes(z)?MJ(z):(CJ(z),D(z))},UNASSIGNED_LABEL:On}}function hD(e,t){if(!/^\d{8}$/.test(e))return e||"";const n=e.slice(0,4),r=e.slice(4,6),i=e.slice(6,8);return t&&/^\d{4}$/.test(t)?`${n} ${r} ${i} ${t.slice(0,2)}:${t.slice(2,4)}`:t===""?`${n} ${r} ${i} ( )`:`${n} ${r} ${i}`}function noe(e){if(!e)return"";const t=e.split(/[\s,]+/).filter(Boolean);if(t.length===0)return"";const n=s=>t.find(c=>s.some(d=>c.endsWith(d))),r=n(["","",""]),i=n(["","","",""]);return t.length===1||!n(["","","","","","",""])&&!n(["","","","",""])?e:r&&i?`${r} ${i}`:r||e}function cE(e){return(e.ganji??"").replace(/\r\n/g,`
`).replace(/\s*null\s*/gi,"").trim()}function roe(e,t,n){if(n)return"";if((e??"").trim()){const a=new Date(t);return iE(a)}const i=t instanceof Date?t:new Date(t);return Number.isNaN(i.getTime())?"":iE(i)}const ioe="list:__unassigned__",aoe=e=>`list:${e}`,mD=e=>{if(!e.startsWith("list:"))return;const t=e.slice(5);return t==="__unassigned__"?void 0:t},ooe="myeoun:folder-updated",pD=()=>{typeof window>"u"||window.dispatchEvent(new Event(ooe))};function soe(e){const t=cE(e),n=String(e.birthDay??"").trim();if(!/^\d{8}$/.test(n))return t;const r=Number(n.slice(0,4)),i=Number(n.slice(4,6)),a=Number(n.slice(6,8));if(!Mv(r,i,a)||!e.birthTime||e.birthTime==="")return t;const s=Number(e.birthTime.slice(0,2)),c=e.birthTime.slice(2,4),d=s-1<0?23:s-1,f=String(d).padStart(2,"0")+c,m=e.corrected instanceof Date?e.corrected:new Date(e.corrected);if(Number.isNaN(m.getTime()))return t;new Date(m.getTime()-3600*1e3);const p=Yy({...e,birthTime:f});return cE({...e,...p})}function loe({open:e,onClose:t,onView:n,onAddNew:r,onEdit:i,onDeleteView:a}){const{list:s,remove:c,update:d,reorder:f}=ho(),{folderFavMap:m,setFolderFavMap:p,folderOpenMap:y,setFolderOpenMap:b,memoOpenMap:x,setMemoOpenMap:T,newFolderName:E,setNewFolderName:j,orderedFolders:D,grouped:O,unassignedItems:M,handleDragEnd:N,createFolder:R,deleteFolder:$,UNASSIGNED_LABEL:z}=toe(s,d),[G,V]=A.useState(""),[H,U]=A.useState("name"),Z=/\S/.test(G),{filteredUnassigned:re,filteredGrouped:ve,totalMatches:J}=A.useMemo(()=>{const B=Q=>Q.toLowerCase().replace(/\s+/g," ").trim();if(!Z)return{filteredUnassigned:M,filteredGrouped:O,totalMatches:M.length+Object.values(O).reduce((Q,de)=>Q+de.length,0)};const X=B(G),ee=Q=>{const de=String(Q.birthDay??"").trim();let we="",se="",Ne="";if(/^\d{8}$/.test(de))we=de.slice(0,4),se=de.slice(4,6),Ne=de.slice(6,8);else{const Be=new Date(de);if(!Number.isNaN(Be.getTime())){const ye=Be.getFullYear(),$e=Be.getMonth()+1,he=Be.getDate();we=String(ye).padStart(4,"0"),se=String($e).padStart(2,"0"),Ne=String(he).padStart(2,"0")}}const be=we&&se&&Ne?`${we}${se}${Ne}`:"",Le=we&&se&&Ne?`${we}-${se}-${Ne}`:"",Me=we&&se&&Ne?`${we}.${se}.${Ne}`:"",Ie=hD(Q.birthDay,Q.birthTime);return B([be,Le,Me,Ie].filter(Boolean).join(" "))},q=Q=>H==="name"?B(Q.name??"").includes(X):H==="ganji"?B(cE(Q)??"").includes(X):ee(Q).includes(X),W=M.filter(q),le={};let fe=W.length;for(const Q of D){const de=(O[Q]||[]).filter(q);le[Q]=de,fe+=de.length}return{filteredUnassigned:W,filteredGrouped:le,totalMatches:fe}},[G,H,Z,M,O,D]),ae=A.useRef(null),ne=A.useRef(null);A.useEffect(()=>{if(ne.current==null)return;const B=ae.current;B&&(B.scrollTop=ne.current,ne.current=null)},[s,D]);const ce=B=>({...B,transition:B?.transform?"transform 0.15s ease":"none"}),te=(B,X)=>{const ee=soe(B),q=noe(B.birthPlace?.name),W=`item:${B.id}`,le=!!x[B.id],fe=B.gender===""?"":B.gender===""?"":B.gender,Q=!B.birthTime||B.birthTime==="",de=roe(B.correctedLocal,B.corrected,Q),we=String(B.birthDay).trim();let se=NaN;if(/^\d{8}$/.test(we)){const Me=`${we.slice(0,4)}-${we.slice(4,6)}-${we.slice(6,8)}`,Ie=new Date(Me);Number.isNaN(Ie.getTime())||(se=Ie.getFullYear())}else{const Me=new Date(we);Number.isNaN(Me.getTime())||(se=Me.getFullYear())}function Ne(Me,Ie){return Number.isNaN(Me)?0:Ie-Me+1}const be=new Date().getFullYear(),Le=Ne(se,be);return _.jsx(Vd,{draggableId:W,index:X,isDragDisabled:Z,children:Me=>_.jsx("li",{ref:Me.innerRef,...Me.draggableProps,...Me.dragHandleProps,style:ce(Me.draggableProps.style),className:`list-none select-none rounded-xl border
                       bg-white dark:bg-neutral-900
                       border-neutral-200 dark:border-neutral-800
                       text-neutral-900 dark:text-neutral-100
                       cursor-grab active:cursor-grabbing`,children:_.jsxs("div",{className:"p-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("div",{className:"font-semibold text-sm desk:text-base",children:[B.name," (",Le,", ",fe,")"]}),_.jsx("span",{className:"opacity-40",children:""}),_.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:B.relationship?B.relationship:" "}),_.jsx("span",{className:"ml-auto opacity-50 select-none",children:""})]}),_.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-300 mt-1",children:[hD(B.birthDay,B.birthTime),","," ",B.calendarType==="lunar"?"":""]}),(q||de)&&_.jsxs("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[q,de&&_.jsxs("span",{className:"opacity-70",children:[" "," "," ",Q?"":de]})]}),ee&&_.jsx("div",{className:"text-sm text-neutral-800 dark:text-neutral-200 mt-1 whitespace-pre-wrap break-keep",children:ee}),B.memo&&B.memo.trim()!==""&&_.jsxs("div",{children:[_.jsx("button",{type:"button",className:"text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 inline-flex items-center gap-1 cursor-pointer",onClick:Ie=>{Ie.stopPropagation(),T(Be=>({...Be,[B.id]:!Be[B.id]}))},children:le?" ":" "}),_.jsx("div",{className:le?"mt-1 text-sm text-neutral-800 dark:text-neutral-200 whitespace-pre-wrap":"hidden",children:B.memo})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[_.jsx("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:B.folder??z,onClick:Ie=>Ie.stopPropagation(),onChange:Ie=>{Ie.stopPropagation();const Be=Ie.target.value,ye=Be===z?void 0:Be;d(B.id,{folder:ye})},children:[z,...D].map(Ie=>_.jsx("option",{value:Ie,children:Ie},Ie))}),_.jsxs("select",{className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,value:B.mingSikType??"/",onClick:Ie=>Ie.stopPropagation(),onChange:Ie=>{Ie.stopPropagation();const Be=Ie.target.value,ye={...B,mingSikType:Be},$e=Yy(ye);d(B.id,{mingSikType:Be,...$e}),n({...ye,...$e}),t()},children:[_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"/",children:"/"}),_.jsx("option",{value:"",children:""})]})]}),_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),n(B),t()},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-indigo-600 hover:bg-indigo-500`,children:""}),_.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),i?.(B)},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-amber-600 hover:bg-amber-500`,children:""}),_.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),confirm(`'${B.name}'  ?`)&&(c(B.id),a&&a())},className:`px-3 py-1 rounded text-white text-sm cursor-pointer
                             bg-red-600 hover:bg-red-500`,children:""}),_.jsx("button",{type:"button",onClick:Ie=>{Ie.stopPropagation();const Be=!B.favorite;d(B.id,{favorite:Be});const ye=B.folder??"__unassigned__",$e={__unassigned__:[]};D.forEach(ze=>{$e[ze]=[]}),s.forEach(ze=>{const He=ze.folder??"__unassigned__";$e[He]||($e[He]=[]),$e[He].push(ze)});const ge=($e[ye]??[]).filter(ze=>ze.id!==B.id);Be?$e[ye]=[{...B,favorite:Be},...ge]:$e[ye]=[...ge,{...B,favorite:Be}];const Ue=[...$e.__unassigned__,...D.flatMap(ze=>$e[ze]??[])];f(Ue)},className:`ml-auto p-1 rounded cursor-pointer ${B.favorite?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(fD,{size:16,fill:B.favorite?"currentColor":"none"})})]})]})})},W)},Y=B=>{const{type:X,source:ee,destination:q,draggableId:W}=B;if(!q||Z)return;const le=ae.current;if(le&&(ne.current=le.scrollTop),X==="FOLDER"){N(B);return}if(X==="ITEM"){if(!W.replace(/^item:/,""))return;const Q=mD(ee.droppableId),de=mD(q.droppableId),we=Q??"__unassigned__",se=de??"__unassigned__",Ne={__unassigned__:[...M]};D.forEach(ye=>{Ne[ye]=[...O[ye]||[]]});const be=Ne[we]??[];if(!be[ee.index])return;const[Le]=be.splice(ee.index,1),Me={...Le,folder:de??void 0},Ie=Ne[se]??[];Ie.splice(q.index,0,Me),Ne[we]=be,Ne[se]=Ie;const Be=[...Ne.__unassigned__,...D.flatMap(ye=>Ne[ye]??[])];f(Be)}};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:`fixed inset-0 bg-black/70 transition-opacity duration-300 z-90 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),_.jsxs("div",{className:`fixed top-0 left-0 h-[100dvh] min-w-[320px] w-full desk:w-1/3
                    bg-white dark:bg-neutral-950
                    text-neutral-900 dark:text-white
                    shadow-lg z-99 transition-[left] duration-300
                    overflow-hidden
                    ${e?"left-0":"left-[-100%]"}`,children:[_.jsxs("div",{className:"flex justify-between items-center w-full h-12 desk:h-16 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[_.jsx("h2",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:()=>{r(),t()},className:`inline-flex items-center gap-1 px-3 py-1.5 rounded text-sm cursor-pointer
                         bg-purple-600 hover:bg-purple-500 text-white`,children:[_.jsx(zae,{size:16})," "]}),_.jsx("button",{onClick:t,className:"p-1 rounded cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-900",children:_.jsx(J5,{size:22})})]})]}),_.jsx(qm,{onDragEnd:Y,children:_.jsxs("div",{ref:ae,className:"p-4 h-[calc(100%-56px)] overflow-y-auto overscroll-contain",style:{touchAction:"pan-y"},children:[_.jsx("div",{className:"mb-3 sticky top-[-16px] z-10 pb-2 pt-2 bg-white dark:bg-neutral-950 z-50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{value:H,onChange:B=>U(B.target.value),className:`h-30 text-xs rounded px-2 py-1 cursor-pointer
                             bg-white dark:bg-neutral-900
                             border border-neutral-300 dark:border-neutral-700
                             text-neutral-900 dark:text-neutral-100
                             focus:outline-none focus:ring-2 focus:ring-amber-500/40`,children:[_.jsx("option",{value:"name",children:""}),_.jsx("option",{value:"ganji",children:""}),_.jsx("option",{value:"birth",children:""})]}),_.jsxs("div",{className:"relative flex-1",children:[_.jsx("input",{type:"text",value:G,onChange:B=>V(B.target.value),placeholder:H==="name"?" ":H==="ganji"?"  (: )":"  (: 19961229, 1996-12-29)",className:`w-full pl-7 pr-8 py-1 h-30 rounded
                               bg-white dark:bg-neutral-900
                               border border-neutral-300 dark:border-neutral-700
                               text-[16px] text-neutral-900 dark:text-neutral-100
                               placeholder-neutral-400 dark:placeholder-neutral-500
                               focus:outline-none focus:ring-2 focus:ring-amber-500/40`}),G&&_.jsx("button",{type:"button",onClick:()=>V(""),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-60 hover:opacity-100","aria-label":" ",title:" ",children:_.jsx(Nae,{size:16})})]}),Z&&_.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:[J,""]})]})}),_.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[_.jsx("input",{type:"text",value:E,onChange:B=>j(B.target.value),placeholder:"  ",className:`flex-1 w-[60%] px-2 py-1 rounded h-30
                           bg-white dark:bg-neutral-900
                           border border-neutral-300 dark:border-neutral-700
                           text-sm text-neutral-900 dark:text-neutral-100
                           placeholder-neutral-400 dark:placeholder-neutral-500`,onClick:B=>B.stopPropagation()}),_.jsx("button",{type:"button",className:`px-3 rounded h-30 text-sm cursor-pointer
                           bg-neutral-100 hover:bg-neutral-200
                           dark:bg-neutral-800 dark:hover:bg-neutral-700
                           text-neutral-900 dark:text-neutral-100
                           border border-neutral-200 dark:border-neutral-700`,onClick:B=>{B.stopPropagation();const X=E.trim();X&&(R(X),j(""),pD())},children:""})]}),_.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:Z?"   .":"/      ."}),_.jsx(cu,{droppableId:ioe,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:B=>{const X=re;return _.jsx("div",{ref:B.innerRef,...B.droppableProps,className:"mb-6",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[X.map((ee,q)=>te(ee,q)),B.placeholder]})})}}),_.jsx(cu,{droppableId:"folders:root",type:"FOLDER",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:B=>_.jsxs("div",{ref:B.innerRef,...B.droppableProps,children:[D.map((X,ee)=>{const q=aoe(X),W=ve[X]||[],le=!!y[X],fe=!!m[X];return _.jsx(Vd,{draggableId:`folder-${X}`,index:ee,isDragDisabled:Z,children:Q=>_.jsxs("div",{ref:Q.innerRef,...Q.draggableProps,...Q.dragHandleProps,className:"mb-4 cursor-grab active:cursor-grabbing select-none",children:[_.jsxs("div",{className:`flex items-center justify-between px-2 py-2 rounded
                                         bg-neutral-50 dark:bg-neutral-900/70
                                         border border-neutral-200 dark:border-neutral-800
                                         text-neutral-800 dark:text-neutral-200`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:de=>{de.stopPropagation(),b(we=>({...we,[X]:!le}))},className:"inline-flex items-center gap-1 text-sm font-semibold cursor-pointer",children:[le?_.jsx(Oae,{size:16}):_.jsx(Tae,{size:16}),_.jsx("span",{className:"text-sm font-semibold",children:X})]}),_.jsx("button",{type:"button",onClick:de=>{de.stopPropagation(),p(we=>({...we,[X]:!we[X]}))},className:`p-1 rounded cursor-pointer ${fe?"text-yellow-400":"text-neutral-400"} hover:text-yellow-400`,children:_.jsx(fD,{size:16,fill:fe?"currentColor":"none"})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"opacity-60 text-xs",children:[W.length,""]}),_.jsx("button",{type:"button",onClick:de=>{if(de.stopPropagation(),m[X]){alert(`'${X}'    .
   .`);return}confirm(`'${X}'  ?
(   )`)&&($(X),pD())},className:`px-2 py-1 rounded text-xs cursor-pointer
                                             border border-red-300 dark:border-red-700
                                             text-red-700 dark:text-red-300
                                             hover:bg-red-50 dark:hover:bg-red-900/30`,children:""})]})]}),le&&_.jsx(cu,{droppableId:q,type:"ITEM",direction:"vertical",ignoreContainerClipping:!0,isDropDisabled:Z,children:de=>_.jsx("div",{ref:de.innerRef,...de.droppableProps,className:"mt-2",children:_.jsxs("ul",{className:"flex flex-col gap-2",children:[W.map((we,se)=>te(we,se)),de.placeholder]})})})]})},`folder-${X}`)}),B.placeholder]})})]})})]})]})}const gD="ms_folders",Hw="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",coe="w-full rounded p-2 border transition-colors duration-200 bg-white text-neutral-900 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:focus:ring-violet-400",uoe="w-full rounded p-2 border min-h-28 transition-colors duration-200 bg-white text-neutral-900 placeholder-neutral-400 border-neutral-300 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder-neutral-500 dark:border-neutral-700 dark:focus:ring-violet-400",gs="block text-sm mb-1 font-medium text-neutral-800 dark:text-neutral-200",doe="text-xs text-neutral-500 dark:text-neutral-400",b0="accent-violet-600 dark:accent-violet-400",vD="accent-violet-600 dark:accent-violet-400",rb="px-3 py-1.5 rounded text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900",foe=`${rb} bg-amber-600 text-white hover:bg-amber-500 dark:bg-amber-600 dark:hover:bg-amber-500 cursor-pointer`,hoe=`${rb} bg-red-600 text-white hover:bg-red-500 dark:bg-red-600 dark:hover:bg-red-500 cursor-pointer`,yD=`${rb} bg-neutral-800 text-white hover:bg-neutral-700 dark:bg-neutral-700 dark:hover:bg-neutral-600 cursor-pointer`,moe=`${rb} bg-green-600 text-white hover:bg-green-500 dark:bg-green-600 dark:hover:bg-green-500 cursor-pointer`;function poe({item:e,onClose:t}){const{list:n,update:r,remove:i}=ho(),[a,s]=A.useState(!1),[c,d]=A.useState({...e,calendarType:e.calendarType??"solar"}),[f,m]=A.useState(!e.birthTime||e.birthTime===""),[p,y]=A.useState(!e.birthPlace||e.birthPlace.name===""),b=A.useMemo(()=>["","","","","",""],[]),[x,T]=A.useState([]);A.useEffect(()=>{try{const N=JSON.parse(localStorage.getItem(gD)||"[]");Array.isArray(N)&&T(N)}catch{}},[]);const E=A.useMemo(()=>{const N=Array.from(new Set(n.map(z=>z.folder).filter(Boolean))),R=new Set([...b,...x,...N]),$=Array.from(R).sort((z,G)=>z.localeCompare(G));return[On,...$]},[n,x,b]),j=()=>{d({...e,calendarType:e.calendarType??"solar"}),m(!e.birthTime||e.birthTime===""),y(!e.birthPlace||e.birthPlace.name==="")},D=()=>{if(!c.name||c.name.trim()==="")return" .";if(!c.birthDay||!/^\d{8}$/.test(c.birthDay))return" YYYYMMDD  .";const N=Number(c.birthDay.slice(0,4)),R=Number(c.birthDay.slice(4,6)),$=Number(c.birthDay.slice(6,8));if(c.calendarType==="lunar")try{Jr(N,R,$)}catch(z){return z instanceof Error?z.message:"   ."}else{const z=new Date(N,R-1,$);if(z.getFullYear()!==N||z.getMonth()+1!==R||z.getDate()!==$)return"   ."}if(!f){if(!c.birthTime||!/^\d{4}$/.test(c.birthTime))return"  00002359 (4) .";const z=Number(c.birthTime.slice(0,2)),G=Number(c.birthTime.slice(2,4));if(z<0||z>23||G<0||G>59)return"  00002359  ."}return!p&&!c.birthPlace?"   '' .":null},O=()=>{const N=D();if(N){alert(N);return}const R=Number(c.birthDay.slice(0,4)),$=Number(c.birthDay.slice(4,6)),z=Number(c.birthDay.slice(6,8));let G=R,V=$,H=z;if(c.calendarType==="lunar"){const W=Jr(R,$,z);G=W.getFullYear(),V=W.getMonth()+1,H=W.getDate()}const U=f?4:Number((c.birthTime??"0430").slice(0,2)),Z=f?30:Number((c.birthTime??"0430").slice(2,4)),re=p||!c.birthPlace||c.birthPlace.lon===0?127.5:c.birthPlace.lon,ve=new Date(G,V-1,H,U,Z,0,0),J=!c.birthPlace||typeof c.birthPlace=="object"&&c.birthPlace.name==="",ae=Eu(ve,re,J),ce=pt(ae,re).charAt(0),Y=((W,le)=>{const Q=["","","","","","","","","",""].includes(W),de=(le??"")==="";return Q?de?"forward":"backward":de?"backward":"forward"})(ce,c.gender??""),B=uu(c.folder===On?void 0:c.folder),X={...e,name:(c.name??"").trim()||"",birthDay:c.birthDay,birthTime:f?"":c.birthTime??"0430",gender:c.gender??"",birthPlace:p?{name:"",lat:0,lon:127.5}:c.birthPlace??{name:"",lat:0,lon:127.5},relationship:c.relationship??"",memo:c.memo??"",folder:B,calendarType:c.calendarType??"solar",mingSikType:c.mingSikType??"/",DayChangeRule:(c.mingSikType??"/")===""?"":"",dir:Y,corrected:ae,correctedLocal:"",ganji:""},ee=Yy(X),q={...X,...ee};if(q.folder&&!b.includes(q.folder)&&!x.includes(q.folder)){const W=[...x,q.folder];T(W),localStorage.setItem(gD,JSON.stringify(W))}r(e.id,q),s(!1),t&&t()},M=()=>{confirm(`'${e.name}'  ?`)&&i(e.id)};return a?_.jsxs("div",{className:"space-y-4 max-h-[calc(90dvh_-_40px)] overflow-auto transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 p-4 rounded-xl",children:[_.jsx("h3",{className:"text-lg font-bold",children:" "}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("input",{className:Hw,value:c.name||"",onChange:N=>d({...c,name:N.target.value}),placeholder:""})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:gs,children:" (YYYYMMDD)"}),_.jsx("input",{className:Hw,value:c.birthDay||"",onChange:N=>d({...c,birthDay:N.target.value.replace(/\D/g,"").slice(0,8)}),inputMode:"numeric",maxLength:8,placeholder:": 19900101"}),_.jsxs("div",{className:"flex gap-4 mt-2 items-center justify-between",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:b0,name:"calendarType",checked:c.calendarType==="solar",onChange:()=>d({...c,calendarType:"solar"}),id:"editor_calendar_solar"}),_.jsx("label",{htmlFor:"editor_calendar_solar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:b0,name:"calendarType",checked:c.calendarType==="lunar",onChange:()=>d({...c,calendarType:"lunar"}),id:"editor_calendar_lunar"}),_.jsx("label",{htmlFor:"editor_calendar_lunar",className:"inline-flex items-center gap-1 text-sm text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),c.calendarType==="lunar"&&c.birthDay?.length===8&&_.jsx("span",{className:doe,children:(()=>{try{const N=Number(c.birthDay.slice(0,4)),R=Number(c.birthDay.slice(4,6)),$=Number(c.birthDay.slice(6,8)),z=Jr(N,R,$);return`  ${z.getFullYear()}-${String(z.getMonth()+1).padStart(2,"0")}-${String(z.getDate()).padStart(2,"0")}`}catch(N){const R=N instanceof Error?N.message:void 0;return`  ${R?`: ${R}`:""}`}})()})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:"  (HHMM)"}),_.jsx("input",{className:`${Hw} disabled:opacity-50`,value:f?"":c.birthTime||"",onChange:N=>d({...c,birthTime:N.target.value.replace(/\D/g,"").slice(0,4)}),inputMode:"numeric",maxLength:4,placeholder:": 1524",disabled:f}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:vD,checked:f,onChange:N=>m(N.target.checked),id:"editor_birthTimeX"}),_.jsx("label",{htmlFor:"editor_birthTimeX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:gs,children:" "}),_.jsx("div",{className:"flex gap-4 text-sm",children:["","/",""].map(N=>{const R=`editor_ming_${N}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:b0,name:"mingSikType",checked:(c.mingSikType??"")===N,onChange:()=>d({...c,mingSikType:N}),id:R}),_.jsx("label",{htmlFor:R,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:N})]},N)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("div",{className:"flex gap-4 text-sm",children:["",""].map(N=>{const R=`editor_gender_${N}`;return _.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx("input",{type:"radio",className:b0,name:"gender",value:N,checked:c.gender===N,onChange:$=>d({...c,gender:$.target.value}),id:R}),_.jsx("label",{htmlFor:R,className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:N})]},N)})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:" "}),_.jsx(M$,{onSelect:N=>d({...c,birthPlace:N}),value:p?"":c.birthPlace?.name??""}),_.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",className:vD,checked:p,onChange:N=>y(N.target.checked),id:"editor_birthPlaceX"}),_.jsx("label",{htmlFor:"editor_birthPlaceX",className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",children:""})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx(YB,{value:c.relationship||"",onChange:N=>d({...c,relationship:N})})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("select",{className:coe,value:c.folder??On,onChange:N=>{const R=N.target.value;d(R===On?{...c,folder:void 0}:{...c,folder:R})},children:E.map(N=>_.jsx("option",{value:N===On?On:N,children:N},N))})]}),_.jsxs("div",{children:[_.jsx("label",{className:gs,children:""}),_.jsx("textarea",{className:uoe,value:c.memo||"",onChange:N=>d({...c,memo:N.target.value}),placeholder:" "})]}),_.jsxs("div",{className:"flex gap-2 justify-end",children:[_.jsx("button",{className:yD,onClick:()=>{j(),s(!1)},children:""}),_.jsx("button",{className:moe,onClick:O,children:""})]})]}):_.jsxs("div",{className:"p-4 space-y-3 transition-colors duration-200 bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h3",{className:"text-lg font-bold",children:[" ",e.name," "]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:foe,onClick:()=>s(!0),children:""}),_.jsx("button",{className:hoe,onClick:M,children:""}),t&&_.jsx("button",{className:yD,onClick:t,children:""})]})]}),_.jsxs("div",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[_.jsxs("div",{children:[": ",e.gender]}),_.jsxs("div",{children:["/: ",e.birthDay," ",e.birthTime===""?"( )":e.birthTime,","," ",e.calendarType==="lunar"?"":""]}),_.jsxs("div",{children:[": ",e.correctedLocal||"-"]}),_.jsxs("div",{children:[": ",e.birthPlace?.name||"-"]}),_.jsxs("div",{children:[": ",e.relationship||"-"]}),_.jsxs("div",{children:[": ",e.folder??On]})]}),e.ganji&&_.jsx("div",{className:"text-sm text-red-500 whitespace-pre-wrap",children:e.ganji}),e.memo&&_.jsxs("div",{className:"text-sm whitespace-pre-wrap text-neutral-800 dark:text-neutral-200",children:[_.jsx("p",{className:"mb-1 font-semibold",children:""}),e.memo]})]})}function goe({children:e}){const t=Kl(),[n,r]=A.useState(!1),i=[{label:" ",href:"/admin/dashboard"},{label:"  ",href:"/admin/user"},{label:"  ",href:"/admin/logs"}];return _.jsxs("div",{className:"flex min-h-screen bg-neutral-950 text-white",children:[_.jsxs("aside",{className:`
          fixed top-0 left-0 h-full bg-neutral-900 border-r border-neutral-800 
          transition-all z-50

          desk:w-60 desk:translate-x-0
          ${n?"w-60 translate-x-0":"-translate-x-full"}
        `,children:[_.jsxs("div",{className:"p-4 font-bold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"desk:block hidden",children:""}),_.jsx("button",{className:"desk:hidden text-neutral-400 hover:text-white",onClick:()=>r(!1),children:""})]}),_.jsx("nav",{className:"mt-4 flex flex-col gap-1 px-2",children:i.map(a=>{const s=t.pathname.startsWith(a.href);return _.jsx("a",{href:a.href,className:`
                  block px-3 py-2 rounded-md text-sm
                  ${s?"bg-neutral-800 text-yellow-400":"text-neutral-300 hover:bg-neutral-800"}
                `,children:a.label},a.href)})})]}),_.jsxs("main",{className:"flex-1 flex flex-col desk:ml-60",children:[_.jsxs("header",{className:"h-14 border-b border-neutral-800 bg-neutral-900 flex items-center px-4 justify-between",children:[_.jsx("button",{className:"desk:hidden text-neutral-300",onClick:()=>r(!0),children:""}),_.jsx("div",{className:"font-semibold",children:" "}),_.jsx("button",{className:"text-sm text-neutral-400 hover:text-white cursor-pointer",onClick:()=>window.location.href="/#/",children:" "})]}),_.jsx("div",{className:"flex-1",children:e})]})]})}function voe(){const[e,t]=A.useState(null),[n,r]=A.useState(!0);return A.useEffect(()=>{(async()=>{const{data:a}=await Ke.auth.getUser(),s=a.user?.id;if(!s){t(null),r(!1);return}const{data:c}=await Ke.from("admin_roles").select("role").eq("user_id",s).maybeSingle();t(c?.role??null),r(!1)})()},[]),{role:e,loading:n}}function yoe({allow:e,children:t}){const{role:n,loading:r}=voe();return r?_.jsx("div",{className:"text-white p-6",children:"Checking permission..."}):!n||!e.includes(n)?_.jsx("div",{className:"text-red-400 p-6",children:" ."}):_.jsx(_.Fragment,{children:t})}function e4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=e4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=e4(e))&&(r&&(r+=" "),r+=t);return r}var boe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function OA(e){if(typeof e!="string")return!1;var t=boe;return t.includes(e)}var _oe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xoe=new Set(_oe);function t4(e){return typeof e!="string"?!1:xoe.has(e)}function n4(e){return typeof e=="string"&&e.startsWith("data-")}function go(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t4(n)||n4(n))&&(t[n]=e[n]);return t}function ib(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return go(t)}return typeof e=="object"&&!Array.isArray(e)?go(e):null}function Ba(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t4(n)||n4(n)||OA(n))&&(t[n]=e[n]);return t}function woe(e){return e==null?null:A.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var Soe=["children","width","height","viewBox","className","style","title","desc"];function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uE.apply(null,arguments)}function Eoe(e,t){if(e==null)return{};var n,r,i=Aoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r4=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:f}=e,m=Eoe(e,Soe),p=a||{width:r,height:i,x:0,y:0},y=pn("recharts-surface",s);return A.createElement("svg",uE({},Ba(m),{className:y,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),Toe=["children","className"];function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dE.apply(null,arguments)}function koe(e,t){if(e==null)return{};var n,r,i=Ooe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ooe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ho=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=koe(e,Toe),a=pn("recharts-layer",r);return A.createElement("g",dE({className:a},Ba(i),{ref:t}),n)}),joe=A.createContext(null);function In(e){return function(){return e}}const fE=Math.PI,hE=2*fE,Jc=1e-6,Noe=hE-Jc;function i4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Coe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return i4;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Moe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?i4:Coe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-t,f=i-n,m=s-t,p=c-n,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Jc)if(!(Math.abs(p*d-f*m)>Jc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-s,x=i-c,T=d*d+f*f,E=b*b+x*x,j=Math.sqrt(T),D=Math.sqrt(y),O=a*Math.tan((fE-Math.acos((T+y-E)/(2*j*D)))/2),M=O/D,N=O/j;Math.abs(M-1)>Jc&&this._append`L${t+M*m},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*b>m*x)},${this._x1=t+N*d},${this._y1=n+N*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=t+c,m=n+d,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Jc||Math.abs(this._y1-m)>Jc)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%hE+hE),y>Noe?this._append`A${r},${r},0,1,${p},${t-c},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=m}`:y>Jc&&this._append`A${r},${r},0,${+(y>=fE)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function a4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Moe(t)}function jA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o4(e){this._context=e}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ab(e){return new o4(e)}function s4(e){return e[0]}function l4(e){return e[1]}function c4(e,t){var n=In(!0),r=null,i=ab,a=null,s=a4(c);e=typeof e=="function"?e:e===void 0?s4:In(e),t=typeof t=="function"?t:t===void 0?l4:In(t);function c(d){var f,m=(d=jA(d)).length,p,y=!1,b;for(r==null&&(a=i(b=s())),f=0;f<=m;++f)!(f<m&&n(p=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(p,f,d),+t(p,f,d));if(b)return a=null,b+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:In(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:In(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:In(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function _0(e,t,n){var r=null,i=In(!0),a=null,s=ab,c=null,d=a4(f);e=typeof e=="function"?e:e===void 0?s4:In(+e),t=typeof t=="function"?t:In(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?l4:In(+n);function f(p){var y,b,x,T=(p=jA(p)).length,E,j=!1,D,O=new Array(T),M=new Array(T);for(a==null&&(c=s(D=d())),y=0;y<=T;++y){if(!(y<T&&i(E=p[y],y,p))===j)if(j=!j)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),x=y-1;x>=b;--x)c.point(O[x],M[x]);c.lineEnd(),c.areaEnd()}j&&(O[y]=+e(E,y,p),M[y]=+t(E,y,p),c.point(r?+r(E,y,p):O[y],n?+n(E,y,p):M[y]))}if(D)return c=null,D+""||null}function m(){return c4().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:In(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:In(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:In(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:In(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:In(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:In(+p),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:In(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(c=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=c=null:c=s(a=p),f):a},f}class u4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Doe(e){return new u4(e,!0)}function Poe(e){return new u4(e,!1)}function Bv(){}function zv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function d4(e){this._context=e}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Roe(e){return new d4(e)}function f4(e){this._context=e}f4.prototype={areaStart:Bv,areaEnd:Bv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Loe(e){return new f4(e)}function h4(e){this._context=e}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ioe(e){return new h4(e)}function m4(e){this._context=e}m4.prototype={areaStart:Bv,areaEnd:Bv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $oe(e){return new m4(e)}function bD(e){return e<0?-1:1}function _D(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(bD(a)+bD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function xD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Fw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function Uv(e){this._context=e}Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fw(this,this._t0,xD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fw(this,xD(this,n=_D(this,e,t)),n);break;default:Fw(this,this._t0,n=_D(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function p4(e){this._context=new g4(e)}(p4.prototype=Object.create(Uv.prototype)).point=function(e,t){Uv.prototype.point.call(this,t,e)};function g4(e){this._context=e}g4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Boe(e){return new Uv(e)}function zoe(e){return new p4(e)}function v4(e){this._context=e}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=wD(e),i=wD(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wD(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Uoe(e){return new v4(e)}function ob(e,t){this._context=e,this._t=t}ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Hoe(e){return new ob(e,.5)}function Foe(e){return new ob(e,0)}function Goe(e){return new ob(e,1)}function Jd(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qoe(e,t){return e[t]}function Yoe(e){const t=[];return t.key=e,t}function Koe(){var e=In([]),t=mE,n=Jd,r=qoe;function i(a){var s=Array.from(e.apply(this,arguments),Yoe),c,d=s.length,f=-1,m;for(const p of a)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(p,s[c].key,f,a)]).data=p;for(c=0,m=jA(t(s));c<d;++c)s[m[c]].index=c;return n(s,m),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:In(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:In(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?mE:typeof a=="function"?a:In(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Jd,i):n},i}function Woe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Jd(e,t)}}function Voe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}Jd(e,t)}}function Zoe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,f=0;c<s;++c){for(var m=e[t[c]],p=m[r][1]||0,y=m[r-1][1]||0,b=(p-y)/2,x=0;x<c;++x){var T=e[t[x]],E=T[r][1]||0,j=T[r-1][1]||0;b+=E-j}d+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Jd(e,t)}}var Gw={},qw={},SD;function Xoe(){return SD||(SD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(qw)),qw}var Yw={},ED;function y4(){return ED||(ED=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Yw)),Yw}var Kw={},AD;function NA(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Kw)),Kw}var Ww={},Vw={},TD;function Joe(){return TD||(TD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Vw)),Vw}var kD;function CA(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Joe(),n=NA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let c=0,d="",f="",m=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<s;){const p=i[c];f?p==="\\"&&c+1<s?(c++,d+=i[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,a.push(d),d=""):d+=p:p==="["?(m=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}e.toPath=r})(Ww)),Ww}var OD;function MA(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xoe(),n=y4(),r=NA(),i=CA();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?n.isDeepKey(d)?a(c,i.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function s(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=a})(Gw)),Gw}var Zw,jD;function Qoe(){return jD||(jD=1,Zw=MA().get),Zw}var ese=Qoe();const sb=Pi(ese);var Da=e=>e===0?0:e>0?1:-1,vo=e=>typeof e=="number"&&e!=+e,Cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!vo(e),Fo=e=>nt(e)||typeof e=="string",tse=0,ym=e=>{var t=++tse;return"".concat(e||"").concat(t)},ql=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return r;var a;if(Cs(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return vo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},b4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Io(e,t,n){return nt(e)&&nt(t)?e+n*(t-e):t}function _4(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):sb(r,t))===n)}var Br=e=>e===null||typeof e>"u",DA=e=>Br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nse(e){return e!=null}function Zm(){}var x4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,PA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{OA(i)&&(r[i]=(a=>n[i](n,a)))}),r},rse=(e,t,n)=>r=>(e(t,n,r),null),ise=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];OA(i)&&typeof a=="function"&&(r||(r={}),r[i]=rse(a,t,n))}),r};function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ase(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){ose(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ose(e,t,n){return(t=sse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sse(e){var t=lse(e,"string");return typeof t=="symbol"?t:t+""}function lse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(e,t){var n=ase({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}var Xw={},Jw={},CD;function cse(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(Jw)),Jw}var Qw={},MD;function w4(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Qw)),Qw}var e1={},t1={},n1={},DD;function use(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(n1)),n1}var PD;function RA(){return PD||(PD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=use();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(t1)),t1}var r1={},RD;function dse(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(r1)),r1}var LD;function fse(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA(),n=dse();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(e1)),e1}var i1={},a1={},ID;function hse(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MA();function n(r){return function(i){return t.get(i,r)}}e.property=n})(a1)),a1}var o1={},s1={},l1={},c1={},$D;function S4(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(c1)),c1}var u1={},BD;function E4(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(u1)),u1}var d1={},zD;function A4(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(d1)),d1}var UD;function mse(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S4(),n=E4(),r=A4();function i(m,p,y){return typeof y!="function"?i(m,p,()=>{}):a(m,p,function b(x,T,E,j,D,O){const M=y(x,T,E,j,D,O);return M!==void 0?!!M:a(x,T,b,O)},new Map)}function a(m,p,y,b){if(p===m)return!0;switch(typeof p){case"object":return s(m,p,y,b);case"function":return Object.keys(p).length>0?a(m,{...p},y,b):r.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function s(m,p,y,b){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,b);if(p instanceof Map)return c(m,p,y,b);if(p instanceof Set)return f(m,p,y,b);const x=Object.keys(p);if(m==null)return x.length===0;if(x.length===0)return!0;if(b?.has(p))return b.get(p)===m;b?.set(p,m);try{for(let T=0;T<x.length;T++){const E=x[T];if(!n.isPrimitive(m)&&!(E in m)||p[E]===void 0&&m[E]!==void 0||p[E]===null&&m[E]!==null||!y(m[E],p[E],E,m,p,b))return!1}return!0}finally{b?.delete(p)}}function c(m,p,y,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[x,T]of p.entries()){const E=m.get(x);if(y(E,T,x,m,p,b)===!1)return!1}return!0}function d(m,p,y,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const x=new Set;for(let T=0;T<p.length;T++){const E=p[T];let j=!1;for(let D=0;D<m.length;D++){if(x.has(D))continue;const O=m[D];let M=!1;if(y(O,E,T,m,p,b)&&(M=!0),M){x.add(D),j=!0;break}}if(!j)return!1}return!0}function f(m,p,y,b){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,b):!1}e.isMatchWith=i,e.isSetMatch=f})(l1)),l1}var HD;function T4(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mse();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(s1)),s1}var f1={},h1={},m1={},FD;function pse(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(m1)),m1}var p1={},GD;function k4(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(p1)),p1}var g1={},qD;function O4(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",x="[object Error]",T="[object DataView]",E="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",N="[object Int8Array]",R="[object Int16Array]",$="[object Int32Array]",z="[object BigInt64Array]",G="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=T,e.dateTag=c,e.errorTag=x,e.float32ArrayTag=G,e.float64ArrayTag=V,e.functionTag=p,e.int16ArrayTag=R,e.int32ArrayTag=$,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=D,e.uint32ArrayTag=O,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=j})(g1)),g1}var v1={},YD;function gse(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(v1)),v1}var KD;function j4(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pse(),n=k4(),r=O4(),i=E4(),a=gse();function s(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,b=new Map,x=void 0){const T=x?.(m,p,y,b);if(T!==void 0)return T;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const E=new Array(m.length);b.set(m,E);for(let j=0;j<m.length;j++)E[j]=c(m[j],j,y,b,x);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;b.set(m,E);for(const[j,D]of m)E.set(j,c(D,j,y,b,x));return E}if(m instanceof Set){const E=new Set;b.set(m,E);for(const j of m)E.add(c(j,void 0,y,b,x));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,E);for(let j=0;j<m.length;j++)E[j]=c(m[j],j,y,b,x);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,E),d(E,m,y,b,x),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return b.set(m,E),d(E,m,y,b,x),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return b.set(m,E),d(E,m,y,b,x),E}if(m instanceof Error){const E=new m.constructor;return b.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,d(E,m,y,b,x),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return b.set(m,E),d(E,m,y,b,x),E}if(m instanceof Number){const E=new Number(m.valueOf());return b.set(m,E),d(E,m,y,b,x),E}if(m instanceof String){const E=new String(m.valueOf());return b.set(m,E),d(E,m,y,b,x),E}if(typeof m=="object"&&f(m)){const E=Object.create(Object.getPrototypeOf(m));return b.set(m,E),d(E,m,y,b,x),E}return m}function d(m,p,y=m,b,x){const T=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<T.length;E++){const j=T[E],D=Object.getOwnPropertyDescriptor(m,j);(D==null||D.writable)&&(m[j]=c(p[j],j,y,b,x))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(h1)),h1}var WD;function vse(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(f1)),f1}var VD;function yse(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T4(),n=vse();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(o1)),o1}var y1={},b1={},_1={},ZD;function bse(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4(),n=O4();function r(i,a){return t.cloneDeepWith(i,(s,c,d,f)=>{const m=a?.(s,c,d,f);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(_1)),_1}var XD;function _se(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bse();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(b1)),b1}var x1={},w1={},JD;function N4(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(w1)),w1}var S1={},QD;function xse(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(S1)),S1}var eP;function wse(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y4(),n=N4(),r=xse(),i=CA();function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&s?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(x1)),x1}var tP;function Sse(){return tP||(tP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T4(),n=NA(),r=_se(),i=MA(),a=wse();function s(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const m=i.get(f,c);return m===void 0?a.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=s})(y1)),y1}var nP;function Ese(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w4(),n=hse(),r=yse(),i=Sse();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(i1)),i1}var rP;function Ase(){return rP||(rP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cse(),n=w4(),r=fse(),i=Ese();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(Xw)),Xw}var E1,iP;function Tse(){return iP||(iP=1,E1=Ase().uniqBy),E1}var kse=Tse();const aP=Pi(kse);function Ose(e,t,n){return t===!0?aP(e,n):typeof t=="function"?aP(e,t):e}var A1={exports:{}},T1={},k1={exports:{}},O1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function jse(){if(oP)return O1;oP=1;var e=of();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(p,y){var b=y(),x=r({inst:{value:b,getSnapshot:y}}),T=x[0].inst,E=x[1];return a(function(){T.value=b,T.getSnapshot=y,d(T)&&E({inst:T})},[p,b,y]),i(function(){return d(T)&&E({inst:T}),p(function(){d(T)&&E({inst:T})})},[p]),s(b),b}function d(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return O1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,O1}var sP;function Nse(){return sP||(sP=1,k1.exports=jse()),k1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function Cse(){if(lP)return T1;lP=1;var e=of(),t=Nse();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return T1.useSyncExternalStoreWithSelector=function(f,m,p,y,b){var x=a(null);if(x.current===null){var T={hasValue:!1,value:null};x.current=T}else T=x.current;x=c(function(){function j(R){if(!D){if(D=!0,O=R,R=y(R),b!==void 0&&T.hasValue){var $=T.value;if(b($,R))return M=$}return M=R}if($=M,r(O,R))return $;var z=y(R);return b!==void 0&&b($,z)?(O=R,$):(O=R,M=z)}var D=!1,O,M,N=p===void 0?null:p;return[function(){return j(m())},N===null?void 0:function(){return j(N())}]},[m,p,y,b]);var E=i(f,x[0],x[1]);return s(function(){T.hasValue=!0,T.value=E},[E]),d(E),E},T1}var cP;function Mse(){return cP||(cP=1,A1.exports=Cse()),A1.exports}var Dse=Mse(),LA=A.createContext(null),Pse=e=>e,Tr=()=>{var e=A.useContext(LA);return e?e.store.dispatch:Pse},iv=()=>{},Rse=()=>iv,Lse=(e,t)=>e===t;function at(e){var t=A.useContext(LA);return Dse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Rse,t?t.store.getState:iv,t?t.store.getState:iv,t?e:iv,Lse)}function Ise(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $se(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Bse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var uP=e=>Array.isArray(e)?e:[e];function zse(e){const t=Array.isArray(e[0])?e[0]:e;return Bse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Use(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Hse=class{constructor(e){this.value=e}deref(){return this.value}},Fse=typeof WeakRef<"u"?WeakRef:Hse,Gse=0,dP=1;function x0(){return{s:Gse,v:void 0,o:null,p:null}}function C4(e,t={}){let n=x0();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let c=n;const{length:d}=arguments;for(let p=0,y=d;p<y;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=c.o;x===null&&(c.o=x=new WeakMap);const T=x.get(b);T===void 0?(c=x0(),x.set(b,c)):c=T}else{let x=c.p;x===null&&(c.p=x=new Map);const T=x.get(b);T===void 0?(c=x0(),x.set(b,c)):c=T}}const f=c;let m;if(c.s===dP)m=c.v;else if(m=e.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,m)&&(m=p,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new Fse(m):m}return f.s=dP,f.v=m,m}return s.clearCache=()=>{n=x0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function qse(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),Ise(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:b=C4,argsMemoizeOptions:x=[]}=m,T=uP(y),E=uP(x),j=zse(i),D=p(function(){return a++,f.apply(null,arguments)},...T),O=b(function(){s++;const N=Use(j,arguments);return c=D.apply(null,N),c},...E);return Object.assign(O,{resultFunc:f,memoizedResultFunc:D,dependencies:j,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ke=qse(C4),Yse=Object.assign((e,t=ke)=>{$se(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>Yse}),j1={},N1={},C1={},fP;function Kse(){return fP||(fP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(C1)),C1}var M1={},D1={},hP;function M4(){return hP||(hP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(D1)),D1}var mP;function Wse(){return mP||(mP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(M1)),M1}var pP;function Vse(){return pP||(pP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kse(),n=Wse(),r=CA();function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const f=(b,x)=>{let T=b;for(let E=0;E<x.length&&T!=null;++E)T=T[x[E]];return T},m=(b,x)=>x==null||b==null?x:typeof b=="object"&&"key"in b?Object.hasOwn(x,b.key)?x[b.key]:f(x,b.path):typeof b=="function"?b(x):Array.isArray(b)?f(x,b):typeof x=="object"?x[b]:x,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(x=>m(x,b))})).slice().sort((b,x)=>{for(let T=0;T<p.length;T++){const E=t.compareValues(b.criteria[T],x.criteria[T],c[T]);if(E!==0)return E}return 0}).map(b=>b.original)}e.orderBy=i})(N1)),N1}var P1={},gP;function Zse(){return gP||(gP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<a?s(m,d+1):i.push(m)}};return s(n,0),i}e.flatten=t})(P1)),P1}var R1={},vP;function D4(){return vP||(vP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N4(),n=RA(),r=S4(),i=A4();function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],s):!1}e.isIterateeCall=a})(R1)),R1}var yP;function Xse(){return yP||(yP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vse(),n=Zse(),r=D4();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(j1)),j1}var L1,bP;function Jse(){return bP||(bP=1,L1=Xse().sortBy),L1}var Qse=Jse();const lb=Pi(Qse);var P4=e=>e.legend.settings,ele=e=>e.legend.size,tle=e=>e.legend.payload;ke([tle,P4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?lb(r,n):r});var w0=1;function nle(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>w0||Math.abs(s.left-t.left)>w0||Math.abs(s.top-t.top)>w0||Math.abs(s.width-t.width)>w0)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var R4=Symbol.for("immer-nothing"),_P=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function lo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ra=Object,Qd=ra.getPrototypeOf,Hv="constructor",cb="prototype",pE="configurable",Fv="enumerable",av="writable",bm="value",Ms=e=>!!e&&!!e[fi];function yo(e){return e?L4(e)||ub(e)||!!e[_P]||!!e[Hv]?.[_P]||db(e)||fb(e):!1}var rle=ra[cb][Hv].toString(),xP=new WeakMap;function L4(e){if(!e||!IA(e))return!1;const t=Qd(e);if(t===null||t===ra[cb])return!0;const n=ra.hasOwnProperty.call(t,Hv)&&t[Hv];if(n===Object)return!0;if(!jd(n))return!1;let r=xP.get(n);return r===void 0&&(r=Function.toString.call(n),xP.set(n,r)),r===rle}function Xm(e,t,n=!0){Jm(e)===0?(n?Reflect.ownKeys(e):ra.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Jm(e){const t=e[fi];return t?t.type_:ub(e)?1:db(e)?2:fb(e)?3:0}var wP=(e,t,n=Jm(e))=>n===2?e.has(t):ra[cb].hasOwnProperty.call(e,t),gE=(e,t,n=Jm(e))=>n===2?e.get(t):e[t],Gv=(e,t,n,r=Jm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function ile(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ub=Array.isArray,db=e=>e instanceof Map,fb=e=>e instanceof Set,IA=e=>typeof e=="object",jd=e=>typeof e=="function",I1=e=>typeof e=="boolean",_s=e=>e.copy_||e.base_,$A=e=>e.modified_?e.copy_:e.base_;function vE(e,t){if(db(e))return new Map(e);if(fb(e))return new Set(e);if(ub(e))return Array[cb].slice.call(e);const n=L4(e);if(t===!0||t==="class_only"&&!n){const r=ra.getOwnPropertyDescriptors(e);delete r[fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c[av]===!1&&(c[av]=!0,c[pE]=!0),(c.get||c.set)&&(r[s]={[pE]:!0,[av]:!0,[Fv]:c[Fv],[bm]:e[s]})}return ra.create(Qd(e),r)}else{const r=Qd(e);if(r!==null&&n)return{...e};const i=ra.create(r);return ra.assign(i,e)}}function BA(e,t=!1){return hb(e)||Ms(e)||!yo(e)||(Jm(e)>1&&ra.defineProperties(e,{set:S0,add:S0,clear:S0,delete:S0}),ra.freeze(e),t&&Xm(e,(n,r)=>{BA(r,!0)},!1)),e}function ale(){lo(2)}var S0={[bm]:ale};function hb(e){return e===null||!IA(e)?!0:ra.isFrozen(e)}var qv="MapSet",yE="Patches",I4={};function ef(e){const t=I4[e];return t||lo(0,e),t}var ole=e=>!!I4[e],_m,$4=()=>_m,sle=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ole(qv)?ef(qv):void 0});function SP(e,t){t&&(e.patchPlugin_=ef(yE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bE(e){_E(e),e.drafts_.forEach(lle),e.drafts_=null}function _E(e){e===_m&&(_m=e.parent_)}var EP=e=>_m=sle(_m,e);function lle(e){const t=e[fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fi].modified_&&(bE(t),lo(4)),yo(e)&&(e=TP(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fi].base_,e,t)}else e=TP(t,n);return cle(t,e,!0),bE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==R4?e:void 0}function TP(e,t){if(hb(t))return t;const n=t[fi];if(!n)return zA(t,e.handledSet_,e);if(!mb(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);U4(n,e)}return n.copy_}function cle(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BA(t,n)}function B4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mb=(e,t)=>e.scope_===t,ule=[];function z4(e,t,n,r){const i=_s(e),a=e.type_;if(r!==void 0&&gE(i,r,a)===t){Gv(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Xm(i,(d,f)=>{if(Ms(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const s=e.draftLocations_.get(t)??ule;for(const c of s)Gv(i,c,n,a)}function dle(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!mb(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=$A(a);z4(e,a.draft_??a,s,n),U4(a,i)})}function U4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}B4(e)}}function fle(e,t,n){const{scope_:r}=e;if(Ms(n)){const i=n[fi];mb(i,r)&&i.callbacks_.push(function(){ov(e);const s=$A(i);z4(e,n,s,t)})}else yo(n)&&e.callbacks_.push(function(){const a=_s(e);gE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zA(gE(e.copy_,t,e.type_),r.handledSet_,r)})}function zA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(e)||t.has(e)||!yo(e)||hb(e)||(t.add(e),Xm(e,(r,i)=>{if(Ms(i)){const a=i[fi];if(mb(a,n)){const s=$A(a);Gv(e,r,s,e.type_),B4(a)}}else yo(i)&&zA(i,t,n)})),e}function hle(e,t){const n=ub(e),r={type_:n?1:0,scope_:t?t.scope_:$4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=UA;n&&(i=[r],a=xm);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,[c,r]}var UA={get(e,t){if(t===fi)return e;const n=_s(e);if(!wP(n,t,e.type_))return mle(e,n,t);const r=n[t];if(e.finalized_||!yo(r))return r;if(r===$1(e.base_,t)){ov(e);const i=e.type_===1?+t:t,a=wE(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in _s(e)},ownKeys(e){return Reflect.ownKeys(_s(e))},set(e,t,n){const r=H4(_s(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=$1(_s(e),t),a=i?.[fi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(ile(n,i)&&(n!==void 0||wP(e.base_,t,e.type_)))return!0;ov(e),xE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),fle(e,t,n)),!0},deleteProperty(e,t){return ov(e),$1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_s(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[av]:!0,[pE]:e.type_!==1||t!=="length",[Fv]:r[Fv],[bm]:n[t]}},defineProperty(){lo(11)},getPrototypeOf(e){return Qd(e.base_)},setPrototypeOf(){lo(12)}},xm={};Xm(UA,(e,t)=>{xm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});xm.deleteProperty=function(e,t){return xm.set.call(this,e,t,void 0)};xm.set=function(e,t,n){return UA.set.call(this,e[0],t,n,e[0])};function $1(e,t){const n=e[fi];return(n?_s(n):e)[t]}function mle(e,t,n){const r=H4(t,n);return r?bm in r?r[bm]:r.get?.call(e.draft_):void 0}function H4(e,t){if(!(t in e))return;let n=Qd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qd(n)}}function xE(e){e.modified_||(e.modified_=!0,e.parent_&&xE(e.parent_))}function ov(e){e.copy_||(e.assigned_=new Map,e.copy_=vE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ple=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(jd(n)&&!jd(r)){const s=r;r=n;const c=this;return function(f=s,...m){return c.produce(f,p=>r.call(this,p,...m))}}jd(r)||lo(6),i!==void 0&&!jd(i)&&lo(7);let a;if(yo(n)){const s=EP(this),c=wE(s,n,void 0);let d=!0;try{a=r(c),d=!1}finally{d?bE(s):_E(s)}return SP(s,i),AP(a,s)}else if(!n||!IA(n)){if(a=r(n),a===void 0&&(a=n),a===R4&&(a=void 0),this.autoFreeze_&&BA(a,!0),i){const s=[],c=[];ef(yE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:c}),i(s,c)}return a}else lo(1,n)},this.produceWithPatches=(n,r)=>{if(jd(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let i,a;return[this.produce(n,r,(c,d)=>{i=c,a=d}),i,a]},I1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),I1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),I1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yo(t)||lo(8),Ms(t)&&(t=po(t));const n=EP(this),r=wE(n,t,void 0);return r[fi].isManual_=!0,_E(n),r}finishDraft(t,n){const r=t&&t[fi];(!r||!r.isManual_)&&lo(9);const{scope_:i}=r;return SP(i,n),AP(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ef(yE).applyPatches_;return Ms(t)?i(t,n):this.produce(t,a=>i(a,n))}};function wE(e,t,n,r){const[i,a]=db(t)?ef(qv).proxyMap_(t,n):fb(t)?ef(qv).proxySet_(t,n):hle(t,n);return(n?.scope_??$4()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?dle(n,a,r):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function po(e){return Ms(e)||lo(10,e),F4(e)}function F4(e){if(!yo(e)||hb(e))return e;const t=e[fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=vE(e,!0);return Xm(n,(i,a)=>{Gv(n,i,F4(a))},r),t&&(t.finalized_=!1),n}var gle=new ple,G4=gle.produce;function q4(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var vle=q4(),yle=q4,ble=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?om:om.apply(null,arguments)};function za(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(oa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>R$(r)&&r.type===e,n}var Y4=class Kh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kh.prototype)}static get[Symbol.species](){return Kh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kh(...t[0].concat(this)):new Kh(...t.concat(this))}};function kP(e){return yo(e)?G4(e,()=>{}):e}function E0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function _le(e){return typeof e=="boolean"}var xle=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Y4;return n&&(_le(n)?s.push(vle):s.push(yle(n.extraArgument))),s},K4="RTK_autoBatch",xn=()=>e=>({payload:e,meta:{[K4]:!0}}),OP=e=>t=>{setTimeout(t,e)},W4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OP(10):e.type==="callback"?e.queueNotification:OP(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),y=r.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[K4],a=!i,a&&(s||(s=!0,d(f))),r.dispatch(m)}finally{i=!0}}})},wle=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Y4(e);return r&&i.push(W4(typeof r=="object"?r:void 0)),i};function Sle(e){const t=xle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(C2(n))c=D$(n);else throw new Error(oa(1));let d;typeof r=="function"?d=r(t):d=t();let f=om;i&&(f=ble({trace:!1,...typeof i=="object"&&i}));const m=P$(...d),p=wle(m);let y=typeof s=="function"?s(p):p();const b=f(...y);return M2(c,a,b)}function V4(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(oa(28));if(c in t)throw new Error(oa(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Ele(e){return typeof e=="function"}function Ale(e,t){let[n,r,i]=V4(t),a;if(Ele(e))a=()=>kP(e());else{const c=kP(e);a=()=>c}function s(c=a(),d){let f=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[i]),f.reduce((m,p)=>{if(p)if(Ms(m)){const b=p(m,d);return b===void 0?m:b}else{if(yo(m))return G4(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return s.getInitialState=a,s}var Tle="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kle=(e=21)=>{let t="",n=e;for(;n--;)t+=Tle[Math.random()*64|0];return t},Ole=Symbol.for("rtk-slice-createasyncthunk");function jle(e,t){return`${e}/${t}`}function Nle({creators:e}={}){const t=e?.asyncThunk?.[Ole];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(oa(11));const s=(typeof r.reducers=="function"?r.reducers(Mle()):r.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,M){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(oa(12));if(N in d.sliceCaseReducersByType)throw new Error(oa(13));return d.sliceCaseReducersByType[N]=M,f},addMatcher(O,M){return d.sliceMatchers.push({matcher:O,reducer:M}),f},exposeAction(O,M){return d.actionCreators[O]=M,f},exposeCaseReducer(O,M){return d.sliceCaseReducersByName[O]=M,f}};c.forEach(O=>{const M=s[O],N={reducerName:O,type:jle(i,O),createNotation:typeof r.reducers=="function"};Ple(M)?Lle(N,M,f,t):Dle(N,M,f)});function m(){const[O={},M=[],N=void 0]=typeof r.extraReducers=="function"?V4(r.extraReducers):[r.extraReducers],R={...O,...d.sliceCaseReducersByType};return Ale(r.initialState,$=>{for(let z in R)$.addCase(z,R[z]);for(let z of d.sliceMatchers)$.addMatcher(z.matcher,z.reducer);for(let z of M)$.addMatcher(z.matcher,z.reducer);N&&$.addDefaultCase(N)})}const p=O=>O,y=new Map,b=new WeakMap;let x;function T(O,M){return x||(x=m()),x(O,M)}function E(){return x||(x=m()),x.getInitialState()}function j(O,M=!1){function N($){let z=$[O];return typeof z>"u"&&M&&(z=E0(b,N,E)),z}function R($=p){const z=E0(y,M,()=>new WeakMap);return E0(z,$,()=>{const G={};for(const[V,H]of Object.entries(r.selectors??{}))G[V]=Cle(H,$,()=>E0(b,$,E),M);return G})}return{reducerPath:O,getSelectors:R,get selectors(){return R(N)},selectSlice:N}}const D={name:i,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...j(a),injectInto(O,{reducerPath:M,...N}={}){const R=M??a;return O.inject({reducerPath:R,reducer:T},N),{...D,...j(R,!0)}}};return D}}function Cle(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var Ri=Nle();function Mle(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Dle({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Rle(r))throw new Error(oa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?za(e,s):za(e))}function Ple(e){return e._reducerDefinitionType==="asyncThunk"}function Rle(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Lle({type:e,reducerName:t},n,r,i){if(!i)throw new Error(oa(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:f,options:m}=n,p=i(e,a,m);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||A0,pending:c||A0,rejected:d||A0,settled:f||A0})}function A0(){}var Ile="task",Z4="listener",X4="completed",HA="cancelled",$le=`task-${HA}`,Ble=`task-${X4}`,SE=`${Z4}-${HA}`,zle=`${Z4}-${X4}`,pb=class{constructor(e){this.code=e,this.message=`${Ile} ${HA} (reason: ${e})`}name="TaskAbortError";message},FA=(e,t)=>{if(typeof e!="function")throw new TypeError(oa(32))},Yv=()=>{},J4=(e,t=Yv)=>(e.catch(t),e),Q4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),du=e=>{if(e.aborted)throw new pb(e.reason)};function e7(e,t){let n=Yv;return new Promise((r,i)=>{const a=()=>i(new pb(e.reason));if(e.aborted){a();return}n=Q4(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Yv})}var Ule=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof pb?"cancelled":"rejected",error:n}}finally{t?.()}},Kv=e=>t=>J4(e7(e,t).then(n=>(du(e),n))),t7=e=>{const t=Kv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hd}=Object,jP={},gb="listenerMiddleware",Hle=(e,t)=>{const n=r=>Q4(e,()=>r.abort(e.reason));return(r,i)=>{FA(r);const a=new AbortController;n(a);const s=Ule(async()=>{du(e),du(a.signal);const c=await r({pause:Kv(a.signal),delay:t7(a.signal),signal:a.signal});return du(a.signal),c},()=>a.abort(Ble));return i?.autoJoin&&t.push(s.catch(Yv)),{result:Kv(e)(s),cancel(){a.abort($le)}}}},Fle=(e,t)=>{const n=async(r,i)=>{du(t);let a=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});a=()=>{m(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await e7(t,Promise.race(c));return du(t),d}finally{a()}};return(r,i)=>J4(n(r,i))},n7=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=za(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(oa(21));return FA(a),{predicate:i,type:t,effect:a}},r7=Hd(e=>{const{type:t,predicate:n,effect:r}=n7(e);return{id:kle(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(oa(22))}}},{withTypes:()=>r7}),NP=(e,t)=>{const{type:n,effect:r,predicate:i}=n7(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},EE=e=>{e.pending.forEach(t=>{t.abort(SE)})},Gle=(e,t)=>()=>{for(const n of t.keys())EE(n);e.clear()},CP=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},i7=Hd(za(`${gb}/add`),{withTypes:()=>i7}),qle=za(`${gb}/removeAll`),a7=Hd(za(`${gb}/remove`),{withTypes:()=>a7}),Yle=(...e)=>{console.error(`${gb}/error`,...e)},Qm=(e={})=>{const t=new Map,n=new Map,r=b=>{const x=n.get(b)??0;n.set(b,x+1)},i=b=>{const x=n.get(b)??1;x===1?n.delete(b):n.set(b,x-1)},{extra:a,onError:s=Yle}=e;FA(s);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),x=>{b.unsubscribe(),x?.cancelActive&&EE(b)}),d=b=>{const x=NP(t,b)??r7(b);return c(x)};Hd(d,{withTypes:()=>d});const f=b=>{const x=NP(t,b);return x&&(x.unsubscribe(),b.cancelActive&&EE(x)),!!x};Hd(f,{withTypes:()=>f});const m=async(b,x,T,E)=>{const j=new AbortController,D=Fle(d,j.signal),O=[];try{b.pending.add(j),r(b),await Promise.resolve(b.effect(x,Hd({},T,{getOriginalState:E,condition:(M,N)=>D(M,N).then(Boolean),take:D,delay:t7(j.signal),pause:Kv(j.signal),extra:a,signal:j.signal,fork:Hle(j.signal,O),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((M,N,R)=>{M!==j&&(M.abort(SE),R.delete(M))})},cancel:()=>{j.abort(SE),b.pending.delete(j)},throwIfCancelled:()=>{du(j.signal)}})))}catch(M){M instanceof pb||CP(s,M,{raisedBy:"effect"})}finally{await Promise.all(O),j.abort(zle),i(b),b.pending.delete(j)}},p=Gle(t,n);return{middleware:b=>x=>T=>{if(!R$(T))return x(T);if(i7.match(T))return d(T.payload);if(qle.match(T)){p();return}if(a7.match(T))return f(T.payload);let E=b.getState();const j=()=>{if(E===jP)throw new Error(oa(23));return E};let D;try{if(D=x(T),t.size>0){const O=b.getState(),M=Array.from(t.values());for(const N of M){let R=!1;try{R=N.predicate(T,O,E)}catch($){R=!1,CP(s,$,{raisedBy:"predicate"})}R&&m(N,T,b,j)}}}finally{E=jP}return D},startListening:d,stopListening:f,clearListeners:p}};function oa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},o7=Ri({name:"chartLayout",initialState:Kle,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Wle,setLayout:Vle,setChartSize:Zle,setScale:Xle}=o7.actions,Jle=o7.reducer;function s7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){Qle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qle(e,t,n){return(t=ece(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t,n){return Br(e)||Br(t)?n:Fo(t)?sb(e,t,n):typeof t=="function"?t(e):n}var nce=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&nt(e[a]))return Rd(Rd({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&nt(e[s]))return Rd(Rd({},e),{},{[s]:e[s]+(i||0)})}return e},Bs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",l7=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},c7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:b}=e;if(!s)return null;var x=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,T=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(T=b==="angleAxis"&&a&&a.length>=2?Da(a[0]-a[1])*2*T:T,p||y){var E=(p||y||[]).map((j,D)=>{var O=r?r.indexOf(j):j;return{coordinate:s(O)+T,value:j,offset:T,index:D}});return E.filter(j=>!vo(j.coordinate))}return d&&f?f.map((j,D)=>({coordinate:s(j)+T,value:j,index:D,offset:T})):s.ticks&&m!=null?s.ticks(m).map((j,D)=>({coordinate:s(j)+T,value:j,offset:T,index:D})):s.domain().map((j,D)=>({coordinate:s(j)+T,value:r?r[j]:j,index:D,offset:T}))},DP=1e-4,rce=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-DP,a=Math.max(r[0],r[1])+DP,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},ice=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=vo(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},ace=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=vo(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},oce={sign:ice,expand:Woe,none:Jd,silhouette:Voe,wiggle:Zoe,positive:ace},sce=(e,t,n)=>{var r=oce[n],i=Koe().keys(t).value((a,s)=>Number(Qr(a,s,0))).order(mE).offset(r);return i(e)};function lce(e){return e==null?void 0:String(e)}function PP(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Br(i[t.dataKey])){var c=_4(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Qr(i,Br(s)?t.dataKey:s);return Br(d)?null:t.scale(d)}var cce=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},uce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dce=(e,t,n)=>{if(e!=null)return uce(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((d,f)=>{var m=s7(f,t,n),p=cce(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},RP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wv=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=lb(t,m=>m.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],f=i[s-1];a=Math.min((d.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function IP(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Rd(Rd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function u7(e,t){if(e)return String(e);if(typeof t=="string")return t}var fce=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hce=(e,t)=>t==="centric"?e.angle:e.radius,zs=e=>e.layout.width,Us=e=>e.layout.height,mce=e=>e.layout.scale,d7=e=>e.layout.margin,vb=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yb=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),pce="data-recharts-item-index",gce="data-recharts-item-data-key",ep=60;function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){vce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vce(e,t,n){return(t=yce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ce=e=>e.brush.height;function xce(e){var t=yb(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ep;return n+i}return n},0)}function wce(e){var t=yb(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ep;return n+i}return n},0)}function Sce(e){var t=vb(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ece(e){var t=vb(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var zr=ke([zs,Us,d7,_ce,xce,wce,Sce,Ece,P4,ele],(e,t,n,r,i,a,s,c,d,f)=>{var m={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+c},y=T0(T0({},p),m),b=y.bottom;y.bottom+=r,y=nce(y,d,f);var x=e-y.left-y.right,T=t-y.top-y.bottom;return T0(T0({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(T,0)})}),Ace=ke(zr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),f7=ke(zs,Us,(e,t)=>({x:0,y:0,width:e,height:t})),Tce=A.createContext(null),Li=()=>A.useContext(Tce)!=null,bb=e=>e.brush,_b=ke([bb,zr,d7],(e,t,n)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:nt(e.width)?e.width:t.width})),B1={},z1={},U1={},BP;function kce(){return BP||(BP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},p=()=>{f&&m(),T()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},x=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{x(),s=void 0,c=null},E=()=>{m()},j=function(...D){if(i?.aborted)return;s=this,c=D;const O=y==null;b(),d&&O&&m()};return j.schedule=b,j.cancel=T,j.flush=E,i?.addEventListener("abort",T,{once:!0}),j}e.debounce=t})(U1)),U1}var zP;function Oce(){return zP||(zP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kce();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...T){m=r.apply(this,T),p=null},i,{edges:f}),b=function(...T){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,T),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,T),m)},x=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=x,b}e.debounce=n})(z1)),z1}var UP;function jce(){return UP||(UP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oce();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(B1)),B1}var H1,HP;function Nce(){return HP||(HP=1,H1=jce().throttle),H1}var Cce=Nce();const Mce=Pi(Cce);var Vv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},h7=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,c=Cs(r)?e:Number(r),d=Cs(i)?t:Number(i);return a&&a>0&&(c?d=c/a:d&&(c=d*a),s&&d!=null&&d>s&&(d=s)),{calculatedWidth:c,calculatedHeight:d}},Dce={width:0,height:0,overflow:"visible"},Pce={width:0,overflowX:"visible"},Rce={height:0,overflowY:"visible"},Lce={},Ice=e=>{var{width:t,height:n}=e,r=Cs(t),i=Cs(n);return r&&i?Dce:r?Pce:i?Rce:Lce};function $ce(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Bn(e){return Number.isFinite(e)}function Go(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(null,arguments)}function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(r){Bce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bce(e,t,n){return(t=zce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zce(e){var t=Uce(e,"string");return typeof t=="symbol"?t:t+""}function Uce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7=A.createContext({width:-1,height:-1});function Hce(e){return Go(e.width)&&Go(e.height)}function p7(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Hce(i)?A.createElement(m7.Provider,{value:i},t):null}var GA=()=>A.useContext(m7),Fce=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:b,style:x={}}=e,T=A.useRef(null),E=A.useRef();E.current=b,A.useImperativeHandle(t,()=>T.current);var[j,D]=A.useState({containerWidth:r.width,containerHeight:r.height}),O=A.useCallback((z,G)=>{D(V=>{var H=Math.round(z),U=Math.round(G);return V.containerWidth===H&&V.containerHeight===U?V:{containerWidth:H,containerHeight:U}})},[]);A.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return Zm;var z=U=>{var Z,{width:re,height:ve}=U[0].contentRect;O(re,ve),(Z=E.current)===null||Z===void 0||Z.call(E,re,ve)};m>0&&(z=Mce(z,m,{trailing:!0,leading:!1}));var G=new ResizeObserver(z),{width:V,height:H}=T.current.getBoundingClientRect();return O(V,H),G.observe(T.current),()=>{G.disconnect()}},[O,m]);var{containerWidth:M,containerHeight:N}=j;Vv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:$}=h7(M,N,{width:i,height:a,aspect:n,maxHeight:d});return Vv(R!=null&&R>0||$!=null&&$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,$,i,a,s,c,n),A.createElement("div",{id:p?"".concat(p):void 0,className:pn("recharts-responsive-container",y),style:GP(GP({},x),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:T},A.createElement("div",{style:Ice({width:i,height:a})},A.createElement(p7,{width:R,height:$},f)))}),Gce=A.forwardRef((e,t)=>{var n=GA();if(Go(n.width)&&Go(n.height))return e.children;var{width:r,height:i}=$ce({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=h7(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return nt(a)&&nt(s)?A.createElement(p7,{width:a,height:s},e.children):A.createElement(Fce,AE({},e,{width:r,height:i,ref:t}))});function g7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xb=()=>{var e,t=Li(),n=at(Ace),r=at(_b),i=(e=at(bb))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},qce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},v7=()=>{var e;return(e=at(zr))!==null&&e!==void 0?e:qce},y7=()=>at(zs),b7=()=>at(Us),un=e=>e.layout.layoutType,tp=()=>at(un),Yce=()=>{var e=tp();if(e==="horizontal"||e==="vertical")return e},Kce=()=>{var e=tp();return e!==void 0},wb=e=>{var t=Tr(),n=Li(),{width:r,height:i}=e,a=GA(),s=r,c=i;return a&&(s=a.width>0?a.width:r,c=a.height>0?a.height:i),A.useEffect(()=>{!n&&Go(s)&&Go(c)&&t(Zle({width:s,height:c}))},[t,n,s,c]),null},_7=Symbol.for("immer-nothing"),qP=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function co(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wm=Object.getPrototypeOf;function tf(e){return!!e&&!!e[la]}function yu(e){return e?x7(e)||Array.isArray(e)||!!e[qP]||!!e.constructor?.[qP]||np(e)||Eb(e):!1}var Wce=Object.prototype.constructor.toString(),YP=new WeakMap;function x7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=YP.get(n);return r===void 0&&(r=Function.toString.call(n),YP.set(n,r)),r===Wce}function Zv(e,t,n=!0){Sb(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Sb(e){const t=e[la];return t?t.type_:Array.isArray(e)?1:np(e)?2:Eb(e)?3:0}function TE(e,t){return Sb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function w7(e,t,n){const r=Sb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Vce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function np(e){return e instanceof Map}function Eb(e){return e instanceof Set}function Qc(e){return e.copy_||e.base_}function kE(e,t){if(np(e))return new Map(e);if(Eb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=x7(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[la];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(wm(e),r)}else{const r=wm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function qA(e,t=!1){return Ab(e)||tf(e)||!yu(e)||(Sb(e)>1&&Object.defineProperties(e,{set:k0,add:k0,clear:k0,delete:k0}),Object.freeze(e),t&&Object.values(e).forEach(n=>qA(n,!0))),e}function Zce(){co(2)}var k0={value:Zce};function Ab(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Xce={};function bu(e){const t=Xce[e];return t||co(0,e),t}var Sm;function S7(){return Sm}function Jce(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function KP(e,t){t&&(bu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function OE(e){jE(e),e.drafts_.forEach(Qce),e.drafts_=null}function jE(e){e===Sm&&(Sm=e.parent_)}function WP(e){return Sm=Jce(Sm,e)}function Qce(e){const t=e[la];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[la].modified_&&(OE(t),co(4)),yu(e)&&(e=Xv(t,e),t.parent_||Jv(t,e)),t.patches_&&bu("Patches").generateReplacementPatches_(n[la].base_,e,t.patches_,t.inversePatches_)):e=Xv(t,n,[]),OE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_7?e:void 0}function Xv(e,t,n){if(Ab(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[la];if(!i)return Zv(t,(a,s)=>ZP(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Jv(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,c=!1;i.type_===3&&(s=new Set(a),a.clear(),c=!0),Zv(s,(d,f)=>ZP(e,i,a,d,f,n,c),r),Jv(e,a,!1),n&&e.patches_&&bu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function ZP(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const c=Ab(i);if(!(c&&!s)){if(tf(i)){const d=a&&t&&t.type_!==3&&!TE(t.assigned_,r)?a.concat(r):void 0,f=Xv(e,i,d);if(w7(n,r,f),tf(f))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(yu(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;Xv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(np(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jv(e,i)}}}function Jv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qA(t,n)}function eue(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:S7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=YA;n&&(i=[r],a=Em);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var YA={get(e,t){if(t===la)return e;const n=Qc(e);if(!TE(n,t))return tue(e,n,t);const r=n[t];return e.finalized_||!yu(r)?r:r===F1(e.base_,t)?(G1(e),e.copy_[t]=CE(r,e)):r},has(e,t){return t in Qc(e)},ownKeys(e){return Reflect.ownKeys(Qc(e))},set(e,t,n){const r=E7(Qc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=F1(Qc(e),t),a=i?.[la];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Vce(n,i)&&(n!==void 0||TE(e.base_,t)))return!0;G1(e),NE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return F1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,G1(e),NE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){co(11)},getPrototypeOf(e){return wm(e.base_)},setPrototypeOf(){co(12)}},Em={};Zv(YA,(e,t)=>{Em[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Em.deleteProperty=function(e,t){return Em.set.call(this,e,t,void 0)};Em.set=function(e,t,n){return YA.set.call(this,e[0],t,n,e[0])};function F1(e,t){const n=e[la];return(n?Qc(n):e)[t]}function tue(e,t,n){const r=E7(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function E7(e,t){if(!(t in e))return;let n=wm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=wm(n)}}function NE(e){e.modified_||(e.modified_=!0,e.parent_&&NE(e.parent_))}function G1(e){e.copy_||(e.copy_=kE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(d=a,...f){return s.produce(d,m=>n.call(this,m,...f))}}typeof n!="function"&&co(6),r!==void 0&&typeof r!="function"&&co(7);let i;if(yu(t)){const a=WP(this),s=CE(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?OE(a):jE(a)}return KP(a,r),VP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===_7&&(i=void 0),this.autoFreeze_&&qA(i,!0),r){const a=[],s=[];bu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else co(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yu(e)||co(8),tf(e)&&(e=rue(e));const t=WP(this),n=CE(e,void 0);return n[la].isManual_=!0,jE(t),n}finishDraft(e,t){const n=e&&e[la];(!n||!n.isManual_)&&co(9);const{scope_:r}=n;return KP(r,t),VP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bu("Patches").applyPatches_;return tf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function CE(e,t){const n=np(e)?bu("MapSet").proxyMap_(e,t):Eb(e)?bu("MapSet").proxySet_(e,t):eue(e,t);return(t?t.scope_:S7()).drafts_.push(n),n}function rue(e){return tf(e)||co(10,e),A7(e)}function A7(e){if(!yu(e)||Ab(e))return e;const t=e[la];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=kE(e,!0);return Zv(n,(i,a)=>{w7(n,i,A7(a))},r),t&&(t.finalized_=!1),n}var iue=new nue;iue.produce;var aue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T7=Ri({name:"legend",initialState:aue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:xn()},removeLegendPayload:{reducer(e,t){var n=po(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xn()}}}),{setLegendSize:N1e,setLegendSettings:C1e,addLegendPayload:oue,replaceLegendPayload:sue,removeLegendPayload:lue}=T7.actions,cue=T7.reducer;function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ME.apply(null,arguments)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(r){uue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uue(e,t,n){return(t=due(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function due(e){var t=fue(e,"string");return typeof t=="symbol"?t:t+""}function fue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hue(e){return Array.isArray(e)&&Fo(e[0])&&Fo(e[1])?e.join(" ~ "):e}var mue=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,b=()=>{if(a&&a.length){var N={padding:0,margin:0},R=(c?lb(a,c):a).map(($,z)=>{if($.type==="none")return null;var G=$.formatter||s||hue,{value:V,name:H}=$,U=V,Z=H;if(G){var re=G(V,H,$,z,a);if(Array.isArray(re))[U,Z]=re;else if(re!=null)U=re;else return null}var ve=q1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ve},Fo(Z)?A.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Fo(Z)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},U),A.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:N},R)}return null},x=q1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=q1({margin:0},i),E=!Br(m),j=E?m:"",D=pn("recharts-default-tooltip",d),O=pn("recharts-tooltip-label",f);E&&p&&a!==void 0&&a!==null&&(j=p(m,a));var M=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",ME({className:D,style:x},M),A.createElement("p",{className:O,style:T},A.isValidElement(j)?j:"".concat(j)),b())},Ph="recharts-tooltip-wrapper",pue={visibility:"hidden"};function gue(e){var{coordinate:t,translateX:n,translateY:r}=e;return pn(Ph,{["".concat(Ph,"-right")]:nt(n)&&t&&nt(t.x)&&n>=t.x,["".concat(Ph,"-left")]:nt(n)&&t&&nt(t.x)&&n<t.x,["".concat(Ph,"-bottom")]:nt(r)&&t&&nt(t.y)&&r>=t.y,["".concat(Ph,"-top")]:nt(r)&&t&&nt(t.y)&&r<t.y})}function JP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&nt(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?m:p;var y=d[r];if(y==null)return 0;if(s[r]){var b=m,x=y;return b<x?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var T=p+c,E=y+f;return T>E?Math.max(m,y):Math.max(p,y)}function vue(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yue(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,m,p;return s.height>0&&s.width>0&&n?(m=JP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),p=JP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=vue({translateX:m,translateY:p,useTranslate3d:c})):f=pue,{cssProperties:f,cssClasses:gue({translateX:m,translateY:p,coordinate:n})}}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){DE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DE(e,t,n){return(t=bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bue(e){var t=_ue(e,"string");return typeof t=="symbol"?t:t+""}function _ue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xue extends A.PureComponent{constructor(){super(...arguments),DE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),DE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:x,lastBoundingBox:T,innerRef:E,hasPortalFromProps:j}=this.props,{cssClasses:D,cssProperties:O}=yue({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:b}),M=j?{}:O0(O0({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),N=O0(O0({},M),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},x);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:N,ref:E},a)}}var k7=()=>{var e;return(e=at(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(null,arguments)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){wue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wue(e,t,n){return(t=Sue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nR={curveBasisClosed:Loe,curveBasisOpen:Ioe,curveBasis:Roe,curveBumpX:Doe,curveBumpY:Poe,curveLinearClosed:$oe,curveLinear:ab,curveMonotoneX:Boe,curveMonotoneY:zoe,curveNatural:Uoe,curveStep:Hoe,curveStepAfter:Goe,curveStepBefore:Foe},Qv=e=>Bn(e.x)&&Bn(e.y),rR=e=>e.base!=null&&Qv(e.base)&&Qv(e),Rh=e=>e.x,Lh=e=>e.y,Aue=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(DA(e));return(n==="curveMonotone"||n==="curveBump")&&t?nR["".concat(n).concat(t==="vertical"?"Y":"X")]:nR[n]||ab},Tue=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Aue(t,i),c=a?n.filter(Qv):n,d;if(Array.isArray(r)){var f=n.map((b,x)=>tR(tR({},b),{},{base:r[x]}));i==="vertical"?d=_0().y(Lh).x1(Rh).x0(b=>b.base.x):d=_0().x(Rh).y1(Lh).y0(b=>b.base.y);var m=d.defined(rR).curve(s),p=a?f.filter(rR):f;return m(p)}i==="vertical"&&nt(r)?d=_0().y(Lh).x1(Rh).x0(r):nt(r)?d=_0().x(Rh).y1(Lh).y0(r):d=c4().x(Rh).y(Lh);var y=d.defined(Qv).curve(s);return y(c)},sv=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Tue(e):r;return A.createElement("path",PE({},go(e),PA(e),{className:pn("recharts-curve",t),d:a===null?void 0:a,ref:i}))},kue=["x","y","top","left","width","height","className"];function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE.apply(null,arguments)}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jue(e,t,n){return(t=Nue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nue(e){var t=Cue(e,"string");return typeof t=="symbol"?t:t+""}function Cue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mue(e,t){if(e==null)return{};var n,r,i=Due(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Due(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pue=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Rue=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,d=Mue(e,kue),f=Oue({x:t,y:n,top:r,left:i,width:a,height:s},d);return!nt(t)||!nt(n)||!nt(a)||!nt(s)||!nt(r)||!nt(i)?null:A.createElement("path",RE({},Ba(f),{className:pn("recharts-cross",c),d:Pue(t,n,a,s,r,i)}))};function Lue(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){Iue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iue(e,t,n){return(t=$ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:t+""}function Bue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Uue=(e,t,n)=>e.map(r=>"".concat(zue(r)," ").concat(t,"ms ").concat(n)).join(","),Hue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Am=(e,t)=>Object.keys(t).reduce((n,r)=>oR(oR({},n),{},{[r]:e(r,t[r])}),{});function sR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(n),!0).forEach(function(r){Fue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fue(e,t,n){return(t=Gue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gue(e){var t=que(e,"string");return typeof t=="symbol"?t:t+""}function que(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ey=(e,t,n)=>e+(t-e)*n,LE=e=>{var{from:t,to:n}=e;return t!==n},O7=(e,t,n)=>{var r=Am((i,a)=>{if(LE(a)){var[s,c]=e(a.from,a.to,a.velocity);return cr(cr({},a),{},{from:s,velocity:c})}return a},t);return n<1?Am((i,a)=>LE(a)?cr(cr({},a),{},{velocity:ey(a.velocity,r[i].velocity,n),from:ey(a.from,r[i].from,n)}):a,t):O7(e,r,n-1)};function Yue(e,t,n,r,i,a){var s,c=r.reduce((y,b)=>cr(cr({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>Am((y,b)=>b.from,c),f=()=>!Object.values(c).filter(LE).length,m=null,p=y=>{s||(s=y);var b=y-s,x=b/n.dt;c=O7(n,c,x),i(cr(cr(cr({},e),t),d())),s=y,f()||(m=a.setTimeout(p))};return()=>(m=a.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function Kue(e,t,n,r,i,a,s){var c=null,d=i.reduce((p,y)=>cr(cr({},p),{},{[y]:[e[y],t[y]]}),{}),f,m=p=>{f||(f=p);var y=(p-f)/r,b=Am((T,E)=>ey(...E,n(y)),d);if(a(cr(cr(cr({},e),t),b)),y<1)c=s.setTimeout(m);else{var x=Am((T,E)=>ey(...E,n(1)),d);a(cr(cr(cr({},e),t),x))}};return()=>(c=s.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const Wue=(e,t,n,r,i,a)=>{var s=Hue(e,t);return n==null?()=>(i(cr(cr({},e),t)),()=>{}):n.isStepper===!0?Yue(e,t,n,s,i,a):Kue(e,t,n,r,s,i,a)};var ty=1e-4,j7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],N7=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),lR=(e,t)=>n=>{var r=j7(e,t);return N7(r,n)},Vue=(e,t)=>n=>{var r=j7(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return N7(i,n)},Zue=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Xue=(e,t,n,r)=>{var i=lR(e,n),a=lR(t,r),s=Vue(e,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var b=i(p)-m,x=s(p);if(Math.abs(b-m)<ty||x<ty)return a(p);p=c(p-b/x)}return a(p)};return d.isStepper=!1,d},cR=function(){return Xue(...Zue(...arguments))},Jue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,d)=>{var f=-(s-c)*n,m=d*r,p=d+(f-m)*i/1e3,y=d*i/1e3+s;return Math.abs(y-c)<ty&&Math.abs(p)<ty?[c,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},Que=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cR(e);case"spring":return Jue();default:if(e.split("(")[0]==="cubic-bezier")return cR(e)}return typeof e=="function"?e:null};function ede(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class tde{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function nde(){return ede(new tde)}var rde=A.createContext(nde);function ide(e,t){var n=A.useContext(rde);return A.useMemo(()=>t??n(e),[e,t,n])}var ade=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gf={devToolsEnabled:!1,isSsr:ade()},ode={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uR={t:0},Y1={t:1};function C7(e){var t=da(e,ode),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=n==="auto"?!gf.isSsr:n,p=ide(t.animationId,t.animationManager),[y,b]=A.useState(m?uR:Y1),x=A.useRef(null);return A.useEffect(()=>{m||b(Y1)},[m]),A.useEffect(()=>{if(!m||!r)return Zm;var T=Wue(uR,Y1,Que(a),i,b,p.getTimeoutController()),E=()=>{x.current=T()};return p.start([d,s,E,i,c]),()=>{p.stop(),x.current&&x.current(),c()}},[m,r,i,a,s,d,c,p]),f(y.t)}function M7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(ym(t)),r=A.useRef(e);return r.current!==e&&(n.current=ym(t),r.current=e),n.current}var sde=["radius"],lde=["radius"];function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){cde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cde(e,t,n){return(t=ude(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ude(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}function hR(e,t){if(e==null)return{};var n,r,i=fde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mR=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,y=4;p<y;p++)m[p]=i[p]>a?a:i[p];f="M".concat(e,",").concat(t+s*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+n-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*m[1])),f+="L ".concat(e+n,",").concat(t+r-s*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(t+r)),f+="L ".concat(e+c*m[3],",").concat(t+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);f="M ".concat(e,",").concat(t+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(t,`
            L `).concat(e+n-c*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*b,`
            L `).concat(e+n,",").concat(t+r-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n-c*b,",").concat(t+r,`
            L `).concat(e+c*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*b," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},pR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hde=e=>{var t=da(e,pR),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ae=n.current.getTotalLength();ae&&i(ae)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:x,isUpdateAnimationActive:T}=t,E=A.useRef(c),j=A.useRef(d),D=A.useRef(a),O=A.useRef(s),M=A.useMemo(()=>({x:a,y:s,width:c,height:d,radius:f}),[a,s,c,d,f]),N=M7(M,"rectangle-");if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var R=pn("recharts-rectangle",m);if(!T){var $=Ba(t),{radius:z}=$,G=hR($,sde);return A.createElement("path",ny({},G,{radius:typeof f=="number"?f:void 0,className:R,d:mR(a,s,c,d,f)}))}var V=E.current,H=j.current,U=D.current,Z=O.current,re="0px ".concat(r===-1?1:r,"px"),ve="".concat(r,"px 0px"),J=Uue(["strokeDasharray"],y,typeof p=="string"?p:pR.animationEasing);return A.createElement(C7,{animationId:N,key:N,canBegin:r>0,duration:y,easing:p,isActive:T,begin:b},ae=>{var ne=Io(V,c,ae),ce=Io(H,d,ae),te=Io(U,a,ae),Y=Io(Z,s,ae);n.current&&(E.current=ne,j.current=ce,D.current=te,O.current=Y);var B;x?ae>0?B={transition:J,strokeDasharray:ve}:B={strokeDasharray:re}:B={strokeDasharray:ve};var X=Ba(t),{radius:ee}=X,q=hR(X,lde);return A.createElement("path",ny({},q,{radius:typeof f=="number"?f:void 0,className:R,d:mR(te,Y,ne,ce,f),ref:n,style:fR(fR({},B),t.style)}))})};function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){mde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mde(e,t,n){return(t=pde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pde(e){var t=gde(e,"string");return typeof t=="symbol"?t:t+""}function gde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ry=Math.PI/180,vde=e=>e*180/Math.PI,$r=(e,t,n,r)=>({x:e+Math.cos(-ry*r)*n,y:t+Math.sin(-ry*r)*n}),yde=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bde=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},_de=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=bde({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:vde(d),angleInRadian:d}},xde=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},wde=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},Sde=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=_de({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:f}=xde(t),m=a,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?vR(vR({},t),{},{radius:i,angle:wde(m,t)}):null};function D7(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=$r(t,n,r,i),c=$r(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IE.apply(null,arguments)}var Ede=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},j0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,m=Math.asin(c/f)/ry,p=d?i:i+a*m,y=$r(t,n,f,p),b=$r(t,n,r,p),x=d?i-a*m:i,T=$r(t,n,f*Math.cos(m*ry),x);return{center:y,circleTangency:b,lineTangency:T,theta:m}},P7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=Ede(a,s),d=a+c,f=$r(t,n,i,a),m=$r(t,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=$r(t,n,r,a),b=$r(t,n,r,d);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Ade=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Da(f-d),{circleTangency:p,lineTangency:y,theta:b}=j0({cx:t,cy:n,radius:i,angle:d,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:x,lineTangency:T,theta:E}=j0({cx:t,cy:n,radius:i,angle:f,sign:-m,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-b-E;if(j<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):P7({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var D="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:M,theta:N}=j0({cx:t,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:R,lineTangency:$,theta:z}=j0({cx:t,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),G=c?Math.abs(d-f):Math.abs(d-f)-N-z;if(G<0&&a===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},Tde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kde=e=>{var t=da(e,Tde),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(a<i||f===m)return null;var y=pn("recharts-sector",p),b=a-i,x=ql(s,b,0,!0),T;return x>0&&Math.abs(f-m)<360?T=Ade({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):T=P7({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:m}),A.createElement("path",IE({},Ba(t),{className:y,d:T}))};function Ode(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(x4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:c}=t,d=$r(r,i,a,c),f=$r(r,i,s,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return D7(t)}}var K1={},W1={},V1={},yR;function jde(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M4();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(V1)),V1}var bR;function Nde(){return bR||(bR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jde();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(W1)),W1}var _R;function Cde(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4(),n=Nde();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=s;return d}e.range=r})(K1)),K1}var Z1,xR;function Mde(){return xR||(xR=1,Z1=Cde().range),Z1}var Dde=Mde();const R7=Pi(Dde);function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KA(e){let t,n,r;e.length!==2?(t=Hl,n=(c,d)=>Hl(e(c),d),r=(c,d)=>e(c)-d):(t=e===Hl||e===Pde?e:Rde,n=e,r=e);function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;n(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function s(c,d,f=0,m=c.length){const p=i(c,d,f,m-1);return p>f&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:s,right:a}}function Rde(){return 0}function L7(e){return e===null?NaN:+e}function*Lde(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Ide=KA(Hl),rp=Ide.right;KA(L7).center;class wR extends Map{constructor(t,n=zde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(SR(this,t))}has(t){return super.has(SR(this,t))}set(t,n){return super.set($de(this,t),n)}delete(t){return super.delete(Bde(this,t))}}function SR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $de({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Bde({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ude(e=Hl){if(e===Hl)return I7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function I7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hde=Math.sqrt(50),Fde=Math.sqrt(10),Gde=Math.sqrt(2);function iy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Hde?10:a>=Fde?5:a>=Gde?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?iy(e,t,n*2):[c,d,f]}function $E(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?iy(t,e,n):iy(e,t,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(a-f)/-s;else for(let f=0;f<c;++f)d[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(i+f)/-s;else for(let f=0;f<c;++f)d[f]=(i+f)*s;return d}function BE(e,t,n){return t=+t,e=+e,n=+n,iy(e,t,n)[2]}function zE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?BE(t,e,n):BE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ER(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function AR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $7(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?I7:Ude(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/d+y)),x=Math.min(r,Math.floor(t+(d-f)*p/d+y));$7(e,t,b,x,i)}const a=e[t];let s=n,c=r;for(Ih(e,n,t),i(e[r],a)>0&&Ih(e,n,r);s<c;){for(Ih(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Ih(e,n,c):(++c,Ih(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Ih(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function qde(e,t,n){if(e=Float64Array.from(Lde(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return AR(e);if(t>=1)return ER(e);var r,i=(r-1)*t,a=Math.floor(i),s=ER($7(e,a).subarray(0,a+1)),c=AR(e.subarray(a+1));return s+(c-s)*(i-a)}}function Yde(e,t,n=L7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function Kde(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const UE=Symbol("implicit");function WA(){var e=new wR,t=[],n=[],r=UE;function i(a){let s=e.get(a);if(s===void 0){if(r!==UE)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new wR;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WA(t,n).unknown(r)},Fa.apply(i,arguments),i}function VA(){var e=WA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,b=i<r,x=b?i:r,T=b?r:i;a=(T-x)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),x+=(T-x-a*(y-d))*m,s=a*(1-d),c&&(x=Math.round(x),s=Math.round(s));var E=Kde(y).map(function(j){return x+a*j});return n(b?E.reverse():E)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,p()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return VA(t(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(m)},Fa.apply(p(),arguments)}function B7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return B7(t())},e}function Wde(){return B7(VA.apply(null,arguments).paddingInner(1))}function ZA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ip(){}var Tm=.7,ay=1/Tm,Fd="\\s*([+-]?\\d+)\\s*",km="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vde=/^#([0-9a-f]{3,8})$/,Zde=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),Xde=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),Jde=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${km}\\)$`),Qde=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${km}\\)$`),efe=new RegExp(`^hsl\\(${km},${Uo},${Uo}\\)$`),tfe=new RegExp(`^hsla\\(${km},${Uo},${Uo},${km}\\)$`),TR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZA(ip,Om,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kR,formatHex:kR,formatHex8:nfe,formatHsl:rfe,formatRgb:OR,toString:OR});function kR(){return this.rgb().formatHex()}function nfe(){return this.rgb().formatHex8()}function rfe(){return U7(this).formatHsl()}function OR(){return this.rgb().formatRgb()}function Om(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vde.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?jR(t):n===3?new Ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?N0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?N0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zde.exec(e))?new Ci(t[1],t[2],t[3],1):(t=Xde.exec(e))?new Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jde.exec(e))?N0(t[1],t[2],t[3],t[4]):(t=Qde.exec(e))?N0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=efe.exec(e))?MR(t[1],t[2]/100,t[3]/100,1):(t=tfe.exec(e))?MR(t[1],t[2]/100,t[3]/100,t[4]):TR.hasOwnProperty(e)?jR(TR[e]):e==="transparent"?new Ci(NaN,NaN,NaN,0):null}function jR(e){return new Ci(e>>16&255,e>>8&255,e&255,1)}function N0(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ci(e,t,n,r)}function ife(e){return e instanceof ip||(e=Om(e)),e?(e=e.rgb(),new Ci(e.r,e.g,e.b,e.opacity)):new Ci}function HE(e,t,n,r){return arguments.length===1?ife(e):new Ci(e,t,n,r??1)}function Ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ZA(Ci,HE,z7(ip,{brighter(e){return e=e==null?ay:Math.pow(ay,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tm:Math.pow(Tm,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ci(fu(this.r),fu(this.g),fu(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NR,formatHex:NR,formatHex8:afe,formatRgb:CR,toString:CR}));function NR(){return`#${au(this.r)}${au(this.g)}${au(this.b)}`}function afe(){return`#${au(this.r)}${au(this.g)}${au(this.b)}${au((isNaN(this.opacity)?1:this.opacity)*255)}`}function CR(){const e=oy(this.opacity);return`${e===1?"rgb(":"rgba("}${fu(this.r)}, ${fu(this.g)}, ${fu(this.b)}${e===1?")":`, ${e})`}`}function oy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function au(e){return e=fu(e),(e<16?"0":"")+e.toString(16)}function MR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uo(e,t,n,r)}function U7(e){if(e instanceof uo)return new uo(e.h,e.s,e.l,e.opacity);if(e instanceof ip||(e=Om(e)),!e)return new uo;if(e instanceof uo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new uo(s,c,d,e.opacity)}function ofe(e,t,n,r){return arguments.length===1?U7(e):new uo(e,t,n,r??1)}function uo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ZA(uo,ofe,z7(ip,{brighter(e){return e=e==null?ay:Math.pow(ay,e),new uo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tm:Math.pow(Tm,e),new uo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ci(X1(e>=240?e-240:e+120,i,r),X1(e,i,r),X1(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new uo(DR(this.h),C0(this.s),C0(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oy(this.opacity);return`${e===1?"hsl(":"hsla("}${DR(this.h)}, ${C0(this.s)*100}%, ${C0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DR(e){return e=(e||0)%360,e<0?e+360:e}function C0(e){return Math.max(0,Math.min(1,e||0))}function X1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const XA=e=>()=>e;function sfe(e,t){return function(n){return e+n*t}}function lfe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function cfe(e){return(e=+e)==1?H7:function(t,n){return n-t?lfe(t,n,e):XA(isNaN(t)?n:t)}}function H7(e,t){var n=t-e;return n?sfe(e,n):XA(isNaN(e)?t:e)}const PR=(function e(t){var n=cfe(t);function r(i,a){var s=n((i=HE(i)).r,(a=HE(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=H7(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=c(m),i.b=d(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function ufe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function dfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ffe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=vf(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function hfe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mfe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var FE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J1=new RegExp(FE.source,"g");function pfe(e){return function(){return e}}function gfe(e){return function(t){return e(t)+""}}function vfe(e,t){var n=FE.lastIndex=J1.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=FE.exec(e))&&(i=J1.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:sy(r,i)})),n=J1.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?gfe(d[0].x):pfe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function vf(e,t){var n=typeof t,r;return t==null||n==="boolean"?XA(t):(n==="number"?sy:n==="string"?(r=Om(t))?(t=r,PR):vfe:t instanceof Om?PR:t instanceof Date?hfe:dfe(t)?ufe:Array.isArray(t)?ffe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mfe:sy)(e,t)}function JA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yfe(e,t){t===void 0&&(t=e,e=vf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function bfe(e){return function(){return e}}function ly(e){return+e}var RR=[0,1];function ci(e){return e}function GE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bfe(isNaN(t)?NaN:.5)}function _fe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xfe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=GE(i,r),a=n(s,a)):(r=GE(r,i),a=n(a,s)),function(c){return a(r(c))}}function wfe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=GE(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var d=rp(e,c,1,r)-1;return a[d](i[d](c))}}function ap(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tb(){var e=RR,t=RR,n=vf,r,i,a,s=ci,c,d,f;function m(){var y=Math.min(e.length,t.length);return s!==ci&&(s=_fe(e[0],e[y-1])),c=y>2?wfe:xfe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(d||(d=c(e.map(r),t,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=c(t,e.map(r),sy)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,ly),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=JA,m()},p.clamp=function(y){return arguments.length?(s=y?!0:ci,m()):s!==ci},p.interpolate=function(y){return arguments.length?(n=y,m()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,b){return r=y,i=b,m()}}function QA(){return Tb()(ci,ci)}function Sfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nf(e){return e=cy(Math.abs(e)),e?e[1]:NaN}function Efe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Afe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jm(e){if(!(t=Tfe.exec(e)))throw new Error("invalid format: "+e);var t;return new eT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jm.prototype=eT.prototype;function eT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kfe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var F7;function Ofe(e,t){var n=cy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(F7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+cy(e,Math.max(0,t+a-1))[0]}function LR(e,t){var n=cy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LR(e*100,t),r:LR,s:Ofe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $R(e){return e}var BR=Array.prototype.map,zR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jfe(e){var t=e.grouping===void 0||e.thousands===void 0?$R:Efe(BR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$R:Afe(BR.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=jm(p);var y=p.fill,b=p.align,x=p.sign,T=p.symbol,E=p.zero,j=p.width,D=p.comma,O=p.precision,M=p.trim,N=p.type;N==="n"?(D=!0,N="g"):IR[N]||(O===void 0&&(O=12),M=!0,N="g"),(E||y==="0"&&b==="=")&&(E=!0,y="0",b="=");var R=T==="$"?n:T==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",$=T==="$"?r:/[%p]/.test(N)?s:"",z=IR[N],G=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function V(H){var U=R,Z=$,re,ve,J;if(N==="c")Z=z(H)+Z,H="";else{H=+H;var ae=H<0||1/H<0;if(H=isNaN(H)?d:z(Math.abs(H),O),M&&(H=kfe(H)),ae&&+H==0&&x!=="+"&&(ae=!1),U=(ae?x==="("?x:c:x==="-"||x==="("?"":x)+U,Z=(N==="s"?zR[8+F7/3]:"")+Z+(ae&&x==="("?")":""),G){for(re=-1,ve=H.length;++re<ve;)if(J=H.charCodeAt(re),48>J||J>57){Z=(J===46?i+H.slice(re+1):H.slice(re))+Z,H=H.slice(0,re);break}}}D&&!E&&(H=t(H,1/0));var ne=U.length+H.length+Z.length,ce=ne<j?new Array(j-ne+1).join(y):"";switch(D&&E&&(H=t(ce+H,ce.length?j-Z.length:1/0),ce=""),b){case"<":H=U+H+Z+ce;break;case"=":H=U+ce+H+Z;break;case"^":H=ce.slice(0,ne=ce.length>>1)+U+H+Z+ce.slice(ne);break;default:H=ce+U+H+Z;break}return a(H)}return V.toString=function(){return p+""},V}function m(p,y){var b=f((p=jm(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(nf(y)/3)))*3,T=Math.pow(10,-x),E=zR[8+x/3];return function(j){return b(T*j)+E}}return{format:f,formatPrefix:m}}var M0,tT,G7;Nfe({thousands:",",grouping:[3],currency:["$",""]});function Nfe(e){return M0=jfe(e),tT=M0.format,G7=M0.formatPrefix,M0}function Cfe(e){return Math.max(0,-nf(Math.abs(e)))}function Mfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))*3-nf(Math.abs(e)))}function Dfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nf(t)-nf(e))+1}function q7(e,t,n,r){var i=zE(e,t,n),a;switch(r=jm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Mfe(i,s))&&(r.precision=a),G7(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Dfe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Cfe(i))&&(r.precision=a-(r.type==="%")*2);break}}return tT(r)}function Vl(e){var t=e.domain;return e.ticks=function(n){var r=t();return $E(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return q7(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],d,f,m=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);m-- >0;){if(f=BE(s,c,n),f===d)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function Y7(){var e=QA();return e.copy=function(){return ap(e,Y7())},Fa.apply(e,arguments),Vl(e)}function K7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ly),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return K7(e).unknown(t)},e=arguments.length?Array.from(e,ly):[0,1],Vl(n)}function W7(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function UR(e){return Math.log(e)}function HR(e){return Math.exp(e)}function Pfe(e){return-Math.log(-e)}function Rfe(e){return-Math.exp(-e)}function Lfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ife(e){return e===10?Lfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $fe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FR(e){return(t,n)=>-e(-t,n)}function nT(e){const t=e(UR,HR),n=t.domain;let r=10,i,a;function s(){return i=$fe(r),a=Ife(r),n()[0]<0?(i=FR(i),a=FR(a),e(Pfe,Rfe)):e(UR,HR),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=i(f),b=i(m),x,T;const E=c==null?10:+c;let j=[];if(!(r%1)&&b-y<E){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(x=1;x<r;++x)if(T=y<0?x/a(-y):x*a(y),!(T<f)){if(T>m)break;j.push(T)}}else for(;y<=b;++y)for(x=r-1;x>=1;--x)if(T=y>0?x/a(-y):x*a(y),!(T<f)){if(T>m)break;j.push(T)}j.length*2<E&&(j=$E(f,m,E))}else j=$E(y,b,Math.min(b-y,E)).map(a);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=jm(d)).precision==null&&(d.trim=!0),d=tT(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return m=>{let p=m/a(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=f?d(m):""}},t.nice=()=>n(W7(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function V7(){const e=nT(Tb()).domain([1,10]);return e.copy=()=>ap(e,V7()).base(e.base()),Fa.apply(e,arguments),e}function GR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rT(e){var t=1,n=e(GR(t),qR(t));return n.constant=function(r){return arguments.length?e(GR(t=+r),qR(t)):t},Vl(n)}function Z7(){var e=rT(Tb());return e.copy=function(){return ap(e,Z7()).constant(e.constant())},Fa.apply(e,arguments)}function YR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zfe(e){return e<0?-e*e:e*e}function iT(e){var t=e(ci,ci),n=1;function r(){return n===1?e(ci,ci):n===.5?e(Bfe,zfe):e(YR(n),YR(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Vl(t)}function aT(){var e=iT(Tb());return e.copy=function(){return ap(e,aT()).exponent(e.exponent())},Fa.apply(e,arguments),e}function Ufe(){return aT.apply(null,arguments).exponent(.5)}function KR(e){return Math.sign(e)*e*e}function Hfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X7(){var e=QA(),t=[0,1],n=!1,r;function i(a){var s=Hfe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(KR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ly)).map(KR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return X7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Fa.apply(i,arguments),Vl(i)}function J7(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=Yde(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[rp(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Hl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return J7().domain(e).range(t).unknown(r)},Fa.apply(a,arguments)}function Q7(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[rp(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Q7().domain([e,t]).range(i).unknown(a)},Fa.apply(Vl(s),arguments)}function e6(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[rp(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return e6().domain(e).range(t).unknown(n)},Fa.apply(i,arguments)}const Q1=new Date,eS=new Date;function dr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return d},i.filter=a=>dr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Q1.setTime(+a),eS.setTime(+s),e(Q1),e(eS),Math.floor(n(Q1,eS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const uy=dr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?dr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):uy);uy.range;const Es=1e3,Pa=Es*60,As=Pa*60,Ds=As*24,oT=Ds*7,WR=Ds*30,tS=Ds*365,ou=dr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());ou.range;const sT=dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getMinutes());sT.range;const lT=dr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCMinutes());lT.range;const cT=dr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*Pa)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getHours());cT.range;const uT=dr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCHours());uT.range;const op=dr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/Ds,e=>e.getDate()-1);op.range;const kb=dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>e.getUTCDate()-1);kb.range;const t6=dr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ds,e=>Math.floor(e/Ds));t6.range;function Tu(e){return dr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/oT)}const Ob=Tu(0),dy=Tu(1),Ffe=Tu(2),Gfe=Tu(3),rf=Tu(4),qfe=Tu(5),Yfe=Tu(6);Ob.range;dy.range;Ffe.range;Gfe.range;rf.range;qfe.range;Yfe.range;function ku(e){return dr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/oT)}const jb=ku(0),fy=ku(1),Kfe=ku(2),Wfe=ku(3),af=ku(4),Vfe=ku(5),Zfe=ku(6);jb.range;fy.range;Kfe.range;Wfe.range;af.range;Vfe.range;Zfe.range;const dT=dr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dT.range;const fT=dr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fT.range;const Ps=dr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ps.range;const Rs=dr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rs.range;function n6(e,t,n,r,i,a){const s=[[ou,1,Es],[ou,5,5*Es],[ou,15,15*Es],[ou,30,30*Es],[a,1,Pa],[a,5,5*Pa],[a,15,15*Pa],[a,30,30*Pa],[i,1,As],[i,3,3*As],[i,6,6*As],[i,12,12*As],[r,1,Ds],[r,2,2*Ds],[n,1,oT],[t,1,WR],[t,3,3*WR],[e,1,tS]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),x=b?b.range(f,+m+1):[];return y?x.reverse():x}function d(f,m,p){const y=Math.abs(m-f)/p,b=KA(([,,E])=>E).right(s,y);if(b===s.length)return e.every(zE(f/tS,m/tS,p));if(b===0)return uy.every(Math.max(zE(f,m,p),1));const[x,T]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return x.every(T)}return[c,d]}const[Xfe,Jfe]=n6(Rs,fT,jb,t6,uT,lT),[Qfe,ehe]=n6(Ps,dT,Ob,op,cT,sT);function nS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $h(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function the(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=Bh(i),m=zh(i),p=Bh(a),y=zh(a),b=Bh(s),x=zh(s),T=Bh(c),E=zh(c),j=Bh(d),D=zh(d),O={a:ae,A:ne,b:ce,B:te,c:null,d:eL,e:eL,f:Ehe,g:Phe,G:Lhe,H:xhe,I:whe,j:She,L:r6,m:Ahe,M:The,p:Y,q:B,Q:rL,s:iL,S:khe,u:Ohe,U:jhe,V:Nhe,w:Che,W:Mhe,x:null,X:null,y:Dhe,Y:Rhe,Z:Ihe,"%":nL},M={a:X,A:ee,b:q,B:W,c:null,d:tL,e:tL,f:Uhe,g:Xhe,G:Qhe,H:$he,I:Bhe,j:zhe,L:a6,m:Hhe,M:Fhe,p:le,q:fe,Q:rL,s:iL,S:Ghe,u:qhe,U:Yhe,V:Khe,w:Whe,W:Vhe,x:null,X:null,y:Zhe,Y:Jhe,Z:eme,"%":nL},N={a:V,A:H,b:U,B:Z,c:re,d:JR,e:JR,f:vhe,g:XR,G:ZR,H:QR,I:QR,j:hhe,L:ghe,m:fhe,M:mhe,p:G,q:dhe,Q:bhe,s:_he,S:phe,u:ohe,U:she,V:lhe,w:ahe,W:che,x:ve,X:J,y:XR,Y:ZR,Z:uhe,"%":yhe};O.x=R(n,O),O.X=R(r,O),O.c=R(t,O),M.x=R(n,M),M.X=R(r,M),M.c=R(t,M);function R(Q,de){return function(we){var se=[],Ne=-1,be=0,Le=Q.length,Me,Ie,Be;for(we instanceof Date||(we=new Date(+we));++Ne<Le;)Q.charCodeAt(Ne)===37&&(se.push(Q.slice(be,Ne)),(Ie=VR[Me=Q.charAt(++Ne)])!=null?Me=Q.charAt(++Ne):Ie=Me==="e"?" ":"0",(Be=de[Me])&&(Me=Be(we,Ie)),se.push(Me),be=Ne+1);return se.push(Q.slice(be,Ne)),se.join("")}}function $(Q,de){return function(we){var se=$h(1900,void 0,1),Ne=z(se,Q,we+="",0),be,Le;if(Ne!=we.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(de&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(be=rS($h(se.y,0,1)),Le=be.getUTCDay(),be=Le>4||Le===0?fy.ceil(be):fy(be),be=kb.offset(be,(se.V-1)*7),se.y=be.getUTCFullYear(),se.m=be.getUTCMonth(),se.d=be.getUTCDate()+(se.w+6)%7):(be=nS($h(se.y,0,1)),Le=be.getDay(),be=Le>4||Le===0?dy.ceil(be):dy(be),be=op.offset(be,(se.V-1)*7),se.y=be.getFullYear(),se.m=be.getMonth(),se.d=be.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Le="Z"in se?rS($h(se.y,0,1)).getUTCDay():nS($h(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Le+5)%7:se.w+se.U*7-(Le+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,rS(se)):nS(se)}}function z(Q,de,we,se){for(var Ne=0,be=de.length,Le=we.length,Me,Ie;Ne<be;){if(se>=Le)return-1;if(Me=de.charCodeAt(Ne++),Me===37){if(Me=de.charAt(Ne++),Ie=N[Me in VR?de.charAt(Ne++):Me],!Ie||(se=Ie(Q,we,se))<0)return-1}else if(Me!=we.charCodeAt(se++))return-1}return se}function G(Q,de,we){var se=f.exec(de.slice(we));return se?(Q.p=m.get(se[0].toLowerCase()),we+se[0].length):-1}function V(Q,de,we){var se=b.exec(de.slice(we));return se?(Q.w=x.get(se[0].toLowerCase()),we+se[0].length):-1}function H(Q,de,we){var se=p.exec(de.slice(we));return se?(Q.w=y.get(se[0].toLowerCase()),we+se[0].length):-1}function U(Q,de,we){var se=j.exec(de.slice(we));return se?(Q.m=D.get(se[0].toLowerCase()),we+se[0].length):-1}function Z(Q,de,we){var se=T.exec(de.slice(we));return se?(Q.m=E.get(se[0].toLowerCase()),we+se[0].length):-1}function re(Q,de,we){return z(Q,t,de,we)}function ve(Q,de,we){return z(Q,n,de,we)}function J(Q,de,we){return z(Q,r,de,we)}function ae(Q){return s[Q.getDay()]}function ne(Q){return a[Q.getDay()]}function ce(Q){return d[Q.getMonth()]}function te(Q){return c[Q.getMonth()]}function Y(Q){return i[+(Q.getHours()>=12)]}function B(Q){return 1+~~(Q.getMonth()/3)}function X(Q){return s[Q.getUTCDay()]}function ee(Q){return a[Q.getUTCDay()]}function q(Q){return d[Q.getUTCMonth()]}function W(Q){return c[Q.getUTCMonth()]}function le(Q){return i[+(Q.getUTCHours()>=12)]}function fe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var de=R(Q+="",O);return de.toString=function(){return Q},de},parse:function(Q){var de=$(Q+="",!1);return de.toString=function(){return Q},de},utcFormat:function(Q){var de=R(Q+="",M);return de.toString=function(){return Q},de},utcParse:function(Q){var de=$(Q+="",!0);return de.toString=function(){return Q},de}}}var VR={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,nhe=/^%/,rhe=/[\\^$*+?|[\]().{}]/g;function It(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ihe(e){return e.replace(rhe,"\\$&")}function Bh(e){return new RegExp("^(?:"+e.map(ihe).join("|")+")","i")}function zh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ahe(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ohe(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function she(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function lhe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function che(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ZR(e,t,n){var r=kr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function XR(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uhe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dhe(e,t,n){var r=kr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function fhe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function JR(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hhe(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function QR(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mhe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function phe(e,t,n){var r=kr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ghe(e,t,n){var r=kr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vhe(e,t,n){var r=kr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yhe(e,t,n){var r=nhe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bhe(e,t,n){var r=kr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _he(e,t,n){var r=kr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eL(e,t){return It(e.getDate(),t,2)}function xhe(e,t){return It(e.getHours(),t,2)}function whe(e,t){return It(e.getHours()%12||12,t,2)}function She(e,t){return It(1+op.count(Ps(e),e),t,3)}function r6(e,t){return It(e.getMilliseconds(),t,3)}function Ehe(e,t){return r6(e,t)+"000"}function Ahe(e,t){return It(e.getMonth()+1,t,2)}function The(e,t){return It(e.getMinutes(),t,2)}function khe(e,t){return It(e.getSeconds(),t,2)}function Ohe(e){var t=e.getDay();return t===0?7:t}function jhe(e,t){return It(Ob.count(Ps(e)-1,e),t,2)}function i6(e){var t=e.getDay();return t>=4||t===0?rf(e):rf.ceil(e)}function Nhe(e,t){return e=i6(e),It(rf.count(Ps(e),e)+(Ps(e).getDay()===4),t,2)}function Che(e){return e.getDay()}function Mhe(e,t){return It(dy.count(Ps(e)-1,e),t,2)}function Dhe(e,t){return It(e.getFullYear()%100,t,2)}function Phe(e,t){return e=i6(e),It(e.getFullYear()%100,t,2)}function Rhe(e,t){return It(e.getFullYear()%1e4,t,4)}function Lhe(e,t){var n=e.getDay();return e=n>=4||n===0?rf(e):rf.ceil(e),It(e.getFullYear()%1e4,t,4)}function Ihe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+It(t/60|0,"0",2)+It(t%60,"0",2)}function tL(e,t){return It(e.getUTCDate(),t,2)}function $he(e,t){return It(e.getUTCHours(),t,2)}function Bhe(e,t){return It(e.getUTCHours()%12||12,t,2)}function zhe(e,t){return It(1+kb.count(Rs(e),e),t,3)}function a6(e,t){return It(e.getUTCMilliseconds(),t,3)}function Uhe(e,t){return a6(e,t)+"000"}function Hhe(e,t){return It(e.getUTCMonth()+1,t,2)}function Fhe(e,t){return It(e.getUTCMinutes(),t,2)}function Ghe(e,t){return It(e.getUTCSeconds(),t,2)}function qhe(e){var t=e.getUTCDay();return t===0?7:t}function Yhe(e,t){return It(jb.count(Rs(e)-1,e),t,2)}function o6(e){var t=e.getUTCDay();return t>=4||t===0?af(e):af.ceil(e)}function Khe(e,t){return e=o6(e),It(af.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function Whe(e){return e.getUTCDay()}function Vhe(e,t){return It(fy.count(Rs(e)-1,e),t,2)}function Zhe(e,t){return It(e.getUTCFullYear()%100,t,2)}function Xhe(e,t){return e=o6(e),It(e.getUTCFullYear()%100,t,2)}function Jhe(e,t){return It(e.getUTCFullYear()%1e4,t,4)}function Qhe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?af(e):af.ceil(e),It(e.getUTCFullYear()%1e4,t,4)}function eme(){return"+0000"}function nL(){return"%"}function rL(e){return+e}function iL(e){return Math.floor(+e/1e3)}var xd,s6,l6;tme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tme(e){return xd=the(e),s6=xd.format,xd.parse,l6=xd.utcFormat,xd.utcParse,xd}function nme(e){return new Date(e)}function rme(e){return e instanceof Date?+e:+new Date(+e)}function hT(e,t,n,r,i,a,s,c,d,f){var m=QA(),p=m.invert,y=m.domain,b=f(".%L"),x=f(":%S"),T=f("%I:%M"),E=f("%I %p"),j=f("%a %d"),D=f("%b %d"),O=f("%B"),M=f("%Y");function N(R){return(d(R)<R?b:c(R)<R?x:s(R)<R?T:a(R)<R?E:r(R)<R?i(R)<R?j:D:n(R)<R?O:M)(R)}return m.invert=function(R){return new Date(p(R))},m.domain=function(R){return arguments.length?y(Array.from(R,rme)):y().map(nme)},m.ticks=function(R){var $=y();return e($[0],$[$.length-1],R??10)},m.tickFormat=function(R,$){return $==null?N:f($)},m.nice=function(R){var $=y();return(!R||typeof R.range!="function")&&(R=t($[0],$[$.length-1],R??10)),R?y(W7($,R)):m},m.copy=function(){return ap(m,hT(e,t,n,r,i,a,s,c,d,f))},m}function ime(){return Fa.apply(hT(Qfe,ehe,Ps,dT,Ob,op,cT,sT,ou,s6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ame(){return Fa.apply(hT(Xfe,Jfe,Rs,fT,jb,kb,uT,lT,ou,l6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nb(){var e=0,t=1,n,r,i,a,s=ci,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:s(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(s=p,f):s};function m(p){return function(y){var b,x;return arguments.length?([b,x]=y,s=p(b,x),f):[s(0),s(1)]}}return f.range=m(vf),f.rangeRound=m(JA),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Zl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c6(){var e=Vl(Nb()(ci));return e.copy=function(){return Zl(e,c6())},Hs.apply(e,arguments)}function u6(){var e=nT(Nb()).domain([1,10]);return e.copy=function(){return Zl(e,u6()).base(e.base())},Hs.apply(e,arguments)}function d6(){var e=rT(Nb());return e.copy=function(){return Zl(e,d6()).constant(e.constant())},Hs.apply(e,arguments)}function mT(){var e=iT(Nb());return e.copy=function(){return Zl(e,mT()).exponent(e.exponent())},Hs.apply(e,arguments)}function ome(){return mT.apply(null,arguments).exponent(.5)}function f6(){var e=[],t=ci;function n(r){if(r!=null&&!isNaN(r=+r))return t((rp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>qde(e,a/r))},n.copy=function(){return f6(t).domain(e)},Hs.apply(n,arguments)}function Cb(){var e=0,t=.5,n=1,r=1,i,a,s,c,d,f=ci,m,p=!1,y;function b(T){return isNaN(T=+T)?y:(T=.5+((T=+m(T))-a)*(r*T<r*a?c:d),f(p?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([e,t,n]=T,i=m(e=+e),a=m(t=+t),s=m(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b):[e,t,n]},b.clamp=function(T){return arguments.length?(p=!!T,b):p},b.interpolator=function(T){return arguments.length?(f=T,b):f};function x(T){return function(E){var j,D,O;return arguments.length?([j,D,O]=E,f=yfe(T,[j,D,O]),b):[f(0),f(.5),f(1)]}}return b.range=x(vf),b.rangeRound=x(JA),b.unknown=function(T){return arguments.length?(y=T,b):y},function(T){return m=T,i=T(e),a=T(t),s=T(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,b}}function h6(){var e=Vl(Cb()(ci));return e.copy=function(){return Zl(e,h6())},Hs.apply(e,arguments)}function m6(){var e=nT(Cb()).domain([.1,1,10]);return e.copy=function(){return Zl(e,m6()).base(e.base())},Hs.apply(e,arguments)}function p6(){var e=rT(Cb());return e.copy=function(){return Zl(e,p6()).constant(e.constant())},Hs.apply(e,arguments)}function pT(){var e=iT(Cb());return e.copy=function(){return Zl(e,pT()).exponent(e.exponent())},Hs.apply(e,arguments)}function sme(){return pT.apply(null,arguments).exponent(.5)}const Wh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VA,scaleDiverging:h6,scaleDivergingLog:m6,scaleDivergingPow:pT,scaleDivergingSqrt:sme,scaleDivergingSymlog:p6,scaleIdentity:K7,scaleImplicit:UE,scaleLinear:Y7,scaleLog:V7,scaleOrdinal:WA,scalePoint:Wde,scalePow:aT,scaleQuantile:J7,scaleQuantize:Q7,scaleRadial:X7,scaleSequential:c6,scaleSequentialLog:u6,scaleSequentialPow:mT,scaleSequentialQuantile:f6,scaleSequentialSqrt:ome,scaleSequentialSymlog:d6,scaleSqrt:Ufe,scaleSymlog:Z7,scaleThreshold:e6,scaleTime:ime,scaleUtc:ame,tickFormat:q7},Symbol.toStringTag,{value:"Module"}));var Xl=e=>e.chartData,lme=ke([Xl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gT=(e,t,n,r)=>r?lme(e):Xl(e);function Yl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Bn(t)&&Bn(n))return!0}return!1}function aL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function g6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Bn(n))i=n;else if(typeof n=="function")return;if(Bn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Yl(s))return s}}function cme(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Yl(r))return aL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(nt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&RP.test(i)){var d=RP.exec(i);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(nt(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&LP.test(a)){var m=LP.exec(a);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var y=[s,c];if(Yl(y))return t==null?y:aL(y,t,n)}}}var yf=1e9,ume={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yT,wn=!0,Ua="[DecimalError] ",hu=Ua+"Invalid argument: ",vT=Ua+"Exponent out of range: ",bf=Math.floor,eu=Math.pow,dme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,wr=1e7,mn=7,v6=9007199254740991,hy=bf(v6/mn),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*mn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(e){return ks(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,n=t.constructor;return en(ks(t,new n(e),0,1),n.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return nr(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ta))throw Error(Ua+"NaN");if(n.s<1)throw Error(Ua+(n.s?"NaN":"-Infinity"));return n.eq(ta)?new r(0):(wn=!1,t=ks(Nm(n,a),Nm(e,a),a),wn=!0,en(t,i))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_6(t,e):y6(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ua+"NaN");return n.s?(wn=!1,t=ks(n,e,0,1).times(e),wn=!0,n.minus(t)):en(new r(n),i)};We.naturalExponential=We.exp=function(){return b6(this)};We.naturalLogarithm=We.ln=function(){return Nm(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y6(t,e):_6(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hu+e);if(t=nr(i)+1,r=i.d.length-1,n=r*mn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};We.squareRoot=We.sqrt=function(){var e,t,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ua+"NaN")}for(e=nr(c),wn=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=zo(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(ks(c,a,s+2)).times(.5),zo(a.d).slice(0,s)===(t=zo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(en(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return wn=!0,en(r,n)};We.times=We.mul=function(e){var t,n,r,i,a,s,c,d,f,m=this,p=m.constructor,y=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,n=m.e+e.e,d=y.length,f=b.length,d<f&&(a=y,y=b,b=a,s=d,d=f,f=s),a=[],s=d+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)c=a[i]+b[r]*y[i-r-1]+t,a[i--]=c%wr|0,t=c/wr|0;a[i]=(a[i]+t)%wr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,wn?en(e,p.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(qo(e,0,yf),t===void 0?t=r.rounding:qo(t,0,8),en(n,e+nr(n)+1,t))};We.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=_u(r,!0):(qo(e,0,yf),t===void 0?t=i.rounding:qo(t,0,8),r=en(new i(r),e+1,t),n=_u(r,!0,e+1)),n};We.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?_u(i):(qo(e,0,yf),t===void 0?t=a.rounding:qo(t,0,8),r=en(new a(i),e+nr(i)+1,t),n=_u(r.abs(),!1,e+nr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return en(new t(e),nr(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,n,r,i,a,s,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(ta);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ua+"Infinity");return c}if(c.eq(ta))return c;if(r=d.precision,e.eq(ta))return en(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=m<0?-m:m)<=v6){for(i=new d(ta),t=Math.ceil(r/mn+4),wn=!1;n%2&&(i=i.times(c),sL(i.d,t)),n=bf(n/2),n!==0;)c=c.times(c),sL(c.d,t);return wn=!0,e.s<0?new d(ta).div(i):en(i,r)}}else if(a<0)throw Error(Ua+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,wn=!1,i=e.times(Nm(c,r+f)),wn=!0,i=b6(i),i.s=a,i};We.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=nr(i),r=_u(i,n<=a.toExpNeg||n>=a.toExpPos)):(qo(e,1,yf),t===void 0?t=a.rounding:qo(t,0,8),i=en(new a(i),e,t),n=nr(i),r=_u(i,e<=n||n<=a.toExpNeg,e)),r};We.toSignificantDigits=We.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(qo(e,1,yf),t===void 0?t=r.rounding:qo(t,0,8)),en(new r(n),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nr(e),n=e.constructor;return _u(e,t<=n.toExpNeg||t>=n.toExpPos)};function y6(e,t){var n,r,i,a,s,c,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),wn?en(t,p):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=s,c=d.length),s=Math.ceil(p/mn),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/wr|0,d[a]%=wr;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,wn?en(t,p):t}function qo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hu+e)}function zo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=mn-r.length,n&&(a+=Pl(n)),a+=r;s=e[t],r=s+"",n=mn-r.length,n&&(a+=Pl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ks=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%wr|0,s=a/wr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*wr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,f,m,p,y,b,x,T,E,j,D,O,M,N,R,$,z,G=r.constructor,V=r.s==i.s?1:-1,H=r.d,U=i.d;if(!r.s)return new G(r);if(!i.s)throw Error(Ua+"Division by zero");for(d=r.e-i.e,$=U.length,N=H.length,b=new G(V),x=b.d=[],f=0;U[f]==(H[f]||0);)++f;if(U[f]>(H[f]||0)&&--d,a==null?D=a=G.precision:s?D=a+(nr(r)-nr(i))+1:D=a,D<0)return new G(0);if(D=D/mn+2|0,f=0,$==1)for(m=0,U=U[0],D++;(f<N||m)&&D--;f++)O=m*wr+(H[f]||0),x[f]=O/U|0,m=O%U|0;else{for(m=wr/(U[0]+1)|0,m>1&&(U=e(U,m),H=e(H,m),$=U.length,N=H.length),M=$,T=H.slice(0,$),E=T.length;E<$;)T[E++]=0;z=U.slice(),z.unshift(0),R=U[0],U[1]>=wr/2&&++R;do m=0,c=t(U,T,$,E),c<0?(j=T[0],$!=E&&(j=j*wr+(T[1]||0)),m=j/R|0,m>1?(m>=wr&&(m=wr-1),p=e(U,m),y=p.length,E=T.length,c=t(p,T,y,E),c==1&&(m--,n(p,$<y?z:U,y))):(m==0&&(c=m=1),p=U.slice()),y=p.length,y<E&&p.unshift(0),n(T,p,E),c==-1&&(E=T.length,c=t(U,T,$,E),c<1&&(m++,n(T,$<E?z:U,E))),E=T.length):c===0&&(m++,T=[0]),x[f++]=m,c&&T[0]?T[E++]=H[M]||0:(T=[H[M]],E=1);while((M++<N||T[0]!==void 0)&&D--)}return x[0]||x.shift(),b.e=d,en(b,s?a+nr(b)+1:a)}})();function b6(e,t){var n,r,i,a,s,c,d=0,f=0,m=e.constructor,p=m.precision;if(nr(e)>16)throw Error(vT+nr(e));if(!e.s)return new m(ta);for(wn=!1,c=p,s=new m(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(eu(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new m(ta),m.precision=c;;){if(i=en(i.times(e),c),n=n.times(++d),s=a.plus(ks(i,n,c)),zo(s.d).slice(0,c)===zo(a.d).slice(0,c)){for(;f--;)a=en(a.times(a),c);return m.precision=p,t==null?(wn=!0,en(a,p)):a}a=s}}function nr(e){for(var t=e.e*mn,n=e.d[0];n>=10;n/=10)t++;return t}function iS(e,t,n){if(t>e.LN10.sd())throw wn=!0,n&&(e.precision=n),Error(Ua+"LN10 precision limit exceeded");return en(new e(e.LN10),t)}function Pl(e){for(var t="";e--;)t+="0";return t}function Nm(e,t){var n,r,i,a,s,c,d,f,m,p=1,y=10,b=e,x=b.d,T=b.constructor,E=T.precision;if(b.s<1)throw Error(Ua+(b.s?"NaN":"-Infinity"));if(b.eq(ta))return new T(0);if(t==null?(wn=!1,f=E):f=t,b.eq(10))return t==null&&(wn=!0),iS(T,f);if(f+=y,T.precision=f,n=zo(x),r=n.charAt(0),a=nr(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=zo(b.d),r=n.charAt(0),p++;a=nr(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return d=iS(T,f+2,E).times(a+""),b=Nm(new T(r+"."+n.slice(1)),f-y).plus(d),T.precision=E,t==null?(wn=!0,en(b,E)):b;for(c=s=b=ks(b.minus(ta),b.plus(ta),f),m=en(b.times(b),f),i=3;;){if(s=en(s.times(m),f),d=c.plus(ks(s,new T(i),f)),zo(d.d).slice(0,f)===zo(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(iS(T,f+2,E).times(a+""))),c=ks(c,new T(p),f),T.precision=E,t==null?(wn=!0,en(c,E)):c;c=d,i+=2}}function oL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=bf(n/mn),e.d=[],r=(n+1)%mn,n<0&&(r+=mn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=mn;r<i;)e.d.push(+t.slice(r,r+=mn));t=t.slice(r),r=mn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),wn&&(e.e>hy||e.e<-hy))throw Error(vT+n)}else e.s=0,e.e=0,e.d=[0];return e}function en(e,t,n){var r,i,a,s,c,d,f,m,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=mn,i=t,f=p[m=0];else{if(m=Math.ceil((r+1)/mn),a=p.length,m>=a)return e;for(f=a=p[m],s=1;a>=10;a/=10)s++;r%=mn,i=r-mn+s}if(n!==void 0&&(a=eu(10,s-i-1),c=f/a%10|0,d=t<0||p[m+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/eu(10,s-i):0:p[m-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=nr(e),p.length=1,t=t-a-1,p[0]=eu(10,(mn-t%mn)%mn),e.e=bf(-t/mn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=m,a=1,m--):(p.length=m+1,a=eu(10,mn-r),p[m]=i>0?(f/eu(10,s-i)%eu(10,i)|0)*a:0),d)for(;;)if(m==0){(p[0]+=a)==wr&&(p[0]=1,++e.e);break}else{if(p[m]+=a,p[m]!=wr)break;p[m--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(wn&&(e.e>hy||e.e<-hy))throw Error(vT+nr(e));return e}function _6(e,t){var n,r,i,a,s,c,d,f,m,p,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wn?en(t,b):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(m=s<0,m?(n=d,s=-s,c=p.length):(n=p,r=f,c=d.length),i=Math.max(Math.ceil(b/mn),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}s=0}for(m&&(n=d,d=p,p=n,t.s=-t.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>s;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=wr-1;--d[a],d[i]+=wr}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,wn?en(t,b):t):new y(0)}function _u(e,t,n){var r,i=nr(e),a=zo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pl(-i-1)+a,n&&(r=n-s)>0&&(a+=Pl(r))):i>=s?(a+=Pl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Pl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Pl(r))),e.s<0?"-"+a:a}function sL(e,t){if(e.length>t)return e.length=t,!0}function x6(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return oL(s,a.toString())}else if(typeof a!="string")throw Error(hu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dme.test(a))oL(s,a);else throw Error(hu+a)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=x6,i.config=i.set=fme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function fme(e){if(!e||typeof e!="object")throw Error(Ua+"Object expected");var t,n,r,i=["precision",1,yf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(bf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(hu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hu+n+": "+r);return this}var yT=x6(ume);ta=new yT(1);const Yt=yT;var hme=e=>e,w6={},S6=e=>e===w6,lL=e=>function t(){return arguments.length===0||arguments.length===1&&S6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},E6=(e,t)=>e===1?t:lL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==w6).length;return a>=e?t(...r):E6(e-a,lL(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(m=>S6(m)?c.shift():m);return t(...f,...c)}))}),mme=e=>E6(e.length,e),qE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pme=mme((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),gme=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return hme;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,d)=>d(c),a(...arguments))}},YE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function A6(e){var t;return e===0?t=1:t=Math.floor(new Yt(e).abs().log(10).toNumber())+1,t}function T6(e,t,n){for(var r=new Yt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var k6=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},O6=(e,t,n)=>{if(e.lte(0))return new Yt(0);var r=A6(e.toNumber()),i=new Yt(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new Yt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return t?new Yt(d.toNumber()):new Yt(Math.ceil(d.toNumber()))},vme=(e,t,n)=>{var r=new Yt(1),i=new Yt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Yt(10).pow(A6(e)-1),i=new Yt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Yt(Math.floor(e)))}else e===0?i=new Yt(Math.floor((t-1)/2)):n||(i=new Yt(Math.floor(e)));var s=Math.floor((t-1)/2),c=gme(pme(d=>i.add(new Yt(d-s).mul(r)).toNumber()),qE);return c(0,t)},j6=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var s=O6(new Yt(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new Yt(0):(c=new Yt(t).add(n).div(2),c=c.sub(new Yt(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new Yt(n).sub(c).div(s).toNumber()),m=d+f+1;return m>r?j6(t,n,r,i,a+1):(m<r&&(f=n>0?f+(r-m):f,d=n>0?d:d+(r-m)),{step:s,tickMin:c.sub(new Yt(d).mul(s)),tickMax:c.add(new Yt(f).mul(s))})},yme=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[c,d]=k6([n,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...qE(0,i-1).map(()=>1/0)]:[...qE(0,i-1).map(()=>-1/0),d];return n>r?YE(f):f}if(c===d)return vme(c,i,a);var{step:m,tickMin:p,tickMax:y}=j6(c,d,s,a,0),b=T6(p,y.add(new Yt(.1).mul(m)),m);return n>r?YE(b):b},bme=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=k6([r,i]);if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var d=Math.max(n,2),f=O6(new Yt(c).sub(s).div(d-1),a,0),m=[...T6(new Yt(s),new Yt(c),f),c];return a===!1&&(m=m.map(p=>Math.round(p))),r>i?YE(m):m},_me=e=>e.rootProps.barCategoryGap,Mb=e=>e.rootProps.stackOffset,N6=e=>e.rootProps.reverseStackOrder,bT=e=>e.options.chartName,_T=e=>e.rootProps.syncId,C6=e=>e.rootProps.syncMethod,xT=e=>e.options.eventEmitter,xme=e=>e.rootProps.baseValue,ui={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Qi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Db=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:xs.reversed,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:xs.type,unit:void 0},Sme={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:Qi.type,unit:void 0},Eme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ame={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:"category",unit:void 0},wT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Eme:wme,ST=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ame:Sme,Pb=e=>e.polarOptions,ET=ke([zs,Us,zr],yde),M6=ke([Pb,ET],(e,t)=>{if(e!=null)return ql(e.innerRadius,t,0)}),D6=ke([Pb,ET],(e,t)=>{if(e!=null)return ql(e.outerRadius,t,t*.8)}),Tme=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},P6=ke([Pb],Tme);ke([wT,P6],Db);var R6=ke([ET,M6,D6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ke([ST,R6],Db);var L6=ke([un,Pb,M6,D6,zs,Us],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:ql(s,i,i/2),cy:ql(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),fr=(e,t)=>t,Rb=(e,t,n)=>n;function AT(e){return e?.id}function I6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=AT(c);f.forEach((p,y)=>{var b=a==null||i?y:String(Qr(p,a,null)),x=Qr(p,c.dataKey,0),T;s.has(b)?T=s.get(b):T={},Object.assign(T,{[m]:x}),s.set(b,T)})}}),Array.from(s.values())}function TT(e){return e.stackId!=null&&e.dataKey!=null}var Lb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ib(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kme(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var hr=e=>{var t=un(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_f=e=>e.tooltip.settings.axisId;function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(n),!0).forEach(function(r){Ome(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ome(e,t,n){return(t=jme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jme(e){var t=Nme(e,"string");return typeof t=="symbol"?t:t+""}function Nme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KE=[0,"auto"],br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$6=(e,t)=>e.cartesianAxis.xAxis[t],Fs=(e,t)=>{var n=$6(e,t);return n??br},_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:KE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ep},B6=(e,t)=>e.cartesianAxis.yAxis[t],Gs=(e,t)=>{var n=B6(e,t);return n??_r},Cme={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Cme},hi=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Gs(e,n);case"zAxis":return kT(e,n);case"angleAxis":return wT(e,n);case"radiusAxis":return ST(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mme=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Gs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},sp=(e,t,n)=>{switch(t){case"xAxis":return Fs(e,n);case"yAxis":return Gs(e,n);case"angleAxis":return wT(e,n);case"radiusAxis":return ST(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},z6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function U6(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var H6=e=>e.graphicalItems.cartesianItems,Dme=ke([fr,Rb],U6),F6=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),lp=ke([H6,hi,Dme],F6,{memoizeOptions:{resultEqualityCheck:Ib}}),G6=ke([lp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(TT)),q6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Pme=ke([lp],q6),Y6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Rme=ke([lp],Y6,{memoizeOptions:{resultEqualityCheck:Ib}}),K6=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},OT=ke([Rme,gT],K6),W6=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Qr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Qr(i,r)}))):e.map(r=>({value:r})),$b=ke([OT,hi,lp],W6);function V6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lv(e){if(Fo(e)||e instanceof Date){var t=Number(e);if(Bn(t))return t}}function uL(e){if(Array.isArray(e)){var t=[lv(e[0]),lv(e[1])];return Yl(t)?t:void 0}var n=lv(e);if(n!=null)return[n,n]}function Ls(e){return e.map(lv).filter(nse)}function Lme(e,t,n){return!n||typeof t!="number"||vo(t)?[]:n.length?Ls(n.flatMap(r=>{var i=Qr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Bn(a)||!Bn(s)))return[t-a,t+s]})):[]}var mr=e=>{var t=hr(e),n=_f(e);return sp(e,t,n)},cp=ke([mr],e=>e?.dataKey),Ime=ke([G6,gT,mr],I6),Z6=(e,t,n,r)=>{var i={},a=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[c,d]=s,f=r?[...d].reverse():d,m=f.map(AT);return[c,{stackedData:sce(e,m,n),graphicalItems:f}]}))},WE=ke([Ime,G6,Mb,N6],Z6),X6=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=dce(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},$me=ke([hi],e=>e.allowDataOverflow),jT=e=>{var t;if(e==null||!("domain"in e))return KE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ls(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:KE},J6=ke([hi],jT),Q6=ke([J6,$me],g6),Bme=ke([WE,Xl,fr,Q6],X6,{memoizeOptions:{resultEqualityCheck:Lb}}),NT=e=>e.errorBars,zme=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>V6(n,r)),py=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},e9=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var f,m,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(j=>V6(i,j)),y=Qr(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),b=Lme(c,y,p);if(b.length>=2){var x=Math.min(...b),T=Math.max(...b);(a==null||x<a)&&(a=x),(s==null||T>s)&&(s=T)}var E=uL(y);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=uL(Qr(c,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),s=s==null?d[1]:Math.max(s,d[1]))}),Bn(a)&&Bn(s))return[a,s]},Ume=ke([OT,hi,Pme,NT,fr],e9,{memoizeOptions:{resultEqualityCheck:Lb}});function Hme(e){var{value:t}=e;if(Fo(t)||t instanceof Date)return t}var Fme=(e,t,n)=>{var r=e.map(Hme).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&b4(r))?R7(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},t9=e=>e.referenceElements.dots,xf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Gme=ke([t9,fr,Rb],xf),n9=e=>e.referenceElements.areas,qme=ke([n9,fr,Rb],xf),r9=e=>e.referenceElements.lines,Yme=ke([r9,fr,Rb],xf),i9=(e,t)=>{var n=Ls(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Kme=ke(Gme,fr,i9),a9=(e,t)=>{var n=Ls(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wme=ke([qme,fr],a9);function Vme(e){var t;if(e.x!=null)return Ls([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ls(n)}function Zme(e){var t;if(e.y!=null)return Ls([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ls(n)}var o9=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Vme(r):Zme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xme=ke([Yme,fr],o9),Jme=ke(Kme,Xme,Wme,(e,t,n)=>py(e,n,t)),s9=(e,t,n,r,i,a,s,c)=>{if(n!=null)return n;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=d?py(r,a,i):py(a,i);return cme(t,f,e.allowDataOverflow)},Qme=ke([hi,J6,Q6,Bme,Ume,Jme,un,fr],s9,{memoizeOptions:{resultEqualityCheck:Lb}}),epe=[0,1],l9=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=Bs(t,a);if(f&&c==null){var m;return R7(0,(m=n?.length)!==null&&m!==void 0?m:0)}return d==="category"?Fme(r,e,f):i==="expand"?epe:s}},CT=ke([hi,un,OT,$b,Mb,fr,Qme],l9),c9=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(DA(a));return c in Wh?c:"point"}}},up=ke([hi,un,z6,bT,fr],c9);function tpe(e){if(e!=null){if(e in Wh)return Wh[e]();var t="scale".concat(DA(e));if(t in Wh)return Wh[t]()}}function MT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=tpe(t);if(i!=null){var a=i.domain(n).range(r);return rce(a),a}}}var u9=(e,t,n)=>{var r=jT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yl(e))return yme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Yl(e))return bme(e,t.tickCount,t.allowDecimals)}},DT=ke([CT,sp,up],u9),d9=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Yl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},npe=ke([hi,CT,DT,fr],d9),rpe=ke($b,hi,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ls(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),f9=ke(rpe,un,_me,zr,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Bn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ql(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),ipe=(e,t)=>{var n=Fs(e,t);return n==null||typeof n.padding!="string"?0:f9(e,"xAxis",t,n.padding)},ape=(e,t)=>{var n=Gs(e,t);return n==null||typeof n.padding!="string"?0:f9(e,"yAxis",t,n.padding)},ope=ke(Fs,ipe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),spe=ke(Gs,ape,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),lpe=ke([zr,ope,_b,bb,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),cpe=ke([zr,un,spe,_b,bb,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),dp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return lpe(e,n,r);case"yAxis":return cpe(e,n,r);case"zAxis":return(i=kT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return P6(e);case"radiusAxis":return R6(e,n);default:return}},h9=ke([hi,dp],Db),wf=ke([hi,up,npe,h9],MT);ke([lp,NT,fr],zme);function m9(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bb=(e,t)=>t,zb=(e,t,n)=>n,upe=ke(vb,Bb,zb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(m9)),dpe=ke(yb,Bb,zb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(m9)),p9=(e,t)=>({width:e.width,height:t.height}),fpe=(e,t)=>{var n=typeof t.width=="number"?t.width:ep;return{width:n,height:e.height}},hpe=ke(zr,Fs,p9),mpe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},ppe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},gpe=ke(Us,zr,upe,Bb,zb,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=p9(t,c);s==null&&(s=mpe(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),a}),vpe=ke(zs,zr,dpe,Bb,zb,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=fpe(t,c);s==null&&(s=ppe(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),a}),ype=(e,t)=>{var n=Fs(e,t);if(n!=null)return gpe(e,n.orientation,n.mirror)},bpe=ke([zr,Fs,ype,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),_pe=(e,t)=>{var n=Gs(e,t);if(n!=null)return vpe(e,n.orientation,n.mirror)},xpe=ke([zr,Gs,_pe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),wpe=ke(zr,Gs,(e,t)=>{var n=typeof t.width=="number"?t.width:ep;return{width:n,height:e.height}}),g9=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=Bs(e,r),d=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&b4(d))return d}},PT=ke([un,$b,hi,fr],g9),v9=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Bs(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},RT=ke([un,$b,sp,fr],v9),dL=ke([un,Mme,up,wf,PT,RT,dp,DT,fr],(e,t,n,r,i,a,s,c,d)=>{if(t!=null){var f=Bs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}}),Spe=(e,t,n,r,i,a,s,c,d)=>{if(!(t==null||r==null)){var f=Bs(e,d),{type:m,ticks:p,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/b:0;x=d==="angleAxis"&&a!=null&&a.length>=2?Da(a[0]-a[1])*2*x:x;var T=p||i;if(T){var E=T.map((j,D)=>{var O=s?s.indexOf(j):j;return{index:D,coordinate:r(O)+x,value:j,offset:x}});return E.filter(j=>Bn(j.coordinate))}return f&&c?c.map((j,D)=>({coordinate:r(j)+x,value:j,index:D,offset:x})).filter(j=>Bn(j.coordinate)):r.ticks?r.ticks(y).map(j=>({coordinate:r(j)+x,value:j,offset:x})):r.domain().map((j,D)=>({coordinate:r(j)+x,value:s?s[j]:j,index:D,offset:x}))}},y9=ke([un,sp,up,wf,DT,dp,PT,RT,fr],Spe),Epe=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Bs(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&r?.length>=2?Da(r[0]-r[1])*2*f:f,c&&a?a.map((m,p)=>({coordinate:n(m)+f,value:m,index:p,offset:f})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,p)=>({coordinate:n(m)+f,value:i?i[m]:m,index:p,offset:f}))}},b9=ke([un,sp,wf,dp,PT,RT,fr],Epe),_9=ke(hi,wf,(e,t)=>{if(!(e==null||t==null))return my(my({},e),{},{scale:t})}),Ape=ke([hi,up,CT,h9],MT);ke((e,t,n)=>kT(e,n),Ape,(e,t)=>{if(!(e==null||t==null))return my(my({},e),{},{scale:t})});var Tpe=ke([un,vb,yb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),x9=e=>e.options.defaultTooltipEventType,w9=e=>e.options.validateTooltipEventTypes;function S9(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function LT(e,t){var n=x9(e),r=w9(e);return S9(t,n,r)}function kpe(e){return at(t=>LT(t,e))}var E9=(e,t)=>{var n,r=Number(t);if(!(vo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Ope=e=>e.tooltip.settings,Bl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jpe={itemInteraction:{click:Bl,hover:Bl},axisInteraction:{click:Bl,hover:Bl},keyboardInteraction:Bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},A9=Ri({name:"tooltip",initialState:jpe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:xn()},removeTooltipEntrySettings:{reducer(e,t){var n=po(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Npe,replaceTooltipEntrySettings:Cpe,removeTooltipEntrySettings:Mpe,setTooltipSettingsState:Dpe,setActiveMouseOverItemIndex:Ppe,mouseLeaveItem:M1e,mouseLeaveChart:T9,setActiveClickItemIndex:D1e,setMouseOverAxisIndex:k9,setMouseClickAxisIndex:Rpe,setSyncInteraction:VE,setKeyboardInteraction:ZE}=A9.actions,Lpe=A9.reducer;function fL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(n),!0).forEach(function(r){Ipe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ipe(e,t,n){return(t=$pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $pe(e){var t=Bpe(e,"string");return typeof t=="symbol"?t:t+""}function Bpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zpe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Upe(e){return e.index!=null}var O9=(e,t,n,r)=>{if(t==null)return Bl;var i=zpe(e,t,n);if(i==null)return Bl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Upe(i)){if(a)return D0(D0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return D0(D0({},Bl),{},{coordinate:i.coordinate})};function Hpe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Fpe(e,t){var n=Hpe(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Gpe(e,t,n){if(n==null||t==null)return!0;var r=Qr(e,t);return r==null||!Yl(n)?!0:Fpe(r,n)}var IT=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Bn(a))return i;var s=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(s,Math.min(a,c)),f=t[d];return f==null||Gpe(f,n,r)?String(d):null},j9=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,a);if(f!=null)return f;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:m.coordinate}}}},N9=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},fp=e=>e.options.tooltipPayloadSearcher,Sf=e=>e.tooltip;function hL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(n),!0).forEach(function(r){qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpe(e,t,n){return(t=Ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ype(e){var t=Kpe(e,"string");return typeof t=="symbol"?t:t+""}function Kpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wpe(e,t){return e??t}var C9=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=n,p=[];return e.reduce((y,b)=>{var x,{dataDefinedOnItem:T,settings:E}=b,j=Wpe(T,c),D=Array.isArray(j)?s7(j,f,m):j,O=(x=E?.dataKey)!==null&&x!==void 0?x:r,M=E?.nameKey,N;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?N=_4(D,r,i):N=a(D,t,d,M),Array.isArray(N))N.forEach($=>{var z=mL(mL({},E),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});y.push(IP({tooltipEntrySettings:z,dataKey:$.dataKey,payload:$.payload,value:Qr($.payload,$.dataKey),name:$.name}))});else{var R;y.push(IP({tooltipEntrySettings:E,dataKey:O,payload:N,value:Qr(N,O),name:(R=Qr(N,M))!==null&&R!==void 0?R:E?.name}))}return y},p)}},$T=ke([mr,un,z6,bT,hr],c9),Vpe=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Zpe=ke([hr,_f],U6),hp=ke([Vpe,mr,Zpe],F6,{memoizeOptions:{resultEqualityCheck:Ib}}),Xpe=ke([hp],e=>e.filter(TT)),Jpe=ke([hp],Y6,{memoizeOptions:{resultEqualityCheck:Ib}}),Ef=ke([Jpe,Xl],K6),Qpe=ke([Xpe,Xl,mr],I6),BT=ke([Ef,mr,hp],W6),M9=ke([mr],jT),ege=ke([mr],e=>e.allowDataOverflow),D9=ke([M9,ege],g6),tge=ke([hp],e=>e.filter(TT)),nge=ke([Qpe,tge,Mb,N6],Z6),rge=ke([nge,Xl,hr,D9],X6),ige=ke([hp],q6),age=ke([Ef,mr,ige,NT,hr],e9,{memoizeOptions:{resultEqualityCheck:Lb}}),oge=ke([t9,hr,_f],xf),sge=ke([oge,hr],i9),lge=ke([n9,hr,_f],xf),cge=ke([lge,hr],a9),uge=ke([r9,hr,_f],xf),dge=ke([uge,hr],o9),fge=ke([sge,dge,cge],py),hge=ke([mr,M9,D9,rge,age,fge,un,hr],s9),mp=ke([mr,un,Ef,BT,Mb,hr,hge],l9),mge=ke([mp,mr,$T],u9),pge=ke([mr,mp,mge,hr],d9),P9=e=>{var t=hr(e),n=_f(e),r=!1;return dp(e,t,n,r)},R9=ke([mr,P9],Db),L9=ke([mr,$T,pge,R9],MT),gge=ke([un,BT,mr,hr],g9),vge=ke([un,BT,mr,hr],v9),yge=(e,t,n,r,i,a,s,c)=>{if(t){var{type:d}=t,f=Bs(e,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?Da(i[0]-i[1])*2*p:p,f&&s?s.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:a?a[y]:y,index:b,offset:p}))}}},qs=ke([un,mr,$T,L9,P9,gge,vge,hr],yge),zT=ke([x9,w9,Ope],(e,t,n)=>S9(n.shared,e,t)),I9=e=>e.tooltip.settings.trigger,UT=e=>e.tooltip.settings.defaultIndex,pp=ke([Sf,zT,I9,UT],O9),Cm=ke([pp,Ef,cp,mp],IT),$9=ke([qs,Cm],E9),bge=ke([pp],e=>{if(e)return e.dataKey});ke([pp],e=>{if(e)return e.graphicalItemId});var B9=ke([Sf,zT,I9,UT],N9),_ge=ke([zs,Us,un,zr,qs,UT,B9,fp],j9),xge=ke([pp,_ge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wge=ke([pp],e=>e.active),Sge=ke([B9,Cm,Xl,cp,$9,fp,zT],C9),Ege=ke([Sge],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(r){Age(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Age(e,t,n){return(t=Tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tge(e){var t=kge(e,"string");return typeof t=="symbol"?t:t+""}function kge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oge=()=>at(mr),jge=()=>{var e=Oge(),t=at(qs),n=at(L9);return Wv(!e||!n?void 0:gL(gL({},e),{},{scale:n}),t)};function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){Nge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nge(e,t,n){return(t=Cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cge(e){var t=Mge(e,"string");return typeof t=="symbol"?t:t+""}function Mge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dge=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Pge=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return wd(wd(wd({},r),$r(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return wd(wd(wd({},r),$r(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Rge(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var z9=(e,t,n,r,i)=>{var a,s=-1,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,y=void 0;if(Da(m-f)!==Da(p-m)){var b=[];if(Da(p-m)===Da(i[1]-i[0])){y=p;var x=m+i[1]-i[0];b[0]=Math.min(x,(x+f)/2),b[1]=Math.max(x,(x+f)/2)}else{y=f;var T=p+i[1]-i[0];b[0]=Math.min(m,(T+m)/2),b[1]=Math.max(m,(T+m)/2)}var E=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>E[0]&&e<=E[1]||e>=b[0]&&e<=b[1]){({index:s}=n[d]);break}}else{var j=Math.min(f,p),D=Math.max(f,p);if(e>(j+m)/2&&e<=(D+m)/2){({index:s}=n[d]);break}}}else if(t){for(var O=0;O<c;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===c-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:s}=t[O]);break}}return s},U9=()=>at(bT),HT=(e,t)=>t,H9=(e,t,n)=>n,FT=(e,t,n,r)=>r,Lge=ke(qs,e=>lb(e,t=>t.coordinate)),GT=ke([Sf,HT,H9,FT],O9),qT=ke([GT,Ef,cp,mp],IT),Ige=(e,t,n)=>{if(t!=null){var r=Sf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},F9=ke([Sf,HT,H9,FT],N9),gy=ke([zs,Us,un,zr,qs,FT,F9,fp],j9),$ge=ke([GT,gy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),G9=ke([qs,qT],E9),Bge=ke([F9,qT,Xl,cp,G9,fp,HT],C9),zge=ke([GT,qT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Uge=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&Rge(e,s)){var c=fce(e,t),d=z9(c,a,i,n,r),f=Dge(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Hge=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var c=Sde(e,n);if(c){var d=hce(c,t),f=z9(d,s,a,r,i),m=Pge(t,a,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Fge=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Uge(e,t,r,i,a,s,c):Hge(e,t,n,r,i,a,s)},Gge=ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),qge=ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ui)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kme}});function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){Yge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yge(e,t,n){return(t=Kge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kge(e){var t=Wge(e,"string");return typeof t=="symbol"?t:t+""}function Wge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vge={},Zge={zIndexMap:Object.values(ui).reduce((e,t)=>bL(bL({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Vge)},Xge=new Set(Object.values(ui));function Jge(e){return Xge.has(e)}var q9=Ri({name:"zIndex",initialState:Zge,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Jge(n)&&delete e.zIndexMap[n])},prepare:xn()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:xn()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:xn()}}}),{registerZIndexPortal:Qge,unregisterZIndexPortal:e0e,registerZIndexPortalId:t0e,unregisterZIndexPortalId:n0e}=q9.actions,r0e=q9.reducer;function Ys(e){var{zIndex:t,children:n}=e,r=Kce(),i=r&&t!==void 0&&t!==0,a=Li(),s=Tr();A.useLayoutEffect(()=>i?(s(Qge({zIndex:t})),()=>{s(e0e({zIndex:t}))}):Zm,[s,t,i]);var c=at(f=>Gge(f,t,a));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?lf.createPortal(n,d):null}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(null,arguments)}function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(r){i0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i0e(e,t,n){return(t=a0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0e(e){var t=o0e(e,"string");return typeof t=="symbol"?t:t+""}function o0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0e(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function l0e(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,p=n,y=r,b=i;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var x,T,E;if(m==="ScatterChart")x=p,T=Rue,E=ui.cursorLine;else if(m==="BarChart")x=Lue(c,p,a,s),T=hde,E=ui.cursorRectangle;else if(c==="radial"&&x4(p)){var{cx:j,cy:D,radius:O,startAngle:M,endAngle:N}=D7(p);x={cx:j,cy:D,startAngle:M,endAngle:N,innerRadius:O,outerRadius:O},T=kde,E=ui.cursorLine}else x={points:Ode(c,p,a)},T=sv,E=ui.cursorLine;var R=typeof d=="object"&&"className"in d?d.className:void 0,$=P0(P0(P0(P0({stroke:"#ccc",pointerEvents:"none"},a),x),ib(d)),{},{payload:y,payloadIndex:b,className:pn("recharts-tooltip-cursor",R)});return A.createElement(Ys,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},A.createElement(s0e,{cursor:d,cursorComp:T,cursorProps:$}))}function c0e(e){var t=jge(),n=v7(),r=tp(),i=U9();return t==null||n==null||r==null||i==null?null:A.createElement(l0e,XE({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Y9=A.createContext(null),u0e=()=>A.useContext(Y9),aS={exports:{}},xL;function d0e(){return xL||(xL=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function a(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,p||d,y),x=n?n+f:f;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],b]:d._events[x].push(b):(d._events[x]=b,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=n?n+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,x=new Array(b);y<b;y++)x[y]=p[y].fn;return x},c.prototype.listenerCount=function(f){var m=n?n+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,b,x){var T=n?n+f:f;if(!this._events[T])return!1;var E=this._events[T],j=arguments.length,D,O;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),j){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,p),!0;case 4:return E.fn.call(E.context,m,p,y),!0;case 5:return E.fn.call(E.context,m,p,y,b),!0;case 6:return E.fn.call(E.context,m,p,y,b,x),!0}for(O=1,D=new Array(j-1);O<j;O++)D[O-1]=arguments[O];E.fn.apply(E.context,D)}else{var M=E.length,N;for(O=0;O<M;O++)switch(E[O].once&&this.removeListener(f,E[O].fn,void 0,!0),j){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,m);break;case 3:E[O].fn.call(E[O].context,m,p);break;case 4:E[O].fn.call(E[O].context,m,p,y);break;default:if(!D)for(N=1,D=new Array(j-1);N<j;N++)D[N-1]=arguments[N];E[O].fn.apply(E[O].context,D)}}return!0},c.prototype.on=function(f,m,p){return a(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return a(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var b=n?n+f:f;if(!this._events[b])return this;if(!m)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===m&&(!y||x.once)&&(!p||x.context===p)&&s(this,b);else{for(var T=0,E=[],j=x.length;T<j;T++)(x[T].fn!==m||y&&!x[T].once||p&&x[T].context!==p)&&E.push(x[T]);E.length?this._events[b]=E.length===1?E[0]:E:s(this,b)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&s(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(aS)),aS.exports}var f0e=d0e();const h0e=Pi(f0e);var Mm=new h0e,JE="recharts.syncEvent.tooltip",wL="recharts.syncEvent.brush";function m0e(e,t){if(t){var n=Number.parseInt(t,10);if(!vo(n))return e?.[n]}}var p0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},K9=Ri({name:"options",initialState:p0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),g0e=K9.reducer,{createEventEmitter:v0e}=K9.actions;function y0e(e){return e.tooltip.syncInteraction}var b0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W9=Ri({name:"chartData",initialState:b0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:SL,setDataStartEndIndexes:_0e,setComputedData:P1e}=W9.actions,x0e=W9.reducer,w0e=["x","y"];function EL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(n),!0).forEach(function(r){S0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S0e(e,t,n){return(t=E0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T0e(e,t){if(e==null)return{};var n,r,i=k0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function O0e(){var e=at(_T),t=at(xT),n=Tr(),r=at(C6),i=at(qs),a=tp(),s=xb(),c=at(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return Zm;var d=(f,m,p)=>{if(t!==p&&e===f){if(r==="index"){var y;if(s&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x,y:T}=b,E=T0e(b,w0e),{x:j,y:D,width:O,height:M}=m.payload.sourceViewBox,N=Sd(Sd({},E),{},{x:s.x+(O?(x-j)/O:0)*s.width,y:s.y+(M?(T-D)/M:0)*s.height});n(Sd(Sd({},m),{},{payload:Sd(Sd({},m.payload),{},{coordinate:N})}))}else n(m);return}if(i!=null){var R;if(typeof r=="function"){var $={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},z=r(i,$);R=i[z]}else r==="value"&&(R=i.find(J=>String(J.value)===m.payload.label));var{coordinate:G}=m.payload;if(R==null||m.payload.active===!1||G==null||s==null){n(VE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:H}=G,U=Math.min(V,s.x+s.width),Z=Math.min(H,s.y+s.height),re={x:a==="horizontal"?R.coordinate:U,y:a==="horizontal"?Z:R.coordinate},ve=VE({active:m.payload.active,coordinate:re,dataKey:m.payload.dataKey,index:String(R.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(ve)}}};return Mm.on(JE,d),()=>{Mm.off(JE,d)}},[c,n,t,e,r,i,a,s])}function j0e(){var e=at(_T),t=at(xT),n=Tr();A.useEffect(()=>{if(e==null)return Zm;var r=(i,a,s)=>{t!==s&&e===i&&n(_0e(a))};return Mm.on(wL,r),()=>{Mm.off(wL,r)}},[n,t,e])}function N0e(){var e=Tr();A.useEffect(()=>{e(v0e())},[e]),O0e(),j0e()}function C0e(e,t,n,r,i,a){var s=at(b=>Ige(b,e,t)),c=at(xT),d=at(_T),f=at(C6),m=at(y0e),p=m?.active,y=xb();A.useEffect(()=>{if(!p&&d!=null&&c!=null){var b=VE({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Mm.emit(JE,d,b,c)}},[p,n,s,i,r,c,d,f,a,y])}function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){M0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M0e(e,t,n){return(t=D0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D0e(e){var t=P0e(e,"string");return typeof t=="symbol"?t:t+""}function P0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0e(e){return e.dataKey}function L0e(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(mue,t)}var kL=[],I0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $0e(e){var t,n,r=da(e,I0e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:b,reverseDirection:x,useTranslate3d:T,wrapperStyle:E,cursor:j,shared:D,trigger:O,defaultIndex:M,portal:N,axisId:R}=r,$=Tr(),z=typeof M=="number"?String(M):M;A.useEffect(()=>{$(Dpe({shared:D,trigger:O,axisId:R,active:i,defaultIndex:z}))},[$,D,O,R,i,z]);var G=xb(),V=k7(),H=kpe(D),{activeIndex:U,isActive:Z}=(t=at(le=>zge(le,H,O,z)))!==null&&t!==void 0?t:{},re=at(le=>Bge(le,H,O,z)),ve=at(le=>G9(le,H,O,z)),J=at(le=>$ge(le,H,O,z)),ae=re,ne=u0e(),ce=(n=i??Z)!==null&&n!==void 0?n:!1,[te,Y]=nle([ae,ce]),B=H==="axis"?ve:void 0;C0e(H,O,J,B,U,ce);var X=N??ne;if(X==null||G==null||H==null)return null;var ee=ae??kL;ce||(ee=kL),f&&ee.length&&(ee=Ose(ee.filter(le=>le.value!=null&&(le.hide!==!0||r.includeHidden)),y,R0e));var q=ee.length>0,W=A.createElement(xue,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:m,active:ce,coordinate:J,hasPayload:q,offset:p,position:b,reverseDirection:x,useTranslate3d:T,viewBox:G,wrapperStyle:E,lastBoundingBox:te,innerRef:Y,hasPortalFromProps:!!N},L0e(d,TL(TL({},r),{},{payload:ee,label:B,active:ce,activeIndex:U,coordinate:J,accessibilityLayer:V})));return A.createElement(A.Fragment,null,lf.createPortal(W,X),ce&&A.createElement(c0e,{cursor:j,tooltipEventType:H,coordinate:J,payload:ee,index:U}))}function B0e(e,t,n){return(t=z0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z0e(e){var t=U0e(e,"string");return typeof t=="symbol"?t:t+""}function U0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class H0e{constructor(t){B0e(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){G0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G0e(e,t,n){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K0e={cacheSize:2e3,enableCache:!0},V9=F0e({},K0e),jL=new H0e(V9.cacheSize),W0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NL="recharts_measurement_span";function V0e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var CL=(e,t)=>{try{var n=document.getElementById(NL);n||(n=document.createElement("span"),n.setAttribute("id",NL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,W0e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},tm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gf.isSsr)return{width:0,height:0};if(!V9.enableCache)return CL(t,n);var r=V0e(t,n),i=jL.get(r);if(i)return i;var a=CL(t,n);return jL.set(r,a),a},ML=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,X0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},J0e=Object.keys(Z9),Ld="NaN";function Q0e(e,t){return e*Z9[t]}class ji{static parse(t){var n,[,r,i]=(n=X0e.exec(t))!==null&&n!==void 0?n:[];return new ji(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vo(t)&&(this.unit=""),n!==""&&!Z0e.test(n)&&(this.num=NaN,this.unit=""),J0e.includes(n)&&(this.num=Q0e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ji(NaN,""):new ji(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ji(NaN,""):new ji(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ji(NaN,""):new ji(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ji(NaN,""):new ji(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vo(this.num)}}function X9(e){if(e.includes(Ld))return Ld;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=ML.exec(t))!==null&&n!==void 0?n:[],s=ji.parse(r??""),c=ji.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return Ld;t=t.replace(ML,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=DL.exec(t))!==null&&f!==void 0?f:[],b=ji.parse(m??""),x=ji.parse(y??""),T=p==="+"?b.add(x):b.subtract(x);if(T.isNaN())return Ld;t=t.replace(DL,T.toString())}return t}var PL=/\(([^()]*)\)/;function eve(e){for(var t=e,n;(n=PL.exec(t))!=null;){var[,r]=n;t=t.replace(PL,X9(r))}return t}function tve(e){var t=e.replace(/\s+/g,"");return t=eve(t),t=X9(t),t}function nve(e){try{return tve(e)}catch{return Ld}}function oS(e){var t=nve(e.slice(5,-1));return t===Ld?"":t}var rve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],ive=["dx","dy","angle","className","breakAll"];function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(null,arguments)}function RL(e,t){if(e==null)return{};var n,r,i=ave(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ave(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J9=/[ \f\n\r\t\v\u2028\u2029]+/,Q9=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Br(t)||(n?i=t.toString().split(""):i=t.toString().split(J9));var a=i.map(c=>({word:c,width:tm(c,r).width})),s=n?0:tm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function ove(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var ez=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:c}=a,d=i[i.length-1];if(d&&c!=null&&(t==null||r||d.width+c+n<Number(t)))d.words.push(s),d.width+=c+n;else{var f={words:[s],width:c};i.push(f)}return i},[]),tz=e=>e.reduce((t,n)=>t.width>n.width?t:n),sve="",LL=(e,t,n,r,i,a,s,c)=>{var d=e.slice(0,t),f=Q9({breakAll:n,style:r,children:d+sve});if(!f)return[!1,[]];var m=ez(f.wordsWithComputedWidth,a,s,c),p=m.length>i||tz(m).width>Number(a);return[p,m]},lve=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=e,f=nt(a),m=String(s),p=ez(t,r,n,i);if(!f||i)return p;var y=p.length>a||tz(p).width>Number(r);if(!y)return p;for(var b=0,x=m.length-1,T=0,E;b<=x&&T<=m.length-1;){var j=Math.floor((b+x)/2),D=j-1,[O,M]=LL(m,D,d,c,a,r,n,i),[N]=LL(m,j,d,c,a,r,n,i);if(!O&&!N&&(b=j+1),O&&N&&(x=j-1),!O&&N){E=M;break}T++}return E||p},IL=e=>{var t=Br(e)?[]:e.toString().split(J9);return[{words:t,width:void 0}]},cve=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!gf.isSsr){var c,d,f=Q9({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return IL(r);return lve({breakAll:a,children:r,maxLines:s,style:i},c,d,t,!!n)}return IL(r)},nz="#808080",uve={angle:0,breakAll:!1,capHeight:"0.71em",fill:nz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},YT=A.forwardRef((e,t)=>{var n=da(e,uve),{x:r,y:i,lineHeight:a,capHeight:s,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=n,p=RL(n,rve),y=A.useMemo(()=>cve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:b,dy:x,angle:T,className:E,breakAll:j}=p,D=RL(p,ive);if(!Fo(r)||!Fo(i)||y.length===0)return null;var O=Number(r)+(nt(b)?b:0),M=Number(i)+(nt(x)?x:0);if(!Bn(O)||!Bn(M))return null;var N;switch(m){case"start":N=oS("calc(".concat(s,")"));break;case"middle":N=oS("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=oS("calc(".concat(y.length-1," * -").concat(a,")"));break}var R=[];if(d){var $=y[0].width,{width:z}=p;R.push("scale(".concat(nt(z)&&nt($)?z/$:1,")"))}return T&&R.push("rotate(".concat(T,", ").concat(O,", ").concat(M,")")),R.length&&(D.transform=R.join(" ")),A.createElement("text",QE({},Ba(D),{ref:t,x:O,y:M,className:pn("recharts-text",E),textAnchor:f,fill:c.includes("url")?nz:c}),y.map((G,V)=>{var H=G.words.join(j?"":" ");return A.createElement("tspan",{x:O,dy:V===0?N:a,key:"".concat(H,"-").concat(V)},H)}))});YT.displayName="Text";var dve=["labelRef"];function fve(e,t){if(e==null)return{};var n,r,i=hve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(n),!0).forEach(function(r){mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mve(e,t,n){return(t=pve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pve(e){var t=gve(e,"string");return typeof t=="symbol"?t:t+""}function gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(null,arguments)}var rz=A.createContext(null),vve=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:c}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return A.createElement(rz.Provider,{value:d},c)},iz=()=>{var e=A.useContext(rz),t=xb();return e||g7(t)},yve=A.createContext(null),bve=()=>{var e=A.useContext(yve),t=at(L6);return e||t},_ve=e=>{var{value:t,formatter:n}=e,r=Br(e.children)?t:e.children;return typeof n=="function"?n(r):r},KT=e=>e!=null&&typeof e=="function",xve=(e,t)=>{var n=Da(t-e),r=Math.min(Math.abs(t-e),360);return n*r},wve=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:b}=i,x=(f+m)/2,T=xve(p,y),E=T>=0?1:-1,j,D;switch(t){case"insideStart":j=p+E*a,D=b;break;case"insideEnd":j=y-E*a,D=!b;break;case"end":j=y+E*a,D=b;break;default:throw new Error("Unsupported position ".concat(t))}D=T<=0?D:!D;var O=$r(c,d,x,j),M=$r(c,d,x,j+(D?1:-1)*359),N="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(D?0:1,`,
    `).concat(M.x,",").concat(M.y),R=Br(e.id)?ym("recharts-radial-line-"):e.id;return A.createElement("text",ws({},r,{dominantBaseline:"central",className:pn("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:R,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Sve=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:m,y:p}=$r(r,i,s+t,f);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:b,y:x}=$r(r,i,y,f);return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},e2=e=>"cx"in e&&nt(e.cx),Eve=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!e2(n)&&(a=n);var{x:s,y:c,upperWidth:d,lowerWidth:f,height:m}=t,p=s,y=s+(d-f)/2,b=(p+y)/2,x=(d+f)/2,T=p+d/2,E=m>=0?1:-1,j=E*r,D=E>0?"end":"start",O=E>0?"start":"end",M=d>=0?1:-1,N=M*r,R=M>0?"end":"start",$=M>0?"start":"end";if(i==="top"){var z={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:D};return Yn(Yn({},z),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var G={x:y+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:O};return Yn(Yn({},G),a?{height:Math.max(a.y+a.height-(c+m),0),width:f}:{})}if(i==="left"){var V={x:b-N,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return Yn(Yn({},V),a?{width:Math.max(V.x-a.x,0),height:m}:{})}if(i==="right"){var H={x:b+x+N,y:c+m/2,textAnchor:$,verticalAnchor:"middle"};return Yn(Yn({},H),a?{width:Math.max(a.x+a.width-H.x,0),height:m}:{})}var U=a?{width:x,height:m}:{};return i==="insideLeft"?Yn({x:b+N,y:c+m/2,textAnchor:$,verticalAnchor:"middle"},U):i==="insideRight"?Yn({x:b+x-N,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},U):i==="insideTop"?Yn({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:O},U):i==="insideBottom"?Yn({x:y+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:D},U):i==="insideTopLeft"?Yn({x:p+N,y:c+j,textAnchor:$,verticalAnchor:O},U):i==="insideTopRight"?Yn({x:p+d-N,y:c+j,textAnchor:R,verticalAnchor:O},U):i==="insideBottomLeft"?Yn({x:y+N,y:c+m-j,textAnchor:$,verticalAnchor:D},U):i==="insideBottomRight"?Yn({x:y+f-N,y:c+m-j,textAnchor:R,verticalAnchor:D},U):i&&typeof i=="object"&&(nt(i.x)||Cs(i.x))&&(nt(i.y)||Cs(i.y))?Yn({x:s+ql(i.x,x),y:c+ql(i.y,m),textAnchor:"end",verticalAnchor:"end"},U):Yn({x:T,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Ave={angle:0,offset:5,zIndex:ui.label,position:"middle",textBreakAll:!1};function Rl(e){var t=da(e,Ave),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:d,labelRef:f}=t,m=bve(),p=iz(),y=r==="center"?p:m??p,b,x,T;if(n==null?b=y:e2(n)?b=n:b=g7(n),!b||Br(i)&&Br(a)&&!A.isValidElement(s)&&typeof s!="function")return null;var E=Yn(Yn({},t),{},{viewBox:b});if(A.isValidElement(s)){var{labelRef:j}=E,D=fve(E,dve);return A.cloneElement(s,D)}if(typeof s=="function"){if(x=A.createElement(s,E),A.isValidElement(x))return x}else x=_ve(t);var O=Ba(t);if(e2(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wve(t,r,x,O,b);T=Sve(b,t.offset,t.position)}else T=Eve(t,b);return A.createElement(Ys,{zIndex:t.zIndex},A.createElement(YT,ws({ref:f,className:pn("recharts-label",c)},O,T,{textAnchor:ove(O.textAnchor)?O.textAnchor:T.textAnchor,breakAll:d}),x))}Rl.displayName="Label";var Tve=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Rl,ws({key:"label-implicit"},r)):Fo(e)?A.createElement(Rl,ws({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Rl?A.cloneElement(e,Yn({key:"label-implicit"},r)):A.createElement(Rl,ws({key:"label-implicit",content:e},r)):KT(e)?A.createElement(Rl,ws({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Rl,ws({},e,{key:"label-implicit"},r)):null};function kve(e){var{label:t,labelRef:n}=e,r=iz();return Tve(t,r,n)||null}var sS={},lS={},BL;function Ove(){return BL||(BL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(lS)),lS}var cS={},zL;function jve(){return zL||(zL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(cS)),cS}var UL;function Nve(){return UL||(UL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ove(),n=jve(),r=RA();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(sS)),sS}var uS,HL;function Cve(){return HL||(HL=1,uS=Nve().last),uS}var Mve=Cve();const Dve=Pi(Mve);var Pve=["valueAccessor"],Rve=["dataKey","clockWise","id","textBreakAll","zIndex"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function FL(e,t){if(e==null)return{};var n,r,i=Lve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ive=e=>Array.isArray(e.value)?Dve(e.value):e.value,az=A.createContext(void 0),$ve=az.Provider,oz=A.createContext(void 0);oz.Provider;function Bve(){return A.useContext(az)}function zve(){return A.useContext(oz)}function cv(e){var{valueAccessor:t=Ive}=e,n=FL(e,Pve),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:c}=n,d=FL(n,Rve),f=Bve(),m=zve(),p=f||m;return!p||!p.length?null:A.createElement(Ys,{zIndex:c??ui.label},A.createElement(Ho,{className:"recharts-label-list"},p.map((y,b)=>{var x,T=Br(r)?t(y,b):Qr(y&&y.payload,r),E=Br(a)?{}:{id:"".concat(a,"-").concat(b)};return A.createElement(Rl,vy({key:"label-".concat(b)},Ba(y),d,E,{fill:(x=n.fill)!==null&&x!==void 0?x:y.fill,parentViewBox:y.parentViewBox,value:T,textBreakAll:s,viewBox:y.viewBox,index:b,zIndex:0}))})))}cv.displayName="LabelList";function Uve(e){var{label:t}=e;return t?t===!0?A.createElement(cv,{key:"labelList-implicit"}):A.isValidElement(t)||KT(t)?A.createElement(cv,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(cv,vy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t2.apply(null,arguments)}var sz=e=>{var{cx:t,cy:n,r,className:i}=e,a=pn("recharts-dot",i);return nt(t)&&nt(n)&&nt(r)?A.createElement("circle",t2({},go(e),PA(e),{className:a,cx:t,cy:n,r})):null},Hve={radiusAxis:{},angleAxis:{}},lz=Ri({name:"polarAxis",initialState:Hve,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:R1e,removeRadiusAxis:L1e,addAngleAxis:I1e,removeAngleAxis:$1e}=lz.actions,Fve=lz.reducer,dS={exports:{}},Ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GL;function Gve(){if(GL)return Ht;GL=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,m=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,T=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,D=e?Symbol.for("react.scope"):60119;function O(N){if(typeof N=="object"&&N!==null){var R=N.$$typeof;switch(R){case t:switch(N=N.type,N){case d:case f:case r:case a:case i:case p:return N;default:switch(N=N&&N.$$typeof,N){case c:case m:case x:case b:case s:return N;default:return R}}case n:return R}}}function M(N){return O(N)===f}return Ht.AsyncMode=d,Ht.ConcurrentMode=f,Ht.ContextConsumer=c,Ht.ContextProvider=s,Ht.Element=t,Ht.ForwardRef=m,Ht.Fragment=r,Ht.Lazy=x,Ht.Memo=b,Ht.Portal=n,Ht.Profiler=a,Ht.StrictMode=i,Ht.Suspense=p,Ht.isAsyncMode=function(N){return M(N)||O(N)===d},Ht.isConcurrentMode=M,Ht.isContextConsumer=function(N){return O(N)===c},Ht.isContextProvider=function(N){return O(N)===s},Ht.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},Ht.isForwardRef=function(N){return O(N)===m},Ht.isFragment=function(N){return O(N)===r},Ht.isLazy=function(N){return O(N)===x},Ht.isMemo=function(N){return O(N)===b},Ht.isPortal=function(N){return O(N)===n},Ht.isProfiler=function(N){return O(N)===a},Ht.isStrictMode=function(N){return O(N)===i},Ht.isSuspense=function(N){return O(N)===p},Ht.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===f||N===a||N===i||N===p||N===y||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===b||N.$$typeof===s||N.$$typeof===c||N.$$typeof===m||N.$$typeof===E||N.$$typeof===j||N.$$typeof===D||N.$$typeof===T)},Ht.typeOf=O,Ht}var qL;function qve(){return qL||(qL=1,dS.exports=Gve()),dS.exports}qve();var cz=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Yve(e){var{tooltipEntrySettings:t}=e,n=Tr(),r=Li(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Npe(t)):i.current!==t&&n(Cpe({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(Mpe(i.current)),i.current=null)},[n]),null}function Kve(e){var{legendPayload:t}=e,n=Tr(),r=Li(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(oue(t)):i.current!==t&&n(sue({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(lue(i.current)),i.current=null)},[n]),null}var fS,Wve=()=>{var[e]=A.useState(()=>ym("uid-"));return e},Vve=(fS=wU.useId)!==null&&fS!==void 0?fS:Wve;function uz(e,t){var n=Vve();return t||(e?"".concat(e,"-").concat(n):n)}var Zve=A.createContext(void 0),Xve=e=>{var{id:t,type:n,children:r}=e,i=uz("recharts-".concat(n),t);return A.createElement(Zve.Provider,{value:i},r(i))},Jve={cartesianItems:[],polarItems:[]},dz=Ri({name:"graphicalItems",initialState:Jve,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=po(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:xn()},removeCartesianGraphicalItem:{reducer(e,t){var n=po(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xn()},removePolarGraphicalItem:{reducer(e,t){var n=po(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xn()}}}),{addCartesianGraphicalItem:Qve,replaceCartesianGraphicalItem:eye,removeCartesianGraphicalItem:tye,addPolarGraphicalItem:B1e,removePolarGraphicalItem:z1e}=dz.actions,nye=dz.reducer,rye=e=>{var t=Tr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(Qve(e)):n.current!==e&&t(eye({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(tye(n.current)),n.current=null)},[t]),null},iye=A.memo(rye),aye=["points"];function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){oye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oye(e,t,n){return(t=sye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sye(e){var t=lye(e,"string");return typeof t=="symbol"?t:t+""}function lye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(null,arguments)}function cye(e,t){if(e==null)return{};var n,r,i=uye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dye(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=pn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,c=cye(a,aye);return A.createElement(sz,yy({},c,{className:i}))}function fye(e,t){return e==null?!1:t?!0:e.length===1}function hye(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:c,clipPathId:d,zIndex:f=ui.scatter}=e;if(!fye(t,n))return null;var m=cz(n),p=woe(n),y=t.map((x,T)=>{var E,j,D=hS(hS(hS({r:3},s),p),{},{index:T,cx:(E=x.x)!==null&&E!==void 0?E:void 0,cy:(j=x.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:x.value,payload:x.payload,points:t});return A.createElement(dye,{key:"dot-".concat(T),option:n,dotProps:D,className:i})}),b={};return c&&d!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),A.createElement(Ys,{zIndex:f},A.createElement(Ho,yy({className:r},b),y))}function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){mye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mye(e,t,n){return(t=pye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pye(e){var t=gye(e,"string");return typeof t=="symbol"?t:t+""}function gye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vye={xAxis:{},yAxis:{},zAxis:{}},fz=Ri({name:"cartesianAxis",initialState:vye,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:xn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:xn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:xn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=WL(WL({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:yye,replaceXAxis:bye,removeXAxis:_ye,addYAxis:xye,replaceYAxis:wye,removeYAxis:Sye,addZAxis:U1e,replaceZAxis:H1e,removeZAxis:F1e,updateYAxisWidth:Eye}=fz.actions,Aye=fz.reducer,Tye=ke([zr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),kye=ke([Tye,zs,Us],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),WT=()=>at(kye),Oye=()=>at(Ege);function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){jye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jye(e,t,n){return(t=Nye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nye(e){var t=Cye(e,"string");return typeof t=="symbol"?t:t+""}function Cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mye=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=mS(mS(mS({},c),ib(i)),PA(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(sz,d),A.createElement(Ho,{className:"recharts-active-dot",clipPath:s},f)};function ZL(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=ui.activeDot}=e,c=at(Cm),d=Oye();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return Br(f)?null:A.createElement(Ys,{zIndex:s},A.createElement(Mye,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Dye={},hz=Ri({name:"errorBars",initialState:Dye,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:G1e,replaceErrorBar:q1e,removeErrorBar:Y1e}=hz.actions,Pye=hz.reducer;function mz(e,t){var n,r,i=at(f=>Fs(f,e)),a=at(f=>Gs(f,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:br.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:_r.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function Rye(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=WT(),{needClipX:a,needClipY:s,needClip:c}=mz(t,n);if(!c||!i)return null;var{x:d,y:f,width:m,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?d:d-m/2,y:s?f:f-p/2,width:a?m:m*2,height:s?p:p*2}))}var Lye=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Iye(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function VT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Lye.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Q0(e[r],t[r]))return!1}else if(!Iye(e[r],t[r]))return!1;return!0}var $ye=e=>{var{chartData:t}=e,n=Tr(),r=Li();return A.useEffect(()=>r?()=>{}:(n(SL(t)),()=>{n(SL(void 0))}),[t,n,r]),null},XL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pz=Ri({name:"brush",initialState:XL,reducers:{setBrushSettings(e,t){return t.payload==null?XL:t.payload}}}),{setBrushSettings:K1e}=pz.actions,Bye=pz.reducer;function zye(e,t,n){return(t=Uye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uye(e){var t=Hye(e,"string");return typeof t=="symbol"?t:t+""}function Hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZT{static create(t){return new ZT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}zye(ZT,"EPS",1e-4);function Fye(e){return(e%180+180)%180}var Gye=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Fye(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},qye={dots:[],areas:[],lines:[]},gz=Ri({name:"referenceElements",initialState:qye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=po(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=po(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=po(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:W1e,removeDot:V1e,addArea:Z1e,removeArea:X1e,addLine:J1e,removeLine:Q1e}=gz.actions,Yye=gz.reducer,Kye=A.createContext(void 0),Wye=e=>{var{children:t}=e,[n]=A.useState("".concat(ym("recharts"),"-clip")),r=WT();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return A.createElement(Kye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function vz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Vye(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Gye(r,n)}function Zye(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function by(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Xye(e,t){return vz(e,t+1)}function Jye(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,m=s,p=function(){var x=r?.[d];if(x===void 0)return{v:vz(r,f)};var T=d,E,j=()=>(E===void 0&&(E=n(x,T)),E),D=x.coordinate,O=d===0||by(e,D,j,m,c);O||(d=0,m=s,f+=1),O&&(m=D+e*(j()/2+i),d+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function JL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(n),!0).forEach(function(r){Qye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qye(e,t,n){return(t=ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ebe(e){var t=tbe(e,"string");return typeof t=="symbol"?t:t+""}function tbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nbe(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:d}=t,f=function(y){var b=a[y],x,T=()=>(x===void 0&&(x=n(b,y)),x);if(y===s-1){var E=e*(b.coordinate+e*T()/2-d);a[y]=b=Zr(Zr({},b),{},{tickCoord:E>0?b.coordinate-E*e:b.coordinate})}else a[y]=b=Zr(Zr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=by(e,b.tickCoord,T,c,d);j&&(d=b.tickCoord-e*(T()/2+i),a[y]=Zr(Zr({},b),{},{isShow:!0}))}},m=s-1;m>=0;m--)f(m);return a}function rbe(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(a){var m=r[c-1],p=n(m,c-1),y=e*(m.coordinate+e*p/2-f);if(s[c-1]=m=Zr(Zr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var b=by(e,m.tickCoord,()=>p,d,f);b&&(f=m.tickCoord-e*(p/2+i),s[c-1]=Zr(Zr({},m),{},{isShow:!0}))}}for(var x=a?c-1:c,T=function(D){var O=s[D],M,N=()=>(M===void 0&&(M=n(O,D)),M);if(D===0){var R=e*(O.coordinate-e*N()/2-d);s[D]=O=Zr(Zr({},O),{},{tickCoord:R<0?O.coordinate-R*e:O.coordinate})}else s[D]=O=Zr(Zr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var $=by(e,O.tickCoord,N,d,f);$&&(d=O.tickCoord+e*(N()/2+i),s[D]=Zr(Zr({},O),{},{isShow:!0}))}},E=0;E<x;E++)T(E);return s}function XT(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!i||!i.length||!r)return[];if(nt(d)||gf.isSsr){var y;return(y=Xye(i,nt(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],x=c==="top"||c==="bottom"?"width":"height",T=m&&x==="width"?tm(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(O,M)=>{var N=typeof f=="function"?f(O.value,M):O.value;return x==="width"?Vye(tm(N,{fontSize:t,letterSpacing:n}),T,p):tm(N,{fontSize:t,letterSpacing:n})[x]},j=i.length>=2?Da(i[1].coordinate-i[0].coordinate):1,D=Zye(a,j,x);return d==="equidistantPreserveStart"?Jye(j,D,E,i,s):(d==="preserveStart"||d==="preserveStartEnd"?b=rbe(j,D,E,i,s,d==="preserveStartEnd"):b=nbe(j,D,E,i,s),b.filter(O=>O.isShow))}var ibe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>s&&(s=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,f=s+d+c+(n?r:0);return Math.round(f)}return 0},abe=["axisLine","width","height","className","hide","ticks","axisType"];function obe(e,t){if(e==null)return{};var n,r,i=sbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(null,arguments)}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(r){lbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lbe(e,t,n){return(t=cbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cbe(e){var t=ube(e,"string");return typeof t=="symbol"?t:t+""}function ube(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ui.axis};function dbe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=tr(tr(tr({},d),go(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var m=+(a==="top"&&!s||a==="bottom"&&s);f=tr(tr({},f),{},{x1:t,y1:n+m*i,x2:t+r,y2:n+m*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=tr(tr({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return A.createElement("line",xu({},f,{className:pn("recharts-cartesian-axis-line",sb(c,"className"))}))}function fbe(e,t,n,r,i,a,s,c,d){var f,m,p,y,b,x,T=c?-1:1,E=e.tickSize||s,j=nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=m=e.coordinate,y=n+ +!c*i,p=y-T*E,x=p-T*d,b=j;break;case"left":p=y=e.coordinate,m=t+ +!c*r,f=m-T*E,b=f-T*d,x=j;break;case"right":p=y=e.coordinate,m=t+ +c*r,f=m+T*E,b=f+T*d,x=j;break;default:f=m=e.coordinate,y=n+ +c*i,p=y+T*E,x=p+T*d,b=j;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:b,y:x}}}function hbe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function mbe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function pbe(e){var{option:t,tickProps:n,value:r}=e,i,a=pn(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,tr(tr({},n),{},{className:a}));else if(typeof t=="function")i=t(tr(tr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=pn(s,t?.className)),i=A.createElement(YT,xu({},n,{className:s}),r)}return i}var gbe=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:b,width:x,height:T,tickSize:E,tickMargin:j,fontSize:D,letterSpacing:O,getTicksConfig:M,events:N,axisType:R}=e,$=XT(tr(tr({},M),{},{ticks:n}),D,O),z=hbe(m,p),G=mbe(m,p),V=go(M),H=ib(r),U={};typeof i=="object"&&(U=i);var Z=tr(tr({},V),{},{fill:"none"},U),re=$.map(ae=>tr({entry:ae},fbe(ae,y,b,x,T,m,E,p,j))),ve=re.map(ae=>{var{entry:ne,line:ce}=ae;return A.createElement(Ho,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&A.createElement("line",xu({},Z,ce,{className:pn("recharts-cartesian-axis-tick-line",sb(i,"className"))})))}),J=re.map((ae,ne)=>{var{entry:ce,tick:te}=ae,Y=tr(tr(tr(tr({textAnchor:z,verticalAnchor:G},V),{},{stroke:"none",fill:a},H),te),{},{index:ne,payload:ce,visibleTicksCount:$.length,tickFormatter:s,padding:d},f);return A.createElement(Ho,xu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},ise(N,ce,ne)),r&&A.createElement(pbe,{option:r,tickProps:Y,value:"".concat(typeof s=="function"?s(ce.value,ne):ce.value).concat(c||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},J.length>0&&A.createElement(Ys,{zIndex:ui.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},J)),ve.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},ve))}),vbe=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c,axisType:d}=e,f=obe(e,abe),[m,p]=A.useState(""),[y,b]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return ibe({ticks:x.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var T=A.useCallback(E=>{if(E){var j=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=j;var D=j[0];if(D){var O=window.getComputedStyle(D),M=O.fontSize,N=O.letterSpacing;(M!==m||N!==y)&&(p(M),b(N))}}},[m,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Ys,{zIndex:e.zIndex},A.createElement(Ho,{className:pn("recharts-cartesian-axis",a)},A.createElement(dbe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:go(e)}),A.createElement(gbe,{ref:T,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(vve,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(kve,{label:e.label,labelRef:e.labelRef}),e.children)))}),JT=A.forwardRef((e,t)=>{var n=da(e,Os);return A.createElement(vbe,xu({},n,{ref:t}))});JT.displayName="CartesianAxis";var ybe=["x1","y1","x2","y2","key"],bbe=["offset"],_be=["xAxisId","yAxisId"],xbe=["xAxisId","yAxisId"];function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){wbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wbe(e,t,n){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=Ebe(e,"string");return typeof t=="symbol"?t:t+""}function Ebe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(null,arguments)}function _y(e,t){if(e==null)return{};var n,r,i=Abe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Abe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return A.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yz(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:c,y2:d,key:f}=n,m=_y(n,ybe),p=(i=go(m))!==null&&i!==void 0?i:{},{offset:y}=p,b=_y(p,bbe);r=A.createElement("line",su({},b,{x1:a,y1:s,x2:c,y2:d,fill:"none",key:f}))}return r}function kbe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=_y(e,_be),d=i.map((f,m)=>{var p=Xr(Xr({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(m),index:m});return A.createElement(yz,{key:"line-".concat(m),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Obe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=_y(e,xbe),d=i.map((f,m)=>{var p=Xr(Xr({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(m),index:m});return A.createElement(yz,{option:r,lineItemProps:p,key:"line-".concat(m)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function jbe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],x=b?i+s-p:f[y+1]-p;if(x<=0)return null;var T=y%t.length;return A.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:x,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Nbe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var b=!f[y+1],x=b?i+s-p:f[y+1]-p;if(x<=0)return null;var T=y%n.length;return A.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:x,height:c,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Cbe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return l7(XT(Xr(Xr(Xr({},Os),n),{},{ticks:c7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Mbe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return l7(XT(Xr(Xr(Xr({},Os),n),{},{ticks:c7(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Dbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ui.grid};function bz(e){var t=y7(),n=b7(),r=v7(),i=Xr(Xr({},da(e,Dbe)),{},{x:nt(e.x)?e.x:r.left,y:nt(e.y)?e.y:r.top,width:nt(e.width)?e.width:r.width,height:nt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,x=Li(),T=at(G=>dL(G,"xAxis",a,x)),E=at(G=>dL(G,"yAxis",s,x));if(!Go(f)||!Go(m)||!nt(c)||!nt(d))return null;var j=i.verticalCoordinatesGenerator||Cbe,D=i.horizontalCoordinatesGenerator||Mbe,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof D=="function"){var N=y&&y.length,R=D({yAxis:E?Xr(Xr({},E),{},{ticks:N?y:E.ticks}):void 0,width:t??f,height:n??m,offset:r},N?!0:p);Vv(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}if((!M||!M.length)&&typeof j=="function"){var $=b&&b.length,z=j({xAxis:T?Xr(Xr({},T),{},{ticks:$?b:T.ticks}):void 0,width:t??f,height:n??m,offset:r},$?!0:p);Vv(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(M=z)}return A.createElement(Ys,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Tbe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(jbe,su({},i,{horizontalPoints:O})),A.createElement(Nbe,su({},i,{verticalPoints:M})),A.createElement(kbe,su({},i,{offset:r,horizontalPoints:O,xAxis:T,yAxis:E})),A.createElement(Obe,su({},i,{offset:r,verticalPoints:M,xAxis:T,yAxis:E}))))}bz.displayName="CartesianGrid";function Pbe(e){var t=ib(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),c=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var _z=(e,t,n,r)=>_9(e,"xAxis",t,r),xz=(e,t,n,r)=>b9(e,"xAxis",t,r),wz=(e,t,n,r)=>_9(e,"yAxis",n,r),Sz=(e,t,n,r)=>b9(e,"yAxis",n,r),Rbe=ke([un,_z,wz,xz,Sz],(e,t,n,r,i)=>Bs(e,"xAxis")?Wv(t,r,!1):Wv(n,i,!1)),Lbe=(e,t,n,r,i)=>i,Ez=ke([H6,Lbe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),Ibe=(e,t,n,r,i)=>{var a,s=Ez(e,t,n,r,i);if(s!=null){var c=un(e),d=Bs(c,"xAxis"),f;if(d?f=WE(e,"yAxis",n,r):f=WE(e,"xAxis",t,r),f!=null){var{stackId:m}=s,p=AT(s);if(!(m==null||p==null)){var y=(a=f[m])===null||a===void 0?void 0:a.stackedData;return y?.find(b=>b.key===p)}}}},$be=ke([un,_z,wz,xz,Sz,Ibe,gT,Rbe,Ez,xme],(e,t,n,r,i,a,s,c,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=s;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:b}=d,x;if(b&&b.length>0?x=b:x=m?.slice(p,y+1),x!=null)return r_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:d,stackedData:a,displayedData:x,chartBaseValue:f,bandSize:c})}}),Bbe=["id"],zbe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(null,arguments)}function Az(e,t){if(e==null)return{};var n,r,i=Ube(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ube(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(n),!0).forEach(function(r){Hbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hbe(e,t,n){return(t=Fbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fbe(e){var t=Gbe(e,"string");return typeof t=="symbol"?t:t+""}function Gbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xy(e,t){return e&&e!=="none"?e:t}var qbe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:xy(r,i),value:u7(n,t),payload:e}]},Ybe=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:u7(s,t),hide:c,type:f,color:xy(r,a),unit:d}};return A.createElement(Yve,{tooltipEntrySettings:m})});function Kbe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,c=go(r);return A.createElement(hye,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function Wbe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,c,d={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Id(Id({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return A.createElement($ve,{value:t?i:void 0},n)}function n3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:c,stroke:d,connectNulls:f,isRange:m}=a,{id:p}=a,y=Az(a,Bbe),b=go(y),x=Ba(y);return A.createElement(A.Fragment,null,t?.length>1&&A.createElement(Ho,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(sv,mu({},x,{id:p,points:t,connectNulls:f,type:c,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(sv,mu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&A.createElement(sv,mu({},b,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:n}))),A.createElement(Kbe,{points:t,props:y,clipPathId:i}))}function Vbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Bn(a)||!Bn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.x||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.x||0),d)),nt(d)?A.createElement("rect",{x:0,y:a<s?a:a-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function Zbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Bn(a)||!Bn(s))return null;var c=t*Math.abs(a-s),d=Math.max(...r.map(f=>f.y||0));return nt(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(f=>f.y||0),d)),nt(d)?A.createElement("rect",{x:a<s?a:a-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function Xbe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?A.createElement(Vbe,{alpha:t,points:r,baseLine:i,strokeWidth:a}):A.createElement(Zbe,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Jbe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:b}=r,x=A.useMemo(()=>({points:s,baseLine:c}),[s,c]),T=M7(x,"recharts-area-"),E=Yce(),[j,D]=A.useState(!1),O=!j,M=A.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),N=A.useCallback(()=>{typeof y=="function"&&y(),D(!0)},[y]);if(E==null)return null;var R=i.current,$=a.current;return A.createElement(Wbe,{showLabels:O,points:s},r.children,A.createElement(C7,{animationId:T,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:M,onAnimationStart:N,key:T},z=>{if(R){var G=R.length/s.length,V=z===1?s:s.map((U,Z)=>{var re=Math.floor(Z*G);if(R[re]){var ve=R[re];return Id(Id({},U),{},{x:Io(ve.x,U.x,z),y:Io(ve.y,U.y,z)})}return U}),H;return nt(c)?H=Io($,c,z):Br(c)||vo(c)?H=Io($,0,z):H=c.map((U,Z)=>{var re=Math.floor(Z*G);if(Array.isArray($)&&$[re]){var ve=$[re];return Id(Id({},U),{},{x:Io(ve.x,U.x,z),y:Io(ve.y,U.y,z)})}return U}),z>0&&(i.current=V,a.current=H),A.createElement(n3,{points:V,baseLine:H,needClip:t,clipPathId:n,props:r})}return z>0&&(i.current=s,a.current=c),A.createElement(Ho,null,d&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(Xbe,{alpha:z,points:s,baseLine:c,layout:E,strokeWidth:r.strokeWidth}))),A.createElement(Ho,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(n3,{points:s,baseLine:c,needClip:t,clipPathId:n,props:r})))}),A.createElement(Uve,{label:r.label}))}function Qbe(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),a=A.useRef();return A.createElement(Jbe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class e_e extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:c,xAxisId:d,yAxisId:f,width:m,height:p,id:y,baseLine:b,zIndex:x}=this.props;if(t)return null;var T=pn("recharts-area",i),E=y,{r:j,strokeWidth:D}=Pbe(n),O=cz(n),M=j*2+D,N=c?"url(#clipPath-".concat(O?"":"dots-").concat(E,")"):void 0;return A.createElement(Ys,{zIndex:x},A.createElement(Ho,{className:T},c&&A.createElement("defs",null,A.createElement(Rye,{clipPathId:E,xAxisId:d,yAxisId:f}),!O&&A.createElement("clipPath",{id:"clipPath-dots-".concat(E)},A.createElement("rect",{x:s-M/2,y:a-M/2,width:m+M,height:p+M}))),A.createElement(Qbe,{needClip:c,clipPathId:E,props:this.props})),A.createElement(ZL,{points:r,mainColor:xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}),this.props.isRange&&Array.isArray(b)&&A.createElement(ZL,{points:b,mainColor:xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}))}}var Tz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ui.area};function t_e(e){var t,n=da(e,Tz),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:b,stroke:x,xAxisId:T,yAxisId:E}=n,j=Az(n,zbe),D=tp(),O=U9(),{needClip:M}=mz(T,E),N=Li(),{points:R,isRange:$,baseLine:z}=(t=at(re=>$be(re,T,E,N,e.id)))!==null&&t!==void 0?t:{},G=WT();if(D!=="horizontal"&&D!=="vertical"||G==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:V,width:H,x:U,y:Z}=G;return!R||!R.length?null:A.createElement(e_e,mu({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:z,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:V,hide:p,layout:D,isAnimationActive:y==="auto"?!gf.isSsr:y,isRange:$,legendType:b,needClip:M,points:R,stroke:x,width:H,left:U,top:Z,xAxisId:T,yAxisId:E}))}var n_e=(e,t,n,r,i)=>{var a=n??t;if(nt(a))return a;var s=e==="horizontal"?i:r,c=s.scale.domain();if(s.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function r_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:b}=e,x=i&&i.length,T=n_e(a,s,n,c,d),E=a==="horizontal",j=!1,D=f.map((M,N)=>{var R;x?R=i[m+N]:(R=Qr(M,r),Array.isArray(R)?j=!0:R=[T,R]);var $=R[1]==null||x&&!t&&Qr(M,r)==null;return E?{x:PP({axis:c,ticks:p,bandSize:b,entry:M,index:N}),y:$?null:d.scale(R[1]),value:R,payload:M}:{x:$?null:c.scale(R[1]),y:PP({axis:d,ticks:y,bandSize:b,entry:M,index:N}),value:R,payload:M}}),O;return x||j?O=D.map(M=>{var N=Array.isArray(M.value)?M.value[0]:null;return E?{x:M.x,y:N!=null&&M.y!=null?d.scale(N):null,payload:M.payload}:{x:N!=null?c.scale(N):null,y:M.y,payload:M.payload}}):O=E?d.scale(T):c.scale(T),{points:D,baseLine:O,isRange:j}}function i_e(e){var t=da(e,Tz),n=Li();return A.createElement(Xve,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(Kve,{legendPayload:qbe(t)}),A.createElement(Ybe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),A.createElement(iye,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:lce(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(t_e,mu({},t,{id:r}))))}var kz=A.memo(i_e,VT);kz.displayName="Area";var a_e=["domain","range"],o_e=["domain","range"];function r3(e,t){if(e==null)return{};var n,r,i=s_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function i3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Oz(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=r3(e,a_e),{domain:a,range:s}=t,c=r3(t,o_e);return!i3(n,a)||!i3(r,s)?!1:VT(i,c)}var l_e=["dangerouslySetInnerHTML","ticks"],c_e=["id"];function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n2.apply(null,arguments)}function a3(e,t){if(e==null)return{};var n,r,i=u_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d_e(e){var t=Tr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(yye(e)):n.current!==e&&t(bye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(_ye(n.current)),n.current=null)},[t]),null}var f_e=e=>{var{xAxisId:t,className:n}=e,r=at(f7),i=Li(),a="xAxis",s=at(E=>wf(E,a,t,i)),c=at(E=>y9(E,a,t,i)),d=at(E=>hpe(E,t)),f=at(E=>bpe(E,t)),m=at(E=>$6(E,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,b=a3(e,l_e),{id:x}=m,T=a3(m,c_e);return A.createElement(JT,n2({},b,T,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:pn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},h_e={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,angle:br.angle,axisLine:Os.axisLine,height:br.height,hide:!1,includeHidden:br.includeHidden,interval:br.interval,minTickGap:br.minTickGap,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:br.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:br.type,xAxisId:0},m_e=e=>{var t=da(e,h_e);return A.createElement(A.Fragment,null,A.createElement(d_e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(f_e,t))},jz=A.memo(m_e,Oz);jz.displayName="XAxis";var p_e=["dangerouslySetInnerHTML","ticks"],g_e=["id"];function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r2.apply(null,arguments)}function o3(e,t){if(e==null)return{};var n,r,i=v_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function y_e(e){var t=Tr(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(xye(e)):n.current!==e&&t(wye({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(Sye(n.current)),n.current=null)},[t]),null}var b_e=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),s=A.useRef(null),c=at(f7),d=Li(),f=Tr(),m="yAxis",p=at(N=>wf(N,m,t,d)),y=at(N=>wpe(N,t)),b=at(N=>xpe(N,t)),x=at(N=>y9(N,m,t,d)),T=at(N=>B6(N,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!y||KT(i)||A.isValidElement(i)||T==null)){var N=a.current;if(N){var R=N.getCalculatedWidth();Math.round(y.width)!==Math.round(R)&&f(Eye({id:t,width:R}))}}},[x,y,f,i,t,r,T]),y==null||b==null||T==null)return null;var{dangerouslySetInnerHTML:E,ticks:j}=e,D=o3(e,p_e),{id:O}=T,M=o3(T,g_e);return A.createElement(JT,r2({},D,M,{ref:a,labelRef:s,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:pn("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:x,axisType:m}))},__e={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,angle:_r.angle,axisLine:Os.axisLine,hide:!1,includeHidden:_r.includeHidden,interval:_r.interval,minTickGap:_r.minTickGap,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:_r.type,width:_r.width,yAxisId:0},x_e=e=>{var t=da(e,__e);return A.createElement(A.Fragment,null,A.createElement(y_e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(b_e,t))},Nz=A.memo(x_e,Oz);Nz.displayName="YAxis";var w_e=(e,t)=>t,QT=ke([w_e,un,L6,hr,R9,qs,Lge,zr],Fge),ek=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Cz=za("mouseClick"),Mz=Qm();Mz.startListening({actionCreator:Cz,effect:(e,t)=>{var n=e.payload,r=QT(t.getState(),ek(n));r?.activeIndex!=null&&t.dispatch(Rpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var i2=za("mouseMove"),Dz=Qm(),R0=null;Dz.startListening({actionCreator:i2,effect:(e,t)=>{var n=e.payload;R0!==null&&cancelAnimationFrame(R0);var r=ek(n);R0=requestAnimationFrame(()=>{var i=t.getState(),a=LT(i,i.tooltip.settings.shared);if(a==="axis"){var s=QT(i,r);s?.activeIndex!=null?t.dispatch(k9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(T9())}R0=null})}});var s3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Pz=Ri({name:"rootProps",initialState:s3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:s3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),S_e=Pz.reducer,{updateOptions:E_e}=Pz.actions,Rz=Ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:eSe}=Rz.actions,A_e=Rz.reducer,Lz=za("keyDown"),Iz=za("focus"),tk=Qm();tk.startListening({actionCreator:Lz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=IT(i,Ef(n),cp(n),mp(n)),c=s==null?-1:Number(s);if(!(!Number.isFinite(c)||c<0)){var d=qs(n);if(a==="Enter"){var f=gy(n,"axis","hover",String(i.index));t.dispatch(ZE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var m=Tpe(n),p=m==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=c+y*p;if(!(d==null||b>=d.length||b<0)){var x=gy(n,"axis","hover",String(b));t.dispatch(ZE({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}}});tk.startListening({actionCreator:Iz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=gy(n,"axis","hover",String(a));t.dispatch(ZE({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ka=za("externalEvent"),$z=Qm(),pS=new Map;$z.startListening({actionCreator:ka,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=pS.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:xge(c),activeDataKey:bge(c),activeIndex:Cm(c),activeLabel:$9(c),activeTooltipIndex:Cm(c),isTooltipActive:wge(c)};n(d,r)}finally{pS.delete(i)}});pS.set(i,s)}}});var T_e=ke([Sf],e=>e.tooltipItemPayloads),k_e=ke([T_e,fp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),Bz=za("touchMove"),zz=Qm();zz.startListening({actionCreator:Bz,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=LT(r,r.tooltip.settings.shared);if(i==="axis"){var a=QT(r,ek({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(k9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(pce),m=(s=d.getAttribute(gce))!==null&&s!==void 0?s:void 0,p=k_e(t.getState(),f,m);t.dispatch(Ppe({activeDataKey:m,activeIndex:f,activeCoordinate:p}))}}}});var O_e=D$({brush:Bye,cartesianAxis:Aye,chartData:x0e,errorBars:Pye,graphicalItems:nye,layout:Jle,legend:cue,options:g0e,polarAxis:Fve,polarOptions:A_e,referenceElements:Yye,rootProps:S_e,tooltip:Lpe,zIndex:r0e}),j_e=function(t){return Sle({reducer:O_e,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Mz.middleware,Dz.middleware,tk.middleware,$z.middleware,zz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(W4({type:"raf"}))},devTools:gf.devToolsEnabled})};function N_e(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Li(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=j_e(t));var s=LA;return A.createElement(H$,{context:s,store:a.current},n)}function C_e(e){var{layout:t,margin:n}=e,r=Tr(),i=Li();return A.useEffect(()=>{i||(r(Vle(t)),r(Wle(n)))},[r,i,t,n]),null}var M_e=A.memo(C_e,VT);function D_e(e){var t=Tr();return A.useEffect(()=>{t(E_e(e))},[t,e]),null}function l3(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=uz("".concat(r).concat(t)),a=Tr();return A.useLayoutEffect(()=>(a(t0e({zIndex:t,elementId:i,isPanorama:n})),()=>{a(n0e({zIndex:t,isPanorama:n}))}),[a,t,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function c3(e){var{children:t,isPanorama:n}=e,r=at(qge);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(l3,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>A.createElement(l3,{key:s,zIndex:s,isPanorama:n})))}var P_e=["children"];function R_e(e,t){if(e==null)return{};var n,r,i=L_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}var I_e={width:"100%",height:"100%",display:"block"},$_e=A.forwardRef((e,t)=>{var n=y7(),r=b7(),i=k7();if(!Go(n)||!Go(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=e,f,m;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?m=s.role:m=i?"application":void 0),A.createElement(r4,wy({},s,{title:c,desc:d,role:m,tabIndex:f,width:n,height:r,style:I_e,ref:t}),a)}),B_e=e=>{var{children:t}=e,n=at(_b);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return A.createElement(r4,{width:r,height:i,x:s,y:a},t)},u3=A.forwardRef((e,t)=>{var{children:n}=e,r=R_e(e,P_e),i=Li();return i?A.createElement(B_e,null,A.createElement(c3,{isPanorama:!0},n)):A.createElement($_e,wy({ref:t},r),A.createElement(c3,{isPanorama:!1},n))});function z_e(){var e=Tr(),[t,n]=A.useState(null),r=at(mce);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Bn(a)&&a!==r&&e(Xle(a))}},[t,e,r]),n}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){H_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H_e(e,t,n){return(t=F_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_e(e){var t=G_e(e,"string");return typeof t=="symbol"?t:t+""}function G_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(null,arguments)}var q_e=()=>(N0e(),null);function Sy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Y_e=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,s]=A.useState({containerWidth:Sy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Sy((r=e.style)===null||r===void 0?void 0:r.height)}),c=A.useCallback((f,m)=>{s(p=>{var y=Math.round(f),b=Math.round(m);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=x=>{var{width:T,height:E}=x[0].contentRect;c(T,E)},b=new ResizeObserver(y);b.observe(f),i.current=b}},[t,c]);return A.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[c]),A.createElement(A.Fragment,null,A.createElement(wb,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",wu({ref:d},e)))}),K_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:Sy(n),containerHeight:Sy(r)}),s=A.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();s(f,m)}},[t,s]);return A.createElement(A.Fragment,null,A.createElement(wb,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",wu({ref:c},e)))}),W_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(wb,{width:n,height:r}),A.createElement("div",wu({ref:t},e)))}),V_e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return Cs(n)||Cs(r)?A.createElement(K_e,wu({},e,{ref:t})):A.createElement(W_e,wu({},e,{ref:t}))});function Z_e(e){return e===!0?Y_e:V_e}var X_e=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:x,onTouchStart:T,style:E,width:j,responsive:D,dispatchTouchEvents:O=!0}=e,M=A.useRef(null),N=Tr(),[R,$]=A.useState(null),[z,G]=A.useState(null),V=z_e(),H=GA(),U=H?.width>0?H.width:j,Z=H?.height>0?H.height:i,re=A.useCallback(Q=>{V(Q),typeof t=="function"&&t(Q),$(Q),G(Q),Q!=null&&(M.current=Q)},[V,t,$,G]),ve=A.useCallback(Q=>{N(Cz(Q)),N(ka({handler:a,reactEvent:Q}))},[N,a]),J=A.useCallback(Q=>{N(i2(Q)),N(ka({handler:f,reactEvent:Q}))},[N,f]),ae=A.useCallback(Q=>{N(T9()),N(ka({handler:m,reactEvent:Q}))},[N,m]),ne=A.useCallback(Q=>{N(i2(Q)),N(ka({handler:p,reactEvent:Q}))},[N,p]),ce=A.useCallback(()=>{N(Iz())},[N]),te=A.useCallback(Q=>{N(Lz(Q.key))},[N]),Y=A.useCallback(Q=>{N(ka({handler:s,reactEvent:Q}))},[N,s]),B=A.useCallback(Q=>{N(ka({handler:c,reactEvent:Q}))},[N,c]),X=A.useCallback(Q=>{N(ka({handler:d,reactEvent:Q}))},[N,d]),ee=A.useCallback(Q=>{N(ka({handler:y,reactEvent:Q}))},[N,y]),q=A.useCallback(Q=>{N(ka({handler:T,reactEvent:Q}))},[N,T]),W=A.useCallback(Q=>{O&&N(Bz(Q)),N(ka({handler:x,reactEvent:Q}))},[N,O,x]),le=A.useCallback(Q=>{N(ka({handler:b,reactEvent:Q}))},[N,b]),fe=Z_e(D);return A.createElement(Y9.Provider,{value:R},A.createElement(joe.Provider,{value:z},A.createElement(fe,{width:U??E?.width,height:Z??E?.height,className:pn("recharts-wrapper",r),style:U_e({position:"relative",cursor:"default",width:U,height:Z},E),onClick:ve,onContextMenu:Y,onDoubleClick:B,onFocus:ce,onKeyDown:te,onMouseDown:X,onMouseEnter:J,onMouseLeave:ae,onMouseMove:ne,onMouseUp:ee,onTouchEnd:le,onTouchMove:W,onTouchStart:q,ref:re},A.createElement(q_e,null),n)))}),J_e=["width","height","responsive","children","className","style","compact","title","desc"];function Q_e(e,t){if(e==null)return{};var n,r,i=exe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function exe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var txe=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:c,compact:d,title:f,desc:m}=e,p=Q_e(e,J_e),y=go(p);return d?A.createElement(A.Fragment,null,A.createElement(wb,{width:n,height:r}),A.createElement(u3,{otherAttributes:y,title:f,desc:m},a)):A.createElement(X_e,{className:s,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(u3,{otherAttributes:y,title:f,desc:m,ref:t},A.createElement(Wye,null,a)))});function a2(){return a2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a2.apply(null,arguments)}var nxe={top:5,right:5,bottom:5,left:5},rxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ixe=A.forwardRef(function(t,n){var r,i=da(t.categoricalChartProps,rxe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(N_e,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement($ye,{chartData:f.data}),A.createElement(M_e,{layout:i.layout,margin:i.margin}),A.createElement(D_e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(txe,a2({},i,{ref:n})))}),axe=["axis"],oxe=A.forwardRef((e,t)=>A.createElement(ixe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:axe,tooltipPayloadSearcher:m0e,categoricalChartProps:e,ref:t}));function f3(){const[e,t]=A.useState(0),[n,r]=A.useState(0),[i,a]=A.useState(0),[s,c]=A.useState(0),[d,f]=A.useState([]),[m,p]=A.useState([]),y=A.useMemo(()=>{const E=new Date;return E.setHours(0,0,0,0),E},[]),b=A.useCallback(async()=>{const{count:E}=await Ke.from("profiles").select("*",{count:"exact",head:!0});t(E||0);const{count:j}=await Ke.from("myeongsik").select("*",{count:"exact",head:!0});r(j||0);const{count:D}=await Ke.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());a(D||0);const{count:O}=await Ke.from("myeongsik").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString());c(O||0)},[y]),x=A.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:j}=await Ke.from("profiles").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const N=new Date(M.created_at).toISOString().slice(0,10);D[N]=(D[N]||0)+1});const O=Object.entries(D).map(([M,N])=>({day:M,count:N}));f(O)},[]),T=A.useCallback(async()=>{const E=new Date;E.setDate(E.getDate()-30);const{data:j}=await Ke.from("myeongsik").select("created_at").gte("created_at",E.toISOString()).order("created_at",{ascending:!0}),D={};(j||[]).forEach(M=>{const N=new Date(M.created_at).toISOString().slice(0,10);D[N]=(D[N]||0)+1});const O=Object.entries(D).map(([M,N])=>({day:M,count:N}));p(O)},[]);return A.useEffect(()=>{b(),x(),T()},[b,x,T]),_.jsx(yoe,{allow:["admin","operator","viewer"],children:_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:[_.jsx(L0,{label:" ",value:e}),_.jsx(L0,{label:"  ",value:n}),_.jsx(L0,{label:" ",value:i}),_.jsx(L0,{label:"  ",value:s})]}),_.jsxs("section",{className:"mb-10",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(h3,{data:d})]}),_.jsxs("section",{children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:" 30  "}),_.jsx(h3,{data:m})]})]})})}function L0({label:e,value:t}){return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsx("div",{className:"text-neutral-400 text-sm",children:e}),_.jsx("div",{className:"text-3xl font-bold mt-1",children:t})]})}function h3({data:e}){return _.jsx("div",{className:"w-full h-64 bg-neutral-900 border border-neutral-700 rounded-lg p-2 text-xs",children:_.jsx(Gce,{width:"100%",height:"100%",children:_.jsxs(oxe,{data:e,children:[_.jsx(bz,{strokeDasharray:"3 3",stroke:"#333"}),_.jsx(jz,{dataKey:"day",stroke:"#bbb"}),_.jsx(Nz,{stroke:"#bbb"}),_.jsx($0e,{}),_.jsx(kz,{type:"monotone",dataKey:"count",stroke:"#8884d8",fill:"#8884d855"})]})})})}const gS=20;function sxe(){const[e,t]=A.useState(""),[n,r]=A.useState(1),[i,a]=A.useState([]),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=A.useCallback(async()=>{f(!0),p(null);try{let E=Ke.from("myeongsik").select("user_id,name");if(e.trim()){const M=`%${e.trim()}%`;E=E.or(`name.ilike.${M},user_id.ilike.${M},birth_json->>birthDay.ilike.${M}`)}const{data:j,error:D}=await E;if(D)throw new Error(D.message);const O=Array.from(new Set((j||[]).map(M=>M.user_id).filter(Boolean)));a(O),r(1)}catch(E){p(E instanceof Error?E.message:"Unknown error")}f(!1)},[e]),b=A.useMemo(()=>{const E=(n-1)*gS;return i.slice(E,E+gS)},[n,i]),x=A.useMemo(()=>Math.max(1,Math.ceil(i.length/gS)),[i]),T=A.useCallback(async()=>{if(!b.length){c([]);return}f(!0),p(null);try{const E=b.length?b:["__NO_MATCH__"],{data:j}=await Ke.from("profiles").select("id,user_id,name,nickname,email").in("user_id",E),D={};(j||[]).forEach(N=>{const R=N.user_id||N.id;R&&(D[R]=N)});const{data:O}=await Ke.from("myeongsik").select("user_id, created_at").in("user_id",E).order("created_at",{ascending:!1}),M={};E.forEach(N=>{M[N]={user_id:N,profile:D[N]||null,myeongsikCount:0,lastCreatedAt:null}}),(O||[]).forEach(N=>{M[N.user_id].myeongsikCount++,M[N.user_id].lastCreatedAt||(M[N.user_id].lastCreatedAt=N.created_at)}),c(Object.values(M))}catch(E){p(E instanceof Error?E.message:"Error")}f(!1)},[b]);return A.useEffect(()=>{y()},[y]),A.useEffect(()=>{T()},[T]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Users"}),_.jsx("input",{className:"px-3 py-2 bg-neutral-800 border border-neutral-700 rounded w-full max-w-sm mb-4",placeholder:"Search user (name, email, birth, userId...)",value:e,onChange:E=>t(E.target.value)}),m&&_.jsx("div",{className:"text-red-400 mb-2",children:m}),d&&_.jsx("div",{children:"Loading..."}),_.jsx("div",{className:"space-y-3",children:s.map(E=>{const j=E.profile?.name||E.profile?.nickname||E.profile?.email||"(no profile)";return _.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg cursor-pointer hover:bg-neutral-800",onClick:()=>location.href=`/admin/user/${E.user_id}`,children:[_.jsxs("div",{className:"font-semibold text-lg flex items-center justify-between",children:[_.jsx("span",{className:"text-nowrap mr-2",children:j}),_.jsx("span",{className:"text-neutral-500 text-sm",children:E.user_id})]}),_.jsxs("div",{className:"text-sm text-neutral-400 mt-1",children:[" ",E.myeongsikCount,"",E.lastCreatedAt&&_.jsxs(_.Fragment,{children:["    ",new Date(E.lastCreatedAt).toLocaleString()]})]})]},E.user_id)})}),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{disabled:n<=1,onClick:()=>r(E=>E-1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""}),_.jsxs("span",{children:[n," / ",x]}),_.jsx("button",{disabled:n>=x,onClick:()=>r(E=>E+1),className:"px-3 py-1 border border-neutral-700 rounded disabled:opacity-50",children:""})]})]})}async function vS({action:e,targetUserId:t,targetRecordId:n,payload:r={}}){const a=(await Ke.auth.getSession()).data.session?.user?.id;a&&await Ke.from("audit_logs").insert({action:e,target_user_id:t??null,target_record_id:n??null,actor_admin_id:a,payload:r})}function lxe({params:e}){const t=e.userId,[n,r]=A.useState(null),[i,a]=A.useState([]),[s,c]=A.useState(!1),d=A.useCallback(async()=>{const{data:D}=await Ke.from("profiles").select("*").eq("user_id",t).maybeSingle();r(D)},[t]),f=A.useCallback(async()=>{const{data:D}=await Ke.from("myeongsik").select("*").eq("user_id",t).order("created_at",{ascending:!1});a(D||[])},[t]);A.useEffect(()=>{d(),f()},[d,f]);const m=async()=>{c(!0),await Ke.from("profiles").insert({user_id:t,name:"",nickname:"",email:"",mgr_memo:""}),c(!1),d()},p=async()=>{n&&(c(!0),await Ke.from("profiles").update({name:n.name,nickname:n.nickname,email:n.email,mgr_memo:n.mgr_memo}).eq("user_id",t),c(!1),d())},y=async()=>{if(!n)return;const D=n.disabled_at?null:new Date().toISOString();await Ke.from("profiles").update({disabled_at:D}).eq("user_id",t),d()},b=async()=>{c(!0),await Ke.from("profiles").update({disabled_at:null}).eq("user_id",t),await Ke.from("myeongsik").update({deleted_at:null}).eq("user_id",t),await vS({action:"restore_account",targetUserId:t,payload:{source:"admin_user_detail"}}),c(!1),d(),f()},x=async()=>{c(!0),await Ke.from("myeongsik").update({deleted_at:null}).eq("user_id",t),await vS({action:"restore_myeongsik_all",targetUserId:t,payload:{source:"admin_user_detail"}}),c(!1),f()},T=D=>{const O=typeof window<"u"?window.location.origin:"",M=D?`${O}/#/impersonate?userId=${t}&myeongsikId=${D}`:`${O}/#/impersonate?userId=${t}`;window.open(M,"_blank")},E=async(D,O)=>{const M=O?null:new Date().toISOString();await Ke.from("myeongsik").update({deleted_at:M}).eq("id",D),await vS({action:M?"delete_myeongsik":"restore_myeongsik",targetUserId:t,targetRecordId:D,payload:{deleted_at:M,source:"admin_user_detail"}}),f()},j=D=>{window.location.href=D};return _.jsxs("div",{className:"p-6 text-white",children:[_.jsx("button",{className:"mb-4 underline cursor-pointer",onClick:()=>j("/admin/user"),children:"  "}),_.jsx("h1",{className:"text-2xl font-bold mb-4",children:" "}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg mb-6",children:[_.jsx("div",{className:"flex items-center justify-between mb-3",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:""}),_.jsx("button",{className:"px-3 py-1 bg-blue-700 text-xs rounded cursor-pointer",onClick:()=>T(),children:"  ( )"})]})}),!n&&_.jsx("button",{onClick:m,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer",disabled:s,children:" "}),n&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.name??"",onChange:D=>r({...n,name:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:""}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.nickname??"",onChange:D=>r({...n,nickname:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Email"}),_.jsx("input",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",value:n.email??"",onChange:D=>r({...n,email:D.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:" "}),_.jsx("textarea",{className:"w-full p-2 bg-neutral-800 border border-neutral-600 rounded",rows:3,value:n.mgr_memo??"",onChange:D=>r({...n,mgr_memo:D.target.value})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:p,className:"px-3 py-2 bg-green-600 rounded cursor-pointer text-xs",disabled:s,children:""}),n.disabled_at&&_.jsx("button",{onClick:b,className:"px-3 py-2 bg-blue-600 rounded cursor-pointer text-xs",disabled:s,children:""}),_.jsx("button",{onClick:y,className:`px-3 py-2 rounded cursor-pointer text-xs ${n.disabled_at?"bg-yellow-600":"bg-gray-600"}`,children:n.disabled_at?" ":" "})]})]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-xl font-semibold",children:" "}),_.jsx("button",{className:"px-3 py-2 bg-blue-700 rounded text-xs cursor-pointer",onClick:x,disabled:s,children:"  "})]}),i.map(D=>_.jsx("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded mb-3",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-semibold",children:D.name||"(no name)"}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",D.birth_json?.birthDay??"-"," "," ",D.created_at?new Date(D.created_at).toLocaleString():"-"]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"text-nowrap px-2 py-1 border border-blue-500 text-blue-100 rounded cursor-pointer text-xs",onClick:()=>T(D.id),children:"  ( )"}),_.jsx("button",{className:"text-nowrap px-2 py-1 border border-neutral-500 rounded cursor-pointer text-xs",onClick:()=>j(`/admin/myeongsik/${D.id}`),children:""}),_.jsx("button",{className:`px-2 py-1 rounded cursor-pointer text-xs text-nowrap ${D.deleted_at?"bg-green-600":"bg-red-600"}`,onClick:()=>E(D.id,D.deleted_at),children:D.deleted_at?"":""})]})]})},D.id)),i.length===0&&_.jsx("div",{className:"text-neutral-400",children:" ."})]})]})}function cxe({open:e,onClose:t,children:n}){return e?_.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:_.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg p-6 max-w-2xl w-full relative",children:[_.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-white",onClick:t,children:""}),_.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:n})]})}):null}const m3=50;function uxe(){const[e,t]=A.useState(null),[n,r]=A.useState(!1),[i,a]=A.useState([]),[s,c]=A.useState(1),[d,f]=A.useState("all"),[m,p]=A.useState("all"),[y,b]=A.useState("30"),[x,T]=A.useState(""),[E,j]=A.useState(!1),D=A.useCallback(async M=>{await Ke.from("audit_logs").delete().eq("id",M),a(N=>N.filter(R=>R.id!==M))},[]),O=A.useCallback(async()=>{j(!0);const M=new Date;y!=="all"&&M.setDate(M.getDate()-Number(y));let N=Ke.from("audit_logs").select("*").order("created_at",{ascending:!1}).range((s-1)*m3,s*m3-1);y!=="all"&&(N=N.gte("created_at",M.toISOString())),d!=="all"&&(N=N.eq("action",d)),m!=="all"&&(N=N.eq("actor_admin_id",m));const{data:R}=await N;let $=R||[];if(x.trim()!==""){const z=x.toLowerCase();$=$.filter(G=>(JSON.stringify(G).toLowerCase()+(G.payload?JSON.stringify(G.payload).toLowerCase():"")).includes(z))}a($),j(!1)},[s,d,m,y,x]);return A.useEffect(()=>{O()},[O]),_.jsxs("div",{className:"p-6 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),_.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-3",children:[_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:d,onChange:M=>f(M.target.value),children:[_.jsx("option",{value:"all",children:" Action"}),_.jsx("option",{value:"delete_myeongsik",children:" "}),_.jsx("option",{value:"restore_myeongsik",children:" "}),_.jsx("option",{value:"update_profile",children:" "}),_.jsx("option",{value:"impersonate_user",children:""})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:m,onChange:M=>p(M.target.value),children:[_.jsx("option",{value:"all",children:" "}),_.jsx("option",{value:"",children:""}),_.jsx("option",{value:"system",children:"System"})]}),_.jsxs("select",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",value:y,onChange:M=>b(M.target.value),children:[_.jsx("option",{value:"1",children:"24"}),_.jsx("option",{value:"7",children:"7"}),_.jsx("option",{value:"30",children:"30"}),_.jsx("option",{value:"all",children:""})]}),_.jsx("input",{className:"p-2 bg-neutral-800 rounded border border-neutral-600",placeholder:" (payload )",value:x,onChange:M=>T(M.target.value)})]}),E?_.jsx("div",{children:"Loading..."}):i.map(M=>_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded mb-4 cursor-pointer hover:bg-neutral-800",onClick:()=>{t(M),r(!0)},children:[_.jsxs("div",{className:"flex items-center justify-between gap-3",children:[_.jsx("div",{className:"font-semibold text-lg",children:M.action}),_.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 hover:bg-red-600 rounded cursor-pointer",onClick:N=>{N.stopPropagation(),D(M.id)},children:""})]}),_.jsxs("div",{className:"text-sm mt-1 text-neutral-400",children:[_.jsxs("div",{children:["Actor: ",M.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",M.target_user_id||"-"]}),_.jsxs("div",{children:["Target Record: ",M.target_record_id||"-"]}),_.jsxs("div",{children:["Time: ",new Date(M.created_at).toLocaleString()]})]}),M.payload&&_.jsx("pre",{className:"mt-3 text-xs bg-neutral-800 p-2 rounded",children:JSON.stringify(M.payload,null,2)})]},M.id)),_.jsxs("div",{className:"flex items-center justify-center gap-3 mt-6",children:[_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded disabled:opacity-40",disabled:s===1,onClick:()=>c(M=>M-1),children:" "}),_.jsxs("span",{className:"text-neutral-400",children:["Page ",s]}),_.jsx("button",{className:"px-3 py-1 bg-neutral-800 border border-neutral-600 rounded",onClick:()=>c(M=>M+1),children:" "})]}),_.jsx(cxe,{open:n,onClose:()=>r(!1),children:e&&_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold mb-3",children:e.action}),_.jsxs("div",{className:"text-sm text-neutral-400 space-y-1 mb-4",children:[_.jsxs("div",{children:["Actor: ",e.actor_admin_id]}),_.jsxs("div",{children:["Target User: ",e.target_user_id??"-"]}),_.jsxs("div",{children:["Target Record: ",e.target_record_id??"-"]}),_.jsxs("div",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),_.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payload"}),_.jsx("pre",{className:"text-xs bg-neutral-800 p-3 rounded whitespace-pre-wrap",children:JSON.stringify(e.payload,null,2)})]})})]})}const dxe="15b517b3-3d97-41a6-ae17-563abd163a36".split(",").map(e=>e.trim()).filter(Boolean);function Uz(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1);if(A.useEffect(()=>{(async()=>{const{data:c}=await Ke.auth.getUser(),d=c.user?.id;r(!!d&&dxe.includes(d)),t(!0)})()},[]),!e)return _.jsx("div",{className:"p-6 text-white",children:"  ...!"});if(!n)return _.jsx("div",{className:"p-6 text-white",children:"  "});const i=window.location.pathname;let a=_.jsx(f3,{});if(i.startsWith("/admin/user/")){const s=i.replace("/admin/user/","");a=_.jsx(lxe,{params:{userId:s}})}else i.startsWith("/admin/user")?a=_.jsx(sxe,{}):i.startsWith("/admin/logs")?a=_.jsx(uxe,{}):i.startsWith("/admin/dashboard")&&(a=_.jsx(f3,{}));return _.jsx(goe,{children:a})}function fxe({pillarsA:e,pillarsB:t}){const n=kte(e,t);return _.jsxs("div",{className:"rounded-xl p-4 bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100 space-y-2",children:[_.jsx("div",{className:"text-sm font-bold mb-3",children:"   "}),Object.entries(n).map(([r,i])=>i.length>0?_.jsxs("div",{className:"flex gap-2 text-xs",children:[_.jsx("span",{className:"shrink-0 w-20 text-xs font-semibold text-neutral-700 dark:text-neutral-400 mt-1",children:r}),_.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((a,s)=>_.jsx("span",{className:"text-xs px-2 py-1 rounded-full border whitespace-nowrap bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-200 dark:border-violet-800",children:a},s))})]},r):null)]})}function hxe(e){return typeof e=="object"&&e!==null}const mxe=["","","","","","","","","","","","","","","","","","","",""],pxe=["","","","","","","","","","","","","","","","","","","","","","","",""],gxe=new Set(mxe),vxe=new Set(pxe);function p3(e){return typeof e=="string"&&e.length>=2&&gxe.has(e[0])&&vxe.has(e[1])}function _n(e,...t){if(p3(e))return e;for(const n of t)if(p3(n))return n;return""}function I0(e,t){let n=null;const r=t.getTime();for(const i of e)if(i.at.getTime()<=r)n=i;else break;return n}function yxe(e){const t=n=>String(n).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function g3(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(e);if(!t)return null;const[,n,r,i,a,s]=t,c=new Date(+n,+r-1,+i,+a,+s);return Number.isNaN(c.getTime())?null:c}function Ey(e){const t=e;return typeof t.name=="string"&&t.name?t.name:typeof t.title=="string"&&t.title?t.title:typeof t.memo=="string"&&t.memo?t.memo:" "}function bxe(e){const t=Number(e.birthDay.slice(0,4)),n=Number(e.birthDay.slice(4,6)),r=Number(e.birthDay.slice(6,8));let i=0,a=0;const s=e;return typeof s.birthTime=="string"&&s.birthTime.length>=4&&(i=Number(s.birthTime.slice(0,2)),a=Number(s.birthTime.slice(2,4))),{y:t,m:n,d:r,hh:i,mm:a}}function Ub(e){const{y:t,m:n,d:r}=bxe(e),i=e.corrected.getHours(),a=e.corrected.getMinutes();return e.calendarType==="lunar"?Jr(t,n,r,i,a):new Date(t,n-1,r,i,a)}function _xe(e){const t=Ub(e);return`${Ey(e)}-${t.toISOString()}`}function Uh(e){const t=e;return typeof t.id=="string"&&t.id?t.id:_xe(e)}function xxe(e){return hxe(e)&&("Classic"in e||"Modern"in e||"classic"in e||"modern"in e)}function wxe(e){const t=Au;return xxe(t)?e==="classic"?t.Classic:t.Modern:e}const yS="people_picker_order_v1";function Sxe(e,t,n){const r=e.slice(),[i]=r.splice(t,1);return r.splice(n,0,i),r}function v3({open:e,list:t,onSelect:n,onClose:r}){const[i,a]=A.useState("");A.useEffect(()=>{e||a("")},[e]);const s=A.useMemo(()=>t.map(Uh),[t]),c=A.useMemo(()=>new Set(s),[s]),[d,f]=A.useState([]);A.useEffect(()=>{const T=localStorage.getItem(yS),E=T?JSON.parse(T):[],j=E.filter(O=>c.has(O)),D=[...j,...s.filter(O=>!j.includes(O))];f(D),JSON.stringify(D)!==JSON.stringify(E)&&localStorage.setItem(yS,JSON.stringify(D))},[s,c]);const m=T=>{f(T),localStorage.setItem(yS,JSON.stringify(T))},p=A.useMemo(()=>{const T=new Map(t.map(j=>[Uh(j),j])),E=[];for(const j of d){const D=T.get(j);D&&E.push(D)}return T.forEach((j,D)=>{d.includes(D)||E.push(j)}),E},[t,d]),y=A.useMemo(()=>{const T=i.trim().toLowerCase();return T?p.filter(E=>Ey(E).toLowerCase().includes(T)):p},[p,i]),b=i.trim()==="",x=T=>{const{destination:E,source:j}=T;if(!E||!b||E.index===j.index)return;const D=y.map(Uh),O=Sxe(D,j.index,E.index),N=p.map(Uh).filter($=>!D.includes($)),R=[...O,...N].filter(($,z,G)=>G.indexOf($)===z);m(R)};return _.jsxs(_.Fragment,{children:[_.jsx("style",{children:"[data-rbd-drag-handle-context-id]{touch-action:none!important}"}),_.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity duration-200 z-[1000] ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r}),_.jsxs("div",{className:`fixed bottom-0 inset-x-0 mx-auto w-full max-w-[640px] max-h-[80dvh] bg-white dark:bg-neutral-950 rounded-t-2xl border border-neutral-200 dark:border-neutral-800 p-4 overflow-auto transition-transform duration-300 z-[1001] ${e?"translate-y-0":"translate-y-full"}`,children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h3",{className:"text-sm font-semibold text-neutral-900 dark:text-neutral-200",children:" "}),_.jsx("button",{onClick:r,className:"text-neutral-500 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-white text-sm cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("input",{placeholder:" ",value:i,onChange:T=>a(T.target.value),className:"flex-1 px-3 py-2 rounded bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 text-sm text-neutral-900 dark:text-neutral-100"}),!b&&_.jsx("span",{className:"text-[11px] text-neutral-500 dark:text-neutral-400 whitespace-nowrap",children:"    "})]}),_.jsx(qm,{onDragEnd:x,children:_.jsx(cu,{droppableId:"peopleList",children:T=>_.jsxs("ul",{ref:T.innerRef,...T.droppableProps,className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:[y.map((E,j)=>{const D=String(Uh(E)),O=Ub(E);return _.jsx(Vd,{draggableId:D,index:j,children:M=>_.jsx("li",{ref:M.innerRef,...M.draggableProps,...M.dragHandleProps,onClick:()=>n(E),className:"w-full text-left p-3 rounded border bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-800 cursor-grab select-none active:cursor-grabbing",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"mr-2 select-none",children:""}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"text-neutral-900 dark:text-neutral-50 text-sm truncate",children:Ey(E)}),_.jsx("div",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:em(O)})]})]})})},D)}),T.placeholder]})})})]})]})}function bS({label:e,gzHour:t,gzDay:n,gzMonth:r,gzYear:i,dayStem:a,cardSettings:s,sinsalBaseBranch:c,sinsalMode:d,sinsalBloom:f}){const m=T=>{const E=s.showSibiUnseong?sn(a,T):"",j=s.showSibiSinsal?ln({baseBranch:c,targetBranch:T,era:wxe(d),gaehwa:!!f}):"";return{unseongText:E||void 0,shinsalText:j||void 0}},p=_n(t).charAt(1),y=_n(n).charAt(1),b=_n(r).charAt(1),x=_n(i).charAt(1);return _.jsxs("div",{className:"rounded-lg border bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 py-2 desk:p-2",children:[_.jsx("div",{className:"px-2 py-1 text-xs text-neutral-600 dark:text-neutral-300",children:e}),_.jsx("div",{className:"grid grid-cols-4 gap-1 text-neutral-900 dark:text-white",children:[["",_n(t),p],["",_n(n),y],["",_n(r),b],["",_n(i),x]].map(([T,E,j])=>{const{unseongText:D,shinsalText:O}=m(j);return _.jsx(Nd,{label:T,gz:E,dayStem:a,settings:Er.getState().settings,unseongText:D,shinsalText:O,hideBranchSipSin:!0,size:"sm"},`${e}-${T}`)})})]})}function Exe(e){if(!e)return"";const t=e,n=c=>typeof t[c]=="string"?String(t[c]).trim().toLowerCase():null,r=c=>typeof t[c]=="boolean"?t[c]:null,i=[n("gender"),n("sex"),n("genderType"),n(""),n("sexType"),n("g")].filter(c=>!!c);for(const c of i){if(["","","male","m","boy","man"].includes(c))return"";if(["","","female","f","girl","woman"].includes(c))return""}const a=r("isMale"),s=r("isFemale");return a===!0?"":s===!0?"":""}function Ed({label:e,data:t,mode:n,effectiveDate:r,onPick:i}){const a=Er(N=>N.settings),s=A.useMemo(()=>t?Ub(t):null,[t]),c=_n(s?$a(s,"/"):void 0),d=_n(s?At(s,"/"):void 0),f=_n(s?Mt(s):void 0),m=_n(s?pt(s):void 0),p=A.useMemo(()=>d.charAt(0)||"",[d]),y=s,b=A.useMemo(()=>{const N=t?.birthPlace;return!N||N.name===""||!N.lon?127.5:N.lon},[t]),x=t?.mingSikType??"/",T=A.useMemo(()=>{const N=y?At(y,x).charAt(1):d.charAt(1)||"",R=y?pt(y,b).charAt(1):m.charAt(1)||"";return(a.sinsalBase??"")===""?N:R},[a.sinsalBase,y,x,b,d,m]),E=A.useMemo(()=>{if(n!==""||!s||!t)return null;try{const N=n5(s,c,t.dir,120,t.mingSikType),R=i5(N,d,t.dir,t.DayChangeRule),$=Ym(s,f,t.dir,120,t?.birthPlace?.lon??127.5),z=a5($,m,t.dir,t.DayChangeRule,s),G=r;return{si:_n(I0(N.events,G)?.gz,c),il:_n(I0(R.events,G)?.gz,d),wl:_n(I0($.events,G)?.gz,f),yn:_n(I0(z.events,G)?.gz,m)}}catch{return null}},[n,s,c,d,f,m,r,t]),j=A.useMemo(()=>{if(n!=="")return null;const N=r;return{si:_n($a(N,"/")),il:_n(At(N,"/")),wl:_n(Mt(N)),yn:_n(pt(N))}},[n,r]),D=t?Ey(t):"",O=s?em(s):"",M=t?Exe(t):"";return t?_.jsxs("div",{className:"space-y-2",children:[_.jsx("button",{onClick:i,className:"px-3 py-1 rounded text-xs bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 border border-neutral-900 dark:border-white hover:opacity-90 cursor-pointer",title:" ",children:" "}),_.jsxs("div",{className:"text-[11px] text-neutral-600 dark:text-neutral-300",children:[_.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-200",children:e}),_.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-50",children:D}),M&&_.jsxs("span",{className:"ml-1 text-neutral-500 dark:text-neutral-400",children:[" ",M]}),O&&_.jsx("span",{className:"block desk:inline-block mt-1 text-neutral-500 dark:text-neutral-400 text-[10px]",children:O})]}),n===""&&_.jsx(bS,{label:"",gzHour:c,gzDay:d,gzMonth:f,gzYear:m,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&E&&_.jsx(bS,{label:"",gzHour:E.si,gzDay:E.il,gzMonth:E.wl,gzYear:E.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom}),n===""&&j&&_.jsx(bS,{label:"",gzHour:j.si,gzDay:j.il,gzMonth:j.wl,gzYear:j.yn,dayStem:p,cardSettings:a,sinsalBaseBranch:T,sinsalMode:a.sinsalMode,sinsalBloom:!!a.sinsalBloom})]}):_.jsx("div",{className:"flex items-center justify-center h-48 rounded-lg border border-dashed bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",children:_.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 text-sm hover:opacity-90 cursor-pointer",children:" "})})}function Axe({people:e=[]}){const[t,n]=A.useState(),[r,i]=A.useState(),[a,s]=A.useState(!1),[c,d]=A.useState(!1),f=A.useRef(new Date),[m,p]=A.useState(()=>yxe(f.current)),y=A.useRef(g3(m)??f.current),b=A.useMemo(()=>{const O=g3(m);return O&&(y.current=O),y.current},[m]),[x,T]=A.useState(!1),[E,j]=A.useState(!1);function D(O){if(!O)return["","","",""];try{const M=Ub(O),N={hour:_n($a(M,"/")),day:_n(At(M,"/")),month:_n(Mt(M)),year:_n(pt(M))};return[N.year,N.month,N.day,N.hour]}catch{return["","","",""]}}return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"w-[96%] max-w-[640px] mx-auto bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 rounded-xl shadow border border-neutral-200 dark:border-neutral-800 px-2 py-4 desk:p-4",children:[_.jsxs("header",{className:"flex gap-3 justify-between items-center mb-4",children:[_.jsx("div",{className:"font-semibold text-sm text-neutral-900 dark:text-neutral-200",children:" "}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600 dark:text-neutral-400",children:[_.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:a,onChange:O=>s(O.target.checked),className:"accent-indigo-500"})," "]}),_.jsx("button",{onClick:()=>d(O=>!O),className:"px-2 py-1 rounded border border-neutral-300 dark:border-neutral-700 hover:border-indigo-500 text-neutral-700 dark:text-neutral-300 bg-white dark:bg-neutral-900 cursor-pointer",children:c?"  ":"  "})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 desk:gap-4",children:[_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),a&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),a&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)}),c&&t&&_.jsx(Ed,{label:" A",data:t,mode:"",effectiveDate:b,onPick:()=>T(!0)}),c&&r&&_.jsx(Ed,{label:" B",data:r,mode:"",effectiveDate:b,onPick:()=>j(!0)})]}),t&&r&&_.jsx("div",{className:"mt-4",children:_.jsx(fxe,{pillarsA:D(t),pillarsB:D(r)})}),_.jsxs("div",{className:"mt-4 max-w-[260px] mx-auto text-center",children:[_.jsx("label",{className:"min-w-0 block text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:"/ "}),_.jsx("input",{type:"datetime-local",value:m,onChange:O=>p(O.target.value),className:"min-w-0 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700 rounded px-3 py-1 text-xs w-[260px] max-w-[260px] box-border overflow-x-hidden text-neutral-900 dark:text-neutral-100 h-30",min:"1900-01-01T00:00",max:"2100-12-31T23:59"})]})]}),_.jsx(v3,{open:x,list:e||[],onSelect:O=>{n(O),T(!1)},onClose:()=>T(!1)}),_.jsx(v3,{open:E,list:e||[],onSelect:O=>{i(O),j(!1)},onClose:()=>j(!1)})]})}function Txe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),i=async()=>{try{const{data:{user:a}}=await Ke.auth.getUser();if(!a){alert("  .");return}const s=a.id,c=new Date().toISOString();await Ke.from("profiles").update({disabled_at:c}).eq("id",s),await Ke.from("myeongsik").update({deleted_at:c}).eq("user_id",s),await Ke.auth.signOut(),alert(" .   ."),window.location.href="/"}catch(a){console.error(a),alert("    .")}};return _.jsxs(_.Fragment,{children:[_.jsxs("footer",{className:"py-8 px-4 border-t border-neutral-200 dark:border-neutral-700",children:[_.jsx("div",{className:"text-center text-[12px] text-orange-600 dark:text-orange-300",children:"Copyright  2025 Hwarim96. All rights reserved."}),_.jsxs("div",{className:"flex justify-center items-center gap-4 mt-3",children:[_.jsx("button",{onClick:()=>t(!0),className:"text-[12px] text-neutral-500 dark:text-neutral-300 underline cursor-pointer hover:text-orange-500 transition",children:" "}),_.jsx("button",{onClick:()=>r(!0),className:"text-[12px] text-red-500 underline hover:text-red-400 transition cursor-pointer",children:""})]})]}),e&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"     ,    ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsxs("p",{className:"mb-2",children:["   (, )",_.jsx("br",{}),"       ( ,  )"]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsxs("p",{className:"mb-2",children:["     ",_.jsx("br",{}),"    /  ",_.jsx("br",{}),"      "]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsxs("p",{className:"mb-2",children:["     ",_.jsx("br",{}),"         "]}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"   3  ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase /DB    ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>t(!1),className:"cursor-pointer mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})}),n&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>r(!1),children:_.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:a=>a.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4 text-red-500",children:" ?"}),_.jsxs("p",{className:"text-sm leading-relaxed mb-6",children:["        .",_.jsx("br",{}),"    ."]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer flex-1 py-2 bg-neutral-300 dark:bg-neutral-700 text-black dark:text-white rounded-lg hover:bg-neutral-400 transition",children:""}),_.jsx("button",{onClick:i,className:"cursor-pointer flex-1 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:""})]})]})})]})}function kxe({ms:e}){const{date:t,setDate:n}=Di();A.useEffect(()=>{n(new Date)},[e]);const r=cA(e),i=A.useMemo(()=>{const c=t??new Date,d=c.getFullYear(),f=String(c.getMonth()+1).padStart(2,"0"),m=String(c.getDate()).padStart(2,"0");return`${d}-${f}-${m}`},[t]),a=c=>{if(!c)return;const[d,f,m]=c.split("-"),p=Number(d),y=Number(f),b=Number(m);if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b))return;const x=t??new Date,T=x.getHours(),E=x.getMinutes(),j=new Date(p,y,0).getDate(),D=Math.min(b,j),O=new Date(p,y-1,D,T,E,0,0);Number.isNaN(O.getTime())||n(O)},s=A.useMemo(()=>{const c=e.ganji,d=r?.dae?.gz?`${r.dae.gz}`:null,f=r?.se?.gz?`${r.se.gz}`:null,m=r?.wol?.gz?`${r.wol.gz}`:null,p=[d,f,m].filter(Boolean).join(" ");return[c,p].filter(Boolean).join(" + ")},[e,r]);return _.jsxs("div",{className:"max-w-[640px] mx-auto mb-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 p-3 space-y-3",children:[s&&_.jsx("div",{className:"text-center text-sm font-medium text-neutral-800 dark:text-neutral-200",children:s}),_.jsx("div",{className:"grid grid-cols-1 gap-3",children:_.jsxs("label",{className:"w-full flex justify-center items-center",children:[_.jsx("span",{className:"text-sm text-neutral-500 mr-4",children:""}),_.jsx("input",{type:"date",value:i,onChange:c=>a(c.target.value),min:"1900-01-01",max:"2100-12-31",className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})]})})]})}const Oxe=["23:0000:59","01:0002:59","03:0004:59","05:0006:59","07:0008:59","09:0010:59","11:0012:59","13:0014:59","15:0016:59","17:0018:59","19:0020:59","21:0022:59"];function jxe(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function $0(e,t){return e&&t?`${e}${t}`:null}function y3(e){return!!(e.yearStem&&e.yearBranch&&e.monthStem&&e.monthBranch&&e.dayStem&&e.dayBranch&&e.hourStem&&e.hourBranch)}const Nxe={:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},Cxe=Ra.,Mxe=["","","","","","","","","","","",""];function b3(e,t){let n;e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":e===""||e===""?n="":n="";const r=Nxe[n],i=Mxe.indexOf(t),a=(r+(i>=0?i:0))%10;return Cxe[a]}const Dxe=Ra..slice(),Pxe=["","","","","","","","","","","",""];function Ad(e,t){const r=(t===""?nI:b2)[e],i=t===""?Dxe:Pxe,a=Ra..reduce((s,c)=>(s[c]="",s),{});for(let s=0;s<12;s++)a[i[s]]=r[s];return a}const Rxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Lxe={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function Ixe({open:e,onClose:t,onSave:n}){const{settings:r}=Er(),[i,a]=A.useState(null),[s,c]=A.useState({}),[d,f]=A.useState(null),[m,p]=A.useState(!0),[y,b]=A.useState(!0),[x,T]=A.useState(""),[E,j]=A.useState("male"),[D,O]=A.useState(null),[M,N]=A.useState(!1),[,R]=A.useState(null),[$,z]=A.useState(null),[G,V]=A.useState({gender:"",mingSikType:"/",DayChangeRule:"",calendarType:"solar"}),[H,U]=A.useState(!1),[Z,re]=A.useState(null),ve=ye=>{re(ye),setTimeout(()=>re(null),1800)},[J,ae]=A.useState(!1),[ne,ce]=A.useState(!1);A.useEffect(()=>{if(J){const ye=setTimeout(()=>ae(!1),2e3);return()=>clearTimeout(ye)}},[J]),A.useEffect(()=>{if(ne){const ye=setTimeout(()=>ce(!1),2e3);return()=>clearTimeout(ye)}},[ne]);const te=()=>{const ye=$!==null?D?.filter((Un,Wn)=>Wn===$)??[]:[];if(ye.length===0){alert("  .");return}const $e=x===""?"/":"",he=ye[0],[ge,Ue,ze]=he.date.split("-").map(Number),He={:{hh:0,mi:0},:{hh:2,mi:0},:{hh:4,mi:0},:{hh:6,mi:0},:{hh:8,mi:0},:{hh:10,mi:0},:{hh:12,mi:0},:{hh:14,mi:0},:{hh:16,mi:0},:{hh:18,mi:0},:{hh:20,mi:0},:{hh:22,mi:0}};let ut=0,it=0;if(he.hourSlots.length>0){const Un=he.hourSlots[0].branch,Wn=He[Un];Wn&&(ut=Wn.hh,it=Wn.mi)}const tn=new Date(ge,Ue-1,ze,ut,it),Kn=tn,zn="",Ur=E==="male"?"":"";function ti(Un,Wn){const mi=["","","","","","","","","",""].includes(Un),Hr=Wn==="";return mi?Hr?"forward":"backward":Hr?"backward":"forward"}const En=ti(he.year.charAt(0),Ur),$t=pt(Kn,127.5),Cn=Mt(Kn,127.5),An=At(Kn,$e),Ii=$a(Kn,$e),Ks=[` : ${$t} ${Cn} ${An}`,Ii?`${Ii}`:null].filter(Boolean).join(" "),Ga={id:C$(),name:"",birthDay:`${ge}${String(Ue).padStart(2,"0")}${String(ze).padStart(2,"0")}`,birthTime:`${String(ut).padStart(2,"0")}${String(it).padStart(2,"0")}`,gender:Ur,birthPlace:H?{name:"",lat:0,lon:127.5}:G.birthPlace??{name:"",lat:0,lon:127.5},relationship:G.relationship??"",memo:G.memo??"",folder:uu(G.folder),mingSikType:G.mingSikType??"/",DayChangeRule:G.mingSikType===""?"":"",calendarType:G.calendarType??"solar",yearGZ:he.year,monthGZ:he.month,dayGZ:he.day,hourGZ:he.hour,ganjiText:` : ${he.year} ${he.month} ${he.day} ${he.hour}`,ganji:Ks,dayStem:he.day.charAt(0),dateObj:tn,corrected:Kn,correctedLocal:zn,dir:En};lf.flushSync(()=>{ho.getState().add(Ga)}),n(Ga),re(" !"),V({gender:"",mingSikType:"/",calendarType:"solar"}),U(!1),t()},Y=m||y,B=!!(s.yearStem&&s.yearBranch),X=!!(s.dayStem&&s.dayBranch),ee=!Y||B||X,q=!!d&&d.endsWith("Stem"),W=!!d&&d.endsWith("Branch");function le(ye){return ye==="yearStem"?"yearBranch":ye==="yearBranch"?"yearStem":ye==="monthStem"?"monthBranch":ye==="monthBranch"?"monthStem":ye==="dayStem"?"dayBranch":ye==="dayBranch"?"dayStem":ye==="hourStem"?"hourBranch":"hourStem"}const fe=A.useCallback((ye,$e)=>{if(!m||!ye.yearStem)return ye;const he={...ye},ge=b2[ye.yearStem];if(!ge)return he;const Ue=He=>ge.filter(ut=>ut.startsWith(He)),ze=He=>ge.find(ut=>ut.endsWith(He));if($e==="monthStem"&&he.monthStem){const He=Ue(he.monthStem).map(ut=>ut.slice(1));return He.length>=2?(a(He.slice(0,2)),f("monthBranch"),he):(He.length===1&&(he.monthBranch=He[0],a(null)),he)}if($e==="monthBranch"&&he.monthBranch){const He=ze(he.monthBranch);return He&&(he.monthStem=He.slice(0,1),a(null)),he}if($e==="yearStem"){if(he.monthStem&&!he.monthBranch){const He=Ue(he.monthStem).map(ut=>ut.slice(1));if(He.length>=2)return a(He.slice(0,2)),f("monthBranch"),he;He.length===1&&(he.monthBranch=He[0])}else if(he.monthBranch&&!he.monthStem){const He=ze(he.monthBranch);He&&(he.monthStem=He.slice(0,1))}}return he},[m,f]),Q=A.useCallback((ye,$e)=>{if(!y||!ye.dayStem)return ye;const he={...ye},ge=Ad(ye.dayStem,x),Ue=He=>Object.entries(ge).find(([,ut])=>ut.startsWith(He)),ze=He=>ge[He];if($e==="hourStem"&&he.hourStem){const He=Ue(he.hourStem);return He&&(he.hourBranch=He[0]),he}if($e==="hourBranch"&&he.hourBranch){const He=ze(he.hourBranch);return He&&(he.hourStem=He.slice(0,1)),he}if($e==="dayStem"){if(he.hourStem&&!he.hourBranch){const He=Ue(he.hourStem);He&&(he.hourBranch=He[0])}else if(he.hourBranch&&!he.hourStem){const He=ze(he.hourBranch);He&&(he.hourStem=He.slice(0,1))}}return he},[y,x]),de=A.useCallback(ye=>!m||!ye.yearStem?!1:ye.monthBranch&&ye.monthStem?b3(ye.yearStem,ye.monthBranch)!==ye.monthStem:!1,[m]),we=A.useCallback(ye=>{if(!y||!ye.dayStem)return!1;if(ye.hourBranch&&ye.hourStem){const he=Ad(ye.dayStem,x)[ye.hourBranch];return he?he.slice(0,1)!==ye.hourStem:!1}return!1},[y,x]);A.useEffect(()=>{if(!(!y||!s.dayStem||!s.hourBranch)&&(s.hourBranch===""||s.hourBranch==="")){const $e=Ad(s.dayStem,x)[s.hourBranch];$e&&c(he=>({...he,hourStem:$e.slice(0,1)}))}},[x,y,s.dayStem,s.hourBranch]);const se=A.useCallback(ye=>{if(!d)return;if(!ee&&!(d==="yearStem"||d==="yearBranch"||d==="dayStem"||d==="dayBranch")){R("/  :    ."),setTimeout(()=>R(null),1500);return}let he={...s,[d]:ye};(d==="yearStem"||d==="monthStem"||d==="monthBranch")&&(he=fe(he,d)),(d==="dayStem"||d==="hourStem"||d==="hourBranch")&&(he=Q(he,d)),c(he);let ge=!1;de(he)&&(p(!1),ge=!0),we(he)&&(b(!1),ge=!0),ge&&ve("/  .   ."),c(he),O(null);const Ue=le(d);f(Ue),setTimeout(()=>{const ze={...he};if(ze.yearStem&&ze.yearBranch&&!ze.monthStem){f("monthStem");return}if(ze.monthStem&&ze.monthBranch&&!ze.dayStem){f("dayStem");return}if(ze.dayStem&&ze.dayBranch&&!ze.hourStem){f("hourStem");return}},0)},[d,s,ee,fe,Q,de,we]),Ne=y3(s),be=A.useCallback(async()=>{if(O(null),R(null),!y3(s)){R("   .");return}const ye=$0(s.yearStem,s.yearBranch),$e=$0(s.monthStem,s.monthBranch),he=$0(s.dayStem,s.dayBranch),ge=$0(s.hourStem,s.hourBranch),Ue=300,ze=[];N(!0);try{const He=new Date(1900,0,1,12,0,0),ut=new Date(2100,11,31,12,0,0);for(let it=He.getTime();it<=ut.getTime();it+=24*3600*1e3){const tn=new Date(it),Kn=x===""?"/":"",zn=pt(tn);if(zn!==ye)continue;const Ur=Mt(tn);if(Ur!==$e)continue;const ti=At(tn,Kn);if(ti!==he)continue;const En=Ad(s.dayStem,x),$t=[];for(let Cn=0;Cn<12;Cn++){const An=Ra.[Cn];En[An]===ge&&$t.push({branch:An,time:Oxe[Cn]})}if($t.length!==0&&(ze.push({date:jxe(tn),year:zn,month:Ur,day:ti,hour:ge,hourSlots:$t}),ze.length>=Ue))break}ze.length===0&&R("  . (: 19002100)"),O(ze)}catch(He){He instanceof Error?R(He.message):R(String(He))}finally{N(!1)}},[s,x]),Le=()=>{c({}),O(null),R(null),f(null)},Me=ye=>{O(null),ye&&c($e=>{const he={...$e};return he.yearStem&&he.monthBranch&&(he.monthStem=b3(he.yearStem,he.monthBranch)),he}),p(ye)},Ie=ye=>{O(null),ye&&c($e=>{const he={...$e};if(he.dayStem&&he.hourBranch){const Ue=Ad(he.dayStem,x)[he.hourBranch];Ue&&(he.hourStem=Ue.slice(0,1))}return he}),b(ye)};if(!e)return null;const Be=ye=>{if(O(null),T(ye),y&&s.dayStem&&s.hourBranch&&(s.hourBranch===""||s.hourBranch==="")){const he=Ad(s.dayStem,ye)[s.hourBranch];he&&c(ge=>({...ge,hourStem:he.slice(0,1)}))}};return _.jsx("div",{className:"fixed min-w-[320px] inset-0 z-[1000] flex items-center justify-center bg-black/50",children:_.jsxs("div",{className:"bg-white max-w-[360px] dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-5xl p-4 relative",children:[_.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 cursor-pointer","aria-label":"",children:_.jsx(J5,{size:20})}),_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),_.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:"/"}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useWoldu",checked:m,onChange:ye=>Me(ye.target.checked)}),_.jsx("label",{htmlFor:"useWoldu",className:"ml-1",children:" "})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"checkbox",id:"useSidu",checked:y,onChange:ye=>Ie(ye.target.checked)}),_.jsx("label",{htmlFor:"useSidu",className:"ml-1",children:" "})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:" "}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"jasi",checked:x==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"jasi",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"insi",checked:x==="",onChange:()=>Be("")}),_.jsx("label",{htmlFor:"insi",className:"ml-1",children:""})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsxs("span",{className:"mr-3 chkContainer",children:[_.jsx("input",{type:"radio",id:"male",checked:E==="male",onChange:()=>j("male")}),_.jsx("label",{htmlFor:"male",className:"ml-1",children:""})]}),_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",id:"female",checked:E==="female",onChange:()=>j("female")}),_.jsx("label",{htmlFor:"female",className:"ml-1",children:""})]})]})]}),Y&&!ee&&_.jsxs("div",{className:"mb-3 text-sm text-orange-700 bg-orange-50 dark:text-orange-300 dark:bg-orange-900/30 rounded p-2 text-center",children:["/  . ",_.jsx("br",{}),_.jsx("b",{children:""}),"  ",_.jsx("b",{children:""}),"  ."]}),_.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[["hourStem",""],["dayStem",""],["monthStem",""],["yearStem",""],["hourBranch",""],["dayBranch",""],["monthBranch",""],["yearBranch",""]].map(([ye,$e])=>{const he=!ee&&!(ye==="yearStem"||ye==="yearBranch"||ye==="dayStem"||ye==="dayBranch"),ge=d===ye;return _.jsxs("button",{onClick:()=>!he&&f(ye),disabled:he,className:["border rounded p-2 text-center cursor-pointer",ge?"border-purple-500 bg-purple-100 dark:bg-purple-900/30":"border-neutral-300 dark:border-neutral-700",he?"opacity-50 cursor-not-allowed":""].join(" "),children:[$e,_.jsx("br",{}),_.jsx("span",{className:"font-bold",children:s[ye]??"-"})]},ye)})}),i&&i.length>0&&_.jsxs("div",{className:"mb-3",children:[_.jsx("p",{className:"text-sm mb-1",children:"  :"}),_.jsx("div",{className:"flex gap-2",children:i.map(ye=>_.jsx("button",{onClick:()=>{let $e={...s,monthBranch:ye};a(null),$e=fe($e,"monthBranch"),c($e),f("dayStem")},className:"flex-1 px-2 py-1 border rounded hover:bg-orange-100 dark:hover:bg-orange-800 cursor-pointer",children:ye},ye))})]}),_.jsx("div",{className:"flex w-full flex-wrap gap-6 mb-4",children:d?_.jsxs("div",{className:"w-full",children:[q&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ra..map(ye=>_.jsx("button",{onClick:()=>se(ye),className:`border rounded px-2 py-1 cursor-pointer ${sa(ye,"stem",r)}`,children:ye},ye))})]}),W&&_.jsxs("div",{children:[_.jsx("p",{className:"font-medium mb-2",children:""}),_.jsx("div",{className:"grid grid-cols-6 gap-2",children:Ra..filter(ye=>{const $e=le(d),he=s[$e];return he?Lxe[ye]===Rxe[he]:!0}).map(ye=>_.jsx("button",{onClick:()=>se(ye),className:`border rounded px-2 py-1 cursor-pointer ${sa(ye,"branch",r)}`,children:ye},ye))})]})]}):_.jsx("div",{className:"text-sm text-neutral-500 p-2 border rounded w-full text-center",children:"    ."})}),_.jsxs("div",{className:"flex justify-between items-center gap-3 mb-4",children:[_.jsx("span",{children:_.jsx("button",{type:"button",onClick:()=>{if(!Ne){ae(!0);return}be()},disabled:M,className:"px-2 py-1 rounded-md bg-blue-600 text-white disabled:opacity-50 cursor-pointer",children:M?" ...":""})}),_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"button",onClick:Le,className:"px-2 py-1 rounded-md bg-red-600 border border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""}),_.jsx("button",{type:"button",onClick:()=>{if(($!==null?D?.filter(($e,he)=>he===$)??[]:[]).length===0){ce(!0);return}te()},className:"px-2 py-1 rounded-md border bg-yellow-600 border-neutral-300 dark:border-neutral-700 cursor-pointer",children:""})]})]}),_.jsx("div",{className:"max-h-[40vh] overflow-auto rounded border border-neutral-200 dark:border-neutral-800",children:D?D.length===0?_.jsx("div",{className:"p-4 text-neutral-500",children:"  ."}):_.jsxs("table",{className:"w-full text-xs",children:[_.jsx("thead",{className:"sticky top-0 bg-neutral-50 dark:bg-neutral-800",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""}),_.jsx("th",{className:"p-1 text-center",children:""})]})}),_.jsx("tbody",{children:D.map((ye,$e)=>_.jsxs("tr",{className:"border-t border-neutral-200 dark:border-neutral-800",children:[_.jsx("td",{className:"p-1 text-center",children:_.jsxs("span",{className:"chkContainer",children:[_.jsx("input",{type:"radio",name:"selectRow",id:`selectRow-${$e}`,checked:$===$e,onChange:()=>z($e)}),_.jsx("label",{htmlFor:`selectRow-${$e}`,children:"ON"})]})}),_.jsx("td",{className:"p-1 text-center",children:ye.date}),_.jsx("td",{className:"p-1 text-center",children:ye.year}),_.jsx("td",{className:"p-1 text-center",children:ye.month}),_.jsx("td",{className:"p-1 text-center",children:ye.day}),_.jsx("td",{className:"p-1 text-center",children:_.jsx("div",{className:"flex flex-wrap gap-1",children:ye.hourSlots.map((he,ge)=>_.jsx("span",{className:"inline-flex items-center mx-auto gap-1 px-1 py-0.5 rounded bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700",children:_.jsx("b",{children:he.branch})},ge))})}),_.jsx("td",{className:"p-1 text-center",children:E==="male"?"":""})]},`${ye.date}-${$e}`))})]}):_.jsx("div",{className:"p-2 text-neutral-500 text-sm text-center",children:"   ."})}),Z&&_.jsx("div",{className:"pointer-events-none fixed left-1/2 -translate-x-1/2 top-6 z-[1100] border border-white/30",children:_.jsx("div",{className:"px-4 py-2 rounded-md bg-black/80 text-white text-sm shadow-lg",children:Z})}),J&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsx("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg",children:" 4  ."})}),ne&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[2000]",children:_.jsxs("div",{className:"bg-black text-white px-4 py-2 rounded-lg shadow-lg text-center",children:[" .",_.jsx("br",{})," ,  ."]})})]})})}const Hz=Bm(e=>({shinsalBase:"",shinsalEra:"",shinsalGaehwa:!1,hiddenStemMode:"hgc",setShinsalBase:t=>e({shinsalBase:t}),setShinsalEra:t=>e({shinsalEra:t}),setShinsalGaehwa:t=>e({shinsalGaehwa:t}),setHiddenStemMode:t=>e({hiddenStemMode:t})}));function Ay(e){if(!e)return["","","",""];let t=Number(e.birthDay?.slice(0,4)??2e3),n=Number(e.birthDay?.slice(4,6)??1),r=Number(e.birthDay?.slice(6,8)??1);if(e.calendarType==="lunar"){const O=Jr(t,n,r);t=O.getFullYear(),n=O.getMonth()+1,r=O.getDate()}const i=!e.birthTime||e.birthTime==="",a=i?4:Number(e.birthTime.slice(0,2)),s=i?30:Number(e.birthTime.slice(2,4)),c=new Date(t,n-1,r,a,s,0,0),d=!e.birthPlace||e.birthPlace.name===""||!e.birthPlace.lon?127.5:e.birthPlace.lon,f=Eu(c,d,i),m=e.mingSikType??"/",p=pt(f,d),y=Mt(f,d),b=At(f,m),x=i?null:$a(f,m),T=qe(p),E=qe(y),j=qe(b),D=x?qe(x):"";return[T,E,j,D]}function Fz(e){const t=new Date(e.corrected),n=Ay(e),r=n[0].charAt(0),a=["","","","",""].includes(r),s=e.gender==="",c=s&&a||!s&&!a?"forward":"backward",d=Ym(t,n[1],c,120,e.birthPlace?.lon??127.5),f=d.firstChange;if(!f)return[];const m=[];let p=qe(d.events[0]?.gz??n[1]);for(let y=0;y<10;y++){const b=new Date(f);if(b.setFullYear(b.getFullYear()+y*10),y>0){const x=d.events[y];x&&(p=qe(x.gz))}m.push(`${b.getFullYear()} ${String(b.getMonth()+1).padStart(2,"0")} ${p}  `)}return m}const $xe=!1,_3=e=>e<10?`0${e}`:`${e}`;function Gz(e){const t=e,n=typeof t.birthDay=="string"?t.birthDay:"",r=typeof t.calendarType=="string"?t.calendarType:"solar";if(n.length<8)return e;const i=Number(n.slice(0,4)),a=Number(n.slice(4,6)),s=Number(n.slice(6,8));if(r==="lunar")try{const c=Jr(i,a,s,0,0),d=`${c.getFullYear()}${_3(c.getMonth()+1)}${_3(c.getDate())}`;return{...e,birthDay:d,calendarType:"solar"}}catch{return e}return e}const Vh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Zh={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Dm={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},B0={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},Bxe=["","","","",""];function x3(e){return Bxe.includes(e)}const qz={:"",:"",:"",:"",:""},Yz={:"",:"",:"",:"",:""},Kz={:"",:"",:"",:"",:""},Wz={:"",:"",:"",:"",:""};function o2(e){if(!e)return null;const t=e.trim();if(["","","","","","","","","",""].includes(t))return t;if(Vh[t])return Vh[t];if(["","","","","","","","","","","",""].includes(t))return B0[t]??null;if(Zh[t])return B0[Zh[t]]??null;const n=t.charAt(0);return Vh[n]?Vh[n]:["","","","","","","","","",""].includes(n)?n:Zh[n]?B0[Zh[n]]??null:["","","","","","","","","","","",""].includes(n)?B0[n]??null:null}function zxe(e,t){const n=Dm[e],r=Dm[t];if(!n||!r)return"";let i;r===n?i="":r===qz[n]?i="":r===Yz[n]?i="":r===Kz[n]?i="":r===Wz[n]?i="":i="";const a=x3(e)===x3(t);switch(i){case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":"";case"":return a?"":""}}function Vz(e){const t=Object.entries(e),n=t.reduce((f,[,m])=>f+(m>0?m:0),0);if(n<=0)return Object.fromEntries(t.map(([f])=>[f,0]));const r=t.map(([f,m])=>[f,(m>0?m:0)*100/n]),i=r.map(([f,m])=>[f,Math.floor(m)]);let a=i.reduce((f,[,m])=>f+m,0);const s=r.map(([f,m])=>[f,m-Math.floor(m)]).sort((f,m)=>m[1]-f[1]),c=Object.fromEntries(i.map(([f,m])=>[f,m]));let d=0;for(;a<100&&d<s.length;)c[s[d][0]]+=1,a+=1,d+=1;return c}function Uxe(e){const t={};for(const[n,r]of Object.entries(e??{})){if(r<=0)continue;const i=o2(n);i&&(t[i]=(t[i]??0)+r)}return t}function Hxe(e){if(!e)return[];const t=o2(e.charAt(0)),n=o2(e.charAt(1));return[t,n].filter(Boolean)}function z0(e){const t=Hxe(e),n={};for(const r of t)n[r]=(n[r]??0)+1;return n}function Xi(e,t){return t===e?"":t===qz[e]?"":t===Yz[e]?"":t===Kz[e]?"":t===Wz[e]?"":""}const Fxe={:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"   ",keywords:"  "},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"/ ",keywords:""},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"  ",keywords:"  /"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:"  ",keywords:""},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:" ",keywords:"/ "},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:" ",keywords:" "},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"  ()",keywords:"/"},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"()",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:"( )",keywords:" "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:" ()",keywords:"  "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:"/ ",keywords:" "},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:" ",keywords:"/"},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"  ",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:"",keywords:" "},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:" ()",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"",keywords:""},:{name:"",element:"",brief:"  ",keywords:"/"},:{name:"",element:"",brief:"  ",keywords:"/"}};function Gxe(e){if(!e||e.length<2)return e;const t=e.charAt(0),n=e.charAt(1),r=Vh[t]??t,i=Zh[n]??n;return`${r}${i}`}function Lr(e){const t=Gxe(e),n=Fxe[t];return n?{...n,code:t}:null}function qxe(e){const t={:0,:0,:0,:0,:0};for(const[n,r]of Object.entries(e)){const i=Dm[n];i&&(t[i]+=r)}return t}function Yxe(e,t){const n={:0,:0,:0,:0,:0,:0,:0,:0,:0,:0};for(const[r,i]of Object.entries(e)){if(i<=0)continue;const a=zxe(t,r);n[a]+=i}return n}function Kxe(e){return{:e.+e.,:e.+e.,:e.+e.,:e.+e.,:e.+e.}}const Wxe={natal:50,dae:30,se:20,wol:7,il:3};function Vxe(e){const t={};for(const{kind:r,bare:i}of e){const a=Wxe[r]??0;if(a<=0)continue;const s=Vz(i);for(const[c,d]of Object.entries(s))t[c]=(t[c]??0)+d*a}const n=Object.values(t).reduce((r,i)=>r+i,0);if(n>0)for(const r of Object.keys(t))t[r]=t[r]/n*100;return t}function io(e,t,n){const r=Uxe(e.perStemElementScaled),i=t!==""&&n?.dae?z0(n.dae):{},a=(t===""||t===""||t==="")&&n?.se?z0(n.se):{},s=(t===""||t==="")&&n?.wol?z0(n.wol):{},c=t===""&&n?.il?z0(n.il):{},d=Vxe([{kind:"natal",bare:r},{kind:"dae",bare:i},{kind:"se",bare:a},{kind:"wol",bare:s},{kind:"il",bare:c}]),f=Vz(d),m=qxe(f),p=Yxe(f,e.dayStem),y=Kxe(p);return{perStemAugBare:f,elementPercent:m,totalsSub:p,totalsMain:y}}function Zxe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const _S=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),s2=e=>{if(Array.isArray(e)){const t=e.map(s2).filter(n=>!(n==null||Array.isArray(n)&&n.length===0||_S(n)&&Object.keys(n).length===0));return t.length>0?t:void 0}if(_S(e)){const t={};for(const[n,r]of Object.entries(e)){const i=s2(r);i!==void 0&&(Array.isArray(i)&&i.length===0||_S(i)&&Object.keys(i).length===0||(t[n]=i))}return Object.keys(t).length>0?t:void 0}if(e!=null)return e},Xxe=e=>{const t=s2(e);return t===void 0?"":typeof t=="string"||typeof t=="number"||typeof t=="boolean"?String(t):["```json",JSON.stringify(t,null,2),"```"].join(`
`)},Zi=(e,t)=>{const n=Xxe(t);return n?`## ${e}
${n}`:""};function Jxe(e){const{ms:t,natal:n,chain:r,basis:i,tab:a,unified:s,percent:c,category:d,topic:f,subTopic:m,relationMode:p,teacherMode:y}=e,b=[qe(n[0]??""),qe(n[1]??""),qe(n[2]??""),qe(n[3]??"")],x=Fz(t).slice(0,10),T=Vr({natal:b,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),E=Oi({natal:b,daewoon:a!==""?r?.dae??void 0:void 0,sewoon:a===""||a===""||a===""?r?.se??void 0:void 0,wolwoon:a===""||a===""?r?.wol??void 0:void 0,ilwoon:a===""?r?.il??void 0:void 0}),{shinsalEra:j,shinsalGaehwa:D,shinsalBase:O}=Hz.getState(),M=O===""?b[0]?.charAt(1)??"":b[2]?.charAt(1)??"",N=io(s,a,r),R=N.elementPercent,$=N.totalsSub,{flags:z}=U5(b,s.elementScoreRaw),G=`${d} (${c.toFixed(1)}%)  ${[` ${z..||z..||z..||z..?"":""}`,` ${z..||z..||z..||z..?"":""}`,` ${z..||z..?"":""}`].join(", ")}`,V=!t.birthTime||t.birthTime==="";function H(B){const ee=Gz(B).birthDay??"",q=ee.slice(0,4),W=ee.slice(4,6),le=ee.slice(6,8);let fe="";if(B.corrected instanceof Date&&!isNaN(B.corrected.getTime())){const Q=String(B.corrected.getHours()).padStart(2,"0"),de=String(B.corrected.getMinutes()).padStart(2,"0");fe=V?"":`${Q}:${de}`}return`${q} ${W} ${le}  ${fe}`}function U(B,X){if(!X)return"()";const ee=[];return(B===""||B===""||B===""||B==="")&&X.dae&&ee.push(`:${qe(X.dae)}`),(B===""||B===""||B==="")&&X.se&&ee.push(`:${qe(X.se)}`),(B===""||B==="")&&X.wol&&ee.push(`:${qe(X.wol)}`),B===""&&X.il&&ee.push(`:${qe(X.il)}`),ee.length>0?ee.join(" / "):"()"}const Z=Zxe(b,t),re=s.dayStem,ve=Dm[re],J=[` : ${t.name??""} (${H(t)}) : ${t.gender}`,` ${b[0]} ${b[1]} ${b[2]}`+(b[3]?` ${b[3]}${!t.birthTime||t.birthTime===""?"()":""}`:""),`: ${U(a,r)}`].join(`
`),ae=[];if(ae.push(Zi("  (10)",x)),ae.push(Zi("",G)),ae.push(Zi("(  )",Object.fromEntries(Object.entries(s.natalFixed.elementPercent100).map(([B,X])=>[`${B}(${Xi(ve,B)})`,X])))),a!==""&&ae.push(Zi(`(=${a})`,Object.fromEntries(Object.entries(R).map(([B,X])=>[`${B}(${Xi(ve,B)})`,X])))),ae.push(Zi(" ( 10 100)",s.natalFixed.totalsSub)),a!==""&&ae.push(Zi(` ( 10=${a} 100)`,$)),ae.push(Zi("(+ )",a===""?b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,unseong:sn(b[2]?.charAt(0)??"",B.charAt(1))}).filter(Boolean):[...b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,unseong:sn(b[2]?.charAt(0)??"",B.charAt(1))}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,unseong:sn(b[2]?.charAt(0)??"",r.dae.charAt(1))}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,unseong:sn(b[2]?.charAt(0)??"",r.se.charAt(1))}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,unseong:sn(b[2]?.charAt(0)??"",r.wol.charAt(1))}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,unseong:sn(b[2]?.charAt(0)??"",r.il.charAt(1))}]:[]].filter(Boolean))),ae.push(Zi("(+  )",a===""?b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,shinsal:ln({baseBranch:M,targetBranch:B.charAt(1),era:j,gaehwa:D})}).filter(Boolean):[...b.map((B,X)=>!B||X>=Z.length?null:{pos:Z[X],gz:B,shinsal:ln({baseBranch:M,targetBranch:B.charAt(1),era:j,gaehwa:D})}).filter(Boolean),...r?.dae?[{pos:"",gz:r.dae,shinsal:ln({baseBranch:M,targetBranch:r.dae.charAt(1),era:j,gaehwa:D})}]:[],...(a===""||a===""||a==="")&&r?.se?[{pos:"",gz:r.se,shinsal:ln({baseBranch:M,targetBranch:r.se.charAt(1),era:j,gaehwa:D})}]:[],...(a===""||a==="")&&r?.wol?[{pos:"",gz:r.wol,shinsal:ln({baseBranch:M,targetBranch:r.wol.charAt(1),era:j,gaehwa:D})}]:[],...a===""&&r?.il?[{pos:"",gz:r.il,shinsal:ln({baseBranch:M,targetBranch:r.il.charAt(1),era:j,gaehwa:D})}]:[]].filter(Boolean))),ae.push(Zi("(+ )",a===""?b.map((B,X)=>{if(!B||X>=Z.length)return null;const ee=Lr(B);return ee?{pos:Z[X],gz:B,nabeum:ee.name,element:ee.element,code:ee.code}:{pos:Z[X],gz:B,nabeum:null}}).filter(Boolean):[...b.map((B,X)=>{if(!B||X>=Z.length)return null;const ee=Lr(B);return ee?{pos:Z[X],gz:B,nabeum:ee.name,element:ee.element,code:ee.code}:{pos:Z[X],gz:B,nabeum:null}}).filter(Boolean),...r?.dae?(()=>{const B=Lr(r.dae);return B?[{pos:"",gz:r.dae,nabeum:B.name,element:B.element,code:B.code}]:[]})():[],...(a===""||a===""||a==="")&&r?.se?(()=>{const B=Lr(r.se);return B?[{pos:"",gz:r.se,nabeum:B.name,element:B.element,code:B.code}]:[]})():[],...(a===""||a==="")&&r?.wol?(()=>{const B=Lr(r.wol);return B?[{pos:"",gz:r.wol,nabeum:B.name,element:B.element,code:B.code}]:[]})():[],...a===""&&r?.il?(()=>{const B=Lr(r.il);return B?[{pos:"",gz:r.il,nabeum:B.name,element:B.element,code:B.code}]:[]})():[]].filter(Boolean))),ae.push(Zi("()",SA(b.filter((B,X)=>X<Z.length)))),ae.push(Zi("( :  )",T)),a===""){const B=Oi({natal:b,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:i});ae.push(Zi("( )",{good:B.good,bad:B.bad,meta:B.meta}))}else ae.push(Zi(`( =${a})`,E));const ne=ae.filter(B=>B&&B.trim().length>0).join(`

`),ce=e8({topic:f,subTopic:m,timeMode:"single",tab:a,relationMode:p,teacherMode:y}),te=["-----","  ","","1.       (////)  .","2.  ,        ."];ce&&te.push("","  ( )",ce);const Y=te.join(`
`);return[J,ne,Y].join(`

`)}function Qxe(e,t){return e[3]&&e[3]!==""?["","","",!t.birthTime||t.birthTime===""?"()":""]:["","",""]}const ewe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e);function nk(e){return new Date(e.startYear,(e.startMonth??1)-1,e.startDay??1)}function Zz(e,t){const n=e[t],r=e[t+1];return r?nk(r):new Date(n.endYear+1,0,1)}function Xz(e,t,n,r){return e<r&&t>n}function Jz(e,t,n){const r=new Date(t,0,1),i=new Date(n+1,0,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=nk(c),f=Zz(e,s);Xz(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function w3(e,t){return Jz(e,t,t)}function U0(e,t,n){const r=new Date(t,n-1,1),i=new Date(t,n,1),a=[];for(let s=0;s<e.length;s++){const c=e[s],d=nk(c),f=Zz(e,s);Xz(d,f,r,i)&&(a.some(m=>m.gz===c.gz&&m.startYear===c.startYear)||a.push(c))}return a}function Qz(e){const t=315569259747e-1,i=Date.UTC(1900,1,4,7,15,0)+(e-1900)*t+3*t/24,a=new Date(i);return new Date(a.getTime()+540*60*1e3)}function H0(e,t){const n=[],r=new Date(e,t-1,15,0,0,0),i=new Date(e,t,1,15,0,0),a=Qz(e),s=pt(new Date(e-1,5,15)),c=pt(new Date(e,5,15)),d=pt(new Date(e+1,5,15));if(i<=a)s&&n.push(qe(s));else if(r>=a)c&&n.push(qe(c));else if(s&&n.push(qe(s)),c){const f=qe(c);n.includes(f)||n.push(f)}if(t===12&&d){const f=qe(d);n.includes(f)||n.push(f)}return n}function twe(e,t){const n=Qz(e),r=new Date(e,t-1,1),i=[];return r<n&&i.push(e-1),r>=n&&i.push(e),t===12&&i.push(e+1),i}const Ro=(e,t)=>{if(!e)return{};const n=t,r=c=>{if(!c)return;const d={};for(const[f,m]of Object.entries(c)){if(!Array.isArray(m))continue;const p=m.filter(y=>typeof y=="string"&&y.includes(n));p.length>0&&(d[f]=p)}if(Object.keys(d).length!==0)return d},i=r(e.good),a=r(e.bad),s={};return i&&(s.good=i),a&&(s.bad=a),s};function l2(e){if(e!=null){if(Array.isArray(e)){const t=e.map(n=>l2(n)).filter(n=>n!==void 0);return t.length>0?t:void 0}if(ewe(e)){const t={};for(const[n,r]of Object.entries(e)){const i=l2(r);i!==void 0&&(t[n]=i)}return Object.keys(t).length>0?t:void 0}return e}}const nwe=e=>e==null?"":typeof e=="string"?e:JSON.stringify(e,null,2),yr=(e,t)=>{const n=l2(t);if(n===void 0)return"";const r=nwe(n);return r.trim()?`## ${e}
${r}`:""},vs=(e,t)=>{const n={};if(!e||typeof e!="object")return n;for(const[r,i]of Object.entries(e)){if(!Array.isArray(i))continue;const a=Array.from(new Set(i.filter(s=>typeof s=="string"&&s.includes(t))));a.length>0&&(n[r]=a)}return n};function rwe(e){const{ms:t,natal:n,basis:r,unified:i,percent:a,category:s,selectedDaeList:c,daeList:d,seYears:f,wolMonths:m,ilDays:p,topic:y,subTopic:b,teacherMode:x}=e,T=[qe(n[0]??""),qe(n[1]??""),qe(n[2]??""),qe(n[3]??"")],E=!t.birthTime||t.birthTime==="",j=Qxe(T,t),D=i.dayStem,O=Dm[D],{shinsalEra:M,shinsalGaehwa:N,shinsalBase:R}=Hz.getState(),$=R===""?T[0]?.charAt(1)??"":T[2]?.charAt(1)??"",{flags:z}=U5(T,i.elementScoreRaw),G=`${s} (${a.toFixed(1)}%)  ${[` ${z..||z..||z..||z..?"":""}`,` ${z..||z..||z..||z..?"":""}`,` ${z..||z..?"":""}`].join(", ")}`;function V(ne){const te=Gz(ne).birthDay??"",Y=te.slice(0,4),B=te.slice(4,6),X=te.slice(6,8);let ee="";if(ne.corrected instanceof Date&&!isNaN(ne.corrected.getTime())){const q=String(ne.corrected.getHours()).padStart(2,"0"),W=String(ne.corrected.getMinutes()).padStart(2,"0");ee=E?"":`${q}:${W}`}return`${Y} ${B} ${X}  ${ee}`}const H=[` : ${t.name??""} (${V(t)}) : ${t.gender}`,` ${T[0]} ${T[1]} ${T[2]}`+(T[3]?` ${T[3]}${!t.birthTime||t.birthTime===""?"()":""}`:"")].join(`
`),U=[];U.push(yr("",G)),U.push(yr("()",Object.fromEntries(Object.entries(i.natalFixed.elementPercent100).map(([ne,ce])=>[`${ne}(${Xi(O,ne)})`,ce])))),U.push(yr(" ( 10 100)",i.natalFixed.totalsSub)),U.push(yr("()",SA(T.filter((ne,ce)=>ce<j.length))));const Z=Oi({natal:T,daewoon:null,sewoon:null,wolwoon:null,ilwoon:null,basis:r});if(U.push(yr("()",{good:Z.good,bad:Z.bad,meta:Z.meta})),U.push(yr("()",T.map((ne,ce)=>{if(!ne||ce>=j.length)return null;const te=Lr(ne);return te?{pos:j[ce],gz:ne,nabeum:te.name,element:te.element,code:te.code}:{pos:j[ce],gz:ne,nabeum:null}}).filter(Boolean))),U.push(yr("()",T.map((ne,ce)=>!ne||ce>=j.length?null:{pos:j[ce],gz:ne,unseong:sn(T[2]?.charAt(0)??"",ne.charAt(1))}).filter(Boolean))),U.push(yr("()",T.map((ne,ce)=>!ne||ce>=j.length?null:{pos:j[ce],gz:ne,shinsal:ln({baseBranch:$,targetBranch:ne.charAt(1),era:M,gaehwa:N})}).filter(Boolean))),d.length>0)for(const ne of c){const ce={dae:ne.gz,se:null,wol:null,il:null},te=io(i,"",ce),Y=Vr({natal:T,daewoon:ne.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0}),B=Oi({natal:T,daewoon:ne.gz,sewoon:void 0,wolwoon:void 0,ilwoon:void 0,basis:r}),X=Lr(ne.gz),ee=sn(T[2]?.charAt(0)??"",ne.gz.charAt(1)),q=ln({baseBranch:$,targetBranch:ne.gz.charAt(1),era:M,gaehwa:N});U.push(yr(`${ne.age} ${ne.gz} (${ne.startYear}~${ne.endYear})`,{:Object.fromEntries(Object.entries(te.elementPercent).map(([W,le])=>[`${W}(${Xi(O,W)})`,le])),:te.totalsSub,:Y,:Ro(B,""),:X?{gz:ne.gz,nabeum:X.name,element:X.element,code:X.code}:null,:{pos:"",gz:ne.gz,unseong:ee},:{pos:"",gz:ne.gz,shinsal:q}}))}if(f.length>0){const ne=f[0],ce=f[f.length-1],te=Jz(d,ne,ce);if(te.length>0){const Y=ne,B=pt(new Date(Y,5,15)),X=qe(B||""),ee={:te.map(q=>{const W={dae:q.gz,se:X||null,wol:null,il:null},le=io(i,"",W),fe=Vr({natal:T,daewoon:q.gz,sewoon:X||void 0,wolwoon:void 0,ilwoon:void 0}),Q=Oi({natal:T,daewoon:q.gz,sewoon:X||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}),de=Lr(q.gz),we=sn(T[2]?.charAt(0)??"",q.gz.charAt(1)),se=ln({baseBranch:$,targetBranch:q.gz.charAt(1),era:M,gaehwa:N});return{:`${q.age} ${q.gz} (${q.startYear}~${q.endYear})`,:q.gz,:Object.fromEntries(Object.entries(le.elementPercent).map(([Ne,be])=>[`${Ne}(${Xi(O,Ne)})`,be])),:le.totalsSub,:vs(fe,""),:Ro(Q,""),:de?{gz:q.gz,nabeum:de.name,element:de.element,code:de.code}:null,:{pos:"",gz:q.gz,unseong:we},:{pos:"",gz:q.gz,shinsal:se}}})};U.push(yr("",ee))}for(const Y of f){const B=pt(new Date(Y,5,15)),X=w3(d,Y),ee=X.length>0?X[0]:null,q={dae:ee?ee.gz:null,se:qe(B||""),wol:null,il:null},W=io(i,"",q),le=Vr({natal:T,daewoon:ee?.gz,sewoon:qe(B||""),wolwoon:void 0,ilwoon:void 0}),fe=Oi({natal:T,daewoon:ee?.gz,sewoon:qe(B||""),wolwoon:void 0,ilwoon:void 0,basis:r}),Q=Lr(qe(B||"")),de=sn(T[2]?.charAt(0)??"",(B||"").charAt(1)),we=ln({baseBranch:$,targetBranch:(B||"").charAt(1),era:M,gaehwa:N}),se={:{:`${Y} ${qe(B||"")}`,:qe(B||""),:Object.fromEntries(Object.entries(W.elementPercent).map(([Ne,be])=>[`${Ne}(${Xi(O,Ne)})`,be])),:W.totalsSub,:vs(le,""),:Ro(fe,""),:Q?{gz:qe(B||""),nabeum:Q.name,element:Q.element,code:Q.code}:null,:{pos:"",gz:qe(B||""),unseong:de},:{pos:"",gz:qe(B||""),shinsal:we}}};U.push(yr(` ${Y}`,se))}}if(m.length>0){const ne=[],ce=new Map;for(const ee of m){const[q,W]=ee.split("-").map(Number);U0(d,q,W).forEach(de=>{ne.some(we=>we.gz===de.gz&&we.startYear===de.startYear)||ne.push(de)});const fe=twe(q,W);H0(q,W).forEach((de,we)=>{const se=fe[we]??fe[fe.length-1];ce.has(de)||ce.set(de,{year:se,month:W})})}const[te]=m[0].split("-").map(Number),Y=pt(new Date(te,5,15)),B=qe(Y||"");if(ne.length>0){const ee={:ne.map(q=>{const W={dae:q.gz,se:B||null,wol:null,il:null},le=io(i,"",W),fe=Vr({natal:T,daewoon:q.gz,sewoon:B||void 0,wolwoon:void 0,ilwoon:void 0}),Q=Oi({natal:T,daewoon:q.gz,sewoon:B||void 0,wolwoon:void 0,ilwoon:void 0,basis:r}),de=Lr(q.gz),we=sn(T[2]?.charAt(0)??"",q.gz.charAt(1)),se=ln({baseBranch:$,targetBranch:q.gz.charAt(1),era:M,gaehwa:N});return{:`${q.age} ${q.gz} (${q.startYear}~${q.endYear})`,:q.gz,:Object.fromEntries(Object.entries(le.elementPercent).map(([Ne,be])=>[`${Ne}(${Xi(O,Ne)})`,be])),:le.totalsSub,:vs(fe,""),:Ro(Q,""),:de?{gz:q.gz,nabeum:de.name,element:de.element,code:de.code}:null,:{pos:"",gz:q.gz,unseong:we},:{pos:"",gz:q.gz,shinsal:se}}})};U.push(yr("",ee))}const X=Array.from(ce.keys());if(X.length>0){const ee={:X.map(q=>{const le=ce.get(q).year,Q=w3(d,le)[0]??ne[0]??null,de={dae:Q?Q.gz:null,se:q,wol:null,il:null},we=io(i,"",de),se=Vr({natal:T,daewoon:Q?.gz,sewoon:q,wolwoon:void 0,ilwoon:void 0}),Ne=Oi({natal:T,daewoon:Q?.gz,sewoon:q,wolwoon:void 0,ilwoon:void 0,basis:r}),be=Lr(q),Le=sn(T[2]?.charAt(0)??"",q.charAt(1)),Me=ln({baseBranch:$,targetBranch:q.charAt(1),era:M,gaehwa:N});return{:`${le} ${q}`,:q,:Object.fromEntries(Object.entries(we.elementPercent).map(([Ie,Be])=>[`${Ie}(${Xi(O,Ie)})`,Be])),:we.totalsSub,:vs(se,""),:Ro(Ne,""),:be?{gz:q,nabeum:be.name,element:be.element,code:be.code}:null,:{pos:"",gz:q,unseong:Le},:{pos:"",gz:q,shinsal:Me}}})};U.push(yr("",ee))}for(const ee of m){const[q,W]=ee.split("-").map(Number),le=new Date(q,W-1,15),fe=Mt(le),Q=U0(d,q,W),de=Q.length>0?Q[0]:null,we=H0(q,W),se=we.length>0?we[we.length-1]:"",Ne={dae:de?de.gz:null,se:se||null,wol:qe(fe||""),il:null},be=io(i,"",Ne),Le=Vr({natal:T,daewoon:de?.gz,sewoon:se||void 0,wolwoon:qe(fe||""),ilwoon:void 0}),Me=Oi({natal:T,daewoon:de?.gz,sewoon:se||void 0,wolwoon:qe(fe||""),ilwoon:void 0,basis:r}),Ie=Lr(qe(fe||"")),Be=sn(T[2]?.charAt(0)??"",(fe||"").charAt(1)),ye=ln({baseBranch:$,targetBranch:(fe||"").charAt(1),era:M,gaehwa:N}),$e={:{:`${ee} ${qe(fe||"")}`,:qe(fe||""),:Object.fromEntries(Object.entries(be.elementPercent).map(([he,ge])=>[`${he}(${Xi(O,he)})`,ge])),:be.totalsSub,:vs(Le,""),:Ro(Me,""),:Ie?{gz:qe(fe||""),nabeum:Ie.name,element:Ie.element,code:Ie.code}:null,:{pos:"",gz:qe(fe||""),unseong:Be},:{pos:"",gz:qe(fe||""),shinsal:ye}}};U.push(yr(` ${ee}`,$e))}}if(p.length>0){const ne=t.mingSikType??"/",[ce,te,Y]=p[0].split("-").map(Number),B=new Date(ce,te-1,Y,4,0);if(!isNaN(B.getTime())){const X=U0(d,ce,te),ee=X.length>0?X[0]:null,q=H0(ce,te),W=q.length>0?q[q.length-1]:"",le=Mt(new Date(ce,te-1,15)),fe=At(B,ne),Q=qe(le||""),de=qe(W||""),we=qe(fe||"");if(ee){const se={dae:ee.gz,se:de,wol:Q,il:we},Ne=io(i,"",se),be=Vr({natal:T,daewoon:ee.gz,sewoon:de,wolwoon:Q,ilwoon:we}),Le=Oi({natal:T,daewoon:ee.gz,sewoon:de,wolwoon:Q,ilwoon:we,basis:r}),Me=Lr(ee.gz),Ie=sn(T[2]?.charAt(0)??"",ee.gz.charAt(1)),Be=ln({baseBranch:$,targetBranch:ee.gz.charAt(1),era:M,gaehwa:N});U.push(yr("",{:`${ee.age} ${ee.gz} (${ee.startYear}~${ee.endYear})`,:ee.gz,:Object.fromEntries(Object.entries(Ne.elementPercent).map(([ye,$e])=>[`${ye}(${Xi(O,ye)})`,$e])),:Ne.totalsSub,:vs(be,""),:Ro(Le,""),:Me?{gz:ee.gz,nabeum:Me.name,element:Me.element,code:Me.code}:null,:{pos:"",gz:ee.gz,unseong:Ie},:{pos:"",gz:ee.gz,shinsal:Be}}))}if(de){const se={dae:ee?ee.gz:null,se:de,wol:Q,il:we},Ne=io(i,"",se),be=Vr({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we}),Le=Oi({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we,basis:r}),Me=Lr(de),Ie=sn(T[2]?.charAt(0)??"",de.charAt(1)),Be=ln({baseBranch:$,targetBranch:de.charAt(1),era:M,gaehwa:N});U.push(yr("",{:`${ce} ${de}`,:de,:Object.fromEntries(Object.entries(Ne.elementPercent).map(([ye,$e])=>[`${ye}(${Xi(O,ye)})`,$e])),:Ne.totalsSub,:vs(be,""),:Ro(Le,""),:Me?{gz:de,nabeum:Me.name,element:Me.element,code:Me.code}:null,:{pos:"",gz:de,unseong:Ie},:{pos:"",gz:de,shinsal:Be}}))}if(Q){const se={dae:ee?ee.gz:null,se:de,wol:Q,il:we},Ne=io(i,"",se),be=Vr({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we}),Le=Oi({natal:T,daewoon:ee?.gz,sewoon:de,wolwoon:Q,ilwoon:we,basis:r}),Me=Lr(Q),Ie=sn(T[2]?.charAt(0)??"",Q.charAt(1)),Be=ln({baseBranch:$,targetBranch:Q.charAt(1),era:M,gaehwa:N});U.push(yr("",{:`${ce}-${String(te).padStart(2,"0")} ${Q}`,:Q,:Object.fromEntries(Object.entries(Ne.elementPercent).map(([ye,$e])=>[`${ye}(${Xi(O,ye)})`,$e])),:Ne.totalsSub,:vs(be,""),:Ro(Le,""),:Me?{gz:Q,nabeum:Me.name,element:Me.element,code:Me.code}:null,:{pos:"",gz:Q,unseong:Ie},:{pos:"",gz:Q,shinsal:Be}}))}}for(const X of p){const[ee,q,W]=X.split("-").map(Number),le=new Date(ee,q-1,W,4,0);if(isNaN(le.getTime()))continue;const fe=U0(d,ee,q),Q=fe.length>0?fe[0]:null,de=H0(ee,q),we=de.length>0?de[de.length-1]:"",se=Mt(new Date(ee,q-1,15)),Ne=At(le,ne),be=qe(se||""),Le=qe(we||""),Me=qe(Ne||""),Ie={dae:Q?Q.gz:null,se:Le||null,wol:be,il:Me},Be=io(i,"",Ie),ye=Vr({natal:T,daewoon:Q?.gz,sewoon:Le||void 0,wolwoon:be||void 0,ilwoon:Me||void 0}),$e=Oi({natal:T,daewoon:Q?.gz,sewoon:Le||void 0,wolwoon:be||void 0,ilwoon:Me||void 0,basis:r}),he=Lr(Me),ge=sn(T[2]?.charAt(0)??"",Me.charAt(1)),Ue=ln({baseBranch:$,targetBranch:Me.charAt(1),era:M,gaehwa:N}),ze={:{:`${X} ${Me}`,:Me,:Object.fromEntries(Object.entries(Be.elementPercent).map(([He,ut])=>[`${He}(${Xi(O,He)})`,ut])),:Be.totalsSub,:vs(ye,""),:Ro($e,""),:he?{gz:Me,nabeum:he.name,element:he.element,code:he.code}:null,:{pos:"",gz:Me,unseong:ge},:{pos:"",gz:Me,shinsal:Ue}}};U.push(yr(` ${X}`,ze))}}const re=U.filter(ne=>ne.trim().length>0).join(`

`),ve=e8({topic:y,subTopic:b,timeMode:"single",teacherMode:x}),J=["-----","  ","","1.       (////)  .","2.  ,        ."];ve&&J.push("","  ( )",ve);const ae=J.join(`
`);return[H,re,ae].join(`

`)}function e8(e){const{topic:t,subTopic:n,timeMode:r="single",tab:i,relationMode:a,teacherMode:s}=e;if(!t)return"";const c=[];switch(s===!0?c.push("-   ,     (, ,   )  .","-         ,   .","-    .    .","-  ,     .","-    ,    .","- JSON/  ,     ."):c.push("- AI     ,      . (, ,   )","-   ,  . (     )","-  /    .","- , , , ,       ,    .","-     , (~, ~  ) .","-    .","-  JSON/      .","-       .","-         .","-   ,    ."),r==="single"?i?c.push(`-    (${i})   ,         .`,"-   ,             ."):c.push("-    ,          ."):c.push("-  (///)  ,           .","-      ,    ,           ."),t){case"personality":{c.push("-    /  .","-  ,       ."),(!n||n==="overview"||n==="personality_basic")&&c.push("-        .","  1)   : /, , /,        ,      .","  2)   :    VS   ,   VS   ,  VS      .","  3) /:   ,     , /        .","  4)   : //  ,    ,       .","  5)  :     ,    ,       .","-          ."),n==="personality_shadow"&&c.push("-     ,              .","-           ."),n==="personality_relationshipStyle"&&c.push("-    ,   ,       /    ."),n==="personality_workStyle"&&c.push("-     ,     /      ."),n==="personality_stressPattern"&&c.push("-   ,    vs       .","-      (, , ) .");break}case"lifeFlow":{c.push("-         .","-   ,      .","-  , 20, 30    ,       .","-    ,        ."),n==="lifeFlow_turningPoint"&&c.push("-       ,        .");break}case"love":{c.push("-   //   .","-  ,   ,      ."),(!n||n==="overview"||n==="love_pattern")&&c.push("-      ,     ,       ."),n==="love_timing"&&c.push("-     ,    ,       ."),n==="love_partner"&&c.push("-    ,        ."),n==="love_current"&&c.push("-       ,     ,     ."),n==="love_breakup"&&c.push("- /   ,      ,     ."),n==="love_marriageChange"&&c.push("-          ."),a==="solo"?c.push("-  ' ,  /   ' .","-     ,      .","-    , /     ."):a==="couple"&&c.push("-  '  ,      ' .","-            .","-      /   .","-      ,        .");break}case"career":{c.push("-   ///  .","-    ,      ,     ."),(!n||n==="overview")&&c.push("-  / VS       ,    .","-    VS          ."),n==="career_aptitude"&&c.push("-   (: , ,  ,  )    ."),n==="career_mode"&&c.push("- , , ,        ."),n==="career_jobChange"&&c.push("- /   ,    ,    ."),n==="career_promotion"&&c.push("-     ,    (, ,  )  ."),(n==="career_study"||n==="career_exam")&&c.push("- /   ,        .");break}case"money":{c.push("-   //  .","-     ,  ,   ,   ."),(!n||n==="overview"||n==="money_flow")&&c.push("-   ( ,  ,  )   ."),n==="money_income"&&c.push("- , ,        ( , ,  )  ."),n==="money_spending"&&c.push("-   ,   ,        ."),(n==="money_saving"||n==="money_asset")&&c.push("-   ,        ,   ."),n==="money_debt"&&c.push("- /      ,       ."),n==="money_invest"&&c.push("- /   ,          ."),n==="money_bigEvent"&&c.push("- , ,         ,      .");break}case"family":{c.push("-   /   .","- ()  ()        ."),(!n||n==="overview"||n==="family_current")&&c.push("-        ,     ."),(n==="family_origin"||n==="family_parents")&&c.push("-     (, ,  )     ."),n==="family_siblings"&&c.push("-   (  , / ) ."),n==="family_children"&&c.push("-   ,            .");break}case"baby":{c.push("-   //   .","-   ,   ,      ."),(!n||n==="overview")&&c.push("-         ,   ."),n==="baby_pregnancy"&&c.push("-     ,        ."),n==="baby_birth"&&c.push("-     ,  , ,      ."),n==="baby_selection"&&c.push("-     ,         .");break}case"health":{c.push("-   /  .","-    ,   (, , ,  ) ."),(!n||n==="overview"||n==="health_overall")&&c.push("-   (:   /     )   ."),n==="health_physical"&&c.push("-    (, ,   )   ."),n==="health_mental"&&c.push("-    (, ,  ) ,        ."),n==="health_stress"&&c.push("-      ,      ."),n==="health_accident"&&c.push("- /   ,    ,   (, ,  )  .");break}case"move":{c.push("-   /  .","-    , ,     ."),(!n||n==="overview"||n==="move_chance")&&c.push("-    ,         ."),n==="move_timing"&&c.push("-    ,           ."),n==="move_targetHouse"&&c.push("-     ,   ,      ,      ."),n==="move_environment"&&c.push("- / (, ,  )     ."),n==="move_finance"&&c.push("- //      ,       .");break}case"social":{c.push("-   //  .","-  ,  ,      ."),(!n||n==="overview"||n==="social_overall")&&c.push("-       ."),n==="social_friend"&&c.push("-      ,      ."),n==="social_workspace"&&c.push("-      (, ,  ) ."),n==="social_network"&&c.push("-   (  vs   )    ,    ."),n==="social_conflict"&&c.push("-    ,  ,      ,    .");break}case"compat":{c.push("-   /   .","-  /  ,        ."),(!n||n==="overview"||n==="compat_overall")&&c.push("-     , //      ."),(n==="compat_love"||n==="compat_marriage")&&c.push("- /  ,  ,        ."),n==="compat_work"&&c.push("- /   ,  ,     ."),(n==="compat_family"||n==="compat_friend")&&c.push("- /       ,       .");break}case"risk":{c.push("-   /   .","-  ,        ."),(!n||n==="overview")&&c.push("- , , ,           ."),n==="risk_money"&&c.push("-   ( , ,   ) ,       ."),n==="risk_relationship"&&c.push("-      (, ,   )  ."),n==="risk_health"&&c.push("- /  ,        ."),n==="risk_lawsuit"&&c.push("-  //     ,         ."),n==="risk_burnout"&&c.push("- /    ,          .");break}case"meta":{c.push("-         .","-    ,         ,     ."),(n==="meta_structure"||!n||n==="overview")&&c.push("-     / ,     ."),n==="meta_cycle"&&c.push("- /   ,     ."),n==="meta_trigger"&&c.push("- , ,           ,   ."),n==="meta_usage"&&c.push("-         ,        .");break}}return c.join(`
`)}function iwe({date:e,onChange:t,min:n="1900-01-01",max:r="2100-12-31"}){const i=A.useMemo(()=>{const s=e.getFullYear(),c=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${s}-${c}-${d}`},[e]),a=s=>{if(!s)return;const[c,d,f]=s.split("-"),m=Number(c),p=Number(d),y=Number(f),b=e.getHours(),x=e.getMinutes(),T=new Date(m,p,0).getDate(),E=Math.min(y,T),j=new Date(m,p-1,E,b,x);Number.isNaN(j.getTime())||t(j)};return _.jsx("input",{type:"date",value:i,onChange:s=>a(s.target.value),min:n,max:r,className:"w rounded-md border border-neutral-300 dark:border-neutral-700 bg-transparent px-2 py-1 text-sm"})}const xS={analysis:{label:"",desc:`-   ,   
- "     "  
- ST   `},mentor:{label:"",desc:`-        
-   X,   X
-    ~~  `},speed:{label:"",desc:`-   
- 2~4  
-    `},dryHumor:{label:"",desc:`-   +  
-           `},softWarm:{label:"",desc:`-      
-    `},ect:{label:"",desc:"-    "}},awe=["","","","",""],t8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},n8={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},S3={personality:{label:"     "},lifeFlow:{label:"    "},love:{label:"    "},career:{label:"      "},money:{label:"      "},family:{label:"      "},baby:{label:"    "},health:{label:"      "},move:{label:"       "},social:{label:"     "},compat:{label:"   "},risk:{label:"    "},meta:{label:"    "},etc:{label:"  "}},E3={personality:[{key:"overview",label:"  "},{key:"personality_basic",label:"  "},{key:"personality_shadow",label:" "},{key:"personality_relationshipStyle",label:"  "},{key:"personality_workStyle",label:"  "},{key:"personality_stressPattern",label:" "}],lifeFlow:[{key:"overview",label:"  "},{key:"lifeFlow_cycle",label:" "},{key:"lifeFlow_turningPoint",label:""},{key:"lifeFlow_peak",label:""},{key:"lifeFlow_down",label:""},{key:"lifeFlow_theme",label:"  "}],love:[{key:"love_pattern",label:" "},{key:"love_timing",label:" /"},{key:"love_partner",label:" "},{key:"love_current",label:" / "},{key:"love_breakup",label:"/ "},{key:"love_marriageChange",label:" "}],career:[{key:"career_aptitude",label:" "},{key:"career_mode",label:" vs /"},{key:"career_jobChange",label:"/ "},{key:"career_promotion",label:""},{key:"career_study",label:""},{key:"career_exam",label:""}],money:[{key:"overview",label:"  "},{key:"money_flow",label:"  "},{key:"money_income",label:""},{key:"money_spending",label:" "},{key:"money_saving",label:" "},{key:"money_asset",label:" "},{key:"money_debt",label:" "},{key:"money_invest",label:" "},{key:"money_bigEvent",label:"  "}],family:[{key:"overview",label:"  "},{key:"family_origin",label:"()"},{key:"family_current",label:" "},{key:"family_parents",label:" "},{key:"family_siblings",label:" "},{key:"family_children",label:""},{key:"family_care",label:" "}],baby:[{key:"overview",label:" "},{key:"baby_pregnancy",label:"  "},{key:"baby_birth",label:"  "},{key:"baby_selection",label:"  "}],health:[{key:"overview",label:" "},{key:"health_overall",label:" "},{key:"health_physical",label:" "},{key:"health_mental",label:" "},{key:"health_stress",label:" "},{key:"health_accident",label:" "}],move:[{key:"overview",label:"  "},{key:"move_timing",label:" "},{key:"move_chance",label:"  "},{key:"move_targetHouse",label:"   "},{key:"move_environment",label:" "},{key:"move_finance",label:" "}],social:[{key:"overview",label:" "},{key:"social_overall",label:"  "},{key:"social_friend",label:"  "},{key:"social_workspace",label:"  "},{key:"social_network",label:""},{key:"social_conflict",label:" "}],compat:[{key:"overview",label:"  "},{key:"compat_overall",label:"  "},{key:"compat_love",label:" "},{key:"compat_marriage",label:"  "},{key:"compat_work",label:" "},{key:"compat_family",label:"  "},{key:"compat_friend",label:" "}],risk:[{key:"overview",label:" "},{key:"risk_money",label:" "},{key:"risk_relationship",label:" "},{key:"risk_health",label:" "},{key:"risk_lawsuit",label:" "},{key:"risk_burnout",label:" "}],meta:[{key:"overview",label:"  "},{key:"meta_structure",label:"  "},{key:"meta_cycle",label:"  "},{key:"meta_trigger",label:"  "},{key:"meta_usage",label:"  "}],etc:[]};function Td(e){if(!e)return"";if(e.length===2)return e;const t=e.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),n=t.match(/([]).*?([])/);if(n)return`${n[1]}${n[2]}`;const r=t.match(/([]).*?([])/);if(r){const i=t8[r[1]],a=n8[r[2]];return i&&a?`${i}${a}`:""}return""}function A3(e){return e[0]?.length===2&&e[1]?.length===2&&e[2]?.length===2}function T3(e){const t=Array.isArray(e)?e.slice(0,4):[];for(;t.length<4;)t.push("");return t.map((n,r)=>{if(!n)return"";const i=n.replace(/[()[\]{}]/g,"").replace(/\s+/g,"").replace(/[:\-_.]/g,""),a=i.match(/([]).*?([])/);if(a)return`${a[1]}${a[2]}`;const s=i.match(/([]).*?([])/);return s?`${t8[s[1]]}${n8[s[2]]}`:r<=2?"--":""})}function owe({ms:e,natal:t,chain:n,basis:r,lunarPillars:i,includeTenGod:a=!1}){const[s,c]=A.useState("analysis"),[d,f]=A.useState(!1),[m,p]=A.useState(!1),{date:y,setDate:b}=Di();A.useEffect(()=>{b(new Date)},[e.id,b]);const{list:x,currentId:T}=ho.getState(),[E,j]=A.useState(""),[D,O]=A.useState("personality"),[M,N]=A.useState("overview"),R=A.useMemo(()=>E?x.find(_e=>_e.id===E)??null:null,[E,x]),[$,z]=A.useState(""),[G,V]=A.useState("solo");A.useEffect(()=>{D!=="love"&&D!=="compat"&&(V("solo"),j(""))},[D]);const[H,U]=A.useState(!1),[Z,re]=A.useState(""),[ve,J]=A.useState([]),[ae,ne]=A.useState(new Date().getFullYear()),[ce,te]=A.useState(new Date().getFullYear()),[Y,B]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[X,ee]=A.useState(()=>{const _e=new Date;return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}),[q,W]=A.useState(()=>{const _e=new Date,Ye=_e.getFullYear(),ht=String(_e.getMonth()+1).padStart(2,"0"),_t=String(_e.getDate()).padStart(2,"0");return`${Ye}-${ht}-${_t}`}),[le,fe]=A.useState(()=>{const _e=new Date,Ye=_e.getFullYear(),ht=String(_e.getMonth()+1).padStart(2,"0"),_t=String(_e.getDate()).padStart(2,"0");return`${Ye}-${ht}-${_t}`}),Q=1e3*60*60*24;function de(_e,Ye){return(Ye.getFullYear()-_e.getFullYear())*12+(Ye.getMonth()-_e.getMonth())}function we(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`}function se(_e){return`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}-${String(_e.getDate()).padStart(2,"0")}`}const Ne=_e=>{ne(_e)},be=_e=>{te(_e)},Le=()=>{const _e=ae;let Ye=ce;Ye<_e&&(Ye=_e),Ye-_e>9&&(Ye=_e+9),te(Ye)},Me=()=>{let _e=ae;const Ye=ce;Ye<_e&&(_e=Ye),Ye-_e>9&&(_e=Ye-9),ne(_e)},Ie=_e=>{B(_e)},Be=()=>{const[_e,Ye]=Y.split("-").map(Number),[ht,_t]=X.split("-").map(Number),ot=new Date(_e,Ye-1),gt=new Date(ht,_t-1);if(gt<ot){ee(we(ot));return}if(de(ot,gt)>11){const bt=new Date(ot);bt.setMonth(ot.getMonth()+11),ee(we(bt))}},ye=_e=>{ee(_e)},$e=()=>{const[_e,Ye]=Y.split("-").map(Number),[ht,_t]=X.split("-").map(Number),ot=new Date(_e,Ye-1),gt=new Date(ht,_t-1);if(gt<ot){B(we(gt));return}if(de(ot,gt)>11){const bt=new Date(gt);bt.setMonth(gt.getMonth()-11),B(we(bt))}},he=_e=>{W(_e)},ge=()=>{if(!q||!le)return;const[_e,Ye,ht]=q.split("-").map(Number),[_t,ot,gt]=le.split("-").map(Number),Tt=new Date(_e,Ye-1,ht,4,0,0),bt=new Date(_t,ot-1,gt,4,0,0);if(bt<Tt){fe(se(Tt));return}if(Math.floor((bt.getTime()-Tt.getTime())/Q)>7){const kt=new Date(Tt);kt.setDate(Tt.getDate()+6),fe(se(kt))}},Ue=_e=>{fe(_e)},ze=()=>{if(!q||!le)return;const[_e,Ye,ht]=q.split("-").map(Number),[_t,ot,gt]=le.split("-").map(Number),Tt=new Date(_e,Ye-1,ht,4,0,0),bt=new Date(_t,ot-1,gt,4,0,0);if(Tt>bt){W(se(bt));return}if(Math.floor((bt.getTime()-Tt.getTime())/Q)>7){const kt=new Date(bt);kt.setDate(bt.getDate()-6),W(se(kt))}},He=e.mingSikType??"/",ut=A.useMemo(()=>{if(n)return{dae:n.dae??null,se:n.se??null,wol:n.wol??null,il:n.il??null};const _e=y??new Date,Ye=Td(pt(_e)||""),ht=Td(Mt(_e)||""),_t=Td(At(_e,He)||"");return{dae:null,se:Ye||null,wol:ht||null,il:_t||null}},[n,y,He]),it=Hm.getState().manualHour,tn=A.useMemo(()=>T3(t),[t]),Kn=A.useMemo(()=>T3(i),[i]),zn=A.useMemo(()=>{const _e=[...tn];return(!_e[3]||_e[3]==="")&&it&&(_e[3]=it.stem+it.branch),_e},[tn,it]),Ur=A.useMemo(()=>{const _e=[...Kn];return(!_e[3]||_e[3]==="")&&it&&(_e[3]=it.stem+it.branch),_e},[Kn,it]),ti=A.useMemo(()=>{const _e=Number(e.birthDay?.slice(0,4)),Ye=Number(e.birthDay?.slice(4,6)),ht=Number(e.birthDay?.slice(6,8));if(!Number.isFinite(_e)||!Number.isFinite(Ye)||!Number.isFinite(ht))return null;const _t=new Date(_e,Ye-1,ht,12,4,0,0),ot=Td(pt(_t)||""),gt=Td(Mt(_t)||""),Tt=Td(At(_t,He)||"");return[ot,gt,Tt,""]},[e.birthDay,He]),En=A3(zn),$t=A3(Ur),[Cn]=A.useState("solar"),An=Cn==="lunar"?$t?"lunar":En?"solar":"lunar":En?"solar":$t?"lunar":"solar",Ii=A.useMemo(()=>{const Ye=[...An==="lunar"?$t?Ur:En?zn:ti??["","","",""]:En?zn:$t?Ur:ti??["","","",""]];return(!Ye[3]||Ye[3]==="")&&it&&(Ye[3]=it.stem+it.branch),Ye},[An,En,$t,zn,Ur,ti,it]),Ks=A.useMemo(()=>it?it.stem+it.branch:Ii[3]||"",[it,Ii]);(!t||t.length===0)&&(t=Ay(e));const Ga=it?it.stem+it.branch:"",Un=A.useMemo(()=>{const _e=Ay(e);return Ga&&Ga.length===2&&(_e[3]=Ga),_e},[e,Ga]),Wn=A.useMemo(()=>G5({natal:Un,tab:$,chain:ut,hourKey:Ks}),[Un,$,ut,Ks]);function _o(_e){return F5(_e,{criteriaMode:"modern",useHarmonyOverlay:!0})}const mi=_o(Un),Hr=A.useMemo(()=>fA(mi),[mi]),fa=A.useMemo(()=>g5(Hr),[Hr]),Ws=A.useMemo(()=>{const _e=Fz(e).slice(0,10),Ye=e.birthDay?Number(e.birthDay.slice(0,4)):0;return _e.map((ht,_t)=>{const ot=ht.match(/(\d{4})\s+(\d{1,2})\s+([-]{2})\s+/),gt=ot?Number(ot[1]):0,Tt=ot?Number(ot[2]):1,bt=1,ir=ot?ot[3]:"",kt=Ye>0?swe(Ye,gt):_t*10;return{gz:ir,age:kt,startYear:gt,startMonth:Tt,startDay:bt,endYear:gt+10}})},[e]),Jl=E3[D],Ql=A.useMemo(()=>e?Jxe({ms:e,natal:Un,chain:ut,basis:r,tab:$,unified:Wn,percent:Hr,category:fa,topic:D,subTopic:M,relationMode:G,teacherMode:m}):"",[e,r,a,$,ut,Wn,Hr,fa,Un,D,M,G,R,m]),qa=A.useMemo(()=>{if(!e||!H)return"";const _e=ve.map(ot=>Ws[ot]).filter(ot=>ot),Ye=Z===""?(()=>{const ot=[];for(let gt=ae;gt<=ce&&ot.length<10;gt++)ot.push(gt);return ot})():[],ht=Z===""?(()=>{const ot=[],[gt,Tt]=Y.split("-").map(Number),[bt,ir]=X.split("-").map(Number),kt=new Date(gt,Tt-1),Zs=new Date(bt,ir-1);for(;kt<=Zs&&ot.length<12;)ot.push(`${kt.getFullYear()}-${String(kt.getMonth()+1).padStart(2,"0")}`),kt.setMonth(kt.getMonth()+1);return ot})():[],_t=Z===""?(()=>{const ot=[],[gt,Tt,bt]=q.split("-").map(Number),[ir,kt,Zs]=le.split("-").map(Number),rc=new Date(gt,Tt-1,bt,4,0,0),ma=new Date(ir,kt-1,Zs,4,0,0);if(isNaN(rc.getTime())||isNaN(ma.getTime()))return ot;const Or=new Date(rc);for(;Or<=ma&&ot.length<31;){const Ko=Or.getFullYear(),ic=String(Or.getMonth()+1).padStart(2,"0"),ac=String(Or.getDate()).padStart(2,"0");ot.push(`${Ko}-${ic}-${ac}`),Or.setDate(Or.getDate()+1)}return ot})():[];return rwe({ms:e,natal:Un,basis:r,unified:Wn,percent:Hr,category:fa,selectedDaeList:_e,daeList:Ws,seYears:Ye,wolMonths:ht,ilDays:_t,topic:D,subTopic:M,teacherMode:m})},[e,H,Z,ve,Ws,ae,ce,Y,X,q,le,Un,r,a,Wn,Hr,fa,D,M,G,R,m]),ec=A.useMemo(()=>{if(G!=="couple"||!R)return"";const _e=R.name||"";let Ye="";if(R.birthDay&&R.birthDay.length===8){const gt=R.birthDay.slice(0,4),Tt=R.birthDay.slice(4,6),bt=R.birthDay.slice(6,8);Ye=`${gt}-${Tt}-${bt}`}else R.birthDay&&(Ye=R.birthDay);let ht="";if(R.birthTime&&R.birthTime.trim().length>0){const Tt=R.birthTime.trim().padEnd(4,"0").slice(0,4),bt=Tt.slice(0,2),ir=Tt.slice(2,4);ht=`${bt}:${ir}`}let _t="";R.birthPlace&&typeof R.birthPlace=="object"&&(_t=R.birthPlace.name||"");const ot=R.ganji||R.ganjiText||"";return["","","[  - () ]"," ",`-  : ${_e}`,`-  : ${Ye}`,`-   : ${ht}`,`-   : ${_t}`,`- ${ot}`,""," //,       ,","           .",""].join(`
`)},[G,R]),Vs=H?qa:Ql,tc=A.useMemo(()=>{switch(s){case"analysis":return`     .
`;case"mentor":return`      .
`;case"speed":return`     .
`;case"dryHumor":return`   ,    .
`;case"softWarm":return`    .
`;default:return""}},[s]),nc=d?`   ,   .
`:"",rr=A.useMemo(()=>Vs||ec?`${Vs}${ec}
${tc}${nc}`:"",[tc,nc,Vs,ec]),[Xe,Yo]=A.useState(""),[pi,Fr]=A.useState([]);A.useEffect(()=>{Yo(""),Fr([])},[e.id]);const gn=A.useMemo(()=>{if(!rr)return"";if(pi.length===0)return rr;const _e=["","-----","     ","",...pi.map((Ye,ht)=>`${ht+1}. ${Ye}`)];return`${rr}
${_e.join(`
`)}`},[rr,pi]),[Hn,$i]=A.useState(!1);async function ha(){if(gn)try{await navigator.clipboard.writeText(gn),$i(!0),setTimeout(()=>$i(!1),1200)}catch{$i(!1)}}return e?_.jsxs("div",{className:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("div",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-200",children:"GPT  "}),_.jsx("button",{onClick:ha,className:`px-3 py-1 rounded-md text-xs cursor-pointer ${Hn?"bg-green-600 text-white":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:Hn?"!":" "})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"w-full mt-2 p-2 border rounded-md bg-neutral-50 dark:bg-neutral-800",children:[_.jsx("div",{className:"text-xs font-semibold mb-1 text-neutral-700 dark:text-neutral-200",children:"  "}),_.jsx("div",{className:"flex gap-1.5 mb-2",children:Object.keys(xS).map(_e=>_.jsx("button",{onClick:()=>c(_e),className:`flex-1 px-2 py-1 text-[10px] rounded border cursor-pointer ${s===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-white dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200"}`,children:xS[_e].label},_e))}),_.jsx("div",{className:"text-[11px] whitespace-pre-line text-neutral-600 dark:text-neutral-300 leading-4",children:xS[s].desc}),_.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[_.jsxs("div",{className:"mr-1 flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"friendMode",checked:d,onChange:_e=>f(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"friendMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:""})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",id:"teacherMode",checked:m,onChange:_e=>p(_e.target.checked),className:"w-3 h-3"}),_.jsx("label",{htmlFor:"teacherMode",className:"text-[11px] text-neutral-700 dark:text-neutral-200 cursor-pointer",children:"(/)"})]})]})]}),_.jsx("select",{value:D,onChange:_e=>{const Ye=_e.target.value;O(Ye);const ht=E3[Ye];ht.length>0?N(ht[0].key):N("overview"),Ye!=="love"&&Ye!=="compat"&&V("solo")},className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Object.keys(S3).map(_e=>{const Ye=S3[_e];return _.jsx("option",{value:_e,children:Ye.label},_e)})}),Jl.length>0&&_.jsx("select",{value:M,onChange:_e=>N(_e.target.value),className:"px-2.5 h-30 h-8 text-[11px] rounded-md border bg-white dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 border-neutral-200 dark:border-neutral-700",children:Jl.map(_e=>_.jsx("option",{value:_e.key,children:_e.label},_e.key))})]}),(D==="love"||D==="compat")&&_.jsxs("div",{className:"flex flex-col gap-1.5 text-[11px] text-neutral-700 dark:text-neutral-200",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:" "}),_.jsxs("div",{className:"inline-flex rounded-full border border-neutral-200 dark:border-neutral-700 overflow-hidden",children:[_.jsx("button",{type:"button",onClick:()=>V("solo"),className:`px-3 py-1 cursor-pointer ${G==="solo"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "}),_.jsx("button",{type:"button",onClick:()=>V("couple"),className:`px-3 py-1 cursor-pointer ${G==="couple"?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-50 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:" "})]})]}),G==="couple"&&_.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[_.jsx("span",{className:"font-semibold",children:"  "}),_.jsxs("select",{value:E,onChange:_e=>j(_e.target.value),className:"min-w-[180px] h-30 px-2 py-1 border rounded bg-white dark:bg-neutral-800",children:[_.jsx("option",{value:"",children:"  "}),x.filter(_e=>_e.id!==T).map(_e=>_.jsxs("option",{value:_e.id,children:[_e.name||" "," ",_e.birthDay?`(${_e.birthDay})`:""]},_e.id))]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>U(!1),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${H?"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300":"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black"}`,children:" "}),_.jsx("button",{onClick:()=>U(!0),className:`px-3 py-1.5 text-xs rounded-md border cursor-pointer ${H?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:""})]}),!H&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex desk:justify-between flex-col desk:flex-row gap-2",children:[_.jsx("div",{className:"flex gap-1 flex-wrap",children:awe.map(_e=>_.jsx("button",{onClick:()=>z(_e),className:`px-2 py-1 text-xs rounded-md border cursor-pointer ${$===_e?"bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-300"}`,children:_e},_e))}),_.jsx(iwe,{date:y,onChange:b})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsx("p",{children:"     ."}),_.jsx("p",{children:"  ,  ."}),_.jsx("p",{children:"   ,   ."})]})]}),H&&_.jsxs("div",{className:"space-y-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[_.jsx("div",{className:"flex gap-1.5 border-b pb-2",children:["","","",""].map(_e=>_.jsx("button",{onClick:()=>re(_e),className:`px-3 py-1.5 text-xs rounded-md cursor-pointer transition-colors ${Z===_e?"bg-blue-600 text-white font-semibold":"bg-white dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-600"}`,children:_e},_e))}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  (  )"}),_.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:Ws.map((_e,Ye)=>_.jsxs("button",{onClick:()=>{J(ht=>ht.includes(Ye)?ht.filter(_t=>_t!==Ye):[...ht,Ye])},className:`px-2 py-1.5 text-xs rounded border cursor-pointer text-left ${ve.includes(Ye)?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-neutral-700 border-neutral-300 dark:border-neutral-600"}`,children:[_.jsx("div",{className:"font-mono",children:_e.gz}),_.jsxs("div",{className:"text-[10px] opacity-80",children:[_e.age," (",_e.startYear,"~",_e.endYear,")"]})]},Ye))})]}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 10)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",value:ae,onChange:_e=>Ne(Number(_e.target.value)),onBlur:Le,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"number",value:ce,onChange:_e=>be(Number(_e.target.value)),onBlur:Me,className:"w-24 h-30 px-2 text-[16px] desk:text-xs border rounded bg-white dark:bg-neutral-700",placeholder:""})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",ce-ae+1,""]})]}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 12)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"month",value:Y,onChange:_e=>Ie(_e.target.value),onBlur:Be,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"month",value:X,onChange:_e=>ye(_e.target.value),onBlur:$e,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,Ye]=Y.split("-").map(Number),[ht,_t]=X.split("-").map(Number);return(ht-_e)*12+(_t-Ye)+1})(),""]})]}),Z===""&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-2 text-neutral-700 dark:text-neutral-200",children:"  ( 7)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"date",value:q,onChange:_e=>he(_e.target.value),onBlur:ge,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"}),_.jsx("span",{className:"text-xs",children:"~"}),_.jsx("input",{type:"date",value:le,onChange:_e=>Ue(_e.target.value),onBlur:ze,className:"px-2 py-1 text-xs border rounded bg-white dark:bg-neutral-700"})]}),_.jsxs("div",{className:"text-[10px] text-neutral-500 dark:text-neutral-400 mt-1",children:[" :"," ",(()=>{const[_e,Ye,ht]=q.split("-").map(Number),[_t,ot,gt]=le.split("-").map(Number),Tt=new Date(_e,Ye-1,ht,4,0,0),bt=new Date(_t,ot-1,gt,4,0,0);return isNaN(Tt.getTime())||isNaN(bt.getTime())||bt<Tt?0:Math.floor((bt.getTime()-Tt.getTime())/Q)+1})(),""]})]}),_.jsxs("div",{className:"text-[11px] text-neutral-500 dark:text-neutral-400",children:[_.jsxs("p",{children:[" ",Z,"   ."]}),_.jsx("p",{children:"    ."})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex items-center justify-between gap-2",children:[_.jsx("div",{className:"text-xs font-semibold text-neutral-700 dark:text-neutral-200",children:"   ()"}),pi.length>0&&_.jsx("button",{type:"button",onClick:()=>Fr([]),className:"px-2 py-1 text-[10px] rounded-md border border-neutral-300 dark:border-neutral-600 text-neutral-500 dark:text-neutral-300 cursor-pointer",children:" "})]}),_.jsx("textarea",{value:Xe,onChange:_e=>Yo(_e.target.value),placeholder:" GPT     , ' '  .",rows:3,className:"w-full text-[16px] desk:text-xs rounded-md border bg-white dark:bg-neutral-800 p-2"}),_.jsxs("div",{className:"mb-4 text-center",children:[_.jsx("button",{type:"button",onClick:()=>{const _e=Xe.trim();_e&&(Fr(Ye=>[...Ye,_e]),Yo(""))},className:"w-full desk:max-w-[160px] px-1 py-1.5 text-xs rounded-md border bg-neutral-900 text-white dark:bg-yellow-500 dark:text-black cursor-pointer",children:" "}),pi.length>0&&_.jsxs("div",{className:"flex-1 text-[11px] text-neutral-500 dark:text-neutral-400 text-right",children:[" "," ",pi.length,""]})]}),pi.length>0&&_.jsx("ul",{className:"mt-1 space-y-1 max-h-24 overflow-y-auto text-[11px] text-neutral-700 dark:text-neutral-200",children:pi.map((_e,Ye)=>_.jsxs("li",{className:"flex gap-1 items-start",children:[_.jsxs("span",{className:"shrink-0",children:[Ye+1,"."]}),_.jsx("span",{className:"whitespace-pre-wrap break-words flex-1",children:_e}),_.jsx("button",{type:"button",onClick:()=>{Fr(ht=>ht.filter((_t,ot)=>ot!==Ye))},className:"shrink-0 ml-2 text-[10px] text-red-500 hover:underline",children:""})]},Ye))})]}),_.jsx("textarea",{readOnly:!0,value:gn,placeholder:"   .",className:"w-full min-h-[320px] text-xs font-mono rounded-md border bg-neutral-50 dark:bg-neutral-800 p-2"})]}):_.jsx("div",{className:"p-4 border rounded bg-neutral-50 dark:bg-neutral-900 text-sm text-neutral-500",children:"   ."})}function swe(e,t){return t-e+1}function lwe(e){const t=Di(i=>i.date),n=Di(i=>i.rule),r=Km(e);return A.useMemo(()=>{if(!e)return{dae:null,se:null,wol:null,il:null};const i=Zy(r,t),a=i>=0?r[i]?.gz??null:null,s=pt(t),c=Mt(t),d=At(t,n);return{dae:a,se:s,wol:c,il:d}},[e,r,t,n])}function cwe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(!1);A.useEffect(()=>{setTimeout(()=>t(!0),50),setTimeout(()=>r(!0),250),setTimeout(()=>a(!0),450)},[]);const m=async()=>{if(!d){HF.error(`   
  .`);return}const{error:p}=await Ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});p&&(console.error("Google Login Error:",p),alert("   ."))};return _.jsxs("main",{className:`flex min-h-screen items-center justify-center bg-neutral-950 text-white px-4 transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:[_.jsxs("div",{className:`transform transition-all duration-500 ${n?"translate-y-0 opacity-100":"translate-y-4 opacity-0"} absolute top-16 text-center`,children:[_.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-1",children:""}),_.jsx("p",{className:"text-sm text-neutral-400",children:"    "})]}),_.jsxs("div",{className:`w-full max-w-sm rounded-2xl bg-neutral-900 p-8 shadow-xl border border-neutral-800 transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-6"}`,children:[_.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight text-center",children:""}),_.jsxs("p",{className:"mb-6 text-sm text-neutral-400 text-center leading-relaxed",children:["  .",_.jsx("br",{}),"     "]}),_.jsx("div",{className:"mb-5 space-y-2",children:_.jsxs("label",{className:"flex items-start gap-2 text-sm text-neutral-300 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:d,onChange:()=>f(!d),className:"mt-[2px]"}),_.jsxs("span",{children:["  .",_.jsx("button",{type:"button",onClick:()=>c(!0),className:"ml-1 underline text-orange-400 hover:text-orange-300 cursor-pointer",children:"( )"})]})]})}),_.jsxs("button",{type:"button",onClick:m,"aria-disabled":!d,className:`flex items-center justify-center gap-3 w-full py-3 rounded-lg font-medium text-sm shadow transition-all 
            ${d?"bg-white text-black hover:bg-neutral-100 active:scale-[0.98] cursor-pointer":"bg-neutral-700 text-neutral-400 cursor-pointer"}`,children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google Logo",className:"w-5 h-5 opacity-90"}),_.jsx("span",{children:"  "})]})]}),_.jsx(tI,{position:"top-center",toastOptions:{duration:2e3}}),s&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:_.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-200 p-6 rounded-xl shadow-xl relative animate-fadeInUp",onClick:p=>p.stopPropagation(),children:[_.jsx("h2",{className:"text-lg font-bold mb-4",children:" "}),_.jsxs("div",{className:"text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2",children:[_.jsx("p",{className:"mb-2",children:"( )     ,      ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"1.  "}),_.jsx("p",{className:"mb-2",children:"   ,  (,  )        ( ,  )"}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"2.  "}),_.jsx("p",{className:"mb-2",children:"                   "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"3.  "}),_.jsx("p",{className:"mb-2",children:"                 "}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"4. 3 "}),_.jsx("p",{className:"mb-2",children:"          ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"5. "}),_.jsx("p",{className:"mb-2",children:" Supabase        ."}),_.jsx("p",{className:"font-semibold mt-4 mb-1",children:"6. "}),_.jsx("p",{children:"   : unique950318@gmail.com"})]}),_.jsx("button",{onClick:()=>c(!1),className:"mt-4 w-full py-2 bg-neutral-900 dark:bg-neutral-700 text-white rounded-lg hover:bg-neutral-800 transition",children:""})]})})]})}const uwe={id:"empty",name:"",birthDay:"",birthTime:"",gender:"",birthPlace:{name:"",lat:0,lon:0},relationship:"",memo:"",folder:"",mingSikType:"/",DayChangeRule:"",favorite:!1,dateObj:new Date,corrected:new Date,correctedLocal:"",dayStem:"",ganjiText:"",ganji:"",calendarType:"solar",dir:"forward"};function dwe(){const[e,t]=A.useState(!1),[n,r]=A.useState(!1),[i]=A.useState(()=>typeof window>"u"?!1:window.location.pathname.startsWith("/admin")),a=ho(m=>m.migrateLocalToServer),s=ho(m=>m.loadFromServer),c=ho(m=>m.loading),d=Er(m=>m.loaded),f=Er(m=>m.loadFromServer);return A.useEffect(()=>{const m=Ke;(async()=>{const{data:b,error:x}=await m.auth.getSession();if(x){r(!1),t(!0);return}r(!!b.session),t(!0)})();const{data:{subscription:y}}=m.auth.onAuthStateChange((b,x)=>{r(!!x),t(!0)});return()=>{y.unsubscribe()}},[]),A.useEffect(()=>{n&&(async()=>(await a(),await s(),await f()))()},[n,a,s,f]),e?n?i?_.jsx(Uz,{}):d?c?_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(fwe,{isLoggedIn:n}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})}):_.jsx(cwe,{}):_.jsx("main",{className:"flex min-h-screen items-center justify-center",children:_.jsx("p",{className:"text-sm text-neutral-500",children:"  .."})})}function fwe({isLoggedIn:e}){const{list:t}=ho(),[n,r]=A.useState(()=>t.length>0?t[0].id:""),[i,a]=A.useState(!1),[s,c]=A.useState(!1),[d,f]=A.useState(null),[m,p]=A.useState(!1),[y,b]=A.useState(!1),[x,T]=A.useState(!1);A.useEffect(()=>{p(!0),b(!1)},[]);const E=A.useMemo(()=>t.find(re=>re.id===n)??t[0],[t,n]),j=t.length>0&&!!E&&typeof E.birthDay=="string",D=j?E:uwe,O=A.useMemo(()=>Ay(D),[D]),M=lwe(D),N=re=>typeof re=="string"&&re.length>=2,R=re=>Array.isArray(re)&&re.length===4&&re.every(N),$=()=>a(!0),{settings:z,loadFromServer:G,saveToServer:V,loaded:H}=Er();A.useEffect(()=>{e&&G()},[e,G]),A.useEffect(()=>{!e||!H||V()},[e,H,z,V]);const U=z.sinsalBase===""?"day":"year",Z=z.sinsalBase===""?"day":"year";return _.jsxs("div",{className:"min-h-screen pb-16",children:[_.jsx(Vae,{onOpenSidebar:()=>c(!0),onAddNew:$,onOpenCustom:()=>T(!0)}),_.jsx(Ixe,{open:x,onClose:()=>T(!1),onSave:re=>{r(re.id),p(!1),b(!1),c(!1)}}),_.jsx(tI,{position:"top-center"}),_.jsx(loe,{open:s,onClose:()=>c(!1),onView:re=>{r(re.id),c(!1),p(!1),b(!1);const ve=new Date;ve.setHours(12,0,0,0),Di.getState().setDate(ve),j&&E.id===re.id?(p(!1),b(!1),c(!1)):(r(re.id),c(!1),p(!1),b(!1))},onAddNew:$,onEdit:re=>{f(re),r(re.id),c(!1),p(!1),b(!1)},onDeleteView:()=>{const re=ho.getState().list[0]?.id??"";r(re),p(!0),b(!1)}}),m&&_.jsx(KY,{}),i&&_.jsxs(_.Fragment,{children:[_.jsx("div",{id:"wizard-dim",className:"bg-black opacity-80 fixed inset-0 w-full min-h-full z-99"}),_.jsx("div",{className:"absolute inset-0 transition-opacity duration-150 opacity-100 z-100",children:_.jsx("div",{className:"py-6 pb-16 overflow-y-auto min-h-[100dvh]",children:_.jsx(UJ,{onSave:re=>{r(re.id),p(!1),b(!1),c(!1),requestAnimationFrame(()=>a(!1))},onClose:()=>a(!1)})})})]}),j&&!m&&!y&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(JQ,{data:E,hourTable:E.mingSikType??"/"})}),_.jsx(kxe,{ms:E}),_.jsx("div",{children:_.jsx(bae,{data:E})}),_.jsx("div",{className:"max-w-[640px] mx-auto mb-8",children:_.jsx(owe,{ms:E,natal:R(O)?O:[],chain:M,basis:{voidBasis:U,samjaeBasis:Z},includeTenGod:!0,lunarPillars:[]})})]}),y&&_.jsx("div",{className:"pt-18 pb-4",children:_.jsx(Axe,{people:t})}),d&&_.jsx("div",{className:"fixed inset-0 z-55 flex items-center justify-center bg-black/60",children:_.jsx("div",{className:"bg-white dark:bg-neutral-950 p-4 rounded-xl w-full max-h-[90dvh] max-w-xl shadow-lg",children:_.jsx(poe,{item:d,onClose:()=>{f(null)}})})}),_.jsx(eoe,{onShowToday:()=>{p(!0),b(!1)},onShowCouple:()=>{b(!0),p(!1)}}),_.jsx(Txe,{})]})}const Ty={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdWh5YnlxdXlieGJucXp0eHVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIwOTgsImV4cCI6MjA4MDUzODA5OH0.qAD7S7yRW8GxcRze_3dyirReIy6HvMr9DeET-djp1Fw"};var nm={};const hwe=()=>{const e=typeof import.meta<"u"&&typeof Ty<"u"?Ty:void 0,t=typeof process<"u"?nm.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||nm.NEXT_PUBLIC_IMPERSONATE_API||nm.VITE_IMPERSONATE_API:void 0;return e?.VITE_IMPERSONATE_API||e?.NEXT_PUBLIC_FUNCTION_IMPERSONATE_URL||e?.NEXT_PUBLIC_IMPERSONATE_API||t||null},mwe=()=>{const e=typeof import.meta<"u"&&typeof Ty<"u"?Ty:void 0,t=typeof process<"u"?nm.NEXT_PUBLIC_SUPABASE_ANON_KEY||nm.VITE_SUPABASE_ANON_KEY:void 0;return e?.VITE_SUPABASE_ANON_KEY||e?.NEXT_PUBLIC_SUPABASE_ANON_KEY||t||null};function pwe(){const[e,t]=A.useState(null),[n,r]=A.useState(null),[i,a]=A.useState(null),[s,c]=A.useState([]),[d,f]=A.useState(!1),[m,p]=A.useState(null),y=hwe(),b=mwe();return A.useEffect(()=>{if(typeof window<"u"){const x=window.location.hash?.startsWith("#")?window.location.hash.slice(1):window.location.hash||"",E=new URL(x||"/",window.location.origin).searchParams;t(E.get("userId")),r(E.get("myeongsikId"))}},[]),A.useEffect(()=>{if(!y){p(" API URL   . VITE_IMPERSONATE_API .env.local .");return}if(!e){p("userId .");return}const x=y.startsWith("http");(async()=>{f(!0),p(null);try{const E=new URLSearchParams({userId:e});n&&E.set("myeongsikId",n);const j=x&&b?{Authorization:`Bearer ${b}`,apikey:b}:void 0,D=await fetch(`${y}?${E.toString()}`,{cache:"no-store",headers:j});if(!D.ok){const M=await D.text();throw new Error(M||"fetch error")}const O=await D.json();a(O.profile),c(Array.isArray(O.myeongsik)?O.myeongsik:[])}catch(E){p(E instanceof Error?E.message:String(E))}finally{f(!1)}})()},[e,n,y,b]),d?_.jsx("div",{className:"p-6 text-white",children:"Loading..."}):m?_.jsxs("div",{className:"p-6 text-white",children:["Error: ",m]}):e?_.jsxs("div",{className:"p-6 text-white space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"  "}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["userId: ",e]})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[_.jsx("h2",{className:"text-xl font-semibold mb-3",children:""}),i?_.jsxs("div",{className:"space-y-1 text-sm text-neutral-200",children:[_.jsxs("div",{children:[": ",i.name??"-"]}),_.jsxs("div",{children:[": ",i.nickname??"-"]}),_.jsxs("div",{children:["Email: ",i.email??"-"]}),_.jsxs("div",{children:[" : ",i.mgr_memo??"-"]}),_.jsxs("div",{children:[": ",i.disabled_at?i.disabled_at:""]})]}):_.jsx("div",{className:"text-neutral-400 text-sm",children:" ."})]}),_.jsxs("div",{className:"p-4 bg-neutral-900 border border-neutral-700 rounded",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-xl font-semibold",children:" "}),n&&_.jsxs("div",{className:"text-xs text-neutral-400",children:["myeongsikId: ",n]})]}),s.length===0?_.jsx("div",{className:"text-neutral-400 text-sm",children:" ."}):_.jsx("div",{className:"space-y-3",children:s.map(x=>_.jsxs("div",{className:"p-3 bg-neutral-800 border border-neutral-700 rounded",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"font-semibold",children:x.name||"(no name)"}),x.deleted_at&&_.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-700 text-white",children:"deleted"})]}),_.jsxs("div",{className:"text-sm text-neutral-400",children:["Birth: ",x.birth_json?.birthDay??"-"," "," ",x.created_at?new Date(x.created_at).toLocaleString():"-"]}),x.mgr_memo&&_.jsxs("div",{className:"text-sm text-neutral-300 whitespace-pre-wrap mt-1",children:[": ",x.mgr_memo]})]},x.id))})]})]}):_.jsx("div",{className:"p-6 text-white",children:"userId ."})}OU.createRoot(document.getElementById("root")).render(_.jsx(A.StrictMode,{children:_.jsx(GH,{children:_.jsxs(xH,{children:[_.jsx(G0,{path:"/",element:_.jsx(dwe,{})}),_.jsx(G0,{path:"/admin",element:_.jsx(Uz,{})}),_.jsx(G0,{path:"/impersonate",element:_.jsx(pwe,{})})]})})}));
